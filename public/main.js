var sc0=Object.create;var{getPrototypeOf:rc0,defineProperty:TO,getOwnPropertyNames:bf}=Object;var yf=Object.prototype.hasOwnProperty,_9=(Z,J,Q)=>{for(let K of bf(J))if(!yf.call(Z,K)&&K!=="default")TO(Z,K,{get:()=>J[K],enumerable:!0});if(Q){for(let K of bf(J))if(!yf.call(Q,K)&&K!=="default")TO(Q,K,{get:()=>J[K],enumerable:!0});return Q}},d7=(Z,J,Q)=>{Q=Z!=null?sc0(rc0(Z)):{};let K=J||!Z||!Z.__esModule?TO(Q,"default",{value:Z,enumerable:!0}):Q;for(let X of bf(Z))if(!yf.call(K,X))TO(K,X,{get:()=>Z[X],enumerable:!0});return K};var HJ=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var z9=(Z,J)=>{for(var Q in J)TO(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(K)=>J[Q]=()=>K})};var _=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var yR;var ab=_(()=>{yR={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}});var hE=HJ((ob,tb)=>{(function(Z,J){typeof ob=="object"&&typeof tb<"u"?tb.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs=J()})(ob,function(){var Z=1000,J=60000,Q=3600000,K="millisecond",X="second",U="minute",Y="hour",q="day",W="week",G="month",z="quarter",H="year",F="date",M="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var T=["th","st","nd","rd"],S=P%100;return"["+P+(T[(S-20)%10]||T[S]||T[0])+"]"}},D=function(P,T,S){var f=String(P);return!f||f.length>=T?P:""+Array(T+1-f.length).join(S)+P},L={s:D,z:function(P){var T=-P.utcOffset(),S=Math.abs(T),f=Math.floor(S/60),v=S%60;return(T<=0?"+":"-")+D(f,2,"0")+":"+D(v,2,"0")},m:function P(T,S){if(T.date()<S.date())return-P(S,T);var f=12*(S.year()-T.year())+(S.month()-T.month()),v=T.clone().add(f,G),x=S-v<0,b=T.clone().add(f+(x?-1:1),G);return+(-(f+(S-v)/(x?v-b:b-v))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:G,y:H,w:W,d:q,D:F,h:Y,m:U,s:X,ms:K,Q:z}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},A="en",V={};V[A]=R;var N="$isDayjsObject",E=function(P){return P instanceof k||!(!P||!P[N])},j=function P(T,S,f){var v;if(!T)return A;if(typeof T=="string"){var x=T.toLowerCase();V[x]&&(v=x),S&&(V[x]=S,v=x);var b=T.split("-");if(!v&&b.length>1)return P(b[0])}else{var y=T.name;V[y]=T,v=y}return!f&&v&&(A=v),v||!f&&A},C=function(P,T){if(E(P))return P.clone();var S=typeof T=="object"?T:{};return S.date=P,S.args=arguments,new k(S)},$=L;$.l=j,$.i=E,$.w=function(P,T){return C(P,{locale:T.$L,utc:T.$u,x:T.$x,$offset:T.$offset})};var k=function(){function P(S){this.$L=j(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[N]=!0}var T=P.prototype;return T.parse=function(S){this.$d=function(f){var{date:v,utc:x}=f;if(v===null)return new Date(NaN);if($.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var b=v.match(B);if(b){var y=b[2]-1||0,u=(b[7]||"0").substring(0,3);return x?new Date(Date.UTC(b[1],y,b[3]||1,b[4]||0,b[5]||0,b[6]||0,u)):new Date(b[1],y,b[3]||1,b[4]||0,b[5]||0,b[6]||0,u)}}return new Date(v)}(S),this.init()},T.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},T.$utils=function(){return $},T.isValid=function(){return this.$d.toString()!==M},T.isSame=function(S,f){var v=C(S);return this.startOf(f)<=v&&v<=this.endOf(f)},T.isAfter=function(S,f){return C(S)<this.startOf(f)},T.isBefore=function(S,f){return this.endOf(f)<C(S)},T.$g=function(S,f,v){return $.u(S)?this[f]:this.set(v,S)},T.unix=function(){return Math.floor(this.valueOf()/1000)},T.valueOf=function(){return this.$d.getTime()},T.startOf=function(S,f){var v=this,x=!!$.u(f)||f,b=$.p(S),y=function(a,z0){var J0=$.w(v.$u?Date.UTC(v.$y,z0,a):new Date(v.$y,z0,a),v);return x?J0:J0.endOf(q)},u=function(a,z0){return $.w(v.toDate()[a].apply(v.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(z0)),v)},h=this.$W,p=this.$M,r=this.$D,e="set"+(this.$u?"UTC":"");switch(b){case H:return x?y(1,0):y(31,11);case G:return x?y(1,p):y(0,p+1);case W:var i=this.$locale().weekStart||0,U0=(h<i?h+7:h)-i;return y(x?r-U0:r+(6-U0),p);case q:case F:return u(e+"Hours",0);case Y:return u(e+"Minutes",1);case U:return u(e+"Seconds",2);case X:return u(e+"Milliseconds",3);default:return this.clone()}},T.endOf=function(S){return this.startOf(S,!1)},T.$set=function(S,f){var v,x=$.p(S),b="set"+(this.$u?"UTC":""),y=(v={},v[q]=b+"Date",v[F]=b+"Date",v[G]=b+"Month",v[H]=b+"FullYear",v[Y]=b+"Hours",v[U]=b+"Minutes",v[X]=b+"Seconds",v[K]=b+"Milliseconds",v)[x],u=x===q?this.$D+(f-this.$W):f;if(x===G||x===H){var h=this.clone().set(F,1);h.$d[y](u),h.init(),this.$d=h.set(F,Math.min(this.$D,h.daysInMonth())).$d}else y&&this.$d[y](u);return this.init(),this},T.set=function(S,f){return this.clone().$set(S,f)},T.get=function(S){return this[$.p(S)]()},T.add=function(S,f){var v,x=this;S=Number(S);var b=$.p(f),y=function(p){var r=C(x);return $.w(r.date(r.date()+Math.round(p*S)),x)};if(b===G)return this.set(G,this.$M+S);if(b===H)return this.set(H,this.$y+S);if(b===q)return y(1);if(b===W)return y(7);var u=(v={},v[U]=J,v[Y]=Q,v[X]=Z,v)[b]||1,h=this.$d.getTime()+S*u;return $.w(h,this)},T.subtract=function(S,f){return this.add(-1*S,f)},T.format=function(S){var f=this,v=this.$locale();if(!this.isValid())return v.invalidDate||M;var x=S||"YYYY-MM-DDTHH:mm:ssZ",b=$.z(this),y=this.$H,u=this.$m,h=this.$M,p=v.weekdays,r=v.months,e=v.meridiem,i=function(z0,J0,Q0,t){return z0&&(z0[J0]||z0(f,x))||Q0[J0].slice(0,t)},U0=function(z0){return $.s(y%12||12,z0,"0")},a=e||function(z0,J0,Q0){var t=z0<12?"AM":"PM";return Q0?t.toLowerCase():t};return x.replace(O,function(z0,J0){return J0||function(Q0){switch(Q0){case"YY":return String(f.$y).slice(-2);case"YYYY":return $.s(f.$y,4,"0");case"M":return h+1;case"MM":return $.s(h+1,2,"0");case"MMM":return i(v.monthsShort,h,r,3);case"MMMM":return i(r,h);case"D":return f.$D;case"DD":return $.s(f.$D,2,"0");case"d":return String(f.$W);case"dd":return i(v.weekdaysMin,f.$W,p,2);case"ddd":return i(v.weekdaysShort,f.$W,p,3);case"dddd":return p[f.$W];case"H":return String(y);case"HH":return $.s(y,2,"0");case"h":return U0(1);case"hh":return U0(2);case"a":return a(y,u,!0);case"A":return a(y,u,!1);case"m":return String(u);case"mm":return $.s(u,2,"0");case"s":return String(f.$s);case"ss":return $.s(f.$s,2,"0");case"SSS":return $.s(f.$ms,3,"0");case"Z":return b}return null}(z0)||b.replace(":","")})},T.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},T.diff=function(S,f,v){var x,b=this,y=$.p(f),u=C(S),h=(u.utcOffset()-this.utcOffset())*J,p=this-u,r=function(){return $.m(b,u)};switch(y){case H:x=r()/12;break;case G:x=r();break;case z:x=r()/3;break;case W:x=(p-h)/604800000;break;case q:x=(p-h)/86400000;break;case Y:x=p/Q;break;case U:x=p/J;break;case X:x=p/Z;break;default:x=p}return v?x:$.a(x)},T.daysInMonth=function(){return this.endOf(G).$D},T.$locale=function(){return V[this.$L]},T.locale=function(S,f){if(!S)return this.$L;var v=this.clone(),x=j(S,f,!0);return x&&(v.$L=x),v},T.clone=function(){return $.w(this.$d,this)},T.toDate=function(){return new Date(this.valueOf())},T.toJSON=function(){return this.isValid()?this.toISOString():null},T.toISOString=function(){return this.$d.toISOString()},T.toString=function(){return this.$d.toUTCString()},P}(),w=k.prototype;return C.prototype=w,[["$ms",K],["$s",X],["$m",U],["$H",Y],["$W",q],["$M",G],["$y",H],["$D",F]].forEach(function(P){w[P[1]]=function(T){return this.$g(T,P[0],P[1])}}),C.extend=function(P,T){return P.$i||(P(T,k,C),P.$i=!0),C},C.locale=j,C.isDayjs=E,C.unix=function(P){return C(1000*P)},C.en=V[A],C.Ls=V,C.p={},C})});var L40,D40,I=(Z,J)=>D40(Z,"name",{value:J,configurable:!0}),F1=(Z,J)=>{for(var Q in J)D40(Z,Q,{get:J[Q],enumerable:!0})},mU,Z0,hR,KK;var M9=_(()=>{L40=d7(hE(),1),D40=Object.defineProperty,mU={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Z0={trace:I((...Z)=>{},"trace"),debug:I((...Z)=>{},"debug"),info:I((...Z)=>{},"info"),warn:I((...Z)=>{},"warn"),error:I((...Z)=>{},"error"),fatal:I((...Z)=>{},"fatal")},hR=I(function(Z="fatal"){let J=mU.fatal;if(typeof Z==="string"){if(Z.toLowerCase()in mU)J=mU[Z]}else if(typeof Z==="number")J=Z;if(Z0.trace=()=>{},Z0.debug=()=>{},Z0.info=()=>{},Z0.warn=()=>{},Z0.error=()=>{},Z0.fatal=()=>{},J<=mU.fatal)Z0.fatal=console.error?console.error.bind(console,KK("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",KK("FATAL"));if(J<=mU.error)Z0.error=console.error?console.error.bind(console,KK("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",KK("ERROR"));if(J<=mU.warn)Z0.warn=console.warn?console.warn.bind(console,KK("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",KK("WARN"));if(J<=mU.info)Z0.info=console.info?console.info.bind(console,KK("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",KK("INFO"));if(J<=mU.debug)Z0.debug=console.debug?console.debug.bind(console,KK("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",KK("DEBUG"));if(J<=mU.trace)Z0.trace=console.debug?console.debug.bind(console,KK("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",KK("TRACE"))},"setLogLevel"),KK=I((Z)=>{return`%c${L40.default().format("ss.SSS")} : ${Z} : `},"format")});var mE,I40;var A40=_(()=>{mE={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:(Z)=>Z>=255?255:Z<0?0:Z,g:(Z)=>Z>=255?255:Z<0?0:Z,b:(Z)=>Z>=255?255:Z<0?0:Z,h:(Z)=>Z%360,s:(Z)=>Z>=100?100:Z<0?0:Z,l:(Z)=>Z>=100?100:Z<0?0:Z,a:(Z)=>Z>=1?1:Z<0?0:Z},toLinear:(Z)=>{let J=Z/255;return Z>0.03928?Math.pow((J+0.055)/1.055,2.4):J/12.92},hue2rgb:(Z,J,Q)=>{if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<0.16666666666666666)return Z+(J-Z)*6*Q;if(Q<0.5)return J;if(Q<0.6666666666666666)return Z+(J-Z)*(0.6666666666666666-Q)*6;return Z},hsl2rgb:({h:Z,s:J,l:Q},K)=>{if(!J)return Q*2.55;Z/=360,J/=100,Q/=100;let X=Q<0.5?Q*(1+J):Q+J-Q*J,U=2*Q-X;switch(K){case"r":return mE.hue2rgb(U,X,Z+0.3333333333333333)*255;case"g":return mE.hue2rgb(U,X,Z)*255;case"b":return mE.hue2rgb(U,X,Z-0.3333333333333333)*255}},rgb2hsl:({r:Z,g:J,b:Q},K)=>{Z/=255,J/=255,Q/=255;let X=Math.max(Z,J,Q),U=Math.min(Z,J,Q),Y=(X+U)/2;if(K==="l")return Y*100;if(X===U)return 0;let q=X-U,W=Y>0.5?q/(2-X-U):q/(X+U);if(K==="s")return W*100;switch(X){case Z:return((J-Q)/q+(J<Q?6:0))*60;case J:return((Q-Z)/q+2)*60;case Q:return((Z-J)/q+4)*60;default:return-1}}},I40=mE});var _t0,N40;var E40=_(()=>{_t0={clamp:(Z,J,Q)=>{if(J>Q)return Math.min(J,Math.max(Q,Z));return Math.min(Q,Math.max(J,Z))},round:(Z)=>{return Math.round(Z*10000000000)/10000000000}},N40=_t0});var ft0,V40;var P40=_(()=>{ft0={dec2hex:(Z)=>{let J=Math.round(Z).toString(16);return J.length>1?J:`0${J}`}},V40=ft0});var vt0,t8;var XX=_(()=>{A40();E40();P40();vt0={channel:I40,lang:N40,unit:V40},t8=vt0});var uU,B7;var mR=_(()=>{XX();uU={};for(let Z=0;Z<=255;Z++)uU[Z]=t8.unit.dec2hex(Z);B7={ALL:0,RGB:1,HSL:2}});class j40{constructor(){this.type=B7.ALL}get(){return this.type}set(Z){if(this.type&&this.type!==Z)throw Error("Cannot change both RGB and HSL channels at the same time");this.type=Z}reset(){this.type=B7.ALL}is(Z){return this.type===Z}}var C40;var S40=_(()=>{mR();C40=j40});class T40{constructor(Z,J){this.color=J,this.changed=!1,this.data=Z,this.type=new C40}set(Z,J){return this.color=J,this.changed=!1,this.data=Z,this.type.type=B7.ALL,this}_ensureHSL(){let Z=this.data,{h:J,s:Q,l:K}=Z;if(J===void 0)Z.h=t8.channel.rgb2hsl(Z,"h");if(Q===void 0)Z.s=t8.channel.rgb2hsl(Z,"s");if(K===void 0)Z.l=t8.channel.rgb2hsl(Z,"l")}_ensureRGB(){let Z=this.data,{r:J,g:Q,b:K}=Z;if(J===void 0)Z.r=t8.channel.hsl2rgb(Z,"r");if(Q===void 0)Z.g=t8.channel.hsl2rgb(Z,"g");if(K===void 0)Z.b=t8.channel.hsl2rgb(Z,"b")}get r(){let Z=this.data,J=Z.r;if(!this.type.is(B7.HSL)&&J!==void 0)return J;return this._ensureHSL(),t8.channel.hsl2rgb(Z,"r")}get g(){let Z=this.data,J=Z.g;if(!this.type.is(B7.HSL)&&J!==void 0)return J;return this._ensureHSL(),t8.channel.hsl2rgb(Z,"g")}get b(){let Z=this.data,J=Z.b;if(!this.type.is(B7.HSL)&&J!==void 0)return J;return this._ensureHSL(),t8.channel.hsl2rgb(Z,"b")}get h(){let Z=this.data,J=Z.h;if(!this.type.is(B7.RGB)&&J!==void 0)return J;return this._ensureRGB(),t8.channel.rgb2hsl(Z,"h")}get s(){let Z=this.data,J=Z.s;if(!this.type.is(B7.RGB)&&J!==void 0)return J;return this._ensureRGB(),t8.channel.rgb2hsl(Z,"s")}get l(){let Z=this.data,J=Z.l;if(!this.type.is(B7.RGB)&&J!==void 0)return J;return this._ensureRGB(),t8.channel.rgb2hsl(Z,"l")}get a(){return this.data.a}set r(Z){this.type.set(B7.RGB),this.changed=!0,this.data.r=Z}set g(Z){this.type.set(B7.RGB),this.changed=!0,this.data.g=Z}set b(Z){this.type.set(B7.RGB),this.changed=!0,this.data.b=Z}set h(Z){this.type.set(B7.HSL),this.changed=!0,this.data.h=Z}set s(Z){this.type.set(B7.HSL),this.changed=!0,this.data.s=Z}set l(Z){this.type.set(B7.HSL),this.changed=!0,this.data.l=Z}set a(Z){this.changed=!0,this.data.a=Z}}var w40;var $40=_(()=>{XX();S40();mR();w40=T40});var xt0,M1;var uR=_(()=>{$40();xt0=new w40({r:0,g:0,b:0,a:0},"transparent"),M1=xt0});var k40,OG;var eb=_(()=>{uR();mR();k40={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:(Z)=>{if(Z.charCodeAt(0)!==35)return;let J=Z.match(k40.re);if(!J)return;let Q=J[1],K=parseInt(Q,16),X=Q.length,U=X%4===0,Y=X>4,q=Y?1:17,W=Y?8:4,G=U?0:-1,z=Y?255:15;return M1.set({r:(K>>W*(G+3)&z)*q,g:(K>>W*(G+2)&z)*q,b:(K>>W*(G+1)&z)*q,a:U?(K&z)*q/255:1},Z)},stringify:(Z)=>{let{r:J,g:Q,b:K,a:X}=Z;if(X<1)return`#${uU[Math.round(J)]}${uU[Math.round(Q)]}${uU[Math.round(K)]}${uU[Math.round(X*255)]}`;else return`#${uU[Math.round(J)]}${uU[Math.round(Q)]}${uU[Math.round(K)]}`}},OG=k40});var uE,gR;var _40=_(()=>{XX();uR();uE={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:(Z)=>{let J=Z.match(uE.hueRe);if(J){let[,Q,K]=J;switch(K){case"grad":return t8.channel.clamp.h(parseFloat(Q)*0.9);case"rad":return t8.channel.clamp.h(parseFloat(Q)*180/Math.PI);case"turn":return t8.channel.clamp.h(parseFloat(Q)*360)}}return t8.channel.clamp.h(parseFloat(Z))},parse:(Z)=>{let J=Z.charCodeAt(0);if(J!==104&&J!==72)return;let Q=Z.match(uE.re);if(!Q)return;let[,K,X,U,Y,q]=Q;return M1.set({h:uE._hue2deg(K),s:t8.channel.clamp.s(parseFloat(X)),l:t8.channel.clamp.l(parseFloat(U)),a:Y?t8.channel.clamp.a(q?parseFloat(Y)/100:parseFloat(Y)):1},Z)},stringify:(Z)=>{let{h:J,s:Q,l:K,a:X}=Z;if(X<1)return`hsla(${t8.lang.round(J)}, ${t8.lang.round(Q)}%, ${t8.lang.round(K)}%, ${X})`;else return`hsl(${t8.lang.round(J)}, ${t8.lang.round(Q)}%, ${t8.lang.round(K)}%)`}},gR=uE});var gE,Zy;var f40=_(()=>{eb();gE={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:(Z)=>{Z=Z.toLowerCase();let J=gE.colors[Z];if(!J)return;return OG.parse(J)},stringify:(Z)=>{let J=OG.stringify(Z);for(let Q in gE.colors)if(gE.colors[Q]===J)return Q;return}},Zy=gE});var v40,pR;var x40=_(()=>{XX();uR();v40={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:(Z)=>{let J=Z.charCodeAt(0);if(J!==114&&J!==82)return;let Q=Z.match(v40.re);if(!Q)return;let[,K,X,U,Y,q,W,G,z]=Q;return M1.set({r:t8.channel.clamp.r(X?parseFloat(K)*2.55:parseFloat(K)),g:t8.channel.clamp.g(Y?parseFloat(U)*2.55:parseFloat(U)),b:t8.channel.clamp.b(W?parseFloat(q)*2.55:parseFloat(q)),a:G?t8.channel.clamp.a(z?parseFloat(G)/100:parseFloat(G)):1},Z)},stringify:(Z)=>{let{r:J,g:Q,b:K,a:X}=Z;if(X<1)return`rgba(${t8.lang.round(J)}, ${t8.lang.round(Q)}, ${t8.lang.round(K)}, ${t8.lang.round(X)})`;else return`rgb(${t8.lang.round(J)}, ${t8.lang.round(Q)}, ${t8.lang.round(K)})`}},pR=v40});var bt0,O7;var gU=_(()=>{eb();_40();f40();x40();mR();bt0={format:{keyword:Zy,hex:OG,rgb:pR,rgba:pR,hsl:gR,hsla:gR},parse:(Z)=>{if(typeof Z!=="string")return Z;let J=OG.parse(Z)||pR.parse(Z)||gR.parse(Z)||Zy.parse(Z);if(J)return J;throw Error(`Unsupported color format: "${Z}"`)},stringify:(Z)=>{if(!Z.changed&&Z.color)return Z.color;if(Z.type.is(B7.HSL)||Z.data.r===void 0)return gR.stringify(Z);else if(Z.a<1||!Number.isInteger(Z.r)||!Number.isInteger(Z.g)||!Number.isInteger(Z.b))return pR.stringify(Z);else return OG.stringify(Z)}},O7=bt0});var yt0=(Z,J)=>{let Q=O7.parse(Z);for(let K in J)Q[K]=t8.channel.clamp[K](J[K]);return O7.stringify(Q)},pE;var Jy=_(()=>{XX();gU();pE=yt0});var ht0=(Z,J,Q=0,K=1)=>{if(typeof Z!=="number")return pE(Z,{a:J});let X=M1.set({r:t8.channel.clamp.r(Z),g:t8.channel.clamp.g(J),b:t8.channel.clamp.b(Q),a:t8.channel.clamp.a(K)});return O7.stringify(X)},sQ;var Qy=_(()=>{XX();uR();gU();Jy();sQ=ht0});var mt0=(Z,J)=>{return t8.lang.round(O7.parse(Z)[J])},RG;var b40=_(()=>{XX();gU();RG=mt0});var ut0=(Z)=>{let{r:J,g:Q,b:K}=O7.parse(Z),X=0.2126*t8.channel.toLinear(J)+0.7152*t8.channel.toLinear(Q)+0.0722*t8.channel.toLinear(K);return t8.lang.round(X)},y40;var h40=_(()=>{XX();gU();y40=ut0});var gt0=(Z)=>{return y40(Z)>=0.5},m40;var u40=_(()=>{h40();m40=gt0});var pt0=(Z)=>{return!m40(Z)},o7;var g40=_(()=>{u40();o7=pt0});var ct0=(Z,J,Q)=>{let K=O7.parse(Z),X=K[J],U=t8.channel.clamp[J](X+Q);if(X!==U)K[J]=U;return O7.stringify(K)},cE;var Ky=_(()=>{XX();gU();cE=ct0});var lt0=(Z,J)=>{return cE(Z,"l",J)},$8;var p40=_(()=>{Ky();$8=lt0});var dt0=(Z,J)=>{return cE(Z,"l",-J)},y8;var c40=_(()=>{Ky();y8=dt0});var it0=(Z,J)=>{let Q=O7.parse(Z),K={};for(let X in J){if(!J[X])continue;K[X]=Q[X]+J[X]}return pE(Z,K)},b0;var l40=_(()=>{gU();Jy();b0=it0});var st0=(Z,J,Q=50)=>{let{r:K,g:X,b:U,a:Y}=O7.parse(Z),{r:q,g:W,b:G,a:z}=O7.parse(J),H=Q/100,F=H*2-1,M=Y-z,O=((F*M===-1?F:(F+M)/(1+F*M))+1)/2,R=1-O,D=K*O+q*R,L=X*O+W*R,A=U*O+G*R,V=Y*H+z*(1-H);return sQ(D,L,A,V)},d40;var i40=_(()=>{gU();Qy();d40=st0});var rt0=(Z,J=100)=>{let Q=O7.parse(Z);return Q.r=255-Q.r,Q.g=255-Q.g,Q.b=255-Q.b,d40(Q,Z,J)},E8;var s40=_(()=>{gU();i40();E8=rt0});var r40=_(()=>{Qy();b40();g40();p40();c40();l40();s40()});var V4=_(()=>{r40()});function aQ(Z){return function(J){if(J instanceof RegExp)J.lastIndex=0;for(var Q=arguments.length,K=Array(Q>1?Q-1:0),X=1;X<Q;X++)K[X-1]=arguments[X];return Fy(Z,J,K)}}function Qe0(Z){return function(){for(var J=arguments.length,Q=Array(J),K=0;K<J;K++)Q[K]=arguments[K];return My(Z,Q)}}function f9(Z,J){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iE;if(n40)n40(Z,null);let K=J.length;while(K--){let X=J[K];if(typeof X==="string"){let U=Q(X);if(U!==X){if(!nt0(J))J[K]=U;X=U}}Z[X]=!0}return Z}function Ke0(Z){for(let J=0;J<Z.length;J++)if(!Q5(Z,J))Z[J]=null;return Z}function UX(Z){let J=Hy(null);for(let[Q,K]of KK0(Z))if(Q5(Z,Q))if(Array.isArray(K))J[Q]=Ke0(K);else if(K&&typeof K==="object"&&K.constructor===Object)J[Q]=UX(K);else J[Q]=K;return J}function iR(Z,J){while(Z!==null){let K=ot0(Z,J);if(K){if(K.get)return aQ(K.get);if(typeof K.value==="function")return aQ(K.value)}Z=at0(Z)}function Q(){return null}return Q}function YK0(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Be0(),J=(M8)=>YK0(M8);if(J.version="3.3.1",J.removed=[],!Z||!Z.document||Z.document.nodeType!==sR.document||!Z.Element)return J.isSupported=!1,J;let{document:Q}=Z,K=Q,X=K.currentScript,{DocumentFragment:U,HTMLTemplateElement:Y,Node:q,Element:W,NodeFilter:G,NamedNodeMap:z=Z.NamedNodeMap||Z.MozNamedAttrMap,HTMLFormElement:H,DOMParser:F,trustedTypes:M}=Z,B=W.prototype,O=iR(B,"cloneNode"),R=iR(B,"remove"),D=iR(B,"nextSibling"),L=iR(B,"childNodes"),A=iR(B,"parentNode");if(typeof Y==="function"){let M8=Q.createElement("template");if(M8.content&&M8.content.ownerDocument)Q=M8.content.ownerDocument}let V,N="",{implementation:E,createNodeIterator:j,createDocumentFragment:C,getElementsByTagName:$}=Q,{importNode:k}=K,w=QK0();J.isSupported=typeof KK0==="function"&&typeof A==="function"&&E&&E.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:P,ERB_EXPR:T,TMPLIT_EXPR:S,DATA_ATTR:f,ARIA_ATTR:v,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:b,CUSTOM_ELEMENT:y}=JK0,{IS_ALLOWED_URI:u}=JK0,h=null,p=f9({},[...o40,...qy,...Wy,...Gy,...t40]),r=null,e=f9({},[...e40,...zy,...ZK0,...dE]),i=Object.seal(Hy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U0=null,a=null,z0=Object.seal(Hy(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),J0=!0,Q0=!0,t=!1,n=!0,Y0=!1,o=!0,M0=!1,X0=!1,E0=!1,d=!1,c0=!1,B0=!1,y0=!0,n0=!1,s0="user-content-",k0=!0,x0=!1,f0={},C0=null,h0=f9({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),F0=null,I0=f9({},["audio","video","img","source","image","track"]),s=null,H0=f9({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),m="http://www.w3.org/1998/Math/MathML",q0="http://www.w3.org/2000/svg",W0="http://www.w3.org/1999/xhtml",V0=W0,L0=!1,D0=null,_0=f9({},[m,q0,W0],Uy),T0=f9({},["mi","mo","mn","ms","mtext"]),m0=f9({},["annotation-xml"]),t0=f9({},["title","style","font","a","script"]),H8=null,r0=["application/xhtml+xml","text/html"],u0="text/html",o0=null,d0=null,U8=Q.createElement("form"),u8=function(S0){return S0 instanceof RegExp||S0 instanceof Function},O8=function(){let S0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(d0&&d0===S0)return;if(!S0||typeof S0!=="object")S0={};if(S0=UX(S0),H8=r0.indexOf(S0.PARSER_MEDIA_TYPE)===-1?u0:S0.PARSER_MEDIA_TYPE,o0=H8==="application/xhtml+xml"?Uy:iE,h=Q5(S0,"ALLOWED_TAGS")?f9({},S0.ALLOWED_TAGS,o0):p,r=Q5(S0,"ALLOWED_ATTR")?f9({},S0.ALLOWED_ATTR,o0):e,D0=Q5(S0,"ALLOWED_NAMESPACES")?f9({},S0.ALLOWED_NAMESPACES,Uy):_0,s=Q5(S0,"ADD_URI_SAFE_ATTR")?f9(UX(H0),S0.ADD_URI_SAFE_ATTR,o0):H0,F0=Q5(S0,"ADD_DATA_URI_TAGS")?f9(UX(I0),S0.ADD_DATA_URI_TAGS,o0):I0,C0=Q5(S0,"FORBID_CONTENTS")?f9({},S0.FORBID_CONTENTS,o0):h0,U0=Q5(S0,"FORBID_TAGS")?f9({},S0.FORBID_TAGS,o0):UX({}),a=Q5(S0,"FORBID_ATTR")?f9({},S0.FORBID_ATTR,o0):UX({}),f0=Q5(S0,"USE_PROFILES")?S0.USE_PROFILES:!1,J0=S0.ALLOW_ARIA_ATTR!==!1,Q0=S0.ALLOW_DATA_ATTR!==!1,t=S0.ALLOW_UNKNOWN_PROTOCOLS||!1,n=S0.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y0=S0.SAFE_FOR_TEMPLATES||!1,o=S0.SAFE_FOR_XML!==!1,M0=S0.WHOLE_DOCUMENT||!1,d=S0.RETURN_DOM||!1,c0=S0.RETURN_DOM_FRAGMENT||!1,B0=S0.RETURN_TRUSTED_TYPE||!1,E0=S0.FORCE_BODY||!1,y0=S0.SANITIZE_DOM!==!1,n0=S0.SANITIZE_NAMED_PROPS||!1,k0=S0.KEEP_CONTENT!==!1,x0=S0.IN_PLACE||!1,u=S0.ALLOWED_URI_REGEXP||XK0,V0=S0.NAMESPACE||W0,T0=S0.MATHML_TEXT_INTEGRATION_POINTS||T0,m0=S0.HTML_INTEGRATION_POINTS||m0,i=S0.CUSTOM_ELEMENT_HANDLING||{},S0.CUSTOM_ELEMENT_HANDLING&&u8(S0.CUSTOM_ELEMENT_HANDLING.tagNameCheck))i.tagNameCheck=S0.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(S0.CUSTOM_ELEMENT_HANDLING&&u8(S0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))i.attributeNameCheck=S0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(S0.CUSTOM_ELEMENT_HANDLING&&typeof S0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")i.allowCustomizedBuiltInElements=S0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(Y0)Q0=!1;if(c0)d=!0;if(f0){if(h=f9({},t40),r=[],f0.html===!0)f9(h,o40),f9(r,e40);if(f0.svg===!0)f9(h,qy),f9(r,zy),f9(r,dE);if(f0.svgFilters===!0)f9(h,Wy),f9(r,zy),f9(r,dE);if(f0.mathMl===!0)f9(h,Gy),f9(r,ZK0),f9(r,dE)}if(S0.ADD_TAGS)if(typeof S0.ADD_TAGS==="function")z0.tagCheck=S0.ADD_TAGS;else{if(h===p)h=UX(h);f9(h,S0.ADD_TAGS,o0)}if(S0.ADD_ATTR)if(typeof S0.ADD_ATTR==="function")z0.attributeCheck=S0.ADD_ATTR;else{if(r===e)r=UX(r);f9(r,S0.ADD_ATTR,o0)}if(S0.ADD_URI_SAFE_ATTR)f9(s,S0.ADD_URI_SAFE_ATTR,o0);if(S0.FORBID_CONTENTS){if(C0===h0)C0=UX(C0);f9(C0,S0.FORBID_CONTENTS,o0)}if(S0.ADD_FORBID_CONTENTS){if(C0===h0)C0=UX(C0);f9(C0,S0.ADD_FORBID_CONTENTS,o0)}if(k0)h["#text"]=!0;if(M0)f9(h,["html","head","body"]);if(h.table)f9(h,["tbody"]),delete U0.tbody;if(S0.TRUSTED_TYPES_POLICY){if(typeof S0.TRUSTED_TYPES_POLICY.createHTML!=="function")throw dR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S0.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw dR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');V=S0.TRUSTED_TYPES_POLICY,N=V.createHTML("")}else{if(V===void 0)V=Oe0(M,X);if(V!==null&&typeof N==="string")N=V.createHTML("")}if(nQ)nQ(S0);d0=S0},S8=f9({},[...qy,...Wy,...Xe0]),W8=f9({},[...Gy,...Ue0]),q8=function(S0){let Q8=A(S0);if(!Q8||!Q8.tagName)Q8={namespaceURI:V0,tagName:"template"};let T8=iE(S0.tagName),i9=iE(Q8.tagName);if(!D0[S0.namespaceURI])return!1;if(S0.namespaceURI===q0){if(Q8.namespaceURI===W0)return T8==="svg";if(Q8.namespaceURI===m)return T8==="svg"&&(i9==="annotation-xml"||T0[i9]);return Boolean(S8[T8])}if(S0.namespaceURI===m){if(Q8.namespaceURI===W0)return T8==="math";if(Q8.namespaceURI===q0)return T8==="math"&&m0[i9];return Boolean(W8[T8])}if(S0.namespaceURI===W0){if(Q8.namespaceURI===q0&&!m0[i9])return!1;if(Q8.namespaceURI===m&&!T0[i9])return!1;return!W8[T8]&&(t0[T8]||!S8[T8])}if(H8==="application/xhtml+xml"&&D0[S0.namespaceURI])return!0;return!1},F8=function(S0){cR(J.removed,{element:S0});try{A(S0).removeChild(S0)}catch(Q8){R(S0)}},R8=function(S0,Q8){try{cR(J.removed,{attribute:Q8.getAttributeNode(S0),from:Q8})}catch(T8){cR(J.removed,{attribute:null,from:Q8})}if(Q8.removeAttribute(S0),S0==="is")if(d||c0)try{F8(Q8)}catch(T8){}else try{Q8.setAttribute(S0,"")}catch(T8){}},D8=function(S0){let Q8=null,T8=null;if(E0)S0="<remove></remove>"+S0;else{let c9=Yy(S0,/^[\r\n\t ]+/);T8=c9&&c9[0]}if(H8==="application/xhtml+xml"&&V0===W0)S0='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S0+"</body></html>";let i9=V?V.createHTML(S0):S0;if(V0===W0)try{Q8=new F().parseFromString(i9,H8)}catch(c9){}if(!Q8||!Q8.documentElement){Q8=E.createDocument(V0,"template",null);try{Q8.documentElement.innerHTML=L0?N:i9}catch(c9){}}let eZ=Q8.body||Q8.documentElement;if(S0&&T8)eZ.insertBefore(Q.createTextNode(T8),eZ.childNodes[0]||null);if(V0===W0)return $.call(Q8,M0?"html":"body")[0];return M0?Q8.documentElement:eZ},G8=function(S0){return j.call(S0.ownerDocument||S0,S0,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},a9=function(S0){return S0 instanceof H&&(typeof S0.nodeName!=="string"||typeof S0.textContent!=="string"||typeof S0.removeChild!=="function"||!(S0.attributes instanceof z)||typeof S0.removeAttribute!=="function"||typeof S0.setAttribute!=="function"||typeof S0.namespaceURI!=="string"||typeof S0.insertBefore!=="function"||typeof S0.hasChildNodes!=="function")},f8=function(S0){return typeof q==="function"&&S0 instanceof q};function o9(M8,S0,Q8){lE(M8,(T8)=>{T8.call(J,S0,Q8,d0)})}let p9=function(S0){let Q8=null;if(o9(w.beforeSanitizeElements,S0,null),a9(S0))return F8(S0),!0;let T8=o0(S0.nodeName);if(o9(w.uponSanitizeElement,S0,{tagName:T8,allowedTags:h}),o&&S0.hasChildNodes()&&!f8(S0.firstElementChild)&&rQ(/<[/\w!]/g,S0.innerHTML)&&rQ(/<[/\w!]/g,S0.textContent))return F8(S0),!0;if(S0.nodeType===sR.progressingInstruction)return F8(S0),!0;if(o&&S0.nodeType===sR.comment&&rQ(/<[/\w]/g,S0.data))return F8(S0),!0;if(!(z0.tagCheck instanceof Function&&z0.tagCheck(T8))&&(!h[T8]||U0[T8])){if(!U0[T8]&&G9(T8)){if(i.tagNameCheck instanceof RegExp&&rQ(i.tagNameCheck,T8))return!1;if(i.tagNameCheck instanceof Function&&i.tagNameCheck(T8))return!1}if(k0&&!C0[T8]){let i9=A(S0)||S0.parentNode,eZ=L(S0)||S0.childNodes;if(eZ&&i9){let c9=eZ.length;for(let VJ=c9-1;VJ>=0;--VJ){let l7=O(eZ[VJ],!0);l7.__removalCount=(S0.__removalCount||0)+1,i9.insertBefore(l7,D(S0))}}}return F8(S0),!0}if(S0 instanceof W&&!q8(S0))return F8(S0),!0;if((T8==="noscript"||T8==="noembed"||T8==="noframes")&&rQ(/<\/no(script|embed|frames)/i,S0.innerHTML))return F8(S0),!0;if(Y0&&S0.nodeType===sR.text){if(Q8=S0.textContent,lE([P,T,S],(i9)=>{Q8=lR(Q8,i9," ")}),S0.textContent!==Q8)cR(J.removed,{element:S0.cloneNode()}),S0.textContent=Q8}return o9(w.afterSanitizeElements,S0,null),!1},F9=function(S0,Q8,T8){if(y0&&(Q8==="id"||Q8==="name")&&((T8 in Q)||(T8 in U8)))return!1;if(Q0&&!a[Q8]&&rQ(f,Q8));else if(J0&&rQ(v,Q8));else if(z0.attributeCheck instanceof Function&&z0.attributeCheck(Q8,S0));else if(!r[Q8]||a[Q8])if(G9(S0)&&(i.tagNameCheck instanceof RegExp&&rQ(i.tagNameCheck,S0)||i.tagNameCheck instanceof Function&&i.tagNameCheck(S0))&&(i.attributeNameCheck instanceof RegExp&&rQ(i.attributeNameCheck,Q8)||i.attributeNameCheck instanceof Function&&i.attributeNameCheck(Q8,S0))||Q8==="is"&&i.allowCustomizedBuiltInElements&&(i.tagNameCheck instanceof RegExp&&rQ(i.tagNameCheck,T8)||i.tagNameCheck instanceof Function&&i.tagNameCheck(T8)));else return!1;else if(s[Q8]);else if(rQ(u,lR(T8,b,"")));else if((Q8==="src"||Q8==="xlink:href"||Q8==="href")&&S0!=="script"&&Ze0(T8,"data:")===0&&F0[S0]);else if(t&&!rQ(x,lR(T8,b,"")));else if(T8)return!1;return!0},G9=function(S0){return S0!=="annotation-xml"&&Yy(S0,y)},C9=function(S0){o9(w.beforeSanitizeAttributes,S0,null);let{attributes:Q8}=S0;if(!Q8||a9(S0))return;let T8={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:r,forceKeepAttr:void 0},i9=Q8.length;while(i9--){let eZ=Q8[i9],{name:c9,namespaceURI:VJ,value:l7}=eZ,Z7=o0(c9),t9=l7,Z8=c9==="value"?t9:Je0(t9);if(T8.attrName=Z7,T8.attrValue=Z8,T8.keepAttr=!0,T8.forceKeepAttr=void 0,o9(w.uponSanitizeAttribute,S0,T8),Z8=T8.attrValue,n0&&(Z7==="id"||Z7==="name"))R8(c9,S0),Z8=s0+Z8;if(o&&rQ(/((--!?|])>)|<\/(style|title|textarea)/i,Z8)){R8(c9,S0);continue}if(Z7==="attributename"&&Yy(Z8,"href")){R8(c9,S0);continue}if(T8.forceKeepAttr)continue;if(!T8.keepAttr){R8(c9,S0);continue}if(!n&&rQ(/\/>/i,Z8)){R8(c9,S0);continue}if(Y0)lE([P,T,S],(s8)=>{Z8=lR(Z8,s8," ")});let A8=o0(S0.nodeName);if(!F9(A8,Z7,Z8)){R8(c9,S0);continue}if(V&&typeof M==="object"&&typeof M.getAttributeType==="function")if(VJ);else switch(M.getAttributeType(A8,Z7)){case"TrustedHTML":{Z8=V.createHTML(Z8);break}case"TrustedScriptURL":{Z8=V.createScriptURL(Z8);break}}if(Z8!==t9)try{if(VJ)S0.setAttributeNS(VJ,c9,Z8);else S0.setAttribute(c9,Z8);if(a9(S0))F8(S0);else a40(J.removed)}catch(s8){R8(c9,S0)}}o9(w.afterSanitizeAttributes,S0,null)},kZ=function M8(S0){let Q8=null,T8=G8(S0);o9(w.beforeSanitizeShadowDOM,S0,null);while(Q8=T8.nextNode())if(o9(w.uponSanitizeShadowNode,Q8,null),p9(Q8),C9(Q8),Q8.content instanceof U)M8(Q8.content);o9(w.afterSanitizeShadowDOM,S0,null)};return J.sanitize=function(M8){let S0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q8=null,T8=null,i9=null,eZ=null;if(L0=!M8,L0)M8="<!-->";if(typeof M8!=="string"&&!f8(M8))if(typeof M8.toString==="function"){if(M8=M8.toString(),typeof M8!=="string")throw dR("dirty is not a string, aborting")}else throw dR("toString is not a function");if(!J.isSupported)return M8;if(!X0)O8(S0);if(J.removed=[],typeof M8==="string")x0=!1;if(x0){if(M8.nodeName){let l7=o0(M8.nodeName);if(!h[l7]||U0[l7])throw dR("root node is forbidden and cannot be sanitized in-place")}}else if(M8 instanceof q)if(Q8=D8("<!---->"),T8=Q8.ownerDocument.importNode(M8,!0),T8.nodeType===sR.element&&T8.nodeName==="BODY")Q8=T8;else if(T8.nodeName==="HTML")Q8=T8;else Q8.appendChild(T8);else{if(!d&&!Y0&&!M0&&M8.indexOf("<")===-1)return V&&B0?V.createHTML(M8):M8;if(Q8=D8(M8),!Q8)return d?null:B0?N:""}if(Q8&&E0)F8(Q8.firstChild);let c9=G8(x0?M8:Q8);while(i9=c9.nextNode())if(p9(i9),C9(i9),i9.content instanceof U)kZ(i9.content);if(x0)return M8;if(d){if(c0){eZ=C.call(Q8.ownerDocument);while(Q8.firstChild)eZ.appendChild(Q8.firstChild)}else eZ=Q8;if(r.shadowroot||r.shadowrootmode)eZ=k.call(K,eZ,!0);return eZ}let VJ=M0?Q8.outerHTML:Q8.innerHTML;if(M0&&h["!doctype"]&&Q8.ownerDocument&&Q8.ownerDocument.doctype&&Q8.ownerDocument.doctype.name&&rQ(UK0,Q8.ownerDocument.doctype.name))VJ="<!DOCTYPE "+Q8.ownerDocument.doctype.name+`>
`+VJ;if(Y0)lE([P,T,S],(l7)=>{VJ=lR(VJ,l7," ")});return V&&B0?V.createHTML(VJ):VJ},J.setConfig=function(){let M8=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O8(M8),X0=!0},J.clearConfig=function(){d0=null,X0=!1},J.isValidAttribute=function(M8,S0,Q8){if(!d0)O8({});let T8=o0(M8),i9=o0(S0);return F9(T8,i9,Q8)},J.addHook=function(M8,S0){if(typeof S0!=="function")return;cR(w[M8],S0)},J.removeHook=function(M8,S0){if(S0!==void 0){let Q8=tt0(w[M8],S0);return Q8===-1?void 0:et0(w[M8],Q8,1)[0]}return a40(w[M8])},J.removeHooks=function(M8){w[M8]=[]},J.removeAllHooks=function(){w=QK0()},J}var KK0,n40,nt0,at0,ot0,nQ,XK,Hy,Fy,My,lE,tt0,a40,cR,et0,iE,Uy,Yy,lR,Ze0,Je0,Q5,rQ,dR,o40,qy,Wy,Xe0,Gy,Ue0,t40,e40,zy,ZK0,dE,Ye0,qe0,We0,Ge0,ze0,XK0,He0,Fe0,UK0,Me0,JK0,sR,Be0=function(){return typeof window>"u"?null:window},Oe0=function(J,Q){if(typeof J!=="object"||typeof J.createPolicy!=="function")return null;let K=null,X="data-tt-policy-suffix";if(Q&&Q.hasAttribute(X))K=Q.getAttribute(X);let U="dompurify"+(K?"#"+K:"");try{return J.createPolicy(U,{createHTML(Y){return Y},createScriptURL(Y){return Y}})}catch(Y){return console.warn("TrustedTypes policy "+U+" could not be created."),null}},QK0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},B1;var By=_(()=>{/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */({entries:KK0,setPrototypeOf:n40,isFrozen:nt0,getPrototypeOf:at0,getOwnPropertyDescriptor:ot0}=Object),{freeze:nQ,seal:XK,create:Hy}=Object,{apply:Fy,construct:My}=typeof Reflect<"u"&&Reflect;if(!nQ)nQ=function(J){return J};if(!XK)XK=function(J){return J};if(!Fy)Fy=function(J,Q){for(var K=arguments.length,X=Array(K>2?K-2:0),U=2;U<K;U++)X[U-2]=arguments[U];return J.apply(Q,X)};if(!My)My=function(J){for(var Q=arguments.length,K=Array(Q>1?Q-1:0),X=1;X<Q;X++)K[X-1]=arguments[X];return new J(...K)};lE=aQ(Array.prototype.forEach),tt0=aQ(Array.prototype.lastIndexOf),a40=aQ(Array.prototype.pop),cR=aQ(Array.prototype.push),et0=aQ(Array.prototype.splice),iE=aQ(String.prototype.toLowerCase),Uy=aQ(String.prototype.toString),Yy=aQ(String.prototype.match),lR=aQ(String.prototype.replace),Ze0=aQ(String.prototype.indexOf),Je0=aQ(String.prototype.trim),Q5=aQ(Object.prototype.hasOwnProperty),rQ=aQ(RegExp.prototype.test),dR=Qe0(TypeError);o40=nQ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qy=nQ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wy=nQ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xe0=nQ(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gy=nQ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ue0=nQ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),t40=nQ(["#text"]),e40=nQ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zy=nQ(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ZK0=nQ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dE=nQ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ye0=XK(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qe0=XK(/<%[\w\W]*|[\w\W]*%>/gm),We0=XK(/\$\{[\w\W]*/gm),Ge0=XK(/^data-[\-\w.\u00B7-\uFFFF]+$/),ze0=XK(/^aria-[\-\w]+$/),XK0=XK(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),He0=XK(/^(?:\w+script|data):/i),Fe0=XK(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UK0=XK(/^html$/i),Me0=XK(/^[a-z][.\w]*(-[.\w]+)+$/i),JK0=Object.freeze({__proto__:null,ARIA_ATTR:ze0,ATTR_WHITESPACE:Fe0,CUSTOM_ELEMENT:Me0,DATA_ATTR:Ge0,DOCTYPE_NAME:UK0,ERB_EXPR:qe0,IS_ALLOWED_URI:XK0,IS_SCRIPT_OR_DATA:He0,MUSTACHE_EXPR:Ye0,TMPLIT_EXPR:We0}),sR={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};B1=YK0()});var p50={};z9(p50,{version:()=>u50,renderToString:()=>b50,render:()=>ty,default:()=>U88,__setFontMetrics:()=>uK0,__renderToHTMLTree:()=>m50,__renderToDomTree:()=>LV,__parse:()=>y50,__domTree:()=>g50,__defineSymbol:()=>g,__defineMacro:()=>G0,__defineFunction:()=>k8,SETTINGS_SCHEMA:()=>eR,ParseError:()=>B8});class x6{constructor(Z,J,Q){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=Z,this.start=J,this.end=Q}static range(Z,J){if(!J)return Z&&Z.loc;else if(!Z||!Z.loc||!J.loc||Z.loc.lexer!==J.loc.lexer)return null;else return new x6(Z.loc.lexer,Z.loc.start,J.loc.end)}}class P4{constructor(Z,J){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=Z,this.loc=J}range(Z,J){return new P4(J,x6.range(this,Z))}}class B8{constructor(Z,J){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var Q="KaTeX parse error: "+Z,K,X,U=J&&J.loc;if(U&&U.start<=U.end){var Y=U.lexer.input;if(K=U.start,X=U.end,K===Y.length)Q+=" at end of input: ";else Q+=" at position "+(K+1)+": ";var q=Y.slice(K,X).replace(/[^]/g,"$&"),W;if(K>15)W=""+Y.slice(K-15,K);else W=Y.slice(0,K);var G;if(X+15<Y.length)G=Y.slice(X,X+15)+"";else G=Y.slice(X);Q+=W+q+G}var z=Error(Q);if(z.name="ParseError",z.__proto__=B8.prototype,z.position=K,K!=null&&X!=null)z.length=X-K;return z.rawMessage=Z,z}}function Ne0(Z){return String(Z).replace(Ae0,(J)=>Ie0[J])}function je0(Z){if(Z.default)return Z.default;var J=Z.type,Q=Array.isArray(J)?J[0]:J;if(typeof Q!=="string")return Q.enum[0];switch(Q){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class GV{constructor(Z){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,Z=Z||{};for(var J in eR)if(eR.hasOwnProperty(J)){var Q=eR[J];this[J]=Z[J]!==void 0?Q.processor?Q.processor(Z[J]):Z[J]:je0(Q)}}reportNonstrict(Z,J,Q){var K=this.strict;if(typeof K==="function")K=K(Z,J,Q);if(!K||K==="ignore")return;else if(K===!0||K==="error")throw new B8("LaTeX-incompatible input and strict mode is set to 'error': "+(J+" ["+Z+"]"),Q);else if(K==="warn")typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]"));else typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]"))}useStrictBehavior(Z,J,Q){var K=this.strict;if(typeof K==="function")try{K=K(Z,J,Q)}catch(X){K="error"}if(!K||K==="ignore")return!1;else if(K===!0||K==="error")return!0;else if(K==="warn")return typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]")),!1;else return typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]")),!1}isTrusted(Z){if(Z.url&&!Z.protocol){var J=HZ.protocolFromUrl(Z.url);if(J==null)return!1;Z.protocol=J}var Q=typeof this.trust==="function"?this.trust(Z):this.trust;return Boolean(Q)}}class cU{constructor(Z,J,Q){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=Z,this.size=J,this.cramped=Q}sup(){return qX[Ce0[this.id]]}sub(){return qX[Se0[this.id]]}fracNum(){return qX[Te0[this.id]]}fracDen(){return qX[we0[this.id]]}cramp(){return qX[$e0[this.id]]}text(){return qX[ke0[this.id]]}isTight(){return this.size>=2}}function _e0(Z){for(var J=0;J<Cy.length;J++){var Q=Cy[J];for(var K=0;K<Q.blocks.length;K++){var X=Q.blocks[K];if(Z>=X[0]&&Z<=X[1])return Q.name}}return null}function mK0(Z){for(var J=0;J<ZV.length;J+=2)if(Z>=ZV[J]&&Z<=ZV[J+1])return!0;return!1}class iH{constructor(Z){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=Z,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createDocumentFragment();for(var J=0;J<this.children.length;J++)Z.appendChild(this.children[J].toNode());return Z}toMarkup(){var Z="";for(var J=0;J<this.children.length;J++)Z+=this.children[J].toMarkup();return Z}toText(){var Z=(J)=>J.toText();return this.children.map(Z).join("")}}function uK0(Z,J){WX[Z]=J}function by(Z,J,Q){if(!WX[J])throw Error("Font metrics not found for font: "+J+".");var K=Z.charCodeAt(0),X=WX[J][K];if(!X&&Z[0]in WK0)K=WK0[Z[0]].charCodeAt(0),X=WX[J][K];if(!X&&Q==="text"){if(mK0(K))X=WX[J][77]}if(X)return{depth:X[0],height:X[1],italic:X[2],skew:X[3],width:X[4]}}function ce0(Z){var J;if(Z>=5)J=0;else if(Z>=3)J=1;else J=2;if(!Oy[J]){var Q=Oy[J]={cssEmPerMu:sE.quad[J]/18};for(var K in sE)if(sE.hasOwnProperty(K))Q[K]=sE[K][J]}return Oy[J]}class dU{constructor(Z){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=Z.style,this.color=Z.color,this.size=Z.size||dU.BASESIZE,this.textSize=Z.textSize||this.size,this.phantom=!!Z.phantom,this.font=Z.font||"",this.fontFamily=Z.fontFamily||"",this.fontWeight=Z.fontWeight||"",this.fontShape=Z.fontShape||"",this.sizeMultiplier=GK0[this.size-1],this.maxSize=Z.maxSize,this.minRuleThickness=Z.minRuleThickness,this._fontMetrics=void 0}extend(Z){var J={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var Q in Z)if(Z.hasOwnProperty(Q))J[Q]=Z[Q];return new dU(J)}havingStyle(Z){if(this.style===Z)return this;else return this.extend({style:Z,size:zK0(this.textSize,Z)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(Z){if(this.size===Z&&this.textSize===Z)return this;else return this.extend({style:this.style.text(),size:Z,textSize:Z,sizeMultiplier:GK0[Z-1]})}havingBaseStyle(Z){Z=Z||this.style.text();var J=zK0(dU.BASESIZE,Z);if(this.size===J&&this.textSize===dU.BASESIZE&&this.style===Z)return this;else return this.extend({style:Z,size:J})}havingBaseSizing(){var Z;switch(this.style.id){case 4:case 5:Z=3;break;case 6:case 7:Z=1;break;default:Z=6}return this.extend({style:this.style.text(),size:Z})}withColor(Z){return this.extend({color:Z})}withPhantom(){return this.extend({phantom:!0})}withFont(Z){return this.extend({font:Z})}withTextFontFamily(Z){return this.extend({fontFamily:Z,font:""})}withTextFontWeight(Z){return this.extend({fontWeight:Z,font:""})}withTextFontShape(Z){return this.extend({fontShape:Z,font:""})}sizingClasses(Z){if(Z.size!==this.size)return["sizing","reset-size"+Z.size,"size"+this.size];else return[]}baseSizingClasses(){if(this.size!==dU.BASESIZE)return["sizing","reset-size"+this.size,"size"+dU.BASESIZE];else return[]}fontMetrics(){if(!this._fontMetrics)this._fontMetrics=ce0(this.size);return this._fontMetrics}getColor(){if(this.phantom)return"transparent";else return this.color}}class sH{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,pK0.call(this,Z,Q,K),this.children=J||[]}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return this.classes.includes(Z)}toNode(){return cK0.call(this,"span")}toMarkup(){return lK0.call(this,"span")}}class zV{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,pK0.call(this,J,K),this.children=Q||[],this.setAttribute("href",Z)}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return this.classes.includes(Z)}toNode(){return cK0.call(this,"a")}toMarkup(){return lK0.call(this,"a")}}class dK0{constructor(Z,J,Q){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=J,this.src=Z,this.classes=["mord"],this.style=Q}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createElement("img");Z.src=this.src,Z.alt=this.alt,Z.className="mord";for(var J in this.style)if(this.style.hasOwnProperty(J))Z.style[J]=this.style[J];return Z}toMarkup(){var Z='<img src="'+HZ.escape(this.src)+'"'+(' alt="'+HZ.escape(this.alt)+'"'),J="";for(var Q in this.style)if(this.style.hasOwnProperty(Q))J+=HZ.hyphenate(Q)+":"+this.style[Q]+";";if(J)Z+=' style="'+HZ.escape(J)+'"';return Z+="'/>",Z}}class j4{constructor(Z,J,Q,K,X,U,Y,q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=Z,this.height=J||0,this.depth=Q||0,this.italic=K||0,this.skew=X||0,this.width=U||0,this.classes=Y||[],this.style=q||{},this.maxFontSize=0;var W=_e0(this.text.charCodeAt(0));if(W)this.classes.push(W+"_fallback");if(/[]/.test(this.text))this.text=se0[this.text]}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createTextNode(this.text),J=null;if(this.italic>0)J=document.createElement("span"),J.style.marginRight=V8(this.italic);if(this.classes.length>0)J=J||document.createElement("span"),J.className=R1(this.classes);for(var Q in this.style)if(this.style.hasOwnProperty(Q))J=J||document.createElement("span"),J.style[Q]=this.style[Q];if(J)return J.appendChild(Z),J;else return Z}toMarkup(){var Z=!1,J="<span";if(this.classes.length)Z=!0,J+=' class="',J+=HZ.escape(R1(this.classes)),J+='"';var Q="";if(this.italic>0)Q+="margin-right:"+this.italic+"em;";for(var K in this.style)if(this.style.hasOwnProperty(K))Q+=HZ.hyphenate(K)+":"+this.style[K]+";";if(Q)Z=!0,J+=' style="'+HZ.escape(Q)+'"';var X=HZ.escape(this.text);if(Z)return J+=">",J+=X,J+="</span>",J;else return X}}class GX{constructor(Z,J){this.children=void 0,this.attributes=void 0,this.children=Z||[],this.attributes=J||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"svg");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);for(var K=0;K<this.children.length;K++)J.appendChild(this.children[K].toNode());return J}toMarkup(){var Z='<svg xmlns="http://www.w3.org/2000/svg"';for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="'+HZ.escape(this.attributes[J])+'"';Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</svg>",Z}}class rU{constructor(Z,J){this.pathName=void 0,this.alternate=void 0,this.pathName=Z,this.alternate=J}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"path");if(this.alternate)J.setAttribute("d",this.alternate);else J.setAttribute("d",qK0[this.pathName]);return J}toMarkup(){if(this.alternate)return'<path d="'+HZ.escape(this.alternate)+'"/>';else return'<path d="'+HZ.escape(qK0[this.pathName])+'"/>'}}class XV{constructor(Z){this.attributes=void 0,this.attributes=Z||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"line");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);return J}toMarkup(){var Z="<line";for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="'+HZ.escape(this.attributes[J])+'"';return Z+="/>",Z}}function HK0(Z){if(Z instanceof j4)return Z;else throw Error("Expected symbolNode but got "+String(Z)+".")}function re0(Z){if(Z instanceof sH)return Z;else throw Error("Expected span<HtmlDomNode> but got "+String(Z)+".")}function g(Z,J,Q,K,X,U){if(lZ[Z][X]={font:J,group:Q,replace:K},U&&K)lZ[Z][K]=lZ[Z][X]}function k8(Z){var{type:J,names:Q,props:K,handler:X,htmlBuilder:U,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs,argTypes:K.argTypes,allowedInArgument:!!K.allowedInArgument,allowedInText:!!K.allowedInText,allowedInMath:K.allowedInMath===void 0?!0:K.allowedInMath,numOptionalArgs:K.numOptionalArgs||0,infix:!!K.infix,primitive:!!K.primitive,handler:X};for(var W=0;W<Q.length;++W)oK0[Q[W]]=q;if(J){if(U)YV[J]=U;if(Y)qV[J]=Y}}function LG(Z){var{type:J,htmlBuilder:Q,mathmlBuilder:K}=Z;k8({type:J,names:[],props:{numArgs:0},handler(){throw Error("Should never be called.")},htmlBuilder:Q,mathmlBuilder:K})}function aE(Z,J){var Q=nU(["base"],Z,J),K=nU(["strut"]);if(K.style.height=V8(Q.height+Q.depth),Q.depth)K.style.verticalAlign=V8(-Q.depth);return Q.children.unshift(K),Q}function $y(Z,J){var Q=null;if(Z.length===1&&Z[0].type==="tag")Q=Z[0].tag,Z=Z[0].body;var K=R7(Z,J,"root"),X;if(K.length===2&&K[1].hasClass("tag"))X=K.pop();var U=[],Y=[];for(var q=0;q<K.length;q++)if(Y.push(K[q]),K[q].hasClass("mbin")||K[q].hasClass("mrel")||K[q].hasClass("allowbreak")){var W=!1;while(q<K.length-1&&K[q+1].hasClass("mspace")&&!K[q+1].hasClass("newline"))if(q++,Y.push(K[q]),K[q].hasClass("nobreak"))W=!0;if(!W)U.push(aE(Y,J)),Y=[]}else if(K[q].hasClass("newline")){if(Y.pop(),Y.length>0)U.push(aE(Y,J)),Y=[];U.push(K[q])}if(Y.length>0)U.push(aE(Y,J));var G;if(Q)G=aE(R7(Q,J,!0)),G.classes=["tag"],U.push(G);else if(X)U.push(X);var z=nU(["katex-html"],U);if(z.setAttribute("aria-hidden","true"),G){var H=G.children[0];if(H.style.height=V8(z.height+z.depth),z.depth)H.style.verticalAlign=V8(-z.depth)}return z}function eK0(Z){return new iH(Z)}class b6{constructor(Z,J,Q){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=Z,this.attributes={},this.children=J||[],this.classes=Q||[]}setAttribute(Z,J){this.attributes[Z]=J}getAttribute(Z){return this.attributes[Z]}toNode(){var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z.setAttribute(J,this.attributes[J]);if(this.classes.length>0)Z.className=R1(this.classes);for(var Q=0;Q<this.children.length;Q++)if(this.children[Q]instanceof X5&&this.children[Q+1]instanceof X5){var K=this.children[Q].toText()+this.children[++Q].toText();while(this.children[Q+1]instanceof X5)K+=this.children[++Q].toText();Z.appendChild(new X5(K).toNode())}else Z.appendChild(this.children[Q].toNode());return Z}toMarkup(){var Z="<"+this.type;for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="',Z+=HZ.escape(this.attributes[J]),Z+='"';if(this.classes.length>0)Z+=' class ="'+HZ.escape(R1(this.classes))+'"';Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</"+this.type+">",Z}toText(){return this.children.map((Z)=>Z.toText()).join("")}}class X5{constructor(Z){this.text=void 0,this.text=Z}toNode(){return document.createTextNode(this.text)}toMarkup(){return HZ.escape(this.toText())}toText(){return this.text}}class Z50{constructor(Z){if(this.width=void 0,this.character=void 0,this.width=Z,Z>=0.05555&&Z<=0.05556)this.character="";else if(Z>=0.1666&&Z<=0.1667)this.character="";else if(Z>=0.2222&&Z<=0.2223)this.character="";else if(Z>=0.2777&&Z<=0.2778)this.character="";else if(Z>=-0.05556&&Z<=-0.05555)this.character="";else if(Z>=-0.1667&&Z<=-0.1666)this.character="";else if(Z>=-0.2223&&Z<=-0.2222)this.character="";else if(Z>=-0.2778&&Z<=-0.2777)this.character="";else this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);else{var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return Z.setAttribute("width",V8(this.width)),Z}}toMarkup(){if(this.character)return"<mtext>"+this.character+"</mtext>";else return'<mspace width="'+V8(this.width)+'"/>'}toText(){if(this.character)return this.character;else return" "}}function Ry(Z){if(!Z)return!1;if(Z.type==="mi"&&Z.children.length===1){var J=Z.children[0];return J instanceof X5&&J.text==="."}else if(Z.type==="mo"&&Z.children.length===1&&Z.getAttribute("separator")==="true"&&Z.getAttribute("lspace")==="0em"&&Z.getAttribute("rspace")==="0em"){var Q=Z.children[0];return Q instanceof X5&&Q.text===","}else return!1}function RK0(Z,J,Q,K,X){var U=y6(Z,Q),Y;if(U.length===1&&U[0]instanceof b6&&["mrow","mtable"].includes(U[0].type))Y=U[0];else Y=new z8.MathNode("mrow",U);var q=new z8.MathNode("annotation",[new z8.TextNode(J)]);q.setAttribute("encoding","application/x-tex");var W=new z8.MathNode("semantics",[Y,q]),G=new z8.MathNode("math",[W]);if(G.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),K)G.setAttribute("display","block");var z=X?"katex":"katex-mathml";return g0.makeSpan([z],[G])}function V9(Z,J){if(!Z||Z.type!==J)throw Error("Expected node of type "+J+", but got "+(Z?"node of type "+Z.type:String(Z)));return Z}function uy(Z){var J=MV(Z);if(!J)throw Error("Expected node of symbol group type, but got "+(Z?"node of type "+Z.type:String(Z)));return J}function MV(Z){if(Z&&(Z.type==="atom"||ae0.hasOwnProperty(Z.type)))return Z;return null}function X50(Z,J){var Q=R7(Z.body,J,!0);return C08([Z.mclass],Q,J)}function U50(Z,J){var Q,K=y6(Z.body,J);if(Z.mclass==="minner")Q=new z8.MathNode("mpadded",K);else if(Z.mclass==="mord")if(Z.isCharacterBox)Q=K[0],Q.type="mi";else Q=new z8.MathNode("mi",K);else{if(Z.isCharacterBox)Q=K[0],Q.type="mo";else Q=new z8.MathNode("mo",K);if(Z.mclass==="mbin")Q.attributes.lspace="0.22em",Q.attributes.rspace="0.22em";else if(Z.mclass==="mpunct")Q.attributes.lspace="0em",Q.attributes.rspace="0.17em";else if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.attributes.lspace="0em",Q.attributes.rspace="0em";else if(Z.mclass==="minner")Q.attributes.lspace="0.0556em",Q.attributes.width="+0.1111em"}return Q}function w08(Z,J,Q){var K=S08[Z];switch(K){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return Q.callFunction(K,[J[0]],[J[1]]);case"\\uparrow":case"\\downarrow":{var X=Q.callFunction("\\\\cdleft",[J[0]],[]),U={type:"atom",text:K,mode:"math",family:"rel"},Y=Q.callFunction("\\Big",[U],[]),q=Q.callFunction("\\\\cdright",[J[1]],[]),W={type:"ordgroup",mode:"math",body:[X,Y,q]};return Q.callFunction("\\\\cdparent",[W],[])}case"\\\\cdlongequal":return Q.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var G={type:"textord",text:"\\Vert",mode:"math"};return Q.callFunction("\\Big",[G],[])}default:return{type:"textord",text:" ",mode:"math"}}}function $08(Z){var J=[];Z.gullet.beginGroup(),Z.gullet.macros.set("\\cr","\\\\\\relax"),Z.gullet.beginGroup();while(!0){J.push(Z.parseExpression(!1,"\\\\")),Z.gullet.endGroup(),Z.gullet.beginGroup();var Q=Z.fetch().text;if(Q==="&"||Q==="\\\\")Z.consume();else if(Q==="\\end"){if(J[J.length-1].length===0)J.pop();break}else throw new B8("Expected \\\\ or \\cr or \\end",Z.nextToken)}var K=[],X=[K];for(var U=0;U<J.length;U++){var Y=J[U],q=DK0();for(var W=0;W<Y.length;W++)if(!LK0(Y[W]))q.body.push(Y[W]);else{K.push(q),W+=1;var G=uy(Y[W]).text,z=[,,];if(z[0]={type:"ordgroup",mode:"math",body:[]},z[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(G)>-1);else if("<>AV".indexOf(G)>-1)for(var H=0;H<2;H++){var F=!0;for(var M=W+1;M<Y.length;M++){if(T08(Y[M],G)){F=!1,W=M;break}if(LK0(Y[M]))throw new B8("Missing a "+G+" character to complete a CD arrow.",Y[M]);z[H].body.push(Y[M])}if(F)throw new B8("Missing a "+G+" character to complete a CD arrow.",Y[W])}else throw new B8('Expected one of "<>AV=|." after @',Y[W]);var B=w08(G,z,Z),O={type:"styling",body:[B],mode:"math",style:"display"};K.push(O),q=DK0()}if(U%2===0)K.push(q);else K.shift();K=[],X.push(K)}Z.gullet.endGroup(),Z.gullet.endGroup();var R=Array(X[0].length).fill({type:"align",align:"c",pregap:0.25,postgap:0.25});return{type:"array",mode:"math",body:X,arraystretch:1,addJot:!0,rowGaps:[null],cols:R,colSeparationType:"CD",hLinesBeforeRow:Array(X.length+1).fill([])}}function OV(Z,J){var Q=MV(Z);if(Q&&c08.includes(Q.text))return Q;else if(Q)throw new B8("Invalid delimiter '"+Q.text+"' after '"+J.funcName+"'",Z);else throw new B8("Invalid delimiter type '"+Z.type+"'",Z)}function AK0(Z){if(!Z.body)throw Error("Bug: The leftright ParseNode wasn't fully parsed.")}function zX(Z){var{type:J,names:Q,props:K,handler:X,htmlBuilder:U,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:X};for(var W=0;W<Q.length;++W)L50[Q[W]]=q;if(U)YV[J]=U;if(Y)qV[J]=Y}function G0(Z,J){I50[Z]=J}function NK0(Z){var J=[];Z.consumeSpaces();var Q=Z.fetch().text;if(Q==="\\relax")Z.consume(),Z.consumeSpaces(),Q=Z.fetch().text;while(Q==="\\hline"||Q==="\\hdashline")Z.consume(),J.push(Q==="\\hdashline"),Z.consumeSpaces(),Q=Z.fetch().text;return J}function dy(Z){if(Z.indexOf("ed")===-1)return Z.indexOf("*")===-1}function L1(Z,J,Q){var{hskipBeforeAndAfter:K,addJot:X,cols:U,arraystretch:Y,colSeparationType:q,autoTag:W,singleRow:G,emptySingleRow:z,maxNumCols:H,leqno:F}=J;if(Z.gullet.beginGroup(),!G)Z.gullet.macros.set("\\cr","\\\\\\relax");if(!Y){var M=Z.gullet.expandMacroAsText("\\arraystretch");if(M==null)Y=1;else if(Y=parseFloat(M),!Y||Y<0)throw new B8("Invalid \\arraystretch: "+M)}Z.gullet.beginGroup();var B=[],O=[B],R=[],D=[],L=W!=null?[]:void 0;function A(){if(W)Z.gullet.macros.set("\\@eqnsw","1",!0)}function V(){if(L)if(Z.gullet.macros.get("\\df@tag"))L.push(Z.subparse([new P4("\\df@tag")])),Z.gullet.macros.set("\\df@tag",void 0,!0);else L.push(Boolean(W)&&Z.gullet.macros.get("\\@eqnsw")==="1")}A(),D.push(NK0(Z));while(!0){var N=Z.parseExpression(!1,G?"\\end":"\\\\");if(Z.gullet.endGroup(),Z.gullet.beginGroup(),N={type:"ordgroup",mode:Z.mode,body:N},Q)N={type:"styling",mode:Z.mode,style:Q,body:[N]};B.push(N);var E=Z.fetch().text;if(E==="&"){if(H&&B.length===H)if(G||q)throw new B8("Too many tab characters: &",Z.nextToken);else Z.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.");Z.consume()}else if(E==="\\end"){if(V(),B.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(O.length>1||!z))O.pop();if(D.length<O.length+1)D.push([]);break}else if(E==="\\\\"){Z.consume();var j=void 0;if(Z.gullet.future().text!==" ")j=Z.parseSizeGroup(!0);R.push(j?j.value:null),V(),D.push(NK0(Z)),B=[],O.push(B),A()}else throw new B8("Expected & or \\\\ or \\cr or \\end",Z.nextToken)}return Z.gullet.endGroup(),Z.gullet.endGroup(),{type:"array",mode:Z.mode,addJot:X,arraystretch:Y,body:O,cols:U,rowGaps:R,hskipBeforeAndAfter:K,hLinesBeforeRow:D,colSeparationType:q,tags:L,leqno:F}}function iy(Z){if(Z.slice(0,1)==="d")return"display";else return"text"}function T50(Z,J,Q){var K=R7(Z,J,!1),X=J.sizeMultiplier/Q.sizeMultiplier;for(var U=0;U<K.length;U++){var Y=K[U].classes.indexOf("sizing");if(Y<0)Array.prototype.push.apply(K[U].classes,J.sizingClasses(Q));else if(K[U].classes[Y+1]==="reset-size"+J.size)K[U].classes[Y+1]="reset-size"+Q.size;K[U].height*=X,K[U].depth*=X}return g0.makeFragment(K)}class vy{constructor(Z,J){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=Z,this.settings=J,this.tokenRegex=new RegExp(K88,"g"),this.catcodes={"%":14,"~":13}}setCatcode(Z,J){this.catcodes[Z]=J}lex(){var Z=this.input,J=this.tokenRegex.lastIndex;if(J===Z.length)return new P4("EOF",new x6(this,J,J));var Q=this.tokenRegex.exec(Z);if(Q===null||Q.index!==J)throw new B8("Unexpected character: '"+Z[J]+"'",new P4(Z[J],new x6(this,J,J+1)));var K=Q[6]||Q[3]||(Q[2]?"\\ ":" ");if(this.catcodes[K]===14){var X=Z.indexOf(`
`,this.tokenRegex.lastIndex);if(X===-1)this.tokenRegex.lastIndex=Z.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)");else this.tokenRegex.lastIndex=X+1;return this.lex()}return new P4(K,new x6(this,J,this.tokenRegex.lastIndex))}}class k50{constructor(Z,J){if(Z===void 0)Z={};if(J===void 0)J={};this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=J,this.builtins=Z,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new B8("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var Z=this.undefStack.pop();for(var J in Z)if(Z.hasOwnProperty(J))if(Z[J]==null)delete this.current[J];else this.current[J]=Z[J]}endGroups(){while(this.undefStack.length>0)this.endGroup()}has(Z){return this.current.hasOwnProperty(Z)||this.builtins.hasOwnProperty(Z)}get(Z){if(this.current.hasOwnProperty(Z))return this.current[Z];else return this.builtins[Z]}set(Z,J,Q){if(Q===void 0)Q=!1;if(Q){for(var K=0;K<this.undefStack.length;K++)delete this.undefStack[K][Z];if(this.undefStack.length>0)this.undefStack[this.undefStack.length-1][Z]=J}else{var X=this.undefStack[this.undefStack.length-1];if(X&&!X.hasOwnProperty(Z))X[Z]=this.current[Z]}if(J==null)delete this.current[Z];else this.current[Z]=J}}class x50{constructor(Z,J,Q){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=J,this.expansionCount=0,this.feed(Z),this.macros=new k50(X88,J.macros),this.mode=Q,this.stack=[]}feed(Z){this.lexer=new vy(Z,this.settings)}switchMode(Z){this.mode=Z}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){if(this.stack.length===0)this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(Z){this.stack.push(Z)}pushTokens(Z){this.stack.push(...Z)}scanArgument(Z){var J,Q,K;if(Z){if(this.consumeSpaces(),this.future().text!=="[")return null;J=this.popToken(),{tokens:K,end:Q}=this.consumeArg(["]"])}else({tokens:K,start:J,end:Q}=this.consumeArg());return this.pushToken(new P4("EOF",Q.loc)),this.pushTokens(K),new P4("",x6.range(J,Q))}consumeSpaces(){for(;;){var Z=this.future();if(Z.text===" ")this.stack.pop();else break}}consumeArg(Z){var J=[],Q=Z&&Z.length>0;if(!Q)this.consumeSpaces();var K=this.future(),X,U=0,Y=0;do{if(X=this.popToken(),J.push(X),X.text==="{")++U;else if(X.text==="}"){if(--U,U===-1)throw new B8("Extra }",X)}else if(X.text==="EOF")throw new B8("Unexpected end of input in a macro argument, expected '"+(Z&&Q?Z[Y]:"}")+"'",X);if(Z&&Q)if((U===0||U===1&&Z[Y]==="{")&&X.text===Z[Y]){if(++Y,Y===Z.length){J.splice(-Y,Y);break}}else Y=0}while(U!==0||Q);if(K.text==="{"&&J[J.length-1].text==="}")J.pop(),J.shift();return J.reverse(),{tokens:J,start:K,end:X}}consumeArgs(Z,J){if(J){if(J.length!==Z+1)throw new B8("The length of delimiters doesn't match the number of args!");var Q=J[0];for(var K=0;K<Q.length;K++){var X=this.popToken();if(Q[K]!==X.text)throw new B8("Use of the macro doesn't match its definition",X)}}var U=[];for(var Y=0;Y<Z;Y++)U.push(this.consumeArg(J&&J[Y+1]).tokens);return U}countExpansion(Z){if(this.expansionCount+=Z,this.expansionCount>this.settings.maxExpand)throw new B8("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(Z){var J=this.popToken(),Q=J.text,K=!J.noexpand?this._getExpansion(Q):null;if(K==null||Z&&K.unexpandable){if(Z&&K==null&&Q[0]==="\\"&&!this.isDefined(Q))throw new B8("Undefined control sequence: "+Q);return this.pushToken(J),!1}this.countExpansion(1);var X=K.tokens,U=this.consumeArgs(K.numArgs,K.delimiters);if(K.numArgs){X=X.slice();for(var Y=X.length-1;Y>=0;--Y){var q=X[Y];if(q.text==="#"){if(Y===0)throw new B8("Incomplete placeholder at end of macro body",q);if(q=X[--Y],q.text==="#")X.splice(Y+1,1);else if(/^[1-9]$/.test(q.text))X.splice(Y,2,...U[+q.text-1]);else throw new B8("Not a valid argument number",q)}}}return this.pushTokens(X),X.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var Z=this.stack.pop();if(Z.treatAsRelax)Z.text="\\relax";return Z}throw Error()}expandMacro(Z){return this.macros.has(Z)?this.expandTokens([new P4(Z)]):void 0}expandTokens(Z){var J=[],Q=this.stack.length;this.pushTokens(Z);while(this.stack.length>Q)if(this.expandOnce(!0)===!1){var K=this.stack.pop();if(K.treatAsRelax)K.noexpand=!1,K.treatAsRelax=!1;J.push(K)}return this.countExpansion(J.length),J}expandMacroAsText(Z){var J=this.expandMacro(Z);if(J)return J.map((Q)=>Q.text).join("");else return J}_getExpansion(Z){var J=this.macros.get(Z);if(J==null)return J;if(Z.length===1){var Q=this.lexer.catcodes[Z];if(Q!=null&&Q!==13)return}var K=typeof J==="function"?J(this):J;if(typeof K==="string"){var X=0;if(K.indexOf("#")!==-1){var U=K.replace(/##/g,"");while(U.indexOf("#"+(X+1))!==-1)++X}var Y=new vy(K,this.settings),q=[],W=Y.lex();while(W.text!=="EOF")q.push(W),W=Y.lex();q.reverse();var G={tokens:q,numArgs:X};return G}return K}isDefined(Z){return this.macros.has(Z)||O1.hasOwnProperty(Z)||lZ.math.hasOwnProperty(Z)||lZ.text.hasOwnProperty(Z)||v50.hasOwnProperty(Z)}isExpandable(Z){var J=this.macros.get(Z);return J!=null?typeof J==="string"||typeof J==="function"||!J.unexpandable:O1.hasOwnProperty(Z)&&!O1[Z].primitive}}class DV{constructor(Z,J){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new x50(Z,J,this.mode),this.settings=J,this.leftrightDepth=0}expect(Z,J){if(J===void 0)J=!0;if(this.fetch().text!==Z)throw new B8("Expected '"+Z+"', got '"+this.fetch().text+"'",this.fetch());if(J)this.consume()}consume(){this.nextToken=null}fetch(){if(this.nextToken==null)this.nextToken=this.gullet.expandNextToken();return this.nextToken}switchMode(Z){this.mode=Z,this.gullet.switchMode(Z)}parse(){if(!this.settings.globalGroup)this.gullet.beginGroup();if(this.settings.colorIsTextColor)this.gullet.macros.set("\\color","\\textcolor");try{var Z=this.parseExpression(!1);if(this.expect("EOF"),!this.settings.globalGroup)this.gullet.endGroup();return Z}finally{this.gullet.endGroups()}}subparse(Z){var J=this.nextToken;this.consume(),this.gullet.pushToken(new P4("}")),this.gullet.pushTokens(Z);var Q=this.parseExpression(!1);return this.expect("}"),this.nextToken=J,Q}parseExpression(Z,J){var Q=[];while(!0){if(this.mode==="math")this.consumeSpaces();var K=this.fetch();if(DV.endOfExpression.indexOf(K.text)!==-1)break;if(J&&K.text===J)break;if(Z&&O1[K.text]&&O1[K.text].infix)break;var X=this.parseAtom(J);if(!X)break;else if(X.type==="internal")continue;Q.push(X)}if(this.mode==="text")this.formLigatures(Q);return this.handleInfixNodes(Q)}handleInfixNodes(Z){var J=-1,Q;for(var K=0;K<Z.length;K++)if(Z[K].type==="infix"){if(J!==-1)throw new B8("only one infix operator per group",Z[K].token);J=K,Q=Z[K].replaceWith}if(J!==-1&&Q){var X,U,Y=Z.slice(0,J),q=Z.slice(J+1);if(Y.length===1&&Y[0].type==="ordgroup")X=Y[0];else X={type:"ordgroup",mode:this.mode,body:Y};if(q.length===1&&q[0].type==="ordgroup")U=q[0];else U={type:"ordgroup",mode:this.mode,body:q};var W;if(Q==="\\\\abovefrac")W=this.callFunction(Q,[X,Z[J],U],[]);else W=this.callFunction(Q,[X,U],[]);return[W]}else return Z}handleSupSubscript(Z){var J=this.fetch(),Q=J.text;this.consume(),this.consumeSpaces();var K;do{var X;K=this.parseGroup(Z)}while(((X=K)==null?void 0:X.type)==="internal");if(!K)throw new B8("Expected group after '"+Q+"'",J);return K}formatUnsupportedCmd(Z){var J=[];for(var Q=0;Q<Z.length;Q++)J.push({type:"textord",mode:"text",text:Z[Q]});var K={type:"text",mode:this.mode,body:J},X={type:"color",mode:this.mode,color:this.settings.errorColor,body:[K]};return X}parseAtom(Z){var J=this.parseGroup("atom",Z);if((J==null?void 0:J.type)==="internal")return J;if(this.mode==="text")return J;var Q,K;while(!0){this.consumeSpaces();var X=this.fetch();if(X.text==="\\limits"||X.text==="\\nolimits"){if(J&&J.type==="op"){var U=X.text==="\\limits";J.limits=U,J.alwaysHandleSupSub=!0}else if(J&&J.type==="operatorname"){if(J.alwaysHandleSupSub)J.limits=X.text==="\\limits"}else throw new B8("Limit controls must follow a math operator",X);this.consume()}else if(X.text==="^"){if(Q)throw new B8("Double superscript",X);Q=this.handleSupSubscript("superscript")}else if(X.text==="_"){if(K)throw new B8("Double subscript",X);K=this.handleSupSubscript("subscript")}else if(X.text==="'"){if(Q)throw new B8("Double superscript",X);var Y={type:"textord",mode:this.mode,text:"\\prime"},q=[Y];this.consume();while(this.fetch().text==="'")q.push(Y),this.consume();if(this.fetch().text==="^")q.push(this.handleSupSubscript("superscript"));Q={type:"ordgroup",mode:this.mode,body:q}}else if(eE[X.text]){var W=bK0.test(X.text),G=[];G.push(new P4(eE[X.text])),this.consume();while(!0){var z=this.fetch().text;if(!eE[z])break;if(bK0.test(z)!==W)break;G.unshift(new P4(eE[z])),this.consume()}var H=this.subparse(G);if(W)K={type:"ordgroup",mode:"math",body:H};else Q={type:"ordgroup",mode:"math",body:H}}else break}if(Q||K)return{type:"supsub",mode:this.mode,base:J,sup:Q,sub:K};else return J}parseFunction(Z,J){var Q=this.fetch(),K=Q.text,X=O1[K];if(!X)return null;if(this.consume(),J&&J!=="atom"&&!X.allowedInArgument)throw new B8("Got function '"+K+"' with no arguments"+(J?" as "+J:""),Q);else if(this.mode==="text"&&!X.allowedInText)throw new B8("Can't use function '"+K+"' in text mode",Q);else if(this.mode==="math"&&X.allowedInMath===!1)throw new B8("Can't use function '"+K+"' in math mode",Q);var{args:U,optArgs:Y}=this.parseArguments(K,X);return this.callFunction(K,U,Y,Q,Z)}callFunction(Z,J,Q,K,X){var U={funcName:Z,parser:this,token:K,breakOnTokenText:X},Y=O1[Z];if(Y&&Y.handler)return Y.handler(U,J,Q);else throw new B8("No function handler for "+Z)}parseArguments(Z,J){var Q=J.numArgs+J.numOptionalArgs;if(Q===0)return{args:[],optArgs:[]};var K=[],X=[];for(var U=0;U<Q;U++){var Y=J.argTypes&&J.argTypes[U],q=U<J.numOptionalArgs;if(J.primitive&&Y==null||J.type==="sqrt"&&U===1&&X[0]==null)Y="primitive";var W=this.parseGroupOfType("argument to '"+Z+"'",Y,q);if(q)X.push(W);else if(W!=null)K.push(W);else throw new B8("Null argument, please report this as a bug")}return{args:K,optArgs:X}}parseGroupOfType(Z,J,Q){switch(J){case"color":return this.parseColorGroup(Q);case"size":return this.parseSizeGroup(Q);case"url":return this.parseUrlGroup(Q);case"math":case"text":return this.parseArgumentGroup(Q,J);case"hbox":{var K=this.parseArgumentGroup(Q,"text");return K!=null?{type:"styling",mode:K.mode,body:[K],style:"text"}:null}case"raw":{var X=this.parseStringGroup("raw",Q);return X!=null?{type:"raw",mode:"text",string:X.text}:null}case"primitive":{if(Q)throw new B8("A primitive argument cannot be optional");var U=this.parseGroup(Z);if(U==null)throw new B8("Expected group as "+Z,this.fetch());return U}case"original":case null:case void 0:return this.parseArgumentGroup(Q);default:throw new B8("Unknown group type as "+Z,this.fetch())}}consumeSpaces(){while(this.fetch().text===" ")this.consume()}parseStringGroup(Z,J){var Q=this.gullet.scanArgument(J);if(Q==null)return null;var K="",X;while((X=this.fetch()).text!=="EOF")K+=X.text,this.consume();return this.consume(),Q.text=K,Q}parseRegexGroup(Z,J){var Q=this.fetch(),K=Q,X="",U;while((U=this.fetch()).text!=="EOF"&&Z.test(X+U.text))K=U,X+=K.text,this.consume();if(X==="")throw new B8("Invalid "+J+": '"+Q.text+"'",Q);return Q.range(K,X)}parseColorGroup(Z){var J=this.parseStringGroup("color",Z);if(J==null)return null;var Q=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(J.text);if(!Q)throw new B8("Invalid color: '"+J.text+"'",J);var K=Q[0];if(/^[0-9a-f]{6}$/i.test(K))K="#"+K;return{type:"color-token",mode:this.mode,color:K}}parseSizeGroup(Z){var J,Q=!1;if(this.gullet.consumeSpaces(),!Z&&this.gullet.future().text!=="{")J=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");else J=this.parseStringGroup("size",Z);if(!J)return null;if(!Z&&J.text.length===0)J.text="0pt",Q=!0;var K=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J.text);if(!K)throw new B8("Invalid size: '"+J.text+"'",J);var X={number:+(K[1]+K[2]),unit:K[3]};if(!gK0(X))throw new B8("Invalid unit: '"+X.unit+"'",J);return{type:"size",mode:this.mode,value:X,isBlank:Q}}parseUrlGroup(Z){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var J=this.parseStringGroup("url",Z);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),J==null)return null;var Q=J.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:Q}}parseArgumentGroup(Z,J){var Q=this.gullet.scanArgument(Z);if(Q==null)return null;var K=this.mode;if(J)this.switchMode(J);this.gullet.beginGroup();var X=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var U={type:"ordgroup",mode:this.mode,loc:Q.loc,body:X};if(J)this.switchMode(K);return U}parseGroup(Z,J){var Q=this.fetch(),K=Q.text,X;if(K==="{"||K==="\\begingroup"){this.consume();var U=K==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Y=this.parseExpression(!1,U),q=this.fetch();this.expect(U),this.gullet.endGroup(),X={type:"ordgroup",mode:this.mode,loc:x6.range(Q,q),body:Y,semisimple:K==="\\begingroup"||void 0}}else if(X=this.parseFunction(J,Z)||this.parseSymbol(),X==null&&K[0]==="\\"&&!v50.hasOwnProperty(K)){if(this.settings.throwOnError)throw new B8("Undefined control sequence: "+K,Q);X=this.formatUnsupportedCmd(K),this.consume()}return X}formLigatures(Z){var J=Z.length-1;for(var Q=0;Q<J;++Q){var K=Z[Q],X=K.text;if(X==="-"&&Z[Q+1].text==="-")if(Q+1<J&&Z[Q+2].text==="-")Z.splice(Q,3,{type:"textord",mode:"text",loc:x6.range(K,Z[Q+2]),text:"---"}),J-=2;else Z.splice(Q,2,{type:"textord",mode:"text",loc:x6.range(K,Z[Q+1]),text:"--"}),J-=1;if((X==="'"||X==="`")&&Z[Q+1].text===X)Z.splice(Q,2,{type:"textord",mode:"text",loc:x6.range(K,Z[Q+1]),text:X+X}),J-=1}}parseSymbol(){var Z=this.fetch(),J=Z.text;if(/^\\verb[^a-zA-Z]/.test(J)){this.consume();var Q=J.slice(5),K=Q.charAt(0)==="*";if(K)Q=Q.slice(1);if(Q.length<2||Q.charAt(0)!==Q.slice(-1))throw new B8(`\\verb assertion failed --
                    please report what input caused this bug`);return Q=Q.slice(1,-1),{type:"verb",mode:"text",body:Q,star:K}}if(yK0.hasOwnProperty(J[0])&&!lZ[this.mode][J[0]]){if(this.settings.strict&&this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+J[0]+'" used in math mode',Z);J=yK0[J[0]]+J.slice(1)}var X=Q88.exec(J);if(X){if(J=J.substring(0,X.index),J==="i")J="";else if(J==="j")J=""}var U;if(lZ[this.mode][J]){if(this.settings.strict&&this.mode==="math"&&Ty.indexOf(J)>=0)this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+J[0]+'" used in math mode',Z);var Y=lZ[this.mode][J].group,q=x6.range(Z),W;if(ne0.hasOwnProperty(Y)){var G=Y;W={type:"atom",mode:this.mode,family:G,loc:q,text:J}}else W={type:Y,mode:this.mode,loc:q,text:J};U=W}else if(J.charCodeAt(0)>=128){if(this.settings.strict){if(!mK0(J.charCodeAt(0)))this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+J[0]+'"'+(" ("+J.charCodeAt(0)+")"),Z);else if(this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+J[0]+'" used in math mode',Z)}U={type:"textord",mode:"text",loc:x6.range(Z),text:J}}else return null;if(this.consume(),X)for(var z=0;z<X[0].length;z++){var H=X[0][z];if(!jy[H])throw new B8("Unknown accent ' "+H+"'",Z);var F=jy[H][this.mode]||jy[H].text;if(!F)throw new B8("Accent "+H+" unsupported in "+this.mode+" mode",Z);U={type:"accent",mode:this.mode,loc:x6.range(Z),label:F,isStretchy:!1,isShifty:!0,base:U}}return U}}var Re0=function(J,Q){return J===void 0?Q:J},De0,Le0=function(J){return J.replace(De0,"-$1").toLowerCase()},Ie0,Ae0,hK0=function Z(J){if(J.type==="ordgroup")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="color")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="font")return Z(J.body);else return J},Ee0=function(J){var Q=hK0(J);return Q.type==="mathord"||Q.type==="textord"||Q.type==="atom"},Ve0=function(J){if(!J)throw Error("Expected non-null, but got "+String(J));return J},Pe0=function(J){var Q=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(J);if(!Q)return"_relative";if(Q[2]!==":")return null;if(!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(Q[1]))return null;return Q[1].toLowerCase()},HZ,eR,xy=0,KV=1,lH=2,iU=3,J3=4,UK=5,dH=6,oQ=7,qX,Ce0,Se0,Te0,we0,$e0,ke0,X9,Cy,ZV,gH=80,fe0=function(J,Q){return"M95,"+(622+J+Q)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+J/2.075+" -"+J+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+J)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},ve0=function(J,Q){return"M263,"+(601+J+Q)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+J/2.084+" -"+J+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+J)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},xe0=function(J,Q){return"M983 "+(10+J+Q)+`
l`+J/3.13+" -"+J+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+J)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},be0=function(J,Q){return"M424,"+(2398+J+Q)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+J/4.223+" -"+J+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+J)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+J)+" "+Q+`
h400000v`+(40+J)+"h-400000z"},ye0=function(J,Q){return"M473,"+(2713+J+Q)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+J/5.298+" -"+J+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+J)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+J)+" "+Q+"h400000v"+(40+J)+"H1017.7z"},he0=function(J){var Q=J/2;return"M400000 "+J+" H0 L"+Q+" 0 l65 45 L145 "+(J-80)+" H400000z"},me0=function(J,Q,K){var X=K-54-Q-J;return"M702 "+(J+Q)+"H400000"+(40+J)+`
H742v`+X+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+Q+"H400000v"+(40+J)+"H742z"},ue0=function(J,Q,K){Q=1000*Q;var X="";switch(J){case"sqrtMain":X=fe0(Q,gH);break;case"sqrtSize1":X=ve0(Q,gH);break;case"sqrtSize2":X=xe0(Q,gH);break;case"sqrtSize3":X=be0(Q,gH);break;case"sqrtSize4":X=ye0(Q,gH);break;case"sqrtTall":X=me0(Q,gH,K)}return X},ge0=function(J,Q){switch(J){case"":return"M291 0 H417 V"+Q+" H291z M291 0 H417 V"+Q+" H291z";case"":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z";case"":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z"+("M367 0 H410 V"+Q+" H367z M367 0 H410 V"+Q+" H367z");case"":return"M457 0 H583 V"+Q+" H457z M457 0 H583 V"+Q+" H457z";case"":return"M319 0 H403 V"+Q+" H319z M319 0 H403 V"+Q+" H319z";case"":return"M263 0 H347 V"+Q+" H263z M263 0 H347 V"+Q+" H263z";case"":return"M384 0 H504 V"+Q+" H384z M384 0 H504 V"+Q+" H384z";case"":return"M312 0 H355 V"+Q+" H312z M312 0 H355 V"+Q+" H312z";case"":return"M257 0 H300 V"+Q+" H257z M257 0 H300 V"+Q+" H257z"+("M478 0 H521 V"+Q+" H478z M478 0 H521 V"+Q+" H478z");default:return""}},qK0,pe0=function(J,Q){switch(J){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+Q+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+Q+" v1759 h84z";case"vert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+` v585 h43z
M367 15 v585 v`+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+Q+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Q+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Q+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v602 h84z
M403 1759 V0 H319 V1759 v`+Q+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v602 h84z
M347 1759 V0 h-84 V1759 v`+Q+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(Q+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(Q+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(Q+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(Q+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw Error("Unknown stretchy delimiter.")}},WX,sE,WK0,Oy,le0,GK0,zK0=function(J,Q){return Q.size<2?J:le0[J-1][Q.size-1]},Sy,de0,gK0=function(J){if(typeof J!=="string")J=J.unit;return J in Sy||J in de0||J==="ex"},SJ=function(J,Q){var K;if(J.unit in Sy)K=Sy[J.unit]/Q.fontMetrics().ptPerEm/Q.sizeMultiplier;else if(J.unit==="mu")K=Q.fontMetrics().cssEmPerMu;else{var X;if(Q.style.isTight())X=Q.havingStyle(Q.style.text());else X=Q;if(J.unit==="ex")K=X.fontMetrics().xHeight;else if(J.unit==="em")K=X.fontMetrics().quad;else throw new B8("Invalid unit: '"+J.unit+"'");if(X!==Q)K*=X.sizeMultiplier/Q.sizeMultiplier}return Math.min(J.number*K,Q.maxSize)},V8=function(J){return+J.toFixed(4)+"em"},R1=function(J){return J.filter((Q)=>Q).join(" ")},pK0=function(J,Q,K){if(this.classes=J||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=K||{},Q){if(Q.style.isTight())this.classes.push("mtight");var X=Q.getColor();if(X)this.style.color=X}},cK0=function(J){var Q=document.createElement(J);Q.className=R1(this.classes);for(var K in this.style)if(this.style.hasOwnProperty(K))Q.style[K]=this.style[K];for(var X in this.attributes)if(this.attributes.hasOwnProperty(X))Q.setAttribute(X,this.attributes[X]);for(var U=0;U<this.children.length;U++)Q.appendChild(this.children[U].toNode());return Q},ie0,lK0=function(J){var Q="<"+J;if(this.classes.length)Q+=' class="'+HZ.escape(R1(this.classes))+'"';var K="";for(var X in this.style)if(this.style.hasOwnProperty(X))K+=HZ.hyphenate(X)+":"+this.style[X]+";";if(K)Q+=' style="'+HZ.escape(K)+'"';for(var U in this.attributes)if(this.attributes.hasOwnProperty(U)){if(ie0.test(U))throw new B8("Invalid attribute name '"+U+"'");Q+=" "+U+'="'+HZ.escape(this.attributes[U])+'"'}Q+=">";for(var Y=0;Y<this.children.length;Y++)Q+=this.children[Y].toMarkup();return Q+="</"+J+">",Q},se0,ne0,ae0,lZ,l="math",X8="text",K0="main",P0="ams",OJ="accent-token",b8="bin",tQ="close",rH="inner",K9="mathord",J7="op-token",C4="open",HV="punct",j0="rel",oU="spacing",$0="textord",iK0,FK0='0123456789/@."',JV,rR,MK0='0123456789!@*()-=+";:?/.,',QV,nR,UV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",pH,aR,B9="",BJ,t7,YX,lU,Ty="",cH,oR,rE,BK0,oe0=function(J,Q){var K=J.charCodeAt(0),X=J.charCodeAt(1),U=(K-55296)*1024+(X-56320)+65536,Y=Q==="math"?0:1;if(119808<=U&&U<120484){var q=Math.floor((U-119808)/26);return[rE[q][2],rE[q][Y]]}else if(120782<=U&&U<=120831){var W=Math.floor((U-120782)/10);return[BK0[W][2],BK0[W][Y]]}else if(U===120485||U===120486)return[rE[0][2],rE[0][Y]];else if(120486<U&&U<120782)return["",""];else throw new B8("Unsupported character: "+J)},FV=function(J,Q,K){if(lZ[K][J]&&lZ[K][J].replace)J=lZ[K][J].replace;return{value:J,metrics:by(J,Q,K)}},K5=function(J,Q,K,X,U){var Y=FV(J,Q,K),q=Y.metrics;J=Y.value;var W;if(q){var G=q.italic;if(K==="text"||X&&X.font==="mathit")G=0;W=new j4(J,q.height,q.depth,G,q.skew,q.width,U)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+J+"' in style '"+Q+"' and mode '"+K+"'")),W=new j4(J,0,0,0,0,0,U);if(X){if(W.maxFontSize=X.sizeMultiplier,X.style.isTight())W.classes.push("mtight");var z=X.getColor();if(z)W.style.color=z}return W},te0=function(J,Q,K,X){if(X===void 0)X=[];if(K.font==="boldsymbol"&&FV(J,"Main-Bold",Q).metrics)return K5(J,"Main-Bold",Q,K,X.concat(["mathbf"]));else if(J==="\\"||lZ[Q][J].font==="main")return K5(J,"Main-Regular",Q,K,X);else return K5(J,"AMS-Regular",Q,K,X.concat(["amsrm"]))},ee0=function(J,Q,K,X,U){if(U!=="textord"&&FV(J,"Math-BoldItalic",Q).metrics)return{fontName:"Math-BoldItalic",fontClass:"boldsymbol"};else return{fontName:"Main-Bold",fontClass:"mathbf"}},Z08=function(J,Q,K){var{mode:X,text:U}=J,Y=["mord"],q=X==="math"||X==="text"&&Q.font,W=q?Q.font:Q.fontFamily,G="",z="";if(U.charCodeAt(0)===55349)[G,z]=oe0(U,X);if(G.length>0)return K5(U,G,X,Q,Y.concat(z));else if(W){var H,F;if(W==="boldsymbol"){var M=ee0(U,X,Q,Y,K);H=M.fontName,F=[M.fontClass]}else if(q)H=nK0[W].fontName,F=[W];else H=nE(W,Q.fontWeight,Q.fontShape),F=[W,Q.fontWeight,Q.fontShape];if(FV(U,H,X).metrics)return K5(U,H,X,Q,Y.concat(F));else if(iK0.hasOwnProperty(U)&&H.slice(0,10)==="Typewriter"){var B=[];for(var O=0;O<U.length;O++)B.push(K5(U[O],H,X,Q,Y.concat(F)));return rK0(B)}}if(K==="mathord")return K5(U,"Math-Italic",X,Q,Y.concat(["mathnormal"]));else if(K==="textord"){var R=lZ[X][U]&&lZ[X][U].font;if(R==="ams"){var D=nE("amsrm",Q.fontWeight,Q.fontShape);return K5(U,D,X,Q,Y.concat("amsrm",Q.fontWeight,Q.fontShape))}else if(R==="main"||!R){var L=nE("textrm",Q.fontWeight,Q.fontShape);return K5(U,L,X,Q,Y.concat(Q.fontWeight,Q.fontShape))}else{var A=nE(R,Q.fontWeight,Q.fontShape);return K5(U,A,X,Q,Y.concat(A,Q.fontWeight,Q.fontShape))}}else throw Error("unexpected type: "+K+" in makeOrd")},J08=(Z,J)=>{if(R1(Z.classes)!==R1(J.classes)||Z.skew!==J.skew||Z.maxFontSize!==J.maxFontSize)return!1;if(Z.classes.length===1){var Q=Z.classes[0];if(Q==="mbin"||Q==="mord")return!1}for(var K in Z.style)if(Z.style.hasOwnProperty(K)&&Z.style[K]!==J.style[K])return!1;for(var X in J.style)if(J.style.hasOwnProperty(X)&&Z.style[X]!==J.style[X])return!1;return!0},Q08=(Z)=>{for(var J=0;J<Z.length-1;J++){var Q=Z[J],K=Z[J+1];if(Q instanceof j4&&K instanceof j4&&J08(Q,K))Q.text+=K.text,Q.height=Math.max(Q.height,K.height),Q.depth=Math.max(Q.depth,K.depth),Q.italic=K.italic,Z.splice(J+1,1),J--}return Z},yy=function(J){var Q=0,K=0,X=0;for(var U=0;U<J.children.length;U++){var Y=J.children[U];if(Y.height>Q)Q=Y.height;if(Y.depth>K)K=Y.depth;if(Y.maxFontSize>X)X=Y.maxFontSize}J.height=Q,J.depth=K,J.maxFontSize=X},v6=function(J,Q,K,X){var U=new sH(J,Q,K,X);return yy(U),U},sK0=(Z,J,Q,K)=>new sH(Z,J,Q,K),K08=function(J,Q,K){var X=v6([J],[],Q);return X.height=Math.max(K||Q.fontMetrics().defaultRuleThickness,Q.minRuleThickness),X.style.borderBottomWidth=V8(X.height),X.maxFontSize=1,X},X08=function(J,Q,K,X){var U=new zV(J,Q,K,X);return yy(U),U},rK0=function(J){var Q=new iH(J);return yy(Q),Q},U08=function(J,Q){if(J instanceof iH)return v6([],[J],Q);return J},Y08=function(J){if(J.positionType==="individualShift"){var Q=J.children,K=[Q[0]],X=-Q[0].shift-Q[0].elem.depth,U=X;for(var Y=1;Y<Q.length;Y++){var q=-Q[Y].shift-U-Q[Y].elem.depth,W=q-(Q[Y-1].elem.height+Q[Y-1].elem.depth);U=U+q,K.push({type:"kern",size:W}),K.push(Q[Y])}return{children:K,depth:X}}var G;if(J.positionType==="top"){var z=J.positionData;for(var H=0;H<J.children.length;H++){var F=J.children[H];z-=F.type==="kern"?F.size:F.elem.height+F.elem.depth}G=z}else if(J.positionType==="bottom")G=-J.positionData;else{var M=J.children[0];if(M.type!=="elem")throw Error('First child must have type "elem".');if(J.positionType==="shift")G=-M.elem.depth-J.positionData;else if(J.positionType==="firstBaseline")G=-M.elem.depth;else throw Error("Invalid positionType "+J.positionType+".")}return{children:J.children,depth:G}},q08=function(J,Q){var{children:K,depth:X}=Y08(J),U=0;for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q.type==="elem"){var W=q.elem;U=Math.max(U,W.maxFontSize,W.height)}}U+=2;var G=v6(["pstrut"],[]);G.style.height=V8(U);var z=[],H=X,F=X,M=X;for(var B=0;B<K.length;B++){var O=K[B];if(O.type==="kern")M+=O.size;else{var R=O.elem,D=O.wrapperClasses||[],L=O.wrapperStyle||{},A=v6(D,[G,R],void 0,L);if(A.style.top=V8(-U-M-R.depth),O.marginLeft)A.style.marginLeft=O.marginLeft;if(O.marginRight)A.style.marginRight=O.marginRight;z.push(A),M+=R.height+R.depth}H=Math.min(H,M),F=Math.max(F,M)}var V=v6(["vlist"],z);V.style.height=V8(F);var N;if(H<0){var E=v6([],[]),j=v6(["vlist"],[E]);j.style.height=V8(-H);var C=v6(["vlist-s"],[new j4("")]);N=[v6(["vlist-r"],[V,C]),v6(["vlist-r"],[j])]}else N=[v6(["vlist-r"],[V])];var $=v6(["vlist-t"],N);if(N.length===2)$.classes.push("vlist-t2");return $.height=F,$.depth=-H,$},W08=(Z,J)=>{var Q=v6(["mspace"],[],J),K=SJ(Z,J);return Q.style.marginRight=V8(K),Q},nE=function(J,Q,K){var X="";switch(J){case"amsrm":X="AMS";break;case"textrm":X="Main";break;case"textsf":X="SansSerif";break;case"texttt":X="Typewriter";break;default:X=J}var U;if(Q==="textbf"&&K==="textit")U="BoldItalic";else if(Q==="textbf")U="Bold";else if(Q==="textit")U="Italic";else U="Regular";return X+"-"+U},nK0,aK0,G08=function(J,Q){var[K,X,U]=aK0[J],Y=new rU(K),q=new GX([Y],{width:V8(X),height:V8(U),style:"width:"+V8(X),viewBox:"0 0 "+1000*X+" "+1000*U,preserveAspectRatio:"xMinYMin"}),W=sK0(["overlay"],[q],Q);return W.height=U,W.style.height=V8(U),W.style.width=V8(X),W},g0,CJ,DG,pU,z08,H08,oK0,YV,qV,WV=function(J){return J.type==="ordgroup"&&J.body.length===1?J.body[0]:J},iJ=function(J){return J.type==="ordgroup"?J.body:[J]},nU,F08,M08,B08,O08,R7=function(J,Q,K,X){if(X===void 0)X=[null,null];var U=[];for(var Y=0;Y<J.length;Y++){var q=XZ(J[Y],Q);if(q instanceof iH){var W=q.children;U.push(...W)}else U.push(q)}if(g0.tryCombineChars(U),!K)return U;var G=Q;if(J.length===1){var z=J[0];if(z.type==="sizing")G=Q.havingSize(z.size);else if(z.type==="styling")G=Q.havingStyle(B08[z.style])}var H=nU([X[0]||"leftmost"],[],Q),F=nU([X[1]||"rightmost"],[],Q),M=K==="root";return OK0(U,(B,O)=>{var R=O.classes[0],D=B.classes[0];if(R==="mbin"&&M08.includes(D))O.classes[0]="mord";else if(D==="mbin"&&F08.includes(R))B.classes[0]="mord"},{node:H},F,M),OK0(U,(B,O)=>{var R=wy(O),D=wy(B),L=R&&D?B.hasClass("mtight")?H08[R][D]:z08[R][D]:null;if(L)return g0.makeGlue(L,G)},{node:H},F,M),U},OK0=function Z(J,Q,K,X,U){if(X)J.push(X);var Y=0;for(;Y<J.length;Y++){var q=J[Y],W=tK0(q);if(W){Z(W.children,Q,K,null,U);continue}var G=!q.hasClass("mspace");if(G){var z=Q(q,K.node);if(z)if(K.insertAfter)K.insertAfter(z);else J.unshift(z),Y++}if(G)K.node=q;else if(U&&q.hasClass("newline"))K.node=nU(["leftmost"]);K.insertAfter=((H)=>(F)=>{J.splice(H+1,0,F),Y++})(Y)}if(X)J.pop()},tK0=function(J){if(J instanceof iH||J instanceof zV||J instanceof sH&&J.hasClass("enclosing"))return J;return null},R08=function Z(J,Q){var K=tK0(J);if(K){var X=K.children;if(X.length){if(Q==="right")return Z(X[X.length-1],"right");else if(Q==="left")return Z(X[0],"left")}}return J},wy=function(J,Q){if(!J)return null;if(Q)J=R08(J,Q);return O08[J.classes[0]]||null},Q3=function(J,Q){var K=["nulldelimiter"].concat(J.baseSizingClasses());return nU(Q.concat(K))},XZ=function(J,Q,K){if(!J)return nU();if(YV[J.type]){var X=YV[J.type](J,Q);if(K&&Q.size!==K.size){X=nU(Q.sizingClasses(K),[X],Q);var U=Q.sizeMultiplier/K.sizeMultiplier;X.height*=U,X.depth*=U}return X}else throw new B8("Got group of unknown type: '"+J.type+"'")},z8,YK=function(J,Q,K){if(lZ[Q][J]&&lZ[Q][J].replace&&J.charCodeAt(0)!==55349&&!(iK0.hasOwnProperty(J)&&K&&(K.fontFamily&&K.fontFamily.slice(4,6)==="tt"||K.font&&K.font.slice(4,6)==="tt")))J=lZ[Q][J].replace;return new z8.TextNode(J)},hy=function(J){if(J.length===1)return J[0];else return new z8.MathNode("mrow",J)},my=function(J,Q){if(Q.fontFamily==="texttt")return"monospace";else if(Q.fontFamily==="textsf")if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"sans-serif-bold-italic";else if(Q.fontShape==="textit")return"sans-serif-italic";else if(Q.fontWeight==="textbf")return"bold-sans-serif";else return"sans-serif";else if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"bold-italic";else if(Q.fontShape==="textit")return"italic";else if(Q.fontWeight==="textbf")return"bold";var K=Q.font;if(!K||K==="mathnormal")return null;var X=J.mode;if(K==="mathit")return"italic";else if(K==="boldsymbol")return J.type==="textord"?"bold":"bold-italic";else if(K==="mathbf")return"bold";else if(K==="mathbb")return"double-struck";else if(K==="mathsfit")return"sans-serif-italic";else if(K==="mathfrak")return"fraktur";else if(K==="mathscr"||K==="mathcal")return"script";else if(K==="mathsf")return"sans-serif";else if(K==="mathtt")return"monospace";var U=J.text;if(["\\imath","\\jmath"].includes(U))return null;if(lZ[X][U]&&lZ[X][U].replace)U=lZ[X][U].replace;var Y=g0.fontMap[K].fontName;if(by(U,Y,X))return g0.fontMap[K].variant;return null},y6=function(J,Q,K){if(J.length===1){var X=hZ(J[0],Q);if(K&&X instanceof b6&&X.type==="mo")X.setAttribute("lspace","0em"),X.setAttribute("rspace","0em");return[X]}var U=[],Y;for(var q=0;q<J.length;q++){var W=hZ(J[q],Q);if(W instanceof b6&&Y instanceof b6){if(W.type==="mtext"&&Y.type==="mtext"&&W.getAttribute("mathvariant")===Y.getAttribute("mathvariant")){Y.children.push(...W.children);continue}else if(W.type==="mn"&&Y.type==="mn"){Y.children.push(...W.children);continue}else if(Ry(W)&&Y.type==="mn"){Y.children.push(...W.children);continue}else if(W.type==="mn"&&Ry(Y))W.children=[...Y.children,...W.children],U.pop();else if((W.type==="msup"||W.type==="msub")&&W.children.length>=1&&(Y.type==="mn"||Ry(Y))){var G=W.children[0];if(G instanceof b6&&G.type==="mn")G.children=[...Y.children,...G.children],U.pop()}else if(Y.type==="mi"&&Y.children.length===1){var z=Y.children[0];if(z instanceof X5&&z.text===""&&(W.type==="mo"||W.type==="mi"||W.type==="mn")){var H=W.children[0];if(H instanceof X5&&H.text.length>0)H.text=H.text.slice(0,1)+""+H.text.slice(1),U.pop()}}}U.push(W),Y=W}return U},D1=function(J,Q,K){return hy(y6(J,Q,K))},hZ=function(J,Q){if(!J)return new z8.MathNode("mrow");if(qV[J.type]){var K=qV[J.type](J,Q);return K}else throw new B8("Got group of unknown type: '"+J.type+"'")},J50=function(J){return new dU({style:J.displayMode?X9.DISPLAY:X9.TEXT,maxSize:J.maxSize,minRuleThickness:J.minRuleThickness})},Q50=function(J,Q){if(Q.displayMode){var K=["katex-display"];if(Q.leqno)K.push("leqno");if(Q.fleqn)K.push("fleqn");J=g0.makeSpan(K,[J])}return J},D08=function(J,Q,K){var X=J50(K),U;if(K.output==="mathml")return RK0(J,Q,X,K.displayMode,!0);else if(K.output==="html"){var Y=$y(J,X);U=g0.makeSpan(["katex"],[Y])}else{var q=RK0(J,Q,X,K.displayMode,!1),W=$y(J,X);U=g0.makeSpan(["katex"],[q,W])}return Q50(U,K)},L08=function(J,Q,K){var X=J50(K),U=$y(J,X),Y=g0.makeSpan(["katex"],[U]);return Q50(Y,K)},I08,A08=function(J){var Q=new z8.MathNode("mo",[new z8.TextNode(I08[J.replace(/^\\/,"")])]);return Q.setAttribute("stretchy","true"),Q},N08,E08=function(J){if(J.type==="ordgroup")return J.body.length;else return 1},V08=function(J,Q){function K(){var q=400000,W=J.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(W)){var G=J,z=E08(G.base),H,F,M;if(z>5)if(W==="widehat"||W==="widecheck")H=420,q=2364,M=0.42,F=W+"4";else H=312,q=2340,M=0.34,F="tilde4";else{var B=[1,1,2,2,3,3][z];if(W==="widehat"||W==="widecheck")q=[0,1062,2364,2364,2364][B],H=[0,239,300,360,420][B],M=[0,0.24,0.3,0.3,0.36,0.42][B],F=W+B;else q=[0,600,1033,2339,2340][B],H=[0,260,286,306,312][B],M=[0,0.26,0.286,0.3,0.306,0.34][B],F="tilde"+B}var O=new rU(F),R=new GX([O],{width:"100%",height:V8(M),viewBox:"0 0 "+q+" "+H,preserveAspectRatio:"none"});return{span:g0.makeSvgSpan([],[R],Q),minWidth:0,height:M}}else{var D=[],L=N08[W],[A,V,N]=L,E=N/1000,j=A.length,C,$;if(j===1){var k=L[3];C=["hide-tail"],$=[k]}else if(j===2)C=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(j===3)C=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw Error(`Correct katexImagesData or update code here to support
                    `+j+" children.");for(var w=0;w<j;w++){var P=new rU(A[w]),T=new GX([P],{width:"400em",height:V8(E),viewBox:"0 0 "+q+" "+N,preserveAspectRatio:$[w]+" slice"}),S=g0.makeSvgSpan([C[w]],[T],Q);if(j===1)return{span:S,minWidth:V,height:E};else S.style.height=V8(E),D.push(S)}return{span:g0.makeSpan(["stretchy"],D,Q),minWidth:V,height:E}}}var{span:X,minWidth:U,height:Y}=K();if(X.height=Y,X.style.height=V8(Y),U>0)X.style.minWidth=V8(U);return X},P08=function(J,Q,K,X,U){var Y,q=J.height+J.depth+K+X;if(/fbox|color|angl/.test(Q)){if(Y=g0.makeSpan(["stretchy",Q],[],U),Q==="fbox"){var W=U.color&&U.getColor();if(W)Y.style.borderColor=W}}else{var G=[];if(/^[bx]cancel$/.test(Q))G.push(new XV({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"}));if(/^x?cancel$/.test(Q))G.push(new XV({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var z=new GX(G,{width:"100%",height:V8(q)});Y=g0.makeSvgSpan([],[z],U)}return Y.height=q,Y.style.height=V8(q),Y},aU,gy=(Z,J)=>{var Q,K,X;if(Z&&Z.type==="supsub")K=V9(Z.base,"accent"),Q=K.base,Z.base=Q,X=re0(XZ(Z,J)),Z.base=K;else K=V9(Z,"accent"),Q=K.base;var U=XZ(Q,J.havingCrampedStyle()),Y=K.isShifty&&HZ.isCharacterBox(Q),q=0;if(Y){var W=HZ.getBaseElem(Q),G=XZ(W,J.havingCrampedStyle());q=HK0(G).skew}var z=K.label==="\\c",H=z?U.height+U.depth:Math.min(U.height,J.fontMetrics().xHeight),F;if(!K.isStretchy){var M,B;if(K.label==="\\vec")M=g0.staticSvg("vec",J),B=g0.svgData.vec[1];else if(M=g0.makeOrd({mode:K.mode,text:K.label},J,"textord"),M=HK0(M),M.italic=0,B=M.width,z)H+=M.depth;F=g0.makeSpan(["accent-body"],[M]);var O=K.label==="\\textcircled";if(O)F.classes.push("accent-full"),H=U.height;var R=q;if(!O)R-=B/2;if(F.style.left=V8(R),K.label==="\\textcircled")F.style.top=".2em";F=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"kern",size:-H},{type:"elem",elem:F}]},J)}else F=aU.svgSpan(K,J),F=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"elem",elem:F,wrapperClasses:["svg-align"],wrapperStyle:q>0?{width:"calc(100% - "+V8(2*q)+")",marginLeft:V8(2*q)}:void 0}]},J);var D=g0.makeSpan(["mord","accent"],[F],J);if(X)return X.children[0]=D,X.height=Math.max(D.height,X.height),X.classes[0]="mord",X;else return D},K50=(Z,J)=>{var Q=Z.isStretchy?aU.mathMLnode(Z.label):new z8.MathNode("mo",[YK(Z.label,Z.mode)]),K=new z8.MathNode("mover",[hZ(Z.base,J),Q]);return K.setAttribute("accent","true"),K},j08,oE=(Z)=>{var J=new z8.MathNode("mpadded",Z?[Z]:[]);return J.setAttribute("width","+0.6em"),J.setAttribute("lspace","0.3em"),J},C08,BV=(Z)=>{var J=Z.type==="ordgroup"&&Z.body.length?Z.body[0]:Z;if(J.type==="atom"&&(J.family==="bin"||J.family==="rel"))return"m"+J.family;else return"mord"},S08,DK0=()=>{return{type:"styling",body:[],mode:"math",style:"display"}},LK0=(Z)=>{return Z.type==="textord"&&Z.text==="@"},T08=(Z,J)=>{return(Z.type==="mathord"||Z.type==="atom")&&Z.text===J},Y50=(Z,J)=>{var Q=R7(Z.body,J.withColor(Z.color),!1);return g0.makeFragment(Q)},q50=(Z,J)=>{var Q=y6(Z.body,J.withColor(Z.color)),K=new z8.MathNode("mstyle",Q);return K.setAttribute("mathcolor",Z.color),K},ky,W50=(Z)=>{var J=Z.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(J))throw new B8("Expected a control sequence",Z);return J},k08=(Z)=>{var J=Z.gullet.popToken();if(J.text==="="){if(J=Z.gullet.popToken(),J.text===" ")J=Z.gullet.popToken()}return J},G50=(Z,J,Q,K)=>{var X=Z.gullet.macros.get(Q.text);if(X==null)Q.noexpand=!0,X={tokens:[Q],numArgs:0,unexpandable:!Z.gullet.isExpandable(Q.text)};Z.gullet.macros.set(J,X,K)},tR=function(J,Q,K){var X=lZ.math[J]&&lZ.math[J].replace,U=by(X||J,Q,K);if(!U)throw Error("Unsupported symbol "+J+" and font size "+Q+".");return U},py=function(J,Q,K,X){var U=K.havingBaseStyle(Q),Y=g0.makeSpan(X.concat(U.sizingClasses(K)),[J],K),q=U.sizeMultiplier/K.sizeMultiplier;return Y.height*=q,Y.depth*=q,Y.maxFontSize=U.sizeMultiplier,Y},z50=function(J,Q,K){var X=Q.havingBaseStyle(K),U=(1-Q.sizeMultiplier/X.sizeMultiplier)*Q.fontMetrics().axisHeight;J.classes.push("delimcenter"),J.style.top=V8(U),J.height-=U,J.depth+=U},_08=function(J,Q,K,X,U,Y){var q=g0.makeSymbol(J,"Main-Regular",U,X),W=py(q,Q,X,Y);if(K)z50(W,X,Q);return W},f08=function(J,Q,K,X){return g0.makeSymbol(J,"Size"+Q+"-Regular",K,X)},H50=function(J,Q,K,X,U,Y){var q=f08(J,Q,U,X),W=py(g0.makeSpan(["delimsizing","size"+Q],[q],X),X9.TEXT,X,Y);if(K)z50(W,X,X9.TEXT);return W},Dy=function(J,Q,K){var X;if(Q==="Size1-Regular")X="delim-size1";else X="delim-size4";var U=g0.makeSpan(["delimsizinginner",X],[g0.makeSpan([],[g0.makeSymbol(J,Q,K)])]);return{type:"elem",elem:U}},Ly=function(J,Q,K){var X=WX["Size4-Regular"][J.charCodeAt(0)]?WX["Size4-Regular"][J.charCodeAt(0)][4]:WX["Size1-Regular"][J.charCodeAt(0)][4],U=new rU("inner",ge0(J,Math.round(1000*Q))),Y=new GX([U],{width:V8(X),height:V8(Q),style:"width:"+V8(X),viewBox:"0 0 "+1000*X+" "+Math.round(1000*Q),preserveAspectRatio:"xMinYMin"}),q=g0.makeSvgSpan([],[Y],K);return q.height=Q,q.style.height=V8(Q),q.style.width=V8(X),{type:"elem",elem:q}},_y=0.008,tE,v08,x08,F50=function(J,Q,K,X,U,Y){var q,W,G,z,H="",F=0;q=G=z=J,W=null;var M="Size1-Regular";if(J==="\\uparrow")G=z="";else if(J==="\\Uparrow")G=z="";else if(J==="\\downarrow")q=G="";else if(J==="\\Downarrow")q=G="";else if(J==="\\updownarrow")q="\\uparrow",G="",z="\\downarrow";else if(J==="\\Updownarrow")q="\\Uparrow",G="",z="\\Downarrow";else if(v08.includes(J))G="",H="vert",F=333;else if(x08.includes(J))G="",H="doublevert",F=556;else if(J==="["||J==="\\lbrack")q="",G="",z="",M="Size4-Regular",H="lbrack",F=667;else if(J==="]"||J==="\\rbrack")q="",G="",z="",M="Size4-Regular",H="rbrack",F=667;else if(J==="\\lfloor"||J==="")G=q="",z="",M="Size4-Regular",H="lfloor",F=667;else if(J==="\\lceil"||J==="")q="",G=z="",M="Size4-Regular",H="lceil",F=667;else if(J==="\\rfloor"||J==="")G=q="",z="",M="Size4-Regular",H="rfloor",F=667;else if(J==="\\rceil"||J==="")q="",G=z="",M="Size4-Regular",H="rceil",F=667;else if(J==="("||J==="\\lparen")q="",G="",z="",M="Size4-Regular",H="lparen",F=875;else if(J===")"||J==="\\rparen")q="",G="",z="",M="Size4-Regular",H="rparen",F=875;else if(J==="\\{"||J==="\\lbrace")q="",W="",z="",G="",M="Size4-Regular";else if(J==="\\}"||J==="\\rbrace")q="",W="",z="",G="",M="Size4-Regular";else if(J==="\\lgroup"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\rgroup"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\lmoustache"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\rmoustache"||J==="")q="",z="",G="",M="Size4-Regular";var B=tR(q,M,U),O=B.height+B.depth,R=tR(G,M,U),D=R.height+R.depth,L=tR(z,M,U),A=L.height+L.depth,V=0,N=1;if(W!==null){var E=tR(W,M,U);V=E.height+E.depth,N=2}var j=O+A+V,C=Math.max(0,Math.ceil((Q-j)/(N*D))),$=j+C*N*D,k=X.fontMetrics().axisHeight;if(K)k*=X.sizeMultiplier;var w=$/2-k,P=[];if(H.length>0){var T=$-O-A,S=Math.round($*1000),f=pe0(H,Math.round(T*1000)),v=new rU(H,f),x=(F/1000).toFixed(3)+"em",b=(S/1000).toFixed(3)+"em",y=new GX([v],{width:x,height:b,viewBox:"0 0 "+F+" "+S}),u=g0.makeSvgSpan([],[y],X);u.height=S/1000,u.style.width=x,u.style.height=b,P.push({type:"elem",elem:u})}else{if(P.push(Dy(z,M,U)),P.push(tE),W===null){var h=$-O-A+2*_y;P.push(Ly(G,h,X))}else{var p=($-O-A-V)/2+2*_y;P.push(Ly(G,p,X)),P.push(tE),P.push(Dy(W,M,U)),P.push(tE),P.push(Ly(G,p,X))}P.push(tE),P.push(Dy(q,M,U))}var r=X.havingBaseStyle(X9.TEXT),e=g0.makeVList({positionType:"bottom",positionData:w,children:P},r);return py(g0.makeSpan(["delimsizing","mult"],[e],r),X9.TEXT,X,Y)},Iy=80,Ay=0.08,Ny=function(J,Q,K,X,U){var Y=ue0(J,X,K),q=new rU(J,Y),W=new GX([q],{width:"400em",height:V8(Q),viewBox:"0 0 400000 "+K,preserveAspectRatio:"xMinYMin slice"});return g0.makeSvgSpan(["hide-tail"],[W],U)},b08=function(J,Q){var K=Q.havingBaseSizing(),X=R50("\\surd",J*K.sizeMultiplier,O50,K),U=K.sizeMultiplier,Y=Math.max(0,Q.minRuleThickness-Q.fontMetrics().sqrtRuleThickness),q,W=0,G=0,z=0,H;if(X.type==="small"){if(z=1000+1000*Y+Iy,J<1)U=1;else if(J<1.4)U=0.7;W=(1+Y+Ay)/U,G=(1+Y)/U,q=Ny("sqrtMain",W,z,Y,Q),q.style.minWidth="0.853em",H=0.833/U}else if(X.type==="large")z=(1000+Iy)*Z3[X.size],G=(Z3[X.size]+Y)/U,W=(Z3[X.size]+Y+Ay)/U,q=Ny("sqrtSize"+X.size,W,z,Y,Q),q.style.minWidth="1.02em",H=1/U;else W=J+Y+Ay,G=J+Y,z=Math.floor(1000*J+Y)+Iy,q=Ny("sqrtTall",W,z,Y,Q),q.style.minWidth="0.742em",H=1.056;return q.height=G,q.style.height=V8(W),{span:q,advanceWidth:H,ruleWidth:(Q.fontMetrics().sqrtRuleThickness+Y)*U}},M50,y08,B50,Z3,h08=function(J,Q,K,X,U){if(J==="<"||J==="\\lt"||J==="")J="\\langle";else if(J===">"||J==="\\gt"||J==="")J="\\rangle";if(M50.includes(J)||B50.includes(J))return H50(J,Q,!1,K,X,U);else if(y08.includes(J))return F50(J,Z3[Q],!1,K,X,U);else throw new B8("Illegal delimiter: '"+J+"'")},m08,u08,O50,g08=function(J){if(J.type==="small")return"Main-Regular";else if(J.type==="large")return"Size"+J.size+"-Regular";else if(J.type==="stack")return"Size4-Regular";else throw Error("Add support for delim type '"+J.type+"' here.")},R50=function(J,Q,K,X){var U=Math.min(2,3-X.style.size);for(var Y=U;Y<K.length;Y++){if(K[Y].type==="stack")break;var q=tR(J,g08(K[Y]),"math"),W=q.height+q.depth;if(K[Y].type==="small"){var G=X.havingBaseStyle(K[Y].style);W*=G.sizeMultiplier}if(W>Q)return K[Y]}return K[K.length-1]},D50=function(J,Q,K,X,U,Y){if(J==="<"||J==="\\lt"||J==="")J="\\langle";else if(J===">"||J==="\\gt"||J==="")J="\\rangle";var q;if(B50.includes(J))q=m08;else if(M50.includes(J))q=O50;else q=u08;var W=R50(J,Q,q,X);if(W.type==="small")return _08(J,W.style,K,X,U,Y);else if(W.type==="large")return H50(J,W.size,K,X,U,Y);else return F50(J,Q,K,X,U,Y)},p08=function(J,Q,K,X,U,Y){var q=X.fontMetrics().axisHeight*X.sizeMultiplier,W=901,G=5/X.fontMetrics().ptPerEm,z=Math.max(Q-q,K+q),H=Math.max(z/500*W,2*z-G);return D50(J,H,!0,X,U,Y)},sU,IK0,c08,cy=(Z,J)=>{var Q=g0.wrapFragment(XZ(Z.body,J),J),K=Z.label.slice(1),X=J.sizeMultiplier,U,Y=0,q=HZ.isCharacterBox(Z.body);if(K==="sout")U=g0.makeSpan(["stretchy","sout"]),U.height=J.fontMetrics().defaultRuleThickness/X,Y=-0.5*J.fontMetrics().xHeight;else if(K==="phase"){var W=SJ({number:0.6,unit:"pt"},J),G=SJ({number:0.35,unit:"ex"},J),z=J.havingBaseSizing();X=X/z.sizeMultiplier;var H=Q.height+Q.depth+W+G;Q.style.paddingLeft=V8(H/2+W);var F=Math.floor(1000*H*X),M=he0(F),B=new GX([new rU("phase",M)],{width:"400em",height:V8(F/1000),viewBox:"0 0 400000 "+F,preserveAspectRatio:"xMinYMin slice"});U=g0.makeSvgSpan(["hide-tail"],[B],J),U.style.height=V8(H),Y=Q.depth+W+G}else{if(/cancel/.test(K)){if(!q)Q.classes.push("cancel-pad")}else if(K==="angl")Q.classes.push("anglpad");else Q.classes.push("boxpad");var O=0,R=0,D=0;if(/box/.test(K))D=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness),O=J.fontMetrics().fboxsep+(K==="colorbox"?0:D),R=O;else if(K==="angl")D=Math.max(J.fontMetrics().defaultRuleThickness,J.minRuleThickness),O=4*D,R=Math.max(0,0.25-Q.depth);else O=q?0.2:0,R=O;if(U=aU.encloseSpan(Q,K,O,R,J),/fbox|boxed|fcolorbox/.test(K))U.style.borderStyle="solid",U.style.borderWidth=V8(D);else if(K==="angl"&&D!==0.049)U.style.borderTopWidth=V8(D),U.style.borderRightWidth=V8(D);if(Y=Q.depth+R,Z.backgroundColor){if(U.style.backgroundColor=Z.backgroundColor,Z.borderColor)U.style.borderColor=Z.borderColor}}var L;if(Z.backgroundColor)L=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Y},{type:"elem",elem:Q,shift:0}]},J);else{var A=/cancel|phase/.test(K)?["svg-align"]:[];L=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Q,shift:0},{type:"elem",elem:U,shift:Y,wrapperClasses:A}]},J)}if(/cancel/.test(K))L.height=Q.height,L.depth=Q.depth;if(/cancel/.test(K)&&!q)return g0.makeSpan(["mord","cancel-lap"],[L],J);else return g0.makeSpan(["mord"],[L],J)},ly=(Z,J)=>{var Q=0,K=new z8.MathNode(Z.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hZ(Z.body,J)]);switch(Z.label){case"\\cancel":K.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":K.setAttribute("notation","downdiagonalstrike");break;case"\\phase":K.setAttribute("notation","phasorangle");break;case"\\sout":K.setAttribute("notation","horizontalstrike");break;case"\\fbox":K.setAttribute("notation","box");break;case"\\angl":K.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(Q=J.fontMetrics().fboxsep*J.fontMetrics().ptPerEm,K.setAttribute("width","+"+2*Q+"pt"),K.setAttribute("height","+"+2*Q+"pt"),K.setAttribute("lspace",Q+"pt"),K.setAttribute("voffset",Q+"pt"),Z.label==="\\fcolorbox"){var X=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness);K.setAttribute("style","border: "+X+"em solid "+String(Z.borderColor))}break;case"\\xcancel":K.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}if(Z.backgroundColor)K.setAttribute("mathbackground",Z.backgroundColor);return K},L50,I50,RV=(Z)=>{var J=Z.parser.settings;if(!J.displayMode)throw new B8("{"+Z.envName+"} can be used only in display mode.")},HX=function(J,Q){var K,X,U=J.body.length,Y=J.hLinesBeforeRow,q=0,W=Array(U),G=[],z=Math.max(Q.fontMetrics().arrayRuleWidth,Q.minRuleThickness),H=1/Q.fontMetrics().ptPerEm,F=5*H;if(J.colSeparationType&&J.colSeparationType==="small"){var M=Q.havingStyle(X9.SCRIPT).sizeMultiplier;F=0.2778*(M/Q.sizeMultiplier)}var B=J.colSeparationType==="CD"?SJ({number:3,unit:"ex"},Q):12*H,O=3*H,R=J.arraystretch*B,D=0.7*R,L=0.3*R,A=0;function V(d){for(var c0=0;c0<d.length;++c0){if(c0>0)A+=0.25;G.push({pos:A,isDashed:d[c0]})}}V(Y[0]);for(K=0;K<J.body.length;++K){var N=J.body[K],E=D,j=L;if(q<N.length)q=N.length;var C=Array(N.length);for(X=0;X<N.length;++X){var $=XZ(N[X],Q);if(j<$.depth)j=$.depth;if(E<$.height)E=$.height;C[X]=$}var k=J.rowGaps[K],w=0;if(k){if(w=SJ(k,Q),w>0){if(w+=L,j<w)j=w;w=0}}if(J.addJot)j+=O;C.height=E,C.depth=j,A+=E,C.pos=A,A+=j+w,W[K]=C,V(Y[K+1])}var P=A/2+Q.fontMetrics().axisHeight,T=J.cols||[],S=[],f,v,x=[];if(J.tags&&J.tags.some((d)=>d))for(K=0;K<U;++K){var b=W[K],y=b.pos-P,u=J.tags[K],h=void 0;if(u===!0)h=g0.makeSpan(["eqn-num"],[],Q);else if(u===!1)h=g0.makeSpan([],[],Q);else h=g0.makeSpan([],R7(u,Q,!0),Q);h.depth=b.depth,h.height=b.height,x.push({type:"elem",elem:h,shift:y})}for(X=0,v=0;X<q||v<T.length;++X,++v){var p=T[v]||{},r=!0;while(p.type==="separator"){if(!r)f=g0.makeSpan(["arraycolsep"],[]),f.style.width=V8(Q.fontMetrics().doubleRuleSep),S.push(f);if(p.separator==="|"||p.separator===":"){var e=p.separator==="|"?"solid":"dashed",i=g0.makeSpan(["vertical-separator"],[],Q);i.style.height=V8(A),i.style.borderRightWidth=V8(z),i.style.borderRightStyle=e,i.style.margin="0 "+V8(-z/2);var U0=A-P;if(U0)i.style.verticalAlign=V8(-U0);S.push(i)}else throw new B8("Invalid separator type: "+p.separator);v++,p=T[v]||{},r=!1}if(X>=q)continue;var a=void 0;if(X>0||J.hskipBeforeAndAfter){if(a=HZ.deflt(p.pregap,F),a!==0)f=g0.makeSpan(["arraycolsep"],[]),f.style.width=V8(a),S.push(f)}var z0=[];for(K=0;K<U;++K){var J0=W[K],Q0=J0[X];if(!Q0)continue;var t=J0.pos-P;Q0.depth=J0.depth,Q0.height=J0.height,z0.push({type:"elem",elem:Q0,shift:t})}if(z0=g0.makeVList({positionType:"individualShift",children:z0},Q),z0=g0.makeSpan(["col-align-"+(p.align||"c")],[z0]),S.push(z0),X<q-1||J.hskipBeforeAndAfter){if(a=HZ.deflt(p.postgap,F),a!==0)f=g0.makeSpan(["arraycolsep"],[]),f.style.width=V8(a),S.push(f)}}if(W=g0.makeSpan(["mtable"],S),G.length>0){var n=g0.makeLineSpan("hline",Q,z),Y0=g0.makeLineSpan("hdashline",Q,z),o=[{type:"elem",elem:W,shift:0}];while(G.length>0){var M0=G.pop(),X0=M0.pos-P;if(M0.isDashed)o.push({type:"elem",elem:Y0,shift:X0});else o.push({type:"elem",elem:n,shift:X0})}W=g0.makeVList({positionType:"individualShift",children:o},Q)}if(x.length===0)return g0.makeSpan(["mord"],[W],Q);else{var E0=g0.makeVList({positionType:"individualShift",children:x},Q);return E0=g0.makeSpan(["tag"],[E0],Q),g0.makeFragment([W,E0])}},l08,FX=function(J,Q){var K=[],X=new z8.MathNode("mtd",[],["mtr-glue"]),U=new z8.MathNode("mtd",[],["mml-eqn-num"]);for(var Y=0;Y<J.body.length;Y++){var q=J.body[Y],W=[];for(var G=0;G<q.length;G++)W.push(new z8.MathNode("mtd",[hZ(q[G],Q)]));if(J.tags&&J.tags[Y])if(W.unshift(X),W.push(X),J.leqno)W.unshift(U);else W.push(U);K.push(new z8.MathNode("mtr",W))}var z=new z8.MathNode("mtable",K),H=J.arraystretch===0.5?0.1:0.16+J.arraystretch-1+(J.addJot?0.09:0);z.setAttribute("rowspacing",V8(H));var F="",M="";if(J.cols&&J.cols.length>0){var B=J.cols,O="",R=!1,D=0,L=B.length;if(B[0].type==="separator")F+="top ",D=1;if(B[B.length-1].type==="separator")F+="bottom ",L-=1;for(var A=D;A<L;A++)if(B[A].type==="align"){if(M+=l08[B[A].align],R)O+="none ";R=!0}else if(B[A].type==="separator"){if(R)O+=B[A].separator==="|"?"solid ":"dashed ",R=!1}if(z.setAttribute("columnalign",M.trim()),/[sd]/.test(O))z.setAttribute("columnlines",O.trim())}if(J.colSeparationType==="align"){var V=J.cols||[],N="";for(var E=1;E<V.length;E++)N+=E%2?"0em ":"1em ";z.setAttribute("columnspacing",N.trim())}else if(J.colSeparationType==="alignat"||J.colSeparationType==="gather")z.setAttribute("columnspacing","0em");else if(J.colSeparationType==="small")z.setAttribute("columnspacing","0.2778em");else if(J.colSeparationType==="CD")z.setAttribute("columnspacing","0.5em");else z.setAttribute("columnspacing","1em");var j="",C=J.hLinesBeforeRow;F+=C[0].length>0?"left ":"",F+=C[C.length-1].length>0?"right ":"";for(var $=1;$<C.length-1;$++)j+=C[$].length===0?"none ":C[$][0]?"dashed ":"solid ";if(/[sd]/.test(j))z.setAttribute("rowlines",j.trim());if(F!=="")z=new z8.MathNode("menclose",[z]),z.setAttribute("notation",F.trim());if(J.arraystretch&&J.arraystretch<1)z=new z8.MathNode("mstyle",[z]),z.setAttribute("scriptlevel","1");return z},A50=function(J,Q){if(J.envName.indexOf("ed")===-1)RV(J);var K=[],X=J.envName.indexOf("at")>-1?"alignat":"align",U=J.envName==="split",Y=L1(J.parser,{cols:K,addJot:!0,autoTag:U?void 0:dy(J.envName),emptySingleRow:!0,colSeparationType:X,maxNumCols:U?2:void 0,leqno:J.parser.settings.leqno},"display"),q,W=0,G={type:"ordgroup",mode:J.mode,body:[]};if(Q[0]&&Q[0].type==="ordgroup"){var z="";for(var H=0;H<Q[0].body.length;H++){var F=V9(Q[0].body[H],"textord");z+=F.text}q=Number(z),W=q*2}var M=!W;Y.body.forEach(function(D){for(var L=1;L<D.length;L+=2){var A=V9(D[L],"styling"),V=V9(A.body[0],"ordgroup");V.body.unshift(G)}if(!M){var N=D.length/2;if(q<N)throw new B8("Too many math in a row: "+("expected "+q+", but got "+N),D[0])}else if(W<D.length)W=D.length});for(var B=0;B<W;++B){var O="r",R=0;if(B%2===1)O="l";else if(B>0&&M)R=1;K[B]={type:"align",align:O,pregap:R,postgap:0}}return Y.colSeparationType=M?"align":"alignat",Y},EK0,N50=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return XZ(Z.body,K)},E50=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return hZ(Z.body,K)},VK0,V50=(Z,J)=>{var Q=J;if(Z==="display")Q=Q.id>=X9.SCRIPT.id?Q.text():X9.DISPLAY;else if(Z==="text"&&Q.size===X9.DISPLAY.size)Q=X9.TEXT;else if(Z==="script")Q=X9.SCRIPT;else if(Z==="scriptscript")Q=X9.SCRIPTSCRIPT;return Q},sy=(Z,J)=>{var Q=V50(Z.size,J.style),K=Q.fracNum(),X=Q.fracDen(),U;U=J.havingStyle(K);var Y=XZ(Z.numer,U,J);if(Z.continued){var q=8.5/J.fontMetrics().ptPerEm,W=3.5/J.fontMetrics().ptPerEm;Y.height=Y.height<q?q:Y.height,Y.depth=Y.depth<W?W:Y.depth}U=J.havingStyle(X);var G=XZ(Z.denom,U,J),z,H,F;if(Z.hasBarLine){if(Z.barSize)H=SJ(Z.barSize,J),z=g0.makeLineSpan("frac-line",J,H);else z=g0.makeLineSpan("frac-line",J);H=z.height,F=z.height}else z=null,H=0,F=J.fontMetrics().defaultRuleThickness;var M,B,O;if(Q.size===X9.DISPLAY.size||Z.size==="display"){if(M=J.fontMetrics().num1,H>0)B=3*F;else B=7*F;O=J.fontMetrics().denom1}else{if(H>0)M=J.fontMetrics().num2,B=F;else M=J.fontMetrics().num3,B=3*F;O=J.fontMetrics().denom2}var R;if(!z){var D=M-Y.depth-(G.height-O);if(D<B)M+=0.5*(B-D),O+=0.5*(B-D);R=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:Y,shift:-M}]},J)}else{var L=J.fontMetrics().axisHeight;if(M-Y.depth-(L+0.5*H)<B)M+=B-(M-Y.depth-(L+0.5*H));if(L-0.5*H-(G.height-O)<B)O+=B-(L-0.5*H-(G.height-O));var A=-(L-0.5*H);R=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:z,shift:A},{type:"elem",elem:Y,shift:-M}]},J)}U=J.havingStyle(Q),R.height*=U.sizeMultiplier/J.sizeMultiplier,R.depth*=U.sizeMultiplier/J.sizeMultiplier;var V;if(Q.size===X9.DISPLAY.size)V=J.fontMetrics().delim1;else if(Q.size===X9.SCRIPTSCRIPT.size)V=J.havingStyle(X9.SCRIPT).fontMetrics().delim2;else V=J.fontMetrics().delim2;var N,E;if(Z.leftDelim==null)N=Q3(J,["mopen"]);else N=sU.customSizedDelim(Z.leftDelim,V,!0,J.havingStyle(Q),Z.mode,["mopen"]);if(Z.continued)E=g0.makeSpan([]);else if(Z.rightDelim==null)E=Q3(J,["mclose"]);else E=sU.customSizedDelim(Z.rightDelim,V,!0,J.havingStyle(Q),Z.mode,["mclose"]);return g0.makeSpan(["mord"].concat(U.sizingClasses(J)),[N,g0.makeSpan(["mfrac"],[R]),E],J)},ry=(Z,J)=>{var Q=new z8.MathNode("mfrac",[hZ(Z.numer,J),hZ(Z.denom,J)]);if(!Z.hasBarLine)Q.setAttribute("linethickness","0px");else if(Z.barSize){var K=SJ(Z.barSize,J);Q.setAttribute("linethickness",V8(K))}var X=V50(Z.size,J.style);if(X.size!==J.style.size){Q=new z8.MathNode("mstyle",[Q]);var U=X.size===X9.DISPLAY.size?"true":"false";Q.setAttribute("displaystyle",U),Q.setAttribute("scriptlevel","0")}if(Z.leftDelim!=null||Z.rightDelim!=null){var Y=[];if(Z.leftDelim!=null){var q=new z8.MathNode("mo",[new z8.TextNode(Z.leftDelim.replace("\\",""))]);q.setAttribute("fence","true"),Y.push(q)}if(Y.push(Q),Z.rightDelim!=null){var W=new z8.MathNode("mo",[new z8.TextNode(Z.rightDelim.replace("\\",""))]);W.setAttribute("fence","true"),Y.push(W)}return hy(Y)}return Q},PK0,jK0=function(J){var Q=null;if(J.length>0)Q=J,Q=Q==="."?null:Q;return Q},P50=(Z,J)=>{var Q=J.style,K,X;if(Z.type==="supsub")K=Z.sup?XZ(Z.sup,J.havingStyle(Q.sup()),J):XZ(Z.sub,J.havingStyle(Q.sub()),J),X=V9(Z.base,"horizBrace");else X=V9(Z,"horizBrace");var U=XZ(X.base,J.havingBaseStyle(X9.DISPLAY)),Y=aU.svgSpan(X,J),q;if(X.isOver)q=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"kern",size:0.1},{type:"elem",elem:Y}]},J),q.children[0].children[0].children[1].classes.push("svg-align");else q=g0.makeVList({positionType:"bottom",positionData:U.depth+0.1+Y.height,children:[{type:"elem",elem:Y},{type:"kern",size:0.1},{type:"elem",elem:U}]},J),q.children[0].children[0].children[0].classes.push("svg-align");if(K){var W=g0.makeSpan(["mord",X.isOver?"mover":"munder"],[q],J);if(X.isOver)q=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:W},{type:"kern",size:0.2},{type:"elem",elem:K}]},J);else q=g0.makeVList({positionType:"bottom",positionData:W.depth+0.2+K.height+K.depth,children:[{type:"elem",elem:K},{type:"kern",size:0.2},{type:"elem",elem:W}]},J)}return g0.makeSpan(["mord",X.isOver?"mover":"munder"],[q],J)},d08=(Z,J)=>{var Q=aU.mathMLnode(Z.label);return new z8.MathNode(Z.isOver?"mover":"munder",[hZ(Z.base,J),Q])},Ey=function(J){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(J))return{number:+J,unit:"bp"};else{var Q=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J);if(!Q)throw new B8("Invalid size: '"+J+"' in \\includegraphics");var K={number:+(Q[1]+Q[2]),unit:Q[3]};if(!gK0(K))throw new B8("Invalid unit: '"+K.unit+"' in \\includegraphics.");return K}},CK0=(Z,J)=>{switch(J.style.size){case X9.DISPLAY.size:return Z.display;case X9.TEXT.size:return Z.text;case X9.SCRIPT.size:return Z.script;case X9.SCRIPTSCRIPT.size:return Z.scriptscript;default:return Z.text}},j50=(Z,J,Q,K,X,U,Y)=>{Z=g0.makeSpan([],[Z]);var q=Q&&HZ.isCharacterBox(Q),W,G;if(J){var z=XZ(J,K.havingStyle(X.sup()),K);G={elem:z,kern:Math.max(K.fontMetrics().bigOpSpacing1,K.fontMetrics().bigOpSpacing3-z.depth)}}if(Q){var H=XZ(Q,K.havingStyle(X.sub()),K);W={elem:H,kern:Math.max(K.fontMetrics().bigOpSpacing2,K.fontMetrics().bigOpSpacing4-H.height)}}var F;if(G&&W){var M=K.fontMetrics().bigOpSpacing5+W.elem.height+W.elem.depth+W.kern+Z.depth+Y;F=g0.makeVList({positionType:"bottom",positionData:M,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:W.elem,marginLeft:V8(-U)},{type:"kern",size:W.kern},{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:V8(U)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else if(W){var B=Z.height-Y;F=g0.makeVList({positionType:"top",positionData:B,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:W.elem,marginLeft:V8(-U)},{type:"kern",size:W.kern},{type:"elem",elem:Z}]},K)}else if(G){var O=Z.depth+Y;F=g0.makeVList({positionType:"bottom",positionData:O,children:[{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:V8(U)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else return Z;var R=[F];if(W&&U!==0&&!q){var D=g0.makeSpan(["mspace"],[],K);D.style.marginRight=V8(U),R.unshift(D)}return g0.makeSpan(["mop","op-limits"],R,K)},C50,nH=(Z,J)=>{var Q,K,X=!1,U;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,U=V9(Z.base,"op"),X=!0;else U=V9(Z,"op");var Y=J.style,q=!1;if(Y.size===X9.DISPLAY.size&&U.symbol&&!C50.includes(U.name))q=!0;var W;if(U.symbol){var G=q?"Size2-Regular":"Size1-Regular",z="";if(U.name==="\\oiint"||U.name==="\\oiiint")z=U.name.slice(1),U.name=z==="oiint"?"\\iint":"\\iiint";if(W=g0.makeSymbol(U.name,G,"math",J,["mop","op-symbol",q?"large-op":"small-op"]),z.length>0){var H=W.italic,F=g0.staticSvg(z+"Size"+(q?"2":"1"),J);W=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:W,shift:0},{type:"elem",elem:F,shift:q?0.08:0}]},J),U.name="\\"+z,W.classes.unshift("mop"),W.italic=H}}else if(U.body){var M=R7(U.body,J,!0);if(M.length===1&&M[0]instanceof j4)W=M[0],W.classes[0]="mop";else W=g0.makeSpan(["mop"],M,J)}else{var B=[];for(var O=1;O<U.name.length;O++)B.push(g0.mathsym(U.name[O],U.mode,J));W=g0.makeSpan(["mop"],B,J)}var R=0,D=0;if((W instanceof j4||U.name==="\\oiint"||U.name==="\\oiiint")&&!U.suppressBaseShift)R=(W.height-W.depth)/2-J.fontMetrics().axisHeight,D=W.italic;if(X)return j50(W,Q,K,J,Y,D,R);else{if(R)W.style.position="relative",W.style.top=V8(R);return W}},K3=(Z,J)=>{var Q;if(Z.symbol){if(Q=new b6("mo",[YK(Z.name,Z.mode)]),C50.includes(Z.name))Q.setAttribute("largeop","false")}else if(Z.body)Q=new b6("mo",y6(Z.body,J));else{Q=new b6("mi",[new X5(Z.name.slice(1))]);var K=new b6("mo",[YK("","text")]);if(Z.parentIsSupSub)Q=new b6("mrow",[Q,K]);else Q=eK0([Q,K])}return Q},i08,s08,S50=(Z,J)=>{var Q,K,X=!1,U;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,U=V9(Z.base,"operatorname"),X=!0;else U=V9(Z,"operatorname");var Y;if(U.body.length>0){var q=U.body.map((H)=>{var F=H.text;if(typeof F==="string")return{type:"textord",mode:H.mode,text:F};else return H}),W=R7(q,J.withFont("mathrm"),!0);for(var G=0;G<W.length;G++){var z=W[G];if(z instanceof j4)z.text=z.text.replace(/\u2212/,"-").replace(/\u2217/,"*")}Y=g0.makeSpan(["mop"],W,J)}else Y=g0.makeSpan(["mop"],[],J);if(X)return j50(Y,Q,K,J,J.style,0,0);else return Y},r08=(Z,J)=>{var Q=y6(Z.body,J.withFont("mathrm")),K=!0;for(var X=0;X<Q.length;X++){var U=Q[X];if(U instanceof z8.SpaceNode);else if(U instanceof z8.MathNode)switch(U.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var Y=U.children[0];if(U.children.length===1&&Y instanceof z8.TextNode)Y.text=Y.text.replace(/\u2212/,"-").replace(/\u2217/,"*");else K=!1;break}default:K=!1}else K=!1}if(K){var q=Q.map((z)=>z.toText()).join("");Q=[new z8.TextNode(q)]}var W=new z8.MathNode("mi",Q);W.setAttribute("mathvariant","normal");var G=new z8.MathNode("mo",[YK("","text")]);if(Z.parentIsSupSub)return new z8.MathNode("mrow",[W,G]);else return z8.newDocumentFragment([W,G])},SK0,n08=(Z,J)=>{var Q=J.havingSize(Z.size);return T50(Z.body,Q,J)},TK0,a08=function(J,Q){var K=J.base;if(!K)return null;else if(K.type==="op"){var X=K.limits&&(Q.style.size===X9.DISPLAY.size||K.alwaysHandleSupSub);return X?nH:null}else if(K.type==="operatorname"){var U=K.alwaysHandleSupSub&&(Q.style.size===X9.DISPLAY.size||K.limits);return U?S50:null}else if(K.type==="accent")return HZ.isCharacterBox(K.base)?gy:null;else if(K.type==="horizBrace"){var Y=!J.sub;return Y===K.isOver?P50:null}else return null},w50,Vy,Py,wK0=()=>{var Z=new z8.MathNode("mtd",[]);return Z.setAttribute("width","50%"),Z},$K0,kK0,o08,_K0=(Z,J)=>{var Q=Z.font;if(!Q)return J;else if($K0[Q])return J.withTextFontFamily($K0[Q]);else if(kK0[Q])return J.withTextFontWeight(kK0[Q]);else if(Q==="\\emph")return J.fontShape==="textit"?J.withTextFontShape("textup"):J.withTextFontShape("textit");return J.withTextFontShape(o08[Q])},fK0=(Z)=>Z.body.replace(/ /g,Z.star?"":""),O1,$50=`[ \r
	]`,t08="\\\\[a-zA-Z@]+",e08="\\\\[^\uD800-\uDFFF]",Z88,J88=`\\\\(
|[ \r	]+
?)[ \r	]*`,fy="[-]",Q88,K88,X88,vK0,ny=(Z,J,Q,K)=>{var X=Z.consumeArg().tokens;if(X.length!==1)throw new B8("\\newcommand's first argument must be a macro name");var U=X[0].text,Y=Z.isDefined(U);if(Y&&!J)throw new B8("\\newcommand{"+U+"} attempting to redefine "+(U+"; use \\renewcommand"));if(!Y&&!Q)throw new B8("\\renewcommand{"+U+"} when command "+U+" does not yet exist; use \\newcommand");var q=0;if(X=Z.consumeArg().tokens,X.length===1&&X[0].text==="["){var W="",G=Z.expandNextToken();while(G.text!=="]"&&G.text!=="EOF")W+=G.text,G=Z.expandNextToken();if(!W.match(/^\s*[0-9]+\s*$/))throw new B8("Invalid number of arguments: "+W);q=parseInt(W),X=Z.consumeArg().tokens}if(!(Y&&K))Z.macros.set(U,{tokens:X,numArgs:q});return""},xK0,ay,_50,f50=(Z)=>(J)=>{var Q=J.consumeArg().tokens,K=J.consumeArg().tokens,X=J.consumeArg().tokens,U=J.consumeArg().tokens,Y=J.macros.get("|"),q=J.macros.get("\\|");J.macros.beginGroup();var W=(H)=>(F)=>{if(Z){if(F.macros.set("|",Y),X.length)F.macros.set("\\|",q)}var M=H;if(!H&&X.length){var B=F.future();if(B.text==="|")F.popToken(),M=!0}return{tokens:M?X:K,numArgs:0}};if(J.macros.set("|",W(!1)),X.length)J.macros.set("\\|",W(!0));var G=J.consumeArg().tokens,z=J.expandTokens([...U,...G,...Q]);return J.macros.endGroup(),{tokens:z.reverse(),numArgs:0}},v50,bK0,eE,jy,yK0,oy=function(J,Q){if(!(typeof J==="string"||J instanceof String))throw TypeError("KaTeX can only parse string typed expression");var K=new DV(J,Q);delete K.gullet.macros.current["\\df@tag"];var X=K.parse();if(delete K.gullet.macros.current["\\current@color"],delete K.gullet.macros.current["\\color"],K.gullet.macros.get("\\df@tag")){if(!Q.displayMode)throw new B8("\\tag works only in display equations");X=[{type:"tag",mode:"text",body:X,tag:K.subparse([new P4("\\df@tag")])}]}return X},ty=function(J,Q,K){Q.textContent="";var X=LV(J,K).toNode();Q.appendChild(X)},b50=function(J,Q){var K=LV(J,Q).toMarkup();return K},y50=function(J,Q){var K=new GV(Q);return oy(J,K)},h50=function(J,Q,K){if(K.throwOnError||!(J instanceof B8))throw J;var X=g0.makeSpan(["katex-error"],[new j4(Q)]);return X.setAttribute("title",J.toString()),X.setAttribute("style","color:"+K.errorColor),X},LV=function(J,Q){var K=new GV(Q);try{var X=oy(J,K);return D08(X,J,K)}catch(U){return h50(U,J,K)}},m50=function(J,Q){var K=new GV(Q);try{var X=oy(J,K);return L08(X,J,K)}catch(U){return h50(U,J,K)}},u50="0.16.28",g50,U88;var c50=_(()=>{B8.prototype.__proto__=Error.prototype;De0=/([A-Z])/g,Ie0={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Ae0=/[&><"']/g;HZ={deflt:Re0,escape:Ne0,hyphenate:Le0,getBaseElem:hK0,isCharacterBox:Ee0,protocolFromUrl:Pe0},eR={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:(Z)=>"#"+Z},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(Z,J)=>{return J.push(Z),J}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:(Z)=>Math.max(0,Z),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:(Z)=>Math.max(0,Z),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1000,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:(Z)=>Math.max(0,Z),cli:"-e, --max-expand <n>",cliProcessor:(Z)=>Z==="Infinity"?1/0:parseInt(Z)},globalGroup:{type:"boolean",cli:!1}};qX=[new cU(xy,0,!1),new cU(KV,0,!0),new cU(lH,1,!1),new cU(iU,1,!0),new cU(J3,2,!1),new cU(UK,2,!0),new cU(dH,3,!1),new cU(oQ,3,!0)],Ce0=[J3,UK,J3,UK,dH,oQ,dH,oQ],Se0=[UK,UK,UK,UK,oQ,oQ,oQ,oQ],Te0=[lH,iU,J3,UK,dH,oQ,dH,oQ],we0=[iU,iU,UK,UK,oQ,oQ,oQ,oQ],$e0=[KV,KV,iU,iU,UK,UK,oQ,oQ],ke0=[xy,KV,lH,iU,lH,iU,lH,iU],X9={DISPLAY:qX[xy],TEXT:qX[lH],SCRIPT:qX[J3],SCRIPTSCRIPT:qX[dH]},Cy=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];ZV=[];Cy.forEach((Z)=>Z.blocks.forEach((J)=>ZV.push(...J)));qK0={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};WX={"AMS-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68889,0,0,0.72222],"66":[0,0.68889,0,0,0.66667],"67":[0,0.68889,0,0,0.72222],"68":[0,0.68889,0,0,0.72222],"69":[0,0.68889,0,0,0.66667],"70":[0,0.68889,0,0,0.61111],"71":[0,0.68889,0,0,0.77778],"72":[0,0.68889,0,0,0.77778],"73":[0,0.68889,0,0,0.38889],"74":[0.16667,0.68889,0,0,0.5],"75":[0,0.68889,0,0,0.77778],"76":[0,0.68889,0,0,0.66667],"77":[0,0.68889,0,0,0.94445],"78":[0,0.68889,0,0,0.72222],"79":[0.16667,0.68889,0,0,0.77778],"80":[0,0.68889,0,0,0.61111],"81":[0.16667,0.68889,0,0,0.77778],"82":[0,0.68889,0,0,0.72222],"83":[0,0.68889,0,0,0.55556],"84":[0,0.68889,0,0,0.66667],"85":[0,0.68889,0,0,0.72222],"86":[0,0.68889,0,0,0.72222],"87":[0,0.68889,0,0,1],"88":[0,0.68889,0,0,0.72222],"89":[0,0.68889,0,0,0.72222],"90":[0,0.68889,0,0,0.66667],"107":[0,0.68889,0,0,0.55556],"160":[0,0,0,0,0.25],"165":[0,0.675,0.025,0,0.75],"174":[0.15559,0.69224,0,0,0.94666],"240":[0,0.68889,0,0,0.55556],"295":[0,0.68889,0,0,0.54028],"710":[0,0.825,0,0,2.33334],"732":[0,0.9,0,0,2.33334],"770":[0,0.825,0,0,2.33334],"771":[0,0.9,0,0,2.33334],"989":[0.08167,0.58167,0,0,0.77778],"1008":[0,0.43056,0.04028,0,0.66667],"8245":[0,0.54986,0,0,0.275],"8463":[0,0.68889,0,0,0.54028],"8487":[0,0.68889,0,0,0.72222],"8498":[0,0.68889,0,0,0.55556],"8502":[0,0.68889,0,0,0.66667],"8503":[0,0.68889,0,0,0.44445],"8504":[0,0.68889,0,0,0.66667],"8513":[0,0.68889,0,0,0.63889],"8592":[-0.03598,0.46402,0,0,0.5],"8594":[-0.03598,0.46402,0,0,0.5],"8602":[-0.13313,0.36687,0,0,1],"8603":[-0.13313,0.36687,0,0,1],"8606":[0.01354,0.52239,0,0,1],"8608":[0.01354,0.52239,0,0,1],"8610":[0.01354,0.52239,0,0,1.11111],"8611":[0.01354,0.52239,0,0,1.11111],"8619":[0,0.54986,0,0,1],"8620":[0,0.54986,0,0,1],"8621":[-0.13313,0.37788,0,0,1.38889],"8622":[-0.13313,0.36687,0,0,1],"8624":[0,0.69224,0,0,0.5],"8625":[0,0.69224,0,0,0.5],"8630":[0,0.43056,0,0,1],"8631":[0,0.43056,0,0,1],"8634":[0.08198,0.58198,0,0,0.77778],"8635":[0.08198,0.58198,0,0,0.77778],"8638":[0.19444,0.69224,0,0,0.41667],"8639":[0.19444,0.69224,0,0,0.41667],"8642":[0.19444,0.69224,0,0,0.41667],"8643":[0.19444,0.69224,0,0,0.41667],"8644":[0.1808,0.675,0,0,1],"8646":[0.1808,0.675,0,0,1],"8647":[0.1808,0.675,0,0,1],"8648":[0.19444,0.69224,0,0,0.83334],"8649":[0.1808,0.675,0,0,1],"8650":[0.19444,0.69224,0,0,0.83334],"8651":[0.01354,0.52239,0,0,1],"8652":[0.01354,0.52239,0,0,1],"8653":[-0.13313,0.36687,0,0,1],"8654":[-0.13313,0.36687,0,0,1],"8655":[-0.13313,0.36687,0,0,1],"8666":[0.13667,0.63667,0,0,1],"8667":[0.13667,0.63667,0,0,1],"8669":[-0.13313,0.37788,0,0,1],"8672":[-0.064,0.437,0,0,1.334],"8674":[-0.064,0.437,0,0,1.334],"8705":[0,0.825,0,0,0.5],"8708":[0,0.68889,0,0,0.55556],"8709":[0.08167,0.58167,0,0,0.77778],"8717":[0,0.43056,0,0,0.42917],"8722":[-0.03598,0.46402,0,0,0.5],"8724":[0.08198,0.69224,0,0,0.77778],"8726":[0.08167,0.58167,0,0,0.77778],"8733":[0,0.69224,0,0,0.77778],"8736":[0,0.69224,0,0,0.72222],"8737":[0,0.69224,0,0,0.72222],"8738":[0.03517,0.52239,0,0,0.72222],"8739":[0.08167,0.58167,0,0,0.22222],"8740":[0.25142,0.74111,0,0,0.27778],"8741":[0.08167,0.58167,0,0,0.38889],"8742":[0.25142,0.74111,0,0,0.5],"8756":[0,0.69224,0,0,0.66667],"8757":[0,0.69224,0,0,0.66667],"8764":[-0.13313,0.36687,0,0,0.77778],"8765":[-0.13313,0.37788,0,0,0.77778],"8769":[-0.13313,0.36687,0,0,0.77778],"8770":[-0.03625,0.46375,0,0,0.77778],"8774":[0.30274,0.79383,0,0,0.77778],"8776":[-0.01688,0.48312,0,0,0.77778],"8778":[0.08167,0.58167,0,0,0.77778],"8782":[0.06062,0.54986,0,0,0.77778],"8783":[0.06062,0.54986,0,0,0.77778],"8785":[0.08198,0.58198,0,0,0.77778],"8786":[0.08198,0.58198,0,0,0.77778],"8787":[0.08198,0.58198,0,0,0.77778],"8790":[0,0.69224,0,0,0.77778],"8791":[0.22958,0.72958,0,0,0.77778],"8796":[0.08198,0.91667,0,0,0.77778],"8806":[0.25583,0.75583,0,0,0.77778],"8807":[0.25583,0.75583,0,0,0.77778],"8808":[0.25142,0.75726,0,0,0.77778],"8809":[0.25142,0.75726,0,0,0.77778],"8812":[0.25583,0.75583,0,0,0.5],"8814":[0.20576,0.70576,0,0,0.77778],"8815":[0.20576,0.70576,0,0,0.77778],"8816":[0.30274,0.79383,0,0,0.77778],"8817":[0.30274,0.79383,0,0,0.77778],"8818":[0.22958,0.72958,0,0,0.77778],"8819":[0.22958,0.72958,0,0,0.77778],"8822":[0.1808,0.675,0,0,0.77778],"8823":[0.1808,0.675,0,0,0.77778],"8828":[0.13667,0.63667,0,0,0.77778],"8829":[0.13667,0.63667,0,0,0.77778],"8830":[0.22958,0.72958,0,0,0.77778],"8831":[0.22958,0.72958,0,0,0.77778],"8832":[0.20576,0.70576,0,0,0.77778],"8833":[0.20576,0.70576,0,0,0.77778],"8840":[0.30274,0.79383,0,0,0.77778],"8841":[0.30274,0.79383,0,0,0.77778],"8842":[0.13597,0.63597,0,0,0.77778],"8843":[0.13597,0.63597,0,0,0.77778],"8847":[0.03517,0.54986,0,0,0.77778],"8848":[0.03517,0.54986,0,0,0.77778],"8858":[0.08198,0.58198,0,0,0.77778],"8859":[0.08198,0.58198,0,0,0.77778],"8861":[0.08198,0.58198,0,0,0.77778],"8862":[0,0.675,0,0,0.77778],"8863":[0,0.675,0,0,0.77778],"8864":[0,0.675,0,0,0.77778],"8865":[0,0.675,0,0,0.77778],"8872":[0,0.69224,0,0,0.61111],"8873":[0,0.69224,0,0,0.72222],"8874":[0,0.69224,0,0,0.88889],"8876":[0,0.68889,0,0,0.61111],"8877":[0,0.68889,0,0,0.61111],"8878":[0,0.68889,0,0,0.72222],"8879":[0,0.68889,0,0,0.72222],"8882":[0.03517,0.54986,0,0,0.77778],"8883":[0.03517,0.54986,0,0,0.77778],"8884":[0.13667,0.63667,0,0,0.77778],"8885":[0.13667,0.63667,0,0,0.77778],"8888":[0,0.54986,0,0,1.11111],"8890":[0.19444,0.43056,0,0,0.55556],"8891":[0.19444,0.69224,0,0,0.61111],"8892":[0.19444,0.69224,0,0,0.61111],"8901":[0,0.54986,0,0,0.27778],"8903":[0.08167,0.58167,0,0,0.77778],"8905":[0.08167,0.58167,0,0,0.77778],"8906":[0.08167,0.58167,0,0,0.77778],"8907":[0,0.69224,0,0,0.77778],"8908":[0,0.69224,0,0,0.77778],"8909":[-0.03598,0.46402,0,0,0.77778],"8910":[0,0.54986,0,0,0.76042],"8911":[0,0.54986,0,0,0.76042],"8912":[0.03517,0.54986,0,0,0.77778],"8913":[0.03517,0.54986,0,0,0.77778],"8914":[0,0.54986,0,0,0.66667],"8915":[0,0.54986,0,0,0.66667],"8916":[0,0.69224,0,0,0.66667],"8918":[0.0391,0.5391,0,0,0.77778],"8919":[0.0391,0.5391,0,0,0.77778],"8920":[0.03517,0.54986,0,0,1.33334],"8921":[0.03517,0.54986,0,0,1.33334],"8922":[0.38569,0.88569,0,0,0.77778],"8923":[0.38569,0.88569,0,0,0.77778],"8926":[0.13667,0.63667,0,0,0.77778],"8927":[0.13667,0.63667,0,0,0.77778],"8928":[0.30274,0.79383,0,0,0.77778],"8929":[0.30274,0.79383,0,0,0.77778],"8934":[0.23222,0.74111,0,0,0.77778],"8935":[0.23222,0.74111,0,0,0.77778],"8936":[0.23222,0.74111,0,0,0.77778],"8937":[0.23222,0.74111,0,0,0.77778],"8938":[0.20576,0.70576,0,0,0.77778],"8939":[0.20576,0.70576,0,0,0.77778],"8940":[0.30274,0.79383,0,0,0.77778],"8941":[0.30274,0.79383,0,0,0.77778],"8994":[0.19444,0.69224,0,0,0.77778],"8995":[0.19444,0.69224,0,0,0.77778],"9416":[0.15559,0.69224,0,0,0.90222],"9484":[0,0.69224,0,0,0.5],"9488":[0,0.69224,0,0,0.5],"9492":[0,0.37788,0,0,0.5],"9496":[0,0.37788,0,0,0.5],"9585":[0.19444,0.68889,0,0,0.88889],"9586":[0.19444,0.74111,0,0,0.88889],"9632":[0,0.675,0,0,0.77778],"9633":[0,0.675,0,0,0.77778],"9650":[0,0.54986,0,0,0.72222],"9651":[0,0.54986,0,0,0.72222],"9654":[0.03517,0.54986,0,0,0.77778],"9660":[0,0.54986,0,0,0.72222],"9661":[0,0.54986,0,0,0.72222],"9664":[0.03517,0.54986,0,0,0.77778],"9674":[0.11111,0.69224,0,0,0.66667],"9733":[0.19444,0.69224,0,0,0.94445],"10003":[0,0.69224,0,0,0.83334],"10016":[0,0.69224,0,0,0.83334],"10731":[0.11111,0.69224,0,0,0.66667],"10846":[0.19444,0.75583,0,0,0.61111],"10877":[0.13667,0.63667,0,0,0.77778],"10878":[0.13667,0.63667,0,0,0.77778],"10885":[0.25583,0.75583,0,0,0.77778],"10886":[0.25583,0.75583,0,0,0.77778],"10887":[0.13597,0.63597,0,0,0.77778],"10888":[0.13597,0.63597,0,0,0.77778],"10889":[0.26167,0.75726,0,0,0.77778],"10890":[0.26167,0.75726,0,0,0.77778],"10891":[0.48256,0.98256,0,0,0.77778],"10892":[0.48256,0.98256,0,0,0.77778],"10901":[0.13667,0.63667,0,0,0.77778],"10902":[0.13667,0.63667,0,0,0.77778],"10933":[0.25142,0.75726,0,0,0.77778],"10934":[0.25142,0.75726,0,0,0.77778],"10935":[0.26167,0.75726,0,0,0.77778],"10936":[0.26167,0.75726,0,0,0.77778],"10937":[0.26167,0.75726,0,0,0.77778],"10938":[0.26167,0.75726,0,0,0.77778],"10949":[0.25583,0.75583,0,0,0.77778],"10950":[0.25583,0.75583,0,0,0.77778],"10955":[0.28481,0.79383,0,0,0.77778],"10956":[0.28481,0.79383,0,0,0.77778],"57350":[0.08167,0.58167,0,0,0.22222],"57351":[0.08167,0.58167,0,0,0.38889],"57352":[0.08167,0.58167,0,0,0.77778],"57353":[0,0.43056,0.04028,0,0.66667],"57356":[0.25142,0.75726,0,0,0.77778],"57357":[0.25142,0.75726,0,0,0.77778],"57358":[0.41951,0.91951,0,0,0.77778],"57359":[0.30274,0.79383,0,0,0.77778],"57360":[0.30274,0.79383,0,0,0.77778],"57361":[0.41951,0.91951,0,0,0.77778],"57366":[0.25142,0.75726,0,0,0.77778],"57367":[0.25142,0.75726,0,0,0.77778],"57368":[0.25142,0.75726,0,0,0.77778],"57369":[0.25142,0.75726,0,0,0.77778],"57370":[0.13597,0.63597,0,0,0.77778],"57371":[0.13597,0.63597,0,0,0.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68333,0,0.19445,0.79847],"66":[0,0.68333,0.03041,0.13889,0.65681],"67":[0,0.68333,0.05834,0.13889,0.52653],"68":[0,0.68333,0.02778,0.08334,0.77139],"69":[0,0.68333,0.08944,0.11111,0.52778],"70":[0,0.68333,0.09931,0.11111,0.71875],"71":[0.09722,0.68333,0.0593,0.11111,0.59487],"72":[0,0.68333,0.00965,0.11111,0.84452],"73":[0,0.68333,0.07382,0,0.54452],"74":[0.09722,0.68333,0.18472,0.16667,0.67778],"75":[0,0.68333,0.01445,0.05556,0.76195],"76":[0,0.68333,0,0.13889,0.68972],"77":[0,0.68333,0,0.13889,1.2009],"78":[0,0.68333,0.14736,0.08334,0.82049],"79":[0,0.68333,0.02778,0.11111,0.79611],"80":[0,0.68333,0.08222,0.08334,0.69556],"81":[0.09722,0.68333,0,0.11111,0.81667],"82":[0,0.68333,0,0.08334,0.8475],"83":[0,0.68333,0.075,0.13889,0.60556],"84":[0,0.68333,0.25417,0,0.54464],"85":[0,0.68333,0.09931,0.08334,0.62583],"86":[0,0.68333,0.08222,0,0.61278],"87":[0,0.68333,0.08222,0.08334,0.98778],"88":[0,0.68333,0.14643,0.13889,0.7133],"89":[0.09722,0.68333,0.08222,0.08334,0.66834],"90":[0,0.68333,0.07944,0.13889,0.72473],"160":[0,0,0,0,0.25]},"Fraktur-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69141,0,0,0.29574],"34":[0,0.69141,0,0,0.21471],"38":[0,0.69141,0,0,0.73786],"39":[0,0.69141,0,0,0.21201],"40":[0.24982,0.74947,0,0,0.38865],"41":[0.24982,0.74947,0,0,0.38865],"42":[0,0.62119,0,0,0.27764],"43":[0.08319,0.58283,0,0,0.75623],"44":[0,0.10803,0,0,0.27764],"45":[0.08319,0.58283,0,0,0.75623],"46":[0,0.10803,0,0,0.27764],"47":[0.24982,0.74947,0,0,0.50181],"48":[0,0.47534,0,0,0.50181],"49":[0,0.47534,0,0,0.50181],"50":[0,0.47534,0,0,0.50181],"51":[0.18906,0.47534,0,0,0.50181],"52":[0.18906,0.47534,0,0,0.50181],"53":[0.18906,0.47534,0,0,0.50181],"54":[0,0.69141,0,0,0.50181],"55":[0.18906,0.47534,0,0,0.50181],"56":[0,0.69141,0,0,0.50181],"57":[0.18906,0.47534,0,0,0.50181],"58":[0,0.47534,0,0,0.21606],"59":[0.12604,0.47534,0,0,0.21606],"61":[-0.13099,0.36866,0,0,0.75623],"63":[0,0.69141,0,0,0.36245],"65":[0,0.69141,0,0,0.7176],"66":[0,0.69141,0,0,0.88397],"67":[0,0.69141,0,0,0.61254],"68":[0,0.69141,0,0,0.83158],"69":[0,0.69141,0,0,0.66278],"70":[0.12604,0.69141,0,0,0.61119],"71":[0,0.69141,0,0,0.78539],"72":[0.06302,0.69141,0,0,0.7203],"73":[0,0.69141,0,0,0.55448],"74":[0.12604,0.69141,0,0,0.55231],"75":[0,0.69141,0,0,0.66845],"76":[0,0.69141,0,0,0.66602],"77":[0,0.69141,0,0,1.04953],"78":[0,0.69141,0,0,0.83212],"79":[0,0.69141,0,0,0.82699],"80":[0.18906,0.69141,0,0,0.82753],"81":[0.03781,0.69141,0,0,0.82699],"82":[0,0.69141,0,0,0.82807],"83":[0,0.69141,0,0,0.82861],"84":[0,0.69141,0,0,0.66899],"85":[0,0.69141,0,0,0.64576],"86":[0,0.69141,0,0,0.83131],"87":[0,0.69141,0,0,1.04602],"88":[0,0.69141,0,0,0.71922],"89":[0.18906,0.69141,0,0,0.83293],"90":[0.12604,0.69141,0,0,0.60201],"91":[0.24982,0.74947,0,0,0.27764],"93":[0.24982,0.74947,0,0,0.27764],"94":[0,0.69141,0,0,0.49965],"97":[0,0.47534,0,0,0.50046],"98":[0,0.69141,0,0,0.51315],"99":[0,0.47534,0,0,0.38946],"100":[0,0.62119,0,0,0.49857],"101":[0,0.47534,0,0,0.40053],"102":[0.18906,0.69141,0,0,0.32626],"103":[0.18906,0.47534,0,0,0.5037],"104":[0.18906,0.69141,0,0,0.52126],"105":[0,0.69141,0,0,0.27899],"106":[0,0.69141,0,0,0.28088],"107":[0,0.69141,0,0,0.38946],"108":[0,0.69141,0,0,0.27953],"109":[0,0.47534,0,0,0.76676],"110":[0,0.47534,0,0,0.52666],"111":[0,0.47534,0,0,0.48885],"112":[0.18906,0.52396,0,0,0.50046],"113":[0.18906,0.47534,0,0,0.48912],"114":[0,0.47534,0,0,0.38919],"115":[0,0.47534,0,0,0.44266],"116":[0,0.62119,0,0,0.33301],"117":[0,0.47534,0,0,0.5172],"118":[0,0.52396,0,0,0.5118],"119":[0,0.52396,0,0,0.77351],"120":[0.18906,0.47534,0,0,0.38865],"121":[0.18906,0.47534,0,0,0.49884],"122":[0.18906,0.47534,0,0,0.39054],"160":[0,0,0,0,0.25],"8216":[0,0.69141,0,0,0.21471],"8217":[0,0.69141,0,0,0.21471],"58112":[0,0.62119,0,0,0.49749],"58113":[0,0.62119,0,0,0.4983],"58114":[0.18906,0.69141,0,0,0.33328],"58115":[0.18906,0.69141,0,0,0.32923],"58116":[0.18906,0.47534,0,0,0.50343],"58117":[0,0.69141,0,0,0.33301],"58118":[0,0.62119,0,0,0.33409],"58119":[0,0.47534,0,0,0.50073]},"Main-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.35],"34":[0,0.69444,0,0,0.60278],"35":[0.19444,0.69444,0,0,0.95833],"36":[0.05556,0.75,0,0,0.575],"37":[0.05556,0.75,0,0,0.95833],"38":[0,0.69444,0,0,0.89444],"39":[0,0.69444,0,0,0.31944],"40":[0.25,0.75,0,0,0.44722],"41":[0.25,0.75,0,0,0.44722],"42":[0,0.75,0,0,0.575],"43":[0.13333,0.63333,0,0,0.89444],"44":[0.19444,0.15556,0,0,0.31944],"45":[0,0.44444,0,0,0.38333],"46":[0,0.15556,0,0,0.31944],"47":[0.25,0.75,0,0,0.575],"48":[0,0.64444,0,0,0.575],"49":[0,0.64444,0,0,0.575],"50":[0,0.64444,0,0,0.575],"51":[0,0.64444,0,0,0.575],"52":[0,0.64444,0,0,0.575],"53":[0,0.64444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0,0.64444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0,0.64444,0,0,0.575],"58":[0,0.44444,0,0,0.31944],"59":[0.19444,0.44444,0,0,0.31944],"60":[0.08556,0.58556,0,0,0.89444],"61":[-0.10889,0.39111,0,0,0.89444],"62":[0.08556,0.58556,0,0,0.89444],"63":[0,0.69444,0,0,0.54305],"64":[0,0.69444,0,0,0.89444],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0,0,0.81805],"67":[0,0.68611,0,0,0.83055],"68":[0,0.68611,0,0,0.88194],"69":[0,0.68611,0,0,0.75555],"70":[0,0.68611,0,0,0.72361],"71":[0,0.68611,0,0,0.90416],"72":[0,0.68611,0,0,0.9],"73":[0,0.68611,0,0,0.43611],"74":[0,0.68611,0,0,0.59444],"75":[0,0.68611,0,0,0.90138],"76":[0,0.68611,0,0,0.69166],"77":[0,0.68611,0,0,1.09166],"78":[0,0.68611,0,0,0.9],"79":[0,0.68611,0,0,0.86388],"80":[0,0.68611,0,0,0.78611],"81":[0.19444,0.68611,0,0,0.86388],"82":[0,0.68611,0,0,0.8625],"83":[0,0.68611,0,0,0.63889],"84":[0,0.68611,0,0,0.8],"85":[0,0.68611,0,0,0.88472],"86":[0,0.68611,0.01597,0,0.86944],"87":[0,0.68611,0.01597,0,1.18888],"88":[0,0.68611,0,0,0.86944],"89":[0,0.68611,0.02875,0,0.86944],"90":[0,0.68611,0,0,0.70277],"91":[0.25,0.75,0,0,0.31944],"92":[0.25,0.75,0,0,0.575],"93":[0.25,0.75,0,0,0.31944],"94":[0,0.69444,0,0,0.575],"95":[0.31,0.13444,0.03194,0,0.575],"97":[0,0.44444,0,0,0.55902],"98":[0,0.69444,0,0,0.63889],"99":[0,0.44444,0,0,0.51111],"100":[0,0.69444,0,0,0.63889],"101":[0,0.44444,0,0,0.52708],"102":[0,0.69444,0.10903,0,0.35139],"103":[0.19444,0.44444,0.01597,0,0.575],"104":[0,0.69444,0,0,0.63889],"105":[0,0.69444,0,0,0.31944],"106":[0.19444,0.69444,0,0,0.35139],"107":[0,0.69444,0,0,0.60694],"108":[0,0.69444,0,0,0.31944],"109":[0,0.44444,0,0,0.95833],"110":[0,0.44444,0,0,0.63889],"111":[0,0.44444,0,0,0.575],"112":[0.19444,0.44444,0,0,0.63889],"113":[0.19444,0.44444,0,0,0.60694],"114":[0,0.44444,0,0,0.47361],"115":[0,0.44444,0,0,0.45361],"116":[0,0.63492,0,0,0.44722],"117":[0,0.44444,0,0,0.63889],"118":[0,0.44444,0.01597,0,0.60694],"119":[0,0.44444,0.01597,0,0.83055],"120":[0,0.44444,0,0,0.60694],"121":[0.19444,0.44444,0.01597,0,0.60694],"122":[0,0.44444,0,0,0.51111],"123":[0.25,0.75,0,0,0.575],"124":[0.25,0.75,0,0,0.31944],"125":[0.25,0.75,0,0,0.575],"126":[0.35,0.34444,0,0,0.575],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.86853],"168":[0,0.69444,0,0,0.575],"172":[0,0.44444,0,0,0.76666],"176":[0,0.69444,0,0,0.86944],"177":[0.13333,0.63333,0,0,0.89444],"184":[0.17014,0,0,0,0.51111],"198":[0,0.68611,0,0,1.04166],"215":[0.13333,0.63333,0,0,0.89444],"216":[0.04861,0.73472,0,0,0.89444],"223":[0,0.69444,0,0,0.59722],"230":[0,0.44444,0,0,0.83055],"247":[0.13333,0.63333,0,0,0.89444],"248":[0.09722,0.54167,0,0,0.575],"305":[0,0.44444,0,0,0.31944],"338":[0,0.68611,0,0,1.16944],"339":[0,0.44444,0,0,0.89444],"567":[0.19444,0.44444,0,0,0.35139],"710":[0,0.69444,0,0,0.575],"711":[0,0.63194,0,0,0.575],"713":[0,0.59611,0,0,0.575],"714":[0,0.69444,0,0,0.575],"715":[0,0.69444,0,0,0.575],"728":[0,0.69444,0,0,0.575],"729":[0,0.69444,0,0,0.31944],"730":[0,0.69444,0,0,0.86944],"732":[0,0.69444,0,0,0.575],"733":[0,0.69444,0,0,0.575],"915":[0,0.68611,0,0,0.69166],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0,0,0.89444],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0,0,0.76666],"928":[0,0.68611,0,0,0.9],"931":[0,0.68611,0,0,0.83055],"933":[0,0.68611,0,0,0.89444],"934":[0,0.68611,0,0,0.83055],"936":[0,0.68611,0,0,0.89444],"937":[0,0.68611,0,0,0.83055],"8211":[0,0.44444,0.03194,0,0.575],"8212":[0,0.44444,0.03194,0,1.14999],"8216":[0,0.69444,0,0,0.31944],"8217":[0,0.69444,0,0,0.31944],"8220":[0,0.69444,0,0,0.60278],"8221":[0,0.69444,0,0,0.60278],"8224":[0.19444,0.69444,0,0,0.51111],"8225":[0.19444,0.69444,0,0,0.51111],"8242":[0,0.55556,0,0,0.34444],"8407":[0,0.72444,0.15486,0,0.575],"8463":[0,0.69444,0,0,0.66759],"8465":[0,0.69444,0,0,0.83055],"8467":[0,0.69444,0,0,0.47361],"8472":[0.19444,0.44444,0,0,0.74027],"8476":[0,0.69444,0,0,0.83055],"8501":[0,0.69444,0,0,0.70277],"8592":[-0.10889,0.39111,0,0,1.14999],"8593":[0.19444,0.69444,0,0,0.575],"8594":[-0.10889,0.39111,0,0,1.14999],"8595":[0.19444,0.69444,0,0,0.575],"8596":[-0.10889,0.39111,0,0,1.14999],"8597":[0.25,0.75,0,0,0.575],"8598":[0.19444,0.69444,0,0,1.14999],"8599":[0.19444,0.69444,0,0,1.14999],"8600":[0.19444,0.69444,0,0,1.14999],"8601":[0.19444,0.69444,0,0,1.14999],"8636":[-0.10889,0.39111,0,0,1.14999],"8637":[-0.10889,0.39111,0,0,1.14999],"8640":[-0.10889,0.39111,0,0,1.14999],"8641":[-0.10889,0.39111,0,0,1.14999],"8656":[-0.10889,0.39111,0,0,1.14999],"8657":[0.19444,0.69444,0,0,0.70277],"8658":[-0.10889,0.39111,0,0,1.14999],"8659":[0.19444,0.69444,0,0,0.70277],"8660":[-0.10889,0.39111,0,0,1.14999],"8661":[0.25,0.75,0,0,0.70277],"8704":[0,0.69444,0,0,0.63889],"8706":[0,0.69444,0.06389,0,0.62847],"8707":[0,0.69444,0,0,0.63889],"8709":[0.05556,0.75,0,0,0.575],"8711":[0,0.68611,0,0,0.95833],"8712":[0.08556,0.58556,0,0,0.76666],"8715":[0.08556,0.58556,0,0,0.76666],"8722":[0.13333,0.63333,0,0,0.89444],"8723":[0.13333,0.63333,0,0,0.89444],"8725":[0.25,0.75,0,0,0.575],"8726":[0.25,0.75,0,0,0.575],"8727":[-0.02778,0.47222,0,0,0.575],"8728":[-0.02639,0.47361,0,0,0.575],"8729":[-0.02639,0.47361,0,0,0.575],"8730":[0.18,0.82,0,0,0.95833],"8733":[0,0.44444,0,0,0.89444],"8734":[0,0.44444,0,0,1.14999],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.31944],"8741":[0.25,0.75,0,0,0.575],"8743":[0,0.55556,0,0,0.76666],"8744":[0,0.55556,0,0,0.76666],"8745":[0,0.55556,0,0,0.76666],"8746":[0,0.55556,0,0,0.76666],"8747":[0.19444,0.69444,0.12778,0,0.56875],"8764":[-0.10889,0.39111,0,0,0.89444],"8768":[0.19444,0.69444,0,0,0.31944],"8771":[0.00222,0.50222,0,0,0.89444],"8773":[0.027,0.638,0,0,0.894],"8776":[0.02444,0.52444,0,0,0.89444],"8781":[0.00222,0.50222,0,0,0.89444],"8801":[0.00222,0.50222,0,0,0.89444],"8804":[0.19667,0.69667,0,0,0.89444],"8805":[0.19667,0.69667,0,0,0.89444],"8810":[0.08556,0.58556,0,0,1.14999],"8811":[0.08556,0.58556,0,0,1.14999],"8826":[0.08556,0.58556,0,0,0.89444],"8827":[0.08556,0.58556,0,0,0.89444],"8834":[0.08556,0.58556,0,0,0.89444],"8835":[0.08556,0.58556,0,0,0.89444],"8838":[0.19667,0.69667,0,0,0.89444],"8839":[0.19667,0.69667,0,0,0.89444],"8846":[0,0.55556,0,0,0.76666],"8849":[0.19667,0.69667,0,0,0.89444],"8850":[0.19667,0.69667,0,0,0.89444],"8851":[0,0.55556,0,0,0.76666],"8852":[0,0.55556,0,0,0.76666],"8853":[0.13333,0.63333,0,0,0.89444],"8854":[0.13333,0.63333,0,0,0.89444],"8855":[0.13333,0.63333,0,0,0.89444],"8856":[0.13333,0.63333,0,0,0.89444],"8857":[0.13333,0.63333,0,0,0.89444],"8866":[0,0.69444,0,0,0.70277],"8867":[0,0.69444,0,0,0.70277],"8868":[0,0.69444,0,0,0.89444],"8869":[0,0.69444,0,0,0.89444],"8900":[-0.02639,0.47361,0,0,0.575],"8901":[-0.02639,0.47361,0,0,0.31944],"8902":[-0.02778,0.47222,0,0,0.575],"8968":[0.25,0.75,0,0,0.51111],"8969":[0.25,0.75,0,0,0.51111],"8970":[0.25,0.75,0,0,0.51111],"8971":[0.25,0.75,0,0,0.51111],"8994":[-0.13889,0.36111,0,0,1.14999],"8995":[-0.13889,0.36111,0,0,1.14999],"9651":[0.19444,0.69444,0,0,1.02222],"9657":[-0.02778,0.47222,0,0,0.575],"9661":[0.19444,0.69444,0,0,1.02222],"9667":[-0.02778,0.47222,0,0,0.575],"9711":[0.19444,0.69444,0,0,1.14999],"9824":[0.12963,0.69444,0,0,0.89444],"9825":[0.12963,0.69444,0,0,0.89444],"9826":[0.12963,0.69444,0,0,0.89444],"9827":[0.12963,0.69444,0,0,0.89444],"9837":[0,0.75,0,0,0.44722],"9838":[0.19444,0.69444,0,0,0.44722],"9839":[0.19444,0.69444,0,0,0.44722],"10216":[0.25,0.75,0,0,0.44722],"10217":[0.25,0.75,0,0,0.44722],"10815":[0,0.68611,0,0,0.9],"10927":[0.19667,0.69667,0,0,0.89444],"10928":[0.19667,0.69667,0,0,0.89444],"57376":[0.19444,0.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.11417,0,0.38611],"34":[0,0.69444,0.07939,0,0.62055],"35":[0.19444,0.69444,0.06833,0,0.94444],"37":[0.05556,0.75,0.12861,0,0.94444],"38":[0,0.69444,0.08528,0,0.88555],"39":[0,0.69444,0.12945,0,0.35555],"40":[0.25,0.75,0.15806,0,0.47333],"41":[0.25,0.75,0.03306,0,0.47333],"42":[0,0.75,0.14333,0,0.59111],"43":[0.10333,0.60333,0.03306,0,0.88555],"44":[0.19444,0.14722,0,0,0.35555],"45":[0,0.44444,0.02611,0,0.41444],"46":[0,0.14722,0,0,0.35555],"47":[0.25,0.75,0.15806,0,0.59111],"48":[0,0.64444,0.13167,0,0.59111],"49":[0,0.64444,0.13167,0,0.59111],"50":[0,0.64444,0.13167,0,0.59111],"51":[0,0.64444,0.13167,0,0.59111],"52":[0.19444,0.64444,0.13167,0,0.59111],"53":[0,0.64444,0.13167,0,0.59111],"54":[0,0.64444,0.13167,0,0.59111],"55":[0.19444,0.64444,0.13167,0,0.59111],"56":[0,0.64444,0.13167,0,0.59111],"57":[0,0.64444,0.13167,0,0.59111],"58":[0,0.44444,0.06695,0,0.35555],"59":[0.19444,0.44444,0.06695,0,0.35555],"61":[-0.10889,0.39111,0.06833,0,0.88555],"63":[0,0.69444,0.11472,0,0.59111],"64":[0,0.69444,0.09208,0,0.88555],"65":[0,0.68611,0,0,0.86555],"66":[0,0.68611,0.0992,0,0.81666],"67":[0,0.68611,0.14208,0,0.82666],"68":[0,0.68611,0.09062,0,0.87555],"69":[0,0.68611,0.11431,0,0.75666],"70":[0,0.68611,0.12903,0,0.72722],"71":[0,0.68611,0.07347,0,0.89527],"72":[0,0.68611,0.17208,0,0.8961],"73":[0,0.68611,0.15681,0,0.47166],"74":[0,0.68611,0.145,0,0.61055],"75":[0,0.68611,0.14208,0,0.89499],"76":[0,0.68611,0,0,0.69777],"77":[0,0.68611,0.17208,0,1.07277],"78":[0,0.68611,0.17208,0,0.8961],"79":[0,0.68611,0.09062,0,0.85499],"80":[0,0.68611,0.0992,0,0.78721],"81":[0.19444,0.68611,0.09062,0,0.85499],"82":[0,0.68611,0.02559,0,0.85944],"83":[0,0.68611,0.11264,0,0.64999],"84":[0,0.68611,0.12903,0,0.7961],"85":[0,0.68611,0.17208,0,0.88083],"86":[0,0.68611,0.18625,0,0.86555],"87":[0,0.68611,0.18625,0,1.15999],"88":[0,0.68611,0.15681,0,0.86555],"89":[0,0.68611,0.19803,0,0.86555],"90":[0,0.68611,0.14208,0,0.70888],"91":[0.25,0.75,0.1875,0,0.35611],"93":[0.25,0.75,0.09972,0,0.35611],"94":[0,0.69444,0.06709,0,0.59111],"95":[0.31,0.13444,0.09811,0,0.59111],"97":[0,0.44444,0.09426,0,0.59111],"98":[0,0.69444,0.07861,0,0.53222],"99":[0,0.44444,0.05222,0,0.53222],"100":[0,0.69444,0.10861,0,0.59111],"101":[0,0.44444,0.085,0,0.53222],"102":[0.19444,0.69444,0.21778,0,0.4],"103":[0.19444,0.44444,0.105,0,0.53222],"104":[0,0.69444,0.09426,0,0.59111],"105":[0,0.69326,0.11387,0,0.35555],"106":[0.19444,0.69326,0.1672,0,0.35555],"107":[0,0.69444,0.11111,0,0.53222],"108":[0,0.69444,0.10861,0,0.29666],"109":[0,0.44444,0.09426,0,0.94444],"110":[0,0.44444,0.09426,0,0.64999],"111":[0,0.44444,0.07861,0,0.59111],"112":[0.19444,0.44444,0.07861,0,0.59111],"113":[0.19444,0.44444,0.105,0,0.53222],"114":[0,0.44444,0.11111,0,0.50167],"115":[0,0.44444,0.08167,0,0.48694],"116":[0,0.63492,0.09639,0,0.385],"117":[0,0.44444,0.09426,0,0.62055],"118":[0,0.44444,0.11111,0,0.53222],"119":[0,0.44444,0.11111,0,0.76777],"120":[0,0.44444,0.12583,0,0.56055],"121":[0.19444,0.44444,0.105,0,0.56166],"122":[0,0.44444,0.13889,0,0.49055],"126":[0.35,0.34444,0.11472,0,0.59111],"160":[0,0,0,0,0.25],"168":[0,0.69444,0.11473,0,0.59111],"176":[0,0.69444,0,0,0.94888],"184":[0.17014,0,0,0,0.53222],"198":[0,0.68611,0.11431,0,1.02277],"216":[0.04861,0.73472,0.09062,0,0.88555],"223":[0.19444,0.69444,0.09736,0,0.665],"230":[0,0.44444,0.085,0,0.82666],"248":[0.09722,0.54167,0.09458,0,0.59111],"305":[0,0.44444,0.09426,0,0.35555],"338":[0,0.68611,0.11431,0,1.14054],"339":[0,0.44444,0.085,0,0.82666],"567":[0.19444,0.44444,0.04611,0,0.385],"710":[0,0.69444,0.06709,0,0.59111],"711":[0,0.63194,0.08271,0,0.59111],"713":[0,0.59444,0.10444,0,0.59111],"714":[0,0.69444,0.08528,0,0.59111],"715":[0,0.69444,0,0,0.59111],"728":[0,0.69444,0.10333,0,0.59111],"729":[0,0.69444,0.12945,0,0.35555],"730":[0,0.69444,0,0,0.94888],"732":[0,0.69444,0.11472,0,0.59111],"733":[0,0.69444,0.11472,0,0.59111],"915":[0,0.68611,0.12903,0,0.69777],"916":[0,0.68611,0,0,0.94444],"920":[0,0.68611,0.09062,0,0.88555],"923":[0,0.68611,0,0,0.80666],"926":[0,0.68611,0.15092,0,0.76777],"928":[0,0.68611,0.17208,0,0.8961],"931":[0,0.68611,0.11431,0,0.82666],"933":[0,0.68611,0.10778,0,0.88555],"934":[0,0.68611,0.05632,0,0.82666],"936":[0,0.68611,0.10778,0,0.88555],"937":[0,0.68611,0.0992,0,0.82666],"8211":[0,0.44444,0.09811,0,0.59111],"8212":[0,0.44444,0.09811,0,1.18221],"8216":[0,0.69444,0.12945,0,0.35555],"8217":[0,0.69444,0.12945,0,0.35555],"8220":[0,0.69444,0.16772,0,0.62055],"8221":[0,0.69444,0.07939,0,0.62055]},"Main-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.12417,0,0.30667],"34":[0,0.69444,0.06961,0,0.51444],"35":[0.19444,0.69444,0.06616,0,0.81777],"37":[0.05556,0.75,0.13639,0,0.81777],"38":[0,0.69444,0.09694,0,0.76666],"39":[0,0.69444,0.12417,0,0.30667],"40":[0.25,0.75,0.16194,0,0.40889],"41":[0.25,0.75,0.03694,0,0.40889],"42":[0,0.75,0.14917,0,0.51111],"43":[0.05667,0.56167,0.03694,0,0.76666],"44":[0.19444,0.10556,0,0,0.30667],"45":[0,0.43056,0.02826,0,0.35778],"46":[0,0.10556,0,0,0.30667],"47":[0.25,0.75,0.16194,0,0.51111],"48":[0,0.64444,0.13556,0,0.51111],"49":[0,0.64444,0.13556,0,0.51111],"50":[0,0.64444,0.13556,0,0.51111],"51":[0,0.64444,0.13556,0,0.51111],"52":[0.19444,0.64444,0.13556,0,0.51111],"53":[0,0.64444,0.13556,0,0.51111],"54":[0,0.64444,0.13556,0,0.51111],"55":[0.19444,0.64444,0.13556,0,0.51111],"56":[0,0.64444,0.13556,0,0.51111],"57":[0,0.64444,0.13556,0,0.51111],"58":[0,0.43056,0.0582,0,0.30667],"59":[0.19444,0.43056,0.0582,0,0.30667],"61":[-0.13313,0.36687,0.06616,0,0.76666],"63":[0,0.69444,0.1225,0,0.51111],"64":[0,0.69444,0.09597,0,0.76666],"65":[0,0.68333,0,0,0.74333],"66":[0,0.68333,0.10257,0,0.70389],"67":[0,0.68333,0.14528,0,0.71555],"68":[0,0.68333,0.09403,0,0.755],"69":[0,0.68333,0.12028,0,0.67833],"70":[0,0.68333,0.13305,0,0.65277],"71":[0,0.68333,0.08722,0,0.77361],"72":[0,0.68333,0.16389,0,0.74333],"73":[0,0.68333,0.15806,0,0.38555],"74":[0,0.68333,0.14028,0,0.525],"75":[0,0.68333,0.14528,0,0.76888],"76":[0,0.68333,0,0,0.62722],"77":[0,0.68333,0.16389,0,0.89666],"78":[0,0.68333,0.16389,0,0.74333],"79":[0,0.68333,0.09403,0,0.76666],"80":[0,0.68333,0.10257,0,0.67833],"81":[0.19444,0.68333,0.09403,0,0.76666],"82":[0,0.68333,0.03868,0,0.72944],"83":[0,0.68333,0.11972,0,0.56222],"84":[0,0.68333,0.13305,0,0.71555],"85":[0,0.68333,0.16389,0,0.74333],"86":[0,0.68333,0.18361,0,0.74333],"87":[0,0.68333,0.18361,0,0.99888],"88":[0,0.68333,0.15806,0,0.74333],"89":[0,0.68333,0.19383,0,0.74333],"90":[0,0.68333,0.14528,0,0.61333],"91":[0.25,0.75,0.1875,0,0.30667],"93":[0.25,0.75,0.10528,0,0.30667],"94":[0,0.69444,0.06646,0,0.51111],"95":[0.31,0.12056,0.09208,0,0.51111],"97":[0,0.43056,0.07671,0,0.51111],"98":[0,0.69444,0.06312,0,0.46],"99":[0,0.43056,0.05653,0,0.46],"100":[0,0.69444,0.10333,0,0.51111],"101":[0,0.43056,0.07514,0,0.46],"102":[0.19444,0.69444,0.21194,0,0.30667],"103":[0.19444,0.43056,0.08847,0,0.46],"104":[0,0.69444,0.07671,0,0.51111],"105":[0,0.65536,0.1019,0,0.30667],"106":[0.19444,0.65536,0.14467,0,0.30667],"107":[0,0.69444,0.10764,0,0.46],"108":[0,0.69444,0.10333,0,0.25555],"109":[0,0.43056,0.07671,0,0.81777],"110":[0,0.43056,0.07671,0,0.56222],"111":[0,0.43056,0.06312,0,0.51111],"112":[0.19444,0.43056,0.06312,0,0.51111],"113":[0.19444,0.43056,0.08847,0,0.46],"114":[0,0.43056,0.10764,0,0.42166],"115":[0,0.43056,0.08208,0,0.40889],"116":[0,0.61508,0.09486,0,0.33222],"117":[0,0.43056,0.07671,0,0.53666],"118":[0,0.43056,0.10764,0,0.46],"119":[0,0.43056,0.10764,0,0.66444],"120":[0,0.43056,0.12042,0,0.46389],"121":[0.19444,0.43056,0.08847,0,0.48555],"122":[0,0.43056,0.12292,0,0.40889],"126":[0.35,0.31786,0.11585,0,0.51111],"160":[0,0,0,0,0.25],"168":[0,0.66786,0.10474,0,0.51111],"176":[0,0.69444,0,0,0.83129],"184":[0.17014,0,0,0,0.46],"198":[0,0.68333,0.12028,0,0.88277],"216":[0.04861,0.73194,0.09403,0,0.76666],"223":[0.19444,0.69444,0.10514,0,0.53666],"230":[0,0.43056,0.07514,0,0.71555],"248":[0.09722,0.52778,0.09194,0,0.51111],"338":[0,0.68333,0.12028,0,0.98499],"339":[0,0.43056,0.07514,0,0.71555],"710":[0,0.69444,0.06646,0,0.51111],"711":[0,0.62847,0.08295,0,0.51111],"713":[0,0.56167,0.10333,0,0.51111],"714":[0,0.69444,0.09694,0,0.51111],"715":[0,0.69444,0,0,0.51111],"728":[0,0.69444,0.10806,0,0.51111],"729":[0,0.66786,0.11752,0,0.30667],"730":[0,0.69444,0,0,0.83129],"732":[0,0.66786,0.11585,0,0.51111],"733":[0,0.69444,0.1225,0,0.51111],"915":[0,0.68333,0.13305,0,0.62722],"916":[0,0.68333,0,0,0.81777],"920":[0,0.68333,0.09403,0,0.76666],"923":[0,0.68333,0,0,0.69222],"926":[0,0.68333,0.15294,0,0.66444],"928":[0,0.68333,0.16389,0,0.74333],"931":[0,0.68333,0.12028,0,0.71555],"933":[0,0.68333,0.11111,0,0.76666],"934":[0,0.68333,0.05986,0,0.71555],"936":[0,0.68333,0.11111,0,0.76666],"937":[0,0.68333,0.10257,0,0.71555],"8211":[0,0.43056,0.09208,0,0.51111],"8212":[0,0.43056,0.09208,0,1.02222],"8216":[0,0.69444,0.12417,0,0.30667],"8217":[0,0.69444,0.12417,0,0.30667],"8220":[0,0.69444,0.1685,0,0.51444],"8221":[0,0.69444,0.06961,0,0.51444],"8463":[0,0.68889,0,0,0.54028]},"Main-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.27778],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.77778],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.19444,0.10556,0,0,0.27778],"45":[0,0.43056,0,0,0.33333],"46":[0,0.10556,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.64444,0,0,0.5],"49":[0,0.64444,0,0,0.5],"50":[0,0.64444,0,0,0.5],"51":[0,0.64444,0,0,0.5],"52":[0,0.64444,0,0,0.5],"53":[0,0.64444,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0,0.64444,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0,0.64444,0,0,0.5],"58":[0,0.43056,0,0,0.27778],"59":[0.19444,0.43056,0,0,0.27778],"60":[0.0391,0.5391,0,0,0.77778],"61":[-0.13313,0.36687,0,0,0.77778],"62":[0.0391,0.5391,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.77778],"65":[0,0.68333,0,0,0.75],"66":[0,0.68333,0,0,0.70834],"67":[0,0.68333,0,0,0.72222],"68":[0,0.68333,0,0,0.76389],"69":[0,0.68333,0,0,0.68056],"70":[0,0.68333,0,0,0.65278],"71":[0,0.68333,0,0,0.78472],"72":[0,0.68333,0,0,0.75],"73":[0,0.68333,0,0,0.36111],"74":[0,0.68333,0,0,0.51389],"75":[0,0.68333,0,0,0.77778],"76":[0,0.68333,0,0,0.625],"77":[0,0.68333,0,0,0.91667],"78":[0,0.68333,0,0,0.75],"79":[0,0.68333,0,0,0.77778],"80":[0,0.68333,0,0,0.68056],"81":[0.19444,0.68333,0,0,0.77778],"82":[0,0.68333,0,0,0.73611],"83":[0,0.68333,0,0,0.55556],"84":[0,0.68333,0,0,0.72222],"85":[0,0.68333,0,0,0.75],"86":[0,0.68333,0.01389,0,0.75],"87":[0,0.68333,0.01389,0,1.02778],"88":[0,0.68333,0,0,0.75],"89":[0,0.68333,0.025,0,0.75],"90":[0,0.68333,0,0,0.61111],"91":[0.25,0.75,0,0,0.27778],"92":[0.25,0.75,0,0,0.5],"93":[0.25,0.75,0,0,0.27778],"94":[0,0.69444,0,0,0.5],"95":[0.31,0.12056,0.02778,0,0.5],"97":[0,0.43056,0,0,0.5],"98":[0,0.69444,0,0,0.55556],"99":[0,0.43056,0,0,0.44445],"100":[0,0.69444,0,0,0.55556],"101":[0,0.43056,0,0,0.44445],"102":[0,0.69444,0.07778,0,0.30556],"103":[0.19444,0.43056,0.01389,0,0.5],"104":[0,0.69444,0,0,0.55556],"105":[0,0.66786,0,0,0.27778],"106":[0.19444,0.66786,0,0,0.30556],"107":[0,0.69444,0,0,0.52778],"108":[0,0.69444,0,0,0.27778],"109":[0,0.43056,0,0,0.83334],"110":[0,0.43056,0,0,0.55556],"111":[0,0.43056,0,0,0.5],"112":[0.19444,0.43056,0,0,0.55556],"113":[0.19444,0.43056,0,0,0.52778],"114":[0,0.43056,0,0,0.39167],"115":[0,0.43056,0,0,0.39445],"116":[0,0.61508,0,0,0.38889],"117":[0,0.43056,0,0,0.55556],"118":[0,0.43056,0.01389,0,0.52778],"119":[0,0.43056,0.01389,0,0.72222],"120":[0,0.43056,0,0,0.52778],"121":[0.19444,0.43056,0.01389,0,0.52778],"122":[0,0.43056,0,0,0.44445],"123":[0.25,0.75,0,0,0.5],"124":[0.25,0.75,0,0,0.27778],"125":[0.25,0.75,0,0,0.5],"126":[0.35,0.31786,0,0,0.5],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.76909],"167":[0.19444,0.69444,0,0,0.44445],"168":[0,0.66786,0,0,0.5],"172":[0,0.43056,0,0,0.66667],"176":[0,0.69444,0,0,0.75],"177":[0.08333,0.58333,0,0,0.77778],"182":[0.19444,0.69444,0,0,0.61111],"184":[0.17014,0,0,0,0.44445],"198":[0,0.68333,0,0,0.90278],"215":[0.08333,0.58333,0,0,0.77778],"216":[0.04861,0.73194,0,0,0.77778],"223":[0,0.69444,0,0,0.5],"230":[0,0.43056,0,0,0.72222],"247":[0.08333,0.58333,0,0,0.77778],"248":[0.09722,0.52778,0,0,0.5],"305":[0,0.43056,0,0,0.27778],"338":[0,0.68333,0,0,1.01389],"339":[0,0.43056,0,0,0.77778],"567":[0.19444,0.43056,0,0,0.30556],"710":[0,0.69444,0,0,0.5],"711":[0,0.62847,0,0,0.5],"713":[0,0.56778,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.66786,0,0,0.27778],"730":[0,0.69444,0,0,0.75],"732":[0,0.66786,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.68333,0,0,0.625],"916":[0,0.68333,0,0,0.83334],"920":[0,0.68333,0,0,0.77778],"923":[0,0.68333,0,0,0.69445],"926":[0,0.68333,0,0,0.66667],"928":[0,0.68333,0,0,0.75],"931":[0,0.68333,0,0,0.72222],"933":[0,0.68333,0,0,0.77778],"934":[0,0.68333,0,0,0.72222],"936":[0,0.68333,0,0,0.77778],"937":[0,0.68333,0,0,0.72222],"8211":[0,0.43056,0.02778,0,0.5],"8212":[0,0.43056,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5],"8224":[0.19444,0.69444,0,0,0.44445],"8225":[0.19444,0.69444,0,0,0.44445],"8230":[0,0.123,0,0,1.172],"8242":[0,0.55556,0,0,0.275],"8407":[0,0.71444,0.15382,0,0.5],"8463":[0,0.68889,0,0,0.54028],"8465":[0,0.69444,0,0,0.72222],"8467":[0,0.69444,0,0.11111,0.41667],"8472":[0.19444,0.43056,0,0.11111,0.63646],"8476":[0,0.69444,0,0,0.72222],"8501":[0,0.69444,0,0,0.61111],"8592":[-0.13313,0.36687,0,0,1],"8593":[0.19444,0.69444,0,0,0.5],"8594":[-0.13313,0.36687,0,0,1],"8595":[0.19444,0.69444,0,0,0.5],"8596":[-0.13313,0.36687,0,0,1],"8597":[0.25,0.75,0,0,0.5],"8598":[0.19444,0.69444,0,0,1],"8599":[0.19444,0.69444,0,0,1],"8600":[0.19444,0.69444,0,0,1],"8601":[0.19444,0.69444,0,0,1],"8614":[0.011,0.511,0,0,1],"8617":[0.011,0.511,0,0,1.126],"8618":[0.011,0.511,0,0,1.126],"8636":[-0.13313,0.36687,0,0,1],"8637":[-0.13313,0.36687,0,0,1],"8640":[-0.13313,0.36687,0,0,1],"8641":[-0.13313,0.36687,0,0,1],"8652":[0.011,0.671,0,0,1],"8656":[-0.13313,0.36687,0,0,1],"8657":[0.19444,0.69444,0,0,0.61111],"8658":[-0.13313,0.36687,0,0,1],"8659":[0.19444,0.69444,0,0,0.61111],"8660":[-0.13313,0.36687,0,0,1],"8661":[0.25,0.75,0,0,0.61111],"8704":[0,0.69444,0,0,0.55556],"8706":[0,0.69444,0.05556,0.08334,0.5309],"8707":[0,0.69444,0,0,0.55556],"8709":[0.05556,0.75,0,0,0.5],"8711":[0,0.68333,0,0,0.83334],"8712":[0.0391,0.5391,0,0,0.66667],"8715":[0.0391,0.5391,0,0,0.66667],"8722":[0.08333,0.58333,0,0,0.77778],"8723":[0.08333,0.58333,0,0,0.77778],"8725":[0.25,0.75,0,0,0.5],"8726":[0.25,0.75,0,0,0.5],"8727":[-0.03472,0.46528,0,0,0.5],"8728":[-0.05555,0.44445,0,0,0.5],"8729":[-0.05555,0.44445,0,0,0.5],"8730":[0.2,0.8,0,0,0.83334],"8733":[0,0.43056,0,0,0.77778],"8734":[0,0.43056,0,0,1],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.27778],"8741":[0.25,0.75,0,0,0.5],"8743":[0,0.55556,0,0,0.66667],"8744":[0,0.55556,0,0,0.66667],"8745":[0,0.55556,0,0,0.66667],"8746":[0,0.55556,0,0,0.66667],"8747":[0.19444,0.69444,0.11111,0,0.41667],"8764":[-0.13313,0.36687,0,0,0.77778],"8768":[0.19444,0.69444,0,0,0.27778],"8771":[-0.03625,0.46375,0,0,0.77778],"8773":[-0.022,0.589,0,0,0.778],"8776":[-0.01688,0.48312,0,0,0.77778],"8781":[-0.03625,0.46375,0,0,0.77778],"8784":[-0.133,0.673,0,0,0.778],"8801":[-0.03625,0.46375,0,0,0.77778],"8804":[0.13597,0.63597,0,0,0.77778],"8805":[0.13597,0.63597,0,0,0.77778],"8810":[0.0391,0.5391,0,0,1],"8811":[0.0391,0.5391,0,0,1],"8826":[0.0391,0.5391,0,0,0.77778],"8827":[0.0391,0.5391,0,0,0.77778],"8834":[0.0391,0.5391,0,0,0.77778],"8835":[0.0391,0.5391,0,0,0.77778],"8838":[0.13597,0.63597,0,0,0.77778],"8839":[0.13597,0.63597,0,0,0.77778],"8846":[0,0.55556,0,0,0.66667],"8849":[0.13597,0.63597,0,0,0.77778],"8850":[0.13597,0.63597,0,0,0.77778],"8851":[0,0.55556,0,0,0.66667],"8852":[0,0.55556,0,0,0.66667],"8853":[0.08333,0.58333,0,0,0.77778],"8854":[0.08333,0.58333,0,0,0.77778],"8855":[0.08333,0.58333,0,0,0.77778],"8856":[0.08333,0.58333,0,0,0.77778],"8857":[0.08333,0.58333,0,0,0.77778],"8866":[0,0.69444,0,0,0.61111],"8867":[0,0.69444,0,0,0.61111],"8868":[0,0.69444,0,0,0.77778],"8869":[0,0.69444,0,0,0.77778],"8872":[0.249,0.75,0,0,0.867],"8900":[-0.05555,0.44445,0,0,0.5],"8901":[-0.05555,0.44445,0,0,0.27778],"8902":[-0.03472,0.46528,0,0,0.5],"8904":[0.005,0.505,0,0,0.9],"8942":[0.03,0.903,0,0,0.278],"8943":[-0.19,0.313,0,0,1.172],"8945":[-0.1,0.823,0,0,1.282],"8968":[0.25,0.75,0,0,0.44445],"8969":[0.25,0.75,0,0,0.44445],"8970":[0.25,0.75,0,0,0.44445],"8971":[0.25,0.75,0,0,0.44445],"8994":[-0.14236,0.35764,0,0,1],"8995":[-0.14236,0.35764,0,0,1],"9136":[0.244,0.744,0,0,0.412],"9137":[0.244,0.745,0,0,0.412],"9651":[0.19444,0.69444,0,0,0.88889],"9657":[-0.03472,0.46528,0,0,0.5],"9661":[0.19444,0.69444,0,0,0.88889],"9667":[-0.03472,0.46528,0,0,0.5],"9711":[0.19444,0.69444,0,0,1],"9824":[0.12963,0.69444,0,0,0.77778],"9825":[0.12963,0.69444,0,0,0.77778],"9826":[0.12963,0.69444,0,0,0.77778],"9827":[0.12963,0.69444,0,0,0.77778],"9837":[0,0.75,0,0,0.38889],"9838":[0.19444,0.69444,0,0,0.38889],"9839":[0.19444,0.69444,0,0,0.38889],"10216":[0.25,0.75,0,0,0.38889],"10217":[0.25,0.75,0,0,0.38889],"10222":[0.244,0.744,0,0,0.412],"10223":[0.244,0.745,0,0,0.412],"10229":[0.011,0.511,0,0,1.609],"10230":[0.011,0.511,0,0,1.638],"10231":[0.011,0.511,0,0,1.859],"10232":[0.024,0.525,0,0,1.609],"10233":[0.024,0.525,0,0,1.638],"10234":[0.024,0.525,0,0,1.858],"10236":[0.011,0.511,0,0,1.638],"10815":[0,0.68333,0,0,0.75],"10927":[0.13597,0.63597,0,0,0.77778],"10928":[0.13597,0.63597,0,0,0.77778],"57376":[0.19444,0.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,0.25],"48":[0,0.44444,0,0,0.575],"49":[0,0.44444,0,0,0.575],"50":[0,0.44444,0,0,0.575],"51":[0.19444,0.44444,0,0,0.575],"52":[0.19444,0.44444,0,0,0.575],"53":[0.19444,0.44444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0.19444,0.44444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0.19444,0.44444,0,0,0.575],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0.04835,0,0.8664],"67":[0,0.68611,0.06979,0,0.81694],"68":[0,0.68611,0.03194,0,0.93812],"69":[0,0.68611,0.05451,0,0.81007],"70":[0,0.68611,0.15972,0,0.68889],"71":[0,0.68611,0,0,0.88673],"72":[0,0.68611,0.08229,0,0.98229],"73":[0,0.68611,0.07778,0,0.51111],"74":[0,0.68611,0.10069,0,0.63125],"75":[0,0.68611,0.06979,0,0.97118],"76":[0,0.68611,0,0,0.75555],"77":[0,0.68611,0.11424,0,1.14201],"78":[0,0.68611,0.11424,0,0.95034],"79":[0,0.68611,0.03194,0,0.83666],"80":[0,0.68611,0.15972,0,0.72309],"81":[0.19444,0.68611,0,0,0.86861],"82":[0,0.68611,0.00421,0,0.87235],"83":[0,0.68611,0.05382,0,0.69271],"84":[0,0.68611,0.15972,0,0.63663],"85":[0,0.68611,0.11424,0,0.80027],"86":[0,0.68611,0.25555,0,0.67778],"87":[0,0.68611,0.15972,0,1.09305],"88":[0,0.68611,0.07778,0,0.94722],"89":[0,0.68611,0.25555,0,0.67458],"90":[0,0.68611,0.06979,0,0.77257],"97":[0,0.44444,0,0,0.63287],"98":[0,0.69444,0,0,0.52083],"99":[0,0.44444,0,0,0.51342],"100":[0,0.69444,0,0,0.60972],"101":[0,0.44444,0,0,0.55361],"102":[0.19444,0.69444,0.11042,0,0.56806],"103":[0.19444,0.44444,0.03704,0,0.5449],"104":[0,0.69444,0,0,0.66759],"105":[0,0.69326,0,0,0.4048],"106":[0.19444,0.69326,0.0622,0,0.47083],"107":[0,0.69444,0.01852,0,0.6037],"108":[0,0.69444,0.0088,0,0.34815],"109":[0,0.44444,0,0,1.0324],"110":[0,0.44444,0,0,0.71296],"111":[0,0.44444,0,0,0.58472],"112":[0.19444,0.44444,0,0,0.60092],"113":[0.19444,0.44444,0.03704,0,0.54213],"114":[0,0.44444,0.03194,0,0.5287],"115":[0,0.44444,0,0,0.53125],"116":[0,0.63492,0,0,0.41528],"117":[0,0.44444,0,0,0.68102],"118":[0,0.44444,0.03704,0,0.56666],"119":[0,0.44444,0.02778,0,0.83148],"120":[0,0.44444,0,0,0.65903],"121":[0.19444,0.44444,0.03704,0,0.59028],"122":[0,0.44444,0.04213,0,0.55509],"160":[0,0,0,0,0.25],"915":[0,0.68611,0.15972,0,0.65694],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0.03194,0,0.86722],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0.07458,0,0.84125],"928":[0,0.68611,0.08229,0,0.98229],"931":[0,0.68611,0.05451,0,0.88507],"933":[0,0.68611,0.15972,0,0.67083],"934":[0,0.68611,0,0,0.76666],"936":[0,0.68611,0.11653,0,0.71402],"937":[0,0.68611,0.04835,0,0.8789],"945":[0,0.44444,0,0,0.76064],"946":[0.19444,0.69444,0.03403,0,0.65972],"947":[0.19444,0.44444,0.06389,0,0.59003],"948":[0,0.69444,0.03819,0,0.52222],"949":[0,0.44444,0,0,0.52882],"950":[0.19444,0.69444,0.06215,0,0.50833],"951":[0.19444,0.44444,0.03704,0,0.6],"952":[0,0.69444,0.03194,0,0.5618],"953":[0,0.44444,0,0,0.41204],"954":[0,0.44444,0,0,0.66759],"955":[0,0.69444,0,0,0.67083],"956":[0.19444,0.44444,0,0,0.70787],"957":[0,0.44444,0.06898,0,0.57685],"958":[0.19444,0.69444,0.03021,0,0.50833],"959":[0,0.44444,0,0,0.58472],"960":[0,0.44444,0.03704,0,0.68241],"961":[0.19444,0.44444,0,0,0.6118],"962":[0.09722,0.44444,0.07917,0,0.42361],"963":[0,0.44444,0.03704,0,0.68588],"964":[0,0.44444,0.13472,0,0.52083],"965":[0,0.44444,0.03704,0,0.63055],"966":[0.19444,0.44444,0,0,0.74722],"967":[0.19444,0.44444,0,0,0.71805],"968":[0.19444,0.69444,0.03704,0,0.75833],"969":[0,0.44444,0.03704,0,0.71782],"977":[0,0.69444,0,0,0.69155],"981":[0.19444,0.69444,0,0,0.7125],"982":[0,0.44444,0.03194,0,0.975],"1009":[0.19444,0.44444,0,0,0.6118],"1013":[0,0.44444,0,0,0.48333],"57649":[0,0.44444,0,0,0.39352],"57911":[0.19444,0.44444,0,0,0.43889]},"Math-Italic":{"32":[0,0,0,0,0.25],"48":[0,0.43056,0,0,0.5],"49":[0,0.43056,0,0,0.5],"50":[0,0.43056,0,0,0.5],"51":[0.19444,0.43056,0,0,0.5],"52":[0.19444,0.43056,0,0,0.5],"53":[0.19444,0.43056,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0.19444,0.43056,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0.19444,0.43056,0,0,0.5],"65":[0,0.68333,0,0.13889,0.75],"66":[0,0.68333,0.05017,0.08334,0.75851],"67":[0,0.68333,0.07153,0.08334,0.71472],"68":[0,0.68333,0.02778,0.05556,0.82792],"69":[0,0.68333,0.05764,0.08334,0.7382],"70":[0,0.68333,0.13889,0.08334,0.64306],"71":[0,0.68333,0,0.08334,0.78625],"72":[0,0.68333,0.08125,0.05556,0.83125],"73":[0,0.68333,0.07847,0.11111,0.43958],"74":[0,0.68333,0.09618,0.16667,0.55451],"75":[0,0.68333,0.07153,0.05556,0.84931],"76":[0,0.68333,0,0.02778,0.68056],"77":[0,0.68333,0.10903,0.08334,0.97014],"78":[0,0.68333,0.10903,0.08334,0.80347],"79":[0,0.68333,0.02778,0.08334,0.76278],"80":[0,0.68333,0.13889,0.08334,0.64201],"81":[0.19444,0.68333,0,0.08334,0.79056],"82":[0,0.68333,0.00773,0.08334,0.75929],"83":[0,0.68333,0.05764,0.08334,0.6132],"84":[0,0.68333,0.13889,0.08334,0.58438],"85":[0,0.68333,0.10903,0.02778,0.68278],"86":[0,0.68333,0.22222,0,0.58333],"87":[0,0.68333,0.13889,0,0.94445],"88":[0,0.68333,0.07847,0.08334,0.82847],"89":[0,0.68333,0.22222,0,0.58056],"90":[0,0.68333,0.07153,0.08334,0.68264],"97":[0,0.43056,0,0,0.52859],"98":[0,0.69444,0,0,0.42917],"99":[0,0.43056,0,0.05556,0.43276],"100":[0,0.69444,0,0.16667,0.52049],"101":[0,0.43056,0,0.05556,0.46563],"102":[0.19444,0.69444,0.10764,0.16667,0.48959],"103":[0.19444,0.43056,0.03588,0.02778,0.47697],"104":[0,0.69444,0,0,0.57616],"105":[0,0.65952,0,0,0.34451],"106":[0.19444,0.65952,0.05724,0,0.41181],"107":[0,0.69444,0.03148,0,0.5206],"108":[0,0.69444,0.01968,0.08334,0.29838],"109":[0,0.43056,0,0,0.87801],"110":[0,0.43056,0,0,0.60023],"111":[0,0.43056,0,0.05556,0.48472],"112":[0.19444,0.43056,0,0.08334,0.50313],"113":[0.19444,0.43056,0.03588,0.08334,0.44641],"114":[0,0.43056,0.02778,0.05556,0.45116],"115":[0,0.43056,0,0.05556,0.46875],"116":[0,0.61508,0,0.08334,0.36111],"117":[0,0.43056,0,0.02778,0.57246],"118":[0,0.43056,0.03588,0.02778,0.48472],"119":[0,0.43056,0.02691,0.08334,0.71592],"120":[0,0.43056,0,0.02778,0.57153],"121":[0.19444,0.43056,0.03588,0.05556,0.49028],"122":[0,0.43056,0.04398,0.05556,0.46505],"160":[0,0,0,0,0.25],"915":[0,0.68333,0.13889,0.08334,0.61528],"916":[0,0.68333,0,0.16667,0.83334],"920":[0,0.68333,0.02778,0.08334,0.76278],"923":[0,0.68333,0,0.16667,0.69445],"926":[0,0.68333,0.07569,0.08334,0.74236],"928":[0,0.68333,0.08125,0.05556,0.83125],"931":[0,0.68333,0.05764,0.08334,0.77986],"933":[0,0.68333,0.13889,0.05556,0.58333],"934":[0,0.68333,0,0.08334,0.66667],"936":[0,0.68333,0.11,0.05556,0.61222],"937":[0,0.68333,0.05017,0.08334,0.7724],"945":[0,0.43056,0.0037,0.02778,0.6397],"946":[0.19444,0.69444,0.05278,0.08334,0.56563],"947":[0.19444,0.43056,0.05556,0,0.51773],"948":[0,0.69444,0.03785,0.05556,0.44444],"949":[0,0.43056,0,0.08334,0.46632],"950":[0.19444,0.69444,0.07378,0.08334,0.4375],"951":[0.19444,0.43056,0.03588,0.05556,0.49653],"952":[0,0.69444,0.02778,0.08334,0.46944],"953":[0,0.43056,0,0.05556,0.35394],"954":[0,0.43056,0,0,0.57616],"955":[0,0.69444,0,0,0.58334],"956":[0.19444,0.43056,0,0.02778,0.60255],"957":[0,0.43056,0.06366,0.02778,0.49398],"958":[0.19444,0.69444,0.04601,0.11111,0.4375],"959":[0,0.43056,0,0.05556,0.48472],"960":[0,0.43056,0.03588,0,0.57003],"961":[0.19444,0.43056,0,0.08334,0.51702],"962":[0.09722,0.43056,0.07986,0.08334,0.36285],"963":[0,0.43056,0.03588,0,0.57141],"964":[0,0.43056,0.1132,0.02778,0.43715],"965":[0,0.43056,0.03588,0.02778,0.54028],"966":[0.19444,0.43056,0,0.08334,0.65417],"967":[0.19444,0.43056,0,0.05556,0.62569],"968":[0.19444,0.69444,0.03588,0.11111,0.65139],"969":[0,0.43056,0.03588,0,0.62245],"977":[0,0.69444,0,0.08334,0.59144],"981":[0.19444,0.69444,0,0.08334,0.59583],"982":[0,0.43056,0.02778,0,0.82813],"1009":[0.19444,0.43056,0,0.08334,0.51702],"1013":[0,0.43056,0,0.05556,0.4059],"57649":[0,0.43056,0,0.02778,0.32246],"57911":[0.19444,0.43056,0,0.08334,0.38403]},"SansSerif-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.36667],"34":[0,0.69444,0,0,0.55834],"35":[0.19444,0.69444,0,0,0.91667],"36":[0.05556,0.75,0,0,0.55],"37":[0.05556,0.75,0,0,1.02912],"38":[0,0.69444,0,0,0.83056],"39":[0,0.69444,0,0,0.30556],"40":[0.25,0.75,0,0,0.42778],"41":[0.25,0.75,0,0,0.42778],"42":[0,0.75,0,0,0.55],"43":[0.11667,0.61667,0,0,0.85556],"44":[0.10556,0.13056,0,0,0.30556],"45":[0,0.45833,0,0,0.36667],"46":[0,0.13056,0,0,0.30556],"47":[0.25,0.75,0,0,0.55],"48":[0,0.69444,0,0,0.55],"49":[0,0.69444,0,0,0.55],"50":[0,0.69444,0,0,0.55],"51":[0,0.69444,0,0,0.55],"52":[0,0.69444,0,0,0.55],"53":[0,0.69444,0,0,0.55],"54":[0,0.69444,0,0,0.55],"55":[0,0.69444,0,0,0.55],"56":[0,0.69444,0,0,0.55],"57":[0,0.69444,0,0,0.55],"58":[0,0.45833,0,0,0.30556],"59":[0.10556,0.45833,0,0,0.30556],"61":[-0.09375,0.40625,0,0,0.85556],"63":[0,0.69444,0,0,0.51945],"64":[0,0.69444,0,0,0.73334],"65":[0,0.69444,0,0,0.73334],"66":[0,0.69444,0,0,0.73334],"67":[0,0.69444,0,0,0.70278],"68":[0,0.69444,0,0,0.79445],"69":[0,0.69444,0,0,0.64167],"70":[0,0.69444,0,0,0.61111],"71":[0,0.69444,0,0,0.73334],"72":[0,0.69444,0,0,0.79445],"73":[0,0.69444,0,0,0.33056],"74":[0,0.69444,0,0,0.51945],"75":[0,0.69444,0,0,0.76389],"76":[0,0.69444,0,0,0.58056],"77":[0,0.69444,0,0,0.97778],"78":[0,0.69444,0,0,0.79445],"79":[0,0.69444,0,0,0.79445],"80":[0,0.69444,0,0,0.70278],"81":[0.10556,0.69444,0,0,0.79445],"82":[0,0.69444,0,0,0.70278],"83":[0,0.69444,0,0,0.61111],"84":[0,0.69444,0,0,0.73334],"85":[0,0.69444,0,0,0.76389],"86":[0,0.69444,0.01528,0,0.73334],"87":[0,0.69444,0.01528,0,1.03889],"88":[0,0.69444,0,0,0.73334],"89":[0,0.69444,0.0275,0,0.73334],"90":[0,0.69444,0,0,0.67223],"91":[0.25,0.75,0,0,0.34306],"93":[0.25,0.75,0,0,0.34306],"94":[0,0.69444,0,0,0.55],"95":[0.35,0.10833,0.03056,0,0.55],"97":[0,0.45833,0,0,0.525],"98":[0,0.69444,0,0,0.56111],"99":[0,0.45833,0,0,0.48889],"100":[0,0.69444,0,0,0.56111],"101":[0,0.45833,0,0,0.51111],"102":[0,0.69444,0.07639,0,0.33611],"103":[0.19444,0.45833,0.01528,0,0.55],"104":[0,0.69444,0,0,0.56111],"105":[0,0.69444,0,0,0.25556],"106":[0.19444,0.69444,0,0,0.28611],"107":[0,0.69444,0,0,0.53056],"108":[0,0.69444,0,0,0.25556],"109":[0,0.45833,0,0,0.86667],"110":[0,0.45833,0,0,0.56111],"111":[0,0.45833,0,0,0.55],"112":[0.19444,0.45833,0,0,0.56111],"113":[0.19444,0.45833,0,0,0.56111],"114":[0,0.45833,0.01528,0,0.37222],"115":[0,0.45833,0,0,0.42167],"116":[0,0.58929,0,0,0.40417],"117":[0,0.45833,0,0,0.56111],"118":[0,0.45833,0.01528,0,0.5],"119":[0,0.45833,0.01528,0,0.74445],"120":[0,0.45833,0,0,0.5],"121":[0.19444,0.45833,0.01528,0,0.5],"122":[0,0.45833,0,0,0.47639],"126":[0.35,0.34444,0,0,0.55],"160":[0,0,0,0,0.25],"168":[0,0.69444,0,0,0.55],"176":[0,0.69444,0,0,0.73334],"180":[0,0.69444,0,0,0.55],"184":[0.17014,0,0,0,0.48889],"305":[0,0.45833,0,0,0.25556],"567":[0.19444,0.45833,0,0,0.28611],"710":[0,0.69444,0,0,0.55],"711":[0,0.63542,0,0,0.55],"713":[0,0.63778,0,0,0.55],"728":[0,0.69444,0,0,0.55],"729":[0,0.69444,0,0,0.30556],"730":[0,0.69444,0,0,0.73334],"732":[0,0.69444,0,0,0.55],"733":[0,0.69444,0,0,0.55],"915":[0,0.69444,0,0,0.58056],"916":[0,0.69444,0,0,0.91667],"920":[0,0.69444,0,0,0.85556],"923":[0,0.69444,0,0,0.67223],"926":[0,0.69444,0,0,0.73334],"928":[0,0.69444,0,0,0.79445],"931":[0,0.69444,0,0,0.79445],"933":[0,0.69444,0,0,0.85556],"934":[0,0.69444,0,0,0.79445],"936":[0,0.69444,0,0,0.85556],"937":[0,0.69444,0,0,0.79445],"8211":[0,0.45833,0.03056,0,0.55],"8212":[0,0.45833,0.03056,0,1.10001],"8216":[0,0.69444,0,0,0.30556],"8217":[0,0.69444,0,0,0.30556],"8220":[0,0.69444,0,0,0.55834],"8221":[0,0.69444,0,0,0.55834]},"SansSerif-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.05733,0,0.31945],"34":[0,0.69444,0.00316,0,0.5],"35":[0.19444,0.69444,0.05087,0,0.83334],"36":[0.05556,0.75,0.11156,0,0.5],"37":[0.05556,0.75,0.03126,0,0.83334],"38":[0,0.69444,0.03058,0,0.75834],"39":[0,0.69444,0.07816,0,0.27778],"40":[0.25,0.75,0.13164,0,0.38889],"41":[0.25,0.75,0.02536,0,0.38889],"42":[0,0.75,0.11775,0,0.5],"43":[0.08333,0.58333,0.02536,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0.01946,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0.13164,0,0.5],"48":[0,0.65556,0.11156,0,0.5],"49":[0,0.65556,0.11156,0,0.5],"50":[0,0.65556,0.11156,0,0.5],"51":[0,0.65556,0.11156,0,0.5],"52":[0,0.65556,0.11156,0,0.5],"53":[0,0.65556,0.11156,0,0.5],"54":[0,0.65556,0.11156,0,0.5],"55":[0,0.65556,0.11156,0,0.5],"56":[0,0.65556,0.11156,0,0.5],"57":[0,0.65556,0.11156,0,0.5],"58":[0,0.44444,0.02502,0,0.27778],"59":[0.125,0.44444,0.02502,0,0.27778],"61":[-0.13,0.37,0.05087,0,0.77778],"63":[0,0.69444,0.11809,0,0.47222],"64":[0,0.69444,0.07555,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0.08293,0,0.66667],"67":[0,0.69444,0.11983,0,0.63889],"68":[0,0.69444,0.07555,0,0.72223],"69":[0,0.69444,0.11983,0,0.59722],"70":[0,0.69444,0.13372,0,0.56945],"71":[0,0.69444,0.11983,0,0.66667],"72":[0,0.69444,0.08094,0,0.70834],"73":[0,0.69444,0.13372,0,0.27778],"74":[0,0.69444,0.08094,0,0.47222],"75":[0,0.69444,0.11983,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0.08094,0,0.875],"78":[0,0.69444,0.08094,0,0.70834],"79":[0,0.69444,0.07555,0,0.73611],"80":[0,0.69444,0.08293,0,0.63889],"81":[0.125,0.69444,0.07555,0,0.73611],"82":[0,0.69444,0.08293,0,0.64584],"83":[0,0.69444,0.09205,0,0.55556],"84":[0,0.69444,0.13372,0,0.68056],"85":[0,0.69444,0.08094,0,0.6875],"86":[0,0.69444,0.1615,0,0.66667],"87":[0,0.69444,0.1615,0,0.94445],"88":[0,0.69444,0.13372,0,0.66667],"89":[0,0.69444,0.17261,0,0.66667],"90":[0,0.69444,0.11983,0,0.61111],"91":[0.25,0.75,0.15942,0,0.28889],"93":[0.25,0.75,0.08719,0,0.28889],"94":[0,0.69444,0.0799,0,0.5],"95":[0.35,0.09444,0.08616,0,0.5],"97":[0,0.44444,0.00981,0,0.48056],"98":[0,0.69444,0.03057,0,0.51667],"99":[0,0.44444,0.08336,0,0.44445],"100":[0,0.69444,0.09483,0,0.51667],"101":[0,0.44444,0.06778,0,0.44445],"102":[0,0.69444,0.21705,0,0.30556],"103":[0.19444,0.44444,0.10836,0,0.5],"104":[0,0.69444,0.01778,0,0.51667],"105":[0,0.67937,0.09718,0,0.23889],"106":[0.19444,0.67937,0.09162,0,0.26667],"107":[0,0.69444,0.08336,0,0.48889],"108":[0,0.69444,0.09483,0,0.23889],"109":[0,0.44444,0.01778,0,0.79445],"110":[0,0.44444,0.01778,0,0.51667],"111":[0,0.44444,0.06613,0,0.5],"112":[0.19444,0.44444,0.0389,0,0.51667],"113":[0.19444,0.44444,0.04169,0,0.51667],"114":[0,0.44444,0.10836,0,0.34167],"115":[0,0.44444,0.0778,0,0.38333],"116":[0,0.57143,0.07225,0,0.36111],"117":[0,0.44444,0.04169,0,0.51667],"118":[0,0.44444,0.10836,0,0.46111],"119":[0,0.44444,0.10836,0,0.68334],"120":[0,0.44444,0.09169,0,0.46111],"121":[0.19444,0.44444,0.10836,0,0.46111],"122":[0,0.44444,0.08752,0,0.43472],"126":[0.35,0.32659,0.08826,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0.06385,0,0.5],"176":[0,0.69444,0,0,0.73752],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0.04169,0,0.23889],"567":[0.19444,0.44444,0.04169,0,0.26667],"710":[0,0.69444,0.0799,0,0.5],"711":[0,0.63194,0.08432,0,0.5],"713":[0,0.60889,0.08776,0,0.5],"714":[0,0.69444,0.09205,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0.09483,0,0.5],"729":[0,0.67937,0.07774,0,0.27778],"730":[0,0.69444,0,0,0.73752],"732":[0,0.67659,0.08826,0,0.5],"733":[0,0.69444,0.09205,0,0.5],"915":[0,0.69444,0.13372,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0.07555,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0.12816,0,0.66667],"928":[0,0.69444,0.08094,0,0.70834],"931":[0,0.69444,0.11983,0,0.72222],"933":[0,0.69444,0.09031,0,0.77778],"934":[0,0.69444,0.04603,0,0.72222],"936":[0,0.69444,0.09031,0,0.77778],"937":[0,0.69444,0.08293,0,0.72222],"8211":[0,0.44444,0.08616,0,0.5],"8212":[0,0.44444,0.08616,0,1],"8216":[0,0.69444,0.07816,0,0.27778],"8217":[0,0.69444,0.07816,0,0.27778],"8220":[0,0.69444,0.14205,0,0.5],"8221":[0,0.69444,0.00316,0,0.5]},"SansSerif-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.31945],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.75834],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.65556,0,0,0.5],"49":[0,0.65556,0,0,0.5],"50":[0,0.65556,0,0,0.5],"51":[0,0.65556,0,0,0.5],"52":[0,0.65556,0,0,0.5],"53":[0,0.65556,0,0,0.5],"54":[0,0.65556,0,0,0.5],"55":[0,0.65556,0,0,0.5],"56":[0,0.65556,0,0,0.5],"57":[0,0.65556,0,0,0.5],"58":[0,0.44444,0,0,0.27778],"59":[0.125,0.44444,0,0,0.27778],"61":[-0.13,0.37,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0,0,0.66667],"67":[0,0.69444,0,0,0.63889],"68":[0,0.69444,0,0,0.72223],"69":[0,0.69444,0,0,0.59722],"70":[0,0.69444,0,0,0.56945],"71":[0,0.69444,0,0,0.66667],"72":[0,0.69444,0,0,0.70834],"73":[0,0.69444,0,0,0.27778],"74":[0,0.69444,0,0,0.47222],"75":[0,0.69444,0,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0,0,0.875],"78":[0,0.69444,0,0,0.70834],"79":[0,0.69444,0,0,0.73611],"80":[0,0.69444,0,0,0.63889],"81":[0.125,0.69444,0,0,0.73611],"82":[0,0.69444,0,0,0.64584],"83":[0,0.69444,0,0,0.55556],"84":[0,0.69444,0,0,0.68056],"85":[0,0.69444,0,0,0.6875],"86":[0,0.69444,0.01389,0,0.66667],"87":[0,0.69444,0.01389,0,0.94445],"88":[0,0.69444,0,0,0.66667],"89":[0,0.69444,0.025,0,0.66667],"90":[0,0.69444,0,0,0.61111],"91":[0.25,0.75,0,0,0.28889],"93":[0.25,0.75,0,0,0.28889],"94":[0,0.69444,0,0,0.5],"95":[0.35,0.09444,0.02778,0,0.5],"97":[0,0.44444,0,0,0.48056],"98":[0,0.69444,0,0,0.51667],"99":[0,0.44444,0,0,0.44445],"100":[0,0.69444,0,0,0.51667],"101":[0,0.44444,0,0,0.44445],"102":[0,0.69444,0.06944,0,0.30556],"103":[0.19444,0.44444,0.01389,0,0.5],"104":[0,0.69444,0,0,0.51667],"105":[0,0.67937,0,0,0.23889],"106":[0.19444,0.67937,0,0,0.26667],"107":[0,0.69444,0,0,0.48889],"108":[0,0.69444,0,0,0.23889],"109":[0,0.44444,0,0,0.79445],"110":[0,0.44444,0,0,0.51667],"111":[0,0.44444,0,0,0.5],"112":[0.19444,0.44444,0,0,0.51667],"113":[0.19444,0.44444,0,0,0.51667],"114":[0,0.44444,0.01389,0,0.34167],"115":[0,0.44444,0,0,0.38333],"116":[0,0.57143,0,0,0.36111],"117":[0,0.44444,0,0,0.51667],"118":[0,0.44444,0.01389,0,0.46111],"119":[0,0.44444,0.01389,0,0.68334],"120":[0,0.44444,0,0,0.46111],"121":[0.19444,0.44444,0.01389,0,0.46111],"122":[0,0.44444,0,0,0.43472],"126":[0.35,0.32659,0,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0,0,0.5],"176":[0,0.69444,0,0,0.66667],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0,0,0.23889],"567":[0.19444,0.44444,0,0,0.26667],"710":[0,0.69444,0,0,0.5],"711":[0,0.63194,0,0,0.5],"713":[0,0.60889,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.67937,0,0,0.27778],"730":[0,0.69444,0,0,0.66667],"732":[0,0.67659,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.69444,0,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0,0,0.66667],"928":[0,0.69444,0,0,0.70834],"931":[0,0.69444,0,0,0.72222],"933":[0,0.69444,0,0,0.77778],"934":[0,0.69444,0,0,0.72222],"936":[0,0.69444,0,0,0.77778],"937":[0,0.69444,0,0,0.72222],"8211":[0,0.44444,0.02778,0,0.5],"8212":[0,0.44444,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5]},"Script-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.7,0.22925,0,0.80253],"66":[0,0.7,0.04087,0,0.90757],"67":[0,0.7,0.1689,0,0.66619],"68":[0,0.7,0.09371,0,0.77443],"69":[0,0.7,0.18583,0,0.56162],"70":[0,0.7,0.13634,0,0.89544],"71":[0,0.7,0.17322,0,0.60961],"72":[0,0.7,0.29694,0,0.96919],"73":[0,0.7,0.19189,0,0.80907],"74":[0.27778,0.7,0.19189,0,1.05159],"75":[0,0.7,0.31259,0,0.91364],"76":[0,0.7,0.19189,0,0.87373],"77":[0,0.7,0.15981,0,1.08031],"78":[0,0.7,0.3525,0,0.9015],"79":[0,0.7,0.08078,0,0.73787],"80":[0,0.7,0.08078,0,1.01262],"81":[0,0.7,0.03305,0,0.88282],"82":[0,0.7,0.06259,0,0.85],"83":[0,0.7,0.19189,0,0.86767],"84":[0,0.7,0.29087,0,0.74697],"85":[0,0.7,0.25815,0,0.79996],"86":[0,0.7,0.27523,0,0.62204],"87":[0,0.7,0.27523,0,0.80532],"88":[0,0.7,0.26006,0,0.94445],"89":[0,0.7,0.2939,0,0.70961],"90":[0,0.7,0.24037,0,0.8212],"160":[0,0,0,0,0.25]},"Size1-Regular":{"32":[0,0,0,0,0.25],"40":[0.35001,0.85,0,0,0.45834],"41":[0.35001,0.85,0,0,0.45834],"47":[0.35001,0.85,0,0,0.57778],"91":[0.35001,0.85,0,0,0.41667],"92":[0.35001,0.85,0,0,0.57778],"93":[0.35001,0.85,0,0,0.41667],"123":[0.35001,0.85,0,0,0.58334],"125":[0.35001,0.85,0,0,0.58334],"160":[0,0,0,0,0.25],"710":[0,0.72222,0,0,0.55556],"732":[0,0.72222,0,0,0.55556],"770":[0,0.72222,0,0,0.55556],"771":[0,0.72222,0,0,0.55556],"8214":[-0.00099,0.601,0,0,0.77778],"8593":[0.00001,0.6,0,0,0.66667],"8595":[0.00001,0.6,0,0,0.66667],"8657":[0.00001,0.6,0,0,0.77778],"8659":[0.00001,0.6,0,0,0.77778],"8719":[0.25001,0.75,0,0,0.94445],"8720":[0.25001,0.75,0,0,0.94445],"8721":[0.25001,0.75,0,0,1.05556],"8730":[0.35001,0.85,0,0,1],"8739":[-0.00599,0.606,0,0,0.33333],"8741":[-0.00599,0.606,0,0,0.55556],"8747":[0.30612,0.805,0.19445,0,0.47222],"8748":[0.306,0.805,0.19445,0,0.47222],"8749":[0.306,0.805,0.19445,0,0.47222],"8750":[0.30612,0.805,0.19445,0,0.47222],"8896":[0.25001,0.75,0,0,0.83334],"8897":[0.25001,0.75,0,0,0.83334],"8898":[0.25001,0.75,0,0,0.83334],"8899":[0.25001,0.75,0,0,0.83334],"8968":[0.35001,0.85,0,0,0.47222],"8969":[0.35001,0.85,0,0,0.47222],"8970":[0.35001,0.85,0,0,0.47222],"8971":[0.35001,0.85,0,0,0.47222],"9168":[-0.00099,0.601,0,0,0.66667],"10216":[0.35001,0.85,0,0,0.47222],"10217":[0.35001,0.85,0,0,0.47222],"10752":[0.25001,0.75,0,0,1.11111],"10753":[0.25001,0.75,0,0,1.11111],"10754":[0.25001,0.75,0,0,1.11111],"10756":[0.25001,0.75,0,0,0.83334],"10758":[0.25001,0.75,0,0,0.83334]},"Size2-Regular":{"32":[0,0,0,0,0.25],"40":[0.65002,1.15,0,0,0.59722],"41":[0.65002,1.15,0,0,0.59722],"47":[0.65002,1.15,0,0,0.81111],"91":[0.65002,1.15,0,0,0.47222],"92":[0.65002,1.15,0,0,0.81111],"93":[0.65002,1.15,0,0,0.47222],"123":[0.65002,1.15,0,0,0.66667],"125":[0.65002,1.15,0,0,0.66667],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1],"732":[0,0.75,0,0,1],"770":[0,0.75,0,0,1],"771":[0,0.75,0,0,1],"8719":[0.55001,1.05,0,0,1.27778],"8720":[0.55001,1.05,0,0,1.27778],"8721":[0.55001,1.05,0,0,1.44445],"8730":[0.65002,1.15,0,0,1],"8747":[0.86225,1.36,0.44445,0,0.55556],"8748":[0.862,1.36,0.44445,0,0.55556],"8749":[0.862,1.36,0.44445,0,0.55556],"8750":[0.86225,1.36,0.44445,0,0.55556],"8896":[0.55001,1.05,0,0,1.11111],"8897":[0.55001,1.05,0,0,1.11111],"8898":[0.55001,1.05,0,0,1.11111],"8899":[0.55001,1.05,0,0,1.11111],"8968":[0.65002,1.15,0,0,0.52778],"8969":[0.65002,1.15,0,0,0.52778],"8970":[0.65002,1.15,0,0,0.52778],"8971":[0.65002,1.15,0,0,0.52778],"10216":[0.65002,1.15,0,0,0.61111],"10217":[0.65002,1.15,0,0,0.61111],"10752":[0.55001,1.05,0,0,1.51112],"10753":[0.55001,1.05,0,0,1.51112],"10754":[0.55001,1.05,0,0,1.51112],"10756":[0.55001,1.05,0,0,1.11111],"10758":[0.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,0.25],"40":[0.95003,1.45,0,0,0.73611],"41":[0.95003,1.45,0,0,0.73611],"47":[0.95003,1.45,0,0,1.04445],"91":[0.95003,1.45,0,0,0.52778],"92":[0.95003,1.45,0,0,1.04445],"93":[0.95003,1.45,0,0,0.52778],"123":[0.95003,1.45,0,0,0.75],"125":[0.95003,1.45,0,0,0.75],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1.44445],"732":[0,0.75,0,0,1.44445],"770":[0,0.75,0,0,1.44445],"771":[0,0.75,0,0,1.44445],"8730":[0.95003,1.45,0,0,1],"8968":[0.95003,1.45,0,0,0.58334],"8969":[0.95003,1.45,0,0,0.58334],"8970":[0.95003,1.45,0,0,0.58334],"8971":[0.95003,1.45,0,0,0.58334],"10216":[0.95003,1.45,0,0,0.75],"10217":[0.95003,1.45,0,0,0.75]},"Size4-Regular":{"32":[0,0,0,0,0.25],"40":[1.25003,1.75,0,0,0.79167],"41":[1.25003,1.75,0,0,0.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,0.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,0.58334],"123":[1.25003,1.75,0,0,0.80556],"125":[1.25003,1.75,0,0,0.80556],"160":[0,0,0,0,0.25],"710":[0,0.825,0,0,1.8889],"732":[0,0.825,0,0,1.8889],"770":[0,0.825,0,0,1.8889],"771":[0,0.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,0.63889],"8969":[1.25003,1.75,0,0,0.63889],"8970":[1.25003,1.75,0,0,0.63889],"8971":[1.25003,1.75,0,0,0.63889],"9115":[0.64502,1.155,0,0,0.875],"9116":[0.00001,0.6,0,0,0.875],"9117":[0.64502,1.155,0,0,0.875],"9118":[0.64502,1.155,0,0,0.875],"9119":[0.00001,0.6,0,0,0.875],"9120":[0.64502,1.155,0,0,0.875],"9121":[0.64502,1.155,0,0,0.66667],"9122":[-0.00099,0.601,0,0,0.66667],"9123":[0.64502,1.155,0,0,0.66667],"9124":[0.64502,1.155,0,0,0.66667],"9125":[-0.00099,0.601,0,0,0.66667],"9126":[0.64502,1.155,0,0,0.66667],"9127":[0.00001,0.9,0,0,0.88889],"9128":[0.65002,1.15,0,0,0.88889],"9129":[0.90001,0,0,0,0.88889],"9130":[0,0.3,0,0,0.88889],"9131":[0.00001,0.9,0,0,0.88889],"9132":[0.65002,1.15,0,0,0.88889],"9133":[0.90001,0,0,0,0.88889],"9143":[0.88502,0.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,0.80556],"10217":[1.25003,1.75,0,0,0.80556],"57344":[-0.00499,0.605,0,0,1.05556],"57345":[-0.00499,0.605,0,0,1.05556],"57680":[0,0.12,0,0,0.45],"57681":[0,0.12,0,0,0.45],"57682":[0,0.12,0,0,0.45],"57683":[0,0.12,0,0,0.45]},"Typewriter-Regular":{"32":[0,0,0,0,0.525],"33":[0,0.61111,0,0,0.525],"34":[0,0.61111,0,0,0.525],"35":[0,0.61111,0,0,0.525],"36":[0.08333,0.69444,0,0,0.525],"37":[0.08333,0.69444,0,0,0.525],"38":[0,0.61111,0,0,0.525],"39":[0,0.61111,0,0,0.525],"40":[0.08333,0.69444,0,0,0.525],"41":[0.08333,0.69444,0,0,0.525],"42":[0,0.52083,0,0,0.525],"43":[-0.08056,0.53055,0,0,0.525],"44":[0.13889,0.125,0,0,0.525],"45":[-0.08056,0.53055,0,0,0.525],"46":[0,0.125,0,0,0.525],"47":[0.08333,0.69444,0,0,0.525],"48":[0,0.61111,0,0,0.525],"49":[0,0.61111,0,0,0.525],"50":[0,0.61111,0,0,0.525],"51":[0,0.61111,0,0,0.525],"52":[0,0.61111,0,0,0.525],"53":[0,0.61111,0,0,0.525],"54":[0,0.61111,0,0,0.525],"55":[0,0.61111,0,0,0.525],"56":[0,0.61111,0,0,0.525],"57":[0,0.61111,0,0,0.525],"58":[0,0.43056,0,0,0.525],"59":[0.13889,0.43056,0,0,0.525],"60":[-0.05556,0.55556,0,0,0.525],"61":[-0.19549,0.41562,0,0,0.525],"62":[-0.05556,0.55556,0,0,0.525],"63":[0,0.61111,0,0,0.525],"64":[0,0.61111,0,0,0.525],"65":[0,0.61111,0,0,0.525],"66":[0,0.61111,0,0,0.525],"67":[0,0.61111,0,0,0.525],"68":[0,0.61111,0,0,0.525],"69":[0,0.61111,0,0,0.525],"70":[0,0.61111,0,0,0.525],"71":[0,0.61111,0,0,0.525],"72":[0,0.61111,0,0,0.525],"73":[0,0.61111,0,0,0.525],"74":[0,0.61111,0,0,0.525],"75":[0,0.61111,0,0,0.525],"76":[0,0.61111,0,0,0.525],"77":[0,0.61111,0,0,0.525],"78":[0,0.61111,0,0,0.525],"79":[0,0.61111,0,0,0.525],"80":[0,0.61111,0,0,0.525],"81":[0.13889,0.61111,0,0,0.525],"82":[0,0.61111,0,0,0.525],"83":[0,0.61111,0,0,0.525],"84":[0,0.61111,0,0,0.525],"85":[0,0.61111,0,0,0.525],"86":[0,0.61111,0,0,0.525],"87":[0,0.61111,0,0,0.525],"88":[0,0.61111,0,0,0.525],"89":[0,0.61111,0,0,0.525],"90":[0,0.61111,0,0,0.525],"91":[0.08333,0.69444,0,0,0.525],"92":[0.08333,0.69444,0,0,0.525],"93":[0.08333,0.69444,0,0,0.525],"94":[0,0.61111,0,0,0.525],"95":[0.09514,0,0,0,0.525],"96":[0,0.61111,0,0,0.525],"97":[0,0.43056,0,0,0.525],"98":[0,0.61111,0,0,0.525],"99":[0,0.43056,0,0,0.525],"100":[0,0.61111,0,0,0.525],"101":[0,0.43056,0,0,0.525],"102":[0,0.61111,0,0,0.525],"103":[0.22222,0.43056,0,0,0.525],"104":[0,0.61111,0,0,0.525],"105":[0,0.61111,0,0,0.525],"106":[0.22222,0.61111,0,0,0.525],"107":[0,0.61111,0,0,0.525],"108":[0,0.61111,0,0,0.525],"109":[0,0.43056,0,0,0.525],"110":[0,0.43056,0,0,0.525],"111":[0,0.43056,0,0,0.525],"112":[0.22222,0.43056,0,0,0.525],"113":[0.22222,0.43056,0,0,0.525],"114":[0,0.43056,0,0,0.525],"115":[0,0.43056,0,0,0.525],"116":[0,0.55358,0,0,0.525],"117":[0,0.43056,0,0,0.525],"118":[0,0.43056,0,0,0.525],"119":[0,0.43056,0,0,0.525],"120":[0,0.43056,0,0,0.525],"121":[0.22222,0.43056,0,0,0.525],"122":[0,0.43056,0,0,0.525],"123":[0.08333,0.69444,0,0,0.525],"124":[0.08333,0.69444,0,0,0.525],"125":[0.08333,0.69444,0,0,0.525],"126":[0,0.61111,0,0,0.525],"127":[0,0.61111,0,0,0.525],"160":[0,0,0,0,0.525],"176":[0,0.61111,0,0,0.525],"184":[0.19445,0,0,0,0.525],"305":[0,0.43056,0,0,0.525],"567":[0.22222,0.43056,0,0,0.525],"711":[0,0.56597,0,0,0.525],"713":[0,0.56555,0,0,0.525],"714":[0,0.61111,0,0,0.525],"715":[0,0.61111,0,0,0.525],"728":[0,0.61111,0,0,0.525],"730":[0,0.61111,0,0,0.525],"770":[0,0.61111,0,0,0.525],"771":[0,0.61111,0,0,0.525],"776":[0,0.61111,0,0,0.525],"915":[0,0.61111,0,0,0.525],"916":[0,0.61111,0,0,0.525],"920":[0,0.61111,0,0,0.525],"923":[0,0.61111,0,0,0.525],"926":[0,0.61111,0,0,0.525],"928":[0,0.61111,0,0,0.525],"931":[0,0.61111,0,0,0.525],"933":[0,0.61111,0,0,0.525],"934":[0,0.61111,0,0,0.525],"936":[0,0.61111,0,0,0.525],"937":[0,0.61111,0,0,0.525],"8216":[0,0.61111,0,0,0.525],"8217":[0,0.61111,0,0,0.525],"8242":[0,0.61111,0,0,0.525],"9251":[0.11111,0.21944,0,0,0.525]}},sE={slant:[0.25,0.25,0.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[0.431,0.431,0.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[0.677,0.732,0.925],num2:[0.394,0.384,0.387],num3:[0.444,0.471,0.504],denom1:[0.686,0.752,1.025],denom2:[0.345,0.344,0.532],sup1:[0.413,0.503,0.504],sup2:[0.363,0.431,0.404],sup3:[0.289,0.286,0.294],sub1:[0.15,0.143,0.2],sub2:[0.247,0.286,0.4],supDrop:[0.386,0.353,0.494],subDrop:[0.05,0.071,0.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[0.25,0.25,0.25],defaultRuleThickness:[0.04,0.049,0.049],bigOpSpacing1:[0.111,0.111,0.111],bigOpSpacing2:[0.166,0.166,0.166],bigOpSpacing3:[0.2,0.2,0.2],bigOpSpacing4:[0.6,0.611,0.611],bigOpSpacing5:[0.1,0.143,0.143],sqrtRuleThickness:[0.04,0.04,0.04],ptPerEm:[10,10,10],doubleRuleSep:[0.2,0.2,0.2],arrayRuleWidth:[0.04,0.04,0.04],fboxsep:[0.3,0.3,0.3],fboxrule:[0.04,0.04,0.04]},WK0={"":"A","":"D","":"o","":"a","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};Oy={};le0=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],GK0=[0.5,0.6,0.7,0.8,0.9,1,1.2,1.44,1.728,2.074,2.488];dU.BASESIZE=6;Sy={pt:1,mm:2.8452755905511813,cm:28.45275590551181,in:72.27,bp:1.00375,pc:12,dd:1.070008643042351,cc:12.84010371650821,nd:1.0669781931464175,nc:12.80373831775701,sp:0.0000152587890625,px:1.00375},de0={ex:!0,em:!0,mu:!0},ie0=/[\s"'>/=\x00-\x1f]/;se0={"":"","":"","":"","":""};ne0={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ae0={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},lZ={math:{},text:{}};g(l,K0,j0,"","\\equiv",!0);g(l,K0,j0,"","\\prec",!0);g(l,K0,j0,"","\\succ",!0);g(l,K0,j0,"","\\sim",!0);g(l,K0,j0,"","\\perp");g(l,K0,j0,"","\\preceq",!0);g(l,K0,j0,"","\\succeq",!0);g(l,K0,j0,"","\\simeq",!0);g(l,K0,j0,"","\\mid",!0);g(l,K0,j0,"","\\ll",!0);g(l,K0,j0,"","\\gg",!0);g(l,K0,j0,"","\\asymp",!0);g(l,K0,j0,"","\\parallel");g(l,K0,j0,"","\\bowtie",!0);g(l,K0,j0,"","\\smile",!0);g(l,K0,j0,"","\\sqsubseteq",!0);g(l,K0,j0,"","\\sqsupseteq",!0);g(l,K0,j0,"","\\doteq",!0);g(l,K0,j0,"","\\frown",!0);g(l,K0,j0,"","\\ni",!0);g(l,K0,j0,"","\\propto",!0);g(l,K0,j0,"","\\vdash",!0);g(l,K0,j0,"","\\dashv",!0);g(l,K0,j0,"","\\owns");g(l,K0,HV,".","\\ldotp");g(l,K0,HV,"","\\cdotp");g(l,K0,$0,"#","\\#");g(X8,K0,$0,"#","\\#");g(l,K0,$0,"&","\\&");g(X8,K0,$0,"&","\\&");g(l,K0,$0,"","\\aleph",!0);g(l,K0,$0,"","\\forall",!0);g(l,K0,$0,"","\\hbar",!0);g(l,K0,$0,"","\\exists",!0);g(l,K0,$0,"","\\nabla",!0);g(l,K0,$0,"","\\flat",!0);g(l,K0,$0,"","\\ell",!0);g(l,K0,$0,"","\\natural",!0);g(l,K0,$0,"","\\clubsuit",!0);g(l,K0,$0,"","\\wp",!0);g(l,K0,$0,"","\\sharp",!0);g(l,K0,$0,"","\\diamondsuit",!0);g(l,K0,$0,"","\\Re",!0);g(l,K0,$0,"","\\heartsuit",!0);g(l,K0,$0,"","\\Im",!0);g(l,K0,$0,"","\\spadesuit",!0);g(l,K0,$0,"","\\S",!0);g(X8,K0,$0,"","\\S");g(l,K0,$0,"","\\P",!0);g(X8,K0,$0,"","\\P");g(l,K0,$0,"","\\dag");g(X8,K0,$0,"","\\dag");g(X8,K0,$0,"","\\textdagger");g(l,K0,$0,"","\\ddag");g(X8,K0,$0,"","\\ddag");g(X8,K0,$0,"","\\textdaggerdbl");g(l,K0,tQ,"","\\rmoustache",!0);g(l,K0,C4,"","\\lmoustache",!0);g(l,K0,tQ,"","\\rgroup",!0);g(l,K0,C4,"","\\lgroup",!0);g(l,K0,b8,"","\\mp",!0);g(l,K0,b8,"","\\ominus",!0);g(l,K0,b8,"","\\uplus",!0);g(l,K0,b8,"","\\sqcap",!0);g(l,K0,b8,"","\\ast");g(l,K0,b8,"","\\sqcup",!0);g(l,K0,b8,"","\\bigcirc",!0);g(l,K0,b8,"","\\bullet",!0);g(l,K0,b8,"","\\ddagger");g(l,K0,b8,"","\\wr",!0);g(l,K0,b8,"","\\amalg");g(l,K0,b8,"&","\\And");g(l,K0,j0,"","\\longleftarrow",!0);g(l,K0,j0,"","\\Leftarrow",!0);g(l,K0,j0,"","\\Longleftarrow",!0);g(l,K0,j0,"","\\longrightarrow",!0);g(l,K0,j0,"","\\Rightarrow",!0);g(l,K0,j0,"","\\Longrightarrow",!0);g(l,K0,j0,"","\\leftrightarrow",!0);g(l,K0,j0,"","\\longleftrightarrow",!0);g(l,K0,j0,"","\\Leftrightarrow",!0);g(l,K0,j0,"","\\Longleftrightarrow",!0);g(l,K0,j0,"","\\mapsto",!0);g(l,K0,j0,"","\\longmapsto",!0);g(l,K0,j0,"","\\nearrow",!0);g(l,K0,j0,"","\\hookleftarrow",!0);g(l,K0,j0,"","\\hookrightarrow",!0);g(l,K0,j0,"","\\searrow",!0);g(l,K0,j0,"","\\leftharpoonup",!0);g(l,K0,j0,"","\\rightharpoonup",!0);g(l,K0,j0,"","\\swarrow",!0);g(l,K0,j0,"","\\leftharpoondown",!0);g(l,K0,j0,"","\\rightharpoondown",!0);g(l,K0,j0,"","\\nwarrow",!0);g(l,K0,j0,"","\\rightleftharpoons",!0);g(l,P0,j0,"","\\nless",!0);g(l,P0,j0,"","\\@nleqslant");g(l,P0,j0,"","\\@nleqq");g(l,P0,j0,"","\\lneq",!0);g(l,P0,j0,"","\\lneqq",!0);g(l,P0,j0,"","\\@lvertneqq");g(l,P0,j0,"","\\lnsim",!0);g(l,P0,j0,"","\\lnapprox",!0);g(l,P0,j0,"","\\nprec",!0);g(l,P0,j0,"","\\npreceq",!0);g(l,P0,j0,"","\\precnsim",!0);g(l,P0,j0,"","\\precnapprox",!0);g(l,P0,j0,"","\\nsim",!0);g(l,P0,j0,"","\\@nshortmid");g(l,P0,j0,"","\\nmid",!0);g(l,P0,j0,"","\\nvdash",!0);g(l,P0,j0,"","\\nvDash",!0);g(l,P0,j0,"","\\ntriangleleft");g(l,P0,j0,"","\\ntrianglelefteq",!0);g(l,P0,j0,"","\\subsetneq",!0);g(l,P0,j0,"","\\@varsubsetneq");g(l,P0,j0,"","\\subsetneqq",!0);g(l,P0,j0,"","\\@varsubsetneqq");g(l,P0,j0,"","\\ngtr",!0);g(l,P0,j0,"","\\@ngeqslant");g(l,P0,j0,"","\\@ngeqq");g(l,P0,j0,"","\\gneq",!0);g(l,P0,j0,"","\\gneqq",!0);g(l,P0,j0,"","\\@gvertneqq");g(l,P0,j0,"","\\gnsim",!0);g(l,P0,j0,"","\\gnapprox",!0);g(l,P0,j0,"","\\nsucc",!0);g(l,P0,j0,"","\\nsucceq",!0);g(l,P0,j0,"","\\succnsim",!0);g(l,P0,j0,"","\\succnapprox",!0);g(l,P0,j0,"","\\ncong",!0);g(l,P0,j0,"","\\@nshortparallel");g(l,P0,j0,"","\\nparallel",!0);g(l,P0,j0,"","\\nVDash",!0);g(l,P0,j0,"","\\ntriangleright");g(l,P0,j0,"","\\ntrianglerighteq",!0);g(l,P0,j0,"","\\@nsupseteqq");g(l,P0,j0,"","\\supsetneq",!0);g(l,P0,j0,"","\\@varsupsetneq");g(l,P0,j0,"","\\supsetneqq",!0);g(l,P0,j0,"","\\@varsupsetneqq");g(l,P0,j0,"","\\nVdash",!0);g(l,P0,j0,"","\\precneqq",!0);g(l,P0,j0,"","\\succneqq",!0);g(l,P0,j0,"","\\@nsubseteqq");g(l,P0,b8,"","\\unlhd");g(l,P0,b8,"","\\unrhd");g(l,P0,j0,"","\\nleftarrow",!0);g(l,P0,j0,"","\\nrightarrow",!0);g(l,P0,j0,"","\\nLeftarrow",!0);g(l,P0,j0,"","\\nRightarrow",!0);g(l,P0,j0,"","\\nleftrightarrow",!0);g(l,P0,j0,"","\\nLeftrightarrow",!0);g(l,P0,j0,"","\\vartriangle");g(l,P0,$0,"","\\hslash");g(l,P0,$0,"","\\triangledown");g(l,P0,$0,"","\\lozenge");g(l,P0,$0,"","\\circledS");g(l,P0,$0,"","\\circledR");g(X8,P0,$0,"","\\circledR");g(l,P0,$0,"","\\measuredangle",!0);g(l,P0,$0,"","\\nexists");g(l,P0,$0,"","\\mho");g(l,P0,$0,"","\\Finv",!0);g(l,P0,$0,"","\\Game",!0);g(l,P0,$0,"","\\backprime");g(l,P0,$0,"","\\blacktriangle");g(l,P0,$0,"","\\blacktriangledown");g(l,P0,$0,"","\\blacksquare");g(l,P0,$0,"","\\blacklozenge");g(l,P0,$0,"","\\bigstar");g(l,P0,$0,"","\\sphericalangle",!0);g(l,P0,$0,"","\\complement",!0);g(l,P0,$0,"","\\eth",!0);g(X8,K0,$0,"","");g(l,P0,$0,"","\\diagup");g(l,P0,$0,"","\\diagdown");g(l,P0,$0,"","\\square");g(l,P0,$0,"","\\Box");g(l,P0,$0,"","\\Diamond");g(l,P0,$0,"","\\yen",!0);g(X8,P0,$0,"","\\yen",!0);g(l,P0,$0,"","\\checkmark",!0);g(X8,P0,$0,"","\\checkmark");g(l,P0,$0,"","\\beth",!0);g(l,P0,$0,"","\\daleth",!0);g(l,P0,$0,"","\\gimel",!0);g(l,P0,$0,"","\\digamma",!0);g(l,P0,$0,"","\\varkappa");g(l,P0,C4,"","\\@ulcorner",!0);g(l,P0,tQ,"","\\@urcorner",!0);g(l,P0,C4,"","\\@llcorner",!0);g(l,P0,tQ,"","\\@lrcorner",!0);g(l,P0,j0,"","\\leqq",!0);g(l,P0,j0,"","\\leqslant",!0);g(l,P0,j0,"","\\eqslantless",!0);g(l,P0,j0,"","\\lesssim",!0);g(l,P0,j0,"","\\lessapprox",!0);g(l,P0,j0,"","\\approxeq",!0);g(l,P0,b8,"","\\lessdot");g(l,P0,j0,"","\\lll",!0);g(l,P0,j0,"","\\lessgtr",!0);g(l,P0,j0,"","\\lesseqgtr",!0);g(l,P0,j0,"","\\lesseqqgtr",!0);g(l,P0,j0,"","\\doteqdot");g(l,P0,j0,"","\\risingdotseq",!0);g(l,P0,j0,"","\\fallingdotseq",!0);g(l,P0,j0,"","\\backsim",!0);g(l,P0,j0,"","\\backsimeq",!0);g(l,P0,j0,"","\\subseteqq",!0);g(l,P0,j0,"","\\Subset",!0);g(l,P0,j0,"","\\sqsubset",!0);g(l,P0,j0,"","\\preccurlyeq",!0);g(l,P0,j0,"","\\curlyeqprec",!0);g(l,P0,j0,"","\\precsim",!0);g(l,P0,j0,"","\\precapprox",!0);g(l,P0,j0,"","\\vartriangleleft");g(l,P0,j0,"","\\trianglelefteq");g(l,P0,j0,"","\\vDash",!0);g(l,P0,j0,"","\\Vvdash",!0);g(l,P0,j0,"","\\smallsmile");g(l,P0,j0,"","\\smallfrown");g(l,P0,j0,"","\\bumpeq",!0);g(l,P0,j0,"","\\Bumpeq",!0);g(l,P0,j0,"","\\geqq",!0);g(l,P0,j0,"","\\geqslant",!0);g(l,P0,j0,"","\\eqslantgtr",!0);g(l,P0,j0,"","\\gtrsim",!0);g(l,P0,j0,"","\\gtrapprox",!0);g(l,P0,b8,"","\\gtrdot");g(l,P0,j0,"","\\ggg",!0);g(l,P0,j0,"","\\gtrless",!0);g(l,P0,j0,"","\\gtreqless",!0);g(l,P0,j0,"","\\gtreqqless",!0);g(l,P0,j0,"","\\eqcirc",!0);g(l,P0,j0,"","\\circeq",!0);g(l,P0,j0,"","\\triangleq",!0);g(l,P0,j0,"","\\thicksim");g(l,P0,j0,"","\\thickapprox");g(l,P0,j0,"","\\supseteqq",!0);g(l,P0,j0,"","\\Supset",!0);g(l,P0,j0,"","\\sqsupset",!0);g(l,P0,j0,"","\\succcurlyeq",!0);g(l,P0,j0,"","\\curlyeqsucc",!0);g(l,P0,j0,"","\\succsim",!0);g(l,P0,j0,"","\\succapprox",!0);g(l,P0,j0,"","\\vartriangleright");g(l,P0,j0,"","\\trianglerighteq");g(l,P0,j0,"","\\Vdash",!0);g(l,P0,j0,"","\\shortmid");g(l,P0,j0,"","\\shortparallel");g(l,P0,j0,"","\\between",!0);g(l,P0,j0,"","\\pitchfork",!0);g(l,P0,j0,"","\\varpropto");g(l,P0,j0,"","\\blacktriangleleft");g(l,P0,j0,"","\\therefore",!0);g(l,P0,j0,"","\\backepsilon");g(l,P0,j0,"","\\blacktriangleright");g(l,P0,j0,"","\\because",!0);g(l,P0,j0,"","\\llless");g(l,P0,j0,"","\\gggtr");g(l,P0,b8,"","\\lhd");g(l,P0,b8,"","\\rhd");g(l,P0,j0,"","\\eqsim",!0);g(l,K0,j0,"","\\Join");g(l,P0,j0,"","\\Doteq",!0);g(l,P0,b8,"","\\dotplus",!0);g(l,P0,b8,"","\\smallsetminus");g(l,P0,b8,"","\\Cap",!0);g(l,P0,b8,"","\\Cup",!0);g(l,P0,b8,"","\\doublebarwedge",!0);g(l,P0,b8,"","\\boxminus",!0);g(l,P0,b8,"","\\boxplus",!0);g(l,P0,b8,"","\\divideontimes",!0);g(l,P0,b8,"","\\ltimes",!0);g(l,P0,b8,"","\\rtimes",!0);g(l,P0,b8,"","\\leftthreetimes",!0);g(l,P0,b8,"","\\rightthreetimes",!0);g(l,P0,b8,"","\\curlywedge",!0);g(l,P0,b8,"","\\curlyvee",!0);g(l,P0,b8,"","\\circleddash",!0);g(l,P0,b8,"","\\circledast",!0);g(l,P0,b8,"","\\centerdot");g(l,P0,b8,"","\\intercal",!0);g(l,P0,b8,"","\\doublecap");g(l,P0,b8,"","\\doublecup");g(l,P0,b8,"","\\boxtimes",!0);g(l,P0,j0,"","\\dashrightarrow",!0);g(l,P0,j0,"","\\dashleftarrow",!0);g(l,P0,j0,"","\\leftleftarrows",!0);g(l,P0,j0,"","\\leftrightarrows",!0);g(l,P0,j0,"","\\Lleftarrow",!0);g(l,P0,j0,"","\\twoheadleftarrow",!0);g(l,P0,j0,"","\\leftarrowtail",!0);g(l,P0,j0,"","\\looparrowleft",!0);g(l,P0,j0,"","\\leftrightharpoons",!0);g(l,P0,j0,"","\\curvearrowleft",!0);g(l,P0,j0,"","\\circlearrowleft",!0);g(l,P0,j0,"","\\Lsh",!0);g(l,P0,j0,"","\\upuparrows",!0);g(l,P0,j0,"","\\upharpoonleft",!0);g(l,P0,j0,"","\\downharpoonleft",!0);g(l,K0,j0,"","\\origof",!0);g(l,K0,j0,"","\\imageof",!0);g(l,P0,j0,"","\\multimap",!0);g(l,P0,j0,"","\\leftrightsquigarrow",!0);g(l,P0,j0,"","\\rightrightarrows",!0);g(l,P0,j0,"","\\rightleftarrows",!0);g(l,P0,j0,"","\\twoheadrightarrow",!0);g(l,P0,j0,"","\\rightarrowtail",!0);g(l,P0,j0,"","\\looparrowright",!0);g(l,P0,j0,"","\\curvearrowright",!0);g(l,P0,j0,"","\\circlearrowright",!0);g(l,P0,j0,"","\\Rsh",!0);g(l,P0,j0,"","\\downdownarrows",!0);g(l,P0,j0,"","\\upharpoonright",!0);g(l,P0,j0,"","\\downharpoonright",!0);g(l,P0,j0,"","\\rightsquigarrow",!0);g(l,P0,j0,"","\\leadsto");g(l,P0,j0,"","\\Rrightarrow",!0);g(l,P0,j0,"","\\restriction");g(l,K0,$0,"","`");g(l,K0,$0,"$","\\$");g(X8,K0,$0,"$","\\$");g(X8,K0,$0,"$","\\textdollar");g(l,K0,$0,"%","\\%");g(X8,K0,$0,"%","\\%");g(l,K0,$0,"_","\\_");g(X8,K0,$0,"_","\\_");g(X8,K0,$0,"_","\\textunderscore");g(l,K0,$0,"","\\angle",!0);g(l,K0,$0,"","\\infty",!0);g(l,K0,$0,"","\\prime");g(l,K0,$0,"","\\triangle");g(l,K0,$0,"","\\Gamma",!0);g(l,K0,$0,"","\\Delta",!0);g(l,K0,$0,"","\\Theta",!0);g(l,K0,$0,"","\\Lambda",!0);g(l,K0,$0,"","\\Xi",!0);g(l,K0,$0,"","\\Pi",!0);g(l,K0,$0,"","\\Sigma",!0);g(l,K0,$0,"","\\Upsilon",!0);g(l,K0,$0,"","\\Phi",!0);g(l,K0,$0,"","\\Psi",!0);g(l,K0,$0,"","\\Omega",!0);g(l,K0,$0,"A","");g(l,K0,$0,"B","");g(l,K0,$0,"E","");g(l,K0,$0,"Z","");g(l,K0,$0,"H","");g(l,K0,$0,"I","");g(l,K0,$0,"K","");g(l,K0,$0,"M","");g(l,K0,$0,"N","");g(l,K0,$0,"O","");g(l,K0,$0,"P","");g(l,K0,$0,"T","");g(l,K0,$0,"X","");g(l,K0,$0,"","\\neg",!0);g(l,K0,$0,"","\\lnot");g(l,K0,$0,"","\\top");g(l,K0,$0,"","\\bot");g(l,K0,$0,"","\\emptyset");g(l,P0,$0,"","\\varnothing");g(l,K0,K9,"","\\alpha",!0);g(l,K0,K9,"","\\beta",!0);g(l,K0,K9,"","\\gamma",!0);g(l,K0,K9,"","\\delta",!0);g(l,K0,K9,"","\\epsilon",!0);g(l,K0,K9,"","\\zeta",!0);g(l,K0,K9,"","\\eta",!0);g(l,K0,K9,"","\\theta",!0);g(l,K0,K9,"","\\iota",!0);g(l,K0,K9,"","\\kappa",!0);g(l,K0,K9,"","\\lambda",!0);g(l,K0,K9,"","\\mu",!0);g(l,K0,K9,"","\\nu",!0);g(l,K0,K9,"","\\xi",!0);g(l,K0,K9,"","\\omicron",!0);g(l,K0,K9,"","\\pi",!0);g(l,K0,K9,"","\\rho",!0);g(l,K0,K9,"","\\sigma",!0);g(l,K0,K9,"","\\tau",!0);g(l,K0,K9,"","\\upsilon",!0);g(l,K0,K9,"","\\phi",!0);g(l,K0,K9,"","\\chi",!0);g(l,K0,K9,"","\\psi",!0);g(l,K0,K9,"","\\omega",!0);g(l,K0,K9,"","\\varepsilon",!0);g(l,K0,K9,"","\\vartheta",!0);g(l,K0,K9,"","\\varpi",!0);g(l,K0,K9,"","\\varrho",!0);g(l,K0,K9,"","\\varsigma",!0);g(l,K0,K9,"","\\varphi",!0);g(l,K0,b8,"","*",!0);g(l,K0,b8,"+","+");g(l,K0,b8,"","-",!0);g(l,K0,b8,"","\\cdot",!0);g(l,K0,b8,"","\\circ",!0);g(l,K0,b8,"","\\div",!0);g(l,K0,b8,"","\\pm",!0);g(l,K0,b8,"","\\times",!0);g(l,K0,b8,"","\\cap",!0);g(l,K0,b8,"","\\cup",!0);g(l,K0,b8,"","\\setminus",!0);g(l,K0,b8,"","\\land");g(l,K0,b8,"","\\lor");g(l,K0,b8,"","\\wedge",!0);g(l,K0,b8,"","\\vee",!0);g(l,K0,$0,"","\\surd");g(l,K0,C4,"","\\langle",!0);g(l,K0,C4,"","\\lvert");g(l,K0,C4,"","\\lVert");g(l,K0,tQ,"?","?");g(l,K0,tQ,"!","!");g(l,K0,tQ,"","\\rangle",!0);g(l,K0,tQ,"","\\rvert");g(l,K0,tQ,"","\\rVert");g(l,K0,j0,"=","=");g(l,K0,j0,":",":");g(l,K0,j0,"","\\approx",!0);g(l,K0,j0,"","\\cong",!0);g(l,K0,j0,"","\\ge");g(l,K0,j0,"","\\geq",!0);g(l,K0,j0,"","\\gets");g(l,K0,j0,">","\\gt",!0);g(l,K0,j0,"","\\in",!0);g(l,K0,j0,"","\\@not");g(l,K0,j0,"","\\subset",!0);g(l,K0,j0,"","\\supset",!0);g(l,K0,j0,"","\\subseteq",!0);g(l,K0,j0,"","\\supseteq",!0);g(l,P0,j0,"","\\nsubseteq",!0);g(l,P0,j0,"","\\nsupseteq",!0);g(l,K0,j0,"","\\models");g(l,K0,j0,"","\\leftarrow",!0);g(l,K0,j0,"","\\le");g(l,K0,j0,"","\\leq",!0);g(l,K0,j0,"<","\\lt",!0);g(l,K0,j0,"","\\rightarrow",!0);g(l,K0,j0,"","\\to");g(l,P0,j0,"","\\ngeq",!0);g(l,P0,j0,"","\\nleq",!0);g(l,K0,oU,"","\\ ");g(l,K0,oU,"","\\space");g(l,K0,oU,"","\\nobreakspace");g(X8,K0,oU,"","\\ ");g(X8,K0,oU,""," ");g(X8,K0,oU,"","\\space");g(X8,K0,oU,"","\\nobreakspace");g(l,K0,oU,null,"\\nobreak");g(l,K0,oU,null,"\\allowbreak");g(l,K0,HV,",",",");g(l,K0,HV,";",";");g(l,P0,b8,"","\\barwedge",!0);g(l,P0,b8,"","\\veebar",!0);g(l,K0,b8,"","\\odot",!0);g(l,K0,b8,"","\\oplus",!0);g(l,K0,b8,"","\\otimes",!0);g(l,K0,$0,"","\\partial",!0);g(l,K0,b8,"","\\oslash",!0);g(l,P0,b8,"","\\circledcirc",!0);g(l,P0,b8,"","\\boxdot",!0);g(l,K0,b8,"","\\bigtriangleup");g(l,K0,b8,"","\\bigtriangledown");g(l,K0,b8,"","\\dagger");g(l,K0,b8,"","\\diamond");g(l,K0,b8,"","\\star");g(l,K0,b8,"","\\triangleleft");g(l,K0,b8,"","\\triangleright");g(l,K0,C4,"{","\\{");g(X8,K0,$0,"{","\\{");g(X8,K0,$0,"{","\\textbraceleft");g(l,K0,tQ,"}","\\}");g(X8,K0,$0,"}","\\}");g(X8,K0,$0,"}","\\textbraceright");g(l,K0,C4,"{","\\lbrace");g(l,K0,tQ,"}","\\rbrace");g(l,K0,C4,"[","\\lbrack",!0);g(X8,K0,$0,"[","\\lbrack",!0);g(l,K0,tQ,"]","\\rbrack",!0);g(X8,K0,$0,"]","\\rbrack",!0);g(l,K0,C4,"(","\\lparen",!0);g(l,K0,tQ,")","\\rparen",!0);g(X8,K0,$0,"<","\\textless",!0);g(X8,K0,$0,">","\\textgreater",!0);g(l,K0,C4,"","\\lfloor",!0);g(l,K0,tQ,"","\\rfloor",!0);g(l,K0,C4,"","\\lceil",!0);g(l,K0,tQ,"","\\rceil",!0);g(l,K0,$0,"\\","\\backslash");g(l,K0,$0,"","|");g(l,K0,$0,"","\\vert");g(X8,K0,$0,"|","\\textbar",!0);g(l,K0,$0,"","\\|");g(l,K0,$0,"","\\Vert");g(X8,K0,$0,"","\\textbardbl");g(X8,K0,$0,"~","\\textasciitilde");g(X8,K0,$0,"\\","\\textbackslash");g(X8,K0,$0,"^","\\textasciicircum");g(l,K0,j0,"","\\uparrow",!0);g(l,K0,j0,"","\\Uparrow",!0);g(l,K0,j0,"","\\downarrow",!0);g(l,K0,j0,"","\\Downarrow",!0);g(l,K0,j0,"","\\updownarrow",!0);g(l,K0,j0,"","\\Updownarrow",!0);g(l,K0,J7,"","\\coprod");g(l,K0,J7,"","\\bigvee");g(l,K0,J7,"","\\bigwedge");g(l,K0,J7,"","\\biguplus");g(l,K0,J7,"","\\bigcap");g(l,K0,J7,"","\\bigcup");g(l,K0,J7,"","\\int");g(l,K0,J7,"","\\intop");g(l,K0,J7,"","\\iint");g(l,K0,J7,"","\\iiint");g(l,K0,J7,"","\\prod");g(l,K0,J7,"","\\sum");g(l,K0,J7,"","\\bigotimes");g(l,K0,J7,"","\\bigoplus");g(l,K0,J7,"","\\bigodot");g(l,K0,J7,"","\\oint");g(l,K0,J7,"","\\oiint");g(l,K0,J7,"","\\oiiint");g(l,K0,J7,"","\\bigsqcup");g(l,K0,J7,"","\\smallint");g(X8,K0,rH,"","\\textellipsis");g(l,K0,rH,"","\\mathellipsis");g(X8,K0,rH,"","\\ldots",!0);g(l,K0,rH,"","\\ldots",!0);g(l,K0,rH,"","\\@cdots",!0);g(l,K0,rH,"","\\ddots",!0);g(l,K0,$0,"","\\varvdots");g(X8,K0,$0,"","\\varvdots");g(l,K0,OJ,"","\\acute");g(l,K0,OJ,"","\\grave");g(l,K0,OJ,"","\\ddot");g(l,K0,OJ,"~","\\tilde");g(l,K0,OJ,"","\\bar");g(l,K0,OJ,"","\\breve");g(l,K0,OJ,"","\\check");g(l,K0,OJ,"^","\\hat");g(l,K0,OJ,"","\\vec");g(l,K0,OJ,"","\\dot");g(l,K0,OJ,"","\\mathring");g(l,K0,K9,"","\\@imath");g(l,K0,K9,"","\\@jmath");g(l,K0,$0,"","");g(l,K0,$0,"","");g(X8,K0,$0,"","\\i",!0);g(X8,K0,$0,"","\\j",!0);g(X8,K0,$0,"","\\ss",!0);g(X8,K0,$0,"","\\ae",!0);g(X8,K0,$0,"","\\oe",!0);g(X8,K0,$0,"","\\o",!0);g(X8,K0,$0,"","\\AE",!0);g(X8,K0,$0,"","\\OE",!0);g(X8,K0,$0,"","\\O",!0);g(X8,K0,OJ,"","\\'");g(X8,K0,OJ,"","\\`");g(X8,K0,OJ,"","\\^");g(X8,K0,OJ,"","\\~");g(X8,K0,OJ,"","\\=");g(X8,K0,OJ,"","\\u");g(X8,K0,OJ,"","\\.");g(X8,K0,OJ,"","\\c");g(X8,K0,OJ,"","\\r");g(X8,K0,OJ,"","\\v");g(X8,K0,OJ,"","\\\"");g(X8,K0,OJ,"","\\H");g(X8,K0,OJ,"","\\textcircled");iK0={"--":!0,"---":!0,"``":!0,"''":!0};g(X8,K0,$0,"","--",!0);g(X8,K0,$0,"","\\textendash");g(X8,K0,$0,"","---",!0);g(X8,K0,$0,"","\\textemdash");g(X8,K0,$0,"","`",!0);g(X8,K0,$0,"","\\textquoteleft");g(X8,K0,$0,"","'",!0);g(X8,K0,$0,"","\\textquoteright");g(X8,K0,$0,"","``",!0);g(X8,K0,$0,"","\\textquotedblleft");g(X8,K0,$0,"","''",!0);g(X8,K0,$0,"","\\textquotedblright");g(l,K0,$0,"","\\degree",!0);g(X8,K0,$0,"","\\degree");g(X8,K0,$0,"","\\textdegree",!0);g(l,K0,$0,"","\\pounds");g(l,K0,$0,"","\\mathsterling",!0);g(X8,K0,$0,"","\\pounds");g(X8,K0,$0,"","\\textsterling",!0);g(l,P0,$0,"","\\maltese");g(X8,P0,$0,"","\\maltese");for(rR=0;rR<FK0.length;rR++)JV=FK0.charAt(rR),g(l,K0,$0,JV,JV);for(nR=0;nR<MK0.length;nR++)QV=MK0.charAt(nR),g(X8,K0,$0,QV,QV);for(aR=0;aR<UV.length;aR++)pH=UV.charAt(aR),g(l,K0,K9,pH,pH),g(X8,K0,$0,pH,pH);g(l,P0,$0,"C","");g(X8,P0,$0,"C","");g(l,P0,$0,"H","");g(X8,P0,$0,"H","");g(l,P0,$0,"N","");g(X8,P0,$0,"N","");g(l,P0,$0,"P","");g(X8,P0,$0,"P","");g(l,P0,$0,"Q","");g(X8,P0,$0,"Q","");g(l,P0,$0,"R","");g(X8,P0,$0,"R","");g(l,P0,$0,"Z","");g(X8,P0,$0,"Z","");g(l,K0,K9,"h","");g(X8,K0,K9,"h","");for(t7=0;t7<UV.length;t7++)if(BJ=UV.charAt(t7),B9=String.fromCharCode(55349,56320+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56372+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56424+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56580+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56684+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56736+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56788+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56840+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56944+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),t7<26)B9=String.fromCharCode(55349,56632+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9),B9=String.fromCharCode(55349,56476+t7),g(l,K0,K9,BJ,B9),g(X8,K0,$0,BJ,B9);B9=String.fromCharCode(55349,56668);g(l,K0,K9,"k",B9);g(X8,K0,$0,"k",B9);for(lU=0;lU<10;lU++)YX=lU.toString(),B9=String.fromCharCode(55349,57294+lU),g(l,K0,K9,YX,B9),g(X8,K0,$0,YX,B9),B9=String.fromCharCode(55349,57314+lU),g(l,K0,K9,YX,B9),g(X8,K0,$0,YX,B9),B9=String.fromCharCode(55349,57324+lU),g(l,K0,K9,YX,B9),g(X8,K0,$0,YX,B9),B9=String.fromCharCode(55349,57334+lU),g(l,K0,K9,YX,B9),g(X8,K0,$0,YX,B9);for(oR=0;oR<Ty.length;oR++)cH=Ty.charAt(oR),g(l,K0,K9,cH,cH),g(X8,K0,$0,cH,cH);rE=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],BK0=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],nK0={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},aK0={vec:["vec",0.471,0.714],oiintSize1:["oiintSize1",0.957,0.499],oiintSize2:["oiintSize2",1.472,0.659],oiiintSize1:["oiiintSize1",1.304,0.499],oiiintSize2:["oiiintSize2",1.98,0.659]},g0={fontMap:nK0,makeSymbol:K5,mathsym:te0,makeSpan:v6,makeSvgSpan:sK0,makeLineSpan:K08,makeAnchor:X08,makeFragment:rK0,wrapFragment:U08,makeVList:q08,makeOrd:Z08,makeGlue:W08,staticSvg:G08,svgData:aK0,tryCombineChars:Q08},CJ={number:3,unit:"mu"},DG={number:4,unit:"mu"},pU={number:5,unit:"mu"},z08={mord:{mop:CJ,mbin:DG,mrel:pU,minner:CJ},mop:{mord:CJ,mop:CJ,mrel:pU,minner:CJ},mbin:{mord:DG,mop:DG,mopen:DG,minner:DG},mrel:{mord:pU,mop:pU,mopen:pU,minner:pU},mopen:{},mclose:{mop:CJ,mbin:DG,mrel:pU,minner:CJ},mpunct:{mord:CJ,mop:CJ,mrel:pU,mopen:CJ,mclose:CJ,mpunct:CJ,minner:CJ},minner:{mord:CJ,mop:CJ,mbin:DG,mrel:pU,mopen:CJ,mpunct:CJ,minner:CJ}},H08={mord:{mop:CJ},mop:{mord:CJ,mop:CJ},mbin:{},mrel:{},mopen:{},mclose:{mop:CJ},mpunct:{},minner:{mop:CJ}},oK0={},YV={},qV={};nU=g0.makeSpan,F08=["leftmost","mbin","mopen","mrel","mop","mpunct"],M08=["rightmost","mrel","mclose","mpunct"],B08={display:X9.DISPLAY,text:X9.TEXT,script:X9.SCRIPT,scriptscript:X9.SCRIPTSCRIPT},O08={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"};z8={MathNode:b6,TextNode:X5,SpaceNode:Z50,newDocumentFragment:eK0};I08={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},N08={overrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],0.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],0.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],0.888,522,"xMaxYMin"],xlongequal:[["longequal"],0.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],0.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],0.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],0.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],0.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],overgroup:[["leftgroup","rightgroup"],0.888,342],undergroup:[["leftgroupunder","rightgroupunder"],0.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},aU={encloseSpan:P08,mathMLnode:A08,svgSpan:V08};j08=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((Z)=>"\\"+Z).join("|"));k8({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(Z,J)=>{var Q=WV(J[0]),K=!j08.test(Z.funcName),X=!K||Z.funcName==="\\widehat"||Z.funcName==="\\widetilde"||Z.funcName==="\\widecheck";return{type:"accent",mode:Z.parser.mode,label:Z.funcName,isStretchy:K,isShifty:X,base:Q}},htmlBuilder:gy,mathmlBuilder:K50});k8({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.","\\\"","\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(Z,J)=>{var Q=J[0],K=Z.parser.mode;if(K==="math")Z.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+Z.funcName+" works only in text mode"),K="text";return{type:"accent",mode:K,label:Z.funcName,isStretchy:!1,isShifty:!0,base:Q}},htmlBuilder:gy,mathmlBuilder:K50});k8({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"accentUnder",mode:Q.mode,label:K,base:X}},htmlBuilder:(Z,J)=>{var Q=XZ(Z.base,J),K=aU.svgSpan(Z,J),X=Z.label==="\\utilde"?0.12:0,U=g0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"elem",elem:K,wrapperClasses:["svg-align"]},{type:"kern",size:X},{type:"elem",elem:Q}]},J);return g0.makeSpan(["mord","accentunder"],[U],J)},mathmlBuilder:(Z,J)=>{var Q=aU.mathMLnode(Z.label),K=new z8.MathNode("munder",[hZ(Z.base,J),Q]);return K.setAttribute("accentunder","true"),K}});k8({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K,funcName:X}=Z;return{type:"xArrow",mode:K.mode,label:X,body:J[0],below:Q[0]}},htmlBuilder(Z,J){var Q=J.style,K=J.havingStyle(Q.sup()),X=g0.wrapFragment(XZ(Z.body,K,J),J),U=Z.label.slice(0,2)==="\\x"?"x":"cd";X.classes.push(U+"-arrow-pad");var Y;if(Z.below)K=J.havingStyle(Q.sub()),Y=g0.wrapFragment(XZ(Z.below,K,J),J),Y.classes.push(U+"-arrow-pad");var q=aU.svgSpan(Z,J),W=-J.fontMetrics().axisHeight+0.5*q.height,G=-J.fontMetrics().axisHeight-0.5*q.height-0.111;if(X.depth>0.25||Z.label==="\\xleftequilibrium")G-=X.depth;var z;if(Y){var H=-J.fontMetrics().axisHeight+Y.height+0.5*q.height+0.111;z=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:X,shift:G},{type:"elem",elem:q,shift:W},{type:"elem",elem:Y,shift:H}]},J)}else z=g0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:X,shift:G},{type:"elem",elem:q,shift:W}]},J);return z.children[0].children[0].children[1].classes.push("svg-align"),g0.makeSpan(["mrel","x-arrow"],[z],J)},mathmlBuilder(Z,J){var Q=aU.mathMLnode(Z.label);Q.setAttribute("minsize",Z.label.charAt(0)==="x"?"1.75em":"3.0em");var K;if(Z.body){var X=oE(hZ(Z.body,J));if(Z.below){var U=oE(hZ(Z.below,J));K=new z8.MathNode("munderover",[Q,U,X])}else K=new z8.MathNode("mover",[Q,X])}else if(Z.below){var Y=oE(hZ(Z.below,J));K=new z8.MathNode("munder",[Q,Y])}else K=oE(),K=new z8.MathNode("mover",[Q,K]);return K}});C08=g0.makeSpan;k8({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"mclass",mode:Q.mode,mclass:"m"+K.slice(5),body:iJ(X),isCharacterBox:HZ.isCharacterBox(X)}},htmlBuilder:X50,mathmlBuilder:U50});k8({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(Z,J){var{parser:Q}=Z;return{type:"mclass",mode:Q.mode,mclass:BV(J[0]),body:iJ(J[1]),isCharacterBox:HZ.isCharacterBox(J[1])}}});k8({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[1],U=J[0],Y;if(K!=="\\stackrel")Y=BV(X);else Y="mrel";var q={type:"op",mode:X.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:K!=="\\stackrel",body:iJ(X)},W={type:"supsub",mode:U.mode,base:q,sup:K==="\\underset"?null:U,sub:K==="\\underset"?U:null};return{type:"mclass",mode:Q.mode,mclass:Y,body:[W],isCharacterBox:HZ.isCharacterBox(W)}},htmlBuilder:X50,mathmlBuilder:U50});k8({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"pmb",mode:Q.mode,mclass:BV(J[0]),body:iJ(J[0])}},htmlBuilder(Z,J){var Q=R7(Z.body,J,!0),K=g0.makeSpan([Z.mclass],Q,J);return K.style.textShadow="0.02em 0.01em 0.04px",K},mathmlBuilder(Z,J){var Q=y6(Z.body,J),K=new z8.MathNode("mstyle",Q);return K.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),K}});S08={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"};k8({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"cdlabel",mode:Q.mode,side:K.slice(4),label:J[0]}},htmlBuilder(Z,J){var Q=J.havingStyle(J.style.sup()),K=g0.wrapFragment(XZ(Z.label,Q,J),J);return K.classes.push("cd-label-"+Z.side),K.style.bottom=V8(0.8-K.depth),K.height=0,K.depth=0,K},mathmlBuilder(Z,J){var Q=new z8.MathNode("mrow",[hZ(Z.label,J)]);if(Q=new z8.MathNode("mpadded",[Q]),Q.setAttribute("width","0"),Z.side==="left")Q.setAttribute("lspace","-1width");return Q.setAttribute("voffset","0.7em"),Q=new z8.MathNode("mstyle",[Q]),Q.setAttribute("displaystyle","false"),Q.setAttribute("scriptlevel","1"),Q}});k8({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z;return{type:"cdlabelparent",mode:Q.mode,fragment:J[0]}},htmlBuilder(Z,J){var Q=g0.wrapFragment(XZ(Z.fragment,J),J);return Q.classes.push("cd-vert-arrow"),Q},mathmlBuilder(Z,J){return new z8.MathNode("mrow",[hZ(Z.fragment,J)])}});k8({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=V9(J[0],"ordgroup"),X=K.body,U="";for(var Y=0;Y<X.length;Y++){var q=V9(X[Y],"textord");U+=q.text}var W=parseInt(U),G;if(isNaN(W))throw new B8("\\@char has non-numeric argument "+U);else if(W<0||W>=1114111)throw new B8("\\@char with invalid code point "+U);else if(W<=65535)G=String.fromCharCode(W);else W-=65536,G=String.fromCharCode((W>>10)+55296,(W&1023)+56320);return{type:"textord",mode:Q.mode,text:G}}});k8({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(Z,J){var{parser:Q}=Z,K=V9(J[0],"color-token").color,X=J[1];return{type:"color",mode:Q.mode,color:K,body:iJ(X)}},htmlBuilder:Y50,mathmlBuilder:q50});k8({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(Z,J){var{parser:Q,breakOnTokenText:K}=Z,X=V9(J[0],"color-token").color;Q.gullet.macros.set("\\current@color",X);var U=Q.parseExpression(!0,K);return{type:"color",mode:Q.mode,color:X,body:U}},htmlBuilder:Y50,mathmlBuilder:q50});k8({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(Z,J,Q){var{parser:K}=Z,X=K.gullet.future().text==="["?K.parseSizeGroup(!0):null,U=!K.settings.displayMode||!K.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:K.mode,newLine:U,size:X&&V9(X,"size").value}},htmlBuilder(Z,J){var Q=g0.makeSpan(["mspace"],[],J);if(Z.newLine){if(Q.classes.push("newline"),Z.size)Q.style.marginTop=V8(SJ(Z.size,J))}return Q},mathmlBuilder(Z,J){var Q=new z8.MathNode("mspace");if(Z.newLine){if(Q.setAttribute("linebreak","newline"),Z.size)Q.setAttribute("height",V8(SJ(Z.size,J)))}return Q}});ky={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"};k8({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(Z){var{parser:J,funcName:Q}=Z;J.consumeSpaces();var K=J.fetch();if(ky[K.text]){if(Q==="\\global"||Q==="\\\\globallong")K.text=ky[K.text];return V9(J.parseFunction(),"internal")}throw new B8("Invalid token after macro prefix",K)}});k8({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=J.gullet.popToken(),X=K.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(X))throw new B8("Expected a control sequence",K);var U=0,Y,q=[[]];while(J.gullet.future().text!=="{")if(K=J.gullet.popToken(),K.text==="#"){if(J.gullet.future().text==="{"){Y=J.gullet.future(),q[U].push("{");break}if(K=J.gullet.popToken(),!/^[1-9]$/.test(K.text))throw new B8('Invalid argument number "'+K.text+'"');if(parseInt(K.text)!==U+1)throw new B8('Argument number "'+K.text+'" out of order');U++,q.push([])}else if(K.text==="EOF")throw new B8("Expected a macro definition");else q[U].push(K.text);var{tokens:W}=J.gullet.consumeArg();if(Y)W.unshift(Y);if(Q==="\\edef"||Q==="\\xdef")W=J.gullet.expandTokens(W),W.reverse();return J.gullet.macros.set(X,{tokens:W,numArgs:U,delimiters:q},Q===ky[Q]),{type:"internal",mode:J.mode}}});k8({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=W50(J.gullet.popToken());J.gullet.consumeSpaces();var X=k08(J);return G50(J,K,X,Q==="\\\\globallet"),{type:"internal",mode:J.mode}}});k8({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=W50(J.gullet.popToken()),X=J.gullet.popToken(),U=J.gullet.popToken();return G50(J,K,U,Q==="\\\\globalfuture"),J.gullet.pushToken(U),J.gullet.pushToken(X),{type:"internal",mode:J.mode}}});tE={type:"kern",size:-1*_y},v08=["|","\\lvert","\\rvert","\\vert"],x08=["\\|","\\lVert","\\rVert","\\Vert"],M50=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],y08=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],B50=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Z3=[0,1.2,1.8,2.4,3],m08=[{type:"small",style:X9.SCRIPTSCRIPT},{type:"small",style:X9.SCRIPT},{type:"small",style:X9.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],u08=[{type:"small",style:X9.SCRIPTSCRIPT},{type:"small",style:X9.SCRIPT},{type:"small",style:X9.TEXT},{type:"stack"}],O50=[{type:"small",style:X9.SCRIPTSCRIPT},{type:"small",style:X9.SCRIPT},{type:"small",style:X9.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],sU={sqrtImage:b08,sizedDelim:h08,sizeToMaxHeight:Z3,customSizedDelim:D50,leftRightDelim:p08},IK0={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},c08=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];k8({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(Z,J)=>{var Q=OV(J[0],Z);return{type:"delimsizing",mode:Z.parser.mode,size:IK0[Z.funcName].size,mclass:IK0[Z.funcName].mclass,delim:Q.text}},htmlBuilder:(Z,J)=>{if(Z.delim===".")return g0.makeSpan([Z.mclass]);return sU.sizedDelim(Z.delim,Z.size,J,Z.mode,[Z.mclass])},mathmlBuilder:(Z)=>{var J=[];if(Z.delim!==".")J.push(YK(Z.delim,Z.mode));var Q=new z8.MathNode("mo",J);if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.setAttribute("fence","true");else Q.setAttribute("fence","false");Q.setAttribute("stretchy","true");var K=V8(sU.sizeToMaxHeight[Z.size]);return Q.setAttribute("minsize",K),Q.setAttribute("maxsize",K),Q}});k8({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=Z.parser.gullet.macros.get("\\current@color");if(Q&&typeof Q!=="string")throw new B8("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:Z.parser.mode,delim:OV(J[0],Z).text,color:Q}}});k8({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=OV(J[0],Z),K=Z.parser;++K.leftrightDepth;var X=K.parseExpression(!1);--K.leftrightDepth,K.expect("\\right",!1);var U=V9(K.parseFunction(),"leftright-right");return{type:"leftright",mode:K.mode,body:X,left:Q.text,right:U.delim,rightColor:U.color}},htmlBuilder:(Z,J)=>{AK0(Z);var Q=R7(Z.body,J,!0,["mopen","mclose"]),K=0,X=0,U=!1;for(var Y=0;Y<Q.length;Y++)if(Q[Y].isMiddle)U=!0;else K=Math.max(Q[Y].height,K),X=Math.max(Q[Y].depth,X);K*=J.sizeMultiplier,X*=J.sizeMultiplier;var q;if(Z.left===".")q=Q3(J,["mopen"]);else q=sU.leftRightDelim(Z.left,K,X,J,Z.mode,["mopen"]);if(Q.unshift(q),U)for(var W=1;W<Q.length;W++){var G=Q[W],z=G.isMiddle;if(z)Q[W]=sU.leftRightDelim(z.delim,K,X,z.options,Z.mode,[])}var H;if(Z.right===".")H=Q3(J,["mclose"]);else{var F=Z.rightColor?J.withColor(Z.rightColor):J;H=sU.leftRightDelim(Z.right,K,X,F,Z.mode,["mclose"])}return Q.push(H),g0.makeSpan(["minner"],Q,J)},mathmlBuilder:(Z,J)=>{AK0(Z);var Q=y6(Z.body,J);if(Z.left!=="."){var K=new z8.MathNode("mo",[YK(Z.left,Z.mode)]);K.setAttribute("fence","true"),Q.unshift(K)}if(Z.right!=="."){var X=new z8.MathNode("mo",[YK(Z.right,Z.mode)]);if(X.setAttribute("fence","true"),Z.rightColor)X.setAttribute("mathcolor",Z.rightColor);Q.push(X)}return hy(Q)}});k8({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=OV(J[0],Z);if(!Z.parser.leftrightDepth)throw new B8("\\middle without preceding \\left",Q);return{type:"middle",mode:Z.parser.mode,delim:Q.text}},htmlBuilder:(Z,J)=>{var Q;if(Z.delim===".")Q=Q3(J,[]);else{Q=sU.sizedDelim(Z.delim,1,J,Z.mode,[]);var K={delim:Z.delim,options:J};Q.isMiddle=K}return Q},mathmlBuilder:(Z,J)=>{var Q=Z.delim==="\\vert"||Z.delim==="|"?YK("|","text"):YK(Z.delim,Z.mode),K=new z8.MathNode("mo",[Q]);return K.setAttribute("fence","true"),K.setAttribute("lspace","0.05em"),K.setAttribute("rspace","0.05em"),K}});k8({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(Z,J,Q){var{parser:K,funcName:X}=Z,U=V9(J[0],"color-token").color,Y=J[1];return{type:"enclose",mode:K.mode,label:X,backgroundColor:U,body:Y}},htmlBuilder:cy,mathmlBuilder:ly});k8({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(Z,J,Q){var{parser:K,funcName:X}=Z,U=V9(J[0],"color-token").color,Y=V9(J[1],"color-token").color,q=J[2];return{type:"enclose",mode:K.mode,label:X,backgroundColor:Y,borderColor:U,body:q}},htmlBuilder:cy,mathmlBuilder:ly});k8({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\fbox",body:J[0]}}});k8({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"enclose",mode:Q.mode,label:K,body:X}},htmlBuilder:cy,mathmlBuilder:ly});k8({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\angl",body:J[0]}}});L50={};I50={};l08={c:"center ",l:"left ",r:"right "};zX({type:"array",names:["array","darray"],props:{numArgs:1},handler(Z,J){var Q=MV(J[0]),K=Q?[J[0]]:V9(J[0],"ordgroup").body,X=K.map(function(Y){var q=uy(Y),W=q.text;if("lcr".indexOf(W)!==-1)return{type:"align",align:W};else if(W==="|")return{type:"separator",separator:"|"};else if(W===":")return{type:"separator",separator:":"};throw new B8("Unknown column alignment: "+W,Y)}),U={cols:X,hskipBeforeAndAfter:!0,maxNumCols:X.length};return L1(Z.parser,U,iy(Z.envName))},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(Z){var J={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[Z.envName.replace("*","")],Q="c",K={hskipBeforeAndAfter:!1,cols:[{type:"align",align:Q}]};if(Z.envName.charAt(Z.envName.length-1)==="*"){var X=Z.parser;if(X.consumeSpaces(),X.fetch().text==="["){if(X.consume(),X.consumeSpaces(),Q=X.fetch().text,"lcr".indexOf(Q)===-1)throw new B8("Expected l or c or r",X.nextToken);X.consume(),X.consumeSpaces(),X.expect("]"),X.consume(),K.cols=[{type:"align",align:Q}]}}var U=L1(Z.parser,K,iy(Z.envName)),Y=Math.max(0,...U.body.map((q)=>q.length));return U.cols=Array(Y).fill({type:"align",align:Q}),J?{type:"leftright",mode:Z.mode,body:[U],left:J[0],right:J[1],rightColor:void 0}:U},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(Z){var J={arraystretch:0.5},Q=L1(Z.parser,J,"script");return Q.colSeparationType="small",Q},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["subarray"],props:{numArgs:1},handler(Z,J){var Q=MV(J[0]),K=Q?[J[0]]:V9(J[0],"ordgroup").body,X=K.map(function(Y){var q=uy(Y),W=q.text;if("lc".indexOf(W)!==-1)return{type:"align",align:W};throw new B8("Unknown column alignment: "+W,Y)});if(X.length>1)throw new B8("{subarray} can contain only one column");var U={cols:X,hskipBeforeAndAfter:!1,arraystretch:0.5};if(U=L1(Z.parser,U,"script"),U.body.length>0&&U.body[0].length>1)throw new B8("{subarray} can contain only one column");return U},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(Z){var J={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Q=L1(Z.parser,J,iy(Z.envName));return{type:"leftright",mode:Z.mode,body:[Q],left:Z.envName.indexOf("r")>-1?".":"\\{",right:Z.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:A50,htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(Z){if(["gather","gather*"].includes(Z.envName))RV(Z);var J={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:dy(Z.envName),emptySingleRow:!0,leqno:Z.parser.settings.leqno};return L1(Z.parser,J,"display")},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:A50,htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(Z){RV(Z);var J={autoTag:dy(Z.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:Z.parser.settings.leqno};return L1(Z.parser,J,"display")},htmlBuilder:HX,mathmlBuilder:FX});zX({type:"array",names:["CD"],props:{numArgs:0},handler(Z){return RV(Z),$08(Z.parser)},htmlBuilder:HX,mathmlBuilder:FX});G0("\\nonumber","\\gdef\\@eqnsw{0}");G0("\\notag","\\nonumber");k8({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(Z,J){throw new B8(Z.funcName+" valid only within array environment")}});EK0=L50;k8({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];if(X.type!=="ordgroup")throw new B8("Invalid environment name",X);var U="";for(var Y=0;Y<X.body.length;++Y)U+=V9(X.body[Y],"textord").text;if(K==="\\begin"){if(!EK0.hasOwnProperty(U))throw new B8("No such environment: "+U,X);var q=EK0[U],{args:W,optArgs:G}=Q.parseArguments("\\begin{"+U+"}",q),z={mode:Q.mode,envName:U,parser:Q},H=q.handler(z,W,G);Q.expect("\\end",!1);var F=Q.nextToken,M=V9(Q.parseFunction(),"environment");if(M.name!==U)throw new B8("Mismatch: \\begin{"+U+"} matched by \\end{"+M.name+"}",F);return H}return{type:"environment",mode:Q.mode,name:U,nameGroup:X}}});VK0={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};k8({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=WV(J[0]),U=K;if(U in VK0)U=VK0[U];return{type:"font",mode:Q.mode,font:U.slice(1),body:X}},htmlBuilder:N50,mathmlBuilder:E50});k8({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0],X=HZ.isCharacterBox(K);return{type:"mclass",mode:Q.mode,mclass:BV(K),body:[{type:"font",mode:Q.mode,font:"boldsymbol",body:K}],isCharacterBox:X}}});k8({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,breakOnTokenText:X}=Z,{mode:U}=Q,Y=Q.parseExpression(!0,X),q="math"+K.slice(1);return{type:"font",mode:U,font:q,body:{type:"ordgroup",mode:Q.mode,body:Y}}},htmlBuilder:N50,mathmlBuilder:E50});k8({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=J[1],Y,q=null,W=null,G="auto";switch(K){case"\\dfrac":case"\\frac":case"\\tfrac":Y=!0;break;case"\\\\atopfrac":Y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Y=!1,q="(",W=")";break;case"\\\\bracefrac":Y=!1,q="\\{",W="\\}";break;case"\\\\brackfrac":Y=!1,q="[",W="]";break;default:throw Error("Unrecognized genfrac command")}switch(K){case"\\dfrac":case"\\dbinom":G="display";break;case"\\tfrac":case"\\tbinom":G="text";break}return{type:"genfrac",mode:Q.mode,continued:!1,numer:X,denom:U,hasBarLine:Y,leftDelim:q,rightDelim:W,size:G,barSize:null}},htmlBuilder:sy,mathmlBuilder:ry});k8({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=J[1];return{type:"genfrac",mode:Q.mode,continued:!0,numer:X,denom:U,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});k8({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(Z){var{parser:J,funcName:Q,token:K}=Z,X;switch(Q){case"\\over":X="\\frac";break;case"\\choose":X="\\binom";break;case"\\atop":X="\\\\atopfrac";break;case"\\brace":X="\\\\bracefrac";break;case"\\brack":X="\\\\brackfrac";break;default:throw Error("Unrecognized infix genfrac command")}return{type:"infix",mode:J.mode,replaceWith:X,token:K}}});PK0=["display","text","script","scriptscript"];k8({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(Z,J){var{parser:Q}=Z,K=J[4],X=J[5],U=WV(J[0]),Y=U.type==="atom"&&U.family==="open"?jK0(U.text):null,q=WV(J[1]),W=q.type==="atom"&&q.family==="close"?jK0(q.text):null,G=V9(J[2],"size"),z,H=null;if(G.isBlank)z=!0;else H=G.value,z=H.number>0;var F="auto",M=J[3];if(M.type==="ordgroup"){if(M.body.length>0){var B=V9(M.body[0],"textord");F=PK0[Number(B.text)]}}else M=V9(M,"textord"),F=PK0[Number(M.text)];return{type:"genfrac",mode:Q.mode,numer:K,denom:X,continued:!1,hasBarLine:z,barSize:H,leftDelim:Y,rightDelim:W,size:F}},htmlBuilder:sy,mathmlBuilder:ry});k8({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(Z,J){var{parser:Q,funcName:K,token:X}=Z;return{type:"infix",mode:Q.mode,replaceWith:"\\\\abovefrac",size:V9(J[0],"size").value,token:X}}});k8({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=Ve0(V9(J[1],"infix").size),Y=J[2],q=U.number>0;return{type:"genfrac",mode:Q.mode,numer:X,denom:Y,continued:!1,hasBarLine:q,barSize:U,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:sy,mathmlBuilder:ry});k8({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"horizBrace",mode:Q.mode,label:K,isOver:/^\\over/.test(K),base:J[0]}},htmlBuilder:P50,mathmlBuilder:d08});k8({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[1],X=V9(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\href",url:X}))return Q.formatUnsupportedCmd("\\href");return{type:"href",mode:Q.mode,href:X,body:iJ(K)}},htmlBuilder:(Z,J)=>{var Q=R7(Z.body,J,!1);return g0.makeAnchor(Z.href,[],Q,J)},mathmlBuilder:(Z,J)=>{var Q=D1(Z.body,J);if(!(Q instanceof b6))Q=new b6("mrow",[Q]);return Q.setAttribute("href",Z.href),Q}});k8({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=V9(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\url",url:K}))return Q.formatUnsupportedCmd("\\url");var X=[];for(var U=0;U<K.length;U++){var Y=K[U];if(Y==="~")Y="\\textasciitilde";X.push({type:"textord",mode:"text",text:Y})}var q={type:"text",mode:Q.mode,font:"\\texttt",body:X};return{type:"href",mode:Q.mode,href:K,body:iJ(q)}}});k8({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(Z,J){var{parser:Q}=Z;return{type:"hbox",mode:Q.mode,body:iJ(J[0])}},htmlBuilder(Z,J){var Q=R7(Z.body,J,!1);return g0.makeFragment(Q)},mathmlBuilder(Z,J){return new z8.MathNode("mrow",y6(Z.body,J))}});k8({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,token:X}=Z,U=V9(J[0],"raw").string,Y=J[1];if(Q.settings.strict)Q.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var q,W={};switch(K){case"\\htmlClass":W.class=U,q={command:"\\htmlClass",class:U};break;case"\\htmlId":W.id=U,q={command:"\\htmlId",id:U};break;case"\\htmlStyle":W.style=U,q={command:"\\htmlStyle",style:U};break;case"\\htmlData":{var G=U.split(",");for(var z=0;z<G.length;z++){var H=G[z],F=H.indexOf("=");if(F<0)throw new B8("\\htmlData key/value '"+H+"' missing equals sign");var M=H.slice(0,F),B=H.slice(F+1);W["data-"+M.trim()]=B}q={command:"\\htmlData",attributes:W};break}default:throw Error("Unrecognized html command")}if(!Q.settings.isTrusted(q))return Q.formatUnsupportedCmd(K);return{type:"html",mode:Q.mode,attributes:W,body:iJ(Y)}},htmlBuilder:(Z,J)=>{var Q=R7(Z.body,J,!1),K=["enclosing"];if(Z.attributes.class)K.push(...Z.attributes.class.trim().split(/\s+/));var X=g0.makeSpan(K,Q,J);for(var U in Z.attributes)if(U!=="class"&&Z.attributes.hasOwnProperty(U))X.setAttribute(U,Z.attributes[U]);return X},mathmlBuilder:(Z,J)=>{return D1(Z.body,J)}});k8({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"htmlmathml",mode:Q.mode,html:iJ(J[0]),mathml:iJ(J[1])}},htmlBuilder:(Z,J)=>{var Q=R7(Z.html,J,!1);return g0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{return D1(Z.mathml,J)}});k8({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(Z,J,Q)=>{var{parser:K}=Z,X={number:0,unit:"em"},U={number:0.9,unit:"em"},Y={number:0,unit:"em"},q="";if(Q[0]){var W=V9(Q[0],"raw").string,G=W.split(",");for(var z=0;z<G.length;z++){var H=G[z].split("=");if(H.length===2){var F=H[1].trim();switch(H[0].trim()){case"alt":q=F;break;case"width":X=Ey(F);break;case"height":U=Ey(F);break;case"totalheight":Y=Ey(F);break;default:throw new B8("Invalid key: '"+H[0]+"' in \\includegraphics.")}}}}var M=V9(J[0],"url").url;if(q==="")q=M,q=q.replace(/^.*[\\/]/,""),q=q.substring(0,q.lastIndexOf("."));if(!K.settings.isTrusted({command:"\\includegraphics",url:M}))return K.formatUnsupportedCmd("\\includegraphics");return{type:"includegraphics",mode:K.mode,alt:q,width:X,height:U,totalheight:Y,src:M}},htmlBuilder:(Z,J)=>{var Q=SJ(Z.height,J),K=0;if(Z.totalheight.number>0)K=SJ(Z.totalheight,J)-Q;var X=0;if(Z.width.number>0)X=SJ(Z.width,J);var U={height:V8(Q+K)};if(X>0)U.width=V8(X);if(K>0)U.verticalAlign=V8(-K);var Y=new dK0(Z.src,Z.alt,U);return Y.height=Q,Y.depth=K,Y},mathmlBuilder:(Z,J)=>{var Q=new z8.MathNode("mglyph",[]);Q.setAttribute("alt",Z.alt);var K=SJ(Z.height,J),X=0;if(Z.totalheight.number>0)X=SJ(Z.totalheight,J)-K,Q.setAttribute("valign",V8(-X));if(Q.setAttribute("height",V8(K+X)),Z.width.number>0){var U=SJ(Z.width,J);Q.setAttribute("width",V8(U))}return Q.setAttribute("src",Z.src),Q}});k8({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=V9(J[0],"size");if(Q.settings.strict){var U=K[1]==="m",Y=X.value.unit==="mu";if(U){if(!Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" supports only mu units, "+("not "+X.value.unit+" units"));if(Q.mode!=="math")Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" works only in math mode")}else if(Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" doesn't support mu units")}return{type:"kern",mode:Q.mode,dimension:X.value}},htmlBuilder(Z,J){return g0.makeGlue(Z.dimension,J)},mathmlBuilder(Z,J){var Q=SJ(Z.dimension,J);return new z8.SpaceNode(Q)}});k8({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"lap",mode:Q.mode,alignment:K.slice(5),body:X}},htmlBuilder:(Z,J)=>{var Q;if(Z.alignment==="clap")Q=g0.makeSpan([],[XZ(Z.body,J)]),Q=g0.makeSpan(["inner"],[Q],J);else Q=g0.makeSpan(["inner"],[XZ(Z.body,J)]);var K=g0.makeSpan(["fix"],[]),X=g0.makeSpan([Z.alignment],[Q,K],J),U=g0.makeSpan(["strut"]);if(U.style.height=V8(X.height+X.depth),X.depth)U.style.verticalAlign=V8(-X.depth);return X.children.unshift(U),X=g0.makeSpan(["thinbox"],[X],J),g0.makeSpan(["mord","vbox"],[X],J)},mathmlBuilder:(Z,J)=>{var Q=new z8.MathNode("mpadded",[hZ(Z.body,J)]);if(Z.alignment!=="rlap"){var K=Z.alignment==="llap"?"-1":"-0.5";Q.setAttribute("lspace",K+"width")}return Q.setAttribute("width","0px"),Q}});k8({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){var{funcName:Q,parser:K}=Z,X=K.mode;K.switchMode("math");var U=Q==="\\("?"\\)":"$",Y=K.parseExpression(!1,U);return K.expect(U),K.switchMode(X),{type:"styling",mode:K.mode,style:"text",body:Y}}});k8({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){throw new B8("Mismatched "+Z.funcName)}});k8({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"mathchoice",mode:Q.mode,display:iJ(J[0]),text:iJ(J[1]),script:iJ(J[2]),scriptscript:iJ(J[3])}},htmlBuilder:(Z,J)=>{var Q=CK0(Z,J),K=R7(Q,J,!1);return g0.makeFragment(K)},mathmlBuilder:(Z,J)=>{var Q=CK0(Z,J);return D1(Q,J)}});C50=["\\smallint"],i08={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};k8({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=K;if(X.length===1)X=i08[X];return{type:"op",mode:Q.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:X}},htmlBuilder:nH,mathmlBuilder:K3});k8({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"op",mode:Q.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:iJ(K)}},htmlBuilder:nH,mathmlBuilder:K3});s08={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};k8({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:nH,mathmlBuilder:K3});k8({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:nH,mathmlBuilder:K3});k8({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=Q;if(K.length===1)K=s08[K];return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:K}},htmlBuilder:nH,mathmlBuilder:K3});k8({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"operatorname",mode:Q.mode,body:iJ(X),alwaysHandleSupSub:K==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:S50,mathmlBuilder:r08});G0("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");LG({type:"ordgroup",htmlBuilder(Z,J){if(Z.semisimple)return g0.makeFragment(R7(Z.body,J,!1));return g0.makeSpan(["mord"],R7(Z.body,J,!0),J)},mathmlBuilder(Z,J){return D1(Z.body,J,!0)}});k8({type:"overline",names:["\\overline"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z,K=J[0];return{type:"overline",mode:Q.mode,body:K}},htmlBuilder(Z,J){var Q=XZ(Z.body,J.havingCrampedStyle()),K=g0.makeLineSpan("overline-line",J),X=J.fontMetrics().defaultRuleThickness,U=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q},{type:"kern",size:3*X},{type:"elem",elem:K},{type:"kern",size:X}]},J);return g0.makeSpan(["mord","overline"],[U],J)},mathmlBuilder(Z,J){var Q=new z8.MathNode("mo",[new z8.TextNode("")]);Q.setAttribute("stretchy","true");var K=new z8.MathNode("mover",[hZ(Z.body,J),Q]);return K.setAttribute("accent","true"),K}});k8({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"phantom",mode:Q.mode,body:iJ(K)}},htmlBuilder:(Z,J)=>{var Q=R7(Z.body,J.withPhantom(),!1);return g0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{var Q=y6(Z.body,J);return new z8.MathNode("mphantom",Q)}});k8({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"hphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=g0.makeSpan([],[XZ(Z.body,J.withPhantom())]);if(Q.height=0,Q.depth=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0,Q.children[K].depth=0;return Q=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J),g0.makeSpan(["mord"],[Q],J)},mathmlBuilder:(Z,J)=>{var Q=y6(iJ(Z.body),J),K=new z8.MathNode("mphantom",Q),X=new z8.MathNode("mpadded",[K]);return X.setAttribute("height","0px"),X.setAttribute("depth","0px"),X}});k8({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"vphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=g0.makeSpan(["inner"],[XZ(Z.body,J.withPhantom())]),K=g0.makeSpan(["fix"],[]);return g0.makeSpan(["mord","rlap"],[Q,K],J)},mathmlBuilder:(Z,J)=>{var Q=y6(iJ(Z.body),J),K=new z8.MathNode("mphantom",Q),X=new z8.MathNode("mpadded",[K]);return X.setAttribute("width","0px"),X}});k8({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=V9(J[0],"size").value,X=J[1];return{type:"raisebox",mode:Q.mode,dy:K,body:X}},htmlBuilder(Z,J){var Q=XZ(Z.body,J),K=SJ(Z.dy,J);return g0.makeVList({positionType:"shift",positionData:-K,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){var Q=new z8.MathNode("mpadded",[hZ(Z.body,J)]),K=Z.dy.number+Z.dy.unit;return Q.setAttribute("voffset",K),Q}});k8({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(Z){var{parser:J}=Z;return{type:"internal",mode:J.mode}}});k8({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(Z,J,Q){var{parser:K}=Z,X=Q[0],U=V9(J[0],"size"),Y=V9(J[1],"size");return{type:"rule",mode:K.mode,shift:X&&V9(X,"size").value,width:U.value,height:Y.value}},htmlBuilder(Z,J){var Q=g0.makeSpan(["mord","rule"],[],J),K=SJ(Z.width,J),X=SJ(Z.height,J),U=Z.shift?SJ(Z.shift,J):0;return Q.style.borderRightWidth=V8(K),Q.style.borderTopWidth=V8(X),Q.style.bottom=V8(U),Q.width=K,Q.height=X+U,Q.depth=-U,Q.maxFontSize=X*1.125*J.sizeMultiplier,Q},mathmlBuilder(Z,J){var Q=SJ(Z.width,J),K=SJ(Z.height,J),X=Z.shift?SJ(Z.shift,J):0,U=J.color&&J.getColor()||"black",Y=new z8.MathNode("mspace");Y.setAttribute("mathbackground",U),Y.setAttribute("width",V8(Q)),Y.setAttribute("height",V8(K));var q=new z8.MathNode("mpadded",[Y]);if(X>=0)q.setAttribute("height",V8(X));else q.setAttribute("height",V8(X)),q.setAttribute("depth",V8(-X));return q.setAttribute("voffset",V8(X)),q}});SK0=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];k8({type:"sizing",names:SK0,props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{breakOnTokenText:Q,funcName:K,parser:X}=Z,U=X.parseExpression(!1,Q);return{type:"sizing",mode:X.mode,size:SK0.indexOf(K)+1,body:U}},htmlBuilder:n08,mathmlBuilder:(Z,J)=>{var Q=J.havingSize(Z.size),K=y6(Z.body,Q),X=new z8.MathNode("mstyle",K);return X.setAttribute("mathsize",V8(Q.sizeMultiplier)),X}});k8({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(Z,J,Q)=>{var{parser:K}=Z,X=!1,U=!1,Y=Q[0]&&V9(Q[0],"ordgroup");if(Y){var q="";for(var W=0;W<Y.body.length;++W){var G=Y.body[W];if(q=G.text,q==="t")X=!0;else if(q==="b")U=!0;else{X=!1,U=!1;break}}}else X=!0,U=!0;var z=J[0];return{type:"smash",mode:K.mode,body:z,smashHeight:X,smashDepth:U}},htmlBuilder:(Z,J)=>{var Q=g0.makeSpan([],[XZ(Z.body,J)]);if(!Z.smashHeight&&!Z.smashDepth)return Q;if(Z.smashHeight){if(Q.height=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0}if(Z.smashDepth){if(Q.depth=0,Q.children)for(var X=0;X<Q.children.length;X++)Q.children[X].depth=0}var U=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J);return g0.makeSpan(["mord"],[U],J)},mathmlBuilder:(Z,J)=>{var Q=new z8.MathNode("mpadded",[hZ(Z.body,J)]);if(Z.smashHeight)Q.setAttribute("height","0px");if(Z.smashDepth)Q.setAttribute("depth","0px");return Q}});k8({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K}=Z,X=Q[0],U=J[0];return{type:"sqrt",mode:K.mode,body:U,index:X}},htmlBuilder(Z,J){var Q=XZ(Z.body,J.havingCrampedStyle());if(Q.height===0)Q.height=J.fontMetrics().xHeight;Q=g0.wrapFragment(Q,J);var K=J.fontMetrics(),X=K.defaultRuleThickness,U=X;if(J.style.id<X9.TEXT.id)U=J.fontMetrics().xHeight;var Y=X+U/4,q=Q.height+Q.depth+Y+X,{span:W,ruleWidth:G,advanceWidth:z}=sU.sqrtImage(q,J),H=W.height-G;if(H>Q.height+Q.depth+Y)Y=(Y+H-Q.height-Q.depth)/2;var F=W.height-Q.height-Y-G;Q.style.paddingLeft=V8(z);var M=g0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q,wrapperClasses:["svg-align"]},{type:"kern",size:-(Q.height+F)},{type:"elem",elem:W},{type:"kern",size:G}]},J);if(!Z.index)return g0.makeSpan(["mord","sqrt"],[M],J);else{var B=J.havingStyle(X9.SCRIPTSCRIPT),O=XZ(Z.index,B,J),R=0.6*(M.height-M.depth),D=g0.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:O}]},J),L=g0.makeSpan(["root"],[D]);return g0.makeSpan(["mord","sqrt"],[L,M],J)}},mathmlBuilder(Z,J){var{body:Q,index:K}=Z;return K?new z8.MathNode("mroot",[hZ(Q,J),hZ(K,J)]):new z8.MathNode("msqrt",[hZ(Q,J)])}});TK0={display:X9.DISPLAY,text:X9.TEXT,script:X9.SCRIPT,scriptscript:X9.SCRIPTSCRIPT};k8({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z,J){var{breakOnTokenText:Q,funcName:K,parser:X}=Z,U=X.parseExpression(!0,Q),Y=K.slice(1,K.length-5);return{type:"styling",mode:X.mode,style:Y,body:U}},htmlBuilder(Z,J){var Q=TK0[Z.style],K=J.havingStyle(Q).withFont("");return T50(Z.body,K,J)},mathmlBuilder(Z,J){var Q=TK0[Z.style],K=J.havingStyle(Q),X=y6(Z.body,K),U=new z8.MathNode("mstyle",X),Y={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},q=Y[Z.style];return U.setAttribute("scriptlevel",q[0]),U.setAttribute("displaystyle",q[1]),U}});LG({type:"supsub",htmlBuilder(Z,J){var Q=a08(Z,J);if(Q)return Q(Z,J);var{base:K,sup:X,sub:U}=Z,Y=XZ(K,J),q,W,G=J.fontMetrics(),z=0,H=0,F=K&&HZ.isCharacterBox(K);if(X){var M=J.havingStyle(J.style.sup());if(q=XZ(X,M,J),!F)z=Y.height-M.fontMetrics().supDrop*M.sizeMultiplier/J.sizeMultiplier}if(U){var B=J.havingStyle(J.style.sub());if(W=XZ(U,B,J),!F)H=Y.depth+B.fontMetrics().subDrop*B.sizeMultiplier/J.sizeMultiplier}var O;if(J.style===X9.DISPLAY)O=G.sup1;else if(J.style.cramped)O=G.sup3;else O=G.sup2;var R=J.sizeMultiplier,D=V8(0.5/G.ptPerEm/R),L=null;if(W){var A=Z.base&&Z.base.type==="op"&&Z.base.name&&(Z.base.name==="\\oiint"||Z.base.name==="\\oiiint");if(Y instanceof j4||A)L=V8(-Y.italic)}var V;if(q&&W){z=Math.max(z,O,q.depth+0.25*G.xHeight),H=Math.max(H,G.sub2);var N=G.defaultRuleThickness,E=4*N;if(z-q.depth-(W.height-H)<E){H=E-(z-q.depth)+W.height;var j=0.8*G.xHeight-(z-q.depth);if(j>0)z+=j,H-=j}var C=[{type:"elem",elem:W,shift:H,marginRight:D,marginLeft:L},{type:"elem",elem:q,shift:-z,marginRight:D}];V=g0.makeVList({positionType:"individualShift",children:C},J)}else if(W){H=Math.max(H,G.sub1,W.height-0.8*G.xHeight);var $=[{type:"elem",elem:W,marginLeft:L,marginRight:D}];V=g0.makeVList({positionType:"shift",positionData:H,children:$},J)}else if(q)z=Math.max(z,O,q.depth+0.25*G.xHeight),V=g0.makeVList({positionType:"shift",positionData:-z,children:[{type:"elem",elem:q,marginRight:D}]},J);else throw Error("supsub must have either sup or sub.");var k=wy(Y,"right")||"mord";return g0.makeSpan([k],[Y,g0.makeSpan(["msupsub"],[V])],J)},mathmlBuilder(Z,J){var Q=!1,K,X;if(Z.base&&Z.base.type==="horizBrace"){if(X=!!Z.sup,X===Z.base.isOver)Q=!0,K=Z.base.isOver}if(Z.base&&(Z.base.type==="op"||Z.base.type==="operatorname"))Z.base.parentIsSupSub=!0;var U=[hZ(Z.base,J)];if(Z.sub)U.push(hZ(Z.sub,J));if(Z.sup)U.push(hZ(Z.sup,J));var Y;if(Q)Y=K?"mover":"munder";else if(!Z.sub){var q=Z.base;if(q&&q.type==="op"&&q.limits&&(J.style===X9.DISPLAY||q.alwaysHandleSupSub))Y="mover";else if(q&&q.type==="operatorname"&&q.alwaysHandleSupSub&&(q.limits||J.style===X9.DISPLAY))Y="mover";else Y="msup"}else if(!Z.sup){var W=Z.base;if(W&&W.type==="op"&&W.limits&&(J.style===X9.DISPLAY||W.alwaysHandleSupSub))Y="munder";else if(W&&W.type==="operatorname"&&W.alwaysHandleSupSub&&(W.limits||J.style===X9.DISPLAY))Y="munder";else Y="msub"}else{var G=Z.base;if(G&&G.type==="op"&&G.limits&&J.style===X9.DISPLAY)Y="munderover";else if(G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(J.style===X9.DISPLAY||G.limits))Y="munderover";else Y="msubsup"}return new z8.MathNode(Y,U)}});LG({type:"atom",htmlBuilder(Z,J){return g0.mathsym(Z.text,Z.mode,J,["m"+Z.family])},mathmlBuilder(Z,J){var Q=new z8.MathNode("mo",[YK(Z.text,Z.mode)]);if(Z.family==="bin"){var K=my(Z,J);if(K==="bold-italic")Q.setAttribute("mathvariant",K)}else if(Z.family==="punct")Q.setAttribute("separator","true");else if(Z.family==="open"||Z.family==="close")Q.setAttribute("stretchy","false");return Q}});w50={mi:"italic",mn:"normal",mtext:"normal"};LG({type:"mathord",htmlBuilder(Z,J){return g0.makeOrd(Z,J,"mathord")},mathmlBuilder(Z,J){var Q=new z8.MathNode("mi",[YK(Z.text,Z.mode,J)]),K=my(Z,J)||"italic";if(K!==w50[Q.type])Q.setAttribute("mathvariant",K);return Q}});LG({type:"textord",htmlBuilder(Z,J){return g0.makeOrd(Z,J,"textord")},mathmlBuilder(Z,J){var Q=YK(Z.text,Z.mode,J),K=my(Z,J)||"normal",X;if(Z.mode==="text")X=new z8.MathNode("mtext",[Q]);else if(/[0-9]/.test(Z.text))X=new z8.MathNode("mn",[Q]);else if(Z.text==="\\prime")X=new z8.MathNode("mo",[Q]);else X=new z8.MathNode("mi",[Q]);if(K!==w50[X.type])X.setAttribute("mathvariant",K);return X}});Vy={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Py={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};LG({type:"spacing",htmlBuilder(Z,J){if(Py.hasOwnProperty(Z.text)){var Q=Py[Z.text].className||"";if(Z.mode==="text"){var K=g0.makeOrd(Z,J,"textord");return K.classes.push(Q),K}else return g0.makeSpan(["mspace",Q],[g0.mathsym(Z.text,Z.mode,J)],J)}else if(Vy.hasOwnProperty(Z.text))return g0.makeSpan(["mspace",Vy[Z.text]],[],J);else throw new B8('Unknown type of space "'+Z.text+'"')},mathmlBuilder(Z,J){var Q;if(Py.hasOwnProperty(Z.text))Q=new z8.MathNode("mtext",[new z8.TextNode("")]);else if(Vy.hasOwnProperty(Z.text))return new z8.MathNode("mspace");else throw new B8('Unknown type of space "'+Z.text+'"');return Q}});LG({type:"tag",mathmlBuilder(Z,J){var Q=new z8.MathNode("mtable",[new z8.MathNode("mtr",[wK0(),new z8.MathNode("mtd",[D1(Z.body,J)]),wK0(),new z8.MathNode("mtd",[D1(Z.tag,J)])])]);return Q.setAttribute("width","100%"),Q}});$K0={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},kK0={"\\textbf":"textbf","\\textmd":"textmd"},o08={"\\textit":"textit","\\textup":"textup"};k8({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"text",mode:Q.mode,body:iJ(X),font:K}},htmlBuilder(Z,J){var Q=_K0(Z,J),K=R7(Z.body,Q,!0);return g0.makeSpan(["mord","text"],K,Q)},mathmlBuilder(Z,J){var Q=_K0(Z,J);return D1(Z.body,Q)}});k8({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"underline",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=XZ(Z.body,J),K=g0.makeLineSpan("underline-line",J),X=J.fontMetrics().defaultRuleThickness,U=g0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"kern",size:X},{type:"elem",elem:K},{type:"kern",size:3*X},{type:"elem",elem:Q}]},J);return g0.makeSpan(["mord","underline"],[U],J)},mathmlBuilder(Z,J){var Q=new z8.MathNode("mo",[new z8.TextNode("")]);Q.setAttribute("stretchy","true");var K=new z8.MathNode("munder",[hZ(Z.body,J),Q]);return K.setAttribute("accentunder","true"),K}});k8({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"vcenter",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=XZ(Z.body,J),K=J.fontMetrics().axisHeight,X=0.5*(Q.height-K-(Q.depth+K));return g0.makeVList({positionType:"shift",positionData:X,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){return new z8.MathNode("mpadded",[hZ(Z.body,J)],["vcenter"])}});k8({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(Z,J,Q){throw new B8("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(Z,J){var Q=fK0(Z),K=[],X=J.havingStyle(J.style.text());for(var U=0;U<Q.length;U++){var Y=Q[U];if(Y==="~")Y="\\textasciitilde";K.push(g0.makeSymbol(Y,"Typewriter-Regular",Z.mode,X,["mord","texttt"]))}return g0.makeSpan(["mord","text"].concat(X.sizingClasses(J)),g0.tryCombineChars(K),X)},mathmlBuilder(Z,J){var Q=new z8.TextNode(fK0(Z)),K=new z8.MathNode("mtext",[Q]);return K.setAttribute("mathvariant","monospace"),K}});O1=oK0,Z88="("+t08+")"+$50+"*",Q88=new RegExp(fy+"+$"),K88="("+$50+"+)|"+(J88+"|")+"([!-\\[\\]---]"+(fy+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(fy+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Z88)+("|"+e08+")");X88=I50;G0("\\noexpand",function(Z){var J=Z.popToken();if(Z.isExpandable(J.text))J.noexpand=!0,J.treatAsRelax=!0;return{tokens:[J],numArgs:0}});G0("\\expandafter",function(Z){var J=Z.popToken();return Z.expandOnce(!0),{tokens:[J],numArgs:0}});G0("\\@firstoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[0],numArgs:0}});G0("\\@secondoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[1],numArgs:0}});G0("\\@ifnextchar",function(Z){var J=Z.consumeArgs(3);Z.consumeSpaces();var Q=Z.future();if(J[0].length===1&&J[0][0].text===Q.text)return{tokens:J[1],numArgs:0};else return{tokens:J[2],numArgs:0}});G0("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G0("\\TextOrMath",function(Z){var J=Z.consumeArgs(2);if(Z.mode==="text")return{tokens:J[0],numArgs:0};else return{tokens:J[1],numArgs:0}});vK0={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G0("\\char",function(Z){var J=Z.popToken(),Q,K="";if(J.text==="'")Q=8,J=Z.popToken();else if(J.text==='"')Q=16,J=Z.popToken();else if(J.text==="`")if(J=Z.popToken(),J.text[0]==="\\")K=J.text.charCodeAt(1);else if(J.text==="EOF")throw new B8("\\char` missing argument");else K=J.text.charCodeAt(0);else Q=10;if(Q){if(K=vK0[J.text],K==null||K>=Q)throw new B8("Invalid base-"+Q+" digit "+J.text);var X;while((X=vK0[Z.future().text])!=null&&X<Q)K*=Q,K+=X,Z.popToken()}return"\\@char{"+K+"}"});G0("\\newcommand",(Z)=>ny(Z,!1,!0,!1));G0("\\renewcommand",(Z)=>ny(Z,!0,!1,!1));G0("\\providecommand",(Z)=>ny(Z,!0,!0,!0));G0("\\message",(Z)=>{var J=Z.consumeArgs(1)[0];return console.log(J.reverse().map((Q)=>Q.text).join("")),""});G0("\\errmessage",(Z)=>{var J=Z.consumeArgs(1)[0];return console.error(J.reverse().map((Q)=>Q.text).join("")),""});G0("\\show",(Z)=>{var J=Z.popToken(),Q=J.text;return console.log(J,Z.macros.get(Q),O1[Q],lZ.math[Q],lZ.text[Q]),""});G0("\\bgroup","{");G0("\\egroup","}");G0("~","\\nobreakspace");G0("\\lq","`");G0("\\rq","'");G0("\\aa","\\r a");G0("\\AA","\\r A");G0("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G0("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G0("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G0("","\\mathscr{B}");G0("","\\mathscr{E}");G0("","\\mathscr{F}");G0("","\\mathscr{H}");G0("","\\mathscr{I}");G0("","\\mathscr{L}");G0("","\\mathscr{M}");G0("","\\mathscr{R}");G0("","\\mathfrak{C}");G0("","\\mathfrak{H}");G0("","\\mathfrak{Z}");G0("\\Bbbk","\\Bbb{k}");G0("","\\cdotp");G0("\\llap","\\mathllap{\\textrm{#1}}");G0("\\rlap","\\mathrlap{\\textrm{#1}}");G0("\\clap","\\mathclap{\\textrm{#1}}");G0("\\mathstrut","\\vphantom{(}");G0("\\underbar","\\underline{\\text{#1}}");G0("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G0("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G0("\\ne","\\neq");G0("","\\neq");G0("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}"+"{\\mathrel{\\char`}}");G0("","\\notin");G0("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}"+"}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G0("","\\perp");G0("","\\mathclose{!\\mkern-0.8mu!}");G0("","\\notni");G0("","\\ulcorner");G0("","\\urcorner");G0("","\\llcorner");G0("","\\lrcorner");G0("","\\copyright");G0("","\\textregistered");G0("","\\textregistered");G0("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G0("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G0("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G0("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G0("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G0("","\\vdots");G0("\\varGamma","\\mathit{\\Gamma}");G0("\\varDelta","\\mathit{\\Delta}");G0("\\varTheta","\\mathit{\\Theta}");G0("\\varLambda","\\mathit{\\Lambda}");G0("\\varXi","\\mathit{\\Xi}");G0("\\varPi","\\mathit{\\Pi}");G0("\\varSigma","\\mathit{\\Sigma}");G0("\\varUpsilon","\\mathit{\\Upsilon}");G0("\\varPhi","\\mathit{\\Phi}");G0("\\varPsi","\\mathit{\\Psi}");G0("\\varOmega","\\mathit{\\Omega}");G0("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G0("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G0("\\boxed","\\fbox{$\\displaystyle{#1}$}");G0("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G0("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G0("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G0("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G0("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");xK0={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G0("\\dots",function(Z){var J="\\dotso",Q=Z.expandAfterFuture().text;if(Q in xK0)J=xK0[Q];else if(Q.slice(0,4)==="\\not")J="\\dotsb";else if(Q in lZ.math){if(["bin","rel"].includes(lZ.math[Q].group))J="\\dotsb"}return J});ay={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G0("\\dotso",function(Z){var J=Z.future().text;if(J in ay)return"\\ldots\\,";else return"\\ldots"});G0("\\dotsc",function(Z){var J=Z.future().text;if(J in ay&&J!==",")return"\\ldots\\,";else return"\\ldots"});G0("\\cdots",function(Z){var J=Z.future().text;if(J in ay)return"\\@cdots\\,";else return"\\@cdots"});G0("\\dotsb","\\cdots");G0("\\dotsm","\\cdots");G0("\\dotsi","\\!\\cdots");G0("\\dotsx","\\ldots\\,");G0("\\DOTSI","\\relax");G0("\\DOTSB","\\relax");G0("\\DOTSX","\\relax");G0("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G0("\\,","\\tmspace+{3mu}{.1667em}");G0("\\thinspace","\\,");G0("\\>","\\mskip{4mu}");G0("\\:","\\tmspace+{4mu}{.2222em}");G0("\\medspace","\\:");G0("\\;","\\tmspace+{5mu}{.2777em}");G0("\\thickspace","\\;");G0("\\!","\\tmspace-{3mu}{.1667em}");G0("\\negthinspace","\\!");G0("\\negmedspace","\\tmspace-{4mu}{.2222em}");G0("\\negthickspace","\\tmspace-{5mu}{.277em}");G0("\\enspace","\\kern.5em ");G0("\\enskip","\\hskip.5em\\relax");G0("\\quad","\\hskip1em\\relax");G0("\\qquad","\\hskip2em\\relax");G0("\\tag","\\@ifstar\\tag@literal\\tag@paren");G0("\\tag@paren","\\tag@literal{({#1})}");G0("\\tag@literal",(Z)=>{if(Z.macros.get("\\df@tag"))throw new B8("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G0("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G0("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G0("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G0("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G0("\\newline","\\\\\\relax");G0("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");_50=V8(WX["Main-Regular"][84][1]-0.7*WX["Main-Regular"][65][1]);G0("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+_50+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G0("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+_50+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G0("\\hspace","\\@ifstar\\@hspacer\\@hspace");G0("\\@hspace","\\hskip #1\\relax");G0("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G0("\\ordinarycolon",":");G0("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G0("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G0("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G0("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G0("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G0("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G0("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G0("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G0("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G0("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G0("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G0("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G0("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G0("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G0("","\\dblcolon");G0("","\\eqcolon");G0("","\\coloneqq");G0("","\\eqqcolon");G0("","\\Coloneqq");G0("\\ratio","\\vcentcolon");G0("\\coloncolon","\\dblcolon");G0("\\colonequals","\\coloneqq");G0("\\coloncolonequals","\\Coloneqq");G0("\\equalscolon","\\eqqcolon");G0("\\equalscoloncolon","\\Eqqcolon");G0("\\colonminus","\\coloneq");G0("\\coloncolonminus","\\Coloneq");G0("\\minuscolon","\\eqcolon");G0("\\minuscoloncolon","\\Eqcolon");G0("\\coloncolonapprox","\\Colonapprox");G0("\\coloncolonsim","\\Colonsim");G0("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G0("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G0("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G0("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G0("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G0("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G0("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G0("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G0("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G0("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G0("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G0("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G0("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G0("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G0("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G0("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G0("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G0("\\nleqq","\\html@mathml{\\@nleqq}{}");G0("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G0("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G0("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G0("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G0("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G0("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G0("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G0("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G0("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G0("\\imath","\\html@mathml{\\@imath}{}");G0("\\jmath","\\html@mathml{\\@jmath}{}");G0("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}"+"{\\mathopen{\\char`}}");G0("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}"+"{\\mathclose{\\char`}}");G0("","\\llbracket");G0("","\\rrbracket");G0("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}"+"{\\mathopen{\\char`}}");G0("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}"+"{\\mathclose{\\char`}}");G0("","\\lBrace");G0("","\\rBrace");G0("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}"+"{\\char`}}");G0("","\\minuso");G0("\\darr","\\downarrow");G0("\\dArr","\\Downarrow");G0("\\Darr","\\Downarrow");G0("\\lang","\\langle");G0("\\rang","\\rangle");G0("\\uarr","\\uparrow");G0("\\uArr","\\Uparrow");G0("\\Uarr","\\Uparrow");G0("\\N","\\mathbb{N}");G0("\\R","\\mathbb{R}");G0("\\Z","\\mathbb{Z}");G0("\\alef","\\aleph");G0("\\alefsym","\\aleph");G0("\\Alpha","\\mathrm{A}");G0("\\Beta","\\mathrm{B}");G0("\\bull","\\bullet");G0("\\Chi","\\mathrm{X}");G0("\\clubs","\\clubsuit");G0("\\cnums","\\mathbb{C}");G0("\\Complex","\\mathbb{C}");G0("\\Dagger","\\ddagger");G0("\\diamonds","\\diamondsuit");G0("\\empty","\\emptyset");G0("\\Epsilon","\\mathrm{E}");G0("\\Eta","\\mathrm{H}");G0("\\exist","\\exists");G0("\\harr","\\leftrightarrow");G0("\\hArr","\\Leftrightarrow");G0("\\Harr","\\Leftrightarrow");G0("\\hearts","\\heartsuit");G0("\\image","\\Im");G0("\\infin","\\infty");G0("\\Iota","\\mathrm{I}");G0("\\isin","\\in");G0("\\Kappa","\\mathrm{K}");G0("\\larr","\\leftarrow");G0("\\lArr","\\Leftarrow");G0("\\Larr","\\Leftarrow");G0("\\lrarr","\\leftrightarrow");G0("\\lrArr","\\Leftrightarrow");G0("\\Lrarr","\\Leftrightarrow");G0("\\Mu","\\mathrm{M}");G0("\\natnums","\\mathbb{N}");G0("\\Nu","\\mathrm{N}");G0("\\Omicron","\\mathrm{O}");G0("\\plusmn","\\pm");G0("\\rarr","\\rightarrow");G0("\\rArr","\\Rightarrow");G0("\\Rarr","\\Rightarrow");G0("\\real","\\Re");G0("\\reals","\\mathbb{R}");G0("\\Reals","\\mathbb{R}");G0("\\Rho","\\mathrm{P}");G0("\\sdot","\\cdot");G0("\\sect","\\S");G0("\\spades","\\spadesuit");G0("\\sub","\\subset");G0("\\sube","\\subseteq");G0("\\supe","\\supseteq");G0("\\Tau","\\mathrm{T}");G0("\\thetasym","\\vartheta");G0("\\weierp","\\wp");G0("\\Zeta","\\mathrm{Z}");G0("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G0("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G0("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G0("\\bra","\\mathinner{\\langle{#1}|}");G0("\\ket","\\mathinner{|{#1}\\rangle}");G0("\\braket","\\mathinner{\\langle{#1}\\rangle}");G0("\\Bra","\\left\\langle#1\\right|");G0("\\Ket","\\left|#1\\right\\rangle");G0("\\bra@ket",f50(!1));G0("\\bra@set",f50(!0));G0("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G0("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G0("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G0("\\angln","{\\angl n}");G0("\\blue","\\textcolor{##6495ed}{#1}");G0("\\orange","\\textcolor{##ffa500}{#1}");G0("\\pink","\\textcolor{##ff00af}{#1}");G0("\\red","\\textcolor{##df0030}{#1}");G0("\\green","\\textcolor{##28ae7b}{#1}");G0("\\gray","\\textcolor{gray}{#1}");G0("\\purple","\\textcolor{##9d38bd}{#1}");G0("\\blueA","\\textcolor{##ccfaff}{#1}");G0("\\blueB","\\textcolor{##80f6ff}{#1}");G0("\\blueC","\\textcolor{##63d9ea}{#1}");G0("\\blueD","\\textcolor{##11accd}{#1}");G0("\\blueE","\\textcolor{##0c7f99}{#1}");G0("\\tealA","\\textcolor{##94fff5}{#1}");G0("\\tealB","\\textcolor{##26edd5}{#1}");G0("\\tealC","\\textcolor{##01d1c1}{#1}");G0("\\tealD","\\textcolor{##01a995}{#1}");G0("\\tealE","\\textcolor{##208170}{#1}");G0("\\greenA","\\textcolor{##b6ffb0}{#1}");G0("\\greenB","\\textcolor{##8af281}{#1}");G0("\\greenC","\\textcolor{##74cf70}{#1}");G0("\\greenD","\\textcolor{##1fab54}{#1}");G0("\\greenE","\\textcolor{##0d923f}{#1}");G0("\\goldA","\\textcolor{##ffd0a9}{#1}");G0("\\goldB","\\textcolor{##ffbb71}{#1}");G0("\\goldC","\\textcolor{##ff9c39}{#1}");G0("\\goldD","\\textcolor{##e07d10}{#1}");G0("\\goldE","\\textcolor{##a75a05}{#1}");G0("\\redA","\\textcolor{##fca9a9}{#1}");G0("\\redB","\\textcolor{##ff8482}{#1}");G0("\\redC","\\textcolor{##f9685d}{#1}");G0("\\redD","\\textcolor{##e84d39}{#1}");G0("\\redE","\\textcolor{##bc2612}{#1}");G0("\\maroonA","\\textcolor{##ffbde0}{#1}");G0("\\maroonB","\\textcolor{##ff92c6}{#1}");G0("\\maroonC","\\textcolor{##ed5fa6}{#1}");G0("\\maroonD","\\textcolor{##ca337c}{#1}");G0("\\maroonE","\\textcolor{##9e034e}{#1}");G0("\\purpleA","\\textcolor{##ddd7ff}{#1}");G0("\\purpleB","\\textcolor{##c6b9fc}{#1}");G0("\\purpleC","\\textcolor{##aa87ff}{#1}");G0("\\purpleD","\\textcolor{##7854ab}{#1}");G0("\\purpleE","\\textcolor{##543b78}{#1}");G0("\\mintA","\\textcolor{##f5f9e8}{#1}");G0("\\mintB","\\textcolor{##edf2df}{#1}");G0("\\mintC","\\textcolor{##e0e5cc}{#1}");G0("\\grayA","\\textcolor{##f6f7f7}{#1}");G0("\\grayB","\\textcolor{##f0f1f2}{#1}");G0("\\grayC","\\textcolor{##e3e5e6}{#1}");G0("\\grayD","\\textcolor{##d6d8da}{#1}");G0("\\grayE","\\textcolor{##babec2}{#1}");G0("\\grayF","\\textcolor{##888d93}{#1}");G0("\\grayG","\\textcolor{##626569}{#1}");G0("\\grayH","\\textcolor{##3b3e40}{#1}");G0("\\grayI","\\textcolor{##21242c}{#1}");G0("\\kaBlue","\\textcolor{##314453}{#1}");G0("\\kaGreen","\\textcolor{##71B307}{#1}");v50={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};bK0=/^[]/,eE=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"","":"","":"","":"","":"","":""}),jy={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:"\\\"",math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},yK0={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"k","":"l","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"L","":"L","":"L","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};DV.endOfExpression=["}","\\endgroup","\\end","\\right","&"];if(typeof document<"u"){if(document.compatMode!=="CSS1Compat")typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),ty=function(){throw new B8("KaTeX doesn't work in quirks mode.")}}g50={Span:sH,Anchor:zV,SymbolNode:j4,SvgNode:GX,PathNode:rU,LineNode:XV},U88={version:u50,render:ty,renderToString:b50,ParseError:B8,SETTINGS_SCHEMA:eR,__parse:y50,__renderToDomTree:LV,__renderToHTMLTree:m50,__setFontMetrics:uK0,__defineSymbol:g,__defineFunction:k8,__defineMacro:G0,__domTree:g50}});function UX0(){B1.addHook("beforeSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("target"))J.setAttribute("data-temp-href-target",J.getAttribute("target")??"")}),B1.addHook("afterSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("data-temp-href-target")){if(J.setAttribute("target",J.getAttribute("data-temp-href-target")??""),J.removeAttribute("data-temp-href-target"),J.getAttribute("target")==="_blank")J.setAttribute("rel","noopener")}})}var Jh,aH,Y88,Qh,I1,Y3,VV,r50,n50,ey,ZJ,PV="#ffffff",jV="#f2f2f2",eQ,q88,W88,G88,z88,H88,AG,F88,M88,B88,O88,BX,MX,a50,o50,R88,D9,U3,D88,NG,h6,NV,IG,X3,CV,t50,e50,ZX0,Kh,Xh,L9,JX0,QX0,q3,L88,l50,I88,KX0,XX0,EG,A88,N88,YX0,d50,R9,E88,V88,P88,j88,qX0,VG,UZ,C88,S88,OX,Zh,T88,w88,i50,IV,JJ,oH,$88,A1,J8,k88,_88,PZ,tU,AV,f88,v88,WX0,SV,Uh="",Yh="",qh="",Wh,S9,v9,y9,h9,m9,s9,u9,s50,x88,N0,W3,TV,wV,Gh,b88,EV,G3,$V,y88;var T9=_(()=>{M9();V4();V4();V4();V4();V4();V4();By();Jh=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,aH=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Y88=/\s*%%.*\n/gm,Qh=class extends Error{static{I(this,"UnknownDiagramError")}constructor(Z){super(Z);this.name="UnknownDiagramError"}},I1={},Y3=I(function(Z,J){Z=Z.replace(Jh,"").replace(aH,"").replace(Y88,`
`);for(let[Q,{detector:K}]of Object.entries(I1))if(K(Z,J))return Q;throw new Qh(`No diagram type detected matching given configuration for text: ${Z}`)},"detectType"),VV=I((...Z)=>{for(let{id:J,detector:Q,loader:K}of Z)r50(J,Q,K)},"registerLazyLoadedDiagrams"),r50=I((Z,J,Q)=>{if(I1[Z])Z0.warn(`Detector with key ${Z} already exists. Overwriting.`);I1[Z]={detector:J,loader:Q},Z0.debug(`Detector with key ${Z} added${Q?" with loader":""}`)},"addDetector"),n50=I((Z)=>{return I1[Z].loader},"getDiagramLoader"),ey=I((Z,J,{depth:Q=2,clobber:K=!1}={})=>{let X={depth:Q,clobber:K};if(Array.isArray(J)&&!Array.isArray(Z))return J.forEach((U)=>ey(Z,U,X)),Z;else if(Array.isArray(J)&&Array.isArray(Z))return J.forEach((U)=>{if(!Z.includes(U))Z.push(U)}),Z;if(Z===void 0||Q<=0)if(Z!==void 0&&Z!==null&&typeof Z==="object"&&typeof J==="object")return Object.assign(Z,J);else return J;if(J!==void 0&&typeof Z==="object"&&typeof J==="object")Object.keys(J).forEach((U)=>{if(typeof J[U]==="object"&&(Z[U]===void 0||typeof Z[U]==="object")){if(Z[U]===void 0)Z[U]=Array.isArray(J[U])?[]:{};Z[U]=ey(Z[U],J[U],{depth:Q-1,clobber:K})}else if(K||typeof Z[U]!=="object"&&typeof J[U]!=="object")Z[U]=J[U]});return Z},"assignWithDepth"),ZJ=ey,eQ=I((Z,J)=>J?b0(Z,{s:-40,l:10}):b0(Z,{s:-40,l:-10}),"mkBorder"),q88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||b0(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||b0(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||eQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||eQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||eQ(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||eQ(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||E8(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||E8(this.tertiaryColor),this.lineColor=this.lineColor||E8(this.background),this.arrowheadColor=this.arrowheadColor||E8(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?y8(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||y8(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||E8(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||$8(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode)this.rowOdd=this.rowOdd||y8(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||y8(this.mainBkg,10);else this.rowOdd=this.rowOdd||$8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||$8(this.mainBkg,5);if(this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||b0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||b0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||b0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||b0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||b0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||b0(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||b0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||b0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||b0(this.primaryColor,{h:330}),this.darkMode)for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=y8(this["cScale"+J],75);else for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=y8(this["cScale"+J],25);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleInv"+J]=this["cScaleInv"+J]||E8(this["cScale"+J]);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)if(this.darkMode)this["cScalePeer"+J]=this["cScalePeer"+J]||$8(this["cScale"+J],10);else this["cScalePeer"+J]=this["cScalePeer"+J]||y8(this["cScale"+J],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleLabel"+J]=this["cScaleLabel"+J]||this.scaleLabelColor;let Z=this.darkMode?-4:-1;for(let J=0;J<5;J++)this["surface"+J]=this["surface"+J]||b0(this.mainBkg,{h:180,s:-15,l:Z*(5+J*3)}),this["surfacePeer"+J]=this["surfacePeer"+J]||b0(this.mainBkg,{h:180,s:-15,l:Z*(8+J*3)});if(this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||b0(this.primaryColor,{h:64}),this.fillType3=this.fillType3||b0(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||b0(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||b0(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||b0(this.primaryColor,{h:128}),this.fillType7=this.fillType7||b0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||b0(this.primaryColor,{l:-10}),this.pie5=this.pie5||b0(this.secondaryColor,{l:-10}),this.pie6=this.pie6||b0(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||b0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||b0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||b0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||b0(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||b0(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||b0(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||b0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||b0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||b0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||b0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||b0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||b0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o7(this.quadrant1Fill)?$8(this.quadrant1Fill):y8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?y8(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||b0(this.primaryColor,{h:-30}),this.git4=this.git4||b0(this.primaryColor,{h:-60}),this.git5=this.git5||b0(this.primaryColor,{h:-90}),this.git6=this.git6||b0(this.primaryColor,{h:60}),this.git7=this.git7||b0(this.primaryColor,{h:120}),this.darkMode)this.git0=$8(this.git0,25),this.git1=$8(this.git1,25),this.git2=$8(this.git2,25),this.git3=$8(this.git3,25),this.git4=$8(this.git4,25),this.git5=$8(this.git5,25),this.git6=$8(this.git6,25),this.git7=$8(this.git7,25);else this.git0=y8(this.git0,25),this.git1=y8(this.git1,25),this.git2=y8(this.git2,25),this.git3=y8(this.git3,25),this.git4=y8(this.git4,25),this.git5=y8(this.git5,25),this.git6=y8(this.git6,25),this.git7=y8(this.git7,25);this.gitInv0=this.gitInv0||E8(this.git0),this.gitInv1=this.gitInv1||E8(this.git1),this.gitInv2=this.gitInv2||E8(this.git2),this.gitInv3=this.gitInv3||E8(this.git3),this.gitInv4=this.gitInv4||E8(this.git4),this.gitInv5=this.gitInv5||E8(this.git5),this.gitInv6=this.gitInv6||E8(this.git6),this.gitInv7=this.gitInv7||E8(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},W88=I((Z)=>{let J=new q88;return J.calculate(Z),J},"getThemeVariables"),G88=class{static{I(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=$8(this.primaryColor,16),this.tertiaryColor=b0(this.primaryColor,{h:-160}),this.primaryBorderColor=E8(this.background),this.secondaryBorderColor=eQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=eQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=E8(this.primaryColor),this.secondaryTextColor=E8(this.secondaryColor),this.tertiaryTextColor=E8(this.tertiaryColor),this.lineColor=E8(this.background),this.textColor=E8(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=$8(E8("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=sQ(255,255,255,0.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=y8("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=y8(this.sectionBkgColor,10),this.taskBorderColor=sQ(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=sQ(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||$8(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||y8(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=$8(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=$8(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=$8(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=b0(this.primaryColor,{h:64}),this.fillType3=b0(this.secondaryColor,{h:64}),this.fillType4=b0(this.primaryColor,{h:-64}),this.fillType5=b0(this.secondaryColor,{h:-64}),this.fillType6=b0(this.primaryColor,{h:128}),this.fillType7=b0(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||b0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||b0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||b0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||b0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||b0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||b0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||b0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||b0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||b0(this.primaryColor,{h:330});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||E8(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScalePeer"+Z]=this["cScalePeer"+Z]||$8(this["cScale"+Z],10);for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||b0(this.mainBkg,{h:30,s:-30,l:-(-10+Z*4)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||b0(this.mainBkg,{h:30,s:-30,l:-(-7+Z*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||b0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||b0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||b0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||b0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||b0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||b0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o7(this.quadrant1Fill)?$8(this.quadrant1Fill):y8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?y8(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=$8(this.secondaryColor,20),this.git1=$8(this.pie2||this.secondaryColor,20),this.git2=$8(this.pie3||this.tertiaryColor,20),this.git3=$8(this.pie4||b0(this.primaryColor,{h:-30}),20),this.git4=$8(this.pie5||b0(this.primaryColor,{h:-60}),20),this.git5=$8(this.pie6||b0(this.primaryColor,{h:-90}),10),this.git6=$8(this.pie7||b0(this.primaryColor,{h:60}),10),this.git7=$8(this.pie8||b0(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||E8(this.git0),this.gitInv1=this.gitInv1||E8(this.git1),this.gitInv2=this.gitInv2||E8(this.git2),this.gitInv3=this.gitInv3||E8(this.git3),this.gitInv4=this.gitInv4||E8(this.git4),this.gitInv5=this.gitInv5||E8(this.git5),this.gitInv6=this.gitInv6||E8(this.git6),this.gitInv7=this.gitInv7||E8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||E8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||E8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$8(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$8(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},z88=I((Z)=>{let J=new G88;return J.calculate(Z),J},"getThemeVariables"),H88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=b0(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=b0(this.primaryColor,{h:-160}),this.primaryBorderColor=eQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=eQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=eQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=E8(this.primaryColor),this.secondaryTextColor=E8(this.secondaryColor),this.tertiaryTextColor=E8(this.tertiaryColor),this.lineColor=E8(this.background),this.textColor=E8(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=sQ(102,102,255,0.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||b0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||b0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||b0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||b0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||b0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||b0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||b0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||b0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||b0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||y8(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||y8(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=y8(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||y8(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||b0(this["cScale"+Z],{h:180});for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||b0(this.mainBkg,{h:30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||b0(this.mainBkg,{h:30,l:-(7+Z*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||E8(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||E8(this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.labelTextColor}if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=$8(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||$8(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||$8(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=b0(this.primaryColor,{h:64}),this.fillType3=b0(this.secondaryColor,{h:64}),this.fillType4=b0(this.primaryColor,{h:-64}),this.fillType5=b0(this.secondaryColor,{h:-64}),this.fillType6=b0(this.primaryColor,{h:128}),this.fillType7=b0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||b0(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||b0(this.primaryColor,{l:-10}),this.pie5=this.pie5||b0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||b0(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||b0(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||b0(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||b0(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||b0(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||b0(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||b0(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||b0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||b0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||b0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||b0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||b0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||b0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o7(this.quadrant1Fill)?$8(this.quadrant1Fill):y8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||b0(this.primaryColor,{h:-30}),this.git4=this.git4||b0(this.primaryColor,{h:-60}),this.git5=this.git5||b0(this.primaryColor,{h:-90}),this.git6=this.git6||b0(this.primaryColor,{h:60}),this.git7=this.git7||b0(this.primaryColor,{h:120}),this.darkMode)this.git0=$8(this.git0,25),this.git1=$8(this.git1,25),this.git2=$8(this.git2,25),this.git3=$8(this.git3,25),this.git4=$8(this.git4,25),this.git5=$8(this.git5,25),this.git6=$8(this.git6,25),this.git7=$8(this.git7,25);else this.git0=y8(this.git0,25),this.git1=y8(this.git1,25),this.git2=y8(this.git2,25),this.git3=y8(this.git3,25),this.git4=y8(this.git4,25),this.git5=y8(this.git5,25),this.git6=y8(this.git6,25),this.git7=y8(this.git7,25);this.gitInv0=this.gitInv0||y8(E8(this.git0),25),this.gitInv1=this.gitInv1||E8(this.git1),this.gitInv2=this.gitInv2||E8(this.git2),this.gitInv3=this.gitInv3||E8(this.git3),this.gitInv4=this.gitInv4||E8(this.git4),this.gitInv5=this.gitInv5||E8(this.git5),this.gitInv6=this.gitInv6||E8(this.git6),this.gitInv7=this.gitInv7||E8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||E8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||E8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jV}calculate(Z){if(Object.keys(this).forEach((Q)=>{if(this[Q]==="calculated")this[Q]=void 0}),typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},AG=I((Z)=>{let J=new H88;return J.calculate(Z),J},"getThemeVariables"),F88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=$8("#cde498",10),this.primaryBorderColor=eQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=eQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=eQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=E8(this.primaryColor),this.secondaryTextColor=E8(this.secondaryColor),this.tertiaryTextColor=E8(this.primaryColor),this.lineColor=E8(this.background),this.textColor=E8(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=y8(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||b0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||b0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||b0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||b0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||b0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||b0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||b0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||b0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||b0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||y8(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||y8(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=y8(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||y8(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||b0(this["cScale"+Z],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||b0(this.mainBkg,{h:30,s:-30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||b0(this.mainBkg,{h:30,s:-30,l:-(8+Z*5)});if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||$8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||$8(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=b0(this.primaryColor,{h:64}),this.fillType3=b0(this.secondaryColor,{h:64}),this.fillType4=b0(this.primaryColor,{h:-64}),this.fillType5=b0(this.secondaryColor,{h:-64}),this.fillType6=b0(this.primaryColor,{h:128}),this.fillType7=b0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||b0(this.primaryColor,{l:-30}),this.pie5=this.pie5||b0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||b0(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||b0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||b0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||b0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||b0(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||b0(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||b0(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||b0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||b0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||b0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||b0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||b0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||b0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o7(this.quadrant1Fill)?$8(this.quadrant1Fill):y8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||b0(this.primaryColor,{h:-30}),this.git4=this.git4||b0(this.primaryColor,{h:-60}),this.git5=this.git5||b0(this.primaryColor,{h:-90}),this.git6=this.git6||b0(this.primaryColor,{h:60}),this.git7=this.git7||b0(this.primaryColor,{h:120}),this.darkMode)this.git0=$8(this.git0,25),this.git1=$8(this.git1,25),this.git2=$8(this.git2,25),this.git3=$8(this.git3,25),this.git4=$8(this.git4,25),this.git5=$8(this.git5,25),this.git6=$8(this.git6,25),this.git7=$8(this.git7,25);else this.git0=y8(this.git0,25),this.git1=y8(this.git1,25),this.git2=y8(this.git2,25),this.git3=y8(this.git3,25),this.git4=y8(this.git4,25),this.git5=y8(this.git5,25),this.git6=y8(this.git6,25),this.git7=y8(this.git7,25);this.gitInv0=this.gitInv0||E8(this.git0),this.gitInv1=this.gitInv1||E8(this.git1),this.gitInv2=this.gitInv2||E8(this.git2),this.gitInv3=this.gitInv3||E8(this.git3),this.gitInv4=this.gitInv4||E8(this.git4),this.gitInv5=this.gitInv5||E8(this.git5),this.gitInv6=this.gitInv6||E8(this.git6),this.gitInv7=this.gitInv7||E8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||E8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||E8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},M88=I((Z)=>{let J=new F88;return J.calculate(Z),J},"getThemeVariables"),B88=class{static{I(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=$8(this.contrast,55),this.background="#ffffff",this.tertiaryColor=b0(this.primaryColor,{h:-160}),this.primaryBorderColor=eQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=eQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=eQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=E8(this.primaryColor),this.secondaryTextColor=E8(this.secondaryColor),this.tertiaryTextColor=E8(this.tertiaryColor),this.lineColor=E8(this.background),this.textColor=E8(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||$8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=$8(this.contrast,55),this.border2=this.contrast,this.actorBorder=$8(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||E8(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)if(this.darkMode)this["cScalePeer"+Z]=this["cScalePeer"+Z]||$8(this["cScale"+Z],10);else this["cScalePeer"+Z]=this["cScalePeer"+Z]||y8(this["cScale"+Z],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||b0(this.mainBkg,{l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||b0(this.mainBkg,{l:-(8+Z*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=$8(this.contrast,30),this.sectionBkgColor2=$8(this.contrast,30),this.taskBorderColor=y8(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=$8(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=y8(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=b0(this.primaryColor,{h:64}),this.fillType3=b0(this.secondaryColor,{h:64}),this.fillType4=b0(this.primaryColor,{h:-64}),this.fillType5=b0(this.secondaryColor,{h:-64}),this.fillType6=b0(this.primaryColor,{h:128}),this.fillType7=b0(this.secondaryColor,{h:128});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||b0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||b0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||b0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||b0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||b0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||b0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o7(this.quadrant1Fill)?$8(this.quadrant1Fill):y8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=y8(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||b0(this.primaryColor,{h:-30}),this.git4=this.pie5||b0(this.primaryColor,{h:-60}),this.git5=this.pie6||b0(this.primaryColor,{h:-90}),this.git6=this.pie7||b0(this.primaryColor,{h:60}),this.git7=this.pie8||b0(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||E8(this.git0),this.gitInv1=this.gitInv1||E8(this.git1),this.gitInv2=this.gitInv2||E8(this.git2),this.gitInv3=this.gitInv3||E8(this.git3),this.gitInv4=this.gitInv4||E8(this.git4),this.gitInv5=this.gitInv5||E8(this.git5),this.gitInv6=this.gitInv6||E8(this.git6),this.gitInv7=this.gitInv7||E8(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},O88=I((Z)=>{let J=new B88;return J.calculate(Z),J},"getThemeVariables"),BX={base:{getThemeVariables:W88},dark:{getThemeVariables:z88},default:{getThemeVariables:AG},forest:{getThemeVariables:M88},neutral:{getThemeVariables:O88}},MX={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:0.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:0.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:50000,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},a50={...MX,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:BX.default.getThemeVariables(),sequence:{...MX.sequence,messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:I(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:I(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...MX.gantt,tickInterval:void 0,useWidth:void 0},c4:{...MX.c4,useWidth:void 0,personFont:I(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...MX.flowchart,inheritDir:!1},external_personFont:I(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:I(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:I(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:I(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:I(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:I(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:I(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:I(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:I(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:I(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:I(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:I(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:I(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:I(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:I(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:I(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:I(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:I(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:I(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:I(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...MX.pie,useWidth:984},xyChart:{...MX.xyChart,useWidth:void 0},requirement:{...MX.requirement,useWidth:void 0},packet:{...MX.packet},radar:{...MX.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},o50=I((Z,J="")=>Object.keys(Z).reduce((Q,K)=>{if(Array.isArray(Z[K]))return Q;else if(typeof Z[K]==="object"&&Z[K]!==null)return[...Q,J+K,...o50(Z[K],"")];return[...Q,J+K]},[]),"keyify"),R88=new Set(o50(a50,"")),D9=a50,U3=I((Z)=>{if(Z0.debug("sanitizeDirective called with",Z),typeof Z!=="object"||Z==null)return;if(Array.isArray(Z)){Z.forEach((J)=>U3(J));return}for(let J of Object.keys(Z)){if(Z0.debug("Checking key",J),J.startsWith("__")||J.includes("proto")||J.includes("constr")||!R88.has(J)||Z[J]==null){Z0.debug("sanitize deleting key: ",J),delete Z[J];continue}if(typeof Z[J]==="object"){Z0.debug("sanitizing object",J),U3(Z[J]);continue}let Q=["themeCSS","fontFamily","altFontFamily"];for(let K of Q)if(J.includes(K))Z0.debug("sanitizing css option",J),Z[J]=D88(Z[J])}if(Z.themeVariables)for(let J of Object.keys(Z.themeVariables)){let Q=Z.themeVariables[J];if(Q?.match&&!Q.match(/^[\d "#%(),.;A-Za-z]+$/))Z.themeVariables[J]=""}Z0.debug("After sanitization",Z)},"sanitizeDirective"),D88=I((Z)=>{let J=0,Q=0;for(let K of Z){if(J<Q)return"{ /* ERROR: Unbalanced CSS */ }";if(K==="{")J++;else if(K==="}")Q++}if(J!==Q)return"{ /* ERROR: Unbalanced CSS */ }";return Z},"sanitizeCss"),NG=Object.freeze(D9),h6=ZJ({},NG),IG=[],X3=ZJ({},NG),CV=I((Z,J)=>{let Q=ZJ({},Z),K={};for(let X of J)JX0(X),K=ZJ(K,X);if(Q=ZJ(Q,K),K.theme&&K.theme in BX){let X=ZJ({},NV),U=ZJ(X.themeVariables||{},K.themeVariables);if(Q.theme&&Q.theme in BX)Q.themeVariables=BX[Q.theme].getThemeVariables(U)}return X3=Q,KX0(X3),X3},"updateCurrentConfig"),t50=I((Z)=>{if(h6=ZJ({},NG),h6=ZJ(h6,Z),Z.theme&&BX[Z.theme])h6.themeVariables=BX[Z.theme].getThemeVariables(Z.themeVariables);return CV(h6,IG),h6},"setSiteConfig"),e50=I((Z)=>{NV=ZJ({},Z)},"saveConfigFromInitialize"),ZX0=I((Z)=>{return h6=ZJ(h6,Z),CV(h6,IG),h6},"updateSiteConfig"),Kh=I(()=>{return ZJ({},h6)},"getSiteConfig"),Xh=I((Z)=>{return KX0(Z),ZJ(X3,Z),L9()},"setConfig"),L9=I(()=>{return ZJ({},X3)},"getConfig"),JX0=I((Z)=>{if(!Z)return;["secure",...h6.secure??[]].forEach((J)=>{if(Object.hasOwn(Z,J))Z0.debug(`Denied attempt to modify a secure key ${J}`,Z[J]),delete Z[J]}),Object.keys(Z).forEach((J)=>{if(J.startsWith("__"))delete Z[J]}),Object.keys(Z).forEach((J)=>{if(typeof Z[J]==="string"&&(Z[J].includes("<")||Z[J].includes(">")||Z[J].includes("url(data:")))delete Z[J];if(typeof Z[J]==="object")JX0(Z[J])})},"sanitize"),QX0=I((Z)=>{if(U3(Z),Z.fontFamily&&!Z.themeVariables?.fontFamily)Z.themeVariables={...Z.themeVariables,fontFamily:Z.fontFamily};IG.push(Z),CV(h6,IG)},"addDirective"),q3=I((Z=h6)=>{IG=[],CV(Z,IG)},"reset"),L88={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},l50={},I88=I((Z)=>{if(l50[Z])return;Z0.warn(L88[Z]),l50[Z]=!0},"issueWarning"),KX0=I((Z)=>{if(!Z)return;if(Z.lazyLoadedDiagrams||Z.loadExternalDiagramsAtStartup)I88("LAZY_LOAD_DEPRECATED")},"checkConfig"),XX0=I(()=>{let Z={};if(NV)Z=ZJ(Z,NV);for(let J of IG)Z=ZJ(Z,J);return Z},"getUserDefinedConfig"),EG=/<br\s*\/?>/gi,A88=I((Z)=>{if(!Z)return[""];return qX0(Z).replace(/\\n/g,"#br#").split("#br#")},"getRows"),N88=(()=>{let Z=!1;return()=>{if(!Z)UX0(),Z=!0}})();I(UX0,"setupDompurifyHooks");YX0=I((Z)=>{return N88(),B1.sanitize(Z)},"removeScript"),d50=I((Z,J)=>{if(J.flowchart?.htmlLabels!==!1){let Q=J.securityLevel;if(Q==="antiscript"||Q==="strict")Z=YX0(Z);else if(Q!=="loose")Z=qX0(Z),Z=Z.replace(/</g,"&lt;").replace(/>/g,"&gt;"),Z=Z.replace(/=/g,"&equals;"),Z=j88(Z)}return Z},"sanitizeMore"),R9=I((Z,J)=>{if(!Z)return Z;if(J.dompurifyConfig)Z=B1.sanitize(d50(Z,J),J.dompurifyConfig).toString();else Z=B1.sanitize(d50(Z,J),{FORBID_TAGS:["style"]}).toString();return Z},"sanitizeText"),E88=I((Z,J)=>{if(typeof Z==="string")return R9(Z,J);return Z.flat().map((Q)=>R9(Q,J))},"sanitizeTextOrArray"),V88=I((Z)=>{return EG.test(Z)},"hasBreaks"),P88=I((Z)=>{return Z.split(EG)},"splitBreaks"),j88=I((Z)=>{return Z.replace(/#br#/g,"<br/>")},"placeholderToBreak"),qX0=I((Z)=>{return Z.replace(EG,"#br#")},"breakToPlaceholder"),VG=I((Z)=>{let J="";if(Z)J=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,J=CSS.escape(J);return J},"getUrl"),UZ=I((Z)=>Z===!1||["false","null","0"].includes(String(Z).trim().toLowerCase())?!1:!0,"evaluate"),C88=I(function(...Z){let J=Z.filter((Q)=>{return!isNaN(Q)});return Math.max(...J)},"getMax"),S88=I(function(...Z){let J=Z.filter((Q)=>{return!isNaN(Q)});return Math.min(...J)},"getMin"),OX=I(function(Z){let J=Z.split(/(,)/),Q=[];for(let K=0;K<J.length;K++){let X=J[K];if(X===","&&K>0&&K+1<J.length){let U=J[K-1],Y=J[K+1];if(T88(U,Y))X=U+","+Y,K++,Q.pop()}Q.push(w88(X))}return Q.join("")},"parseGenericTypes"),Zh=I((Z,J)=>{return Math.max(0,Z.split(J).length-1)},"countOccurrence"),T88=I((Z,J)=>{let Q=Zh(Z,"~"),K=Zh(J,"~");return Q===1&&K===1},"shouldCombineSets"),w88=I((Z)=>{let J=Zh(Z,"~"),Q=!1;if(J<=1)return Z;if(J%2!==0&&Z.startsWith("~"))Z=Z.substring(1),Q=!0;let K=[...Z],X=K.indexOf("~"),U=K.lastIndexOf("~");while(X!==-1&&U!==-1&&X!==U)K[X]="<",K[U]=">",X=K.indexOf("~"),U=K.lastIndexOf("~");if(Q)K.unshift("~");return K.join("")},"processSet"),i50=I(()=>window.MathMLElement!==void 0,"isMathMLSupported"),IV=/\$\$(.*)\$\$/g,JJ=I((Z)=>(Z.match(IV)?.length??0)>0,"hasKatex"),oH=I(async(Z,J)=>{let Q=document.createElement("div");Q.innerHTML=await A1(Z,J),Q.id="katex-temp",Q.style.visibility="hidden",Q.style.position="absolute",Q.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",Q);let X={width:Q.clientWidth,height:Q.clientHeight};return Q.remove(),X},"calculateMathMLDimensions"),$88=I(async(Z,J)=>{if(!JJ(Z))return Z;if(!(i50()||J.legacyMathML||J.forceLegacyMathML))return Z.replace(IV,"MathML is unsupported in this environment.");{let{default:Q}=await Promise.resolve().then(() => (c50(),p50)),K=J.forceLegacyMathML||!i50()&&J.legacyMathML?"htmlAndMathml":"mathml";return Z.split(EG).map((X)=>JJ(X)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${X}</div>`:`<div>${X}</div>`).join("").replace(IV,(X,U)=>Q.renderToString(U,{throwOnError:!0,displayMode:!0,output:K}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return Z.replace(IV,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized"),A1=I(async(Z,J)=>{return R9(await $88(Z,J),J)},"renderKatexSanitized"),J8={getRows:A88,sanitizeText:R9,sanitizeTextOrArray:E88,hasBreaks:V88,splitBreaks:P88,lineBreakRegex:EG,removeScript:YX0,getUrl:VG,evaluate:UZ,getMax:C88,getMin:S88},k88=I(function(Z,J){for(let Q of J)Z.attr(Q[0],Q[1])},"d3Attrs"),_88=I(function(Z,J,Q){let K=new Map;if(Q)K.set("width","100%"),K.set("style",`max-width: ${J}px;`);else K.set("height",Z),K.set("width",J);return K},"calculateSvgSizeAttrs"),PZ=I(function(Z,J,Q,K){let X=_88(J,Q,K);k88(Z,X)},"configureSvgSize"),tU=I(function(Z,J,Q,K){let X=J.node().getBBox(),U=X.width,Y=X.height;Z0.info(`SVG bounds: ${U}x${Y}`,X);let q=0,W=0;Z0.info(`Graph bounds: ${q}x${W}`,Z),q=U+Q*2,W=Y+Q*2,Z0.info(`Calculated bounds: ${q}x${W}`),PZ(J,W,q,K);let G=`${X.x-Q} ${X.y-Q} ${X.width+2*Q} ${X.height+2*Q}`;J.attr("viewBox",G)},"setupGraphViewbox"),AV={},f88=I((Z,J,Q)=>{let K="";if(Z in AV&&AV[Z])K=AV[Z](Q);else Z0.warn(`No theme found for ${Z}`);return` & {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
    fill: ${Q.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${Q.errorBkgColor};
  }
  & .error-text {
    fill: ${Q.errorTextColor};
    stroke: ${Q.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${Q.lineColor};
    stroke: ${Q.lineColor};
  }
  & .marker.cross {
    stroke: ${Q.lineColor};
  }

  & svg {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
  }
   & p {
    margin: 0
   }

  ${K}

  ${J}
`},"getStyles"),v88=I((Z,J)=>{if(J!==void 0)AV[Z]=J},"addStylesForDiagram"),WX0=f88,SV={};F1(SV,{clear:()=>S9,getAccDescription:()=>m9,getAccTitle:()=>y9,getDiagramTitle:()=>u9,setAccDescription:()=>h9,setAccTitle:()=>v9,setDiagramTitle:()=>s9});Wh=I((Z)=>R9(Z,L9()),"sanitizeText"),S9=I(()=>{Uh="",qh="",Yh=""},"clear"),v9=I((Z)=>{Uh=Wh(Z).replace(/^\s+/g,"")},"setAccTitle"),y9=I(()=>Uh,"getAccTitle"),h9=I((Z)=>{qh=Wh(Z).replace(/\n\s+/g,`
`)},"setAccDescription"),m9=I(()=>qh,"getAccDescription"),s9=I((Z)=>{Yh=Wh(Z)},"setDiagramTitle"),u9=I(()=>Yh,"getDiagramTitle"),s50=Z0,x88=hR,N0=L9,W3=Xh,TV=NG,wV=I((Z)=>R9(Z,N0()),"sanitizeText"),Gh=tU,b88=I(()=>{return SV},"getCommonDb"),EV={},G3=I((Z,J,Q)=>{if(EV[Z])s50.warn(`Diagram with id ${Z} already registered. Overwriting.`);if(EV[Z]=J,Q)r50(Z,Q);v88(Z,J.styles),J.injectUtils?.(s50,x88,N0,wV,Gh,b88(),()=>{})},"registerDiagram"),$V=I((Z)=>{if(Z in EV)return EV[Z];throw new y88(Z)},"getDiagram"),y88=class extends Error{static{I(this,"DiagramNotFoundError")}constructor(Z){super(`Diagram ${Z} not found.`)}}});function PG(Z,J){return Z==null||J==null?NaN:Z<J?-1:Z>J?1:Z>=J?0:NaN}function zh(Z,J){return Z==null||J==null?NaN:J<Z?-1:J>Z?1:J>=Z?0:NaN}function jG(Z){let J,Q,K;if(Z.length!==2)J=PG,Q=(q,W)=>PG(Z(q),W),K=(q,W)=>Z(q)-W;else J=Z===PG||Z===zh?Z:h88,Q=Z,K=Z;function X(q,W,G=0,z=q.length){if(G<z){if(J(W,W)!==0)return z;do{let H=G+z>>>1;if(Q(q[H],W)<0)G=H+1;else z=H}while(G<z)}return G}function U(q,W,G=0,z=q.length){if(G<z){if(J(W,W)!==0)return z;do{let H=G+z>>>1;if(Q(q[H],W)<=0)G=H+1;else z=H}while(G<z)}return G}function Y(q,W,G=0,z=q.length){let H=X(q,W,G,z-1);return H>G&&K(q[H-1],W)>-K(q[H],W)?H-1:H}return{left:X,center:Y,right:U}}function h88(){return 0}var Hh=()=>{};function Fh(Z){return Z===null?NaN:+Z}var GX0,zX0,m88,u88,Mh;var HX0=_(()=>{Hh();GX0=jG(PG),zX0=GX0.right,m88=GX0.left,u88=jG(Fh).center,Mh=zX0});function FX0({_intern:Z,_key:J},Q){let K=J(Q);return Z.has(K)?Z.get(K):Q}function g88({_intern:Z,_key:J},Q){let K=J(Q);if(Z.has(K))return Z.get(K);return Z.set(K,Q),Q}function p88({_intern:Z,_key:J},Q){let K=J(Q);if(Z.has(K))Q=Z.get(Q),Z.delete(K);return Q}function c88(Z){return Z!==null&&typeof Z==="object"?Z.valueOf():Z}var z3;var MX0=_(()=>{z3=class z3 extends Map{constructor(Z,J=c88){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:J}}),Z!=null)for(let[Q,K]of Z)this.set(Q,K)}get(Z){return super.get(FX0(this,Z))}has(Z){return super.has(FX0(this,Z))}set(Z,J){return super.set(g88(this,Z),J)}delete(Z){return super.delete(p88(this,Z))}}});function kV(Z,J,Q){let K=(J-Z)/Math.max(0,Q),X=Math.floor(Math.log10(K)),U=K/Math.pow(10,X),Y=U>=l88?10:U>=d88?5:U>=i88?2:1,q,W,G;if(X<0){if(G=Math.pow(10,-X)/Y,q=Math.round(Z*G),W=Math.round(J*G),q/G<Z)++q;if(W/G>J)--W;G=-G}else{if(G=Math.pow(10,X)*Y,q=Math.round(Z/G),W=Math.round(J/G),q*G<Z)++q;if(W*G>J)--W}if(W<q&&0.5<=Q&&Q<2)return kV(Z,J,Q*2);return[q,W,G]}function _V(Z,J,Q){if(J=+J,Z=+Z,Q=+Q,!(Q>0))return[];if(Z===J)return[Z];let K=J<Z,[X,U,Y]=K?kV(J,Z,Q):kV(Z,J,Q);if(!(U>=X))return[];let q=U-X+1,W=Array(q);if(K)if(Y<0)for(let G=0;G<q;++G)W[G]=(U-G)/-Y;else for(let G=0;G<q;++G)W[G]=(U-G)*Y;else if(Y<0)for(let G=0;G<q;++G)W[G]=(X+G)/-Y;else for(let G=0;G<q;++G)W[G]=(X+G)*Y;return W}function H3(Z,J,Q){return J=+J,Z=+Z,Q=+Q,kV(Z,J,Q)[2]}function tH(Z,J,Q){J=+J,Z=+Z,Q=+Q;let K=J<Z,X=K?H3(J,Z,Q):H3(Z,J,Q);return(K?-1:1)*(X<0?1/-X:X)}var l88,d88,i88;var BX0=_(()=>{l88=Math.sqrt(50),d88=Math.sqrt(10),i88=Math.sqrt(2)});function fV(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q<X||Q===void 0&&X>=X))Q=X}return Q}function vV(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q>X||Q===void 0&&X>=X))Q=X}return Q}function xV(Z,J,Q){Z=+Z,J=+J,Q=(X=arguments.length)<2?(J=Z,Z=0,1):X<3?1:+Q;var K=-1,X=Math.max(0,Math.ceil((J-Z)/Q))|0,U=Array(X);while(++K<X)U[K]=Z+K*Q;return U}var N1=_(()=>{HX0();Hh();BX0();MX0()});function Bh(Z){return Z}function s88(Z){return"translate("+Z+",0)"}function r88(Z){return"translate(0,"+Z+")"}function n88(Z){return(J)=>+Z(J)}function a88(Z,J){if(J=Math.max(0,Z.bandwidth()-J*2)/2,Z.round())J=Math.round(J);return(Q)=>+Z(Q)+J}function o88(){return!this.__axis}function RX0(Z,J){var Q=[],K=null,X=null,U=6,Y=6,q=3,W=typeof window<"u"&&window.devicePixelRatio>1?0:0.5,G=Z===yV||Z===bV?-1:1,z=Z===bV||Z===Oh?"x":"y",H=Z===yV||Z===Rh?s88:r88;function F(M){var B=K==null?J.ticks?J.ticks.apply(J,Q):J.domain():K,O=X==null?J.tickFormat?J.tickFormat.apply(J,Q):Bh:X,R=Math.max(U,0)+q,D=J.range(),L=+D[0]+W,A=+D[D.length-1]+W,V=(J.bandwidth?a88:n88)(J.copy(),W),N=M.selection?M.selection():M,E=N.selectAll(".domain").data([null]),j=N.selectAll(".tick").data(B,J).order(),C=j.exit(),$=j.enter().append("g").attr("class","tick"),k=j.select("line"),w=j.select("text");if(E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge($),k=k.merge($.append("line").attr("stroke","currentColor").attr(z+"2",G*U)),w=w.merge($.append("text").attr("fill","currentColor").attr(z,G*R).attr("dy",Z===yV?"0em":Z===Rh?"0.71em":"0.32em")),M!==N)E=E.transition(M),j=j.transition(M),k=k.transition(M),w=w.transition(M),C=C.transition(M).attr("opacity",OX0).attr("transform",function(P){return isFinite(P=V(P))?H(P+W):this.getAttribute("transform")}),$.attr("opacity",OX0).attr("transform",function(P){var T=this.parentNode.__axis;return H((T&&isFinite(T=T(P))?T:V(P))+W)});C.remove(),E.attr("d",Z===bV||Z===Oh?Y?"M"+G*Y+","+L+"H"+W+"V"+A+"H"+G*Y:"M"+W+","+L+"V"+A:Y?"M"+L+","+G*Y+"V"+W+"H"+A+"V"+G*Y:"M"+L+","+W+"H"+A),j.attr("opacity",1).attr("transform",function(P){return H(V(P)+W)}),k.attr(z+"2",G*U),w.attr(z,G*R).text(O),N.filter(o88).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",Z===Oh?"start":Z===bV?"end":"middle"),N.each(function(){this.__axis=V})}return F.scale=function(M){return arguments.length?(J=M,F):J},F.ticks=function(){return Q=Array.from(arguments),F},F.tickArguments=function(M){return arguments.length?(Q=M==null?[]:Array.from(M),F):Q.slice()},F.tickValues=function(M){return arguments.length?(K=M==null?null:Array.from(M),F):K&&K.slice()},F.tickFormat=function(M){return arguments.length?(X=M,F):X},F.tickSize=function(M){return arguments.length?(U=Y=+M,F):U},F.tickSizeInner=function(M){return arguments.length?(U=+M,F):U},F.tickSizeOuter=function(M){return arguments.length?(Y=+M,F):Y},F.tickPadding=function(M){return arguments.length?(q=+M,F):q},F.offset=function(M){return arguments.length?(W=+M,F):W},F}function Dh(Z){return RX0(yV,Z)}function Lh(Z){return RX0(Rh,Z)}var yV=1,Oh=2,Rh=3,bV=4,OX0=0.000001;var DX0=()=>{};var LX0=_(()=>{DX0()});function AX0(){for(var Z=0,J=arguments.length,Q={},K;Z<J;++Z){if(!(K=arguments[Z]+"")||K in Q||/[\s.]/.test(K))throw Error("illegal type: "+K);Q[K]=[]}return new hV(Q)}function hV(Z){this._=Z}function e88(Z,J){return Z.trim().split(/^|\s+/).map(function(Q){var K="",X=Q.indexOf(".");if(X>=0)K=Q.slice(X+1),Q=Q.slice(0,X);if(Q&&!J.hasOwnProperty(Q))throw Error("unknown type: "+Q);return{type:Q,name:K}})}function Z98(Z,J){for(var Q=0,K=Z.length,X;Q<K;++Q)if((X=Z[Q]).name===J)return X.value}function IX0(Z,J,Q){for(var K=0,X=Z.length;K<X;++K)if(Z[K].name===J){Z[K]=t88,Z=Z.slice(0,K).concat(Z.slice(K+1));break}if(Q!=null)Z.push({name:J,value:Q});return Z}var t88,Ih;var NX0=_(()=>{t88={value:()=>{}};hV.prototype=AX0.prototype={constructor:hV,on:function(Z,J){var Q=this._,K=e88(Z+"",Q),X,U=-1,Y=K.length;if(arguments.length<2){while(++U<Y)if((X=(Z=K[U]).type)&&(X=Z98(Q[X],Z.name)))return X;return}if(J!=null&&typeof J!=="function")throw Error("invalid callback: "+J);while(++U<Y)if(X=(Z=K[U]).type)Q[X]=IX0(Q[X],Z.name,J);else if(J==null)for(X in Q)Q[X]=IX0(Q[X],Z.name,null);return this},copy:function(){var Z={},J=this._;for(var Q in J)Z[Q]=J[Q].slice();return new hV(Z)},call:function(Z,J){if((X=arguments.length-2)>0)for(var Q=Array(X),K=0,X,U;K<X;++K)Q[K]=arguments[K+2];if(!this._.hasOwnProperty(Z))throw Error("unknown type: "+Z);for(U=this._[Z],K=0,X=U.length;K<X;++K)U[K].value.apply(J,Q)},apply:function(Z,J,Q){if(!this._.hasOwnProperty(Z))throw Error("unknown type: "+Z);for(var K=this._[Z],X=0,U=K.length;X<U;++X)K[X].value.apply(J,Q)}};Ih=AX0});var Ah=_(()=>{NX0()});var mV="http://www.w3.org/1999/xhtml",Nh;var Eh=_(()=>{Nh={svg:"http://www.w3.org/2000/svg",xhtml:mV,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function RX(Z){var J=Z+="",Q=J.indexOf(":");if(Q>=0&&(J=Z.slice(0,Q))!=="xmlns")Z=Z.slice(Q+1);return Nh.hasOwnProperty(J)?{space:Nh[J],local:Z}:Z}var uV=_(()=>{Eh()});function J98(Z){return function(){var J=this.ownerDocument,Q=this.namespaceURI;return Q===mV&&J.documentElement.namespaceURI===mV?J.createElement(Z):J.createElementNS(Q,Z)}}function Q98(Z){return function(){return this.ownerDocument.createElementNS(Z.space,Z.local)}}function F3(Z){var J=RX(Z);return(J.local?Q98:J98)(J)}var Vh=_(()=>{uV();Eh()});function K98(){}function E1(Z){return Z==null?K98:function(){return this.querySelector(Z)}}function Ph(Z){if(typeof Z!=="function")Z=E1(Z);for(var J=this._groups,Q=J.length,K=Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=Array(Y),W,G,z=0;z<Y;++z)if((W=U[z])&&(G=Z.call(W,W.__data__,z,U))){if("__data__"in W)G.__data__=W.__data__;q[z]=G}return new bJ(K,this._parents)}var EX0=_(()=>{U5()});function jh(Z){return Z==null?[]:Array.isArray(Z)?Z:Array.from(Z)}function X98(){return[]}function eH(Z){return Z==null?X98:function(){return this.querySelectorAll(Z)}}function U98(Z){return function(){return jh(Z.apply(this,arguments))}}function Ch(Z){if(typeof Z==="function")Z=U98(Z);else Z=eH(Z);for(var J=this._groups,Q=J.length,K=[],X=[],U=0;U<Q;++U)for(var Y=J[U],q=Y.length,W,G=0;G<q;++G)if(W=Y[G])K.push(Z.call(W,W.__data__,G,Y)),X.push(W);return new bJ(K,X)}var VX0=_(()=>{U5()});function Z2(Z){return function(){return this.matches(Z)}}function gV(Z){return function(J){return J.matches(Z)}}function q98(Z){return function(){return Y98.call(this.children,Z)}}function W98(){return this.firstElementChild}function Sh(Z){return this.select(Z==null?W98:q98(typeof Z==="function"?Z:gV(Z)))}var Y98;var PX0=_(()=>{Y98=Array.prototype.find});function z98(){return Array.from(this.children)}function H98(Z){return function(){return G98.call(this.children,Z)}}function Th(Z){return this.selectAll(Z==null?z98:H98(typeof Z==="function"?Z:gV(Z)))}var G98;var jX0=_(()=>{G98=Array.prototype.filter});function wh(Z){if(typeof Z!=="function")Z=Z2(Z);for(var J=this._groups,Q=J.length,K=Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=[],W,G=0;G<Y;++G)if((W=U[G])&&Z.call(W,W.__data__,G,U))q.push(W);return new bJ(K,this._parents)}var CX0=_(()=>{U5()});function M3(Z){return Array(Z.length)}function $h(){return new bJ(this._enter||this._groups.map(M3),this._parents)}function B3(Z,J){this.ownerDocument=Z.ownerDocument,this.namespaceURI=Z.namespaceURI,this._next=null,this._parent=Z,this.__data__=J}var kh=_(()=>{U5();B3.prototype={constructor:B3,appendChild:function(Z){return this._parent.insertBefore(Z,this._next)},insertBefore:function(Z,J){return this._parent.insertBefore(Z,J)},querySelector:function(Z){return this._parent.querySelector(Z)},querySelectorAll:function(Z){return this._parent.querySelectorAll(Z)}}});function _h(Z){return function(){return Z}}function F98(Z,J,Q,K,X,U){var Y=0,q,W=J.length,G=U.length;for(;Y<G;++Y)if(q=J[Y])q.__data__=U[Y],K[Y]=q;else Q[Y]=new B3(Z,U[Y]);for(;Y<W;++Y)if(q=J[Y])X[Y]=q}function M98(Z,J,Q,K,X,U,Y){var q,W,G=new Map,z=J.length,H=U.length,F=Array(z),M;for(q=0;q<z;++q)if(W=J[q])if(F[q]=M=Y.call(W,W.__data__,q,J)+"",G.has(M))X[q]=W;else G.set(M,W);for(q=0;q<H;++q)if(M=Y.call(Z,U[q],q,U)+"",W=G.get(M))K[q]=W,W.__data__=U[q],G.delete(M);else Q[q]=new B3(Z,U[q]);for(q=0;q<z;++q)if((W=J[q])&&G.get(F[q])===W)X[q]=W}function B98(Z){return Z.__data__}function fh(Z,J){if(!arguments.length)return Array.from(this,B98);var Q=J?M98:F98,K=this._parents,X=this._groups;if(typeof Z!=="function")Z=_h(Z);for(var U=X.length,Y=Array(U),q=Array(U),W=Array(U),G=0;G<U;++G){var z=K[G],H=X[G],F=H.length,M=O98(Z.call(z,z&&z.__data__,G,K)),B=M.length,O=q[G]=Array(B),R=Y[G]=Array(B),D=W[G]=Array(F);Q(z,H,O,R,D,M,J);for(var L=0,A=0,V,N;L<B;++L)if(V=O[L]){if(L>=A)A=L+1;while(!(N=R[A])&&++A<B);V._next=N||null}}return Y=new bJ(Y,K),Y._enter=q,Y._exit=W,Y}function O98(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}var SX0=_(()=>{U5();kh()});function vh(){return new bJ(this._exit||this._groups.map(M3),this._parents)}var TX0=_(()=>{U5()});function xh(Z,J,Q){var K=this.enter(),X=this,U=this.exit();if(typeof Z==="function"){if(K=Z(K),K)K=K.selection()}else K=K.append(Z+"");if(J!=null){if(X=J(X),X)X=X.selection()}if(Q==null)U.remove();else Q(U);return K&&X?K.merge(X).order():X}function bh(Z){var J=Z.selection?Z.selection():Z;for(var Q=this._groups,K=J._groups,X=Q.length,U=K.length,Y=Math.min(X,U),q=Array(X),W=0;W<Y;++W)for(var G=Q[W],z=K[W],H=G.length,F=q[W]=Array(H),M,B=0;B<H;++B)if(M=G[B]||z[B])F[B]=M;for(;W<X;++W)q[W]=Q[W];return new bJ(q,this._parents)}var wX0=_(()=>{U5()});function yh(){for(var Z=this._groups,J=-1,Q=Z.length;++J<Q;)for(var K=Z[J],X=K.length-1,U=K[X],Y;--X>=0;)if(Y=K[X]){if(U&&Y.compareDocumentPosition(U)^4)U.parentNode.insertBefore(Y,U);U=Y}return this}function hh(Z){if(!Z)Z=R98;function J(H,F){return H&&F?Z(H.__data__,F.__data__):!H-!F}for(var Q=this._groups,K=Q.length,X=Array(K),U=0;U<K;++U){for(var Y=Q[U],q=Y.length,W=X[U]=Array(q),G,z=0;z<q;++z)if(G=Y[z])W[z]=G;W.sort(J)}return new bJ(X,this._parents).order()}function R98(Z,J){return Z<J?-1:Z>J?1:Z>=J?0:NaN}var $X0=_(()=>{U5()});function mh(){var Z=arguments[0];return arguments[0]=this,Z.apply(null,arguments),this}function uh(){return Array.from(this)}function gh(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],X=0,U=K.length;X<U;++X){var Y=K[X];if(Y)return Y}return null}function ph(){let Z=0;for(let J of this)++Z;return Z}function ch(){return!this.node()}function lh(Z){for(var J=this._groups,Q=0,K=J.length;Q<K;++Q)for(var X=J[Q],U=0,Y=X.length,q;U<Y;++U)if(q=X[U])Z.call(q,q.__data__,U,X);return this}function D98(Z){return function(){this.removeAttribute(Z)}}function L98(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function I98(Z,J){return function(){this.setAttribute(Z,J)}}function A98(Z,J){return function(){this.setAttributeNS(Z.space,Z.local,J)}}function N98(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttribute(Z);else this.setAttribute(Z,Q)}}function E98(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttributeNS(Z.space,Z.local);else this.setAttributeNS(Z.space,Z.local,Q)}}function dh(Z,J){var Q=RX(Z);if(arguments.length<2){var K=this.node();return Q.local?K.getAttributeNS(Q.space,Q.local):K.getAttribute(Q)}return this.each((J==null?Q.local?L98:D98:typeof J==="function"?Q.local?E98:N98:Q.local?A98:I98)(Q,J))}var kX0=_(()=>{uV()});function O3(Z){return Z.ownerDocument&&Z.ownerDocument.defaultView||Z.document&&Z||Z.defaultView}function V98(Z){return function(){this.style.removeProperty(Z)}}function P98(Z,J,Q){return function(){this.style.setProperty(Z,J,Q)}}function j98(Z,J,Q){return function(){var K=J.apply(this,arguments);if(K==null)this.style.removeProperty(Z);else this.style.setProperty(Z,K,Q)}}function ih(Z,J,Q){return arguments.length>1?this.each((J==null?V98:typeof J==="function"?j98:P98)(Z,J,Q==null?"":Q)):V1(this.node(),Z)}function V1(Z,J){return Z.style.getPropertyValue(J)||O3(Z).getComputedStyle(Z,null).getPropertyValue(J)}var sh=()=>{};function C98(Z){return function(){delete this[Z]}}function S98(Z,J){return function(){this[Z]=J}}function T98(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)delete this[Z];else this[Z]=Q}}function rh(Z,J){return arguments.length>1?this.each((J==null?C98:typeof J==="function"?T98:S98)(Z,J)):this.node()[Z]}function _X0(Z){return Z.trim().split(/^|\s+/)}function nh(Z){return Z.classList||new fX0(Z)}function fX0(Z){this._node=Z,this._names=_X0(Z.getAttribute("class")||"")}function vX0(Z,J){var Q=nh(Z),K=-1,X=J.length;while(++K<X)Q.add(J[K])}function xX0(Z,J){var Q=nh(Z),K=-1,X=J.length;while(++K<X)Q.remove(J[K])}function w98(Z){return function(){vX0(this,Z)}}function $98(Z){return function(){xX0(this,Z)}}function k98(Z,J){return function(){(J.apply(this,arguments)?vX0:xX0)(this,Z)}}function ah(Z,J){var Q=_X0(Z+"");if(arguments.length<2){var K=nh(this.node()),X=-1,U=Q.length;while(++X<U)if(!K.contains(Q[X]))return!1;return!0}return this.each((typeof J==="function"?k98:J?w98:$98)(Q,J))}var bX0=_(()=>{fX0.prototype={add:function(Z){var J=this._names.indexOf(Z);if(J<0)this._names.push(Z),this._node.setAttribute("class",this._names.join(" "))},remove:function(Z){var J=this._names.indexOf(Z);if(J>=0)this._names.splice(J,1),this._node.setAttribute("class",this._names.join(" "))},contains:function(Z){return this._names.indexOf(Z)>=0}}});function _98(){this.textContent=""}function f98(Z){return function(){this.textContent=Z}}function v98(Z){return function(){var J=Z.apply(this,arguments);this.textContent=J==null?"":J}}function oh(Z){return arguments.length?this.each(Z==null?_98:(typeof Z==="function"?v98:f98)(Z)):this.node().textContent}function x98(){this.innerHTML=""}function b98(Z){return function(){this.innerHTML=Z}}function y98(Z){return function(){var J=Z.apply(this,arguments);this.innerHTML=J==null?"":J}}function th(Z){return arguments.length?this.each(Z==null?x98:(typeof Z==="function"?y98:b98)(Z)):this.node().innerHTML}function h98(){if(this.nextSibling)this.parentNode.appendChild(this)}function eh(){return this.each(h98)}function m98(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zm(){return this.each(m98)}function Jm(Z){var J=typeof Z==="function"?Z:F3(Z);return this.select(function(){return this.appendChild(J.apply(this,arguments))})}var yX0=_(()=>{Vh()});function u98(){return null}function Qm(Z,J){var Q=typeof Z==="function"?Z:F3(Z),K=J==null?u98:typeof J==="function"?J:E1(J);return this.select(function(){return this.insertBefore(Q.apply(this,arguments),K.apply(this,arguments)||null)})}var hX0=_(()=>{Vh()});function g98(){var Z=this.parentNode;if(Z)Z.removeChild(this)}function Km(){return this.each(g98)}function p98(){var Z=this.cloneNode(!1),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function c98(){var Z=this.cloneNode(!0),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function Xm(Z){return this.select(Z?c98:p98)}function Um(Z){return arguments.length?this.property("__data__",Z):this.node().__data__}function l98(Z){return function(J){Z.call(this,J,this.__data__)}}function d98(Z){return Z.trim().split(/^|\s+/).map(function(J){var Q="",K=J.indexOf(".");if(K>=0)Q=J.slice(K+1),J=J.slice(0,K);return{type:J,name:Q}})}function i98(Z){return function(){var J=this.__on;if(!J)return;for(var Q=0,K=-1,X=J.length,U;Q<X;++Q)if(U=J[Q],(!Z.type||U.type===Z.type)&&U.name===Z.name)this.removeEventListener(U.type,U.listener,U.options);else J[++K]=U;if(++K)J.length=K;else delete this.__on}}function s98(Z,J,Q){return function(){var K=this.__on,X,U=l98(J);if(K){for(var Y=0,q=K.length;Y<q;++Y)if((X=K[Y]).type===Z.type&&X.name===Z.name){this.removeEventListener(X.type,X.listener,X.options),this.addEventListener(X.type,X.listener=U,X.options=Q),X.value=J;return}}if(this.addEventListener(Z.type,U,Q),X={type:Z.type,name:Z.name,value:J,listener:U,options:Q},!K)this.__on=[X];else K.push(X)}}function Ym(Z,J,Q){var K=d98(Z+""),X,U=K.length,Y;if(arguments.length<2){var q=this.node().__on;if(q){for(var W=0,G=q.length,z;W<G;++W)for(X=0,z=q[W];X<U;++X)if((Y=K[X]).type===z.type&&Y.name===z.name)return z.value}return}q=J?s98:i98;for(X=0;X<U;++X)this.each(q(K[X],J,Q));return this}function mX0(Z,J,Q){var K=O3(Z),X=K.CustomEvent;if(typeof X==="function")X=new X(J,Q);else if(X=K.document.createEvent("Event"),Q)X.initEvent(J,Q.bubbles,Q.cancelable),X.detail=Q.detail;else X.initEvent(J,!1,!1);Z.dispatchEvent(X)}function r98(Z,J){return function(){return mX0(this,Z,J)}}function n98(Z,J){return function(){return mX0(this,Z,J.apply(this,arguments))}}function qm(Z,J){return this.each((typeof J==="function"?n98:r98)(Z,J))}var uX0=()=>{};function*Wm(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],X=0,U=K.length,Y;X<U;++X)if(Y=K[X])yield Y}function bJ(Z,J){this._groups=Z,this._parents=J}function gX0(){return new bJ([[document.documentElement]],Gm)}function a98(){return this}var Gm,eU;var U5=_(()=>{EX0();VX0();PX0();jX0();CX0();SX0();kh();TX0();wX0();$X0();kX0();sh();bX0();yX0();hX0();uX0();Gm=[null];bJ.prototype=gX0.prototype={constructor:bJ,select:Ph,selectAll:Ch,selectChild:Sh,selectChildren:Th,filter:wh,data:fh,enter:$h,exit:vh,join:xh,merge:bh,selection:a98,order:yh,sort:hh,call:mh,nodes:uh,node:gh,size:ph,empty:ch,each:lh,attr:dh,style:ih,property:rh,classed:ah,text:oh,html:th,raise:eh,lower:Zm,append:Jm,insert:Qm,remove:Km,clone:Xm,datum:Um,on:Ym,dispatch:qm,[Symbol.iterator]:Wm};eU=gX0});function i0(Z){return typeof Z==="string"?new bJ([[document.querySelector(Z)]],[document.documentElement]):new bJ([[Z]],Gm)}var pX0=_(()=>{U5()});var Y5=_(()=>{uV();pX0();U5();sh()});var cX0=()=>{};function P1(Z,J,Q){Z.prototype=J.prototype=Q,Q.constructor=Z}function J2(Z,J){var Q=Object.create(Z.prototype);for(var K in J)Q[K]=J[K];return Q}function j1(){}function dX0(){return this.rgb().formatHex()}function XZ8(){return this.rgb().formatHex8()}function UZ8(){return tX0(this).formatHsl()}function iX0(){return this.rgb().formatRgb()}function W5(Z){var J,Q;return Z=(Z+"").trim().toLowerCase(),(J=o98.exec(Z))?(Q=J[1].length,J=parseInt(J[1],16),Q===6?sX0(J):Q===3?new e7(J>>8&15|J>>4&240,J>>4&15|J&240,(J&15)<<4|J&15,1):Q===8?pV(J>>24&255,J>>16&255,J>>8&255,(J&255)/255):Q===4?pV(J>>12&15|J>>8&240,J>>8&15|J>>4&240,J>>4&15|J&240,((J&15)<<4|J&15)/255):null):(J=t98.exec(Z))?new e7(J[1],J[2],J[3],1):(J=e98.exec(Z))?new e7(J[1]*255/100,J[2]*255/100,J[3]*255/100,1):(J=ZZ8.exec(Z))?pV(J[1],J[2],J[3],J[4]):(J=JZ8.exec(Z))?pV(J[1]*255/100,J[2]*255/100,J[3]*255/100,J[4]):(J=QZ8.exec(Z))?aX0(J[1],J[2]/100,J[3]/100,1):(J=KZ8.exec(Z))?aX0(J[1],J[2]/100,J[3]/100,J[4]):lX0.hasOwnProperty(Z)?sX0(lX0[Z]):Z==="transparent"?new e7(NaN,NaN,NaN,0):null}function sX0(Z){return new e7(Z>>16&255,Z>>8&255,Z&255,1)}function pV(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;return new e7(Z,J,Q,K)}function Hm(Z){if(!(Z instanceof j1))Z=W5(Z);if(!Z)return new e7;return Z=Z.rgb(),new e7(Z.r,Z.g,Z.b,Z.opacity)}function K2(Z,J,Q,K){return arguments.length===1?Hm(Z):new e7(Z,J,Q,K==null?1:K)}function e7(Z,J,Q,K){this.r=+Z,this.g=+J,this.b=+Q,this.opacity=+K}function rX0(){return`#${CG(this.r)}${CG(this.g)}${CG(this.b)}`}function YZ8(){return`#${CG(this.r)}${CG(this.g)}${CG(this.b)}${CG((isNaN(this.opacity)?1:this.opacity)*255)}`}function nX0(){let Z=dV(this.opacity);return`${Z===1?"rgb(":"rgba("}${SG(this.r)}, ${SG(this.g)}, ${SG(this.b)}${Z===1?")":`, ${Z})`}`}function dV(Z){return isNaN(Z)?1:Math.max(0,Math.min(1,Z))}function SG(Z){return Math.max(0,Math.min(255,Math.round(Z)||0))}function CG(Z){return Z=SG(Z),(Z<16?"0":"")+Z.toString(16)}function aX0(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;else if(Q<=0||Q>=1)Z=J=NaN;else if(J<=0)Z=NaN;return new q5(Z,J,Q,K)}function tX0(Z){if(Z instanceof q5)return new q5(Z.h,Z.s,Z.l,Z.opacity);if(!(Z instanceof j1))Z=W5(Z);if(!Z)return new q5;if(Z instanceof q5)return Z;Z=Z.rgb();var J=Z.r/255,Q=Z.g/255,K=Z.b/255,X=Math.min(J,Q,K),U=Math.max(J,Q,K),Y=NaN,q=U-X,W=(U+X)/2;if(q){if(J===U)Y=(Q-K)/q+(Q<K)*6;else if(Q===U)Y=(K-J)/q+2;else Y=(J-Q)/q+4;q/=W<0.5?U+X:2-U-X,Y*=60}else q=W>0&&W<1?0:Y;return new q5(Y,q,W,Z.opacity)}function eX0(Z,J,Q,K){return arguments.length===1?tX0(Z):new q5(Z,J,Q,K==null?1:K)}function q5(Z,J,Q,K){this.h=+Z,this.s=+J,this.l=+Q,this.opacity=+K}function oX0(Z){return Z=(Z||0)%360,Z<0?Z+360:Z}function cV(Z){return Math.max(0,Math.min(1,Z||0))}function zm(Z,J,Q){return(Z<60?J+(Q-J)*Z/60:Z<180?Q:Z<240?J+(Q-J)*(240-Z)/60:J)*255}var R3=0.7,lV,Q2="\\s*([+-]?\\d+)\\s*",D3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",DX="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o98,t98,e98,ZZ8,JZ8,QZ8,KZ8,lX0;var Fm=_(()=>{lV=1/R3,o98=/^#([0-9a-f]{3,8})$/,t98=new RegExp(`^rgb\\(${Q2},${Q2},${Q2}\\)$`),e98=new RegExp(`^rgb\\(${DX},${DX},${DX}\\)$`),ZZ8=new RegExp(`^rgba\\(${Q2},${Q2},${Q2},${D3}\\)$`),JZ8=new RegExp(`^rgba\\(${DX},${DX},${DX},${D3}\\)$`),QZ8=new RegExp(`^hsl\\(${D3},${DX},${DX}\\)$`),KZ8=new RegExp(`^hsla\\(${D3},${DX},${DX},${D3}\\)$`),lX0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P1(j1,W5,{copy(Z){return Object.assign(new this.constructor,this,Z)},displayable(){return this.rgb().displayable()},hex:dX0,formatHex:dX0,formatHex8:XZ8,formatHsl:UZ8,formatRgb:iX0,toString:iX0});P1(e7,K2,J2(j1,{brighter(Z){return Z=Z==null?lV:Math.pow(lV,Z),new e7(this.r*Z,this.g*Z,this.b*Z,this.opacity)},darker(Z){return Z=Z==null?R3:Math.pow(R3,Z),new e7(this.r*Z,this.g*Z,this.b*Z,this.opacity)},rgb(){return this},clamp(){return new e7(SG(this.r),SG(this.g),SG(this.b),dV(this.opacity))},displayable(){return-0.5<=this.r&&this.r<255.5&&(-0.5<=this.g&&this.g<255.5)&&(-0.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:rX0,formatHex:rX0,formatHex8:YZ8,formatRgb:nX0,toString:nX0}));P1(q5,eX0,J2(j1,{brighter(Z){return Z=Z==null?lV:Math.pow(lV,Z),new q5(this.h,this.s,this.l*Z,this.opacity)},darker(Z){return Z=Z==null?R3:Math.pow(R3,Z),new q5(this.h,this.s,this.l*Z,this.opacity)},rgb(){var Z=this.h%360+(this.h<0)*360,J=isNaN(Z)||isNaN(this.s)?0:this.s,Q=this.l,K=Q+(Q<0.5?Q:1-Q)*J,X=2*Q-K;return new e7(zm(Z>=240?Z-240:Z+120,X,K),zm(Z,X,K),zm(Z<120?Z+240:Z-120,X,K),this.opacity)},clamp(){return new q5(oX0(this.h),cV(this.s),cV(this.l),dV(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){let Z=dV(this.opacity);return`${Z===1?"hsl(":"hsla("}${oX0(this.h)}, ${cV(this.s)*100}%, ${cV(this.l)*100}%${Z===1?")":`, ${Z})`}`}}))});var ZU0,JU0;var QU0=_(()=>{ZU0=Math.PI/180,JU0=180/Math.PI});function WU0(Z){if(Z instanceof LX)return new LX(Z.l,Z.a,Z.b,Z.opacity);if(Z instanceof ZY)return GU0(Z);if(!(Z instanceof e7))Z=Hm(Z);var J=Rm(Z.r),Q=Rm(Z.g),K=Rm(Z.b),X=Mm((0.2225045*J+0.7168786*Q+0.0606169*K)/XU0),U,Y;if(J===Q&&Q===K)U=Y=X;else U=Mm((0.4360747*J+0.3850649*Q+0.1430804*K)/KU0),Y=Mm((0.0139322*J+0.0971045*Q+0.7141733*K)/UU0);return new LX(116*X-16,500*(U-X),200*(X-Y),Z.opacity)}function Dm(Z,J,Q,K){return arguments.length===1?WU0(Z):new LX(Z,J,Q,K==null?1:K)}function LX(Z,J,Q,K){this.l=+Z,this.a=+J,this.b=+Q,this.opacity=+K}function Mm(Z){return Z>qZ8?Math.pow(Z,0.3333333333333333):Z/qU0+YU0}function Bm(Z){return Z>X2?Z*Z*Z:qU0*(Z-YU0)}function Om(Z){return 255*(Z<=0.0031308?12.92*Z:1.055*Math.pow(Z,0.4166666666666667)-0.055)}function Rm(Z){return(Z/=255)<=0.04045?Z/12.92:Math.pow((Z+0.055)/1.055,2.4)}function WZ8(Z){if(Z instanceof ZY)return new ZY(Z.h,Z.c,Z.l,Z.opacity);if(!(Z instanceof LX))Z=WU0(Z);if(Z.a===0&&Z.b===0)return new ZY(NaN,0<Z.l&&Z.l<100?0:NaN,Z.l,Z.opacity);var J=Math.atan2(Z.b,Z.a)*JU0;return new ZY(J<0?J+360:J,Math.sqrt(Z.a*Z.a+Z.b*Z.b),Z.l,Z.opacity)}function L3(Z,J,Q,K){return arguments.length===1?WZ8(Z):new ZY(Z,J,Q,K==null?1:K)}function ZY(Z,J,Q,K){this.h=+Z,this.c=+J,this.l=+Q,this.opacity=+K}function GU0(Z){if(isNaN(Z.h))return new LX(Z.l,0,0,Z.opacity);var J=Z.h*ZU0;return new LX(Z.l,Math.cos(J)*Z.c,Math.sin(J)*Z.c,Z.opacity)}var iV=18,KU0=0.96422,XU0=1,UU0=0.82521,YU0=0.13793103448275862,X2=0.20689655172413793,qU0,qZ8;var zU0=_(()=>{Fm();QU0();qU0=3*X2*X2,qZ8=X2*X2*X2;P1(LX,Dm,J2(j1,{brighter(Z){return new LX(this.l+iV*(Z==null?1:Z),this.a,this.b,this.opacity)},darker(Z){return new LX(this.l-iV*(Z==null?1:Z),this.a,this.b,this.opacity)},rgb(){var Z=(this.l+16)/116,J=isNaN(this.a)?Z:Z+this.a/500,Q=isNaN(this.b)?Z:Z-this.b/200;return J=KU0*Bm(J),Z=XU0*Bm(Z),Q=UU0*Bm(Q),new e7(Om(3.1338561*J-1.6168667*Z-0.4906146*Q),Om(-0.9787684*J+1.9161415*Z+0.033454*Q),Om(0.0719453*J-0.2289914*Z+1.4052427*Q),this.opacity)}}));P1(ZY,L3,J2(j1,{brighter(Z){return new ZY(this.h,this.c,this.l+iV*(Z==null?1:Z),this.opacity)},darker(Z){return new ZY(this.h,this.c,this.l-iV*(Z==null?1:Z),this.opacity)},rgb(){return GU0(this).rgb()}}))});var U2=_(()=>{Fm();zU0()});function Lm(Z,J,Q,K,X){var U=Z*Z,Y=U*Z;return((1-3*Z+3*U-Y)*J+(4-6*U+3*Y)*Q+(1+3*Z+3*U-3*Y)*K+Y*X)/6}function Im(Z){var J=Z.length-1;return function(Q){var K=Q<=0?Q=0:Q>=1?(Q=1,J-1):Math.floor(Q*J),X=Z[K],U=Z[K+1],Y=K>0?Z[K-1]:2*X-U,q=K<J-1?Z[K+2]:2*U-X;return Lm((Q-K/J)*J,Y,X,U,q)}}function Am(Z){var J=Z.length;return function(Q){var K=Math.floor(((Q%=1)<0?++Q:Q)*J),X=Z[(K+J-1)%J],U=Z[K%J],Y=Z[(K+1)%J],q=Z[(K+2)%J];return Lm((Q-K/J)*J,X,U,Y,q)}}var HU0=()=>{};var Y2=(Z)=>()=>Z;function FU0(Z,J){return function(Q){return Z+Q*J}}function GZ8(Z,J,Q){return Z=Math.pow(Z,Q),J=Math.pow(J,Q)-Z,Q=1/Q,function(K){return Math.pow(Z+K*J,Q)}}function MU0(Z,J){var Q=J-Z;return Q?FU0(Z,Q>180||Q<-180?Q-360*Math.round(Q/360):Q):Y2(isNaN(Z)?J:Z)}function BU0(Z){return(Z=+Z)===1?JY:function(J,Q){return Q-J?GZ8(J,Q,Z):Y2(isNaN(J)?Q:J)}}function JY(Z,J){var Q=J-Z;return Q?FU0(Z,Q):Y2(isNaN(Z)?J:Z)}var Nm=()=>{};function OU0(Z){return function(J){var Q=J.length,K=Array(Q),X=Array(Q),U=Array(Q),Y,q;for(Y=0;Y<Q;++Y)q=K2(J[Y]),K[Y]=q.r||0,X[Y]=q.g||0,U[Y]=q.b||0;return K=Z(K),X=Z(X),U=Z(U),q.opacity=1,function(W){return q.r=K(W),q.g=X(W),q.b=U(W),q+""}}}var TG,zZ8,HZ8;var Em=_(()=>{U2();HU0();Nm();TG=function Z(J){var Q=BU0(J);function K(X,U){var Y=Q((X=K2(X)).r,(U=K2(U)).r),q=Q(X.g,U.g),W=Q(X.b,U.b),G=JY(X.opacity,U.opacity);return function(z){return X.r=Y(z),X.g=q(z),X.b=W(z),X.opacity=G(z),X+""}}return K.gamma=Z,K}(1);zZ8=OU0(Im),HZ8=OU0(Am)});function Vm(Z,J){if(!J)J=[];var Q=Z?Math.min(J.length,Z.length):0,K=J.slice(),X;return function(U){for(X=0;X<Q;++X)K[X]=Z[X]*(1-U)+J[X]*U;return K}}function RU0(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function DU0(Z,J){var Q=J?J.length:0,K=Z?Math.min(Q,Z.length):0,X=Array(K),U=Array(Q),Y;for(Y=0;Y<K;++Y)X[Y]=C1(Z[Y],J[Y]);for(;Y<Q;++Y)U[Y]=J[Y];return function(q){for(Y=0;Y<K;++Y)U[Y]=X[Y](q);return U}}var LU0=_(()=>{sV()});function Pm(Z,J){var Q=new Date;return Z=+Z,J=+J,function(K){return Q.setTime(Z*(1-K)+J*K),Q}}function w7(Z,J){return Z=+Z,J=+J,function(Q){return Z*(1-Q)+J*Q}}function jm(Z,J){var Q={},K={},X;if(Z===null||typeof Z!=="object")Z={};if(J===null||typeof J!=="object")J={};for(X in J)if(X in Z)Q[X]=C1(Z[X],J[X]);else K[X]=J[X];return function(U){for(X in Q)K[X]=Q[X](U);return K}}var IU0=_(()=>{sV()});function FZ8(Z){return function(){return Z}}function MZ8(Z){return function(J){return Z(J)+""}}function q2(Z,J){var Q=Sm.lastIndex=Cm.lastIndex=0,K,X,U,Y=-1,q=[],W=[];Z=Z+"",J=J+"";while((K=Sm.exec(Z))&&(X=Cm.exec(J))){if((U=X.index)>Q)if(U=J.slice(Q,U),q[Y])q[Y]+=U;else q[++Y]=U;if((K=K[0])===(X=X[0]))if(q[Y])q[Y]+=X;else q[++Y]=X;else q[++Y]=null,W.push({i:Y,x:w7(K,X)});Q=Cm.lastIndex}if(Q<J.length)if(U=J.slice(Q),q[Y])q[Y]+=U;else q[++Y]=U;return q.length<2?W[0]?MZ8(W[0].x):FZ8(J):(J=W.length,function(G){for(var z=0,H;z<J;++z)q[(H=W[z]).i]=H.x(G);return q.join("")})}var Sm,Cm;var Tm=_(()=>{Sm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cm=new RegExp(Sm.source,"g")});function C1(Z,J){var Q=typeof J,K;return J==null||Q==="boolean"?Y2(J):(Q==="number"?w7:Q==="string"?(K=W5(J))?(J=K,TG):q2:J instanceof W5?TG:J instanceof Date?Pm:RU0(J)?Vm:Array.isArray(J)?DU0:typeof J.valueOf!=="function"&&typeof J.toString!=="function"||isNaN(J)?jm:w7)(Z,J)}var sV=_(()=>{U2();Em();LU0();IU0();Tm()});function rV(Z,J){return Z=+Z,J=+J,function(Q){return Math.round(Z*(1-Q)+J*Q)}}function aV(Z,J,Q,K,X,U){var Y,q,W;if(Y=Math.sqrt(Z*Z+J*J))Z/=Y,J/=Y;if(W=Z*Q+J*K)Q-=Z*W,K-=J*W;if(q=Math.sqrt(Q*Q+K*K))Q/=q,K/=q,W/=q;if(Z*K<J*Q)Z=-Z,J=-J,W=-W,Y=-Y;return{translateX:X,translateY:U,rotate:Math.atan2(J,Z)*AU0,skewX:Math.atan(W)*AU0,scaleX:Y,scaleY:q}}var AU0,nV;var NU0=_(()=>{AU0=180/Math.PI,nV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function EU0(Z){let J=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(Z+"");return J.isIdentity?nV:aV(J.a,J.b,J.c,J.d,J.e,J.f)}function VU0(Z){if(Z==null)return nV;if(!oV)oV=document.createElementNS("http://www.w3.org/2000/svg","g");if(oV.setAttribute("transform",Z),!(Z=oV.transform.baseVal.consolidate()))return nV;return Z=Z.matrix,aV(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)}var oV;var PU0=_(()=>{NU0()});function jU0(Z,J,Q,K){function X(G){return G.length?G.pop()+" ":""}function U(G,z,H,F,M,B){if(G!==H||z!==F){var O=M.push("translate(",null,J,null,Q);B.push({i:O-4,x:w7(G,H)},{i:O-2,x:w7(z,F)})}else if(H||F)M.push("translate("+H+J+F+Q)}function Y(G,z,H,F){if(G!==z){if(G-z>180)z+=360;else if(z-G>180)G+=360;F.push({i:H.push(X(H)+"rotate(",null,K)-2,x:w7(G,z)})}else if(z)H.push(X(H)+"rotate("+z+K)}function q(G,z,H,F){if(G!==z)F.push({i:H.push(X(H)+"skewX(",null,K)-2,x:w7(G,z)});else if(z)H.push(X(H)+"skewX("+z+K)}function W(G,z,H,F,M,B){if(G!==H||z!==F){var O=M.push(X(M)+"scale(",null,",",null,")");B.push({i:O-4,x:w7(G,H)},{i:O-2,x:w7(z,F)})}else if(H!==1||F!==1)M.push(X(M)+"scale("+H+","+F+")")}return function(G,z){var H=[],F=[];return G=Z(G),z=Z(z),U(G.translateX,G.translateY,z.translateX,z.translateY,H,F),Y(G.rotate,z.rotate,H,F),q(G.skewX,z.skewX,H,F),W(G.scaleX,G.scaleY,z.scaleX,z.scaleY,H,F),G=z=null,function(M){var B=-1,O=F.length,R;while(++B<O)H[(R=F[B]).i]=R.x(M);return H.join("")}}}var wm,$m;var CU0=_(()=>{PU0();wm=jU0(EU0,"px, ","px)","deg)"),$m=jU0(VU0,", ",")",")")});function SU0(Z){return function(J,Q){var K=Z((J=L3(J)).h,(Q=L3(Q)).h),X=JY(J.c,Q.c),U=JY(J.l,Q.l),Y=JY(J.opacity,Q.opacity);return function(q){return J.h=K(q),J.c=X(q),J.l=U(q),J.opacity=Y(q),J+""}}}var km,BZ8;var TU0=_(()=>{U2();Nm();km=SU0(MU0),BZ8=SU0(JY)});var W2=_(()=>{sV();Tm();CU0();Em();TU0()});function P3(){return wG||(kU0(OZ8),wG=E3.now()+ZP)}function OZ8(){wG=0}function V3(){this._call=this._time=this._next=null}function JP(Z,J,Q){var K=new V3;return K.restart(Z,J,Q),K}function _U0(){P3(),++G2;var Z=tV,J;while(Z){if((J=wG-Z._time)>=0)Z._call.call(void 0,J);Z=Z._next}--G2}function wU0(){wG=(eV=E3.now())+ZP,G2=A3=0;try{_U0()}finally{G2=0,DZ8(),wG=0}}function RZ8(){var Z=E3.now(),J=Z-eV;if(J>$U0)ZP-=J,eV=Z}function DZ8(){var Z,J=tV,Q,K=1/0;while(J)if(J._call){if(K>J._time)K=J._time;Z=J,J=J._next}else Q=J._next,J._next=null,J=Z?Z._next=Q:tV=Q;N3=Z,_m(K)}function _m(Z){if(G2)return;if(A3)A3=clearTimeout(A3);var J=Z-wG;if(J>24){if(Z<1/0)A3=setTimeout(wU0,Z-E3.now()-ZP);if(I3)I3=clearInterval(I3)}else{if(!I3)eV=E3.now(),I3=setInterval(RZ8,$U0);G2=1,kU0(wU0)}}var G2=0,A3=0,I3=0,$U0=1000,tV,N3,eV=0,wG=0,ZP=0,E3,kU0;var fm=_(()=>{E3=typeof performance==="object"&&performance.now?performance:Date,kU0=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Z){setTimeout(Z,17)};V3.prototype=JP.prototype={constructor:V3,restart:function(Z,J,Q){if(typeof Z!=="function")throw TypeError("callback is not a function");if(Q=(Q==null?P3():+Q)+(J==null?0:+J),!this._next&&N3!==this){if(N3)N3._next=this;else tV=this;N3=this}this._call=Z,this._time=Q,_m()},stop:function(){if(this._call)this._call=null,this._time=1/0,_m()}}});function j3(Z,J,Q){var K=new V3;return J=J==null?0:+J,K.restart((X)=>{K.stop(),Z(X+J)},J,Q),K}var fU0=_(()=>{fm()});var QP=_(()=>{fm();fU0()});function QY(Z,J,Q,K,X,U){var Y=Z.__transition;if(!Y)Z.__transition={};else if(Q in Y)return;AZ8(Z,Q,{name:J,index:K,group:X,on:LZ8,tween:IZ8,time:U.time,delay:U.delay,duration:U.duration,ease:U.ease,timer:null,state:bU0})}function S3(Z,J){var Q=D7(Z,J);if(Q.state>bU0)throw Error("too late; already scheduled");return Q}function ZQ(Z,J){var Q=D7(Z,J);if(Q.state>KP)throw Error("too late; already running");return Q}function D7(Z,J){var Q=Z.__transition;if(!Q||!(Q=Q[J]))throw Error("transition not found");return Q}function AZ8(Z,J,Q){var K=Z.__transition,X;K[J]=Q,Q.timer=JP(U,0,Q.time);function U(G){if(Q.state=vU0,Q.timer.restart(Y,Q.delay,Q.time),Q.delay<=G)Y(G-Q.delay)}function Y(G){var z,H,F,M;if(Q.state!==vU0)return W();for(z in K){if(M=K[z],M.name!==Q.name)continue;if(M.state===KP)return j3(Y);if(M.state===xU0)M.state=C3,M.timer.stop(),M.on.call("interrupt",Z,Z.__data__,M.index,M.group),delete K[z];else if(+z<J)M.state=C3,M.timer.stop(),M.on.call("cancel",Z,Z.__data__,M.index,M.group),delete K[z]}if(j3(function(){if(Q.state===KP)Q.state=xU0,Q.timer.restart(q,Q.delay,Q.time),q(G)}),Q.state=XP,Q.on.call("start",Z,Z.__data__,Q.index,Q.group),Q.state!==XP)return;Q.state=KP,X=Array(F=Q.tween.length);for(z=0,H=-1;z<F;++z)if(M=Q.tween[z].value.call(Z,Z.__data__,Q.index,Q.group))X[++H]=M;X.length=H+1}function q(G){var z=G<Q.duration?Q.ease.call(null,G/Q.duration):(Q.timer.restart(W),Q.state=UP,1),H=-1,F=X.length;while(++H<F)X[H].call(Z,z);if(Q.state===UP)Q.on.call("end",Z,Z.__data__,Q.index,Q.group),W()}function W(){Q.state=C3,Q.timer.stop(),delete K[J];for(var G in K)return;delete Z.__transition}}var LZ8,IZ8,bU0=0,vU0=1,XP=2,KP=3,xU0=4,UP=5,C3=6;var m6=_(()=>{Ah();QP();LZ8=Ih("start","end","cancel","interrupt"),IZ8=[]});function T3(Z,J){var Q=Z.__transition,K,X,U=!0,Y;if(!Q)return;J=J==null?null:J+"";for(Y in Q){if((K=Q[Y]).name!==J){U=!1;continue}X=K.state>XP&&K.state<UP,K.state=C3,K.timer.stop(),K.on.call(X?"interrupt":"cancel",Z,Z.__data__,K.index,K.group),delete Q[Y]}if(U)delete Z.__transition}var yU0=_(()=>{m6()});function vm(Z){return this.each(function(){T3(this,Z)})}var hU0=_(()=>{yU0()});function NZ8(Z,J){var Q,K;return function(){var X=ZQ(this,Z),U=X.tween;if(U!==Q){K=Q=U;for(var Y=0,q=K.length;Y<q;++Y)if(K[Y].name===J){K=K.slice(),K.splice(Y,1);break}}X.tween=K}}function EZ8(Z,J,Q){var K,X;if(typeof Q!=="function")throw Error();return function(){var U=ZQ(this,Z),Y=U.tween;if(Y!==K){X=(K=Y).slice();for(var q={name:J,value:Q},W=0,G=X.length;W<G;++W)if(X[W].name===J){X[W]=q;break}if(W===G)X.push(q)}U.tween=X}}function xm(Z,J){var Q=this._id;if(Z+="",arguments.length<2){var K=D7(this.node(),Q).tween;for(var X=0,U=K.length,Y;X<U;++X)if((Y=K[X]).name===Z)return Y.value;return null}return this.each((J==null?NZ8:EZ8)(Q,Z,J))}function z2(Z,J,Q){var K=Z._id;return Z.each(function(){var X=ZQ(this,K);(X.value||(X.value={}))[J]=Q.apply(this,arguments)}),function(X){return D7(X,K).value[J]}}var w3=_(()=>{m6()});function $3(Z,J){var Q;return(typeof J==="number"?w7:J instanceof W5?TG:(Q=W5(J))?(J=Q,TG):q2)(Z,J)}var bm=_(()=>{U2();W2()});function VZ8(Z){return function(){this.removeAttribute(Z)}}function PZ8(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function jZ8(Z,J,Q){var K,X=Q+"",U;return function(){var Y=this.getAttribute(Z);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function CZ8(Z,J,Q){var K,X=Q+"",U;return function(){var Y=this.getAttributeNS(Z.space,Z.local);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function SZ8(Z,J,Q){var K,X,U;return function(){var Y,q=Q(this),W;if(q==null)return void this.removeAttribute(Z);return Y=this.getAttribute(Z),W=q+"",Y===W?null:Y===K&&W===X?U:(X=W,U=J(K=Y,q))}}function TZ8(Z,J,Q){var K,X,U;return function(){var Y,q=Q(this),W;if(q==null)return void this.removeAttributeNS(Z.space,Z.local);return Y=this.getAttributeNS(Z.space,Z.local),W=q+"",Y===W?null:Y===K&&W===X?U:(X=W,U=J(K=Y,q))}}function ym(Z,J){var Q=RX(Z),K=Q==="transform"?$m:$3;return this.attrTween(Z,typeof J==="function"?(Q.local?TZ8:SZ8)(Q,K,z2(this,"attr."+Z,J)):J==null?(Q.local?PZ8:VZ8)(Q):(Q.local?CZ8:jZ8)(Q,K,J))}var mU0=_(()=>{W2();Y5();w3();bm()});function wZ8(Z,J){return function(Q){this.setAttribute(Z,J.call(this,Q))}}function $Z8(Z,J){return function(Q){this.setAttributeNS(Z.space,Z.local,J.call(this,Q))}}function kZ8(Z,J){var Q,K;function X(){var U=J.apply(this,arguments);if(U!==K)Q=(K=U)&&$Z8(Z,U);return Q}return X._value=J,X}function _Z8(Z,J){var Q,K;function X(){var U=J.apply(this,arguments);if(U!==K)Q=(K=U)&&wZ8(Z,U);return Q}return X._value=J,X}function hm(Z,J){var Q="attr."+Z;if(arguments.length<2)return(Q=this.tween(Q))&&Q._value;if(J==null)return this.tween(Q,null);if(typeof J!=="function")throw Error();var K=RX(Z);return this.tween(Q,(K.local?kZ8:_Z8)(K,J))}var uU0=_(()=>{Y5()});function fZ8(Z,J){return function(){S3(this,Z).delay=+J.apply(this,arguments)}}function vZ8(Z,J){return J=+J,function(){S3(this,Z).delay=J}}function mm(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?fZ8:vZ8)(J,Z)):D7(this.node(),J).delay}var gU0=_(()=>{m6()});function xZ8(Z,J){return function(){ZQ(this,Z).duration=+J.apply(this,arguments)}}function bZ8(Z,J){return J=+J,function(){ZQ(this,Z).duration=J}}function um(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?xZ8:bZ8)(J,Z)):D7(this.node(),J).duration}var pU0=_(()=>{m6()});function yZ8(Z,J){if(typeof J!=="function")throw Error();return function(){ZQ(this,Z).ease=J}}function gm(Z){var J=this._id;return arguments.length?this.each(yZ8(J,Z)):D7(this.node(),J).ease}var cU0=_(()=>{m6()});function hZ8(Z,J){return function(){var Q=J.apply(this,arguments);if(typeof Q!=="function")throw Error();ZQ(this,Z).ease=Q}}function pm(Z){if(typeof Z!=="function")throw Error();return this.each(hZ8(this._id,Z))}var lU0=_(()=>{m6()});function cm(Z){if(typeof Z!=="function")Z=Z2(Z);for(var J=this._groups,Q=J.length,K=Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=[],W,G=0;G<Y;++G)if((W=U[G])&&Z.call(W,W.__data__,G,U))q.push(W);return new Z6(K,this._parents,this._name,this._id)}var dU0=_(()=>{Y5();$G()});function lm(Z){if(Z._id!==this._id)throw Error();for(var J=this._groups,Q=Z._groups,K=J.length,X=Q.length,U=Math.min(K,X),Y=Array(K),q=0;q<U;++q)for(var W=J[q],G=Q[q],z=W.length,H=Y[q]=Array(z),F,M=0;M<z;++M)if(F=W[M]||G[M])H[M]=F;for(;q<K;++q)Y[q]=J[q];return new Z6(Y,this._parents,this._name,this._id)}var iU0=_(()=>{$G()});function mZ8(Z){return(Z+"").trim().split(/^|\s+/).every(function(J){var Q=J.indexOf(".");if(Q>=0)J=J.slice(0,Q);return!J||J==="start"})}function uZ8(Z,J,Q){var K,X,U=mZ8(J)?S3:ZQ;return function(){var Y=U(this,Z),q=Y.on;if(q!==K)(X=(K=q).copy()).on(J,Q);Y.on=X}}function dm(Z,J){var Q=this._id;return arguments.length<2?D7(this.node(),Q).on.on(Z):this.each(uZ8(Q,Z,J))}var sU0=_(()=>{m6()});function gZ8(Z){return function(){var J=this.parentNode;for(var Q in this.__transition)if(+Q!==Z)return;if(J)J.removeChild(this)}}function im(){return this.on("end.remove",gZ8(this._id))}function sm(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=E1(Z);for(var K=this._groups,X=K.length,U=Array(X),Y=0;Y<X;++Y)for(var q=K[Y],W=q.length,G=U[Y]=Array(W),z,H,F=0;F<W;++F)if((z=q[F])&&(H=Z.call(z,z.__data__,F,q))){if("__data__"in z)H.__data__=z.__data__;G[F]=H,QY(G[F],J,Q,F,G,D7(z,Q))}return new Z6(U,this._parents,J,Q)}var rU0=_(()=>{Y5();$G();m6()});function rm(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=eH(Z);for(var K=this._groups,X=K.length,U=[],Y=[],q=0;q<X;++q)for(var W=K[q],G=W.length,z,H=0;H<G;++H)if(z=W[H]){for(var F=Z.call(z,z.__data__,H,W),M,B=D7(z,Q),O=0,R=F.length;O<R;++O)if(M=F[O])QY(M,J,Q,O,F,B);U.push(F),Y.push(z)}return new Z6(U,Y,J,Q)}var nU0=_(()=>{Y5();$G();m6()});function nm(){return new pZ8(this._groups,this._parents)}var pZ8;var aU0=_(()=>{Y5();pZ8=eU.prototype.constructor});function cZ8(Z,J){var Q,K,X;return function(){var U=V1(this,Z),Y=(this.style.removeProperty(Z),V1(this,Z));return U===Y?null:U===Q&&Y===K?X:X=J(Q=U,K=Y)}}function oU0(Z){return function(){this.style.removeProperty(Z)}}function lZ8(Z,J,Q){var K,X=Q+"",U;return function(){var Y=V1(this,Z);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function dZ8(Z,J,Q){var K,X,U;return function(){var Y=V1(this,Z),q=Q(this),W=q+"";if(q==null)W=q=(this.style.removeProperty(Z),V1(this,Z));return Y===W?null:Y===K&&W===X?U:(X=W,U=J(K=Y,q))}}function iZ8(Z,J){var Q,K,X,U="style."+J,Y="end."+U,q;return function(){var W=ZQ(this,Z),G=W.on,z=W.value[U]==null?q||(q=oU0(J)):void 0;if(G!==Q||X!==z)(K=(Q=G).copy()).on(Y,X=z);W.on=K}}function am(Z,J,Q){var K=(Z+="")==="transform"?wm:$3;return J==null?this.styleTween(Z,cZ8(Z,K)).on("end.style."+Z,oU0(Z)):typeof J==="function"?this.styleTween(Z,dZ8(Z,K,z2(this,"style."+Z,J))).each(iZ8(this._id,Z)):this.styleTween(Z,lZ8(Z,K,J),Q).on("end.style."+Z,null)}var tU0=_(()=>{W2();Y5();m6();w3();bm()});function sZ8(Z,J,Q){return function(K){this.style.setProperty(Z,J.call(this,K),Q)}}function rZ8(Z,J,Q){var K,X;function U(){var Y=J.apply(this,arguments);if(Y!==X)K=(X=Y)&&sZ8(Z,Y,Q);return K}return U._value=J,U}function om(Z,J,Q){var K="style."+(Z+="");if(arguments.length<2)return(K=this.tween(K))&&K._value;if(J==null)return this.tween(K,null);if(typeof J!=="function")throw Error();return this.tween(K,rZ8(Z,J,Q==null?"":Q))}function nZ8(Z){return function(){this.textContent=Z}}function aZ8(Z){return function(){var J=Z(this);this.textContent=J==null?"":J}}function tm(Z){return this.tween("text",typeof Z==="function"?aZ8(z2(this,"text",Z)):nZ8(Z==null?"":Z+""))}var eU0=_(()=>{w3()});function oZ8(Z){return function(J){this.textContent=Z.call(this,J)}}function tZ8(Z){var J,Q;function K(){var X=Z.apply(this,arguments);if(X!==Q)J=(Q=X)&&oZ8(X);return J}return K._value=Z,K}function em(Z){var J="text";if(arguments.length<1)return(J=this.tween(J))&&J._value;if(Z==null)return this.tween(J,null);if(typeof Z!=="function")throw Error();return this.tween(J,tZ8(Z))}function Zu(){var Z=this._name,J=this._id,Q=YP();for(var K=this._groups,X=K.length,U=0;U<X;++U)for(var Y=K[U],q=Y.length,W,G=0;G<q;++G)if(W=Y[G]){var z=D7(W,J);QY(W,Z,Q,G,Y,{time:z.time+z.delay+z.duration,delay:0,duration:z.duration,ease:z.ease})}return new Z6(K,this._parents,Z,Q)}var ZY0=_(()=>{$G();m6()});function Ju(){var Z,J,Q=this,K=Q._id,X=Q.size();return new Promise(function(U,Y){var q={value:Y},W={value:function(){if(--X===0)U()}};if(Q.each(function(){var G=ZQ(this,K),z=G.on;if(z!==Z)J=(Z=z).copy(),J._.cancel.push(q),J._.interrupt.push(q),J._.end.push(W);G.on=J}),X===0)U()})}var JY0=_(()=>{m6()});function Z6(Z,J,Q,K){this._groups=Z,this._parents=J,this._name=Q,this._id=K}function QY0(Z){return eU().transition(Z)}function YP(){return++eZ8}var eZ8=0,KY;var $G=_(()=>{Y5();mU0();uU0();gU0();pU0();cU0();lU0();dU0();iU0();sU0();rU0();nU0();aU0();tU0();eU0();ZY0();w3();JY0();KY=eU.prototype;Z6.prototype=QY0.prototype={constructor:Z6,select:sm,selectAll:rm,selectChild:KY.selectChild,selectChildren:KY.selectChildren,filter:cm,merge:lm,selection:nm,transition:Zu,call:KY.call,nodes:KY.nodes,node:KY.node,size:KY.size,empty:KY.empty,each:KY.each,on:dm,attr:ym,attrTween:hm,style:am,styleTween:om,text:tm,textTween:em,remove:im,tween:xm,delay:mm,duration:um,ease:gm,easeVarying:pm,end:Ju,[Symbol.iterator]:KY[Symbol.iterator]}});function qP(Z){return((Z*=2)<=1?Z*Z*Z:(Z-=2)*Z*Z+2)/2}var Qu=()=>{};function JJ8(Z,J){var Q;while(!(Q=Z.__transition)||!(Q=Q[J]))if(!(Z=Z.parentNode))throw Error(`transition ${J} not found`);return Q}function Ku(Z){var J,Q;if(Z instanceof Z6)J=Z._id,Z=Z._name;else J=YP(),(Q=ZJ8).time=P3(),Z=Z==null?null:Z+"";for(var K=this._groups,X=K.length,U=0;U<X;++U)for(var Y=K[U],q=Y.length,W,G=0;G<q;++G)if(W=Y[G])QY(W,Z,J,G,Y,Q||JJ8(W,J));return new Z6(K,this._parents,Z,J)}var ZJ8;var KY0=_(()=>{$G();m6();Qu();QP();ZJ8={time:null,delay:0,duration:250,ease:qP}});var XY0=_(()=>{Y5();hU0();KY0();eU.prototype.interrupt=vm;eU.prototype.transition=Ku});var WP=_(()=>{XY0()});function UY0(Z){return[+Z[0],+Z[1]]}function QJ8(Z){return[UY0(Z[0]),UY0(Z[1])]}function Xu(Z){return{type:Z}}var w89,$89,k89;var YY0=_(()=>{WP();w89={name:"x",handles:["w","e"].map(Xu),input:function(Z,J){return Z==null?null:[[+Z[0],J[0][1]],[+Z[1],J[1][1]]]},output:function(Z){return Z&&[Z[0][0],Z[1][0]]}},$89={name:"y",handles:["n","s"].map(Xu),input:function(Z,J){return Z==null?null:[[J[0][0],+Z[0]],[J[1][0],+Z[1]]]},output:function(Z){return Z&&[Z[0][1],Z[1][1]]}},k89={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xu),input:function(Z){return Z==null?null:QJ8(Z)},output:function(Z){return Z}}});var qY0=_(()=>{YY0()});function WY0(Z){this._+=Z[0];for(let J=1,Q=Z.length;J<Q;++J)this._+=arguments[J]+Z[J]}function XJ8(Z){let J=Math.floor(Z);if(!(J>=0))throw Error(`invalid digits: ${Z}`);if(J>15)return WY0;let Q=10**J;return function(K){this._+=K[0];for(let X=1,U=K.length;X<U;++X)this._+=Math.round(arguments[X]*Q)/Q+K[X]}}class H2{constructor(Z){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Z==null?WY0:XJ8(Z)}moveTo(Z,J){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}`}closePath(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._append`Z`}lineTo(Z,J){this._append`L${this._x1=+Z},${this._y1=+J}`}quadraticCurveTo(Z,J,Q,K){this._append`Q${+Z},${+J},${this._x1=+Q},${this._y1=+K}`}bezierCurveTo(Z,J,Q,K,X,U){this._append`C${+Z},${+J},${+Q},${+K},${this._x1=+X},${this._y1=+U}`}arcTo(Z,J,Q,K,X){if(Z=+Z,J=+J,Q=+Q,K=+K,X=+X,X<0)throw Error(`negative radius: ${X}`);let U=this._x1,Y=this._y1,q=Q-Z,W=K-J,G=U-Z,z=Y-J,H=G*G+z*z;if(this._x1===null)this._append`M${this._x1=Z},${this._y1=J}`;else if(!(H>0.000001));else if(!(Math.abs(z*q-W*G)>0.000001)||!X)this._append`L${this._x1=Z},${this._y1=J}`;else{let F=Q-U,M=K-Y,B=q*q+W*W,O=F*F+M*M,R=Math.sqrt(B),D=Math.sqrt(H),L=X*Math.tan((Uu-Math.acos((B+H-O)/(2*R*D)))/2),A=L/D,V=L/R;if(Math.abs(A-1)>0.000001)this._append`L${Z+A*G},${J+A*z}`;this._append`A${X},${X},0,0,${+(z*F>G*M)},${this._x1=Z+V*q},${this._y1=J+V*W}`}}arc(Z,J,Q,K,X,U){if(Z=+Z,J=+J,Q=+Q,U=!!U,Q<0)throw Error(`negative radius: ${Q}`);let Y=Q*Math.cos(K),q=Q*Math.sin(K),W=Z+Y,G=J+q,z=1^U,H=U?K-X:X-K;if(this._x1===null)this._append`M${W},${G}`;else if(Math.abs(this._x1-W)>0.000001||Math.abs(this._y1-G)>0.000001)this._append`L${W},${G}`;if(!Q)return;if(H<0)H=H%Yu+Yu;if(H>KJ8)this._append`A${Q},${Q},0,1,${z},${Z-Y},${J-q}A${Q},${Q},0,1,${z},${this._x1=W},${this._y1=G}`;else if(H>0.000001)this._append`A${Q},${Q},0,${+(H>=Uu)},${z},${this._x1=Z+Q*Math.cos(X)},${this._y1=J+Q*Math.sin(X)}`}rect(Z,J,Q,K){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}h${Q=+Q}v${+K}h${-Q}Z`}toString(){return this._}}function GY0(){return new H2}var Uu,Yu,KJ8;var zY0=_(()=>{Uu=Math.PI,Yu=2*Uu,KJ8=Yu-0.000001;GY0.prototype=H2.prototype});var qu=_(()=>{zY0()});var HY0=()=>{};var FY0=()=>{};var MY0=()=>{};var BY0=()=>{};var OY0=()=>{};var RY0=()=>{};var DY0=()=>{};function Wu(Z){return Math.abs(Z=Math.round(Z))>=1000000000000000000000?Z.toLocaleString("en").replace(/,/g,""):Z.toString(10)}function kG(Z,J){if(!isFinite(Z)||Z===0)return null;var Q=(Z=J?Z.toExponential(J-1):Z.toExponential()).indexOf("e"),K=Z.slice(0,Q);return[K.length>1?K[0]+K.slice(2):K,+Z.slice(Q+1)]}function G5(Z){return Z=kG(Math.abs(Z)),Z?Z[1]:NaN}var k3=()=>{};function Gu(Z,J){return function(Q,K){var X=Q.length,U=[],Y=0,q=Z[0],W=0;while(X>0&&q>0){if(W+q+1>K)q=Math.max(1,K-W);if(U.push(Q.substring(X-=q,X+q)),(W+=q+1)>K)break;q=Z[Y=(Y+1)%Z.length]}return U.reverse().join(J)}}function zu(Z){return function(J){return J.replace(/[0-9]/g,function(Q){return Z[+Q]})}}function S1(Z){if(!(J=UJ8.exec(Z)))throw Error("invalid format: "+Z);var J;return new GP({fill:J[1],align:J[2],sign:J[3],symbol:J[4],zero:J[5],width:J[6],comma:J[7],precision:J[8]&&J[8].slice(1),trim:J[9],type:J[10]})}function GP(Z){this.fill=Z.fill===void 0?" ":Z.fill+"",this.align=Z.align===void 0?">":Z.align+"",this.sign=Z.sign===void 0?"-":Z.sign+"",this.symbol=Z.symbol===void 0?"":Z.symbol+"",this.zero=!!Z.zero,this.width=Z.width===void 0?void 0:+Z.width,this.comma=!!Z.comma,this.precision=Z.precision===void 0?void 0:+Z.precision,this.trim=!!Z.trim,this.type=Z.type===void 0?"":Z.type+""}var UJ8;var Hu=_(()=>{UJ8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;S1.prototype=GP.prototype;GP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function Fu(Z){Z:for(var J=Z.length,Q=1,K=-1,X;Q<J;++Q)switch(Z[Q]){case".":K=X=Q;break;case"0":if(K===0)K=Q;X=Q;break;default:if(!+Z[Q])break Z;if(K>0)K=0;break}return K>0?Z.slice(0,K)+Z.slice(X+1):Z}function Mu(Z,J){var Q=kG(Z,J);if(!Q)return _3=void 0,Z.toPrecision(J);var K=Q[0],X=Q[1],U=X-(_3=Math.max(-8,Math.min(8,Math.floor(X/3)))*3)+1,Y=K.length;return U===Y?K:U>Y?K+Array(U-Y+1).join("0"):U>0?K.slice(0,U)+"."+K.slice(U):"0."+Array(1-U).join("0")+kG(Z,Math.max(0,J+U-1))[0]}var _3;var Bu=()=>{};function zP(Z,J){var Q=kG(Z,J);if(!Q)return Z+"";var K=Q[0],X=Q[1];return X<0?"0."+Array(-X).join("0")+K:K.length>X+1?K.slice(0,X+1)+"."+K.slice(X+1):K+Array(X-K.length+2).join("0")}var LY0=()=>{};var Ou;var IY0=_(()=>{Bu();LY0();Ou={"%":(Z,J)=>(Z*100).toFixed(J),b:(Z)=>Math.round(Z).toString(2),c:(Z)=>Z+"",d:Wu,e:(Z,J)=>Z.toExponential(J),f:(Z,J)=>Z.toFixed(J),g:(Z,J)=>Z.toPrecision(J),o:(Z)=>Math.round(Z).toString(8),p:(Z,J)=>zP(Z*100,J),r:zP,s:Mu,X:(Z)=>Math.round(Z).toString(16).toUpperCase(),x:(Z)=>Math.round(Z).toString(16)}});function HP(Z){return Z}function Ru(Z){var J=Z.grouping===void 0||Z.thousands===void 0?HP:Gu(AY0.call(Z.grouping,Number),Z.thousands+""),Q=Z.currency===void 0?"":Z.currency[0]+"",K=Z.currency===void 0?"":Z.currency[1]+"",X=Z.decimal===void 0?".":Z.decimal+"",U=Z.numerals===void 0?HP:zu(AY0.call(Z.numerals,String)),Y=Z.percent===void 0?"%":Z.percent+"",q=Z.minus===void 0?"":Z.minus+"",W=Z.nan===void 0?"NaN":Z.nan+"";function G(H,F){H=S1(H);var{fill:M,align:B,sign:O,symbol:R,zero:D,width:L,comma:A,precision:V,trim:N,type:E}=H;if(E==="n")A=!0,E="g";else if(!Ou[E])V===void 0&&(V=12),N=!0,E="g";if(D||M==="0"&&B==="=")D=!0,M="0",B="=";var j=(F&&F.prefix!==void 0?F.prefix:"")+(R==="$"?Q:R==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),C=(R==="$"?K:/[%p]/.test(E)?Y:"")+(F&&F.suffix!==void 0?F.suffix:""),$=Ou[E],k=/[defgprs%]/.test(E);V=V===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function w(P){var T=j,S=C,f,v,x;if(E==="c")S=$(P)+S,P="";else{P=+P;var b=P<0||1/P<0;if(P=isNaN(P)?W:$(Math.abs(P),V),N)P=Fu(P);if(b&&+P===0&&O!=="+")b=!1;if(T=(b?O==="("?O:q:O==="-"||O==="("?"":O)+T,S=(E==="s"&&!isNaN(P)&&_3!==void 0?NY0[8+_3/3]:"")+S+(b&&O==="("?")":""),k){f=-1,v=P.length;while(++f<v)if(x=P.charCodeAt(f),48>x||x>57){S=(x===46?X+P.slice(f+1):P.slice(f))+S,P=P.slice(0,f);break}}}if(A&&!D)P=J(P,1/0);var y=T.length+P.length+S.length,u=y<L?Array(L-y+1).join(M):"";if(A&&D)P=J(u+P,u.length?L-S.length:1/0),u="";switch(B){case"<":P=T+P+S+u;break;case"=":P=T+u+P+S;break;case"^":P=u.slice(0,y=u.length>>1)+T+P+S+u.slice(y);break;default:P=u+T+P+S;break}return U(P)}return w.toString=function(){return H+""},w}function z(H,F){var M=Math.max(-8,Math.min(8,Math.floor(G5(F)/3)))*3,B=Math.pow(10,-M),O=G((H=S1(H),H.type="f",H),{suffix:NY0[8+M/3]});return function(R){return O(B*R)}}return{format:G,formatPrefix:z}}var AY0,NY0;var EY0=_(()=>{k3();Hu();IY0();Bu();AY0=Array.prototype.map,NY0=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"]});function Du(Z){return FP=Ru(Z),IX=FP.format,MP=FP.formatPrefix,FP}var FP,IX,MP;var VY0=_(()=>{EY0();Du({thousands:",",grouping:[3],currency:["$",""]})});function BP(Z){return Math.max(0,-G5(Math.abs(Z)))}var PY0=_(()=>{k3()});function OP(Z,J){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(G5(J)/3)))*3-G5(Math.abs(Z)))}var jY0=_(()=>{k3()});function RP(Z,J){return Z=Math.abs(Z),J=Math.abs(J)-Z,Math.max(0,G5(J)-G5(Z))+1}var CY0=_(()=>{k3()});var Lu=_(()=>{VY0();Hu();PY0();jY0();CY0()});var SY0=()=>{};function YJ8(Z){var J=0,Q=Z.children,K=Q&&Q.length;if(!K)J=1;else while(--K>=0)J+=Q[K].value;Z.value=J}function Iu(){return this.eachAfter(YJ8)}function Au(Z,J){let Q=-1;for(let K of this)Z.call(J,K,++Q,this);return this}function Nu(Z,J){var Q=this,K=[Q],X,U,Y=-1;while(Q=K.pop())if(Z.call(J,Q,++Y,this),X=Q.children)for(U=X.length-1;U>=0;--U)K.push(X[U]);return this}function Eu(Z,J){var Q=this,K=[Q],X=[],U,Y,q,W=-1;while(Q=K.pop())if(X.push(Q),U=Q.children)for(Y=0,q=U.length;Y<q;++Y)K.push(U[Y]);while(Q=X.pop())Z.call(J,Q,++W,this);return this}function Vu(Z,J){let Q=-1;for(let K of this)if(Z.call(J,K,++Q,this))return K}function Pu(Z){return this.eachAfter(function(J){var Q=+Z(J.data)||0,K=J.children,X=K&&K.length;while(--X>=0)Q+=K[X].value;J.value=Q})}function ju(Z){return this.eachBefore(function(J){if(J.children)J.children.sort(Z)})}function Cu(Z){var J=this,Q=qJ8(J,Z),K=[J];while(J!==Q)J=J.parent,K.push(J);var X=K.length;while(Z!==Q)K.splice(X,0,Z),Z=Z.parent;return K}function qJ8(Z,J){if(Z===J)return Z;var Q=Z.ancestors(),K=J.ancestors(),X=null;Z=Q.pop(),J=K.pop();while(Z===J)X=Z,Z=Q.pop(),J=K.pop();return X}function Su(){var Z=this,J=[Z];while(Z=Z.parent)J.push(Z);return J}function Tu(){return Array.from(this)}function wu(){var Z=[];return this.eachBefore(function(J){if(!J.children)Z.push(J)}),Z}function $u(){var Z=this,J=[];return Z.each(function(Q){if(Q!==Z)J.push({source:Q.parent,target:Q})}),J}function*ku(){var Z=this,J,Q=[Z],K,X,U;do{J=Q.reverse(),Q=[];while(Z=J.pop())if(yield Z,K=Z.children)for(X=0,U=K.length;X<U;++X)Q.push(K[X])}while(Q.length)}function F2(Z,J){if(Z instanceof Map){if(Z=[void 0,Z],J===void 0)J=zJ8}else if(J===void 0)J=GJ8;var Q=new f3(Z),K,X=[Q],U,Y,q,W;while(K=X.pop())if((Y=J(K.data))&&(W=(Y=Array.from(Y)).length)){K.children=Y;for(q=W-1;q>=0;--q)X.push(U=Y[q]=new f3(Y[q])),U.parent=K,U.depth=K.depth+1}return Q.eachBefore(FJ8)}function WJ8(){return F2(this).eachBefore(HJ8)}function GJ8(Z){return Z.children}function zJ8(Z){return Array.isArray(Z)?Z[1]:null}function HJ8(Z){if(Z.data.value!==void 0)Z.value=Z.data.value;Z.data=Z.data.data}function FJ8(Z){var J=0;do Z.height=J;while((Z=Z.parent)&&Z.height<++J)}function f3(Z){this.data=Z,this.depth=this.height=0,this.parent=null}var TY0=_(()=>{f3.prototype=F2.prototype={constructor:f3,count:Iu,each:Au,eachAfter:Eu,eachBefore:Nu,find:Vu,sum:Pu,sort:ju,path:Cu,ancestors:Su,descendants:Tu,leaves:wu,links:$u,copy:WJ8,[Symbol.iterator]:ku}});function wY0(Z){if(typeof Z!=="function")throw Error();return Z}function M2(){return 0}function _G(Z){return function(){return Z}}function _u(Z){Z.x0=Math.round(Z.x0),Z.y0=Math.round(Z.y0),Z.x1=Math.round(Z.x1),Z.y1=Math.round(Z.y1)}function fu(Z,J,Q,K,X){var U=Z.children,Y,q=-1,W=U.length,G=Z.value&&(K-J)/Z.value;while(++q<W)Y=U[q],Y.y0=Q,Y.y1=X,Y.x0=J,Y.x1=J+=Y.value*G}function vu(Z,J,Q,K,X){var U=Z.children,Y,q=-1,W=U.length,G=Z.value&&(X-Q)/Z.value;while(++q<W)Y=U[q],Y.x0=J,Y.x1=K,Y.y0=Q,Y.y1=Q+=Y.value*G}function BJ8(Z,J,Q,K,X,U){var Y=[],q=J.children,W,G,z=0,H=0,F=q.length,M,B,O=J.value,R,D,L,A,V,N,E;while(z<F){M=X-Q,B=U-K;do R=q[H++].value;while(!R&&H<F);D=L=R,N=Math.max(B/M,M/B)/(O*Z),E=R*R*N,V=Math.max(L/E,E/D);for(;H<F;++H){if(R+=G=q[H].value,G<D)D=G;if(G>L)L=G;if(E=R*R*N,A=Math.max(L/E,E/D),A>V){R-=G;break}V=A}if(Y.push(W={value:R,dice:M<B,children:q.slice(z,H)}),W.dice)fu(W,Q,K,X,O?K+=B*R/O:U);else vu(W,Q,K,O?Q+=M*R/O:X,U);O-=R,z=H}return Y}var MJ8,$Y0;var kY0=_(()=>{MJ8=(1+Math.sqrt(5))/2;$Y0=function Z(J){function Q(K,X,U,Y,q){BJ8(J,K,X,U,Y,q)}return Q.ratio=function(K){return Z((K=+K)>1?K:1)},Q}(MJ8)});function DP(){var Z=$Y0,J=!1,Q=1,K=1,X=[0],U=M2,Y=M2,q=M2,W=M2,G=M2;function z(F){if(F.x0=F.y0=0,F.x1=Q,F.y1=K,F.eachBefore(H),X=[0],J)F.eachBefore(_u);return F}function H(F){var M=X[F.depth],B=F.x0+M,O=F.y0+M,R=F.x1-M,D=F.y1-M;if(R<B)B=R=(B+R)/2;if(D<O)O=D=(O+D)/2;if(F.x0=B,F.y0=O,F.x1=R,F.y1=D,F.children){if(M=X[F.depth+1]=U(F)/2,B+=G(F)-M,O+=Y(F)-M,R-=q(F)-M,D-=W(F)-M,R<B)B=R=(B+R)/2;if(D<O)O=D=(O+D)/2;Z(F,B,O,R,D)}}return z.round=function(F){return arguments.length?(J=!!F,z):J},z.size=function(F){return arguments.length?(Q=+F[0],K=+F[1],z):[Q,K]},z.tile=function(F){return arguments.length?(Z=wY0(F),z):Z},z.padding=function(F){return arguments.length?z.paddingInner(F).paddingOuter(F):z.paddingInner()},z.paddingInner=function(F){return arguments.length?(U=typeof F==="function"?F:_G(+F),z):U},z.paddingOuter=function(F){return arguments.length?z.paddingTop(F).paddingRight(F).paddingBottom(F).paddingLeft(F):z.paddingTop()},z.paddingTop=function(F){return arguments.length?(Y=typeof F==="function"?F:_G(+F),z):Y},z.paddingRight=function(F){return arguments.length?(q=typeof F==="function"?F:_G(+F),z):q},z.paddingBottom=function(F){return arguments.length?(W=typeof F==="function"?F:_G(+F),z):W},z.paddingLeft=function(F){return arguments.length?(G=typeof F==="function"?F:_G(+F),z):G},z}var _Y0=_(()=>{kY0()});var fY0=_(()=>{TY0();_Y0()});var vY0=()=>{};var xY0=()=>{};function T1(Z,J){switch(arguments.length){case 0:break;case 1:this.range(Z);break;default:this.range(J).domain(Z);break}return this}function S4(){var Z=new z3,J=[],Q=[],K=xu;function X(U){let Y=Z.get(U);if(Y===void 0){if(K!==xu)return K;Z.set(U,Y=J.push(U)-1)}return Q[Y%Q.length]}return X.domain=function(U){if(!arguments.length)return J.slice();J=[],Z=new z3;for(let Y of U){if(Z.has(Y))continue;Z.set(Y,J.push(Y)-1)}return X},X.range=function(U){return arguments.length?(Q=Array.from(U),X):Q.slice()},X.unknown=function(U){return arguments.length?(K=U,X):K},X.copy=function(){return S4(J,Q).unknown(K)},T1.apply(X,arguments),X}var xu;var bu=_(()=>{N1();xu=Symbol("implicit")});function B2(){var Z=S4().unknown(void 0),J=Z.domain,Q=Z.range,K=0,X=1,U,Y,q=!1,W=0,G=0,z=0.5;delete Z.unknown;function H(){var F=J().length,M=X<K,B=M?X:K,O=M?K:X;if(U=(O-B)/Math.max(1,F-W+G*2),q)U=Math.floor(U);if(B+=(O-B-U*(F-W))*z,Y=U*(1-W),q)B=Math.round(B),Y=Math.round(Y);var R=xV(F).map(function(D){return B+U*D});return Q(M?R.reverse():R)}return Z.domain=function(F){return arguments.length?(J(F),H()):J()},Z.range=function(F){return arguments.length?([K,X]=F,K=+K,X=+X,H()):[K,X]},Z.rangeRound=function(F){return[K,X]=F,K=+K,X=+X,q=!0,H()},Z.bandwidth=function(){return Y},Z.step=function(){return U},Z.round=function(F){return arguments.length?(q=!!F,H()):q},Z.padding=function(F){return arguments.length?(W=Math.min(1,G=+F),H()):W},Z.paddingInner=function(F){return arguments.length?(W=Math.min(1,F),H()):W},Z.paddingOuter=function(F){return arguments.length?(G=+F,H()):G},Z.align=function(F){return arguments.length?(z=Math.max(0,Math.min(1,F)),H()):z},Z.copy=function(){return B2(J(),[K,X]).round(q).paddingInner(W).paddingOuter(G).align(z)},T1.apply(H(),arguments)}var bY0=_(()=>{N1();bu()});function yu(Z){return function(){return Z}}function hu(Z){return+Z}function O2(Z){return Z}function mu(Z,J){return(J-=Z=+Z)?function(Q){return(Q-Z)/J}:yu(isNaN(J)?NaN:0.5)}function OJ8(Z,J){var Q;if(Z>J)Q=Z,Z=J,J=Q;return function(K){return Math.max(Z,Math.min(J,K))}}function RJ8(Z,J,Q){var K=Z[0],X=Z[1],U=J[0],Y=J[1];if(X<K)K=mu(X,K),U=Q(Y,U);else K=mu(K,X),U=Q(U,Y);return function(q){return U(K(q))}}function DJ8(Z,J,Q){var K=Math.min(Z.length,J.length)-1,X=Array(K),U=Array(K),Y=-1;if(Z[K]<Z[0])Z=Z.slice().reverse(),J=J.slice().reverse();while(++Y<K)X[Y]=mu(Z[Y],Z[Y+1]),U[Y]=Q(J[Y],J[Y+1]);return function(q){var W=Mh(Z,q,1,K)-1;return U[W](X[W](q))}}function LP(Z,J){return J.domain(Z.domain()).range(Z.range()).interpolate(Z.interpolate()).clamp(Z.clamp()).unknown(Z.unknown())}function LJ8(){var Z=yY0,J=yY0,Q=C1,K,X,U,Y=O2,q,W,G;function z(){var F=Math.min(Z.length,J.length);if(Y!==O2)Y=OJ8(Z[0],Z[F-1]);return q=F>2?DJ8:RJ8,W=G=null,H}function H(F){return F==null||isNaN(F=+F)?U:(W||(W=q(Z.map(K),J,Q)))(K(Y(F)))}return H.invert=function(F){return Y(X((G||(G=q(J,Z.map(K),w7)))(F)))},H.domain=function(F){return arguments.length?(Z=Array.from(F,hu),z()):Z.slice()},H.range=function(F){return arguments.length?(J=Array.from(F),z()):J.slice()},H.rangeRound=function(F){return J=Array.from(F),Q=rV,z()},H.clamp=function(F){return arguments.length?(Y=F?!0:O2,z()):Y!==O2},H.interpolate=function(F){return arguments.length?(Q=F,z()):Q},H.unknown=function(F){return arguments.length?(U=F,H):U},function(F,M){return K=F,X=M,z()}}function v3(){return LJ8()(O2,O2)}var yY0;var uu=_(()=>{N1();W2();yY0=[0,1]});function gu(Z,J,Q,K){var X=tH(Z,J,Q),U;switch(K=S1(K==null?",f":K),K.type){case"s":{var Y=Math.max(Math.abs(Z),Math.abs(J));if(K.precision==null&&!isNaN(U=OP(X,Y)))K.precision=U;return MP(K,Y)}case"":case"e":case"g":case"p":case"r":{if(K.precision==null&&!isNaN(U=RP(X,Math.max(Math.abs(Z),Math.abs(J)))))K.precision=U-(K.type==="e");break}case"f":case"%":{if(K.precision==null&&!isNaN(U=BP(X)))K.precision=U-(K.type==="%")*2;break}}return IX(K)}var hY0=_(()=>{N1();Lu()});function IJ8(Z){var J=Z.domain;return Z.ticks=function(Q){var K=J();return _V(K[0],K[K.length-1],Q==null?10:Q)},Z.tickFormat=function(Q,K){var X=J();return gu(X[0],X[X.length-1],Q==null?10:Q,K)},Z.nice=function(Q){if(Q==null)Q=10;var K=J(),X=0,U=K.length-1,Y=K[X],q=K[U],W,G,z=10;if(q<Y)G=Y,Y=q,q=G,G=X,X=U,U=G;while(z-- >0){if(G=H3(Y,q,Q),G===W)return K[X]=Y,K[U]=q,J(K);else if(G>0)Y=Math.floor(Y/G)*G,q=Math.ceil(q/G)*G;else if(G<0)Y=Math.ceil(Y*G)/G,q=Math.floor(q*G)/G;else break;W=G}return Z},Z}function z5(){var Z=v3();return Z.copy=function(){return LP(Z,z5())},T1.apply(Z,arguments),IJ8(Z)}var mY0=_(()=>{N1();uu();hY0()});function pu(Z,J){Z=Z.slice();var Q=0,K=Z.length-1,X=Z[Q],U=Z[K],Y;if(U<X)Y=Q,Q=K,K=Y,Y=X,X=U,U=Y;return Z[Q]=J.floor(X),Z[K]=J.ceil(U),Z}function mZ(Z,J,Q,K){function X(U){return Z(U=arguments.length===0?new Date:new Date(+U)),U}if(X.floor=(U)=>{return Z(U=new Date(+U)),U},X.ceil=(U)=>{return Z(U=new Date(U-1)),J(U,1),Z(U),U},X.round=(U)=>{let Y=X(U),q=X.ceil(U);return U-Y<q-U?Y:q},X.offset=(U,Y)=>{return J(U=new Date(+U),Y==null?1:Math.floor(Y)),U},X.range=(U,Y,q)=>{let W=[];if(U=X.ceil(U),q=q==null?1:Math.floor(q),!(U<Y)||!(q>0))return W;let G;do W.push(G=new Date(+U)),J(U,q),Z(U);while(G<U&&U<Y);return W},X.filter=(U)=>{return mZ((Y)=>{if(Y>=Y)while(Z(Y),!U(Y))Y.setTime(Y-1)},(Y,q)=>{if(Y>=Y)if(q<0)while(++q<=0)while(J(Y,-1),!U(Y));else while(--q>=0)while(J(Y,1),!U(Y));})},Q)X.count=(U,Y)=>{return cu.setTime(+U),lu.setTime(+Y),Z(cu),Z(lu),Math.floor(Q(cu,lu))},X.every=(U)=>{return U=Math.floor(U),!isFinite(U)||!(U>0)?null:!(U>1)?X:X.filter(K?(Y)=>K(Y)%U===0:(Y)=>X.count(0,Y)%U===0)};return X}var cu,lu;var XY=_(()=>{cu=new Date,lu=new Date});var AX,uY0;var du=_(()=>{XY();AX=mZ(()=>{},(Z,J)=>{Z.setTime(+Z+J)},(Z,J)=>{return J-Z});AX.every=(Z)=>{if(Z=Math.floor(Z),!isFinite(Z)||!(Z>0))return null;if(!(Z>1))return AX;return mZ((J)=>{J.setTime(Math.floor(J/Z)*Z)},(J,Q)=>{J.setTime(+J+Q*Z)},(J,Q)=>{return(Q-J)/Z})};uY0=AX.range});var qK=1000,jQ=60000,NX=3600000,w1=86400000,x3=604800000,iu=2592000000,IP=31536000000;var T4,gY0;var su=_(()=>{XY();T4=mZ((Z)=>{Z.setTime(Z-Z.getMilliseconds())},(Z,J)=>{Z.setTime(+Z+J*qK)},(Z,J)=>{return(J-Z)/qK},(Z)=>{return Z.getUTCSeconds()}),gY0=T4.range});var UY,AJ8,AP,NJ8;var ru=_(()=>{XY();UY=mZ((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*qK)},(Z,J)=>{Z.setTime(+Z+J*jQ)},(Z,J)=>{return(J-Z)/jQ},(Z)=>{return Z.getMinutes()}),AJ8=UY.range,AP=mZ((Z)=>{Z.setUTCSeconds(0,0)},(Z,J)=>{Z.setTime(+Z+J*jQ)},(Z,J)=>{return(J-Z)/jQ},(Z)=>{return Z.getUTCMinutes()}),NJ8=AP.range});var YY,EJ8,NP,VJ8;var nu=_(()=>{XY();YY=mZ((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*qK-Z.getMinutes()*jQ)},(Z,J)=>{Z.setTime(+Z+J*NX)},(Z,J)=>{return(J-Z)/NX},(Z)=>{return Z.getHours()}),EJ8=YY.range,NP=mZ((Z)=>{Z.setUTCMinutes(0,0,0)},(Z,J)=>{Z.setTime(+Z+J*NX)},(Z,J)=>{return(J-Z)/NX},(Z)=>{return Z.getUTCHours()}),VJ8=NP.range});var WK,PJ8,b3,jJ8,EP,CJ8;var au=_(()=>{XY();WK=mZ((Z)=>Z.setHours(0,0,0,0),(Z,J)=>Z.setDate(Z.getDate()+J),(Z,J)=>(J-Z-(J.getTimezoneOffset()-Z.getTimezoneOffset())*jQ)/w1,(Z)=>Z.getDate()-1),PJ8=WK.range,b3=mZ((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/w1},(Z)=>{return Z.getUTCDate()-1}),jJ8=b3.range,EP=mZ((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/w1},(Z)=>{return Math.floor(Z/w1)}),CJ8=EP.range});function fG(Z){return mZ((J)=>{J.setDate(J.getDate()-(J.getDay()+7-Z)%7),J.setHours(0,0,0,0)},(J,Q)=>{J.setDate(J.getDate()+Q*7)},(J,Q)=>{return(Q-J-(Q.getTimezoneOffset()-J.getTimezoneOffset())*jQ)/x3})}function vG(Z){return mZ((J)=>{J.setUTCDate(J.getUTCDate()-(J.getUTCDay()+7-Z)%7),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCDate(J.getUTCDate()+Q*7)},(J,Q)=>{return(Q-J)/x3})}var H5,$1,VP,PP,EX,jP,CP,pY0,SJ8,TJ8,wJ8,$J8,kJ8,_J8,xG,R2,cY0,lY0,k1,dY0,iY0,sY0,fJ8,vJ8,xJ8,bJ8,yJ8,hJ8;var ou=_(()=>{XY();H5=fG(0),$1=fG(1),VP=fG(2),PP=fG(3),EX=fG(4),jP=fG(5),CP=fG(6),pY0=H5.range,SJ8=$1.range,TJ8=VP.range,wJ8=PP.range,$J8=EX.range,kJ8=jP.range,_J8=CP.range;xG=vG(0),R2=vG(1),cY0=vG(2),lY0=vG(3),k1=vG(4),dY0=vG(5),iY0=vG(6),sY0=xG.range,fJ8=R2.range,vJ8=cY0.range,xJ8=lY0.range,bJ8=k1.range,yJ8=dY0.range,hJ8=iY0.range});var qY,mJ8,SP,uJ8;var tu=_(()=>{XY();qY=mZ((Z)=>{Z.setDate(1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setMonth(Z.getMonth()+J)},(Z,J)=>{return J.getMonth()-Z.getMonth()+(J.getFullYear()-Z.getFullYear())*12},(Z)=>{return Z.getMonth()}),mJ8=qY.range,SP=mZ((Z)=>{Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCMonth(Z.getUTCMonth()+J)},(Z,J)=>{return J.getUTCMonth()-Z.getUTCMonth()+(J.getUTCFullYear()-Z.getUTCFullYear())*12},(Z)=>{return Z.getUTCMonth()}),uJ8=SP.range});var w4,gJ8,F5,pJ8;var eu=_(()=>{XY();w4=mZ((Z)=>{Z.setMonth(0,1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setFullYear(Z.getFullYear()+J)},(Z,J)=>{return J.getFullYear()-Z.getFullYear()},(Z)=>{return Z.getFullYear()});w4.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:mZ((J)=>{J.setFullYear(Math.floor(J.getFullYear()/Z)*Z),J.setMonth(0,1),J.setHours(0,0,0,0)},(J,Q)=>{J.setFullYear(J.getFullYear()+Q*Z)})};gJ8=w4.range,F5=mZ((Z)=>{Z.setUTCMonth(0,1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCFullYear(Z.getUTCFullYear()+J)},(Z,J)=>{return J.getUTCFullYear()-Z.getUTCFullYear()},(Z)=>{return Z.getUTCFullYear()});F5.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:mZ((J)=>{J.setUTCFullYear(Math.floor(J.getUTCFullYear()/Z)*Z),J.setUTCMonth(0,1),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCFullYear(J.getUTCFullYear()+Q*Z)})};pJ8=F5.range});function rY0(Z,J,Q,K,X,U){let Y=[[T4,1,qK],[T4,5,5*qK],[T4,15,15*qK],[T4,30,30*qK],[U,1,jQ],[U,5,5*jQ],[U,15,15*jQ],[U,30,30*jQ],[X,1,NX],[X,3,3*NX],[X,6,6*NX],[X,12,12*NX],[K,1,w1],[K,2,2*w1],[Q,1,x3],[J,1,iu],[J,3,3*iu],[Z,1,IP]];function q(G,z,H){let F=z<G;if(F)[G,z]=[z,G];let M=H&&typeof H.range==="function"?H:W(G,z,H),B=M?M.range(G,+z+1):[];return F?B.reverse():B}function W(G,z,H){let F=Math.abs(z-G)/H,M=jG(([,,R])=>R).right(Y,F);if(M===Y.length)return Z.every(tH(G/IP,z/IP,H));if(M===0)return AX.every(Math.max(tH(G,z,H),1));let[B,O]=Y[F/Y[M-1][2]<Y[M][2]/F?M-1:M];return B.every(O)}return[q,W]}var cJ8,lJ8,Zg,Jg;var nY0=_(()=>{N1();du();su();ru();nu();au();ou();tu();eu();[cJ8,lJ8]=rY0(F5,SP,xG,EP,NP,AP),[Zg,Jg]=rY0(w4,qY,H5,WK,YY,UY)});var TP=_(()=>{du();su();ru();nu();au();ou();tu();eu();nY0()});function Qg(Z){if(0<=Z.y&&Z.y<100){var J=new Date(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L);return J.setFullYear(Z.y),J}return new Date(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L)}function Kg(Z){if(0<=Z.y&&Z.y<100){var J=new Date(Date.UTC(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L));return J.setUTCFullYear(Z.y),J}return new Date(Date.UTC(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L))}function y3(Z,J,Q){return{y:Z,m:J,d:Q,H:0,M:0,S:0,L:0}}function Xg(Z){var{dateTime:J,date:Q,time:K,periods:X,days:U,shortDays:Y,months:q,shortMonths:W}=Z,G=h3(X),z=m3(X),H=h3(U),F=m3(U),M=h3(Y),B=m3(Y),O=h3(q),R=m3(q),D=h3(W),L=m3(W),A={a:x,A:b,b:y,B:u,c:null,d:J10,e:J10,f:M78,g:V78,G:j78,H:z78,I:H78,j:F78,L:Y10,m:B78,M:O78,p:h,q:p,Q:X10,s:U10,S:R78,u:D78,U:L78,V:I78,w:A78,W:N78,x:null,X:null,y:E78,Y:P78,Z:C78,"%":K10},V={a:r,A:e,b:i,B:U0,c:null,d:Q10,e:Q10,f:$78,g:u78,G:p78,H:S78,I:T78,j:w78,L:W10,m:k78,M:_78,p:a,q:z0,Q:X10,s:U10,S:f78,u:v78,U:x78,V:b78,w:y78,W:h78,x:null,X:null,y:m78,Y:g78,Z:c78,"%":K10},N={a:k,A:w,b:P,B:T,c:S,d:eY0,e:eY0,f:Y78,g:tY0,G:oY0,H:Z10,I:Z10,j:Q78,L:U78,m:J78,M:K78,p:$,q:Z78,Q:W78,s:G78,S:X78,u:nJ8,U:aJ8,V:oJ8,w:rJ8,W:tJ8,x:f,X:v,y:tY0,Y:oY0,Z:eJ8,"%":q78};A.x=E(Q,A),A.X=E(K,A),A.c=E(J,A),V.x=E(Q,V),V.X=E(K,V),V.c=E(J,V);function E(J0,Q0){return function(t){var n=[],Y0=-1,o=0,M0=J0.length,X0,E0,d;if(!(t instanceof Date))t=new Date(+t);while(++Y0<M0)if(J0.charCodeAt(Y0)===37){if(n.push(J0.slice(o,Y0)),(E0=aY0[X0=J0.charAt(++Y0)])!=null)X0=J0.charAt(++Y0);else E0=X0==="e"?" ":"0";if(d=Q0[X0])X0=d(t,E0);n.push(X0),o=Y0+1}return n.push(J0.slice(o,Y0)),n.join("")}}function j(J0,Q0){return function(t){var n=y3(1900,void 0,1),Y0=C(n,J0,t+="",0),o,M0;if(Y0!=t.length)return null;if("Q"in n)return new Date(n.Q);if("s"in n)return new Date(n.s*1000+("L"in n?n.L:0));if(Q0&&!("Z"in n))n.Z=0;if("p"in n)n.H=n.H%12+n.p*12;if(n.m===void 0)n.m="q"in n?n.q:0;if("V"in n){if(n.V<1||n.V>53)return null;if(!("w"in n))n.w=1;if("Z"in n)o=Kg(y3(n.y,0,1)),M0=o.getUTCDay(),o=M0>4||M0===0?R2.ceil(o):R2(o),o=b3.offset(o,(n.V-1)*7),n.y=o.getUTCFullYear(),n.m=o.getUTCMonth(),n.d=o.getUTCDate()+(n.w+6)%7;else o=Qg(y3(n.y,0,1)),M0=o.getDay(),o=M0>4||M0===0?$1.ceil(o):$1(o),o=WK.offset(o,(n.V-1)*7),n.y=o.getFullYear(),n.m=o.getMonth(),n.d=o.getDate()+(n.w+6)%7}else if("W"in n||"U"in n){if(!("w"in n))n.w="u"in n?n.u%7:("W"in n)?1:0;M0="Z"in n?Kg(y3(n.y,0,1)).getUTCDay():Qg(y3(n.y,0,1)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+n.W*7-(M0+5)%7:n.w+n.U*7-(M0+6)%7}if("Z"in n)return n.H+=n.Z/100|0,n.M+=n.Z%100,Kg(n);return Qg(n)}}function C(J0,Q0,t,n){var Y0=0,o=Q0.length,M0=t.length,X0,E0;while(Y0<o){if(n>=M0)return-1;if(X0=Q0.charCodeAt(Y0++),X0===37){if(X0=Q0.charAt(Y0++),E0=N[X0 in aY0?Q0.charAt(Y0++):X0],!E0||(n=E0(J0,t,n))<0)return-1}else if(X0!=t.charCodeAt(n++))return-1}return n}function $(J0,Q0,t){var n=G.exec(Q0.slice(t));return n?(J0.p=z.get(n[0].toLowerCase()),t+n[0].length):-1}function k(J0,Q0,t){var n=M.exec(Q0.slice(t));return n?(J0.w=B.get(n[0].toLowerCase()),t+n[0].length):-1}function w(J0,Q0,t){var n=H.exec(Q0.slice(t));return n?(J0.w=F.get(n[0].toLowerCase()),t+n[0].length):-1}function P(J0,Q0,t){var n=D.exec(Q0.slice(t));return n?(J0.m=L.get(n[0].toLowerCase()),t+n[0].length):-1}function T(J0,Q0,t){var n=O.exec(Q0.slice(t));return n?(J0.m=R.get(n[0].toLowerCase()),t+n[0].length):-1}function S(J0,Q0,t){return C(J0,J,Q0,t)}function f(J0,Q0,t){return C(J0,Q,Q0,t)}function v(J0,Q0,t){return C(J0,K,Q0,t)}function x(J0){return Y[J0.getDay()]}function b(J0){return U[J0.getDay()]}function y(J0){return W[J0.getMonth()]}function u(J0){return q[J0.getMonth()]}function h(J0){return X[+(J0.getHours()>=12)]}function p(J0){return 1+~~(J0.getMonth()/3)}function r(J0){return Y[J0.getUTCDay()]}function e(J0){return U[J0.getUTCDay()]}function i(J0){return W[J0.getUTCMonth()]}function U0(J0){return q[J0.getUTCMonth()]}function a(J0){return X[+(J0.getUTCHours()>=12)]}function z0(J0){return 1+~~(J0.getUTCMonth()/3)}return{format:function(J0){var Q0=E(J0+="",A);return Q0.toString=function(){return J0},Q0},parse:function(J0){var Q0=j(J0+="",!1);return Q0.toString=function(){return J0},Q0},utcFormat:function(J0){var Q0=E(J0+="",V);return Q0.toString=function(){return J0},Q0},utcParse:function(J0){var Q0=j(J0+="",!0);return Q0.toString=function(){return J0},Q0}}}function FZ(Z,J,Q){var K=Z<0?"-":"",X=(K?-Z:Z)+"",U=X.length;return K+(U<Q?Array(Q-U+1).join(J)+X:X)}function sJ8(Z){return Z.replace(iJ8,"\\$&")}function h3(Z){return new RegExp("^(?:"+Z.map(sJ8).join("|")+")","i")}function m3(Z){return new Map(Z.map((J,Q)=>[J.toLowerCase(),Q]))}function rJ8(Z,J,Q){var K=$7.exec(J.slice(Q,Q+1));return K?(Z.w=+K[0],Q+K[0].length):-1}function nJ8(Z,J,Q){var K=$7.exec(J.slice(Q,Q+1));return K?(Z.u=+K[0],Q+K[0].length):-1}function aJ8(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.U=+K[0],Q+K[0].length):-1}function oJ8(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.V=+K[0],Q+K[0].length):-1}function tJ8(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.W=+K[0],Q+K[0].length):-1}function oY0(Z,J,Q){var K=$7.exec(J.slice(Q,Q+4));return K?(Z.y=+K[0],Q+K[0].length):-1}function tY0(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.y=+K[0]+(+K[0]>68?1900:2000),Q+K[0].length):-1}function eJ8(Z,J,Q){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(J.slice(Q,Q+6));return K?(Z.Z=K[1]?0:-(K[2]+(K[3]||"00")),Q+K[0].length):-1}function Z78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+1));return K?(Z.q=K[0]*3-3,Q+K[0].length):-1}function J78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.m=K[0]-1,Q+K[0].length):-1}function eY0(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.d=+K[0],Q+K[0].length):-1}function Q78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+3));return K?(Z.m=0,Z.d=+K[0],Q+K[0].length):-1}function Z10(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.H=+K[0],Q+K[0].length):-1}function K78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.M=+K[0],Q+K[0].length):-1}function X78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+2));return K?(Z.S=+K[0],Q+K[0].length):-1}function U78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+3));return K?(Z.L=+K[0],Q+K[0].length):-1}function Y78(Z,J,Q){var K=$7.exec(J.slice(Q,Q+6));return K?(Z.L=Math.floor(K[0]/1000),Q+K[0].length):-1}function q78(Z,J,Q){var K=dJ8.exec(J.slice(Q,Q+1));return K?Q+K[0].length:-1}function W78(Z,J,Q){var K=$7.exec(J.slice(Q));return K?(Z.Q=+K[0],Q+K[0].length):-1}function G78(Z,J,Q){var K=$7.exec(J.slice(Q));return K?(Z.s=+K[0],Q+K[0].length):-1}function J10(Z,J){return FZ(Z.getDate(),J,2)}function z78(Z,J){return FZ(Z.getHours(),J,2)}function H78(Z,J){return FZ(Z.getHours()%12||12,J,2)}function F78(Z,J){return FZ(1+WK.count(w4(Z),Z),J,3)}function Y10(Z,J){return FZ(Z.getMilliseconds(),J,3)}function M78(Z,J){return Y10(Z,J)+"000"}function B78(Z,J){return FZ(Z.getMonth()+1,J,2)}function O78(Z,J){return FZ(Z.getMinutes(),J,2)}function R78(Z,J){return FZ(Z.getSeconds(),J,2)}function D78(Z){var J=Z.getDay();return J===0?7:J}function L78(Z,J){return FZ(H5.count(w4(Z)-1,Z),J,2)}function q10(Z){var J=Z.getDay();return J>=4||J===0?EX(Z):EX.ceil(Z)}function I78(Z,J){return Z=q10(Z),FZ(EX.count(w4(Z),Z)+(w4(Z).getDay()===4),J,2)}function A78(Z){return Z.getDay()}function N78(Z,J){return FZ($1.count(w4(Z)-1,Z),J,2)}function E78(Z,J){return FZ(Z.getFullYear()%100,J,2)}function V78(Z,J){return Z=q10(Z),FZ(Z.getFullYear()%100,J,2)}function P78(Z,J){return FZ(Z.getFullYear()%1e4,J,4)}function j78(Z,J){var Q=Z.getDay();return Z=Q>=4||Q===0?EX(Z):EX.ceil(Z),FZ(Z.getFullYear()%1e4,J,4)}function C78(Z){var J=Z.getTimezoneOffset();return(J>0?"-":(J*=-1,"+"))+FZ(J/60|0,"0",2)+FZ(J%60,"0",2)}function Q10(Z,J){return FZ(Z.getUTCDate(),J,2)}function S78(Z,J){return FZ(Z.getUTCHours(),J,2)}function T78(Z,J){return FZ(Z.getUTCHours()%12||12,J,2)}function w78(Z,J){return FZ(1+b3.count(F5(Z),Z),J,3)}function W10(Z,J){return FZ(Z.getUTCMilliseconds(),J,3)}function $78(Z,J){return W10(Z,J)+"000"}function k78(Z,J){return FZ(Z.getUTCMonth()+1,J,2)}function _78(Z,J){return FZ(Z.getUTCMinutes(),J,2)}function f78(Z,J){return FZ(Z.getUTCSeconds(),J,2)}function v78(Z){var J=Z.getUTCDay();return J===0?7:J}function x78(Z,J){return FZ(xG.count(F5(Z)-1,Z),J,2)}function G10(Z){var J=Z.getUTCDay();return J>=4||J===0?k1(Z):k1.ceil(Z)}function b78(Z,J){return Z=G10(Z),FZ(k1.count(F5(Z),Z)+(F5(Z).getUTCDay()===4),J,2)}function y78(Z){return Z.getUTCDay()}function h78(Z,J){return FZ(R2.count(F5(Z)-1,Z),J,2)}function m78(Z,J){return FZ(Z.getUTCFullYear()%100,J,2)}function u78(Z,J){return Z=G10(Z),FZ(Z.getUTCFullYear()%100,J,2)}function g78(Z,J){return FZ(Z.getUTCFullYear()%1e4,J,4)}function p78(Z,J){var Q=Z.getUTCDay();return Z=Q>=4||Q===0?k1(Z):k1.ceil(Z),FZ(Z.getUTCFullYear()%1e4,J,4)}function c78(){return"+0000"}function K10(){return"%"}function X10(Z){return+Z}function U10(Z){return Math.floor(+Z/1000)}var aY0,$7,dJ8,iJ8;var z10=_(()=>{TP();aY0={"-":"",_:" ","0":"0"},$7=/^\s*\d+/,dJ8=/^%/,iJ8=/[\\^$*+?|[\]().{}]/g});function Ug(Z){return D2=Xg(Z),bG=D2.format,H10=D2.parse,F10=D2.utcFormat,M10=D2.utcParse,D2}var D2,bG,H10,F10,M10;var B10=_(()=>{z10();Ug({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var Yg=_(()=>{B10()});function l78(Z){return new Date(Z)}function d78(Z){return Z instanceof Date?+Z:+new Date(+Z)}function O10(Z,J,Q,K,X,U,Y,q,W,G){var z=v3(),H=z.invert,F=z.domain,M=G(".%L"),B=G(":%S"),O=G("%I:%M"),R=G("%I %p"),D=G("%a %d"),L=G("%b %d"),A=G("%B"),V=G("%Y");function N(E){return(W(E)<E?M:q(E)<E?B:Y(E)<E?O:U(E)<E?R:K(E)<E?X(E)<E?D:L:Q(E)<E?A:V)(E)}return z.invert=function(E){return new Date(H(E))},z.domain=function(E){return arguments.length?F(Array.from(E,d78)):F().map(l78)},z.ticks=function(E){var j=F();return Z(j[0],j[j.length-1],E==null?10:E)},z.tickFormat=function(E,j){return j==null?N:G(j)},z.nice=function(E){var j=F();if(!E||typeof E.range!=="function")E=J(j[0],j[j.length-1],E==null?10:E);return E?F(pu(j,E)):z},z.copy=function(){return LP(z,O10(Z,J,Q,K,X,U,Y,q,W,G))},z}function wP(){return T1.apply(O10(Zg,Jg,w4,qY,H5,WK,YY,UY,T4,bG).domain([new Date(2000,0,1),new Date(2000,0,2)]),arguments)}var R10=_(()=>{TP();Yg();uu()});var D10=_(()=>{bY0();mY0();bu();R10()});function qg(Z){var J=Z.length/6|0,Q=Array(J),K=0;while(K<J)Q[K]="#"+Z.slice(K*6,++K*6);return Q}var Wg;var L10=_(()=>{Wg=qg("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var I10=_(()=>{L10()});function QJ(Z){return function(){return Z}}function N10(Z){return Z>1?0:Z<-1?L2:Math.acos(Z)}function zg(Z){return Z>=1?u3:Z<=-1?-u3:Math.asin(Z)}var Gg,JQ,_1,A10,$P,M5,yG,k7=0.000000000001,L2,u3,I2;var kP=_(()=>{Gg=Math.abs,JQ=Math.atan2,_1=Math.cos,A10=Math.max,$P=Math.min,M5=Math.sin,yG=Math.sqrt,L2=Math.PI,u3=L2/2,I2=2*L2});function _P(Z){let J=3;return Z.digits=function(Q){if(!arguments.length)return J;if(Q==null)J=null;else{let K=Math.floor(Q);if(!(K>=0))throw RangeError(`invalid digits: ${Q}`);J=K}return Z},()=>new H2(J)}var Hg=_(()=>{qu()});function i78(Z){return Z.innerRadius}function s78(Z){return Z.outerRadius}function r78(Z){return Z.startAngle}function n78(Z){return Z.endAngle}function a78(Z){return Z&&Z.padAngle}function o78(Z,J,Q,K,X,U,Y,q){var W=Q-Z,G=K-J,z=Y-X,H=q-U,F=H*W-z*G;if(F*F<k7)return;return F=(z*(J-U)-H*(Z-X))/F,[Z+F*W,J+F*G]}function fP(Z,J,Q,K,X,U,Y){var q=Z-Q,W=J-K,G=(Y?U:-U)/yG(q*q+W*W),z=G*W,H=-G*q,F=Z+z,M=J+H,B=Q+z,O=K+H,R=(F+B)/2,D=(M+O)/2,L=B-F,A=O-M,V=L*L+A*A,N=X-U,E=F*O-B*M,j=(A<0?-1:1)*yG(A10(0,N*N*V-E*E)),C=(E*A-L*j)/V,$=(-E*L-A*j)/V,k=(E*A+L*j)/V,w=(-E*L+A*j)/V,P=C-R,T=$-D,S=k-R,f=w-D;if(P*P+T*T>S*S+f*f)C=k,$=w;return{cx:C,cy:$,x01:-z,y01:-H,x11:C*(X/N-1),y11:$*(X/N-1)}}function B5(){var Z=i78,J=s78,Q=QJ(0),K=null,X=r78,U=n78,Y=a78,q=null,W=_P(G);function G(){var z,H,F=+Z.apply(this,arguments),M=+J.apply(this,arguments),B=X.apply(this,arguments)-u3,O=U.apply(this,arguments)-u3,R=Gg(O-B),D=O>B;if(!q)q=z=W();if(M<F)H=M,M=F,F=H;if(!(M>k7))q.moveTo(0,0);else if(R>I2-k7){if(q.moveTo(M*_1(B),M*M5(B)),q.arc(0,0,M,B,O,!D),F>k7)q.moveTo(F*_1(O),F*M5(O)),q.arc(0,0,F,O,B,D)}else{var L=B,A=O,V=B,N=O,E=R,j=R,C=Y.apply(this,arguments)/2,$=C>k7&&(K?+K.apply(this,arguments):yG(F*F+M*M)),k=$P(Gg(M-F)/2,+Q.apply(this,arguments)),w=k,P=k,T,S;if($>k7){var f=zg($/F*M5(C)),v=zg($/M*M5(C));if((E-=f*2)>k7)f*=D?1:-1,V+=f,N-=f;else E=0,V=N=(B+O)/2;if((j-=v*2)>k7)v*=D?1:-1,L+=v,A-=v;else j=0,L=A=(B+O)/2}var x=M*_1(L),b=M*M5(L),y=F*_1(N),u=F*M5(N);if(k>k7){var h=M*_1(A),p=M*M5(A),r=F*_1(V),e=F*M5(V),i;if(R<L2)if(i=o78(x,b,r,e,h,p,y,u)){var U0=x-i[0],a=b-i[1],z0=h-i[0],J0=p-i[1],Q0=1/M5(N10((U0*z0+a*J0)/(yG(U0*U0+a*a)*yG(z0*z0+J0*J0)))/2),t=yG(i[0]*i[0]+i[1]*i[1]);w=$P(k,(F-t)/(Q0-1)),P=$P(k,(M-t)/(Q0+1))}else w=P=0}if(!(j>k7))q.moveTo(x,b);else if(P>k7)if(T=fP(r,e,x,b,M,P,D),S=fP(h,p,y,u,M,P,D),q.moveTo(T.cx+T.x01,T.cy+T.y01),P<k)q.arc(T.cx,T.cy,P,JQ(T.y01,T.x01),JQ(S.y01,S.x01),!D);else q.arc(T.cx,T.cy,P,JQ(T.y01,T.x01),JQ(T.y11,T.x11),!D),q.arc(0,0,M,JQ(T.cy+T.y11,T.cx+T.x11),JQ(S.cy+S.y11,S.cx+S.x11),!D),q.arc(S.cx,S.cy,P,JQ(S.y11,S.x11),JQ(S.y01,S.x01),!D);else q.moveTo(x,b),q.arc(0,0,M,L,A,!D);if(!(F>k7)||!(E>k7))q.lineTo(y,u);else if(w>k7)if(T=fP(y,u,h,p,F,-w,D),S=fP(x,b,r,e,F,-w,D),q.lineTo(T.cx+T.x01,T.cy+T.y01),w<k)q.arc(T.cx,T.cy,w,JQ(T.y01,T.x01),JQ(S.y01,S.x01),!D);else q.arc(T.cx,T.cy,w,JQ(T.y01,T.x01),JQ(T.y11,T.x11),!D),q.arc(0,0,F,JQ(T.cy+T.y11,T.cx+T.x11),JQ(S.cy+S.y11,S.cx+S.x11),D),q.arc(S.cx,S.cy,w,JQ(S.y11,S.x11),JQ(S.y01,S.x01),!D);else q.arc(0,0,F,N,V,D)}if(q.closePath(),z)return q=null,z+""||null}return G.centroid=function(){var z=(+Z.apply(this,arguments)+ +J.apply(this,arguments))/2,H=(+X.apply(this,arguments)+ +U.apply(this,arguments))/2-L2/2;return[_1(H)*z,M5(H)*z]},G.innerRadius=function(z){return arguments.length?(Z=typeof z==="function"?z:QJ(+z),G):Z},G.outerRadius=function(z){return arguments.length?(J=typeof z==="function"?z:QJ(+z),G):J},G.cornerRadius=function(z){return arguments.length?(Q=typeof z==="function"?z:QJ(+z),G):Q},G.padRadius=function(z){return arguments.length?(K=z==null?null:typeof z==="function"?z:QJ(+z),G):K},G.startAngle=function(z){return arguments.length?(X=typeof z==="function"?z:QJ(+z),G):X},G.endAngle=function(z){return arguments.length?(U=typeof z==="function"?z:QJ(+z),G):U},G.padAngle=function(z){return arguments.length?(Y=typeof z==="function"?z:QJ(+z),G):Y},G.context=function(z){return arguments.length?(q=z==null?null:z,G):q},G}var E10=_(()=>{kP();Hg()});function g3(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}var L79;var Fg=_(()=>{L79=Array.prototype.slice});function V10(Z){this._context=Z}function WY(Z){return new V10(Z)}var Mg=_(()=>{V10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:this._context.lineTo(Z,J);break}}}});function P10(Z){return Z[0]}function j10(Z){return Z[1]}function O5(Z,J){var Q=QJ(!0),K=null,X=WY,U=null,Y=_P(q);Z=typeof Z==="function"?Z:Z===void 0?P10:QJ(Z),J=typeof J==="function"?J:J===void 0?j10:QJ(J);function q(W){var G,z=(W=g3(W)).length,H,F=!1,M;if(K==null)U=X(M=Y());for(G=0;G<=z;++G){if(!(G<z&&Q(H=W[G],G,W))===F)if(F=!F)U.lineStart();else U.lineEnd();if(F)U.point(+Z(H,G,W),+J(H,G,W))}if(M)return U=null,M+""||null}return q.x=function(W){return arguments.length?(Z=typeof W==="function"?W:QJ(+W),q):Z},q.y=function(W){return arguments.length?(J=typeof W==="function"?W:QJ(+W),q):J},q.defined=function(W){return arguments.length?(Q=typeof W==="function"?W:QJ(!!W),q):Q},q.curve=function(W){return arguments.length?(X=W,K!=null&&(U=X(K)),q):X},q.context=function(W){return arguments.length?(W==null?K=U=null:U=X(K=W),q):K},q}var C10=_(()=>{Fg();Mg();Hg()});function Bg(Z,J){return J<Z?-1:J>Z?1:J>=Z?0:NaN}function Og(Z){return Z}function vP(){var Z=Og,J=Bg,Q=null,K=QJ(0),X=QJ(I2),U=QJ(0);function Y(q){var W,G=(q=g3(q)).length,z,H,F=0,M=Array(G),B=Array(G),O=+K.apply(this,arguments),R=Math.min(I2,Math.max(-I2,X.apply(this,arguments)-O)),D,L=Math.min(Math.abs(R)/G,U.apply(this,arguments)),A=L*(R<0?-1:1),V;for(W=0;W<G;++W)if((V=B[M[W]=W]=+Z(q[W],W,q))>0)F+=V;if(J!=null)M.sort(function(N,E){return J(B[N],B[E])});else if(Q!=null)M.sort(function(N,E){return Q(q[N],q[E])});for(W=0,H=F?(R-G*A)/F:0;W<G;++W,O=D)z=M[W],V=B[z],D=O+(V>0?V*H:0)+A,B[z]={data:q[z],index:W,value:V,startAngle:O,endAngle:D,padAngle:L};return B}return Y.value=function(q){return arguments.length?(Z=typeof q==="function"?q:QJ(+q),Y):Z},Y.sortValues=function(q){return arguments.length?(J=q,Q=null,Y):J},Y.sort=function(q){return arguments.length?(Q=q,J=null,Y):Q},Y.startAngle=function(q){return arguments.length?(K=typeof q==="function"?q:QJ(+q),Y):K},Y.endAngle=function(q){return arguments.length?(X=typeof q==="function"?q:QJ(+q),Y):X},Y.padAngle=function(q){return arguments.length?(U=typeof q==="function"?q:QJ(+q),Y):U},Y}var S10=_(()=>{Fg();kP()});class Rg{constructor(Z,J){this._context=Z,this._x=J}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line}point(Z,J){switch(Z=+Z,J=+J,this._point){case 0:{if(this._point=1,this._line)this._context.lineTo(Z,J);else this._context.moveTo(Z,J);break}case 1:this._point=2;default:{if(this._x)this._context.bezierCurveTo(this._x0=(this._x0+Z)/2,this._y0,this._x0,J,Z,J);else this._context.bezierCurveTo(this._x0,this._y0=(this._y0+J)/2,Z,this._y0,Z,J);break}}this._x0=Z,this._y0=J}}function p3(Z){return new Rg(Z,!0)}function c3(Z){return new Rg(Z,!1)}var T10=()=>{};function $4(){}function A2(Z,J,Q){Z._context.bezierCurveTo((2*Z._x0+Z._x1)/3,(2*Z._y0+Z._y1)/3,(Z._x0+2*Z._x1)/3,(Z._y0+2*Z._y1)/3,(Z._x0+4*Z._x1+J)/6,(Z._y0+4*Z._y1+Q)/6)}function l3(Z){this._context=Z}function GK(Z){return new l3(Z)}var d3=_(()=>{l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:A2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:A2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function w10(Z){this._context=Z}function xP(Z){return new w10(Z)}var $10=_(()=>{d3();w10.prototype={areaStart:$4,areaEnd:$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x2=Z,this._y2=J;break;case 1:this._point=2,this._x3=Z,this._y3=J;break;case 2:this._point=3,this._x4=Z,this._y4=J,this._context.moveTo((this._x0+4*this._x1+Z)/6,(this._y0+4*this._y1+J)/6);break;default:A2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function k10(Z){this._context=Z}function bP(Z){return new k10(Z)}var _10=_(()=>{d3();k10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Q=(this._x0+4*this._x1+Z)/6,K=(this._y0+4*this._y1+J)/6;this._line?this._context.lineTo(Q,K):this._context.moveTo(Q,K);break;case 3:this._point=4;default:A2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function f10(Z,J){this._basis=new l3(Z),this._beta=J}var Dg;var v10=_(()=>{d3();f10.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length-1;if(Q>0){var K=Z[0],X=J[0],U=Z[Q]-K,Y=J[Q]-X,q=-1,W;while(++q<=Q)W=q/Q,this._basis.point(this._beta*Z[q]+(1-this._beta)*(K+W*U),this._beta*J[q]+(1-this._beta)*(X+W*Y))}this._x=this._y=null,this._basis.lineEnd()},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}};Dg=function Z(J){function Q(K){return J===1?new l3(K):new f10(K,J)}return Q.beta=function(K){return Z(+K)},Q}(0.85)});function N2(Z,J,Q){Z._context.bezierCurveTo(Z._x1+Z._k*(Z._x2-Z._x0),Z._y1+Z._k*(Z._y2-Z._y0),Z._x2+Z._k*(Z._x1-J),Z._y2+Z._k*(Z._y1-Q),Z._x2,Z._y2)}function yP(Z,J){this._context=Z,this._k=(1-J)/6}var i3;var s3=_(()=>{yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:N2(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2,this._x1=Z,this._y1=J;break;case 2:this._point=3;default:N2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};i3=function Z(J){function Q(K){return new yP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function hP(Z,J){this._context=Z,this._k=(1-J)/6}var Lg;var Ig=_(()=>{s3();hP.prototype={areaStart:$4,areaEnd:$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:N2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Lg=function Z(J){function Q(K){return new hP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function mP(Z,J){this._context=Z,this._k=(1-J)/6}var Ag;var Ng=_(()=>{s3();mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Ag=function Z(J){function Q(K){return new mP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function r3(Z,J,Q){var{_x1:K,_y1:X,_x2:U,_y2:Y}=Z;if(Z._l01_a>k7){var q=2*Z._l01_2a+3*Z._l01_a*Z._l12_a+Z._l12_2a,W=3*Z._l01_a*(Z._l01_a+Z._l12_a);K=(K*q-Z._x0*Z._l12_2a+Z._x2*Z._l01_2a)/W,X=(X*q-Z._y0*Z._l12_2a+Z._y2*Z._l01_2a)/W}if(Z._l23_a>k7){var G=2*Z._l23_2a+3*Z._l23_a*Z._l12_a+Z._l12_2a,z=3*Z._l23_a*(Z._l23_a+Z._l12_a);U=(U*G+Z._x1*Z._l23_2a-J*Z._l12_2a)/z,Y=(Y*G+Z._y1*Z._l23_2a-Q*Z._l12_2a)/z}Z._context.bezierCurveTo(K,X,U,Y,Z._x2,Z._y2)}function x10(Z,J){this._context=Z,this._alpha=J}var n3;var uP=_(()=>{kP();s3();x10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3;default:r3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};n3=function Z(J){function Q(K){return J?new x10(K,J):new yP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function b10(Z,J){this._context=Z,this._alpha=J}var Eg;var y10=_(()=>{Ig();uP();b10.prototype={areaStart:$4,areaEnd:$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:r3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Eg=function Z(J){function Q(K){return J?new b10(K,J):new hP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function h10(Z,J){this._context=Z,this._alpha=J}var Vg;var m10=_(()=>{Ng();uP();h10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:r3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Vg=function Z(J){function Q(K){return J?new h10(K,J):new mP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function u10(Z){this._context=Z}function gP(Z){return new u10(Z)}var g10=_(()=>{u10.prototype={areaStart:$4,areaEnd:$4,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(Z,J){if(Z=+Z,J=+J,this._point)this._context.lineTo(Z,J);else this._point=1,this._context.moveTo(Z,J)}}});function p10(Z){return Z<0?-1:1}function c10(Z,J,Q){var K=Z._x1-Z._x0,X=J-Z._x1,U=(Z._y1-Z._y0)/(K||X<0&&-0),Y=(Q-Z._y1)/(X||K<0&&-0),q=(U*X+Y*K)/(K+X);return(p10(U)+p10(Y))*Math.min(Math.abs(U),Math.abs(Y),0.5*Math.abs(q))||0}function l10(Z,J){var Q=Z._x1-Z._x0;return Q?(3*(Z._y1-Z._y0)/Q-J)/2:J}function Pg(Z,J,Q){var{_x0:K,_y0:X,_x1:U,_y1:Y}=Z,q=(U-K)/3;Z._context.bezierCurveTo(K+q,X+q*J,U-q,Y-q*Q,U,Y)}function pP(Z){this._context=Z}function d10(Z){this._context=new i10(Z)}function i10(Z){this._context=Z}function a3(Z){return new pP(Z)}function o3(Z){return new d10(Z)}var s10=_(()=>{pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pg(this,this._t0,l10(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){var Q=NaN;if(Z=+Z,J=+J,Z===this._x1&&J===this._y1)return;switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,Pg(this,l10(this,Q=c10(this,Z,J)),Q);break;default:Pg(this,this._t0,Q=c10(this,Z,J));break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J,this._t0=Q}};(d10.prototype=Object.create(pP.prototype)).point=function(Z,J){pP.prototype.point.call(this,J,Z)};i10.prototype={moveTo:function(Z,J){this._context.moveTo(J,Z)},closePath:function(){this._context.closePath()},lineTo:function(Z,J){this._context.lineTo(J,Z)},bezierCurveTo:function(Z,J,Q,K,X,U){this._context.bezierCurveTo(J,Z,K,Q,U,X)}}});function n10(Z){this._context=Z}function r10(Z){var J,Q=Z.length-1,K,X=Array(Q),U=Array(Q),Y=Array(Q);X[0]=0,U[0]=2,Y[0]=Z[0]+2*Z[1];for(J=1;J<Q-1;++J)X[J]=1,U[J]=4,Y[J]=4*Z[J]+2*Z[J+1];X[Q-1]=2,U[Q-1]=7,Y[Q-1]=8*Z[Q-1]+Z[Q];for(J=1;J<Q;++J)K=X[J]/U[J-1],U[J]-=K,Y[J]-=K*Y[J-1];X[Q-1]=Y[Q-1]/U[Q-1];for(J=Q-2;J>=0;--J)X[J]=(Y[J]-X[J+1])/U[J];U[Q-1]=(Z[Q]+X[Q-1])/2;for(J=0;J<Q-1;++J)U[J]=2*Z[J+1]-X[J+1];return[X,U]}function E2(Z){return new n10(Z)}var a10=_(()=>{n10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length;if(Q)if(this._line?this._context.lineTo(Z[0],J[0]):this._context.moveTo(Z[0],J[0]),Q===2)this._context.lineTo(Z[1],J[1]);else{var K=r10(Z),X=r10(J);for(var U=0,Y=1;Y<Q;++U,++Y)this._context.bezierCurveTo(K[0][U],X[0][U],K[1][U],X[1][U],Z[Y],J[Y])}if(this._line||this._line!==0&&Q===1)this._context.closePath();this._line=1-this._line,this._x=this._y=null},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}}});function cP(Z,J){this._context=Z,this._t=J}function V2(Z){return new cP(Z,0.5)}function t3(Z){return new cP(Z,0)}function e3(Z){return new cP(Z,1)}var o10=_(()=>{cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,J),this._context.lineTo(Z,J);else{var Q=this._x*(1-this._t)+Z*this._t;this._context.lineTo(Q,this._y),this._context.lineTo(Q,J)}break}}this._x=Z,this._y=J}}});var t10=_(()=>{E10();C10();S10();$10();_10();d3();T10();v10();Ig();Ng();s3();y10();m10();uP();g10();Mg();s10();a10();o10()});function f1(Z,J,Q){this.k=Z,this.x=J,this.y=Q}function Cg(Z){while(!Z.__zoom)if(!(Z=Z.parentNode))return jg;return Z.__zoom}var jg;var Sg=_(()=>{f1.prototype={constructor:f1,scale:function(Z){return Z===1?this:new f1(this.k*Z,this.x,this.y)},translate:function(Z,J){return Z===0&J===0?this:new f1(this.k,this.x+this.k*Z,this.y+this.k*J)},apply:function(Z){return[Z[0]*this.k+this.x,Z[1]*this.k+this.y]},applyX:function(Z){return Z*this.k+this.x},applyY:function(Z){return Z*this.k+this.y},invert:function(Z){return[(Z[0]-this.x)/this.k,(Z[1]-this.y)/this.k]},invertX:function(Z){return(Z-this.x)/this.k},invertY:function(Z){return(Z-this.y)/this.k},rescaleX:function(Z){return Z.copy().domain(Z.range().map(this.invertX,this).map(Z.invert,Z))},rescaleY:function(Z){return Z.copy().domain(Z.range().map(this.invertY,this).map(Z.invert,Z))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jg=new f1(1,0,0);Cg.prototype=f1.prototype});var e10=_(()=>{WP();Sg()});var Zq0=_(()=>{e10();Sg()});var A9=_(()=>{N1();LX0();qY0();HY0();U2();FY0();MY0();Ah();cX0();BY0();Qu();OY0();DY0();Lu();SY0();fY0();W2();qu();vY0();RY0();xY0();D10();I10();Y5();t10();TP();Yg();QP();WP();Zq0()});var _7;var VX=_(()=>{T9();M9();A9();_7=I((Z)=>{let{securityLevel:J}=N0(),Q=i0("body");if(J==="sandbox"){let U=i0(`#i${Z}`).node()?.contentDocument??document;Q=i0(U.body)}return Q.select(`#${Z}`)},"selectSvgElement")});function lg(Z){return typeof Z>"u"||Z===null}function Kq0(Z){return typeof Z==="object"&&Z!==null}function Xq0(Z){if(Array.isArray(Z))return Z;else if(lg(Z))return[];return[Z]}function Uq0(Z,J){var Q,K,X,U;if(J){U=Object.keys(J);for(Q=0,K=U.length;Q<K;Q+=1)X=U[Q],Z[X]=J[X]}return Z}function Yq0(Z,J){var Q="",K;for(K=0;K<J;K+=1)Q+=Z;return Q}function qq0(Z){return Z===0&&Number.NEGATIVE_INFINITY===1/Z}function dg(Z,J){var Q="",K=Z.reason||"(unknown reason)";if(!Z.mark)return K;if(Z.mark.name)Q+='in "'+Z.mark.name+'" ';if(Q+="("+(Z.mark.line+1)+":"+(Z.mark.column+1)+")",!J&&Z.mark.snippet)Q+=`

`+Z.mark.snippet;return K+" "+Q}function C2(Z,J){if(Error.call(this),this.name="YAMLException",this.reason=Z,this.mark=J,this.message=dg(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=Error().stack||""}function lP(Z,J,Q,K,X){var U="",Y="",q=Math.floor(X/2)-1;if(K-J>q)U=" ... ",J=K-q+U.length;if(Q-K>q)Y=" ...",Q=K+q-Y.length;return{str:U+Z.slice(J,Q).replace(/\t/g,"")+Y,pos:K-J+U.length}}function dP(Z,J){return L7.repeat(" ",J-Z.length)+Z}function Wq0(Z,J){if(J=Object.create(J||null),!Z.buffer)return null;if(!J.maxLength)J.maxLength=79;if(typeof J.indent!=="number")J.indent=1;if(typeof J.linesBefore!=="number")J.linesBefore=3;if(typeof J.linesAfter!=="number")J.linesAfter=2;var Q=/\r?\n|\r|\0/g,K=[0],X=[],U,Y=-1;while(U=Q.exec(Z.buffer))if(X.push(U.index),K.push(U.index+U[0].length),Z.position<=U.index&&Y<0)Y=K.length-2;if(Y<0)Y=K.length-1;var q="",W,G,z=Math.min(Z.line+J.linesAfter,X.length).toString().length,H=J.maxLength-(J.indent+z+3);for(W=1;W<=J.linesBefore;W++){if(Y-W<0)break;G=lP(Z.buffer,K[Y-W],X[Y-W],Z.position-(K[Y]-K[Y-W]),H),q=L7.repeat(" ",J.indent)+dP((Z.line-W+1).toString(),z)+" | "+G.str+`
`+q}G=lP(Z.buffer,K[Y],X[Y],Z.position,H),q+=L7.repeat(" ",J.indent)+dP((Z.line+1).toString(),z)+" | "+G.str+`
`,q+=L7.repeat("-",J.indent+z+3+G.pos)+`^
`;for(W=1;W<=J.linesAfter;W++){if(Y+W>=X.length)break;G=lP(Z.buffer,K[Y+W],X[Y+W],Z.position-(K[Y]-K[Y+W]),H),q+=L7.repeat(" ",J.indent)+dP((Z.line+W+1).toString(),z)+" | "+G.str+`
`}return q.replace(/\n$/,"")}function Gq0(Z){var J={};if(Z!==null)Object.keys(Z).forEach(function(Q){Z[Q].forEach(function(K){J[String(K)]=Q})});return J}function zq0(Z,J){if(J=J||{},Object.keys(J).forEach(function(Q){if(UQ8.indexOf(Q)===-1)throw new u6('Unknown option "'+Q+'" is met in definition of "'+Z+'" YAML type.')}),this.options=J,this.tag=Z,this.kind=J.kind||null,this.resolve=J.resolve||function(){return!0},this.construct=J.construct||function(Q){return Q},this.instanceOf=J.instanceOf||null,this.predicate=J.predicate||null,this.represent=J.represent||null,this.representName=J.representName||null,this.defaultStyle=J.defaultStyle||null,this.multi=J.multi||!1,this.styleAliases=Gq0(J.styleAliases||null),YQ8.indexOf(this.kind)===-1)throw new u6('Unknown kind "'+this.kind+'" is specified for "'+Z+'" YAML type.')}function wg(Z,J){var Q=[];return Z[J].forEach(function(K){var X=Q.length;Q.forEach(function(U,Y){if(U.tag===K.tag&&U.kind===K.kind&&U.multi===K.multi)X=Y}),Q[X]=K}),Q}function Hq0(){var Z={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},J,Q;function K(X){if(X.multi)Z.multi[X.kind].push(X),Z.multi.fallback.push(X);else Z[X.kind][X.tag]=Z.fallback[X.tag]=X}I(K,"collectType");for(J=0,Q=arguments.length;J<Q;J+=1)arguments[J].forEach(K);return Z}function iP(Z){return this.extend(Z)}function Fq0(Z){if(Z===null)return!0;var J=Z.length;return J===1&&Z==="~"||J===4&&(Z==="null"||Z==="Null"||Z==="NULL")}function Mq0(){return null}function Bq0(Z){return Z===null}function Oq0(Z){if(Z===null)return!1;var J=Z.length;return J===4&&(Z==="true"||Z==="True"||Z==="TRUE")||J===5&&(Z==="false"||Z==="False"||Z==="FALSE")}function Rq0(Z){return Z==="true"||Z==="True"||Z==="TRUE"}function Dq0(Z){return Object.prototype.toString.call(Z)==="[object Boolean]"}function Lq0(Z){return 48<=Z&&Z<=57||65<=Z&&Z<=70||97<=Z&&Z<=102}function Iq0(Z){return 48<=Z&&Z<=55}function Aq0(Z){return 48<=Z&&Z<=57}function Nq0(Z){if(Z===null)return!1;var J=Z.length,Q=0,K=!1,X;if(!J)return!1;if(X=Z[Q],X==="-"||X==="+")X=Z[++Q];if(X==="0"){if(Q+1===J)return!0;if(X=Z[++Q],X==="b"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(X!=="0"&&X!=="1")return!1;K=!0}return K&&X!=="_"}if(X==="x"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!Lq0(Z.charCodeAt(Q)))return!1;K=!0}return K&&X!=="_"}if(X==="o"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!Iq0(Z.charCodeAt(Q)))return!1;K=!0}return K&&X!=="_"}}if(X==="_")return!1;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!Aq0(Z.charCodeAt(Q)))return!1;K=!0}if(!K||X==="_")return!1;return!0}function Eq0(Z){var J=Z,Q=1,K;if(J.indexOf("_")!==-1)J=J.replace(/_/g,"");if(K=J[0],K==="-"||K==="+"){if(K==="-")Q=-1;J=J.slice(1),K=J[0]}if(J==="0")return 0;if(K==="0"){if(J[1]==="b")return Q*parseInt(J.slice(2),2);if(J[1]==="x")return Q*parseInt(J.slice(2),16);if(J[1]==="o")return Q*parseInt(J.slice(2),8)}return Q*parseInt(J,10)}function Vq0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1===0&&!L7.isNegativeZero(Z))}function Pq0(Z){if(Z===null)return!1;if(!OQ8.test(Z)||Z[Z.length-1]==="_")return!1;return!0}function jq0(Z){var J,Q;if(J=Z.replace(/_/g,"").toLowerCase(),Q=J[0]==="-"?-1:1,"+-".indexOf(J[0])>=0)J=J.slice(1);if(J===".inf")return Q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(J===".nan")return NaN;return Q*parseFloat(J,10)}function Cq0(Z,J){var Q;if(isNaN(Z))switch(J){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Z)switch(J){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Z)switch(J){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L7.isNegativeZero(Z))return"-0.0";return Q=Z.toString(10),RQ8.test(Q)?Q.replace("e",".e"):Q}function Sq0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1!==0||L7.isNegativeZero(Z))}function kq0(Z){if(Z===null)return!1;if(wq0.exec(Z)!==null)return!0;if($q0.exec(Z)!==null)return!0;return!1}function _q0(Z){var J,Q,K,X,U,Y,q,W=0,G=null,z,H,F;if(J=wq0.exec(Z),J===null)J=$q0.exec(Z);if(J===null)throw Error("Date resolve error");if(Q=+J[1],K=+J[2]-1,X=+J[3],!J[4])return new Date(Date.UTC(Q,K,X));if(U=+J[4],Y=+J[5],q=+J[6],J[7]){W=J[7].slice(0,3);while(W.length<3)W+="0";W=+W}if(J[9]){if(z=+J[10],H=+(J[11]||0),G=(z*60+H)*60000,J[9]==="-")G=-G}if(F=new Date(Date.UTC(Q,K,X,U,Y,q,W)),G)F.setTime(F.getTime()-G);return F}function fq0(Z){return Z.toISOString()}function vq0(Z){return Z==="<<"||Z===null}function xq0(Z){if(Z===null)return!1;var J,Q,K=0,X=Z.length,U=ig;for(Q=0;Q<X;Q++){if(J=U.indexOf(Z.charAt(Q)),J>64)continue;if(J<0)return!1;K+=6}return K%8===0}function bq0(Z){var J,Q,K=Z.replace(/[\r\n=]/g,""),X=K.length,U=ig,Y=0,q=[];for(J=0;J<X;J++){if(J%4===0&&J)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);Y=Y<<6|U.indexOf(K.charAt(J))}if(Q=X%4*6,Q===0)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);else if(Q===18)q.push(Y>>10&255),q.push(Y>>2&255);else if(Q===12)q.push(Y>>4&255);return new Uint8Array(q)}function yq0(Z){var J="",Q=0,K,X,U=Z.length,Y=ig;for(K=0;K<U;K++){if(K%3===0&&K)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];Q=(Q<<8)+Z[K]}if(X=U%3,X===0)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];else if(X===2)J+=Y[Q>>10&63],J+=Y[Q>>4&63],J+=Y[Q<<2&63],J+=Y[64];else if(X===1)J+=Y[Q>>2&63],J+=Y[Q<<4&63],J+=Y[64],J+=Y[64];return J}function hq0(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"}function mq0(Z){if(Z===null)return!0;var J=[],Q,K,X,U,Y,q=Z;for(Q=0,K=q.length;Q<K;Q+=1){if(X=q[Q],Y=!1,VQ8.call(X)!=="[object Object]")return!1;for(U in X)if(EQ8.call(X,U))if(!Y)Y=!0;else return!1;if(!Y)return!1;if(J.indexOf(U)===-1)J.push(U);else return!1}return!0}function uq0(Z){return Z!==null?Z:[]}function gq0(Z){if(Z===null)return!0;var J,Q,K,X,U,Y=Z;U=Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1){if(K=Y[J],jQ8.call(K)!=="[object Object]")return!1;if(X=Object.keys(K),X.length!==1)return!1;U[J]=[X[0],K[X[0]]]}return!0}function pq0(Z){if(Z===null)return[];var J,Q,K,X,U,Y=Z;U=Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1)K=Y[J],X=Object.keys(K),U[J]=[X[0],K[X[0]]];return U}function cq0(Z){if(Z===null)return!0;var J,Q=Z;for(J in Q)if(SQ8.call(Q,J)){if(Q[J]!==null)return!1}return!0}function lq0(Z){return Z!==null?Z:{}}function $g(Z){return Object.prototype.toString.call(Z)}function R5(Z){return Z===10||Z===13}function v1(Z){return Z===9||Z===32}function J6(Z){return Z===9||Z===32||Z===10||Z===13}function mG(Z){return Z===44||Z===91||Z===93||Z===123||Z===125}function aq0(Z){var J;if(48<=Z&&Z<=57)return Z-48;if(J=Z|32,97<=J&&J<=102)return J-97+10;return-1}function oq0(Z){if(Z===120)return 2;if(Z===117)return 4;if(Z===85)return 8;return 0}function tq0(Z){if(48<=Z&&Z<=57)return Z-48;return-1}function kg(Z){return Z===48?"\x00":Z===97?"\x07":Z===98?"\b":Z===116?"\t":Z===9?"\t":Z===110?`
`:Z===118?"\v":Z===102?"\f":Z===114?"\r":Z===101?"\x1B":Z===32?" ":Z===34?'"':Z===47?"/":Z===92?"\\":Z===78?"":Z===95?"":Z===76?"\u2028":Z===80?"\u2029":""}function eq0(Z){if(Z<=65535)return String.fromCharCode(Z);return String.fromCharCode((Z-65536>>10)+55296,(Z-65536&1023)+56320)}function QW0(Z,J){this.input=Z,this.filename=J.filename||null,this.schema=J.schema||dq0,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=Z.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function sg(Z,J){var Q={name:Z.filename,buffer:Z.input.slice(0,-1),position:Z.position,line:Z.line,column:Z.position-Z.lineStart};return Q.snippet=XQ8(Q),new u6(J,Q)}function e8(Z,J){throw sg(Z,J)}function ZD(Z,J){if(Z.onWarning)Z.onWarning.call(null,sg(Z,J))}function GY(Z,J,Q,K){var X,U,Y,q;if(J<Q){if(q=Z.input.slice(J,Q),K){for(X=0,U=q.length;X<U;X+=1)if(Y=q.charCodeAt(X),!(Y===9||32<=Y&&Y<=1114111))e8(Z,"expected valid JSON character")}else if($Q8.test(q))e8(Z,"the stream contains non-printable characters");Z.result+=q}}function _g(Z,J,Q,K){var X,U,Y,q;if(!L7.isObject(Q))e8(Z,"cannot merge mappings; the provided source object is unacceptable");X=Object.keys(Q);for(Y=0,q=X.length;Y<q;Y+=1)if(U=X[Y],!x1.call(J,U))J[U]=Q[U],K[U]=!0}function uG(Z,J,Q,K,X,U,Y,q,W){var G,z;if(Array.isArray(X)){X=Array.prototype.slice.call(X);for(G=0,z=X.length;G<z;G+=1){if(Array.isArray(X[G]))e8(Z,"nested arrays are not supported inside keys");if(typeof X==="object"&&$g(X[G])==="[object Object]")X[G]="[object Object]"}}if(typeof X==="object"&&$g(X)==="[object Object]")X="[object Object]";if(X=String(X),J===null)J={};if(K==="tag:yaml.org,2002:merge")if(Array.isArray(U))for(G=0,z=U.length;G<z;G+=1)_g(Z,J,U[G],Q);else _g(Z,J,U,Q);else{if(!Z.json&&!x1.call(Q,X)&&x1.call(J,X))Z.line=Y||Z.line,Z.lineStart=q||Z.lineStart,Z.position=W||Z.position,e8(Z,"duplicated mapping key");if(X==="__proto__")Object.defineProperty(J,X,{configurable:!0,enumerable:!0,writable:!0,value:U});else J[X]=U;delete Q[X]}return J}function tP(Z){var J=Z.input.charCodeAt(Z.position);if(J===10)Z.position++;else if(J===13){if(Z.position++,Z.input.charCodeAt(Z.position)===10)Z.position++}else e8(Z,"a line break is expected");Z.line+=1,Z.lineStart=Z.position,Z.firstTabInLine=-1}function sJ(Z,J,Q){var K=0,X=Z.input.charCodeAt(Z.position);while(X!==0){while(v1(X)){if(X===9&&Z.firstTabInLine===-1)Z.firstTabInLine=Z.position;X=Z.input.charCodeAt(++Z.position)}if(J&&X===35)do X=Z.input.charCodeAt(++Z.position);while(X!==10&&X!==13&&X!==0);if(R5(X)){tP(Z),X=Z.input.charCodeAt(Z.position),K++,Z.lineIndent=0;while(X===32)Z.lineIndent++,X=Z.input.charCodeAt(++Z.position)}else break}if(Q!==-1&&K!==0&&Z.lineIndent<Q)ZD(Z,"deficient indentation");return K}function XD(Z){var J=Z.position,Q;if(Q=Z.input.charCodeAt(J),(Q===45||Q===46)&&Q===Z.input.charCodeAt(J+1)&&Q===Z.input.charCodeAt(J+2)){if(J+=3,Q=Z.input.charCodeAt(J),Q===0||J6(Q))return!0}return!1}function eP(Z,J){if(J===1)Z.result+=" ";else if(J>1)Z.result+=L7.repeat(`
`,J-1)}function KW0(Z,J,Q){var K,X,U,Y,q,W,G,z,H=Z.kind,F=Z.result,M;if(M=Z.input.charCodeAt(Z.position),J6(M)||mG(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96)return!1;if(M===63||M===45){if(X=Z.input.charCodeAt(Z.position+1),J6(X)||Q&&mG(X))return!1}Z.kind="scalar",Z.result="",U=Y=Z.position,q=!1;while(M!==0){if(M===58){if(X=Z.input.charCodeAt(Z.position+1),J6(X)||Q&&mG(X))break}else if(M===35){if(K=Z.input.charCodeAt(Z.position-1),J6(K))break}else if(Z.position===Z.lineStart&&XD(Z)||Q&&mG(M))break;else if(R5(M))if(W=Z.line,G=Z.lineStart,z=Z.lineIndent,sJ(Z,!1,-1),Z.lineIndent>=J){q=!0,M=Z.input.charCodeAt(Z.position);continue}else{Z.position=Y,Z.line=W,Z.lineStart=G,Z.lineIndent=z;break}if(q)GY(Z,U,Y,!1),eP(Z,Z.line-W),U=Y=Z.position,q=!1;if(!v1(M))Y=Z.position+1;M=Z.input.charCodeAt(++Z.position)}if(GY(Z,U,Y,!1),Z.result)return!0;return Z.kind=H,Z.result=F,!1}function XW0(Z,J){var Q,K,X;if(Q=Z.input.charCodeAt(Z.position),Q!==39)return!1;Z.kind="scalar",Z.result="",Z.position++,K=X=Z.position;while((Q=Z.input.charCodeAt(Z.position))!==0)if(Q===39)if(GY(Z,K,Z.position,!0),Q=Z.input.charCodeAt(++Z.position),Q===39)K=Z.position,Z.position++,X=Z.position;else return!0;else if(R5(Q))GY(Z,K,X,!0),eP(Z,sJ(Z,!1,J)),K=X=Z.position;else if(Z.position===Z.lineStart&&XD(Z))e8(Z,"unexpected end of the document within a single quoted scalar");else Z.position++,X=Z.position;e8(Z,"unexpected end of the stream within a single quoted scalar")}function UW0(Z,J){var Q,K,X,U,Y,q;if(q=Z.input.charCodeAt(Z.position),q!==34)return!1;Z.kind="scalar",Z.result="",Z.position++,Q=K=Z.position;while((q=Z.input.charCodeAt(Z.position))!==0)if(q===34)return GY(Z,Q,Z.position,!0),Z.position++,!0;else if(q===92){if(GY(Z,Q,Z.position,!0),q=Z.input.charCodeAt(++Z.position),R5(q))sJ(Z,!1,J);else if(q<256&&ZW0[q])Z.result+=JW0[q],Z.position++;else if((Y=oq0(q))>0){X=Y,U=0;for(;X>0;X--)if(q=Z.input.charCodeAt(++Z.position),(Y=aq0(q))>=0)U=(U<<4)+Y;else e8(Z,"expected hexadecimal character");Z.result+=eq0(U),Z.position++}else e8(Z,"unknown escape sequence");Q=K=Z.position}else if(R5(q))GY(Z,Q,K,!0),eP(Z,sJ(Z,!1,J)),Q=K=Z.position;else if(Z.position===Z.lineStart&&XD(Z))e8(Z,"unexpected end of the document within a double quoted scalar");else Z.position++,K=Z.position;e8(Z,"unexpected end of the stream within a double quoted scalar")}function YW0(Z,J){var Q=!0,K,X,U,Y=Z.tag,q,W=Z.anchor,G,z,H,F,M,B=Object.create(null),O,R,D,L;if(L=Z.input.charCodeAt(Z.position),L===91)z=93,M=!1,q=[];else if(L===123)z=125,M=!0,q={};else return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=q;L=Z.input.charCodeAt(++Z.position);while(L!==0){if(sJ(Z,!0,J),L=Z.input.charCodeAt(Z.position),L===z)return Z.position++,Z.tag=Y,Z.anchor=W,Z.kind=M?"mapping":"sequence",Z.result=q,!0;else if(!Q)e8(Z,"missed comma between flow collection entries");else if(L===44)e8(Z,"expected the node content, but found ','");if(R=O=D=null,H=F=!1,L===63){if(G=Z.input.charCodeAt(Z.position+1),J6(G))H=F=!0,Z.position++,sJ(Z,!0,J)}if(K=Z.line,X=Z.lineStart,U=Z.position,gG(Z,J,sP,!1,!0),R=Z.tag,O=Z.result,sJ(Z,!0,J),L=Z.input.charCodeAt(Z.position),(F||Z.line===K)&&L===58)H=!0,L=Z.input.charCodeAt(++Z.position),sJ(Z,!0,J),gG(Z,J,sP,!1,!0),D=Z.result;if(M)uG(Z,q,B,R,O,D,K,X,U);else if(H)q.push(uG(Z,null,B,R,O,D,K,X,U));else q.push(O);if(sJ(Z,!0,J),L=Z.input.charCodeAt(Z.position),L===44)Q=!0,L=Z.input.charCodeAt(++Z.position);else Q=!1}e8(Z,"unexpected end of the stream within a flow collection")}function qW0(Z,J){var Q,K,X=Tg,U=!1,Y=!1,q=J,W=0,G=!1,z,H;if(H=Z.input.charCodeAt(Z.position),H===124)K=!1;else if(H===62)K=!0;else return!1;Z.kind="scalar",Z.result="";while(H!==0)if(H=Z.input.charCodeAt(++Z.position),H===43||H===45)if(Tg===X)X=H===43?Jq0:wQ8;else e8(Z,"repeat of a chomping mode identifier");else if((z=tq0(H))>=0)if(z===0)e8(Z,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!Y)q=J+z-1,Y=!0;else e8(Z,"repeat of an indentation width identifier");else break;if(v1(H)){do H=Z.input.charCodeAt(++Z.position);while(v1(H));if(H===35)do H=Z.input.charCodeAt(++Z.position);while(!R5(H)&&H!==0)}while(H!==0){tP(Z),Z.lineIndent=0,H=Z.input.charCodeAt(Z.position);while((!Y||Z.lineIndent<q)&&H===32)Z.lineIndent++,H=Z.input.charCodeAt(++Z.position);if(!Y&&Z.lineIndent>q)q=Z.lineIndent;if(R5(H)){W++;continue}if(Z.lineIndent<q){if(X===Jq0)Z.result+=L7.repeat(`
`,U?1+W:W);else if(X===Tg){if(U)Z.result+=`
`}break}if(K)if(v1(H))G=!0,Z.result+=L7.repeat(`
`,U?1+W:W);else if(G)G=!1,Z.result+=L7.repeat(`
`,W+1);else if(W===0){if(U)Z.result+=" "}else Z.result+=L7.repeat(`
`,W);else Z.result+=L7.repeat(`
`,U?1+W:W);U=!0,Y=!0,W=0,Q=Z.position;while(!R5(H)&&H!==0)H=Z.input.charCodeAt(++Z.position);GY(Z,Q,Z.position,!1)}return!0}function fg(Z,J){var Q,K=Z.tag,X=Z.anchor,U=[],Y,q=!1,W;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=U;W=Z.input.charCodeAt(Z.position);while(W!==0){if(Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,e8(Z,"tab characters must not be used in indentation");if(W!==45)break;if(Y=Z.input.charCodeAt(Z.position+1),!J6(Y))break;if(q=!0,Z.position++,sJ(Z,!0,-1)){if(Z.lineIndent<=J){U.push(null),W=Z.input.charCodeAt(Z.position);continue}}if(Q=Z.line,gG(Z,J,sq0,!1,!0),U.push(Z.result),sJ(Z,!0,-1),W=Z.input.charCodeAt(Z.position),(Z.line===Q||Z.lineIndent>J)&&W!==0)e8(Z,"bad indentation of a sequence entry");else if(Z.lineIndent<J)break}if(q)return Z.tag=K,Z.anchor=X,Z.kind="sequence",Z.result=U,!0;return!1}function WW0(Z,J,Q){var K,X,U,Y,q,W,G=Z.tag,z=Z.anchor,H={},F=Object.create(null),M=null,B=null,O=null,R=!1,D=!1,L;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=H;L=Z.input.charCodeAt(Z.position);while(L!==0){if(!R&&Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,e8(Z,"tab characters must not be used in indentation");if(K=Z.input.charCodeAt(Z.position+1),U=Z.line,(L===63||L===58)&&J6(K)){if(L===63){if(R)uG(Z,H,F,M,B,null,Y,q,W),M=B=O=null;D=!0,R=!0,X=!0}else if(R)R=!1,X=!0;else e8(Z,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");Z.position+=1,L=K}else{if(Y=Z.line,q=Z.lineStart,W=Z.position,!gG(Z,Q,iq0,!1,!0))break;if(Z.line===U){L=Z.input.charCodeAt(Z.position);while(v1(L))L=Z.input.charCodeAt(++Z.position);if(L===58){if(L=Z.input.charCodeAt(++Z.position),!J6(L))e8(Z,"a whitespace character is expected after the key-value separator within a block mapping");if(R)uG(Z,H,F,M,B,null,Y,q,W),M=B=O=null;D=!0,R=!1,X=!1,M=Z.tag,B=Z.result}else if(D)e8(Z,"can not read an implicit mapping pair; a colon is missed");else return Z.tag=G,Z.anchor=z,!0}else if(D)e8(Z,"can not read a block mapping entry; a multiline key may not be an implicit key");else return Z.tag=G,Z.anchor=z,!0}if(Z.line===U||Z.lineIndent>J){if(R)Y=Z.line,q=Z.lineStart,W=Z.position;if(gG(Z,J,rP,!0,X))if(R)B=Z.result;else O=Z.result;if(!R)uG(Z,H,F,M,B,O,Y,q,W),M=B=O=null;sJ(Z,!0,-1),L=Z.input.charCodeAt(Z.position)}if((Z.line===U||Z.lineIndent>J)&&L!==0)e8(Z,"bad indentation of a mapping entry");else if(Z.lineIndent<J)break}if(R)uG(Z,H,F,M,B,null,Y,q,W);if(D)Z.tag=G,Z.anchor=z,Z.kind="mapping",Z.result=H;return D}function GW0(Z){var J,Q=!1,K=!1,X,U,Y;if(Y=Z.input.charCodeAt(Z.position),Y!==33)return!1;if(Z.tag!==null)e8(Z,"duplication of a tag property");if(Y=Z.input.charCodeAt(++Z.position),Y===60)Q=!0,Y=Z.input.charCodeAt(++Z.position);else if(Y===33)K=!0,X="!!",Y=Z.input.charCodeAt(++Z.position);else X="!";if(J=Z.position,Q){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&Y!==62);if(Z.position<Z.length)U=Z.input.slice(J,Z.position),Y=Z.input.charCodeAt(++Z.position);else e8(Z,"unexpected end of the stream within a verbatim tag")}else{while(Y!==0&&!J6(Y)){if(Y===33)if(!K){if(X=Z.input.slice(J-1,Z.position+1),!rq0.test(X))e8(Z,"named tag handle cannot contain such characters");K=!0,J=Z.position+1}else e8(Z,"tag suffix cannot contain exclamation marks");Y=Z.input.charCodeAt(++Z.position)}if(U=Z.input.slice(J,Z.position),_Q8.test(U))e8(Z,"tag suffix cannot contain flow indicator characters")}if(U&&!nq0.test(U))e8(Z,"tag name cannot contain such characters: "+U);try{U=decodeURIComponent(U)}catch(q){e8(Z,"tag name is malformed: "+U)}if(Q)Z.tag=U;else if(x1.call(Z.tagMap,X))Z.tag=Z.tagMap[X]+U;else if(X==="!")Z.tag="!"+U;else if(X==="!!")Z.tag="tag:yaml.org,2002:"+U;else e8(Z,'undeclared tag handle "'+X+'"');return!0}function zW0(Z){var J,Q;if(Q=Z.input.charCodeAt(Z.position),Q!==38)return!1;if(Z.anchor!==null)e8(Z,"duplication of an anchor property");Q=Z.input.charCodeAt(++Z.position),J=Z.position;while(Q!==0&&!J6(Q)&&!mG(Q))Q=Z.input.charCodeAt(++Z.position);if(Z.position===J)e8(Z,"name of an anchor node must contain at least one character");return Z.anchor=Z.input.slice(J,Z.position),!0}function HW0(Z){var J,Q,K;if(K=Z.input.charCodeAt(Z.position),K!==42)return!1;K=Z.input.charCodeAt(++Z.position),J=Z.position;while(K!==0&&!J6(K)&&!mG(K))K=Z.input.charCodeAt(++Z.position);if(Z.position===J)e8(Z,"name of an alias node must contain at least one character");if(Q=Z.input.slice(J,Z.position),!x1.call(Z.anchorMap,Q))e8(Z,'unidentified alias "'+Q+'"');return Z.result=Z.anchorMap[Q],sJ(Z,!0,-1),!0}function gG(Z,J,Q,K,X){var U,Y,q,W=1,G=!1,z=!1,H,F,M,B,O,R;if(Z.listener!==null)Z.listener("open",Z);if(Z.tag=null,Z.anchor=null,Z.kind=null,Z.result=null,U=Y=q=rP===Q||sq0===Q,K){if(sJ(Z,!0,-1)){if(G=!0,Z.lineIndent>J)W=1;else if(Z.lineIndent===J)W=0;else if(Z.lineIndent<J)W=-1}}if(W===1)while(GW0(Z)||zW0(Z))if(sJ(Z,!0,-1)){if(G=!0,q=U,Z.lineIndent>J)W=1;else if(Z.lineIndent===J)W=0;else if(Z.lineIndent<J)W=-1}else q=!1;if(q)q=G||X;if(W===1||rP===Q){if(sP===Q||iq0===Q)O=J;else O=J+1;if(R=Z.position-Z.lineStart,W===1)if(q&&(fg(Z,R)||WW0(Z,R,O))||YW0(Z,O))z=!0;else{if(Y&&qW0(Z,O)||XW0(Z,O)||UW0(Z,O))z=!0;else if(HW0(Z)){if(z=!0,Z.tag!==null||Z.anchor!==null)e8(Z,"alias node should not have any properties")}else if(KW0(Z,O,sP===Q)){if(z=!0,Z.tag===null)Z.tag="?"}if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(W===0)z=q&&fg(Z,R)}if(Z.tag===null){if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(Z.tag==="?"){if(Z.result!==null&&Z.kind!=="scalar")e8(Z,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+Z.kind+'"');for(H=0,F=Z.implicitTypes.length;H<F;H+=1)if(B=Z.implicitTypes[H],B.resolve(Z.result)){if(Z.result=B.construct(Z.result),Z.tag=B.tag,Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result;break}}else if(Z.tag!=="!"){if(x1.call(Z.typeMap[Z.kind||"fallback"],Z.tag))B=Z.typeMap[Z.kind||"fallback"][Z.tag];else{B=null,M=Z.typeMap.multi[Z.kind||"fallback"];for(H=0,F=M.length;H<F;H+=1)if(Z.tag.slice(0,M[H].tag.length)===M[H].tag){B=M[H];break}}if(!B)e8(Z,"unknown tag !<"+Z.tag+">");if(Z.result!==null&&B.kind!==Z.kind)e8(Z,"unacceptable node kind for !<"+Z.tag+'> tag; it should be "'+B.kind+'", not "'+Z.kind+'"');if(!B.resolve(Z.result,Z.tag))e8(Z,"cannot resolve a node with !<"+Z.tag+"> explicit tag");else if(Z.result=B.construct(Z.result,Z.tag),Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}if(Z.listener!==null)Z.listener("close",Z);return Z.tag!==null||Z.anchor!==null||z}function FW0(Z){var J=Z.position,Q,K,X,U=!1,Y;Z.version=null,Z.checkLineBreaks=Z.legacy,Z.tagMap=Object.create(null),Z.anchorMap=Object.create(null);while((Y=Z.input.charCodeAt(Z.position))!==0){if(sJ(Z,!0,-1),Y=Z.input.charCodeAt(Z.position),Z.lineIndent>0||Y!==37)break;U=!0,Y=Z.input.charCodeAt(++Z.position),Q=Z.position;while(Y!==0&&!J6(Y))Y=Z.input.charCodeAt(++Z.position);if(K=Z.input.slice(Q,Z.position),X=[],K.length<1)e8(Z,"directive name must not be less than one character in length");while(Y!==0){while(v1(Y))Y=Z.input.charCodeAt(++Z.position);if(Y===35){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&!R5(Y));break}if(R5(Y))break;Q=Z.position;while(Y!==0&&!J6(Y))Y=Z.input.charCodeAt(++Z.position);X.push(Z.input.slice(Q,Z.position))}if(Y!==0)tP(Z);if(x1.call(Qq0,K))Qq0[K](Z,K,X);else ZD(Z,'unknown document directive "'+K+'"')}if(sJ(Z,!0,-1),Z.lineIndent===0&&Z.input.charCodeAt(Z.position)===45&&Z.input.charCodeAt(Z.position+1)===45&&Z.input.charCodeAt(Z.position+2)===45)Z.position+=3,sJ(Z,!0,-1);else if(U)e8(Z,"directives end mark is expected");if(gG(Z,Z.lineIndent-1,rP,!1,!0),sJ(Z,!0,-1),Z.checkLineBreaks&&kQ8.test(Z.input.slice(J,Z.position)))ZD(Z,"non-ASCII line breaks are interpreted as content");if(Z.documents.push(Z.result),Z.position===Z.lineStart&&XD(Z)){if(Z.input.charCodeAt(Z.position)===46)Z.position+=3,sJ(Z,!0,-1);return}if(Z.position<Z.length-1)e8(Z,"end of the stream or a document separator is expected");else return}function rg(Z,J){if(Z=String(Z),J=J||{},Z.length!==0){if(Z.charCodeAt(Z.length-1)!==10&&Z.charCodeAt(Z.length-1)!==13)Z+=`
`;if(Z.charCodeAt(0)===65279)Z=Z.slice(1)}var Q=new QW0(Z,J),K=Z.indexOf("\x00");if(K!==-1)Q.position=K,e8(Q,"null byte is not allowed in input");Q.input+="\x00";while(Q.input.charCodeAt(Q.position)===32)Q.lineIndent+=1,Q.position+=1;while(Q.position<Q.length-1)FW0(Q);return Q.documents}function MW0(Z,J,Q){if(J!==null&&typeof J==="object"&&typeof Q>"u")Q=J,J=null;var K=rg(Z,Q);if(typeof J!=="function")return K;for(var X=0,U=K.length;X<U;X+=1)J(K[X])}function BW0(Z,J){var Q=rg(Z,J);if(Q.length===0)return;else if(Q.length===1)return Q[0];throw new u6("expected a single document in the stream, but found more")}function VW0(Z,J){var Q,K,X,U,Y,q,W;if(J===null)return{};Q={},K=Object.keys(J);for(X=0,U=K.length;X<U;X+=1){if(Y=K[X],q=String(J[Y]),Y.slice(0,2)==="!!")Y="tag:yaml.org,2002:"+Y.slice(2);if(W=Z.compiledTypeMap.fallback[Y],W&&DW0.call(W.styleAliases,q))q=W.styleAliases[q];Q[Y]=q}return Q}function PW0(Z){var J,Q,K;if(J=Z.toString(16).toUpperCase(),Z<=255)Q="x",K=2;else if(Z<=65535)Q="u",K=4;else if(Z<=4294967295)Q="U",K=8;else throw new u6("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+Q+L7.repeat("0",K-J.length)+J}function jW0(Z){this.schema=Z.schema||dq0,this.indent=Math.max(1,Z.indent||2),this.noArrayIndent=Z.noArrayIndent||!1,this.skipInvalid=Z.skipInvalid||!1,this.flowLevel=L7.isNothing(Z.flowLevel)?-1:Z.flowLevel,this.styleMap=VW0(this.schema,Z.styles||null),this.sortKeys=Z.sortKeys||!1,this.lineWidth=Z.lineWidth||80,this.noRefs=Z.noRefs||!1,this.noCompatMode=Z.noCompatMode||!1,this.condenseFlow=Z.condenseFlow||!1,this.quotingType=Z.quotingType==='"'?QD:eQ8,this.forceQuotes=Z.forceQuotes||!1,this.replacer=typeof Z.replacer==="function"?Z.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function xg(Z,J){var Q=L7.repeat(" ",J),K=0,X=-1,U="",Y,q=Z.length;while(K<q){if(X=Z.indexOf(`
`,K),X===-1)Y=Z.slice(K),K=q;else Y=Z.slice(K,X+1),K=X+1;if(Y.length&&Y!==`
`)U+=Q;U+=Y}return U}function aP(Z,J){return`
`+L7.repeat(" ",Z.indent*J)}function CW0(Z,J){var Q,K,X;for(Q=0,K=Z.implicitTypes.length;Q<K;Q+=1)if(X=Z.implicitTypes[Q],X.resolve(J))return!0;return!1}function KD(Z){return Z===yQ8||Z===xQ8}function S2(Z){return 32<=Z&&Z<=126||161<=Z&&Z<=55295&&Z!==8232&&Z!==8233||57344<=Z&&Z<=65533&&Z!==ng||65536<=Z&&Z<=1114111}function bg(Z){return S2(Z)&&Z!==ng&&Z!==bQ8&&Z!==JD}function yg(Z,J,Q){var K=bg(Z),X=K&&!KD(Z);return(Q?K:K&&Z!==LW0&&Z!==IW0&&Z!==AW0&&Z!==NW0&&Z!==EW0)&&Z!==vg&&!(J===nP&&!X)||bg(J)&&!KD(J)&&Z===vg||J===nP&&X}function SW0(Z){return S2(Z)&&Z!==ng&&!KD(Z)&&Z!==lQ8&&Z!==sQ8&&Z!==nP&&Z!==LW0&&Z!==IW0&&Z!==AW0&&Z!==NW0&&Z!==EW0&&Z!==vg&&Z!==gQ8&&Z!==cQ8&&Z!==hQ8&&Z!==aQ8&&Z!==dQ8&&Z!==iQ8&&Z!==pQ8&&Z!==mQ8&&Z!==uQ8&&Z!==rQ8&&Z!==nQ8}function TW0(Z){return!KD(Z)&&Z!==nP}function j2(Z,J){var Q=Z.charCodeAt(J),K;if(Q>=55296&&Q<=56319&&J+1<Z.length){if(K=Z.charCodeAt(J+1),K>=56320&&K<=57343)return(Q-55296)*1024+K-56320+65536}return Q}function ag(Z){var J=/^\n* /;return J.test(Z)}function _W0(Z,J,Q,K,X,U,Y,q){var W,G=0,z=null,H=!1,F=!1,M=K!==-1,B=-1,O=SW0(j2(Z,0))&&TW0(j2(Z,Z.length-1));if(J||Y)for(W=0;W<Z.length;G>=65536?W+=2:W++){if(G=j2(Z,W),!S2(G))return P2;O=O&&yg(G,z,q),z=G}else{for(W=0;W<Z.length;G>=65536?W+=2:W++){if(G=j2(Z,W),G===JD){if(H=!0,M)F=F||W-B-1>K&&Z[B+1]!==" ",B=W}else if(!S2(G))return P2;O=O&&yg(G,z,q),z=G}F=F||M&&(W-B-1>K&&Z[B+1]!==" ")}if(!H&&!F){if(O&&!Y&&!X(Z))return wW0;return U===QD?P2:hg}if(Q>9&&ag(Z))return P2;if(!Y)return F?kW0:$W0;return U===QD?P2:hg}function fW0(Z,J,Q,K,X){Z.dump=function(){if(J.length===0)return Z.quotingType===QD?'""':"''";if(!Z.noCompatMode){if(oQ8.indexOf(J)!==-1||tQ8.test(J))return Z.quotingType===QD?'"'+J+'"':"'"+J+"'"}var U=Z.indent*Math.max(1,Q),Y=Z.lineWidth===-1?-1:Math.max(Math.min(Z.lineWidth,40),Z.lineWidth-U),q=K||Z.flowLevel>-1&&Q>=Z.flowLevel;function W(G){return CW0(Z,G)}switch(I(W,"testAmbiguity"),_W0(J,q,Z.indent,Y,W,Z.quotingType,Z.forceQuotes&&!K,X)){case wW0:return J;case hg:return"'"+J.replace(/'/g,"''")+"'";case $W0:return"|"+mg(J,Z.indent)+ug(xg(J,U));case kW0:return">"+mg(J,Z.indent)+ug(xg(vW0(J,Y),U));case P2:return'"'+xW0(J)+'"';default:throw new u6("impossible error: invalid scalar style")}}()}function mg(Z,J){var Q=ag(Z)?String(J):"",K=Z[Z.length-1]===`
`,X=K&&(Z[Z.length-2]===`
`||Z===`
`),U=X?"+":K?"":"-";return Q+U+`
`}function ug(Z){return Z[Z.length-1]===`
`?Z.slice(0,-1):Z}function vW0(Z,J){var Q=/(\n+)([^\n]*)/g,K=function(){var G=Z.indexOf(`
`);return G=G!==-1?G:Z.length,Q.lastIndex=G,gg(Z.slice(0,G),J)}(),X=Z[0]===`
`||Z[0]===" ",U,Y;while(Y=Q.exec(Z)){var q=Y[1],W=Y[2];U=W[0]===" ",K+=q+(!X&&!U&&W!==""?`
`:"")+gg(W,J),X=U}return K}function gg(Z,J){if(Z===""||Z[0]===" ")return Z;var Q=/ [^ ]/g,K,X=0,U,Y=0,q=0,W="";while(K=Q.exec(Z)){if(q=K.index,q-X>J)U=Y>X?Y:q,W+=`
`+Z.slice(X,U),X=U+1;Y=q}if(W+=`
`,Z.length-X>J&&Y>X)W+=Z.slice(X,Y)+`
`+Z.slice(Y+1);else W+=Z.slice(X);return W.slice(1)}function xW0(Z){var J="",Q=0,K;for(var X=0;X<Z.length;Q>=65536?X+=2:X++)if(Q=j2(Z,X),K=SQ[Q],!K&&S2(Q)){if(J+=Z[X],Q>=65536)J+=Z[X+1]}else J+=K||PW0(Q);return J}function bW0(Z,J,Q){var K="",X=Z.tag,U,Y,q;for(U=0,Y=Q.length;U<Y;U+=1){if(q=Q[U],Z.replacer)q=Z.replacer.call(Q,String(U),q);if(PX(Z,J,q,!1,!1)||typeof q>"u"&&PX(Z,J,null,!1,!1)){if(K!=="")K+=","+(!Z.condenseFlow?" ":"");K+=Z.dump}}Z.tag=X,Z.dump="["+K+"]"}function pg(Z,J,Q,K){var X="",U=Z.tag,Y,q,W;for(Y=0,q=Q.length;Y<q;Y+=1){if(W=Q[Y],Z.replacer)W=Z.replacer.call(Q,String(Y),W);if(PX(Z,J+1,W,!0,!0,!1,!0)||typeof W>"u"&&PX(Z,J+1,null,!0,!0,!1,!0)){if(!K||X!=="")X+=aP(Z,J);if(Z.dump&&JD===Z.dump.charCodeAt(0))X+="-";else X+="- ";X+=Z.dump}}Z.tag=U,Z.dump=X||"[]"}function yW0(Z,J,Q){var K="",X=Z.tag,U=Object.keys(Q),Y,q,W,G,z;for(Y=0,q=U.length;Y<q;Y+=1){if(z="",K!=="")z+=", ";if(Z.condenseFlow)z+='"';if(W=U[Y],G=Q[W],Z.replacer)G=Z.replacer.call(Q,W,G);if(!PX(Z,J,W,!1,!1))continue;if(Z.dump.length>1024)z+="? ";if(z+=Z.dump+(Z.condenseFlow?'"':"")+":"+(Z.condenseFlow?"":" "),!PX(Z,J,G,!1,!1))continue;z+=Z.dump,K+=z}Z.tag=X,Z.dump="{"+K+"}"}function hW0(Z,J,Q,K){var X="",U=Z.tag,Y=Object.keys(Q),q,W,G,z,H,F;if(Z.sortKeys===!0)Y.sort();else if(typeof Z.sortKeys==="function")Y.sort(Z.sortKeys);else if(Z.sortKeys)throw new u6("sortKeys must be a boolean or a function");for(q=0,W=Y.length;q<W;q+=1){if(F="",!K||X!=="")F+=aP(Z,J);if(G=Y[q],z=Q[G],Z.replacer)z=Z.replacer.call(Q,G,z);if(!PX(Z,J+1,G,!0,!0,!0))continue;if(H=Z.tag!==null&&Z.tag!=="?"||Z.dump&&Z.dump.length>1024,H)if(Z.dump&&JD===Z.dump.charCodeAt(0))F+="?";else F+="? ";if(F+=Z.dump,H)F+=aP(Z,J);if(!PX(Z,J+1,z,!0,H))continue;if(Z.dump&&JD===Z.dump.charCodeAt(0))F+=":";else F+=": ";F+=Z.dump,X+=F}Z.tag=U,Z.dump=X||"{}"}function cg(Z,J,Q){var K,X,U,Y,q,W;X=Q?Z.explicitTypes:Z.implicitTypes;for(U=0,Y=X.length;U<Y;U+=1)if(q=X[U],(q.instanceOf||q.predicate)&&(!q.instanceOf||typeof J==="object"&&J instanceof q.instanceOf)&&(!q.predicate||q.predicate(J))){if(Q)if(q.multi&&q.representName)Z.tag=q.representName(J);else Z.tag=q.tag;else Z.tag="?";if(q.represent){if(W=Z.styleMap[q.tag]||q.defaultStyle,RW0.call(q.represent)==="[object Function]")K=q.represent(J,W);else if(DW0.call(q.represent,W))K=q.represent[W](J,W);else throw new u6("!<"+q.tag+'> tag resolver accepts not "'+W+'" style');Z.dump=K}return!0}return!1}function PX(Z,J,Q,K,X,U,Y){if(Z.tag=null,Z.dump=Q,!cg(Z,Q,!1))cg(Z,Q,!0);var q=RW0.call(Z.dump),W=K,G;if(K)K=Z.flowLevel<0||Z.flowLevel>J;var z=q==="[object Object]"||q==="[object Array]",H,F;if(z)H=Z.duplicates.indexOf(Q),F=H!==-1;if(Z.tag!==null&&Z.tag!=="?"||F||Z.indent!==2&&J>0)X=!1;if(F&&Z.usedDuplicates[H])Z.dump="*ref_"+H;else{if(z&&F&&!Z.usedDuplicates[H])Z.usedDuplicates[H]=!0;if(q==="[object Object]"){if(K&&Object.keys(Z.dump).length!==0){if(hW0(Z,J,Z.dump,X),F)Z.dump="&ref_"+H+Z.dump}else if(yW0(Z,J,Z.dump),F)Z.dump="&ref_"+H+" "+Z.dump}else if(q==="[object Array]"){if(K&&Z.dump.length!==0){if(Z.noArrayIndent&&!Y&&J>0)pg(Z,J-1,Z.dump,X);else pg(Z,J,Z.dump,X);if(F)Z.dump="&ref_"+H+Z.dump}else if(bW0(Z,J,Z.dump),F)Z.dump="&ref_"+H+" "+Z.dump}else if(q==="[object String]"){if(Z.tag!=="?")fW0(Z,Z.dump,J,U,W)}else if(q==="[object Undefined]")return!1;else{if(Z.skipInvalid)return!1;throw new u6("unacceptable kind of an object to dump "+q)}if(Z.tag!==null&&Z.tag!=="?"){if(G=encodeURI(Z.tag[0]==="!"?Z.tag.slice(1):Z.tag).replace(/!/g,"%21"),Z.tag[0]==="!")G="!"+G;else if(G.slice(0,18)==="tag:yaml.org,2002:")G="!!"+G.slice(18);else G="!<"+G+">";Z.dump=G+" "+Z.dump}}return!0}function mW0(Z,J){var Q=[],K=[],X,U;oP(Z,Q,K);for(X=0,U=K.length;X<U;X+=1)J.duplicates.push(Q[K[X]]);J.usedDuplicates=Array(U)}function oP(Z,J,Q){var K,X,U;if(Z!==null&&typeof Z==="object")if(X=J.indexOf(Z),X!==-1){if(Q.indexOf(X)===-1)Q.push(X)}else if(J.push(Z),Array.isArray(Z))for(X=0,U=Z.length;X<U;X+=1)oP(Z[X],J,Q);else{K=Object.keys(Z);for(X=0,U=K.length;X<U;X+=1)oP(Z[K[X]],J,Q)}}function uW0(Z,J){J=J||{};var Q=new jW0(J);if(!Q.noRefs)mW0(Z,Q);var K=Z;if(Q.replacer)K=Q.replacer.call({"":K},"",K);if(PX(Q,0,K,!0,!0))return Q.dump+`
`;return""}function Zj(Z,J){return function(){throw Error("Function yaml."+Z+" is removed in js-yaml 4. Use yaml."+J+" instead, which is now safe by default.")}}var t78,e78,ZQ8,JQ8,QQ8,KQ8,L7,u6,XQ8,UQ8,YQ8,CQ,qQ8,WQ8,GQ8,zQ8,HQ8,FQ8,MQ8,BQ8,OQ8,RQ8,DQ8,Tq0,LQ8,wq0,$q0,IQ8,AQ8,ig=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,NQ8,EQ8,VQ8,PQ8,jQ8,CQ8,SQ8,TQ8,dq0,x1,sP=1,iq0=2,sq0=3,rP=4,Tg=1,wQ8=2,Jq0=3,$Q8,kQ8,_Q8,rq0,nq0,ZW0,JW0,hG,Qq0,fQ8,vQ8,OW0,RW0,DW0,ng=65279,xQ8=9,JD=10,bQ8=13,yQ8=32,hQ8=33,mQ8=34,vg=35,uQ8=37,gQ8=38,pQ8=39,cQ8=42,LW0=44,lQ8=45,nP=58,dQ8=61,iQ8=62,sQ8=63,rQ8=64,IW0=91,AW0=93,nQ8=96,NW0=123,aQ8=124,EW0=125,SQ,oQ8,tQ8,eQ8=1,QD=2,wW0=1,hg=2,$W0=3,kW0=4,P2=5,Z68,J68,b1,y1,f69,v69,x69,b69,y69;var UD=_(()=>{M9();I(lg,"isNothing");I(Kq0,"isObject");I(Xq0,"toArray");I(Uq0,"extend");I(Yq0,"repeat");I(qq0,"isNegativeZero");t78=lg,e78=Kq0,ZQ8=Xq0,JQ8=Yq0,QQ8=qq0,KQ8=Uq0,L7={isNothing:t78,isObject:e78,toArray:ZQ8,repeat:JQ8,isNegativeZero:QQ8,extend:KQ8};I(dg,"formatError");I(C2,"YAMLException$1");C2.prototype=Object.create(Error.prototype);C2.prototype.constructor=C2;C2.prototype.toString=I(function(J){return this.name+": "+dg(this,J)},"toString");u6=C2;I(lP,"getLine");I(dP,"padStart");I(Wq0,"makeSnippet");XQ8=Wq0,UQ8=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YQ8=["scalar","sequence","mapping"];I(Gq0,"compileStyleAliases");I(zq0,"Type$1");CQ=zq0;I(wg,"compileList");I(Hq0,"compileMap");I(iP,"Schema$1");iP.prototype.extend=I(function(J){var Q=[],K=[];if(J instanceof CQ)K.push(J);else if(Array.isArray(J))K=K.concat(J);else if(J&&(Array.isArray(J.implicit)||Array.isArray(J.explicit))){if(J.implicit)Q=Q.concat(J.implicit);if(J.explicit)K=K.concat(J.explicit)}else throw new u6("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Q.forEach(function(U){if(!(U instanceof CQ))throw new u6("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(U.loadKind&&U.loadKind!=="scalar")throw new u6("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(U.multi)throw new u6("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),K.forEach(function(U){if(!(U instanceof CQ))throw new u6("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var X=Object.create(iP.prototype);return X.implicit=(this.implicit||[]).concat(Q),X.explicit=(this.explicit||[]).concat(K),X.compiledImplicit=wg(X,"implicit"),X.compiledExplicit=wg(X,"explicit"),X.compiledTypeMap=Hq0(X.compiledImplicit,X.compiledExplicit),X},"extend");qQ8=iP,WQ8=new CQ("tag:yaml.org,2002:str",{kind:"scalar",construct:I(function(Z){return Z!==null?Z:""},"construct")}),GQ8=new CQ("tag:yaml.org,2002:seq",{kind:"sequence",construct:I(function(Z){return Z!==null?Z:[]},"construct")}),zQ8=new CQ("tag:yaml.org,2002:map",{kind:"mapping",construct:I(function(Z){return Z!==null?Z:{}},"construct")}),HQ8=new qQ8({explicit:[WQ8,GQ8,zQ8]});I(Fq0,"resolveYamlNull");I(Mq0,"constructYamlNull");I(Bq0,"isNull");FQ8=new CQ("tag:yaml.org,2002:null",{kind:"scalar",resolve:Fq0,construct:Mq0,predicate:Bq0,represent:{canonical:I(function(){return"~"},"canonical"),lowercase:I(function(){return"null"},"lowercase"),uppercase:I(function(){return"NULL"},"uppercase"),camelcase:I(function(){return"Null"},"camelcase"),empty:I(function(){return""},"empty")},defaultStyle:"lowercase"});I(Oq0,"resolveYamlBoolean");I(Rq0,"constructYamlBoolean");I(Dq0,"isBoolean");MQ8=new CQ("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Oq0,construct:Rq0,predicate:Dq0,represent:{lowercase:I(function(Z){return Z?"true":"false"},"lowercase"),uppercase:I(function(Z){return Z?"TRUE":"FALSE"},"uppercase"),camelcase:I(function(Z){return Z?"True":"False"},"camelcase")},defaultStyle:"lowercase"});I(Lq0,"isHexCode");I(Iq0,"isOctCode");I(Aq0,"isDecCode");I(Nq0,"resolveYamlInteger");I(Eq0,"constructYamlInteger");I(Vq0,"isInteger");BQ8=new CQ("tag:yaml.org,2002:int",{kind:"scalar",resolve:Nq0,construct:Eq0,predicate:Vq0,represent:{binary:I(function(Z){return Z>=0?"0b"+Z.toString(2):"-0b"+Z.toString(2).slice(1)},"binary"),octal:I(function(Z){return Z>=0?"0o"+Z.toString(8):"-0o"+Z.toString(8).slice(1)},"octal"),decimal:I(function(Z){return Z.toString(10)},"decimal"),hexadecimal:I(function(Z){return Z>=0?"0x"+Z.toString(16).toUpperCase():"-0x"+Z.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),OQ8=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");I(Pq0,"resolveYamlFloat");I(jq0,"constructYamlFloat");RQ8=/^[-+]?[0-9]+e/;I(Cq0,"representYamlFloat");I(Sq0,"isFloat");DQ8=new CQ("tag:yaml.org,2002:float",{kind:"scalar",resolve:Pq0,construct:jq0,predicate:Sq0,represent:Cq0,defaultStyle:"lowercase"}),Tq0=HQ8.extend({implicit:[FQ8,MQ8,BQ8,DQ8]}),LQ8=Tq0,wq0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$q0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");I(kq0,"resolveYamlTimestamp");I(_q0,"constructYamlTimestamp");I(fq0,"representYamlTimestamp");IQ8=new CQ("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:kq0,construct:_q0,instanceOf:Date,represent:fq0});I(vq0,"resolveYamlMerge");AQ8=new CQ("tag:yaml.org,2002:merge",{kind:"scalar",resolve:vq0});I(xq0,"resolveYamlBinary");I(bq0,"constructYamlBinary");I(yq0,"representYamlBinary");I(hq0,"isBinary");NQ8=new CQ("tag:yaml.org,2002:binary",{kind:"scalar",resolve:xq0,construct:bq0,predicate:hq0,represent:yq0}),EQ8=Object.prototype.hasOwnProperty,VQ8=Object.prototype.toString;I(mq0,"resolveYamlOmap");I(uq0,"constructYamlOmap");PQ8=new CQ("tag:yaml.org,2002:omap",{kind:"sequence",resolve:mq0,construct:uq0}),jQ8=Object.prototype.toString;I(gq0,"resolveYamlPairs");I(pq0,"constructYamlPairs");CQ8=new CQ("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:gq0,construct:pq0}),SQ8=Object.prototype.hasOwnProperty;I(cq0,"resolveYamlSet");I(lq0,"constructYamlSet");TQ8=new CQ("tag:yaml.org,2002:set",{kind:"mapping",resolve:cq0,construct:lq0}),dq0=LQ8.extend({implicit:[IQ8,AQ8],explicit:[NQ8,PQ8,CQ8,TQ8]}),x1=Object.prototype.hasOwnProperty,$Q8=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,kQ8=/[\x85\u2028\u2029]/,_Q8=/[,\[\]\{\}]/,rq0=/^(?:!|!!|![a-z\-]+!)$/i,nq0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;I($g,"_class");I(R5,"is_EOL");I(v1,"is_WHITE_SPACE");I(J6,"is_WS_OR_EOL");I(mG,"is_FLOW_INDICATOR");I(aq0,"fromHexCode");I(oq0,"escapedHexLen");I(tq0,"fromDecimalCode");I(kg,"simpleEscapeSequence");I(eq0,"charFromCodepoint");ZW0=Array(256),JW0=Array(256);for(hG=0;hG<256;hG++)ZW0[hG]=kg(hG)?1:0,JW0[hG]=kg(hG);I(QW0,"State$1");I(sg,"generateError");I(e8,"throwError");I(ZD,"throwWarning");Qq0={YAML:I(function(J,Q,K){var X,U,Y;if(J.version!==null)e8(J,"duplication of %YAML directive");if(K.length!==1)e8(J,"YAML directive accepts exactly one argument");if(X=/^([0-9]+)\.([0-9]+)$/.exec(K[0]),X===null)e8(J,"ill-formed argument of the YAML directive");if(U=parseInt(X[1],10),Y=parseInt(X[2],10),U!==1)e8(J,"unacceptable YAML version of the document");if(J.version=K[0],J.checkLineBreaks=Y<2,Y!==1&&Y!==2)ZD(J,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:I(function(J,Q,K){var X,U;if(K.length!==2)e8(J,"TAG directive accepts exactly two arguments");if(X=K[0],U=K[1],!rq0.test(X))e8(J,"ill-formed tag handle (first argument) of the TAG directive");if(x1.call(J.tagMap,X))e8(J,'there is a previously declared suffix for "'+X+'" tag handle');if(!nq0.test(U))e8(J,"ill-formed tag prefix (second argument) of the TAG directive");try{U=decodeURIComponent(U)}catch(Y){e8(J,"tag prefix is malformed: "+U)}J.tagMap[X]=U},"handleTagDirective")};I(GY,"captureSegment");I(_g,"mergeMappings");I(uG,"storeMappingPair");I(tP,"readLineBreak");I(sJ,"skipSeparationSpace");I(XD,"testDocumentSeparator");I(eP,"writeFoldedLines");I(KW0,"readPlainScalar");I(XW0,"readSingleQuotedScalar");I(UW0,"readDoubleQuotedScalar");I(YW0,"readFlowCollection");I(qW0,"readBlockScalar");I(fg,"readBlockSequence");I(WW0,"readBlockMapping");I(GW0,"readTagProperty");I(zW0,"readAnchorProperty");I(HW0,"readAlias");I(gG,"composeNode");I(FW0,"readDocument");I(rg,"loadDocuments");I(MW0,"loadAll$1");I(BW0,"load$1");fQ8=MW0,vQ8=BW0,OW0={loadAll:fQ8,load:vQ8},RW0=Object.prototype.toString,DW0=Object.prototype.hasOwnProperty,SQ={};SQ[0]="\\0";SQ[7]="\\a";SQ[8]="\\b";SQ[9]="\\t";SQ[10]="\\n";SQ[11]="\\v";SQ[12]="\\f";SQ[13]="\\r";SQ[27]="\\e";SQ[34]="\\\"";SQ[92]="\\\\";SQ[133]="\\N";SQ[160]="\\_";SQ[8232]="\\L";SQ[8233]="\\P";oQ8=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],tQ8=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;I(VW0,"compileStyleMap");I(PW0,"encodeHex");I(jW0,"State");I(xg,"indentString");I(aP,"generateNextLine");I(CW0,"testImplicitResolving");I(KD,"isWhitespace");I(S2,"isPrintable");I(bg,"isNsCharOrWhitespace");I(yg,"isPlainSafe");I(SW0,"isPlainSafeFirst");I(TW0,"isPlainSafeLast");I(j2,"codePointAt");I(ag,"needIndentIndicator");I(_W0,"chooseScalarStyle");I(fW0,"writeScalar");I(mg,"blockHeader");I(ug,"dropEndingNewline");I(vW0,"foldString");I(gg,"foldLine");I(xW0,"escapeString");I(bW0,"writeFlowSequence");I(pg,"writeBlockSequence");I(yW0,"writeFlowMapping");I(hW0,"writeBlockMapping");I(cg,"detectType");I(PX,"writeNode");I(mW0,"getDuplicateReferences");I(oP,"inspectNode");I(uW0,"dump$1");Z68=uW0,J68={dump:Z68};I(Zj,"renamed");b1=Tq0,y1=OW0.load,f69=OW0.loadAll,v69=J68.dump,x69=Zj("safeLoad","load"),b69=Zj("safeLoadAll","loadAll"),y69=Zj("safeDump","dump");/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/});function YD(Z,J){if(Z===void 0||J===void 0)return{angle:0,deltaX:0,deltaY:0};Z=RJ(Z),J=RJ(J);let[Q,K]=[Z.x,Z.y],[X,U]=[J.x,J.y],Y=X-Q,q=U-K;return{angle:Math.atan(q/Y),deltaX:Y,deltaY:q}}var QQ,og,RJ,Jj;var k4=_(()=>{M9();QQ={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},og={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};I(YD,"calculateDeltaAndAngle");RJ=I((Z)=>{if(Array.isArray(Z))return{x:Z[0],y:Z[1]};return Z},"pointTransformer"),Jj=I((Z)=>{return{x:I(function(J,Q,K){let X=0,U=RJ(K[0]).x<RJ(K[K.length-1]).x?"left":"right";if(Q===0&&Object.hasOwn(QQ,Z.arrowTypeStart)){let{angle:M,deltaX:B}=YD(K[0],K[1]);X=QQ[Z.arrowTypeStart]*Math.cos(M)*(B>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(QQ,Z.arrowTypeEnd)){let{angle:M,deltaX:B}=YD(K[K.length-1],K[K.length-2]);X=QQ[Z.arrowTypeEnd]*Math.cos(M)*(B>=0?1:-1)}let Y=Math.abs(RJ(J).x-RJ(K[K.length-1]).x),q=Math.abs(RJ(J).y-RJ(K[K.length-1]).y),W=Math.abs(RJ(J).x-RJ(K[0]).x),G=Math.abs(RJ(J).y-RJ(K[0]).y),z=QQ[Z.arrowTypeStart],H=QQ[Z.arrowTypeEnd],F=1;if(Y<H&&Y>0&&q<H){let M=H+F-Y;M*=U==="right"?-1:1,X-=M}if(W<z&&W>0&&G<z){let M=z+F-W;M*=U==="right"?-1:1,X+=M}return RJ(J).x+X},"x"),y:I(function(J,Q,K){let X=0,U=RJ(K[0]).y<RJ(K[K.length-1]).y?"down":"up";if(Q===0&&Object.hasOwn(QQ,Z.arrowTypeStart)){let{angle:M,deltaY:B}=YD(K[0],K[1]);X=QQ[Z.arrowTypeStart]*Math.abs(Math.sin(M))*(B>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(QQ,Z.arrowTypeEnd)){let{angle:M,deltaY:B}=YD(K[K.length-1],K[K.length-2]);X=QQ[Z.arrowTypeEnd]*Math.abs(Math.sin(M))*(B>=0?1:-1)}let Y=Math.abs(RJ(J).y-RJ(K[K.length-1]).y),q=Math.abs(RJ(J).x-RJ(K[K.length-1]).x),W=Math.abs(RJ(J).y-RJ(K[0]).y),G=Math.abs(RJ(J).x-RJ(K[0]).x),z=QQ[Z.arrowTypeStart],H=QQ[Z.arrowTypeEnd],F=1;if(Y<H&&Y>0&&q<H){let M=H+F-Y;M*=U==="up"?-1:1,X-=M}if(W<z&&W>0&&G<z){let M=z+F-W;M*=U==="up"?-1:1,X+=M}return RJ(J).y+X},"y")}},"getLineFunctionsWithOffset")});var zY;var Q6=_(()=>{M9();zY=I(({flowchart:Z})=>{let J=Z?.subGraphTitleMargin?.top??0,Q=Z?.subGraphTitleMargin?.bottom??0,K=J+Q;return{subGraphTitleTopMargin:J,subGraphTitleBottomMargin:Q,subGraphTitleTotalMargin:K}},"getSubGraphTitleMargins")});var gW0,pG,Q68,qD,_8,g8,K68;var K6=_(()=>{T9();M9();gW0=I((Z)=>{let{handDrawnSeed:J}=N0();return{fill:Z,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:0.7,stroke:Z,seed:J}},"solidStateFill"),pG=I((Z)=>{let J=Q68([...Z.cssCompiledStyles||[],...Z.cssStyles||[],...Z.labelStyle||[]]);return{stylesMap:J,stylesArray:[...J]}},"compileStyles"),Q68=I((Z)=>{let J=new Map;return Z.forEach((Q)=>{let[K,X]=Q.split(":");J.set(K.trim(),X?.trim())}),J},"styles2Map"),qD=I((Z)=>{return Z==="color"||Z==="font-size"||Z==="font-family"||Z==="font-weight"||Z==="font-style"||Z==="text-decoration"||Z==="text-align"||Z==="text-transform"||Z==="line-height"||Z==="letter-spacing"||Z==="word-spacing"||Z==="text-shadow"||Z==="text-overflow"||Z==="white-space"||Z==="word-wrap"||Z==="word-break"||Z==="overflow-wrap"||Z==="hyphens"},"isLabelStyle"),_8=I((Z)=>{let{stylesArray:J}=pG(Z),Q=[],K=[],X=[],U=[];return J.forEach((Y)=>{let q=Y[0];if(qD(q))Q.push(Y.join(":")+" !important");else{if(K.push(Y.join(":")+" !important"),q.includes("stroke"))X.push(Y.join(":")+" !important");if(q==="fill")U.push(Y.join(":")+" !important")}}),{labelStyles:Q.join(";"),nodeStyles:K.join(";"),stylesArray:J,borderStyles:X,backgroundStyles:U}},"styles2String"),g8=I((Z,J)=>{let{themeVariables:Q,handDrawnSeed:K}=N0(),{nodeBorder:X,mainBkg:U}=Q,{stylesMap:Y}=pG(Z);return Object.assign({roughness:0.7,fill:Y.get("fill")||U,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:Y.get("stroke")||X,seed:K,strokeWidth:Y.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:K68(Y.get("stroke-dasharray"))},J)},"userNodeOverrides"),K68=I((Z)=>{if(!Z)return[0,0];let J=Z.trim().split(/\s+/).map(Number);if(J.length===1){let X=isNaN(J[0])?0:J[0];return[X,X]}let Q=isNaN(J[0])?0:J[0],K=isNaN(J[1])?0:J[1];return[Q,K]},"getStrokeDashArray")});var lW0=HJ((pW0)=>{Object.defineProperty(pW0,"__esModule",{value:!0});pW0.BLANK_URL=pW0.relativeFirstCharacters=pW0.whitespaceEscapeCharsRegex=pW0.urlSchemeRegex=pW0.ctrlCharactersRegex=pW0.htmlCtrlEntityRegex=pW0.htmlEntitiesRegex=pW0.invalidProtocolRegex=void 0;pW0.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;pW0.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;pW0.htmlCtrlEntityRegex=/&(newline|tab);/gi;pW0.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;pW0.urlSchemeRegex=/^.+(:|&colon;)/gim;pW0.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;pW0.relativeFirstCharacters=[".","/"];pW0.BLANK_URL="about:blank"});var T2=HJ((iW0)=>{Object.defineProperty(iW0,"__esModule",{value:!0});iW0.sanitizeUrl=B68;var TQ=lW0();function H68(Z){return TQ.relativeFirstCharacters.indexOf(Z[0])>-1}function F68(Z){var J=Z.replace(TQ.ctrlCharactersRegex,"");return J.replace(TQ.htmlEntitiesRegex,function(Q,K){return String.fromCharCode(K)})}function M68(Z){return URL.canParse(Z)}function dW0(Z){try{return decodeURIComponent(Z)}catch(J){return Z}}function B68(Z){if(!Z)return TQ.BLANK_URL;var J,Q=dW0(Z.trim());do Q=F68(Q).replace(TQ.htmlCtrlEntityRegex,"").replace(TQ.ctrlCharactersRegex,"").replace(TQ.whitespaceEscapeCharsRegex,"").trim(),Q=dW0(Q),J=Q.match(TQ.ctrlCharactersRegex)||Q.match(TQ.htmlEntitiesRegex)||Q.match(TQ.htmlCtrlEntityRegex)||Q.match(TQ.whitespaceEscapeCharsRegex);while(J&&J.length>0);var K=Q;if(!K)return TQ.BLANK_URL;if(H68(K))return K;var X=K.trimStart(),U=X.match(TQ.urlSchemeRegex);if(!U)return K;var Y=U[0].toLowerCase().trim();if(TQ.invalidProtocolRegex.test(Y))return TQ.BLANK_URL;var q=X.replace(/\\/g,"/");if(Y==="mailto:"||Y.includes("://"))return q;if(Y==="http:"||Y==="https:"){if(!M68(q))return TQ.BLANK_URL;var W=new URL(q);return W.protocol=W.protocol.toLowerCase(),W.hostname=W.hostname.toLowerCase(),W.toString()}return q}});var R68,Qj;var tg=_(()=>{R68=typeof global=="object"&&global&&global.Object===Object&&global,Qj=R68});var D68,L68,yJ;var zK=_(()=>{tg();D68=typeof self=="object"&&self&&self.Object===Object&&self,L68=Qj||D68||Function("return this")(),yJ=L68});var I68,f7;var cG=_(()=>{zK();I68=yJ.Symbol,f7=I68});function E68(Z){var J=A68.call(Z,WD),Q=Z[WD];try{Z[WD]=void 0;var K=!0}catch(U){}var X=N68.call(Z);if(K)if(J)Z[WD]=Q;else delete Z[WD];return X}var sW0,A68,N68,WD,rW0;var nW0=_(()=>{cG();sW0=Object.prototype,A68=sW0.hasOwnProperty,N68=sW0.toString,WD=f7?f7.toStringTag:void 0;rW0=E68});function j68(Z){return P68.call(Z)}var V68,P68,aW0;var oW0=_(()=>{V68=Object.prototype,P68=V68.toString;aW0=j68});function T68(Z){if(Z==null)return Z===void 0?S68:C68;return tW0&&tW0 in Object(Z)?rW0(Z):aW0(Z)}var C68="[object Null]",S68="[object Undefined]",tW0,X6;var h1=_(()=>{cG();nW0();oW0();tW0=f7?f7.toStringTag:void 0;X6=T68});function w68(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var DJ;var HK=_(()=>{DJ=w68});function v68(Z){if(!DJ(Z))return!1;var J=X6(Z);return J==k68||J==_68||J==$68||J==f68}var $68="[object AsyncFunction]",k68="[object Function]",_68="[object GeneratorFunction]",f68="[object Proxy]",jX;var GD=_(()=>{h1();HK();jX=v68});var x68,Kj;var eW0=_(()=>{zK();x68=yJ["__core-js_shared__"],Kj=x68});function b68(Z){return!!ZG0&&ZG0 in Z}var ZG0,JG0;var QG0=_(()=>{eW0();ZG0=function(){var Z=/[^.]+$/.exec(Kj&&Kj.keys&&Kj.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();JG0=b68});function m68(Z){if(Z!=null){try{return h68.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var y68,h68,HY;var eg=_(()=>{y68=Function.prototype,h68=y68.toString;HY=m68});function s68(Z){if(!DJ(Z)||JG0(Z))return!1;var J=jX(Z)?i68:g68;return J.test(HY(Z))}var u68,g68,p68,c68,l68,d68,i68,KG0;var XG0=_(()=>{GD();QG0();HK();eg();u68=/[\\^$.*+?()[\]{}|]/g,g68=/^\[object .+?Constructor\]$/,p68=Function.prototype,c68=Object.prototype,l68=p68.toString,d68=c68.hasOwnProperty,i68=RegExp("^"+l68.call(d68).replace(u68,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");KG0=s68});function r68(Z,J){return Z==null?void 0:Z[J]}var UG0;var YG0=_(()=>{UG0=r68});function n68(Z,J){var Q=UG0(Z,J);return KG0(Q)?Q:void 0}var g6;var m1=_(()=>{XG0();YG0();g6=n68});var a68,FY;var zD=_(()=>{m1();a68=g6(Object,"create"),FY=a68});function o68(){this.__data__=FY?FY(null):{},this.size=0}var qG0;var WG0=_(()=>{zD();qG0=o68});function t68(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var GG0;var zG0=_(()=>{GG0=t68});function Q48(Z){var J=this.__data__;if(FY){var Q=J[Z];return Q===e68?void 0:Q}return J48.call(J,Z)?J[Z]:void 0}var e68="__lodash_hash_undefined__",Z48,J48,HG0;var FG0=_(()=>{zD();Z48=Object.prototype,J48=Z48.hasOwnProperty;HG0=Q48});function U48(Z){var J=this.__data__;return FY?J[Z]!==void 0:X48.call(J,Z)}var K48,X48,MG0;var BG0=_(()=>{zD();K48=Object.prototype,X48=K48.hasOwnProperty;MG0=U48});function q48(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=FY&&J===void 0?Y48:J,this}var Y48="__lodash_hash_undefined__",OG0;var RG0=_(()=>{zD();OG0=q48});function w2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Zp;var DG0=_(()=>{WG0();zG0();FG0();BG0();RG0();w2.prototype.clear=qG0;w2.prototype.delete=GG0;w2.prototype.get=HG0;w2.prototype.has=MG0;w2.prototype.set=OG0;Zp=w2});function W48(){this.__data__=[],this.size=0}var LG0;var IG0=_(()=>{LG0=W48});function G48(Z,J){return Z===J||Z!==Z&&J!==J}var FK;var lG=_(()=>{FK=G48});function z48(Z,J){var Q=Z.length;while(Q--)if(FK(Z[Q][0],J))return Q;return-1}var u1;var HD=_(()=>{lG();u1=z48});function M48(Z){var J=this.__data__,Q=u1(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else F48.call(J,Q,1);return--this.size,!0}var H48,F48,AG0;var NG0=_(()=>{HD();H48=Array.prototype,F48=H48.splice;AG0=M48});function B48(Z){var J=this.__data__,Q=u1(J,Z);return Q<0?void 0:J[Q][1]}var EG0;var VG0=_(()=>{HD();EG0=B48});function O48(Z){return u1(this.__data__,Z)>-1}var PG0;var jG0=_(()=>{HD();PG0=O48});function R48(Z,J){var Q=this.__data__,K=u1(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var CG0;var SG0=_(()=>{HD();CG0=R48});function $2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var g1;var FD=_(()=>{IG0();NG0();VG0();jG0();SG0();$2.prototype.clear=LG0;$2.prototype.delete=AG0;$2.prototype.get=EG0;$2.prototype.has=PG0;$2.prototype.set=CG0;g1=$2});var D48,p1;var Xj=_(()=>{m1();zK();D48=g6(yJ,"Map"),p1=D48});function L48(){this.size=0,this.__data__={hash:new Zp,map:new(p1||g1),string:new Zp}}var TG0;var wG0=_(()=>{DG0();FD();Xj();TG0=L48});function I48(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var $G0;var kG0=_(()=>{$G0=I48});function A48(Z,J){var Q=Z.__data__;return $G0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var c1;var MD=_(()=>{kG0();c1=A48});function N48(Z){var J=c1(this,Z).delete(Z);return this.size-=J?1:0,J}var _G0;var fG0=_(()=>{MD();_G0=N48});function E48(Z){return c1(this,Z).get(Z)}var vG0;var xG0=_(()=>{MD();vG0=E48});function V48(Z){return c1(this,Z).has(Z)}var bG0;var yG0=_(()=>{MD();bG0=V48});function P48(Z,J){var Q=c1(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var hG0;var mG0=_(()=>{MD();hG0=P48});function k2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var dG;var Uj=_(()=>{wG0();fG0();xG0();yG0();mG0();k2.prototype.clear=TG0;k2.prototype.delete=_G0;k2.prototype.get=vG0;k2.prototype.has=bG0;k2.prototype.set=hG0;dG=k2});function Jp(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(j48);var Q=function(){var K=arguments,X=J?J.apply(this,K):K[0],U=Q.cache;if(U.has(X))return U.get(X);var Y=Z.apply(this,K);return Q.cache=U.set(X,Y)||U,Y};return Q.cache=new(Jp.Cache||dG),Q}var j48="Expected a function",_2;var Qp=_(()=>{Uj();Jp.Cache=dG;_2=Jp});function C48(){this.__data__=new g1,this.size=0}var uG0;var gG0=_(()=>{FD();uG0=C48});function S48(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var pG0;var cG0=_(()=>{pG0=S48});function T48(Z){return this.__data__.get(Z)}var lG0;var dG0=_(()=>{lG0=T48});function w48(Z){return this.__data__.has(Z)}var iG0;var sG0=_(()=>{iG0=w48});function k48(Z,J){var Q=this.__data__;if(Q instanceof g1){var K=Q.__data__;if(!p1||K.length<$48-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new dG(K)}return Q.set(Z,J),this.size=Q.size,this}var $48=200,rG0;var nG0=_(()=>{FD();Xj();Uj();rG0=k48});function f2(Z){var J=this.__data__=new g1(Z);this.size=J.size}var CX;var BD=_(()=>{FD();gG0();cG0();dG0();sG0();nG0();f2.prototype.clear=uG0;f2.prototype.delete=pG0;f2.prototype.get=lG0;f2.prototype.has=iG0;f2.prototype.set=rG0;CX=f2});var _48,v2;var Kp=_(()=>{m1();_48=function(){try{var Z=g6(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),v2=_48});function f48(Z,J,Q){if(J=="__proto__"&&v2)v2(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var l1;var OD=_(()=>{Kp();l1=f48});function v48(Z,J,Q){if(Q!==void 0&&!FK(Z[J],Q)||Q===void 0&&!(J in Z))l1(Z,J,Q)}var RD;var Xp=_(()=>{OD();lG();RD=v48});function x48(Z){return function(J,Q,K){var X=-1,U=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++X];if(Q(U[W],W,U)===!1)break}return J}}var aG0;var oG0=_(()=>{aG0=x48});var b48,x2;var Yj=_(()=>{oG0();b48=aG0(),x2=b48});var Wj={};z9(Wj,{default:()=>DD});function h48(Z,J){if(J)return Z.slice();var Q=Z.length,K=Zz0?Zz0(Q):new Z.constructor(Q);return Z.copy(K),K}var Jz0,tG0,y48,eG0,Zz0,DD;var Up=_(()=>{zK();Jz0=typeof Wj=="object"&&Wj&&!Wj.nodeType&&Wj,tG0=Jz0&&typeof qj=="object"&&qj&&!qj.nodeType&&qj,y48=tG0&&tG0.exports===Jz0,eG0=y48?yJ.Buffer:void 0,Zz0=eG0?eG0.allocUnsafe:void 0;DD=h48});var m48,b2;var Yp=_(()=>{zK();m48=yJ.Uint8Array,b2=m48});function u48(Z){var J=new Z.constructor(Z.byteLength);return new b2(J).set(new b2(Z)),J}var y2;var Gj=_(()=>{Yp();y2=u48});function g48(Z,J){var Q=J?y2(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.length)}var zj;var qp=_(()=>{Gj();zj=g48});function p48(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}var Hj;var Wp=_(()=>{Hj=p48});var Qz0,c48,Kz0;var Xz0=_(()=>{HK();Qz0=Object.create,c48=function(){function Z(){}return function(J){if(!DJ(J))return{};if(Qz0)return Qz0(J);Z.prototype=J;var Q=new Z;return Z.prototype=void 0,Q}}(),Kz0=c48});function l48(Z,J){return function(Q){return Z(J(Q))}}var Fj;var Gp=_(()=>{Fj=l48});var d48,h2;var Mj=_(()=>{Gp();d48=Fj(Object.getPrototypeOf,Object),h2=d48});function s48(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||i48;return Z===Q}var i48,d1;var LD=_(()=>{i48=Object.prototype;d1=s48});function r48(Z){return typeof Z.constructor=="function"&&!d1(Z)?Kz0(h2(Z)):{}}var Bj;var zp=_(()=>{Xz0();Mj();LD();Bj=r48});function n48(Z){return Z!=null&&typeof Z=="object"}var rJ;var D5=_(()=>{rJ=n48});function o48(Z){return rJ(Z)&&X6(Z)==a48}var a48="[object Arguments]",Hp;var Uz0=_(()=>{h1();D5();Hp=o48});var Yz0,t48,e48,ZK8,L5;var m2=_(()=>{Uz0();D5();Yz0=Object.prototype,t48=Yz0.hasOwnProperty,e48=Yz0.propertyIsEnumerable,ZK8=Hp(function(){return arguments}())?Hp:function(Z){return rJ(Z)&&t48.call(Z,"callee")&&!e48.call(Z,"callee")},L5=ZK8});var JK8,P9;var Q7=_(()=>{JK8=Array.isArray,P9=JK8});function KK8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=QK8}var QK8=9007199254740991,u2;var Oj=_(()=>{u2=KK8});function XK8(Z){return Z!=null&&u2(Z.length)&&!jX(Z)}var v7;var SX=_(()=>{GD();Oj();v7=XK8});function UK8(Z){return rJ(Z)&&v7(Z)}var Rj;var Fp=_(()=>{SX();D5();Rj=UK8});function YK8(){return!1}var qz0;var Wz0=_(()=>{qz0=YK8});var Lj={};z9(Lj,{default:()=>MK});var Hz0,Gz0,qK8,zz0,WK8,GK8,MK;var g2=_(()=>{zK();Wz0();Hz0=typeof Lj=="object"&&Lj&&!Lj.nodeType&&Lj,Gz0=Hz0&&typeof Dj=="object"&&Dj&&!Dj.nodeType&&Dj,qK8=Gz0&&Gz0.exports===Hz0,zz0=qK8?yJ.Buffer:void 0,WK8=zz0?zz0.isBuffer:void 0,GK8=WK8||qz0,MK=GK8});function OK8(Z){if(!rJ(Z)||X6(Z)!=zK8)return!1;var J=h2(Z);if(J===null)return!0;var Q=MK8.call(J,"constructor")&&J.constructor;return typeof Q=="function"&&Q instanceof Q&&Fz0.call(Q)==BK8}var zK8="[object Object]",HK8,FK8,Fz0,MK8,BK8,Mz0;var Bz0=_(()=>{h1();Mj();D5();HK8=Function.prototype,FK8=Object.prototype,Fz0=HK8.toString,MK8=FK8.hasOwnProperty,BK8=Fz0.call(Object);Mz0=OK8});function uK8(Z){return rJ(Z)&&u2(Z.length)&&!!KJ[X6(Z)]}var RK8="[object Arguments]",DK8="[object Array]",LK8="[object Boolean]",IK8="[object Date]",AK8="[object Error]",NK8="[object Function]",EK8="[object Map]",VK8="[object Number]",PK8="[object Object]",jK8="[object RegExp]",CK8="[object Set]",SK8="[object String]",TK8="[object WeakMap]",wK8="[object ArrayBuffer]",$K8="[object DataView]",kK8="[object Float32Array]",_K8="[object Float64Array]",fK8="[object Int8Array]",vK8="[object Int16Array]",xK8="[object Int32Array]",bK8="[object Uint8Array]",yK8="[object Uint8ClampedArray]",hK8="[object Uint16Array]",mK8="[object Uint32Array]",KJ,Oz0;var Rz0=_(()=>{h1();Oj();D5();KJ={};KJ[kK8]=KJ[_K8]=KJ[fK8]=KJ[vK8]=KJ[xK8]=KJ[bK8]=KJ[yK8]=KJ[hK8]=KJ[mK8]=!0;KJ[RK8]=KJ[DK8]=KJ[wK8]=KJ[LK8]=KJ[$K8]=KJ[IK8]=KJ[AK8]=KJ[NK8]=KJ[EK8]=KJ[VK8]=KJ[PK8]=KJ[jK8]=KJ[CK8]=KJ[SK8]=KJ[TK8]=!1;Oz0=uK8});function gK8(Z){return function(J){return Z(J)}}var i1;var ID=_(()=>{i1=gK8});var Aj={};z9(Aj,{default:()=>TX});var Dz0,AD,pK8,Mp,cK8,TX;var Nj=_(()=>{tg();Dz0=typeof Aj=="object"&&Aj&&!Aj.nodeType&&Aj,AD=Dz0&&typeof Ij=="object"&&Ij&&!Ij.nodeType&&Ij,pK8=AD&&AD.exports===Dz0,Mp=pK8&&Qj.process,cK8=function(){try{var Z=AD&&AD.require&&AD.require("util").types;if(Z)return Z;return Mp&&Mp.binding&&Mp.binding("util")}catch(J){}}(),TX=cK8});var Lz0,lK8,s1;var ND=_(()=>{Rz0();ID();Nj();Lz0=TX&&TX.isTypedArray,lK8=Lz0?i1(Lz0):Oz0,s1=lK8});function dK8(Z,J){if(J==="constructor"&&typeof Z[J]==="function")return;if(J=="__proto__")return;return Z[J]}var ED;var Bp=_(()=>{ED=dK8});function rK8(Z,J,Q){var K=Z[J];if(!(sK8.call(Z,J)&&FK(K,Q))||Q===void 0&&!(J in Z))l1(Z,J,Q)}var iK8,sK8,r1;var VD=_(()=>{OD();lG();iK8=Object.prototype,sK8=iK8.hasOwnProperty;r1=rK8});function nK8(Z,J,Q,K){var X=!Q;Q||(Q={});var U=-1,Y=J.length;while(++U<Y){var q=J[U],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(X)l1(Q,q,W);else r1(Q,q,W)}return Q}var wX;var p2=_(()=>{VD();OD();wX=nK8});function aK8(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var Iz0;var Az0=_(()=>{Iz0=aK8});function eK8(Z,J){var Q=typeof Z;return J=J==null?oK8:J,!!J&&(Q=="number"||Q!="symbol"&&tK8.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var oK8=9007199254740991,tK8,n1;var PD=_(()=>{tK8=/^(?:0|[1-9]\d*)$/;n1=eK8});function Q58(Z,J){var Q=P9(Z),K=!Q&&L5(Z),X=!Q&&!K&&MK(Z),U=!Q&&!K&&!X&&s1(Z),Y=Q||K||X||U,q=Y?Iz0(Z.length,String):[],W=q.length;for(var G in Z)if((J||J58.call(Z,G))&&!(Y&&(G=="length"||X&&(G=="offset"||G=="parent")||U&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||n1(G,W))))q.push(G);return q}var Z58,J58,Ej;var Op=_(()=>{Az0();m2();Q7();g2();PD();ND();Z58=Object.prototype,J58=Z58.hasOwnProperty;Ej=Q58});function K58(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var Nz0;var Ez0=_(()=>{Nz0=K58});function Y58(Z){if(!DJ(Z))return Nz0(Z);var J=d1(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!U58.call(Z,K))))Q.push(K);return Q}var X58,U58,Vz0;var Pz0=_(()=>{HK();LD();Ez0();X58=Object.prototype,U58=X58.hasOwnProperty;Vz0=Y58});function q58(Z){return v7(Z)?Ej(Z,!0):Vz0(Z)}var p6;var a1=_(()=>{Op();Pz0();SX();p6=q58});function W58(Z){return wX(Z,p6(Z))}var jz0;var Cz0=_(()=>{p2();a1();jz0=W58});function G58(Z,J,Q,K,X,U,Y){var q=ED(Z,Q),W=ED(J,Q),G=Y.get(W);if(G){RD(Z,Q,G);return}var z=U?U(q,W,Q+"",Z,J,Y):void 0,H=z===void 0;if(H){var F=P9(W),M=!F&&MK(W),B=!F&&!M&&s1(W);if(z=W,F||M||B)if(P9(q))z=q;else if(Rj(q))z=Hj(q);else if(M)H=!1,z=DD(W,!0);else if(B)H=!1,z=zj(W,!0);else z=[];else if(Mz0(W)||L5(W)){if(z=q,L5(q))z=jz0(q);else if(!DJ(q)||jX(q))z=Bj(W)}else H=!1}if(H)Y.set(W,z),X(z,W,K,U,Y),Y.delete(W);RD(Z,Q,z)}var Sz0;var Tz0=_(()=>{Xp();Up();qp();Wp();zp();m2();Q7();Fp();g2();GD();HK();Bz0();ND();Bp();Cz0();Sz0=G58});function wz0(Z,J,Q,K,X){if(Z===J)return;x2(J,function(U,Y){if(X||(X=new CX),DJ(U))Sz0(Z,J,Y,Q,wz0,K,X);else{var q=K?K(ED(Z,Y),U,Y+"",Z,J,X):void 0;if(q===void 0)q=U;RD(Z,Y,q)}},p6)}var $z0;var kz0=_(()=>{BD();Xp();Yj();Tz0();HK();a1();Bp();$z0=wz0});function z58(Z){return Z}var c6;var o1=_(()=>{c6=z58});function H58(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var _z0;var fz0=_(()=>{_z0=H58});function F58(Z,J,Q){return J=vz0(J===void 0?Z.length-1:J,0),function(){var K=arguments,X=-1,U=vz0(K.length-J,0),Y=Array(U);while(++X<U)Y[X]=K[J+X];X=-1;var q=Array(J+1);while(++X<J)q[X]=K[X];return q[J]=Q(Y),_z0(Z,this,q)}}var vz0,Vj;var Rp=_(()=>{fz0();vz0=Math.max;Vj=F58});function M58(Z){return function(){return Z}}var l6;var Dp=_(()=>{l6=M58});var B58,xz0;var bz0=_(()=>{Dp();Kp();o1();B58=!v2?c6:function(Z,J){return v2(Z,"toString",{configurable:!0,enumerable:!1,value:l6(J),writable:!0})},xz0=B58});function L58(Z){var J=0,Q=0;return function(){var K=D58(),X=R58-(K-Q);if(Q=K,X>0){if(++J>=O58)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var O58=800,R58=16,D58,yz0;var hz0=_(()=>{D58=Date.now;yz0=L58});var I58,Pj;var Lp=_(()=>{bz0();hz0();I58=yz0(xz0),Pj=I58});function A58(Z,J){return Pj(Vj(Z,J,c6),Z+"")}var t1;var jD=_(()=>{o1();Rp();Lp();t1=A58});function N58(Z,J,Q){if(!DJ(Q))return!1;var K=typeof J;if(K=="number"?v7(Q)&&n1(J,Q.length):K=="string"&&(J in Q))return FK(Q[J],Z);return!1}var MY;var CD=_(()=>{lG();SX();PD();HK();MY=N58});function E58(Z){return t1(function(J,Q){var K=-1,X=Q.length,U=X>1?Q[X-1]:void 0,Y=X>2?Q[2]:void 0;if(U=Z.length>3&&typeof U=="function"?(X--,U):void 0,Y&&MY(Q[0],Q[1],Y))U=X<3?void 0:U,X=1;J=Object(J);while(++K<X){var q=Q[K];if(q)Z(J,q,K,U)}return J})}var mz0;var uz0=_(()=>{jD();CD();mz0=E58});var V58,e1;var Ip=_(()=>{kz0();uz0();V58=mz0(function(Z,J,Q){$z0(Z,J,Q)}),e1=V58});function Cj(Z,J){if(!Z)return J;let Q=`curve${Z.charAt(0).toUpperCase()+Z.slice(1)}`;return P58[Q]??J}function iz0(Z,J){let Q=Z.trim();if(!Q)return;if(J.securityLevel!=="loose")return cz0.sanitizeUrl(Q);return Q}function Np(Z,J){if(!Z||!J)return 0;return Math.sqrt(Math.pow(J.x-Z.x,2)+Math.pow(J.y-Z.y,2))}function sz0(Z){let J,Q=0;Z.forEach((X)=>{Q+=Np(X,J),J=X});let K=Q/2;return Ep(Z,K)}function rz0(Z){if(Z.length===1)return Z[0];return sz0(Z)}function nz0(Z,J,Q){let K=structuredClone(Q);if(Z0.info("our points",K),J!=="start_left"&&J!=="start_right")K.reverse();let X=25+Z,U=Ep(K,X),Y=10+Z*0.5,q=Math.atan2(K[0].y-U.y,K[0].x-U.x),W={x:0,y:0};if(J==="start_left")W.x=Math.sin(q+Math.PI)*Y+(K[0].x+U.x)/2,W.y=-Math.cos(q+Math.PI)*Y+(K[0].y+U.y)/2;else if(J==="end_right")W.x=Math.sin(q-Math.PI)*Y+(K[0].x+U.x)/2-5,W.y=-Math.cos(q-Math.PI)*Y+(K[0].y+U.y)/2-5;else if(J==="end_left")W.x=Math.sin(q)*Y+(K[0].x+U.x)/2-5,W.y=-Math.cos(q)*Y+(K[0].y+U.y)/2-5;else W.x=Math.sin(q)*Y+(K[0].x+U.x)/2,W.y=-Math.cos(q)*Y+(K[0].y+U.y)/2;return W}function Sj(Z){let J="",Q="";for(let K of Z)if(K!==void 0)if(K.startsWith("color:")||K.startsWith("text-align:"))Q=Q+K+";";else J=J+K+";";return{style:J,labelStyle:Q}}function az0(Z){let J="",Q="0123456789abcdef",K=Q.length;for(let X=0;X<Z;X++)J+=Q.charAt(Math.floor(Math.random()*K));return J}function SD(Z,J){return Cp(Z,J).height}function KQ(Z,J){return Cp(Z,J).width}function Tj(Z){return"str"in Z}function TJ(Z,J){return e1({},Z,J)}function XQ(Z){return Z??null}function tz0(Z,J){let Q=Math.round(Z.x),K=Math.round(Z.y),X=J.replace(/(\d+\.\d+)/g,(U)=>Math.round(parseFloat(U)).toString());return X.includes(Q.toString())||X.includes(K.toString())}var cz0,Ap="",P58,j58,C58,lz0,dz0,S58,T58,gz0,Ep,w58,pz0=0,Vp,Pp,$58,k58,jp,_58,Cp,f58,jj,v58,x58,$X,n8,oz0,d6,kX;var jZ=_(()=>{T9();M9();A9();Qp();Ip();cz0=d7(T2(),1),P58={curveBasis:GK,curveBasisClosed:xP,curveBasisOpen:bP,curveBumpX:p3,curveBumpY:c3,curveBundle:Dg,curveCardinalClosed:Lg,curveCardinalOpen:Ag,curveCardinal:i3,curveCatmullRomClosed:Eg,curveCatmullRomOpen:Vg,curveCatmullRom:n3,curveLinear:WY,curveLinearClosed:gP,curveMonotoneX:a3,curveMonotoneY:o3,curveNatural:E2,curveStep:V2,curveStepAfter:e3,curveStepBefore:t3},j58=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,C58=I(function(Z,J){let Q=lz0(Z,/(?:init\b)|(?:initialize\b)/),K={};if(Array.isArray(Q)){let Y=Q.map((q)=>q.args);U3(Y),K=ZJ(K,[...Y])}else K=Q.args;if(!K)return;let X=Y3(Z,J),U="config";if(K[U]!==void 0){if(X==="flowchart-v2")X="flowchart";K[X]=K[U],delete K[U]}return K},"detectInit"),lz0=I(function(Z,J=null){try{let Q=new RegExp(`[%]{2}(?![{]${j58.source})(?=[}][%]{2}).*
`,"ig");Z=Z.trim().replace(Q,"").replace(/'/gm,'"'),Z0.debug(`Detecting diagram directive${J!==null?" type:"+J:""} based on the text:${Z}`);let K,X=[];while((K=aH.exec(Z))!==null){if(K.index===aH.lastIndex)aH.lastIndex++;if(K&&!J||J&&K[1]?.match(J)||J&&K[2]?.match(J)){let U=K[1]?K[1]:K[2],Y=K[3]?K[3].trim():K[4]?JSON.parse(K[4].trim()):null;X.push({type:U,args:Y})}}if(X.length===0)return{type:Z,args:null};return X.length===1?X[0]:X}catch(Q){return Z0.error(`ERROR: ${Q.message} - Unable to parse directive type: '${J}' based on the text: '${Z}'`),{type:void 0,args:null}}},"detectDirective"),dz0=I(function(Z){return Z.replace(aH,"")},"removeDirectives"),S58=I(function(Z,J){for(let[Q,K]of J.entries())if(K.match(Z))return Q;return-1},"isSubstringInArray");I(Cj,"interpolateToCurve");I(iz0,"formatUrl");T58=I((Z,...J)=>{let Q=Z.split("."),K=Q.length-1,X=Q[K],U=window;for(let Y=0;Y<K;Y++)if(U=U[Q[Y]],!U){Z0.error(`Function name: ${Z} not found in window`);return}U[X](...J)},"runFunc");I(Np,"distance");I(sz0,"traverseEdge");I(rz0,"calcLabelPosition");gz0=I((Z,J=2)=>{let Q=Math.pow(10,J);return Math.round(Z*Q)/Q},"roundNumber"),Ep=I((Z,J)=>{let Q=void 0,K=J;for(let X of Z){if(Q){let U=Np(X,Q);if(U===0)return Q;if(U<K)K-=U;else{let Y=K/U;if(Y<=0)return Q;if(Y>=1)return{x:X.x,y:X.y};if(Y>0&&Y<1)return{x:gz0((1-Y)*Q.x+Y*X.x,5),y:gz0((1-Y)*Q.y+Y*X.y,5)}}}Q=X}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),w58=I((Z,J,Q)=>{if(Z0.info(`our points ${JSON.stringify(J)}`),J[0]!==Q)J=J.reverse();let X=Ep(J,25),U=Z?10:5,Y=Math.atan2(J[0].y-X.y,J[0].x-X.x),q={x:0,y:0};return q.x=Math.sin(Y)*U+(J[0].x+X.x)/2,q.y=-Math.cos(Y)*U+(J[0].y+X.y)/2,q},"calcCardinalityPosition");I(nz0,"calcTerminalLabelPosition");I(Sj,"getStylesFromArray");Vp=I(()=>{return pz0++,"id-"+Math.random().toString(36).substr(2,12)+"-"+pz0},"generateId");I(az0,"makeRandomHex");Pp=I((Z)=>{return az0(Z.length)},"random"),$58=I(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),k58=I(function(Z,J){let Q=J.text.replace(J8.lineBreakRegex," "),[,K]=$X(J.fontSize),X=Z.append("text");if(X.attr("x",J.x),X.attr("y",J.y),X.style("text-anchor",J.anchor),X.style("font-family",J.fontFamily),X.style("font-size",K),X.style("font-weight",J.fontWeight),X.attr("fill",J.fill),J.class!==void 0)X.attr("class",J.class);let U=X.append("tspan");return U.attr("x",J.x+J.textMargin*2),U.attr("fill",J.fill),U.text(Q),X},"drawSimpleText"),jp=_2((Z,J,Q)=>{if(!Z)return Z;if(Q=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},Q),J8.lineBreakRegex.test(Z))return Z;let K=Z.split(" ").filter(Boolean),X=[],U="";return K.forEach((Y,q)=>{let W=KQ(`${Y} `,Q),G=KQ(U,Q);if(W>J){let{hyphenatedStrings:F,remainingWord:M}=_58(Y,J,"-",Q);X.push(U,...F),U=M}else if(G+W>=J)X.push(U),U=Y;else U=[U,Y].filter(Boolean).join(" ");if(q+1===K.length)X.push(U)}),X.filter((Y)=>Y!=="").join(Q.joinWith)},(Z,J,Q)=>`${Z}${J}${Q.fontSize}${Q.fontWeight}${Q.fontFamily}${Q.joinWith}`),_58=_2((Z,J,Q="-",K)=>{K=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},K);let X=[...Z],U=[],Y="";return X.forEach((q,W)=>{let G=`${Y}${q}`;if(KQ(G,K)>=J){let H=W+1,F=X.length===H,M=`${G}${Q}`;U.push(F?G:M),Y=""}else Y=G}),{hyphenatedStrings:U,remainingWord:Y}},(Z,J,Q="-",K)=>`${Z}${J}${Q}${K.fontSize}${K.fontWeight}${K.fontFamily}`);I(SD,"calculateTextHeight");I(KQ,"calculateTextWidth");Cp=_2((Z,J)=>{let{fontSize:Q=12,fontFamily:K="Arial",fontWeight:X=400}=J;if(!Z)return{width:0,height:0};let[,U]=$X(Q),Y=["sans-serif",K],q=Z.split(J8.lineBreakRegex),W=[],G=i0("body");if(!G.remove)return{width:0,height:0,lineHeight:0};let z=G.append("svg");for(let F of Y){let M=0,B={width:0,height:0,lineHeight:0};for(let O of q){let R=$58();R.text=O||Ap;let D=k58(z,R).style("font-size",U).style("font-weight",X).style("font-family",F),L=(D._groups||D)[0][0].getBBox();if(L.width===0&&L.height===0)throw Error("svg element not in render tree");B.width=Math.round(Math.max(B.width,L.width)),M=Math.round(L.height),B.height+=M,B.lineHeight=Math.round(Math.max(B.lineHeight,M))}W.push(B)}z.remove();let H=isNaN(W[1].height)||isNaN(W[1].width)||isNaN(W[1].lineHeight)||W[0].height>W[1].height&&W[0].width>W[1].width&&W[0].lineHeight>W[1].lineHeight?0:1;return W[H]},(Z,J)=>`${Z}${J.fontSize}${J.fontWeight}${J.fontFamily}`),f58=class{constructor(Z=!1,J){this.count=0,this.count=J?J.length:0,this.next=Z?()=>this.count++:()=>Date.now()}static{I(this,"InitIDGenerator")}},v58=I(function(Z){return jj=jj||document.createElement("div"),Z=escape(Z).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),jj.innerHTML=Z,unescape(jj.textContent)},"entityDecode");I(Tj,"isDetailedError");x58=I((Z,J,Q,K)=>{if(!K)return;let X=Z.node()?.getBBox();if(!X)return;Z.append("text").text(K).attr("text-anchor","middle").attr("x",X.x+X.width/2).attr("y",-Q).attr("class",J)},"insertTitle"),$X=I((Z)=>{if(typeof Z==="number")return[Z,Z+"px"];let J=parseInt(Z??"",10);if(Number.isNaN(J))return[void 0,void 0];else if(Z===String(J))return[J,Z+"px"];else return[J,Z]},"parseFontSize");I(TJ,"cleanAndMerge");n8={assignWithDepth:ZJ,wrapLabel:jp,calculateTextHeight:SD,calculateTextWidth:KQ,calculateTextDimensions:Cp,cleanAndMerge:TJ,detectInit:C58,detectDirective:lz0,isSubstringInArray:S58,interpolateToCurve:Cj,calcLabelPosition:rz0,calcCardinalityPosition:w58,calcTerminalLabelPosition:nz0,formatUrl:iz0,getStylesFromArray:Sj,generateId:Vp,random:Pp,runFunc:T58,entityDecode:v58,insertTitle:x58,isLabelCoordinateInPath:tz0,parseFontSize:$X,InitIDGenerator:f58},oz0=I(function(Z){let J=Z;return J=J.replace(/style.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/classDef.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/#\w+;/g,function(Q){let K=Q.substring(1,Q.length-1);if(/^\+?\d+$/.test(K))return""+K+"";else return""+K+""}),J},"encodeEntities"),d6=I(function(Z){return Z.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),kX=I((Z,J,{counter:Q=0,prefix:K,suffix:X},U)=>{if(U)return U;return`${K?`${K}_`:""}${Z}_${J}_${Q}${X?`_${X}`:""}`},"getEdgeId");I(XQ,"handleUndefinedAttr");I(tz0,"isLabelCoordinateInPath")});var b58,c2,Sp,ez0;var wj=_(()=>{b58=Object.freeze({left:0,top:0,width:16,height:16}),c2=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Sp=Object.freeze({...b58,...c2}),ez0=Object.freeze({...Sp,body:"",hidden:!1})});var y58,ZH0;var JH0=_(()=>{wj();y58=Object.freeze({width:null,height:null}),ZH0=Object.freeze({...y58,...c2})});var Tp=(Z,J,Q,K="")=>{let X=Z.split(":");if(Z.slice(0,1)==="@"){if(X.length<2||X.length>3)return null;K=X.shift().slice(1)}if(X.length>3||!X.length)return null;if(X.length>1){let q=X.pop(),W=X.pop(),G={provider:X.length>0?X[0]:K,prefix:W,name:q};return J&&!$j(G)?null:G}let U=X[0],Y=U.split("-");if(Y.length>1){let q={provider:K,prefix:Y.shift(),name:Y.join("-")};return J&&!$j(q)?null:q}if(Q&&K===""){let q={provider:K,prefix:"",name:U};return J&&!$j(q,Q)?null:q}return null},$j=(Z,J)=>{if(!Z)return!1;return!!((J&&Z.prefix===""||!!Z.prefix)&&!!Z.name)};var QH0=()=>{};function KH0(Z,J){let Q={};if(!Z.hFlip!==!J.hFlip)Q.hFlip=!0;if(!Z.vFlip!==!J.vFlip)Q.vFlip=!0;let K=((Z.rotate||0)+(J.rotate||0))%4;if(K)Q.rotate=K;return Q}var XH0=()=>{};function wp(Z,J){let Q=KH0(Z,J);for(let K in ez0)if(K in c2){if(K in Z&&!(K in Q))Q[K]=c2[K]}else if(K in J)Q[K]=J[K];else if(K in Z)Q[K]=Z[K];return Q}var UH0=_(()=>{wj();XH0()});function YH0(Z,J){let Q=Z.icons,K=Z.aliases||Object.create(null),X=Object.create(null);function U(Y){if(Q[Y])return X[Y]=[];if(!(Y in X)){X[Y]=null;let q=K[Y]&&K[Y].parent,W=q&&U(q);if(W)X[Y]=[q].concat(W)}return X[Y]}return(J||Object.keys(Q).concat(Object.keys(K))).forEach(U),X}var qH0=()=>{};function WH0(Z,J,Q){let K=Z.icons,X=Z.aliases||Object.create(null),U={};function Y(q){U=wp(K[q]||X[q],U)}return Y(J),Q.forEach(Y),wp(Z,U)}function $p(Z,J){if(Z.icons[J])return WH0(Z,J,[]);let Q=YH0(Z,[J])[J];return Q?WH0(Z,J,Q):null}var GH0=_(()=>{UH0();qH0()});function kp(Z,J,Q){if(J===1)return Z;if(Q=Q||100,typeof Z==="number")return Math.ceil(Z*J*Q)/Q;if(typeof Z!=="string")return Z;let K=Z.split(h58);if(K===null||!K.length)return Z;let X=[],U=K.shift(),Y=m58.test(U);while(!0){if(Y){let q=parseFloat(U);if(isNaN(q))X.push(U);else X.push(Math.ceil(q*J*Q)/Q)}else X.push(U);if(U=K.shift(),U===void 0)return X.join("");Y=!Y}}var h58,m58;var zH0=_(()=>{h58=/(-?[0-9.]*[0-9]+[0-9.]*)/g,m58=/^-?[0-9.]*[0-9]+[0-9.]*$/g});function u58(Z,J="defs"){let Q="",K=Z.indexOf("<"+J);while(K>=0){let X=Z.indexOf(">",K),U=Z.indexOf("</"+J);if(X===-1||U===-1)break;let Y=Z.indexOf(">",U);if(Y===-1)break;Q+=Z.slice(X+1,U).trim(),Z=Z.slice(0,K).trim()+Z.slice(Y+1)}return{defs:Q,content:Z}}function g58(Z,J){return Z?"<defs>"+Z+"</defs>"+J:J}function HH0(Z,J,Q){let K=u58(Z);return g58(K.defs,J+K.content+Q)}var FH0=()=>{};function _p(Z,J){let Q={...Sp,...Z},K={...ZH0,...J},X={left:Q.left,top:Q.top,width:Q.width,height:Q.height},U=Q.body;[Q,K].forEach((O)=>{let R=[],D=O.hFlip,L=O.vFlip,A=O.rotate;if(D)if(L)A+=2;else R.push("translate("+(X.width+X.left).toString()+" "+(0-X.top).toString()+")"),R.push("scale(-1 1)"),X.top=X.left=0;else if(L)R.push("translate("+(0-X.left).toString()+" "+(X.height+X.top).toString()+")"),R.push("scale(1 -1)"),X.top=X.left=0;let V;if(A<0)A-=Math.floor(A/4)*4;switch(A=A%4,A){case 1:V=X.height/2+X.top,R.unshift("rotate(90 "+V.toString()+" "+V.toString()+")");break;case 2:R.unshift("rotate(180 "+(X.width/2+X.left).toString()+" "+(X.height/2+X.top).toString()+")");break;case 3:V=X.width/2+X.left,R.unshift("rotate(-90 "+V.toString()+" "+V.toString()+")");break}if(A%2===1){if(X.left!==X.top)V=X.left,X.left=X.top,X.top=V;if(X.width!==X.height)V=X.width,X.width=X.height,X.height=V}if(R.length)U=HH0(U,'<g transform="'+R.join(" ")+'">',"</g>")});let{width:Y,height:q}=K,W=X.width,G=X.height,z,H;if(Y===null)H=q===null?"1em":q==="auto"?G:q,z=kp(H,W/G);else z=Y==="auto"?W:Y,H=q===null?kp(z,G/W):q==="auto"?G:q;let F={},M=(O,R)=>{if(!p58(R))F[O]=R.toString()};M("width",z),M("height",H);let B=[X.left,X.top,W,G];return F.viewBox=B.join(" "),{attributes:F,viewBox:B,body:U}}var p58=(Z)=>Z==="unset"||Z==="undefined"||Z==="none";var MH0=_(()=>{wj();JH0();zH0();FH0()});function l58(Z){Z=Z.replace(/[0-9]+$/,"")||"a";let J=BH0.get(Z)||0;return BH0.set(Z,J+1),J?`${Z}${J}`:Z}function fp(Z){let J=[],Q;while(Q=c58.exec(Z))J.push(Q[1]);if(!J.length)return Z;let K="suffix"+(Math.random()*16777216|Date.now()).toString(16);return J.forEach((X)=>{let U=l58(X),Y=X.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Z=Z.replace(new RegExp('([#;"])('+Y+')([")]|\\.[a-z])',"g"),"$1"+U+K+"$3")}),Z=Z.replace(new RegExp(K,"g"),""),Z}var c58,BH0;var OH0=_(()=>{c58=/\sid="(\S+)"/g,BH0=new Map});function vp(Z,J){let Q=Z.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let K in J)Q+=" "+K+'="'+J[K]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+Q+">"+Z+"</svg>"}var RH0=()=>{};var DH0=_(()=>{QH0();GH0();MH0();OH0();RH0()});function bp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function PH0(Z){sG=Z}function MZ(Z,J=""){let Q=typeof Z=="string"?Z:Z.source,K={replace:(X,U)=>{let Y=typeof U=="string"?U:U.source;return Y=Y.replace(U6.caret,"$1"),Q=Q.replace(X,Y),K},getRegex:()=>new RegExp(Q,J)};return K}function _X(Z,J){if(J){if(U6.escapeTest.test(Z))return Z.replace(U6.escapeReplace,AH0)}else if(U6.escapeTestNoEncode.test(Z))return Z.replace(U6.escapeReplaceNoEncode,AH0);return Z}function NH0(Z){try{Z=encodeURI(Z).replace(U6.percentDecode,"%")}catch{return null}return Z}function EH0(Z,J){let Q=Z.replace(U6.findPipe,(U,Y,q)=>{let W=!1,G=Y;for(;--G>=0&&q[G]==="\\";)W=!W;return W?"|":" |"}),K=Q.split(U6.splitPipe),X=0;if(K[0].trim()||K.shift(),K.length>0&&!K.at(-1)?.trim()&&K.pop(),J)if(K.length>J)K.splice(J);else for(;K.length<J;)K.push("");for(;X<K.length;X++)K[X]=K[X].trim().replace(U6.slashPipe,"|");return K}function wD(Z,J,Q){let K=Z.length;if(K===0)return"";let X=0;for(;X<K;){let U=Z.charAt(K-X-1);if(U===J&&!Q)X++;else if(U!==J&&Q)X++;else break}return Z.slice(0,K-X)}function jX8(Z,J){if(Z.indexOf(J[1])===-1)return-1;let Q=0;for(let K=0;K<Z.length;K++)if(Z[K]==="\\")K++;else if(Z[K]===J[0])Q++;else if(Z[K]===J[1]&&(Q--,Q<0))return K;return Q>0?-2:-1}function VH0(Z,J,Q,K,X){let U=J.href,Y=J.title||null,q=Z[1].replace(X.other.outputLinkReplace,"$1");K.state.inLink=!0;let W={type:Z[0].charAt(0)==="!"?"image":"link",raw:Q,href:U,title:Y,text:q,tokens:K.inlineTokens(q)};return K.state.inLink=!1,W}function CX8(Z,J,Q){let K=Z.match(Q.other.indentCodeCompensation);if(K===null)return J;let X=K[1];return J.split(`
`).map((U)=>{let Y=U.match(Q.other.beginningSpace);if(Y===null)return U;let[q]=Y;return q.length>=X.length?U.slice(X.length):U}).join(`
`)}function RZ(Z,J){return iG.parse(Z,J)}var sG,kD,d58,U6,i58,s58,r58,_D,n58,yp,jH0,CH0,a58,hp,o58,mp,t58,e58,xj="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",up,ZX8,SH0,JX8,gp,LH0,QX8,KX8,XX8,UX8,TH0,YX8,bj,pp,wH0,qX8,$H0,WX8,GX8,zX8,kH0,HX8,FX8,_H0="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",MX8,BX8,OX8,RX8,DX8,LX8,IX8,_j,AX8,fH0,vH0,NX8,IH0,cp,EX8,xp,VX8,kj,TD,PX8,AH0=(Z)=>PX8[Z],fj=class{options;rules;lexer;constructor(Z){this.options=Z||sG}space(Z){let J=this.rules.block.newline.exec(Z);if(J&&J[0].length>0)return{type:"space",raw:J[0]}}code(Z){let J=this.rules.block.code.exec(Z);if(J){let Q=J[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:this.options.pedantic?Q:wD(Q,`
`)}}}fences(Z){let J=this.rules.block.fences.exec(Z);if(J){let Q=J[0],K=CX8(Q,J[3]||"",this.rules);return{type:"code",raw:Q,lang:J[2]?J[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):J[2],text:K}}}heading(Z){let J=this.rules.block.heading.exec(Z);if(J){let Q=J[2].trim();if(this.rules.other.endingHash.test(Q)){let K=wD(Q,"#");(this.options.pedantic||!K||this.rules.other.endingSpaceChar.test(K))&&(Q=K.trim())}return{type:"heading",raw:J[0],depth:J[1].length,text:Q,tokens:this.lexer.inline(Q)}}}hr(Z){let J=this.rules.block.hr.exec(Z);if(J)return{type:"hr",raw:wD(J[0],`
`)}}blockquote(Z){let J=this.rules.block.blockquote.exec(Z);if(J){let Q=wD(J[0],`
`).split(`
`),K="",X="",U=[];for(;Q.length>0;){let Y=!1,q=[],W;for(W=0;W<Q.length;W++)if(this.rules.other.blockquoteStart.test(Q[W]))q.push(Q[W]),Y=!0;else if(!Y)q.push(Q[W]);else break;Q=Q.slice(W);let G=q.join(`
`),z=G.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");K=K?`${K}
${G}`:G,X=X?`${X}
${z}`:z;let H=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(z,U,!0),this.lexer.state.top=H,Q.length===0)break;let F=U.at(-1);if(F?.type==="code")break;if(F?.type==="blockquote"){let M=F,B=M.raw+`
`+Q.join(`
`),O=this.blockquote(B);U[U.length-1]=O,K=K.substring(0,K.length-M.raw.length)+O.raw,X=X.substring(0,X.length-M.text.length)+O.text;break}else if(F?.type==="list"){let M=F,B=M.raw+`
`+Q.join(`
`),O=this.list(B);U[U.length-1]=O,K=K.substring(0,K.length-F.raw.length)+O.raw,X=X.substring(0,X.length-M.raw.length)+O.raw,Q=B.substring(U.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:K,tokens:U,text:X}}}list(Z){let J=this.rules.block.list.exec(Z);if(J){let Q=J[1].trim(),K=Q.length>1,X={type:"list",raw:"",ordered:K,start:K?+Q.slice(0,-1):"",loose:!1,items:[]};Q=K?`\\d{1,9}\\${Q.slice(-1)}`:`\\${Q}`,this.options.pedantic&&(Q=K?Q:"[*+-]");let U=this.rules.other.listItemRegex(Q),Y=!1;for(;Z;){let W=!1,G="",z="";if(!(J=U.exec(Z))||this.rules.block.hr.test(Z))break;G=J[0],Z=Z.substring(G.length);let H=J[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,(D)=>" ".repeat(3*D.length)),F=Z.split(`
`,1)[0],M=!H.trim(),B=0;if(this.options.pedantic?(B=2,z=H.trimStart()):M?B=J[1].length+1:(B=J[2].search(this.rules.other.nonSpaceChar),B=B>4?1:B,z=H.slice(B),B+=J[1].length),M&&this.rules.other.blankLine.test(F)&&(G+=F+`
`,Z=Z.substring(F.length+1),W=!0),!W){let D=this.rules.other.nextBulletRegex(B),L=this.rules.other.hrRegex(B),A=this.rules.other.fencesBeginRegex(B),V=this.rules.other.headingBeginRegex(B),N=this.rules.other.htmlBeginRegex(B);for(;Z;){let E=Z.split(`
`,1)[0],j;if(F=E,this.options.pedantic?(F=F.replace(this.rules.other.listReplaceNesting,"  "),j=F):j=F.replace(this.rules.other.tabCharGlobal,"    "),A.test(F)||V.test(F)||N.test(F)||D.test(F)||L.test(F))break;if(j.search(this.rules.other.nonSpaceChar)>=B||!F.trim())z+=`
`+j.slice(B);else{if(M||H.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(H)||V.test(H)||L.test(H))break;z+=`
`+F}!M&&!F.trim()&&(M=!0),G+=E+`
`,Z=Z.substring(E.length+1),H=j.slice(B)}}X.loose||(Y?X.loose=!0:this.rules.other.doubleBlankLine.test(G)&&(Y=!0));let O=null,R;this.options.gfm&&(O=this.rules.other.listIsTask.exec(z),O&&(R=O[0]!=="[ ] ",z=z.replace(this.rules.other.listReplaceTask,""))),X.items.push({type:"list_item",raw:G,task:!!O,checked:R,loose:!1,text:z,tokens:[]}),X.raw+=G}let q=X.items.at(-1);if(q)q.raw=q.raw.trimEnd(),q.text=q.text.trimEnd();else return;X.raw=X.raw.trimEnd();for(let W=0;W<X.items.length;W++)if(this.lexer.state.top=!1,X.items[W].tokens=this.lexer.blockTokens(X.items[W].text,[]),!X.loose){let G=X.items[W].tokens.filter((H)=>H.type==="space"),z=G.length>0&&G.some((H)=>this.rules.other.anyLine.test(H.raw));X.loose=z}if(X.loose)for(let W=0;W<X.items.length;W++)X.items[W].loose=!0;return X}}html(Z){let J=this.rules.block.html.exec(Z);if(J)return{type:"html",block:!0,raw:J[0],pre:J[1]==="pre"||J[1]==="script"||J[1]==="style",text:J[0]}}def(Z){let J=this.rules.block.def.exec(Z);if(J){let Q=J[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),K=J[2]?J[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",X=J[3]?J[3].substring(1,J[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):J[3];return{type:"def",tag:Q,raw:J[0],href:K,title:X}}}table(Z){let J=this.rules.block.table.exec(Z);if(!J||!this.rules.other.tableDelimiter.test(J[2]))return;let Q=EH0(J[1]),K=J[2].replace(this.rules.other.tableAlignChars,"").split("|"),X=J[3]?.trim()?J[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],U={type:"table",raw:J[0],header:[],align:[],rows:[]};if(Q.length===K.length){for(let Y of K)this.rules.other.tableAlignRight.test(Y)?U.align.push("right"):this.rules.other.tableAlignCenter.test(Y)?U.align.push("center"):this.rules.other.tableAlignLeft.test(Y)?U.align.push("left"):U.align.push(null);for(let Y=0;Y<Q.length;Y++)U.header.push({text:Q[Y],tokens:this.lexer.inline(Q[Y]),header:!0,align:U.align[Y]});for(let Y of X)U.rows.push(EH0(Y,U.header.length).map((q,W)=>({text:q,tokens:this.lexer.inline(q),header:!1,align:U.align[W]})));return U}}lheading(Z){let J=this.rules.block.lheading.exec(Z);if(J)return{type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:this.lexer.inline(J[1])}}paragraph(Z){let J=this.rules.block.paragraph.exec(Z);if(J){let Q=J[1].charAt(J[1].length-1)===`
`?J[1].slice(0,-1):J[1];return{type:"paragraph",raw:J[0],text:Q,tokens:this.lexer.inline(Q)}}}text(Z){let J=this.rules.block.text.exec(Z);if(J)return{type:"text",raw:J[0],text:J[0],tokens:this.lexer.inline(J[0])}}escape(Z){let J=this.rules.inline.escape.exec(Z);if(J)return{type:"escape",raw:J[0],text:J[1]}}tag(Z){let J=this.rules.inline.tag.exec(Z);if(J)return!this.lexer.state.inLink&&this.rules.other.startATag.test(J[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(J[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(J[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(J[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:J[0]}}link(Z){let J=this.rules.inline.link.exec(Z);if(J){let Q=J[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(Q)){if(!this.rules.other.endAngleBracket.test(Q))return;let U=wD(Q.slice(0,-1),"\\");if((Q.length-U.length)%2===0)return}else{let U=jX8(J[2],"()");if(U===-2)return;if(U>-1){let Y=(J[0].indexOf("!")===0?5:4)+J[1].length+U;J[2]=J[2].substring(0,U),J[0]=J[0].substring(0,Y).trim(),J[3]=""}}let K=J[2],X="";if(this.options.pedantic){let U=this.rules.other.pedanticHrefTitle.exec(K);U&&(K=U[1],X=U[3])}else X=J[3]?J[3].slice(1,-1):"";return K=K.trim(),this.rules.other.startAngleBracket.test(K)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(Q)?K=K.slice(1):K=K.slice(1,-1)),VH0(J,{href:K&&K.replace(this.rules.inline.anyPunctuation,"$1"),title:X&&X.replace(this.rules.inline.anyPunctuation,"$1")},J[0],this.lexer,this.rules)}}reflink(Z,J){let Q;if((Q=this.rules.inline.reflink.exec(Z))||(Q=this.rules.inline.nolink.exec(Z))){let K=(Q[2]||Q[1]).replace(this.rules.other.multipleSpaceGlobal," "),X=J[K.toLowerCase()];if(!X){let U=Q[0].charAt(0);return{type:"text",raw:U,text:U}}return VH0(Q,X,Q[0],this.lexer,this.rules)}}emStrong(Z,J,Q=""){let K=this.rules.inline.emStrongLDelim.exec(Z);if(!K||K[3]&&Q.match(this.rules.other.unicodeAlphaNumeric))return;if(!(K[1]||K[2])||!Q||this.rules.inline.punctuation.exec(Q)){let X=[...K[0]].length-1,U,Y,q=X,W=0,G=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(G.lastIndex=0,J=J.slice(-1*Z.length+X);(K=G.exec(J))!=null;){if(U=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!U)continue;if(Y=[...U].length,K[3]||K[4]){q+=Y;continue}else if((K[5]||K[6])&&X%3&&!((X+Y)%3)){W+=Y;continue}if(q-=Y,q>0)continue;Y=Math.min(Y,Y+q+W);let z=[...K[0]][0].length,H=Z.slice(0,X+K.index+z+Y);if(Math.min(X,Y)%2){let M=H.slice(1,-1);return{type:"em",raw:H,text:M,tokens:this.lexer.inlineTokens(M)}}let F=H.slice(2,-2);return{type:"strong",raw:H,text:F,tokens:this.lexer.inlineTokens(F)}}}}codespan(Z){let J=this.rules.inline.code.exec(Z);if(J){let Q=J[2].replace(this.rules.other.newLineCharGlobal," "),K=this.rules.other.nonSpaceChar.test(Q),X=this.rules.other.startingSpaceChar.test(Q)&&this.rules.other.endingSpaceChar.test(Q);return K&&X&&(Q=Q.substring(1,Q.length-1)),{type:"codespan",raw:J[0],text:Q}}}br(Z){let J=this.rules.inline.br.exec(Z);if(J)return{type:"br",raw:J[0]}}del(Z){let J=this.rules.inline.del.exec(Z);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2])}}autolink(Z){let J=this.rules.inline.autolink.exec(Z);if(J){let Q,K;return J[2]==="@"?(Q=J[1],K="mailto:"+Q):(Q=J[1],K=Q),{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}url(Z){let J;if(J=this.rules.inline.url.exec(Z)){let Q,K;if(J[2]==="@")Q=J[0],K="mailto:"+Q;else{let X;do X=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])?.[0]??"";while(X!==J[0]);Q=J[0],J[1]==="www."?K="http://"+J[0]:K=J[0]}return{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}inlineText(Z){let J=this.rules.inline.text.exec(Z);if(J){let Q=this.lexer.state.inRawBlock;return{type:"text",raw:J[0],text:J[0],escaped:Q}}}},I5=class Z{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||sG,this.options.tokenizer=this.options.tokenizer||new fj,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Q={other:U6,block:kj.normal,inline:TD.normal};this.options.pedantic?(Q.block=kj.pedantic,Q.inline=TD.pedantic):this.options.gfm&&(Q.block=kj.gfm,this.options.breaks?Q.inline=TD.breaks:Q.inline=TD.gfm),this.tokenizer.rules=Q}static get rules(){return{block:kj,inline:TD}}static lex(J,Q){return new Z(Q).lex(J)}static lexInline(J,Q){return new Z(Q).inlineTokens(J)}lex(J){J=J.replace(U6.carriageReturn,`
`),this.blockTokens(J,this.tokens);for(let Q=0;Q<this.inlineQueue.length;Q++){let K=this.inlineQueue[Q];this.inlineTokens(K.src,K.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(J,Q=[],K=!1){for(this.options.pedantic&&(J=J.replace(U6.tabCharGlobal,"    ").replace(U6.spaceLine,""));J;){let X;if(this.options.extensions?.block?.some((Y)=>(X=Y.call({lexer:this},J,Q))?(J=J.substring(X.raw.length),Q.push(X),!0):!1))continue;if(X=this.tokenizer.space(J)){J=J.substring(X.raw.length);let Y=Q.at(-1);X.raw.length===1&&Y!==void 0?Y.raw+=`
`:Q.push(X);continue}if(X=this.tokenizer.code(J)){J=J.substring(X.raw.length);let Y=Q.at(-1);Y?.type==="paragraph"||Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+X.raw,Y.text+=`
`+X.text,this.inlineQueue.at(-1).src=Y.text):Q.push(X);continue}if(X=this.tokenizer.fences(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.heading(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.hr(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.blockquote(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.list(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.html(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.def(J)){J=J.substring(X.raw.length);let Y=Q.at(-1);Y?.type==="paragraph"||Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+X.raw,Y.text+=`
`+X.raw,this.inlineQueue.at(-1).src=Y.text):this.tokens.links[X.tag]||(this.tokens.links[X.tag]={href:X.href,title:X.title},Q.push(X));continue}if(X=this.tokenizer.table(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.lheading(J)){J=J.substring(X.raw.length),Q.push(X);continue}let U=J;if(this.options.extensions?.startBlock){let Y=1/0,q=J.slice(1),W;this.options.extensions.startBlock.forEach((G)=>{W=G.call({lexer:this},q),typeof W=="number"&&W>=0&&(Y=Math.min(Y,W))}),Y<1/0&&Y>=0&&(U=J.substring(0,Y+1))}if(this.state.top&&(X=this.tokenizer.paragraph(U))){let Y=Q.at(-1);K&&Y?.type==="paragraph"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+X.raw,Y.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Y.text):Q.push(X),K=U.length!==J.length,J=J.substring(X.raw.length);continue}if(X=this.tokenizer.text(J)){J=J.substring(X.raw.length);let Y=Q.at(-1);Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+X.raw,Y.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Y.text):Q.push(X);continue}if(J){let Y="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw Error(Y)}}return this.state.top=!0,Q}inline(J,Q=[]){return this.inlineQueue.push({src:J,tokens:Q}),Q}inlineTokens(J,Q=[]){let K=J,X=null;if(this.tokens.links){let W=Object.keys(this.tokens.links);if(W.length>0)for(;(X=this.tokenizer.rules.inline.reflinkSearch.exec(K))!=null;)W.includes(X[0].slice(X[0].lastIndexOf("[")+1,-1))&&(K=K.slice(0,X.index)+"["+"a".repeat(X[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(X=this.tokenizer.rules.inline.anyPunctuation.exec(K))!=null;)K=K.slice(0,X.index)+"++"+K.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let U;for(;(X=this.tokenizer.rules.inline.blockSkip.exec(K))!=null;)U=X[2]?X[2].length:0,K=K.slice(0,X.index+U)+"["+"a".repeat(X[0].length-U-2)+"]"+K.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);K=this.options.hooks?.emStrongMask?.call({lexer:this},K)??K;let Y=!1,q="";for(;J;){Y||(q=""),Y=!1;let W;if(this.options.extensions?.inline?.some((z)=>(W=z.call({lexer:this},J,Q))?(J=J.substring(W.raw.length),Q.push(W),!0):!1))continue;if(W=this.tokenizer.escape(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.tag(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.link(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.reflink(J,this.tokens.links)){J=J.substring(W.raw.length);let z=Q.at(-1);W.type==="text"&&z?.type==="text"?(z.raw+=W.raw,z.text+=W.text):Q.push(W);continue}if(W=this.tokenizer.emStrong(J,K,q)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.codespan(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.br(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.del(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.autolink(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(!this.state.inLink&&(W=this.tokenizer.url(J))){J=J.substring(W.raw.length),Q.push(W);continue}let G=J;if(this.options.extensions?.startInline){let z=1/0,H=J.slice(1),F;this.options.extensions.startInline.forEach((M)=>{F=M.call({lexer:this},H),typeof F=="number"&&F>=0&&(z=Math.min(z,F))}),z<1/0&&z>=0&&(G=J.substring(0,z+1))}if(W=this.tokenizer.inlineText(G)){J=J.substring(W.raw.length),W.raw.slice(-1)!=="_"&&(q=W.raw.slice(-1)),Y=!0;let z=Q.at(-1);z?.type==="text"?(z.raw+=W.raw,z.text+=W.text):Q.push(W);continue}if(J){let z="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw Error(z)}}return Q}},vj=class{options;parser;constructor(Z){this.options=Z||sG}space(Z){return""}code({text:Z,lang:J,escaped:Q}){let K=(J||"").match(U6.notSpaceStart)?.[0],X=Z.replace(U6.endingNewline,"")+`
`;return K?'<pre><code class="language-'+_X(K)+'">'+(Q?X:_X(X,!0))+`</code></pre>
`:"<pre><code>"+(Q?X:_X(X,!0))+`</code></pre>
`}blockquote({tokens:Z}){return`<blockquote>
${this.parser.parse(Z)}</blockquote>
`}html({text:Z}){return Z}def(Z){return""}heading({tokens:Z,depth:J}){return`<h${J}>${this.parser.parseInline(Z)}</h${J}>
`}hr(Z){return`<hr>
`}list(Z){let{ordered:J,start:Q}=Z,K="";for(let Y=0;Y<Z.items.length;Y++){let q=Z.items[Y];K+=this.listitem(q)}let X=J?"ol":"ul",U=J&&Q!==1?' start="'+Q+'"':"";return"<"+X+U+`>
`+K+"</"+X+`>
`}listitem(Z){let J="";if(Z.task){let Q=this.checkbox({checked:!!Z.checked});Z.loose?Z.tokens[0]?.type==="paragraph"?(Z.tokens[0].text=Q+" "+Z.tokens[0].text,Z.tokens[0].tokens&&Z.tokens[0].tokens.length>0&&Z.tokens[0].tokens[0].type==="text"&&(Z.tokens[0].tokens[0].text=Q+" "+_X(Z.tokens[0].tokens[0].text),Z.tokens[0].tokens[0].escaped=!0)):Z.tokens.unshift({type:"text",raw:Q+" ",text:Q+" ",escaped:!0}):J+=Q+" "}return J+=this.parser.parse(Z.tokens,!!Z.loose),`<li>${J}</li>
`}checkbox({checked:Z}){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Z}){return`<p>${this.parser.parseInline(Z)}</p>
`}table(Z){let J="",Q="";for(let X=0;X<Z.header.length;X++)Q+=this.tablecell(Z.header[X]);J+=this.tablerow({text:Q});let K="";for(let X=0;X<Z.rows.length;X++){let U=Z.rows[X];Q="";for(let Y=0;Y<U.length;Y++)Q+=this.tablecell(U[Y]);K+=this.tablerow({text:Q})}return K&&(K=`<tbody>${K}</tbody>`),`<table>
<thead>
`+J+`</thead>
`+K+`</table>
`}tablerow({text:Z}){return`<tr>
${Z}</tr>
`}tablecell(Z){let J=this.parser.parseInline(Z.tokens),Q=Z.header?"th":"td";return(Z.align?`<${Q} align="${Z.align}">`:`<${Q}>`)+J+`</${Q}>
`}strong({tokens:Z}){return`<strong>${this.parser.parseInline(Z)}</strong>`}em({tokens:Z}){return`<em>${this.parser.parseInline(Z)}</em>`}codespan({text:Z}){return`<code>${_X(Z,!0)}</code>`}br(Z){return"<br>"}del({tokens:Z}){return`<del>${this.parser.parseInline(Z)}</del>`}link({href:Z,title:J,tokens:Q}){let K=this.parser.parseInline(Q),X=NH0(Z);if(X===null)return K;Z=X;let U='<a href="'+Z+'"';return J&&(U+=' title="'+_X(J)+'"'),U+=">"+K+"</a>",U}image({href:Z,title:J,text:Q,tokens:K}){K&&(Q=this.parser.parseInline(K,this.parser.textRenderer));let X=NH0(Z);if(X===null)return _X(Q);Z=X;let U=`<img src="${Z}" alt="${Q}"`;return J&&(U+=` title="${_X(J)}"`),U+=">",U}text(Z){return"tokens"in Z&&Z.tokens?this.parser.parseInline(Z.tokens):("escaped"in Z)&&Z.escaped?Z.text:_X(Z.text)}},lp=class{strong({text:Z}){return Z}em({text:Z}){return Z}codespan({text:Z}){return Z}del({text:Z}){return Z}html({text:Z}){return Z}text({text:Z}){return Z}link({text:Z}){return""+Z}image({text:Z}){return""+Z}br(){return""}},A5=class Z{options;renderer;textRenderer;constructor(J){this.options=J||sG,this.options.renderer=this.options.renderer||new vj,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lp}static parse(J,Q){return new Z(Q).parse(J)}static parseInline(J,Q){return new Z(Q).parseInline(J)}parse(J,Q=!0){let K="";for(let X=0;X<J.length;X++){let U=J[X];if(this.options.extensions?.renderers?.[U.type]){let q=U,W=this.options.extensions.renderers[q.type].call({parser:this},q);if(W!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(q.type)){K+=W||"";continue}}let Y=U;switch(Y.type){case"space":{K+=this.renderer.space(Y);continue}case"hr":{K+=this.renderer.hr(Y);continue}case"heading":{K+=this.renderer.heading(Y);continue}case"code":{K+=this.renderer.code(Y);continue}case"table":{K+=this.renderer.table(Y);continue}case"blockquote":{K+=this.renderer.blockquote(Y);continue}case"list":{K+=this.renderer.list(Y);continue}case"html":{K+=this.renderer.html(Y);continue}case"def":{K+=this.renderer.def(Y);continue}case"paragraph":{K+=this.renderer.paragraph(Y);continue}case"text":{let q=Y,W=this.renderer.text(q);for(;X+1<J.length&&J[X+1].type==="text";)q=J[++X],W+=`
`+this.renderer.text(q);Q?K+=this.renderer.paragraph({type:"paragraph",raw:W,text:W,tokens:[{type:"text",raw:W,text:W,escaped:!0}]}):K+=W;continue}default:{let q='Token with "'+Y.type+'" type was not found.';if(this.options.silent)return console.error(q),"";throw Error(q)}}}return K}parseInline(J,Q=this.renderer){let K="";for(let X=0;X<J.length;X++){let U=J[X];if(this.options.extensions?.renderers?.[U.type]){let q=this.options.extensions.renderers[U.type].call({parser:this},U);if(q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(U.type)){K+=q||"";continue}}let Y=U;switch(Y.type){case"escape":{K+=Q.text(Y);break}case"html":{K+=Q.html(Y);break}case"link":{K+=Q.link(Y);break}case"image":{K+=Q.image(Y);break}case"strong":{K+=Q.strong(Y);break}case"em":{K+=Q.em(Y);break}case"codespan":{K+=Q.codespan(Y);break}case"br":{K+=Q.br(Y);break}case"del":{K+=Q.del(Y);break}case"text":{K+=Q.text(Y);break}default:{let q='Token with "'+Y.type+'" type was not found.';if(this.options.silent)return console.error(q),"";throw Error(q)}}}return K}},$D,SX8=class{defaults=bp();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=A5;Renderer=vj;TextRenderer=lp;Lexer=I5;Tokenizer=fj;Hooks=$D;constructor(...Z){this.use(...Z)}walkTokens(Z,J){let Q=[];for(let K of Z)switch(Q=Q.concat(J.call(this,K)),K.type){case"table":{let X=K;for(let U of X.header)Q=Q.concat(this.walkTokens(U.tokens,J));for(let U of X.rows)for(let Y of U)Q=Q.concat(this.walkTokens(Y.tokens,J));break}case"list":{let X=K;Q=Q.concat(this.walkTokens(X.items,J));break}default:{let X=K;this.defaults.extensions?.childTokens?.[X.type]?this.defaults.extensions.childTokens[X.type].forEach((U)=>{let Y=X[U].flat(1/0);Q=Q.concat(this.walkTokens(Y,J))}):X.tokens&&(Q=Q.concat(this.walkTokens(X.tokens,J)))}}return Q}use(...Z){let J=this.defaults.extensions||{renderers:{},childTokens:{}};return Z.forEach((Q)=>{let K={...Q};if(K.async=this.defaults.async||K.async||!1,Q.extensions&&(Q.extensions.forEach((X)=>{if(!X.name)throw Error("extension name required");if("renderer"in X){let U=J.renderers[X.name];U?J.renderers[X.name]=function(...Y){let q=X.renderer.apply(this,Y);return q===!1&&(q=U.apply(this,Y)),q}:J.renderers[X.name]=X.renderer}if("tokenizer"in X){if(!X.level||X.level!=="block"&&X.level!=="inline")throw Error("extension level must be 'block' or 'inline'");let U=J[X.level];U?U.unshift(X.tokenizer):J[X.level]=[X.tokenizer],X.start&&(X.level==="block"?J.startBlock?J.startBlock.push(X.start):J.startBlock=[X.start]:X.level==="inline"&&(J.startInline?J.startInline.push(X.start):J.startInline=[X.start]))}"childTokens"in X&&X.childTokens&&(J.childTokens[X.name]=X.childTokens)}),K.extensions=J),Q.renderer){let X=this.defaults.renderer||new vj(this.defaults);for(let U in Q.renderer){if(!(U in X))throw Error(`renderer '${U}' does not exist`);if(["options","parser"].includes(U))continue;let Y=U,q=Q.renderer[Y],W=X[Y];X[Y]=(...G)=>{let z=q.apply(X,G);return z===!1&&(z=W.apply(X,G)),z||""}}K.renderer=X}if(Q.tokenizer){let X=this.defaults.tokenizer||new fj(this.defaults);for(let U in Q.tokenizer){if(!(U in X))throw Error(`tokenizer '${U}' does not exist`);if(["options","rules","lexer"].includes(U))continue;let Y=U,q=Q.tokenizer[Y],W=X[Y];X[Y]=(...G)=>{let z=q.apply(X,G);return z===!1&&(z=W.apply(X,G)),z}}K.tokenizer=X}if(Q.hooks){let X=this.defaults.hooks||new $D;for(let U in Q.hooks){if(!(U in X))throw Error(`hook '${U}' does not exist`);if(["options","block"].includes(U))continue;let Y=U,q=Q.hooks[Y],W=X[Y];$D.passThroughHooks.has(U)?X[Y]=(G)=>{if(this.defaults.async&&$D.passThroughHooksRespectAsync.has(U))return(async()=>{let H=await q.call(X,G);return W.call(X,H)})();let z=q.call(X,G);return W.call(X,z)}:X[Y]=(...G)=>{if(this.defaults.async)return(async()=>{let H=await q.apply(X,G);return H===!1&&(H=await W.apply(X,G)),H})();let z=q.apply(X,G);return z===!1&&(z=W.apply(X,G)),z}}K.hooks=X}if(Q.walkTokens){let X=this.defaults.walkTokens,U=Q.walkTokens;K.walkTokens=function(Y){let q=[];return q.push(U.call(this,Y)),X&&(q=q.concat(X.call(this,Y))),q}}this.defaults={...this.defaults,...K}}),this}setOptions(Z){return this.defaults={...this.defaults,...Z},this}lexer(Z,J){return I5.lex(Z,J??this.defaults)}parser(Z,J){return A5.parse(Z,J??this.defaults)}parseMarkdown(Z){return(J,Q)=>{let K={...Q},X={...this.defaults,...K},U=this.onError(!!X.silent,!!X.async);if(this.defaults.async===!0&&K.async===!1)return U(Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof J>"u"||J===null)return U(Error("marked(): input parameter is undefined or null"));if(typeof J!="string")return U(Error("marked(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected"));if(X.hooks&&(X.hooks.options=X,X.hooks.block=Z),X.async)return(async()=>{let Y=X.hooks?await X.hooks.preprocess(J):J,q=await(X.hooks?await X.hooks.provideLexer():Z?I5.lex:I5.lexInline)(Y,X),W=X.hooks?await X.hooks.processAllTokens(q):q;X.walkTokens&&await Promise.all(this.walkTokens(W,X.walkTokens));let G=await(X.hooks?await X.hooks.provideParser():Z?A5.parse:A5.parseInline)(W,X);return X.hooks?await X.hooks.postprocess(G):G})().catch(U);try{X.hooks&&(J=X.hooks.preprocess(J));let Y=(X.hooks?X.hooks.provideLexer():Z?I5.lex:I5.lexInline)(J,X);X.hooks&&(Y=X.hooks.processAllTokens(Y)),X.walkTokens&&this.walkTokens(Y,X.walkTokens);let q=(X.hooks?X.hooks.provideParser():Z?A5.parse:A5.parseInline)(Y,X);return X.hooks&&(q=X.hooks.postprocess(q)),q}catch(Y){return U(Y)}}}onError(Z,J){return(Q)=>{if(Q.message+=`
Please report this to https://github.com/markedjs/marked.`,Z){let K="<p>An error occurred:</p><pre>"+_X(Q.message+"",!0)+"</pre>";return J?Promise.resolve(K):K}if(J)return Promise.reject(Q);throw Q}}},iG,zY9,HY9,FY9,MY9,BY9,OY9,RY9;var xH0=_(()=>{sG=bp();kD={exec:()=>null};d58=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),U6={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(Z)=>new RegExp(`^( {0,3}${Z})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}#`),htmlBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}<(?:[a-z].*>|!--)`,"i")},i58=/^(?:[ \t]*(?:\n|$))+/,s58=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,r58=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,_D=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,n58=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,yp=/(?:[*+-]|\d{1,9}[.)])/,jH0=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,CH0=MZ(jH0).replace(/bull/g,yp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),a58=MZ(jH0).replace(/bull/g,yp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),hp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,o58=/^[^\n]+/,mp=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,t58=MZ(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),e58=MZ(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yp).getRegex(),up=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ZX8=MZ("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",up).replace("tag",xj).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),SH0=MZ(hp).replace("hr",_D).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xj).getRegex(),JX8=MZ(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",SH0).getRegex(),gp={blockquote:JX8,code:s58,def:t58,fences:r58,heading:n58,hr:_D,html:ZX8,lheading:CH0,list:e58,newline:i58,paragraph:SH0,table:kD,text:o58},LH0=MZ("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_D).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xj).getRegex(),QX8={...gp,lheading:a58,table:LH0,paragraph:MZ(hp).replace("hr",_D).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",LH0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xj).getRegex()},KX8={...gp,html:MZ(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",up).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kD,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:MZ(hp).replace("hr",_D).replace("heading",` *#{1,6} *[^
]`).replace("lheading",CH0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},XX8=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,UX8=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,TH0=/^( {2,}|\\)\n(?!\s*$)/,YX8=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,bj=/[\p{P}\p{S}]/u,pp=/[\s\p{P}\p{S}]/u,wH0=/[^\s\p{P}\p{S}]/u,qX8=MZ(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,pp).getRegex(),$H0=/(?!~)[\p{P}\p{S}]/u,WX8=/(?!~)[\s\p{P}\p{S}]/u,GX8=/(?:[^\s\p{P}\p{S}]|~)/u,zX8=MZ(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",d58?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),kH0=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,HX8=MZ(kH0,"u").replace(/punct/g,bj).getRegex(),FX8=MZ(kH0,"u").replace(/punct/g,$H0).getRegex(),MX8=MZ(_H0,"gu").replace(/notPunctSpace/g,wH0).replace(/punctSpace/g,pp).replace(/punct/g,bj).getRegex(),BX8=MZ(_H0,"gu").replace(/notPunctSpace/g,GX8).replace(/punctSpace/g,WX8).replace(/punct/g,$H0).getRegex(),OX8=MZ("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,wH0).replace(/punctSpace/g,pp).replace(/punct/g,bj).getRegex(),RX8=MZ(/\\(punct)/,"gu").replace(/punct/g,bj).getRegex(),DX8=MZ(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),LX8=MZ(up).replace("(?:-->|$)","-->").getRegex(),IX8=MZ("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",LX8).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_j=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,AX8=MZ(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_j).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),fH0=MZ(/^!?\[(label)\]\[(ref)\]/).replace("label",_j).replace("ref",mp).getRegex(),vH0=MZ(/^!?\[(ref)\](?:\[\])?/).replace("ref",mp).getRegex(),NX8=MZ("reflink|nolink(?!\\()","g").replace("reflink",fH0).replace("nolink",vH0).getRegex(),IH0=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,cp={_backpedal:kD,anyPunctuation:RX8,autolink:DX8,blockSkip:zX8,br:TH0,code:UX8,del:kD,emStrongLDelim:HX8,emStrongRDelimAst:MX8,emStrongRDelimUnd:OX8,escape:XX8,link:AX8,nolink:vH0,punctuation:qX8,reflink:fH0,reflinkSearch:NX8,tag:IX8,text:YX8,url:kD},EX8={...cp,link:MZ(/^!?\[(label)\]\((.*?)\)/).replace("label",_j).getRegex(),reflink:MZ(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_j).getRegex()},xp={...cp,emStrongRDelimAst:BX8,emStrongLDelim:FX8,url:MZ(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",IH0).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:MZ(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",IH0).getRegex()},VX8={...xp,br:MZ(TH0).replace("{2,}","*").getRegex(),text:MZ(xp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},kj={normal:gp,gfm:QX8,pedantic:KX8},TD={normal:cp,gfm:xp,breaks:VX8,pedantic:EX8},PX8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};$D=class{options;block;constructor(Z){this.options=Z||sG}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Z){return Z}postprocess(Z){return Z}processAllTokens(Z){return Z}emStrongMask(Z){return Z}provideLexer(){return this.block?I5.lex:I5.lexInline}provideParser(){return this.block?A5.parse:A5.parseInline}},iG=new SX8;RZ.options=RZ.setOptions=function(Z){return iG.setOptions(Z),RZ.defaults=iG.defaults,PH0(RZ.defaults),RZ};RZ.getDefaults=bp;RZ.defaults=sG;RZ.use=function(...Z){return iG.use(...Z),RZ.defaults=iG.defaults,PH0(RZ.defaults),RZ};RZ.walkTokens=function(Z,J){return iG.walkTokens(Z,J)};RZ.parseInline=iG.parseInline;RZ.Parser=A5;RZ.parser=A5.parse;RZ.Renderer=vj;RZ.TextRenderer=lp;RZ.Lexer=I5;RZ.lexer=I5.lex;RZ.Tokenizer=fj;RZ.Hooks=$D;RZ.parse=RZ;zY9=RZ.options,HY9=RZ.setOptions,FY9=RZ.use,MY9=RZ.walkTokens,BY9=RZ.parseInline,OY9=A5.parse,RY9=I5.lex});function yj(Z){var J=[];for(var Q=1;Q<arguments.length;Q++)J[Q-1]=arguments[Q];var K=Array.from(typeof Z==="string"?[Z]:Z);K[K.length-1]=K[K.length-1].replace(/\r?\n([\t ]*)$/,"");var X=K.reduce(function(q,W){var G=W.match(/\n([\t ]+|(?!\s).)/g);if(G)return q.concat(G.map(function(z){var H,F;return(F=(H=z.match(/[\t ]/g))===null||H===void 0?void 0:H.length)!==null&&F!==void 0?F:0}));return q},[]);if(X.length){var U=new RegExp(`
[	 ]{`+Math.min.apply(Math,X)+"}","g");K=K.map(function(q){return q.replace(U,`
`)})}K[0]=K[0].replace(/^\r?\n/,"");var Y=K[0];return J.forEach(function(q,W){var G=Y.match(/(?:^|\n)( *)$/),z=G?G[1]:"",H=q;if(typeof q==="string"&&q.includes(`
`))H=String(q).split(`
`).map(function(F,M){return M===0?F:""+z+F}).join(`
`);Y+=H+K[W+1]}),Y}var dp=()=>{};function hH0(Z,{markdownAutoWrap:J}){let K=Z.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),X=yj(K);if(J===!1)return X.replace(/ /g,"&nbsp;");return X}function mH0(Z,J={}){let Q=hH0(Z,J),K=RZ.lexer(Q),X=[[]],U=0;function Y(q,W="normal"){if(q.type==="text")q.text.split(`
`).forEach((z,H)=>{if(H!==0)U++,X.push([]);z.split(" ").forEach((F)=>{if(F=F.replace(/&#39;/g,"'"),F)X[U].push({content:F,type:W})})});else if(q.type==="strong"||q.type==="em")q.tokens.forEach((G)=>{Y(G,q.type)});else if(q.type==="html")X[U].push({content:q.text,type:"normal"})}return I(Y,"processNode"),K.forEach((q)=>{if(q.type==="paragraph")q.tokens?.forEach((W)=>{Y(W)});else if(q.type==="html")X[U].push({content:q.text,type:"normal"});else X[U].push({content:q.raw,type:"normal"})}),X}function uH0(Z,{markdownAutoWrap:J}={}){let Q=RZ.lexer(Z);function K(X){if(X.type==="text"){if(J===!1)return X.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;");return X.text.replace(/\n */g,"<br/>")}else if(X.type==="strong")return`<strong>${X.tokens?.map(K).join("")}</strong>`;else if(X.type==="em")return`<em>${X.tokens?.map(K).join("")}</em>`;else if(X.type==="paragraph")return`<p>${X.tokens?.map(K).join("")}</p>`;else if(X.type==="space")return"";else if(X.type==="html")return`${X.text}`;else if(X.type==="escape")return X.text;return Z0.warn(`Unsupported markdown: ${X.type}`),X.raw}return I(K,"output"),Q.map(K).join("")}function gH0(Z){if(Intl.Segmenter)return[...new Intl.Segmenter().segment(Z)].map((J)=>J.segment);return[...Z]}function pH0(Z,J){let Q=gH0(J.content);return np(Z,[],Q,J.type)}function np(Z,J,Q,K){if(Q.length===0)return[{content:J.join(""),type:K},{content:"",type:K}];let[X,...U]=Q,Y=[...J,X];if(Z([{content:Y.join(""),type:K}]))return np(Z,Y,U,K);if(J.length===0&&X)J.push(X),Q.shift();return[{content:J.join(""),type:K},{content:Q.join(""),type:K}]}function cH0(Z,J){if(Z.some(({content:Q})=>Q.includes(`
`)))throw Error("splitLineToFitWidth does not support newlines in the line");return hj(Z,J)}function hj(Z,J,Q=[],K=[]){if(Z.length===0){if(K.length>0)Q.push(K);return Q.length>0?Q:[]}let X="";if(Z[0].content===" ")X=" ",Z.shift();let U=Z.shift()??{content:" ",type:"normal"},Y=[...K];if(X!=="")Y.push({content:X,type:"normal"});if(Y.push(U),J(Y))return hj(Z,J,Q,Y);if(K.length>0)Q.push(K),Z.unshift(U);else if(U.content){let[q,W]=pH0(J,U);if(Q.push([q]),W.content)Z.unshift(W)}return hj(Z,J,Q)}function sp(Z,J){if(J)Z.attr("style",J)}async function lH0(Z,J,Q,K,X=!1,U=L9()){let Y=Z.append("foreignObject");Y.attr("width",`${10*Q}px`),Y.attr("height",`${10*Q}px`);let q=Y.append("xhtml:div"),W=JJ(J.label)?await A1(J.label.replace(J8.lineBreakRegex,`
`),U):R9(J.label,U),G=J.isNode?"nodeLabel":"edgeLabel",z=q.append("span");if(z.html(W),sp(z,J.labelStyle),z.attr("class",`${G} ${K}`),sp(q,J.labelStyle),q.style("display","table-cell"),q.style("white-space","nowrap"),q.style("line-height","1.5"),q.style("max-width",Q+"px"),q.style("text-align","center"),q.attr("xmlns","http://www.w3.org/1999/xhtml"),X)q.attr("class","labelBkg");let H=q.node().getBoundingClientRect();if(H.width===Q)q.style("display","table"),q.style("white-space","break-spaces"),q.style("width",Q+"px"),H=q.node().getBoundingClientRect();return Y.node()}function uj(Z,J,Q){return Z.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",J*Q-0.1+"em").attr("dy",Q+"em")}function dH0(Z,J,Q){let K=Z.append("text"),X=uj(K,1,J);gj(X,Q);let U=X.node().getComputedTextLength();return K.remove(),U}function ap(Z,J,Q){let K=Z.append("text"),X=uj(K,1,J);gj(X,[{content:Q,type:"normal"}]);let U=X.node()?.getBoundingClientRect();if(U)K.remove();return U}function iH0(Z,J,Q,K=!1){let U=J.append("g"),Y=U.insert("rect").attr("class","background").attr("style","stroke: none"),q=U.append("text").attr("y","-10.1"),W=0;for(let G of Q){let z=I((F)=>dH0(U,1.1,F)<=Z,"checkWidth"),H=z(G)?[G]:cH0(G,z);for(let F of H){let M=uj(q,W,1.1);gj(M,F),W++}}if(K){let G=q.node().getBBox(),z=2;return Y.attr("x",G.x-2).attr("y",G.y-2).attr("width",G.width+4).attr("height",G.height+4),U.node()}else return q.node()}function gj(Z,J){Z.text(""),J.forEach((Q,K)=>{let X=Z.append("tspan").attr("font-style",Q.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",Q.type==="strong"?"bold":"normal");if(K===0)X.text(Q.content);else X.text(" "+Q.content)})}async function pj(Z,J={}){let Q=[];Z.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(X,U,Y)=>{return Q.push((async()=>{let q=`${U}:${Y}`;if(await TX8(q))return await fX(q,void 0,{class:"label-icon"});else return`<i class='${R9(X,J).replace(":"," ")}'></i>`})()),X});let K=await Promise.all(Q);return Z.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>K.shift()??"")}var rp,ip,bH0,mj,yH0,TX8,fX,UQ;var YQ=_(()=>{jZ();T9();M9();DH0();A9();xH0();dp();rp={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ip=new Map,bH0=new Map,mj=I((Z)=>{for(let J of Z){if(!J.name)throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Z0.debug("Registering icon pack:",J.name),"loader"in J)bH0.set(J.name,J.loader);else if("icons"in J)ip.set(J.name,J.icons);else throw Z0.error("Invalid icon loader:",J),Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),yH0=I(async(Z,J)=>{let Q=Tp(Z,!0,J!==void 0);if(!Q)throw Error(`Invalid icon name: ${Z}`);let K=Q.prefix||J;if(!K)throw Error(`Icon name must contain a prefix: ${Z}`);let X=ip.get(K);if(!X){let Y=bH0.get(K);if(!Y)throw Error(`Icon set not found: ${Q.prefix}`);try{X={...await Y(),prefix:K},ip.set(K,X)}catch(q){throw Z0.error(q),Error(`Failed to load icon set: ${Q.prefix}`)}}let U=$p(X,Q.name);if(!U)throw Error(`Icon not found: ${Z}`);return U},"getRegisteredIconData"),TX8=I(async(Z)=>{try{return await yH0(Z),!0}catch{return!1}},"isIconAvailable"),fX=I(async(Z,J,Q)=>{let K;try{K=await yH0(Z,J?.fallbackPrefix)}catch(Y){Z0.error(Y),K=rp}let X=_p(K,J),U=vp(fp(X.body),{...X.attributes,...Q});return R9(U,L9())},"getIconSVG");I(hH0,"preprocessMarkdown");I(mH0,"markdownToLines");I(uH0,"markdownToHTML");I(gH0,"splitTextToChars");I(pH0,"splitWordToFitWidth");I(np,"splitWordToFitWidthRecursion");I(cH0,"splitLineToFitWidth");I(hj,"splitLineToFitWidthRecursion");I(sp,"applyStyle");I(lH0,"addHtmlSpan");I(uj,"createTspan");I(dH0,"computeWidthOfText");I(ap,"computeDimensionOfText");I(iH0,"createFormattedText");I(gj,"updateTextContentAndStyles");I(pj,"replaceIconSubstring");UQ=I(async(Z,J="",{style:Q="",isTitle:K=!1,classes:X="",useHtmlLabels:U=!0,isNode:Y=!0,width:q=200,addSvgBackground:W=!1}={},G)=>{if(Z0.debug("XYZ createText",J,Q,K,X,U,Y,"addSvgBackground: ",W),U){let z=uH0(J,G),H=await pj(d6(z),G),F=J.replace(/\\\\/g,"\\"),M={isNode:Y,label:JJ(J)?F:H,labelStyle:Q.replace("fill:","color:")};return await lH0(Z,M,q,X,W,G)}else{let z=J.replace(/<br\s*\/?>/g,"<br/>"),H=mH0(z.replace("<br>","<br/>"),G),F=iH0(q,Z,H,J?W:!1);if(Y){if(/stroke:/.exec(Q))Q=Q.replace("stroke:","lineColor:");let M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");i0(F).attr("style",M)}else{let M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");i0(F).select("rect").attr("style",M.replace(/background:/g,"fill:"));let B=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");i0(F).select("text").attr("style",B)}return F}},"createText")});function op(Z,J,Q){if(Z&&Z.length){let[K,X]=J,U=Math.PI/180*Q,Y=Math.cos(U),q=Math.sin(U);for(let W of Z){let[G,z]=W;W[0]=(G-K)*Y-(z-X)*q+K,W[1]=(G-K)*q+(z-X)*Y+X}}}function wX8(Z,J){return Z[0]===J[0]&&Z[1]===J[1]}function $X8(Z,J,Q,K=1){let X=Q,U=Math.max(J,0.1),Y=Z[0]&&Z[0][0]&&typeof Z[0][0]=="number"?[Z]:Z,q=[0,0];if(X)for(let G of Y)op(G,q,X);let W=function(G,z,H){let F=[];for(let L of G){let A=[...L];wX8(A[0],A[A.length-1])||A.push([A[0][0],A[0][1]]),A.length>2&&F.push(A)}let M=[];z=Math.max(z,0.1);let B=[];for(let L of F)for(let A=0;A<L.length-1;A++){let V=L[A],N=L[A+1];if(V[1]!==N[1]){let E=Math.min(V[1],N[1]);B.push({ymin:E,ymax:Math.max(V[1],N[1]),x:E===V[1]?V[0]:N[0],islope:(N[0]-V[0])/(N[1]-V[1])})}}if(B.sort((L,A)=>L.ymin<A.ymin?-1:L.ymin>A.ymin?1:L.x<A.x?-1:L.x>A.x?1:L.ymax===A.ymax?0:(L.ymax-A.ymax)/Math.abs(L.ymax-A.ymax)),!B.length)return M;let O=[],R=B[0].ymin,D=0;for(;O.length||B.length;){if(B.length){let L=-1;for(let A=0;A<B.length&&!(B[A].ymin>R);A++)L=A;B.splice(0,L+1).forEach((A)=>{O.push({s:R,edge:A})})}if(O=O.filter((L)=>!(L.edge.ymax<=R)),O.sort((L,A)=>L.edge.x===A.edge.x?0:(L.edge.x-A.edge.x)/Math.abs(L.edge.x-A.edge.x)),(H!==1||D%z==0)&&O.length>1)for(let L=0;L<O.length;L+=2){let A=L+1;if(A>=O.length)break;let V=O[L].edge,N=O[A].edge;M.push([[Math.round(V.x),R],[Math.round(N.x),R]])}R+=H,O.forEach((L)=>{L.edge.x=L.edge.x+H*L.edge.islope}),D++}return M}(Y,U,K);if(X){for(let G of Y)op(G,q,-X);(function(G,z,H){let F=[];G.forEach((M)=>F.push(...M)),op(F,z,H)})(W,q,-X)}return W}function bD(Z,J){var Q;let K=J.hachureAngle+90,X=J.hachureGap;X<0&&(X=4*J.strokeWidth),X=Math.round(Math.max(X,0.1));let U=1;return J.roughness>=1&&(((Q=J.randomizer)===null||Q===void 0?void 0:Q.next())||Math.random())>0.7&&(U=X),$X8(Z,X,K,U||1)}class oj{constructor(Z){this.helper=Z}fillPolygons(Z,J){return this._fillPolygons(Z,J)}_fillPolygons(Z,J){let Q=bD(Z,J);return{type:"fillSketch",ops:this.renderLines(Q,J)}}renderLines(Z,J){let Q=[];for(let K of Z)Q.push(...this.helper.doubleLineOps(K[0][0],K[0][1],K[1][0],K[1][1],J));return Q}}function tj(Z){let J=Z[0],Q=Z[1];return Math.sqrt(Math.pow(J[0]-Q[0],2)+Math.pow(J[1]-Q[1],2))}class K20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=bD(Z,J=Object.assign({},J,{hachureAngle:0}));return this.dotsOnLines(Q,J)}dotsOnLines(Z,J){let Q=[],K=J.hachureGap;K<0&&(K=4*J.strokeWidth),K=Math.max(K,0.1);let X=J.fillWeight;X<0&&(X=J.strokeWidth/2);let U=K/4;for(let Y of Z){let q=tj(Y),W=q/K,G=Math.ceil(W)-1,z=q-G*K,H=(Y[0][0]+Y[1][0])/2-K/4,F=Math.min(Y[0][1],Y[1][1]);for(let M=0;M<G;M++){let B=F+z+M*K,O=H-U+2*Math.random()*U,R=B-U+2*Math.random()*U,D=this.helper.ellipse(O,R,X,X,J);Q.push(...D.ops)}}return{type:"fillSketch",ops:Q}}}class X20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=bD(Z,J);return{type:"fillSketch",ops:this.dashedLine(Q,J)}}dashedLine(Z,J){let Q=J.dashOffset<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashOffset,K=J.dashGap<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashGap,X=[];return Z.forEach((U)=>{let Y=tj(U),q=Math.floor(Y/(Q+K)),W=(Y+K-q*(Q+K))/2,G=U[0],z=U[1];G[0]>z[0]&&(G=U[1],z=U[0]);let H=Math.atan((z[1]-G[1])/(z[0]-G[0]));for(let F=0;F<q;F++){let M=F*(Q+K),B=M+Q,O=[G[0]+M*Math.cos(H)+W*Math.cos(H),G[1]+M*Math.sin(H)+W*Math.sin(H)],R=[G[0]+B*Math.cos(H)+W*Math.cos(H),G[1]+B*Math.sin(H)+W*Math.sin(H)];X.push(...this.helper.doubleLineOps(O[0],O[1],R[0],R[1],J))}}),X}}class U20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=J.hachureGap<0?4*J.strokeWidth:J.hachureGap,K=J.zigzagOffset<0?Q:J.zigzagOffset,X=bD(Z,J=Object.assign({},J,{hachureGap:Q+K}));return{type:"fillSketch",ops:this.zigzagLines(X,K,J)}}zigzagLines(Z,J,Q){let K=[];return Z.forEach((X)=>{let U=tj(X),Y=Math.round(U/(2*J)),q=X[0],W=X[1];q[0]>W[0]&&(q=X[1],W=X[0]);let G=Math.atan((W[1]-q[1])/(W[0]-q[0]));for(let z=0;z<Y;z++){let H=2*z*J,F=2*(z+1)*J,M=Math.sqrt(2*Math.pow(J,2)),B=[q[0]+H*Math.cos(G),q[1]+H*Math.sin(G)],O=[q[0]+F*Math.cos(G),q[1]+F*Math.sin(G)],R=[B[0]+M*Math.cos(G+Math.PI/4),B[1]+M*Math.sin(G+Math.PI/4)];K.push(...this.helper.doubleLineOps(B[0],B[1],R[0],R[1],Q),...this.helper.doubleLineOps(R[0],R[1],O[0],O[1],Q))}}),K}}class Y20{constructor(Z){this.seed=Z}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}function ep(Z,J){return Z.type===J}function Uc(Z){let J=[],Q=function(Y){let q=[];for(;Y!=="";)if(Y.match(/^([ \t\r\n,]+)/))Y=Y.substr(RegExp.$1.length);else if(Y.match(/^([aAcChHlLmMqQsStTvVzZ])/))q[q.length]={type:kX8,text:RegExp.$1},Y=Y.substr(RegExp.$1.length);else{if(!Y.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];q[q.length]={type:tp,text:`${parseFloat(RegExp.$1)}`},Y=Y.substr(RegExp.$1.length)}return q[q.length]={type:sH0,text:""},q}(Z),K="BOD",X=0,U=Q[X];for(;!ep(U,sH0);){let Y=0,q=[];if(K==="BOD"){if(U.text!=="M"&&U.text!=="m")return Uc("M0,0"+Z);X++,Y=cj[U.text],K=U.text}else ep(U,tp)?Y=cj[K]:(X++,Y=cj[U.text],K=U.text);if(!(X+Y<Q.length))throw Error("Path data ended short");for(let W=X;W<X+Y;W++){let G=Q[W];if(!ep(G,tp))throw Error("Param not a number: "+K+","+G.text);q[q.length]=+G.text}if(typeof cj[K]!="number")throw Error("Bad segment: "+K);{let W={key:K,data:q};J.push(W),X+=Y,U=Q[X],K==="M"&&(K="L"),K==="m"&&(K="l")}}return J}function q20(Z){let J=0,Q=0,K=0,X=0,U=[];for(let{key:Y,data:q}of Z)switch(Y){case"M":U.push({key:"M",data:[...q]}),[J,Q]=q,[K,X]=q;break;case"m":J+=q[0],Q+=q[1],U.push({key:"M",data:[J,Q]}),K=J,X=Q;break;case"L":U.push({key:"L",data:[...q]}),[J,Q]=q;break;case"l":J+=q[0],Q+=q[1],U.push({key:"L",data:[J,Q]});break;case"C":U.push({key:"C",data:[...q]}),J=q[4],Q=q[5];break;case"c":{let W=q.map((G,z)=>z%2?G+Q:G+J);U.push({key:"C",data:W}),J=W[4],Q=W[5];break}case"Q":U.push({key:"Q",data:[...q]}),J=q[2],Q=q[3];break;case"q":{let W=q.map((G,z)=>z%2?G+Q:G+J);U.push({key:"Q",data:W}),J=W[2],Q=W[3];break}case"A":U.push({key:"A",data:[...q]}),J=q[5],Q=q[6];break;case"a":J+=q[5],Q+=q[6],U.push({key:"A",data:[q[0],q[1],q[2],q[3],q[4],J,Q]});break;case"H":U.push({key:"H",data:[...q]}),J=q[0];break;case"h":J+=q[0],U.push({key:"H",data:[J]});break;case"V":U.push({key:"V",data:[...q]}),Q=q[0];break;case"v":Q+=q[0],U.push({key:"V",data:[Q]});break;case"S":U.push({key:"S",data:[...q]}),J=q[2],Q=q[3];break;case"s":{let W=q.map((G,z)=>z%2?G+Q:G+J);U.push({key:"S",data:W}),J=W[2],Q=W[3];break}case"T":U.push({key:"T",data:[...q]}),J=q[0],Q=q[1];break;case"t":J+=q[0],Q+=q[1],U.push({key:"T",data:[J,Q]});break;case"Z":case"z":U.push({key:"Z",data:[]}),J=K,Q=X}return U}function W20(Z){let J=[],Q="",K=0,X=0,U=0,Y=0,q=0,W=0;for(let{key:G,data:z}of Z){switch(G){case"M":J.push({key:"M",data:[...z]}),[K,X]=z,[U,Y]=z;break;case"C":J.push({key:"C",data:[...z]}),K=z[4],X=z[5],q=z[2],W=z[3];break;case"L":J.push({key:"L",data:[...z]}),[K,X]=z;break;case"H":K=z[0],J.push({key:"L",data:[K,X]});break;case"V":X=z[0],J.push({key:"L",data:[K,X]});break;case"S":{let H=0,F=0;Q==="C"||Q==="S"?(H=K+(K-q),F=X+(X-W)):(H=K,F=X),J.push({key:"C",data:[H,F,...z]}),q=z[0],W=z[1],K=z[2],X=z[3];break}case"T":{let[H,F]=z,M=0,B=0;Q==="Q"||Q==="T"?(M=K+(K-q),B=X+(X-W)):(M=K,B=X);let O=K+2*(M-K)/3,R=X+2*(B-X)/3,D=H+2*(M-H)/3,L=F+2*(B-F)/3;J.push({key:"C",data:[O,R,D,L,H,F]}),q=M,W=B,K=H,X=F;break}case"Q":{let[H,F,M,B]=z,O=K+2*(H-K)/3,R=X+2*(F-X)/3,D=M+2*(H-M)/3,L=B+2*(F-B)/3;J.push({key:"C",data:[O,R,D,L,M,B]}),q=H,W=F,K=M,X=B;break}case"A":{let H=Math.abs(z[0]),F=Math.abs(z[1]),M=z[2],B=z[3],O=z[4],R=z[5],D=z[6];if(H===0||F===0)J.push({key:"C",data:[K,X,R,D,R,D]}),K=R,X=D;else if(K!==R||X!==D)G20(K,X,R,D,H,F,M,B,O).forEach(function(L){J.push({key:"C",data:L})}),K=R,X=D;break}case"Z":J.push({key:"Z",data:[]}),K=U,X=Y}Q=G}return J}function fD(Z,J,Q){return[Z*Math.cos(Q)-J*Math.sin(Q),Z*Math.sin(Q)+J*Math.cos(Q)]}function G20(Z,J,Q,K,X,U,Y,q,W,G){let z=(H=Y,Math.PI*H/180);var H;let F=[],M=0,B=0,O=0,R=0;if(G)[M,B,O,R]=G;else{[Z,J]=fD(Z,J,-z),[Q,K]=fD(Q,K,-z);let T=(Z-Q)/2,S=(J-K)/2,f=T*T/(X*X)+S*S/(U*U);f>1&&(f=Math.sqrt(f),X*=f,U*=f);let v=X*X,x=U*U,b=v*x-v*S*S-x*T*T,y=v*S*S+x*T*T,u=(q===W?-1:1)*Math.sqrt(Math.abs(b/y));O=u*X*S/U+(Z+Q)/2,R=u*-U*T/X+(J+K)/2,M=Math.asin(parseFloat(((J-R)/U).toFixed(9))),B=Math.asin(parseFloat(((K-R)/U).toFixed(9))),Z<O&&(M=Math.PI-M),Q<O&&(B=Math.PI-B),M<0&&(M=2*Math.PI+M),B<0&&(B=2*Math.PI+B),W&&M>B&&(M-=2*Math.PI),!W&&B>M&&(B-=2*Math.PI)}let D=B-M;if(Math.abs(D)>120*Math.PI/180){let T=B,S=Q,f=K;B=W&&B>M?M+120*Math.PI/180*1:M+120*Math.PI/180*-1,F=G20(Q=O+X*Math.cos(B),K=R+U*Math.sin(B),S,f,X,U,Y,0,W,[B,T,O,R])}D=B-M;let L=Math.cos(M),A=Math.sin(M),V=Math.cos(B),N=Math.sin(B),E=Math.tan(D/4),j=1.3333333333333333*X*E,C=1.3333333333333333*U*E,$=[Z,J],k=[Z+j*A,J-C*L],w=[Q+j*N,K-C*V],P=[Q,K];if(k[0]=2*$[0]-k[0],k[1]=2*$[1]-k[1],G)return[k,w,P].concat(F);{F=[k,w,P].concat(F);let T=[];for(let S=0;S<F.length;S+=3){let f=fD(F[S][0],F[S][1],z),v=fD(F[S+1][0],F[S+1][1],z),x=fD(F[S+2][0],F[S+2][1],z);T.push([f[0],f[1],v[0],v[1],x[0],x[1]])}return T}}function z20(Z,J,Q,K,X){return{type:"path",ops:Zq(Z,J,Q,K,X)}}function ij(Z,J,Q){let K=(Z||[]).length;if(K>2){let X=[];for(let U=0;U<K-1;U++)X.push(...Zq(Z[U][0],Z[U][1],Z[U+1][0],Z[U+1][1],Q));return J&&X.push(...Zq(Z[K-1][0],Z[K-1][1],Z[0][0],Z[0][1],Q)),{type:"path",ops:X}}return K===2?z20(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q):{type:"path",ops:[]}}function fX8(Z,J,Q,K,X){return function(U,Y){return ij(U,!0,Y)}([[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]],X)}function rH0(Z,J){if(Z.length){let Q=typeof Z[0][0]=="number"?[Z]:Z,K=lj(Q[0],1*(1+0.2*J.roughness),J),X=J.disableMultiStroke?[]:lj(Q[0],1.5*(1+0.22*J.roughness),oH0(J));for(let U=1;U<Q.length;U++){let Y=Q[U];if(Y.length){let q=lj(Y,1*(1+0.2*J.roughness),J),W=J.disableMultiStroke?[]:lj(Y,1.5*(1+0.22*J.roughness),oH0(J));for(let G of q)G.op!=="move"&&K.push(G);for(let G of W)G.op!=="move"&&X.push(G)}}return{type:"path",ops:K.concat(X)}}return{type:"path",ops:[]}}function H20(Z,J,Q){let K=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Z/2,2)+Math.pow(J/2,2))/2)),X=Math.ceil(Math.max(Q.curveStepCount,Q.curveStepCount/Math.sqrt(200)*K)),U=2*Math.PI/X,Y=Math.abs(Z/2),q=Math.abs(J/2),W=1-Q.curveFitting;return Y+=W9(Y*W,Q),q+=W9(q*W,Q),{increment:U,rx:Y,ry:q}}function Qc(Z,J,Q,K){let[X,U]=tH0(K.increment,Z,J,K.rx,K.ry,1,K.increment*rj(0.1,rj(0.4,1,Q),Q),Q),Y=nj(X,null,Q);if(!Q.disableMultiStroke&&Q.roughness!==0){let[q]=tH0(K.increment,Z,J,K.rx,K.ry,1.5,0,Q),W=nj(q,null,Q);Y=Y.concat(W)}return{estimatedPoints:U,opset:{type:"path",ops:Y}}}function nH0(Z,J,Q,K,X,U,Y,q,W){let G=Z,z=J,H=Math.abs(Q/2),F=Math.abs(K/2);H+=W9(0.01*H,W),F+=W9(0.01*F,W);let M=X,B=U;for(;M<0;)M+=2*Math.PI,B+=2*Math.PI;B-M>2*Math.PI&&(M=0,B=2*Math.PI);let O=2*Math.PI/W.curveStepCount,R=Math.min(O/2,(B-M)/2),D=eH0(R,G,z,H,F,M,B,1,W);if(!W.disableMultiStroke){let L=eH0(R,G,z,H,F,M,B,1.5,W);D.push(...L)}return Y&&(q?D.push(...Zq(G,z,G+H*Math.cos(M),z+F*Math.sin(M),W),...Zq(G,z,G+H*Math.cos(B),z+F*Math.sin(B),W)):D.push({op:"lineTo",data:[G,z]},{op:"lineTo",data:[G+H*Math.cos(M),z+F*Math.sin(M)]})),{type:"path",ops:D}}function aH0(Z,J){let Q=W20(q20(Uc(Z))),K=[],X=[0,0],U=[0,0];for(let{key:Y,data:q}of Q)switch(Y){case"M":U=[q[0],q[1]],X=[q[0],q[1]];break;case"L":K.push(...Zq(U[0],U[1],q[0],q[1],J)),U=[q[0],q[1]];break;case"C":{let[W,G,z,H,F,M]=q;K.push(...vX8(W,G,z,H,F,M,U,J)),U=[F,M];break}case"Z":K.push(...Zq(U[0],U[1],X[0],X[1],J)),U=[X[0],X[1]]}return{type:"path",ops:K}}function Zc(Z,J){let Q=[];for(let K of Z)if(K.length){let X=J.maxRandomnessOffset||0,U=K.length;if(U>2){Q.push({op:"move",data:[K[0][0]+W9(X,J),K[0][1]+W9(X,J)]});for(let Y=1;Y<U;Y++)Q.push({op:"lineTo",data:[K[Y][0]+W9(X,J),K[Y][1]+W9(X,J)]})}}return{type:"fillPath",ops:Q}}function l2(Z,J){return function(Q,K){let X=Q.fillStyle||"hachure";if(!i6[X])switch(X){case"zigzag":i6[X]||(i6[X]=new J20(K));break;case"cross-hatch":i6[X]||(i6[X]=new Q20(K));break;case"dots":i6[X]||(i6[X]=new K20(K));break;case"dashed":i6[X]||(i6[X]=new X20(K));break;case"zigzag-line":i6[X]||(i6[X]=new U20(K));break;default:X="hachure",i6[X]||(i6[X]=new oj(K))}return i6[X]}(J,_X8).fillPolygons(Z,J)}function oH0(Z){let J=Object.assign({},Z);return J.randomizer=void 0,Z.seed&&(J.seed=Z.seed+1),J}function F20(Z){return Z.randomizer||(Z.randomizer=new Y20(Z.seed||0)),Z.randomizer.next()}function rj(Z,J,Q,K=1){return Q.roughness*K*(F20(Q)*(J-Z)+Z)}function W9(Z,J,Q=1){return rj(-Z,Z,J,Q)}function Zq(Z,J,Q,K,X,U=!1){let Y=U?X.disableMultiStrokeFill:X.disableMultiStroke,q=Kc(Z,J,Q,K,X,!0,!1);if(Y)return q;let W=Kc(Z,J,Q,K,X,!0,!0);return q.concat(W)}function Kc(Z,J,Q,K,X,U,Y){let q=Math.pow(Z-Q,2)+Math.pow(J-K,2),W=Math.sqrt(q),G=1;G=W<200?1:W>500?0.4:-0.0016668*W+1.233334;let z=X.maxRandomnessOffset||0;z*z*100>q&&(z=W/10);let H=z/2,F=0.2+0.2*F20(X),M=X.bowing*X.maxRandomnessOffset*(K-J)/200,B=X.bowing*X.maxRandomnessOffset*(Z-Q)/200;M=W9(M,X,G),B=W9(B,X,G);let O=[],R=()=>W9(H,X,G),D=()=>W9(z,X,G),L=X.preserveVertices;return U&&(Y?O.push({op:"move",data:[Z+(L?0:R()),J+(L?0:R())]}):O.push({op:"move",data:[Z+(L?0:W9(z,X,G)),J+(L?0:W9(z,X,G))]})),Y?O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+R(),B+J+(K-J)*F+R(),M+Z+2*(Q-Z)*F+R(),B+J+2*(K-J)*F+R(),Q+(L?0:R()),K+(L?0:R())]}):O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+D(),B+J+(K-J)*F+D(),M+Z+2*(Q-Z)*F+D(),B+J+2*(K-J)*F+D(),Q+(L?0:D()),K+(L?0:D())]}),O}function lj(Z,J,Q){if(!Z.length)return[];let K=[];K.push([Z[0][0]+W9(J,Q),Z[0][1]+W9(J,Q)]),K.push([Z[0][0]+W9(J,Q),Z[0][1]+W9(J,Q)]);for(let X=1;X<Z.length;X++)K.push([Z[X][0]+W9(J,Q),Z[X][1]+W9(J,Q)]),X===Z.length-1&&K.push([Z[X][0]+W9(J,Q),Z[X][1]+W9(J,Q)]);return nj(K,null,Q)}function nj(Z,J,Q){let K=Z.length,X=[];if(K>3){let U=[],Y=1-Q.curveTightness;X.push({op:"move",data:[Z[1][0],Z[1][1]]});for(let q=1;q+2<K;q++){let W=Z[q];U[0]=[W[0],W[1]],U[1]=[W[0]+(Y*Z[q+1][0]-Y*Z[q-1][0])/6,W[1]+(Y*Z[q+1][1]-Y*Z[q-1][1])/6],U[2]=[Z[q+1][0]+(Y*Z[q][0]-Y*Z[q+2][0])/6,Z[q+1][1]+(Y*Z[q][1]-Y*Z[q+2][1])/6],U[3]=[Z[q+1][0],Z[q+1][1]],X.push({op:"bcurveTo",data:[U[1][0],U[1][1],U[2][0],U[2][1],U[3][0],U[3][1]]})}if(J&&J.length===2){let q=Q.maxRandomnessOffset;X.push({op:"lineTo",data:[J[0]+W9(q,Q),J[1]+W9(q,Q)]})}}else K===3?(X.push({op:"move",data:[Z[1][0],Z[1][1]]}),X.push({op:"bcurveTo",data:[Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[2][0],Z[2][1]]})):K===2&&X.push(...Kc(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q,!0,!0));return X}function tH0(Z,J,Q,K,X,U,Y,q){let W=[],G=[];if(q.roughness===0){Z/=4,G.push([J+K*Math.cos(-Z),Q+X*Math.sin(-Z)]);for(let z=0;z<=2*Math.PI;z+=Z){let H=[J+K*Math.cos(z),Q+X*Math.sin(z)];W.push(H),G.push(H)}G.push([J+K*Math.cos(0),Q+X*Math.sin(0)]),G.push([J+K*Math.cos(Z),Q+X*Math.sin(Z)])}else{let z=W9(0.5,q)-Math.PI/2;G.push([W9(U,q)+J+0.9*K*Math.cos(z-Z),W9(U,q)+Q+0.9*X*Math.sin(z-Z)]);let H=2*Math.PI+z-0.01;for(let F=z;F<H;F+=Z){let M=[W9(U,q)+J+K*Math.cos(F),W9(U,q)+Q+X*Math.sin(F)];W.push(M),G.push(M)}G.push([W9(U,q)+J+K*Math.cos(z+2*Math.PI+0.5*Y),W9(U,q)+Q+X*Math.sin(z+2*Math.PI+0.5*Y)]),G.push([W9(U,q)+J+0.98*K*Math.cos(z+Y),W9(U,q)+Q+0.98*X*Math.sin(z+Y)]),G.push([W9(U,q)+J+0.9*K*Math.cos(z+0.5*Y),W9(U,q)+Q+0.9*X*Math.sin(z+0.5*Y)])}return[G,W]}function eH0(Z,J,Q,K,X,U,Y,q,W){let G=U+W9(0.1,W),z=[];z.push([W9(q,W)+J+0.9*K*Math.cos(G-Z),W9(q,W)+Q+0.9*X*Math.sin(G-Z)]);for(let H=G;H<=Y;H+=Z)z.push([W9(q,W)+J+K*Math.cos(H),W9(q,W)+Q+X*Math.sin(H)]);return z.push([J+K*Math.cos(Y),Q+X*Math.sin(Y)]),z.push([J+K*Math.cos(Y),Q+X*Math.sin(Y)]),nj(z,null,W)}function vX8(Z,J,Q,K,X,U,Y,q){let W=[],G=[q.maxRandomnessOffset||1,(q.maxRandomnessOffset||1)+0.3],z=[0,0],H=q.disableMultiStroke?1:2,F=q.preserveVertices;for(let M=0;M<H;M++)M===0?W.push({op:"move",data:[Y[0],Y[1]]}):W.push({op:"move",data:[Y[0]+(F?0:W9(G[0],q)),Y[1]+(F?0:W9(G[0],q))]}),z=F?[X,U]:[X+W9(G[M],q),U+W9(G[M],q)],W.push({op:"bcurveTo",data:[Z+W9(G[M],q),J+W9(G[M],q),Q+W9(G[M],q),K+W9(G[M],q),z[0],z[1]]});return W}function vD(Z){return[...Z]}function Z20(Z,J=0){let Q=Z.length;if(Q<3)throw Error("A curve must have at least three points.");let K=[];if(Q===3)K.push(vD(Z[0]),vD(Z[1]),vD(Z[2]),vD(Z[2]));else{let X=[];X.push(Z[0],Z[0]);for(let q=1;q<Z.length;q++)X.push(Z[q]),q===Z.length-1&&X.push(Z[q]);let U=[],Y=1-J;K.push(vD(X[0]));for(let q=1;q+2<X.length;q++){let W=X[q];U[0]=[W[0],W[1]],U[1]=[W[0]+(Y*X[q+1][0]-Y*X[q-1][0])/6,W[1]+(Y*X[q+1][1]-Y*X[q-1][1])/6],U[2]=[X[q+1][0]+(Y*X[q][0]-Y*X[q+2][0])/6,X[q+1][1]+(Y*X[q][1]-Y*X[q+2][1])/6],U[3]=[X[q+1][0],X[q+1][1]],K.push(U[1],U[2],U[3])}}return K}function sj(Z,J){return Math.pow(Z[0]-J[0],2)+Math.pow(Z[1]-J[1],2)}function xX8(Z,J,Q){let K=sj(J,Q);if(K===0)return sj(Z,J);let X=((Z[0]-J[0])*(Q[0]-J[0])+(Z[1]-J[1])*(Q[1]-J[1]))/K;return X=Math.max(0,Math.min(1,X)),sj(Z,rG(J,Q,X))}function rG(Z,J,Q){return[Z[0]+(J[0]-Z[0])*Q,Z[1]+(J[1]-Z[1])*Q]}function Xc(Z,J,Q,K){let X=K||[];if(function(q,W){let G=q[W+0],z=q[W+1],H=q[W+2],F=q[W+3],M=3*z[0]-2*G[0]-F[0];M*=M;let B=3*z[1]-2*G[1]-F[1];B*=B;let O=3*H[0]-2*F[0]-G[0];O*=O;let R=3*H[1]-2*F[1]-G[1];return R*=R,M<O&&(M=O),B<R&&(B=R),M+B}(Z,J)<Q){let q=Z[J+0];if(X.length)(U=X[X.length-1],Y=q,Math.sqrt(sj(U,Y)))>1&&X.push(q);else X.push(q);X.push(Z[J+3])}else{let W=Z[J+0],G=Z[J+1],z=Z[J+2],H=Z[J+3],F=rG(W,G,0.5),M=rG(G,z,0.5),B=rG(z,H,0.5),O=rG(F,M,0.5),R=rG(M,B,0.5),D=rG(O,R,0.5);Xc([W,F,O,D],0,Q,X),Xc([D,R,B,H],0,Q,X)}var U,Y;return X}function bX8(Z,J){return aj(Z,0,Z.length,J)}function aj(Z,J,Q,K,X){let U=X||[],Y=Z[J],q=Z[Q-1],W=0,G=1;for(let z=J+1;z<Q-1;++z){let H=xX8(Z[z],Y,q);H>W&&(W=H,G=z)}return Math.sqrt(W)>K?(aj(Z,J,G+1,K,U),aj(Z,G,Q,K,U)):(U.length||U.push(Y),U.push(q)),U}function Jc(Z,J=0.15,Q){let K=[],X=(Z.length-1)/3;for(let U=0;U<X;U++)Xc(Z,3*U,J,K);return Q&&Q>0?aj(K,0,K.length,Q):K}class xD{constructor(Z){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:0.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:0.8},this.config=Z||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(Z){return Z?Object.assign({},this.defaultOptions,Z):this.defaultOptions}_d(Z,J,Q){return{shape:Z,sets:J||[],options:Q||this.defaultOptions}}line(Z,J,Q,K,X){let U=this._o(X);return this._d("line",[z20(Z,J,Q,K,U)],U)}rectangle(Z,J,Q,K,X){let U=this._o(X),Y=[],q=fX8(Z,J,Q,K,U);if(U.fill){let W=[[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]];U.fillStyle==="solid"?Y.push(Zc([W],U)):Y.push(l2([W],U))}return U.stroke!==_4&&Y.push(q),this._d("rectangle",Y,U)}ellipse(Z,J,Q,K,X){let U=this._o(X),Y=[],q=H20(Q,K,U),W=Qc(Z,J,U,q);if(U.fill)if(U.fillStyle==="solid"){let G=Qc(Z,J,U,q).opset;G.type="fillPath",Y.push(G)}else Y.push(l2([W.estimatedPoints],U));return U.stroke!==_4&&Y.push(W.opset),this._d("ellipse",Y,U)}circle(Z,J,Q,K){let X=this.ellipse(Z,J,Q,Q,K);return X.shape="circle",X}linearPath(Z,J){let Q=this._o(J);return this._d("linearPath",[ij(Z,!1,Q)],Q)}arc(Z,J,Q,K,X,U,Y=!1,q){let W=this._o(q),G=[],z=nH0(Z,J,Q,K,X,U,Y,!0,W);if(Y&&W.fill)if(W.fillStyle==="solid"){let H=Object.assign({},W);H.disableMultiStroke=!0;let F=nH0(Z,J,Q,K,X,U,!0,!1,H);F.type="fillPath",G.push(F)}else G.push(function(H,F,M,B,O,R,D){let L=H,A=F,V=Math.abs(M/2),N=Math.abs(B/2);V+=W9(0.01*V,D),N+=W9(0.01*N,D);let E=O,j=R;for(;E<0;)E+=2*Math.PI,j+=2*Math.PI;j-E>2*Math.PI&&(E=0,j=2*Math.PI);let C=(j-E)/D.curveStepCount,$=[];for(let k=E;k<=j;k+=C)$.push([L+V*Math.cos(k),A+N*Math.sin(k)]);return $.push([L+V*Math.cos(j),A+N*Math.sin(j)]),$.push([L,A]),l2([$],D)}(Z,J,Q,K,X,U,W));return W.stroke!==_4&&G.push(z),this._d("arc",G,W)}curve(Z,J){let Q=this._o(J),K=[],X=rH0(Z,Q);if(Q.fill&&Q.fill!==_4)if(Q.fillStyle==="solid"){let U=rH0(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(U.ops)})}else{let U=[],Y=Z;if(Y.length){let q=typeof Y[0][0]=="number"?[Y]:Y;for(let W of q)W.length<3?U.push(...W):W.length===3?U.push(...Jc(Z20([W[0],W[0],W[1],W[2]]),10,(1+Q.roughness)/2)):U.push(...Jc(Z20(W),10,(1+Q.roughness)/2))}U.length&&K.push(l2([U],Q))}return Q.stroke!==_4&&K.push(X),this._d("curve",K,Q)}polygon(Z,J){let Q=this._o(J),K=[],X=ij(Z,!0,Q);return Q.fill&&(Q.fillStyle==="solid"?K.push(Zc([Z],Q)):K.push(l2([Z],Q))),Q.stroke!==_4&&K.push(X),this._d("polygon",K,Q)}path(Z,J){let Q=this._o(J),K=[];if(!Z)return this._d("path",K,Q);Z=(Z||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let X=Q.fill&&Q.fill!=="transparent"&&Q.fill!==_4,U=Q.stroke!==_4,Y=!!(Q.simplification&&Q.simplification<1),q=function(G,z,H){let F=W20(q20(Uc(G))),M=[],B=[],O=[0,0],R=[],D=()=>{R.length>=4&&B.push(...Jc(R,z)),R=[]},L=()=>{D(),B.length&&(M.push(B),B=[])};for(let{key:V,data:N}of F)switch(V){case"M":L(),O=[N[0],N[1]],B.push(O);break;case"L":D(),B.push([N[0],N[1]]);break;case"C":if(!R.length){let E=B.length?B[B.length-1]:O;R.push([E[0],E[1]])}R.push([N[0],N[1]]),R.push([N[2],N[3]]),R.push([N[4],N[5]]);break;case"Z":D(),B.push([O[0],O[1]])}if(L(),!H)return M;let A=[];for(let V of M){let N=bX8(V,H);N.length&&A.push(N)}return A}(Z,1,Y?4-4*(Q.simplification||1):(1+Q.roughness)/2),W=aH0(Z,Q);if(X)if(Q.fillStyle==="solid")if(q.length===1){let G=aH0(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(G.ops)})}else K.push(Zc(q,Q));else K.push(l2(q,Q));return U&&(Y?q.forEach((G)=>{K.push(ij(G,!1,Q))}):K.push(W)),this._d("path",K,Q)}opsToPath(Z,J){let Q="";for(let K of Z.ops){let X=typeof J=="number"&&J>=0?K.data.map((U)=>+U.toFixed(J)):K.data;switch(K.op){case"move":Q+=`M${X[0]} ${X[1]} `;break;case"bcurveTo":Q+=`C${X[0]} ${X[1]}, ${X[2]} ${X[3]}, ${X[4]} ${X[5]} `;break;case"lineTo":Q+=`L${X[0]} ${X[1]} `}}return Q.trim()}toPaths(Z){let J=Z.sets||[],Q=Z.options||this.defaultOptions,K=[];for(let X of J){let U=null;switch(X.type){case"path":U={d:this.opsToPath(X),stroke:Q.stroke,strokeWidth:Q.strokeWidth,fill:_4};break;case"fillPath":U={d:this.opsToPath(X),stroke:_4,strokeWidth:0,fill:Q.fill||_4};break;case"fillSketch":U=this.fillSketch(X,Q)}U&&K.push(U)}return K}fillSketch(Z,J){let Q=J.fillWeight;return Q<0&&(Q=J.strokeWidth/2),{d:this.opsToPath(Z),stroke:J.fill||_4,strokeWidth:Q,fill:_4}}_mergedShape(Z){return Z.filter((J,Q)=>Q===0||J.op!=="move")}}class M20{constructor(Z,J){this.canvas=Z,this.ctx=this.canvas.getContext("2d"),this.gen=new xD(J)}draw(Z){let J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.ctx,X=Z.options.fixedDecimalPlaceDigits;for(let U of J)switch(U.type){case"path":K.save(),K.strokeStyle=Q.stroke==="none"?"transparent":Q.stroke,K.lineWidth=Q.strokeWidth,Q.strokeLineDash&&K.setLineDash(Q.strokeLineDash),Q.strokeLineDashOffset&&(K.lineDashOffset=Q.strokeLineDashOffset),this._drawToContext(K,U,X),K.restore();break;case"fillPath":{K.save(),K.fillStyle=Q.fill||"";let Y=Z.shape==="curve"||Z.shape==="polygon"||Z.shape==="path"?"evenodd":"nonzero";this._drawToContext(K,U,X,Y),K.restore();break}case"fillSketch":this.fillSketch(K,U,Q)}}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2),Z.save(),Q.fillLineDash&&Z.setLineDash(Q.fillLineDash),Q.fillLineDashOffset&&(Z.lineDashOffset=Q.fillLineDashOffset),Z.strokeStyle=Q.fill||"",Z.lineWidth=K,this._drawToContext(Z,J,Q.fixedDecimalPlaceDigits),Z.restore()}_drawToContext(Z,J,Q,K="nonzero"){Z.beginPath();for(let X of J.ops){let U=typeof Q=="number"&&Q>=0?X.data.map((Y)=>+Y.toFixed(Q)):X.data;switch(X.op){case"move":Z.moveTo(U[0],U[1]);break;case"bcurveTo":Z.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case"lineTo":Z.lineTo(U[0],U[1])}}J.type==="fillPath"?Z.fill(K):Z.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(Z,J,Q,K,X){let U=this.gen.line(Z,J,Q,K,X);return this.draw(U),U}rectangle(Z,J,Q,K,X){let U=this.gen.rectangle(Z,J,Q,K,X);return this.draw(U),U}ellipse(Z,J,Q,K,X){let U=this.gen.ellipse(Z,J,Q,K,X);return this.draw(U),U}circle(Z,J,Q,K){let X=this.gen.circle(Z,J,Q,K);return this.draw(X),X}linearPath(Z,J){let Q=this.gen.linearPath(Z,J);return this.draw(Q),Q}polygon(Z,J){let Q=this.gen.polygon(Z,J);return this.draw(Q),Q}arc(Z,J,Q,K,X,U,Y=!1,q){let W=this.gen.arc(Z,J,Q,K,X,U,Y,q);return this.draw(W),W}curve(Z,J){let Q=this.gen.curve(Z,J);return this.draw(Q),Q}path(Z,J){let Q=this.gen.path(Z,J);return this.draw(Q),Q}}class B20{constructor(Z,J){this.svg=Z,this.gen=new xD(J)}draw(Z){let J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.svg.ownerDocument||window.document,X=K.createElementNS(dj,"g"),U=Z.options.fixedDecimalPlaceDigits;for(let Y of J){let q=null;switch(Y.type){case"path":q=K.createElementNS(dj,"path"),q.setAttribute("d",this.opsToPath(Y,U)),q.setAttribute("stroke",Q.stroke),q.setAttribute("stroke-width",Q.strokeWidth+""),q.setAttribute("fill","none"),Q.strokeLineDash&&q.setAttribute("stroke-dasharray",Q.strokeLineDash.join(" ").trim()),Q.strokeLineDashOffset&&q.setAttribute("stroke-dashoffset",`${Q.strokeLineDashOffset}`);break;case"fillPath":q=K.createElementNS(dj,"path"),q.setAttribute("d",this.opsToPath(Y,U)),q.setAttribute("stroke","none"),q.setAttribute("stroke-width","0"),q.setAttribute("fill",Q.fill||""),Z.shape!=="curve"&&Z.shape!=="polygon"||q.setAttribute("fill-rule","evenodd");break;case"fillSketch":q=this.fillSketch(K,Y,Q)}q&&X.appendChild(q)}return X}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2);let X=Z.createElementNS(dj,"path");return X.setAttribute("d",this.opsToPath(J,Q.fixedDecimalPlaceDigits)),X.setAttribute("stroke",Q.fill||""),X.setAttribute("stroke-width",K+""),X.setAttribute("fill","none"),Q.fillLineDash&&X.setAttribute("stroke-dasharray",Q.fillLineDash.join(" ").trim()),Q.fillLineDashOffset&&X.setAttribute("stroke-dashoffset",`${Q.fillLineDashOffset}`),X}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(Z,J){return this.gen.opsToPath(Z,J)}line(Z,J,Q,K,X){let U=this.gen.line(Z,J,Q,K,X);return this.draw(U)}rectangle(Z,J,Q,K,X){let U=this.gen.rectangle(Z,J,Q,K,X);return this.draw(U)}ellipse(Z,J,Q,K,X){let U=this.gen.ellipse(Z,J,Q,K,X);return this.draw(U)}circle(Z,J,Q,K){let X=this.gen.circle(Z,J,Q,K);return this.draw(X)}linearPath(Z,J){let Q=this.gen.linearPath(Z,J);return this.draw(Q)}polygon(Z,J){let Q=this.gen.polygon(Z,J);return this.draw(Q)}arc(Z,J,Q,K,X,U,Y=!1,q){let W=this.gen.arc(Z,J,Q,K,X,U,Y,q);return this.draw(W)}curve(Z,J){let Q=this.gen.curve(Z,J);return this.draw(Q)}path(Z,J){let Q=this.gen.path(Z,J);return this.draw(Q)}}var J20,Q20,i6,kX8=0,tp=1,sH0=2,cj,_X8,_4="none",dj="http://www.w3.org/2000/svg",e0;var d8=_(()=>{J20=class J20 extends oj{fillPolygons(Z,J){let Q=J.hachureGap;Q<0&&(Q=4*J.strokeWidth),Q=Math.max(Q,0.1);let K=bD(Z,Object.assign({},J,{hachureGap:Q})),X=Math.PI/180*J.hachureAngle,U=[],Y=0.5*Q*Math.cos(X),q=0.5*Q*Math.sin(X);for(let[W,G]of K)tj([W,G])&&U.push([[W[0]-Y,W[1]+q],[...G]],[[W[0]+Y,W[1]-q],[...G]]);return{type:"fillSketch",ops:this.renderLines(U,J)}}};Q20=class Q20 extends oj{fillPolygons(Z,J){let Q=this._fillPolygons(Z,J),K=Object.assign({},J,{hachureAngle:J.hachureAngle+90}),X=this._fillPolygons(Z,K);return Q.ops=Q.ops.concat(X.ops),Q}};i6={};cj={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};_X8={randOffset:function(Z,J){return W9(Z,J)},randOffsetWithRange:function(Z,J,Q){return rj(Z,J,Q)},ellipse:function(Z,J,Q,K,X){let U=H20(Q,K,X);return Qc(Z,J,X,U).opset},doubleLineOps:function(Z,J,Q,K,X){return Zq(Z,J,Q,K,X,!0)}};e0={canvas:(Z,J)=>new M20(Z,J),svg:(Z,J)=>new B20(Z,J),generator:(Z)=>new xD(Z),newSeed:()=>xD.newSeed()}});function g9(Z){let J=Z.map((Q,K)=>`${K===0?"M":"L"}${Q.x},${Q.y}`);return J.push("Z"),J.join(" ")}function Jq(Z,J,Q,K,X,U){let Y=[],q=50,W=Q-Z,G=K-J,z=W/U,H=2*Math.PI/z,F=J+G/2;for(let M=0;M<=50;M++){let B=M/50,O=Z+B*W,R=F+X*Math.sin(H*(O-Z));Y.push({x:O,y:R})}return Y}function mD(Z,J,Q,K,X,U){let Y=[],q=X*Math.PI/180,z=(U*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}function O20(Z,J){if(J)Z.attr("style",J)}async function R20(Z){let J=i0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Q=J.append("xhtml:div"),K=N0(),X=Z.label;if(Z.label&&JJ(Z.label))X=await A1(Z.label.replace(J8.lineBreakRegex,`
`),K);let Y='<span class="'+(Z.isNode?"nodeLabel":"edgeLabel")+'" '+(Z.labelStyle?'style="'+Z.labelStyle+'"':"")+">"+X+"</span>";return Q.html(R9(Y,K)),O20(Q,Z.labelStyle),Q.style("display","inline-block"),Q.style("padding-right","1px"),Q.style("white-space","nowrap"),Q.attr("xmlns","http://www.w3.org/1999/xhtml"),J.node()}function A20(Z,J){return Z.intersect(J)}function N20(Z,J,Q,K){var{x:X,y:U}=Z,Y=X-K.x,q=U-K.y,W=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/W);if(K.x<X)G=-G;var z=Math.abs(J*Q*q/W);if(K.y<U)z=-z;return{x:X+G,y:U+z}}function V20(Z,J,Q){return E20(Z,J,J,Q)}function P20(Z,J,Q,K){{let X=J.y-Z.y,U=Z.x-J.x,Y=J.x*Z.y-Z.x*J.y,q=X*Q.x+U*Q.y+Y,W=X*K.x+U*K.y+Y,G=0.000001;if(q!==0&&W!==0&&qc(q,W))return;let z=K.y-Q.y,H=Q.x-K.x,F=K.x*Q.y-Q.x*K.y,M=z*Z.x+H*Z.y+F,B=z*J.x+H*J.y+F;if(Math.abs(M)<0.000001&&Math.abs(B)<0.000001&&qc(M,B))return;let O=X*H-z*U;if(O===0)return;let R=Math.abs(O/2),D=U*F-H*Y,L=D<0?(D-R)/O:(D+R)/O;D=z*Y-X*F;let A=D<0?(D-R)/O:(D+R)/O;return{x:L,y:A}}}function qc(Z,J){return Z*J>0}function j20(Z,J,Q){let{x:K,y:X}=Z,U=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(z){Y=Math.min(Y,z.x),q=Math.min(q,z.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);let W=K-Z.width/2-Y,G=X-Z.height/2-q;for(let z=0;z<J.length;z++){let H=J[z],F=J[z<J.length-1?z+1:0],M=sX8(Z,Q,{x:W+H.x,y:G+H.y},{x:W+F.x,y:G+F.y});if(M)U.push(M)}if(!U.length)return Z;if(U.length>1)U.sort(function(z,H){let F=z.x-Q.x,M=z.y-Q.y,B=Math.sqrt(F*F+M*M),O=H.x-Q.x,R=H.y-Q.y,D=Math.sqrt(O*O+R*R);return B<D?-1:B===D?0:1});return U[0]}function C20(Z,J){let{labelStyles:Q}=_8(J);J.labelStyle=Q;let K=Q9(J),X=K;if(!K)X="anchor";let U=Z.insert("g").attr("class",X).attr("id",J.domId||J.id),Y=1,{cssStyles:q}=J,W=e0.svg(U),G=g8(J,{fill:"black",stroke:"none",fillStyle:"solid"});if(J.look!=="handDrawn")G.roughness=0;let z=W.circle(0,0,Y*2,G),H=U.insert(()=>z,":first-child");return H.attr("class","anchor").attr("style",XQ(q)),p8(J,H),J.intersect=function(F){return Z0.info("Circle intersect",J,Y,F),v8.circle(J,Y,F)},U}function Wc(Z,J,Q,K,X,U,Y){let W=(Z+Q)/2,G=(J+K)/2,z=Math.atan2(K-J,Q-Z),H=(Q-Z)/2,F=(K-J)/2,M=H/X,B=F/U,O=Math.sqrt(M**2+B**2);if(O>1)throw Error("The given radii are too small to create an arc between the points.");let R=Math.sqrt(1-O**2),D=W+R*U*Math.sin(z)*(Y?-1:1),L=G-R*X*Math.cos(z)*(Y?-1:1),A=Math.atan2((J-L)/U,(Z-D)/X),N=Math.atan2((K-L)/U,(Q-D)/X)-A;if(Y&&N<0)N+=2*Math.PI;if(!Y&&N>0)N-=2*Math.PI;let E=[];for(let j=0;j<20;j++){let C=j/19,$=A+C*N,k=D+X*Math.cos($),w=L+U*Math.sin($);E.push({x:k,y:w})}return E}async function S20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.width+J.padding+20,q=U.height+J.padding,W=q/2,G=W/(2.5+q/50),{cssStyles:z}=J,H=[{x:Y/2,y:-q/2},{x:-Y/2,y:-q/2},...Wc(-Y/2,-q/2,-Y/2,q/2,G,W,!1),{x:Y/2,y:q/2},...Wc(Y/2,q/2,Y/2,-q/2,G,W,!0)],F=e0.svg(X),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=g9(H),O=F.path(B,M),R=X.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),z&&J.look!=="handDrawn")R.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")R.selectAll("path").attr("style",K);return R.attr("transform",`translate(${G/2}, 0)`),p8(J,R),J.intersect=function(D){return v8.polygon(J,H,D)},X}function Xq(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(X){return X.x+","+X.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}async function T20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.height+J.padding,q=12,W=U.width+J.padding+q,G=0,z=W,H=-Y,F=0,M=[{x:G+q,y:H},{x:z,y:H},{x:z,y:F},{x:G,y:F},{x:G,y:H+q},{x:G+q,y:H}],B,{cssStyles:O}=J;if(J.look==="handDrawn"){let R=e0.svg(X),D=g8(J,{}),L=g9(M),A=R.path(L,D);if(B=X.insert(()=>A,":first-child").attr("transform",`translate(${-W/2}, ${Y/2})`),O)B.attr("style",O)}else B=Xq(X,W,Y,M);if(K)B.attr("style",K);return p8(J,B),J.intersect=function(R){return v8.polygon(J,M,R)},X}function w20(Z,J){let{nodeStyles:Q}=_8(J);J.label="";let K=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId??J.id),{cssStyles:X}=J,U=Math.max(28,J.width??0),Y=[{x:0,y:U/2},{x:U/2,y:0},{x:0,y:-U/2},{x:-U/2,y:0}],q=e0.svg(K),W=g8(J,{});if(J.look!=="handDrawn")W.roughness=0,W.fillStyle="solid";let G=g9(Y),z=q.path(G,W),H=K.insert(()=>z,":first-child");if(X&&J.look!=="handDrawn")H.selectAll("path").attr("style",X);if(Q&&J.look!=="handDrawn")H.selectAll("path").attr("style",Q);return J.width=28,J.height=28,J.intersect=function(F){return v8.polygon(J,Y,F)},K}async function Gc(Z,J,Q){let{labelStyles:K,nodeStyles:X}=_8(J);J.labelStyle=K;let{shapeSvg:U,bbox:Y,halfPadding:q}=await U9(Z,J,Q9(J)),W=Q?.padding??q,G=Y.width/2+W,z,{cssStyles:H}=J;if(J.look==="handDrawn"){let F=e0.svg(U),M=g8(J,{}),B=F.circle(0,0,G*2,M);z=U.insert(()=>B,":first-child"),z.attr("class","basic label-container").attr("style",XQ(H))}else z=U.insert("circle",":first-child").attr("class","basic label-container").attr("style",X).attr("r",G).attr("cx",0).attr("cy",0);return p8(J,z),J.calcIntersect=function(F,M){let B=F.width/2;return v8.circle(F,B,M)},J.intersect=function(F){return Z0.info("Circle intersect",J,G,F),v8.circle(J,G,F)},U}function $20(Z){let J=Math.cos(Math.PI/4),Q=Math.sin(Math.PI/4),K=Z*2,X={x:K/2*J,y:K/2*Q},U={x:-(K/2)*J,y:K/2*Q},Y={x:-(K/2)*J,y:-(K/2)*Q},q={x:K/2*J,y:-(K/2)*Q};return`M ${U.x},${U.y} L ${q.x},${q.y}
                   M ${X.x},${X.y} L ${Y.x},${Y.y}`}function k20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q,J.label="";let X=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId??J.id),U=Math.max(30,J?.width??0),{cssStyles:Y}=J,q=e0.svg(X),W=g8(J,{});if(J.look!=="handDrawn")W.roughness=0,W.fillStyle="solid";let G=q.circle(0,0,U*2,W),z=$20(U),H=q.path(z,W),F=X.insert(()=>G,":first-child");if(F.insert(()=>H),Y&&J.look!=="handDrawn")F.selectAll("path").attr("style",Y);if(K&&J.look!=="handDrawn")F.selectAll("path").attr("style",K);return p8(J,F),J.intersect=function(M){return Z0.info("crossedCircle intersect",J,{radius:U,point:M}),v8.circle(J,U,M)},X}function BY(Z,J,Q,K=100,X=0,U=180){let Y=[],q=X*Math.PI/180,z=(U*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}async function _20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=U.width+(J.padding??0),W=U.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...BY(q/2,-W/2,G,30,-90,0),{x:-q/2-G,y:G},...BY(q/2+G*2,-G,G,20,-180,-270),...BY(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:-W/2},...BY(q/2,W/2,G,20,0,90)],F=[{x:q/2,y:-W/2-G},{x:-q/2,y:-W/2-G},...BY(q/2,-W/2,G,20,-90,0),{x:-q/2-G,y:-G},...BY(q/2+q*0.1,-G,G,20,-180,-270),...BY(q/2+q*0.1,G,G,20,-90,-180),{x:-q/2-G,y:W/2},...BY(q/2,W/2,G,20,0,90),{x:-q/2,y:W/2+G},{x:q/2,y:W/2+G}],M=e0.svg(X),B=g8(J,{fill:"none"});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let R=g9(H).replace("Z",""),D=M.path(R,B),L=g9(F),A=M.path(L,{...B}),V=X.insert("g",":first-child");if(V.insert(()=>A,":first-child").attr("stroke-opacity",0),V.insert(()=>D,":first-child"),V.attr("class","text"),z&&J.look!=="handDrawn")V.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(${G}, 0)`),Y.attr("transform",`translate(${-q/2+G-(U.x-(U.left??0))},${-W/2+(J.padding??0)/2-(U.y-(U.top??0))})`),p8(J,V),J.intersect=function(N){return v8.polygon(J,F,N)},X}function OY(Z,J,Q,K=100,X=0,U=180){let Y=[],q=X*Math.PI/180,z=(U*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:M,y:B})}return Y}async function f20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=U.width+(J.padding??0),W=U.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...OY(q/2,-W/2,G,20,-90,0),{x:q/2+G,y:-G},...OY(q/2+G*2,-G,G,20,-180,-270),...OY(q/2+G*2,G,G,20,-90,-180),{x:q/2+G,y:W/2},...OY(q/2,W/2,G,20,0,90)],F=[{x:-q/2,y:-W/2-G},{x:q/2,y:-W/2-G},...OY(q/2,-W/2,G,20,-90,0),{x:q/2+G,y:-G},...OY(q/2+G*2,-G,G,20,-180,-270),...OY(q/2+G*2,G,G,20,-90,-180),{x:q/2+G,y:W/2},...OY(q/2,W/2,G,20,0,90),{x:q/2,y:W/2+G},{x:-q/2,y:W/2+G}],M=e0.svg(X),B=g8(J,{fill:"none"});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let R=g9(H).replace("Z",""),D=M.path(R,B),L=g9(F),A=M.path(L,{...B}),V=X.insert("g",":first-child");if(V.insert(()=>A,":first-child").attr("stroke-opacity",0),V.insert(()=>D,":first-child"),V.attr("class","text"),z&&J.look!=="handDrawn")V.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(${-G}, 0)`),Y.attr("transform",`translate(${-q/2+(J.padding??0)/2-(U.x-(U.left??0))},${-W/2+(J.padding??0)/2-(U.y-(U.top??0))})`),p8(J,V),J.intersect=function(N){return v8.polygon(J,F,N)},X}function qQ(Z,J,Q,K=100,X=0,U=180){let Y=[],q=X*Math.PI/180,z=(U*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}async function v20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=U.width+(J.padding??0),W=U.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...qQ(q/2,-W/2,G,30,-90,0),{x:-q/2-G,y:G},...qQ(q/2+G*2,-G,G,20,-180,-270),...qQ(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:-W/2},...qQ(q/2,W/2,G,20,0,90)],F=[...qQ(-q/2+G+G/2,-W/2,G,20,-90,-180),{x:q/2-G/2,y:G},...qQ(-q/2-G/2,-G,G,20,0,90),...qQ(-q/2-G/2,G,G,20,-90,0),{x:q/2-G/2,y:-G},...qQ(-q/2+G+G/2,W/2,G,30,-180,-270)],M=[{x:q/2,y:-W/2-G},{x:-q/2,y:-W/2-G},...qQ(q/2,-W/2,G,20,-90,0),{x:-q/2-G,y:-G},...qQ(q/2+G*2,-G,G,20,-180,-270),...qQ(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:W/2},...qQ(q/2,W/2,G,20,0,90),{x:-q/2,y:W/2+G},{x:q/2-G-G/2,y:W/2+G},...qQ(-q/2+G+G/2,-W/2,G,20,-90,-180),{x:q/2-G/2,y:G},...qQ(-q/2-G/2,-G,G,20,0,90),...qQ(-q/2-G/2,G,G,20,-90,0),{x:q/2-G/2,y:-G},...qQ(-q/2+G+G/2,W/2,G,30,-180,-270)],B=e0.svg(X),O=g8(J,{fill:"none"});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let D=g9(H).replace("Z",""),L=B.path(D,O),V=g9(F).replace("Z",""),N=B.path(V,O),E=g9(M),j=B.path(E,{...O}),C=X.insert("g",":first-child");if(C.insert(()=>j,":first-child").attr("stroke-opacity",0),C.insert(()=>L,":first-child"),C.insert(()=>N,":first-child"),C.attr("class","text"),z&&J.look!=="handDrawn")C.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")C.selectAll("path").attr("style",K);return C.attr("transform",`translate(${G-G/4}, 0)`),Y.attr("transform",`translate(${-q/2+(J.padding??0)/2-(U.x-(U.left??0))},${-W/2+(J.padding??0)/2-(U.y-(U.top??0))})`),p8(J,C),J.intersect=function($){return v8.polygon(J,M,$)},X}async function x20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=80,q=20,W=Math.max(Y,(U.width+(J.padding??0)*2)*1.25,J?.width??0),G=Math.max(q,U.height+(J.padding??0)*2,J?.height??0),z=G/2,{cssStyles:H}=J,F=e0.svg(X),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=W,O=G,R=B-z,D=O/4,L=[{x:R,y:0},{x:D,y:0},{x:0,y:O/2},{x:D,y:O},{x:R,y:O},...mD(-R,-O/2,z,50,270,90)],A=g9(L),V=F.path(A,M),N=X.insert(()=>V,":first-child");if(N.attr("class","basic label-container"),H&&J.look!=="handDrawn")N.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")N.selectChildren("path").attr("style",K);return N.attr("transform",`translate(${-W/2}, ${-G/2})`),p8(J,N),J.intersect=function(E){return v8.polygon(J,L,E)},X}async function b20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+J.padding,J.width??0),W=q/2,G=W/(2.5+q/50),z=Math.max(U.height+G+J.padding,J.height??0),H,{cssStyles:F}=J;if(J.look==="handDrawn"){let M=e0.svg(X),B=aX8(0,0,q,z,W,G),O=oX8(0,G,q,z,W,G),R=M.path(B,g8(J,{})),D=M.path(O,g8(J,{fill:"none"}));if(H=X.insert(()=>D,":first-child"),H=X.insert(()=>R,":first-child"),H.attr("class","basic label-container"),F)H.attr("style",F)}else{let M=nX8(0,0,q,z,W,G);H=X.insert("path",":first-child").attr("d",M).attr("class","basic label-container").attr("style",XQ(F)).attr("style",K)}return H.attr("label-offset-y",G),H.attr("transform",`translate(${-q/2}, ${-(z/2+G)})`),p8(J,H),Y.attr("transform",`translate(${-(U.width/2)-(U.x-(U.left??0))}, ${-(U.height/2)+(J.padding??0)/1.5-(U.y-(U.top??0))})`),J.intersect=function(M){let B=v8.rect(J,M),O=B.x-(J.x??0);if(W!=0&&(Math.abs(O)<(J.width??0)/2||Math.abs(O)==(J.width??0)/2&&Math.abs(B.y-(J.y??0))>(J.height??0)/2-G)){let R=G*G*(1-O*O/(W*W));if(R>0)R=Math.sqrt(R);if(R=G-R,M.y-(J.y??0)>0)R=-R;B.y+=R}return B},X}async function y20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=U.width+J.padding,W=U.height+J.padding,G=W*0.2,z=-q/2,H=-W/2-G/2,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:z,y:H+G},{x:-z,y:H+G},{x:-z,y:-H},{x:z,y:-H},{x:z,y:H},{x:-z,y:H},{x:-z,y:H+G}],R=M.polygon(O.map((L)=>[L.x,L.y]),B),D=X.insert(()=>R,":first-child");if(D.attr("class","basic label-container"),F&&J.look!=="handDrawn")D.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")D.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${z+(J.padding??0)/2-(U.x-(U.left??0))}, ${H+G+(J.padding??0)/2-(U.y-(U.top??0))})`),p8(J,D),J.intersect=function(L){return v8.rect(J,L)},X}async function h20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,halfPadding:Y}=await U9(Z,J,Q9(J)),q=5,W=U.width/2+Y+q,G=U.width/2+Y,z,{cssStyles:H}=J;if(J.look==="handDrawn"){let F=e0.svg(X),M=g8(J,{roughness:0.2,strokeWidth:2.5}),B=g8(J,{roughness:0.2,strokeWidth:1.5}),O=F.circle(0,0,W*2,M),R=F.circle(0,0,G*2,B);z=X.insert("g",":first-child"),z.attr("class",XQ(J.cssClasses)).attr("style",XQ(H)),z.node()?.appendChild(O),z.node()?.appendChild(R)}else{z=X.insert("g",":first-child");let F=z.insert("circle",":first-child"),M=z.insert("circle");z.attr("class","basic label-container").attr("style",K),F.attr("class","outer-circle").attr("style",K).attr("r",W).attr("cx",0).attr("cy",0),M.attr("class","inner-circle").attr("style",K).attr("r",G).attr("cx",0).attr("cy",0)}return p8(J,z),J.intersect=function(F){return Z0.info("DoubleCircle intersect",J,W,F),v8.circle(J,W,F)},X}function m20(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:X}=_8(J);J.label="",J.labelStyle=K;let U=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId??J.id),Y=7,{cssStyles:q}=J,W=e0.svg(U),{nodeBorder:G}=Q,z=g8(J,{fillStyle:"solid"});if(J.look!=="handDrawn")z.roughness=0;let H=W.circle(0,0,Y*2,z),F=U.insert(()=>H,":first-child");if(F.selectAll("path").attr("style",`fill: ${G} !important;`),q&&q.length>0&&J.look!=="handDrawn")F.selectAll("path").attr("style",q);if(X&&J.look!=="handDrawn")F.selectAll("path").attr("style",X);return p8(J,F),J.intersect=function(M){return Z0.info("filledCircle intersect",J,{radius:Y,point:M}),v8.circle(J,Y,M)},U}async function u20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=U.width+(J.padding??0),W=q+U.height,G=q+U.height,z=[{x:0,y:-W},{x:G,y:-W},{x:G/2,y:0}],{cssStyles:H}=J,F=e0.svg(X),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=g9(z),O=F.path(B,M),R=X.insert(()=>O,":first-child").attr("transform",`translate(${-W/2}, ${W/2})`);if(H&&J.look!=="handDrawn")R.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")R.selectChildren("path").attr("style",K);return J.width=q,J.height=W,p8(J,R),Y.attr("transform",`translate(${-U.width/2-(U.x-(U.left??0))}, ${-W/2+(J.padding??0)/2+(U.y-(U.top??0))})`),J.intersect=function(D){return Z0.info("Triangle intersect",J,z,D),v8.polygon(J,z,D)},X}function g20(Z,J,{dir:Q,config:{state:K,themeVariables:X}}){let{nodeStyles:U}=_8(J);J.label="";let Y=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId??J.id),{cssStyles:q}=J,W=Math.max(70,J?.width??0),G=Math.max(10,J?.height??0);if(Q==="LR")W=Math.max(10,J?.width??0),G=Math.max(70,J?.height??0);let z=-1*W/2,H=-1*G/2,F=e0.svg(Y),M=g8(J,{stroke:X.lineColor,fill:X.lineColor});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=F.rectangle(z,H,W,G,M),O=Y.insert(()=>B,":first-child");if(q&&J.look!=="handDrawn")O.selectAll("path").attr("style",q);if(U&&J.look!=="handDrawn")O.selectAll("path").attr("style",U);p8(J,O);let R=K?.padding??0;if(J.width&&J.height)J.width+=R/2||0,J.height+=R/2||0;return J.intersect=function(D){return v8.rect(J,D)},Y}async function p20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let X=80,U=50,{shapeSvg:Y,bbox:q}=await U9(Z,J,Q9(J)),W=Math.max(X,q.width+(J.padding??0)*2,J?.width??0),G=Math.max(U,q.height+(J.padding??0)*2,J?.height??0),z=G/2,{cssStyles:H}=J,F=e0.svg(Y),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:-W/2,y:-G/2},{x:W/2-z,y:-G/2},...mD(-W/2+z,0,z,50,90,270),{x:W/2-z,y:G/2},{x:-W/2,y:G/2}],O=g9(B),R=F.path(O,M),D=Y.insert(()=>R,":first-child");if(D.attr("class","basic label-container"),H&&J.look!=="handDrawn")D.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")D.selectChildren("path").attr("style",K);return p8(J,D),J.intersect=function(L){return Z0.info("Pill intersect",J,{radius:z,point:L}),v8.polygon(J,B,L)},Y}async function c20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.height+(J.padding??0),q=U.width+(J.padding??0)*2.5,{cssStyles:W}=J,G=e0.svg(X),z=g8(J,{});if(J.look!=="handDrawn")z.roughness=0,z.fillStyle="solid";let H=q/2,F=H/6;H=H+F;let M=Y/2,B=M/2,O=H-B,R=[{x:-O,y:-M},{x:0,y:-M},{x:O,y:-M},{x:H,y:0},{x:O,y:M},{x:0,y:M},{x:-O,y:M},{x:-H,y:0}],D=g9(R),L=G.path(D,z),A=X.insert(()=>L,":first-child");if(A.attr("class","basic label-container"),W&&J.look!=="handDrawn")A.selectChildren("path").attr("style",W);if(K&&J.look!=="handDrawn")A.selectChildren("path").attr("style",K);return J.width=q,J.height=Y,p8(J,A),J.intersect=function(V){return v8.polygon(J,R,V)},X}async function l20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.label="",J.labelStyle=Q;let{shapeSvg:X}=await U9(Z,J,Q9(J)),U=Math.max(30,J?.width??0),Y=Math.max(30,J?.height??0),{cssStyles:q}=J,W=e0.svg(X),G=g8(J,{});if(J.look!=="handDrawn")G.roughness=0,G.fillStyle="solid";let z=[{x:0,y:0},{x:U,y:0},{x:0,y:Y},{x:U,y:Y}],H=g9(z),F=W.path(H,G),M=X.insert(()=>F,":first-child");if(M.attr("class","basic label-container"),q&&J.look!=="handDrawn")M.selectChildren("path").attr("style",q);if(K&&J.look!=="handDrawn")M.selectChildren("path").attr("style",K);return M.attr("transform",`translate(${-U/2}, ${-Y/2})`),p8(J,M),J.intersect=function(B){return Z0.info("Pill intersect",J,{points:z}),v8.polygon(J,z,B)},X}async function d20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:X}=_8(J);J.labelStyle=X;let U=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(U,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,label:H}=await U9(Z,J,"icon-shape default"),F=J.pos==="t",M=q,B=q,{nodeBorder:O}=Q,{stylesMap:R}=pG(J),D=-B/2,L=-M/2,A=J.label?8:0,V=e0.svg(G),N=g8(J,{stroke:"none",fill:"none"});if(J.look!=="handDrawn")N.roughness=0,N.fillStyle="solid";let E=V.rectangle(D,L,B,M,N),j=Math.max(B,z.width),C=M+z.height+A,$=V.rectangle(-j/2,-C/2,j,C,{...N,fill:"transparent",stroke:"none"}),k=G.insert(()=>E,":first-child"),w=G.insert(()=>$);if(J.icon){let P=G.append("g");P.html(`<g>${await fX(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let T=P.node().getBBox(),S=T.width,f=T.height,v=T.x,x=T.y;P.attr("transform",`translate(${-S/2-v},${F?z.height/2+A/2-f/2-x:-z.height/2-A/2-f/2-x})`),P.attr("style",`color: ${R.get("stroke")??O};`)}return H.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${F?-C/2:C/2-z.height})`),k.attr("transform",`translate(0,${F?z.height/2+A/2:-z.height/2-A/2})`),p8(J,w),J.intersect=function(P){if(Z0.info("iconSquare intersect",J,P),!J.label)return v8.rect(J,P);let T=J.x??0,S=J.y??0,f=J.height??0,v=[];if(F)v=[{x:T-z.width/2,y:S-f/2},{x:T+z.width/2,y:S-f/2},{x:T+z.width/2,y:S-f/2+z.height+A},{x:T+B/2,y:S-f/2+z.height+A},{x:T+B/2,y:S+f/2},{x:T-B/2,y:S+f/2},{x:T-B/2,y:S-f/2+z.height+A},{x:T-z.width/2,y:S-f/2+z.height+A}];else v=[{x:T-B/2,y:S-f/2},{x:T+B/2,y:S-f/2},{x:T+B/2,y:S-f/2+M},{x:T+z.width/2,y:S-f/2+M},{x:T+z.width/2/2,y:S+f/2},{x:T-z.width/2,y:S+f/2},{x:T-z.width/2,y:S-f/2+M},{x:T-B/2,y:S-f/2+M}];return v8.polygon(J,v,P)},G}async function i20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:X}=_8(J);J.labelStyle=X;let U=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(U,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,label:H}=await U9(Z,J,"icon-shape default"),F=20,M=J.label?8:0,B=J.pos==="t",{nodeBorder:O,mainBkg:R}=Q,{stylesMap:D}=pG(J),L=e0.svg(G),A=g8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=D.get("fill");A.stroke=V??R;let N=G.append("g");if(J.icon)N.html(`<g>${await fX(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let E=N.node().getBBox(),j=E.width,C=E.height,$=E.x,k=E.y,w=Math.max(j,C)*Math.SQRT2+F*2,P=L.circle(0,0,w,A),T=Math.max(w,z.width),S=w+z.height+M,f=L.rectangle(-T/2,-S/2,T,S,{...A,fill:"transparent",stroke:"none"}),v=G.insert(()=>P,":first-child"),x=G.insert(()=>f);return N.attr("transform",`translate(${-j/2-$},${B?z.height/2+M/2-C/2-k:-z.height/2-M/2-C/2-k})`),N.attr("style",`color: ${D.get("stroke")??O};`),H.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${B?-S/2:S/2-z.height})`),v.attr("transform",`translate(0,${B?z.height/2+M/2:-z.height/2-M/2})`),p8(J,x),J.intersect=function(b){return Z0.info("iconSquare intersect",J,b),v8.rect(J,b)},G}async function s20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:X}=_8(J);J.labelStyle=X;let U=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(U,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,halfPadding:H,label:F}=await U9(Z,J,"icon-shape default"),M=J.pos==="t",B=q+H*2,O=q+H*2,{nodeBorder:R,mainBkg:D}=Q,{stylesMap:L}=pG(J),A=-O/2,V=-B/2,N=J.label?8:0,E=e0.svg(G),j=g8(J,{});if(J.look!=="handDrawn")j.roughness=0,j.fillStyle="solid";let C=L.get("fill");j.stroke=C??D;let $=E.path(Kq(A,V,O,B,5),j),k=Math.max(O,z.width),w=B+z.height+N,P=E.rectangle(-k/2,-w/2,k,w,{...j,fill:"transparent",stroke:"none"}),T=G.insert(()=>$,":first-child").attr("class","icon-shape2"),S=G.insert(()=>P);if(J.icon){let f=G.append("g");f.html(`<g>${await fX(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let v=f.node().getBBox(),x=v.width,b=v.height,y=v.x,u=v.y;f.attr("transform",`translate(${-x/2-y},${M?z.height/2+N/2-b/2-u:-z.height/2-N/2-b/2-u})`),f.attr("style",`color: ${L.get("stroke")??R};`)}return F.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${M?-w/2:w/2-z.height})`),T.attr("transform",`translate(0,${M?z.height/2+N/2:-z.height/2-N/2})`),p8(J,S),J.intersect=function(f){if(Z0.info("iconSquare intersect",J,f),!J.label)return v8.rect(J,f);let v=J.x??0,x=J.y??0,b=J.height??0,y=[];if(M)y=[{x:v-z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2+z.height+N},{x:v+O/2,y:x-b/2+z.height+N},{x:v+O/2,y:x+b/2},{x:v-O/2,y:x+b/2},{x:v-O/2,y:x-b/2+z.height+N},{x:v-z.width/2,y:x-b/2+z.height+N}];else y=[{x:v-O/2,y:x-b/2},{x:v+O/2,y:x-b/2},{x:v+O/2,y:x-b/2+B},{x:v+z.width/2,y:x-b/2+B},{x:v+z.width/2/2,y:x+b/2},{x:v-z.width/2,y:x+b/2},{x:v-z.width/2,y:x-b/2+B},{x:v-O/2,y:x-b/2+B}];return v8.polygon(J,y,f)},G}async function r20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:X}=_8(J);J.labelStyle=X;let U=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(U,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,halfPadding:H,label:F}=await U9(Z,J,"icon-shape default"),M=J.pos==="t",B=q+H*2,O=q+H*2,{nodeBorder:R,mainBkg:D}=Q,{stylesMap:L}=pG(J),A=-O/2,V=-B/2,N=J.label?8:0,E=e0.svg(G),j=g8(J,{});if(J.look!=="handDrawn")j.roughness=0,j.fillStyle="solid";let C=L.get("fill");j.stroke=C??D;let $=E.path(Kq(A,V,O,B,0.1),j),k=Math.max(O,z.width),w=B+z.height+N,P=E.rectangle(-k/2,-w/2,k,w,{...j,fill:"transparent",stroke:"none"}),T=G.insert(()=>$,":first-child"),S=G.insert(()=>P);if(J.icon){let f=G.append("g");f.html(`<g>${await fX(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let v=f.node().getBBox(),x=v.width,b=v.height,y=v.x,u=v.y;f.attr("transform",`translate(${-x/2-y},${M?z.height/2+N/2-b/2-u:-z.height/2-N/2-b/2-u})`),f.attr("style",`color: ${L.get("stroke")??R};`)}return F.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${M?-w/2:w/2-z.height})`),T.attr("transform",`translate(0,${M?z.height/2+N/2:-z.height/2-N/2})`),p8(J,S),J.intersect=function(f){if(Z0.info("iconSquare intersect",J,f),!J.label)return v8.rect(J,f);let v=J.x??0,x=J.y??0,b=J.height??0,y=[];if(M)y=[{x:v-z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2+z.height+N},{x:v+O/2,y:x-b/2+z.height+N},{x:v+O/2,y:x+b/2},{x:v-O/2,y:x+b/2},{x:v-O/2,y:x-b/2+z.height+N},{x:v-z.width/2,y:x-b/2+z.height+N}];else y=[{x:v-O/2,y:x-b/2},{x:v+O/2,y:x-b/2},{x:v+O/2,y:x-b/2+B},{x:v+z.width/2,y:x-b/2+B},{x:v+z.width/2/2,y:x+b/2},{x:v-z.width/2,y:x+b/2},{x:v-z.width/2,y:x-b/2+B},{x:v-O/2,y:x-b/2+B}];return v8.polygon(J,y,f)},G}async function n20(Z,J,{config:{flowchart:Q}}){let K=new Image;K.src=J?.img??"",await K.decode();let X=Number(K.naturalWidth.toString().replace("px","")),U=Number(K.naturalHeight.toString().replace("px",""));J.imageAspectRatio=X/U;let{labelStyles:Y}=_8(J);J.labelStyle=Y;let q=Q?.wrappingWidth;J.defaultWidth=Q?.wrappingWidth;let W=Math.max(J.label?q??0:0,J?.assetWidth??X),G=J.constraint==="on"?J?.assetHeight?J.assetHeight*J.imageAspectRatio:W:W,z=J.constraint==="on"?G/J.imageAspectRatio:J?.assetHeight??U;J.width=Math.max(G,q??0);let{shapeSvg:H,bbox:F,label:M}=await U9(Z,J,"image-shape default"),B=J.pos==="t",O=-G/2,R=-z/2,D=J.label?8:0,L=e0.svg(H),A=g8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=L.rectangle(O,R,G,z,A),N=Math.max(G,F.width),E=z+F.height+D,j=L.rectangle(-N/2,-E/2,N,E,{...A,fill:"none",stroke:"none"}),C=H.insert(()=>V,":first-child"),$=H.insert(()=>j);if(J.img){let k=H.append("image");k.attr("href",J.img),k.attr("width",G),k.attr("height",z),k.attr("preserveAspectRatio","none"),k.attr("transform",`translate(${-G/2},${B?E/2-z:-E/2})`)}return M.attr("transform",`translate(${-F.width/2-(F.x-(F.left??0))},${B?-z/2-F.height/2-D/2:z/2-F.height/2+D/2})`),C.attr("transform",`translate(0,${B?F.height/2+D/2:-F.height/2-D/2})`),p8(J,$),J.intersect=function(k){if(Z0.info("iconSquare intersect",J,k),!J.label)return v8.rect(J,k);let w=J.x??0,P=J.y??0,T=J.height??0,S=[];if(B)S=[{x:w-F.width/2,y:P-T/2},{x:w+F.width/2,y:P-T/2},{x:w+F.width/2,y:P-T/2+F.height+D},{x:w+G/2,y:P-T/2+F.height+D},{x:w+G/2,y:P+T/2},{x:w-G/2,y:P+T/2},{x:w-G/2,y:P-T/2+F.height+D},{x:w-F.width/2,y:P-T/2+F.height+D}];else S=[{x:w-G/2,y:P-T/2},{x:w+G/2,y:P-T/2},{x:w+G/2,y:P-T/2+z},{x:w+F.width/2,y:P-T/2+z},{x:w+F.width/2/2,y:P+T/2},{x:w-F.width/2,y:P+T/2},{x:w-F.width/2,y:P-T/2+z},{x:w-G/2,y:P-T/2+z}];return v8.polygon(J,S,k)},H}async function a20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=Math.max(U.width+(J.padding??0)*2,J?.width??0),q=Math.max(U.height+(J.padding??0)*2,J?.height??0),W=[{x:0,y:0},{x:Y,y:0},{x:Y+3*q/6,y:-q},{x:-3*q/6,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=e0.svg(X),F=g8(J,{}),M=g9(W),B=H.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=Xq(X,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,p8(J,G),J.intersect=function(H){return v8.polygon(J,W,H)},X}async function ej(Z,J,Q){let{labelStyles:K,nodeStyles:X}=_8(J);J.labelStyle=K;let{shapeSvg:U,bbox:Y}=await U9(Z,J,Q9(J)),q=Math.max(Y.width+Q.labelPaddingX*2,J?.width||0),W=Math.max(Y.height+Q.labelPaddingY*2,J?.height||0),G=-q/2,z=-W/2,H,{rx:F,ry:M}=J,{cssStyles:B}=J;if(Q?.rx&&Q.ry)F=Q.rx,M=Q.ry;if(J.look==="handDrawn"){let O=e0.svg(U),R=g8(J,{}),D=F||M?O.path(Kq(G,z,q,W,F||0),R):O.rectangle(G,z,q,W,R);H=U.insert(()=>D,":first-child"),H.attr("class","basic label-container").attr("style",XQ(B))}else H=U.insert("rect",":first-child"),H.attr("class","basic label-container").attr("style",X).attr("rx",XQ(F)).attr("ry",XQ(M)).attr("x",G).attr("y",z).attr("width",q).attr("height",W);return p8(J,H),J.calcIntersect=function(O,R){return v8.rect(O,R)},J.intersect=function(O){return v8.rect(J,O)},U}async function o20(Z,J){let{shapeSvg:Q,bbox:K,label:X}=await U9(Z,J,"label"),U=Q.insert("rect",":first-child"),Y=0.1,q=0.1;return U.attr("width",0.1).attr("height",0.1),Q.attr("class","label edgeLabel"),X.attr("transform",`translate(${-(K.width/2)-(K.x-(K.left??0))}, ${-(K.height/2)-(K.y-(K.top??0))})`),p8(J,U),J.intersect=function(W){return v8.rect(J,W)},Q}async function t20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=Math.max(U.width+(J.padding??0),J?.width??0),q=Math.max(U.height+(J.padding??0),J?.height??0),W=[{x:0,y:0},{x:Y+3*q/6,y:0},{x:Y,y:-q},{x:-(3*q)/6,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=e0.svg(X),F=g8(J,{}),M=g9(W),B=H.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=Xq(X,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,p8(J,G),J.intersect=function(H){return v8.polygon(J,W,H)},X}async function e20(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=Math.max(U.width+(J.padding??0),J?.width??0),q=Math.max(U.height+(J.padding??0),J?.height??0),W=[{x:-3*q/6,y:0},{x:Y,y:0},{x:Y+3*q/6,y:-q},{x:0,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=e0.svg(X),F=g8(J,{}),M=g9(W),B=H.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=Xq(X,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,p8(J,G),J.intersect=function(H){return v8.polygon(J,W,H)},X}function ZF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.label="",J.labelStyle=Q;let X=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId??J.id),{cssStyles:U}=J,Y=Math.max(35,J?.width??0),q=Math.max(35,J?.height??0),W=7,G=[{x:Y,y:0},{x:0,y:q+W/2},{x:Y-2*W,y:q+W/2},{x:0,y:2*q},{x:Y,y:q-W/2},{x:2*W,y:q-W/2}],z=e0.svg(X),H=g8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=g9(G),M=z.path(F,H),B=X.insert(()=>M,":first-child");if(U&&J.look!=="handDrawn")B.selectAll("path").attr("style",U);if(K&&J.look!=="handDrawn")B.selectAll("path").attr("style",K);return B.attr("transform",`translate(-${Y/2},${-q})`),p8(J,B),J.intersect=function(O){return Z0.info("lightningBolt intersect",J,O),v8.polygon(J,G,O)},X}async function JF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0),J.width??0),W=q/2,G=W/(2.5+q/50),z=Math.max(U.height+G+(J.padding??0),J.height??0),H=z*0.1,F,{cssStyles:M}=J;if(J.look==="handDrawn"){let B=e0.svg(X),O=eX8(0,0,q,z,W,G,H),R=ZU8(0,G,q,z,W,G),D=g8(J,{}),L=B.path(O,D),A=B.path(R,D);if(X.insert(()=>A,":first-child").attr("class","line"),F=X.insert(()=>L,":first-child"),F.attr("class","basic label-container"),M)F.attr("style",M)}else{let B=tX8(0,0,q,z,W,G,H);F=X.insert("path",":first-child").attr("d",B).attr("class","basic label-container").attr("style",XQ(M)).attr("style",K)}return F.attr("label-offset-y",G),F.attr("transform",`translate(${-q/2}, ${-(z/2+G)})`),p8(J,F),Y.attr("transform",`translate(${-(U.width/2)-(U.x-(U.left??0))}, ${-(U.height/2)+G-(U.y-(U.top??0))})`),J.intersect=function(B){let O=v8.rect(J,B),R=O.x-(J.x??0);if(W!=0&&(Math.abs(R)<(J.width??0)/2||Math.abs(R)==(J.width??0)/2&&Math.abs(O.y-(J.y??0))>(J.height??0)/2-G)){let D=G*G*(1-R*R/(W*W));if(D>0)D=Math.sqrt(D);if(D=G-D,B.y-(J.y??0)>0)D=-D;O.y+=D}return O},X}async function QF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=W/4,z=W+G,{cssStyles:H}=J,F=e0.svg(X),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:-q/2-q/2*0.1,y:-z/2},{x:-q/2-q/2*0.1,y:z/2},...Jq(-q/2-q/2*0.1,z/2,q/2+q/2*0.1,z/2,G,0.8),{x:q/2+q/2*0.1,y:-z/2},{x:-q/2-q/2*0.1,y:-z/2},{x:-q/2,y:-z/2},{x:-q/2,y:z/2*1.1},{x:-q/2,y:-z/2}],O=F.polygon(B.map((D)=>[D.x,D.y]),M),R=X.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),H&&J.look!=="handDrawn")R.selectAll("path").attr("style",H);if(K&&J.look!=="handDrawn")R.selectAll("path").attr("style",K);return R.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)+q/2*0.1/2-(U.x-(U.left??0))},${-W/2+(J.padding??0)-G/2-(U.y-(U.top??0))})`),p8(J,R),J.intersect=function(D){return v8.polygon(J,B,D)},X}async function KF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=5,z=-q/2,H=-W/2,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{}),O=[{x:z-G,y:H+G},{x:z-G,y:H+W+G},{x:z+q-G,y:H+W+G},{x:z+q-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H+W-G},{x:z+q+G,y:H+W-G},{x:z+q+G,y:H-G},{x:z+G,y:H-G},{x:z+G,y:H},{x:z,y:H},{x:z,y:H+G}],R=[{x:z,y:H+G},{x:z+q-G,y:H+G},{x:z+q-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H},{x:z,y:H}];if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let D=g9(O),L=M.path(D,B),A=g9(R),V=M.path(A,{...B,fill:"none"}),N=X.insert(()=>V,":first-child");if(N.insert(()=>L,":first-child"),N.attr("class","basic label-container"),F&&J.look!=="handDrawn")N.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-(U.width/2)-G-(U.x-(U.left??0))}, ${-(U.height/2)+G-(U.y-(U.top??0))})`),p8(J,N),J.intersect=function(E){return v8.polygon(J,O,E)},X}async function XF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=W/4,z=W+G,H=-q/2,F=-z/2,M=5,{cssStyles:B}=J,O=Jq(H-M,F+z+M,H+q-M,F+z+M,G,0.8),R=O?.[O.length-1],D=[{x:H-M,y:F+M},{x:H-M,y:F+z+M},...O,{x:H+q-M,y:R.y-M},{x:H+q,y:R.y-M},{x:H+q,y:R.y-2*M},{x:H+q+M,y:R.y-2*M},{x:H+q+M,y:F-M},{x:H+M,y:F-M},{x:H+M,y:F},{x:H,y:F},{x:H,y:F+M}],L=[{x:H,y:F+M},{x:H+q-M,y:F+M},{x:H+q-M,y:R.y-M},{x:H+q,y:R.y-M},{x:H+q,y:F},{x:H,y:F}],A=e0.svg(X),V=g8(J,{});if(J.look!=="handDrawn")V.roughness=0,V.fillStyle="solid";let N=g9(D),E=A.path(N,V),j=g9(L),C=A.path(j,V),$=X.insert(()=>E,":first-child");if($.insert(()=>C),$.attr("class","basic label-container"),B&&J.look!=="handDrawn")$.selectAll("path").attr("style",B);if(K&&J.look!=="handDrawn")$.selectAll("path").attr("style",K);return $.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-(U.width/2)-M-(U.x-(U.left??0))}, ${-(U.height/2)+M-G/2-(U.y-(U.top??0))})`),p8(J,$),J.intersect=function(k){return v8.polygon(J,D,k)},X}async function UF0(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:X}=_8(J);if(J.labelStyle=K,!(J.useHtmlLabels||L9().flowchart?.htmlLabels!==!1))J.centerLabel=!0;let{shapeSvg:Y,bbox:q,label:W}=await U9(Z,J,Q9(J)),G=Math.max(q.width+(J.padding??0)*2,J?.width??0),z=Math.max(q.height+(J.padding??0)*2,J?.height??0),H=-G/2,F=-z/2,{cssStyles:M}=J,B=e0.svg(Y),O=g8(J,{fill:Q.noteBkgColor,stroke:Q.noteBorderColor});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=B.rectangle(H,F,G,z,O),D=Y.insert(()=>R,":first-child");if(D.attr("class","basic label-container"),M&&J.look!=="handDrawn")D.selectAll("path").attr("style",M);if(X&&J.look!=="handDrawn")D.selectAll("path").attr("style",X);return W.attr("transform",`translate(${-q.width/2-(q.x-(q.left??0))}, ${-(q.height/2)-(q.y-(q.top??0))})`),p8(J,D),J.intersect=function(L){return v8.rect(J,L)},Y}async function YF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.width+J.padding,q=U.height+J.padding,W=Y+q,G=0.5,z=[{x:W/2,y:0},{x:W,y:-W/2},{x:W/2,y:-W},{x:0,y:-W/2}],H,{cssStyles:F}=J;if(J.look==="handDrawn"){let M=e0.svg(X),B=g8(J,{}),O=JU8(0,0,W),R=M.path(O,B);if(H=X.insert(()=>R,":first-child").attr("transform",`translate(${-W/2+G}, ${W/2})`),F)H.attr("style",F)}else H=Xq(X,W,W,z),H.attr("transform",`translate(${-W/2+G}, ${W/2})`);if(K)H.attr("style",K);return p8(J,H),J.calcIntersect=function(M,B){let O=M.width,R=[{x:O/2,y:0},{x:O,y:-O/2},{x:O/2,y:-O},{x:0,y:-O/2}],D=v8.polygon(M,R,B);return{x:D.x-0.5,y:D.y-0.5}},J.intersect=function(M){return this.calcIntersect(J,M)},X}async function qF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0),J?.width??0),W=Math.max(U.height+(J.padding??0),J?.height??0),G=-q/2,z=-W/2,H=z/2,F=[{x:G+H,y:z},{x:G,y:0},{x:G+H,y:-z},{x:-G,y:-z},{x:-G,y:z}],{cssStyles:M}=J,B=e0.svg(X),O=g8(J,{});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=g9(F),D=B.path(R,O),L=X.insert(()=>D,":first-child");if(L.attr("class","basic label-container"),M&&J.look!=="handDrawn")L.selectAll("path").attr("style",M);if(K&&J.look!=="handDrawn")L.selectAll("path").attr("style",K);return L.attr("transform",`translate(${-H/2},0)`),Y.attr("transform",`translate(${-H/2-U.width/2-(U.x-(U.left??0))}, ${-(U.height/2)-(U.y-(U.top??0))})`),p8(J,L),J.intersect=function(A){return v8.polygon(J,F,A)},X}async function WF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let X;if(!J.cssClasses)X="node default";else X="node "+J.cssClasses;let U=Z.insert("g").attr("class",X).attr("id",J.domId||J.id),Y=U.insert("g"),q=U.insert("g").attr("class","label").attr("style",K),W=J.description,G=J.label,z=q.node().appendChild(await Qq(G,J.labelStyle,!0,!0)),H={width:0,height:0};if(UZ(N0()?.flowchart?.htmlLabels)){let C=z.children[0],$=i0(z);H=C.getBoundingClientRect(),$.attr("width",H.width),$.attr("height",H.height)}Z0.info("Text 2",W);let F=W||[],M=z.getBBox(),B=q.node().appendChild(await Qq(F.join?F.join("<br/>"):F,J.labelStyle,!0,!0)),O=B.children[0],R=i0(B);H=O.getBoundingClientRect(),R.attr("width",H.width),R.attr("height",H.height);let D=(J.padding||0)/2;i0(B).attr("transform","translate( "+(H.width>M.width?0:(M.width-H.width)/2)+", "+(M.height+D+5)+")"),i0(z).attr("transform","translate( "+(H.width<M.width?0:-(M.width-H.width)/2)+", 0)"),H=q.node().getBBox(),q.attr("transform","translate("+-H.width/2+", "+(-H.height/2-D+3)+")");let L=H.width+(J.padding||0),A=H.height+(J.padding||0),V=-H.width/2-D,N=-H.height/2-D,E,j;if(J.look==="handDrawn"){let C=e0.svg(U),$=g8(J,{}),k=C.path(Kq(V,N,L,A,J.rx||0),$),w=C.line(-H.width/2-D,-H.height/2-D+M.height+D,H.width/2+D,-H.height/2-D+M.height+D,$);j=U.insert(()=>{return Z0.debug("Rough node insert CXC",k),w},":first-child"),E=U.insert(()=>{return Z0.debug("Rough node insert CXC",k),k},":first-child")}else E=Y.insert("rect",":first-child"),j=Y.insert("line"),E.attr("class","outer title-state").attr("style",K).attr("x",-H.width/2-D).attr("y",-H.height/2-D).attr("width",H.width+(J.padding||0)).attr("height",H.height+(J.padding||0)),j.attr("class","divider").attr("x1",-H.width/2-D).attr("x2",H.width/2+D).attr("y1",-H.height/2-D+M.height+D).attr("y2",-H.height/2-D+M.height+D);return p8(J,E),J.intersect=function(C){return v8.rect(J,C)},U}function yD(Z,J,Q,K,X,U,Y){let W=(Z+Q)/2,G=(J+K)/2,z=Math.atan2(K-J,Q-Z),H=(Q-Z)/2,F=(K-J)/2,M=H/X,B=F/U,O=Math.sqrt(M**2+B**2);if(O>1)throw Error("The given radii are too small to create an arc between the points.");let R=Math.sqrt(1-O**2),D=W+R*U*Math.sin(z)*(Y?-1:1),L=G-R*X*Math.cos(z)*(Y?-1:1),A=Math.atan2((J-L)/U,(Z-D)/X),N=Math.atan2((K-L)/U,(Q-D)/X)-A;if(Y&&N<0)N+=2*Math.PI;if(!Y&&N>0)N-=2*Math.PI;let E=[];for(let j=0;j<20;j++){let C=j/19,$=A+C*N,k=D+X*Math.cos($),w=L+U*Math.sin($);E.push({x:k,y:w})}return E}async function GF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=J?.padding??0,q=J?.padding??0,W=(J?.width?J?.width:U.width)+Y*2,G=(J?.height?J?.height:U.height)+q*2,z=J.radius||5,H=J.taper||5,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{});if(J.stroke)B.stroke=J.stroke;if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:-W/2+H,y:-G/2},{x:W/2-H,y:-G/2},...yD(W/2-H,-G/2,W/2,-G/2+H,z,z,!0),{x:W/2,y:-G/2+H},{x:W/2,y:G/2-H},...yD(W/2,G/2-H,W/2-H,G/2,z,z,!0),{x:W/2-H,y:G/2},{x:-W/2+H,y:G/2},...yD(-W/2+H,G/2,-W/2,G/2-H,z,z,!0),{x:-W/2,y:G/2-H},{x:-W/2,y:-G/2+H},...yD(-W/2,-G/2+H,-W/2+H,-G/2,z,z,!0)],R=g9(O),D=M.path(R,B),L=X.insert(()=>D,":first-child");if(L.attr("class","basic label-container outer-path"),F&&J.look!=="handDrawn")L.selectChildren("path").attr("style",F);if(K&&J.look!=="handDrawn")L.selectChildren("path").attr("style",K);return p8(J,L),J.intersect=function(A){return v8.polygon(J,O,A)},X}async function zF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=J?.padding??0,W=Math.max(U.width+(J.padding??0)*2,J?.width??0),G=Math.max(U.height+(J.padding??0)*2,J?.height??0),z=-U.width/2-q,H=-U.height/2-q,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:z,y:H},{x:z+W+8,y:H},{x:z+W+8,y:H+G},{x:z-8,y:H+G},{x:z-8,y:H},{x:z,y:H},{x:z,y:H+G}],R=M.polygon(O.map((L)=>[L.x,L.y]),B),D=X.insert(()=>R,":first-child");if(D.attr("class","basic label-container").attr("style",XQ(F)),K&&J.look!=="handDrawn")D.selectAll("path").attr("style",K);if(F&&J.look!=="handDrawn")D.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-W/2+4+(J.padding??0)-(U.x-(U.left??0))},${-G/2+(J.padding??0)-(U.y-(U.top??0))})`),p8(J,D),J.intersect=function(L){return v8.rect(J,L)},X}async function HF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=-q/2,z=-W/2,{cssStyles:H}=J,F=e0.svg(X),M=g8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:G,y:z},{x:G,y:z+W},{x:G+q,y:z+W},{x:G+q,y:z-W/2}],O=g9(B),R=F.path(O,M),D=X.insert(()=>R,":first-child");if(D.attr("class","basic label-container"),H&&J.look!=="handDrawn")D.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")D.selectChildren("path").attr("style",K);return D.attr("transform",`translate(0, ${W/4})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(U.x-(U.left??0))}, ${-W/4+(J.padding??0)-(U.y-(U.top??0))})`),p8(J,D),J.intersect=function(L){return v8.polygon(J,B,L)},X}async function FF0(Z,J){let Q={rx:0,ry:0,classes:"",labelPaddingX:J.labelPaddingX??(J?.padding||0)*2,labelPaddingY:(J?.padding||0)*1};return ej(Z,J,Q)}async function MF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.height+J.padding,q=U.width+Y/4+J.padding,W=Y/2,{cssStyles:G}=J,z=e0.svg(X),H=g8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=[{x:-q/2+W,y:-Y/2},{x:q/2-W,y:-Y/2},...mD(-q/2+W,0,W,50,90,270),{x:q/2-W,y:Y/2},...mD(q/2-W,0,W,50,270,450)],M=g9(F),B=z.path(M,H),O=X.insert(()=>B,":first-child");if(O.attr("class","basic label-container outer-path"),G&&J.look!=="handDrawn")O.selectChildren("path").attr("style",G);if(K&&J.look!=="handDrawn")O.selectChildren("path").attr("style",K);return p8(J,O),J.intersect=function(R){return v8.polygon(J,F,R)},X}async function BF0(Z,J){return ej(Z,J,{rx:5,ry:5,classes:"flowchart-node"})}function OF0(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:X}=_8(J);J.labelStyle=K;let{cssStyles:U}=J,{lineColor:Y,stateBorder:q,nodeBorder:W}=Q,G=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),z=e0.svg(G),H=g8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=z.circle(0,0,14,{...H,stroke:Y,strokeWidth:2}),M=q??W,B=z.circle(0,0,5,{...H,fill:M,stroke:M,strokeWidth:2,fillStyle:"solid"}),O=G.insert(()=>F,":first-child");if(O.insert(()=>B),U)O.selectAll("path").attr("style",U);if(X)O.selectAll("path").attr("style",X);return p8(J,O),J.intersect=function(R){return v8.circle(J,7,R)},G}function RF0(Z,J,{config:{themeVariables:Q}}){let{lineColor:K}=Q,X=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),U;if(J.look==="handDrawn"){let q=e0.svg(X).circle(0,0,14,gW0(K));U=X.insert(()=>q),U.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else U=X.insert("circle",":first-child"),U.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return p8(J,U),J.intersect=function(Y){return v8.circle(J,7,Y)},X}async function DF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=(J?.padding||0)/2,q=U.width+J.padding,W=U.height+J.padding,G=-U.width/2-Y,z=-U.height/2-Y,H=[{x:0,y:0},{x:q,y:0},{x:q,y:-W},{x:0,y:-W},{x:0,y:0},{x:-8,y:0},{x:q+8,y:0},{x:q+8,y:-W},{x:-8,y:-W},{x:-8,y:0}];if(J.look==="handDrawn"){let F=e0.svg(X),M=g8(J,{}),B=F.rectangle(G-8,z,q+16,W,M),O=F.line(G,z,G,z+W,M),R=F.line(G+q,z,G+q,z+W,M);X.insert(()=>O,":first-child"),X.insert(()=>R,":first-child");let D=X.insert(()=>B,":first-child"),{cssStyles:L}=J;D.attr("class","basic label-container").attr("style",XQ(L)),p8(J,D)}else{let F=Xq(X,q,W,H);if(K)F.attr("style",K);p8(J,F)}return J.intersect=function(F){return v8.polygon(J,H,F)},X}async function LF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=Math.max(U.width+(J.padding??0)*2,J?.width??0),q=Math.max(U.height+(J.padding??0)*2,J?.height??0),W=-Y/2,G=-q/2,z=0.2*q,H=0.2*q,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{}),O=[{x:W-z/2,y:G},{x:W+Y+z/2,y:G},{x:W+Y+z/2,y:G+q},{x:W-z/2,y:G+q}],R=[{x:W+Y-z/2,y:G+q},{x:W+Y+z/2,y:G+q},{x:W+Y+z/2,y:G+q-H}];if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let D=g9(O),L=M.path(D,B),A=g9(R),V=M.path(A,{...B,fillStyle:"solid"}),N=X.insert(()=>V,":first-child");if(N.insert(()=>L,":first-child"),N.attr("class","basic label-container"),F&&J.look!=="handDrawn")N.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return p8(J,N),J.intersect=function(E){return v8.polygon(J,O,E)},X}async function IF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=W/4,z=0.2*q,H=0.2*W,F=W+G,{cssStyles:M}=J,B=e0.svg(X),O=g8(J,{});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=[{x:-q/2-q/2*0.1,y:F/2},...Jq(-q/2-q/2*0.1,F/2,q/2+q/2*0.1,F/2,G,0.8),{x:q/2+q/2*0.1,y:-F/2},{x:-q/2-q/2*0.1,y:-F/2}],D=-q/2+q/2*0.1,L=-F/2-H*0.4,A=[{x:D+q-z,y:(L+W)*1.4},{x:D+q,y:L+W-H},{x:D+q,y:(L+W)*0.9},...Jq(D+q,(L+W)*1.3,D+q-z,(L+W)*1.5,-W*0.03,0.5)],V=g9(R),N=B.path(V,O),E=g9(A),j=B.path(E,{...O,fillStyle:"solid"}),C=X.insert(()=>j,":first-child");if(C.insert(()=>N,":first-child"),C.attr("class","basic label-container"),M&&J.look!=="handDrawn")C.selectAll("path").attr("style",M);if(K&&J.look!=="handDrawn")C.selectAll("path").attr("style",K);return C.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(U.x-(U.left??0))},${-W/2+(J.padding??0)-G/2-(U.y-(U.top??0))})`),p8(J,C),J.intersect=function($){return v8.polygon(J,R,$)},X}async function AF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=Math.max(U.width+J.padding,J?.width||0),q=Math.max(U.height+J.padding,J?.height||0),W=-Y/2,G=-q/2,z=X.insert("rect",":first-child");return z.attr("class","text").attr("style",K).attr("rx",0).attr("ry",0).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),p8(J,z),J.intersect=function(H){return v8.rect(J,H)},X}async function NF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y,halfPadding:q}=await U9(Z,J,Q9(J)),W=J.look==="neo"?q*2:q,G=U.height+W,z=G/2,H=z/(2.5+G/50),F=U.width+H+W,{cssStyles:M}=J,B;if(J.look==="handDrawn"){let O=e0.svg(X),R=KU8(0,0,F,G,H,z),D=XU8(0,0,F,G,H,z),L=O.path(R,g8(J,{})),A=O.path(D,g8(J,{fill:"none"}));if(B=X.insert(()=>A,":first-child"),B=X.insert(()=>L,":first-child"),B.attr("class","basic label-container"),M)B.attr("style",M)}else{let O=QU8(0,0,F,G,H,z);if(B=X.insert("path",":first-child").attr("d",O).attr("class","basic label-container").attr("style",XQ(M)).attr("style",K),B.attr("class","basic label-container"),M)B.selectAll("path").attr("style",M);if(K)B.selectAll("path").attr("style",K)}return B.attr("label-offset-x",H),B.attr("transform",`translate(${-F/2}, ${G/2} )`),Y.attr("transform",`translate(${-(U.width/2)-H-(U.x-(U.left??0))}, ${-(U.height/2)-(U.y-(U.top??0))})`),p8(J,B),J.intersect=function(O){let R=v8.rect(J,O),D=R.y-(J.y??0);if(z!=0&&(Math.abs(D)<(J.height??0)/2||Math.abs(D)==(J.height??0)/2&&Math.abs(R.x-(J.x??0))>(J.width??0)/2-H)){let L=H*H*(1-D*D/(z*z));if(L!=0)L=Math.sqrt(Math.abs(L));if(L=H-L,O.x-(J.x??0)>0)L=-L;R.x+=L}return R},X}async function EF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=U.width+J.padding,q=U.height+J.padding,W=[{x:-3*q/6,y:0},{x:Y+3*q/6,y:0},{x:Y,y:-q},{x:0,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=e0.svg(X),F=g8(J,{}),M=g9(W),B=H.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=Xq(X,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,p8(J,G),J.intersect=function(H){return v8.polygon(J,W,H)},X}async function VF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=60,q=20,W=Math.max(Y,U.width+(J.padding??0)*2,J?.width??0),G=Math.max(q,U.height+(J.padding??0)*2,J?.height??0),{cssStyles:z}=J,H=e0.svg(X),F=g8(J,{});if(J.look!=="handDrawn")F.roughness=0,F.fillStyle="solid";let M=[{x:-W/2*0.8,y:-G/2},{x:W/2*0.8,y:-G/2},{x:W/2,y:-G/2*0.6},{x:W/2,y:G/2},{x:-W/2,y:G/2},{x:-W/2,y:-G/2*0.6}],B=g9(M),O=H.path(B,F),R=X.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),z&&J.look!=="handDrawn")R.selectChildren("path").attr("style",z);if(K&&J.look!=="handDrawn")R.selectChildren("path").attr("style",K);return p8(J,R),J.intersect=function(D){return v8.polygon(J,M,D)},X}async function PF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=UZ(N0().flowchart?.htmlLabels),W=U.width+(J.padding??0),G=W+U.height,z=W+U.height,H=[{x:0,y:0},{x:z,y:0},{x:z/2,y:-G}],{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=g9(H),R=M.path(O,B),D=X.insert(()=>R,":first-child").attr("transform",`translate(${-G/2}, ${G/2})`);if(F&&J.look!=="handDrawn")D.selectChildren("path").attr("style",F);if(K&&J.look!=="handDrawn")D.selectChildren("path").attr("style",K);return J.width=W,J.height=G,p8(J,D),Y.attr("transform",`translate(${-U.width/2-(U.x-(U.left??0))}, ${G/2-(U.height+(J.padding??0)/(q?2:1)-(U.y-(U.top??0)))})`),J.intersect=function(L){return Z0.info("Triangle intersect",J,H,L),v8.polygon(J,H,L)},X}async function jF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=W/8,z=W+G,{cssStyles:H}=J,M=70-q,B=M>0?M/2:0,O=e0.svg(X),R=g8(J,{});if(J.look!=="handDrawn")R.roughness=0,R.fillStyle="solid";let D=[{x:-q/2-B,y:z/2},...Jq(-q/2-B,z/2,q/2+B,z/2,G,0.8),{x:q/2+B,y:-z/2},{x:-q/2-B,y:-z/2}],L=g9(D),A=O.path(L,R),V=X.insert(()=>A,":first-child");if(V.attr("class","basic label-container"),H&&J.look!=="handDrawn")V.selectAll("path").attr("style",H);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(U.x-(U.left??0))},${-W/2+(J.padding??0)-G-(U.y-(U.top??0))})`),p8(J,V),J.intersect=function(N){return v8.polygon(J,D,N)},X}async function CF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U}=await U9(Z,J,Q9(J)),Y=100,q=50,W=Math.max(U.width+(J.padding??0)*2,J?.width??0),G=Math.max(U.height+(J.padding??0)*2,J?.height??0),z=W/G,H=W,F=G;if(H>F*z)F=H/z;else H=F*z;H=Math.max(H,Y),F=Math.max(F,q);let M=Math.min(F*0.2,F/4),B=F+M*2,{cssStyles:O}=J,R=e0.svg(X),D=g8(J,{});if(J.look!=="handDrawn")D.roughness=0,D.fillStyle="solid";let L=[{x:-H/2,y:B/2},...Jq(-H/2,B/2,H/2,B/2,M,1),{x:H/2,y:-B/2},...Jq(H/2,-B/2,-H/2,-B/2,M,-1)],A=g9(L),V=R.path(A,D),N=X.insert(()=>V,":first-child");if(N.attr("class","basic label-container"),O&&J.look!=="handDrawn")N.selectAll("path").attr("style",O);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return p8(J,N),J.intersect=function(E){return v8.polygon(J,L,E)},X}async function SF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,label:Y}=await U9(Z,J,Q9(J)),q=Math.max(U.width+(J.padding??0)*2,J?.width??0),W=Math.max(U.height+(J.padding??0)*2,J?.height??0),G=5,z=-q/2,H=-W/2,{cssStyles:F}=J,M=e0.svg(X),B=g8(J,{}),O=[{x:z-G,y:H-G},{x:z-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H-G}],R=`M${z-G},${H-G} L${z+q},${H-G} L${z+q},${H+W} L${z-G},${H+W} L${z-G},${H-G}
                M${z-G},${H} L${z+q},${H}
                M${z},${H-G} L${z},${H+W}`;if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let D=M.path(R,B),L=X.insert(()=>D,":first-child");if(L.attr("transform",`translate(${G/2}, ${G/2})`),L.attr("class","basic label-container"),F&&J.look!=="handDrawn")L.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")L.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-(U.width/2)+G/2-(U.x-(U.left??0))}, ${-(U.height/2)+G/2-(U.y-(U.top??0))})`),p8(J,L),J.intersect=function(A){return v8.polygon(J,O,A)},X}async function zc(Z,J){let Q=J;if(Q.alias)J.label=Q.alias;if(J.look==="handDrawn"){let{themeVariables:p}=L9(),{background:r}=p,e={...J,id:J.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${r}`]};await zc(Z,e)}let K=L9();J.useHtmlLabels=K.htmlLabels;let X=K.er?.diagramPadding??10,U=K.er?.entityPadding??6,{cssStyles:Y}=J,{labelStyles:q,nodeStyles:W}=_8(J);if(Q.attributes.length===0&&J.label){let p={rx:0,ry:0,labelPaddingX:X,labelPaddingY:X*1.5,classes:""};if(KQ(J.label,K)+p.labelPaddingX*2<K.er.minEntityWidth)J.width=K.er.minEntityWidth;let r=await ej(Z,J,p);if(!UZ(K.htmlLabels)){let e=r.select("text"),i=e.node()?.getBBox();e.attr("transform",`translate(${-i.width/2}, 0)`)}return r}if(!K.htmlLabels)X*=1.25,U*=1.25;let G=Q9(J);if(!G)G="node default";let z=Z.insert("g").attr("class",G).attr("id",J.domId||J.id),H=await d2(z,J.label??"",K,0,0,["name"],q);H.height+=U;let F=0,M=[],B=[],O=0,R=0,D=0,L=0,A=!0,V=!0;for(let p of Q.attributes){let r=await d2(z,p.type,K,0,F,["attribute-type"],q);O=Math.max(O,r.width+X);let e=await d2(z,p.name,K,0,F,["attribute-name"],q);R=Math.max(R,e.width+X);let i=await d2(z,p.keys.join(),K,0,F,["attribute-keys"],q);D=Math.max(D,i.width+X);let U0=await d2(z,p.comment,K,0,F,["attribute-comment"],q);L=Math.max(L,U0.width+X);let a=Math.max(r.height,e.height,i.height,U0.height)+U;B.push({yOffset:F,rowHeight:a}),F+=a}let N=4;if(D<=X)A=!1,D=0,N--;if(L<=X)V=!1,L=0,N--;let E=z.node().getBBox();if(H.width+X*2-(O+R+D+L)>0){let p=H.width+X*2-(O+R+D+L);if(O+=p/N,R+=p/N,D>0)D+=p/N;if(L>0)L+=p/N}let j=O+R+D+L,C=e0.svg(z),$=g8(J,{});if(J.look!=="handDrawn")$.roughness=0,$.fillStyle="solid";let k=0;if(B.length>0)k=B.reduce((p,r)=>p+(r?.rowHeight??0),0);let w=Math.max(E.width+X*2,J?.width||0,j),P=Math.max((k??0)+H.height,J?.height||0),T=-w/2,S=-P/2;z.selectAll("g:not(:first-child)").each((p,r,e)=>{let i=i0(e[r]),U0=i.attr("transform"),a=0,z0=0;if(U0){let Q0=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(U0);if(Q0){if(a=parseFloat(Q0[1]),z0=parseFloat(Q0[2]),i.attr("class").includes("attribute-name"))a+=O;else if(i.attr("class").includes("attribute-keys"))a+=O+R;else if(i.attr("class").includes("attribute-comment"))a+=O+R+D}}i.attr("transform",`translate(${T+X/2+a}, ${z0+S+H.height+U/2})`)}),z.select(".name").attr("transform","translate("+-H.width/2+", "+(S+U/2)+")");let f=C.rectangle(T,S,w,P,$),v=z.insert(()=>f,":first-child").attr("style",Y.join("")),{themeVariables:x}=L9(),{rowEven:b,rowOdd:y,nodeBorder:u}=x;M.push(0);for(let[p,r]of B.entries()){let i=(p+1)%2===0&&r.yOffset!==0,U0=C.rectangle(T,H.height+S+r?.yOffset,w,r?.rowHeight,{...$,fill:i?b:y,stroke:u});z.insert(()=>U0,"g.label").attr("style",Y.join("")).attr("class",`row-rect-${i?"even":"odd"}`)}let h=C.line(T,H.height+S,w+T,H.height+S,$);if(z.insert(()=>h).attr("class","divider"),h=C.line(O+T,H.height+S,O+T,P+S,$),z.insert(()=>h).attr("class","divider"),A)h=C.line(O+R+T,H.height+S,O+R+T,P+S,$),z.insert(()=>h).attr("class","divider");if(V)h=C.line(O+R+D+T,H.height+S,O+R+D+T,P+S,$),z.insert(()=>h).attr("class","divider");for(let p of M)h=C.line(T,H.height+S+p,w+T,H.height+S+p,$),z.insert(()=>h).attr("class","divider");if(p8(J,v),W&&J.look!=="handDrawn"){let r=W.split(";")?.filter((e)=>{return e.includes("stroke")})?.map((e)=>`${e}`).join("; ");z.selectAll("path").attr("style",r??""),z.selectAll(".row-rect-even path").attr("style",W)}return J.intersect=function(p){return v8.rect(J,p)},z}async function d2(Z,J,Q,K=0,X=0,U=[],Y=""){let q=Z.insert("g").attr("class",`label ${U.join(" ")}`).attr("transform",`translate(${K}, ${X})`).attr("style",Y);if(J!==OX(J))J=OX(J),J=J.replaceAll("<","&lt;").replaceAll(">","&gt;");let W=q.node().appendChild(await UQ(q,J,{width:KQ(J,Q)+100,style:Y,useHtmlLabels:Q.htmlLabels},Q));if(J.includes("&lt;")||J.includes("&gt;")){let z=W.children[0];z.textContent=z.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");while(z.childNodes[0])z=z.childNodes[0],z.textContent=z.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let G=W.getBBox();if(UZ(Q.htmlLabels)){let z=W.children[0];z.style.textAlign="start";let H=i0(W);G=z.getBoundingClientRect(),H.attr("width",G.width),H.attr("height",G.height)}return G}async function TF0(Z,J,Q,K,X=Q.class.padding??12){let U=!K?3:0,Y=Z.insert("g").attr("class",Q9(J)).attr("id",J.domId||J.id),q=null,W=null,G=null,z=null,H=0,F=0,M=0;if(q=Y.insert("g").attr("class","annotation-group text"),J.annotations.length>0){let L=J.annotations[0];await hD(q,{text:`${L}`},0),H=q.node().getBBox().height}W=Y.insert("g").attr("class","label-group text"),await hD(W,J,0,["font-weight: bolder"]);let B=W.node().getBBox();F=B.height,G=Y.insert("g").attr("class","members-group text");let O=0;for(let L of J.members){let A=await hD(G,L,O,[L.parseClassifier()]);O+=A+U}if(M=G.node().getBBox().height,M<=0)M=X/2;z=Y.insert("g").attr("class","methods-group text");let R=0;for(let L of J.methods){let A=await hD(z,L,R,[L.parseClassifier()]);R+=A+U}let D=Y.node().getBBox();if(q!==null){let L=q.node().getBBox();q.attr("transform",`translate(${-L.width/2})`)}return W.attr("transform",`translate(${-B.width/2}, ${H})`),D=Y.node().getBBox(),G.attr("transform",`translate(0, ${H+F+X*2})`),D=Y.node().getBBox(),z.attr("transform",`translate(0, ${H+F+(M?M+X*4:X*2)})`),D=Y.node().getBBox(),{shapeSvg:Y,bbox:D}}async function hD(Z,J,Q,K=[]){let X=Z.insert("g").attr("class","label").attr("style",K.join("; ")),U=L9(),Y="useHtmlLabels"in J?J.useHtmlLabels:UZ(U.htmlLabels)??!0,q="";if("text"in J)q=J.text;else q=J.label;if(!Y&&q.startsWith("\\"))q=q.substring(1);if(JJ(q))Y=!0;let W=await UQ(X,wV(d6(q)),{width:KQ(q,U)+50,classes:"markdown-node-label",useHtmlLabels:Y},U),G,z=1;if(!Y){if(K.includes("font-weight: bolder"))i0(W).selectAll("tspan").attr("font-weight","");z=W.children.length;let H=W.children[0];if(W.textContent===""||W.textContent.includes("&gt")){if(H.textContent=q[0]+q.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),q[1]===" ")H.textContent=H.textContent[0]+" "+H.textContent.substring(1)}if(H.textContent==="undefined")H.textContent="";G=W.getBBox()}else{let H=W.children[0],F=i0(W);if(z=H.innerHTML.split("<br>").length,H.innerHTML.includes("</math>"))z+=H.innerHTML.split("<mrow>").length-1;let M=H.getElementsByTagName("img");if(M){let B=q.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...M].map((O)=>new Promise((R)=>{function D(){if(O.style.display="flex",O.style.flexDirection="column",B){let L=U.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,A=5,V=parseInt(L,10)*5+"px";O.style.minWidth=V,O.style.maxWidth=V}else O.style.width="100%";R(O)}I(D,"setupImage"),setTimeout(()=>{if(O.complete)D()}),O.addEventListener("error",D),O.addEventListener("load",D)})))}G=H.getBoundingClientRect(),F.attr("width",G.width),F.attr("height",G.height)}return X.attr("transform","translate(0,"+(-G.height/(2*z)+Q)+")"),G.height}async function wF0(Z,J){let Q=N0(),K=Q.class.padding??12,X=K,U=J.useHtmlLabels??UZ(Q.htmlLabels)??!0,Y=J;Y.annotations=Y.annotations??[],Y.members=Y.members??[],Y.methods=Y.methods??[];let{shapeSvg:q,bbox:W}=await TF0(Z,J,Q,U,X),{labelStyles:G,nodeStyles:z}=_8(J);J.labelStyle=G,J.cssStyles=Y.styles||"";let H=Y.styles?.join(";")||z||"";if(!J.cssStyles)J.cssStyles=H.replaceAll("!important","").split(";");let F=Y.members.length===0&&Y.methods.length===0&&!Q.class?.hideEmptyMembersBox,M=e0.svg(q),B=g8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let{width:O,height:R}=W;if(Y.members.length===0&&Y.methods.length===0)R+=X;else if(Y.members.length>0&&Y.methods.length===0)R+=X*2;let D=-O/2,L=-R/2,A=M.rectangle(D-K,L-K-(F?K:Y.members.length===0&&Y.methods.length===0?-K/2:0),O+2*K,R+2*K+(F?K*2:Y.members.length===0&&Y.methods.length===0?-K:0),B),V=q.insert(()=>A,":first-child");V.attr("class","basic label-container");let N=V.node().getBBox();q.selectAll(".text").each(($,k,w)=>{let P=i0(w[k]),T=P.attr("transform"),S=0;if(T){let b=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(T);if(b)S=parseFloat(b[2])}let f=S+L+K-(F?K:Y.members.length===0&&Y.methods.length===0?-K/2:0);if(!U)f-=4;let v=D;if(P.attr("class").includes("label-group")||P.attr("class").includes("annotation-group"))v=-P.node()?.getBBox().width/2||0,q.selectAll("text").each(function(x,b,y){if(window.getComputedStyle(y[b]).textAnchor==="middle")v=0});P.attr("transform",`translate(${v}, ${f})`)});let E=q.select(".annotation-group").node().getBBox().height-(F?K/2:0)||0,j=q.select(".label-group").node().getBBox().height-(F?K/2:0)||0,C=q.select(".members-group").node().getBBox().height-(F?K/2:0)||0;if(Y.members.length>0||Y.methods.length>0||F){let $=M.line(N.x,E+j+L+K,N.x+N.width,E+j+L+K,B);q.insert(()=>$).attr("class","divider").attr("style",H)}if(F||Y.members.length>0||Y.methods.length>0){let $=M.line(N.x,E+j+C+L+X*2+K,N.x+N.width,E+j+C+L+K+X*2,B);q.insert(()=>$).attr("class","divider").attr("style",H)}if(Y.look!=="handDrawn")q.selectAll("path").attr("style",H);if(V.select(":nth-child(2)").attr("style",H),q.selectAll(".divider").select("path").attr("style",H),J.labelStyle)q.selectAll("span").attr("style",J.labelStyle);else q.selectAll("span").attr("style",H);if(!U){let $=RegExp(/color\s*:\s*([^;]*)/),k=$.exec(H);if(k){let w=k[0].replace("color","fill");q.selectAll("tspan").attr("style",w)}else if(G){let w=$.exec(G);if(w){let P=w[0].replace("color","fill");q.selectAll("tspan").attr("style",P)}}}return p8(J,V),J.intersect=function($){return v8.rect(J,$)},q}async function $F0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let X=J,U=J,Y=20,q=20,W="verifyMethod"in J,G=Q9(J),z=Z.insert("g").attr("class",G).attr("id",J.domId??J.id),H;if(W)H=await vX(z,`&lt;&lt;${X.type}&gt;&gt;`,0,J.labelStyle);else H=await vX(z,"&lt;&lt;Element&gt;&gt;",0,J.labelStyle);let F=H,M=await vX(z,X.name,F,J.labelStyle+"; font-weight: bold;");if(F+=M+q,W){let E=await vX(z,`${X.requirementId?`ID: ${X.requirementId}`:""}`,F,J.labelStyle);F+=E;let j=await vX(z,`${X.text?`Text: ${X.text}`:""}`,F,J.labelStyle);F+=j;let C=await vX(z,`${X.risk?`Risk: ${X.risk}`:""}`,F,J.labelStyle);F+=C,await vX(z,`${X.verifyMethod?`Verification: ${X.verifyMethod}`:""}`,F,J.labelStyle)}else{let E=await vX(z,`${U.type?`Type: ${U.type}`:""}`,F,J.labelStyle);F+=E,await vX(z,`${U.docRef?`Doc Ref: ${U.docRef}`:""}`,F,J.labelStyle)}let B=(z.node()?.getBBox().width??200)+Y,O=(z.node()?.getBBox().height??200)+Y,R=-B/2,D=-O/2,L=e0.svg(z),A=g8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=L.rectangle(R,D,B,O,A),N=z.insert(()=>V,":first-child");if(N.attr("class","basic label-container").attr("style",K),z.selectAll(".label").each((E,j,C)=>{let $=i0(C[j]),k=$.attr("transform"),w=0,P=0;if(k){let v=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(k);if(v)w=parseFloat(v[1]),P=parseFloat(v[2])}let T=P-O/2,S=R+Y/2;if(j===0||j===1)S=w;$.attr("transform",`translate(${S}, ${T+Y})`)}),F>H+M+q){let E=L.line(R,D+H+M+q,R+B,D+H+M+q,A);z.insert(()=>E).attr("style",K)}return p8(J,N),J.intersect=function(E){return v8.rect(J,E)},z}async function vX(Z,J,Q,K=""){if(J==="")return 0;let X=Z.insert("g").attr("class","label").attr("style",K),U=N0(),Y=U.htmlLabels??!0,q=await UQ(X,wV(d6(J)),{width:KQ(J,U)+50,classes:"markdown-node-label",useHtmlLabels:Y,style:K},U),W;if(!Y){let G=q.children[0];for(let z of G.children)if(z.textContent=z.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),K)z.setAttribute("style",K);W=q.getBBox(),W.height+=6}else{let G=q.children[0],z=i0(q);W=G.getBoundingClientRect(),z.attr("width",W.width),z.attr("height",W.height)}return X.attr("transform",`translate(${-W.width/2},${-W.height/2+Q})`),W.height}async function kF0(Z,J,{config:Q}){let{labelStyles:K,nodeStyles:X}=_8(J);J.labelStyle=K||"";let U=10,Y=J.width;J.width=(J.width??200)-10;let{shapeSvg:q,bbox:W,label:G}=await U9(Z,J,Q9(J)),z=J.padding||10,H="",F;if("ticket"in J&&J.ticket&&Q?.kanban?.ticketBaseUrl)H=Q?.kanban?.ticketBaseUrl.replace("#TICKET#",J.ticket),F=q.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",H).attr("target","_blank");let M={useHtmlLabels:J.useHtmlLabels,labelStyle:J.labelStyle||"",width:J.width,img:J.img,padding:J.padding||8,centerLabel:!1},B,O;if(F)({label:B,bbox:O}=await Yc(F,"ticket"in J&&J.ticket||"",M));else({label:B,bbox:O}=await Yc(q,"ticket"in J&&J.ticket||"",M));let{label:R,bbox:D}=await Yc(q,"assigned"in J&&J.assigned||"",M);J.width=Y;let L=10,A=J?.width||0,V=Math.max(O.height,D.height)/2,N=Math.max(W.height+L*2,J?.height||0)+V,E=-A/2,j=-N/2;G.attr("transform","translate("+(z-A/2)+", "+(-V-W.height/2)+")"),B.attr("transform","translate("+(z-A/2)+", "+(-V+W.height/2)+")"),R.attr("transform","translate("+(z+A/2-D.width-2*U)+", "+(-V+W.height/2)+")");let C,{rx:$,ry:k}=J,{cssStyles:w}=J;if(J.look==="handDrawn"){let P=e0.svg(q),T=g8(J,{}),S=$||k?P.path(Kq(E,j,A,N,$||0),T):P.rectangle(E,j,A,N,T);C=q.insert(()=>S,":first-child"),C.attr("class","basic label-container").attr("style",w?w:null)}else{C=q.insert("rect",":first-child"),C.attr("class","basic label-container __APA__").attr("style",X).attr("rx",$??5).attr("ry",k??5).attr("x",E).attr("y",j).attr("width",A).attr("height",N);let P="priority"in J&&J.priority;if(P){let T=q.append("line"),S=E+2,f=j+Math.floor(($??0)/2),v=j+N-Math.floor(($??0)/2);T.attr("x1",S).attr("y1",f).attr("x2",S).attr("y2",v).attr("stroke-width","4").attr("stroke",UU8(P))}}return p8(J,C),J.height=N,J.intersect=function(P){return v8.rect(J,P)},q}async function _F0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,halfPadding:Y,label:q}=await U9(Z,J,Q9(J)),W=U.width+10*Y,G=U.height+8*Y,z=0.15*W,{cssStyles:H}=J,F=U.width+20,M=U.height+20,B=Math.max(W,F),O=Math.max(G,M);q.attr("transform",`translate(${-U.width/2}, ${-U.height/2})`);let R,D=`M0 0 
    a${z},${z} 1 0,0 ${B*0.25},${-1*O*0.1}
    a${z},${z} 1 0,0 ${B*0.25},0
    a${z},${z} 1 0,0 ${B*0.25},0
    a${z},${z} 1 0,0 ${B*0.25},${O*0.1}

    a${z},${z} 1 0,0 ${B*0.15},${O*0.33}
    a${z*0.8},${z*0.8} 1 0,0 0,${O*0.34}
    a${z},${z} 1 0,0 ${-1*B*0.15},${O*0.33}

    a${z},${z} 1 0,0 ${-1*B*0.25},${O*0.15}
    a${z},${z} 1 0,0 ${-1*B*0.25},0
    a${z},${z} 1 0,0 ${-1*B*0.25},0
    a${z},${z} 1 0,0 ${-1*B*0.25},${-1*O*0.15}

    a${z},${z} 1 0,0 ${-1*B*0.1},${-1*O*0.33}
    a${z*0.8},${z*0.8} 1 0,0 0,${-1*O*0.34}
    a${z},${z} 1 0,0 ${B*0.1},${-1*O*0.33}
  H0 V0 Z`;if(J.look==="handDrawn"){let L=e0.svg(X),A=g8(J,{}),V=L.path(D,A);R=X.insert(()=>V,":first-child"),R.attr("class","basic label-container").attr("style",XQ(H))}else R=X.insert("path",":first-child").attr("class","basic label-container").attr("style",K).attr("d",D);return R.attr("transform",`translate(${-B/2}, ${-O/2})`),p8(J,R),J.calcIntersect=function(L,A){return v8.rect(L,A)},J.intersect=function(L){return Z0.info("Bang intersect",J,L),v8.rect(J,L)},X}async function fF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,halfPadding:Y,label:q}=await U9(Z,J,Q9(J)),W=U.width+2*Y,G=U.height+2*Y,z=0.15*W,H=0.25*W,F=0.35*W,M=0.2*W,{cssStyles:B}=J,O,R=`M0 0 
    a${z},${z} 0 0,1 ${W*0.25},${-1*W*0.1}
    a${F},${F} 1 0,1 ${W*0.4},${-1*W*0.1}
    a${H},${H} 1 0,1 ${W*0.35},${W*0.2}

    a${z},${z} 1 0,1 ${W*0.15},${G*0.35}
    a${M},${M} 1 0,1 ${-1*W*0.15},${G*0.65}

    a${H},${z} 1 0,1 ${-1*W*0.25},${W*0.15}
    a${F},${F} 1 0,1 ${-1*W*0.5},0
    a${z},${z} 1 0,1 ${-1*W*0.25},${-1*W*0.15}

    a${z},${z} 1 0,1 ${-1*W*0.1},${-1*G*0.35}
    a${M},${M} 1 0,1 ${W*0.1},${-1*G*0.65}
  H0 V0 Z`;if(J.look==="handDrawn"){let D=e0.svg(X),L=g8(J,{}),A=D.path(R,L);O=X.insert(()=>A,":first-child"),O.attr("class","basic label-container").attr("style",XQ(B))}else O=X.insert("path",":first-child").attr("class","basic label-container").attr("style",K).attr("d",R);return q.attr("transform",`translate(${-U.width/2}, ${-U.height/2})`),O.attr("transform",`translate(${-W/2}, ${-G/2})`),p8(J,O),J.calcIntersect=function(D,L){return v8.rect(D,L)},J.intersect=function(D){return Z0.info("Cloud intersect",J,D),v8.rect(J,D)},X}async function vF0(Z,J){let{labelStyles:Q,nodeStyles:K}=_8(J);J.labelStyle=Q;let{shapeSvg:X,bbox:U,halfPadding:Y,label:q}=await U9(Z,J,Q9(J)),W=U.width+8*Y,G=U.height+2*Y,z=5,H=`
    M${-W/2} ${G/2-z}
    v${-G+2*z}
    q0,-${z} ${z},-${z}
    h${W-2*z}
    q${z},0 ${z},${z}
    v${G-2*z}
    q0,${z} -${z},${z}
    h${-W+2*z}
    q-${z},0 -${z},-${z}
    Z
  `,F=X.append("path").attr("id","node-"+J.id).attr("class","node-bkg node-"+J.type).attr("style",K).attr("d",H);return X.append("line").attr("class","node-line-").attr("x1",-W/2).attr("y1",G/2).attr("x2",W/2).attr("y2",G/2),q.attr("transform",`translate(${-U.width/2}, ${-U.height/2})`),X.append(()=>q.node()),p8(J,F),J.calcIntersect=function(M,B){return v8.rect(M,B)},J.intersect=function(M){return v8.rect(J,M)},X}async function xF0(Z,J){let Q={padding:J.padding??0};return Gc(Z,J,Q)}function Hc(Z){return Z in bF0}async function nG(Z,J,Q){let K,X;if(J.shape==="rect")if(J.rx&&J.ry)J.shape="roundedRect";else J.shape="squareRect";let U=J.shape?bF0[J.shape]:void 0;if(!U)throw Error(`No such shape: ${J.shape}. Please check your syntax.`);if(J.link){let Y;if(Q.config.securityLevel==="sandbox")Y="_top";else if(J.linkTarget)Y=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",Y??null),X=await U(K,J,Q)}else X=await U(Z,J,Q),K=X;if(J.tooltip)X.attr("title",J.tooltip);if(ZC.set(J.id,K),J.haveCallback)K.attr("class",K.attr("class")+" clickable");return K}var U9,Yc,p8,Q9,yX8,i2,hX8,Qq,Kq,D20,mX8,uX8,gX8,pX8,cX8,lX8,L20,s2,I20,dX8,E20,iX8,sX8,rX8,v8,nX8,aX8,oX8,tX8,eX8,ZU8,JU8,QU8,KU8,XU8,UU8,YU8,qU8,bF0,ZC,yF0,hF0,uD;var s6=_(()=>{Q6();K6();YQ();jZ();T9();M9();A9();A9();d8();A9();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();A9();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();d8();A9();A9();d8();A9();d8();A9();d8();d8();d8();U9=I(async(Z,J,Q)=>{let K,X=J.useHtmlLabels||UZ(N0()?.htmlLabels);if(!Q)K="node default";else K=Q;let U=Z.insert("g").attr("class",K).attr("id",J.domId||J.id),Y=U.insert("g").attr("class","label").attr("style",XQ(J.labelStyle)),q;if(J.label===void 0)q="";else q=typeof J.label==="string"?J.label:J.label[0];let W=await UQ(Y,R9(d6(q),N0()),{useHtmlLabels:X,width:J.width||N0().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:J.labelStyle,addSvgBackground:!!J.icon||!!J.img}),G=W.getBBox(),z=(J?.padding??0)/2;if(X){let H=W.children[0],F=i0(W),M=H.getElementsByTagName("img");if(M){let B=q.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...M].map((O)=>new Promise((R)=>{function D(){if(O.style.display="flex",O.style.flexDirection="column",B){let L=N0().fontSize?N0().fontSize:window.getComputedStyle(document.body).fontSize,A=5,[V=D9.fontSize]=$X(L),N=V*5+"px";O.style.minWidth=N,O.style.maxWidth=N}else O.style.width="100%";R(O)}I(D,"setupImage"),setTimeout(()=>{if(O.complete)D()}),O.addEventListener("error",D),O.addEventListener("load",D)})))}G=H.getBoundingClientRect(),F.attr("width",G.width),F.attr("height",G.height)}if(X)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");else Y.attr("transform","translate(0, "+-G.height/2+")");if(J.centerLabel)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");return Y.insert("rect",":first-child"),{shapeSvg:U,bbox:G,halfPadding:z,label:Y}},"labelHelper"),Yc=I(async(Z,J,Q)=>{let K=Q.useHtmlLabels||UZ(N0()?.flowchart?.htmlLabels),X=Z.insert("g").attr("class","label").attr("style",Q.labelStyle||""),U=await UQ(X,R9(d6(J),N0()),{useHtmlLabels:K,width:Q.width||N0()?.flowchart?.wrappingWidth,style:Q.labelStyle,addSvgBackground:!!Q.icon||!!Q.img}),Y=U.getBBox(),q=Q.padding/2;if(UZ(N0()?.flowchart?.htmlLabels)){let W=U.children[0],G=i0(U);Y=W.getBoundingClientRect(),G.attr("width",Y.width),G.attr("height",Y.height)}if(K)X.attr("transform","translate("+-Y.width/2+", "+-Y.height/2+")");else X.attr("transform","translate(0, "+-Y.height/2+")");if(Q.centerLabel)X.attr("transform","translate("+-Y.width/2+", "+-Y.height/2+")");return X.insert("rect",":first-child"),{shapeSvg:Z,bbox:Y,halfPadding:q,label:X}},"insertLabel"),p8=I((Z,J)=>{let Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds"),Q9=I((Z,J)=>(Z.look==="handDrawn"?"rough-node":"node")+" "+Z.cssClasses+" "+(J||""),"getNodeClasses");I(g9,"createPathFromPoints");I(Jq,"generateFullSineWavePoints");I(mD,"generateCirclePoints");yX8=I((Z,J)=>{var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2,W,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;W=U===0?0:q*X/U,G=q}else{if(X<0)Y=-Y;W=Y,G=X===0?0:Y*U/X}return{x:Q+W,y:K+G}},"intersectRect"),i2=yX8;I(O20,"applyStyle");I(R20,"addHtmlLabel");hX8=I(async(Z,J,Q,K)=>{let X=Z||"";if(typeof X==="object")X=X[0];if(UZ(N0().flowchart.htmlLabels)){X=X.replace(/\\n|\n/g,"<br />"),Z0.info("vertexText"+X);let U={isNode:K,label:d6(X).replace(/fa[blrs]?:fa-[\w-]+/g,(q)=>`<i class='${q.replace(":"," ")}'></i>`),labelStyle:J?J.replace("fill:","color:"):J};return await R20(U)}else{let U=document.createElementNS("http://www.w3.org/2000/svg","text");U.setAttribute("style",J.replace("color:","fill:"));let Y=[];if(typeof X==="string")Y=X.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(X))Y=X;else Y=[];for(let q of Y){let W=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(W.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),W.setAttribute("dy","1em"),W.setAttribute("x","0"),Q)W.setAttribute("class","title-row");else W.setAttribute("class","row");W.textContent=q.trim(),U.appendChild(W)}return U}},"createLabel"),Qq=hX8,Kq=I((Z,J,Q,K,X)=>["M",Z+X,J,"H",Z+Q-X,"A",X,X,0,0,1,Z+Q,J+X,"V",J+K-X,"A",X,X,0,0,1,Z+Q-X,J+K,"H",Z+X,"A",X,X,0,0,1,Z,J+K-X,"V",J+X,"A",X,X,0,0,1,Z+X,J,"Z"].join(" "),"createRoundedRectPathD"),D20=I(async(Z,J)=>{Z0.info("Creating subgraph rect for ",J.id,J);let Q=N0(),{themeVariables:K,handDrawnSeed:X}=Q,{clusterBkg:U,clusterBorder:Y}=K,{labelStyles:q,nodeStyles:W,borderStyles:G,backgroundStyles:z}=_8(J),H=Z.insert("g").attr("class","cluster "+J.cssClasses).attr("id",J.id).attr("data-look",J.look),F=UZ(Q.flowchart.htmlLabels),M=H.insert("g").attr("class","cluster-label "),B=await UQ(M,J.label,{style:J.labelStyle,useHtmlLabels:F,isNode:!0}),O=B.getBBox();if(UZ(Q.flowchart.htmlLabels)){let j=B.children[0],C=i0(B);O=j.getBoundingClientRect(),C.attr("width",O.width),C.attr("height",O.height)}let R=J.width<=O.width+J.padding?O.width+J.padding:J.width;if(J.width<=O.width+J.padding)J.diff=(R-J.width)/2-J.padding;else J.diff=-J.padding;let D=J.height,L=J.x-R/2,A=J.y-D/2;Z0.trace("Data ",J,JSON.stringify(J));let V;if(J.look==="handDrawn"){let j=e0.svg(H),C=g8(J,{roughness:0.7,fill:U,stroke:Y,fillWeight:3,seed:X}),$=j.path(Kq(L,A,R,D,0),C);V=H.insert(()=>{return Z0.debug("Rough node insert CXC",$),$},":first-child"),V.select("path:nth-child(2)").attr("style",G.join(";")),V.select("path").attr("style",z.join(";").replace("fill","stroke"))}else V=H.insert("rect",":first-child"),V.attr("style",W).attr("rx",J.rx).attr("ry",J.ry).attr("x",L).attr("y",A).attr("width",R).attr("height",D);let{subGraphTitleTopMargin:N}=zY(Q);if(M.attr("transform",`translate(${J.x-O.width/2}, ${J.y-J.height/2+N})`),q){let j=M.select("span");if(j)j.attr("style",q)}let E=V.node().getBBox();return J.offsetX=0,J.width=E.width,J.height=E.height,J.offsetY=O.height-J.padding/2,J.intersect=function(j){return i2(J,j)},{cluster:H,labelBBox:O}},"rect"),mX8=I((Z,J)=>{let Q=Z.insert("g").attr("class","note-cluster").attr("id",J.id),K=Q.insert("rect",":first-child"),X=0*J.padding,U=X/2;K.attr("rx",J.rx).attr("ry",J.ry).attr("x",J.x-J.width/2-U).attr("y",J.y-J.height/2-U).attr("width",J.width+X).attr("height",J.height+X).attr("fill","none");let Y=K.node().getBBox();return J.width=Y.width,J.height=Y.height,J.intersect=function(q){return i2(J,q)},{cluster:Q,labelBBox:{width:0,height:0}}},"noteGroup"),uX8=I(async(Z,J)=>{let Q=N0(),{themeVariables:K,handDrawnSeed:X}=Q,{altBackground:U,compositeBackground:Y,compositeTitleBackground:q,nodeBorder:W}=K,G=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-id",J.id).attr("data-look",J.look),z=G.insert("g",":first-child"),H=G.insert("g").attr("class","cluster-label"),F=G.append("rect"),M=H.node().appendChild(await Qq(J.label,J.labelStyle,void 0,!0)),B=M.getBBox();if(UZ(Q.flowchart.htmlLabels)){let $=M.children[0],k=i0(M);B=$.getBoundingClientRect(),k.attr("width",B.width),k.attr("height",B.height)}let O=0*J.padding,R=O/2,D=(J.width<=B.width+J.padding?B.width+J.padding:J.width)+O;if(J.width<=B.width+J.padding)J.diff=(D-J.width)/2-J.padding;else J.diff=-J.padding;let L=J.height+O,A=J.height+O-B.height-6,V=J.x-D/2,N=J.y-L/2;J.width=D;let E=J.y-J.height/2-R+B.height+2,j;if(J.look==="handDrawn"){let $=J.cssClasses.includes("statediagram-cluster-alt"),k=e0.svg(G),w=J.rx||J.ry?k.path(Kq(V,N,D,L,10),{roughness:0.7,fill:q,fillStyle:"solid",stroke:W,seed:X}):k.rectangle(V,N,D,L,{seed:X});j=G.insert(()=>w,":first-child");let P=k.rectangle(V,E,D,A,{fill:$?U:Y,fillStyle:$?"hachure":"solid",stroke:W,seed:X});j=G.insert(()=>w,":first-child"),F=G.insert(()=>P)}else{j=z.insert("rect",":first-child");let $="outer";j.attr("class",$).attr("x",V).attr("y",N).attr("width",D).attr("height",L).attr("data-look",J.look),F.attr("class","inner").attr("x",V).attr("y",E).attr("width",D).attr("height",A)}H.attr("transform",`translate(${J.x-B.width/2}, ${N+1-(UZ(Q.flowchart.htmlLabels)?0:3)})`);let C=j.node().getBBox();return J.height=C.height,J.offsetX=0,J.offsetY=B.height-J.padding/2,J.labelBBox=B,J.intersect=function($){return i2(J,$)},{cluster:G,labelBBox:B}},"roundedWithTitle"),gX8=I(async(Z,J)=>{Z0.info("Creating subgraph rect for ",J.id,J);let Q=N0(),{themeVariables:K,handDrawnSeed:X}=Q,{clusterBkg:U,clusterBorder:Y}=K,{labelStyles:q,nodeStyles:W,borderStyles:G,backgroundStyles:z}=_8(J),H=Z.insert("g").attr("class","cluster "+J.cssClasses).attr("id",J.id).attr("data-look",J.look),F=UZ(Q.flowchart.htmlLabels),M=H.insert("g").attr("class","cluster-label "),B=await UQ(M,J.label,{style:J.labelStyle,useHtmlLabels:F,isNode:!0,width:J.width}),O=B.getBBox();if(UZ(Q.flowchart.htmlLabels)){let j=B.children[0],C=i0(B);O=j.getBoundingClientRect(),C.attr("width",O.width),C.attr("height",O.height)}let R=J.width<=O.width+J.padding?O.width+J.padding:J.width;if(J.width<=O.width+J.padding)J.diff=(R-J.width)/2-J.padding;else J.diff=-J.padding;let D=J.height,L=J.x-R/2,A=J.y-D/2;Z0.trace("Data ",J,JSON.stringify(J));let V;if(J.look==="handDrawn"){let j=e0.svg(H),C=g8(J,{roughness:0.7,fill:U,stroke:Y,fillWeight:4,seed:X}),$=j.path(Kq(L,A,R,D,J.rx),C);V=H.insert(()=>{return Z0.debug("Rough node insert CXC",$),$},":first-child"),V.select("path:nth-child(2)").attr("style",G.join(";")),V.select("path").attr("style",z.join(";").replace("fill","stroke"))}else V=H.insert("rect",":first-child"),V.attr("style",W).attr("rx",J.rx).attr("ry",J.ry).attr("x",L).attr("y",A).attr("width",R).attr("height",D);let{subGraphTitleTopMargin:N}=zY(Q);if(M.attr("transform",`translate(${J.x-O.width/2}, ${J.y-J.height/2+N})`),q){let j=M.select("span");if(j)j.attr("style",q)}let E=V.node().getBBox();return J.offsetX=0,J.width=E.width,J.height=E.height,J.offsetY=O.height-J.padding/2,J.intersect=function(j){return i2(J,j)},{cluster:H,labelBBox:O}},"kanbanSection"),pX8=I((Z,J)=>{let Q=N0(),{themeVariables:K,handDrawnSeed:X}=Q,{nodeBorder:U}=K,Y=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-look",J.look),q=Y.insert("g",":first-child"),W=0*J.padding,G=J.width+W;J.diff=-J.padding;let z=J.height+W,H=J.x-G/2,F=J.y-z/2;J.width=G;let M;if(J.look==="handDrawn"){let R=e0.svg(Y).rectangle(H,F,G,z,{fill:"lightgrey",roughness:0.5,strokeLineDash:[5],stroke:U,seed:X});M=Y.insert(()=>R,":first-child")}else{M=q.insert("rect",":first-child");let O="divider";M.attr("class",O).attr("x",H).attr("y",F).attr("width",G).attr("height",z).attr("data-look",J.look)}let B=M.node().getBBox();return J.height=B.height,J.offsetX=0,J.offsetY=0,J.intersect=function(O){return i2(J,O)},{cluster:Y,labelBBox:{}}},"divider"),cX8=D20,lX8={rect:D20,squareRect:cX8,roundedWithTitle:uX8,noteGroup:mX8,divider:pX8,kanbanSection:gX8},L20=new Map,s2=I(async(Z,J)=>{let Q=J.shape||"rect",K=await lX8[Q](Z,J);return L20.set(J.id,K),K},"insertCluster"),I20=I(()=>{L20=new Map},"clear");I(A20,"intersectNode");dX8=A20;I(N20,"intersectEllipse");E20=N20;I(V20,"intersectCircle");iX8=V20;I(P20,"intersectLine");I(qc,"sameSign");sX8=P20;I(j20,"intersectPolygon");rX8=j20,v8={node:dX8,circle:iX8,ellipse:E20,polygon:rX8,rect:i2};I(C20,"anchor");I(Wc,"generateArcPoints");I(S20,"bowTieRect");I(Xq,"insertPolygonShape");I(T20,"card");I(w20,"choice");I(Gc,"circle");I($20,"createLine");I(k20,"crossedCircle");I(BY,"generateCirclePoints");I(_20,"curlyBraceLeft");I(OY,"generateCirclePoints");I(f20,"curlyBraceRight");I(qQ,"generateCirclePoints");I(v20,"curlyBraces");I(x20,"curvedTrapezoid");nX8=I((Z,J,Q,K,X,U)=>{return[`M${Z},${J+U}`,`a${X},${U} 0,0,0 ${Q},0`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createCylinderPathD"),aX8=I((Z,J,Q,K,X,U)=>{return[`M${Z},${J+U}`,`M${Z+Q},${J+U}`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createOuterCylinderPathD"),oX8=I((Z,J,Q,K,X,U)=>{return[`M${Z-Q/2},${-K/2}`,`a${X},${U} 0,0,0 ${Q},0`].join(" ")},"createInnerCylinderPathD");I(b20,"cylinder");I(y20,"dividedRectangle");I(h20,"doublecircle");I(m20,"filledCircle");I(u20,"flippedTriangle");I(g20,"forkJoin");I(p20,"halfRoundedRectangle");I(c20,"hexagon");I(l20,"hourglass");I(d20,"icon");I(i20,"iconCircle");I(s20,"iconRounded");I(r20,"iconSquare");I(n20,"imageSquare");I(a20,"inv_trapezoid");I(ej,"drawRect");I(o20,"labelRect");I(t20,"lean_left");I(e20,"lean_right");I(ZF0,"lightningBolt");tX8=I((Z,J,Q,K,X,U,Y)=>{return[`M${Z},${J+U}`,`a${X},${U} 0,0,0 ${Q},0`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`,`M${Z},${J+U+Y}`,`a${X},${U} 0,0,0 ${Q},0`].join(" ")},"createCylinderPathD"),eX8=I((Z,J,Q,K,X,U,Y)=>{return[`M${Z},${J+U}`,`M${Z+Q},${J+U}`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`,`M${Z},${J+U+Y}`,`a${X},${U} 0,0,0 ${Q},0`].join(" ")},"createOuterCylinderPathD"),ZU8=I((Z,J,Q,K,X,U)=>{return[`M${Z-Q/2},${-K/2}`,`a${X},${U} 0,0,0 ${Q},0`].join(" ")},"createInnerCylinderPathD");I(JF0,"linedCylinder");I(QF0,"linedWaveEdgedRect");I(KF0,"multiRect");I(XF0,"multiWaveEdgedRectangle");I(UF0,"note");JU8=I((Z,J,Q)=>{return[`M${Z+Q/2},${J}`,`L${Z+Q},${J-Q/2}`,`L${Z+Q/2},${J-Q}`,`L${Z},${J-Q/2}`,"Z"].join(" ")},"createDecisionBoxPathD");I(YF0,"question");I(qF0,"rect_left_inv_arrow");I(WF0,"rectWithTitle");I(yD,"generateArcPoints");I(GF0,"roundedRect");I(zF0,"shadedProcess");I(HF0,"slopedRect");I(FF0,"squareRect");I(MF0,"stadium");I(BF0,"state");I(OF0,"stateEnd");I(RF0,"stateStart");I(DF0,"subroutine");I(LF0,"taggedRect");I(IF0,"taggedWaveEdgedRectangle");I(AF0,"text");QU8=I((Z,J,Q,K,X,U)=>{return`M${Z},${J}
    a${X},${U} 0,0,1 0,${-K}
    l${Q},0
    a${X},${U} 0,0,1 0,${K}
    M${Q},${-K}
    a${X},${U} 0,0,0 0,${K}
    l${-Q},0`},"createCylinderPathD"),KU8=I((Z,J,Q,K,X,U)=>{return[`M${Z},${J}`,`M${Z+Q},${J}`,`a${X},${U} 0,0,0 0,${-K}`,`l${-Q},0`,`a${X},${U} 0,0,0 0,${K}`,`l${Q},0`].join(" ")},"createOuterCylinderPathD"),XU8=I((Z,J,Q,K,X,U)=>{return[`M${Z+Q/2},${-K/2}`,`a${X},${U} 0,0,0 0,${K}`].join(" ")},"createInnerCylinderPathD");I(NF0,"tiltedCylinder");I(EF0,"trapezoid");I(VF0,"trapezoidalPentagon");I(PF0,"triangle");I(jF0,"waveEdgedRectangle");I(CF0,"waveRectangle");I(SF0,"windowPane");I(zc,"erBox");I(d2,"addText");I(TF0,"textHelper");I(hD,"addText");I(wF0,"classBox");I($F0,"requirementBox");I(vX,"addText");UU8=I((Z)=>{switch(Z){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");I(kF0,"kanbanItem");I(_F0,"bang");I(fF0,"cloud");I(vF0,"defaultMindmapNode");I(xF0,"mindmapCircle");YU8=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:FF0},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:GF0},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:MF0},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:DF0},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:b20},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Gc},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:_F0},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:fF0},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:YF0},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:c20},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:e20},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:t20},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:EF0},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:a20},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:h20},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:AF0},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:T20},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:zF0},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:RF0},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:OF0},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:g20},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:l20},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:_20},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:f20},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:v20},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:ZF0},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:jF0},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:p20},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:NF0},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:JF0},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:x20},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:y20},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:PF0},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:SF0},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:m20},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:VF0},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:u20},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:HF0},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:XF0},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:KF0},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:S20},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:k20},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:IF0},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:LF0},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:CF0},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:qF0},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:QF0}],qU8=I(()=>{let J=[...Object.entries({state:BF0,choice:w20,note:UF0,rectWithTitle:WF0,labelRect:o20,iconSquare:r20,iconCircle:i20,icon:d20,iconRounded:s20,imageSquare:n20,anchor:C20,kanbanItem:kF0,mindmapCircle:xF0,defaultMindmapNode:vF0,classBox:wF0,erBox:zc,requirementBox:$F0}),...YU8.flatMap((Q)=>{return[Q.shortName,..."aliases"in Q?Q.aliases:[],..."internalAliases"in Q?Q.internalAliases:[]].map((X)=>[X,Q.handler])})];return Object.fromEntries(J)},"generateShapeMap"),bF0=qU8();I(Hc,"isValidShape");ZC=new Map;I(nG,"insertNode");yF0=I((Z,J)=>{ZC.set(J.id,Z)},"setNodeElem"),hF0=I(()=>{ZC.clear()},"clear"),uD=I((Z)=>{let J=ZC.get(Z.id);Z0.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");let Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode")});function gD(Z,J){if(N0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}function cF0(Z){let J=[],Q=[];for(let K=1;K<Z.length-1;K++){let X=Z[K-1],U=Z[K],Y=Z[K+1];if(X.x===U.x&&U.y===Y.y&&Math.abs(U.x-Y.x)>5&&Math.abs(U.y-X.y)>5)J.push(U),Q.push(K);else if(X.y===U.y&&U.x===Y.x&&Math.abs(U.x-X.x)>5&&Math.abs(U.y-Y.y)>5)J.push(U),Q.push(K)}return{cornerPoints:J,cornerPointPositions:Q}}function lF0(Z,J){if(Z.length<2)return"";let Q="",K=Z.length,X=0.00001;for(let U=0;U<K;U++){let Y=Z[U],q=Z[U-1],W=Z[U+1];if(U===0)Q+=`M${Y.x},${Y.y}`;else if(U===K-1)Q+=`L${Y.x},${Y.y}`;else{let G=Y.x-q.x,z=Y.y-q.y,H=W.x-Y.x,F=W.y-Y.y,M=Math.hypot(G,z),B=Math.hypot(H,F);if(M<X||B<X){Q+=`L${Y.x},${Y.y}`;continue}let O=G/M,R=z/M,D=H/B,L=F/B,A=O*D+R*L,V=Math.max(-1,Math.min(1,A)),N=Math.acos(V);if(N<X||Math.abs(Math.PI-N)<X){Q+=`L${Y.x},${Y.y}`;continue}let E=Math.min(J/Math.sin(N/2),M/2,B/2),j=Y.x-O*E,C=Y.y-R*E,$=Y.x+D*E,k=Y.y+L*E;Q+=`L${j},${C}`,Q+=`Q${Y.x},${Y.y} ${$},${k}`}}return Q}function Fc(Z,J){if(!Z||!J)return{angle:0,deltaX:0,deltaY:0};let Q=J.x-Z.x,K=J.y-Z.y;return{angle:Math.atan2(K,Q),deltaX:Q,deltaY:K}}function dF0(Z,J){let Q=Z.map((X)=>({...X}));if(Z.length>=2&&QQ[J.arrowTypeStart]){let X=QQ[J.arrowTypeStart],U=Z[0],Y=Z[1],{angle:q}=Fc(U,Y),W=X*Math.cos(q),G=X*Math.sin(q);Q[0].x=U.x+W,Q[0].y=U.y+G}let K=Z.length;if(K>=2&&QQ[J.arrowTypeEnd]){let X=QQ[J.arrowTypeEnd],U=Z[K-1],Y=Z[K-2],{angle:q}=Fc(Y,U),W=X*Math.cos(q),G=X*Math.sin(q);Q[K-1].x=U.x-W,Q[K-1].y=U.y-G}return Q}var WU8,GU8,mF0,QC,WQ,pF0,JC,KC,XC,zU8,HU8,uF0,gF0,FU8,MU8,UC,BU8,OU8,RU8,DU8,LU8,IU8,AU8,NU8,EU8,VU8,PU8,jU8,CU8,SU8,TU8,wU8,$U8,YC;var BK=_(()=>{k4();s6();Q6();K6();YQ();jZ();T9();M9();A9();d8();WU8=I((Z,J,Q,K,X,U)=>{if(J.arrowTypeStart)mF0(Z,"start",J.arrowTypeStart,Q,K,X,U);if(J.arrowTypeEnd)mF0(Z,"end",J.arrowTypeEnd,Q,K,X,U)},"addEdgeMarkers"),GU8={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},mF0=I((Z,J,Q,K,X,U,Y)=>{let q=GU8[Q];if(!q){Z0.warn(`Unknown arrow type: ${Q}`);return}let W=q.type,z=`${X}_${U}-${W}${J==="start"?"Start":"End"}`;if(Y&&Y.trim()!==""){let H=Y.replace(/[^\dA-Za-z]/g,"_"),F=`${z}_${H}`;if(!document.getElementById(F)){let M=document.getElementById(z);if(M){let B=M.cloneNode(!0);B.id=F,B.querySelectorAll("path, circle, line").forEach((R)=>{if(R.setAttribute("stroke",Y),q.fill)R.setAttribute("fill",Y)}),M.parentNode?.appendChild(B)}}Z.attr(`marker-${J}`,`url(${K}#${F})`)}else Z.attr(`marker-${J}`,`url(${K}#${z})`)},"addEdgeMarker"),QC=new Map,WQ=new Map,pF0=I(()=>{QC.clear(),WQ.clear()},"clear"),JC=I((Z)=>{return Z?Z.reduce((Q,K)=>Q+";"+K,""):""},"getLabelStyles"),KC=I(async(Z,J)=>{let Q=UZ(N0().flowchart.htmlLabels),{labelStyles:K}=_8(J);J.labelStyle=K;let X=await UQ(Z,J.label,{style:J.labelStyle,useHtmlLabels:Q,addSvgBackground:!0,isNode:!1});Z0.info("abc82",J,J.labelType);let U=Z.insert("g").attr("class","edgeLabel"),Y=U.insert("g").attr("class","label").attr("data-id",J.id);Y.node().appendChild(X);let q=X.getBBox();if(Q){let G=X.children[0],z=i0(X);q=G.getBoundingClientRect(),z.attr("width",q.width),z.attr("height",q.height)}Y.attr("transform","translate("+-q.width/2+", "+-q.height/2+")"),QC.set(J.id,U),J.width=q.width,J.height=q.height;let W;if(J.startLabelLeft){let G=await Qq(J.startLabelLeft,JC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!WQ.get(J.id))WQ.set(J.id,{});WQ.get(J.id).startLeft=z,gD(W,J.startLabelLeft)}if(J.startLabelRight){let G=await Qq(J.startLabelRight,JC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=z.node().appendChild(G),H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!WQ.get(J.id))WQ.set(J.id,{});WQ.get(J.id).startRight=z,gD(W,J.startLabelRight)}if(J.endLabelLeft){let G=await Qq(J.endLabelLeft,JC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!WQ.get(J.id))WQ.set(J.id,{});WQ.get(J.id).endLeft=z,gD(W,J.endLabelLeft)}if(J.endLabelRight){let G=await Qq(J.endLabelRight,JC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!WQ.get(J.id))WQ.set(J.id,{});WQ.get(J.id).endRight=z,gD(W,J.endLabelRight)}return X},"insertEdgeLabel");I(gD,"setTerminalWidth");XC=I((Z,J)=>{Z0.debug("Moving label abc88 ",Z.id,Z.label,QC.get(Z.id),J);let Q=J.updatedPath?J.updatedPath:J.originalPath,K=N0(),{subGraphTitleTotalMargin:X}=zY(K);if(Z.label){let U=QC.get(Z.id),Y=Z.x,q=Z.y;if(Q){let W=n8.calcLabelPosition(Q);if(Z0.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",W.x,",",W.y,") abc88"),J.updatedPath)Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q+X/2})`)}if(Z.startLabelLeft){let U=WQ.get(Z.id).startLeft,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){let U=WQ.get(Z.id).startRight,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){let U=WQ.get(Z.id).endLeft,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){let U=WQ.get(Z.id).endRight,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),zU8=I((Z,J)=>{let{x:Q,y:K}=Z,X=Math.abs(J.x-Q),U=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;return X>=Y||U>=q},"outsideNode"),HU8=I((Z,J,Q)=>{Z0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);let{x:K,y:X}=Z,U=Math.abs(K-Q.x),Y=Z.width/2,q=Q.x<J.x?Y-U:Y+U,W=Z.height/2,G=Math.abs(J.y-Q.y),z=Math.abs(J.x-Q.x);if(Math.abs(X-J.y)*Y>Math.abs(K-J.x)*W){let H=Q.y<J.y?J.y-W-X:X-W-J.y;q=z*H/G;let F={x:Q.x<J.x?Q.x+q:Q.x-z+q,y:Q.y<J.y?Q.y+G-H:Q.y-G+H};if(q===0)F.x=J.x,F.y=J.y;if(z===0)F.x=J.x;if(G===0)F.y=J.y;return Z0.debug(`abc89 top/bottom calc, Q ${G}, q ${H}, R ${z}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let H=G*q/z,F=Q.x<J.x?Q.x+z-q:Q.x-z+q,M=Q.y<J.y?Q.y+H:Q.y-H;if(Z0.debug(`sides calc abc89, Q ${G}, q ${H}, R ${z}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(z===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),uF0=I((Z,J)=>{Z0.warn("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],X=!1;return Z.forEach((U)=>{if(Z0.info("abc88 checking point",U,J),!zU8(J,U)&&!X){let Y=HU8(J,K,U);Z0.debug("abc88 inside",U,K,Y),Z0.debug("abc88 intersection",Y,J);let q=!1;if(Q.forEach((W)=>{q=q||W.x===Y.x&&W.y===Y.y}),!Q.some((W)=>W.x===Y.x&&W.y===Y.y))Q.push(Y);else Z0.warn("abc88 no intersect",Y,Q);X=!0}else if(Z0.warn("abc88 outside",U,K),K=U,!X)Q.push(U)}),Z0.debug("returning points",Q),Q},"cutPathAtIntersect");I(cF0,"extractCornerPoints");gF0=I(function(Z,J,Q){let K=J.x-Z.x,X=J.y-Z.y,U=Math.sqrt(K*K+X*X),Y=Q/U;return{x:J.x-Y*K,y:J.y-Y*X}},"findAdjacentPoint"),FU8=I(function(Z){let{cornerPointPositions:J}=cF0(Z),Q=[];for(let K=0;K<Z.length;K++)if(J.includes(K)){let X=Z[K-1],U=Z[K+1],Y=Z[K],q=gF0(X,Y,5),W=gF0(U,Y,5),G=W.x-q.x,z=W.y-q.y;Q.push(q);let H=Math.sqrt(2)*2,F={x:Y.x,y:Y.y};if(Math.abs(U.x-X.x)>10&&Math.abs(U.y-X.y)>=10){Z0.debug("Corner point fixing",Math.abs(U.x-X.x),Math.abs(U.y-X.y));let M=5;if(Y.x===q.x)F={x:G<0?q.x-M+H:q.x+M-H,y:z<0?q.y-H:q.y+H};else F={x:G<0?q.x-H:q.x+H,y:z<0?q.y-M+H:q.y+M-H}}else Z0.debug("Corner point skipping fixing",Math.abs(U.x-X.x),Math.abs(U.y-X.y));Q.push(F,W)}else Q.push(Z[K]);return Q},"fixCorners"),MU8=I((Z,J,Q)=>{let K=Z-J-Q,X=2,U=2,Y=4,q=Math.floor(K/4),W=Array(q).fill("2 2").join(" ");return`0 ${J} ${W} ${Q}`},"generateDashArray"),UC=I(function(Z,J,Q,K,X,U,Y,q=!1){let{handDrawnSeed:W}=N0(),G=J.points,z=!1,H=X;var F=U;let M=[];for(let S in J.cssCompiledStyles){if(qD(S))continue;M.push(J.cssCompiledStyles[S])}if(Z0.debug("UIO intersect check",J.points,F.x,H.x),F.intersect&&H.intersect&&!q)G=G.slice(1,J.points.length-1),G.unshift(H.intersect(G[0])),Z0.debug("Last point UIO",J.start,"-->",J.end,G[G.length-1],F,F.intersect(G[G.length-1])),G.push(F.intersect(G[G.length-1]));let B=btoa(JSON.stringify(G));if(J.toCluster)Z0.info("to cluster abc88",Q.get(J.toCluster)),G=uF0(J.points,Q.get(J.toCluster).node),z=!0;if(J.fromCluster)Z0.debug("from cluster abc88",Q.get(J.fromCluster),JSON.stringify(G,null,2)),G=uF0(G.reverse(),Q.get(J.fromCluster).node).reverse(),z=!0;let O=G.filter((S)=>!Number.isNaN(S.y));O=FU8(O);let R=GK;switch(R=WY,J.curve){case"linear":R=WY;break;case"basis":R=GK;break;case"cardinal":R=i3;break;case"bumpX":R=p3;break;case"bumpY":R=c3;break;case"catmullRom":R=n3;break;case"monotoneX":R=a3;break;case"monotoneY":R=o3;break;case"natural":R=E2;break;case"step":R=V2;break;case"stepAfter":R=e3;break;case"stepBefore":R=t3;break;default:R=GK}let{x:D,y:L}=Jj(J),A=O5().x(D).y(L).curve(R),V;switch(J.thickness){case"normal":V="edge-thickness-normal";break;case"thick":V="edge-thickness-thick";break;case"invisible":V="edge-thickness-invisible";break;default:V="edge-thickness-normal"}switch(J.pattern){case"solid":V+=" edge-pattern-solid";break;case"dotted":V+=" edge-pattern-dotted";break;case"dashed":V+=" edge-pattern-dashed";break;default:V+=" edge-pattern-solid"}let N,E=J.curve==="rounded"?lF0(dF0(O,J),5):A(O),j=Array.isArray(J.style)?J.style:[J.style],C=j.find((S)=>S?.startsWith("stroke:")),$=!1;if(J.look==="handDrawn"){let S=e0.svg(Z);Object.assign([],O);let f=S.path(E,{roughness:0.3,seed:W});V+=" transition",N=i0(f).select("path").attr("id",J.id).attr("class"," "+V+(J.classes?" "+J.classes:"")).attr("style",j?j.reduce((x,b)=>x+";"+b,""):"");let v=N.attr("d");N.attr("d",v),Z.node().appendChild(N.node())}else{let S=M.join(";"),f=j?j.reduce((p,r)=>p+r+";",""):"",v="";if(J.animate)v=" edge-animation-fast";if(J.animation)v=" edge-animation-"+J.animation;let x=(S?S+";"+f+";":f)+";"+(j?j.reduce((p,r)=>p+";"+r,""):"");N=Z.append("path").attr("d",E).attr("id",J.id).attr("class"," "+V+(J.classes?" "+J.classes:"")+(v??"")).attr("style",x),C=x.match(/stroke:([^;]+)/)?.[1],$=J.animate===!0||!!J.animation||S.includes("animation");let b=N.node(),y=typeof b.getTotalLength==="function"?b.getTotalLength():0,u=og[J.arrowTypeStart]||0,h=og[J.arrowTypeEnd]||0;if(J.look==="neo"&&!$){let r=`stroke-dasharray: ${J.pattern==="dotted"||J.pattern==="dashed"?MU8(y,u,h):`0 ${u} ${y-u-h} ${h}`}; stroke-dashoffset: 0;`;N.attr("style",r+N.attr("style"))}}if(N.attr("data-edge",!0),N.attr("data-et","edge"),N.attr("data-id",J.id),N.attr("data-points",B),J.showPoints)O.forEach((S)=>{Z.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",S.x).attr("cy",S.y)});let k="";if(N0().flowchart.arrowMarkerAbsolute||N0().state.arrowMarkerAbsolute)k=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,k=k.replace(/\(/g,"\\(").replace(/\)/g,"\\)");Z0.info("arrowTypeStart",J.arrowTypeStart),Z0.info("arrowTypeEnd",J.arrowTypeEnd),WU8(N,J,k,Y,K,C);let w=Math.floor(G.length/2),P=G[w];if(!n8.isLabelCoordinateInPath(P,N.attr("d")))z=!0;let T={};if(z)T.updatedPath=G;return T.originalPath=J.points,T},"insertEdge");I(lF0,"generateRoundedPath");I(Fc,"calculateDeltaAndAngle");I(dF0,"applyMarkerOffsetsToPoints");BU8=I((Z,J,Q,K)=>{J.forEach((X)=>{$U8[X](Z,Q,K)})},"insertMarkers"),OU8=I((Z,J,Q)=>{Z0.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),RU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),DU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),LU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),IU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),AU8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),NU8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),EU8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),VU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),PU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-onlyOneStart").attr("class","marker onlyOne "+J).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-onlyOneEnd").attr("class","marker onlyOne "+J).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),jU8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrOneStart").attr("class","marker zeroOrOne "+J).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");K.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),K.append("path").attr("d","M9,0 L9,18");let X=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+J).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");X.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),X.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),CU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-oneOrMoreStart").attr("class","marker oneOrMore "+J).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-oneOrMoreEnd").attr("class","marker oneOrMore "+J).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),SU8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+J).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");K.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),K.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let X=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+J).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");X.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),X.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),TU8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),wU8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");K.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),K.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),K.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),$U8={extension:OU8,composition:RU8,aggregation:DU8,dependency:LU8,lollipop:IU8,point:AU8,circle:NU8,cross:EU8,barb:VU8,only_one:PU8,zero_or_one:jU8,one_or_more:CU8,zero_or_more:SU8,requirement_arrow:TU8,requirement_contains:wU8},YC=BU8});function _U8(Z){return typeof Z=="symbol"||rJ(Z)&&X6(Z)==kU8}var kU8="[object Symbol]",f4;var aG=_(()=>{h1();D5();f4=_U8});function fU8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=Array(K);while(++Q<K)X[Q]=J(Z[Q],Q,Z);return X}var xX;var pD=_(()=>{xX=fU8});function rF0(Z){if(typeof Z=="string")return Z;if(P9(Z))return xX(Z,rF0)+"";if(f4(Z))return sF0?sF0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-vU8?"-0":J}var vU8=1/0,iF0,sF0,nF0;var aF0=_(()=>{cG();pD();Q7();aG();iF0=f7?f7.prototype:void 0,sF0=iF0?iF0.toString:void 0;nF0=rF0});function bU8(Z){var J=Z.length;while(J--&&xU8.test(Z.charAt(J)));return J}var xU8,oF0;var tF0=_(()=>{xU8=/\s/;oF0=bU8});function hU8(Z){return Z?Z.slice(0,oF0(Z)+1).replace(yU8,""):Z}var yU8,eF0;var ZM0=_(()=>{tF0();yU8=/^\s+/;eF0=hU8});function cU8(Z){if(typeof Z=="number")return Z;if(f4(Z))return JM0;if(DJ(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=DJ(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=eF0(Z);var Q=uU8.test(Z);return Q||gU8.test(Z)?pU8(Z.slice(2),Q?2:8):mU8.test(Z)?JM0:+Z}var JM0=NaN,mU8,uU8,gU8,pU8,QM0;var KM0=_(()=>{ZM0();HK();aG();mU8=/^[-+]0x[0-9a-f]+$/i,uU8=/^0b[01]+$/i,gU8=/^0o[0-7]+$/i,pU8=parseInt;QM0=cU8});function dU8(Z){if(!Z)return Z===0?Z:0;if(Z=QM0(Z),Z===XM0||Z===-XM0){var J=Z<0?-1:1;return J*lU8}return Z===Z?Z:0}var XM0=1/0,lU8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,r2;var Mc=_(()=>{KM0();r2=dU8});function iU8(Z){var J=r2(Z),Q=J%1;return J===J?Q?J-Q:J:0}var UM0;var YM0=_(()=>{Mc();UM0=iU8});var sU8,qC;var qM0=_(()=>{m1();zK();sU8=g6(yJ,"WeakMap"),qC=sU8});function rU8(){}var WM0;var GM0=_(()=>{WM0=rU8});function nU8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var WC;var Bc=_(()=>{WC=nU8});function aU8(Z,J,Q,K){var X=Z.length,U=Q+(K?1:-1);while(K?U--:++U<X)if(J(Z[U],U,Z))return U;return-1}var GC;var Oc=_(()=>{GC=aU8});function oU8(Z){return Z!==Z}var zM0;var HM0=_(()=>{zM0=oU8});function tU8(Z,J,Q){var K=Q-1,X=Z.length;while(++K<X)if(Z[K]===J)return K;return-1}var FM0;var MM0=_(()=>{FM0=tU8});function eU8(Z,J,Q){return J===J?FM0(Z,J,Q):GC(Z,zM0,Q)}var BM0;var OM0=_(()=>{Oc();HM0();MM0();BM0=eU8});function ZY8(Z,J){var Q=Z==null?0:Z.length;return!!Q&&BM0(Z,J,0)>-1}var RM0;var DM0=_(()=>{OM0();RM0=ZY8});var JY8,LM0;var IM0=_(()=>{Gp();JY8=Fj(Object.keys,Object),LM0=JY8});function XY8(Z){if(!d1(Z))return LM0(Z);var J=[];for(var Q in Object(Z))if(KY8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var QY8,KY8,n2;var zC=_(()=>{LD();IM0();QY8=Object.prototype,KY8=QY8.hasOwnProperty;n2=XY8});function UY8(Z){return v7(Z)?Ej(Z):n2(Z)}var hJ;var RY=_(()=>{Op();zC();SX();hJ=UY8});function WY8(Z,J){if(P9(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||f4(Z))return!0;return qY8.test(Z)||!YY8.test(Z)||J!=null&&Z in Object(J)}var YY8,qY8,a2;var HC=_(()=>{Q7();aG();YY8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qY8=/^\w*$/;a2=WY8});function zY8(Z){var J=_2(Z,function(K){if(Q.size===GY8)Q.clear();return K}),Q=J.cache;return J}var GY8=500,AM0;var NM0=_(()=>{Qp();AM0=zY8});var HY8,FY8,MY8,EM0;var VM0=_(()=>{NM0();HY8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FY8=/\\(\\)?/g,MY8=AM0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(HY8,function(Q,K,X,U){J.push(X?U.replace(FY8,"$1"):K||Q)}),J}),EM0=MY8});function BY8(Z){return Z==null?"":nF0(Z)}var FC;var Rc=_(()=>{aF0();FC=BY8});function OY8(Z,J){if(P9(Z))return Z;return a2(Z,J)?[Z]:EM0(FC(Z))}var Uq;var cD=_(()=>{Q7();HC();VM0();Rc();Uq=OY8});function DY8(Z){if(typeof Z=="string"||f4(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-RY8?"-0":J}var RY8=1/0,bX;var o2=_(()=>{aG();bX=DY8});function LY8(Z,J){J=Uq(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[bX(J[Q++])];return Q&&Q==K?Z:void 0}var Yq;var lD=_(()=>{cD();o2();Yq=LY8});function IY8(Z,J,Q){var K=Z==null?void 0:Yq(Z,J);return K===void 0?Q:K}var PM0;var jM0=_(()=>{lD();PM0=IY8});function AY8(Z,J){var Q=-1,K=J.length,X=Z.length;while(++Q<K)Z[X+Q]=J[Q];return Z}var t2;var MC=_(()=>{t2=AY8});function NY8(Z){return P9(Z)||L5(Z)||!!(CM0&&Z&&Z[CM0])}var CM0,SM0;var TM0=_(()=>{cG();m2();Q7();CM0=f7?f7.isConcatSpreadable:void 0;SM0=NY8});function wM0(Z,J,Q,K,X){var U=-1,Y=Z.length;Q||(Q=SM0),X||(X=[]);while(++U<Y){var q=Z[U];if(J>0&&Q(q))if(J>1)wM0(q,J-1,Q,K,X);else t2(X,q);else if(!K)X[X.length]=q}return X}var qq;var dD=_(()=>{MC();TM0();qq=wM0});function EY8(Z){var J=Z==null?0:Z.length;return J?qq(Z,1):[]}var r6;var BC=_(()=>{dD();r6=EY8});function VY8(Z){return Pj(Vj(Z,void 0,r6),Z+"")}var $M0;var kM0=_(()=>{BC();Rp();Lp();$M0=VY8});function _Y8(Z){return kY8.test(Z)}var PY8="\\ud800-\\udfff",jY8="\\u0300-\\u036f",CY8="\\ufe20-\\ufe2f",SY8="\\u20d0-\\u20ff",TY8,wY8="\\ufe0e\\ufe0f",$Y8="\\u200d",kY8,_M0;var fM0=_(()=>{TY8=jY8+CY8+SY8,kY8=RegExp("["+$Y8+PY8+TY8+wY8+"]");_M0=_Y8});function fY8(Z,J,Q,K){var X=-1,U=Z==null?0:Z.length;if(K&&U)Q=Z[++X];while(++X<U)Q=J(Q,Z[X],X,Z);return Q}var vM0;var xM0=_(()=>{vM0=fY8});function vY8(Z,J){return Z&&wX(J,hJ(J),Z)}var bM0;var yM0=_(()=>{p2();RY();bM0=vY8});function xY8(Z,J){return Z&&wX(J,p6(J),Z)}var hM0;var mM0=_(()=>{p2();a1();hM0=xY8});function bY8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=0,U=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))U[X++]=Y}return U}var OC;var Dc=_(()=>{OC=bY8});function yY8(){return[]}var RC;var Lc=_(()=>{RC=yY8});var hY8,mY8,uM0,uY8,e2;var DC=_(()=>{Dc();Lc();hY8=Object.prototype,mY8=hY8.propertyIsEnumerable,uM0=Object.getOwnPropertySymbols,uY8=!uM0?RC:function(Z){if(Z==null)return[];return Z=Object(Z),OC(uM0(Z),function(J){return mY8.call(Z,J)})},e2=uY8});function gY8(Z,J){return wX(Z,e2(Z),J)}var gM0;var pM0=_(()=>{p2();DC();gM0=gY8});var pY8,cY8,LC;var Ic=_(()=>{MC();Mj();DC();Lc();pY8=Object.getOwnPropertySymbols,cY8=!pY8?RC:function(Z){var J=[];while(Z)t2(J,e2(Z)),Z=h2(Z);return J},LC=cY8});function lY8(Z,J){return wX(Z,LC(Z),J)}var cM0;var lM0=_(()=>{p2();Ic();cM0=lY8});function dY8(Z,J,Q){var K=J(Z);return P9(Z)?K:t2(K,Q(Z))}var IC;var Ac=_(()=>{MC();Q7();IC=dY8});function iY8(Z){return IC(Z,hJ,e2)}var iD;var Nc=_(()=>{Ac();DC();RY();iD=iY8});function sY8(Z){return IC(Z,p6,LC)}var dM0;var iM0=_(()=>{Ac();Ic();a1();dM0=sY8});var rY8,AC;var sM0=_(()=>{m1();zK();rY8=g6(yJ,"DataView"),AC=rY8});var nY8,NC;var rM0=_(()=>{m1();zK();nY8=g6(yJ,"Promise"),NC=nY8});var aY8,Wq;var Ec=_(()=>{m1();zK();aY8=g6(yJ,"Set"),Wq=aY8});var nM0="[object Map]",oY8="[object Object]",aM0="[object Promise]",oM0="[object Set]",tM0="[object WeakMap]",eM0="[object DataView]",tY8,eY8,Z18,J18,Q18,oG,v4;var tG=_(()=>{sM0();Xj();rM0();Ec();qM0();h1();eg();tY8=HY(AC),eY8=HY(p1),Z18=HY(NC),J18=HY(Wq),Q18=HY(qC),oG=X6;if(AC&&oG(new AC(new ArrayBuffer(1)))!=eM0||p1&&oG(new p1)!=nM0||NC&&oG(NC.resolve())!=aM0||Wq&&oG(new Wq)!=oM0||qC&&oG(new qC)!=tM0)oG=function(Z){var J=X6(Z),Q=J==oY8?Z.constructor:void 0,K=Q?HY(Q):"";if(K)switch(K){case tY8:return eM0;case eY8:return nM0;case Z18:return aM0;case J18:return oM0;case Q18:return tM0}return J};v4=oG});function U18(Z){var J=Z.length,Q=new Z.constructor(J);if(J&&typeof Z[0]=="string"&&X18.call(Z,"index"))Q.index=Z.index,Q.input=Z.input;return Q}var K18,X18,ZB0;var JB0=_(()=>{K18=Object.prototype,X18=K18.hasOwnProperty;ZB0=U18});function Y18(Z,J){var Q=J?y2(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.byteLength)}var QB0;var KB0=_(()=>{Gj();QB0=Y18});function W18(Z){var J=new Z.constructor(Z.source,q18.exec(Z));return J.lastIndex=Z.lastIndex,J}var q18,XB0;var UB0=_(()=>{q18=/\w*$/;XB0=W18});function G18(Z){return qB0?Object(qB0.call(Z)):{}}var YB0,qB0,WB0;var GB0=_(()=>{cG();YB0=f7?f7.prototype:void 0,qB0=YB0?YB0.valueOf:void 0;WB0=G18});function w18(Z,J,Q){var K=Z.constructor;switch(J){case L18:return y2(Z);case z18:case H18:return new K(+Z);case I18:return QB0(Z,Q);case A18:case N18:case E18:case V18:case P18:case j18:case C18:case S18:case T18:return zj(Z,Q);case F18:return new K;case M18:case R18:return new K(Z);case B18:return XB0(Z);case O18:return new K;case D18:return WB0(Z)}}var z18="[object Boolean]",H18="[object Date]",F18="[object Map]",M18="[object Number]",B18="[object RegExp]",O18="[object Set]",R18="[object String]",D18="[object Symbol]",L18="[object ArrayBuffer]",I18="[object DataView]",A18="[object Float32Array]",N18="[object Float64Array]",E18="[object Int8Array]",V18="[object Int16Array]",P18="[object Int32Array]",j18="[object Uint8Array]",C18="[object Uint8ClampedArray]",S18="[object Uint16Array]",T18="[object Uint32Array]",zB0;var HB0=_(()=>{Gj();KB0();UB0();GB0();qp();zB0=w18});function k18(Z){return rJ(Z)&&v4(Z)==$18}var $18="[object Map]",FB0;var MB0=_(()=>{tG();D5();FB0=k18});var BB0,_18,OB0;var RB0=_(()=>{MB0();ID();Nj();BB0=TX&&TX.isMap,_18=BB0?i1(BB0):FB0,OB0=_18});function v18(Z){return rJ(Z)&&v4(Z)==f18}var f18="[object Set]",DB0;var LB0=_(()=>{tG();D5();DB0=v18});var IB0,x18,AB0;var NB0=_(()=>{LB0();ID();Nj();IB0=TX&&TX.isSet,x18=IB0?i1(IB0):DB0,AB0=x18});function EC(Z,J,Q,K,X,U){var Y,q=J&b18,W=J&y18,G=J&h18;if(Q)Y=X?Q(Z,K,X,U):Q(Z);if(Y!==void 0)return Y;if(!DJ(Z))return Z;var z=P9(Z);if(z){if(Y=ZB0(Z),!q)return Hj(Z,Y)}else{var H=v4(Z),F=H==VB0||H==c18;if(MK(Z))return DD(Z,q);if(H==PB0||H==EB0||F&&!X){if(Y=W||F?{}:Bj(Z),!q)return W?cM0(Z,hM0(Y,Z)):gM0(Z,bM0(Y,Z))}else{if(!dZ[H])return X?Z:{};Y=zB0(Z,H,q)}}U||(U=new CX);var M=U.get(Z);if(M)return M;if(U.set(Z,Y),AB0(Z))Z.forEach(function(R){Y.add(EC(R,J,Q,R,Z,U))});else if(OB0(Z))Z.forEach(function(R,D){Y.set(D,EC(R,J,Q,D,Z,U))});var B=G?W?dM0:iD:W?p6:hJ,O=z?void 0:B(Z);return WC(O||Z,function(R,D){if(O)D=R,R=Z[D];r1(Y,D,EC(R,J,Q,D,Z,U))}),Y}var b18=1,y18=2,h18=4,EB0="[object Arguments]",m18="[object Array]",u18="[object Boolean]",g18="[object Date]",p18="[object Error]",VB0="[object Function]",c18="[object GeneratorFunction]",l18="[object Map]",d18="[object Number]",PB0="[object Object]",i18="[object RegExp]",s18="[object Set]",r18="[object String]",n18="[object Symbol]",a18="[object WeakMap]",o18="[object ArrayBuffer]",t18="[object DataView]",e18="[object Float32Array]",Zq8="[object Float64Array]",Jq8="[object Int8Array]",Qq8="[object Int16Array]",Kq8="[object Int32Array]",Xq8="[object Uint8Array]",Uq8="[object Uint8ClampedArray]",Yq8="[object Uint16Array]",qq8="[object Uint32Array]",dZ,VC;var Vc=_(()=>{BD();Bc();VD();yM0();mM0();Up();Wp();pM0();lM0();Nc();iM0();tG();JB0();HB0();zp();Q7();g2();RB0();HK();NB0();RY();a1();dZ={};dZ[EB0]=dZ[m18]=dZ[o18]=dZ[t18]=dZ[u18]=dZ[g18]=dZ[e18]=dZ[Zq8]=dZ[Jq8]=dZ[Qq8]=dZ[Kq8]=dZ[l18]=dZ[d18]=dZ[PB0]=dZ[i18]=dZ[s18]=dZ[r18]=dZ[n18]=dZ[Xq8]=dZ[Uq8]=dZ[Yq8]=dZ[qq8]=!0;dZ[p18]=dZ[VB0]=dZ[a18]=!1;VC=EC});function Gq8(Z){return VC(Z,Wq8)}var Wq8=4,sD;var Pc=_(()=>{Vc();sD=Gq8});function Fq8(Z){return VC(Z,zq8|Hq8)}var zq8=1,Hq8=4,jc;var jB0=_(()=>{Vc();jc=Fq8});function Bq8(Z){return this.__data__.set(Z,Mq8),this}var Mq8="__lodash_hash_undefined__",CB0;var SB0=_(()=>{CB0=Bq8});function Oq8(Z){return this.__data__.has(Z)}var TB0;var wB0=_(()=>{TB0=Oq8});function PC(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new dG;while(++J<Q)this.add(Z[J])}var jC;var Cc=_(()=>{Uj();SB0();wB0();PC.prototype.add=PC.prototype.push=CB0;PC.prototype.has=TB0;jC=PC});function Rq8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var $B0;var kB0=_(()=>{$B0=Rq8});function Dq8(Z,J){return Z.has(J)}var CC;var Sc=_(()=>{CC=Dq8});function Aq8(Z,J,Q,K,X,U){var Y=Q&Lq8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=U.get(Z),z=U.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&Iq8?new jC:void 0;U.set(Z,J),U.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,U):K(B,O,H,Z,J,U);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!$B0(J,function(D,L){if(!CC(M,L)&&(B===D||X(B,D,Q,K,U)))return M.push(L)})){F=!1;break}}else if(!(B===O||X(B,O,Q,K,U))){F=!1;break}}return U.delete(Z),U.delete(J),F}var Lq8=1,Iq8=2,SC;var Tc=_(()=>{Cc();kB0();Sc();SC=Aq8});function Nq8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,X){Q[++J]=[X,K]}),Q}var _B0;var fB0=_(()=>{_B0=Nq8});function Eq8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var ZF;var TC=_(()=>{ZF=Eq8});function bq8(Z,J,Q,K,X,U,Y){switch(Q){case xq8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case vq8:if(Z.byteLength!=J.byteLength||!U(new b2(Z),new b2(J)))return!1;return!0;case jq8:case Cq8:case wq8:return FK(+Z,+J);case Sq8:return Z.name==J.name&&Z.message==J.message;case $q8:case _q8:return Z==J+"";case Tq8:var q=_B0;case kq8:var W=K&Vq8;if(q||(q=ZF),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=Pq8,Y.set(Z,J);var z=SC(q(Z),q(J),K,X,U,Y);return Y.delete(Z),z;case fq8:if(wc)return wc.call(Z)==wc.call(J)}return!1}var Vq8=1,Pq8=2,jq8="[object Boolean]",Cq8="[object Date]",Sq8="[object Error]",Tq8="[object Map]",wq8="[object Number]",$q8="[object RegExp]",kq8="[object Set]",_q8="[object String]",fq8="[object Symbol]",vq8="[object ArrayBuffer]",xq8="[object DataView]",vB0,wc,xB0;var bB0=_(()=>{cG();Yp();lG();Tc();fB0();TC();vB0=f7?f7.prototype:void 0,wc=vB0?vB0.valueOf:void 0;xB0=bq8});function uq8(Z,J,Q,K,X,U){var Y=Q&yq8,q=iD(Z),W=q.length,G=iD(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:mq8.call(J,F)))return!1}var M=U.get(Z),B=U.get(J);if(M&&B)return M==J&&B==Z;var O=!0;U.set(Z,J),U.set(J,Z);var R=Y;while(++H<W){F=q[H];var D=Z[F],L=J[F];if(K)var A=Y?K(L,D,F,J,Z,U):K(D,L,F,Z,J,U);if(!(A===void 0?D===L||X(D,L,Q,K,U):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return U.delete(Z),U.delete(J),O}var yq8=1,hq8,mq8,yB0;var hB0=_(()=>{Nc();hq8=Object.prototype,mq8=hq8.hasOwnProperty;yB0=uq8});function cq8(Z,J,Q,K,X,U){var Y=P9(Z),q=P9(J),W=Y?uB0:v4(Z),G=q?uB0:v4(J);W=W==mB0?wC:W,G=G==mB0?wC:G;var z=W==wC,H=G==wC,F=W==G;if(F&&MK(Z)){if(!MK(J))return!1;Y=!0,z=!1}if(F&&!z)return U||(U=new CX),Y||s1(Z)?SC(Z,J,Q,K,X,U):xB0(Z,J,W,Q,K,X,U);if(!(Q&gq8)){var M=z&&gB0.call(Z,"__wrapped__"),B=H&&gB0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return U||(U=new CX),X(O,R,Q,K,U)}}if(!F)return!1;return U||(U=new CX),yB0(Z,J,Q,K,X,U)}var gq8=1,mB0="[object Arguments]",uB0="[object Array]",wC="[object Object]",pq8,gB0,pB0;var cB0=_(()=>{BD();Tc();bB0();hB0();tG();Q7();g2();ND();pq8=Object.prototype,gB0=pq8.hasOwnProperty;pB0=cq8});function lB0(Z,J,Q,K,X){if(Z===J)return!0;if(Z==null||J==null||!rJ(Z)&&!rJ(J))return Z!==Z&&J!==J;return pB0(Z,J,Q,K,lB0,X)}var $C;var $c=_(()=>{cB0();D5();$C=lB0});function iq8(Z,J,Q,K){var X=Q.length,U=X,Y=!K;if(Z==null)return!U;Z=Object(Z);while(X--){var q=Q[X];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++X<U){q=Q[X];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new CX;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?$C(z,G,lq8|dq8,K,H):F))return!1}}return!0}var lq8=1,dq8=2,dB0;var iB0=_(()=>{BD();$c();dB0=iq8});function sq8(Z){return Z===Z&&!DJ(Z)}var kC;var kc=_(()=>{HK();kC=sq8});function rq8(Z){var J=hJ(Z),Q=J.length;while(Q--){var K=J[Q],X=Z[K];J[Q]=[K,X,kC(X)]}return J}var sB0;var rB0=_(()=>{kc();RY();sB0=rq8});function nq8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var _C;var _c=_(()=>{_C=nq8});function aq8(Z){var J=sB0(Z);if(J.length==1&&J[0][2])return _C(J[0][0],J[0][1]);return function(Q){return Q===Z||dB0(Q,Z,J)}}var nB0;var aB0=_(()=>{iB0();rB0();_c();nB0=aq8});function oq8(Z,J){return Z!=null&&J in Object(Z)}var oB0;var tB0=_(()=>{oB0=oq8});function tq8(Z,J,Q){J=Uq(J,Z);var K=-1,X=J.length,U=!1;while(++K<X){var Y=bX(J[K]);if(!(U=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(U||++K!=X)return U;return X=Z==null?0:Z.length,!!X&&u2(X)&&n1(Y,X)&&(P9(Z)||L5(Z))}var fC;var fc=_(()=>{cD();m2();Q7();PD();Oj();o2();fC=tq8});function eq8(Z,J){return Z!=null&&fC(Z,J,oB0)}var vC;var vc=_(()=>{tB0();fc();vC=eq8});function QW8(Z,J){if(a2(Z)&&kC(J))return _C(bX(Z),J);return function(Q){var K=PM0(Q,Z);return K===void 0&&K===J?vC(Q,Z):$C(J,K,ZW8|JW8)}}var ZW8=1,JW8=2,eB0;var ZO0=_(()=>{$c();jM0();vc();HC();kc();_c();o2();eB0=QW8});function KW8(Z){return function(J){return J==null?void 0:J[Z]}}var xC;var xc=_(()=>{xC=KW8});function XW8(Z){return function(J){return Yq(J,Z)}}var JO0;var QO0=_(()=>{lD();JO0=XW8});function UW8(Z){return a2(Z)?xC(bX(Z)):JO0(Z)}var KO0;var XO0=_(()=>{xc();QO0();HC();o2();KO0=UW8});function YW8(Z){if(typeof Z=="function")return Z;if(Z==null)return c6;if(typeof Z=="object")return P9(Z)?eB0(Z[0],Z[1]):nB0(Z);return KO0(Z)}var x7;var yX=_(()=>{aB0();ZO0();o1();Q7();XO0();x7=YW8});function qW8(Z,J){return Z&&x2(Z,J,hJ)}var JF;var bC=_(()=>{Yj();RY();JF=qW8});function WW8(Z,J){return function(Q,K){if(Q==null)return Q;if(!v7(Q))return Z(Q,K);var X=Q.length,U=J?X:-1,Y=Object(Q);while(J?U--:++U<X)if(K(Y[U],U,Y)===!1)break;return Q}}var UO0;var YO0=_(()=>{SX();UO0=WW8});var GW8,Gq;var rD=_(()=>{bC();YO0();GW8=UO0(JF),Gq=GW8});var zW8=function(){return yJ.Date.now()},yC;var qO0=_(()=>{zK();yC=zW8});var WO0,HW8,FW8,bc;var GO0=_(()=>{jD();lG();CD();a1();WO0=Object.prototype,HW8=WO0.hasOwnProperty,FW8=t1(function(Z,J){Z=Object(Z);var Q=-1,K=J.length,X=K>2?J[2]:void 0;if(X&&MY(J[0],J[1],X))K=1;while(++Q<K){var U=J[Q],Y=p6(U),q=-1,W=Y.length;while(++q<W){var G=Y[q],z=Z[G];if(z===void 0||FK(z,WO0[G])&&!HW8.call(Z,G))Z[G]=U[G]}}return Z}),bc=FW8});function MW8(Z,J,Q){var K=-1,X=Z==null?0:Z.length;while(++K<X)if(Q(J,Z[K]))return!0;return!1}var zO0;var HO0=_(()=>{zO0=MW8});function BW8(Z){var J=Z==null?0:Z.length;return J?Z[J-1]:void 0}var zq;var FO0=_(()=>{zq=BW8});function OW8(Z){return typeof Z=="function"?Z:c6}var QF;var hC=_(()=>{o1();QF=OW8});function RW8(Z,J){var Q=P9(Z)?WC:Gq;return Q(Z,QF(J))}var l0;var mC=_(()=>{Bc();rD();hC();Q7();l0=RW8});var MO0=_(()=>{mC()});function DW8(Z,J){var Q=[];return Gq(Z,function(K,X,U){if(J(K,X,U))Q.push(K)}),Q}var BO0;var OO0=_(()=>{rD();BO0=DW8});function LW8(Z,J){var Q=P9(Z)?OC:BO0;return Q(Z,x7(J,3))}var GQ;var yc=_(()=>{Dc();OO0();yX();Q7();GQ=LW8});function IW8(Z){return function(J,Q,K){var X=Object(J);if(!v7(J)){var U=x7(Q,3);J=hJ(J),Q=function(q){return U(X[q],q,X)}}var Y=Z(J,Q,K);return Y>-1?X[U?J[Y]:Y]:void 0}}var RO0;var DO0=_(()=>{yX();SX();RY();RO0=IW8});function NW8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var X=Q==null?0:UM0(Q);if(X<0)X=AW8(K+X,0);return GC(Z,x7(J,3),X)}var AW8,LO0;var IO0=_(()=>{Oc();yX();YM0();AW8=Math.max;LO0=NW8});var EW8,KF;var AO0=_(()=>{DO0();IO0();EW8=RO0(LO0),KF=EW8});function VW8(Z,J){var Q=-1,K=v7(Z)?Array(Z.length):[];return Gq(Z,function(X,U,Y){K[++Q]=J(X,U,Y)}),K}var uC;var hc=_(()=>{rD();SX();uC=VW8});function PW8(Z,J){var Q=P9(Z)?xX:uC;return Q(Z,x7(J,3))}var I9;var XF=_(()=>{pD();yX();hc();Q7();I9=PW8});function jW8(Z,J){return qq(I9(Z,J),1)}var NO0;var EO0=_(()=>{dD();XF();NO0=jW8});function CW8(Z,J){return Z==null?Z:x2(Z,QF(J),p6)}var mc;var VO0=_(()=>{Yj();hC();a1();mc=CW8});function SW8(Z,J){return Z&&JF(Z,QF(J))}var uc;var PO0=_(()=>{bC();hC();uc=SW8});function TW8(Z,J){return Z>J}var jO0;var CO0=_(()=>{jO0=TW8});function kW8(Z,J){return Z!=null&&$W8.call(Z,J)}var wW8,$W8,SO0;var TO0=_(()=>{wW8=Object.prototype,$W8=wW8.hasOwnProperty;SO0=kW8});function _W8(Z,J){return Z!=null&&fC(Z,J,SO0)}var nD;var wO0=_(()=>{TO0();fc();nD=_W8});function vW8(Z){return typeof Z=="string"||!P9(Z)&&rJ(Z)&&X6(Z)==fW8}var fW8="[object String]",$O0;var kO0=_(()=>{h1();Q7();D5();$O0=vW8});function xW8(Z,J){return xX(J,function(Q){return Z[Q]})}var _O0;var fO0=_(()=>{pD();_O0=xW8});function bW8(Z){return Z==null?[]:_O0(Z,hJ(Z))}var x4;var vO0=_(()=>{fO0();RY();x4=bW8});function gW8(Z){if(Z==null)return!0;if(v7(Z)&&(P9(Z)||typeof Z=="string"||typeof Z.splice=="function"||MK(Z)||s1(Z)||L5(Z)))return!Z.length;var J=v4(Z);if(J==yW8||J==hW8)return!Z.size;if(d1(Z))return!n2(Z).length;for(var Q in Z)if(uW8.call(Z,Q))return!1;return!0}var yW8="[object Map]",hW8="[object Set]",mW8,uW8,DY;var gC=_(()=>{zC();tG();m2();Q7();SX();g2();LD();ND();mW8=Object.prototype,uW8=mW8.hasOwnProperty;DY=gW8});function pW8(Z){return Z===void 0}var fZ;var xO0=_(()=>{fZ=pW8});function cW8(Z,J){return Z<J}var pC;var gc=_(()=>{pC=cW8});function lW8(Z,J){var Q={};return J=x7(J,3),JF(Z,function(K,X,U){l1(Q,X,J(K,X,U))}),Q}var eG;var bO0=_(()=>{OD();bC();yX();eG=lW8});function dW8(Z,J,Q){var K=-1,X=Z.length;while(++K<X){var U=Z[K],Y=J(U);if(Y!=null&&(q===void 0?Y===Y&&!f4(Y):Q(Y,q)))var q=Y,W=U}return W}var UF;var cC=_(()=>{aG();UF=dW8});function iW8(Z){return Z&&Z.length?UF(Z,c6,jO0):void 0}var n6;var yO0=_(()=>{cC();CO0();o1();n6=iW8});function sW8(Z){return Z&&Z.length?UF(Z,c6,pC):void 0}var N5;var pc=_(()=>{cC();gc();o1();N5=sW8});function rW8(Z,J){return Z&&Z.length?UF(Z,x7(J,2),pC):void 0}var Zz;var hO0=_(()=>{cC();yX();gc();Zz=rW8});function nW8(Z,J,Q,K){if(!DJ(Z))return Z;J=Uq(J,Z);var X=-1,U=J.length,Y=U-1,q=Z;while(q!=null&&++X<U){var W=bX(J[X]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(X!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=DJ(z)?z:n1(J[X+1])?[]:{}}r1(q,W,G),q=q[W]}return Z}var mO0;var uO0=_(()=>{VD();cD();PD();HK();o2();mO0=nW8});function aW8(Z,J,Q){var K=-1,X=J.length,U={};while(++K<X){var Y=J[K],q=Yq(Z,Y);if(Q(q,Y))mO0(U,Uq(Y,Z),q)}return U}var gO0;var pO0=_(()=>{lD();uO0();cD();gO0=aW8});function oW8(Z,J){var Q=Z.length;Z.sort(J);while(Q--)Z[Q]=Z[Q].value;return Z}var cO0;var lO0=_(()=>{cO0=oW8});function tW8(Z,J){if(Z!==J){var Q=Z!==void 0,K=Z===null,X=Z===Z,U=f4(Z),Y=J!==void 0,q=J===null,W=J===J,G=f4(J);if(!q&&!G&&!U&&Z>J||U&&Y&&W&&!q&&!G||K&&Y&&W||!Q&&W||!X)return 1;if(!K&&!U&&!G&&Z<J||G&&Q&&X&&!K&&!U||q&&Q&&X||!Y&&X||!W)return-1}return 0}var dO0;var iO0=_(()=>{aG();dO0=tW8});function eW8(Z,J,Q){var K=-1,X=Z.criteria,U=J.criteria,Y=X.length,q=Q.length;while(++K<Y){var W=dO0(X[K],U[K]);if(W){if(K>=q)return W;var G=Q[K];return W*(G=="desc"?-1:1)}}return Z.index-J.index}var sO0;var rO0=_(()=>{iO0();sO0=eW8});function ZG8(Z,J,Q){if(J.length)J=xX(J,function(U){if(P9(U))return function(Y){return Yq(Y,U.length===1?U[0]:U)};return U});else J=[c6];var K=-1;J=xX(J,i1(x7));var X=uC(Z,function(U,Y,q){var W=xX(J,function(G){return G(U)});return{criteria:W,index:++K,value:U}});return cO0(X,function(U,Y){return sO0(U,Y,Q)})}var nO0;var aO0=_(()=>{pD();lD();yX();hc();lO0();ID();rO0();o1();Q7();nO0=ZG8});var JG8,oO0;var tO0=_(()=>{xc();JG8=xC("length"),oO0=JG8});function MG8(Z){var J=eO0.lastIndex=0;while(eO0.test(Z))++J;return J}var ZR0="\\ud800-\\udfff",QG8="\\u0300-\\u036f",KG8="\\ufe20-\\ufe2f",XG8="\\u20d0-\\u20ff",UG8,YG8="\\ufe0e\\ufe0f",qG8,cc,lc="\\ud83c[\\udffb-\\udfff]",WG8,JR0,QR0="(?:\\ud83c[\\udde6-\\uddff]){2}",KR0="[\\ud800-\\udbff][\\udc00-\\udfff]",GG8="\\u200d",XR0,UR0,zG8,HG8,FG8,eO0,YR0;var qR0=_(()=>{UG8=QG8+KG8+XG8,qG8="["+ZR0+"]",cc="["+UG8+"]",WG8="(?:"+cc+"|"+lc+")",JR0="[^"+ZR0+"]",XR0=WG8+"?",UR0="["+YG8+"]?",zG8="(?:"+GG8+"(?:"+[JR0,QR0,KR0].join("|")+")"+UR0+XR0+")*",HG8=UR0+XR0+zG8,FG8="(?:"+[JR0+cc+"?",cc,QR0,KR0,qG8].join("|")+")",eO0=RegExp(lc+"(?="+lc+")|"+FG8+HG8,"g");YR0=MG8});function BG8(Z){return _M0(Z)?YR0(Z):oO0(Z)}var WR0;var GR0=_(()=>{tO0();fM0();qR0();WR0=BG8});function OG8(Z,J){return gO0(Z,J,function(Q,K){return vC(Z,K)})}var zR0;var HR0=_(()=>{pO0();vc();zR0=OG8});var RG8,Jz;var FR0=_(()=>{HR0();kM0();RG8=$M0(function(Z,J){return Z==null?{}:zR0(Z,J)}),Jz=RG8});function IG8(Z,J,Q,K){var X=-1,U=LG8(DG8((J-Z)/(Q||1)),0),Y=Array(U);while(U--)Y[K?U:++X]=Z,Z+=Q;return Y}var DG8,LG8,MR0;var BR0=_(()=>{DG8=Math.ceil,LG8=Math.max;MR0=IG8});function AG8(Z){return function(J,Q,K){if(K&&typeof K!="number"&&MY(J,Q,K))Q=K=void 0;if(J=r2(J),Q===void 0)Q=J,J=0;else Q=r2(Q);return K=K===void 0?J<Q?1:-1:r2(K),MR0(J,Q,K,Z)}}var OR0;var RR0=_(()=>{BR0();CD();Mc();OR0=AG8});var NG8,OK;var DR0=_(()=>{RR0();NG8=OR0(),OK=NG8});function EG8(Z,J,Q,K,X){return X(Z,function(U,Y,q){Q=K?(K=!1,U):J(Q,U,Y,q)}),Q}var LR0;var IR0=_(()=>{LR0=EG8});function VG8(Z,J,Q){var K=P9(Z)?vM0:LR0,X=arguments.length<3;return K(Z,x7(J,4),Q,X,Gq)}var b4;var dc=_(()=>{xM0();rD();yX();IR0();Q7();b4=VG8});function CG8(Z){if(Z==null)return 0;if(v7(Z))return $O0(Z)?WR0(Z):Z.length;var J=v4(Z);if(J==PG8||J==jG8)return Z.size;return n2(Z).length}var PG8="[object Map]",jG8="[object Set]",ic;var AR0=_(()=>{zC();tG();SX();kO0();GR0();ic=CG8});var SG8,hX;var NR0=_(()=>{dD();aO0();jD();CD();SG8=t1(function(Z,J){if(Z==null)return[];var Q=J.length;if(Q>1&&MY(Z,J[0],J[1]))J=[];else if(Q>2&&MY(J[0],J[1],J[2]))J=[J[0]];return nO0(Z,qq(J,1),[])}),hX=SG8});var TG8=1/0,wG8,ER0;var VR0=_(()=>{Ec();GM0();TC();wG8=!(Wq&&1/ZF(new Wq([,-0]))[1]==TG8)?WM0:function(Z){return new Wq(Z)},ER0=wG8});function kG8(Z,J,Q){var K=-1,X=RM0,U=Z.length,Y=!0,q=[],W=q;if(Q)Y=!1,X=zO0;else if(U>=$G8){var G=J?null:ER0(Z);if(G)return ZF(G);Y=!1,X=CC,W=new jC}else W=J?[]:q;Z:while(++K<U){var z=Z[K],H=J?J(z):z;if(z=Q||z!==0?z:0,Y&&H===H){var F=W.length;while(F--)if(W[F]===H)continue Z;if(J)W.push(H);q.push(z)}else if(!X(W,H,Q)){if(W!==q)W.push(H);q.push(z)}}return q}var $G8=200,lC;var sc=_(()=>{Cc();DM0();HO0();Sc();VR0();TC();lC=kG8});var _G8,rc;var PR0=_(()=>{dD();jD();sc();Fp();_G8=t1(function(Z){return lC(qq(Z,1,Rj,!0))}),rc=_G8});function fG8(Z,J){return Z&&Z.length?lC(Z,x7(J,2)):[]}var jR0;var CR0=_(()=>{yX();sc();jR0=fG8});function xG8(Z){var J=++vG8;return FC(Z)+J}var vG8=0,Qz;var SR0=_(()=>{Rc();Qz=xG8});function bG8(Z,J,Q){var K=-1,X=Z.length,U=J.length,Y={};while(++K<X){var q=K<U?J[K]:void 0;Q(Y,Z[K],q)}return Y}var TR0;var wR0=_(()=>{TR0=bG8});function yG8(Z,J){return TR0(Z||[],J||[],r1)}var dC;var $R0=_(()=>{VD();wR0();dC=yG8});var IZ=_(()=>{Pc();jB0();Dp();GO0();MO0();yc();AO0();BC();mC();VO0();PO0();wO0();Q7();gC();GD();xO0();RY();FO0();XF();bO0();yO0();Ip();pc();hO0();qO0();FR0();DR0();dc();AR0();NR0();PR0();SR0();vO0();$R0()});class SZ{constructor(Z={}){if(this._isDirected=Object.prototype.hasOwnProperty.call(Z,"directed")?Z.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(Z,"multigraph")?Z.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(Z,"compound")?Z.compound:!1,this._label=void 0,this._defaultNodeLabelFn=l6(void 0),this._defaultEdgeLabelFn=l6(void 0),this._nodes={},this._isCompound)this._parent={},this._children={},this._children[Kz]={};this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(Z){return this._label=Z,this}graph(){return this._label}setDefaultNodeLabel(Z){if(!jX(Z))Z=l6(Z);return this._defaultNodeLabelFn=Z,this}nodeCount(){return this._nodeCount}nodes(){return hJ(this._nodes)}sources(){var Z=this;return GQ(this.nodes(),function(J){return DY(Z._in[J])})}sinks(){var Z=this;return GQ(this.nodes(),function(J){return DY(Z._out[J])})}setNodes(Z,J){var Q=arguments,K=this;return l0(Z,function(X){if(Q.length>1)K.setNode(X,J);else K.setNode(X)}),this}setNode(Z,J){if(Object.prototype.hasOwnProperty.call(this._nodes,Z)){if(arguments.length>1)this._nodes[Z]=J;return this}if(this._nodes[Z]=arguments.length>1?J:this._defaultNodeLabelFn(Z),this._isCompound)this._parent[Z]=Kz,this._children[Z]={},this._children[Kz][Z]=!0;return this._in[Z]={},this._preds[Z]={},this._out[Z]={},this._sucs[Z]={},++this._nodeCount,this}node(Z){return this._nodes[Z]}hasNode(Z){return Object.prototype.hasOwnProperty.call(this._nodes,Z)}removeNode(Z){if(Object.prototype.hasOwnProperty.call(this._nodes,Z)){var J=(Q)=>this.removeEdge(this._edgeObjs[Q]);if(delete this._nodes[Z],this._isCompound)this._removeFromParentsChildList(Z),delete this._parent[Z],l0(this.children(Z),(Q)=>{this.setParent(Q)}),delete this._children[Z];l0(hJ(this._in[Z]),J),delete this._in[Z],delete this._preds[Z],l0(hJ(this._out[Z]),J),delete this._out[Z],delete this._sucs[Z],--this._nodeCount}return this}setParent(Z,J){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(fZ(J))J=Kz;else{J+="";for(var Q=J;!fZ(Q);Q=this.parent(Q))if(Q===Z)throw Error("Setting "+J+" as parent of "+Z+" would create a cycle");this.setNode(J)}return this.setNode(Z),this._removeFromParentsChildList(Z),this._parent[Z]=J,this._children[J][Z]=!0,this}_removeFromParentsChildList(Z){delete this._children[this._parent[Z]][Z]}parent(Z){if(this._isCompound){var J=this._parent[Z];if(J!==Kz)return J}}children(Z){if(fZ(Z))Z=Kz;if(this._isCompound){var J=this._children[Z];if(J)return hJ(J)}else if(Z===Kz)return this.nodes();else if(this.hasNode(Z))return[]}predecessors(Z){var J=this._preds[Z];if(J)return hJ(J)}successors(Z){var J=this._sucs[Z];if(J)return hJ(J)}neighbors(Z){var J=this.predecessors(Z);if(J)return rc(J,this.successors(Z))}isLeaf(Z){var J;if(this.isDirected())J=this.successors(Z);else J=this.neighbors(Z);return J.length===0}filterNodes(Z){var J=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});J.setGraph(this.graph());var Q=this;l0(this._nodes,function(U,Y){if(Z(Y))J.setNode(Y,U)}),l0(this._edgeObjs,function(U){if(J.hasNode(U.v)&&J.hasNode(U.w))J.setEdge(U,Q.edge(U))});var K={};function X(U){var Y=Q.parent(U);if(Y===void 0||J.hasNode(Y))return K[U]=Y,Y;else if(Y in K)return K[Y];else return X(Y)}if(this._isCompound)l0(J.nodes(),function(U){J.setParent(U,X(U))});return J}setDefaultEdgeLabel(Z){if(!jX(Z))Z=l6(Z);return this._defaultEdgeLabelFn=Z,this}edgeCount(){return this._edgeCount}edges(){return x4(this._edgeObjs)}setPath(Z,J){var Q=this,K=arguments;return b4(Z,function(X,U){if(K.length>1)Q.setEdge(X,U,J);else Q.setEdge(X,U);return U}),this}setEdge(){var Z,J,Q,K,X=!1,U=arguments[0];if(typeof U==="object"&&U!==null&&"v"in U){if(Z=U.v,J=U.w,Q=U.name,arguments.length===2)K=arguments[1],X=!0}else if(Z=U,J=arguments[1],Q=arguments[3],arguments.length>2)K=arguments[2],X=!0;if(Z=""+Z,J=""+J,!fZ(Q))Q=""+Q;var Y=aD(this._isDirected,Z,J,Q);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,Y)){if(X)this._edgeLabels[Y]=K;return this}if(!fZ(Q)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(Z),this.setNode(J),this._edgeLabels[Y]=X?K:this._defaultEdgeLabelFn(Z,J,Q);var q=mG8(this._isDirected,Z,J,Q);return Z=q.v,J=q.w,Object.freeze(q),this._edgeObjs[Y]=q,_R0(this._preds[J],Z),_R0(this._sucs[Z],J),this._in[J][Y]=q,this._out[Z][Y]=q,this._edgeCount++,this}edge(Z,J,Q){var K=arguments.length===1?nc(this._isDirected,arguments[0]):aD(this._isDirected,Z,J,Q);return this._edgeLabels[K]}hasEdge(Z,J,Q){var K=arguments.length===1?nc(this._isDirected,arguments[0]):aD(this._isDirected,Z,J,Q);return Object.prototype.hasOwnProperty.call(this._edgeLabels,K)}removeEdge(Z,J,Q){var K=arguments.length===1?nc(this._isDirected,arguments[0]):aD(this._isDirected,Z,J,Q),X=this._edgeObjs[K];if(X)Z=X.v,J=X.w,delete this._edgeLabels[K],delete this._edgeObjs[K],fR0(this._preds[J],Z),fR0(this._sucs[Z],J),delete this._in[J][K],delete this._out[Z][K],this._edgeCount--;return this}inEdges(Z,J){var Q=this._in[Z];if(Q){var K=x4(Q);if(!J)return K;return GQ(K,function(X){return X.v===J})}}outEdges(Z,J){var Q=this._out[Z];if(Q){var K=x4(Q);if(!J)return K;return GQ(K,function(X){return X.w===J})}}nodeEdges(Z,J){var Q=this.inEdges(Z,J);if(Q)return Q.concat(this.outEdges(Z,J))}}function _R0(Z,J){if(Z[J])Z[J]++;else Z[J]=1}function fR0(Z,J){if(!--Z[J])delete Z[J]}function aD(Z,J,Q,K){var X=""+J,U=""+Q;if(!Z&&X>U){var Y=X;X=U,U=Y}return X+kR0+U+kR0+(fZ(K)?hG8:K)}function mG8(Z,J,Q,K){var X=""+J,U=""+Q;if(!Z&&X>U){var Y=X;X=U,U=Y}var q={v:X,w:U};if(K)q.name=K;return q}function nc(Z,J){return aD(Z,J.v,J.w,J.name)}var hG8="\x00",Kz="\x00",kR0="\x01";var iC=_(()=>{IZ();SZ.prototype._nodeCount=0;SZ.prototype._edgeCount=0});var RK=_(()=>{iC()});class ac{constructor(){var Z={};Z._next=Z._prev=Z,this._sentinel=Z}dequeue(){var Z=this._sentinel,J=Z._prev;if(J!==Z)return vR0(J),J}enqueue(Z){var J=this._sentinel;if(Z._prev&&Z._next)vR0(Z);Z._next=J._next,J._next._prev=Z,J._next=Z,Z._prev=J}toString(){var Z=[],J=this._sentinel,Q=J._prev;while(Q!==J)Z.push(JSON.stringify(Q,uG8)),Q=Q._prev;return"["+Z.join(", ")+"]"}}function vR0(Z){Z._prev._next=Z._next,Z._next._prev=Z._prev,delete Z._next,delete Z._prev}function uG8(Z,J){if(Z!=="_next"&&Z!=="_prev")return J}var xR0=()=>{};function bR0(Z,J){if(Z.nodeCount()<=1)return[];var Q=cG8(Z,J||gG8),K=pG8(Q.graph,Q.buckets,Q.zeroIdx);return r6(I9(K,function(X){return Z.outEdges(X.v,X.w)}))}function pG8(Z,J,Q){var K=[],X=J[J.length-1],U=J[0],Y;while(Z.nodeCount()){while(Y=U.dequeue())oc(Z,J,Q,Y);while(Y=X.dequeue())oc(Z,J,Q,Y);if(Z.nodeCount()){for(var q=J.length-2;q>0;--q)if(Y=J[q].dequeue(),Y){K=K.concat(oc(Z,J,Q,Y,!0));break}}}return K}function oc(Z,J,Q,K,X){var U=X?[]:void 0;return l0(Z.inEdges(K.v),function(Y){var q=Z.edge(Y),W=Z.node(Y.v);if(X)U.push({v:Y.v,w:Y.w});W.out-=q,tc(J,Q,W)}),l0(Z.outEdges(K.v),function(Y){var q=Z.edge(Y),W=Y.w,G=Z.node(W);G.in-=q,tc(J,Q,G)}),Z.removeNode(K.v),U}function cG8(Z,J){var Q=new SZ,K=0,X=0;l0(Z.nodes(),function(q){Q.setNode(q,{v:q,in:0,out:0})}),l0(Z.edges(),function(q){var W=Q.edge(q.v,q.w)||0,G=J(q),z=W+G;Q.setEdge(q.v,q.w,z),X=Math.max(X,Q.node(q.v).out+=G),K=Math.max(K,Q.node(q.w).in+=G)});var U=OK(X+K+3).map(function(){return new ac}),Y=K+1;return l0(Q.nodes(),function(q){tc(U,Y,Q.node(q))}),{graph:Q,buckets:U,zeroIdx:Y}}function tc(Z,J,Q){if(!Q.out)Z[0].enqueue(Q);else if(!Q.in)Z[Z.length-1].enqueue(Q);else Z[Q.out-Q.in+J].enqueue(Q)}var gG8;var yR0=_(()=>{IZ();RK();xR0();gG8=l6(1)});function hR0(Z){var J=Z.graph().acyclicer==="greedy"?bR0(Z,Q(Z)):lG8(Z);l0(J,function(K){var X=Z.edge(K);Z.removeEdge(K),X.forwardName=K.name,X.reversed=!0,Z.setEdge(K.w,K.v,X,Qz("rev"))});function Q(K){return function(X){return K.edge(X).weight}}}function lG8(Z){var J=[],Q={},K={};function X(U){if(Object.prototype.hasOwnProperty.call(K,U))return;K[U]=!0,Q[U]=!0,l0(Z.outEdges(U),function(Y){if(Object.prototype.hasOwnProperty.call(Q,Y.w))J.push(Y);else X(Y.w)}),delete Q[U]}return l0(Z.nodes(),X),J}function mR0(Z){l0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed){Z.removeEdge(J);var K=Q.forwardName;delete Q.reversed,delete Q.forwardName,Z.setEdge(J.w,J.v,Q,K)}})}var ec=_(()=>{IZ();yR0()});function mX(Z,J,Q,K){var X;do X=Qz(K);while(Z.hasNode(X));return Q.dummy=J,Z.setNode(X,Q),X}function gR0(Z){var J=new SZ().setGraph(Z.graph());return l0(Z.nodes(),function(Q){J.setNode(Q,Z.node(Q))}),l0(Z.edges(),function(Q){var K=J.edge(Q.v,Q.w)||{weight:0,minlen:1},X=Z.edge(Q);J.setEdge(Q.v,Q.w,{weight:K.weight+X.weight,minlen:Math.max(K.minlen,X.minlen)})}),J}function rC(Z){var J=new SZ({multigraph:Z.isMultigraph()}).setGraph(Z.graph());return l0(Z.nodes(),function(Q){if(!Z.children(Q).length)J.setNode(Q,Z.node(Q))}),l0(Z.edges(),function(Q){J.setEdge(Q,Z.edge(Q))}),J}function Zl(Z,J){var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2;if(!X&&!U)throw Error("Not possible to find intersection inside of the rectangle");var W,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;W=q*X/U,G=q}else{if(X<0)Y=-Y;W=Y,G=Y*U/X}return{x:Q+W,y:K+G}}function Hq(Z){var J=I9(OK(Ql(Z)+1),function(){return[]});return l0(Z.nodes(),function(Q){var K=Z.node(Q),X=K.rank;if(!fZ(X))J[X][K.order]=Q}),J}function pR0(Z){var J=N5(I9(Z.nodes(),function(Q){return Z.node(Q).rank}));l0(Z.nodes(),function(Q){var K=Z.node(Q);if(nD(K,"rank"))K.rank-=J})}function cR0(Z){var J=N5(I9(Z.nodes(),function(U){return Z.node(U).rank})),Q=[];l0(Z.nodes(),function(U){var Y=Z.node(U).rank-J;if(!Q[Y])Q[Y]=[];Q[Y].push(U)});var K=0,X=Z.graph().nodeRankFactor;l0(Q,function(U,Y){if(fZ(U)&&Y%X!==0)--K;else if(K)l0(U,function(q){Z.node(q).rank+=K})})}function Jl(Z,J,Q,K){var X={width:0,height:0};if(arguments.length>=4)X.rank=Q,X.order=K;return mX(Z,"border",X,J)}function Ql(Z){return n6(I9(Z.nodes(),function(J){var Q=Z.node(J).rank;if(!fZ(Q))return Q}))}function lR0(Z,J){var Q={lhs:[],rhs:[]};return l0(Z,function(K){if(J(K))Q.lhs.push(K);else Q.rhs.push(K)}),Q}function dR0(Z,J){var Q=yC();try{return J()}finally{console.log(Z+" time: "+(yC()-Q)+"ms")}}function iR0(Z,J){return J()}var uX=_(()=>{IZ();RK()});function rR0(Z){function J(Q){var K=Z.children(Q),X=Z.node(Q);if(K.length)l0(K,J);if(Object.prototype.hasOwnProperty.call(X,"minRank")){X.borderLeft=[],X.borderRight=[];for(var U=X.minRank,Y=X.maxRank+1;U<Y;++U)sR0(Z,"borderLeft","_bl",Q,X,U),sR0(Z,"borderRight","_br",Q,X,U)}}l0(Z.children(),J)}function sR0(Z,J,Q,K,X,U){var Y={width:0,height:0,rank:U,borderType:J},q=X[J][U-1],W=mX(Z,"border",Y,Q);if(X[J][U]=W,Z.setParent(W,K),q)Z.setEdge(q,W,{weight:1})}var nR0=_(()=>{IZ();uX()});function oR0(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="lr"||J==="rl")eR0(Z)}function tR0(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="bt"||J==="rl")dG8(Z);if(J==="lr"||J==="rl")iG8(Z),eR0(Z)}function eR0(Z){l0(Z.nodes(),function(J){aR0(Z.node(J))}),l0(Z.edges(),function(J){aR0(Z.edge(J))})}function aR0(Z){var J=Z.width;Z.width=Z.height,Z.height=J}function dG8(Z){l0(Z.nodes(),function(J){Kl(Z.node(J))}),l0(Z.edges(),function(J){var Q=Z.edge(J);if(l0(Q.points,Kl),Object.prototype.hasOwnProperty.call(Q,"y"))Kl(Q)})}function Kl(Z){Z.y=-Z.y}function iG8(Z){l0(Z.nodes(),function(J){Xl(Z.node(J))}),l0(Z.edges(),function(J){var Q=Z.edge(J);if(l0(Q.points,Xl),Object.prototype.hasOwnProperty.call(Q,"x"))Xl(Q)})}function Xl(Z){var J=Z.x;Z.x=Z.y,Z.y=J}var Z30=_(()=>{IZ()});function J30(Z){Z.graph().dummyChains=[],l0(Z.edges(),function(J){rG8(Z,J)})}function rG8(Z,J){var Q=J.v,K=Z.node(Q).rank,X=J.w,U=Z.node(X).rank,Y=J.name,q=Z.edge(J),W=q.labelRank;if(U===K+1)return;Z.removeEdge(J);var G=void 0,z,H;for(H=0,++K;K<U;++H,++K){if(q.points=[],G={width:0,height:0,edgeLabel:q,edgeObj:J,rank:K},z=mX(Z,"edge",G,"_d"),K===W)G.width=q.width,G.height=q.height,G.dummy="edge-label",G.labelpos=q.labelpos;if(Z.setEdge(Q,z,{weight:q.weight},Y),H===0)Z.graph().dummyChains.push(z);Q=z}Z.setEdge(Q,X,{weight:q.weight},Y)}function Q30(Z){l0(Z.graph().dummyChains,function(J){var Q=Z.node(J),K=Q.edgeLabel,X;Z.setEdge(Q.edgeObj,K);while(Q.dummy){if(X=Z.successors(J)[0],Z.removeNode(J),K.points.push({x:Q.x,y:Q.y}),Q.dummy==="edge-label")K.x=Q.x,K.y=Q.y,K.width=Q.width,K.height=Q.height;J=X,Q=Z.node(J)}})}var Ul=_(()=>{IZ();uX()});function oD(Z){var J={};function Q(K){var X=Z.node(K);if(Object.prototype.hasOwnProperty.call(J,K))return X.rank;J[K]=!0;var U=N5(I9(Z.outEdges(K),function(Y){return Q(Y.w)-Z.edge(Y).minlen}));if(U===Number.POSITIVE_INFINITY||U===void 0||U===null)U=0;return X.rank=U}l0(Z.sources(),Q)}function Xz(Z,J){return Z.node(J.w).rank-Z.node(J.v).rank-Z.edge(J).minlen}var nC=_(()=>{IZ()});function aC(Z){var J=new SZ({directed:!1}),Q=Z.nodes()[0],K=Z.nodeCount();J.setNode(Q,{});var X,U;while(nG8(J,Z)<K)X=aG8(J,Z),U=J.hasNode(X.v)?Xz(Z,X):-Xz(Z,X),oG8(J,Z,U);return J}function nG8(Z,J){function Q(K){l0(J.nodeEdges(K),function(X){var U=X.v,Y=K===U?X.w:U;if(!Z.hasNode(Y)&&!Xz(J,X))Z.setNode(Y,{}),Z.setEdge(K,Y,{}),Q(Y)})}return l0(Z.nodes(),Q),Z.nodeCount()}function aG8(Z,J){return Zz(J.edges(),function(Q){if(Z.hasNode(Q.v)!==Z.hasNode(Q.w))return Xz(J,Q)})}function oG8(Z,J,Q){l0(Z.nodes(),function(K){J.node(K).rank+=Q})}var Yl=_(()=>{IZ();RK();nC()});var X30=()=>{};var ql=()=>{};var _O9;var Wl=_(()=>{IZ();ql();_O9=l6(1)});var U30=_(()=>{Wl()});var Gl=()=>{};var Y30=_(()=>{Gl()});var mO9;var q30=_(()=>{IZ();mO9=l6(1)});function zl(Z){var J={},Q={},K=[];function X(U){if(Object.prototype.hasOwnProperty.call(Q,U))throw new tD;if(!Object.prototype.hasOwnProperty.call(J,U))Q[U]=!0,J[U]=!0,l0(Z.predecessors(U),X),delete Q[U],K.push(U)}if(l0(Z.sinks(),X),ic(J)!==Z.nodeCount())throw new tD;return K}function tD(){}var Hl=_(()=>{IZ();zl.CycleException=tD;tD.prototype=Error()});var W30=_(()=>{Hl()});function oC(Z,J,Q){if(!P9(J))J=[J];var K=(Z.isDirected()?Z.successors:Z.neighbors).bind(Z),X=[],U={};return l0(J,function(Y){if(!Z.hasNode(Y))throw Error("Graph does not have node: "+Y);G30(Z,Y,Q==="post",U,K,X)}),X}function G30(Z,J,Q,K,X,U){if(!Object.prototype.hasOwnProperty.call(K,J)){if(K[J]=!0,!Q)U.push(J);if(l0(X(J),function(Y){G30(Z,Y,Q,K,X,U)}),Q)U.push(J)}}var Fl=_(()=>{IZ()});function Ml(Z,J){return oC(Z,J,"post")}var z30=_(()=>{Fl()});function Bl(Z,J){return oC(Z,J,"pre")}var H30=_(()=>{Fl()});var F30=_(()=>{ql();iC()});var M30=_(()=>{X30();Wl();U30();Y30();q30();W30();z30();H30();F30();Gl();Hl()});function Mq(Z){Z=gR0(Z),oD(Z);var J=aC(Z);Rl(J),Ol(J,Z);var Q,K;while(Q=D30(J))K=L30(J,Z,Q),I30(J,Z,Q,K)}function Ol(Z,J){var Q=Ml(Z,Z.nodes());Q=Q.slice(0,Q.length-1),l0(Q,function(K){Qz8(Z,J,K)})}function Qz8(Z,J,Q){var K=Z.node(Q),X=K.parent;Z.edge(Q,X).cutvalue=O30(Z,J,Q)}function O30(Z,J,Q){var K=Z.node(Q),X=K.parent,U=!0,Y=J.edge(Q,X),q=0;if(!Y)U=!1,Y=J.edge(X,Q);return q=Y.weight,l0(J.nodeEdges(Q),function(W){var G=W.v===Q,z=G?W.w:W.v;if(z!==X){var H=G===U,F=J.edge(W).weight;if(q+=H?F:-F,Xz8(Z,Q,z)){var M=Z.edge(Q,z).cutvalue;q+=H?-M:M}}}),q}function Rl(Z,J){if(arguments.length<2)J=Z.nodes()[0];R30(Z,{},1,J)}function R30(Z,J,Q,K,X){var U=Q,Y=Z.node(K);if(J[K]=!0,l0(Z.neighbors(K),function(q){if(!Object.prototype.hasOwnProperty.call(J,q))Q=R30(Z,J,Q,q,K)}),Y.low=U,Y.lim=Q++,X)Y.parent=X;else delete Y.parent;return Q}function D30(Z){return KF(Z.edges(),function(J){return Z.edge(J).cutvalue<0})}function L30(Z,J,Q){var{v:K,w:X}=Q;if(!J.hasEdge(K,X))K=Q.w,X=Q.v;var U=Z.node(K),Y=Z.node(X),q=U,W=!1;if(U.lim>Y.lim)q=Y,W=!0;var G=GQ(J.edges(),function(z){return W===B30(Z,Z.node(z.v),q)&&W!==B30(Z,Z.node(z.w),q)});return Zz(G,function(z){return Xz(J,z)})}function I30(Z,J,Q,K){var{v:X,w:U}=Q;Z.removeEdge(X,U),Z.setEdge(K.v,K.w,{}),Rl(Z),Ol(Z,J),Kz8(Z,J)}function Kz8(Z,J){var Q=KF(Z.nodes(),function(X){return!J.node(X).parent}),K=Bl(Z,Q);K=K.slice(1),l0(K,function(X){var U=Z.node(X).parent,Y=J.edge(X,U),q=!1;if(!Y)Y=J.edge(U,X),q=!0;J.node(X).rank=J.node(U).rank+(q?Y.minlen:-Y.minlen)})}function Xz8(Z,J,Q){return Z.hasEdge(J,Q)}function B30(Z,J,Q){return Q.low<=J.lim&&J.lim<=Q.lim}var A30=_(()=>{IZ();M30();uX();Yl();nC();Mq.initLowLimValues=Rl;Mq.initCutValues=Ol;Mq.calcCutValue=O30;Mq.leaveEdge=D30;Mq.enterEdge=L30;Mq.exchangeEdges=I30});function Dl(Z){switch(Z.graph().ranker){case"network-simplex":N30(Z);break;case"tight-tree":Yz8(Z);break;case"longest-path":Uz8(Z);break;default:N30(Z)}}function Yz8(Z){oD(Z),aC(Z)}function N30(Z){Mq(Z)}var Uz8;var Ll=_(()=>{Yl();A30();nC();Uz8=oD});function E30(Z){var J=mX(Z,"root",{},"_root"),Q=qz8(Z),K=n6(x4(Q))-1,X=2*K+1;Z.graph().nestingRoot=J,l0(Z.edges(),function(Y){Z.edge(Y).minlen*=X});var U=Wz8(Z)+1;l0(Z.children(),function(Y){V30(Z,J,X,U,K,Q,Y)}),Z.graph().nodeRankFactor=X}function V30(Z,J,Q,K,X,U,Y){var q=Z.children(Y);if(!q.length){if(Y!==J)Z.setEdge(J,Y,{weight:0,minlen:Q});return}var W=Jl(Z,"_bt"),G=Jl(Z,"_bb"),z=Z.node(Y);if(Z.setParent(W,Y),z.borderTop=W,Z.setParent(G,Y),z.borderBottom=G,l0(q,function(H){V30(Z,J,Q,K,X,U,H);var F=Z.node(H),M=F.borderTop?F.borderTop:H,B=F.borderBottom?F.borderBottom:H,O=F.borderTop?K:2*K,R=M!==B?1:X-U[Y]+1;Z.setEdge(W,M,{weight:O,minlen:R,nestingEdge:!0}),Z.setEdge(B,G,{weight:O,minlen:R,nestingEdge:!0})}),!Z.parent(Y))Z.setEdge(J,W,{weight:0,minlen:X+U[Y]})}function qz8(Z){var J={};function Q(K,X){var U=Z.children(K);if(U&&U.length)l0(U,function(Y){Q(Y,X+1)});J[K]=X}return l0(Z.children(),function(K){Q(K,1)}),J}function Wz8(Z){return b4(Z.edges(),function(J,Q){return J+Z.edge(Q).weight},0)}function P30(Z){var J=Z.graph();Z.removeNode(J.nestingRoot),delete J.nestingRoot,l0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.nestingEdge)Z.removeEdge(Q)})}var j30=_(()=>{IZ();uX()});function C30(Z,J,Q){var K={},X;l0(Q,function(U){var Y=Z.parent(U),q,W;while(Y){if(q=Z.parent(Y),q)W=K[q],K[q]=Y;else W=X,X=Y;if(W&&W!==Y){J.setEdge(W,Y);return}Y=q}})}var S30=_(()=>{IZ()});function T30(Z,J,Q){var K=zz8(Z),X=new SZ({compound:!0}).setGraph({root:K}).setDefaultNodeLabel(function(U){return Z.node(U)});return l0(Z.nodes(),function(U){var Y=Z.node(U),q=Z.parent(U);if(Y.rank===J||Y.minRank<=J&&J<=Y.maxRank){if(X.setNode(U),X.setParent(U,q||K),l0(Z[Q](U),function(W){var G=W.v===U?W.w:W.v,z=X.edge(G,U),H=!fZ(z)?z.weight:0;X.setEdge(G,U,{weight:Z.edge(W).weight+H})}),Object.prototype.hasOwnProperty.call(Y,"minRank"))X.setNode(U,{borderLeft:Y.borderLeft[J],borderRight:Y.borderRight[J]})}}),X}function zz8(Z){var J;while(Z.hasNode(J=Qz("_root")));return J}var w30=_(()=>{IZ();RK()});function $30(Z,J){var Q=0;for(var K=1;K<J.length;++K)Q+=Hz8(Z,J[K-1],J[K]);return Q}function Hz8(Z,J,Q){var K=dC(Q,I9(Q,function(G,z){return z})),X=r6(I9(J,function(G){return hX(I9(Z.outEdges(G),function(z){return{pos:K[z.w],weight:Z.edge(z).weight}}),"pos")})),U=1;while(U<Q.length)U<<=1;var Y=2*U-1;U-=1;var q=I9(Array(Y),function(){return 0}),W=0;return l0(X.forEach(function(G){var z=G.pos+U;q[z]+=G.weight;var H=0;while(z>0){if(z%2)H+=q[z+1];z=z-1>>1,q[z]+=G.weight}W+=G.weight*H})),W}var k30=_(()=>{IZ()});function _30(Z){var J={},Q=GQ(Z.nodes(),function(q){return!Z.children(q).length}),K=n6(I9(Q,function(q){return Z.node(q).rank})),X=I9(OK(K+1),function(){return[]});function U(q){if(nD(J,q))return;J[q]=!0;var W=Z.node(q);X[W.rank].push(q),l0(Z.successors(q),U)}var Y=hX(Q,function(q){return Z.node(q).rank});return l0(Y,U),X}var f30=_(()=>{IZ()});function v30(Z,J){return I9(J,function(Q){var K=Z.inEdges(Q);if(!K.length)return{v:Q};else{var X=b4(K,function(U,Y){var q=Z.edge(Y),W=Z.node(Y.v);return{sum:U.sum+q.weight*W.order,weight:U.weight+q.weight}},{sum:0,weight:0});return{v:Q,barycenter:X.sum/X.weight,weight:X.weight}}})}var x30=_(()=>{IZ()});function b30(Z,J){var Q={};l0(Z,function(X,U){var Y=Q[X.v]={indegree:0,in:[],out:[],vs:[X.v],i:U};if(!fZ(X.barycenter))Y.barycenter=X.barycenter,Y.weight=X.weight}),l0(J.edges(),function(X){var U=Q[X.v],Y=Q[X.w];if(!fZ(U)&&!fZ(Y))Y.indegree++,U.out.push(Q[X.w])});var K=GQ(Q,function(X){return!X.indegree});return Fz8(K)}function Fz8(Z){var J=[];function Q(U){return function(Y){if(Y.merged)return;if(fZ(Y.barycenter)||fZ(U.barycenter)||Y.barycenter>=U.barycenter)Mz8(U,Y)}}function K(U){return function(Y){if(Y.in.push(U),--Y.indegree===0)Z.push(Y)}}while(Z.length){var X=Z.pop();J.push(X),l0(X.in.reverse(),Q(X)),l0(X.out,K(X))}return I9(GQ(J,function(U){return!U.merged}),function(U){return Jz(U,["vs","i","barycenter","weight"])})}function Mz8(Z,J){var Q=0,K=0;if(Z.weight)Q+=Z.barycenter*Z.weight,K+=Z.weight;if(J.weight)Q+=J.barycenter*J.weight,K+=J.weight;Z.vs=J.vs.concat(Z.vs),Z.barycenter=Q/K,Z.weight=K,Z.i=Math.min(J.i,Z.i),J.merged=!0}var y30=_(()=>{IZ()});function m30(Z,J){var Q=lR0(Z,function(z){return Object.prototype.hasOwnProperty.call(z,"barycenter")}),K=Q.lhs,X=hX(Q.rhs,function(z){return-z.i}),U=[],Y=0,q=0,W=0;K.sort(Bz8(!!J)),W=h30(U,X,W),l0(K,function(z){W+=z.vs.length,U.push(z.vs),Y+=z.barycenter*z.weight,q+=z.weight,W=h30(U,X,W)});var G={vs:r6(U)};if(q)G.barycenter=Y/q,G.weight=q;return G}function h30(Z,J,Q){var K;while(J.length&&(K=zq(J)).i<=Q)J.pop(),Z.push(K.vs),Q++;return Q}function Bz8(Z){return function(J,Q){if(J.barycenter<Q.barycenter)return-1;else if(J.barycenter>Q.barycenter)return 1;return!Z?J.i-Q.i:Q.i-J.i}}var u30=_(()=>{IZ();uX()});function Il(Z,J,Q,K){var X=Z.children(J),U=Z.node(J),Y=U?U.borderLeft:void 0,q=U?U.borderRight:void 0,W={};if(Y)X=GQ(X,function(B){return B!==Y&&B!==q});var G=v30(Z,X);l0(G,function(B){if(Z.children(B.v).length){var O=Il(Z,B.v,Q,K);if(W[B.v]=O,Object.prototype.hasOwnProperty.call(O,"barycenter"))Rz8(B,O)}});var z=b30(G,Q);Oz8(z,W);var H=m30(z,K);if(Y){if(H.vs=r6([Y,H.vs,q]),Z.predecessors(Y).length){var F=Z.node(Z.predecessors(Y)[0]),M=Z.node(Z.predecessors(q)[0]);if(!Object.prototype.hasOwnProperty.call(H,"barycenter"))H.barycenter=0,H.weight=0;H.barycenter=(H.barycenter*H.weight+F.order+M.order)/(H.weight+2),H.weight+=2}}return H}function Oz8(Z,J){l0(Z,function(Q){Q.vs=r6(Q.vs.map(function(K){if(J[K])return J[K].vs;return K}))})}function Rz8(Z,J){if(!fZ(Z.barycenter))Z.barycenter=(Z.barycenter*Z.weight+J.barycenter*J.weight)/(Z.weight+J.weight),Z.weight+=J.weight;else Z.barycenter=J.barycenter,Z.weight=J.weight}var g30=_(()=>{IZ();x30();y30();u30()});function l30(Z){var J=Ql(Z),Q=p30(Z,OK(1,J+1),"inEdges"),K=p30(Z,OK(J-1,-1,-1),"outEdges"),X=_30(Z);c30(Z,X);var U=Number.POSITIVE_INFINITY,Y;for(var q=0,W=0;W<4;++q,++W){Dz8(q%2?Q:K,q%4>=2),X=Hq(Z);var G=$30(Z,X);if(G<U)W=0,Y=jc(X),U=G}c30(Z,Y)}function p30(Z,J,Q){return I9(J,function(K){return T30(Z,K,Q)})}function Dz8(Z,J){var Q=new SZ;l0(Z,function(K){var X=K.graph().root,U=Il(K,X,Q,J);l0(U.vs,function(Y,q){K.node(Y).order=q}),C30(K,Q,U.vs)})}function c30(Z,J){l0(J,function(Q){l0(Q,function(K,X){Z.node(K).order=X})})}var d30=_(()=>{IZ();RK();uX();S30();w30();k30();f30();g30()});function i30(Z){var J=Iz8(Z);l0(Z.graph().dummyChains,function(Q){var K=Z.node(Q),X=K.edgeObj,U=Lz8(Z,J,X.v,X.w),Y=U.path,q=U.lca,W=0,G=Y[W],z=!0;while(Q!==X.w){if(K=Z.node(Q),z){while((G=Y[W])!==q&&Z.node(G).maxRank<K.rank)W++;if(G===q)z=!1}if(!z){while(W<Y.length-1&&Z.node(G=Y[W+1]).minRank<=K.rank)W++;G=Y[W]}Z.setParent(Q,G),Q=Z.successors(Q)[0]}})}function Lz8(Z,J,Q,K){var X=[],U=[],Y=Math.min(J[Q].low,J[K].low),q=Math.max(J[Q].lim,J[K].lim),W,G;W=Q;do W=Z.parent(W),X.push(W);while(W&&(J[W].low>Y||q>J[W].lim));G=W,W=K;while((W=Z.parent(W))!==G)U.push(W);return{path:X.concat(U.reverse()),lca:G}}function Iz8(Z){var J={},Q=0;function K(X){var U=Q;l0(Z.children(X),K),J[X]={low:U,lim:Q++}}return l0(Z.children(),K),J}var s30=_(()=>{IZ()});function Az8(Z,J){var Q={};function K(X,U){var Y=0,q=0,W=X.length,G=zq(U);return l0(U,function(z,H){var F=Ez8(Z,z),M=F?Z.node(F).order:W;if(F||z===G)l0(U.slice(q,H+1),function(B){l0(Z.predecessors(B),function(O){var R=Z.node(O),D=R.order;if((D<Y||M<D)&&!(R.dummy&&Z.node(B).dummy))r30(Q,O,B)})}),q=H+1,Y=M}),U}return b4(J,K),Q}function Nz8(Z,J){var Q={};function K(U,Y,q,W,G){var z;l0(OK(Y,q),function(H){if(z=U[H],Z.node(z).dummy)l0(Z.predecessors(z),function(F){var M=Z.node(F);if(M.dummy&&(M.order<W||M.order>G))r30(Q,F,z)})})}function X(U,Y){var q=-1,W,G=0;return l0(Y,function(z,H){if(Z.node(z).dummy==="border"){var F=Z.predecessors(z);if(F.length)W=Z.node(F[0]).order,K(Y,G,H,q,W),G=H,q=W}K(Y,G,Y.length,W,U.length)}),Y}return b4(J,X),Q}function Ez8(Z,J){if(Z.node(J).dummy)return KF(Z.predecessors(J),function(Q){return Z.node(Q).dummy})}function r30(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}if(!Object.prototype.hasOwnProperty.call(Z,J))Object.defineProperty(Z,J,{enumerable:!0,configurable:!0,value:{},writable:!0});var X=Z[J];Object.defineProperty(X,Q,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function Vz8(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}return!!Z[J]&&Object.prototype.hasOwnProperty.call(Z[J],Q)}function Pz8(Z,J,Q,K){var X={},U={},Y={};return l0(J,function(q){l0(q,function(W,G){X[W]=W,U[W]=W,Y[W]=G})}),l0(J,function(q){var W=-1;l0(q,function(G){var z=K(G);if(z.length){z=hX(z,function(O){return Y[O]});var H=(z.length-1)/2;for(var F=Math.floor(H),M=Math.ceil(H);F<=M;++F){var B=z[F];if(U[G]===G&&W<Y[B]&&!Vz8(Q,G,B))U[B]=G,U[G]=X[G]=X[B],W=Y[B]}}})}),{root:X,align:U}}function jz8(Z,J,Q,K,X){var U={},Y=Cz8(Z,J,Q,X),q=X?"borderLeft":"borderRight";function W(H,F){var M=Y.nodes(),B=M.pop(),O={};while(B){if(O[B])H(B);else O[B]=!0,M.push(B),M=M.concat(F(B));B=M.pop()}}function G(H){U[H]=Y.inEdges(H).reduce(function(F,M){return Math.max(F,U[M.v]+Y.edge(M))},0)}function z(H){var F=Y.outEdges(H).reduce(function(B,O){return Math.min(B,U[O.w]-Y.edge(O))},Number.POSITIVE_INFINITY),M=Z.node(H);if(F!==Number.POSITIVE_INFINITY&&M.borderType!==q)U[H]=Math.max(U[H],F)}return W(G,Y.predecessors.bind(Y)),W(z,Y.successors.bind(Y)),l0(K,function(H){U[H]=U[Q[H]]}),U}function Cz8(Z,J,Q,K){var X=new SZ,U=Z.graph(),Y=$z8(U.nodesep,U.edgesep,K);return l0(J,function(q){var W;l0(q,function(G){var z=Q[G];if(X.setNode(z),W){var H=Q[W],F=X.edge(H,z);X.setEdge(H,z,Math.max(Y(Z,G,W),F||0))}W=G})}),X}function Sz8(Z,J){return Zz(x4(J),function(Q){var{NEGATIVE_INFINITY:K,POSITIVE_INFINITY:X}=Number;return mc(Q,function(U,Y){var q=kz8(Z,Y)/2;K=Math.max(U+q,K),X=Math.min(U-q,X)}),K-X})}function Tz8(Z,J){var Q=x4(J),K=N5(Q),X=n6(Q);l0(["u","d"],function(U){l0(["l","r"],function(Y){var q=U+Y,W=Z[q],G;if(W===J)return;var z=x4(W);if(G=Y==="l"?K-N5(z):X-n6(z),G)Z[q]=eG(W,function(H){return H+G})})})}function wz8(Z,J){return eG(Z.ul,function(Q,K){if(J)return Z[J.toLowerCase()][K];else{var X=hX(I9(Z,K));return(X[1]+X[2])/2}})}function n30(Z){var J=Hq(Z),Q=e1(Az8(Z,J),Nz8(Z,J)),K={},X;l0(["u","d"],function(Y){X=Y==="u"?J:x4(J).reverse(),l0(["l","r"],function(q){if(q==="r")X=I9(X,function(H){return x4(H).reverse()});var W=(Y==="u"?Z.predecessors:Z.successors).bind(Z),G=Pz8(Z,X,Q,W),z=jz8(Z,X,G.root,G.align,q==="r");if(q==="r")z=eG(z,function(H){return-H});K[Y+q]=z})});var U=Sz8(Z,K);return Tz8(K,U),wz8(K,Z.graph().align)}function $z8(Z,J,Q){return function(K,X,U){var Y=K.node(X),q=K.node(U),W=0,G;if(W+=Y.width/2,Object.prototype.hasOwnProperty.call(Y,"labelpos"))switch(Y.labelpos.toLowerCase()){case"l":G=-Y.width/2;break;case"r":G=Y.width/2;break}if(G)W+=Q?G:-G;if(G=0,W+=(Y.dummy?J:Z)/2,W+=(q.dummy?J:Z)/2,W+=q.width/2,Object.prototype.hasOwnProperty.call(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":G=q.width/2;break;case"r":G=-q.width/2;break}if(G)W+=Q?G:-G;return G=0,W}}function kz8(Z,J){return Z.node(J).width}var a30=_(()=>{IZ();RK();uX()});function o30(Z){Z=rC(Z),_z8(Z),uc(n30(Z),function(J,Q){Z.node(Q).x=J})}function _z8(Z){var J=Hq(Z),Q=Z.graph().ranksep,K=0;l0(J,function(X){var U=n6(I9(X,function(Y){return Z.node(Y).height}));l0(X,function(Y){Z.node(Y).y=K+U/2}),K+=U+Q})}var t30=_(()=>{IZ();uX();a30()});function eD(Z,J){var Q=J&&J.debugTiming?dR0:iR0;Q("layout",()=>{var K=Q("  buildLayoutGraph",()=>cz8(Z));Q("  runLayout",()=>fz8(K,Q)),Q("  updateInputGraph",()=>vz8(Z,K))})}function fz8(Z,J){J("    makeSpaceForEdgeLabels",()=>lz8(Z)),J("    removeSelfEdges",()=>ez8(Z)),J("    acyclic",()=>hR0(Z)),J("    nestingGraph.run",()=>E30(Z)),J("    rank",()=>Dl(rC(Z))),J("    injectEdgeLabelProxies",()=>dz8(Z)),J("    removeEmptyRanks",()=>cR0(Z)),J("    nestingGraph.cleanup",()=>P30(Z)),J("    normalizeRanks",()=>pR0(Z)),J("    assignRankMinMax",()=>iz8(Z)),J("    removeEdgeLabelProxies",()=>sz8(Z)),J("    normalize.run",()=>J30(Z)),J("    parentDummyChains",()=>i30(Z)),J("    addBorderSegments",()=>rR0(Z)),J("    order",()=>l30(Z)),J("    insertSelfEdges",()=>ZH8(Z)),J("    adjustCoordinateSystem",()=>oR0(Z)),J("    position",()=>o30(Z)),J("    positionSelfEdges",()=>JH8(Z)),J("    removeBorderNodes",()=>tz8(Z)),J("    normalize.undo",()=>Q30(Z)),J("    fixupEdgeLabelCoords",()=>az8(Z)),J("    undoCoordinateSystem",()=>tR0(Z)),J("    translateGraph",()=>rz8(Z)),J("    assignNodeIntersects",()=>nz8(Z)),J("    reversePoints",()=>oz8(Z)),J("    acyclic.undo",()=>mR0(Z))}function vz8(Z,J){l0(Z.nodes(),function(Q){var K=Z.node(Q),X=J.node(Q);if(K){if(K.x=X.x,K.y=X.y,J.children(Q).length)K.width=X.width,K.height=X.height}}),l0(Z.edges(),function(Q){var K=Z.edge(Q),X=J.edge(Q);if(K.points=X.points,Object.prototype.hasOwnProperty.call(X,"x"))K.x=X.x,K.y=X.y}),Z.graph().width=J.graph().width,Z.graph().height=J.graph().height}function cz8(Z){var J=new SZ({multigraph:!0,compound:!0}),Q=Nl(Z.graph());return J.setGraph(e1({},bz8,Al(Q,xz8),Jz(Q,yz8))),l0(Z.nodes(),function(K){var X=Nl(Z.node(K));J.setNode(K,bc(Al(X,hz8),mz8)),J.setParent(K,Z.parent(K))}),l0(Z.edges(),function(K){var X=Nl(Z.edge(K));J.setEdge(K,e1({},gz8,Al(X,uz8),Jz(X,pz8)))}),J}function lz8(Z){var J=Z.graph();J.ranksep/=2,l0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.minlen*=2,K.labelpos.toLowerCase()!=="c")if(J.rankdir==="TB"||J.rankdir==="BT")K.width+=K.labeloffset;else K.height+=K.labeloffset})}function dz8(Z){l0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.width&&Q.height){var K=Z.node(J.v),X=Z.node(J.w),U={rank:(X.rank-K.rank)/2+K.rank,e:J};mX(Z,"edge-proxy",U,"_ep")}})}function iz8(Z){var J=0;l0(Z.nodes(),function(Q){var K=Z.node(Q);if(K.borderTop)K.minRank=Z.node(K.borderTop).rank,K.maxRank=Z.node(K.borderBottom).rank,J=n6(J,K.maxRank)}),Z.graph().maxRank=J}function sz8(Z){l0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="edge-proxy")Z.edge(Q.e).labelRank=Q.rank,Z.removeNode(J)})}function rz8(Z){var J=Number.POSITIVE_INFINITY,Q=0,K=Number.POSITIVE_INFINITY,X=0,U=Z.graph(),Y=U.marginx||0,q=U.marginy||0;function W(G){var{x:z,y:H,width:F,height:M}=G;J=Math.min(J,z-F/2),Q=Math.max(Q,z+F/2),K=Math.min(K,H-M/2),X=Math.max(X,H+M/2)}l0(Z.nodes(),function(G){W(Z.node(G))}),l0(Z.edges(),function(G){var z=Z.edge(G);if(Object.prototype.hasOwnProperty.call(z,"x"))W(z)}),J-=Y,K-=q,l0(Z.nodes(),function(G){var z=Z.node(G);z.x-=J,z.y-=K}),l0(Z.edges(),function(G){var z=Z.edge(G);if(l0(z.points,function(H){H.x-=J,H.y-=K}),Object.prototype.hasOwnProperty.call(z,"x"))z.x-=J;if(Object.prototype.hasOwnProperty.call(z,"y"))z.y-=K}),U.width=Q-J+Y,U.height=X-K+q}function nz8(Z){l0(Z.edges(),function(J){var Q=Z.edge(J),K=Z.node(J.v),X=Z.node(J.w),U,Y;if(!Q.points)Q.points=[],U=X,Y=K;else U=Q.points[0],Y=Q.points[Q.points.length-1];Q.points.unshift(Zl(K,U)),Q.points.push(Zl(X,Y))})}function az8(Z){l0(Z.edges(),function(J){var Q=Z.edge(J);if(Object.prototype.hasOwnProperty.call(Q,"x")){if(Q.labelpos==="l"||Q.labelpos==="r")Q.width-=Q.labeloffset;switch(Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}}})}function oz8(Z){l0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed)Q.points.reverse()})}function tz8(Z){l0(Z.nodes(),function(J){if(Z.children(J).length){var Q=Z.node(J),K=Z.node(Q.borderTop),X=Z.node(Q.borderBottom),U=Z.node(zq(Q.borderLeft)),Y=Z.node(zq(Q.borderRight));Q.width=Math.abs(Y.x-U.x),Q.height=Math.abs(X.y-K.y),Q.x=U.x+Q.width/2,Q.y=K.y+Q.height/2}}),l0(Z.nodes(),function(J){if(Z.node(J).dummy==="border")Z.removeNode(J)})}function ez8(Z){l0(Z.edges(),function(J){if(J.v===J.w){var Q=Z.node(J.v);if(!Q.selfEdges)Q.selfEdges=[];Q.selfEdges.push({e:J,label:Z.edge(J)}),Z.removeEdge(J)}})}function ZH8(Z){var J=Hq(Z);l0(J,function(Q){var K=0;l0(Q,function(X,U){var Y=Z.node(X);Y.order=U+K,l0(Y.selfEdges,function(q){mX(Z,"selfedge",{width:q.label.width,height:q.label.height,rank:Y.rank,order:U+ ++K,e:q.e,label:q.label},"_se")}),delete Y.selfEdges})})}function JH8(Z){l0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="selfedge"){var K=Z.node(Q.e.v),X=K.x+K.width/2,U=K.y,Y=Q.x-X,q=K.height/2;Z.setEdge(Q.e,Q.label),Z.removeNode(J),Q.label.points=[{x:X+2*Y/3,y:U-q},{x:X+5*Y/6,y:U-q},{x:X+Y,y:U},{x:X+5*Y/6,y:U+q},{x:X+2*Y/3,y:U+q}],Q.label.x=Q.x,Q.label.y=Q.y}})}function Al(Z,J){return eG(Jz(Z,J),Number)}function Nl(Z){var J={};return l0(Z,function(Q,K){J[K.toLowerCase()]=Q}),J}var xz8,bz8,yz8,hz8,mz8,uz8,gz8,pz8;var e30=_(()=>{IZ();RK();nR0();Z30();ec();Ul();Ll();j30();d30();s30();t30();uX();xz8=["nodesep","edgesep","ranksep","marginx","marginy"],bz8={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},yz8=["acyclicer","ranker","rankdir","align"],hz8=["width","height"],mz8={width:0,height:0},uz8=["minlen","weight","width","height","labeloffset"],gz8={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},pz8=["labelpos"]});var El=_(()=>{ec();e30();Ul();Ll()});function DK(Z){var J={options:{directed:Z.isDirected(),multigraph:Z.isMultigraph(),compound:Z.isCompound()},nodes:QH8(Z),edges:KH8(Z)};if(!fZ(Z.graph()))J.value=sD(Z.graph());return J}function QH8(Z){return I9(Z.nodes(),function(J){var Q=Z.node(J),K=Z.parent(J),X={v:J};if(!fZ(Q))X.value=Q;if(!fZ(K))X.parent=K;return X})}function KH8(Z){return I9(Z.edges(),function(J){var Q=Z.edge(J),K={v:J.v,w:J.w};if(!fZ(J.name))K.name=J.name;if(!fZ(Q))K.value=Q;return K})}var Vl=_(()=>{IZ();iC()});var WD0={};z9(WD0,{render:()=>GH8});var w9,Uz,QD0,XH8,tC,UH8,KD0,XD0,YH8,ZL,JD0,qH8,UD0,YD0,WH8,qD0,GH8;var GD0=_(()=>{BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();El();Vl();RK();RK();Vl();w9=new Map,Uz=new Map,QD0=new Map,XH8=I(()=>{Uz.clear(),QD0.clear(),w9.clear()},"clear"),tC=I((Z,J)=>{let Q=Uz.get(J)||[];return Z0.trace("In isDescendant",J," ",Z," = ",Q.includes(Z)),Q.includes(Z)},"isDescendant"),UH8=I((Z,J)=>{let Q=Uz.get(J)||[];if(Z0.info("Descendants of ",J," is ",Q),Z0.info("Edge is ",Z),Z.v===J||Z.w===J)return!1;if(!Q)return Z0.debug("Tilt, ",J,",not in descendants"),!1;return Q.includes(Z.v)||tC(Z.v,J)||tC(Z.w,J)||Q.includes(Z.w)},"edgeInCluster"),KD0=I((Z,J,Q,K)=>{Z0.warn("Copying children of ",Z,"root",K,"data",J.node(Z),K);let X=J.children(Z)||[];if(Z!==K)X.push(Z);Z0.warn("Copying (nodes) clusterId",Z,"nodes",X),X.forEach((U)=>{if(J.children(U).length>0)KD0(U,J,Q,K);else{let Y=J.node(U);if(Z0.info("cp ",U," to ",K," with parent ",Z),Q.setNode(U,Y),K!==J.parent(U))Z0.warn("Setting parent",U,J.parent(U)),Q.setParent(U,J.parent(U));if(Z!==K&&U!==Z)Z0.debug("Setting parent",U,Z),Q.setParent(U,Z);else Z0.info("In copy ",Z,"root",K,"data",J.node(Z),K),Z0.debug("Not Setting parent for node=",U,"cluster!==rootId",Z!==K,"node!==clusterId",U!==Z);let q=J.edges(U);Z0.debug("Copying Edges",q),q.forEach((W)=>{Z0.info("Edge",W);let G=J.edge(W.v,W.w,W.name);Z0.info("Edge data",G,K);try{if(UH8(W,K))Z0.info("Copying as ",W.v,W.w,G,W.name),Q.setEdge(W.v,W.w,G,W.name),Z0.info("newGraph edges ",Q.edges(),Q.edge(Q.edges()[0]));else Z0.info("Skipping copy of edge ",W.v,"-->",W.w," rootId: ",K," clusterId:",Z)}catch(z){Z0.error(z)}})}Z0.debug("Removing node",U),J.removeNode(U)})},"copy"),XD0=I((Z,J)=>{let Q=J.children(Z),K=[...Q];for(let X of Q)QD0.set(X,Z),K=[...K,...XD0(X,J)];return K},"extractDescendants"),YH8=I((Z,J,Q)=>{let K=Z.edges().filter((W)=>W.v===J||W.w===J),X=Z.edges().filter((W)=>W.v===Q||W.w===Q),U=K.map((W)=>{return{v:W.v===J?Q:W.v,w:W.w===J?J:W.w}}),Y=X.map((W)=>{return{v:W.v,w:W.w}});return U.filter((W)=>{return Y.some((G)=>W.v===G.v&&W.w===G.w)})},"findCommonEdges"),ZL=I((Z,J,Q)=>{let K=J.children(Z);if(Z0.trace("Searching children of id ",Z,K),K.length<1)return Z;let X;for(let U of K){let Y=ZL(U,J,Q),q=YH8(J,Q,Y);if(Y)if(q.length>0)X=Y;else return Y}return X},"findNonClusterChild"),JD0=I((Z)=>{if(!w9.has(Z))return Z;if(!w9.get(Z).externalConnections)return Z;if(w9.has(Z))return w9.get(Z).id;return Z},"getAnchorId"),qH8=I((Z,J)=>{if(!Z||J>10){Z0.debug("Opting out, no graph ");return}else Z0.debug("Opting in, graph ");Z.nodes().forEach(function(Q){if(Z.children(Q).length>0)Z0.warn("Cluster identified",Q," Replacement id in edges: ",ZL(Q,Z,Q)),Uz.set(Q,XD0(Q,Z)),w9.set(Q,{id:ZL(Q,Z,Q),clusterData:Z.node(Q)})}),Z.nodes().forEach(function(Q){let K=Z.children(Q),X=Z.edges();if(K.length>0)Z0.debug("Cluster identified",Q,Uz),X.forEach((U)=>{let Y=tC(U.v,Q),q=tC(U.w,Q);if(Y^q)Z0.warn("Edge: ",U," leaves cluster ",Q),Z0.warn("Descendants of XXX ",Q,": ",Uz.get(Q)),w9.get(Q).externalConnections=!0});else Z0.debug("Not a cluster ",Q,Uz)});for(let Q of w9.keys()){let K=w9.get(Q).id,X=Z.parent(K);if(X!==Q&&w9.has(X)&&!w9.get(X).externalConnections)w9.get(Q).id=X}Z.edges().forEach(function(Q){let K=Z.edge(Q);Z0.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Q)),Z0.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Z.edge(Q)));let{v:X,w:U}=Q;if(Z0.warn("Fix XXX",w9,"ids:",Q.v,Q.w,"Translating: ",w9.get(Q.v)," --- ",w9.get(Q.w)),w9.get(Q.v)||w9.get(Q.w)){if(Z0.warn("Fixing and trying - removing XXX",Q.v,Q.w,Q.name),X=JD0(Q.v),U=JD0(Q.w),Z.removeEdge(Q.v,Q.w,Q.name),X!==Q.v){let Y=Z.parent(X);w9.get(Y).externalConnections=!0,K.fromCluster=Q.v}if(U!==Q.w){let Y=Z.parent(U);w9.get(Y).externalConnections=!0,K.toCluster=Q.w}Z0.warn("Fix Replacing with XXX",X,U,Q.name),Z.setEdge(X,U,K,Q.name)}}),Z0.warn("Adjusted Graph",DK(Z)),UD0(Z,0),Z0.trace(w9)},"adjustClustersAndEdges"),UD0=I((Z,J)=>{if(Z0.warn("extractor - ",J,DK(Z),Z.children("D")),J>10){Z0.error("Bailing out");return}let Q=Z.nodes(),K=!1;for(let X of Q){let U=Z.children(X);K=K||U.length>0}if(!K){Z0.debug("Done, no node has children",Z.nodes());return}Z0.debug("Nodes = ",Q,J);for(let X of Q)if(Z0.debug("Extracting node",X,w9,w9.has(X)&&!w9.get(X).externalConnections,!Z.parent(X),Z.node(X),Z.children("D")," Depth ",J),!w9.has(X))Z0.debug("Not a cluster",X,J);else if(!w9.get(X).externalConnections&&Z.children(X)&&Z.children(X).length>0){Z0.warn("Cluster without external connections, without a parent and with children",X,J);let Y=Z.graph().rankdir==="TB"?"LR":"TB";if(w9.get(X)?.clusterData?.dir)Y=w9.get(X).clusterData.dir,Z0.warn("Fixing dir",w9.get(X).clusterData.dir,Y);let q=new SZ({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Z0.warn("Old graph before copy",DK(Z)),KD0(X,Z,q,X),Z.setNode(X,{clusterNode:!0,id:X,clusterData:w9.get(X).clusterData,label:w9.get(X).label,graph:q}),Z0.warn("New graph after copy node: (",X,")",DK(q)),Z0.debug("Old graph after copy",DK(Z))}else Z0.warn("Cluster ** ",X," **not meeting the criteria !externalConnections:",!w9.get(X).externalConnections," no parent: ",!Z.parent(X)," children ",Z.children(X)&&Z.children(X).length>0,Z.children("D"),J),Z0.debug(w9);Q=Z.nodes(),Z0.warn("New list of nodes",Q);for(let X of Q){let U=Z.node(X);if(Z0.warn(" Now next level",X,U),U?.clusterNode)UD0(U.graph,J+1)}},"extractor"),YD0=I((Z,J)=>{if(J.length===0)return[];let Q=Object.assign([],J);return J.forEach((K)=>{let X=Z.children(K),U=YD0(Z,X);Q=[...Q,...U]}),Q},"sorter"),WH8=I((Z)=>YD0(Z,Z.children()),"sortNodesByHierarchy"),qD0=I(async(Z,J,Q,K,X,U)=>{Z0.warn("Graph in recursive render:XAX",DK(J),X);let Y=J.graph().rankdir;Z0.trace("Dir in recursive render - dir:",Y);let q=Z.insert("g").attr("class","root");if(!J.nodes())Z0.info("No nodes found for",J);else Z0.info("Recursive render XXX",J.nodes());if(J.edges().length>0)Z0.info("Recursive edges",J.edge(J.edges()[0]));let W=q.insert("g").attr("class","clusters"),G=q.insert("g").attr("class","edgePaths"),z=q.insert("g").attr("class","edgeLabels"),H=q.insert("g").attr("class","nodes");await Promise.all(J.nodes().map(async function(O){let R=J.node(O);if(X!==void 0){let D=JSON.parse(JSON.stringify(X.clusterData));if(Z0.trace(`Setting data for parent cluster XXX
 Node.id = `,O,`
 data=`,D.height,`
Parent cluster`,X.height),J.setNode(X.id,D),!J.parent(O))Z0.trace("Setting parent",O,X.id),J.setParent(O,X.id,D)}if(Z0.info("(Insert) Node XXX"+O+": "+JSON.stringify(J.node(O))),R?.clusterNode){Z0.info("Cluster identified XBX",O,R.width,J.node(O));let{ranksep:D,nodesep:L}=J.graph();R.graph.setGraph({...R.graph.graph(),ranksep:D+25,nodesep:L});let A=await qD0(H,R.graph,Q,K,J.node(O),U),V=A.elem;p8(R,V),R.diff=A.diff||0,Z0.info("New compound node after recursive render XAX",O,"width",R.width,"height",R.height),yF0(V,R)}else if(J.children(O).length>0)Z0.trace("Cluster - the non recursive path XBX",O,R.id,R,R.width,"Graph:",J),Z0.trace(ZL(R.id,J)),w9.set(R.id,{id:ZL(R.id,J),node:R});else Z0.trace("Node - the non recursive path XAX",O,H,J.node(O),Y),await nG(H,J.node(O),{config:U,dir:Y})})),await I(async()=>{let O=J.edges().map(async function(R){let D=J.edge(R.v,R.w,R.name);Z0.info("Edge "+R.v+" -> "+R.w+": "+JSON.stringify(R)),Z0.info("Edge "+R.v+" -> "+R.w+": ",R," ",JSON.stringify(J.edge(R))),Z0.info("Fix",w9,"ids:",R.v,R.w,"Translating: ",w9.get(R.v),w9.get(R.w)),await KC(z,D)});await Promise.all(O)},"processEdges")(),Z0.info("Graph before layout:",JSON.stringify(DK(J))),Z0.info("############################################# XXX"),Z0.info("###                Layout                 ### XXX"),Z0.info("############################################# XXX"),eD(J),Z0.info("Graph after layout:",JSON.stringify(DK(J)));let M=0,{subGraphTitleTotalMargin:B}=zY(U);return await Promise.all(WH8(J).map(async function(O){let R=J.node(O);if(Z0.info("Position XBX => "+O+": ("+R.x,","+R.y,") width: ",R.width," height: ",R.height),R?.clusterNode)R.y+=B,Z0.info("A tainted cluster node XBX1",O,R.id,R.width,R.height,R.x,R.y,J.parent(O)),w9.get(R.id).node=R,uD(R);else if(J.children(O).length>0){Z0.info("A pure cluster node XBX1",O,R.id,R.x,R.y,R.width,R.height,J.parent(O)),R.height+=B,J.node(R.parentId);let D=R?.padding/2||0,L=R?.labelBBox?.height||0,A=L-D||0;Z0.debug("OffsetY",A,"labelHeight",L,"halfPadding",D),await s2(W,R),w9.get(R.id).node=R}else{let D=J.node(R.parentId);R.y+=B/2,Z0.info("A regular node XBX1 - using the padding",R.id,"parent",R.parentId,R.width,R.height,R.x,R.y,"offsetY",R.offsetY,"parent",D,D?.offsetY,R),uD(R)}})),J.edges().forEach(function(O){let R=J.edge(O);Z0.info("Edge "+O.v+" -> "+O.w+": "+JSON.stringify(R),R),R.points.forEach((V)=>V.y+=B/2);let D=J.node(O.v);var L=J.node(O.w);let A=UC(G,R,w9,Q,D,L,K);XC(R,A)}),J.nodes().forEach(function(O){let R=J.node(O);if(Z0.info(O,R.type,R.diff),R.isGroup)M=R.diff}),Z0.warn("Returning from recursive render XAX",q,M),{elem:q,diff:M}},"recursiveRender"),GH8=I(async(Z,J)=>{let Q=new SZ({multigraph:!0,compound:!0}).setGraph({rankdir:Z.direction,nodesep:Z.config?.nodeSpacing||Z.config?.flowchart?.nodeSpacing||Z.nodeSpacing,ranksep:Z.config?.rankSpacing||Z.config?.flowchart?.rankSpacing||Z.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),K=J.select("g");YC(K,Z.markers,Z.type,Z.diagramId),hF0(),pF0(),I20(),XH8(),Z.nodes.forEach((U)=>{if(Q.setNode(U.id,{...U}),U.parentId)Q.setParent(U.id,U.parentId)}),Z0.debug("Edges:",Z.edges),Z.edges.forEach((U)=>{if(U.start===U.end){let Y=U.start,q=Y+"---"+Y+"---1",W=Y+"---"+Y+"---2",G=Q.node(Y);Q.setNode(q,{domId:q,id:q,parentId:G.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),Q.setParent(q,G.parentId),Q.setNode(W,{domId:W,id:W,parentId:G.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),Q.setParent(W,G.parentId);let z=structuredClone(U),H=structuredClone(U),F=structuredClone(U);if(z.label="",z.arrowTypeEnd="none",z.id=Y+"-cyclic-special-1",H.arrowTypeStart="none",H.arrowTypeEnd="none",H.id=Y+"-cyclic-special-mid",F.label="",G.isGroup)z.fromCluster=Y,F.toCluster=Y;F.id=Y+"-cyclic-special-2",F.arrowTypeStart="none",Q.setEdge(Y,q,z,Y+"-cyclic-special-0"),Q.setEdge(q,W,H,Y+"-cyclic-special-1"),Q.setEdge(W,Y,F,Y+"-cyc<lic-special-2")}else Q.setEdge(U.start,U.end,{...U},U.id)}),Z0.warn("Graph at first:",JSON.stringify(DK(Q))),qH8(Q),Z0.warn("Graph after XAX:",JSON.stringify(DK(Q)));let X=N0();await qD0(K,Q,Z.type,Z.diagramId,void 0,X)},"render")});function Zi(Z,J){(J==null||J>Z.length)&&(J=Z.length);for(var Q=0,K=Array(J);Q<J;Q++)K[Q]=Z[Q];return K}function zH8(Z){if(Array.isArray(Z))return Z}function HH8(Z){if(Array.isArray(Z))return Zi(Z)}function wq(Z,J){if(!(Z instanceof J))throw TypeError("Cannot call a class as a function")}function FH8(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,mI0(K.key),K)}}function $q(Z,J,Q){return J&&FH8(Z.prototype,J),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function t6(Z,J){var Q=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Q){if(Array.isArray(Z)||(Q=Ai(Z))||J){Q&&(Z=Q);var K=0,X=function(){};return{s:X,n:function(){return K>=Z.length?{done:!0}:{done:!1,value:Z[K++]}},e:function(W){throw W},f:X}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U,Y=!0,q=!1;return{s:function(){Q=Q.call(Z)},n:function(){var W=Q.next();return Y=W.done,W},e:function(W){q=!0,U=W},f:function(){try{Y||Q.return==null||Q.return()}finally{if(q)throw U}}}}function hI0(Z,J,Q){return(J=mI0(J))in Z?Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[J]=Q,Z}function MH8(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}function BH8(Z,J){var Q=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(Q!=null){var K,X,U,Y,q=[],W=!0,G=!1;try{if(U=(Q=Q.call(Z)).next,J===0){if(Object(Q)!==Q)return;W=!1}else for(;!(W=(K=U.call(Q)).done)&&(q.push(K.value),q.length!==J);W=!0);}catch(z){G=!0,X=z}finally{try{if(!W&&Q.return!=null&&(Y=Q.return(),Object(Y)!==Y))return}finally{if(G)throw X}}return q}}function OH8(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH8(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(Z,J){return zH8(Z)||BH8(Z,J)||Ai(Z,J)||OH8()}function VS(Z){return HH8(Z)||MH8(Z)||Ai(Z)||RH8()}function DH8(Z,J){if(typeof Z!="object"||!Z)return Z;var Q=Z[Symbol.toPrimitive];if(Q!==void 0){var K=Q.call(Z,J);if(typeof K!="object")return K;throw TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}function mI0(Z){var J=DH8(Z,"string");return typeof J=="symbol"?J:J+""}function N7(Z){return N7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},N7(Z)}function Ai(Z,J){if(Z){if(typeof Z=="string")return Zi(Z,J);var Q={}.toString.call(Z).slice(8,-1);return Q==="Object"&&Z.constructor&&(Q=Z.constructor.name),Q==="Map"||Q==="Set"?Array.from(Z):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?Zi(Z,J):void 0}}function CL(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}function SL(){if(FD0)return Pl;FD0=1;function Z(J){var Q=typeof J;return J!=null&&(Q=="object"||Q=="function")}return Pl=Z,Pl}function uH8(){if(MD0)return jl;MD0=1;var Z=typeof eC=="object"&&eC&&eC.Object===Object&&eC;return jl=Z,jl}function hS(){if(BD0)return Cl;BD0=1;var Z=uH8(),J=typeof self=="object"&&self&&self.Object===Object&&self,Q=Z||J||Function("return this")();return Cl=Q,Cl}function gH8(){if(OD0)return Sl;OD0=1;var Z=hS(),J=function(){return Z.Date.now()};return Sl=J,Sl}function pH8(){if(RD0)return Tl;RD0=1;var Z=/\s/;function J(Q){var K=Q.length;while(K--&&Z.test(Q.charAt(K)));return K}return Tl=J,Tl}function cH8(){if(DD0)return wl;DD0=1;var Z=pH8(),J=/^\s+/;function Q(K){return K?K.slice(0,Z(K)+1).replace(J,""):K}return wl=Q,wl}function Vi(){if(LD0)return $l;LD0=1;var Z=hS(),J=Z.Symbol;return $l=J,$l}function lH8(){if(ID0)return kl;ID0=1;var Z=Vi(),J=Object.prototype,Q=J.hasOwnProperty,K=J.toString,X=Z?Z.toStringTag:void 0;function U(Y){var q=Q.call(Y,X),W=Y[X];try{Y[X]=void 0;var G=!0}catch(H){}var z=K.call(Y);if(G)if(q)Y[X]=W;else delete Y[X];return z}return kl=U,kl}function dH8(){if(AD0)return _l;AD0=1;var Z=Object.prototype,J=Z.toString;function Q(K){return J.call(K)}return _l=Q,_l}function rI0(){if(ND0)return fl;ND0=1;var Z=Vi(),J=lH8(),Q=dH8(),K="[object Null]",X="[object Undefined]",U=Z?Z.toStringTag:void 0;function Y(q){if(q==null)return q===void 0?X:K;return U&&U in Object(q)?J(q):Q(q)}return fl=Y,fl}function iH8(){if(ED0)return vl;ED0=1;function Z(J){return J!=null&&typeof J=="object"}return vl=Z,vl}function TL(){if(VD0)return xl;VD0=1;var Z=rI0(),J=iH8(),Q="[object Symbol]";function K(X){return typeof X=="symbol"||J(X)&&Z(X)==Q}return xl=K,xl}function sH8(){if(PD0)return bl;PD0=1;var Z=cH8(),J=SL(),Q=TL(),K=NaN,X=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,q=parseInt;function W(G){if(typeof G=="number")return G;if(Q(G))return K;if(J(G)){var z=typeof G.valueOf=="function"?G.valueOf():G;G=J(z)?z+"":z}if(typeof G!="string")return G===0?G:+G;G=Z(G);var H=U.test(G);return H||Y.test(G)?q(G.slice(2),H?2:8):X.test(G)?K:+G}return bl=W,bl}function rH8(){if(jD0)return yl;jD0=1;var Z=SL(),J=gH8(),Q=sH8(),K="Expected a function",X=Math.max,U=Math.min;function Y(q,W,G){var z,H,F,M,B,O,R=0,D=!1,L=!1,A=!0;if(typeof q!="function")throw TypeError(K);if(W=Q(W)||0,Z(G))D=!!G.leading,L="maxWait"in G,F=L?X(Q(G.maxWait)||0,W):F,A="trailing"in G?!!G.trailing:A;function V(T){var S=z,f=H;return z=H=void 0,R=T,M=q.apply(f,S),M}function N(T){return R=T,B=setTimeout(C,W),D?V(T):M}function E(T){var S=T-O,f=T-R,v=W-S;return L?U(v,F-f):v}function j(T){var S=T-O,f=T-R;return O===void 0||S>=W||S<0||L&&f>=F}function C(){var T=J();if(j(T))return $(T);B=setTimeout(C,E(T))}function $(T){if(B=void 0,A&&z)return V(T);return z=H=void 0,M}function k(){if(B!==void 0)clearTimeout(B);R=0,z=O=H=B=void 0}function w(){return B===void 0?M:$(J())}function P(){var T=J(),S=j(T);if(z=arguments,H=this,O=T,S){if(B===void 0)return N(O);if(L)return clearTimeout(B),B=setTimeout(C,W),V(O)}if(B===void 0)B=setTimeout(C,W);return M}return P.cancel=k,P.flush=w,P}return yl=Y,yl}function eH8(Z,J,Q,K,X){var U=X*Math.PI/180,Y=Math.cos(U)*(Z-Q)-Math.sin(U)*(J-K)+Q,q=Math.sin(U)*(Z-Q)+Math.cos(U)*(J-K)+K;return{x:Y,y:q}}function J28(Z,J,Q){if(Q===0)return Z;var K=(J.x1+J.x2)/2,X=(J.y1+J.y2)/2,U=J.w/J.h,Y=1/U,q=eH8(Z.x,Z.y,K,X,Q),W=Z28(q.x,q.y,K,X,U,Y);return{x:W.x,y:W.y}}function F28(){if($D0)return FS.exports;return $D0=1,function(Z,J){(function(){var Q,K,X,U,Y,q,W,G,z,H,F,M,B,O,R;X=Math.floor,H=Math.min,K=function(D,L){if(D<L)return-1;if(D>L)return 1;return 0},z=function(D,L,A,V,N){var E;if(A==null)A=0;if(N==null)N=K;if(A<0)throw Error("lo must be non-negative");if(V==null)V=D.length;while(A<V)if(E=X((A+V)/2),N(L,D[E])<0)V=E;else A=E+1;return[].splice.apply(D,[A,A-A].concat(L)),L},q=function(D,L,A){if(A==null)A=K;return D.push(L),O(D,0,D.length-1,A)},Y=function(D,L){var A,V;if(L==null)L=K;if(A=D.pop(),D.length)V=D[0],D[0]=A,R(D,0,L);else V=A;return V},G=function(D,L,A){var V;if(A==null)A=K;return V=D[0],D[0]=L,R(D,0,A),V},W=function(D,L,A){var V;if(A==null)A=K;if(D.length&&A(D[0],L)<0)V=[D[0],L],L=V[0],D[0]=V[1],R(D,0,A);return L},U=function(D,L){var A,V,N,E,j,C;if(L==null)L=K;E=function(){C=[];for(var $=0,k=X(D.length/2);0<=k?$<k:$>k;0<=k?$++:$--)C.push($);return C}.apply(this).reverse(),j=[];for(V=0,N=E.length;V<N;V++)A=E[V],j.push(R(D,A,L));return j},B=function(D,L,A){var V;if(A==null)A=K;if(V=D.indexOf(L),V===-1)return;return O(D,0,V,A),R(D,V,A)},F=function(D,L,A){var V,N,E,j,C;if(A==null)A=K;if(N=D.slice(0,L),!N.length)return N;U(N,A),C=D.slice(L);for(E=0,j=C.length;E<j;E++)V=C[E],W(N,V,A);return N.sort(A).reverse()},M=function(D,L,A){var V,N,E,j,C,$,k,w,P;if(A==null)A=K;if(L*10<=D.length){if(E=D.slice(0,L).sort(A),!E.length)return E;N=E[E.length-1],k=D.slice(L);for(j=0,$=k.length;j<$;j++)if(V=k[j],A(V,N)<0)z(E,V,0,null,A),E.pop(),N=E[E.length-1];return E}U(D,A),P=[];for(C=0,w=H(L,D.length);0<=w?C<w:C>w;0<=w?++C:--C)P.push(Y(D,A));return P},O=function(D,L,A,V){var N,E,j;if(V==null)V=K;N=D[A];while(A>L){if(j=A-1>>1,E=D[j],V(N,E)<0){D[A]=E,A=j;continue}break}return D[A]=N},R=function(D,L,A){var V,N,E,j,C;if(A==null)A=K;N=D.length,C=L,E=D[L],V=2*L+1;while(V<N){if(j=V+1,j<N&&!(A(D[V],D[j])<0))V=j;D[L]=D[V],L=V,V=2*L+1}return D[L]=E,O(D,C,L,A)},Q=function(){D.push=q,D.pop=Y,D.replace=G,D.pushpop=W,D.heapify=U,D.updateItem=B,D.nlargest=F,D.nsmallest=M;function D(L){this.cmp=L!=null?L:K,this.nodes=[]}return D.prototype.push=function(L){return q(this.nodes,L,this.cmp)},D.prototype.pop=function(){return Y(this.nodes,this.cmp)},D.prototype.peek=function(){return this.nodes[0]},D.prototype.contains=function(L){return this.nodes.indexOf(L)!==-1},D.prototype.replace=function(L){return G(this.nodes,L,this.cmp)},D.prototype.pushpop=function(L){return W(this.nodes,L,this.cmp)},D.prototype.heapify=function(){return U(this.nodes,this.cmp)},D.prototype.updateItem=function(L){return B(this.nodes,L,this.cmp)},D.prototype.clear=function(){return this.nodes=[]},D.prototype.empty=function(){return this.nodes.length===0},D.prototype.size=function(){return this.nodes.length},D.prototype.clone=function(){var L=new D;return L.nodes=this.nodes.slice(0),L},D.prototype.toArray=function(){return this.nodes.slice(0)},D.prototype.insert=D.prototype.push,D.prototype.top=D.prototype.peek,D.prototype.front=D.prototype.peek,D.prototype.has=D.prototype.contains,D.prototype.copy=D.prototype.clone,D}(),function(D,L){return Z.exports=L()}(this,function(){return Q})}).call(H28)}(FS),FS.exports}function M28(){if(kD0)return ml;return kD0=1,ml=F28(),ml}function m28(Z,J){if(Z.length<3)throw Error("Need at least 3 vertices");var Q=function(C,$){return{x:C.x+$.x,y:C.y+$.y}},K=function(C,$){return{x:C.x-$.x,y:C.y-$.y}},X=function(C,$){return{x:C.x*$,y:C.y*$}},U=function(C,$){return C.x*$.y-C.y*$.x},Y=function(C){var $=h28(C.x,C.y);return $===0?{x:0,y:0}:{x:C.x/$,y:C.y/$}},q=function(C){var $=0;for(var k=0;k<C.length;k++){var w=C[k],P=C[(k+1)%C.length];$+=w.x*P.y-P.x*w.y}return $/2},W=function(C,$,k,w){var P=K($,C),T=K(w,k),S=U(P,T);if(Math.abs(S)<0.000000001)return Q(C,X(P,0.5));var f=U(K(k,C),T)/S;return Q(C,X(P,f))},G=Z.map(function(j){return{x:j.x,y:j.y}});if(q(G)<0)G.reverse();var z=G.length,H=[];for(var F=0;F<z;F++){var M=G[F],B=G[(F+1)%z],O=K(B,M),R=Y({x:O.y,y:-O.x});H.push(R)}var D=H.map(function(j,C){var $=Q(G[C],X(j,J)),k=Q(G[(C+1)%z],X(j,J));return{p1:$,p2:k}}),L=[];for(var A=0;A<z;A++){var V=D[(A-1+z)%z],N=D[A],E=W(V.p1,V.p2,N.p1,N.p2);L.push(E)}return L}function u28(Z,J,Q,K,X,U){var Y=n28(Z,J,Q,K,X),q=m28(Y,U),W=q6();return q.forEach(function(G){return XA0(W,G.x,G.y)}),W}function cl(Z,J){function Q(H){var F=[];for(var M=0;M<H.length;M++){var B=H[M],O=H[(M+1)%H.length],R={x:O.x-B.x,y:O.y-B.y},D={x:-R.y,y:R.x},L=Math.sqrt(D.x*D.x+D.y*D.y);F.push({x:D.x/L,y:D.y/L})}return F}function K(H,F){var M=1/0,B=-1/0,O=t6(H),R;try{for(O.s();!(R=O.n()).done;){var D=R.value,L=D.x*F.x+D.y*F.y;M=Math.min(M,L),B=Math.max(B,L)}}catch(A){O.e(A)}finally{O.f()}return{min:M,max:B}}function X(H,F){return!(H.max<F.min||F.max<H.min)}var U=[].concat(VS(Q(Z)),VS(Q(J))),Y=t6(U),q;try{for(Y.s();!(q=Y.n()).done;){var W=q.value,G=K(Z,W),z=K(J,W);if(!X(G,z))return!1}}catch(H){Y.e(H)}finally{Y.f()}return!0}function gS(Z,J,Q,K,X,U){var Y;if(wJ(Z))Y=Z;else Y=EF[Z]||EF.euclidean;if(J===0&&wJ(Z))return Y(X,U);else return Y(J,Q,K,X,U)}function pS(){if(nD0)return dl;nD0=1;var Z=Array.isArray;return dl=Z,dl}function pF8(){if(aD0)return il;aD0=1;var Z=pS(),J=TL(),Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/;function X(U,Y){if(Z(U))return!1;var q=typeof U;if(q=="number"||q=="symbol"||q=="boolean"||U==null||J(U))return!0;return K.test(U)||!Q.test(U)||Y!=null&&U in Object(Y)}return il=X,il}function cF8(){if(oD0)return sl;oD0=1;var Z=rI0(),J=SL(),Q="[object AsyncFunction]",K="[object Function]",X="[object GeneratorFunction]",U="[object Proxy]";function Y(q){if(!J(q))return!1;var W=Z(q);return W==K||W==X||W==Q||W==U}return sl=Y,sl}function lF8(){if(tD0)return rl;tD0=1;var Z=hS(),J=Z["__core-js_shared__"];return rl=J,rl}function dF8(){if(eD0)return nl;eD0=1;var Z=lF8(),J=function(){var K=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}();function Q(K){return!!J&&J in K}return nl=Q,nl}function iF8(){if(ZL0)return al;ZL0=1;var Z=Function.prototype,J=Z.toString;function Q(K){if(K!=null){try{return J.call(K)}catch(X){}try{return K+""}catch(X){}}return""}return al=Q,al}function sF8(){if(JL0)return ol;JL0=1;var Z=cF8(),J=dF8(),Q=SL(),K=iF8(),X=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,Y=Function.prototype,q=Object.prototype,W=Y.toString,G=q.hasOwnProperty,z=RegExp("^"+W.call(G).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(F){if(!Q(F)||J(F))return!1;var M=Z(F)?z:U;return M.test(K(F))}return ol=H,ol}function rF8(){if(QL0)return tl;QL0=1;function Z(J,Q){return J==null?void 0:J[Q]}return tl=Z,tl}function _i(){if(KL0)return el;KL0=1;var Z=sF8(),J=rF8();function Q(K,X){var U=J(K,X);return Z(U)?U:void 0}return el=Q,el}function cS(){if(XL0)return Zd;XL0=1;var Z=_i(),J=Z(Object,"create");return Zd=J,Zd}function nF8(){if(UL0)return Jd;UL0=1;var Z=cS();function J(){this.__data__=Z?Z(null):{},this.size=0}return Jd=J,Jd}function aF8(){if(YL0)return Qd;YL0=1;function Z(J){var Q=this.has(J)&&delete this.__data__[J];return this.size-=Q?1:0,Q}return Qd=Z,Qd}function oF8(){if(qL0)return Kd;qL0=1;var Z=cS(),J="__lodash_hash_undefined__",Q=Object.prototype,K=Q.hasOwnProperty;function X(U){var Y=this.__data__;if(Z){var q=Y[U];return q===J?void 0:q}return K.call(Y,U)?Y[U]:void 0}return Kd=X,Kd}function tF8(){if(WL0)return Xd;WL0=1;var Z=cS(),J=Object.prototype,Q=J.hasOwnProperty;function K(X){var U=this.__data__;return Z?U[X]!==void 0:Q.call(U,X)}return Xd=K,Xd}function eF8(){if(GL0)return Ud;GL0=1;var Z=cS(),J="__lodash_hash_undefined__";function Q(K,X){var U=this.__data__;return this.size+=this.has(K)?0:1,U[K]=Z&&X===void 0?J:X,this}return Ud=Q,Ud}function ZM8(){if(zL0)return Yd;zL0=1;var Z=nF8(),J=aF8(),Q=oF8(),K=tF8(),X=eF8();function U(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return U.prototype.clear=Z,U.prototype.delete=J,U.prototype.get=Q,U.prototype.has=K,U.prototype.set=X,Yd=U,Yd}function JM8(){if(HL0)return qd;HL0=1;function Z(){this.__data__=[],this.size=0}return qd=Z,qd}function IA0(){if(FL0)return Wd;FL0=1;function Z(J,Q){return J===Q||J!==J&&Q!==Q}return Wd=Z,Wd}function lS(){if(ML0)return Gd;ML0=1;var Z=IA0();function J(Q,K){var X=Q.length;while(X--)if(Z(Q[X][0],K))return X;return-1}return Gd=J,Gd}function QM8(){if(BL0)return zd;BL0=1;var Z=lS(),J=Array.prototype,Q=J.splice;function K(X){var U=this.__data__,Y=Z(U,X);if(Y<0)return!1;var q=U.length-1;if(Y==q)U.pop();else Q.call(U,Y,1);return--this.size,!0}return zd=K,zd}function KM8(){if(OL0)return Hd;OL0=1;var Z=lS();function J(Q){var K=this.__data__,X=Z(K,Q);return X<0?void 0:K[X][1]}return Hd=J,Hd}function XM8(){if(RL0)return Fd;RL0=1;var Z=lS();function J(Q){return Z(this.__data__,Q)>-1}return Fd=J,Fd}function UM8(){if(DL0)return Md;DL0=1;var Z=lS();function J(Q,K){var X=this.__data__,U=Z(X,Q);if(U<0)++this.size,X.push([Q,K]);else X[U][1]=K;return this}return Md=J,Md}function YM8(){if(LL0)return Bd;LL0=1;var Z=JM8(),J=QM8(),Q=KM8(),K=XM8(),X=UM8();function U(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return U.prototype.clear=Z,U.prototype.delete=J,U.prototype.get=Q,U.prototype.has=K,U.prototype.set=X,Bd=U,Bd}function qM8(){if(IL0)return Od;IL0=1;var Z=_i(),J=hS(),Q=Z(J,"Map");return Od=Q,Od}function WM8(){if(AL0)return Rd;AL0=1;var Z=ZM8(),J=YM8(),Q=qM8();function K(){this.size=0,this.__data__={hash:new Z,map:new(Q||J),string:new Z}}return Rd=K,Rd}function GM8(){if(NL0)return Dd;NL0=1;function Z(J){var Q=typeof J;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?J!=="__proto__":J===null}return Dd=Z,Dd}function dS(){if(EL0)return Ld;EL0=1;var Z=GM8();function J(Q,K){var X=Q.__data__;return Z(K)?X[typeof K=="string"?"string":"hash"]:X.map}return Ld=J,Ld}function zM8(){if(VL0)return Id;VL0=1;var Z=dS();function J(Q){var K=Z(this,Q).delete(Q);return this.size-=K?1:0,K}return Id=J,Id}function HM8(){if(PL0)return Ad;PL0=1;var Z=dS();function J(Q){return Z(this,Q).get(Q)}return Ad=J,Ad}function FM8(){if(jL0)return Nd;jL0=1;var Z=dS();function J(Q){return Z(this,Q).has(Q)}return Nd=J,Nd}function MM8(){if(CL0)return Ed;CL0=1;var Z=dS();function J(Q,K){var X=Z(this,Q),U=X.size;return X.set(Q,K),this.size+=X.size==U?0:1,this}return Ed=J,Ed}function BM8(){if(SL0)return Vd;SL0=1;var Z=WM8(),J=zM8(),Q=HM8(),K=FM8(),X=MM8();function U(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return U.prototype.clear=Z,U.prototype.delete=J,U.prototype.get=Q,U.prototype.has=K,U.prototype.set=X,Vd=U,Vd}function OM8(){if(TL0)return Pd;TL0=1;var Z=BM8(),J="Expected a function";function Q(K,X){if(typeof K!="function"||X!=null&&typeof X!="function")throw TypeError(J);var U=function(){var Y=arguments,q=X?X.apply(this,Y):Y[0],W=U.cache;if(W.has(q))return W.get(q);var G=K.apply(this,Y);return U.cache=W.set(q,G)||W,G};return U.cache=new(Q.Cache||Z),U}return Q.Cache=Z,Pd=Q,Pd}function RM8(){if(wL0)return jd;wL0=1;var Z=OM8(),J=500;function Q(K){var X=Z(K,function(Y){if(U.size===J)U.clear();return Y}),U=X.cache;return X}return jd=Q,jd}function AA0(){if($L0)return Cd;$L0=1;var Z=RM8(),J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/\\(\\)?/g,K=Z(function(X){var U=[];if(X.charCodeAt(0)===46)U.push("");return X.replace(J,function(Y,q,W,G){U.push(W?G.replace(Q,"$1"):q||Y)}),U});return Cd=K,Cd}function NA0(){if(kL0)return Sd;kL0=1;function Z(J,Q){var K=-1,X=J==null?0:J.length,U=Array(X);while(++K<X)U[K]=Q(J[K],K,J);return U}return Sd=Z,Sd}function DM8(){if(_L0)return Td;_L0=1;var Z=Vi(),J=NA0(),Q=pS(),K=TL(),X=Z?Z.prototype:void 0,U=X?X.toString:void 0;function Y(q){if(typeof q=="string")return q;if(Q(q))return J(q,Y)+"";if(K(q))return U?U.call(q):"";var W=q+"";return W=="0"&&1/q==-1/0?"-0":W}return Td=Y,Td}function EA0(){if(fL0)return wd;fL0=1;var Z=DM8();function J(Q){return Q==null?"":Z(Q)}return wd=J,wd}function VA0(){if(vL0)return $d;vL0=1;var Z=pS(),J=pF8(),Q=AA0(),K=EA0();function X(U,Y){if(Z(U))return U;return J(U,Y)?[U]:Q(K(U))}return $d=X,$d}function fi(){if(xL0)return kd;xL0=1;var Z=TL();function J(Q){if(typeof Q=="string"||Z(Q))return Q;var K=Q+"";return K=="0"&&1/Q==-1/0?"-0":K}return kd=J,kd}function LM8(){if(bL0)return _d;bL0=1;var Z=VA0(),J=fi();function Q(K,X){X=Z(X,K);var U=0,Y=X.length;while(K!=null&&U<Y)K=K[J(X[U++])];return U&&U==Y?K:void 0}return _d=Q,_d}function IM8(){if(yL0)return fd;yL0=1;var Z=LM8();function J(Q,K,X){var U=Q==null?void 0:Z(Q,K);return U===void 0?X:U}return fd=J,fd}function EM8(){if(hL0)return vd;hL0=1;var Z=_i(),J=function(){try{var Q=Z(Object,"defineProperty");return Q({},"",{}),Q}catch(K){}}();return vd=J,vd}function VM8(){if(mL0)return xd;mL0=1;var Z=EM8();function J(Q,K,X){if(K=="__proto__"&&Z)Z(Q,K,{configurable:!0,enumerable:!0,value:X,writable:!0});else Q[K]=X}return xd=J,xd}function PM8(){if(uL0)return bd;uL0=1;var Z=VM8(),J=IA0(),Q=Object.prototype,K=Q.hasOwnProperty;function X(U,Y,q){var W=U[Y];if(!(K.call(U,Y)&&J(W,q))||q===void 0&&!(Y in U))Z(U,Y,q)}return bd=X,bd}function jM8(){if(gL0)return yd;gL0=1;var Z=9007199254740991,J=/^(?:0|[1-9]\d*)$/;function Q(K,X){var U=typeof K;return X=X==null?Z:X,!!X&&(U=="number"||U!="symbol"&&J.test(K))&&(K>-1&&K%1==0&&K<X)}return yd=Q,yd}function CM8(){if(pL0)return hd;pL0=1;var Z=PM8(),J=VA0(),Q=jM8(),K=SL(),X=fi();function U(Y,q,W,G){if(!K(Y))return Y;q=J(q,Y);var z=-1,H=q.length,F=H-1,M=Y;while(M!=null&&++z<H){var B=X(q[z]),O=W;if(B==="__proto__"||B==="constructor"||B==="prototype")return Y;if(z!=F){var R=M[B];if(O=G?G(R,B,M):void 0,O===void 0)O=K(R)?R:Q(q[z+1])?[]:{}}Z(M,B,O),M=M[B]}return Y}return hd=U,hd}function SM8(){if(cL0)return md;cL0=1;var Z=CM8();function J(Q,K,X){return Q==null?Q:Z(Q,K,X)}return md=J,md}function $M8(){if(lL0)return ud;lL0=1;function Z(J,Q){var K=-1,X=J.length;Q||(Q=Array(X));while(++K<X)Q[K]=J[K];return Q}return ud=Z,ud}function kM8(){if(dL0)return gd;dL0=1;var Z=NA0(),J=$M8(),Q=pS(),K=TL(),X=AA0(),U=fi(),Y=EA0();function q(W){if(Q(W))return Z(W,U);return K(W)?[W]:J(X(Y(W)))}return gd=q,gd}function bi(Z,J,Q,K){var X=[],U=new PF,Y=Z.cy(),q=Y.hasCompoundNodes();for(var W=0;W<Z.length;W++){var G=Z[W];if(Q)X.push(G);else if(q)K(X,U,G)}while(X.length>0){var z=X.shift();if(J(z),U.add(z.id()),q)K(X,U,z)}return Z}function jA0(Z,J,Q){if(Q.isParent()){var K=Q._private.children;for(var X=0;X<K.length;X++){var U=K[X];if(!J.has(U.id()))Z.push(U)}}}function CA0(Z,J,Q){if(Q.isChild()){var K=Q._private.parent;if(!J.has(K.id()))Z.push(K)}}function oM8(Z,J,Q){CA0(Z,J,Q),jA0(Z,J,Q)}function pd(Z){return function(J){var Q=this;if(J===void 0)J=!0;if(Q.length===0)return;if(Q.isNode()&&!Q.removed()){var K=0,X=Q[0],U=X._private.edges;for(var Y=0;Y<U.length;Y++){var q=U[Y];if(!J&&q.isLoop())continue;K+=Z(X,q)}return K}else return}}function qF(Z,J){return function(Q){var K,X=this.nodes();for(var U=0;U<X.length;U++){var Y=X[U],q=Y[Z](Q);if(q!==void 0&&(K===void 0||J(q,K)))K=q}return K}}function KL(){return!1}function YS(){return!0}function sS(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RB8,J=arguments.length>1?arguments[1]:void 0;for(var Q=0;Q<tL0.length;Q++){var K=tL0[Q];this[K]=Z[K]||bA0[K]}this.context=J||this.context,this.listeners=[],this.emitting=0}function gA0(Z,J,Q){var K=Q._private,X=K.styleCache=K.styleCache||[],U;if((U=X[Z])!=null)return U;else return U=X[Z]=J(Q),U}function rS(Z,J){return Z=Mz(Z),function(K){return gA0(Z,J,K)}}function nS(Z,J){Z=Mz(Z);var Q=function(X){return J.call(X)};return function(){var X=this[0];if(X)return gA0(Z,Q,X)}}function ld(Z,J){var Q=Z._private,K=Q.data.parent?Z.parents():null;if(K)for(var X=0;X<K.length;X++){var U=K[X];if(!J(U))return!1}return!0}function yi(Z){var J=Z.ok,Q=Z.edgeOkViaNode||Z.ok,K=Z.parentOk||Z.ok;return function(){var X=this.cy();if(!X.styleEnabled())return!0;var U=this[0],Y=X.hasCompoundNodes();if(U){var q=U._private;if(!J(U))return!1;if(U.isNode())return!Y||ld(U,K);else{var{source:W,target:G}=q;return Q(W)&&(!Y||ld(W,Q))&&(W===G||Q(G)&&(!Y||ld(G,Q)))}}}}function ZI0(Z){return function(){var J=arguments,Q=[];if(J.length===2){var K=J[0],X=J[1];this.on(Z.event,K,X)}else if(J.length===1&&wJ(J[0])){var U=J[0];this.on(Z.event,U)}else if(J.length===0||J.length===1&&uZ(J[0])){var Y=J.length===1?J[0]:null;for(var q=0;q<this.length;q++){var W=this[q],G=!Z.ableField||W._private[Z.ableField],z=W._private[Z.field]!=Z.value;if(Z.overrideAble){var H=Z.overrideAble(W);if(H!==void 0){if(G=H,!H)return this}}if(G){if(W._private[Z.field]=Z.value,z)Q.push(W)}}var F=this.spawn(Q);if(F.updateStyle(),F.emit(Z.event),Y)F.emit(Y)}return this}}function SF(Z){Eq[Z.field]=function(){var J=this[0];if(J){if(Z.overrideField){var Q=Z.overrideField(J);if(Q!==void 0)return Q}return J._private[Z.field]}},Eq[Z.on]=ZI0({event:Z.on,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!0}),Eq[Z.off]=ZI0({event:Z.off,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!1})}function XI0(Z){return function(Q){var K=[];for(var X=0;X<this.length;X++){var U=this[X],Y=U._private[Z.attr];if(Y)K.push(Y)}return this.spawn(K,!0).filter(Q)}}function UI0(Z){return function(Q){var K=[],X=this._private.cy,U=Z||{};if(Z9(Q))Q=X.$(Q);for(var Y=0;Y<Q.length;Y++){var q=Q[Y]._private.edges;for(var W=0;W<q.length;W++){var G=q[W],z=G._private.data,H=this.hasElementWithId(z.source)&&Q.hasElementWithId(z.target),F=Q.hasElementWithId(z.source)&&this.hasElementWithId(z.target),M=H||F;if(!M)continue;if(U.thisIsSrc||U.thisIsTgt){if(U.thisIsSrc&&!H)continue;if(U.thisIsTgt&&!F)continue}K.push(G)}}return this.spawn(K,!0)}}function YI0(Z){var J={codirected:!1};return Z=Y9({},J,Z),function(K){var X=[],U=this.edges(),Y=Z;for(var q=0;q<U.length;q++){var W=U[q],G=W._private,z=G.source,H=z._private.data.id,F=G.data.target,M=z._private.edges;for(var B=0;B<M.length;B++){var O=M[B],R=O._private.data,D=R.target,L=R.source,A=D===F&&L===H,V=H===D&&F===L;if(Y.codirected&&A||!Y.codirected&&(A||V))X.push(O)}}return this.spawn(X,!0).filter(K)}}function SB8(Z,J,Q,K){var X=4,U=0.001,Y=0.0000001,q=10,W=11,G=1/(W-1),z=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var H=0;H<4;++H)if(typeof arguments[H]!=="number"||isNaN(arguments[H])||!isFinite(arguments[H]))return!1;Z=Math.min(Z,1),Q=Math.min(Q,1),Z=Math.max(Z,0),Q=Math.max(Q,0);var F=z?new Float32Array(W):Array(W);function M(k,w){return 1-3*w+3*k}function B(k,w){return 3*w-6*k}function O(k){return 3*k}function R(k,w,P){return((M(w,P)*k+B(w,P))*k+O(w))*k}function D(k,w,P){return 3*M(w,P)*k*k+2*B(w,P)*k+O(w)}function L(k,w){for(var P=0;P<X;++P){var T=D(w,Z,Q);if(T===0)return w;var S=R(w,Z,Q)-k;w-=S/T}return w}function A(){for(var k=0;k<W;++k)F[k]=R(k*G,Z,Q)}function V(k,w,P){var T,S,f=0;do if(S=w+(P-w)/2,T=R(S,Z,Q)-k,T>0)P=S;else w=S;while(Math.abs(T)>Y&&++f<q);return S}function N(k){var w=0,P=1,T=W-1;for(;P!==T&&F[P]<=k;++P)w+=G;--P;var S=(k-F[P])/(F[P+1]-F[P]),f=w+S*G,v=D(f,Z,Q);if(v>=U)return L(k,f);else if(v===0)return f;else return V(k,w,w+G)}var E=!1;function j(){if(E=!0,Z!==J||Q!==K)A()}var C=function(w){if(!E)j();if(Z===J&&Q===K)return w;if(w===0)return 0;if(w===1)return 1;return R(N(w),J,K)};C.getControlPoints=function(){return[{x:Z,y:J},{x:Q,y:K}]};var $="generateBezier("+[Z,J,Q,K]+")";return C.toString=function(){return $},C}function qI0(Z,J,Q,K,X){if(K===1)return Q;if(J===Q)return Q;var U=X(J,Q,K);if(Z==null)return U;if(Z.roundValue||Z.color)U=Math.round(U);if(Z.min!==void 0)U=Math.max(U,Z.min);if(Z.max!==void 0)U=Math.min(U,Z.max);return U}function WI0(Z,J){if(Z.pfValue!=null||Z.value!=null)if(Z.pfValue!=null&&(J==null||J.type.units!=="%"))return Z.pfValue;else return Z.value;else return Z}function WF(Z,J,Q,K,X){var U=X!=null?X.type:null;if(Q<0)Q=0;else if(Q>1)Q=1;var Y=WI0(Z,X),q=WI0(J,X);if(P8(Y)&&P8(q))return qI0(U,Y,q,Q,K);else if(uZ(Y)&&uZ(q)){var W=[];for(var G=0;G<q.length;G++){var z=Y[G],H=q[G];if(z!=null&&H!=null){var F=qI0(U,z,H,Q,K);W.push(F)}else W.push(H)}return W}return}function wB8(Z,J,Q,K){var X=!K,U=Z._private,Y=J._private,q=Y.easing,W=Y.startTime,G=K?Z:Z.cy(),z=G.style();if(!Y.easingImpl)if(q==null)Y.easingImpl=DS.linear;else{var H;if(Z9(q)){var F=z.parse("transition-timing-function",q);H=F.value}else H=q;var M,B;if(Z9(H))M=H,B=[];else M=H[1],B=H.slice(2).map(function(y){return+y});if(B.length>0){if(M==="spring")B.push(Y.duration);Y.easingImpl=DS[M].apply(null,B)}else Y.easingImpl=DS[M]}var O=Y.easingImpl,R;if(Y.duration===0)R=1;else R=(Q-W)/Y.duration;if(Y.applying)R=Y.progress;if(R<0)R=0;else if(R>1)R=1;if(Y.delay==null){var{startPosition:D,position:L}=Y;if(L&&X&&!Z.locked()){var A={};if(XL(D.x,L.x))A.x=WF(D.x,L.x,R,O);if(XL(D.y,L.y))A.y=WF(D.y,L.y,R,O);Z.position(A)}var{startPan:V,pan:N}=Y,E=U.pan,j=N!=null&&K;if(j){if(XL(V.x,N.x))E.x=WF(V.x,N.x,R,O);if(XL(V.y,N.y))E.y=WF(V.y,N.y,R,O);Z.emit("pan")}var{startZoom:C,zoom:$}=Y,k=$!=null&&K;if(k){if(XL(C,$))U.zoom=DL(U.minZoom,WF(C,$,R,O),U.maxZoom);Z.emit("zoom")}if(j||k)Z.emit("viewport");var w=Y.style;if(w&&w.length>0&&X){for(var P=0;P<w.length;P++){var T=w[P],S=T.name,f=T,v=Y.startStyle[S],x=z.properties[v.name],b=WF(v,f,R,O,x);z.overrideBypass(Z,S,b)}Z.emit("style")}}return Y.progress=R,R}function XL(Z,J){if(Z==null||J==null)return!1;if(P8(Z)&&P8(J))return!0;else if(Z&&J)return!0;return!1}function $B8(Z,J,Q,K){var X=J._private;X.started=!0,X.startTime=Q-X.progress*X.duration}function GI0(Z,J){var Q=J._private.aniEles,K=[];function X(z,H){var F=z._private,M=F.animation.current,B=F.animation.queue,O=!1;if(M.length===0){var R=B.shift();if(R)M.push(R)}var D=function(E){for(var j=E.length-1;j>=0;j--){var C=E[j];C()}E.splice(0,E.length)};for(var L=M.length-1;L>=0;L--){var A=M[L],V=A._private;if(V.stopped){M.splice(L,1),V.hooked=!1,V.playing=!1,V.started=!1,D(V.frames);continue}if(!V.playing&&!V.applying)continue;if(V.playing&&V.applying)V.applying=!1;if(!V.started)$B8(z,A,Z);if(wB8(z,A,Z,H),V.applying)V.applying=!1;if(D(V.frames),V.step!=null)V.step(Z);if(A.completed())M.splice(L,1),V.hooked=!1,V.playing=!1,V.started=!1,D(V.completes);O=!0}if(!H&&M.length===0&&B.length===0)K.push(z);return O}var U=!1;for(var Y=0;Y<Q.length;Y++){var q=Q[Y],W=X(q);U=U||W}var G=X(J,!0);if(U||G)if(Q.length>0)J.notify("draw",Q);else J.notify("draw");Q.unmerge(K),J.emit("step")}function cA0(Z){this.options=Y9({},hB8,mB8,Z)}function lA0(Z){this.options=Y9({},uB8,Z)}function dA0(Z){this.options=Y9({},gB8,Z)}function tS(Z){this.options=Y9({},pB8,Z),this.options.layout=this;var J=this.options.eles.nodes(),Q=this.options.eles.edges(),K=Q.filter(function(X){var U=X.source().data("id"),Y=X.target().data("id"),q=J.some(function(G){return G.data("id")===U}),W=J.some(function(G){return G.data("id")===Y});return!q||!W});this.options.eles=this.options.eles.not(K)}function nA0(Z){this.options=Y9({},KO8,Z)}function ui(Z){this.options=Y9({},XO8,Z)}function aA0(Z){this.options=Y9({},UO8,Z)}function oA0(Z){this.options=Y9({},YO8,Z)}function tA0(Z){this.options=Z,this.notifications=0}function JN0(Z,J){if(J.radius===0)Z.lineTo(J.cx,J.cy);else Z.arc(J.cx,J.cy,J.radius,J.startAngle,J.endAngle,J.counterClockwise)}function pi(Z,J,Q,K){var X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(K===0||J.radius===0)return{cx:J.x,cy:J.y,radius:0,startX:J.x,startY:J.y,stopX:J.x,stopY:J.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0};return GO8(Z,J,Q,K,X),{cx:Hi,cy:Fi,radius:Gz,startX:eA0,startY:ZN0,stopX:Mi,stopY:Bi,startAngle:cX.ang+Math.PI/2*Hz,endAngle:LK.ang-Math.PI/2*Hz,counterClockwise:AS}}function QN0(Z){var J=[];if(Z==null)return;for(var Q=0;Q<Z.length;Q+=2){var K=Z[Q],X=Z[Q+1];J.push({x:K,y:X})}return J}function HO8(Z,J,Q){var K=function(G,z,H,F){return b7(G,z,H,F)},X=J._private,U=X.rstyle.bezierPts;for(var Y=0;Y<Z.bezierProjPcts.length;Y++){var q=Z.bezierProjPcts[Y];U.push({x:K(Q[0],Q[2],Q[4],q),y:K(Q[1],Q[3],Q[5],q)})}}function gO8(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.lineTo(K.x,K.y)}}function pO8(Z,J,Q){var K;for(var X=0;X<J.length;X++){var U=J[X];if(X===0)K=U;Z.lineTo(U.x,U.y)}Z.quadraticCurveTo(Q.x,Q.y,K.x,K.y)}function SI0(Z,J,Q){if(Z.beginPath)Z.beginPath();var K=J;for(var X=0;X<K.length;X++){var U=K[X];Z.lineTo(U.x,U.y)}var Y=Q,q=Q[0];Z.moveTo(q.x,q.y);for(var X=1;X<Y.length;X++){var U=Y[X];Z.lineTo(U.x,U.y)}if(Z.closePath)Z.closePath()}function cO8(Z,J,Q,K,X){if(Z.beginPath)Z.beginPath();Z.arc(Q,K,X,0,Math.PI*2,!1);var U=J,Y=U[0];Z.moveTo(Y.x,Y.y);for(var q=0;q<U.length;q++){var W=U[q];Z.lineTo(W.x,W.y)}if(Z.closePath)Z.closePath()}function lO8(Z,J,Q,K){Z.arc(J,Q,K,0,Math.PI*2,!1)}function aO8(Z,J,Q,K,X){var U=Math.min(K,X),Y=U/2,q=J+K/2,W=Q+X/2;Z.beginPath(),Z.arc(q,W,Y,0,Math.PI*2),Z.closePath()}function TI0(Z,J,Q,K,X){var U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,Y=Math.min(U,K/2,X/2);Z.beginPath(),Z.moveTo(J+Y,Q),Z.lineTo(J+K-Y,Q),Z.quadraticCurveTo(J+K,Q,J+K,Q+Y),Z.lineTo(J+K,Q+X-Y),Z.quadraticCurveTo(J+K,Q+X,J+K-Y,Q+X),Z.lineTo(J+Y,Q+X),Z.quadraticCurveTo(J,Q+X,J,Q+X-Y),Z.lineTo(J,Q+Y),Z.quadraticCurveTo(J,Q,J+Y,Q),Z.closePath()}function wI0(Z,J,Q){var K=Z.createShader(J);if(Z.shaderSource(K,Q),Z.compileShader(K),!Z.getShaderParameter(K,Z.COMPILE_STATUS))throw Error(Z.getShaderInfoLog(K));return K}function tO8(Z,J,Q){var K=wI0(Z,Z.VERTEX_SHADER,J),X=wI0(Z,Z.FRAGMENT_SHADER,Q),U=Z.createProgram();if(Z.attachShader(U,K),Z.attachShader(U,X),Z.linkProgram(U),!Z.getProgramParameter(U,Z.LINK_STATUS))throw Error("Could not initialize shaders");return U}function eO8(Z,J,Q){if(Q===void 0)Q=J;var K=Z.makeOffscreenCanvas(J,Q),X=K.context=K.getContext("2d");return K.clear=function(){return X.clearRect(0,0,K.width,K.height)},K.clear(),K}function di(Z){var J=Z.pixelRatio,Q=Z.cy.zoom(),K=Z.cy.pan();return{zoom:Q*J,pan:{x:K.x*J,y:K.y*J}}}function ZR8(Z){var J=Z.pixelRatio,Q=Z.cy.zoom();return Q*J}function JR8(Z,J,Q,K,X){var U=K*Q+J.x,Y=X*Q+J.y;return Y=Math.round(Z.canvasHeight-Y),[U,Y]}function QR8(Z){if(Z.pstyle("background-fill").value!=="solid")return!1;if(Z.pstyle("background-image").strValue!=="none")return!1;if(Z.pstyle("border-width").value===0)return!0;if(Z.pstyle("border-opacity").value===0)return!0;if(Z.pstyle("border-style").value!=="solid")return!1;return!0}function KR8(Z,J){if(Z.length!==J.length)return!1;for(var Q=0;Q<Z.length;Q++)if(Z[Q]!==J[Q])return!1;return!0}function qz(Z,J,Q){var K=Z[0]/255,X=Z[1]/255,U=Z[2]/255,Y=J,q=Q||[,,,,];return q[0]=K*Y,q[1]=X*Y,q[2]=U*Y,q[3]=Y,q}function HF(Z,J){var Q=J||[,,,,];return Q[0]=(Z>>0&255)/255,Q[1]=(Z>>8&255)/255,Q[2]=(Z>>16&255)/255,Q[3]=(Z>>24&255)/255,Q}function XR8(Z){return Z[0]+(Z[1]<<8)+(Z[2]<<16)+(Z[3]<<24)}function UR8(Z,J){var Q=Z.createTexture();return Q.buffer=function(K){Z.bindTexture(Z.TEXTURE_2D,Q),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.LINEAR),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.LINEAR_MIPMAP_NEAREST),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,Z.RGBA,Z.UNSIGNED_BYTE,K),Z.generateMipmap(Z.TEXTURE_2D),Z.bindTexture(Z.TEXTURE_2D,null)},Q.deleteTexture=function(){Z.deleteTexture(Q)},Q}function ON0(Z,J){switch(J){case"float":return[1,Z.FLOAT,4];case"vec2":return[2,Z.FLOAT,4];case"vec3":return[3,Z.FLOAT,4];case"vec4":return[4,Z.FLOAT,4];case"int":return[1,Z.INT,4];case"ivec2":return[2,Z.INT,4]}}function RN0(Z,J,Q){switch(J){case Z.FLOAT:return new Float32Array(Q);case Z.INT:return new Int32Array(Q)}}function YR8(Z,J,Q,K,X,U){switch(J){case Z.FLOAT:return new Float32Array(Q.buffer,U*K,X);case Z.INT:return new Int32Array(Q.buffer,U*K,X)}}function qR8(Z,J,Q,K){var X=ON0(Z,J),U=X7(X,2),Y=U[0],q=U[1],W=RN0(Z,q,K),G=Z.createBuffer();if(Z.bindBuffer(Z.ARRAY_BUFFER,G),Z.bufferData(Z.ARRAY_BUFFER,W,Z.STATIC_DRAW),q===Z.FLOAT)Z.vertexAttribPointer(Q,Y,q,!1,0,0);else if(q===Z.INT)Z.vertexAttribIPointer(Q,Y,q,0,0);return Z.enableVertexAttribArray(Q),Z.bindBuffer(Z.ARRAY_BUFFER,null),G}function pX(Z,J,Q,K){var X=ON0(Z,Q),U=X7(X,3),Y=U[0],q=U[1],W=U[2],G=RN0(Z,q,J*Y),z=Y*W,H=Z.createBuffer();if(Z.bindBuffer(Z.ARRAY_BUFFER,H),Z.bufferData(Z.ARRAY_BUFFER,J*z,Z.DYNAMIC_DRAW),Z.enableVertexAttribArray(K),q===Z.FLOAT)Z.vertexAttribPointer(K,Y,q,!1,z,0);else if(q===Z.INT)Z.vertexAttribIPointer(K,Y,q,z,0);Z.vertexAttribDivisor(K,1),Z.bindBuffer(Z.ARRAY_BUFFER,null);var F=Array(J);for(var M=0;M<J;M++)F[M]=YR8(Z,q,G,z,Y,M);return H.dataArray=G,H.stride=z,H.size=Y,H.getView=function(B){return F[B]},H.setPoint=function(B,O,R){var D=F[B];D[0]=O,D[1]=R},H.bufferSubData=function(B){if(Z.bindBuffer(Z.ARRAY_BUFFER,H),B)Z.bufferSubData(Z.ARRAY_BUFFER,0,G,0,B*Y);else Z.bufferSubData(Z.ARRAY_BUFFER,0,G)},H}function WR8(Z,J,Q){var K=9,X=new Float32Array(J*K),U=Array(J);for(var Y=0;Y<J;Y++){var q=Y*K*4;U[Y]=new Float32Array(X.buffer,q,K)}var W=Z.createBuffer();Z.bindBuffer(Z.ARRAY_BUFFER,W),Z.bufferData(Z.ARRAY_BUFFER,X.byteLength,Z.DYNAMIC_DRAW);for(var G=0;G<3;G++){var z=Q+G;Z.enableVertexAttribArray(z),Z.vertexAttribPointer(z,3,Z.FLOAT,!1,36,G*12),Z.vertexAttribDivisor(z,1)}return Z.bindBuffer(Z.ARRAY_BUFFER,null),W.getMatrixView=function(H){return U[H]},W.setData=function(H,F){U[F].set(H,0)},W.bufferSubData=function(){Z.bindBuffer(Z.ARRAY_BUFFER,W),Z.bufferSubData(Z.ARRAY_BUFFER,0,X)},W}function GR8(Z){var J=Z.createFramebuffer();Z.bindFramebuffer(Z.FRAMEBUFFER,J);var Q=Z.createTexture();return Z.bindTexture(Z.TEXTURE_2D,Q),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.LINEAR),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE),Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Q,0),Z.bindFramebuffer(Z.FRAMEBUFFER,null),J.setFramebufferAttachmentSizes=function(K,X){Z.bindTexture(Z.TEXTURE_2D,Q),Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,K,X,0,Z.RGBA,Z.UNSIGNED_BYTE,null)},J}function rd(){var Z=new $I0(9);if($I0!=Float32Array)Z[1]=0,Z[2]=0,Z[3]=0,Z[5]=0,Z[6]=0,Z[7]=0;return Z[0]=1,Z[4]=1,Z[8]=1,Z}function kI0(Z){return Z[0]=1,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=1,Z[5]=0,Z[6]=0,Z[7]=0,Z[8]=1,Z}function zR8(Z,J,Q){var K=J[0],X=J[1],U=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Q[0],M=Q[1],B=Q[2],O=Q[3],R=Q[4],D=Q[5],L=Q[6],A=Q[7],V=Q[8];return Z[0]=F*K+M*Y+B*G,Z[1]=F*X+M*q+B*z,Z[2]=F*U+M*W+B*H,Z[3]=O*K+R*Y+D*G,Z[4]=O*X+R*q+D*z,Z[5]=O*U+R*W+D*H,Z[6]=L*K+A*Y+V*G,Z[7]=L*X+A*q+V*z,Z[8]=L*U+A*W+V*H,Z}function ES(Z,J,Q){var K=J[0],X=J[1],U=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Q[0],M=Q[1];return Z[0]=K,Z[1]=X,Z[2]=U,Z[3]=Y,Z[4]=q,Z[5]=W,Z[6]=F*K+M*Y+G,Z[7]=F*X+M*q+z,Z[8]=F*U+M*W+H,Z}function _I0(Z,J,Q){var K=J[0],X=J[1],U=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Math.sin(Q),M=Math.cos(Q);return Z[0]=M*K+F*Y,Z[1]=M*X+F*q,Z[2]=M*U+F*W,Z[3]=M*Y-F*K,Z[4]=M*q-F*X,Z[5]=M*W-F*U,Z[6]=G,Z[7]=z,Z[8]=H,Z}function Ri(Z,J,Q){var K=Q[0],X=Q[1];return Z[0]=K*J[0],Z[1]=K*J[1],Z[2]=K*J[2],Z[3]=X*J[3],Z[4]=X*J[4],Z[5]=X*J[5],Z[6]=J[6],Z[7]=J[7],Z[8]=J[8],Z}function HR8(Z,J,Q){return Z[0]=2/J,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=-2/Q,Z[5]=0,Z[6]=-1,Z[7]=1,Z[8]=1,Z}function BR8(Z,J){if(Z.intersection)return Z.intersection(J);else return new Set(VS(Z).filter(function(Q){return J.has(Q)}))}function ER8(Z){var J=Z.cy.container(),Q=J&&J.style&&J.style.backgroundColor||"white";return dI0(Q)}function LN0(Z,J){var Q=Z._private.rscratch;return a6(Q,"labelWrapCachedLines",J)||[]}function VR8(Z){{var J=Z.render;Z.render=function(U){U=U||{};var Y=Z.cy;if(Z.webgl)if(Y.zoom()>zN0)PR8(Z),J.call(Z,U);else jR8(Z),AN0(Z,U,ML.SCREEN)}}{var Q=Z.matchCanvasSize;Z.matchCanvasSize=function(U){Q.call(Z,U),Z.pickingFrameBuffer.setFramebufferAttachmentSizes(Z.canvasWidth,Z.canvasHeight),Z.pickingFrameBuffer.needsDraw=!0}}Z.findNearestElements=function(U,Y,q,W){return kR8(Z,U,Y)};{var K=Z.invalidateCachedZSortedEles;Z.invalidateCachedZSortedEles=function(){K.call(Z),Z.pickingFrameBuffer.needsDraw=!0}}{var X=Z.notify;Z.notify=function(U,Y){if(X.call(Z,U,Y),U==="viewport"||U==="bounds")Z.pickingFrameBuffer.needsDraw=!0;else if(U==="background")Z.drawing.invalidate(Y,{type:"node-body"})}}}function PR8(Z){var J=Z.data.contexts[Z.WEBGL];J.clear(J.COLOR_BUFFER_BIT|J.DEPTH_BUFFER_BIT)}function jR8(Z){var J=function(K){K.save(),K.setTransform(1,0,0,1,0,0),K.clearRect(0,0,Z.canvasWidth,Z.canvasHeight),K.restore()};J(Z.data.contexts[Z.NODE]),J(Z.data.contexts[Z.DRAG])}function CR8(Z){var{canvasWidth:J,canvasHeight:Q}=Z,K=di(Z),X=K.pan,U=K.zoom,Y=rd();ES(Y,Y,[X.x,X.y]),Ri(Y,Y,[U,U]);var q=rd();HR8(q,J,Q);var W=rd();return zR8(W,q,Y),W}function IN0(Z,J){var{canvasWidth:Q,canvasHeight:K}=Z,X=di(Z),U=X.pan,Y=X.zoom;J.setTransform(1,0,0,1,0,0),J.clearRect(0,0,Q,K),J.translate(U.x,U.y),J.scale(Y,Y)}function SR8(Z,J){Z.drawSelectionRectangle(J,function(Q){return IN0(Z,Q)})}function TR8(Z){var J=Z.data.contexts[Z.NODE];J.save(),IN0(Z,J),J.strokeStyle="rgba(0, 0, 0, 0.3)",J.beginPath(),J.moveTo(-1000,0),J.lineTo(1000,0),J.stroke(),J.beginPath(),J.moveTo(0,-1000),J.lineTo(0,1000),J.stroke(),J.restore()}function wR8(Z){var J=function(X,U,Y){var q=X.atlasManager.getAtlasCollection(U),W=Z.data.contexts[Z.NODE],G=q.atlases;for(var z=0;z<G.length;z++){var H=G[z],F=H.canvas;if(F){var{width:M,height:B}=F,O=M*z,R=F.height*Y,D=0.4;W.save(),W.scale(D,D),W.drawImage(F,O,R),W.strokeStyle="black",W.rect(O,R,M,B),W.stroke(),W.restore()}}},Q=0;J(Z.drawing,"node",Q++),J(Z.drawing,"label",Q++)}function $R8(Z,J,Q,K,X){var U,Y,q,W,G=di(Z),z=G.pan,H=G.zoom;{var F=JR8(Z,z,H,J,Q),M=X7(F,2),B=M[0],O=M[1],R=6;U=B-R/2,Y=O-R/2,q=R,W=R}if(q===0||W===0)return[];var D=Z.data.contexts[Z.WEBGL];if(D.bindFramebuffer(D.FRAMEBUFFER,Z.pickingFrameBuffer),Z.pickingFrameBuffer.needsDraw)D.viewport(0,0,D.canvas.width,D.canvas.height),AN0(Z,null,ML.PICKING),Z.pickingFrameBuffer.needsDraw=!1;var L=q*W,A=new Uint8Array(L*4);D.readPixels(U,Y,q,W,D.RGBA,D.UNSIGNED_BYTE,A),D.bindFramebuffer(D.FRAMEBUFFER,null);var V=new Set;for(var N=0;N<L;N++){var E=A.slice(N*4,N*4+4),j=XR8(E)-1;if(j>=0)V.add(j)}return V}function kR8(Z,J,Q){var K=$R8(Z,J,Q),X=Z.getCachedZSortedEles(),U,Y,q=t6(K),W;try{for(q.s();!(W=q.n()).done;){var G=W.value,z=X[G];if(!U&&z.isNode())U=z;if(!Y&&z.isEdge())Y=z;if(U&&Y)break}}catch(H){q.e(H)}finally{q.f()}return[U,Y].filter(Boolean)}function ed(Z,J,Q){var K=Z.drawing;if(J+=1,Q.isNode())K.drawNode(Q,J,"node-underlay"),K.drawNode(Q,J,"node-body"),K.drawTexture(Q,J,"label"),K.drawNode(Q,J,"node-overlay");else K.drawEdgeLine(Q,J),K.drawEdgeArrow(Q,J,"source"),K.drawEdgeArrow(Q,J,"target"),K.drawTexture(Q,J,"label"),K.drawTexture(Q,J,"edge-source-label"),K.drawTexture(Q,J,"edge-target-label")}function AN0(Z,J,Q){var K;if(Z.webglDebug)K=performance.now();var X=Z.drawing,U=0;if(Q.screen){if(Z.data.canvasNeedsRedraw[Z.SELECT_BOX])SR8(Z,J)}if(Z.data.canvasNeedsRedraw[Z.NODE]||Q.picking){var Y=Z.data.contexts[Z.WEBGL];if(Q.screen)Y.clearColor(0,0,0,0),Y.enable(Y.BLEND),Y.blendFunc(Y.ONE,Y.ONE_MINUS_SRC_ALPHA);else Y.disable(Y.BLEND);Y.clear(Y.COLOR_BUFFER_BIT|Y.DEPTH_BUFFER_BIT),Y.viewport(0,0,Y.canvas.width,Y.canvas.height);var q=CR8(Z),W=Z.getCachedZSortedEles();if(U=W.length,X.startFrame(q,Q),Q.screen){for(var G=0;G<W.nondrag.length;G++)ed(Z,G,W.nondrag[G]);for(var z=0;z<W.drag.length;z++)ed(Z,z,W.drag[z])}else if(Q.picking)for(var H=0;H<W.length;H++)ed(Z,H,W[H]);if(X.endFrame(),Q.screen&&Z.webglDebugShowAtlases)TR8(Z),wR8(Z);Z.data.canvasNeedsRedraw[Z.NODE]=!1,Z.data.canvasNeedsRedraw[Z.DRAG]=!1}if(Z.webglDebug){var F=performance.now(),M=!1,B=Math.ceil(F-K),O=X.getDebugInfo(),R=["".concat(U," elements"),"".concat(O.totalInstances," instances"),"".concat(O.batchCount," batches"),"".concat(O.totalAtlases," atlases"),"".concat(O.wrappedCount," wrapped textures"),"".concat(O.simpleCount," simple shapes")].join(", ");if(M)console.log("WebGL (".concat(Q.name,") - time ").concat(B,"ms, ").concat(R));else{console.log("WebGL (".concat(Q.name,") - frame time ").concat(B,"ms")),console.log("Totals:"),console.log("  ".concat(R)),console.log("Texture Atlases Used:");var D=O.atlasInfo,L=t6(D),A;try{for(L.s();!(A=L.n()).done;){var V=A.value;console.log("  ".concat(V.type,": ").concat(V.keyCount," keys, ").concat(V.atlasCount," atlases"))}}catch(N){L.e(N)}finally{L.f()}console.log("")}}if(Z.data.gc)console.log("Garbage Collect!"),Z.data.gc=!1,X.gc()}function _R8(Z,J){var Q=atob(Z),K=new ArrayBuffer(Q.length),X=new Uint8Array(K);for(var U=0;U<Q.length;U++)X[U]=Q.charCodeAt(U);return new Blob([K],{type:J})}function yI0(Z){var J=Z.indexOf(",");return Z.substr(J+1)}function EN0(Z,J,Q){var K=function(){return J.toDataURL(Q,Z.quality)};switch(Z.output){case"blob-promise":return new jF(function(X,U){try{J.toBlob(function(Y){if(Y!=null)X(Y);else U(Error("`canvas.toBlob()` sent a null value in its callback"))},Q,Z.quality)}catch(Y){U(Y)}});case"blob":return _R8(yI0(K()),Q);case"base64":return yI0(K());case"base64uri":default:return K()}}function PN0(Z){var J=this,Q=J.cy.window(),K=Q.document;if(Z.webgl)$9.CANVAS_LAYERS=J.CANVAS_LAYERS=4,console.log("webgl rendering enabled");J.data={canvases:Array($9.CANVAS_LAYERS),contexts:Array($9.CANVAS_LAYERS),canvasNeedsRedraw:Array($9.CANVAS_LAYERS),bufferCanvases:Array($9.BUFFER_COUNT),bufferContexts:Array($9.CANVAS_LAYERS)};var X="-webkit-tap-highlight-color",U="rgba(0,0,0,0)";J.data.canvasContainer=K.createElement("div");var Y=J.data.canvasContainer.style;J.data.canvasContainer.style[X]=U,Y.position="relative",Y.zIndex="0",Y.overflow="hidden";var q=Z.cy.container();q.appendChild(J.data.canvasContainer),q.style[X]=U;var W={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};if(SH8())W["-ms-touch-action"]="none",W["touch-action"]="none";for(var G=0;G<$9.CANVAS_LAYERS;G++){var z=J.data.canvases[G]=K.createElement("canvas"),H=$9.CANVAS_TYPES[G];if(J.data.contexts[G]=z.getContext(H),!J.data.contexts[G])LJ("Could not create canvas of type "+H);Object.keys(W).forEach(function(J0){z.style[J0]=W[J0]}),z.style.position="absolute",z.setAttribute("data-id","layer"+G),z.style.zIndex=String($9.CANVAS_LAYERS-G),J.data.canvasContainer.appendChild(z),J.data.canvasNeedsRedraw[G]=!1}if(J.data.topCanvas=J.data.canvases[0],J.data.canvases[$9.NODE].setAttribute("data-id","layer"+$9.NODE+"-node"),J.data.canvases[$9.SELECT_BOX].setAttribute("data-id","layer"+$9.SELECT_BOX+"-selectbox"),J.data.canvases[$9.DRAG].setAttribute("data-id","layer"+$9.DRAG+"-drag"),J.data.canvases[$9.WEBGL])J.data.canvases[$9.WEBGL].setAttribute("data-id","layer"+$9.WEBGL+"-webgl");for(var G=0;G<$9.BUFFER_COUNT;G++)J.data.bufferCanvases[G]=K.createElement("canvas"),J.data.bufferContexts[G]=J.data.bufferCanvases[G].getContext("2d"),J.data.bufferCanvases[G].style.position="absolute",J.data.bufferCanvases[G].setAttribute("data-id","buffer"+G),J.data.bufferCanvases[G].style.zIndex=String(-G-1),J.data.bufferCanvases[G].style.visibility="hidden";J.pathsEnabled=!0;var F=q6(),M=function(Q0){return{x:(Q0.x1+Q0.x2)/2,y:(Q0.y1+Q0.y2)/2}},B=function(Q0){return{x:-Q0.w/2,y:-Q0.h/2}},O=function(Q0){var t=Q0[0]._private,n=t.oldBackgroundTimestamp===t.backgroundTimestamp;return!n},R=function(Q0){return Q0[0]._private.nodeKey},D=function(Q0){return Q0[0]._private.labelStyleKey},L=function(Q0){return Q0[0]._private.sourceLabelStyleKey},A=function(Q0){return Q0[0]._private.targetLabelStyleKey},V=function(Q0,t,n,Y0,o){return J.drawElement(Q0,t,n,!1,!1,o)},N=function(Q0,t,n,Y0,o){return J.drawElementText(Q0,t,n,Y0,"main",o)},E=function(Q0,t,n,Y0,o){return J.drawElementText(Q0,t,n,Y0,"source",o)},j=function(Q0,t,n,Y0,o){return J.drawElementText(Q0,t,n,Y0,"target",o)},C=function(Q0){return Q0.boundingBox(),Q0[0]._private.bodyBounds},$=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.main||F},k=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.source||F},w=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.target||F},P=function(Q0,t){return t},T=function(Q0){return M(C(Q0))},S=function(Q0,t,n){var Y0=Q0?Q0+"-":"";return{x:t.x+n.pstyle(Y0+"text-margin-x").pfValue,y:t.y+n.pstyle(Y0+"text-margin-y").pfValue}},f=function(Q0,t,n){var Y0=Q0[0]._private.rscratch;return{x:Y0[t],y:Y0[n]}},v=function(Q0){return S("",f(Q0,"labelX","labelY"),Q0)},x=function(Q0){return S("source",f(Q0,"sourceLabelX","sourceLabelY"),Q0)},b=function(Q0){return S("target",f(Q0,"targetLabelX","targetLabelY"),Q0)},y=function(Q0){return B(C(Q0))},u=function(Q0){return B(k(Q0))},h=function(Q0){return B(w(Q0))},p=function(Q0){var t=$(Q0),n=B($(Q0));if(Q0.isNode()){switch(Q0.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0);break}switch(Q0.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0);break}}return n},r=J.data.eleTxrCache=new zL(J,{getKey:R,doesEleInvalidateKey:O,drawElement:V,getBoundingBox:C,getRotationPoint:T,getRotationOffset:y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),e=J.data.lblTxrCache=new zL(J,{getKey:D,drawElement:N,getBoundingBox:$,getRotationPoint:v,getRotationOffset:p,isVisible:P}),i=J.data.slbTxrCache=new zL(J,{getKey:L,drawElement:E,getBoundingBox:k,getRotationPoint:x,getRotationOffset:u,isVisible:P}),U0=J.data.tlbTxrCache=new zL(J,{getKey:A,drawElement:j,getBoundingBox:w,getRotationPoint:b,getRotationOffset:h,isVisible:P}),a=J.data.lyrTxrCache=new HN0(J);J.onUpdateEleCalcs(function(Q0,t){r.invalidateElements(t),e.invalidateElements(t),i.invalidateElements(t),U0.invalidateElements(t),a.invalidateElements(t);for(var n=0;n<t.length;n++){var Y0=t[n]._private;Y0.oldBackgroundTimestamp=Y0.backgroundTimestamp}});var z0=function(Q0){for(var t=0;t<Q0.length;t++)a.enqueueElementRefinement(Q0[t].ele)};if(r.onDequeue(z0),e.onDequeue(z0),i.onDequeue(z0),U0.onDequeue(z0),Z.webgl)J.initWebgl(Z,{getStyleKey:R,getLabelKey:D,getSourceLabelKey:L,getTargetLabelKey:A,drawElement:V,drawLabel:N,drawSourceLabel:E,drawTargetLabel:j,getElementBox:C,getLabelBox:$,getSourceLabelBox:k,getTargetLabelBox:w,getElementRotationPoint:T,getElementRotationOffset:y,getLabelRotationPoint:v,getSourceLabelRotationPoint:x,getTargetLabelRotationPoint:b,getLabelRotationOffset:p,getSourceLabelRotationOffset:u,getTargetLabelRotationOffset:h})}function SN0(Z,J,Q){var K=Q,X=function(C){NZ("Can not register `"+J+"` for `"+Z+"` since `"+C+"` already exists in the prototype and can not be overridden")};if(Z==="core")if(EL.prototype[J])return X(J);else EL.prototype[J]=Q;else if(Z==="collection")if(HQ.prototype[J])return X(J);else HQ.prototype[J]=Q;else if(Z==="layout"){var U=function(C){if(this.options=C,Q.call(this,C),!qZ(this._private))this._private={};this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},Y=U.prototype=Object.create(Q.prototype),q=[];for(var W=0;W<q.length;W++){var G=q[W];Y[G]=Y[G]||function(){return this}}if(Y.start&&!Y.run)Y.run=function(){return this.start(),this};else if(!Y.start&&Y.run)Y.start=function(){return this.run(),this};var z=Q.prototype.stop;if(Y.stop=function(){var j=this.options;if(j&&j.animate){var C=this.animations;if(C)for(var $=0;$<C.length;$++)C[$].stop()}if(z)z.call(this);else this.emit("layoutstop");return this},!Y.destroy)Y.destroy=function(){return this};Y.cy=function(){return this._private.cy};var H=function(C){return C._private.cy},F={addEventFields:function(C,$){$.layout=C,$.cy=H(C),$.target=C},bubble:function(){return!0},parent:function(C){return H(C)}};Y9(Y,{createEmitter:function(){return this._private.emitter=new sS(F,this),this},emitter:function(){return this._private.emitter},on:function(C,$){return this.emitter().on(C,$),this},one:function(C,$){return this.emitter().one(C,$),this},once:function(C,$){return this.emitter().one(C,$),this},removeListener:function(C,$){return this.emitter().removeListener(C,$),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(C,$){return this.emitter().emit(C,$),this}}),AZ.eventAliasesOn(Y),K=U}else if(Z==="renderer"&&J!=="null"&&J!=="base"){var M=TN0("renderer","base"),B=M.prototype,O=Q,R=Q.prototype,D=function(){M.apply(this,arguments),O.apply(this,arguments)},L=D.prototype;for(var A in B){var V=B[A],N=R[A]!=null;if(N)return X(A);L[A]=V}for(var E in R)L[E]=R[E];B.clientFunctions.forEach(function(j){L[j]=L[j]||function(){LJ("Renderer does not implement `renderer."+j+"()` on its prototype")}}),K=D}else if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return LJ(Z+" is an illegal type to be registered, possibly lead to prototype pollutions");return iI0({map:jN0,keys:[Z,J],value:K})}function TN0(Z,J){return sI0({map:jN0,keys:[Z,J]})}function yR8(Z,J,Q,K,X){return iI0({map:CN0,keys:[Z,J,Q,K],value:X})}function hR8(Z,J,Q,K){return sI0({map:CN0,keys:[Z,J,Q,K]})}var I7,zD0,LH8,uI0,IH8,AH8,PL=function(J){return J&&J.instanceString&&wJ(J.instanceString)?J.instanceString():null},Z9=function(J){return J!=null&&N7(J)==LH8},wJ=function(J){return J!=null&&N7(J)===IH8},uZ=function(J){return!y4(J)&&(Array.isArray?Array.isArray(J):J!=null&&J instanceof Array)},qZ=function(J){return J!=null&&N7(J)===uI0&&!uZ(J)&&J.constructor===Object},NH8=function(J){return J!=null&&N7(J)===uI0},P8=function(J){return J!=null&&N7(J)===N7(1)&&!isNaN(J)},EH8=function(J){return P8(J)&&Math.floor(J)===J},PS=function(J){if(AH8==="undefined")return;else return J!=null&&J instanceof HTMLElement},y4=function(J){return jL(J)||gI0(J)},jL=function(J){return PL(J)==="collection"&&J._private.single},gI0=function(J){return PL(J)==="collection"&&!J._private.single},Ni=function(J){return PL(J)==="core"},pI0=function(J){return PL(J)==="stylesheet"},VH8=function(J){return PL(J)==="event"},Vq=function(J){if(J===void 0||J===null)return!0;else if(J===""||J.match(/^\s+$/))return!0;return!1},PH8=function(J){if(typeof HTMLElement>"u")return!1;else return J instanceof HTMLElement},jH8=function(J){return qZ(J)&&P8(J.x1)&&P8(J.x2)&&P8(J.y1)&&P8(J.y2)},CH8=function(J){return NH8(J)&&wJ(J.then)},SH8=function(){return zD0&&zD0.userAgent.match(/msie|trident|edge/i)},NF=function(J,Q){if(!Q)Q=function(){if(arguments.length===1)return arguments[0];else if(arguments.length===0)return"undefined";var U=[];for(var Y=0;Y<arguments.length;Y++)U.push(arguments[Y]);return U.join("$")};var K=function(){var U=this,Y=arguments,q,W=Q.apply(U,Y),G=K.cache;if(!(q=G[W]))q=G[W]=J.apply(U,Y);return q};return K.cache={},K},Ei,yS,cI0,HD0=function(J){if(Vq(J))return J;return J.charAt(0).toUpperCase()+J.substring(1)},Lq=function(J,Q){return J.slice(-1*Q.length)===Q},A7="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",TH8,wH8,$H8,kH8,_H8="\\#[0-9a-fA-F]{3}",fH8="\\#[0-9a-fA-F]{6}",lI0=function(J,Q){if(J<Q)return-1;else if(J>Q)return 1;else return 0},vH8=function(J,Q){return-1*lI0(J,Q)},Y9,xH8=function(J){if(!(J.length===4||J.length===7)||J[0]!=="#")return;var Q=J.length===4,K,X,U,Y=16;if(Q)K=parseInt(J[1]+J[1],Y),X=parseInt(J[2]+J[2],Y),U=parseInt(J[3]+J[3],Y);else K=parseInt(J[1]+J[2],Y),X=parseInt(J[3]+J[4],Y),U=parseInt(J[5]+J[6],Y);return[K,X,U]},bH8=function(J){var Q,K,X,U,Y,q,W,G;function z(B,O,R){if(R<0)R+=1;if(R>1)R-=1;if(R<0.16666666666666666)return B+(O-B)*6*R;if(R<0.5)return O;if(R<0.6666666666666666)return B+(O-B)*(0.6666666666666666-R)*6;return B}var H=new RegExp("^"+$H8+"$").exec(J);if(H){if(K=parseInt(H[1]),K<0)K=(360- -1*K%360)%360;else if(K>360)K=K%360;if(K/=360,X=parseFloat(H[2]),X<0||X>100)return;if(X=X/100,U=parseFloat(H[3]),U<0||U>100)return;if(U=U/100,Y=H[4],Y!==void 0){if(Y=parseFloat(Y),Y<0||Y>1)return}if(X===0)q=W=G=Math.round(U*255);else{var F=U<0.5?U*(1+X):U+X-U*X,M=2*U-F;q=Math.round(255*z(M,F,K+0.3333333333333333)),W=Math.round(255*z(M,F,K)),G=Math.round(255*z(M,F,K-0.3333333333333333))}Q=[q,W,G,Y]}return Q},yH8=function(J){var Q,K=new RegExp("^"+TH8+"$").exec(J);if(K){Q=[];var X=[];for(var U=1;U<=3;U++){var Y=K[U];if(Y[Y.length-1]==="%")X[U]=!0;if(Y=parseFloat(Y),X[U])Y=Y/100*255;if(Y<0||Y>255)return;Q.push(Math.floor(Y))}var q=X[1]||X[2]||X[3],W=X[1]&&X[2]&&X[3];if(q&&!W)return;var G=K[4];if(G!==void 0){if(G=parseFloat(G),G<0||G>1)return;Q.push(G)}}return Q},hH8=function(J){return mH8[J.toLowerCase()]},dI0=function(J){return(uZ(J)?J:null)||hH8(J)||xH8(J)||yH8(J)||bH8(J)},mH8,iI0=function(J){var{map:Q,keys:K}=J,X=K.length;for(var U=0;U<X;U++){var Y=K[U];if(qZ(Y))throw Error("Tried to set map with object key");if(U<K.length-1){if(Q[Y]==null)Q[Y]={};Q=Q[Y]}else Q[Y]=J.value}},sI0=function(J){var{map:Q,keys:K}=J,X=K.length;for(var U=0;U<X;U++){var Y=K[U];if(qZ(Y))throw Error("Tried to get map with object key");if(Q=Q[Y],Q==null)return Q}return Q},eC,Pl,FD0,jl,MD0,Cl,BD0,Sl,OD0,Tl,RD0,wl,DD0,$l,LD0,kl,ID0,_l,AD0,fl,ND0,vl,ED0,xl,VD0,bl,PD0,yl,jD0,nH8,wL,hl,nI0,aH8,jS=function(J){return aH8(J)},NY,zz=9261,aI0=65599,MF=5381,oI0=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zz,K=Q,X;for(;;){if(X=J.next(),X.done)break;K=K*aI0+X.value|0}return K},BL=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zz;return Q*aI0+J|0},OL=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MF;return(Q<<5)+Q+J|0},oH8=function(J,Q){return J*2097152+Q},Bq=function(J){return J[0]*2097152+J[1]},ZS=function(J,Q){return[BL(J[0],Q[0]),OL(J[1],Q[1])]},CD0=function(J,Q){var K={value:0,done:!1},X=0,U=J.length,Y={next:function(){if(X<U)K.value=J[X++];else K.done=!0;return K}};return oI0(Y,Q)},Mz=function(J,Q){var K={value:0,done:!1},X=0,U=J.length,Y={next:function(){if(X<U)K.value=J.charCodeAt(X++);else K.done=!0;return K}};return oI0(Y,Q)},tI0=function(){return tH8(arguments)},tH8=function(J){var Q;for(var K=0;K<J.length;K++){var X=J[K];if(K===0)Q=Mz(X);else Q=Mz(X,Q)}return Q},Z28=function(J,Q,K,X,U,Y){return{x:(J-K)*U+K,y:(Q-X)*Y+X}},SD0=!0,Q28,K28,Pi,eI0=function(){return!0},CS=function(){return!1},TD0=function(){return 0},ji=function(){},LJ=function(J){throw Error(J)},ZA0=function(J){if(J!==void 0)SD0=!!J;else return SD0},NZ=function(J){if(!ZA0())return;if(Q28)console.warn(J);else if(console.log(J),K28)console.trace()},X28=function(J){return Y9({},J)},lX=function(J){if(J==null)return J;if(uZ(J))return J.slice();else if(qZ(J))return X28(J);else return J},U28=function(J){return J.slice()},JA0=function(J,Q){for(Q=J="";J++<36;Q+=J*51&52?(J^15?8^Math.random()*(J^20?16:4):4).toString(16):"-");return Q},Y28,QA0=function(){return Y28},FQ=function(J){var Q=Object.keys(J);return function(K){var X={};for(var U=0;U<Q.length;U++){var Y=Q[U],q=K==null?void 0:K[Y];X[Y]=q===void 0?J[Y]:q}return X}},Pq=function(J,Q,K){for(var X=J.length-1;X>=0;X--)if(J[X]===Q)J.splice(X,1)},Ci=function(J){J.splice(0,J.length)},q28=function(J,Q){for(var K=0;K<Q.length;K++){var X=Q[K];J.push(X)}},a6=function(J,Q,K){if(K)Q=cI0(K,Q);return J[Q]},IY=function(J,Q,K,X){if(K)Q=cI0(K,Q);J[Q]=X},W28,AY,G28="undefined",z28,PF,mS=function(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(J===void 0||Q===void 0||!Ni(J)){LJ("An element must have a core reference and parameters set");return}var X=Q.group;if(X==null)if(Q.data&&Q.data.source!=null&&Q.data.target!=null)X="edges";else X="nodes";if(X!=="nodes"&&X!=="edges"){LJ("An element must be of type `nodes` or `edges`; you specified `"+X+"`");return}this.length=1,this[0]=this;var U=this._private={cy:J,single:!0,data:Q.data||{},position:Q.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:X,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Q.selected?!0:!1,selectable:Q.selectable===void 0?!0:Q.selectable?!0:!1,locked:Q.locked?!0:!1,grabbed:!1,grabbable:Q.grabbable===void 0?!0:Q.grabbable?!0:!1,pannable:Q.pannable===void 0?X==="edges"?!0:!1:Q.pannable?!0:!1,active:!1,classes:new PF,animation:{current:[],queue:[]},rscratch:{},scratch:Q.scratch||{},edges:[],children:[],parent:Q.parent&&Q.parent.isNode()?Q.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(U.position.x==null)U.position.x=0;if(U.position.y==null)U.position.y=0;if(Q.renderedPosition){var Y=Q.renderedPosition,q=J.pan(),W=J.zoom();U.position={x:(Y.x-q.x)/W,y:(Y.y-q.y)/W}}var G=[];if(uZ(Q.classes))G=Q.classes;else if(Z9(Q.classes))G=Q.classes.split(/\s+/);for(var z=0,H=G.length;z<H;z++){var F=G[z];if(!F||F==="")continue;U.classes.add(F)}if(this.createEmitter(),K===void 0||K)this.restore();var M=Q.style||Q.css;if(M)NZ("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)},wD0=function(J){return J={bfs:J.bfs||!J.dfs,dfs:J.dfs||!J.bfs},function(K,X,U){var Y;if(qZ(K)&&!y4(K))Y=K,K=Y.roots||Y.root,X=Y.visit,U=Y.directed;U=arguments.length===2&&!wJ(X)?X:U,X=wJ(X)?X:function(){};var q=this._private.cy,W=K=Z9(K)?this.filter(K):K,G=[],z=[],H={},F={},M={},B=0,O,R=this.byGroup(),D=R.nodes,L=R.edges;for(var A=0;A<W.length;A++){var V=W[A],N=V.id();if(V.isNode()){if(G.unshift(V),J.bfs)M[N]=!0,z.push(V);F[N]=0}}var E=function(){var T=J.bfs?G.shift():G.pop(),S=T.id();if(J.dfs){if(M[S])return 0;M[S]=!0,z.push(T)}var f=F[S],v=H[S],x=v!=null?v.source():null,b=v!=null?v.target():null,y=v==null?void 0:T.same(x)?b[0]:x[0],u;if(u=X(T,v,y,B++,f),u===!0)return O=T,1;if(u===!1)return 1;var h=T.connectedEdges().filter(function(U0){return(!U||U0.source().same(T))&&L.has(U0)});for(var p=0;p<h.length;p++){var r=h[p],e=r.connectedNodes().filter(function(U0){return!U0.same(T)&&D.has(U0)}),i=e.id();if(e.length!==0&&!M[i]){if(e=e[0],G.push(e),J.bfs)M[i]=!0,z.push(e);H[i]=r,F[i]=F[S]+1}}},j;while(G.length!==0){if(j=E(),j===0)continue;if(j===1)break}var C=q.collection();for(var $=0;$<z.length;$++){var k=z[$],w=H[k.id()];if(w!=null)C.push(w);C.push(k)}return{path:q.collection(C),found:q.collection(O)}}},RL,FS,H28,$D0,ml,kD0,B28,$L,O28,R28,D28,L28,I28,A28,N28,E28,V28,P28,j28=function(J,Q,K){if(K.length===0)LJ("Karger-Stein must be run on a connected (sub)graph");var X=K[J],U=X[1],Y=X[2],q=Q[U],W=Q[Y],G=K;for(var z=G.length-1;z>=0;z--){var H=G[z],F=H[1],M=H[2];if(Q[F]===q&&Q[M]===W||Q[F]===W&&Q[M]===q)G.splice(z,1)}for(var B=0;B<G.length;B++){var O=G[B];if(O[1]===W)G[B]=O.slice(),G[B][1]=q;else if(O[2]===W)G[B]=O.slice(),G[B][2]=q}for(var R=0;R<Q.length;R++)if(Q[R]===W)Q[R]=q;return G},ul=function(J,Q,K,X){while(K>X){var U=Math.floor(Math.random()*Q.length);Q=j28(U,J,Q),K--}return Q},C28,gl,S28=function(J){return{x:J.x,y:J.y}},uS=function(J,Q,K){return{x:J.x*Q+K.x,y:J.y*Q+K.y}},KA0=function(J,Q,K){return{x:(J.x-K.x)/Q,y:(J.y-K.y)/Q}},BF=function(J){return{x:J[0],y:J[1]}},T28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=1/0;for(var U=Q;U<K;U++){var Y=J[U];if(isFinite(Y))X=Math.min(Y,X)}return X},w28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=-1/0;for(var U=Q;U<K;U++){var Y=J[U];if(isFinite(Y))X=Math.max(Y,X)}return X},$28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=0,U=0;for(var Y=Q;Y<K;Y++){var q=J[Y];if(isFinite(q))X+=q,U++}return X/U},k28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(X)J=J.slice(Q,K);else{if(K<J.length)J.splice(K,J.length-K);if(Q>0)J.splice(0,Q)}var q=0;for(var W=J.length-1;W>=0;W--){var G=J[W];if(Y){if(!isFinite(G))J[W]=-1/0,q++}else J.splice(W,1)}if(U)J.sort(function(F,M){return F-M});var z=J.length,H=Math.floor(z/2);if(z%2!==0)return J[H+1+q];else return(J[H-1+q]+J[H+q])/2},_28=function(J){return Math.PI*J/180},JS=function(J,Q){return Math.atan2(Q,J)-Math.PI/2},Si,Ti=function(J){if(J>0)return 1;else if(J<0)return-1;else return 0},Bz=function(J,Q){return Math.sqrt(Wz(J,Q))},Wz=function(J,Q){var K=Q.x-J.x,X=Q.y-J.y;return K*K+X*X},f28=function(J){var Q=J.length,K=0;for(var X=0;X<Q;X++)K+=J[X];for(var U=0;U<Q;U++)J[U]=J[U]/K;return J},b7=function(J,Q,K,X){return(1-X)*(1-X)*J+2*(1-X)*X*Q+X*X*K},DF=function(J,Q,K,X){return{x:b7(J.x,Q.x,K.x,X),y:b7(J.y,Q.y,K.y,X)}},v28=function(J,Q,K,X){var U={x:Q.x-J.x,y:Q.y-J.y},Y=Bz(J,Q),q={x:U.x/Y,y:U.y/Y};return K=K==null?0:K,X=X!=null?X:K*Y,{x:J.x+q.x*X,y:J.y+q.y*X}},DL=function(J,Q,K){return Math.max(J,Math.min(K,Q))},q6=function(J){if(J==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};else if(J.x1!=null&&J.y1!=null){if(J.x2!=null&&J.y2!=null&&J.x2>=J.x1&&J.y2>=J.y1)return{x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,w:J.x2-J.x1,h:J.y2-J.y1};else if(J.w!=null&&J.h!=null&&J.w>=0&&J.h>=0)return{x1:J.x1,y1:J.y1,x2:J.x1+J.w,y2:J.y1+J.h,w:J.w,h:J.h}}},x28=function(J){return{x1:J.x1,x2:J.x2,w:J.w,y1:J.y1,y2:J.y2,h:J.h}},b28=function(J){J.x1=1/0,J.y1=1/0,J.x2=-1/0,J.y2=-1/0,J.w=0,J.h=0},y28=function(J,Q){J.x1=Math.min(J.x1,Q.x1),J.x2=Math.max(J.x2,Q.x2),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,Q.y1),J.y2=Math.max(J.y2,Q.y2),J.h=J.y2-J.y1},XA0=function(J,Q,K){J.x1=Math.min(J.x1,Q),J.x2=Math.max(J.x2,Q),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,K),J.y2=Math.max(J.y2,K),J.h=J.y2-J.y1},MS=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return J.x1-=Q,J.x2+=Q,J.y1-=Q,J.y2+=Q,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},BS=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],K,X,U,Y;if(Q.length===1)K=X=U=Y=Q[0];else if(Q.length===2)K=U=Q[0],Y=X=Q[1];else if(Q.length===4){var q=X7(Q,4);K=q[0],X=q[1],U=q[2],Y=q[3]}return J.x1-=Y,J.x2+=X,J.y1-=K,J.y2+=U,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},_D0=function(J,Q){J.x1=Q.x1,J.y1=Q.y1,J.x2=Q.x2,J.y2=Q.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},wi=function(J,Q){if(J.x1>Q.x2)return!1;if(Q.x1>J.x2)return!1;if(J.x2<Q.x1)return!1;if(Q.x2<J.x1)return!1;if(J.y2<Q.y1)return!1;if(Q.y2<J.y1)return!1;if(J.y1>Q.y2)return!1;if(Q.y1>J.y2)return!1;return!0},Iq=function(J,Q,K){return J.x1<=Q&&Q<=J.x2&&J.y1<=K&&K<=J.y2},fD0=function(J,Q){return Iq(J,Q.x,Q.y)},UA0=function(J,Q){return Iq(J,Q.x1,Q.y1)&&Iq(J,Q.x2,Q.y2)},h28,YA0=function(J,Q,K,X,U,Y,q){var W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",G=W==="auto"?jq(U,Y):W,z=U/2,H=Y/2;G=Math.min(G,z,H);var F=G!==z,M=G!==H,B;if(F){var O=K-z+G-q,R=X-H-q,D=K+z-G+q,L=R;if(B=Aq(J,Q,K,X,O,R,D,L,!1),B.length>0)return B}if(M){var A=K+z+q,V=X-H+G-q,N=A,E=X+H-G+q;if(B=Aq(J,Q,K,X,A,V,N,E,!1),B.length>0)return B}if(F){var j=K-z+G-q,C=X+H+q,$=K+z-G+q,k=C;if(B=Aq(J,Q,K,X,j,C,$,k,!1),B.length>0)return B}if(M){var w=K-z-q,P=X-H+G-q,T=w,S=X+H-G+q;if(B=Aq(J,Q,K,X,w,P,T,S,!1),B.length>0)return B}var f;{var v=K-z+G,x=X-H+G;if(f=WL(J,Q,K,X,v,x,G+q),f.length>0&&f[0]<=v&&f[1]<=x)return[f[0],f[1]]}{var b=K+z-G,y=X-H+G;if(f=WL(J,Q,K,X,b,y,G+q),f.length>0&&f[0]>=b&&f[1]<=y)return[f[0],f[1]]}{var u=K+z-G,h=X+H-G;if(f=WL(J,Q,K,X,u,h,G+q),f.length>0&&f[0]>=u&&f[1]>=h)return[f[0],f[1]]}{var p=K-z+G,r=X+H-G;if(f=WL(J,Q,K,X,p,r,G+q),f.length>0&&f[0]<=p&&f[1]>=r)return[f[0],f[1]]}return[]},g28=function(J,Q,K,X,U,Y,q){var W=q,G=Math.min(K,U),z=Math.max(K,U),H=Math.min(X,Y),F=Math.max(X,Y);return G-W<=J&&J<=z+W&&H-W<=Q&&Q<=F+W},p28=function(J,Q,K,X,U,Y,q,W,G){var z={x1:Math.min(K,q,U)-G,x2:Math.max(K,q,U)+G,y1:Math.min(X,W,Y)-G,y2:Math.max(X,W,Y)+G};if(J<z.x1||J>z.x2||Q<z.y1||Q>z.y2)return!1;else return!0},c28=function(J,Q,K,X){K-=X;var U=Q*Q-4*J*K;if(U<0)return[];var Y=Math.sqrt(U),q=2*J,W=(-Q+Y)/q,G=(-Q-Y)/q;return[W,G]},l28=function(J,Q,K,X,U){var Y=0.00001;if(J===0)J=Y;Q/=J,K/=J,X/=J;var q,W,G,z,H,F,M,B;if(W=(3*K-Q*Q)/9,G=-(27*X)+Q*(9*K-2*(Q*Q)),G/=54,q=W*W*W+G*G,U[1]=0,M=Q/3,q>0){H=G+Math.sqrt(q),H=H<0?-Math.pow(-H,0.3333333333333333):Math.pow(H,0.3333333333333333),F=G-Math.sqrt(q),F=F<0?-Math.pow(-F,0.3333333333333333):Math.pow(F,0.3333333333333333),U[0]=-M+H+F,M+=(H+F)/2,U[4]=U[2]=-M,M=Math.sqrt(3)*(-F+H)/2,U[3]=M,U[5]=-M;return}if(U[5]=U[3]=0,q===0){B=G<0?-Math.pow(-G,0.3333333333333333):Math.pow(G,0.3333333333333333),U[0]=-M+2*B,U[4]=U[2]=-(B+M);return}W=-W,z=W*W*W,z=Math.acos(G/Math.sqrt(z)),B=2*Math.sqrt(W),U[0]=-M+B*Math.cos(z/3),U[2]=-M+B*Math.cos((z+2*Math.PI)/3),U[4]=-M+B*Math.cos((z+4*Math.PI)/3);return},d28=function(J,Q,K,X,U,Y,q,W){var G=1*K*K-4*K*U+2*K*q+4*U*U-4*U*q+q*q+X*X-4*X*Y+2*X*W+4*Y*Y-4*Y*W+W*W,z=9*K*U-3*K*K-3*K*q-6*U*U+3*U*q+9*X*Y-3*X*X-3*X*W-6*Y*Y+3*Y*W,H=3*K*K-6*K*U+K*q-K*J+2*U*U+2*U*J-q*J+3*X*X-6*X*Y+X*W-X*Q+2*Y*Y+2*Y*Q-W*Q,F=1*K*U-K*K+K*J-U*J+X*Y-X*X+X*Q-Y*Q,M=[];l28(G,z,H,F,M);var B=0.0000001,O=[];for(var R=0;R<6;R+=2)if(Math.abs(M[R+1])<B&&M[R]>=0&&M[R]<=1)O.push(M[R]);O.push(1),O.push(0);var D=-1,L,A,V;for(var N=0;N<O.length;N++)if(L=Math.pow(1-O[N],2)*K+2*(1-O[N])*O[N]*U+O[N]*O[N]*q,A=Math.pow(1-O[N],2)*X+2*(1-O[N])*O[N]*Y+O[N]*O[N]*W,V=Math.pow(L-J,2)+Math.pow(A-Q,2),D>=0){if(V<D)D=V}else D=V;return D},i28=function(J,Q,K,X,U,Y){var q=[J-K,Q-X],W=[U-K,Y-X],G=W[0]*W[0]+W[1]*W[1],z=q[0]*q[0]+q[1]*q[1],H=q[0]*W[0]+q[1]*W[1],F=H*H/G;if(H<0)return z;if(F>G)return(J-U)*(J-U)+(Q-Y)*(Q-Y);return z-F},o6=function(J,Q,K){var X,U,Y,q,W,G=0;for(var z=0;z<K.length/2;z++){if(X=K[z*2],U=K[z*2+1],z+1<K.length/2)Y=K[(z+1)*2],q=K[(z+1)*2+1];else Y=K[(z+1-K.length/2)*2],q=K[(z+1-K.length/2)*2+1];if(X==J&&Y==J);else if(X>=J&&J>=Y||X<=J&&J<=Y){if(W=(J-X)/(Y-X)*(q-U)+U,W>Q)G++}else continue}if(G%2===0)return!1;else return!0},EY=function(J,Q,K,X,U,Y,q,W,G){var z=Array(K.length),H;if(W[0]!=null)if(H=Math.atan(W[1]/W[0]),W[0]<0)H=H+Math.PI/2;else H=-H-Math.PI/2;else H=W;var F=Math.cos(-H),M=Math.sin(-H);for(var B=0;B<z.length/2;B++)z[B*2]=Y/2*(K[B*2]*F-K[B*2+1]*M),z[B*2+1]=q/2*(K[B*2+1]*F+K[B*2]*M),z[B*2]+=X,z[B*2+1]+=U;var O;if(G>0){var R=TS(z,-G);O=SS(R)}else O=z;return o6(J,Q,O)},s28=function(J,Q,K,X,U,Y,q,W){var G=Array(K.length*2);for(var z=0;z<W.length;z++){var H=W[z];G[z*4+0]=H.startX,G[z*4+1]=H.startY,G[z*4+2]=H.stopX,G[z*4+3]=H.stopY;var F=Math.pow(H.cx-J,2)+Math.pow(H.cy-Q,2);if(F<=Math.pow(H.radius,2))return!0}return o6(J,Q,G)},SS=function(J){var Q=Array(J.length/2),K,X,U,Y,q,W,G,z;for(var H=0;H<J.length/4;H++){if(K=J[H*4],X=J[H*4+1],U=J[H*4+2],Y=J[H*4+3],H<J.length/4-1)q=J[(H+1)*4],W=J[(H+1)*4+1],G=J[(H+1)*4+2],z=J[(H+1)*4+3];else q=J[0],W=J[1],G=J[2],z=J[3];var F=Aq(K,X,U,Y,q,W,G,z,!0);Q[H*2]=F[0],Q[H*2+1]=F[1]}return Q},TS=function(J,Q){var K=Array(J.length*2),X,U,Y,q;for(var W=0;W<J.length/2;W++){if(X=J[W*2],U=J[W*2+1],W<J.length/2-1)Y=J[(W+1)*2],q=J[(W+1)*2+1];else Y=J[0],q=J[1];var G=q-U,z=-(Y-X),H=Math.sqrt(G*G+z*z),F=G/H,M=z/H;K[W*4]=X+F*Q,K[W*4+1]=U+M*Q,K[W*4+2]=Y+F*Q,K[W*4+3]=q+M*Q}return K},r28=function(J,Q,K,X,U,Y){var q=K-J,W=X-Q;q/=U,W/=Y;var G=Math.sqrt(q*q+W*W),z=G-1;if(z<0)return[];var H=z/G;return[(K-J)*H+J,(X-Q)*H+Q]},Fz=function(J,Q,K,X,U,Y,q){return J-=U,Q-=Y,J/=K/2+q,Q/=X/2+q,J*J+Q*Q<=1},WL=function(J,Q,K,X,U,Y,q){var W=[K-J,X-Q],G=[J-U,Q-Y],z=W[0]*W[0]+W[1]*W[1],H=2*(G[0]*W[0]+G[1]*W[1]),F=G[0]*G[0]+G[1]*G[1]-q*q,M=H*H-4*z*F;if(M<0)return[];var B=(-H+Math.sqrt(M))/(2*z),O=(-H-Math.sqrt(M))/(2*z),R=Math.min(B,O),D=Math.max(B,O),L=[];if(R>=0&&R<=1)L.push(R);if(D>=0&&D<=1)L.push(D);if(L.length===0)return[];var A=L[0]*W[0]+J,V=L[0]*W[1]+Q;if(L.length>1)if(L[0]==L[1])return[A,V];else{var N=L[1]*W[0]+J,E=L[1]*W[1]+Q;return[A,V,N,E]}else return[A,V]},pl=function(J,Q,K){if(Q<=J&&J<=K||K<=J&&J<=Q)return J;else if(J<=Q&&Q<=K||K<=Q&&Q<=J)return Q;else return K},Aq=function(J,Q,K,X,U,Y,q,W,G){var z=J-U,H=K-J,F=q-U,M=Q-Y,B=X-Q,O=W-Y,R=F*M-O*z,D=H*M-B*z,L=O*H-F*B;if(L!==0){var A=R/L,V=D/L,N=0.001,E=0-N,j=1+N;if(E<=A&&A<=j&&E<=V&&V<=j)return[J+A*H,Q+A*B];else if(!G)return[];else return[J+A*H,Q+A*B]}else if(R===0||D===0){if(pl(J,K,q)===q)return[q,W];if(pl(J,K,U)===U)return[U,Y];if(pl(U,q,K)===K)return[K,X];return[]}else return[]},n28=function(J,Q,K,X,U){var Y=[],q=X/2,W=U/2,G=Q,z=K;Y.push({x:G+q*J[0],y:z+W*J[1]});for(var H=1;H<J.length/2;H++)Y.push({x:G+q*J[H*2],y:z+W*J[H*2+1]});return Y},LL=function(J,Q,K,X,U,Y,q,W){var G=[],z,H=Array(K.length),F=!0;if(Y==null)F=!1;var M;if(F){for(var B=0;B<H.length/2;B++)H[B*2]=K[B*2]*Y+X,H[B*2+1]=K[B*2+1]*q+U;if(W>0){var O=TS(H,-W);M=SS(O)}else M=H}else M=K;var R,D,L,A;for(var V=0;V<M.length/2;V++){if(R=M[V*2],D=M[V*2+1],V<M.length/2-1)L=M[(V+1)*2],A=M[(V+1)*2+1];else L=M[0],A=M[1];if(z=Aq(J,Q,X,U,R,D,L,A),z.length!==0)G.push(z[0],z[1])}return G},a28=function(J,Q,K,X,U,Y,q,W,G){var z=[],H,F=Array(K.length*2);G.forEach(function(L,A){if(A===0)F[F.length-2]=L.startX,F[F.length-1]=L.startY;else F[A*4-2]=L.startX,F[A*4-1]=L.startY;if(F[A*4]=L.stopX,F[A*4+1]=L.stopY,H=WL(J,Q,X,U,L.cx,L.cy,L.radius),H.length!==0)z.push(H[0],H[1])});for(var M=0;M<F.length/4;M++)if(H=Aq(J,Q,X,U,F[M*4],F[M*4+1],F[M*4+2],F[M*4+3],!1),H.length!==0)z.push(H[0],H[1]);if(z.length>2){var B=[z[0],z[1]],O=Math.pow(B[0]-J,2)+Math.pow(B[1]-Q,2);for(var R=1;R<z.length/2;R++){var D=Math.pow(z[R*2]-J,2)+Math.pow(z[R*2+1]-Q,2);if(D<=O)B[0]=z[R*2],B[1]=z[R*2+1],O=D}return B}return z},QS=function(J,Q,K){var X=[J[0]-Q[0],J[1]-Q[1]],U=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Y=(U-K)/U;if(Y<0)Y=0.00001;return[Q[0]+Y*X[0],Q[1]+Y*X[1]]},Y6=function(J,Q){var K=Ji(J,Q);return K=qA0(K),K},qA0=function(J){var Q,K,X=J.length/2,U=1/0,Y=1/0,q=-1/0,W=-1/0;for(var G=0;G<X;G++)Q=J[2*G],K=J[2*G+1],U=Math.min(U,Q),q=Math.max(q,Q),Y=Math.min(Y,K),W=Math.max(W,K);var z=2/(q-U),H=2/(W-Y);for(var F=0;F<X;F++)Q=J[2*F]=J[2*F]*z,K=J[2*F+1]=J[2*F+1]*H,U=Math.min(U,Q),q=Math.max(q,Q),Y=Math.min(Y,K),W=Math.max(W,K);if(Y<-1)for(var M=0;M<X;M++)K=J[2*M+1]=J[2*M+1]+(-1-Y);return J},Ji=function(J,Q){var K=1/J*2*Math.PI,X=J%2===0?Math.PI/2+K/2:Math.PI/2;X+=Q;var U=Array(J*2),Y;for(var q=0;q<J;q++)Y=q*K+X,U[2*q]=Math.cos(Y),U[2*q+1]=Math.sin(-Y);return U},jq=function(J,Q){return Math.min(J/4,Q/4,8)},WA0=function(J,Q){return Math.min(J/10,Q/10,8)},$i=function(){return 8},o28=function(J,Q,K){return[J-2*Q+K,2*(Q-J),J]},Qi=function(J,Q){return{heightOffset:Math.min(15,0.05*Q),widthOffset:Math.min(100,0.25*J),ctrlPtOffsetPct:0.05}},t28,e28,vD0,LF,xD0,IF,ZF8,Ki,JF8,QF8=function(J){return JF8(J)},KF8=function(J,Q){var K=0;for(var X=0;X<Q.length;X++)K+=Q[X](J);return K},XF8=function(J,Q,K){for(var X=0;X<Q;X++)J[X*Q+X]=K},GA0=function(J,Q){var K;for(var X=0;X<Q;X++){K=0;for(var U=0;U<Q;U++)K+=J[U*Q+X];for(var Y=0;Y<Q;Y++)J[Y*Q+X]=J[Y*Q+X]/K}},UF8=function(J,Q,K){var X=Array(K*K);for(var U=0;U<K;U++){for(var Y=0;Y<K;Y++)X[U*K+Y]=0;for(var q=0;q<K;q++)for(var W=0;W<K;W++)X[U*K+W]+=J[U*K+q]*Q[q*K+W]}return X},YF8=function(J,Q,K){var X=J.slice(0);for(var U=1;U<K;U++)J=UF8(J,X,Q);return J},qF8=function(J,Q,K){var X=Array(Q*Q);for(var U=0;U<Q*Q;U++)X[U]=Math.pow(J[U],K);return GA0(X,Q),X},WF8=function(J,Q,K,X){for(var U=0;U<K;U++){var Y=Math.round(J[U]*Math.pow(10,X))/Math.pow(10,X),q=Math.round(Q[U]*Math.pow(10,X))/Math.pow(10,X);if(Y!==q)return!1}return!0},GF8=function(J,Q,K,X){var U=[];for(var Y=0;Y<Q;Y++){var q=[];for(var W=0;W<Q;W++)if(Math.round(J[Y*Q+W]*1000)/1000>0)q.push(K[W]);if(q.length!==0)U.push(X.collection(q))}return U},zF8=function(J,Q){for(var K=0;K<J.length;K++)if(!Q[K]||J[K].id()!==Q[K].id())return!1;return!0},HF8=function(J){for(var Q=0;Q<J.length;Q++)for(var K=0;K<J.length;K++)if(Q!=K&&zF8(J[Q],J[K]))J.splice(K,1);return J},bD0=function(J){var Q=this.nodes(),K=this.edges(),X=this.cy(),U=QF8(J),Y={};for(var q=0;q<Q.length;q++)Y[Q[q].id()]=q;var W=Q.length,G=W*W,z=Array(G),H;for(var F=0;F<G;F++)z[F]=0;for(var M=0;M<K.length;M++){var B=K[M],O=Y[B.source().id()],R=Y[B.target().id()],D=KF8(B,U.attributes);z[O*W+R]+=D,z[R*W+O]+=D}XF8(z,W,U.multFactor),GA0(z,W);var L=!0,A=0;while(L&&A<U.maxIterations){if(L=!1,H=YF8(z,W,U.expandFactor),z=qF8(H,W,U.inflateFactor),!WF8(z,H,G,4))L=!0;A++}var V=GF8(z,W,Q,X);return V=HF8(V),V},FF8,MF8=function(J){return J},zA0=function(J,Q){return Math.abs(Q-J)},yD0=function(J,Q,K){return J+zA0(Q,K)},hD0=function(J,Q,K){return J+Math.pow(K-Q,2)},BF8=function(J){return Math.sqrt(J)},OF8=function(J,Q,K){return Math.max(J,zA0(Q,K))},JL=function(J,Q,K,X,U){var Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:MF8,q=X,W,G;for(var z=0;z<J;z++)W=Q(z),G=K(z),q=U(q,W,G);return Y(q)},EF,RF8,ki=function(J){return RF8(J)},wS=function(J,Q,K,X,U){var Y=U!=="kMedoids",q=Y?function(H){return K[H]}:function(H){return X[H](K)},W=function(F){return X[F](Q)},G=K,z=Q;return gS(J,X.length,q,W,G,z)},ll=function(J,Q,K){var X=K.length,U=Array(X),Y=Array(X),q=Array(Q),W=null;for(var G=0;G<X;G++)U[G]=J.min(K[G]).value,Y[G]=J.max(K[G]).value;for(var z=0;z<Q;z++){W=[];for(var H=0;H<X;H++)W[H]=Math.random()*(Y[H]-U[H])+U[H];q[z]=W}return q},HA0=function(J,Q,K,X,U){var Y=1/0,q=0;for(var W=0;W<Q.length;W++){var G=wS(K,J,Q[W],X,U);if(G<Y)Y=G,q=W}return q},FA0=function(J,Q,K){var X=[],U=null;for(var Y=0;Y<Q.length;Y++)if(U=Q[Y],K[U.id()]===J)X.push(U);return X},DF8=function(J,Q,K){return Math.abs(Q-J)<=K},LF8=function(J,Q,K){for(var X=0;X<J.length;X++)for(var U=0;U<J[X].length;U++){var Y=Math.abs(J[X][U]-Q[X][U]);if(Y>K)return!1}return!0},IF8=function(J,Q,K){for(var X=0;X<K;X++)if(J===Q[X])return!0;return!1},mD0=function(J,Q){var K=Array(Q);if(J.length<50)for(var X=0;X<Q;X++){var U=J[Math.floor(Math.random()*J.length)];while(IF8(U,K,X))U=J[Math.floor(Math.random()*J.length)];K[X]=U}else for(var Y=0;Y<Q;Y++)K[Y]=J[Math.floor(Math.random()*J.length)];return K},uD0=function(J,Q,K){var X=0;for(var U=0;U<Q.length;U++)X+=wS("manhattan",Q[U],J,K,"kMedoids");return X},AF8=function(J){var Q=this.cy(),K=this.nodes(),X=null,U=ki(J),Y=Array(U.k),q={},W;if(U.testMode)if(typeof U.testCentroids==="number")U.testCentroids,W=ll(K,U.k,U.attributes);else if(N7(U.testCentroids)==="object")W=U.testCentroids;else W=ll(K,U.k,U.attributes);else W=ll(K,U.k,U.attributes);var G=!0,z=0;while(G&&z<U.maxIterations){for(var H=0;H<K.length;H++)X=K[H],q[X.id()]=HA0(X,W,U.distance,U.attributes,"kMeans");G=!1;for(var F=0;F<U.k;F++){var M=FA0(F,K,q);if(M.length===0)continue;var B=U.attributes.length,O=W[F],R=Array(B),D=Array(B);for(var L=0;L<B;L++){D[L]=0;for(var A=0;A<M.length;A++)X=M[A],D[L]+=U.attributes[L](X);if(R[L]=D[L]/M.length,!DF8(R[L],O[L],U.sensitivityThreshold))G=!0}W[F]=R,Y[F]=Q.collection(M)}z++}return Y},NF8=function(J){var Q=this.cy(),K=this.nodes(),X=null,U=ki(J),Y=Array(U.k),q,W={},G,z=Array(U.k);if(U.testMode)if(typeof U.testCentroids==="number");else if(N7(U.testCentroids)==="object")q=U.testCentroids;else q=mD0(K,U.k);else q=mD0(K,U.k);var H=!0,F=0;while(H&&F<U.maxIterations){for(var M=0;M<K.length;M++)X=K[M],W[X.id()]=HA0(X,q,U.distance,U.attributes,"kMedoids");H=!1;for(var B=0;B<q.length;B++){var O=FA0(B,K,W);if(O.length===0)continue;z[B]=uD0(q[B],O,U.attributes);for(var R=0;R<O.length;R++)if(G=uD0(O[R],O,U.attributes),G<z[B])z[B]=G,q[B]=O[R],H=!0;Y[B]=Q.collection(O)}F++}return Y},EF8=function(J,Q,K,X,U){var Y,q;for(var W=0;W<Q.length;W++)for(var G=0;G<J.length;G++)X[W][G]=Math.pow(K[W][G],U.m);for(var z=0;z<J.length;z++)for(var H=0;H<U.attributes.length;H++){Y=0,q=0;for(var F=0;F<Q.length;F++)Y+=X[F][z]*U.attributes[H](Q[F]),q+=X[F][z];J[z][H]=Y/q}},VF8=function(J,Q,K,X,U){for(var Y=0;Y<J.length;Y++)Q[Y]=J[Y].slice();var q,W,G,z=2/(U.m-1);for(var H=0;H<K.length;H++)for(var F=0;F<X.length;F++){q=0;for(var M=0;M<K.length;M++)W=wS(U.distance,X[F],K[H],U.attributes,"cmeans"),G=wS(U.distance,X[F],K[M],U.attributes,"cmeans"),q+=Math.pow(W/G,z);J[F][H]=1/q}},PF8=function(J,Q,K,X){var U=Array(K.k);for(var Y=0;Y<U.length;Y++)U[Y]=[];var q,W;for(var G=0;G<Q.length;G++){q=-1/0,W=-1;for(var z=0;z<Q[0].length;z++)if(Q[G][z]>q)q=Q[G][z],W=z;U[W].push(J[G])}for(var H=0;H<U.length;H++)U[H]=X.collection(U[H]);return U},gD0=function(J){var Q=this.cy(),K=this.nodes(),X=ki(J),U,Y,q,W,G;W=Array(K.length);for(var z=0;z<K.length;z++)W[z]=Array(X.k);q=Array(K.length);for(var H=0;H<K.length;H++)q[H]=Array(X.k);for(var F=0;F<K.length;F++){var M=0;for(var B=0;B<X.k;B++)q[F][B]=Math.random(),M+=q[F][B];for(var O=0;O<X.k;O++)q[F][O]=q[F][O]/M}Y=Array(X.k);for(var R=0;R<X.k;R++)Y[R]=Array(X.attributes.length);G=Array(K.length);for(var D=0;D<K.length;D++)G[D]=Array(X.k);var L=!0,A=0;while(L&&A<X.maxIterations){if(L=!1,EF8(Y,K,q,G,X),VF8(q,W,Y,K,X),!LF8(q,W,X.sensitivityThreshold))L=!0;A++}return U=PF8(K,q,X,Q),{clusters:U,degreeOfMembership:q}},jF8,CF8,SF8,TF8=function(J){var Q=CF8(J),K=SF8[Q.linkage];if(K!=null)Q.linkage=K;return Q},pD0=function(J,Q,K,X,U){var Y=0,q=1/0,W,G=U.attributes,z=function($,k){return gS(U.distance,G.length,function(w){return G[w]($)},function(w){return G[w](k)},$,k)};for(var H=0;H<J.length;H++){var F=J[H].key,M=K[F][X[F]];if(M<q)Y=F,q=M}if(U.mode==="threshold"&&q>=U.threshold||U.mode==="dendrogram"&&J.length===1)return!1;var B=Q[Y],O=Q[X[Y]],R;if(U.mode==="dendrogram")R={left:B,right:O,key:B.key};else R={value:B.value.concat(O.value),key:B.key};J[B.index]=R,J.splice(O.index,1),Q[B.key]=R;for(var D=0;D<J.length;D++){var L=J[D];if(B.key===L.key)W=1/0;else if(U.linkage==="min"){if(W=K[B.key][L.key],K[B.key][L.key]>K[O.key][L.key])W=K[O.key][L.key]}else if(U.linkage==="max"){if(W=K[B.key][L.key],K[B.key][L.key]<K[O.key][L.key])W=K[O.key][L.key]}else if(U.linkage==="mean")W=(K[B.key][L.key]*B.size+K[O.key][L.key]*O.size)/(B.size+O.size);else if(U.mode==="dendrogram")W=z(L.value,B.value);else W=z(L.value[0],B.value[0]);K[B.key][L.key]=K[L.key][B.key]=W}for(var A=0;A<J.length;A++){var V=J[A].key;if(X[V]===B.key||X[V]===O.key){var N=V;for(var E=0;E<J.length;E++){var j=J[E].key;if(K[V][j]<K[V][N])N=j}X[V]=N}J[A].index=A}return B.key=O.key=B.index=O.index=null,!0},OF=function(J,Q,K){if(!J)return;if(J.value)Q.push(J.value);else{if(J.left)OF(J.left,Q);if(J.right)OF(J.right,Q)}},Xi=function(J,Q){if(!J)return"";if(J.left&&J.right){var K=Xi(J.left,Q),X=Xi(J.right,Q),U=Q.add({group:"nodes",data:{id:K+","+X}});return Q.add({group:"edges",data:{source:K,target:U.id()}}),Q.add({group:"edges",data:{source:X,target:U.id()}}),U.id()}else if(J.value)return J.value.id()},Ui=function(J,Q,K){if(!J)return[];var X=[],U=[],Y=[];if(Q===0){if(J.left)OF(J.left,X);if(J.right)OF(J.right,U);return Y=X.concat(U),[K.collection(Y)]}else if(Q===1)if(J.value)return[K.collection(J.value)];else{if(J.left)OF(J.left,X);if(J.right)OF(J.right,U);return[K.collection(X),K.collection(U)]}else if(J.value)return[K.collection(J.value)];else{if(J.left)X=Ui(J.left,Q-1,K);if(J.right)U=Ui(J.right,Q-1,K);return X.concat(U)}},cD0=function(J){var Q=this.cy(),K=this.nodes(),X=TF8(J),U=X.attributes,Y=function(A,V){return gS(X.distance,U.length,function(N){return U[N](A)},function(N){return U[N](V)},A,V)},q=[],W=[],G=[],z=[];for(var H=0;H<K.length;H++){var F={value:X.mode==="dendrogram"?K[H]:[K[H]],key:H,index:H};q[H]=F,z[H]=F,W[H]=[],G[H]=0}for(var M=0;M<q.length;M++)for(var B=0;B<=M;B++){var O=void 0;if(X.mode==="dendrogram")O=M===B?1/0:Y(q[M].value,q[B].value);else O=M===B?1/0:Y(q[M].value[0],q[B].value[0]);if(W[M][B]=O,W[B][M]=O,O<W[M][G[M]])G[M]=B}var R=pD0(q,z,W,G,X);while(R)R=pD0(q,z,W,G,X);var D;if(X.mode==="dendrogram"){if(D=Ui(q[0],X.dendrogramDepth,Q),X.addDendrogram)Xi(q[0],Q)}else D=Array(q.length),q.forEach(function(L,A){L.key=L.index=null,D[A]=Q.collection(L.value)});return D},wF8,$F8,kF8=function(J){var{damping:Q,preference:K}=J;if(!(0.5<=Q&&Q<1))LJ("Damping must range on [0.5, 1).  Got: ".concat(Q));var X=["median","mean","min","max"];if(!(X.some(function(U){return U===K})||P8(K)))LJ("Preference must be one of [".concat(X.map(function(U){return"'".concat(U,"'")}).join(", "),"] or a number.  Got: ").concat(K));return $F8(J)},_F8=function(J,Q,K,X){var U=function(q,W){return X[W](q)};return-gS(J,X.length,function(Y){return U(Q,Y)},function(Y){return U(K,Y)},Q,K)},fF8=function(J,Q){var K=null;if(Q==="median")K=k28(J);else if(Q==="mean")K=$28(J);else if(Q==="min")K=T28(J);else if(Q==="max")K=w28(J);else K=Q;return K},vF8=function(J,Q,K){var X=[];for(var U=0;U<J;U++)if(Q[U*J+U]+K[U*J+U]>0)X.push(U);return X},lD0=function(J,Q,K){var X=[];for(var U=0;U<J;U++){var Y=-1,q=-1/0;for(var W=0;W<K.length;W++){var G=K[W];if(Q[U*J+G]>q)Y=G,q=Q[U*J+G]}if(Y>0)X.push(Y)}for(var z=0;z<K.length;z++)X[K[z]]=K[z];return X},xF8=function(J,Q,K){var X=lD0(J,Q,K);for(var U=0;U<K.length;U++){var Y=[];for(var q=0;q<X.length;q++)if(X[q]===K[U])Y.push(q);var W=-1,G=-1/0;for(var z=0;z<Y.length;z++){var H=0;for(var F=0;F<Y.length;F++)H+=Q[Y[F]*J+Y[z]];if(H>G)W=z,G=H}K[U]=Y[W]}return X=lD0(J,Q,K),X},dD0=function(J){var Q=this.cy(),K=this.nodes(),X=kF8(J),U={};for(var Y=0;Y<K.length;Y++)U[K[Y].id()]=Y;var q,W,G,z,H,F;q=K.length,W=q*q,G=Array(W);for(var M=0;M<W;M++)G[M]=-1/0;for(var B=0;B<q;B++)for(var O=0;O<q;O++)if(B!==O)G[B*q+O]=_F8(X.distance,K[B],K[O],X.attributes);z=fF8(G,X.preference);for(var R=0;R<q;R++)G[R*q+R]=z;H=Array(W);for(var D=0;D<W;D++)H[D]=0;F=Array(W);for(var L=0;L<W;L++)F[L]=0;var A=Array(q),V=Array(q),N=Array(q);for(var E=0;E<q;E++)A[E]=0,V[E]=0,N[E]=0;var j=Array(q*X.minIterations);for(var C=0;C<j.length;C++)j[C]=0;var $;for($=0;$<X.maxIterations;$++){for(var k=0;k<q;k++){var w=-1/0,P=-1/0,T=-1,S=0;for(var f=0;f<q;f++)if(A[f]=H[k*q+f],S=F[k*q+f]+G[k*q+f],S>=w)P=w,w=S,T=f;else if(S>P)P=S;for(var v=0;v<q;v++)H[k*q+v]=(1-X.damping)*(G[k*q+v]-w)+X.damping*A[v];H[k*q+T]=(1-X.damping)*(G[k*q+T]-P)+X.damping*A[T]}for(var x=0;x<q;x++){var b=0;for(var y=0;y<q;y++)A[y]=F[y*q+x],V[y]=Math.max(0,H[y*q+x]),b+=V[y];b-=V[x],V[x]=H[x*q+x],b+=V[x];for(var u=0;u<q;u++)F[u*q+x]=(1-X.damping)*Math.min(0,b-V[u])+X.damping*A[u];F[x*q+x]=(1-X.damping)*(b-V[x])+X.damping*A[x]}var h=0;for(var p=0;p<q;p++){var r=F[p*q+p]+H[p*q+p]>0?1:0;j[$%X.minIterations*q+p]=r,h+=r}if(h>0&&($>=X.minIterations-1||$==X.maxIterations-1)){var e=0;for(var i=0;i<q;i++){N[i]=0;for(var U0=0;U0<X.minIterations;U0++)N[i]+=j[U0*q+i];if(N[i]===0||N[i]===X.minIterations)e++}if(e===q)break}}var a=vF8(q,H,F),z0=xF8(q,G,a),J0={};for(var Q0=0;Q0<a.length;Q0++)J0[a[Q0]]=[];for(var t=0;t<K.length;t++){var n=U[K[t].id()],Y0=z0[n];if(Y0!=null)J0[Y0].push(K[t])}var o=Array(a.length);for(var M0=0;M0<a.length;M0++)o[M0]=Q.collection(J0[a[M0]]);return o},bF8,yF8,hF8,KS=function(){var J=this,Q={},K=0,X=0,U=[],Y=[],q={},W=function(F,M){var B=Y.length-1,O=[],R=J.spawn();while(Y[B].x!=F||Y[B].y!=M)O.push(Y.pop().edge),B--;O.push(Y.pop().edge),O.forEach(function(D){var L=D.connectedNodes().intersection(J);R.merge(D),L.forEach(function(A){var V=A.id(),N=A.connectedEdges().intersection(J);if(R.merge(A),!Q[V].cutVertex)R.merge(N);else R.merge(N.filter(function(E){return E.isLoop()}))})}),U.push(R)},G=function(F,M,B){if(F===B)X+=1;Q[M]={id:K,low:K++,cutVertex:!1};var O=J.getElementById(M).connectedEdges().intersection(J);if(O.size()===0)U.push(J.spawn(J.getElementById(M)));else{var R,D,L,A;O.forEach(function(V){if(R=V.source().id(),D=V.target().id(),L=R===M?D:R,L!==B){if(A=V.id(),!q[A])q[A]=!0,Y.push({x:M,y:L,edge:V});if(!(L in Q)){if(G(F,L,M),Q[M].low=Math.min(Q[M].low,Q[L].low),Q[M].id<=Q[L].low)Q[M].cutVertex=!0,W(M,L)}else Q[M].low=Math.min(Q[M].low,Q[L].id)}})}};J.forEach(function(H){if(H.isNode()){var F=H.id();if(!(F in Q))X=0,G(F,F),Q[F].cutVertex=X>1}});var z=Object.keys(Q).filter(function(H){return Q[H].cutVertex}).map(function(H){return J.getElementById(H)});return{cut:J.spawn(z),components:U}},mF8,XS=function(){var J=this,Q={},K=0,X=[],U=[],Y=J.spawn(J),q=function(G){U.push(G),Q[G]={index:K,low:K++,explored:!1};var z=J.getElementById(G).connectedEdges().intersection(J);if(z.forEach(function(O){var R=O.target().id();if(R!==G){if(!(R in Q))q(R);if(!Q[R].explored)Q[G].low=Math.min(Q[G].low,Q[R].low)}}),Q[G].index===Q[G].low){var H=J.spawn();for(;;){var F=U.pop();if(H.merge(J.getElementById(F)),Q[F].low=Q[G].index,Q[F].explored=!0,F===G)break}var M=H.edgesWith(H),B=H.merge(M);X.push(B),Y=Y.difference(B)}};return J.forEach(function(W){if(W.isNode()){var G=W.id();if(!(G in Q))q(G)}}),{cut:Y,components:X}},uF8,MA0,BA0=0,OA0=1,RA0=2,P5=function(J){if(!(this instanceof P5))return new P5(J);if(this.id="Thenable/1.0.7",this.state=BA0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof J==="function")J.call(this,this.fulfill.bind(this),this.reject.bind(this))},iD0=function(J,Q,K,X){if(J.state===BA0)J.state=Q,J[K]=X,DA0(J);return J},DA0=function(J){if(J.state===OA0)sD0(J,"onFulfilled",J.fulfillValue);else if(J.state===RA0)sD0(J,"onRejected",J.rejectReason)},sD0=function(J,Q,K){if(J[Q].length===0)return;var X=J[Q];J[Q]=[];var U=function(){for(var q=0;q<X.length;q++)X[q](K)};if(typeof setImmediate==="function")setImmediate(U);else setTimeout(U,0)},rD0=function(J,Q,K){return function(X){if(typeof J!=="function")Q[K].call(Q,X);else{var U;try{U=J(X)}catch(Y){Q.reject(Y);return}LA0(Q,U)}}},LA0=function(J,Q){if(J===Q||J.proxy===Q){J.reject(TypeError("cannot resolve promise with itself"));return}var K;if(N7(Q)==="object"&&Q!==null||typeof Q==="function")try{K=Q.then}catch(U){J.reject(U);return}if(typeof K==="function"){var X=!1;try{K.call(Q,function(U){if(X)return;if(X=!0,U===Q)J.reject(TypeError("circular thenable chain"));else LA0(J,U)},function(U){if(X)return;X=!0,J.reject(U)})}catch(U){if(!X)J.reject(U)}return}J.fulfill(Q)},jF,Yi=function(J,Q,K){var X=Ni(J),U=!X,Y=this._private=Y9({duration:1000},Q,K);if(Y.target=J,Y.style=Y.style||Y.css,Y.started=!1,Y.playing=!1,Y.hooked=!1,Y.applying=!1,Y.progress=0,Y.completes=[],Y.frames=[],Y.complete&&wJ(Y.complete))Y.completes.push(Y.complete);if(U){var q=J.position();Y.startPosition=Y.startPosition||{x:q.x,y:q.y},Y.startStyle=Y.startStyle||J.cy().style().getAnimationStartStyle(J,Y.style)}if(X){var W=J.pan();Y.startPan={x:W.x,y:W.y},Y.startZoom=J.zoom()}this.length=1,this[0]=this},Oz,gF8,dl,nD0,il,aD0,sl,oD0,rl,tD0,nl,eD0,al,ZL0,ol,JL0,tl,QL0,el,KL0,Zd,XL0,Jd,UL0,Qd,YL0,Kd,qL0,Xd,WL0,Ud,GL0,Yd,zL0,qd,HL0,Wd,FL0,Gd,ML0,zd,BL0,Hd,OL0,Fd,RL0,Md,DL0,Bd,LL0,Od,IL0,Rd,AL0,Dd,NL0,Ld,EL0,Id,VL0,Ad,PL0,Nd,jL0,Ed,CL0,Vd,SL0,Pd,TL0,jd,wL0,Cd,$L0,Sd,kL0,Td,_L0,wd,fL0,$d,vL0,kd,xL0,_d,bL0,fd,yL0,AM8,NM8,vd,hL0,xd,mL0,bd,uL0,yd,gL0,hd,pL0,md,cL0,TM8,wM8,ud,lL0,gd,dL0,_M8,fM8,vM8,xM8,AZ,bM8,OS,YZ,vZ=function(){return{checks:[]}},m8,qi,yM8,hM8=function(J,Q){return yM8[J](Q)},mM8,YF=function(J){return J.replace(new RegExp("\\\\("+YZ.metaChar+")","g"),function(Q,K){return K})},Oq=function(J,Q,K){J[J.length-1]=K},Wi,uM8=function(J){var Q,K,X;for(var U=0;U<Wi.length;U++){var Y=Wi[U],q=Y.name,W=J.match(Y.regexObj);if(W!=null){K=W,Q=Y,X=q;var G=W[0];J=J.substring(G.length);break}}return{expr:Q,match:K,name:X,remaining:J}},gM8=function(J){var Q=J.match(/^\s+/);if(Q){var K=Q[0];J=J.substring(K.length)}return J},pM8=function(J){var Q=this,K=Q.inputText=J,X=Q[0]=vZ();Q.length=1,K=gM8(K);for(;;){var U=uM8(K);if(U.expr==null)return NZ("The selector `"+J+"`is invalid"),!1;else{var Y=U.match.slice(1),q=U.expr.populate(Q,X,Y);if(q===!1)return!1;else if(q!=null)X=q}if(K=U.remaining,K.match(/^\s*$/))break}var W=Q[Q.length-1];if(Q.currentSubject!=null)W.subject=Q.currentSubject;W.edgeCount=Q.edgeCount,W.compoundCount=Q.compoundCount;for(var G=0;G<Q.length;G++){var z=Q[G];if(z.compoundCount>0&&z.edgeCount>0)return NZ("The selector `"+J+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(z.edgeCount>1)return NZ("The selector `"+J+"` is invalid because it uses multiple edge selectors"),!1;else if(z.edgeCount===1)NZ("The selector `"+J+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},cM8=function(){if(this.toStringCache!=null)return this.toStringCache;var J=function(z){if(z==null)return"";else return z},Q=function(z){if(Z9(z))return'"'+z+'"';else return J(z)},K=function(z){return" "+z+" "},X=function(z,H){var{type:F,value:M}=z;switch(F){case m8.GROUP:{var B=J(M);return B.substring(0,B.length-1)}case m8.DATA_COMPARE:{var{field:O,operator:R}=z;return"["+O+K(J(R))+Q(M)+"]"}case m8.DATA_BOOL:{var{operator:D,field:L}=z;return"["+J(D)+L+"]"}case m8.DATA_EXIST:{var A=z.field;return"["+A+"]"}case m8.META_COMPARE:{var{operator:V,field:N}=z;return"[["+N+K(J(V))+Q(M)+"]]"}case m8.STATE:return M;case m8.ID:return"#"+M;case m8.CLASS:return"."+M;case m8.PARENT:case m8.CHILD:return U(z.parent,H)+K(">")+U(z.child,H);case m8.ANCESTOR:case m8.DESCENDANT:return U(z.ancestor,H)+" "+U(z.descendant,H);case m8.COMPOUND_SPLIT:{var E=U(z.left,H),j=U(z.subject,H),C=U(z.right,H);return E+(E.length>0?" ":"")+j+C}case m8.TRUE:return""}},U=function(z,H){return z.checks.reduce(function(F,M,B){return F+(H===z&&B===0?"$":"")+X(M,H)},"")},Y="";for(var q=0;q<this.length;q++){var W=this[q];if(Y+=U(W,W.subject),this.length>1&&q<this.length-1)Y+=", "}return this.toStringCache=Y,Y},lM8,PA0=function(J,Q,K){var X,U=Z9(J),Y=P8(J),q=Z9(K),W,G,z=!1,H=!1,F=!1;if(Q.indexOf("!")>=0)Q=Q.replace("!",""),H=!0;if(Q.indexOf("@")>=0)Q=Q.replace("@",""),z=!0;if(U||q||z)W=!U&&!Y?"":""+J,G=""+K;if(z)J=W=W.toLowerCase(),K=G=G.toLowerCase();switch(Q){case"*=":X=W.indexOf(G)>=0;break;case"$=":X=W.indexOf(G,W.length-G.length)>=0;break;case"^=":X=W.indexOf(G)===0;break;case"=":X=J===K;break;case">":F=!0,X=J>K;break;case">=":F=!0,X=J>=K;break;case"<":F=!0,X=J<K;break;case"<=":F=!0,X=J<=K;break;default:X=!1;break}if(H&&(J!=null||!F))X=!X;return X},dM8=function(J,Q){switch(Q){case"?":return J?!0:!1;case"!":return J?!1:!0;case"^":return J===void 0}},iM8=function(J){return J!==void 0},xi=function(J,Q){return J.data(Q)},sM8=function(J,Q){return J[Q]()},mJ,XJ=function(J,Q){return J.checks.every(function(K){return mJ[K.type](K,Q)})},rM8=function(J){var Q=this;if(Q.length===1&&Q[0].checks.length===1&&Q[0].checks[0].type===m8.ID)return J.getElementById(Q[0].checks[0].value).collection();var K=function(U){for(var Y=0;Y<Q.length;Y++){var q=Q[Y];if(XJ(q,U))return!0}return!1};if(Q.text()==null)K=function(){return!0};return J.filter(K)},nM8=function(J){var Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(XJ(X,J))return!0}return!1},aM8,Cq=function(J){if(this.inputText=J,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,J==null||Z9(J)&&J.match(/^\s*$/));else if(y4(J))this.addQuery({checks:[{type:m8.COLLECTION,value:J.collection()}]});else if(wJ(J))this.addQuery({checks:[{type:m8.FILTER,value:J}]});else if(Z9(J)){if(!this.parse(J))this.invalid=!0}else LJ("A selector must be created from a string; found ")},Sq,Nq,AK=function(J,Q){return function(X,U,Y,q){var W=X,G=this,z;if(W==null)z="";else if(y4(W)&&W.length===1)z=W.id();if(G.length===1&&z){var H=G[0]._private,F=H.traversalCache=H.traversalCache||{},M=F[Q]=F[Q]||[],B=Mz(z),O=M[B];if(O)return O;else return M[B]=J.call(G,X,U,Y,q)}else return J.call(G,X,U,Y,q)}},VF,IL,SA0,tM8,iS,V5,TA0,wA0=function(J,Q,K){for(var X=0;X<J.length;X++){var U=J[X];if(!U.locked()){var Y=U._private.position,q={x:Q.x!=null?Q.x-Y.x:0,y:Q.y!=null?Q.y-Y.y:0};if(U.isParent()&&!(q.x===0&&q.y===0))U.children().shift(q,K);U.dirtyBoundingBoxCache()}}},iL0,eM8,AF,kq,IK=function(J){if(J===1/0||J===-1/0)return 0;return J},E5=function(J,Q,K,X,U){if(X-Q===0||U-K===0)return;if(Q==null||K==null||X==null||U==null)return;J.x1=Q<J.x1?Q:J.x1,J.x2=X>J.x2?X:J.x2,J.y1=K<J.y1?K:J.y1,J.y2=U>J.y2?U:J.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},Dq=function(J,Q){if(Q==null)return J;return E5(J,Q.x1,Q.y1,Q.x2,Q.y2)},QL=function(J,Q,K){return a6(J,Q,K)},US=function(J,Q,K){if(Q.cy().headless())return;var X=Q._private,U=X.rstyle,Y=U.arrowWidth/2,q=Q.pstyle(K+"-arrow-shape").value,W,G;if(q!=="none"){if(K==="source")W=U.srcX,G=U.srcY;else if(K==="target")W=U.tgtX,G=U.tgtY;else W=U.midX,G=U.midY;var z=X.arrowBounds=X.arrowBounds||{},H=z[K]=z[K]||{};H.x1=W-Y,H.y1=G-Y,H.x2=W+Y,H.y2=G+Y,H.w=H.x2-H.x1,H.h=H.y2-H.y1,MS(H,1),E5(J,H.x1,H.y1,H.x2,H.y2)}},cd=function(J,Q,K){if(Q.cy().headless())return;var X;if(K)X=K+"-";else X="";var U=Q._private,Y=U.rstyle,q=Q.pstyle(X+"label").strValue;if(q){var W=Q.pstyle("text-halign"),G=Q.pstyle("text-valign"),z=QL(Y,"labelWidth",K),H=QL(Y,"labelHeight",K),F=QL(Y,"labelX",K),M=QL(Y,"labelY",K),B=Q.pstyle(X+"text-margin-x").pfValue,O=Q.pstyle(X+"text-margin-y").pfValue,R=Q.isEdge(),D=Q.pstyle(X+"text-rotation"),L=Q.pstyle("text-outline-width").pfValue,A=Q.pstyle("text-border-width").pfValue,V=A/2,N=Q.pstyle("text-background-padding").pfValue,E=2,j=H,C=z,$=C/2,k=j/2,w,P,T,S;if(R)w=F-$,P=F+$,T=M-k,S=M+k;else{switch(W.value){case"left":w=F-C,P=F;break;case"center":w=F-$,P=F+$;break;case"right":w=F,P=F+C;break}switch(G.value){case"top":T=M-j,S=M;break;case"center":T=M-k,S=M+k;break;case"bottom":T=M,S=M+j;break}}var f=B-Math.max(L,V)-N-E,v=B+Math.max(L,V)+N+E,x=O-Math.max(L,V)-N-E,b=O+Math.max(L,V)+N+E;w+=f,P+=v,T+=x,S+=b;var y=K||"main",u=U.labelBounds,h=u[y]=u[y]||{};h.x1=w,h.y1=T,h.x2=P,h.y2=S,h.w=P-w,h.h=S-T,h.leftPad=f,h.rightPad=v,h.topPad=x,h.botPad=b;var p=R&&D.strValue==="autorotate",r=D.pfValue!=null&&D.pfValue!==0;if(p||r){var e=p?QL(U.rstyle,"labelAngle",K):D.pfValue,i=Math.cos(e),U0=Math.sin(e),a=(w+P)/2,z0=(T+S)/2;if(!R){switch(W.value){case"left":a=P;break;case"right":a=w;break}switch(G.value){case"top":z0=S;break;case"bottom":z0=T;break}}var J0=function(E0,d){return E0=E0-a,d=d-z0,{x:E0*i-d*U0+a,y:E0*U0+d*i+z0}},Q0=J0(w,T),t=J0(w,S),n=J0(P,T),Y0=J0(P,S);w=Math.min(Q0.x,t.x,n.x,Y0.x),P=Math.max(Q0.x,t.x,n.x,Y0.x),T=Math.min(Q0.y,t.y,n.y,Y0.y),S=Math.max(Q0.y,t.y,n.y,Y0.y)}var o=y+"Rot",M0=u[o]=u[o]||{};M0.x1=w,M0.y1=T,M0.x2=P,M0.y2=S,M0.w=P-w,M0.h=S-T,E5(J,w,T,P,S),E5(U.labelBounds.all,w,T,P,S)}return J},sL0=function(J,Q){if(Q.cy().headless())return;var K=Q.pstyle("outline-opacity").value,X=Q.pstyle("outline-width").value,U=Q.pstyle("outline-offset").value,Y=X+U;$A0(J,Q,K,Y,"outside",Y/2)},$A0=function(J,Q,K,X,U,Y){if(K===0||X<=0||U==="inside")return;var q=Q.cy(),W=Q.pstyle("shape").value,G=q.renderer().nodeShapes[W],z=Q.position(),H=z.x,F=z.y,M=Q.width(),B=Q.height();if(G.hasMiterBounds){if(U==="center")X/=2;var O=G.miterBounds(H,F,M,B,X);Dq(J,O)}else if(Y!=null&&Y>0)BS(J,[Y,Y,Y,Y])},ZB8=function(J,Q){if(Q.cy().headless())return;var K=Q.pstyle("border-opacity").value,X=Q.pstyle("border-width").pfValue,U=Q.pstyle("border-position").value;$A0(J,Q,K,X,U)},JB8=function(J,Q){var K=J._private.cy,X=K.styleEnabled(),U=K.headless(),Y=q6(),q=J._private,W=J.isNode(),G=J.isEdge(),z,H,F,M,B,O,R=q.rstyle,D=W&&X?J.pstyle("bounds-expansion").pfValue:[0],L=function(X0){return X0.pstyle("display").value!=="none"},A=!X||L(J)&&(!G||L(J.source())&&L(J.target()));if(A){var V=0,N=0;if(X&&Q.includeOverlays){if(V=J.pstyle("overlay-opacity").value,V!==0)N=J.pstyle("overlay-padding").value}var E=0,j=0;if(X&&Q.includeUnderlays){if(E=J.pstyle("underlay-opacity").value,E!==0)j=J.pstyle("underlay-padding").value}var C=Math.max(N,j),$=0,k=0;if(X)$=J.pstyle("width").pfValue,k=$/2;if(W&&Q.includeNodes){var w=J.position();B=w.x,O=w.y;var P=J.outerWidth(),T=P/2,S=J.outerHeight(),f=S/2;if(z=B-T,H=B+T,F=O-f,M=O+f,E5(Y,z,F,H,M),X)sL0(Y,J);if(X&&Q.includeOutlines&&!U)sL0(Y,J);if(X)ZB8(Y,J)}else if(G&&Q.includeEdges)if(X&&!U){var v=J.pstyle("curve-style").strValue;if(z=Math.min(R.srcX,R.midX,R.tgtX),H=Math.max(R.srcX,R.midX,R.tgtX),F=Math.min(R.srcY,R.midY,R.tgtY),M=Math.max(R.srcY,R.midY,R.tgtY),z-=k,H+=k,F-=k,M+=k,E5(Y,z,F,H,M),v==="haystack"){var x=R.haystackPts;if(x&&x.length===2){if(z=x[0].x,F=x[0].y,H=x[1].x,M=x[1].y,z>H){var b=z;z=H,H=b}if(F>M){var y=F;F=M,M=y}E5(Y,z-k,F-k,H+k,M+k)}}else if(v==="bezier"||v==="unbundled-bezier"||Lq(v,"segments")||Lq(v,"taxi")){var u;switch(v){case"bezier":case"unbundled-bezier":u=R.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":u=R.linePts;break}if(u!=null)for(var h=0;h<u.length;h++){var p=u[h];z=p.x-k,H=p.x+k,F=p.y-k,M=p.y+k,E5(Y,z,F,H,M)}}}else{var r=J.source(),e=r.position(),i=J.target(),U0=i.position();if(z=e.x,H=U0.x,F=e.y,M=U0.y,z>H){var a=z;z=H,H=a}if(F>M){var z0=F;F=M,M=z0}z-=k,H+=k,F-=k,M+=k,E5(Y,z,F,H,M)}if(X&&Q.includeEdges&&G)US(Y,J,"mid-source"),US(Y,J,"mid-target"),US(Y,J,"source"),US(Y,J,"target");if(X){var J0=J.pstyle("ghost").value==="yes";if(J0){var Q0=J.pstyle("ghost-offset-x").pfValue,t=J.pstyle("ghost-offset-y").pfValue;E5(Y,Y.x1+Q0,Y.y1+t,Y.x2+Q0,Y.y2+t)}}var n=q.bodyBounds=q.bodyBounds||{};if(_D0(n,Y),BS(n,D),MS(n,1),X)z=Y.x1,H=Y.x2,F=Y.y1,M=Y.y2,E5(Y,z-C,F-C,H+C,M+C);var Y0=q.overlayBounds=q.overlayBounds||{};_D0(Y0,Y),BS(Y0,D),MS(Y0,1);var o=q.labelBounds=q.labelBounds||{};if(o.all!=null)b28(o.all);else o.all=q6();if(X&&Q.includeLabels){if(Q.includeMainLabels)cd(Y,J,null);if(G){if(Q.includeSourceLabels)cd(Y,J,"source");if(Q.includeTargetLabels)cd(Y,J,"target")}}}if(Y.x1=IK(Y.x1),Y.y1=IK(Y.y1),Y.x2=IK(Y.x2),Y.y2=IK(Y.y2),Y.w=IK(Y.x2-Y.x1),Y.h=IK(Y.y2-Y.y1),Y.w>0&&Y.h>0&&A)BS(Y,D),MS(Y,1);return Y},kA0=function(J){var Q=0,K=function(Y){return(Y?1:0)<<Q++},X=0;return X+=K(J.incudeNodes),X+=K(J.includeEdges),X+=K(J.includeLabels),X+=K(J.includeMainLabels),X+=K(J.includeSourceLabels),X+=K(J.includeTargetLabels),X+=K(J.includeOverlays),X+=K(J.includeOutlines),X},_A0=function(J){var Q=function(q){return Math.round(q)};if(J.isEdge()){var K=J.source().position(),X=J.target().position();return CD0([Q(K.x),Q(K.y),Q(X.x),Q(X.y)])}else{var U=J.position();return CD0([Q(U.x),Q(U.y)])}},rL0=function(J,Q){var K=J._private,X,U=J.isEdge(),Y=Q==null?nL0:kA0(Q),q=Y===nL0;if(K.bbCache==null)X=JB8(J,AL),K.bbCache=X,K.bbCachePosKey=_A0(J);else X=K.bbCache;if(!q){var W=J.isNode();if(X=q6(),Q.includeNodes&&W||Q.includeEdges&&!W)if(Q.includeOverlays)Dq(X,K.overlayBounds);else Dq(X,K.bodyBounds);if(Q.includeLabels)if(Q.includeMainLabels&&(!U||Q.includeSourceLabels&&Q.includeTargetLabels))Dq(X,K.labelBounds.all);else{if(Q.includeMainLabels)Dq(X,K.labelBounds.mainRot);if(Q.includeSourceLabels)Dq(X,K.labelBounds.sourceRot);if(Q.includeTargetLabels)Dq(X,K.labelBounds.targetRot)}X.w=X.x2-X.x1,X.h=X.y2-X.y1}return X},AL,nL0,aL0,QB8,GL,kL,fA0=function(J){J.uppercaseName=HD0(J.name),J.autoName="auto"+J.uppercaseName,J.labelName="label"+J.uppercaseName,J.outerName="outer"+J.uppercaseName,J.uppercaseOuterName=HD0(J.outerName),GL[J.name]=function(){var K=this[0],X=K._private,U=X.cy,Y=U._private.styleEnabled;if(K)if(Y){if(K.isParent())return K.updateCompoundBounds(),X[J.autoName]||0;var q=K.pstyle(J.name);switch(q.strValue){case"label":return K.recalculateRenderedStyle(),X.rstyle[J.labelName]||0;default:return q.pfValue}}else return 1},GL["outer"+J.uppercaseName]=function(){var K=this[0],X=K._private,U=X.cy,Y=U._private.styleEnabled;if(K)if(Y){var q=K[J.name](),W=K.pstyle("border-position").value,G;if(W==="center")G=K.pstyle("border-width").pfValue;else if(W==="outside")G=2*K.pstyle("border-width").pfValue;else G=0;var z=2*K.padding();return q+G+z}else return 1},GL["rendered"+J.uppercaseName]=function(){var K=this[0];if(K){var X=K[J.name]();return X*this.cy().zoom()}},GL["rendered"+J.uppercaseOuterName]=function(){var K=this[0];if(K){var X=K[J.outerName]();return X*this.cy().zoom()}}},KB8,XB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace())return Q(J)},UB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace()){var K=J.cy();return uS(Q(J),K.zoom(),K.pan())}},YB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace()){var K=J.cy(),X=K.pan(),U=K.zoom();return Q(J).map(function(Y){return uS(Y,U,X)})}},qB8=function(J){return J.renderer().getControlPoints(J)},WB8=function(J){return J.renderer().getSegmentPoints(J)},GB8=function(J){return J.renderer().getSourceEndpoint(J)},zB8=function(J){return J.renderer().getTargetEndpoint(J)},HB8=function(J){return J.renderer().getEdgeMidpoint(J)},oL0,FB8=function(J){return"rendered"+J[0].toUpperCase()+J.substr(1)},MB8,BB8,vA0=function(J,Q){this.recycle(J,Q)},xA0,OB8=".*",bA0,tL0,RB8,Tq,yA0=function(J,Q,K,X,U,Y,q){if(wJ(X))U=X,X=null;if(q)if(Y==null)Y=q;else Y=Y9({},Y,q);var W=uZ(K)?K:K.split(/\s+/);for(var G=0;G<W.length;G++){var z=W[G];if(Vq(z))continue;var H=z.match(xA0);if(H){var F=H[1],M=H[2]?H[2]:null,B=Q(J,z,F,M,X,U,Y);if(B===!1)break}}},eL0=function(J,Q){return J.addEventFields(J.context,Q),new vA0(Q.type,Q)},DB8=function(J,Q,K){if(VH8(K)){Q(J,K);return}else if(qZ(K)){Q(J,eL0(J,K));return}var X=uZ(K)?K:K.split(/\s+/);for(var U=0;U<X.length;U++){var Y=X[U];if(Vq(Y))continue;var q=Y.match(xA0);if(q){var W=q[1],G=q[2]?q[2]:null,z=eL0(J,{type:W,namespace:G,target:J.context});Q(J,z)}}},LB8,qS=function(J){if(Z9(J))return new Cq(J);else return J},hA0,mA0,BZ,IB8,uA0=function(J,Q){var K=J.cy(),X=K.hasCompoundNodes();function U(z){var H=z.pstyle("z-compound-depth");if(H.value==="auto")return X?z.zDepth():0;else if(H.value==="bottom")return-1;else if(H.value==="top")return Pi;return 0}var Y=U(J)-U(Q);if(Y!==0)return Y;function q(z){var H=z.pstyle("z-index-compare");if(H.value==="auto")return z.isNode()?1:0;return 0}var W=q(J)-q(Q);if(W!==0)return W;var G=J.pstyle("z-index").value-Q.pstyle("z-index").value;if(G!==0)return G;return J.poolIndex()-Q.poolIndex()},$S,AB8=function(){var J="undefined",Q=(typeof Symbol>"u"?"undefined":N7(Symbol))!=J&&N7(Symbol.iterator)!=J;if(Q)$S[Symbol.iterator]=function(){var K=this,X={value:void 0,done:!1},U=0,Y=this.length;return hI0({next:function(){if(U<Y)X.value=K[U++];else X.value=void 0,X.done=!0;return X}},Symbol.iterator,function(){return this})}},NB8,RS,zQ,CF,EB8,VB8,PB8,jB8,Eq,wQ,JI0=function(J){return function(K){var X=this,U=[];for(var Y=0;Y<X.length;Y++){var q=X[Y];if(!q.isNode())continue;var W=!1,G=q.connectedEdges();for(var z=0;z<G.length;z++){var H=G[z],F=H.source(),M=H.target();if(J.noIncomingEdges&&M===q&&F!==q||J.noOutgoingEdges&&F===q&&M!==q){W=!0;break}}if(!W)U.push(q)}return this.spawn(U,!0).filter(K)}},QI0=function(J){return function(Q){var K=this,X=[];for(var U=0;U<K.length;U++){var Y=K[U];if(!Y.isNode())continue;var q=Y.connectedEdges();for(var W=0;W<q.length;W++){var G=q[W],z=G.source(),H=G.target();if(J.outgoing&&z===Y)X.push(G),X.push(H);else if(J.incoming&&H===Y)X.push(G),X.push(z)}}return this.spawn(X,!0).filter(Q)}},KI0=function(J){return function(Q){var K=this,X=[],U={};for(;;){var Y=J.outgoing?K.outgoers():K.incomers();if(Y.length===0)break;var q=!1;for(var W=0;W<Y.length;W++){var G=Y[W],z=G.id();if(!U[z])U[z]=!0,X.push(G),q=!0}if(!q)break;K=Y}return this.spawn(X,!0).filter(Q)}},HQ=function(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(J===void 0){LJ("A collection must have a reference to the core");return}var U=new AY,Y=!1;if(!Q)Q=[];else if(Q.length>0&&qZ(Q[0])&&!jL(Q[0])){Y=!0;var q=[],W=new PF;for(var G=0,z=Q.length;G<z;G++){var H=Q[G];if(H.data==null)H.data={};var F=H.data;if(F.id==null)F.id=JA0();else if(J.hasElementWithId(F.id)||W.has(F.id))continue;var M=new mS(J,H,!1);q.push(M),W.add(F.id)}Q=q}this.length=0;for(var B=0,O=Q.length;B<O;B++){var R=Q[B][0];if(R==null)continue;var D=R._private.data.id;if(!K||!U.has(D)){if(K)U.set(D,{index:this.length,ele:R});this[this.length]=R,this.length++}}if(this._private={eles:this,cy:J,get map(){if(this.lazyMap==null)this.rebuildMap();return this.lazyMap},set map(L){this.lazyMap=L},rebuildMap:function(){var A=this.lazyMap=new AY,V=this.eles;for(var N=0;N<V.length;N++){var E=V[N];A.set(E.id(),{index:N,ele:E})}}},K)this._private.map=U;if(Y&&!X)this.restore()},sZ,CB8,TB8,iZ=function(J,Q,K,X){var U=SB8(J,Q,K,X);return function(Y,q,W){return Y+(q-Y)*U(W)}},DS,kB8,_B8,WS=function(J){if(Z9(J))return new Cq(J);else return J},pA0,Gi,LS,fB8,vB8,zi,IS,h7,HL="t",xB8="f",_L,hi,dX,aS,mi,K7,oS,y7=function(J){if(!(this instanceof y7))return new y7(J);if(!Ni(J)){LJ("A style must have a core reference");return}this._private={cy:J,coreStyle:{}},this.length=0,this.resetToDefault()},$Q,bB8,yB8="single",Rz,NL,EL=function(J){var Q=this;J=Y9({},J);var K=J.container;if(K&&!PS(K)&&PS(K[0]))K=K[0];var X=K?K._cyreg:null;if(X=X||{},X&&X.cy)X.cy.destroy(),X={};var U=X.readies=X.readies||[];if(K)K._cyreg=X;X.cy=Q;var Y=I7!==void 0&&K!==void 0&&!J.headless,q=J;q.layout=Y9({name:Y?"grid":"null"},q.layout),q.renderer=Y9({name:Y?"canvas":"null"},q.renderer);var W=function(B,O,R){if(O!==void 0)return O;else if(R!==void 0)return R;else return B},G=this._private={container:K,ready:!1,options:q,elements:new HQ(this),listeners:[],aniEles:new HQ(this),data:q.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:0.00000000000000000000000000000000000000000000000001,maxZoom:100000000000000000000000000000000000000000000000000,zoomingEnabled:W(!0,q.zoomingEnabled),userZoomingEnabled:W(!0,q.userZoomingEnabled),panningEnabled:W(!0,q.panningEnabled),userPanningEnabled:W(!0,q.userPanningEnabled),boxSelectionEnabled:W(!0,q.boxSelectionEnabled),autolock:W(!1,q.autolock,q.autolockNodes),autoungrabify:W(!1,q.autoungrabify,q.autoungrabifyNodes),autounselectify:W(!1,q.autounselectify),styleEnabled:q.styleEnabled===void 0?Y:q.styleEnabled,zoom:P8(q.zoom)?q.zoom:1,pan:{x:qZ(q.pan)&&P8(q.pan.x)?q.pan.x:0,y:qZ(q.pan)&&P8(q.pan.y)?q.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:W(250,q.multiClickDebounceTime)};this.createEmitter(),this.selectionType(q.selectionType),this.zoomRange({min:q.minZoom,max:q.maxZoom});var z=function(B,O){var R=B.some(CH8);if(R)return jF.all(B).then(O);else O(B)};if(G.styleEnabled)Q.setStyle([]);var H=Y9({},q,q.renderer);Q.initRenderer(H);var F=function(B,O,R){Q.notifications(!1);var D=Q.mutableElements();if(D.length>0)D.remove();if(B!=null){if(qZ(B)||uZ(B))Q.add(B)}Q.one("layoutready",function(A){Q.notifications(!0),Q.emit(A),Q.one("load",O),Q.emitAndNotify("load")}).one("layoutstop",function(){Q.one("done",R),Q.emit("done")});var L=Y9({},Q._private.options.layout);L.eles=Q.elements(),Q.layout(L).run()};z([q.style,q.elements],function(M){var B=M[0],O=M[1];if(G.styleEnabled)Q.style().append(B);F(O,function(){if(Q.startAnimationLoop(),G.ready=!0,wJ(q.ready))Q.on("ready",q.ready);for(var R=0;R<U.length;R++){var D=U[R];Q.on("ready",D)}if(X)X.readies=[];Q.emit("ready")},q.done)})},kS,hB8,mB8,GF=function(J){return J.scratch("breadthfirst")},zI0=function(J,Q){return J.scratch("breadthfirst",Q)},uB8,gB8,dd,pB8,cB8=function(J,Q,K){var X=K.eles.edges(),U=K.eles.nodes(),Y=q6(K.boundingBox?K.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),q={isCompound:J.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:U.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:X.size(),temperature:K.initialTemp,clientWidth:Y.w,clientHeight:Y.h,boundingBox:Y},W=K.eles.components(),G={};for(var z=0;z<W.length;z++){var H=W[z];for(var F=0;F<H.length;F++){var M=H[F];G[M.id()]=z}}for(var z=0;z<q.nodeSize;z++){var B=U[z],O=B.layoutDimensions(K),R={};R.isLocked=B.locked(),R.id=B.data("id"),R.parentId=B.data("parent"),R.cmptId=G[B.id()],R.children=[],R.positionX=B.position("x"),R.positionY=B.position("y"),R.offsetX=0,R.offsetY=0,R.height=O.w,R.width=O.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(B.style("padding")),R.padRight=parseFloat(B.style("padding")),R.padTop=parseFloat(B.style("padding")),R.padBottom=parseFloat(B.style("padding")),R.nodeRepulsion=wJ(K.nodeRepulsion)?K.nodeRepulsion(B):K.nodeRepulsion,q.layoutNodes.push(R),q.idToIndex[R.id]=z}var D=[],L=0,A=-1,V=[];for(var z=0;z<q.nodeSize;z++){var B=q.layoutNodes[z],N=B.parentId;if(N!=null)q.layoutNodes[q.idToIndex[N]].children.push(B.id);else D[++A]=B.id,V.push(B.id)}q.graphSet.push(V);while(L<=A){var E=D[L++],j=q.idToIndex[E],M=q.layoutNodes[j],C=M.children;if(C.length>0){q.graphSet.push(C);for(var z=0;z<C.length;z++)D[++A]=C[z]}}for(var z=0;z<q.graphSet.length;z++){var $=q.graphSet[z];for(var F=0;F<$.length;F++){var k=q.idToIndex[$[F]];q.indexToGraph[k]=z}}for(var z=0;z<q.edgeSize;z++){var w=X[z],P={};P.id=w.data("id"),P.sourceId=w.data("source"),P.targetId=w.data("target");var T=wJ(K.idealEdgeLength)?K.idealEdgeLength(w):K.idealEdgeLength,S=wJ(K.edgeElasticity)?K.edgeElasticity(w):K.edgeElasticity,f=q.idToIndex[P.sourceId],v=q.idToIndex[P.targetId],x=q.indexToGraph[f],b=q.indexToGraph[v];if(x!=b){var y=lB8(P.sourceId,P.targetId,q),u=q.graphSet[y],h=0,R=q.layoutNodes[f];while(u.indexOf(R.id)===-1)R=q.layoutNodes[q.idToIndex[R.parentId]],h++;R=q.layoutNodes[v];while(u.indexOf(R.id)===-1)R=q.layoutNodes[q.idToIndex[R.parentId]],h++;T*=h*K.nestingFactor}P.idealLength=T,P.elasticity=S,q.layoutEdges.push(P)}return q},lB8=function(J,Q,K){var X=iA0(J,Q,0,K);if(2>X.count)return 0;else return X.graph},iA0=function(J,Q,K,X){var U=X.graphSet[K];if(-1<U.indexOf(J)&&-1<U.indexOf(Q))return{count:2,graph:K};var Y=0;for(var q=0;q<U.length;q++){var W=U[q],G=X.idToIndex[W],z=X.layoutNodes[G].children;if(z.length===0)continue;var H=X.indexToGraph[X.idToIndex[z[0]]],F=iA0(J,Q,H,X);if(F.count===0)continue;else if(F.count===1){if(Y++,Y===2)break}else return F}return{count:Y,graph:K}},dB8,iB8=function(J,Q){var{clientWidth:K,clientHeight:X}=J;for(var U=0;U<J.nodeSize;U++){var Y=J.layoutNodes[U];if(Y.children.length===0&&!Y.isLocked)Y.positionX=Math.random()*K,Y.positionY=Math.random()*X}},sA0=function(J,Q,K){var X=J.boundingBox,U={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};if(Q.boundingBox)K.forEach(function(Y){var q=J.layoutNodes[J.idToIndex[Y.data("id")]];U.x1=Math.min(U.x1,q.positionX),U.x2=Math.max(U.x2,q.positionX),U.y1=Math.min(U.y1,q.positionY),U.y2=Math.max(U.y2,q.positionY)}),U.w=U.x2-U.x1,U.h=U.y2-U.y1;return function(Y,q){var W=J.layoutNodes[J.idToIndex[Y.data("id")]];if(Q.boundingBox){var G=U.w===0?0.5:(W.positionX-U.x1)/U.w,z=U.h===0?0.5:(W.positionY-U.y1)/U.h;return{x:X.x1+G*X.w,y:X.y1+z*X.h}}else return{x:W.positionX,y:W.positionY}}},sB8=function(J,Q,K){var X=K.layout,U=K.eles.nodes(),Y=sA0(J,K,U);if(U.positions(Y),J.ready!==!0)J.ready=!0,X.one("layoutready",K.ready),X.emit({type:"layoutready",layout:this})},rB8=function(J,Q,K){nB8(J,Q),tB8(J),eB8(J,Q),ZO8(J),JO8(J)},nB8=function(J,Q){for(var K=0;K<J.graphSet.length;K++){var X=J.graphSet[K],U=X.length;for(var Y=0;Y<U;Y++){var q=J.layoutNodes[J.idToIndex[X[Y]]];for(var W=Y+1;W<U;W++){var G=J.layoutNodes[J.idToIndex[X[W]]];aB8(q,G,J,Q)}}}},HI0=function(J){return-1+2*J*Math.random()},aB8=function(J,Q,K,X){var U=J.cmptId,Y=Q.cmptId;if(U!==Y&&!K.isCompound)return;var q=Q.positionX-J.positionX,W=Q.positionY-J.positionY,G=1;if(q===0&&W===0)q=HI0(G),W=HI0(G);var z=oB8(J,Q,q,W);if(z>0)var H=X.nodeOverlap*z,F=Math.sqrt(q*q+W*W),M=H*q/F,B=H*W/F;else var O=_S(J,q,W),R=_S(Q,-1*q,-1*W),D=R.x-O.x,L=R.y-O.y,A=D*D+L*L,F=Math.sqrt(A),H=(J.nodeRepulsion+Q.nodeRepulsion)/A,M=H*D/F,B=H*L/F;if(!J.isLocked)J.offsetX-=M,J.offsetY-=B;if(!Q.isLocked)Q.offsetX+=M,Q.offsetY+=B;return},oB8=function(J,Q,K,X){if(K>0)var U=J.maxX-Q.minX;else var U=Q.maxX-J.minX;if(X>0)var Y=J.maxY-Q.minY;else var Y=Q.maxY-J.minY;if(U>=0&&Y>=0)return Math.sqrt(U*U+Y*Y);else return 0},_S=function(J,Q,K){var{positionX:X,positionY:U}=J,Y=J.height||1,q=J.width||1,W=K/Q,G=Y/q,z={};if(Q===0&&0<K)return z.x=X,z.y=U+Y/2,z;if(Q===0&&0>K)return z.x=X,z.y=U+Y/2,z;if(0<Q&&-1*G<=W&&W<=G)return z.x=X+q/2,z.y=U+q*K/2/Q,z;if(0>Q&&-1*G<=W&&W<=G)return z.x=X-q/2,z.y=U-q*K/2/Q,z;if(0<K&&(W<=-1*G||W>=G))return z.x=X+Y*Q/2/K,z.y=U+Y/2,z;if(0>K&&(W<=-1*G||W>=G))return z.x=X-Y*Q/2/K,z.y=U-Y/2,z;return z},tB8=function(J,Q){for(var K=0;K<J.edgeSize;K++){var X=J.layoutEdges[K],U=J.idToIndex[X.sourceId],Y=J.layoutNodes[U],q=J.idToIndex[X.targetId],W=J.layoutNodes[q],G=W.positionX-Y.positionX,z=W.positionY-Y.positionY;if(G===0&&z===0)continue;var H=_S(Y,G,z),F=_S(W,-1*G,-1*z),M=F.x-H.x,B=F.y-H.y,O=Math.sqrt(M*M+B*B),R=Math.pow(X.idealLength-O,2)/X.elasticity;if(O!==0)var D=R*M/O,L=R*B/O;else var D=0,L=0;if(!Y.isLocked)Y.offsetX+=D,Y.offsetY+=L;if(!W.isLocked)W.offsetX-=D,W.offsetY-=L}},eB8=function(J,Q){if(Q.gravity===0)return;var K=1;for(var X=0;X<J.graphSet.length;X++){var U=J.graphSet[X],Y=U.length;if(X===0)var q=J.clientHeight/2,W=J.clientWidth/2;else var G=J.layoutNodes[J.idToIndex[U[0]]],z=J.layoutNodes[J.idToIndex[G.parentId]],q=z.positionX,W=z.positionY;for(var H=0;H<Y;H++){var F=J.layoutNodes[J.idToIndex[U[H]]];if(F.isLocked)continue;var M=q-F.positionX,B=W-F.positionY,O=Math.sqrt(M*M+B*B);if(O>K){var R=Q.gravity*M/O,D=Q.gravity*B/O;F.offsetX+=R,F.offsetY+=D}}}},ZO8=function(J,Q){var K=[],X=0,U=-1;K.push.apply(K,J.graphSet[0]),U+=J.graphSet[0].length;while(X<=U){var Y=K[X++],q=J.idToIndex[Y],W=J.layoutNodes[q],G=W.children;if(0<G.length&&!W.isLocked){var{offsetX:z,offsetY:H}=W;for(var F=0;F<G.length;F++){var M=J.layoutNodes[J.idToIndex[G[F]]];M.offsetX+=z,M.offsetY+=H,K[++U]=G[F]}W.offsetX=0,W.offsetY=0}}},JO8=function(J,Q){for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length)X.maxX=void 0,X.minX=void 0,X.maxY=void 0,X.minY=void 0}for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length||X.isLocked)continue;var U=QO8(X.offsetX,X.offsetY,J.temperature);X.positionX+=U.x,X.positionY+=U.y,X.offsetX=0,X.offsetY=0,X.minX=X.positionX-X.width,X.maxX=X.positionX+X.width,X.minY=X.positionY-X.height,X.maxY=X.positionY+X.height,rA0(X,J)}for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length&&!X.isLocked)X.positionX=(X.maxX+X.minX)/2,X.positionY=(X.maxY+X.minY)/2,X.width=X.maxX-X.minX,X.height=X.maxY-X.minY}},QO8=function(J,Q,K){var X=Math.sqrt(J*J+Q*Q);if(X>K)var U={x:K*J/X,y:K*Q/X};else var U={x:J,y:Q};return U},rA0=function(J,Q){var K=J.parentId;if(K==null)return;var X=Q.layoutNodes[Q.idToIndex[K]],U=!1;if(X.maxX==null||J.maxX+X.padRight>X.maxX)X.maxX=J.maxX+X.padRight,U=!0;if(X.minX==null||J.minX-X.padLeft<X.minX)X.minX=J.minX-X.padLeft,U=!0;if(X.maxY==null||J.maxY+X.padBottom>X.maxY)X.maxY=J.maxY+X.padBottom,U=!0;if(X.minY==null||J.minY-X.padTop<X.minY)X.minY=J.minY-X.padTop,U=!0;if(U)return rA0(X,Q);return},FI0=function(J,Q){var K=J.layoutNodes,X=[];for(var U=0;U<K.length;U++){var Y=K[U],q=Y.cmptId,W=X[q]=X[q]||[];W.push(Y)}var G=0;for(var U=0;U<X.length;U++){var z=X[U];if(!z)continue;z.x1=1/0,z.x2=-1/0,z.y1=1/0,z.y2=-1/0;for(var H=0;H<z.length;H++){var F=z[H];z.x1=Math.min(z.x1,F.positionX-F.width/2),z.x2=Math.max(z.x2,F.positionX+F.width/2),z.y1=Math.min(z.y1,F.positionY-F.height/2),z.y2=Math.max(z.y2,F.positionY+F.height/2)}z.w=z.x2-z.x1,z.h=z.y2-z.y1,G+=z.w*z.h}X.sort(function(L,A){return A.w*A.h-L.w*L.h});var M=0,B=0,O=0,R=0,D=Math.sqrt(G)*J.clientWidth/J.clientHeight;for(var U=0;U<X.length;U++){var z=X[U];if(!z)continue;for(var H=0;H<z.length;H++){var F=z[H];if(!F.isLocked)F.positionX+=M-z.x1,F.positionY+=B-z.y1}if(M+=z.w+Q.componentSpacing,O+=z.w+Q.componentSpacing,R=Math.max(R,z.h),O>D)B+=R+Q.componentSpacing,M=0,O=0,R=0}},KO8,XO8,UO8,YO8,qO8,MI0=function(){},BI0=function(){throw Error("A headless instance can not render images")},gi,Lz,fS,Hi,Fi,cX,LK,OI0,RI0,Hz,AS,LY,Yz,Gz,gX,zF,GS,eA0,ZN0,Mi,Bi,DI0,LI0=function(J,Q,K){K.x=Q.x-J.x,K.y=Q.y-J.y,K.len=Math.sqrt(K.x*K.x+K.y*K.y),K.nx=K.x/K.len,K.ny=K.y/K.len,K.ang=Math.atan2(K.ny,K.nx)},WO8=function(J,Q){Q.x=J.x*-1,Q.y=J.y*-1,Q.nx=J.nx*-1,Q.ny=J.ny*-1,Q.ang=J.ang>0?-(Math.PI-J.ang):Math.PI+J.ang},GO8=function(J,Q,K,X,U){if(J!==DI0?LI0(Q,J,cX):WO8(LK,cX),LI0(Q,K,LK),OI0=cX.nx*LK.ny-cX.ny*LK.nx,RI0=cX.nx*LK.nx-cX.ny*-LK.ny,LY=Math.asin(Math.max(-1,Math.min(1,OI0))),Math.abs(LY)<0.000001){Hi=Q.x,Fi=Q.y,Gz=zF=0;return}if(Hz=1,AS=!1,RI0<0)if(LY<0)LY=Math.PI+LY;else LY=Math.PI-LY,Hz=-1,AS=!0;else if(LY>0)Hz=-1,AS=!0;if(Q.radius!==void 0)zF=Q.radius;else zF=X;if(Yz=LY/2,GS=Math.min(cX.len/2,LK.len/2),U)if(gX=Math.abs(Math.cos(Yz)*zF/Math.sin(Yz)),gX>GS)gX=GS,Gz=Math.abs(gX*Math.sin(Yz)/Math.cos(Yz));else Gz=zF;else gX=Math.min(GS,zF),Gz=Math.abs(gX*Math.sin(Yz)/Math.cos(Yz));Mi=Q.x+LK.nx*gX,Bi=Q.y+LK.ny*gX,Hi=Mi-LK.ny*Gz*Hz,Fi=Bi+LK.nx*Gz*Hz,eA0=Q.x+cX.nx*gX,ZN0=Q.y+cX.ny*gX,DI0=Q},VL=0.01,zO8,kQ,fL,ci,iX,KN0=function(J,Q){var K=Math.atan(Q/J);if(J===0&&K<0)K=K*-1;return K},XN0=function(J,Q){var K=Q.x-J.x,X=Q.y-J.y;return KN0(K,X)},FO8=function(J,Q,K,X){var U=DL(0,X-0.001,1),Y=DL(0,X+0.001,1),q=DF(J,Q,K,U),W=DF(J,Q,K,Y);return XN0(q,W)},UN0,II0=28,AI0=!1,eS,ZT,YN0,qN0,TF,VY,vL,NI0=function(J,Q,K){var X=J.beforeRenderCallbacks;for(var U=0;U<X.length;U++)X[U].fn(Q,K)},MO8=function(J){this.init(J)},WN0,wF,id=16.666666666666668,GN0,BO8,EI0=25,zS=50,NS=-4,Oi=3,zN0=7.99,OO8=8,RO8=1024,DO8=1024,LO8=1024,IO8=0.2,AO8=0.8,NO8=10,EO8=0.15,VO8=0.1,PO8=0.9,jO8=0.9,CO8=100,SO8=1,RF,TO8,zL=function(J,Q){var K=this;K.renderer=J,K.onDequeues=[];var X=TO8(Q);Y9(K,X),K.lookup=new BO8(X.getKey,X.doesEleInvalidateKey),K.setupDequeueing()},E7,wO8=1,FL=-4,vS=2,$O8=3.99,kO8=50,_O8=50,fO8=0.15,vO8=0.1,xO8=0.9,bO8=0.9,yO8=1,VI0=250,hO8=16000000,PI0=32767,mO8=!0,HN0=function(J){var Q=this,K=Q.renderer=J,X=K.cy;Q.layersByLevel={},Q.firstGet=!0,Q.lastInvalidationTime=NY()-2*VI0,Q.skipping=!1,Q.eleTxrDeqs=X.collection(),Q.scheduleElementRefinement=wL(function(){Q.refineElementTextures(Q.eleTxrDeqs),Q.eleTxrDeqs.unmerge(Q.eleTxrDeqs)},_O8),K.beforeRender(function(Y,q){if(q-Q.lastInvalidationTime<=VI0)Q.skipping=!0;else Q.skipping=!1},K.beforeRenderPriorities.lyrTxrSkip);var U=function(q,W){return W.reqs-q.reqs};Q.layersQueue=new $L(U),Q.setupDequeueing()},MQ,jI0=0,uO8,FN0,CI0,sX,dO8=function(){return 0},iO8=function(J,Q){return J.getTextAngle(Q,null)},sO8=function(J,Q){return J.getTextAngle(Q,"source")},rO8=function(J,Q){return J.getTextAngle(Q,"target")},nO8=function(J,Q){return Q.effectiveOpacity()},sd=function(J,Q){return Q.pstyle("text-opacity").pfValue*Q.effectiveOpacity()},PY,MN0=function(J){if(!["overlay","underlay"].includes(J))throw Error("Invalid state");return function(Q,K){if(!K.visible())return;var X=K.pstyle("".concat(J,"-opacity")).value;if(X===0)return;var U=this,Y=U.usePaths(),q=K._private.rscratch,W=K.pstyle("".concat(J,"-padding")).pfValue,G=2*W,z=K.pstyle("".concat(J,"-color")).value;if(Q.lineWidth=G,q.edgeType==="self"&&!Y)Q.lineCap="butt";else Q.lineCap="round";U.colorStrokeStyle(Q,z[0],z[1],z[2],X),U.drawEdgePath(K,Q,q.allpts,"solid")}},li,Iz,_q,BN0=function(J){if(!["overlay","underlay"].includes(J))throw Error("Invalid state");return function(Q,K,X,U,Y){var q=this;if(!K.visible())return;var W=K.pstyle("".concat(J,"-padding")).pfValue,G=K.pstyle("".concat(J,"-opacity")).value,z=K.pstyle("".concat(J,"-color")).value,H=K.pstyle("".concat(J,"-shape")).value,F=K.pstyle("".concat(J,"-corner-radius")).value;if(G>0){if(X=X||K.position(),U==null||Y==null){var M=K.padding();U=K.width()+2*M,Y=K.height()+2*M}q.colorFillStyle(Q,z[0],z[1],z[2],G),q.nodeShapes[H].draw(Q,X.x,X.y,U+W*2,Y+W*2,F),Q.fill()}}},W6,oO8=100,UL,$I0,FR8,MR8,OR8,RR8,DR8=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,LR8=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,IR8=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,AR8=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,ML,xS,nd=0,fI0=1,vI0=2,ad=3,FF=4,HS=5,YL=6,qL=7,NR8,DN0,od=function(J,Q){return function(K){var X=J(K),U=LN0(K,Q);if(U.length>1)return U.map(function(Y,q){return"".concat(X,"_").concat(q)});return X}},td=function(J,Q){return function(K,X){var U=J(K);if(typeof X==="string"){var Y=X.indexOf("_");if(Y>0){var q=Number(X.substring(Y+1)),W=LN0(K,Q),G=U.h/W.length,z=G*q,H=U.y1+z;return{x1:U.x1,w:U.w,y1:H,h:G,yOffset:z}}}return U}},fq,xI0,bI0,Di,Li,NN0,Rq,xL,VN0,fR8,$9,vR8,xR8,bR8,jN0,CN0,Ii=function(){if(arguments.length===2)return TN0.apply(null,arguments);else if(arguments.length===3)return SN0.apply(null,arguments);else if(arguments.length===4)return hR8.apply(null,arguments);else if(arguments.length===5)return yR8.apply(null,arguments);else LJ("Invalid extension access syntax")},bS=function(){if(!(this instanceof bS))return new bS;this.length=0},Dz,mR8="3.33.1",NK=function(J){if(J===void 0)J={};if(qZ(J))return new EL(J);else if(Z9(J))return Ii.apply(Ii,arguments)};var ii=_(()=>{I7=typeof window>"u"?null:window,zD0=I7?I7.navigator:null;I7&&I7.document;LH8=N7(""),uI0=N7({}),IH8=N7(function(){}),AH8=typeof HTMLElement>"u"?"undefined":N7(HTMLElement),Ei=NF(function(Z){return Z.replace(/([A-Z])/g,function(J){return"-"+J.toLowerCase()})}),yS=NF(function(Z){return Z.replace(/(-\w)/g,function(J){return J[1].toUpperCase()})}),cI0=NF(function(Z,J){return Z+J[0].toUpperCase()+J.substring(1)},function(Z,J){return Z+"$"+J}),TH8="rgb[a]?\\(("+A7+"[%]?)\\s*,\\s*("+A7+"[%]?)\\s*,\\s*("+A7+"[%]?)(?:\\s*,\\s*("+A7+"))?\\)",wH8="rgb[a]?\\((?:"+A7+"[%]?)\\s*,\\s*(?:"+A7+"[%]?)\\s*,\\s*(?:"+A7+"[%]?)(?:\\s*,\\s*(?:"+A7+"))?\\)",$H8="hsl[a]?\\(("+A7+")\\s*,\\s*("+A7+"[%])\\s*,\\s*("+A7+"[%])(?:\\s*,\\s*("+A7+"))?\\)",kH8="hsl[a]?\\((?:"+A7+")\\s*,\\s*(?:"+A7+"[%])\\s*,\\s*(?:"+A7+"[%])(?:\\s*,\\s*(?:"+A7+"))?\\)",Y9=Object.assign!=null?Object.assign.bind(Object):function(Z){var J=arguments;for(var Q=1;Q<J.length;Q++){var K=J[Q];if(K==null)continue;var X=Object.keys(K);for(var U=0;U<X.length;U++){var Y=X[U];Z[Y]=K[Y]}}return Z},mH8={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};nH8=rH8(),wL=CL(nH8),hl=I7?I7.performance:null,nI0=hl&&hl.now?function(){return hl.now()}:function(){return Date.now()},aH8=function(){if(I7){if(I7.requestAnimationFrame)return function(Z){I7.requestAnimationFrame(Z)};else if(I7.mozRequestAnimationFrame)return function(Z){I7.mozRequestAnimationFrame(Z)};else if(I7.webkitRequestAnimationFrame)return function(Z){I7.webkitRequestAnimationFrame(Z)};else if(I7.msRequestAnimationFrame)return function(Z){I7.msRequestAnimationFrame(Z)}}return function(Z){if(Z)setTimeout(function(){Z(nI0())},16.666666666666668)}}(),NY=nI0;Q28=console.warn!=null,K28=console.trace!=null,Pi=Number.MAX_SAFE_INTEGER||9007199254740991,Y28={},W28=function(){function Z(){wq(this,Z),this._obj={}}return $q(Z,[{key:"set",value:function(Q,K){return this._obj[Q]=K,this}},{key:"delete",value:function(Q){return this._obj[Q]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(Q){return this._obj[Q]!==void 0}},{key:"get",value:function(Q){return this._obj[Q]}}])}(),AY=typeof Map<"u"?Map:W28,z28=function(){function Z(J){if(wq(this,Z),this._obj=Object.create(null),this.size=0,J!=null){var Q;if(J.instanceString!=null&&J.instanceString()===this.instanceString())Q=J.toArray();else Q=J;for(var K=0;K<Q.length;K++)this.add(Q[K])}}return $q(Z,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(Q){var K=this._obj;if(K[Q]!==1)K[Q]=1,this.size++}},{key:"delete",value:function(Q){var K=this._obj;if(K[Q]===1)K[Q]=0,this.size--}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(Q){return this._obj[Q]===1}},{key:"toArray",value:function(){var Q=this;return Object.keys(this._obj).filter(function(K){return Q.has(K)})}},{key:"forEach",value:function(Q,K){return this.toArray().forEach(Q,K)}}])}(),PF=(typeof Set>"u"?"undefined":N7(Set))!==G28?Set:z28,RL={breadthFirstSearch:wD0({bfs:!0}),depthFirstSearch:wD0({dfs:!0})};RL.bfs=RL.breadthFirstSearch;RL.dfs=RL.depthFirstSearch;FS={exports:{}},H28=FS.exports;B28=M28(),$L=CL(B28),O28=FQ({root:null,weight:function(J){return 1},directed:!1}),R28={dijkstra:function(J){if(!qZ(J)){var Q=arguments;J={root:Q[0],weight:Q[1],directed:Q[2]}}var K=O28(J),X=K.root,U=K.weight,Y=K.directed,q=this,W=U,G=Z9(X)?this.filter(X)[0]:X[0],z={},H={},F={},M=this.byGroup(),B=M.nodes,O=M.edges;O.unmergeBy(function(f){return f.isLoop()});var R=function(v){return z[v.id()]},D=function(v,x){z[v.id()]=x,L.updateItem(v)},L=new $L(function(f,v){return R(f)-R(v)});for(var A=0;A<B.length;A++){var V=B[A];z[V.id()]=V.same(G)?0:1/0,L.push(V)}var N=function(v,x){var b=(Y?v.edgesTo(x):v.edgesWith(x)).intersect(O),y=1/0,u;for(var h=0;h<b.length;h++){var p=b[h],r=W(p);if(r<y||!u)y=r,u=p}return{edge:u,dist:y}};while(L.size()>0){var E=L.pop(),j=R(E),C=E.id();if(F[C]=j,j===1/0)continue;var $=E.neighborhood().intersect(B);for(var k=0;k<$.length;k++){var w=$[k],P=w.id(),T=N(E,w),S=j+T.dist;if(S<R(w))D(w,S),H[P]={node:E,edge:T.edge}}}return{distanceTo:function(v){var x=Z9(v)?B.filter(v)[0]:v[0];return F[x.id()]},pathTo:function(v){var x=Z9(v)?B.filter(v)[0]:v[0],b=[],y=x,u=y.id();if(x.length>0){b.unshift(x);while(H[u]){var h=H[u];b.unshift(h.edge),b.unshift(h.node),y=h.node,u=y.id()}}return q.spawn(b)}}}},D28={kruskal:function(J){J=J||function(A){return 1};var Q=this.byGroup(),K=Q.nodes,X=Q.edges,U=K.length,Y=Array(U),q=K,W=function(V){for(var N=0;N<Y.length;N++){var E=Y[N];if(E.has(V))return N}};for(var G=0;G<U;G++)Y[G]=this.spawn(K[G]);var z=X.sort(function(A,V){return J(A)-J(V)});for(var H=0;H<z.length;H++){var F=z[H],M=F.source()[0],B=F.target()[0],O=W(M),R=W(B),D=Y[O],L=Y[R];if(O!==R)q.merge(F),D.merge(L),Y.splice(R,1)}return q}},L28=FQ({root:null,goal:null,weight:function(J){return 1},heuristic:function(J){return 0},directed:!1}),I28={aStar:function(J){var Q=this.cy(),K=L28(J),X=K.root,U=K.goal,Y=K.heuristic,q=K.directed,W=K.weight;X=Q.collection(X)[0],U=Q.collection(U)[0];var G=X.id(),z=U.id(),H={},F={},M={},B=new $L(function(u,h){return F[u.id()]-F[h.id()]}),O=new PF,R={},D={},L=function(h,p){B.push(h),O.add(p)},A,V,N=function(){A=B.pop(),V=A.id(),O.delete(V)},E=function(h){return O.has(h)};L(X,G),H[G]=0,F[G]=Y(X);var j=0;while(B.size()>0){if(N(),j++,V===z){var C=[],$=U,k=z,w=D[k];for(;;){if(C.unshift($),w!=null)C.unshift(w);if($=R[k],$==null)break;k=$.id(),w=D[k]}return{found:!0,distance:H[V],path:this.spawn(C),steps:j}}M[V]=!0;var P=A._private.edges;for(var T=0;T<P.length;T++){var S=P[T];if(!this.hasElementWithId(S.id()))continue;if(q&&S.data("source")!==V)continue;var f=S.source(),v=S.target(),x=f.id()!==V?f:v,b=x.id();if(!this.hasElementWithId(b))continue;if(M[b])continue;var y=H[V]+W(S);if(!E(b)){H[b]=y,F[b]=y+Y(x),L(x,b),R[b]=A,D[b]=S;continue}if(y<H[b])H[b]=y,F[b]=y+Y(x),R[b]=A,D[b]=S}}return{found:!1,distance:void 0,path:void 0,steps:j}}},A28=FQ({weight:function(J){return 1},directed:!1}),N28={floydWarshall:function(J){var Q=this.cy(),K=A28(J),X=K.weight,U=K.directed,Y=X,q=this.byGroup(),W=q.nodes,G=q.edges,z=W.length,H=z*z,F=function(r){return W.indexOf(r)},M=function(r){return W[r]},B=Array(H);for(var O=0;O<H;O++){var R=O%z,D=(O-R)/z;if(D===R)B[O]=0;else B[O]=1/0}var L=Array(H),A=Array(H);for(var V=0;V<G.length;V++){var N=G[V],E=N.source()[0],j=N.target()[0];if(E===j)continue;var C=F(E),$=F(j),k=C*z+$,w=Y(N);if(B[k]>w)B[k]=w,L[k]=$,A[k]=N;if(!U){var P=$*z+C;if(!U&&B[P]>w)B[P]=w,L[P]=C,A[P]=N}}for(var T=0;T<z;T++)for(var S=0;S<z;S++){var f=S*z+T;for(var v=0;v<z;v++){var x=S*z+v,b=T*z+v;if(B[f]+B[b]<B[x])B[x]=B[f]+B[b],L[x]=L[f]}}var y=function(r){return(Z9(r)?Q.filter(r):r)[0]},u=function(r){return F(y(r))},h={distance:function(r,e){var i=u(r),U0=u(e);return B[i*z+U0]},path:function(r,e){var i=u(r),U0=u(e),a=M(i);if(i===U0)return a.collection();if(L[i*z+U0]==null)return Q.collection();var z0=Q.collection(),J0=i,Q0;z0.merge(a);while(i!==U0)J0=i,i=L[i*z+U0],Q0=A[J0*z+i],z0.merge(Q0),z0.merge(M(i));return z0}};return h}},E28=FQ({weight:function(J){return 1},directed:!1,root:null}),V28={bellmanFord:function(J){var Q=this,K=E28(J),X=K.weight,U=K.directed,Y=K.root,q=X,W=this,G=this.cy(),z=this.byGroup(),H=z.edges,F=z.nodes,M=F.length,B=new AY,O=!1,R=[];Y=G.collection(Y)[0],H.unmergeBy(function(E0){return E0.isLoop()});var D=H.length,L=function(d){var c0=B.get(d.id());if(!c0)c0={},B.set(d.id(),c0);return c0},A=function(d){return(Z9(d)?G.$(d):d)[0]},V=function(d){return L(A(d)).dist},N=function(d){var c0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,B0=A(d),y0=[],n0=B0;for(;;){if(n0==null)return Q.spawn();var s0=L(n0),k0=s0.edge,x0=s0.pred;if(y0.unshift(n0[0]),n0.same(c0)&&y0.length>0)break;if(k0!=null)y0.unshift(k0);n0=x0}return W.spawn(y0)};for(var E=0;E<M;E++){var j=F[E],C=L(j);if(j.same(Y))C.dist=0;else C.dist=1/0;C.pred=null,C.edge=null}var $=!1,k=function(d,c0,B0,y0,n0,s0){var k0=y0.dist+s0;if(k0<n0.dist&&!B0.same(y0.edge))n0.dist=k0,n0.pred=d,n0.edge=B0,$=!0};for(var w=1;w<M;w++){$=!1;for(var P=0;P<D;P++){var T=H[P],S=T.source(),f=T.target(),v=q(T),x=L(S),b=L(f);if(k(S,f,T,x,b,v),!U)k(f,S,T,b,x,v)}if(!$)break}if($){var y=[];for(var u=0;u<D;u++){var h=H[u],p=h.source(),r=h.target(),e=q(h),i=L(p).dist,U0=L(r).dist;if(i+e<U0||!U&&U0+e<i){if(!O)NZ("Graph contains a negative weight cycle for Bellman-Ford"),O=!0;if(J.findNegativeWeightCycles!==!1){var a=[];if(i+e<U0)a.push(p);if(!U&&U0+e<i)a.push(r);var z0=a.length;for(var J0=0;J0<z0;J0++){var Q0=a[J0],t=[Q0];t.push(L(Q0).edge);var n=L(Q0).pred;while(t.indexOf(n)===-1)t.push(n),t.push(L(n).edge),n=L(n).pred;t=t.slice(t.indexOf(n));var Y0=t[0].id(),o=0;for(var M0=2;M0<t.length;M0+=2)if(t[M0].id()<Y0)Y0=t[M0].id(),o=M0;t=t.slice(o).concat(t.slice(0,o)),t.push(t[0]);var X0=t.map(function(E0){return E0.id()}).join(",");if(y.indexOf(X0)===-1)R.push(W.spawn(t)),y.push(X0)}}else break}}}return{distanceTo:V,pathTo:N,hasNegativeWeightCycle:O,negativeWeightCycles:R}}},P28=Math.sqrt(2),C28={kargerStein:function(){var J=this,Q=this.byGroup(),K=Q.nodes,X=Q.edges;X.unmergeBy(function(b){return b.isLoop()});var U=K.length,Y=X.length,q=Math.ceil(Math.pow(Math.log(U)/Math.LN2,2)),W=Math.floor(U/P28);if(U<2){LJ("At least 2 nodes are required for Karger-Stein algorithm");return}var G=[];for(var z=0;z<Y;z++){var H=X[z];G.push([z,K.indexOf(H.source()),K.indexOf(H.target())])}var F=1/0,M=[],B=Array(U),O=Array(U),R=Array(U),D=function(y,u){for(var h=0;h<U;h++)u[h]=y[h]};for(var L=0;L<=q;L++){for(var A=0;A<U;A++)O[A]=A;var V=ul(O,G.slice(),U,W),N=V.slice();D(O,R);var E=ul(O,V,W,2),j=ul(R,N,W,2);if(E.length<=j.length&&E.length<F)F=E.length,M=E,D(O,B);else if(j.length<=E.length&&j.length<F)F=j.length,M=j,D(R,B)}var C=this.spawn(M.map(function(b){return X[b[0]]})),$=this.spawn(),k=this.spawn(),w=B[0];for(var P=0;P<B.length;P++){var T=B[P],S=K[P];if(T===w)$.merge(S);else k.merge(S)}var f=function(y){var u=J.spawn();return y.forEach(function(h){u.merge(h),h.connectedEdges().forEach(function(p){if(J.contains(p)&&!C.contains(p))u.merge(p)})}),u},v=[f($),f(k)],x={cut:C,components:v,partition1:$,partition2:k};return x}},Si=Math.log2||function(Z){return Math.log(Z)/Math.log(2)},h28=(gl=Math.hypot)!==null&&gl!==void 0?gl:function(Z,J){return Math.sqrt(Z*Z+J*J)};t28=FQ({dampingFactor:0.8,precision:0.000001,iterations:200,weight:function(J){return 1}}),e28={pageRank:function(J){var Q=t28(J),K=Q.dampingFactor,X=Q.precision,U=Q.iterations,Y=Q.weight,q=this._private.cy,W=this.byGroup(),G=W.nodes,z=W.edges,H=G.length,F=H*H,M=z.length,B=Array(F),O=Array(H),R=(1-K)/H;for(var D=0;D<H;D++){for(var L=0;L<H;L++){var A=D*H+L;B[A]=0}O[D]=0}for(var V=0;V<M;V++){var N=z[V],E=N.data("source"),j=N.data("target");if(E===j)continue;var C=G.indexOfId(E),$=G.indexOfId(j),k=Y(N),w=$*H+C;B[w]+=k,O[C]+=k}var P=1/H+R;for(var T=0;T<H;T++)if(O[T]===0)for(var S=0;S<H;S++){var f=S*H+T;B[f]=P}else for(var v=0;v<H;v++){var x=v*H+T;B[x]=B[x]/O[T]+R}var b=Array(H),y=Array(H),u;for(var h=0;h<H;h++)b[h]=1;for(var p=0;p<U;p++){for(var r=0;r<H;r++)y[r]=0;for(var e=0;e<H;e++)for(var i=0;i<H;i++){var U0=e*H+i;y[e]+=B[U0]*b[i]}f28(y),u=b,b=y,y=u;var a=0;for(var z0=0;z0<H;z0++){var J0=u[z0]-b[z0];a+=J0*J0}if(a<X)break}var Q0={rank:function(n){return n=q.collection(n)[0],b[G.indexOf(n)]}};return Q0}},vD0=FQ({root:null,weight:function(J){return 1},directed:!1,alpha:0}),LF={degreeCentralityNormalized:function(J){J=vD0(J);var Q=this.cy(),K=this.nodes(),X=K.length;if(!J.directed){var U={},Y=0;for(var q=0;q<X;q++){var W=K[q];J.root=W;var G=this.degreeCentrality(J);if(Y<G.degree)Y=G.degree;U[W.id()]=G.degree}return{degree:function(A){if(Y===0)return 0;if(Z9(A))A=Q.filter(A);return U[A.id()]/Y}}}else{var z={},H={},F=0,M=0;for(var B=0;B<X;B++){var O=K[B],R=O.id();J.root=O;var D=this.degreeCentrality(J);if(F<D.indegree)F=D.indegree;if(M<D.outdegree)M=D.outdegree;z[R]=D.indegree,H[R]=D.outdegree}return{indegree:function(A){if(F==0)return 0;if(Z9(A))A=Q.filter(A);return z[A.id()]/F},outdegree:function(A){if(M===0)return 0;if(Z9(A))A=Q.filter(A);return H[A.id()]/M}}}},degreeCentrality:function(J){J=vD0(J);var Q=this.cy(),K=this,X=J,U=X.root,Y=X.weight,q=X.directed,W=X.alpha;if(U=Q.collection(U)[0],!q){var G=U.connectedEdges().intersection(K),z=G.length,H=0;for(var F=0;F<G.length;F++)H+=Y(G[F]);return{degree:Math.pow(z,1-W)*Math.pow(H,W)}}else{var M=U.connectedEdges(),B=M.filter(function(E){return E.target().same(U)&&K.has(E)}),O=M.filter(function(E){return E.source().same(U)&&K.has(E)}),R=B.length,D=O.length,L=0,A=0;for(var V=0;V<B.length;V++)L+=Y(B[V]);for(var N=0;N<O.length;N++)A+=Y(O[N]);return{indegree:Math.pow(R,1-W)*Math.pow(L,W),outdegree:Math.pow(D,1-W)*Math.pow(A,W)}}}};LF.dc=LF.degreeCentrality;LF.dcn=LF.degreeCentralityNormalised=LF.degreeCentralityNormalized;xD0=FQ({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),IF={closenessCentralityNormalized:function(J){var Q=xD0(J),K=Q.harmonic,X=Q.weight,U=Q.directed,Y=this.cy(),q={},W=0,G=this.nodes(),z=this.floydWarshall({weight:X,directed:U});for(var H=0;H<G.length;H++){var F=0,M=G[H];for(var B=0;B<G.length;B++)if(H!==B){var O=z.distance(M,G[B]);if(K)F+=1/O;else F+=O}if(!K)F=1/F;if(W<F)W=F;q[M.id()]=F}return{closeness:function(D){if(W==0)return 0;if(Z9(D))D=Y.filter(D)[0].id();else D=D.id();return q[D]/W}}},closenessCentrality:function(J){var Q=xD0(J),K=Q.root,X=Q.weight,U=Q.directed,Y=Q.harmonic;K=this.filter(K)[0];var q=this.dijkstra({root:K,weight:X,directed:U}),W=0,G=this.nodes();for(var z=0;z<G.length;z++){var H=G[z];if(!H.same(K)){var F=q.distanceTo(H);if(Y)W+=1/F;else W+=F}}return Y?W:1/W}};IF.cc=IF.closenessCentrality;IF.ccn=IF.closenessCentralityNormalised=IF.closenessCentralityNormalized;ZF8=FQ({weight:null,directed:!1}),Ki={betweennessCentrality:function(J){var Q=ZF8(J),K=Q.directed,X=Q.weight,U=X!=null,Y=this.cy(),q=this.nodes(),W={},G={},z=0,H={set:function(A,V){if(G[A]=V,V>z)z=V},get:function(A){return G[A]}};for(var F=0;F<q.length;F++){var M=q[F],B=M.id();if(K)W[B]=M.outgoers().nodes();else W[B]=M.openNeighborhood().nodes();H.set(B,0)}var O=function(){var A=q[R].id(),V=[],N={},E={},j={},C=new $L(function(e,i){return j[e]-j[i]});for(var $=0;$<q.length;$++){var k=q[$].id();N[k]=[],E[k]=0,j[k]=1/0}E[A]=1,j[A]=0,C.push(A);while(!C.empty()){var w=C.pop();if(V.push(w),U)for(var P=0;P<W[w].length;P++){var T=W[w][P],S=Y.getElementById(w),f=void 0;if(S.edgesTo(T).length>0)f=S.edgesTo(T)[0];else f=T.edgesTo(S)[0];var v=X(f);if(T=T.id(),j[T]>j[w]+v){if(j[T]=j[w]+v,C.nodes.indexOf(T)<0)C.push(T);else C.updateItem(T);E[T]=0,N[T]=[]}if(j[T]==j[w]+v)E[T]=E[T]+E[w],N[T].push(w)}else for(var x=0;x<W[w].length;x++){var b=W[w][x].id();if(j[b]==1/0)C.push(b),j[b]=j[w]+1;if(j[b]==j[w]+1)E[b]=E[b]+E[w],N[b].push(w)}}var y={};for(var u=0;u<q.length;u++)y[q[u].id()]=0;while(V.length>0){var h=V.pop();for(var p=0;p<N[h].length;p++){var r=N[h][p];y[r]=y[r]+E[r]/E[h]*(1+y[h])}if(h!=q[R].id())H.set(h,H.get(h)+y[h])}};for(var R=0;R<q.length;R++)O();var D={betweenness:function(A){var V=Y.collection(A).id();return H.get(V)},betweennessNormalized:function(A){if(z==0)return 0;var V=Y.collection(A).id();return H.get(V)/z}};return D.betweennessNormalised=D.betweennessNormalized,D}};Ki.bc=Ki.betweennessCentrality;JF8=FQ({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(Z){return 1}]}),FF8={markovClustering:bD0,mcl:bD0},EF={euclidean:function(J,Q,K){if(J>=2)return JL(J,Q,K,0,hD0,BF8);else return JL(J,Q,K,0,yD0)},squaredEuclidean:function(J,Q,K){return JL(J,Q,K,0,hD0)},manhattan:function(J,Q,K){return JL(J,Q,K,0,yD0)},max:function(J,Q,K){return JL(J,Q,K,-1/0,OF8)}};EF["squared-euclidean"]=EF.squaredEuclidean;EF.squaredeuclidean=EF.squaredEuclidean;RF8=FQ({k:2,m:2,sensitivityThreshold:0.0001,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),jF8={kMeans:AF8,kMedoids:NF8,fuzzyCMeans:gD0,fcm:gD0},CF8=FQ({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),SF8={single:"min",complete:"max"},wF8={hierarchicalClustering:cD0,hca:cD0},$F8=FQ({distance:"euclidean",preference:"median",damping:0.8,maxIterations:1000,minIterations:100,attributes:[]}),bF8={affinityPropagation:dD0,ap:dD0},yF8=FQ({root:void 0,directed:!1}),hF8={hierholzer:function(J){if(!qZ(J)){var Q=arguments;J={root:Q[0],directed:Q[1]}}var K=yF8(J),X=K.root,U=K.directed,Y=this,q=!1,W,G,z;if(X)z=Z9(X)?this.filter(X)[0].id():X[0].id();var H={},F={};if(U)Y.forEach(function(L){var A=L.id();if(L.isNode()){var V=L.indegree(!0),N=L.outdegree(!0),E=V-N,j=N-V;if(E==1)if(W)q=!0;else W=A;else if(j==1)if(G)q=!0;else G=A;else if(j>1||E>1)q=!0;H[A]=[],L.outgoers().forEach(function(C){if(C.isEdge())H[A].push(C.id())})}else F[A]=[void 0,L.target().id()]});else Y.forEach(function(L){var A=L.id();if(L.isNode()){var V=L.degree(!0);if(V%2)if(!W)W=A;else if(!G)G=A;else q=!0;H[A]=[],L.connectedEdges().forEach(function(N){return H[A].push(N.id())})}else F[A]=[L.source().id(),L.target().id()]});var M={found:!1,trail:void 0};if(q)return M;else if(G&&W){if(U){if(z&&G!=z)return M;z=G}else if(z&&G!=z&&W!=z)return M;else if(!z)z=G}else if(!z)z=Y[0].id();var B=function(A){var V=A,N=[A],E,j,C;while(H[V].length){if(E=H[V].shift(),j=F[E][0],C=F[E][1],V!=C)H[C]=H[C].filter(function($){return $!=E}),V=C;else if(!U&&V!=j)H[j]=H[j].filter(function($){return $!=E}),V=j;N.unshift(E),N.unshift(V)}return N},O=[],R=[];R=B(z);while(R.length!=1)if(H[R[0]].length==0)O.unshift(Y.getElementById(R.shift())),O.unshift(Y.getElementById(R.shift()));else R=B(R.shift()).concat(R);O.unshift(Y.getElementById(R.shift()));for(var D in H)if(H[D].length)return M;return M.found=!0,M.trail=this.spawn(O,!0),M}},mF8={hopcroftTarjanBiconnected:KS,htbc:KS,htb:KS,hopcroftTarjanBiconnectedComponents:KS},uF8={tarjanStronglyConnected:XS,tsc:XS,tscc:XS,tarjanStronglyConnectedComponents:XS},MA0={};[RL,R28,D28,I28,N28,V28,C28,e28,LF,IF,Ki,FF8,jF8,wF8,bF8,hF8,mF8,uF8].forEach(function(Z){Y9(MA0,Z)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/P5.prototype={fulfill:function(J){return iD0(this,OA0,"fulfillValue",J)},reject:function(J){return iD0(this,RA0,"rejectReason",J)},then:function(J,Q){var K=this,X=new P5;return K.onFulfilled.push(rD0(J,X,"fulfill")),K.onRejected.push(rD0(Q,X,"reject")),DA0(K),X.proxy}};P5.all=function(Z){return new P5(function(J,Q){var K=Array(Z.length),X=0,U=function(W,G){if(K[W]=G,X++,X===Z.length)J(K)};for(var Y=0;Y<Z.length;Y++)(function(q){var W=Z[q],G=W!=null&&W.then!=null;if(G)W.then(function(H){U(q,H)},function(H){Q(H)});else{var z=W;U(q,z)}})(Y)})};P5.resolve=function(Z){return new P5(function(J,Q){J(Z)})};P5.reject=function(Z){return new P5(function(J,Q){Q(Z)})};jF=typeof Promise<"u"?Promise:P5,Oz=Yi.prototype;Y9(Oz,{instanceString:function(){return"animation"},hook:function(){var J=this._private;if(!J.hooked){var Q,K=J.target._private.animation;if(J.queue)Q=K.queue;else Q=K.current;if(Q.push(this),y4(J.target))J.target.cy().addToAnimationPool(J.target);J.hooked=!0}return this},play:function(){var J=this._private;if(J.progress===1)J.progress=0;return J.playing=!0,J.started=!1,J.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var J=this._private;return J.applying=!0,J.started=!1,J.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var J=this._private;return J.playing=!1,J.started=!1,this},stop:function(){var J=this._private;return J.playing=!1,J.started=!1,J.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(J){var Q=this._private;if(J===void 0)return Q.progress*Q.duration;else return this.progress(J/Q.duration)},progress:function(J){var Q=this._private,K=Q.playing;if(J===void 0)return Q.progress;else{if(K)this.pause();if(Q.progress=J,Q.started=!1,K)this.play()}return this},completed:function(){return this._private.progress===1},reverse:function(){var J=this._private,Q=J.playing;if(Q)this.pause();J.progress=1-J.progress,J.started=!1;var K=function(G,z){var H=J[G];if(H==null)return;J[G]=J[z],J[z]=H};if(K("zoom","startZoom"),K("pan","startPan"),K("position","startPosition"),J.style)for(var X=0;X<J.style.length;X++){var U=J.style[X],Y=U.name,q=J.startStyle[Y];J.startStyle[Y]=U,J.style[X]=q}if(Q)this.play();return this},promise:function(J){var Q=this._private,K;switch(J){case"frame":K=Q.frames;break;default:case"complete":case"completed":K=Q.completes}return new jF(function(X,U){K.push(function(){X()})})}});Oz.complete=Oz.completed;Oz.run=Oz.play;Oz.running=Oz.playing;gF8={animated:function(){return function(){var Q=this,K=Q.length!==void 0,X=K?Q:[Q],U=this._private.cy||this;if(!U.styleEnabled())return!1;var Y=X[0];if(Y)return Y._private.animation.current.length>0}},clearQueue:function(){return function(){var Q=this,K=Q.length!==void 0,X=K?Q:[Q],U=this._private.cy||this;if(!U.styleEnabled())return this;for(var Y=0;Y<X.length;Y++){var q=X[Y];q._private.animation.queue=[]}return this}},delay:function(){return function(Q,K){var X=this._private.cy||this;if(!X.styleEnabled())return this;return this.animate({delay:Q,duration:Q,complete:K})}},delayAnimation:function(){return function(Q,K){var X=this._private.cy||this;if(!X.styleEnabled())return this;return this.animation({delay:Q,duration:Q,complete:K})}},animation:function(){return function(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this,W=!U,G=!W;if(!q.styleEnabled())return this;var z=q.style();Q=Y9({},Q,K);var H=Object.keys(Q).length===0;if(H)return new Yi(Y[0],Q);if(Q.duration===void 0)Q.duration=400;switch(Q.duration){case"slow":Q.duration=600;break;case"fast":Q.duration=200;break}if(G)Q.style=z.getPropsList(Q.style||Q.css),Q.css=void 0;if(G&&Q.renderedPosition!=null){var F=Q.renderedPosition,M=q.pan(),B=q.zoom();Q.position=KA0(F,B,M)}if(W&&Q.panBy!=null){var O=Q.panBy,R=q.pan();Q.pan={x:R.x+O.x,y:R.y+O.y}}var D=Q.center||Q.centre;if(W&&D!=null){var L=q.getCenterPan(D.eles,Q.zoom);if(L!=null)Q.pan=L}if(W&&Q.fit!=null){var A=Q.fit,V=q.getFitViewport(A.eles||A.boundingBox,A.padding);if(V!=null)Q.pan=V.pan,Q.zoom=V.zoom}if(W&&qZ(Q.zoom)){var N=q.getZoomedViewport(Q.zoom);if(N!=null){if(N.zoomed)Q.zoom=N.zoom;if(N.panned)Q.pan=N.pan}else Q.zoom=null}return new Yi(Y[0],Q)}},animate:function(){return function(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this;if(!q.styleEnabled())return this;if(K)Q=Y9({},Q,K);for(var W=0;W<Y.length;W++){var G=Y[W],z=G.animated()&&(Q.queue===void 0||Q.queue),H=G.animation(Q,z?{queue:!0}:void 0);H.play()}return this}},stop:function(){return function(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this;if(!q.styleEnabled())return this;for(var W=0;W<Y.length;W++){var G=Y[W],z=G._private,H=z.animation.current;for(var F=0;F<H.length;F++){var M=H[F],B=M._private;if(K)B.duration=0}if(Q)z.animation.queue=[];if(!K)z.animation.current=[]}return q.notify("draw"),this}}};AM8=IM8(),NM8=CL(AM8);TM8=SM8(),wM8=CL(TM8);_M8=kM8(),fM8=CL(_M8),vM8={data:function(J){var Q={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(X){},beforeSet:function(X,U){},onSet:function(X){},canSet:function(X){return!0}};return J=Y9({},Q,J),function(X,U){var Y=J,q=this,W=q.length!==void 0,G=W?q:[q],z=W?q[0]:q;if(Z9(X)){var H=X.indexOf(".")!==-1,F=H&&fM8(X);if(Y.allowGetting&&U===void 0){var M;if(z)if(Y.beforeGet(z),F&&z._private[Y.field][X]===void 0)M=NM8(z._private[Y.field],F);else M=z._private[Y.field][X];return M}else if(Y.allowSetting&&U!==void 0){var B=!Y.immutableKeys[X];if(B){var O=hI0({},X,U);Y.beforeSet(q,O);for(var R=0,D=G.length;R<D;R++){var L=G[R];if(Y.canSet(L))if(F&&z._private[Y.field][X]===void 0)wM8(L._private[Y.field],F,U);else L._private[Y.field][X]=U}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}}}else if(Y.allowSetting&&qZ(X)){var A=X,V,N,E=Object.keys(A);Y.beforeSet(q,A);for(var j=0;j<E.length;j++){V=E[j],N=A[V];var C=!Y.immutableKeys[V];if(C)for(var $=0;$<G.length;$++){var k=G[$];if(Y.canSet(k))k._private[Y.field][V]=N}}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}else if(Y.allowBinding&&wJ(X)){var w=X;q.on(Y.bindingEvent,w)}else if(Y.allowGetting&&X===void 0){var P;if(z)Y.beforeGet(z),P=z._private[Y.field];return P}return q}},removeData:function(J){var Q={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return J=Y9({},Q,J),function(X){var U=J,Y=this,q=Y.length!==void 0,W=q?Y:[Y];if(Z9(X)){var G=X.split(/\s+/),z=G.length;for(var H=0;H<z;H++){var F=G[H];if(Vq(F))continue;var M=!U.immutableKeys[F];if(M)for(var B=0,O=W.length;B<O;B++)W[B]._private[U.field][F]=void 0}if(U.triggerEvent)Y[U.triggerFnName](U.event)}else if(X===void 0){for(var R=0,D=W.length;R<D;R++){var L=W[R]._private[U.field],A=Object.keys(L);for(var V=0;V<A.length;V++){var N=A[V],E=!U.immutableKeys[N];if(E)L[N]=void 0}}if(U.triggerEvent)Y[U.triggerFnName](U.event)}return Y}}},xM8={eventAliasesOn:function(J){var Q=J;Q.addListener=Q.listen=Q.bind=Q.on,Q.unlisten=Q.unbind=Q.off=Q.removeListener,Q.trigger=Q.emit,Q.pon=Q.promiseOn=function(K,X){var U=this,Y=Array.prototype.slice.call(arguments,0);return new jF(function(q,W){var G=function(M){U.off.apply(U,H),q(M)},z=Y.concat([G]),H=z.concat([]);U.on.apply(U,z)})}}},AZ={};[gF8,vM8,xM8].forEach(function(Z){Y9(AZ,Z)});bM8={animate:AZ.animate(),animation:AZ.animation(),animated:AZ.animated(),clearQueue:AZ.clearQueue(),delay:AZ.delay(),delayAnimation:AZ.delayAnimation(),stop:AZ.stop()},OS={classes:function(J){var Q=this;if(J===void 0){var K=[];return Q[0]._private.classes.forEach(function(B){return K.push(B)}),K}else if(!uZ(J))J=(J||"").match(/\S+/g)||[];var X=[],U=new PF(J);for(var Y=0;Y<Q.length;Y++){var q=Q[Y],W=q._private,G=W.classes,z=!1;for(var H=0;H<J.length;H++){var F=J[H],M=G.has(F);if(!M){z=!0;break}}if(!z)z=G.size!==J.length;if(z)W.classes=U,X.push(q)}if(X.length>0)this.spawn(X).updateStyle().emit("class");return Q},addClass:function(J){return this.toggleClass(J,!0)},hasClass:function(J){var Q=this[0];return Q!=null&&Q._private.classes.has(J)},toggleClass:function(J,Q){if(!uZ(J))J=J.match(/\S+/g)||[];var K=this,X=Q===void 0,U=[];for(var Y=0,q=K.length;Y<q;Y++){var W=K[Y],G=W._private.classes,z=!1;for(var H=0;H<J.length;H++){var F=J[H],M=G.has(F),B=!1;if(Q||X&&!M)G.add(F),B=!0;else if(!Q||X&&M)G.delete(F),B=!0;if(!z&&B)U.push(W),z=!0}}if(U.length>0)this.spawn(U).updateStyle().emit("class");return K},removeClass:function(J){return this.toggleClass(J,!1)},flashClass:function(J,Q){var K=this;if(Q==null)Q=250;else if(Q===0)return K;return K.addClass(J),setTimeout(function(){K.removeClass(J)},Q),K}};OS.className=OS.classNames=OS.classes;YZ={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:A7,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};YZ.variable="(?:[\\w-.]|(?:\\\\"+YZ.metaChar+"))+";YZ.className="(?:[\\w-]|(?:\\\\"+YZ.metaChar+"))+";YZ.value=YZ.string+"|"+YZ.number;YZ.id=YZ.variable;(function(){var Z,J,Q;Z=YZ.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++)J=Z[Q],YZ.comparatorOp+="|@"+J;Z=YZ.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++){if(J=Z[Q],J.indexOf("!")>=0)continue;if(J==="=")continue;YZ.comparatorOp+="|\\!"+J}})();m8={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},qi=[{selector:":selected",matches:function(J){return J.selected()}},{selector:":unselected",matches:function(J){return!J.selected()}},{selector:":selectable",matches:function(J){return J.selectable()}},{selector:":unselectable",matches:function(J){return!J.selectable()}},{selector:":locked",matches:function(J){return J.locked()}},{selector:":unlocked",matches:function(J){return!J.locked()}},{selector:":visible",matches:function(J){return J.visible()}},{selector:":hidden",matches:function(J){return!J.visible()}},{selector:":transparent",matches:function(J){return J.transparent()}},{selector:":grabbed",matches:function(J){return J.grabbed()}},{selector:":free",matches:function(J){return!J.grabbed()}},{selector:":removed",matches:function(J){return J.removed()}},{selector:":inside",matches:function(J){return!J.removed()}},{selector:":grabbable",matches:function(J){return J.grabbable()}},{selector:":ungrabbable",matches:function(J){return!J.grabbable()}},{selector:":animated",matches:function(J){return J.animated()}},{selector:":unanimated",matches:function(J){return!J.animated()}},{selector:":parent",matches:function(J){return J.isParent()}},{selector:":childless",matches:function(J){return J.isChildless()}},{selector:":child",matches:function(J){return J.isChild()}},{selector:":orphan",matches:function(J){return J.isOrphan()}},{selector:":nonorphan",matches:function(J){return J.isChild()}},{selector:":compound",matches:function(J){if(J.isNode())return J.isParent();else return J.source().isParent()||J.target().isParent()}},{selector:":loop",matches:function(J){return J.isLoop()}},{selector:":simple",matches:function(J){return J.isSimple()}},{selector:":active",matches:function(J){return J.active()}},{selector:":inactive",matches:function(J){return!J.active()}},{selector:":backgrounding",matches:function(J){return J.backgrounding()}},{selector:":nonbackgrounding",matches:function(J){return!J.backgrounding()}}].sort(function(Z,J){return vH8(Z.selector,J.selector)}),yM8=function(){var Z={},J;for(var Q=0;Q<qi.length;Q++)J=qi[Q],Z[J.selector]=J.matches;return Z}(),mM8="("+qi.map(function(Z){return Z.selector}).join("|")+")",Wi=[{name:"group",query:!0,regex:"("+YZ.group+")",populate:function(J,Q,K){var X=X7(K,1),U=X[0];Q.checks.push({type:m8.GROUP,value:U==="*"?U:U+"s"})}},{name:"state",query:!0,regex:mM8,populate:function(J,Q,K){var X=X7(K,1),U=X[0];Q.checks.push({type:m8.STATE,value:U})}},{name:"id",query:!0,regex:"\\#("+YZ.id+")",populate:function(J,Q,K){var X=X7(K,1),U=X[0];Q.checks.push({type:m8.ID,value:YF(U)})}},{name:"className",query:!0,regex:"\\.("+YZ.className+")",populate:function(J,Q,K){var X=X7(K,1),U=X[0];Q.checks.push({type:m8.CLASS,value:YF(U)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+YZ.variable+")\\s*\\]",populate:function(J,Q,K){var X=X7(K,1),U=X[0];Q.checks.push({type:m8.DATA_EXIST,field:YF(U)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+YZ.variable+")\\s*("+YZ.comparatorOp+")\\s*("+YZ.value+")\\s*\\]",populate:function(J,Q,K){var X=X7(K,3),U=X[0],Y=X[1],q=X[2],W=new RegExp("^"+YZ.string+"$").exec(q)!=null;if(W)q=q.substring(1,q.length-1);else q=parseFloat(q);Q.checks.push({type:m8.DATA_COMPARE,field:YF(U),operator:Y,value:q})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+YZ.boolOp+")\\s*("+YZ.variable+")\\s*\\]",populate:function(J,Q,K){var X=X7(K,2),U=X[0],Y=X[1];Q.checks.push({type:m8.DATA_BOOL,field:YF(Y),operator:U})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+YZ.meta+")\\s*("+YZ.comparatorOp+")\\s*("+YZ.number+")\\s*\\]\\]",populate:function(J,Q,K){var X=X7(K,3),U=X[0],Y=X[1],q=X[2];Q.checks.push({type:m8.META_COMPARE,field:YF(U),operator:Y,value:parseFloat(q)})}},{name:"nextQuery",separator:!0,regex:YZ.separator,populate:function(J,Q){var{currentSubject:K,edgeCount:X,compoundCount:U}=J,Y=J[J.length-1];if(K!=null)Y.subject=K,J.currentSubject=null;Y.edgeCount=X,Y.compoundCount=U,J.edgeCount=0,J.compoundCount=0;var q=J[J.length++]=vZ();return q}},{name:"directedEdge",separator:!0,regex:YZ.directedEdge,populate:function(J,Q){if(J.currentSubject==null){var K=vZ(),X=Q,U=vZ();return K.checks.push({type:m8.DIRECTED_EDGE,source:X,target:U}),Oq(J,Q,K),J.edgeCount++,U}else{var Y=vZ(),q=Q,W=vZ();return Y.checks.push({type:m8.NODE_SOURCE,source:q,target:W}),Oq(J,Q,Y),J.edgeCount++,W}}},{name:"undirectedEdge",separator:!0,regex:YZ.undirectedEdge,populate:function(J,Q){if(J.currentSubject==null){var K=vZ(),X=Q,U=vZ();return K.checks.push({type:m8.UNDIRECTED_EDGE,nodes:[X,U]}),Oq(J,Q,K),J.edgeCount++,U}else{var Y=vZ(),q=Q,W=vZ();return Y.checks.push({type:m8.NODE_NEIGHBOR,node:q,neighbor:W}),Oq(J,Q,Y),W}}},{name:"child",separator:!0,regex:YZ.child,populate:function(J,Q){if(J.currentSubject==null){var K=vZ(),X=vZ(),U=J[J.length-1];return K.checks.push({type:m8.CHILD,parent:U,child:X}),Oq(J,Q,K),J.compoundCount++,X}else if(J.currentSubject===Q){var Y=vZ(),q=J[J.length-1],W=vZ(),G=vZ(),z=vZ(),H=vZ();return Y.checks.push({type:m8.COMPOUND_SPLIT,left:q,right:W,subject:G}),G.checks=Q.checks,Q.checks=[{type:m8.TRUE}],H.checks.push({type:m8.TRUE}),W.checks.push({type:m8.PARENT,parent:H,child:z}),Oq(J,q,Y),J.currentSubject=G,J.compoundCount++,z}else{var F=vZ(),M=vZ(),B=[{type:m8.PARENT,parent:F,child:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"descendant",separator:!0,regex:YZ.descendant,populate:function(J,Q){if(J.currentSubject==null){var K=vZ(),X=vZ(),U=J[J.length-1];return K.checks.push({type:m8.DESCENDANT,ancestor:U,descendant:X}),Oq(J,Q,K),J.compoundCount++,X}else if(J.currentSubject===Q){var Y=vZ(),q=J[J.length-1],W=vZ(),G=vZ(),z=vZ(),H=vZ();return Y.checks.push({type:m8.COMPOUND_SPLIT,left:q,right:W,subject:G}),G.checks=Q.checks,Q.checks=[{type:m8.TRUE}],H.checks.push({type:m8.TRUE}),W.checks.push({type:m8.ANCESTOR,ancestor:H,descendant:z}),Oq(J,q,Y),J.currentSubject=G,J.compoundCount++,z}else{var F=vZ(),M=vZ(),B=[{type:m8.ANCESTOR,ancestor:F,descendant:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"subject",modifier:!0,regex:YZ.subject,populate:function(J,Q){if(J.currentSubject!=null&&J.currentSubject!==Q)return NZ("Redefinition of subject in selector `"+J.toString()+"`"),!1;J.currentSubject=Q;var K=J[J.length-1],X=K.checks[0],U=X==null?null:X.type;if(U===m8.DIRECTED_EDGE)X.type=m8.NODE_TARGET;else if(U===m8.UNDIRECTED_EDGE)X.type=m8.NODE_NEIGHBOR,X.node=X.nodes[1],X.neighbor=X.nodes[0],X.nodes=null}}];Wi.forEach(function(Z){return Z.regexObj=new RegExp("^"+Z.regex)});lM8={parse:pM8,toString:cM8},mJ=[];mJ[m8.GROUP]=function(Z,J){var Q=Z.value;return Q==="*"||Q===J.group()};mJ[m8.STATE]=function(Z,J){var Q=Z.value;return hM8(Q,J)};mJ[m8.ID]=function(Z,J){var Q=Z.value;return J.id()===Q};mJ[m8.CLASS]=function(Z,J){var Q=Z.value;return J.hasClass(Q)};mJ[m8.META_COMPARE]=function(Z,J){var{field:Q,operator:K,value:X}=Z;return PA0(sM8(J,Q),K,X)};mJ[m8.DATA_COMPARE]=function(Z,J){var{field:Q,operator:K,value:X}=Z;return PA0(xi(J,Q),K,X)};mJ[m8.DATA_BOOL]=function(Z,J){var{field:Q,operator:K}=Z;return dM8(xi(J,Q),K)};mJ[m8.DATA_EXIST]=function(Z,J){var Q=Z.field;return Z.operator,iM8(xi(J,Q))};mJ[m8.UNDIRECTED_EDGE]=function(Z,J){var Q=Z.nodes[0],K=Z.nodes[1],X=J.source(),U=J.target();return XJ(Q,X)&&XJ(K,U)||XJ(K,X)&&XJ(Q,U)};mJ[m8.NODE_NEIGHBOR]=function(Z,J){return XJ(Z.node,J)&&J.neighborhood().some(function(Q){return Q.isNode()&&XJ(Z.neighbor,Q)})};mJ[m8.DIRECTED_EDGE]=function(Z,J){return XJ(Z.source,J.source())&&XJ(Z.target,J.target())};mJ[m8.NODE_SOURCE]=function(Z,J){return XJ(Z.source,J)&&J.outgoers().some(function(Q){return Q.isNode()&&XJ(Z.target,Q)})};mJ[m8.NODE_TARGET]=function(Z,J){return XJ(Z.target,J)&&J.incomers().some(function(Q){return Q.isNode()&&XJ(Z.source,Q)})};mJ[m8.CHILD]=function(Z,J){return XJ(Z.child,J)&&XJ(Z.parent,J.parent())};mJ[m8.PARENT]=function(Z,J){return XJ(Z.parent,J)&&J.children().some(function(Q){return XJ(Z.child,Q)})};mJ[m8.DESCENDANT]=function(Z,J){return XJ(Z.descendant,J)&&J.ancestors().some(function(Q){return XJ(Z.ancestor,Q)})};mJ[m8.ANCESTOR]=function(Z,J){return XJ(Z.ancestor,J)&&J.descendants().some(function(Q){return XJ(Z.descendant,Q)})};mJ[m8.COMPOUND_SPLIT]=function(Z,J){return XJ(Z.subject,J)&&XJ(Z.left,J)&&XJ(Z.right,J)};mJ[m8.TRUE]=function(){return!0};mJ[m8.COLLECTION]=function(Z,J){var Q=Z.value;return Q.has(J)};mJ[m8.FILTER]=function(Z,J){var Q=Z.value;return Q(J)};aM8={matches:nM8,filter:rM8},Sq=Cq.prototype;[lM8,aM8].forEach(function(Z){return Y9(Sq,Z)});Sq.text=function(){return this.inputText};Sq.size=function(){return this.length};Sq.eq=function(Z){return this[Z]};Sq.sameText=function(Z){return!this.invalid&&!Z.invalid&&this.text()===Z.text()};Sq.addQuery=function(Z){this[this.length++]=Z};Sq.selector=Sq.toString;Nq={allAre:function(J){var Q=new Cq(J);return this.every(function(K){return Q.matches(K)})},is:function(J){var Q=new Cq(J);return this.some(function(K){return Q.matches(K)})},some:function(J,Q){for(var K=0;K<this.length;K++){var X=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(X)return!0}return!1},every:function(J,Q){for(var K=0;K<this.length;K++){var X=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(!X)return!1}return!0},same:function(J){if(this===J)return!0;J=this.cy().collection(J);var Q=this.length,K=J.length;if(Q!==K)return!1;if(Q===1)return this[0]===J[0];return this.every(function(X){return J.hasElementWithId(X.id())})},anySame:function(J){return J=this.cy().collection(J),this.some(function(Q){return J.hasElementWithId(Q.id())})},allAreNeighbors:function(J){J=this.cy().collection(J);var Q=this.neighborhood();return J.every(function(K){return Q.hasElementWithId(K.id())})},contains:function(J){J=this.cy().collection(J);var Q=this;return J.every(function(K){return Q.hasElementWithId(K.id())})}};Nq.allAreNeighbours=Nq.allAreNeighbors;Nq.has=Nq.contains;Nq.equal=Nq.equals=Nq.same;VF={parent:function(J){var Q=[];if(this.length===1){var K=this[0]._private.parent;if(K)return K}for(var X=0;X<this.length;X++){var U=this[X],Y=U._private.parent;if(Y)Q.push(Y)}return this.spawn(Q,!0).filter(J)},parents:function(J){var Q=[],K=this.parent();while(K.nonempty()){for(var X=0;X<K.length;X++){var U=K[X];Q.push(U)}K=K.parent()}return this.spawn(Q,!0).filter(J)},commonAncestors:function(J){var Q;for(var K=0;K<this.length;K++){var X=this[K],U=X.parents();Q=Q||U,Q=Q.intersect(U)}return Q.filter(J)},orphans:function(J){return this.stdFilter(function(Q){return Q.isOrphan()}).filter(J)},nonorphans:function(J){return this.stdFilter(function(Q){return Q.isChild()}).filter(J)},children:AK(function(Z){var J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],X=K._private.children;for(var U=0;U<X.length;U++)J.push(X[U])}return this.spawn(J,!0).filter(Z)},"children"),siblings:function(J){return this.parent().children().not(this).filter(J)},isParent:function(){var J=this[0];if(J)return J.isNode()&&J._private.children.length!==0},isChildless:function(){var J=this[0];if(J)return J.isNode()&&J._private.children.length===0},isChild:function(){var J=this[0];if(J)return J.isNode()&&J._private.parent!=null},isOrphan:function(){var J=this[0];if(J)return J.isNode()&&J._private.parent==null},descendants:function(J){var Q=[];function K(X){for(var U=0;U<X.length;U++){var Y=X[U];if(Q.push(Y),Y.children().nonempty())K(Y.children())}}return K(this.children()),this.spawn(Q,!0).filter(J)}};VF.forEachDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bi(this,Z,J,jA0)};VF.forEachUp=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bi(this,Z,J,CA0)};VF.forEachUpAndDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bi(this,Z,J,oM8)};VF.ancestors=VF.parents;IL=SA0={data:AZ.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:AZ.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:AZ.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:AZ.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:AZ.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:AZ.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var J=this[0];if(J)return J._private.data.id}};IL.attr=IL.data;IL.removeAttr=IL.removeData;tM8=SA0,iS={};Y9(iS,{degree:pd(function(Z,J){if(J.source().same(J.target()))return 2;else return 1}),indegree:pd(function(Z,J){if(J.target().same(Z))return 1;else return 0}),outdegree:pd(function(Z,J){if(J.source().same(Z))return 1;else return 0})});Y9(iS,{minDegree:qF("degree",function(Z,J){return Z<J}),maxDegree:qF("degree",function(Z,J){return Z>J}),minIndegree:qF("indegree",function(Z,J){return Z<J}),maxIndegree:qF("indegree",function(Z,J){return Z>J}),minOutdegree:qF("outdegree",function(Z,J){return Z<J}),maxOutdegree:qF("outdegree",function(Z,J){return Z>J})});Y9(iS,{totalDegree:function(J){var Q=0,K=this.nodes();for(var X=0;X<K.length;X++)Q+=K[X].degree(J);return Q}});iL0={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(J){J.updateCompoundBounds()},beforeSet:function(J,Q){wA0(J,Q,!1)},onSet:function(J){J.dirtyCompoundBoundsCache()},canSet:function(J){return!J.locked()}};V5=TA0={position:AZ.data(iL0),silentPosition:AZ.data(Y9({},iL0,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(J,Q){wA0(J,Q,!0)},onSet:function(J){J.dirtyCompoundBoundsCache()}})),positions:function(J,Q){if(qZ(J))if(Q)this.silentPosition(J);else this.position(J);else if(wJ(J)){var K=J,X=this.cy();X.startBatch();for(var U=0;U<this.length;U++){var Y=this[U],q=void 0;if(q=K(Y,U))if(Q)Y.silentPosition(q);else Y.position(q)}X.endBatch()}return this},silentPositions:function(J){return this.positions(J,!0)},shift:function(J,Q,K){var X;if(qZ(J))X={x:P8(J.x)?J.x:0,y:P8(J.y)?J.y:0},K=Q;else if(Z9(J)&&P8(Q))X={x:0,y:0},X[J]=Q;if(X!=null){var U=this.cy();U.startBatch();for(var Y=0;Y<this.length;Y++){var q=this[Y];if(U.hasCompoundNodes()&&q.isChild()&&q.ancestors().anySame(this))continue;var W=q.position(),G={x:W.x+X.x,y:W.y+X.y};if(K)q.silentPosition(G);else q.position(G)}U.endBatch()}return this},silentShift:function(J,Q){if(qZ(J))this.shift(J,!0);else if(Z9(J)&&P8(Q))this.shift(J,Q,!0);return this},renderedPosition:function(J,Q){var K=this[0],X=this.cy(),U=X.zoom(),Y=X.pan(),q=qZ(J)?J:void 0,W=q!==void 0||Q!==void 0&&Z9(J);if(K&&K.isNode())if(W)for(var G=0;G<this.length;G++){var z=this[G];if(Q!==void 0)z.position(J,(Q-Y[J])/U);else if(q!==void 0)z.position(KA0(q,U,Y))}else{var H=K.position();if(q=uS(H,U,Y),J===void 0)return q;else return q[J]}else if(!W)return;return this},relativePosition:function(J,Q){var K=this[0],X=this.cy(),U=qZ(J)?J:void 0,Y=U!==void 0||Q!==void 0&&Z9(J),q=X.hasCompoundNodes();if(K&&K.isNode())if(Y)for(var W=0;W<this.length;W++){var G=this[W],z=q?G.parent():null,H=z&&z.length>0,F=H;if(H)z=z[0];var M=F?z.position():{x:0,y:0};if(Q!==void 0)G.position(J,Q+M[J]);else if(U!==void 0)G.position({x:U.x+M.x,y:U.y+M.y})}else{var B=K.position(),O=q?K.parent():null,R=O&&O.length>0,D=R;if(R)O=O[0];var L=D?O.position():{x:0,y:0};if(U={x:B.x-L.x,y:B.y-L.y},J===void 0)return U;else return U[J]}else if(!Y)return;return this}};V5.modelPosition=V5.point=V5.position;V5.modelPositions=V5.points=V5.positions;V5.renderedPoint=V5.renderedPosition;V5.relativePoint=V5.relativePosition;eM8=TA0;AF=kq={};kq.renderedBoundingBox=function(Z){var J=this.boundingBox(Z),Q=this.cy(),K=Q.zoom(),X=Q.pan(),U=J.x1*K+X.x,Y=J.x2*K+X.x,q=J.y1*K+X.y,W=J.y2*K+X.y;return{x1:U,x2:Y,y1:q,y2:W,w:Y-U,h:W-q}};kq.dirtyCompoundBoundsCache=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;return this.forEachUp(function(Q){if(Q.isParent()){var K=Q._private;if(K.compoundBoundsClean=!1,K.bbCache=null,!Z)Q.emitAndNotify("bounds")}}),this};kq.updateCompoundBounds=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;if(!Z&&J.batching())return this;function Q(Y){if(!Y.isParent())return;var q=Y._private,W=Y.children(),G=Y.pstyle("compound-sizing-wrt-labels").value==="include",z={width:{val:Y.pstyle("min-width").pfValue,left:Y.pstyle("min-width-bias-left"),right:Y.pstyle("min-width-bias-right")},height:{val:Y.pstyle("min-height").pfValue,top:Y.pstyle("min-height-bias-top"),bottom:Y.pstyle("min-height-bias-bottom")}},H=W.boundingBox({includeLabels:G,includeOverlays:!1,useCache:!1}),F=q.position;if(H.w===0||H.h===0)H={w:Y.pstyle("width").pfValue,h:Y.pstyle("height").pfValue},H.x1=F.x-H.w/2,H.x2=F.x+H.w/2,H.y1=F.y-H.h/2,H.y2=F.y+H.h/2;function M($,k,w){var P=0,T=0,S=k+w;if($>0&&S>0)P=k/S*$,T=w/S*$;return{biasDiff:P,biasComplementDiff:T}}function B($,k,w,P){if(w.units==="%")switch(P){case"width":return $>0?w.pfValue*$:0;case"height":return k>0?w.pfValue*k:0;case"average":return $>0&&k>0?w.pfValue*($+k)/2:0;case"min":return $>0&&k>0?$>k?w.pfValue*k:w.pfValue*$:0;case"max":return $>0&&k>0?$>k?w.pfValue*$:w.pfValue*k:0;default:return 0}else if(w.units==="px")return w.pfValue;else return 0}var O=z.width.left.value;if(z.width.left.units==="px"&&z.width.val>0)O=O*100/z.width.val;var R=z.width.right.value;if(z.width.right.units==="px"&&z.width.val>0)R=R*100/z.width.val;var D=z.height.top.value;if(z.height.top.units==="px"&&z.height.val>0)D=D*100/z.height.val;var L=z.height.bottom.value;if(z.height.bottom.units==="px"&&z.height.val>0)L=L*100/z.height.val;var A=M(z.width.val-H.w,O,R),V=A.biasDiff,N=A.biasComplementDiff,E=M(z.height.val-H.h,D,L),j=E.biasDiff,C=E.biasComplementDiff;q.autoPadding=B(H.w,H.h,Y.pstyle("padding"),Y.pstyle("padding-relative-to").value),q.autoWidth=Math.max(H.w,z.width.val),F.x=(-V+H.x1+H.x2+N)/2,q.autoHeight=Math.max(H.h,z.height.val),F.y=(-j+H.y1+H.y2+C)/2}for(var K=0;K<this.length;K++){var X=this[K],U=X._private;if(!U.compoundBoundsClean||Z){if(Q(X),!J.batching())U.compoundBoundsClean=!0}}return this};AL={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},nL0=kA0(AL),aL0=FQ(AL);kq.boundingBox=function(Z){var J,Q=Z===void 0||Z.useCache===void 0||Z.useCache===!0,K=NF(function(z){var H=z._private;return H.bbCache==null||H.styleDirty||H.bbCachePosKey!==_A0(z)},function(z){return z.id()});if(Q&&this.length===1&&!K(this[0])){if(Z===void 0)Z=AL;else Z=aL0(Z);J=rL0(this[0],Z)}else{J=q6(),Z=Z||AL;var X=aL0(Z),U=this,Y=U.cy(),q=Y.styleEnabled();if(this.edges().forEach(K),this.nodes().forEach(K),q)this.recalculateRenderedStyle(Q);this.updateCompoundBounds(!Q);for(var W=0;W<U.length;W++){var G=U[W];if(K(G))G.dirtyBoundingBoxCache();Dq(J,rL0(G,X))}}return J.x1=IK(J.x1),J.y1=IK(J.y1),J.x2=IK(J.x2),J.y2=IK(J.y2),J.w=IK(J.x2-J.x1),J.h=IK(J.y2-J.y1),J};kq.dirtyBoundingBoxCache=function(){for(var Z=0;Z<this.length;Z++){var J=this[Z]._private;J.bbCache=null,J.bbCachePosKey=null,J.bodyBounds=null,J.overlayBounds=null,J.labelBounds.all=null,J.labelBounds.source=null,J.labelBounds.target=null,J.labelBounds.main=null,J.labelBounds.sourceRot=null,J.labelBounds.targetRot=null,J.labelBounds.mainRot=null,J.arrowBounds.source=null,J.arrowBounds.target=null,J.arrowBounds["mid-source"]=null,J.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};kq.boundingBoxAt=function(Z){var J=this.nodes(),Q=this.cy(),K=Q.hasCompoundNodes(),X=Q.collection();if(K)X=J.filter(function(G){return G.isParent()}),J=J.not(X);if(qZ(Z)){var U=Z;Z=function(){return U}}var Y=function(z,H){return z._private.bbAtOldPos=Z(z,H)},q=function(z){return z._private.bbAtOldPos};if(Q.startBatch(),J.forEach(Y).silentPositions(Z),K)X.dirtyCompoundBoundsCache(),X.dirtyBoundingBoxCache(),X.updateCompoundBounds(!0);var W=x28(this.boundingBox({useCache:!1}));if(J.silentPositions(q),K)X.dirtyCompoundBoundsCache(),X.dirtyBoundingBoxCache(),X.updateCompoundBounds(!0);return Q.endBatch(),W};AF.boundingbox=AF.bb=AF.boundingBox;AF.renderedBoundingbox=AF.renderedBoundingBox;QB8=kq;GL=kL={};fA0({name:"width"});fA0({name:"height"});kL.padding=function(){var Z=this[0],J=Z._private;if(Z.isParent())if(Z.updateCompoundBounds(),J.autoPadding!==void 0)return J.autoPadding;else return Z.pstyle("padding").pfValue;else return Z.pstyle("padding").pfValue};kL.paddedHeight=function(){var Z=this[0];return Z.height()+2*Z.padding()};kL.paddedWidth=function(){var Z=this[0];return Z.width()+2*Z.padding()};KB8=kL,oL0={controlPoints:{get:qB8,mult:!0},segmentPoints:{get:WB8,mult:!0},sourceEndpoint:{get:GB8},targetEndpoint:{get:zB8},midpoint:{get:HB8}},MB8=Object.keys(oL0).reduce(function(Z,J){var Q=oL0[J],K=FB8(J);if(Z[J]=function(){return XB8(this,Q.get)},Q.mult)Z[K]=function(){return YB8(this,Q.get)};else Z[K]=function(){return UB8(this,Q.get)};return Z},{}),BB8=Y9({},eM8,QB8,KB8,MB8);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/vA0.prototype={instanceString:function(){return"event"},recycle:function(J,Q){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=KL,J!=null&&J.preventDefault)this.type=J.type,this.isDefaultPrevented=J.defaultPrevented?YS:KL;else if(J!=null&&J.type)Q=J;else this.type=J;if(Q!=null)this.originalEvent=Q.originalEvent,this.type=Q.type!=null?Q.type:this.type,this.cy=Q.cy,this.target=Q.target,this.position=Q.position,this.renderedPosition=Q.renderedPosition,this.namespace=Q.namespace,this.layout=Q.layout;if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var K=this.position,X=this.cy.zoom(),U=this.cy.pan();this.renderedPosition={x:K.x*X+U.x,y:K.y*X+U.y}}this.timeStamp=J&&J.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=YS;var J=this.originalEvent;if(!J)return;if(J.preventDefault)J.preventDefault()},stopPropagation:function(){this.isPropagationStopped=YS;var J=this.originalEvent;if(!J)return;if(J.stopPropagation)J.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=YS,this.stopPropagation()},isDefaultPrevented:KL,isPropagationStopped:KL,isImmediatePropagationStopped:KL};xA0=/^([^.]+)(\.(?:[^.]+))?$/,bA0={qualifierCompare:function(J,Q){return J===Q},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(J){return J},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},tL0=Object.keys(bA0),RB8={};Tq=sS.prototype;Tq.on=Tq.addListener=function(Z,J,Q,K,X){return yA0(this,function(U,Y,q,W,G,z,H){if(wJ(z))U.listeners.push({event:Y,callback:z,type:q,namespace:W,qualifier:G,conf:H})},Z,J,Q,K,X),this};Tq.one=function(Z,J,Q,K){return this.on(Z,J,Q,K,{one:!0})};Tq.removeListener=Tq.off=function(Z,J,Q,K){var X=this;if(this.emitting!==0)this.listeners=U28(this.listeners);var U=this.listeners,Y=function(G){var z=U[G];yA0(X,function(H,F,M,B,O,R){if((z.type===M||Z==="*")&&(!B&&z.namespace!==".*"||z.namespace===B)&&(!O||H.qualifierCompare(z.qualifier,O))&&(!R||z.callback===R))return U.splice(G,1),!1},Z,J,Q,K)};for(var q=U.length-1;q>=0;q--)Y(q);return this};Tq.removeAllListeners=function(){return this.removeListener("*")};Tq.emit=Tq.trigger=function(Z,J,Q){var K=this.listeners,X=K.length;if(this.emitting++,!uZ(J))J=[J];return DB8(this,function(U,Y){if(Q!=null)K=[{event:Y.event,type:Y.type,namespace:Y.namespace,callback:Q}],X=K.length;var q=function(){var z=K[W];if(z.type===Y.type&&(!z.namespace||z.namespace===Y.namespace||z.namespace===OB8)&&U.eventMatches(U.context,z,Y)){var H=[Y];if(J!=null)q28(H,J);if(U.beforeEmit(U.context,z,Y),z.conf&&z.conf.one)U.listeners=U.listeners.filter(function(B){return B!==z});var F=U.callbackContext(U.context,z,Y),M=z.callback.apply(F,H);if(U.afterEmit(U.context,z,Y),M===!1)Y.stopPropagation(),Y.preventDefault()}};for(var W=0;W<X;W++)q();if(U.bubble(U.context)&&!Y.isPropagationStopped())U.parent(U.context).emit(Y,J)},Z),this.emitting--,this};LB8={qualifierCompare:function(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function(J,Q,K){var X=Q.qualifier;if(X!=null)return J!==K.target&&jL(K.target)&&X.matches(K.target);return!0},addEventFields:function(J,Q){Q.cy=J.cy(),Q.target=J},callbackContext:function(J,Q,K){return Q.qualifier!=null?K.target:J},beforeEmit:function(J,Q){if(Q.conf&&Q.conf.once)Q.conf.onceCollection.removeListener(Q.event,Q.qualifier,Q.callback)},bubble:function(){return!0},parent:function(J){return J.isChild()?J.parent():J.cy()}},hA0={createEmitter:function(){for(var J=0;J<this.length;J++){var Q=this[J],K=Q._private;if(!K.emitter)K.emitter=new sS(LB8,Q)}return this},emitter:function(){return this._private.emitter},on:function(J,Q,K){var X=qS(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().on(J,X,K)}return this},removeListener:function(J,Q,K){var X=qS(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().removeListener(J,X,K)}return this},removeAllListeners:function(){for(var J=0;J<this.length;J++){var Q=this[J];Q.emitter().removeAllListeners()}return this},one:function(J,Q,K){var X=qS(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().one(J,X,K)}return this},once:function(J,Q,K){var X=qS(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().on(J,X,K,{once:!0,onceCollection:this})}},emit:function(J,Q){for(var K=0;K<this.length;K++){var X=this[K];X.emitter().emit(J,Q)}return this},emitAndNotify:function(J,Q){if(this.length===0)return;return this.cy().notify(J,this),this.emit(J,Q),this}};AZ.eventAliasesOn(hA0);mA0={nodes:function(J){return this.filter(function(Q){return Q.isNode()}).filter(J)},edges:function(J){return this.filter(function(Q){return Q.isEdge()}).filter(J)},byGroup:function(){var J=this.spawn(),Q=this.spawn();for(var K=0;K<this.length;K++){var X=this[K];if(X.isNode())J.push(X);else Q.push(X)}return{nodes:J,edges:Q}},filter:function(J,Q){if(J===void 0)return this;else if(Z9(J)||y4(J))return new Cq(J).filter(this);else if(wJ(J)){var K=this.spawn(),X=this;for(var U=0;U<X.length;U++){var Y=X[U],q=Q?J.apply(Q,[Y,U,X]):J(Y,U,X);if(q)K.push(Y)}return K}return this.spawn()},not:function(J){if(!J)return this;else{if(Z9(J))J=this.filter(J);var Q=this.spawn();for(var K=0;K<this.length;K++){var X=this[K],U=J.has(X);if(!U)Q.push(X)}return Q}},absoluteComplement:function(){var J=this.cy();return J.mutableElements().not(this)},intersect:function(J){if(Z9(J)){var Q=J;return this.filter(Q)}var K=this.spawn(),X=this,U=J,Y=this.length<J.length,q=Y?X:U,W=Y?U:X;for(var G=0;G<q.length;G++){var z=q[G];if(W.has(z))K.push(z)}return K},xor:function(J){var Q=this._private.cy;if(Z9(J))J=Q.$(J);var K=this.spawn(),X=this,U=J,Y=function(W,G){for(var z=0;z<W.length;z++){var H=W[z],F=H._private.data.id,M=G.hasElementWithId(F);if(!M)K.push(H)}};return Y(X,U),Y(U,X),K},diff:function(J){var Q=this._private.cy;if(Z9(J))J=Q.$(J);var K=this.spawn(),X=this.spawn(),U=this.spawn(),Y=this,q=J,W=function(z,H,F){for(var M=0;M<z.length;M++){var B=z[M],O=B._private.data.id,R=H.hasElementWithId(O);if(R)U.merge(B);else F.push(B)}};return W(Y,q,K),W(q,Y,X),{left:K,right:X,both:U}},add:function(J){var Q=this._private.cy;if(!J)return this;if(Z9(J)){var K=J;J=Q.mutableElements().filter(K)}var X=this.spawnSelf();for(var U=0;U<J.length;U++){var Y=J[U],q=!this.has(Y);if(q)X.push(Y)}return X},merge:function(J){var Q=this._private,K=Q.cy;if(!J)return this;if(J&&Z9(J)){var X=J;J=K.mutableElements().filter(X)}var U=Q.map;for(var Y=0;Y<J.length;Y++){var q=J[Y],W=q._private.data.id,G=!U.has(W);if(G){var z=this.length++;this[z]=q,U.set(W,{ele:q,index:z})}}return this},unmergeAt:function(J){var Q=this[J],K=Q.id(),X=this._private,U=X.map;this[J]=void 0,U.delete(K);var Y=J===this.length-1;if(this.length>1&&!Y){var q=this.length-1,W=this[q],G=W._private.data.id;this[q]=void 0,this[J]=W,U.set(G,{ele:W,index:J})}return this.length--,this},unmergeOne:function(J){J=J[0];var Q=this._private,K=J._private.data.id,X=Q.map,U=X.get(K);if(!U)return this;var Y=U.index;return this.unmergeAt(Y),this},unmerge:function(J){var Q=this._private.cy;if(!J)return this;if(J&&Z9(J)){var K=J;J=Q.mutableElements().filter(K)}for(var X=0;X<J.length;X++)this.unmergeOne(J[X]);return this},unmergeBy:function(J){for(var Q=this.length-1;Q>=0;Q--){var K=this[Q];if(J(K))this.unmergeAt(Q)}return this},map:function(J,Q){var K=[],X=this;for(var U=0;U<X.length;U++){var Y=X[U],q=Q?J.apply(Q,[Y,U,X]):J(Y,U,X);K.push(q)}return K},reduce:function(J,Q){var K=Q,X=this;for(var U=0;U<X.length;U++)K=J(K,X[U],U,X);return K},max:function(J,Q){var K=-1/0,X,U=this;for(var Y=0;Y<U.length;Y++){var q=U[Y],W=Q?J.apply(Q,[q,Y,U]):J(q,Y,U);if(W>K)K=W,X=q}return{value:K,ele:X}},min:function(J,Q){var K=1/0,X,U=this;for(var Y=0;Y<U.length;Y++){var q=U[Y],W=Q?J.apply(Q,[q,Y,U]):J(q,Y,U);if(W<K)K=W,X=q}return{value:K,ele:X}}},BZ=mA0;BZ.u=BZ["|"]=BZ["+"]=BZ.union=BZ.or=BZ.add;BZ["\\"]=BZ["!"]=BZ["-"]=BZ.difference=BZ.relativeComplement=BZ.subtract=BZ.not;BZ.n=BZ["&"]=BZ["."]=BZ.and=BZ.intersection=BZ.intersect;BZ["^"]=BZ["(+)"]=BZ["(-)"]=BZ.symmetricDifference=BZ.symdiff=BZ.xor;BZ.fnFilter=BZ.filterFn=BZ.stdFilter=BZ.filter;BZ.complement=BZ.abscomp=BZ.absoluteComplement;IB8={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var J=this[0];if(J)return J._private.group}},$S={forEach:function(J,Q){if(wJ(J)){var K=this.length;for(var X=0;X<K;X++){var U=this[X],Y=Q?J.apply(Q,[U,X,this]):J(U,X,this);if(Y===!1)break}}return this},toArray:function(){var J=[];for(var Q=0;Q<this.length;Q++)J.push(this[Q]);return J},slice:function(J,Q){var K=[],X=this.length;if(Q==null)Q=X;if(J==null)J=0;if(J<0)J=X+J;if(Q<0)Q=X+Q;for(var U=J;U>=0&&U<Q&&U<X;U++)K.push(this[U]);return this.spawn(K)},size:function(){return this.length},eq:function(J){return this[J]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(J){if(!wJ(J))return this;var Q=this.toArray().sort(J);return this.spawn(Q)},sortByZIndex:function(){return this.sort(uA0)},zDepth:function(){var J=this[0];if(!J)return;var Q=J._private,K=Q.group;if(K==="nodes"){var X=Q.data.parent?J.parents().size():0;if(!J.isParent())return Pi-1;return X}else{var{source:U,target:Y}=Q,q=U.zDepth(),W=Y.zDepth();return Math.max(q,W,0)}}};$S.each=$S.forEach;AB8();NB8=FQ({nodeDimensionsIncludeLabels:!1}),RS={layoutDimensions:function(J){J=NB8(J);var Q;if(!this.takesUpSpace())Q={w:0,h:0};else if(J.nodeDimensionsIncludeLabels){var K=this.boundingBox();Q={w:K.w,h:K.h}}else Q={w:this.outerWidth(),h:this.outerHeight()};if(Q.w===0||Q.h===0)Q.w=Q.h=1;return Q},layoutPositions:function(J,Q,K){var X=this.nodes().filter(function(N){return!N.isParent()}),U=this.cy(),Y=Q.eles,q=function(E){return E.id()},W=NF(K,q);J.emit({type:"layoutstart",layout:J}),J.animations=[];var G=function(E,j,C){var $={x:j.x1+j.w/2,y:j.y1+j.h/2},k={x:(C.x-$.x)*E,y:(C.y-$.y)*E};return{x:$.x+k.x,y:$.y+k.y}},z=Q.spacingFactor&&Q.spacingFactor!==1,H=function(){if(!z)return null;var E=q6();for(var j=0;j<X.length;j++){var C=X[j],$=W(C,j);XA0(E,$.x,$.y)}return E},F=H(),M=NF(function(N,E){var j=W(N,E);if(z){var C=Math.abs(Q.spacingFactor);j=G(C,F,j)}if(Q.transform!=null)j=Q.transform(N,j);return j},q);if(Q.animate){for(var B=0;B<X.length;B++){var O=X[B],R=M(O,B),D=Q.animateFilter==null||Q.animateFilter(O,B);if(D){var L=O.animation({position:R,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(L)}else O.position(R)}if(Q.fit){var A=U.animation({fit:{boundingBox:Y.boundingBoxAt(M),padding:Q.padding},duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(A)}else if(Q.zoom!==void 0&&Q.pan!==void 0){var V=U.animation({zoom:Q.zoom,pan:Q.pan,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(V)}J.animations.forEach(function(N){return N.play()}),J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),jF.all(J.animations.map(function(N){return N.promise()})).then(function(){J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})})}else{if(X.positions(M),Q.fit)U.fit(Q.eles,Q.padding);if(Q.zoom!=null)U.zoom(Q.zoom);if(Q.pan)U.pan(Q.pan);J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})}return this},layout:function(J){var Q=this.cy();return Q.makeLayout(Y9({},J,{eles:this}))}};RS.createLayout=RS.makeLayout=RS.layout;zQ={recalculateRenderedStyle:function(J){var Q=this.cy(),K=Q.renderer(),X=Q.styleEnabled();if(K&&X)K.recalculateRenderedStyle(this,J);return this},dirtyStyleCache:function(){var J=this.cy(),Q=function(U){return U._private.styleCache=null};if(J.hasCompoundNodes()){var K=this.spawnSelf().merge(this.descendants()).merge(this.parents());K.merge(K.connectedEdges()),K.forEach(Q)}else this.forEach(function(X){Q(X),X.connectedEdges().forEach(Q)});return this},updateStyle:function(J){var Q=this._private.cy;if(!Q.styleEnabled())return this;if(Q.batching()){var K=Q._private.batchStyleEles;return K.merge(this),this}var X=Q.hasCompoundNodes(),U=this;if(J=J||J===void 0?!0:!1,X)U=this.spawnSelf().merge(this.descendants()).merge(this.parents());var Y=U;if(J)Y.emitAndNotify("style");else Y.emit("style");return U.forEach(function(q){return q._private.styleDirty=!0}),this},cleanStyle:function(){var J=this.cy();if(!J.styleEnabled())return;for(var Q=0;Q<this.length;Q++){var K=this[Q];if(K._private.styleDirty)K._private.styleDirty=!1,J.style().apply(K)}},parsedStyle:function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=this[0],X=K.cy();if(!X.styleEnabled())return;if(K){if(K._private.styleDirty)K._private.styleDirty=!1,X.style().apply(K);var U=K._private.style[J];if(U!=null)return U;else if(Q)return X.style().getDefaultProperty(J);else return null}},numericStyle:function(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q){var K=Q.pstyle(J);return K.pfValue!==void 0?K.pfValue:K.value}},numericStyleUnits:function(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q)return Q.pstyle(J).units},renderedStyle:function(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=this[0];if(K)return Q.style().getRenderedStyle(K,J)},style:function(J,Q){var K=this.cy();if(!K.styleEnabled())return this;var X=!1,U=K.style();if(qZ(J)){var Y=J;U.applyBypass(this,Y,X),this.emitAndNotify("style")}else if(Z9(J))if(Q===void 0){var q=this[0];if(q)return U.getStylePropertyValue(q,J);else return}else U.applyBypass(this,J,Q,X),this.emitAndNotify("style");else if(J===void 0){var W=this[0];if(W)return U.getRawStyle(W);else return}return this},removeStyle:function(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=!1,X=Q.style(),U=this;if(J===void 0)for(var Y=0;Y<U.length;Y++){var q=U[Y];X.removeAllBypasses(q,K)}else{J=J.split(/\s+/);for(var W=0;W<U.length;W++){var G=U[W];X.removeBypasses(G,J,K)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var J=this.cy();if(!J.styleEnabled())return 1;var Q=J.hasCompoundNodes(),K=this[0];if(K){var X=K._private,U=K.pstyle("opacity").value;if(!Q)return U;var Y=!X.data.parent?null:K.parents();if(Y)for(var q=0;q<Y.length;q++){var W=Y[q],G=W.pstyle("opacity").value;U=G*U}return U}},transparent:function(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0],K=Q.cy().hasCompoundNodes();if(Q)if(!K)return Q.pstyle("opacity").value===0;else return Q.effectiveOpacity()===0},backgrounding:function(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0];return Q._private.backgrounding?!0:!1}};CF=rS("eleTakesUpSpace",function(Z){return Z.pstyle("display").value==="element"&&Z.width()!==0&&(Z.isNode()?Z.height()!==0:!0)});zQ.takesUpSpace=nS("takesUpSpace",yi({ok:CF}));EB8=rS("eleInteractive",function(Z){return Z.pstyle("events").value==="yes"&&Z.pstyle("visibility").value==="visible"&&CF(Z)}),VB8=rS("parentInteractive",function(Z){return Z.pstyle("visibility").value==="visible"&&CF(Z)});zQ.interactive=nS("interactive",yi({ok:EB8,parentOk:VB8,edgeOkViaNode:CF}));zQ.noninteractive=function(){var Z=this[0];if(Z)return!Z.interactive()};PB8=rS("eleVisible",function(Z){return Z.pstyle("visibility").value==="visible"&&Z.pstyle("opacity").pfValue!==0&&CF(Z)}),jB8=CF;zQ.visible=nS("visible",yi({ok:PB8,edgeOkViaNode:jB8}));zQ.hidden=function(){var Z=this[0];if(Z)return!Z.visible()};zQ.isBundledBezier=nS("isBundledBezier",function(){if(!this.cy().styleEnabled())return!1;return!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()});zQ.bypass=zQ.css=zQ.style;zQ.renderedCss=zQ.renderedStyle;zQ.removeBypass=zQ.removeCss=zQ.removeStyle;zQ.pstyle=zQ.parsedStyle;Eq={};SF({field:"locked",overrideField:function(J){return J.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});SF({field:"grabbable",overrideField:function(J){return J.cy().autoungrabify()||J.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});SF({field:"selected",ableField:"selectable",overrideAble:function(J){return J.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});SF({field:"selectable",overrideField:function(J){return J.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Eq.deselect=Eq.unselect;Eq.grabbed=function(){var Z=this[0];if(Z)return Z._private.grabbed};SF({field:"active",on:"activate",off:"unactivate"});SF({field:"pannable",on:"panify",off:"unpanify"});Eq.inactive=function(){var Z=this[0];if(Z)return!Z._private.active};wQ={};wQ.clearTraversalCache=function(){for(var Z=0;Z<this.length;Z++)this[Z]._private.traversalCache=null};Y9(wQ,{roots:JI0({noIncomingEdges:!0}),leaves:JI0({noOutgoingEdges:!0}),outgoers:AK(QI0({outgoing:!0}),"outgoers"),successors:KI0({outgoing:!0}),incomers:AK(QI0({incoming:!0}),"incomers"),predecessors:KI0({})});Y9(wQ,{neighborhood:AK(function(Z){var J=[],Q=this.nodes();for(var K=0;K<Q.length;K++){var X=Q[K],U=X.connectedEdges();for(var Y=0;Y<U.length;Y++){var q=U[Y],W=q.source(),G=q.target(),z=X===W?G:W;if(z.length>0)J.push(z[0]);J.push(q[0])}}return this.spawn(J,!0).filter(Z)},"neighborhood"),closedNeighborhood:function(J){return this.neighborhood().add(this).filter(J)},openNeighborhood:function(J){return this.neighborhood(J)}});wQ.neighbourhood=wQ.neighborhood;wQ.closedNeighbourhood=wQ.closedNeighborhood;wQ.openNeighbourhood=wQ.openNeighborhood;Y9(wQ,{source:AK(function(J){var Q=this[0],K;if(Q)K=Q._private.source||Q.cy().collection();return K&&J?K.filter(J):K},"source"),target:AK(function(J){var Q=this[0],K;if(Q)K=Q._private.target||Q.cy().collection();return K&&J?K.filter(J):K},"target"),sources:XI0({attr:"source"}),targets:XI0({attr:"target"})});Y9(wQ,{edgesWith:AK(UI0(),"edgesWith"),edgesTo:AK(UI0({thisIsSrc:!0}),"edgesTo")});Y9(wQ,{connectedEdges:AK(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(!X.isNode())continue;var U=X._private.edges;for(var Y=0;Y<U.length;Y++){var q=U[Y];J.push(q)}}return this.spawn(J,!0).filter(Z)},"connectedEdges"),connectedNodes:AK(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(!X.isEdge())continue;J.push(X.source()[0]),J.push(X.target()[0])}return this.spawn(J,!0).filter(Z)},"connectedNodes"),parallelEdges:AK(YI0(),"parallelEdges"),codirectedEdges:AK(YI0({codirected:!0}),"codirectedEdges")});Y9(wQ,{components:function(J){var Q=this,K=Q.cy(),X=K.collection(),U=J==null?Q.nodes():J.nodes(),Y=[];if(J!=null&&U.empty())U=J.sources();var q=function(z,H){X.merge(z),U.unmerge(z),H.merge(z)};if(U.empty())return Q.spawn();var W=function(){var z=K.collection();Y.push(z);var H=U[0];q(H,z),Q.bfs({directed:!1,roots:H,visit:function(M){return q(M,z)}}),z.forEach(function(F){F.connectedEdges().forEach(function(M){if(Q.has(M)&&z.has(M.source())&&z.has(M.target()))z.merge(M)})})};do W();while(U.length>0);return Y},component:function(){var J=this[0];return J.cy().mutableElements().components(J)[0]}});wQ.componentsOf=wQ.components;sZ=mS.prototype=HQ.prototype=Object.create(Array.prototype);sZ.instanceString=function(){return"collection"};sZ.spawn=function(Z,J){return new HQ(this.cy(),Z,J)};sZ.spawnSelf=function(){return this.spawn(this)};sZ.cy=function(){return this._private.cy};sZ.renderer=function(){return this._private.cy.renderer()};sZ.element=function(){return this[0]};sZ.collection=function(){if(gI0(this))return this;else return new HQ(this._private.cy,[this])};sZ.unique=function(){return new HQ(this._private.cy,this,!0)};sZ.hasElementWithId=function(Z){return Z=""+Z,this._private.map.has(Z)};sZ.getElementById=function(Z){Z=""+Z;var J=this._private.cy,Q=this._private.map.get(Z);return Q?Q.ele:new HQ(J)};sZ.$id=sZ.getElementById;sZ.poolIndex=function(){var Z=this._private.cy,J=Z._private.elements,Q=this[0]._private.data.id;return J._private.map.get(Q).index};sZ.indexOf=function(Z){var J=Z[0]._private.data.id;return this._private.map.get(J).index};sZ.indexOfId=function(Z){return Z=""+Z,this._private.map.get(Z).index};sZ.json=function(Z){var J=this.element(),Q=this.cy();if(J==null&&Z)return this;if(J==null)return;var K=J._private;if(qZ(Z)){if(Q.startBatch(),Z.data){J.data(Z.data);var X=K.data;if(J.isEdge()){var U=!1,Y={},q=Z.data.source,W=Z.data.target;if(q!=null&&q!=X.source)Y.source=""+q,U=!0;if(W!=null&&W!=X.target)Y.target=""+W,U=!0;if(U)J=J.move(Y)}else{var G="parent"in Z.data,z=Z.data.parent;if(G&&(z!=null||X.parent!=null)&&z!=X.parent){if(z===void 0)z=null;if(z!=null)z=""+z;J=J.move({parent:z})}}}if(Z.position)J.position(Z.position);var H=function(O,R,D){var L=Z[O];if(L!=null&&L!==K[O])if(L)J[R]();else J[D]()};if(H("removed","remove","restore"),H("selected","select","unselect"),H("selectable","selectify","unselectify"),H("locked","lock","unlock"),H("grabbable","grabify","ungrabify"),H("pannable","panify","unpanify"),Z.classes!=null)J.classes(Z.classes);return Q.endBatch(),this}else if(Z===void 0){var F={data:lX(K.data),position:lX(K.position),group:K.group,removed:K.removed,selected:K.selected,selectable:K.selectable,locked:K.locked,grabbable:K.grabbable,pannable:K.pannable,classes:null};F.classes="";var M=0;return K.classes.forEach(function(B){return F.classes+=M++===0?B:" "+B}),F}};sZ.jsons=function(){var Z=[];for(var J=0;J<this.length;J++){var Q=this[J],K=Q.json();Z.push(K)}return Z};sZ.clone=function(){var Z=this.cy(),J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],X=K.json(),U=new mS(Z,X,!1);J.push(U)}return new HQ(Z,J)};sZ.copy=sZ.clone;sZ.restore=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=Q.cy(),X=K._private,U=[],Y=[],q;for(var W=0,G=Q.length;W<G;W++){var z=Q[W];if(J&&!z.removed())continue;if(z.isNode())U.push(z);else Y.push(z)}q=U.concat(Y);var H,F=function(){q.splice(H,1),H--};for(H=0;H<q.length;H++){var M=q[H],B=M._private,O=B.data;if(M.clearTraversalCache(),!J&&!B.removed);else if(O.id===void 0)O.id=JA0();else if(P8(O.id))O.id=""+O.id;else if(Vq(O.id)||!Z9(O.id)){LJ("Can not create element with invalid string ID `"+O.id+"`"),F();continue}else if(K.hasElementWithId(O.id)){LJ("Can not create second element with ID `"+O.id+"`"),F();continue}var R=O.id;if(M.isNode()){var D=B.position;if(D.x==null)D.x=0;if(D.y==null)D.y=0}if(M.isEdge()){var L=M,A=["source","target"],V=A.length,N=!1;for(var E=0;E<V;E++){var j=A[E],C=O[j];if(P8(C))C=O[j]=""+O[j];if(C==null||C==="")LJ("Can not create edge `"+R+"` with unspecified "+j),N=!0;else if(!K.hasElementWithId(C))LJ("Can not create edge `"+R+"` with nonexistant "+j+" `"+C+"`"),N=!0}if(N){F();continue}var $=K.getElementById(O.source),k=K.getElementById(O.target);if($.same(k))$._private.edges.push(L);else $._private.edges.push(L),k._private.edges.push(L);L._private.source=$,L._private.target=k}if(B.map=new AY,B.map.set(R,{ele:M,index:0}),B.removed=!1,J)K.addToPool(M)}for(var w=0;w<U.length;w++){var P=U[w],T=P._private.data;if(P8(T.parent))T.parent=""+T.parent;var S=T.parent,f=S!=null;if(f||P._private.parent){var v=P._private.parent?K.collection().merge(P._private.parent):K.getElementById(S);if(v.empty())T.parent=void 0;else if(v[0].removed())NZ("Node added with missing parent, reference to parent removed"),T.parent=void 0,P._private.parent=null;else{var x=!1,b=v;while(!b.empty()){if(P.same(b)){x=!0,T.parent=void 0;break}b=b.parent()}if(!x)v[0]._private.children.push(P),P._private.parent=v[0],X.hasCompoundNodes=!0}}}if(q.length>0){var y=q.length===Q.length?Q:new HQ(K,q);for(var u=0;u<y.length;u++){var h=y[u];if(h.isNode())continue;h.parallelEdges().clearTraversalCache(),h.source().clearTraversalCache(),h.target().clearTraversalCache()}var p;if(X.hasCompoundNodes)p=K.collection().merge(y).merge(y.connectedNodes()).merge(y.parent());else p=y;if(p.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(Z),Z)y.emitAndNotify("add");else if(J)y.emit("add")}return Q};sZ.removed=function(){var Z=this[0];return Z&&Z._private.removed};sZ.inside=function(){var Z=this[0];return Z&&!Z._private.removed};sZ.remove=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=[],X={},U=Q._private.cy;function Y(S){var f=S._private.edges;for(var v=0;v<f.length;v++)W(f[v])}function q(S){var f=S._private.children;for(var v=0;v<f.length;v++)W(f[v])}function W(S){var f=X[S.id()];if(J&&S.removed()||f)return;else X[S.id()]=!0;if(S.isNode())K.push(S),Y(S),q(S);else K.unshift(S)}for(var G=0,z=Q.length;G<z;G++){var H=Q[G];W(H)}function F(S,f){var v=S._private.edges;Pq(v,f),S.clearTraversalCache()}function M(S){S.clearTraversalCache()}var B=[];B.ids={};function O(S,f){f=f[0],S=S[0];var v=S._private.children,x=S.id();if(Pq(v,f),f._private.parent=null,!B.ids[x])B.ids[x]=!0,B.push(S)}if(Q.dirtyCompoundBoundsCache(),J)U.removeFromPool(K);for(var R=0;R<K.length;R++){var D=K[R];if(D.isEdge()){var L=D.source()[0],A=D.target()[0];F(L,D),F(A,D);var V=D.parallelEdges();for(var N=0;N<V.length;N++){var E=V[N];if(M(E),E.isBundledBezier())E.dirtyBoundingBoxCache()}}else{var j=D.parent();if(j.length!==0)O(j,D)}if(J)D._private.removed=!0}var C=U._private.elements;U._private.hasCompoundNodes=!1;for(var $=0;$<C.length;$++){var k=C[$];if(k.isParent()){U._private.hasCompoundNodes=!0;break}}var w=new HQ(this.cy(),K);if(w.size()>0){if(Z)w.emitAndNotify("remove");else if(J)w.emit("remove")}for(var P=0;P<B.length;P++){var T=B[P];if(!J||!T.removed())T.updateStyle()}return w};sZ.move=function(Z){var J=this._private.cy,Q=this,K=!1,X=!1,U=function(B){return B==null?B:""+B};if(Z.source!==void 0||Z.target!==void 0){var Y=U(Z.source),q=U(Z.target),W=Y!=null&&J.hasElementWithId(Y),G=q!=null&&J.hasElementWithId(q);if(W||G)J.batch(function(){Q.remove(K,X),Q.emitAndNotify("moveout");for(var M=0;M<Q.length;M++){var B=Q[M],O=B._private.data;if(B.isEdge()){if(W)O.source=Y;if(G)O.target=q}}Q.restore(K,X)}),Q.emitAndNotify("move")}else if(Z.parent!==void 0){var z=U(Z.parent),H=z===null||J.hasElementWithId(z);if(H){var F=z===null?void 0:z;J.batch(function(){var M=Q.remove(K,X);M.emitAndNotify("moveout");for(var B=0;B<Q.length;B++){var O=Q[B],R=O._private.data;if(O.isNode())R.parent=F}M.restore(K,X)}),Q.emitAndNotify("move")}}return this};[MA0,bM8,OS,Nq,VF,tM8,iS,BB8,hA0,mA0,IB8,$S,RS,zQ,Eq,wQ].forEach(function(Z){Y9(sZ,Z)});CB8={add:function(J){var Q,K=this;if(y4(J)){var X=J;if(X._private.cy===K)Q=X.restore();else{var U=[];for(var Y=0;Y<X.length;Y++){var q=X[Y];U.push(q.json())}Q=new HQ(K,U)}}else if(uZ(J)){var W=J;Q=new HQ(K,W)}else if(qZ(J)&&(uZ(J.nodes)||uZ(J.edges))){var G=J,z=[],H=["nodes","edges"];for(var F=0,M=H.length;F<M;F++){var B=H[F],O=G[B];if(uZ(O))for(var R=0,D=O.length;R<D;R++){var L=Y9({group:B},O[R]);z.push(L)}}Q=new HQ(K,z)}else{var A=J;Q=new mS(K,A).collection()}return Q},remove:function(J){if(y4(J));else if(Z9(J)){var Q=J;J=this.$(Q)}return J.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *//*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */TB8=function(){function Z(K){return-K.tension*K.x-K.friction*K.v}function J(K,X,U){var Y={x:K.x+U.dx*X,v:K.v+U.dv*X,tension:K.tension,friction:K.friction};return{dx:Y.v,dv:Z(Y)}}function Q(K,X){var U={dx:K.v,dv:Z(K)},Y=J(K,X*0.5,U),q=J(K,X*0.5,Y),W=J(K,X,q),G=0.16666666666666666*(U.dx+2*(Y.dx+q.dx)+W.dx),z=0.16666666666666666*(U.dv+2*(Y.dv+q.dv)+W.dv);return K.x=K.x+G*X,K.v=K.v+z*X,K}return function K(X,U,Y){var q={x:-1,v:0,tension:null,friction:null},W=[0],G=0,z=0.0001,H=0.016,F,M,B;if(X=parseFloat(X)||500,U=parseFloat(U)||20,Y=Y||null,q.tension=X,q.friction=U,F=Y!==null,F)G=K(X,U),M=G/Y*H;else M=H;for(;;)if(B=Q(B||q,M),W.push(1+B.x),G+=16,!(Math.abs(B.x)>z&&Math.abs(B.v)>z))break;return!F?G:function(O){return W[O*(W.length-1)|0]}}}(),DS={linear:function(J,Q,K){return J+(Q-J)*K},ease:iZ(0.25,0.1,0.25,1),"ease-in":iZ(0.42,0,1,1),"ease-out":iZ(0,0,0.58,1),"ease-in-out":iZ(0.42,0,0.58,1),"ease-in-sine":iZ(0.47,0,0.745,0.715),"ease-out-sine":iZ(0.39,0.575,0.565,1),"ease-in-out-sine":iZ(0.445,0.05,0.55,0.95),"ease-in-quad":iZ(0.55,0.085,0.68,0.53),"ease-out-quad":iZ(0.25,0.46,0.45,0.94),"ease-in-out-quad":iZ(0.455,0.03,0.515,0.955),"ease-in-cubic":iZ(0.55,0.055,0.675,0.19),"ease-out-cubic":iZ(0.215,0.61,0.355,1),"ease-in-out-cubic":iZ(0.645,0.045,0.355,1),"ease-in-quart":iZ(0.895,0.03,0.685,0.22),"ease-out-quart":iZ(0.165,0.84,0.44,1),"ease-in-out-quart":iZ(0.77,0,0.175,1),"ease-in-quint":iZ(0.755,0.05,0.855,0.06),"ease-out-quint":iZ(0.23,1,0.32,1),"ease-in-out-quint":iZ(0.86,0,0.07,1),"ease-in-expo":iZ(0.95,0.05,0.795,0.035),"ease-out-expo":iZ(0.19,1,0.22,1),"ease-in-out-expo":iZ(1,0,0,1),"ease-in-circ":iZ(0.6,0.04,0.98,0.335),"ease-out-circ":iZ(0.075,0.82,0.165,1),"ease-in-out-circ":iZ(0.785,0.135,0.15,0.86),spring:function(J,Q,K){if(K===0)return DS.linear;var X=TB8(J,Q,K);return function(U,Y,q){return U+(Y-U)*X(q)}},"cubic-bezier":iZ};kB8={animate:AZ.animate(),animation:AZ.animation(),animated:AZ.animated(),clearQueue:AZ.clearQueue(),delay:AZ.delay(),delayAnimation:AZ.delayAnimation(),stop:AZ.stop(),addToAnimationPool:function(J){var Q=this;if(!Q.styleEnabled())return;Q._private.aniEles.merge(J)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var J=this;if(J._private.animationsRunning=!0,!J.styleEnabled())return;function Q(){if(!J._private.animationsRunning)return;jS(function(U){GI0(U,J),Q()})}var K=J.renderer();if(K&&K.beforeRender)K.beforeRender(function(U,Y){GI0(Y,J)},K.beforeRenderPriorities.animations);else Q()}},_B8={qualifierCompare:function(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function(J,Q,K){var X=Q.qualifier;if(X!=null)return J!==K.target&&jL(K.target)&&X.matches(K.target);return!0},addEventFields:function(J,Q){Q.cy=J,Q.target=J},callbackContext:function(J,Q,K){return Q.qualifier!=null?K.target:J}},pA0={createEmitter:function(){var J=this._private;if(!J.emitter)J.emitter=new sS(_B8,this);return this},emitter:function(){return this._private.emitter},on:function(J,Q,K){return this.emitter().on(J,WS(Q),K),this},removeListener:function(J,Q,K){return this.emitter().removeListener(J,WS(Q),K),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(J,Q,K){return this.emitter().one(J,WS(Q),K),this},once:function(J,Q,K){return this.emitter().one(J,WS(Q),K),this},emit:function(J,Q){return this.emitter().emit(J,Q),this},emitAndNotify:function(J,Q){return this.emit(J),this.notify(J,Q),this}};AZ.eventAliasesOn(pA0);Gi={png:function(J){var Q=this._private.renderer;return J=J||{},Q.png(J)},jpg:function(J){var Q=this._private.renderer;return J=J||{},J.bg=J.bg||"#fff",Q.jpg(J)}};Gi.jpeg=Gi.jpg;LS={layout:function(J){var Q=this;if(J==null){LJ("Layout options must be specified to make a layout");return}if(J.name==null){LJ("A `name` must be specified to make a layout");return}var K=J.name,X=Q.extension("layout",K);if(X==null){LJ("No such layout `"+K+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var U;if(Z9(J.eles))U=Q.$(J.eles);else U=J.eles!=null?J.eles:Q.$();var Y=new X(Y9({},J,{cy:Q,eles:U}));return Y}};LS.createLayout=LS.makeLayout=LS.layout;fB8={notify:function(J,Q){var K=this._private;if(this.batching()){K.batchNotifications=K.batchNotifications||{};var X=K.batchNotifications[J]=K.batchNotifications[J]||this.collection();if(Q!=null)X.merge(Q);return}if(!K.notificationsEnabled)return;var U=this.renderer();if(this.destroyed()||!U)return;U.notify(J,Q)},notifications:function(J){var Q=this._private;if(J===void 0)return Q.notificationsEnabled;else Q.notificationsEnabled=J?!0:!1;return this},noNotifications:function(J){this.notifications(!1),J(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var J=this._private;if(J.batchCount==null)J.batchCount=0;if(J.batchCount===0)J.batchStyleEles=this.collection(),J.batchNotifications={};return J.batchCount++,this},endBatch:function(){var J=this._private;if(J.batchCount===0)return this;if(J.batchCount--,J.batchCount===0){J.batchStyleEles.updateStyle();var Q=this.renderer();Object.keys(J.batchNotifications).forEach(function(K){var X=J.batchNotifications[K];if(X.empty())Q.notify(K);else Q.notify(K,X)})}return this},batch:function(J){return this.startBatch(),J(),this.endBatch(),this},batchData:function(J){var Q=this;return this.batch(function(){var K=Object.keys(J);for(var X=0;X<K.length;X++){var U=K[X],Y=J[U],q=Q.getElementById(U);q.data(Y)}})}},vB8=FQ({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:0.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),zi={renderTo:function(J,Q,K,X){var U=this._private.renderer;return U.renderTo(J,Q,K,X),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(J){var Q=this,K=Q.extension("renderer",J.name);if(K==null){LJ("Can not initialise: No such renderer `".concat(J.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}if(J.wheelSensitivity!==void 0)NZ("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var X=vB8(J);X.cy=Q,Q._private.renderer=new K(X),this.notify("init")},destroyRenderer:function(){var J=this;J.notify("destroy");var Q=J.container();if(Q){Q._cyreg=null;while(Q.childNodes.length>0)Q.removeChild(Q.childNodes[0])}J._private.renderer=null,J.mutableElements().forEach(function(K){var X=K._private;X.rscratch={},X.rstyle={},X.animation.current=[],X.animation.queue=[]})},onRender:function(J){return this.on("render",J)},offRender:function(J){return this.off("render",J)}};zi.invalidateDimensions=zi.resize;IS={collection:function(J,Q){if(Z9(J))return this.$(J);else if(y4(J))return J.collection();else if(uZ(J)){if(!Q)Q={};return new HQ(this,J,Q.unique,Q.removed)}return new HQ(this)},nodes:function(J){var Q=this.$(function(K){return K.isNode()});if(J)return Q.filter(J);return Q},edges:function(J){var Q=this.$(function(K){return K.isEdge()});if(J)return Q.filter(J);return Q},$:function(J){var Q=this._private.elements;if(J)return Q.filter(J);else return Q.spawnSelf()},mutableElements:function(){return this._private.elements}};IS.elements=IS.filter=IS.$;h7={};h7.apply=function(Z){var J=this,Q=J._private,K=Q.cy,X=K.collection();for(var U=0;U<Z.length;U++){var Y=Z[U],q=J.getContextMeta(Y);if(q.empty)continue;var W=J.getContextStyle(q),G=J.applyContextStyle(q,W,Y);if(Y._private.appliedInitStyle)J.updateTransitions(Y,G.diffProps);else Y._private.appliedInitStyle=!0;var z=J.updateStyleHints(Y);if(z)X.push(Y)}return X};h7.getPropertiesDiff=function(Z,J){var Q=this,K=Q._private.propDiffs=Q._private.propDiffs||{},X=Z+"-"+J,U=K[X];if(U)return U;var Y=[],q={};for(var W=0;W<Q.length;W++){var G=Q[W],z=Z[W]===HL,H=J[W]===HL,F=z!==H,M=G.mappedProperties.length>0;if(F||H&&M){var B=void 0;if(F&&M)B=G.properties;else if(F)B=G.properties;else if(M)B=G.mappedProperties;for(var O=0;O<B.length;O++){var R=B[O],D=R.name,L=!1;for(var A=W+1;A<Q.length;A++){var V=Q[A],N=J[A]===HL;if(!N)continue;if(L=V.properties[R.name]!=null,L)break}if(!q[D]&&!L)q[D]=!0,Y.push(D)}}}return K[X]=Y,Y};h7.getContextMeta=function(Z){var J=this,Q="",K,X=Z._private.styleCxtKey||"";for(var U=0;U<J.length;U++){var Y=J[U],q=Y.selector&&Y.selector.matches(Z);if(q)Q+=HL;else Q+=xB8}return K=J.getPropertiesDiff(X,Q),Z._private.styleCxtKey=Q,{key:Q,diffPropNames:K,empty:K.length===0}};h7.getContextStyle=function(Z){var J=Z.key,Q=this,K=this._private.contextStyles=this._private.contextStyles||{};if(K[J])return K[J];var X={_private:{key:J}};for(var U=0;U<Q.length;U++){var Y=Q[U],q=J[U]===HL;if(!q)continue;for(var W=0;W<Y.properties.length;W++){var G=Y.properties[W];X[G.name]=G}}return K[J]=X,X};h7.applyContextStyle=function(Z,J,Q){var K=this,X=Z.diffPropNames,U={},Y=K.types;for(var q=0;q<X.length;q++){var W=X[q],G=J[W],z=Q.pstyle(W);if(!G)if(!z)continue;else if(z.bypass)G={name:W,deleteBypassed:!0};else G={name:W,delete:!0};if(z===G)continue;if(G.mapped===Y.fn&&z!=null&&z.mapping!=null&&z.mapping.value===G.value){var H=z.mapping,F=H.fnValue=G.value(Q);if(F===H.prevFnValue)continue}var M=U[W]={prev:z};if(K.applyParsedProperty(Q,G),M.next=Q.pstyle(W),M.next&&M.next.bypass)M.next=M.next.bypassed}return{diffProps:U}};h7.updateStyleHints=function(Z){var J=Z._private,Q=this,K=Q.propertyGroupNames,X=Q.propertyGroupKeys,U=function(n,Y0,o){return Q.getPropertiesHash(n,Y0,o)},Y=J.styleKey;if(Z.removed())return!1;var q=J.group==="nodes",W=Z._private.style;K=Object.keys(W);for(var G=0;G<X.length;G++){var z=X[G];J.styleKeys[z]=[zz,MF]}var H=function(n,Y0){return J.styleKeys[Y0][0]=BL(n,J.styleKeys[Y0][0])},F=function(n,Y0){return J.styleKeys[Y0][1]=OL(n,J.styleKeys[Y0][1])},M=function(n,Y0){H(n,Y0),F(n,Y0)},B=function(n,Y0){for(var o=0;o<n.length;o++){var M0=n.charCodeAt(o);H(M0,Y0),F(M0,Y0)}},O=2000000000,R=function(n){return-128<n&&n<128&&Math.floor(n)!==n?O-(n*1024|0):n};for(var D=0;D<K.length;D++){var L=K[D],A=W[L];if(A==null)continue;var V=this.properties[L],N=V.type,E=V.groupKey,j=void 0;if(V.hashOverride!=null)j=V.hashOverride(Z,A);else if(A.pfValue!=null)j=A.pfValue;var C=V.enums==null?A.value:null,$=j!=null,k=C!=null,w=$||k,P=A.units;if(N.number&&w&&!N.multiple){var T=$?j:C;if(M(R(T),E),!$&&P!=null)B(P,E)}else B(A.strValue,E)}var S=[zz,MF];for(var f=0;f<X.length;f++){var v=X[f],x=J.styleKeys[v];S[0]=BL(x[0],S[0]),S[1]=OL(x[1],S[1])}J.styleKey=oH8(S[0],S[1]);var b=J.styleKeys;J.labelDimsKey=Bq(b.labelDimensions);var y=U(Z,["label"],b.labelDimensions);if(J.labelKey=Bq(y),J.labelStyleKey=Bq(ZS(b.commonLabel,y)),!q){var u=U(Z,["source-label"],b.labelDimensions);J.sourceLabelKey=Bq(u),J.sourceLabelStyleKey=Bq(ZS(b.commonLabel,u));var h=U(Z,["target-label"],b.labelDimensions);J.targetLabelKey=Bq(h),J.targetLabelStyleKey=Bq(ZS(b.commonLabel,h))}if(q){var p=J.styleKeys,r=p.nodeBody,e=p.nodeBorder,i=p.nodeOutline,U0=p.backgroundImage,a=p.compound,z0=p.pie,J0=p.stripe,Q0=[r,e,i,U0,a,z0,J0].filter(function(t){return t!=null}).reduce(ZS,[zz,MF]);J.nodeKey=Bq(Q0),J.hasPie=z0!=null&&z0[0]!==zz&&z0[1]!==MF,J.hasStripe=J0!=null&&J0[0]!==zz&&J0[1]!==MF}return Y!==J.styleKey};h7.clearStyleHints=function(Z){var J=Z._private;J.styleCxtKey="",J.styleKeys={},J.styleKey=null,J.labelKey=null,J.labelStyleKey=null,J.sourceLabelKey=null,J.sourceLabelStyleKey=null,J.targetLabelKey=null,J.targetLabelStyleKey=null,J.nodeKey=null,J.hasPie=null,J.hasStripe=null};h7.applyParsedProperty=function(Z,J){var Q=this,K=J,X=Z._private.style,U,Y=Q.types,q=Q.properties[K.name].type,W=K.bypass,G=X[K.name],z=G&&G.bypass,H=Z._private,F="mapping",M=function(r){if(r==null)return null;else if(r.pfValue!=null)return r.pfValue;else return r.value},B=function(){var r=M(G),e=M(K);Q.checkTriggers(Z,K.name,r,e)};if(J.name==="curve-style"&&Z.isEdge()&&(J.value!=="bezier"&&Z.isLoop()||J.value==="haystack"&&(Z.source().isParent()||Z.target().isParent())))K=J=this.parse(J.name,"bezier",W);if(K.delete)return X[K.name]=void 0,B(),!0;if(K.deleteBypassed)if(!G)return B(),!0;else if(G.bypass)return G.bypassed=void 0,B(),!0;else return!1;if(K.deleteBypass)if(!G)return B(),!0;else if(G.bypass)return X[K.name]=G.bypassed,B(),!0;else return!1;var O=function(){NZ("Do not assign mappings to elements without corresponding data (i.e. ele `"+Z.id()+"` has no mapping for property `"+K.name+"` with data field `"+K.field+"`); try a `["+K.field+"]` selector to limit scope to elements with `"+K.field+"` defined")};switch(K.mapped){case Y.mapData:{var R=K.field.split("."),D=H.data;for(var L=0;L<R.length&&D;L++){var A=R[L];D=D[A]}if(D==null)return O(),!1;var V;if(!P8(D))return NZ("Do not use continuous mappers without specifying numeric data (i.e. `"+K.field+": "+D+"` for `"+Z.id()+"` is non-numeric)"),!1;else{var N=K.fieldMax-K.fieldMin;if(N===0)V=0;else V=(D-K.fieldMin)/N}if(V<0)V=0;else if(V>1)V=1;if(q.color){var E=K.valueMin[0],j=K.valueMax[0],C=K.valueMin[1],$=K.valueMax[1],k=K.valueMin[2],w=K.valueMax[2],P=K.valueMin[3]==null?1:K.valueMin[3],T=K.valueMax[3]==null?1:K.valueMax[3],S=[Math.round(E+(j-E)*V),Math.round(C+($-C)*V),Math.round(k+(w-k)*V),Math.round(P+(T-P)*V)];U={bypass:K.bypass,name:K.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(q.number){var f=K.valueMin+(K.valueMax-K.valueMin)*V;U=this.parse(K.name,f,K.bypass,F)}else return!1;if(!U)return O(),!1;U.mapping=K,K=U;break}case Y.data:{var v=K.field.split("."),x=H.data;for(var b=0;b<v.length&&x;b++){var y=v[b];x=x[y]}if(x!=null)U=this.parse(K.name,x,K.bypass,F);if(!U)return O(),!1;U.mapping=K,K=U;break}case Y.fn:{var u=K.value,h=K.fnValue!=null?K.fnValue:u(Z);if(K.prevFnValue=h,h==null)return NZ("Custom function mappers may not return null (i.e. `"+K.name+"` for ele `"+Z.id()+"` is null)"),!1;if(U=this.parse(K.name,h,K.bypass,F),!U)return NZ("Custom function mappers may not return invalid values for the property type (i.e. `"+K.name+"` for ele `"+Z.id()+"` is invalid)"),!1;U.mapping=lX(K),K=U;break}case void 0:break;default:return!1}if(W){if(z)K.bypassed=G.bypassed;else K.bypassed=G;X[K.name]=K}else if(z)G.bypassed=K;else X[K.name]=K;return B(),!0};h7.cleanElements=function(Z,J){for(var Q=0;Q<Z.length;Q++){var K=Z[Q];if(this.clearStyleHints(K),K.dirtyCompoundBoundsCache(),K.dirtyBoundingBoxCache(),!J)K._private.style={};else{var X=K._private.style,U=Object.keys(X);for(var Y=0;Y<U.length;Y++){var q=U[Y],W=X[q];if(W!=null)if(W.bypass)W.bypassed=null;else X[q]=null}}}};h7.update=function(){var Z=this._private.cy,J=Z.mutableElements();J.updateStyle()};h7.updateTransitions=function(Z,J){var Q=this,K=Z._private,X=Z.pstyle("transition-property").value,U=Z.pstyle("transition-duration").pfValue,Y=Z.pstyle("transition-delay").pfValue;if(X.length>0&&U>0){var q={},W=!1;for(var G=0;G<X.length;G++){var z=X[G],H=Z.pstyle(z),F=J[z];if(!F)continue;var M=F.prev,B=M,O=F.next!=null?F.next:H,R=!1,D=void 0,L=0.000001;if(!B)continue;if(P8(B.pfValue)&&P8(O.pfValue))R=O.pfValue-B.pfValue,D=B.pfValue+L*R;else if(P8(B.value)&&P8(O.value))R=O.value-B.value,D=B.value+L*R;else if(uZ(B.value)&&uZ(O.value))R=B.value[0]!==O.value[0]||B.value[1]!==O.value[1]||B.value[2]!==O.value[2],D=B.strValue;if(R)q[z]=O.strValue,this.applyBypass(Z,z,D),W=!0}if(!W)return;K.transitioning=!0,new jF(function(A){if(Y>0)Z.delayAnimation(Y).play().promise().then(A);else A()}).then(function(){return Z.animation({style:q,duration:U,easing:Z.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){Q.removeBypasses(Z,X),Z.emitAndNotify("style"),K.transitioning=!1})}else if(K.transitioning)this.removeBypasses(Z,X),Z.emitAndNotify("style"),K.transitioning=!1};h7.checkTrigger=function(Z,J,Q,K,X,U){var Y=this.properties[J],q=X(Y);if(Z.removed())return;if(q!=null&&q(Q,K,Z))U(Y)};h7.checkZOrderTrigger=function(Z,J,Q,K){var X=this;this.checkTrigger(Z,J,Q,K,function(U){return U.triggersZOrder},function(){X._private.cy.notify("zorder",Z)})};h7.checkBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(X){return X.triggersBounds},function(X){Z.dirtyCompoundBoundsCache(),Z.dirtyBoundingBoxCache()})};h7.checkConnectedEdgesBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(X){return X.triggersBoundsOfConnectedEdges},function(X){Z.connectedEdges().forEach(function(U){U.dirtyBoundingBoxCache()})})};h7.checkParallelEdgesBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(X){return X.triggersBoundsOfParallelEdges},function(X){Z.parallelEdges().forEach(function(U){U.dirtyBoundingBoxCache()})})};h7.checkTriggers=function(Z,J,Q,K){Z.dirtyStyleCache(),this.checkZOrderTrigger(Z,J,Q,K),this.checkBoundsTrigger(Z,J,Q,K),this.checkConnectedEdgesBoundsTrigger(Z,J,Q,K),this.checkParallelEdgesBoundsTrigger(Z,J,Q,K)};_L={};_L.applyBypass=function(Z,J,Q,K){var X=this,U=[],Y=!0;if(J==="*"||J==="**"){if(Q!==void 0)for(var q=0;q<X.properties.length;q++){var W=X.properties[q],G=W.name,z=this.parse(G,Q,!0);if(z)U.push(z)}}else if(Z9(J)){var H=this.parse(J,Q,!0);if(H)U.push(H)}else if(qZ(J)){var F=J;K=Q;var M=Object.keys(F);for(var B=0;B<M.length;B++){var O=M[B],R=F[O];if(R===void 0)R=F[yS(O)];if(R!==void 0){var D=this.parse(O,R,!0);if(D)U.push(D)}}}else return!1;if(U.length===0)return!1;var L=!1;for(var A=0;A<Z.length;A++){var V=Z[A],N={},E=void 0;for(var j=0;j<U.length;j++){var C=U[j];if(K){var $=V.pstyle(C.name);E=N[C.name]={prev:$}}if(L=this.applyParsedProperty(V,lX(C))||L,K)E.next=V.pstyle(C.name)}if(L)this.updateStyleHints(V);if(K)this.updateTransitions(V,N,Y)}return L};_L.overrideBypass=function(Z,J,Q){J=Ei(J);for(var K=0;K<Z.length;K++){var X=Z[K],U=X._private.style[J],Y=this.properties[J].type,q=Y.color,W=Y.mutiple,G=!U?null:U.pfValue!=null?U.pfValue:U.value;if(!U||!U.bypass)this.applyBypass(X,J,Q);else{if(U.value=Q,U.pfValue!=null)U.pfValue=Q;if(q)U.strValue="rgb("+Q.join(",")+")";else if(W)U.strValue=Q.join(" ");else U.strValue=""+Q;this.updateStyleHints(X)}this.checkTriggers(X,J,G,Q)}};_L.removeAllBypasses=function(Z,J){return this.removeBypasses(Z,this.propertyNames,J)};_L.removeBypasses=function(Z,J,Q){var K=!0;for(var X=0;X<Z.length;X++){var U=Z[X],Y={};for(var q=0;q<J.length;q++){var W=J[q],G=this.properties[W],z=U.pstyle(G.name);if(!z||!z.bypass)continue;var H="",F=this.parse(W,H,!0),M=Y[G.name]={prev:z};this.applyParsedProperty(U,F),M.next=U.pstyle(G.name)}if(this.updateStyleHints(U),Q)this.updateTransitions(U,Y,K)}};hi={};hi.getEmSizeInPixels=function(){var Z=this.containerCss("font-size");if(Z!=null)return parseFloat(Z);else return 1};hi.containerCss=function(Z){var J=this._private.cy,Q=J.container(),K=J.window();if(K&&Q&&K.getComputedStyle)return K.getComputedStyle(Q).getPropertyValue(Z)};dX={};dX.getRenderedStyle=function(Z,J){if(J)return this.getStylePropertyValue(Z,J,!0);else return this.getRawStyle(Z,!0)};dX.getRawStyle=function(Z,J){var Q=this;if(Z=Z[0],Z){var K={};for(var X=0;X<Q.properties.length;X++){var U=Q.properties[X],Y=Q.getStylePropertyValue(Z,U.name,J);if(Y!=null)K[U.name]=Y,K[yS(U.name)]=Y}return K}};dX.getIndexedStyle=function(Z,J,Q,K){var X=Z.pstyle(J)[Q][K];return X!=null?X:Z.cy().style().getDefaultProperty(J)[Q][0]};dX.getStylePropertyValue=function(Z,J,Q){var K=this;if(Z=Z[0],Z){var X=K.properties[J];if(X.alias)X=X.pointsTo;var U=X.type,Y=Z.pstyle(X.name);if(Y){var{value:q,units:W,strValue:G}=Y;if(Q&&U.number&&q!=null&&P8(q)){var z=Z.cy().zoom(),H=function(R){return R*z},F=function(R,D){return H(R)+D},M=uZ(q),B=M?W.every(function(O){return O!=null}):W!=null;if(B)if(M)return q.map(function(O,R){return F(O,W[R])}).join(" ");else return F(q,W);else if(M)return q.map(function(O){return Z9(O)?O:""+H(O)}).join(" ");else return""+H(q)}else if(G!=null)return G}return null}};dX.getAnimationStartStyle=function(Z,J){var Q={};for(var K=0;K<J.length;K++){var X=J[K],U=X.name,Y=Z.pstyle(U);if(Y!==void 0)if(qZ(Y))Y=this.parse(U,Y.strValue);else Y=this.parse(U,Y);if(Y)Q[U]=Y}return Q};dX.getPropsList=function(Z){var J=this,Q=[],K=Z,X=J.properties;if(K){var U=Object.keys(K);for(var Y=0;Y<U.length;Y++){var q=U[Y],W=K[q],G=X[q]||X[Ei(q)],z=this.parse(G.name,W);if(z)Q.push(z)}}return Q};dX.getNonDefaultPropertiesHash=function(Z,J,Q){var K=Q.slice(),X,U,Y,q,W,G;for(W=0;W<J.length;W++)if(X=J[W],U=Z.pstyle(X,!1),U==null)continue;else if(U.pfValue!=null)K[0]=BL(q,K[0]),K[1]=OL(q,K[1]);else{Y=U.strValue;for(G=0;G<Y.length;G++)q=Y.charCodeAt(G),K[0]=BL(q,K[0]),K[1]=OL(q,K[1])}return K};dX.getPropertiesHash=dX.getNonDefaultPropertiesHash;aS={};aS.appendFromJson=function(Z){var J=this;for(var Q=0;Q<Z.length;Q++){var K=Z[Q],X=K.selector,U=K.style||K.css,Y=Object.keys(U);J.selector(X);for(var q=0;q<Y.length;q++){var W=Y[q],G=U[W];J.css(W,G)}}return J};aS.fromJson=function(Z){var J=this;return J.resetToDefault(),J.appendFromJson(Z),J};aS.json=function(){var Z=[];for(var J=this.defaultLength;J<this.length;J++){var Q=this[J],K=Q.selector,X=Q.properties,U={};for(var Y=0;Y<X.length;Y++){var q=X[Y];U[q.name]=q.strValue}Z.push({selector:!K?"core":K.toString(),style:U})}return Z};mi={};mi.appendFromString=function(Z){var J=this,Q=this,K=""+Z,X,U,Y;K=K.replace(/[/][*](\s|.)+?[*][/]/g,"");function q(){if(K.length>X.length)K=K.substr(X.length);else K=""}function W(){if(U.length>Y.length)U=U.substr(Y.length);else U=""}for(;;){var G=K.match(/^\s*$/);if(G)break;var z=K.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!z){NZ("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+K);break}X=z[0];var H=z[1];if(H!=="core"){var F=new Cq(H);if(F.invalid){NZ("Skipping parsing of block: Invalid selector found in string stylesheet: "+H),q();continue}}var M=z[2],B=!1;U=M;var O=[];for(;;){var R=U.match(/^\s*$/);if(R)break;var D=U.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!D){NZ("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),B=!0;break}Y=D[0];var L=D[1],A=D[2],V=J.properties[L];if(!V){NZ("Skipping property: Invalid property name in: "+Y),W();continue}var N=Q.parse(L,A);if(!N){NZ("Skipping property: Invalid property definition in: "+Y),W();continue}O.push({name:L,val:A}),W()}if(B){q();break}Q.selector(H);for(var E=0;E<O.length;E++){var j=O[E];Q.css(j.name,j.val)}q()}return Q};mi.fromString=function(Z){var J=this;return J.resetToDefault(),J.appendFromString(Z),J};K7={};(function(){var Z=A7,J=wH8,Q=kH8,K=_H8,X=fH8,U=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},Y=function(t){var n=Z+"|\\w+|"+J+"|"+Q+"|"+K+"|"+X;return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+Z+")\\s*\\,\\s*("+Z+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},q=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];K7.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:"^([\\w- \\\"]+(?:\\s*,\\s*[\\w- \\\"]+)*)$"},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:U("data")},layoutData:{mapping:!0,regex:U("layoutData")},scratch:{mapping:!0,regex:U("scratch")},mapData:{mapping:!0,regex:Y("mapData")},mapLayoutData:{mapping:!0,regex:Y("mapLayoutData")},mapScratch:{mapping:!0,regex:Y("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:q,singleRegexMatchValue:!0},urls:{regexes:q,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,n){switch(t.length){case 2:return n[0]!=="deg"&&n[0]!=="rad"&&n[1]!=="deg"&&n[1]!=="rad";case 1:return Z9(t[0])||n[0]==="deg"||n[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var n=t.length;return n===1||n===2||n===4}}};var W={zeroNonZero:function(t,n){if((t==null||n==null)&&t!==n)return!0;if(t==0&&n!=0)return!0;else if(t!=0&&n==0)return!0;else return!1},any:function(t,n){return t!=n},emptyNonEmpty:function(t,n){var Y0=Vq(t),o=Vq(n);return Y0&&!o||!Y0&&o}},G=K7.types,z=[{name:"label",type:G.text,triggersBounds:W.any,triggersZOrder:W.emptyNonEmpty},{name:"text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any}],H=[{name:"source-label",type:G.text,triggersBounds:W.any},{name:"source-text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"source-text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"source-text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"source-text-offset",type:G.size,triggersBounds:W.any}],F=[{name:"target-label",type:G.text,triggersBounds:W.any},{name:"target-text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"target-text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"target-text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"target-text-offset",type:G.size,triggersBounds:W.any}],M=[{name:"font-family",type:G.fontFamily,triggersBounds:W.any},{name:"font-style",type:G.fontStyle,triggersBounds:W.any},{name:"font-weight",type:G.fontWeight,triggersBounds:W.any},{name:"font-size",type:G.size,triggersBounds:W.any},{name:"text-transform",type:G.textTransform,triggersBounds:W.any},{name:"text-wrap",type:G.textWrap,triggersBounds:W.any},{name:"text-overflow-wrap",type:G.textOverflowWrap,triggersBounds:W.any},{name:"text-max-width",type:G.size,triggersBounds:W.any},{name:"text-outline-width",type:G.size,triggersBounds:W.any},{name:"line-height",type:G.positiveNumber,triggersBounds:W.any}],B=[{name:"text-valign",type:G.valign,triggersBounds:W.any},{name:"text-halign",type:G.halign,triggersBounds:W.any},{name:"color",type:G.color},{name:"text-outline-color",type:G.color},{name:"text-outline-opacity",type:G.zeroOneNumber},{name:"text-background-color",type:G.color},{name:"text-background-opacity",type:G.zeroOneNumber},{name:"text-background-padding",type:G.size,triggersBounds:W.any},{name:"text-border-opacity",type:G.zeroOneNumber},{name:"text-border-color",type:G.color},{name:"text-border-width",type:G.size,triggersBounds:W.any},{name:"text-border-style",type:G.borderStyle,triggersBounds:W.any},{name:"text-background-shape",type:G.textBackgroundShape,triggersBounds:W.any},{name:"text-justification",type:G.justification},{name:"box-select-labels",type:G.bool,triggersBounds:W.any}],O=[{name:"events",type:G.bool,triggersZOrder:W.any},{name:"text-events",type:G.bool,triggersZOrder:W.any},{name:"box-selection",type:G.boxSelection,triggersZOrder:W.any}],R=[{name:"display",type:G.display,triggersZOrder:W.any,triggersBounds:W.any,triggersBoundsOfConnectedEdges:W.any,triggersBoundsOfParallelEdges:function(t,n,Y0){if(t===n)return!1;return Y0.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:G.visibility,triggersZOrder:W.any},{name:"opacity",type:G.zeroOneNumber,triggersZOrder:W.zeroNonZero},{name:"text-opacity",type:G.zeroOneNumber},{name:"min-zoomed-font-size",type:G.size},{name:"z-compound-depth",type:G.zCompoundDepth,triggersZOrder:W.any},{name:"z-index-compare",type:G.zIndexCompare,triggersZOrder:W.any},{name:"z-index",type:G.number,triggersZOrder:W.any}],D=[{name:"overlay-padding",type:G.size,triggersBounds:W.any},{name:"overlay-color",type:G.color},{name:"overlay-opacity",type:G.zeroOneNumber,triggersBounds:W.zeroNonZero},{name:"overlay-shape",type:G.overlayShape,triggersBounds:W.any},{name:"overlay-corner-radius",type:G.cornerRadius}],L=[{name:"underlay-padding",type:G.size,triggersBounds:W.any},{name:"underlay-color",type:G.color},{name:"underlay-opacity",type:G.zeroOneNumber,triggersBounds:W.zeroNonZero},{name:"underlay-shape",type:G.overlayShape,triggersBounds:W.any},{name:"underlay-corner-radius",type:G.cornerRadius}],A=[{name:"transition-property",type:G.propList},{name:"transition-duration",type:G.time},{name:"transition-delay",type:G.time},{name:"transition-timing-function",type:G.easing}],V=function(t,n){if(n.value==="label")return-t.poolIndex();else return n.pfValue},N=[{name:"height",type:G.nodeSize,triggersBounds:W.any,hashOverride:V},{name:"width",type:G.nodeSize,triggersBounds:W.any,hashOverride:V},{name:"shape",type:G.nodeShape,triggersBounds:W.any},{name:"shape-polygon-points",type:G.polygonPointList,triggersBounds:W.any},{name:"corner-radius",type:G.cornerRadius},{name:"background-color",type:G.color},{name:"background-fill",type:G.fill},{name:"background-opacity",type:G.zeroOneNumber},{name:"background-blacken",type:G.nOneOneNumber},{name:"background-gradient-stop-colors",type:G.colors},{name:"background-gradient-stop-positions",type:G.percentages},{name:"background-gradient-direction",type:G.gradientDirection},{name:"padding",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"padding-relative-to",type:G.paddingRelativeTo,triggersBounds:W.any},{name:"bounds-expansion",type:G.boundsExpansion,triggersBounds:W.any}],E=[{name:"border-color",type:G.color},{name:"border-opacity",type:G.zeroOneNumber},{name:"border-width",type:G.size,triggersBounds:W.any},{name:"border-style",type:G.borderStyle},{name:"border-cap",type:G.lineCap},{name:"border-join",type:G.lineJoin},{name:"border-dash-pattern",type:G.numbers},{name:"border-dash-offset",type:G.number},{name:"border-position",type:G.linePosition}],j=[{name:"outline-color",type:G.color},{name:"outline-opacity",type:G.zeroOneNumber},{name:"outline-width",type:G.size,triggersBounds:W.any},{name:"outline-style",type:G.borderStyle},{name:"outline-offset",type:G.size,triggersBounds:W.any}],C=[{name:"background-image",type:G.urls},{name:"background-image-crossorigin",type:G.bgCrossOrigin},{name:"background-image-opacity",type:G.zeroOneNumbers},{name:"background-image-containment",type:G.bgContainment},{name:"background-image-smoothing",type:G.bools},{name:"background-position-x",type:G.bgPos},{name:"background-position-y",type:G.bgPos},{name:"background-width-relative-to",type:G.bgRelativeTo},{name:"background-height-relative-to",type:G.bgRelativeTo},{name:"background-repeat",type:G.bgRepeat},{name:"background-fit",type:G.bgFit},{name:"background-clip",type:G.bgClip},{name:"background-width",type:G.bgWH},{name:"background-height",type:G.bgWH},{name:"background-offset-x",type:G.bgPos},{name:"background-offset-y",type:G.bgPos}],$=[{name:"position",type:G.position,triggersBounds:W.any},{name:"compound-sizing-wrt-labels",type:G.compoundIncludeLabels,triggersBounds:W.any},{name:"min-width",type:G.size,triggersBounds:W.any},{name:"min-width-bias-left",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-width-bias-right",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-height",type:G.size,triggersBounds:W.any},{name:"min-height-bias-top",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-height-bias-bottom",type:G.sizeMaybePercent,triggersBounds:W.any}],k=[{name:"line-style",type:G.lineStyle},{name:"line-color",type:G.color},{name:"line-fill",type:G.fill},{name:"line-cap",type:G.lineCap},{name:"line-opacity",type:G.zeroOneNumber},{name:"line-dash-pattern",type:G.numbers},{name:"line-dash-offset",type:G.number},{name:"line-outline-width",type:G.size},{name:"line-outline-color",type:G.color},{name:"line-gradient-stop-colors",type:G.colors},{name:"line-gradient-stop-positions",type:G.percentages},{name:"curve-style",type:G.curveStyle,triggersBounds:W.any,triggersBoundsOfParallelEdges:function(t,n){if(t===n)return!1;return t==="bezier"||n==="bezier"}},{name:"haystack-radius",type:G.zeroOneNumber,triggersBounds:W.any},{name:"source-endpoint",type:G.edgeEndpoint,triggersBounds:W.any},{name:"target-endpoint",type:G.edgeEndpoint,triggersBounds:W.any},{name:"control-point-step-size",type:G.size,triggersBounds:W.any},{name:"control-point-distances",type:G.bidirectionalSizes,triggersBounds:W.any},{name:"control-point-weights",type:G.numbers,triggersBounds:W.any},{name:"segment-distances",type:G.bidirectionalSizes,triggersBounds:W.any},{name:"segment-weights",type:G.numbers,triggersBounds:W.any},{name:"segment-radii",type:G.numbers,triggersBounds:W.any},{name:"radius-type",type:G.radiusType,triggersBounds:W.any},{name:"taxi-turn",type:G.bidirectionalSizeMaybePercent,triggersBounds:W.any},{name:"taxi-turn-min-distance",type:G.size,triggersBounds:W.any},{name:"taxi-direction",type:G.axisDirection,triggersBounds:W.any},{name:"taxi-radius",type:G.number,triggersBounds:W.any},{name:"edge-distances",type:G.edgeDistances,triggersBounds:W.any},{name:"arrow-scale",type:G.positiveNumber,triggersBounds:W.any},{name:"loop-direction",type:G.angle,triggersBounds:W.any},{name:"loop-sweep",type:G.angle,triggersBounds:W.any},{name:"source-distance-from-node",type:G.size,triggersBounds:W.any},{name:"target-distance-from-node",type:G.size,triggersBounds:W.any}],w=[{name:"ghost",type:G.bool,triggersBounds:W.any},{name:"ghost-offset-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"ghost-offset-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"ghost-opacity",type:G.zeroOneNumber}],P=[{name:"selection-box-color",type:G.color},{name:"selection-box-opacity",type:G.zeroOneNumber},{name:"selection-box-border-color",type:G.color},{name:"selection-box-border-width",type:G.size},{name:"active-bg-color",type:G.color},{name:"active-bg-opacity",type:G.zeroOneNumber},{name:"active-bg-size",type:G.size},{name:"outside-texture-bg-color",type:G.color},{name:"outside-texture-bg-opacity",type:G.zeroOneNumber}],T=[];K7.pieBackgroundN=16,T.push({name:"pie-size",type:G.sizeMaybePercent}),T.push({name:"pie-hole",type:G.sizeMaybePercent}),T.push({name:"pie-start-angle",type:G.angle});for(var S=1;S<=K7.pieBackgroundN;S++)T.push({name:"pie-"+S+"-background-color",type:G.color}),T.push({name:"pie-"+S+"-background-size",type:G.percent}),T.push({name:"pie-"+S+"-background-opacity",type:G.zeroOneNumber});var f=[];K7.stripeBackgroundN=16,f.push({name:"stripe-size",type:G.sizeMaybePercent}),f.push({name:"stripe-direction",type:G.axisDirectionPrimary});for(var v=1;v<=K7.stripeBackgroundN;v++)f.push({name:"stripe-"+v+"-background-color",type:G.color}),f.push({name:"stripe-"+v+"-background-size",type:G.percent}),f.push({name:"stripe-"+v+"-background-opacity",type:G.zeroOneNumber});var x=[],b=K7.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:G.arrowShape,triggersBounds:W.any},{name:"arrow-color",type:G.color},{name:"arrow-fill",type:G.arrowFill},{name:"arrow-width",type:G.arrowWidth}].forEach(function(Q0){b.forEach(function(t){var n=t+"-"+Q0.name,Y0=Q0.type,o=Q0.triggersBounds;x.push({name:n,type:Y0,triggersBounds:o})})},{});var y=K7.properties=[].concat(O,A,R,D,L,w,B,M,z,H,F,N,E,j,C,T,f,$,k,x,P),u=K7.propertyGroups={behavior:O,transition:A,visibility:R,overlay:D,underlay:L,ghost:w,commonLabel:B,labelDimensions:M,mainLabel:z,sourceLabel:H,targetLabel:F,nodeBody:N,nodeBorder:E,nodeOutline:j,backgroundImage:C,pie:T,stripe:f,compound:$,edgeLine:k,edgeArrow:x,core:P},h=K7.propertyGroupNames={},p=K7.propertyGroupKeys=Object.keys(u);p.forEach(function(Q0){h[Q0]=u[Q0].map(function(t){return t.name}),u[Q0].forEach(function(t){return t.groupKey=Q0})});var r=K7.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];K7.propertyNames=y.map(function(Q0){return Q0.name});for(var e=0;e<y.length;e++){var i=y[e];y[i.name]=i}for(var U0=0;U0<r.length;U0++){var a=r[U0],z0=y[a.pointsTo],J0={name:a.name,alias:!0,pointsTo:z0};y.push(J0),y[a.name]=J0}})();K7.getDefaultProperty=function(Z){return this.getDefaultProperties()[Z]};K7.getDefaultProperties=function(){var Z=this._private;if(Z.defaultProperties!=null)return Z.defaultProperties;var J=Y9({"selection-box-color":"#ddd","selection-box-opacity":0.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":0.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":0.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(W,G){for(var z=1;z<=K7.pieBackgroundN;z++){var H=G.name.replace("{{i}}",z),F=G.value;W[H]=F}return W},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(W,G){for(var z=1;z<=K7.stripeBackgroundN;z++){var H=G.name.replace("{{i}}",z),F=G.value;W[H]=F}return W},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":0.5,"segment-weights":0.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(W,G){return K7.arrowPrefixes.forEach(function(z){var H=z+"-"+G.name,F=G.value;W[H]=F}),W},{})),Q={};for(var K=0;K<this.properties.length;K++){var X=this.properties[K];if(X.pointsTo)continue;var U=X.name,Y=J[U],q=this.parse(U,Y);Q[U]=q}return Z.defaultProperties=Q,Z.defaultProperties};K7.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":0.25}),this.defaultLength=this.length};oS={};oS.parse=function(Z,J,Q,K){var X=this;if(wJ(J))return X.parseImplWarn(Z,J,Q,K);var U=K==="mapping"||K===!0||K===!1||K==null?"dontcare":K,Y=Q?"t":"f",q=""+J,W=tI0(Z,q,Y,U),G=X.propCache=X.propCache||[],z;if(!(z=G[W]))z=G[W]=X.parseImplWarn(Z,J,Q,K);if(Q||K==="mapping"){if(z=lX(z),z)z.value=lX(z.value)}return z};oS.parseImplWarn=function(Z,J,Q,K){var X=this.parseImpl(Z,J,Q,K);if(!X&&J!=null)NZ("The style property `".concat(Z,": ").concat(J,"` is invalid"));if(X&&(X.name==="width"||X.name==="height")&&J==="label")NZ("The style value of `label` is deprecated for `"+X.name+"`");return X};oS.parseImpl=function(Z,J,Q,K){var X=this;Z=Ei(Z);var U=X.properties[Z],Y=J,q=X.types;if(!U)return null;if(J===void 0)return null;if(U.alias)U=U.pointsTo,Z=U.name;var W=Z9(J);if(W)J=J.trim();var G=U.type;if(!G)return null;if(Q&&(J===""||J===null))return{name:Z,value:J,bypass:!0,deleteBypass:!0};if(wJ(J))return{name:Z,value:J,strValue:"fn",mapped:q.fn,bypass:Q};var z,H;if(!W||K||J.length<7||J[1]!=="a");else if(J.length>=7&&J[0]==="d"&&(z=new RegExp(q.data.regex).exec(J))){if(Q)return!1;var F=q.data;return{name:Z,value:z,strValue:""+J,mapped:F,field:z[1],bypass:Q}}else if(J.length>=10&&J[0]==="m"&&(H=new RegExp(q.mapData.regex).exec(J))){if(Q)return!1;if(G.multiple)return!1;var M=q.mapData;if(!(G.color||G.number))return!1;var B=this.parse(Z,H[4]);if(!B||B.mapped)return!1;var O=this.parse(Z,H[5]);if(!O||O.mapped)return!1;if(B.pfValue===O.pfValue||B.strValue===O.strValue)return NZ("`"+Z+": "+J+"` is not a valid mapper because the output range is zero; converting to `"+Z+": "+B.strValue+"`"),this.parse(Z,B.strValue);else if(G.color){var R=B.value,D=O.value,L=R[0]===D[0]&&R[1]===D[1]&&R[2]===D[2]&&(R[3]===D[3]||(R[3]==null||R[3]===1)&&(D[3]==null||D[3]===1));if(L)return!1}return{name:Z,value:H,strValue:""+J,mapped:M,field:H[1],fieldMin:parseFloat(H[2]),fieldMax:parseFloat(H[3]),valueMin:B.value,valueMax:O.value,bypass:Q}}if(G.multiple&&K!=="multiple"){var A;if(W)A=J.split(/\s+/);else if(uZ(J))A=J;else A=[J];if(G.evenMultiple&&A.length%2!==0)return null;var V=[],N=[],E=[],j="",C=!1;for(var $=0;$<A.length;$++){var k=X.parse(Z,A[$],Q,"multiple");C=C||Z9(k.value),V.push(k.value),E.push(k.pfValue!=null?k.pfValue:k.value),N.push(k.units),j+=($>0?" ":"")+k.strValue}if(G.validate&&!G.validate(V,N))return null;if(G.singleEnum&&C)if(V.length===1&&Z9(V[0]))return{name:Z,value:V[0],strValue:V[0],bypass:Q};else return null;return{name:Z,value:V,pfValue:E,strValue:j,bypass:Q,units:N}}var w=function(){for(var J0=0;J0<G.enums.length;J0++){var Q0=G.enums[J0];if(Q0===J)return{name:Z,value:J,strValue:""+J,bypass:Q}}return null};if(G.number){var P,T="px";if(G.units)P=G.units;if(G.implicitUnits)T=G.implicitUnits;if(!G.unitless){if(W){var S="px|em"+(G.allowPercent?"|\\%":"");if(P)S=P;var f=J.match("^("+A7+")("+S+")?$");if(f)J=f[1],P=f[2]||T}else if(!P||G.implicitUnits)P=T}if(J=parseFloat(J),isNaN(J)&&G.enums===void 0)return null;if(isNaN(J)&&G.enums!==void 0)return J=Y,w();if(G.integer&&!EH8(J))return null;if(G.min!==void 0&&(J<G.min||G.strictMin&&J===G.min)||G.max!==void 0&&(J>G.max||G.strictMax&&J===G.max))return null;var v={name:Z,value:J,strValue:""+J+(P?P:""),units:P,bypass:Q};if(G.unitless||P!=="px"&&P!=="em")v.pfValue=J;else v.pfValue=P==="px"||!P?J:this.getEmSizeInPixels()*J;if(P==="ms"||P==="s")v.pfValue=P==="ms"?J:1000*J;if(P==="deg"||P==="rad")v.pfValue=P==="rad"?J:_28(J);if(P==="%")v.pfValue=J/100;return v}else if(G.propList){var x=[],b=""+J;if(b==="none");else{var y=b.split(/\s*,\s*|\s+/);for(var u=0;u<y.length;u++){var h=y[u].trim();if(X.properties[h])x.push(h);else NZ("`"+h+"` is not a valid property name")}if(x.length===0)return null}return{name:Z,value:x,strValue:x.length===0?"none":x.join(" "),bypass:Q}}else if(G.color){var p=dI0(J);if(!p)return null;return{name:Z,value:p,pfValue:p,strValue:"rgb("+p[0]+","+p[1]+","+p[2]+")",bypass:Q}}else if(G.regex||G.regexes){if(G.enums){var r=w();if(r)return r}var e=G.regexes?G.regexes:[G.regex];for(var i=0;i<e.length;i++){var U0=new RegExp(e[i]),a=U0.exec(J);if(a)return{name:Z,value:G.singleRegexMatchValue?a[1]:a,strValue:""+J,bypass:Q}}return null}else if(G.string)return{name:Z,value:""+J,strValue:""+J,bypass:Q};else if(G.enums)return w();else return null};$Q=y7.prototype;$Q.instanceString=function(){return"style"};$Q.clear=function(){var Z=this._private,J=Z.cy,Q=J.elements();for(var K=0;K<this.length;K++)this[K]=void 0;return this.length=0,Z.contextStyles={},Z.propDiffs={},this.cleanElements(Q,!0),Q.forEach(function(X){var U=X[0]._private;U.styleDirty=!0,U.appliedInitStyle=!1}),this};$Q.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};$Q.core=function(Z){return this._private.coreStyle[Z]||this.getDefaultProperty(Z)};$Q.selector=function(Z){var J=Z==="core"?null:new Cq(Z),Q=this.length++;return this[Q]={selector:J,properties:[],mappedProperties:[],index:Q},this};$Q.css=function(){var Z=this,J=arguments;if(J.length===1){var Q=J[0];for(var K=0;K<Z.properties.length;K++){var X=Z.properties[K],U=Q[X.name];if(U===void 0)U=Q[yS(X.name)];if(U!==void 0)this.cssRule(X.name,U)}}else if(J.length===2)this.cssRule(J[0],J[1]);return this};$Q.style=$Q.css;$Q.cssRule=function(Z,J){var Q=this.parse(Z,J);if(Q){var K=this.length-1;if(this[K].properties.push(Q),this[K].properties[Q.name]=Q,Q.name.match(/pie-(\d+)-background-size/)&&Q.value)this._private.hasPie=!0;if(Q.name.match(/stripe-(\d+)-background-size/)&&Q.value)this._private.hasStripe=!0;if(Q.mapped)this[K].mappedProperties.push(Q);var X=!this[K].selector;if(X)this._private.coreStyle[Q.name]=Q}return this};$Q.append=function(Z){if(pI0(Z))Z.appendToStyle(this);else if(uZ(Z))this.appendFromJson(Z);else if(Z9(Z))this.appendFromString(Z);return this};y7.fromJson=function(Z,J){var Q=new y7(Z);return Q.fromJson(J),Q};y7.fromString=function(Z,J){return new y7(Z).fromString(J)};[h7,_L,hi,dX,aS,mi,K7,oS].forEach(function(Z){Y9($Q,Z)});y7.types=$Q.types;y7.properties=$Q.properties;y7.propertyGroups=$Q.propertyGroups;y7.propertyGroupNames=$Q.propertyGroupNames;y7.propertyGroupKeys=$Q.propertyGroupKeys;bB8={style:function(J){if(J){var Q=this.setStyle(J);Q.update()}return this._private.style},setStyle:function(J){var Q=this._private;if(pI0(J))Q.style=J.generateStyle(this);else if(uZ(J))Q.style=y7.fromJson(this,J);else if(Z9(J))Q.style=y7.fromString(this,J);else Q.style=y7(this);return Q.style},updateStyle:function(){this.mutableElements().updateStyle()}},Rz={autolock:function(J){if(J!==void 0)this._private.autolock=J?!0:!1;else return this._private.autolock;return this},autoungrabify:function(J){if(J!==void 0)this._private.autoungrabify=J?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function(J){if(J!==void 0)this._private.autounselectify=J?!0:!1;else return this._private.autounselectify;return this},selectionType:function(J){var Q=this._private;if(Q.selectionType==null)Q.selectionType=yB8;if(J!==void 0){if(J==="additive"||J==="single")Q.selectionType=J}else return Q.selectionType;return this},panningEnabled:function(J){if(J!==void 0)this._private.panningEnabled=J?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function(J){if(J!==void 0)this._private.userPanningEnabled=J?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(J){if(J!==void 0)this._private.zoomingEnabled=J?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(J){if(J!==void 0)this._private.userZoomingEnabled=J?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(J){if(J!==void 0)this._private.boxSelectionEnabled=J?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function(){var J=arguments,Q=this._private.pan,K,X,U,Y,q;switch(J.length){case 0:return Q;case 1:if(Z9(J[0]))return K=J[0],Q[K];else if(qZ(J[0])){if(!this._private.panningEnabled)return this;if(U=J[0],Y=U.x,q=U.y,P8(Y))Q.x=Y;if(P8(q))Q.y=q;this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;if(K=J[0],X=J[1],(K==="x"||K==="y")&&P8(X))Q[K]=X;this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(J,Q){var K=arguments,X=this._private.pan,U,Y,q,W,G;if(!this._private.panningEnabled)return this;switch(K.length){case 1:if(qZ(J)){if(q=K[0],W=q.x,G=q.y,P8(W))X.x+=W;if(P8(G))X.y+=G;this.emit("pan viewport")}break;case 2:if(U=J,Y=Q,(U==="x"||U==="y")&&P8(Y))X[U]+=Y;this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(J,Q){var K=this.getFitViewport(J,Q);if(K){var X=this._private;X.zoom=K.zoom,X.pan=K.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(J,Q){if(P8(J)&&Q===void 0)Q=J,J=void 0;if(!this._private.panningEnabled||!this._private.zoomingEnabled)return;var K;if(Z9(J)){var X=J;J=this.$(X)}else if(jH8(J)){var U=J;K={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2},K.w=K.x2-K.x1,K.h=K.y2-K.y1}else if(!y4(J))J=this.mutableElements();if(y4(J)&&J.empty())return;K=K||J.boundingBox();var Y=this.width(),q=this.height(),W;if(Q=P8(Q)?Q:0,!isNaN(Y)&&!isNaN(q)&&Y>0&&q>0&&!isNaN(K.w)&&!isNaN(K.h)&&K.w>0&&K.h>0){W=Math.min((Y-2*Q)/K.w,(q-2*Q)/K.h),W=W>this._private.maxZoom?this._private.maxZoom:W,W=W<this._private.minZoom?this._private.minZoom:W;var G={x:(Y-W*(K.x1+K.x2))/2,y:(q-W*(K.y1+K.y2))/2};return{zoom:W,pan:G}}return},zoomRange:function(J,Q){var K=this._private;if(Q==null){var X=J;J=X.min,Q=X.max}if(P8(J)&&P8(Q)&&J<=Q)K.minZoom=J,K.maxZoom=Q;else if(P8(J)&&Q===void 0&&J<=K.maxZoom)K.minZoom=J;else if(P8(Q)&&J===void 0&&Q>=K.minZoom)K.maxZoom=Q;return this},minZoom:function(J){if(J===void 0)return this._private.minZoom;else return this.zoomRange({min:J})},maxZoom:function(J){if(J===void 0)return this._private.maxZoom;else return this.zoomRange({max:J})},getZoomedViewport:function(J){var Q=this._private,K=Q.pan,X=Q.zoom,U,Y,q=!1;if(!Q.zoomingEnabled)q=!0;if(P8(J))Y=J;else if(qZ(J)){if(Y=J.level,J.position!=null)U=uS(J.position,X,K);else if(J.renderedPosition!=null)U=J.renderedPosition;if(U!=null&&!Q.panningEnabled)q=!0}if(Y=Y>Q.maxZoom?Q.maxZoom:Y,Y=Y<Q.minZoom?Q.minZoom:Y,q||!P8(Y)||Y===X||U!=null&&(!P8(U.x)||!P8(U.y)))return null;if(U!=null){var W=K,G=X,z=Y,H={x:-z/G*(U.x-W.x)+U.x,y:-z/G*(U.y-W.y)+U.y};return{zoomed:!0,panned:!0,zoom:z,pan:H}}else return{zoomed:!0,panned:!1,zoom:Y,pan:K}},zoom:function(J){if(J===void 0)return this._private.zoom;else{var Q=this.getZoomedViewport(J),K=this._private;if(Q==null||!Q.zoomed)return this;if(K.zoom=Q.zoom,Q.panned)K.pan.x=Q.pan.x,K.pan.y=Q.pan.y;return this.emit("zoom"+(Q.panned?" pan":"")+" viewport"),this.notify("viewport"),this}},viewport:function(J){var Q=this._private,K=!0,X=!0,U=[],Y=!1,q=!1;if(!J)return this;if(!P8(J.zoom))K=!1;if(!qZ(J.pan))X=!1;if(!K&&!X)return this;if(K){var W=J.zoom;if(W<Q.minZoom||W>Q.maxZoom||!Q.zoomingEnabled)Y=!0;else Q.zoom=W,U.push("zoom")}if(X&&(!Y||!J.cancelOnFailedZoom)&&Q.panningEnabled){var G=J.pan;if(P8(G.x))Q.pan.x=G.x,q=!1;if(P8(G.y))Q.pan.y=G.y,q=!1;if(!q)U.push("pan")}if(U.length>0)U.push("viewport"),this.emit(U.join(" ")),this.notify("viewport");return this},center:function(J){var Q=this.getCenterPan(J);if(Q)this._private.pan=Q,this.emit("pan viewport"),this.notify("viewport");return this},getCenterPan:function(J,Q){if(!this._private.panningEnabled)return;if(Z9(J)){var K=J;J=this.mutableElements().filter(K)}else if(!y4(J))J=this.mutableElements();if(J.length===0)return;var X=J.boundingBox(),U=this.width(),Y=this.height();Q=Q===void 0?this._private.zoom:Q;var q={x:(U-Q*(X.x1+X.x2))/2,y:(Y-Q*(X.y1+X.y2))/2};return q},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;return this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var J=this._private,Q=J.container,K=this;return J.sizeCache=J.sizeCache||(Q?function(){var X=K.window().getComputedStyle(Q),U=function(q){return parseFloat(X.getPropertyValue(q))};return{width:Q.clientWidth-U("padding-left")-U("padding-right"),height:Q.clientHeight-U("padding-top")-U("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var J=this._private.pan,Q=this._private.zoom,K=this.renderedExtent(),X={x1:(K.x1-J.x)/Q,x2:(K.x2-J.x)/Q,y1:(K.y1-J.y)/Q,y2:(K.y2-J.y)/Q};return X.w=X.x2-X.x1,X.h=X.y2-X.y1,X},renderedExtent:function(){var J=this.width(),Q=this.height();return{x1:0,y1:0,x2:J,y2:Q,w:J,h:Q}},multiClickDebounceTime:function(J){if(J)this._private.multiClickDebounceTime=J;else return this._private.multiClickDebounceTime;return this}};Rz.centre=Rz.center;Rz.autolockNodes=Rz.autolock;Rz.autoungrabifyNodes=Rz.autoungrabify;NL={data:AZ.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:AZ.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:AZ.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:AZ.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};NL.attr=NL.data;NL.removeAttr=NL.removeData;kS=EL.prototype;Y9(kS,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(J){if(this.isReady())this.emitter().emit("ready",[],J);else this.on("ready",J);return this},destroy:function(){var J=this;if(J.destroyed())return;return J.stopAnimationLoop(),J.destroyRenderer(),this.emit("destroy"),J._private.destroyed=!0,J},hasElementWithId:function(J){return this._private.elements.hasElementWithId(J)},getElementById:function(J){return this._private.elements.getElementById(J)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(J){return this._private.elements.merge(J),this},removeFromPool:function(J){return this._private.elements.unmerge(J),this},container:function(){return this._private.container||null},window:function(){var J=this._private.container;if(J==null)return I7;var Q=this._private.container.ownerDocument;if(Q===void 0||Q==null)return I7;return Q.defaultView||I7},mount:function(J){if(J==null)return;var Q=this,K=Q._private,X=K.options;if(!PS(J)&&PS(J[0]))J=J[0];return Q.stopAnimationLoop(),Q.destroyRenderer(),K.container=J,K.styleEnabled=!0,Q.invalidateSize(),Q.initRenderer(Y9({},X,X.renderer,{name:X.renderer.name==="null"?"canvas":X.renderer.name})),Q.startAnimationLoop(),Q.style(X.style),Q.emit("mount"),Q},unmount:function(){var J=this;return J.stopAnimationLoop(),J.destroyRenderer(),J.initRenderer({name:"null"}),J.emit("unmount"),J},options:function(){return lX(this._private.options)},json:function(J){var Q=this,K=Q._private,X=Q.mutableElements(),U=function(V){return Q.getElementById(V.id())};if(qZ(J)){if(Q.startBatch(),J.elements){var Y={},q=function(V,N){var E=[],j=[];for(var C=0;C<V.length;C++){var $=V[C];if(!$.data.id){NZ("cy.json() cannot handle elements without an ID attribute");continue}var k=""+$.data.id,w=Q.getElementById(k);if(Y[k]=!0,w.length!==0)j.push({ele:w,json:$});else if(N)$.group=N,E.push($);else E.push($)}Q.add(E);for(var P=0;P<j.length;P++){var T=j[P],S=T.ele,f=T.json;S.json(f)}};if(uZ(J.elements))q(J.elements);else{var W=["nodes","edges"];for(var G=0;G<W.length;G++){var z=W[G],H=J.elements[z];if(uZ(H))q(H,z)}}var F=Q.collection();X.filter(function(A){return!Y[A.id()]}).forEach(function(A){if(A.isParent())F.merge(A);else A.remove()}),F.forEach(function(A){return A.children().move({parent:null})}),F.forEach(function(A){return U(A).remove()})}if(J.style)Q.style(J.style);if(J.zoom!=null&&J.zoom!==K.zoom)Q.zoom(J.zoom);if(J.pan){if(J.pan.x!==K.pan.x||J.pan.y!==K.pan.y)Q.pan(J.pan)}if(J.data)Q.data(J.data);var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"];for(var B=0;B<M.length;B++){var O=M[B];if(J[O]!=null)Q[O](J[O])}return Q.endBatch(),this}else{var R=!!J,D={};if(R)D.elements=this.elements().map(function(A){return A.json()});else D.elements={},X.forEach(function(A){var V=A.group();if(!D.elements[V])D.elements[V]=[];D.elements[V].push(A.json())});if(this._private.styleEnabled)D.style=Q.style().json();D.data=lX(Q.data());var L=K.options;return D.zoomingEnabled=K.zoomingEnabled,D.userZoomingEnabled=K.userZoomingEnabled,D.zoom=K.zoom,D.minZoom=K.minZoom,D.maxZoom=K.maxZoom,D.panningEnabled=K.panningEnabled,D.userPanningEnabled=K.userPanningEnabled,D.pan=lX(K.pan),D.boxSelectionEnabled=K.boxSelectionEnabled,D.renderer=lX(L.renderer),D.hideEdgesOnViewport=L.hideEdgesOnViewport,D.textureOnViewport=L.textureOnViewport,D.wheelSensitivity=L.wheelSensitivity,D.motionBlur=L.motionBlur,D.multiClickDebounceTime=L.multiClickDebounceTime,D}}});kS.$id=kS.getElementById;[CB8,kB8,pA0,Gi,LS,fB8,zi,IS,bB8,Rz,NL].forEach(function(Z){Y9(kS,Z)});hB8={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}},mB8={maximal:!1,acyclic:!1};cA0.prototype.run=function(){var Z=this.options,J=Z.cy,Q=Z.eles,K=Q.nodes().filter(function(c0){return c0.isChildless()}),X=Q,U=Z.directed,Y=Z.acyclic||Z.maximal||Z.maximalAdjustments>0,q=!!Z.boundingBox,W=q6(q?Z.boundingBox:structuredClone(J.extent())),G;if(y4(Z.roots))G=Z.roots;else if(uZ(Z.roots)){var z=[];for(var H=0;H<Z.roots.length;H++){var F=Z.roots[H],M=J.getElementById(F);z.push(M)}G=J.collection(z)}else if(Z9(Z.roots))G=J.$(Z.roots);else if(U)G=K.roots();else{var B=Q.components();G=J.collection();var O=function(){var B0=B[R],y0=B0.maxDegree(!1),n0=B0.filter(function(s0){return s0.degree(!1)===y0});G=G.add(n0)};for(var R=0;R<B.length;R++)O()}var D=[],L={},A=function(B0,y0){if(D[y0]==null)D[y0]=[];var n0=D[y0].length;D[y0].push(B0),zI0(B0,{index:n0,depth:y0})},V=function(B0,y0){var n0=GF(B0),s0=n0.depth,k0=n0.index;if(D[s0][k0]=null,B0.isChildless())A(B0,y0)};X.bfs({roots:G,directed:Z.directed,visit:function(B0,y0,n0,s0,k0){var x0=B0[0],f0=x0.id();if(x0.isChildless())A(x0,k0);L[f0]=!0}});var N=[];for(var E=0;E<K.length;E++){var j=K[E];if(L[j.id()])continue;else N.push(j)}var C=function(B0){var y0=D[B0];for(var n0=0;n0<y0.length;n0++){var s0=y0[n0];if(s0==null){y0.splice(n0,1),n0--;continue}zI0(s0,{depth:B0,index:n0})}},$=function(B0,y0){var n0=GF(B0),s0=B0.incomers().filter(function(I0){return I0.isNode()&&Q.has(I0)}),k0=-1,x0=B0.id();for(var f0=0;f0<s0.length;f0++){var C0=s0[f0],h0=GF(C0);k0=Math.max(k0,h0.depth)}if(n0.depth<=k0){if(!Z.acyclic&&y0[x0])return null;var F0=k0+1;return V(B0,F0),y0[x0]=F0,!0}return!1};if(U&&Y){var k=[],w={},P=function(B0){return k.push(B0)},T=function(){return k.shift()};K.forEach(function(c0){return k.push(c0)});while(k.length>0){var S=T(),f=$(S,w);if(f)S.outgoers().filter(function(c0){return c0.isNode()&&Q.has(c0)}).forEach(P);else if(f===null){NZ("Detected double maximal shift for node `"+S.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var v=0;if(Z.avoidOverlap)for(var x=0;x<K.length;x++){var b=K[x],y=b.layoutDimensions(Z),u=y.w,h=y.h;v=Math.max(v,u,h)}var p={},r=function(B0){if(p[B0.id()])return p[B0.id()];var y0=GF(B0).depth,n0=B0.neighborhood(),s0=0,k0=0;for(var x0=0;x0<n0.length;x0++){var f0=n0[x0];if(f0.isEdge()||f0.isParent()||!K.has(f0))continue;var C0=GF(f0);if(C0==null)continue;var{index:h0,depth:F0}=C0;if(h0==null||F0==null)continue;var I0=D[F0].length;if(F0<y0)s0+=h0/I0,k0++}if(k0=Math.max(1,k0),s0=s0/k0,k0===0)s0=0;return p[B0.id()]=s0,s0},e=function(B0,y0){var n0=r(B0),s0=r(y0),k0=n0-s0;if(k0===0)return lI0(B0.id(),y0.id());else return k0};if(Z.depthSort!==void 0)e=Z.depthSort;var i=D.length;for(var U0=0;U0<i;U0++)D[U0].sort(e),C(U0);var a=[];for(var z0=0;z0<N.length;z0++)a.push(N[z0]);var J0=function(){for(var B0=0;B0<i;B0++)C(B0)};if(a.length)D.unshift(a),i=D.length,J0();var Q0=0;for(var t=0;t<i;t++)Q0=Math.max(D[t].length,Q0);var n={x:W.x1+W.w/2,y:W.y1+W.h/2},Y0=K.reduce(function(c0,B0){return function(y0){return{w:c0.w===-1?y0.w:(c0.w+y0.w)/2,h:c0.h===-1?y0.h:(c0.h+y0.h)/2}}(B0.boundingBox({includeLabels:Z.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),o=Math.max(i===1?0:q?(W.h-Z.padding*2-Y0.h)/(i-1):(W.h-Z.padding*2-Y0.h)/(i+1),v),M0=D.reduce(function(c0,B0){return Math.max(c0,B0.length)},0),X0=function(B0){var y0=GF(B0),n0=y0.depth,s0=y0.index;if(Z.circle){var k0=Math.min(W.w/2/i,W.h/2/i);k0=Math.max(k0,v);var x0=k0*n0+k0-(i>0&&D[0].length<=3?k0/2:0),f0=2*Math.PI/D[n0].length*s0;if(n0===0&&D[0].length===1)x0=1;return{x:n.x+x0*Math.cos(f0),y:n.y+x0*Math.sin(f0)}}else{var C0=D[n0].length,h0=Math.max(C0===1?0:q?(W.w-Z.padding*2-Y0.w)/((Z.grid?M0:C0)-1):(W.w-Z.padding*2-Y0.w)/((Z.grid?M0:C0)+1),v),F0={x:n.x+(s0+1-(C0+1)/2)*h0,y:n.y+(n0+1-(i+1)/2)*o};return F0}},E0={downward:0,leftward:90,upward:180,rightward:-90};if(Object.keys(E0).indexOf(Z.direction)===-1)LJ("Invalid direction '".concat(Z.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(E0).join(", ")));var d=function(B0){return J28(X0(B0),W,E0[Z.direction])};return Q.nodes().layoutPositions(this,Z,d),this};uB8={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};lA0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,X=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,U=K.nodes().not(":parent");if(J.sort)U=U.sort(J.sort);var Y=q6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},W=J.sweep===void 0?2*Math.PI-2*Math.PI/U.length:J.sweep,G=W/Math.max(1,U.length-1),z,H=0;for(var F=0;F<U.length;F++){var M=U[F],B=M.layoutDimensions(J),O=B.w,R=B.h;H=Math.max(H,O,R)}if(P8(J.radius))z=J.radius;else if(U.length<=1)z=0;else z=Math.min(Y.h,Y.w)/2-H;if(U.length>1&&J.avoidOverlap){H*=1.75;var D=Math.cos(G)-Math.cos(0),L=Math.sin(G)-Math.sin(0),A=Math.sqrt(H*H/(D*D+L*L));z=Math.max(A,z)}var V=function(E,j){var C=J.startAngle+j*G*(X?1:-1),$=z*Math.cos(C),k=z*Math.sin(C),w={x:q.x+$,y:q.y+k};return w};return K.nodes().layoutPositions(this,J,V),this};gB8={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(J){return J.degree()},levelWidth:function(J){return J.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};dA0.prototype.run=function(){var Z=this.options,J=Z,Q=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,K=Z.cy,X=J.eles,U=X.nodes().not(":parent"),Y=q6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:K.width(),h:K.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},W=[],G=0;for(var z=0;z<U.length;z++){var H=U[z],F=void 0;F=J.concentric(H),W.push({value:F,node:H}),H._private.scratch.concentric=F}U.updateStyle();for(var M=0;M<U.length;M++){var B=U[M],O=B.layoutDimensions(J);G=Math.max(G,O.w,O.h)}W.sort(function(o,M0){return M0.value-o.value});var R=J.levelWidth(U),D=[[]],L=D[0];for(var A=0;A<W.length;A++){var V=W[A];if(L.length>0){var N=Math.abs(L[0].value-V.value);if(N>=R)L=[],D.push(L)}L.push(V)}var E=G+J.minNodeSpacing;if(!J.avoidOverlap){var j=D.length>0&&D[0].length>1,C=Math.min(Y.w,Y.h)/2-E,$=C/(D.length+j?1:0);E=Math.min(E,$)}var k=0;for(var w=0;w<D.length;w++){var P=D[w],T=J.sweep===void 0?2*Math.PI-2*Math.PI/P.length:J.sweep,S=P.dTheta=T/Math.max(1,P.length-1);if(P.length>1&&J.avoidOverlap){var f=Math.cos(S)-Math.cos(0),v=Math.sin(S)-Math.sin(0),x=Math.sqrt(E*E/(f*f+v*v));k=Math.max(x,k)}P.r=k,k+=E}if(J.equidistant){var b=0,y=0;for(var u=0;u<D.length;u++){var h=D[u],p=h.r-y;b=Math.max(b,p)}y=0;for(var r=0;r<D.length;r++){var e=D[r];if(r===0)y=e.r;e.r=y,y+=b}}var i={};for(var U0=0;U0<D.length;U0++){var a=D[U0],z0=a.dTheta,J0=a.r;for(var Q0=0;Q0<a.length;Q0++){var t=a[Q0],n=J.startAngle+(Q?1:-1)*z0*Q0,Y0={x:q.x+J0*Math.cos(n),y:q.y+J0*Math.sin(n)};i[t.node.id()]=Y0}}return X.nodes().layoutPositions(this,J,function(o){var M0=o.id();return i[M0]}),this};pB8={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(J,Q){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(J){return 2048},nodeOverlap:4,idealEdgeLength:function(J){return 32},edgeElasticity:function(J){return 32},nestingFactor:1.2,gravity:1,numIter:1000,initialTemp:1000,coolingFactor:0.99,minTemp:1};tS.prototype.run=function(){var Z=this.options,J=Z.cy,Q=this;if(Q.stopped=!1,Z.animate===!0||Z.animate===!1)Q.emit({type:"layoutstart",layout:Q});if(Z.debug===!0)dd=!0;else dd=!1;var K=cB8(J,Q,Z);if(dd)dB8(K);if(Z.randomize)iB8(K);var X=NY(),U=function(){if(sB8(K,J,Z),Z.fit===!0)J.fit(Z.padding)},Y=function(F){if(Q.stopped||F>=Z.numIter)return!1;if(rB8(K,Z),K.temperature=K.temperature*Z.coolingFactor,K.temperature<Z.minTemp)return!1;return!0},q=function(){if(Z.animate===!0||Z.animate===!1)U(),Q.one("layoutstop",Z.stop),Q.emit({type:"layoutstop",layout:Q});else{var F=Z.eles.nodes(),M=sA0(K,Z,F);F.layoutPositions(Q,Z,M)}},W=0,G=!0;if(Z.animate===!0){var z=function(){var F=0;while(G&&F<Z.refresh)G=Y(W),W++,F++;if(!G)FI0(K,Z),q();else{var M=NY();if(M-X>=Z.animationThreshold)U();jS(z)}};z()}else{while(G)G=Y(W),W++;FI0(K,Z),q()}return this};tS.prototype.stop=function(){if(this.stopped=!0,this.thread)this.thread.stop();return this.emit("layoutstop"),this};tS.prototype.destroy=function(){if(this.thread)this.thread.stop();return this};KO8={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(J){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};nA0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,X=K.nodes().not(":parent");if(J.sort)X=X.sort(J.sort);var U=q6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()});if(U.h===0||U.w===0)K.nodes().layoutPositions(this,J,function(r){return{x:U.x1,y:U.y1}});else{var Y=X.size(),q=Math.sqrt(Y*U.h/U.w),W=Math.round(q),G=Math.round(U.w/U.h*q),z=function(e){if(e==null)return Math.min(W,G);else{var i=Math.min(W,G);if(i==W)W=e;else G=e}},H=function(e){if(e==null)return Math.max(W,G);else{var i=Math.max(W,G);if(i==W)W=e;else G=e}},F=J.rows,M=J.cols!=null?J.cols:J.columns;if(F!=null&&M!=null)W=F,G=M;else if(F!=null&&M==null)W=F,G=Math.ceil(Y/W);else if(F==null&&M!=null)G=M,W=Math.ceil(Y/G);else if(G*W>Y){var B=z(),O=H();if((B-1)*O>=Y)z(B-1);else if((O-1)*B>=Y)H(O-1)}else while(G*W<Y){var R=z(),D=H();if((D+1)*R>=Y)H(D+1);else z(R+1)}var L=U.w/G,A=U.h/W;if(J.condense)L=0,A=0;if(J.avoidOverlap)for(var V=0;V<X.length;V++){var N=X[V],E=N._private.position;if(E.x==null||E.y==null)E.x=0,E.y=0;var j=N.layoutDimensions(J),C=J.avoidOverlapPadding,$=j.w+C,k=j.h+C;L=Math.max(L,$),A=Math.max(A,k)}var w={},P=function(e,i){return w["c-"+e+"-"+i]?!0:!1},T=function(e,i){w["c-"+e+"-"+i]=!0},S=0,f=0,v=function(){if(f++,f>=G)f=0,S++},x={};for(var b=0;b<X.length;b++){var y=X[b],u=J.position(y);if(u&&(u.row!==void 0||u.col!==void 0)){var h={row:u.row,col:u.col};if(h.col===void 0){h.col=0;while(P(h.row,h.col))h.col++}else if(h.row===void 0){h.row=0;while(P(h.row,h.col))h.row++}x[y.id()]=h,T(h.row,h.col)}}var p=function(e,i){var U0,a;if(e.locked()||e.isParent())return!1;var z0=x[e.id()];if(z0)U0=z0.col*L+L/2+U.x1,a=z0.row*A+A/2+U.y1;else{while(P(S,f))v();U0=f*L+L/2+U.x1,a=S*A+A/2+U.y1,T(S,f),v()}return{x:U0,y:a}};X.layoutPositions(this,J,p)}return this};XO8={ready:function(){},stop:function(){}};ui.prototype.run=function(){var Z=this.options,J=Z.eles,Q=this;return Z.cy,Q.emit("layoutstart"),J.nodes().positions(function(){return{x:0,y:0}}),Q.one("layoutready",Z.ready),Q.emit("layoutready"),Q.one("layoutstop",Z.stop),Q.emit("layoutstop"),this};ui.prototype.stop=function(){return this};UO8={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};aA0.prototype.run=function(){var Z=this.options,J=Z.eles,Q=J.nodes(),K=wJ(Z.positions);function X(U){if(Z.positions==null)return S28(U.position());if(K)return Z.positions(U);var Y=Z.positions[U._private.data.id];if(Y==null)return null;return Y}return Q.layoutPositions(this,Z,function(U,Y){var q=X(U);if(U.locked()||q==null)return!1;return q}),this};YO8={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};oA0.prototype.run=function(){var Z=this.options,J=Z.cy,Q=Z.eles,K=q6(Z.boundingBox?Z.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),X=function(Y,q){return{x:K.x1+Math.round(Math.random()*K.w),y:K.y1+Math.round(Math.random()*K.h)}};return Q.nodes().layoutPositions(this,Z,X),this};qO8=[{name:"breadthfirst",impl:cA0},{name:"circle",impl:lA0},{name:"concentric",impl:dA0},{name:"cose",impl:tS},{name:"grid",impl:nA0},{name:"null",impl:ui},{name:"preset",impl:aA0},{name:"random",impl:oA0}];tA0.prototype={recalculateRenderedStyle:MI0,notify:function(){this.notifications++},init:MI0,isHeadless:function(){return!0},png:BI0,jpg:BI0};gi={};gi.arrowShapeWidth=0.3;gi.registerArrowShapes=function(){var Z=this.arrowShapes={},J=this,Q=function(G,z,H,F,M,B,O){var R=M.x-H/2-O,D=M.x+H/2+O,L=M.y-H/2-O,A=M.y+H/2+O,V=R<=G&&G<=D&&L<=z&&z<=A;return V},K=function(G,z,H,F,M){var B=G*Math.cos(F)-z*Math.sin(F),O=G*Math.sin(F)+z*Math.cos(F),R=B*H,D=O*H,L=R+M.x,A=D+M.y;return{x:L,y:A}},X=function(G,z,H,F){var M=[];for(var B=0;B<G.length;B+=2){var O=G[B],R=G[B+1];M.push(K(O,R,z,H,F))}return M},U=function(G){var z=[];for(var H=0;H<G.length;H++){var F=G[H];z.push(F.x,F.y)}return z},Y=function(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").pfValue*2},q=function(G,z){if(Z9(z))z=Z[z];Z[G]=Y9({name:G,points:[-0.15,-0.3,0.15,-0.3,0.15,0.3,-0.15,0.3],collide:function(F,M,B,O,R,D){var L=U(X(this.points,B+2*D,O,R)),A=o6(F,M,L);return A},roughCollide:Q,draw:function(F,M,B,O){var R=X(this.points,M,B,O);J.arrowShapeImpl("polygon")(F,R)},spacing:function(F){return 0},gap:Y},z)};q("none",{collide:CS,roughCollide:CS,draw:ji,spacing:TD0,gap:TD0}),q("triangle",{points:[-0.15,-0.3,0,0,0.15,-0.3]}),q("arrow","triangle"),q("triangle-backcurve",{points:Z.triangle.points,controlPoint:[0,-0.15],roughCollide:Q,draw:function(G,z,H,F,M){var B=X(this.points,z,H,F),O=this.controlPoint,R=K(O[0],O[1],z,H,F);J.arrowShapeImpl(this.name)(G,B,R)},gap:function(G){return Y(G)*0.8}}),q("triangle-tee",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],pointsTee:[-0.15,-0.4,-0.15,-0.5,0.15,-0.5,0.15,-0.4],collide:function(G,z,H,F,M,B,O){var R=U(X(this.points,H+2*O,F,M)),D=U(X(this.pointsTee,H+2*O,F,M)),L=o6(G,z,R)||o6(G,z,D);return L},draw:function(G,z,H,F,M){var B=X(this.points,z,H,F),O=X(this.pointsTee,z,H,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("circle-triangle",{radius:0.15,pointsTr:[0,-0.15,0.15,-0.45,-0.15,-0.45,0,-0.15],collide:function(G,z,H,F,M,B,O){var R=M,D=Math.pow(R.x-G,2)+Math.pow(R.y-z,2)<=Math.pow((H+2*O)*this.radius,2),L=U(X(this.points,H+2*O,F,M));return o6(G,z,L)||D},draw:function(G,z,H,F,M){var B=X(this.pointsTr,z,H,F);J.arrowShapeImpl(this.name)(G,B,F.x,F.y,this.radius*z)},spacing:function(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("triangle-cross",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],baseCrossLinePts:[-0.15,-0.4,-0.15,-0.4,0.15,-0.4,0.15,-0.4],crossLinePts:function(G,z){var H=this.baseCrossLinePts.slice(),F=z/G,M=3,B=5;return H[M]=H[M]-F,H[B]=H[B]-F,H},collide:function(G,z,H,F,M,B,O){var R=U(X(this.points,H+2*O,F,M)),D=U(X(this.crossLinePts(H,B),H+2*O,F,M)),L=o6(G,z,R)||o6(G,z,D);return L},draw:function(G,z,H,F,M){var B=X(this.points,z,H,F),O=X(this.crossLinePts(z,M),z,H,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("vee",{points:[-0.15,-0.3,0,0,0.15,-0.3,0,-0.15],gap:function(G){return Y(G)*0.525}}),q("circle",{radius:0.15,collide:function(G,z,H,F,M,B,O){var R=M,D=Math.pow(R.x-G,2)+Math.pow(R.y-z,2)<=Math.pow((H+2*O)*this.radius,2);return D},draw:function(G,z,H,F,M){J.arrowShapeImpl(this.name)(G,F.x,F.y,this.radius*z)},spacing:function(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("tee",{points:[-0.15,0,-0.15,-0.1,0.15,-0.1,0.15,0],spacing:function(G){return 1},gap:function(G){return 1}}),q("square",{points:[-0.15,0,0.15,0,0.15,-0.3,-0.15,-0.3]}),q("diamond",{points:[-0.15,-0.15,0,-0.3,0.15,-0.15,0,0],gap:function(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}}),q("chevron",{points:[0,0,-0.15,-0.15,-0.1,-0.2,0,-0.1,0.1,-0.2,0.15,-0.15],gap:function(G){return 0.95*G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}})};Lz={};Lz.projectIntoViewport=function(Z,J){var Q=this.cy,K=this.findContainerClientCoords(),X=K[0],U=K[1],Y=K[4],q=Q.pan(),W=Q.zoom(),G=((Z-X)/Y-q.x)/W,z=((J-U)/Y-q.y)/W;return[G,z]};Lz.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var Z=this.container,J=Z.getBoundingClientRect(),Q=this.cy.window().getComputedStyle(Z),K=function(D){return parseFloat(Q.getPropertyValue(D))},X={left:K("padding-left"),right:K("padding-right"),top:K("padding-top"),bottom:K("padding-bottom")},U={left:K("border-left-width"),right:K("border-right-width"),top:K("border-top-width"),bottom:K("border-bottom-width")},Y=Z.clientWidth,q=Z.clientHeight,W=X.left+X.right,G=X.top+X.bottom,z=U.left+U.right,H=J.width/(Y+z),F=Y-W,M=q-G,B=J.left+X.left+U.left,O=J.top+X.top+U.top;return this.containerBB=[B,O,F,M,H]};Lz.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Lz.findNearestElement=function(Z,J,Q,K){return this.findNearestElements(Z,J,Q,K)[0]};Lz.findNearestElements=function(Z,J,Q,K){var X=this,U=this,Y=U.getCachedZSortedEles(),q=[],W=U.cy.zoom(),G=U.cy.hasCompoundNodes(),z=(K?24:8)/W,H=(K?8:2)/W,F=(K?8:2)/W,M=1/0,B,O;if(Q)Y=Y.interactive;function R(j,C){if(j.isNode())if(O)return;else O=j,q.push(j);if(j.isEdge()&&(C==null||C<M))if(B){if(B.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value&&B.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value){for(var $=0;$<q.length;$++)if(q[$].isEdge()){q[$]=j,B=j,M=C!=null?C:M;break}}}else q.push(j),B=j,M=C!=null?C:M}function D(j){var C=j.outerWidth()+2*H,$=j.outerHeight()+2*H,k=C/2,w=$/2,P=j.position(),T=j.pstyle("corner-radius").value==="auto"?"auto":j.pstyle("corner-radius").pfValue,S=j._private.rscratch;if(P.x-k<=Z&&Z<=P.x+k&&P.y-w<=J&&J<=P.y+w){var f=U.nodeShapes[X.getNodeShape(j)];if(f.checkPoint(Z,J,0,C,$,P.x,P.y,T,S))return R(j,0),!0}}function L(j){var C=j._private,$=C.rscratch,k=j.pstyle("width").pfValue,w=j.pstyle("arrow-scale").value,P=k/2+z,T=P*P,S=P*2,b=C.source,y=C.target,f;if($.edgeType==="segments"||$.edgeType==="straight"||$.edgeType==="haystack"){var v=$.allpts;for(var x=0;x+3<v.length;x+=2)if(g28(Z,J,v[x],v[x+1],v[x+2],v[x+3],S)&&T>(f=i28(Z,J,v[x],v[x+1],v[x+2],v[x+3])))return R(j,f),!0}else if($.edgeType==="bezier"||$.edgeType==="multibezier"||$.edgeType==="self"||$.edgeType==="compound"){var v=$.allpts;for(var x=0;x+5<$.allpts.length;x+=4)if(p28(Z,J,v[x],v[x+1],v[x+2],v[x+3],v[x+4],v[x+5],S)&&T>(f=d28(Z,J,v[x],v[x+1],v[x+2],v[x+3],v[x+4],v[x+5])))return R(j,f),!0}var b=b||C.source,y=y||C.target,u=X.getArrowWidth(k,w),h=[{name:"source",x:$.arrowStartX,y:$.arrowStartY,angle:$.srcArrowAngle},{name:"target",x:$.arrowEndX,y:$.arrowEndY,angle:$.tgtArrowAngle},{name:"mid-source",x:$.midX,y:$.midY,angle:$.midsrcArrowAngle},{name:"mid-target",x:$.midX,y:$.midY,angle:$.midtgtArrowAngle}];for(var x=0;x<h.length;x++){var p=h[x],r=U.arrowShapes[j.pstyle(p.name+"-arrow-shape").value],e=j.pstyle("width").pfValue;if(r.roughCollide(Z,J,u,p.angle,{x:p.x,y:p.y},e,z)&&r.collide(Z,J,u,p.angle,{x:p.x,y:p.y},e,z))return R(j),!0}if(G&&q.length>0)D(b),D(y)}function A(j,C,$){return a6(j,C,$)}function V(j,C){var $=j._private,k=F,w;if(C)w=C+"-";else w="";j.boundingBox();var P=$.labelBounds[C||"main"],T=j.pstyle(w+"label").value,S=j.pstyle("text-events").strValue==="yes";if(!S||!T)return;var f=A($.rscratch,"labelX",C),v=A($.rscratch,"labelY",C),x=A($.rscratch,"labelAngle",C),b=j.pstyle(w+"text-margin-x").pfValue,y=j.pstyle(w+"text-margin-y").pfValue,u=P.x1-k-b,h=P.x2+k-b,p=P.y1-k-y,r=P.y2+k-y;if(x){var e=Math.cos(x),i=Math.sin(x),U0=function(Y0,o){return Y0=Y0-f,o=o-v,{x:Y0*e-o*i+f,y:Y0*i+o*e+v}},a=U0(u,p),z0=U0(u,r),J0=U0(h,p),Q0=U0(h,r),t=[a.x+b,a.y+y,J0.x+b,J0.y+y,Q0.x+b,Q0.y+y,z0.x+b,z0.y+y];if(o6(Z,J,t))return R(j),!0}else if(Iq(P,Z,J))return R(j),!0}for(var N=Y.length-1;N>=0;N--){var E=Y[N];if(E.isNode())D(E)||V(E);else L(E)||V(E)||V(E,"source")||V(E,"target")}return q};Lz.getAllInBox=function(Z,J,Q,K){var X=this.getCachedZSortedEles().interactive,U=this.cy.zoom(),Y=2/U,q=[],W=Math.min(Z,Q),G=Math.max(Z,Q),z=Math.min(J,K),H=Math.max(J,K);Z=W,Q=G,J=z,K=H;var F=q6({x1:Z,y1:J,x2:Q,y2:K}),M=[{x:F.x1,y:F.y1},{x:F.x2,y:F.y1},{x:F.x2,y:F.y2},{x:F.x1,y:F.y2}],B=[[M[0],M[1]],[M[1],M[2]],[M[2],M[3]],[M[3],M[0]]];function O(Y0,o,M0){return a6(Y0,o,M0)}function R(Y0,o){var M0=Y0._private,X0=Y,E0="";Y0.boundingBox();var d=M0.labelBounds.main;if(!d)return null;var c0=O(M0.rscratch,"labelX",o),B0=O(M0.rscratch,"labelY",o),y0=O(M0.rscratch,"labelAngle",o),n0=Y0.pstyle(E0+"text-margin-x").pfValue,s0=Y0.pstyle(E0+"text-margin-y").pfValue,k0=d.x1-X0-n0,x0=d.x2+X0-n0,f0=d.y1-X0-s0,C0=d.y2+X0-s0;if(y0){var h0=Math.cos(y0),F0=Math.sin(y0),I0=function(H0,m){return H0=H0-c0,m=m-B0,{x:H0*h0-m*F0+c0,y:H0*F0+m*h0+B0}};return[I0(k0,f0),I0(x0,f0),I0(x0,C0),I0(k0,C0)]}else return[{x:k0,y:f0},{x:x0,y:f0},{x:x0,y:C0},{x:k0,y:C0}]}function D(Y0,o,M0,X0){function E0(d,c0,B0){return(B0.y-d.y)*(c0.x-d.x)>(c0.y-d.y)*(B0.x-d.x)}return E0(Y0,M0,X0)!==E0(o,M0,X0)&&E0(Y0,o,M0)!==E0(Y0,o,X0)}for(var L=0;L<X.length;L++){var A=X[L];if(A.isNode()){var V=A,N=V.pstyle("text-events").strValue==="yes",E=V.pstyle("box-selection").strValue,j=V.pstyle("box-select-labels").strValue==="yes";if(E==="none")continue;var C=(E==="overlap"||j)&&N,$=V.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(E==="contain"){var k=!1;if(j&&N){var w=R(V);if(w&&cl(w,M))q.push(V),k=!0}if(!k&&UA0(F,$))q.push(V)}else if(E==="overlap"){if(wi(F,$)){var P=V.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),T=[{x:P.x1,y:P.y1},{x:P.x2,y:P.y1},{x:P.x2,y:P.y2},{x:P.x1,y:P.y2}];if(cl(T,M))q.push(V);else{var S=R(V);if(S&&cl(S,M))q.push(V)}}}}else{var f=A,v=f._private,x=v.rscratch,b=f.pstyle("box-selection").strValue;if(b==="none")continue;if(b==="contain"){if(x.startX!=null&&x.startY!=null&&!Iq(F,x.startX,x.startY))continue;if(x.endX!=null&&x.endY!=null&&!Iq(F,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,u=!0;for(var h=0;h<y.length;h++)if(!fD0(F,y[h])){u=!1;break}if(u)q.push(f)}else if(x.edgeType==="straight")q.push(f)}else if(b==="overlap"){var p=!1;if(x.startX!=null&&x.startY!=null&&x.endX!=null&&x.endY!=null&&(Iq(F,x.startX,x.startY)||Iq(F,x.endX,x.endY)))q.push(f),p=!0;else if(!p&&x.edgeType==="haystack"){var r=v.rstyle.haystackPts;for(var e=0;e<r.length;e++)if(fD0(F,r[e])){q.push(f),p=!0;break}}if(!p){var i=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts;if((!i||i.length<2)&&x.edgeType==="straight"){if(x.startX!=null&&x.startY!=null&&x.endX!=null&&x.endY!=null)i=[{x:x.startX,y:x.startY},{x:x.endX,y:x.endY}]}if(!i||i.length<2)continue;for(var U0=0;U0<i.length-1;U0++){var a=i[U0],z0=i[U0+1];for(var J0=0;J0<B.length;J0++){var Q0=X7(B[J0],2),t=Q0[0],n=Q0[1];if(D(a,z0,t,n)){q.push(f),p=!0;break}}if(p)break}}}}}return q};fS={};fS.calculateArrowAngles=function(Z){var J=Z._private.rscratch,Q=J.edgeType==="haystack",K=J.edgeType==="bezier",X=J.edgeType==="multibezier",U=J.edgeType==="segments",Y=J.edgeType==="compound",q=J.edgeType==="self",W,G,z,H,F,M,D,L;if(Q)z=J.haystackPts[0],H=J.haystackPts[1],F=J.haystackPts[2],M=J.haystackPts[3];else z=J.arrowStartX,H=J.arrowStartY,F=J.arrowEndX,M=J.arrowEndY;if(D=J.midX,L=J.midY,U)W=z-J.segpts[0],G=H-J.segpts[1];else if(X||Y||q||K){var B=J.allpts,O=b7(B[0],B[2],B[4],0.1),R=b7(B[1],B[3],B[5],0.1);W=z-O,G=H-R}else W=z-D,G=H-L;J.srcArrowAngle=JS(W,G);var{midX:D,midY:L}=J;if(Q)D=(z+F)/2,L=(H+M)/2;if(W=F-z,G=M-H,U){var B=J.allpts;if(B.length/2%2===0){var A=B.length/2,V=A-2;W=B[A]-B[V],G=B[A+1]-B[V+1]}else if(J.isRound)W=J.midVector[1],G=-J.midVector[0];else{var A=B.length/2-1,V=A-2;W=B[A]-B[V],G=B[A+1]-B[V+1]}}else if(X||Y||q){var{allpts:B,ctrlpts:N}=J,E,j,C,$;if(N.length/2%2===0){var k=B.length/2-1,w=k+2,P=w+2;E=b7(B[k],B[w],B[P],0),j=b7(B[k+1],B[w+1],B[P+1],0),C=b7(B[k],B[w],B[P],0.0001),$=b7(B[k+1],B[w+1],B[P+1],0.0001)}else{var w=B.length/2-1,k=w-2,P=w+2;E=b7(B[k],B[w],B[P],0.4999),j=b7(B[k+1],B[w+1],B[P+1],0.4999),C=b7(B[k],B[w],B[P],0.5),$=b7(B[k+1],B[w+1],B[P+1],0.5)}W=C-E,G=$-j}if(J.midtgtArrowAngle=JS(W,G),J.midDispX=W,J.midDispY=G,W*=-1,G*=-1,U){var B=J.allpts;if(B.length/2%2===0);else if(!J.isRound){var A=B.length/2-1,T=A+2;W=-(B[T]-B[A]),G=-(B[T+1]-B[A+1])}}if(J.midsrcArrowAngle=JS(W,G),U)W=F-J.segpts[J.segpts.length-2],G=M-J.segpts[J.segpts.length-1];else if(X||Y||q||K){var B=J.allpts,S=B.length,O=b7(B[S-6],B[S-4],B[S-2],0.9),R=b7(B[S-5],B[S-3],B[S-1],0.9);W=F-O,G=M-R}else W=F-D,G=M-L;J.tgtArrowAngle=JS(W,G)};fS.getArrowWidth=fS.getArrowHeight=function(Z,J){var Q=this.arrowWidthCache=this.arrowWidthCache||{},K=Q[Z+", "+J];if(K)return K;return K=Math.max(Math.pow(Z*13.37,0.9),29)*J,Q[Z+", "+J]=K,K};cX={},LK={};zO8=Math.sqrt(2*VL),kQ={};kQ.findMidptPtsEtc=function(Z,J){var{posPts:Q,intersectionPts:K,vectorNormInverse:X}=J,U,Y=Z.pstyle("source-endpoint"),q=Z.pstyle("target-endpoint"),W=Y.units!=null&&q.units!=null,G=function(N,E,j,C){var $=C-E,k=j-N,w=Math.sqrt(k*k+$*$);return{x:-$/w,y:k/w}},z=Z.pstyle("edge-distances").value;switch(z){case"node-position":U=Q;break;case"intersection":U=K;break;case"endpoints":{if(W){var H=this.manualEndptToPx(Z.source()[0],Y),F=X7(H,2),M=F[0],B=F[1],O=this.manualEndptToPx(Z.target()[0],q),R=X7(O,2),D=R[0],L=R[1],A={x1:M,y1:B,x2:D,y2:L};X=G(M,B,D,L),U=A}else NZ("Edge ".concat(Z.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),U=K;break}}return{midptPts:U,vectorNormInverse:X}};kQ.findHaystackPoints=function(Z){for(var J=0;J<Z.length;J++){var Q=Z[J],K=Q._private,X=K.rscratch;if(!X.haystack){var U=Math.random()*2*Math.PI;X.source={x:Math.cos(U),y:Math.sin(U)},U=Math.random()*2*Math.PI,X.target={x:Math.cos(U),y:Math.sin(U)}}var{source:Y,target:q}=K,W=Y.position(),G=q.position(),z=Y.width(),H=q.width(),F=Y.height(),M=q.height(),B=Q.pstyle("haystack-radius").value,O=B/2;X.haystackPts=X.allpts=[X.source.x*z*O+W.x,X.source.y*F*O+W.y,X.target.x*H*O+G.x,X.target.y*M*O+G.y],X.midX=(X.allpts[0]+X.allpts[2])/2,X.midY=(X.allpts[1]+X.allpts[3])/2,X.edgeType="haystack",X.haystack=!0,this.storeEdgeProjections(Q),this.calculateArrowAngles(Q),this.recalculateEdgeLabelProjections(Q),this.calculateLabelAngles(Q)}};kQ.findSegmentsPoints=function(Z,J){var Q=Z._private.rscratch,K=Z.pstyle("segment-weights"),X=Z.pstyle("segment-distances"),U=Z.pstyle("segment-radii"),Y=Z.pstyle("radius-type"),q=Math.min(K.pfValue.length,X.pfValue.length),W=U.pfValue[U.pfValue.length-1],G=Y.pfValue[Y.pfValue.length-1];Q.edgeType="segments",Q.segpts=[],Q.radii=[],Q.isArcRadius=[];for(var z=0;z<q;z++){var H=K.pfValue[z],F=X.pfValue[z],M=1-H,B=H,O=this.findMidptPtsEtc(Z,J),R=O.midptPts,D=O.vectorNormInverse,L={x:R.x1*M+R.x2*B,y:R.y1*M+R.y2*B};Q.segpts.push(L.x+D.x*F,L.y+D.y*F),Q.radii.push(U.pfValue[z]!==void 0?U.pfValue[z]:W),Q.isArcRadius.push((Y.pfValue[z]!==void 0?Y.pfValue[z]:G)==="arc-radius")}};kQ.findLoopPoints=function(Z,J,Q,K){var X=Z._private.rscratch,U=J.dirCounts,Y=J.srcPos,q=Z.pstyle("control-point-distances"),W=q?q.pfValue[0]:void 0,G=Z.pstyle("loop-direction").pfValue,z=Z.pstyle("loop-sweep").pfValue,H=Z.pstyle("control-point-step-size").pfValue;X.edgeType="self";var F=Q,M=H;if(K)F=0,M=W;var B=G-Math.PI/2,O=B-z/2,R=B+z/2,D=String(G+"_"+z);F=U[D]===void 0?U[D]=0:++U[D],X.ctrlpts=[Y.x+Math.cos(O)*1.4*M*(F/3+1),Y.y+Math.sin(O)*1.4*M*(F/3+1),Y.x+Math.cos(R)*1.4*M*(F/3+1),Y.y+Math.sin(R)*1.4*M*(F/3+1)]};kQ.findCompoundLoopPoints=function(Z,J,Q,K){var X=Z._private.rscratch;X.edgeType="compound";var{srcPos:U,tgtPos:Y,srcW:q,srcH:W,tgtW:G,tgtH:z}=J,H=Z.pstyle("control-point-step-size").pfValue,F=Z.pstyle("control-point-distances"),M=F?F.pfValue[0]:void 0,B=Q,O=H;if(K)B=0,O=M;var R=50,D={x:U.x-q/2,y:U.y-W/2},L={x:Y.x-G/2,y:Y.y-z/2},A={x:Math.min(D.x,L.x),y:Math.min(D.y,L.y)},V=0.5,N=Math.max(V,Math.log(q*VL)),E=Math.max(V,Math.log(G*VL));X.ctrlpts=[A.x,A.y-(1+Math.pow(R,1.12)/100)*O*(B/3+1)*N,A.x-(1+Math.pow(R,1.12)/100)*O*(B/3+1)*E,A.y]};kQ.findStraightEdgePoints=function(Z){Z._private.rscratch.edgeType="straight"};kQ.findBezierPoints=function(Z,J,Q,K,X){var U=Z._private.rscratch,Y=Z.pstyle("control-point-step-size").pfValue,q=Z.pstyle("control-point-distances"),W=Z.pstyle("control-point-weights"),G=q&&W?Math.min(q.value.length,W.value.length):1,z=q?q.pfValue[0]:void 0,H=W.value[0],F=K;U.edgeType=F?"multibezier":"bezier",U.ctrlpts=[];for(var M=0;M<G;M++){var B=(0.5-J.eles.length/2+Q)*Y*(X?-1:1),O=void 0,R=Ti(B);if(F)z=q?q.pfValue[M]:Y,H=W.value[M];if(K)O=z;else O=z!==void 0?R*z:void 0;var D=O!==void 0?O:B,L=1-H,A=H,V=this.findMidptPtsEtc(Z,J),N=V.midptPts,E=V.vectorNormInverse,j={x:N.x1*L+N.x2*A,y:N.y1*L+N.y2*A};U.ctrlpts.push(j.x+E.x*D,j.y+E.y*D)}};kQ.findTaxiPoints=function(Z,J){var Q=Z._private.rscratch;Q.edgeType="segments";var K="vertical",X="horizontal",U="leftward",Y="rightward",q="downward",W="upward",G="auto",z=J.posPts,H=J.srcW,F=J.srcH,M=J.tgtW,B=J.tgtH,O=Z.pstyle("edge-distances").value,R=O!=="node-position",D=Z.pstyle("taxi-direction").value,L=D,A=Z.pstyle("taxi-turn"),V=A.units==="%",N=A.pfValue,E=N<0,j=Z.pstyle("taxi-turn-min-distance").pfValue,C=R?(H+M)/2:0,$=R?(F+B)/2:0,k=z.x2-z.x1,w=z.y2-z.y1,P=function(m,q0){if(m>0)return Math.max(m-q0,0);else return Math.min(m+q0,0)},T=P(k,C),S=P(w,$),f=!1;if(L===G)D=Math.abs(T)>Math.abs(S)?X:K;else if(L===W||L===q)D=K,f=!0;else if(L===U||L===Y)D=X,f=!0;var v=D===K,x=v?S:T,b=v?w:k,y=Ti(b),u=!1;if(!(f&&(V||E))&&(L===q&&b<0||L===W&&b>0||L===U&&b>0||L===Y&&b<0))y*=-1,x=y*Math.abs(x),u=!0;var h;if(V){var p=N<0?1+N:N;h=p*x}else{var r=N<0?x:0;h=r+N*y}var e=function(m){return Math.abs(m)<j||Math.abs(m)>=Math.abs(x)},i=e(h),U0=e(Math.abs(x)-Math.abs(h)),a=i||U0;if(a&&!u)if(v){var z0=Math.abs(b)<=F/2,J0=Math.abs(k)<=M/2;if(z0){var Q0=(z.x1+z.x2)/2,t=z.y1,n=z.y2;Q.segpts=[Q0,t,Q0,n]}else if(J0){var Y0=(z.y1+z.y2)/2,o=z.x1,M0=z.x2;Q.segpts=[o,Y0,M0,Y0]}else Q.segpts=[z.x1,z.y2]}else{var X0=Math.abs(b)<=H/2,E0=Math.abs(w)<=B/2;if(X0){var d=(z.y1+z.y2)/2,c0=z.x1,B0=z.x2;Q.segpts=[c0,d,B0,d]}else if(E0){var y0=(z.x1+z.x2)/2,n0=z.y1,s0=z.y2;Q.segpts=[y0,n0,y0,s0]}else Q.segpts=[z.x2,z.y1]}else if(v){var k0=z.y1+h+(R?F/2*y:0),x0=z.x1,f0=z.x2;Q.segpts=[x0,k0,f0,k0]}else{var C0=z.x1+h+(R?H/2*y:0),h0=z.y1,F0=z.y2;Q.segpts=[C0,h0,C0,F0]}if(Q.isRound){var I0=Z.pstyle("taxi-radius").value,s=Z.pstyle("radius-type").value[0]==="arc-radius";Q.radii=Array(Q.segpts.length/2).fill(I0),Q.isArcRadius=Array(Q.segpts.length/2).fill(s)}};kQ.tryToCorrectInvalidPoints=function(Z,J){var Q=Z._private.rscratch;if(Q.edgeType==="bezier"){var{srcPos:K,tgtPos:X,srcW:U,srcH:Y,tgtW:q,tgtH:W,srcShape:G,tgtShape:z,srcCornerRadius:H,tgtCornerRadius:F,srcRs:M,tgtRs:B}=J,O=!P8(Q.startX)||!P8(Q.startY),R=!P8(Q.arrowStartX)||!P8(Q.arrowStartY),D=!P8(Q.endX)||!P8(Q.endY),L=!P8(Q.arrowEndX)||!P8(Q.arrowEndY),A=3,V=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth,N=A*V,E=Bz({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.startX,y:Q.startY}),j=E<N,C=Bz({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.endX,y:Q.endY}),$=C<N,k=!1;if(O||R||j){k=!0;var w={x:Q.ctrlpts[0]-K.x,y:Q.ctrlpts[1]-K.y},P=Math.sqrt(w.x*w.x+w.y*w.y),T={x:w.x/P,y:w.y/P},S=Math.max(U,Y),f={x:Q.ctrlpts[0]+T.x*2*S,y:Q.ctrlpts[1]+T.y*2*S},v=G.intersectLine(K.x,K.y,U,Y,f.x,f.y,0,H,M);if(j)Q.ctrlpts[0]=Q.ctrlpts[0]+T.x*(N-E),Q.ctrlpts[1]=Q.ctrlpts[1]+T.y*(N-E);else Q.ctrlpts[0]=v[0]+T.x*N,Q.ctrlpts[1]=v[1]+T.y*N}if(D||L||$){k=!0;var x={x:Q.ctrlpts[0]-X.x,y:Q.ctrlpts[1]-X.y},b=Math.sqrt(x.x*x.x+x.y*x.y),y={x:x.x/b,y:x.y/b},u=Math.max(U,Y),h={x:Q.ctrlpts[0]+y.x*2*u,y:Q.ctrlpts[1]+y.y*2*u},p=z.intersectLine(X.x,X.y,q,W,h.x,h.y,0,F,B);if($)Q.ctrlpts[0]=Q.ctrlpts[0]+y.x*(N-C),Q.ctrlpts[1]=Q.ctrlpts[1]+y.y*(N-C);else Q.ctrlpts[0]=p[0]+y.x*N,Q.ctrlpts[1]=p[1]+y.y*N}if(k)this.findEndpoints(Z)}};kQ.storeAllpts=function(Z){var J=Z._private.rscratch;if(J.edgeType==="multibezier"||J.edgeType==="bezier"||J.edgeType==="self"||J.edgeType==="compound"){J.allpts=[],J.allpts.push(J.startX,J.startY);for(var Q=0;Q+1<J.ctrlpts.length;Q+=2)if(J.allpts.push(J.ctrlpts[Q],J.ctrlpts[Q+1]),Q+3<J.ctrlpts.length)J.allpts.push((J.ctrlpts[Q]+J.ctrlpts[Q+2])/2,(J.ctrlpts[Q+1]+J.ctrlpts[Q+3])/2);J.allpts.push(J.endX,J.endY);var K,X;if(J.ctrlpts.length/2%2===0)K=J.allpts.length/2-1,J.midX=J.allpts[K],J.midY=J.allpts[K+1];else K=J.allpts.length/2-3,X=0.5,J.midX=b7(J.allpts[K],J.allpts[K+2],J.allpts[K+4],X),J.midY=b7(J.allpts[K+1],J.allpts[K+3],J.allpts[K+5],X)}else if(J.edgeType==="straight")J.allpts=[J.startX,J.startY,J.endX,J.endY],J.midX=(J.startX+J.endX+J.arrowStartX+J.arrowEndX)/4,J.midY=(J.startY+J.endY+J.arrowStartY+J.arrowEndY)/4;else if(J.edgeType==="segments"){if(J.allpts=[],J.allpts.push(J.startX,J.startY),J.allpts.push.apply(J.allpts,J.segpts),J.allpts.push(J.endX,J.endY),J.isRound){J.roundCorners=[];for(var U=2;U+3<J.allpts.length;U+=2){var Y=J.radii[U/2-1],q=J.isArcRadius[U/2-1];J.roundCorners.push(pi({x:J.allpts[U-2],y:J.allpts[U-1]},{x:J.allpts[U],y:J.allpts[U+1],radius:Y},{x:J.allpts[U+2],y:J.allpts[U+3]},Y,q))}}if(J.segpts.length%4===0){var W=J.segpts.length/2,G=W-2;J.midX=(J.segpts[G]+J.segpts[W])/2,J.midY=(J.segpts[G+1]+J.segpts[W+1])/2}else{var z=J.segpts.length/2-1;if(!J.isRound)J.midX=J.segpts[z],J.midY=J.segpts[z+1];else{var H={x:J.segpts[z],y:J.segpts[z+1]},F=J.roundCorners[z/2];if(F.radius===0){var M={x:J.segpts[z+2],y:J.segpts[z+3]};J.midX=H.x,J.midY=H.y,J.midVector=[H.y-M.y,M.x-H.x]}else{var B=[H.x-F.cx,H.y-F.cy],O=F.radius/Math.sqrt(Math.pow(B[0],2)+Math.pow(B[1],2));B=B.map(function(R){return R*O}),J.midX=F.cx+B[0],J.midY=F.cy+B[1],J.midVector=B}}}}};kQ.checkForInvalidEdgeWarning=function(Z){var J=Z[0]._private.rscratch;if(J.nodesOverlap||P8(J.startX)&&P8(J.startY)&&P8(J.endX)&&P8(J.endY))J.loggedErr=!1;else if(!J.loggedErr)J.loggedErr=!0,NZ("Edge `"+Z.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.")};kQ.findEdgeControlPoints=function(Z){var J=this;if(!Z||Z.length===0)return;var Q=this,K=Q.cy,X=K.hasCompoundNodes(),U=new AY,Y=function($,k){return[].concat(VS($),[k?1:0]).join("-")},q=[],W=[];for(var G=0;G<Z.length;G++){var z=Z[G],H=z._private,F=z.pstyle("curve-style").value;if(z.removed()||!z.takesUpSpace())continue;if(F==="haystack"){W.push(z);continue}var M=F==="unbundled-bezier"||Lq(F,"segments")||F==="straight"||F==="straight-triangle"||Lq(F,"taxi"),B=F==="unbundled-bezier"||F==="bezier",O=H.source,R=H.target,D=O.poolIndex(),L=R.poolIndex(),A=[D,L].sort(),V=Y(A,M),N=U.get(V);if(N==null)N={eles:[]},q.push({pairId:A,edgeIsUnbundled:M}),U.set(V,N);if(N.eles.push(z),M)N.hasUnbundled=!0;if(B)N.hasBezier=!0}var E=function(){var $=q[j],k=$.pairId,w=$.edgeIsUnbundled,P=Y(k,w),T=U.get(P),S;if(!T.hasUnbundled){var f=T.eles[0].parallelEdges().filter(function(s){return s.isBundledBezier()});Ci(T.eles),f.forEach(function(s){return T.eles.push(s)}),T.eles.sort(function(s,H0){return s.poolIndex()-H0.poolIndex()})}var v=T.eles[0],x=v.source(),b=v.target();if(x.poolIndex()>b.poolIndex()){var y=x;x=b,b=y}var u=T.srcPos=x.position(),h=T.tgtPos=b.position(),p=T.srcW=x.outerWidth(),r=T.srcH=x.outerHeight(),e=T.tgtW=b.outerWidth(),i=T.tgtH=b.outerHeight(),U0=T.srcShape=Q.nodeShapes[J.getNodeShape(x)],a=T.tgtShape=Q.nodeShapes[J.getNodeShape(b)],z0=T.srcCornerRadius=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,J0=T.tgtCornerRadius=b.pstyle("corner-radius").value==="auto"?"auto":b.pstyle("corner-radius").pfValue,Q0=T.tgtRs=b._private.rscratch,t=T.srcRs=x._private.rscratch;T.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var n=0;n<T.eles.length;n++){var Y0=T.eles[n],o=Y0[0]._private.rscratch,M0=Y0.pstyle("curve-style").value,X0=M0==="unbundled-bezier"||Lq(M0,"segments")||Lq(M0,"taxi"),E0=!x.same(Y0.source());if(!T.calculatedIntersection&&x!==b&&(T.hasBezier||T.hasUnbundled)){T.calculatedIntersection=!0;var d=U0.intersectLine(u.x,u.y,p,r,h.x,h.y,0,z0,t),c0=T.srcIntn=d,B0=a.intersectLine(h.x,h.y,e,i,u.x,u.y,0,J0,Q0),y0=T.tgtIntn=B0,n0=T.intersectionPts={x1:d[0],x2:B0[0],y1:d[1],y2:B0[1]},s0=T.posPts={x1:u.x,x2:h.x,y1:u.y,y2:h.y},k0=B0[1]-d[1],x0=B0[0]-d[0],f0=Math.sqrt(x0*x0+k0*k0);if(P8(f0)&&f0>=zO8);else f0=Math.sqrt(Math.max(x0*x0,VL)+Math.max(k0*k0,VL));var C0=T.vector={x:x0,y:k0},h0=T.vectorNorm={x:C0.x/f0,y:C0.y/f0},F0={x:-h0.y,y:h0.x};T.nodesOverlap=!P8(f0)||a.checkPoint(d[0],d[1],0,e,i,h.x,h.y,J0,Q0)||U0.checkPoint(B0[0],B0[1],0,p,r,u.x,u.y,z0,t),T.vectorNormInverse=F0,S={nodesOverlap:T.nodesOverlap,dirCounts:T.dirCounts,calculatedIntersection:!0,hasBezier:T.hasBezier,hasUnbundled:T.hasUnbundled,eles:T.eles,srcPos:h,srcRs:Q0,tgtPos:u,tgtRs:t,srcW:e,srcH:i,tgtW:p,tgtH:r,srcIntn:y0,tgtIntn:c0,srcShape:a,tgtShape:U0,posPts:{x1:s0.x2,y1:s0.y2,x2:s0.x1,y2:s0.y1},intersectionPts:{x1:n0.x2,y1:n0.y2,x2:n0.x1,y2:n0.y1},vector:{x:-C0.x,y:-C0.y},vectorNorm:{x:-h0.x,y:-h0.y},vectorNormInverse:{x:-F0.x,y:-F0.y}}}var I0=E0?S:T;if(o.nodesOverlap=I0.nodesOverlap,o.srcIntn=I0.srcIntn,o.tgtIntn=I0.tgtIntn,o.isRound=M0.startsWith("round"),X&&(x.isParent()||x.isChild()||b.isParent()||b.isChild())&&(x.parents().anySame(b)||b.parents().anySame(x)||x.same(b)&&x.isParent()))J.findCompoundLoopPoints(Y0,I0,n,X0);else if(x===b)J.findLoopPoints(Y0,I0,n,X0);else if(M0.endsWith("segments"))J.findSegmentsPoints(Y0,I0);else if(M0.endsWith("taxi"))J.findTaxiPoints(Y0,I0);else if(M0==="straight"||!X0&&T.eles.length%2===1&&n===Math.floor(T.eles.length/2))J.findStraightEdgePoints(Y0);else J.findBezierPoints(Y0,I0,n,X0,E0);J.findEndpoints(Y0),J.tryToCorrectInvalidPoints(Y0,I0),J.checkForInvalidEdgeWarning(Y0),J.storeAllpts(Y0),J.storeEdgeProjections(Y0),J.calculateArrowAngles(Y0),J.recalculateEdgeLabelProjections(Y0),J.calculateLabelAngles(Y0)}};for(var j=0;j<q.length;j++)E();this.findHaystackPoints(W)};kQ.getSegmentPoints=function(Z){var J=Z[0]._private.rscratch;this.recalculateRenderedStyle(Z);var Q=J.edgeType;if(Q==="segments")return QN0(J.segpts)};kQ.getControlPoints=function(Z){var J=Z[0]._private.rscratch;this.recalculateRenderedStyle(Z);var Q=J.edgeType;if(Q==="bezier"||Q==="multibezier"||Q==="self"||Q==="compound")return QN0(J.ctrlpts)};kQ.getEdgeMidpoint=function(Z){var J=Z[0]._private.rscratch;return this.recalculateRenderedStyle(Z),{x:J.midX,y:J.midY}};fL={};fL.manualEndptToPx=function(Z,J){var Q=this,K=Z.position(),X=Z.outerWidth(),U=Z.outerHeight(),Y=Z._private.rscratch;if(J.value.length===2){var q=[J.pfValue[0],J.pfValue[1]];if(J.units[0]==="%")q[0]=q[0]*X;if(J.units[1]==="%")q[1]=q[1]*U;return q[0]+=K.x,q[1]+=K.y,q}else{var W=J.pfValue[0];W=-Math.PI/2+W;var G=2*Math.max(X,U),z=[K.x+Math.cos(W)*G,K.y+Math.sin(W)*G];return Q.nodeShapes[this.getNodeShape(Z)].intersectLine(K.x,K.y,X,U,z[0],z[1],0,Z.pstyle("corner-radius").value==="auto"?"auto":Z.pstyle("corner-radius").pfValue,Y)}};fL.findEndpoints=function(Z){var J,Q,K,X,U=this,Y,q=Z.source()[0],W=Z.target()[0],G=q.position(),z=W.position(),H=Z.pstyle("target-arrow-shape").value,F=Z.pstyle("source-arrow-shape").value,M=Z.pstyle("target-distance-from-node").pfValue,B=Z.pstyle("source-distance-from-node").pfValue,O=q._private.rscratch,R=W._private.rscratch,D=Z.pstyle("curve-style").value,L=Z._private.rscratch,A=L.edgeType,V=Lq(D,"taxi"),N=A==="self"||A==="compound",E=A==="bezier"||A==="multibezier"||N,j=A!=="bezier",C=A==="straight"||A==="segments",$=A==="segments",k=E||j||C,w=N||V,P=Z.pstyle("source-endpoint"),T=w?"outside-to-node":P.value,S=q.pstyle("corner-radius").value==="auto"?"auto":q.pstyle("corner-radius").pfValue,f=Z.pstyle("target-endpoint"),v=w?"outside-to-node":f.value,x=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue;L.srcManEndpt=P,L.tgtManEndpt=f;var b,y,u,h,p=(J=(f===null||f===void 0||(Q=f.pfValue)===null||Q===void 0?void 0:Q.length)===2?f.pfValue:null)!==null&&J!==void 0?J:[0,0],r=(K=(P===null||P===void 0||(X=P.pfValue)===null||X===void 0?void 0:X.length)===2?P.pfValue:null)!==null&&K!==void 0?K:[0,0];if(E){var e=[L.ctrlpts[0],L.ctrlpts[1]],i=j?[L.ctrlpts[L.ctrlpts.length-2],L.ctrlpts[L.ctrlpts.length-1]]:e;b=i,y=e}else if(C){var U0=!$?[z.x+p[0],z.y+p[1]]:L.segpts.slice(0,2),a=!$?[G.x+r[0],G.y+r[1]]:L.segpts.slice(L.segpts.length-2);b=a,y=U0}if(v==="inside-to-node")Y=[z.x,z.y];else if(f.units)Y=this.manualEndptToPx(W,f);else if(v==="outside-to-line")Y=L.tgtIntn;else{if(v==="outside-to-node"||v==="outside-to-node-or-label")u=b;else if(v==="outside-to-line"||v==="outside-to-line-or-label")u=[G.x,G.y];if(Y=U.nodeShapes[this.getNodeShape(W)].intersectLine(z.x,z.y,W.outerWidth(),W.outerHeight(),u[0],u[1],0,x,R),v==="outside-to-node-or-label"||v==="outside-to-line-or-label"){var z0=W._private.rscratch,J0=z0.labelWidth,Q0=z0.labelHeight,t=z0.labelX,n=z0.labelY,Y0=J0/2,o=Q0/2,M0=W.pstyle("text-valign").value;if(M0==="top")n-=o;else if(M0==="bottom")n+=o;var X0=W.pstyle("text-halign").value;if(X0==="left")t-=Y0;else if(X0==="right")t+=Y0;var E0=LL(u[0],u[1],[t-Y0,n-o,t+Y0,n-o,t+Y0,n+o,t-Y0,n+o],z.x,z.y);if(E0.length>0){var d=G,c0=Wz(d,BF(Y)),B0=Wz(d,BF(E0)),y0=c0;if(B0<c0)Y=E0,y0=B0;if(E0.length>2){var n0=Wz(d,{x:E0[2],y:E0[3]});if(n0<y0)Y=[E0[2],E0[3]]}}}}var s0=QS(Y,b,U.arrowShapes[H].spacing(Z)+M),k0=QS(Y,b,U.arrowShapes[H].gap(Z)+M);if(L.endX=k0[0],L.endY=k0[1],L.arrowEndX=s0[0],L.arrowEndY=s0[1],T==="inside-to-node")Y=[G.x,G.y];else if(P.units)Y=this.manualEndptToPx(q,P);else if(T==="outside-to-line")Y=L.srcIntn;else{if(T==="outside-to-node"||T==="outside-to-node-or-label")h=y;else if(T==="outside-to-line"||T==="outside-to-line-or-label")h=[z.x,z.y];if(Y=U.nodeShapes[this.getNodeShape(q)].intersectLine(G.x,G.y,q.outerWidth(),q.outerHeight(),h[0],h[1],0,S,O),T==="outside-to-node-or-label"||T==="outside-to-line-or-label"){var x0=q._private.rscratch,f0=x0.labelWidth,C0=x0.labelHeight,h0=x0.labelX,F0=x0.labelY,I0=f0/2,s=C0/2,H0=q.pstyle("text-valign").value;if(H0==="top")F0-=s;else if(H0==="bottom")F0+=s;var m=q.pstyle("text-halign").value;if(m==="left")h0-=I0;else if(m==="right")h0+=I0;var q0=LL(h[0],h[1],[h0-I0,F0-s,h0+I0,F0-s,h0+I0,F0+s,h0-I0,F0+s],G.x,G.y);if(q0.length>0){var W0=z,V0=Wz(W0,BF(Y)),L0=Wz(W0,BF(q0)),D0=V0;if(L0<V0)Y=[q0[0],q0[1]],D0=L0;if(q0.length>2){var _0=Wz(W0,{x:q0[2],y:q0[3]});if(_0<D0)Y=[q0[2],q0[3]]}}}}var T0=QS(Y,y,U.arrowShapes[F].spacing(Z)+B),m0=QS(Y,y,U.arrowShapes[F].gap(Z)+B);if(L.startX=m0[0],L.startY=m0[1],L.arrowStartX=T0[0],L.arrowStartY=T0[1],k)if(!P8(L.startX)||!P8(L.startY)||!P8(L.endX)||!P8(L.endY))L.badLine=!0;else L.badLine=!1};fL.getSourceEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[0],y:J.haystackPts[1]};default:return{x:J.arrowStartX,y:J.arrowStartY}}};fL.getTargetEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[2],y:J.haystackPts[3]};default:return{x:J.arrowEndX,y:J.arrowEndY}}};ci={};ci.storeEdgeProjections=function(Z){var J=Z._private,Q=J.rscratch,K=Q.edgeType;if(J.rstyle.bezierPts=null,J.rstyle.linePts=null,J.rstyle.haystackPts=null,K==="multibezier"||K==="bezier"||K==="self"||K==="compound"){J.rstyle.bezierPts=[];for(var X=0;X+5<Q.allpts.length;X+=4)HO8(this,Z,Q.allpts.slice(X,X+6))}else if(K==="segments"){var U=J.rstyle.linePts=[];for(var X=0;X+1<Q.allpts.length;X+=2)U.push({x:Q.allpts[X],y:Q.allpts[X+1]})}else if(K==="haystack"){var Y=Q.haystackPts;J.rstyle.haystackPts=[{x:Y[0],y:Y[1]},{x:Y[2],y:Y[3]}]}J.rstyle.arrowWidth=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth};ci.recalculateEdgeProjections=function(Z){this.findEdgeControlPoints(Z)};iX={};iX.recalculateNodeLabelProjection=function(Z){var J=Z.pstyle("label").strValue;if(Vq(J))return;var Q,K,X=Z._private,U=Z.width(),Y=Z.height(),q=Z.padding(),W=Z.position(),G=Z.pstyle("text-halign").strValue,z=Z.pstyle("text-valign").strValue,H=X.rscratch,F=X.rstyle;switch(G){case"left":Q=W.x-U/2-q;break;case"right":Q=W.x+U/2+q;break;default:Q=W.x}switch(z){case"top":K=W.y-Y/2-q;break;case"bottom":K=W.y+Y/2+q;break;default:K=W.y}H.labelX=Q,H.labelY=K,F.labelX=Q,F.labelY=K,this.calculateLabelAngles(Z),this.applyLabelDimensions(Z)};iX.recalculateEdgeLabelProjections=function(Z){var J,Q=Z._private,K=Q.rscratch,X=this,U={mid:Z.pstyle("label").strValue,source:Z.pstyle("source-label").strValue,target:Z.pstyle("target-label").strValue};if(U.mid||U.source||U.target);else return;J={x:K.midX,y:K.midY};var Y=function(H,F,M){IY(Q.rscratch,H,F,M),IY(Q.rstyle,H,F,M)};Y("labelX",null,J.x),Y("labelY",null,J.y);var q=KN0(K.midDispX,K.midDispY);Y("labelAutoAngle",null,q);var W=function(){if(W.cache)return W.cache;var H=[];for(var F=0;F+5<K.allpts.length;F+=4){var M={x:K.allpts[F],y:K.allpts[F+1]},B={x:K.allpts[F+2],y:K.allpts[F+3]},O={x:K.allpts[F+4],y:K.allpts[F+5]};H.push({p0:M,p1:B,p2:O,startDist:0,length:0,segments:[]})}var R=Q.rstyle.bezierPts,D=X.bezierProjPcts.length;function L(j,C,$,k,w){var P=Bz(C,$),T=j.segments[j.segments.length-1],S={p0:C,p1:$,t0:k,t1:w,startDist:T?T.startDist+T.length:0,length:P};j.segments.push(S),j.length+=P}for(var A=0;A<H.length;A++){var V=H[A],N=H[A-1];if(N)V.startDist=N.startDist+N.length;L(V,V.p0,R[A*D],0,X.bezierProjPcts[0]);for(var E=0;E<D-1;E++)L(V,R[A*D+E],R[A*D+E+1],X.bezierProjPcts[E],X.bezierProjPcts[E+1]);L(V,R[A*D+D-1],V.p2,X.bezierProjPcts[D-1],1)}return W.cache=H},G=function(H){var F,M=H==="source";if(!U[H])return;var B=Z.pstyle(H+"-text-offset").pfValue;switch(K.edgeType){case"self":case"compound":case"bezier":case"multibezier":{var O=W(),R,D=0,L=0;for(var A=0;A<O.length;A++){var V=O[M?A:O.length-1-A];for(var N=0;N<V.segments.length;N++){var E=V.segments[M?N:V.segments.length-1-N],j=A===O.length-1&&N===V.segments.length-1;if(D=L,L+=E.length,L>=B||j){R={cp:V,segment:E};break}}if(R)break}var{cp:C,segment:$}=R,k=(B-D)/$.length,w=$.t1-$.t0,P=M?$.t0+w*k:$.t1-w*k;P=DL(0,P,1),J=DF(C.p0,C.p1,C.p2,P),F=FO8(C.p0,C.p1,C.p2,P);break}case"straight":case"segments":case"haystack":{var T=0,S,f,v,x,b=K.allpts.length;for(var y=0;y+3<b;y+=2){if(M)v={x:K.allpts[y],y:K.allpts[y+1]},x={x:K.allpts[y+2],y:K.allpts[y+3]};else v={x:K.allpts[b-2-y],y:K.allpts[b-1-y]},x={x:K.allpts[b-4-y],y:K.allpts[b-3-y]};if(S=Bz(v,x),f=T,T+=S,T>=B)break}var u=B-f,h=u/S;h=DL(0,h,1),J=v28(v,x,h),F=XN0(v,x);break}}Y("labelX",H,J.x),Y("labelY",H,J.y),Y("labelAutoAngle",H,F)};G("source"),G("target"),this.applyLabelDimensions(Z)};iX.applyLabelDimensions=function(Z){if(this.applyPrefixedLabelDimensions(Z),Z.isEdge())this.applyPrefixedLabelDimensions(Z,"source"),this.applyPrefixedLabelDimensions(Z,"target")};iX.applyPrefixedLabelDimensions=function(Z,J){var Q=Z._private,K=this.getLabelText(Z,J),X=Mz(K,Z._private.labelDimsKey);if(a6(Q.rscratch,"prefixedLabelDimsKey",J)===X)return;IY(Q.rscratch,"prefixedLabelDimsKey",J,X);var U=this.calculateLabelDimensions(Z,K),Y=Z.pstyle("line-height").pfValue,q=Z.pstyle("text-wrap").strValue,W=a6(Q.rscratch,"labelWrapCachedLines",J)||[],G=q!=="wrap"?1:Math.max(W.length,1),z=U.height/G,H=z*Y,F=U.width,M=U.height+(G-1)*(Y-1)*z;IY(Q.rstyle,"labelWidth",J,F),IY(Q.rscratch,"labelWidth",J,F),IY(Q.rstyle,"labelHeight",J,M),IY(Q.rscratch,"labelHeight",J,M),IY(Q.rscratch,"labelLineHeight",J,H)};iX.getLabelText=function(Z,J){var Q=Z._private,K=J?J+"-":"",X=Z.pstyle(K+"label").strValue,U=Z.pstyle("text-transform").value,Y=function(r,e){if(e)return IY(Q.rscratch,r,J,e),e;else return a6(Q.rscratch,r,J)};if(!X)return"";if(U=="none");else if(U=="uppercase")X=X.toUpperCase();else if(U=="lowercase")X=X.toLowerCase();var q=Z.pstyle("text-wrap").value;if(q==="wrap"){var W=Y("labelKey");if(W!=null&&Y("labelWrapKey")===W)return Y("labelWrapCachedText");var G="",z=X.split(`
`),H=Z.pstyle("text-max-width").pfValue,F=Z.pstyle("text-overflow-wrap").value,M=F==="anywhere",B=[],O=/[\s\u200b]+|$/g;for(var R=0;R<z.length;R++){var D=z[R],L=this.calculateLabelDimensions(Z,D),A=L.width;if(M){var V=D.split("").join(G);D=V}if(A>H){var N=D.matchAll(O),E="",j=0,C=t6(N),$;try{for(C.s();!($=C.n()).done;){var k=$.value,w=k[0],P=D.substring(j,k.index);j=k.index+w.length;var T=E.length===0?P:E+P+w,S=this.calculateLabelDimensions(Z,T),f=S.width;if(f<=H)E+=P+w;else{if(E)B.push(E);E=P+w}}}catch(p){C.e(p)}finally{C.f()}if(!E.match(/^[\s\u200b]+$/))B.push(E)}else B.push(D)}Y("labelWrapCachedLines",B),X=Y("labelWrapCachedText",B.join(`
`)),Y("labelWrapKey",W)}else if(q==="ellipsis"){var v=Z.pstyle("text-max-width").pfValue,x="",b="",y=!1;if(this.calculateLabelDimensions(Z,X).width<v)return X;for(var u=0;u<X.length;u++){var h=this.calculateLabelDimensions(Z,x+X[u]+b).width;if(h>v)break;if(x+=X[u],u===X.length-1)y=!0}if(!y)x+=b;return x}return X};iX.getLabelJustification=function(Z){var J=Z.pstyle("text-justification").strValue,Q=Z.pstyle("text-halign").strValue;if(J==="auto")if(Z.isNode())switch(Q){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return J};iX.calculateLabelDimensions=function(Z,J){var Q=this,K=Q.cy.window(),X=K.document,U=0,Y=Z.pstyle("font-style").strValue,q=Z.pstyle("font-size").pfValue,W=Z.pstyle("font-family").strValue,G=Z.pstyle("font-weight").strValue,z=this.labelCalcCanvas,H=this.labelCalcCanvasContext;if(!z){z=this.labelCalcCanvas=X.createElement("canvas"),H=this.labelCalcCanvasContext=z.getContext("2d");var F=z.style;F.position="absolute",F.left="-9999px",F.top="-9999px",F.zIndex="-1",F.visibility="hidden",F.pointerEvents="none"}H.font="".concat(Y," ").concat(G," ").concat(q,"px ").concat(W);var M=0,B=0,O=J.split(`
`);for(var R=0;R<O.length;R++){var D=O[R],L=H.measureText(D),A=Math.ceil(L.width),V=q;M=Math.max(A,M),B+=V}return M+=U,B+=U,{width:M,height:B}};iX.calculateLabelAngle=function(Z,J){var Q=Z._private,K=Q.rscratch,X=Z.isEdge(),U=J?J+"-":"",Y=Z.pstyle(U+"text-rotation"),q=Y.strValue;if(q==="none")return 0;else if(X&&q==="autorotate")return K.labelAutoAngle;else if(q==="autorotate")return 0;else return Y.pfValue};iX.calculateLabelAngles=function(Z){var J=this,Q=Z.isEdge(),K=Z._private,X=K.rscratch;if(X.labelAngle=J.calculateLabelAngle(Z),Q)X.sourceLabelAngle=J.calculateLabelAngle(Z,"source"),X.targetLabelAngle=J.calculateLabelAngle(Z,"target")};UN0={};UN0.getNodeShape=function(Z){var J=this,Q=Z.pstyle("shape").value;if(Q==="cutrectangle"&&(Z.width()<II0||Z.height()<II0)){if(!AI0)NZ("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),AI0=!0;return"rectangle"}if(Z.isParent())if(Q==="rectangle"||Q==="roundrectangle"||Q==="round-rectangle"||Q==="cutrectangle"||Q==="cut-rectangle"||Q==="barrel")return Q;else return"rectangle";if(Q==="polygon"){var K=Z.pstyle("shape-polygon-points").value;return J.nodeShapes.makePolygon(K).name}return Q};eS={};eS.registerCalculationListeners=function(){var Z=this.cy,J=Z.collection(),Q=this,K=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J.merge(Y),q)for(var W=0;W<Y.length;W++){var G=Y[W],z=G._private,H=z.rstyle;H.clean=!1,H.cleanConnected=!1}};Q.binder(Z).on("bounds.* dirty.*",function(Y){var q=Y.target;K(q)}).on("style.* background.*",function(Y){var q=Y.target;K(q,!1)});var X=function(Y){if(Y){var q=Q.onUpdateEleCalcsFns;J.cleanStyle();for(var W=0;W<J.length;W++){var G=J[W],z=G._private.rstyle;if(G.isNode()&&!z.cleanConnected)K(G.connectedEdges()),z.cleanConnected=!0}if(q)for(var H=0;H<q.length;H++){var F=q[H];F(Y,J)}Q.recalculateRenderedStyle(J),J=Z.collection()}};Q.flushRenderedStyleQueue=function(){X(!0)},Q.beforeRender(X,Q.beforeRenderPriorities.eleCalcs)};eS.onUpdateEleCalcs=function(Z){var J=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];J.push(Z)};eS.recalculateRenderedStyle=function(Z,J){var Q=function(V){return V._private.rstyle.cleanConnected};if(Z.length===0)return;var K=[],X=[];if(this.destroyed)return;if(J===void 0)J=!0;for(var U=0;U<Z.length;U++){var Y=Z[U],q=Y._private,W=q.rstyle;if(Y.isEdge()&&(!Q(Y.source())||!Q(Y.target())))W.clean=!1;if(Y.isEdge()&&Y.isBundledBezier()){if(Y.parallelEdges().some(function(A){return!A._private.rstyle.clean&&A.isBundledBezier()}))W.clean=!1}if(J&&W.clean||Y.removed())continue;if(Y.pstyle("display").value==="none")continue;if(q.group==="nodes")X.push(Y);else K.push(Y);W.clean=!0}for(var G=0;G<X.length;G++){var z=X[G],H=z._private,F=H.rstyle,M=z.position();this.recalculateNodeLabelProjection(z),F.nodeX=M.x,F.nodeY=M.y,F.nodeW=z.pstyle("width").pfValue,F.nodeH=z.pstyle("height").pfValue}this.recalculateEdgeProjections(K);for(var B=0;B<K.length;B++){var O=K[B],R=O._private,D=R.rstyle,L=R.rscratch;D.srcX=L.arrowStartX,D.srcY=L.arrowStartY,D.tgtX=L.arrowEndX,D.tgtY=L.arrowEndY,D.midX=L.midX,D.midY=L.midY,D.labelAngle=L.labelAngle,D.sourceLabelAngle=L.sourceLabelAngle,D.targetLabelAngle=L.targetLabelAngle}};ZT={};ZT.updateCachedGrabbedEles=function(){var Z=this.cachedZSortedEles;if(!Z)return;Z.drag=[],Z.nondrag=[];var J=[];for(var Q=0;Q<Z.length;Q++){var K=Z[Q],X=K._private.rscratch;if(K.grabbed()&&!K.isParent())J.push(K);else if(X.inDragLayer)Z.drag.push(K);else Z.nondrag.push(K)}for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.drag.push(K)}};ZT.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};ZT.getCachedZSortedEles=function(Z){if(Z||!this.cachedZSortedEles){var J=this.cy.mutableElements().toArray();J.sort(uA0),J.interactive=J.filter(function(Q){return Q.interactive()}),this.cachedZSortedEles=J,this.updateCachedGrabbedEles()}else J=this.cachedZSortedEles;return J};YN0={};[Lz,fS,kQ,fL,ci,iX,UN0,eS,ZT].forEach(function(Z){Y9(YN0,Z)});qN0={};qN0.getCachedImage=function(Z,J,Q){var K=this,X=K.imageCache=K.imageCache||{},U=X[Z];if(U){if(!U.image.complete)U.image.addEventListener("load",Q);return U.image}else{U=X[Z]=X[Z]||{};var Y=U.image=new Image;Y.addEventListener("load",Q),Y.addEventListener("error",function(){Y.error=!0});var q="data:",W=Z.substring(0,q.length).toLowerCase()===q;if(!W)J=J==="null"?null:J,Y.crossOrigin=J;return Y.src=Z,Y}};TF={};TF.registerBinding=function(Z,J,Q,K){var X=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(Z)){var U=[];for(var Y=0;Y<Z.length;Y++){var q=Z[Y];if(q!==void 0){var W=this.binder(q);U.push(W.on.apply(W,X))}}return U}var W=this.binder(Z);return W.on.apply(W,X)};TF.binder=function(Z){var J=this,Q=J.cy.window(),K=Z===Q||Z===Q.document||Z===Q.document.body||PH8(Z);if(J.supportsPassiveEvents==null){var X=!1;try{var U=Object.defineProperty({},"passive",{get:function(){return X=!0,!0}});Q.addEventListener("test",null,U)}catch(q){}J.supportsPassiveEvents=X}var Y=function(W,G,z){var H=Array.prototype.slice.call(arguments);if(K&&J.supportsPassiveEvents)H[2]={capture:z!=null?z:!1,passive:!1,once:!1};return J.bindings.push({target:Z,args:H}),(Z.addEventListener||Z.on).apply(Z,H),this};return{on:Y,addEventListener:Y,addListener:Y,bind:Y}};TF.nodeIsDraggable=function(Z){return Z&&Z.isNode()&&!Z.locked()&&Z.grabbable()};TF.nodeIsGrabbable=function(Z){return this.nodeIsDraggable(Z)&&Z.interactive()};TF.load=function(){var Z=this,J=Z.cy.window(),Q=function(m){return m.selected()},K=function(m){var q0=m.getRootNode();if(q0&&q0.nodeType===11&&q0.host!==void 0)return q0},X=function(m,q0,W0,V0){if(m==null)m=Z.cy;for(var L0=0;L0<q0.length;L0++){var D0=q0[L0];m.emit({originalEvent:W0,type:D0,position:V0})}},U=function(m){return m.shiftKey||m.metaKey||m.ctrlKey},Y=function(m,q0){var W0=!0;if(Z.cy.hasCompoundNodes()&&m&&m.pannable())for(var V0=0;q0&&V0<q0.length;V0++){var m=q0[V0];if(m.isNode()&&m.isParent()&&!m.pannable()){W0=!1;break}}else W0=!0;return W0},q=function(m){m[0]._private.grabbed=!0},W=function(m){m[0]._private.grabbed=!1},G=function(m){m[0]._private.rscratch.inDragLayer=!0},z=function(m){m[0]._private.rscratch.inDragLayer=!1},H=function(m){m[0]._private.rscratch.isGrabTarget=!0},F=function(m){m[0]._private.rscratch.isGrabTarget=!1},M=function(m,q0){var W0=q0.addToList,V0=W0.has(m);if(!V0&&m.grabbable()&&!m.locked())W0.merge(m),q(m)},B=function(m,q0){if(!m.cy().hasCompoundNodes())return;if(q0.inDragLayer==null&&q0.addToList==null)return;var W0=m.descendants();if(q0.inDragLayer)W0.forEach(G),W0.connectedEdges().forEach(G);if(q0.addToList)M(W0,q0)},O=function(m,q0){q0=q0||{};var W0=m.cy().hasCompoundNodes();if(q0.inDragLayer)m.forEach(G),m.neighborhood().stdFilter(function(V0){return!W0||V0.isEdge()}).forEach(G);if(q0.addToList)m.forEach(function(V0){M(V0,q0)});B(m,q0),L(m,{inDragLayer:q0.inDragLayer}),Z.updateCachedGrabbedEles()},R=O,D=function(m){if(!m)return;Z.getCachedZSortedEles().forEach(function(q0){W(q0),z(q0),F(q0)}),Z.updateCachedGrabbedEles()},L=function(m,q0){if(q0.inDragLayer==null&&q0.addToList==null)return;if(!m.cy().hasCompoundNodes())return;var W0=m.ancestors().orphans();if(W0.same(m))return;var V0=W0.descendants().spawnSelf().merge(W0).unmerge(m).unmerge(m.descendants()),L0=V0.connectedEdges();if(q0.inDragLayer)L0.forEach(G),V0.forEach(G);if(q0.addToList)V0.forEach(function(D0){M(D0,q0)})},A=function(){if(document.activeElement!=null&&document.activeElement.blur!=null)document.activeElement.blur()},V=typeof MutationObserver<"u",N=typeof ResizeObserver<"u";if(V){if(Z.removeObserver=new MutationObserver(function(H0){for(var m=0;m<H0.length;m++){var q0=H0[m],W0=q0.removedNodes;if(W0)for(var V0=0;V0<W0.length;V0++){var L0=W0[V0];if(L0===Z.container){Z.destroy();break}}}}),Z.container.parentNode)Z.removeObserver.observe(Z.container.parentNode,{childList:!0})}else Z.registerBinding(Z.container,"DOMNodeRemoved",function(H0){Z.destroy()});var E=wL(function(){Z.cy.resize()},100);if(V)Z.styleObserver=new MutationObserver(E),Z.styleObserver.observe(Z.container,{attributes:!0});if(Z.registerBinding(J,"resize",E),N)Z.resizeObserver=new ResizeObserver(E),Z.resizeObserver.observe(Z.container);var j=function(m,q0){while(m!=null)q0(m),m=m.parentNode},C=function(){Z.invalidateContainerClientCoordsCache()};j(Z.container,function(H0){Z.registerBinding(H0,"transitionend",C),Z.registerBinding(H0,"animationend",C),Z.registerBinding(H0,"scroll",C)}),Z.registerBinding(Z.container,"contextmenu",function(H0){H0.preventDefault()});var $=function(){return Z.selection[4]!==0},k=function(m){var q0=Z.findContainerClientCoords(),W0=q0[0],V0=q0[1],L0=q0[2],D0=q0[3],_0=m.touches?m.touches:[m],T0=!1;for(var m0=0;m0<_0.length;m0++){var t0=_0[m0];if(W0<=t0.clientX&&t0.clientX<=W0+L0&&V0<=t0.clientY&&t0.clientY<=V0+D0){T0=!0;break}}if(!T0)return!1;var H8=Z.container,r0=m.target,u0=r0.parentNode,o0=!1;while(u0){if(u0===H8){o0=!0;break}u0=u0.parentNode}if(!o0)return!1;return!0};Z.registerBinding(Z.container,"mousedown",function(m){if(!k(m))return;if(Z.hoverData.which===1&&m.which!==1)return;m.preventDefault(),A(),Z.hoverData.capture=!0,Z.hoverData.which=m.which;var q0=Z.cy,W0=[m.clientX,m.clientY],V0=Z.projectIntoViewport(W0[0],W0[1]),L0=Z.selection,D0=Z.findNearestElements(V0[0],V0[1],!0,!1),_0=D0[0],T0=Z.dragData.possibleDragElements;Z.hoverData.mdownPos=V0,Z.hoverData.mdownGPos=W0;var m0=function(d0){return{originalEvent:m,type:d0,position:{x:V0[0],y:V0[1]}}},t0=function(){Z.hoverData.tapholdCancelled=!1,clearTimeout(Z.hoverData.tapholdTimeout),Z.hoverData.tapholdTimeout=setTimeout(function(){if(Z.hoverData.tapholdCancelled)return;else{var d0=Z.hoverData.down;if(d0)d0.emit(m0("taphold"));else q0.emit(m0("taphold"))}},Z.tapholdDuration)};if(m.which==3){Z.hoverData.cxtStarted=!0;var H8={originalEvent:m,type:"cxttapstart",position:{x:V0[0],y:V0[1]}};if(_0)_0.activate(),_0.emit(H8),Z.hoverData.down=_0;else q0.emit(H8);Z.hoverData.downTime=new Date().getTime(),Z.hoverData.cxtDragged=!1}else if(m.which==1){if(_0)_0.activate();{if(_0!=null){if(Z.nodeIsGrabbable(_0)){var r0=function(d0){d0.emit(m0("grab"))};if(H(_0),!_0.selected())T0=Z.dragData.possibleDragElements=q0.collection(),R(_0,{addToList:T0}),_0.emit(m0("grabon")).emit(m0("grab"));else{T0=Z.dragData.possibleDragElements=q0.collection();var u0=q0.$(function(o0){return o0.isNode()&&o0.selected()&&Z.nodeIsGrabbable(o0)});O(u0,{addToList:T0}),_0.emit(m0("grabon")),u0.forEach(r0)}Z.redrawHint("eles",!0),Z.redrawHint("drag",!0)}}Z.hoverData.down=_0,Z.hoverData.downs=D0,Z.hoverData.downTime=new Date().getTime()}if(X(_0,["mousedown","tapstart","vmousedown"],m,{x:V0[0],y:V0[1]}),_0==null)L0[4]=1,Z.data.bgActivePosistion={x:V0[0],y:V0[1]},Z.redrawHint("select",!0),Z.redraw();else if(_0.pannable())L0[4]=1;t0()}L0[0]=L0[2]=V0[0],L0[1]=L0[3]=V0[1]},!1);var w=K(Z.container);Z.registerBinding([J,w],"mousemove",function(m){var q0=Z.hoverData.capture;if(!q0&&!k(m))return;var W0=!1,V0=Z.cy,L0=V0.zoom(),D0=[m.clientX,m.clientY],_0=Z.projectIntoViewport(D0[0],D0[1]),T0=Z.hoverData.mdownPos,m0=Z.hoverData.mdownGPos,t0=Z.selection,H8=null;if(!Z.hoverData.draggingEles&&!Z.hoverData.dragging&&!Z.hoverData.selecting)H8=Z.findNearestElement(_0[0],_0[1],!0,!1);var r0=Z.hoverData.last,u0=Z.hoverData.down,o0=[_0[0]-t0[2],_0[1]-t0[3]],d0=Z.dragData.possibleDragElements,U8;if(m0){var u8=D0[0]-m0[0],O8=u8*u8,S8=D0[1]-m0[1],W8=S8*S8,q8=O8+W8;Z.hoverData.isOverThresholdDrag=U8=q8>=Z.desktopTapThreshold2}var F8=U(m);if(U8)Z.hoverData.tapholdCancelled=!0;var R8=function(){var M8=Z.hoverData.dragDelta=Z.hoverData.dragDelta||[];if(M8.length===0)M8.push(o0[0]),M8.push(o0[1]);else M8[0]+=o0[0],M8[1]+=o0[1]};W0=!0,X(H8,["mousemove","vmousemove","tapdrag"],m,{x:_0[0],y:_0[1]});var D8=function(M8){return{originalEvent:m,type:M8,position:{x:_0[0],y:_0[1]}}},G8=function(){if(Z.data.bgActivePosistion=void 0,!Z.hoverData.selecting)V0.emit(D8("boxstart"));t0[4]=1,Z.hoverData.selecting=!0,Z.redrawHint("select",!0),Z.redraw()};if(Z.hoverData.which===3){if(U8){var a9=D8("cxtdrag");if(u0)u0.emit(a9);else V0.emit(a9);if(Z.hoverData.cxtDragged=!0,!Z.hoverData.cxtOver||H8!==Z.hoverData.cxtOver){if(Z.hoverData.cxtOver)Z.hoverData.cxtOver.emit(D8("cxtdragout"));if(Z.hoverData.cxtOver=H8,H8)H8.emit(D8("cxtdragover"))}}}else if(Z.hoverData.dragging){if(W0=!0,V0.panningEnabled()&&V0.userPanningEnabled()){var f8;if(Z.hoverData.justStartedPan){var o9=Z.hoverData.mdownPos;f8={x:(_0[0]-o9[0])*L0,y:(_0[1]-o9[1])*L0},Z.hoverData.justStartedPan=!1}else f8={x:o0[0]*L0,y:o0[1]*L0};V0.panBy(f8),V0.emit(D8("dragpan")),Z.hoverData.dragged=!0}_0=Z.projectIntoViewport(m.clientX,m.clientY)}else if(t0[4]==1&&(u0==null||u0.pannable())){if(U8){if(!Z.hoverData.dragging&&V0.boxSelectionEnabled()&&(F8||!V0.panningEnabled()||!V0.userPanningEnabled()))G8();else if(!Z.hoverData.selecting&&V0.panningEnabled()&&V0.userPanningEnabled()){var p9=Y(u0,Z.hoverData.downs);if(p9)Z.hoverData.dragging=!0,Z.hoverData.justStartedPan=!0,t0[4]=0,Z.data.bgActivePosistion=BF(T0),Z.redrawHint("select",!0),Z.redraw()}if(u0&&u0.pannable()&&u0.active())u0.unactivate()}}else{if(u0&&u0.pannable()&&u0.active())u0.unactivate();if((!u0||!u0.grabbed())&&H8!=r0){if(r0)X(r0,["mouseout","tapdragout"],m,{x:_0[0],y:_0[1]});if(H8)X(H8,["mouseover","tapdragover"],m,{x:_0[0],y:_0[1]});Z.hoverData.last=H8}if(u0)if(U8){if(V0.boxSelectionEnabled()&&F8){if(u0&&u0.grabbed()){if(D(d0),u0.emit(D8("freeon")),d0.emit(D8("free")),Z.dragData.didDrag)u0.emit(D8("dragfreeon")),d0.emit(D8("dragfree"))}G8()}else if(u0&&u0.grabbed()&&Z.nodeIsDraggable(u0)){var F9=!Z.dragData.didDrag;if(F9)Z.redrawHint("eles",!0);if(Z.dragData.didDrag=!0,!Z.hoverData.draggingEles)O(d0,{inDragLayer:!0});var G9={x:0,y:0};if(P8(o0[0])&&P8(o0[1])){if(G9.x+=o0[0],G9.y+=o0[1],F9){var C9=Z.hoverData.dragDelta;if(C9&&P8(C9[0])&&P8(C9[1]))G9.x+=C9[0],G9.y+=C9[1]}}Z.hoverData.draggingEles=!0,d0.silentShift(G9).emit(D8("position")).emit(D8("drag")),Z.redrawHint("drag",!0),Z.redraw()}}else R8();W0=!0}if(t0[2]=_0[0],t0[3]=_0[1],W0){if(m.stopPropagation)m.stopPropagation();if(m.preventDefault)m.preventDefault();return!1}},!1);var P,T,S;Z.registerBinding(J,"mouseup",function(m){if(Z.hoverData.which===1&&m.which!==1&&Z.hoverData.capture)return;var q0=Z.hoverData.capture;if(!q0)return;Z.hoverData.capture=!1;var W0=Z.cy,V0=Z.projectIntoViewport(m.clientX,m.clientY),L0=Z.selection,D0=Z.findNearestElement(V0[0],V0[1],!0,!1),_0=Z.dragData.possibleDragElements,T0=Z.hoverData.down,m0=U(m);if(Z.data.bgActivePosistion)Z.redrawHint("select",!0),Z.redraw();if(Z.hoverData.tapholdCancelled=!0,Z.data.bgActivePosistion=void 0,T0)T0.unactivate();var t0=function(u8){return{originalEvent:m,type:u8,position:{x:V0[0],y:V0[1]}}};if(Z.hoverData.which===3){var H8=t0("cxttapend");if(T0)T0.emit(H8);else W0.emit(H8);if(!Z.hoverData.cxtDragged){var r0=t0("cxttap");if(T0)T0.emit(r0);else W0.emit(r0)}Z.hoverData.cxtDragged=!1,Z.hoverData.which=null}else if(Z.hoverData.which===1){if(X(D0,["mouseup","tapend","vmouseup"],m,{x:V0[0],y:V0[1]}),!Z.dragData.didDrag&&!Z.hoverData.dragged&&!Z.hoverData.selecting&&!Z.hoverData.isOverThresholdDrag)if(X(T0,["click","tap","vclick"],m,{x:V0[0],y:V0[1]}),T=!1,m.timeStamp-S<=W0.multiClickDebounceTime())P&&clearTimeout(P),T=!0,S=null,X(T0,["dblclick","dbltap","vdblclick"],m,{x:V0[0],y:V0[1]});else P=setTimeout(function(){if(T)return;X(T0,["oneclick","onetap","voneclick"],m,{x:V0[0],y:V0[1]})},W0.multiClickDebounceTime()),S=m.timeStamp;if(T0==null&&!Z.dragData.didDrag&&!Z.hoverData.selecting&&!Z.hoverData.dragged&&!U(m)){if(W0.$(Q).unselect(["tapunselect"]),_0.length>0)Z.redrawHint("eles",!0);Z.dragData.possibleDragElements=_0=W0.collection()}if(D0==T0&&!Z.dragData.didDrag&&!Z.hoverData.selecting){if(D0!=null&&D0._private.selectable){if(Z.hoverData.dragging);else if(W0.selectionType()==="additive"||m0)if(D0.selected())D0.unselect(["tapunselect"]);else D0.select(["tapselect"]);else if(!m0)W0.$(Q).unmerge(D0).unselect(["tapunselect"]),D0.select(["tapselect"]);Z.redrawHint("eles",!0)}}if(Z.hoverData.selecting){var u0=W0.collection(Z.getAllInBox(L0[0],L0[1],L0[2],L0[3]));if(Z.redrawHint("select",!0),u0.length>0)Z.redrawHint("eles",!0);W0.emit(t0("boxend"));var o0=function(u8){return u8.selectable()&&!u8.selected()};if(W0.selectionType()==="additive")u0.emit(t0("box")).stdFilter(o0).select().emit(t0("boxselect"));else{if(!m0)W0.$(Q).unmerge(u0).unselect();u0.emit(t0("box")).stdFilter(o0).select().emit(t0("boxselect"))}Z.redraw()}if(Z.hoverData.dragging)Z.hoverData.dragging=!1,Z.redrawHint("select",!0),Z.redrawHint("eles",!0),Z.redraw();if(!L0[4]){Z.redrawHint("drag",!0),Z.redrawHint("eles",!0);var d0=T0&&T0.grabbed();if(D(_0),d0){if(T0.emit(t0("freeon")),_0.emit(t0("free")),Z.dragData.didDrag)T0.emit(t0("dragfreeon")),_0.emit(t0("dragfree"))}}}L0[4]=0,Z.hoverData.down=null,Z.hoverData.cxtStarted=!1,Z.hoverData.draggingEles=!1,Z.hoverData.selecting=!1,Z.hoverData.isOverThresholdDrag=!1,Z.dragData.didDrag=!1,Z.hoverData.dragged=!1,Z.hoverData.dragDelta=[],Z.hoverData.mdownPos=null,Z.hoverData.mdownGPos=null,Z.hoverData.which=null},!1);var f=[],v=4,x,b=1e5,y=function(m,q0){for(var W0=0;W0<m.length;W0++)if(m[W0]%q0!==0)return!1;return!0},u=function(m){var q0=Math.abs(m[0]);for(var W0=1;W0<m.length;W0++)if(Math.abs(m[W0])!==q0)return!1;return!0},h=function(m){var q0=!1,W0=m.deltaY;if(W0==null){if(m.wheelDeltaY!=null)W0=m.wheelDeltaY/4;else if(m.wheelDelta!=null)W0=m.wheelDelta/4}if(W0===0)return;if(x==null)if(f.length>=v){var V0=f;if(x=y(V0,5),!x){var L0=Math.abs(V0[0]);x=u(V0)&&L0>5}if(x)for(var D0=0;D0<V0.length;D0++)b=Math.min(Math.abs(V0[D0]),b)}else f.push(W0),q0=!0;else if(x)b=Math.min(Math.abs(W0),b);if(Z.scrollingPage)return;var _0=Z.cy,T0=_0.zoom(),m0=_0.pan(),t0=Z.projectIntoViewport(m.clientX,m.clientY),H8=[t0[0]*T0+m0.x,t0[1]*T0+m0.y];if(Z.hoverData.draggingEles||Z.hoverData.dragging||Z.hoverData.cxtStarted||$()){m.preventDefault();return}if(_0.panningEnabled()&&_0.userPanningEnabled()&&_0.zoomingEnabled()&&_0.userZoomingEnabled()){m.preventDefault(),Z.data.wheelZooming=!0,clearTimeout(Z.data.wheelTimeout),Z.data.wheelTimeout=setTimeout(function(){Z.data.wheelZooming=!1,Z.redrawHint("eles",!0),Z.redraw()},150);var r0;if(q0&&Math.abs(W0)>5)W0=Ti(W0)*5;if(r0=W0/-250,x)r0/=b,r0*=3;r0=r0*Z.wheelSensitivity;var u0=m.deltaMode===1;if(u0)r0*=33;var o0=_0.zoom()*Math.pow(10,r0);if(m.type==="gesturechange")o0=Z.gestureStartZoom*m.scale;_0.zoom({level:o0,renderedPosition:{x:H8[0],y:H8[1]}}),_0.emit({type:m.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:m,position:{x:t0[0],y:t0[1]}})}};Z.registerBinding(Z.container,"wheel",h,!0),Z.registerBinding(J,"scroll",function(m){Z.scrollingPage=!0,clearTimeout(Z.scrollingPageTimeout),Z.scrollingPageTimeout=setTimeout(function(){Z.scrollingPage=!1},250)},!0),Z.registerBinding(Z.container,"gesturestart",function(m){if(Z.gestureStartZoom=Z.cy.zoom(),!Z.hasTouchStarted)m.preventDefault()},!0),Z.registerBinding(Z.container,"gesturechange",function(H0){if(!Z.hasTouchStarted)h(H0)},!0),Z.registerBinding(Z.container,"mouseout",function(m){var q0=Z.projectIntoViewport(m.clientX,m.clientY);Z.cy.emit({originalEvent:m,type:"mouseout",position:{x:q0[0],y:q0[1]}})},!1),Z.registerBinding(Z.container,"mouseover",function(m){var q0=Z.projectIntoViewport(m.clientX,m.clientY);Z.cy.emit({originalEvent:m,type:"mouseover",position:{x:q0[0],y:q0[1]}})},!1);var p,r,e,i,U0,a,z0,J0,Q0,t,n,Y0,o,M0=function(m,q0,W0,V0){return Math.sqrt((W0-m)*(W0-m)+(V0-q0)*(V0-q0))},X0=function(m,q0,W0,V0){return(W0-m)*(W0-m)+(V0-q0)*(V0-q0)},E0;Z.registerBinding(Z.container,"touchstart",E0=function(m){if(Z.hasTouchStarted=!0,!k(m))return;A(),Z.touchData.capture=!0,Z.data.bgActivePosistion=void 0;var q0=Z.cy,W0=Z.touchData.now,V0=Z.touchData.earlier;if(m.touches[0]){var L0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);W0[0]=L0[0],W0[1]=L0[1]}if(m.touches[1]){var L0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);W0[2]=L0[0],W0[3]=L0[1]}if(m.touches[2]){var L0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);W0[4]=L0[0],W0[5]=L0[1]}var D0=function(F8){return{originalEvent:m,type:F8,position:{x:W0[0],y:W0[1]}}};if(m.touches[1]){Z.touchData.singleTouchMoved=!0,D(Z.dragData.touchDragEles);var _0=Z.findContainerClientCoords();Q0=_0[0],t=_0[1],n=_0[2],Y0=_0[3],p=m.touches[0].clientX-Q0,r=m.touches[0].clientY-t,e=m.touches[1].clientX-Q0,i=m.touches[1].clientY-t,o=0<=p&&p<=n&&0<=e&&e<=n&&0<=r&&r<=Y0&&0<=i&&i<=Y0;var T0=q0.pan(),m0=q0.zoom();U0=M0(p,r,e,i),a=X0(p,r,e,i),z0=[(p+e)/2,(r+i)/2],J0=[(z0[0]-T0.x)/m0,(z0[1]-T0.y)/m0];var t0=200,H8=t0*t0;if(a<H8&&!m.touches[2]){var r0=Z.findNearestElement(W0[0],W0[1],!0,!0),u0=Z.findNearestElement(W0[2],W0[3],!0,!0);if(r0&&r0.isNode())r0.activate().emit(D0("cxttapstart")),Z.touchData.start=r0;else if(u0&&u0.isNode())u0.activate().emit(D0("cxttapstart")),Z.touchData.start=u0;else q0.emit(D0("cxttapstart"));if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!0,Z.touchData.cxtDragged=!1,Z.data.bgActivePosistion=void 0,Z.redraw();return}}if(m.touches[2]){if(q0.boxSelectionEnabled())m.preventDefault()}else if(m.touches[1]);else if(m.touches[0]){var o0=Z.findNearestElements(W0[0],W0[1],!0,!0),d0=o0[0];if(d0!=null){if(d0.activate(),Z.touchData.start=d0,Z.touchData.starts=o0,Z.nodeIsGrabbable(d0)){var U8=Z.dragData.touchDragEles=q0.collection(),u8=null;if(Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),d0.selected())u8=q0.$(function(q8){return q8.selected()&&Z.nodeIsGrabbable(q8)}),O(u8,{addToList:U8});else R(d0,{addToList:U8});if(H(d0),d0.emit(D0("grabon")),u8)u8.forEach(function(q8){q8.emit(D0("grab"))});else d0.emit(D0("grab"))}}if(X(d0,["touchstart","tapstart","vmousedown"],m,{x:W0[0],y:W0[1]}),d0==null)Z.data.bgActivePosistion={x:L0[0],y:L0[1]},Z.redrawHint("select",!0),Z.redraw();Z.touchData.singleTouchMoved=!1,Z.touchData.singleTouchStartTime=+new Date,clearTimeout(Z.touchData.tapholdTimeout),Z.touchData.tapholdTimeout=setTimeout(function(){if(Z.touchData.singleTouchMoved===!1&&!Z.pinching&&!Z.touchData.selecting)X(Z.touchData.start,["taphold"],m,{x:W0[0],y:W0[1]})},Z.tapholdDuration)}if(m.touches.length>=1){var O8=Z.touchData.startPosition=[null,null,null,null,null,null];for(var S8=0;S8<W0.length;S8++)O8[S8]=V0[S8]=W0[S8];var W8=m.touches[0];Z.touchData.startGPosition=[W8.clientX,W8.clientY]}},!1);var d;Z.registerBinding(J,"touchmove",d=function(m){var q0=Z.touchData.capture;if(!q0&&!k(m))return;var{selection:W0,cy:V0}=Z,L0=Z.touchData.now,D0=Z.touchData.earlier,_0=V0.zoom();if(m.touches[0]){var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);L0[0]=T0[0],L0[1]=T0[1]}if(m.touches[1]){var T0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);L0[2]=T0[0],L0[3]=T0[1]}if(m.touches[2]){var T0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);L0[4]=T0[0],L0[5]=T0[1]}var m0=function($f){return{originalEvent:m,type:$f,position:{x:L0[0],y:L0[1]}}},t0=Z.touchData.startGPosition,H8;if(q0&&m.touches[0]&&t0){var r0=[];for(var u0=0;u0<L0.length;u0++)r0[u0]=L0[u0]-D0[u0];var o0=m.touches[0].clientX-t0[0],d0=o0*o0,U8=m.touches[0].clientY-t0[1],u8=U8*U8,O8=d0+u8;H8=O8>=Z.touchTapThreshold2}if(q0&&Z.touchData.cxt){m.preventDefault();var S8=m.touches[0].clientX-Q0,W8=m.touches[0].clientY-t,q8=m.touches[1].clientX-Q0,F8=m.touches[1].clientY-t,R8=X0(S8,W8,q8,F8),D8=R8/a,G8=150,a9=G8*G8,f8=1.5,o9=f8*f8;if(D8>=o9||R8>=a9){Z.touchData.cxt=!1,Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var p9=m0("cxttapend");if(Z.touchData.start)Z.touchData.start.unactivate().emit(p9),Z.touchData.start=null;else V0.emit(p9)}}if(q0&&Z.touchData.cxt){var p9=m0("cxtdrag");if(Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.touchData.start)Z.touchData.start.emit(p9);else V0.emit(p9);if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxtDragged=!0;var F9=Z.findNearestElement(L0[0],L0[1],!0,!0);if(!Z.touchData.cxtOver||F9!==Z.touchData.cxtOver){if(Z.touchData.cxtOver)Z.touchData.cxtOver.emit(m0("cxtdragout"));if(Z.touchData.cxtOver=F9,F9)F9.emit(m0("cxtdragover"))}}else if(q0&&m.touches[2]&&V0.boxSelectionEnabled()){if(m.preventDefault(),Z.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,!Z.touchData.selecting)V0.emit(m0("boxstart"));if(Z.touchData.selecting=!0,Z.touchData.didSelect=!0,W0[4]=1,!W0||W0.length===0||W0[0]===void 0)W0[0]=(L0[0]+L0[2]+L0[4])/3,W0[1]=(L0[1]+L0[3]+L0[5])/3,W0[2]=(L0[0]+L0[2]+L0[4])/3+1,W0[3]=(L0[1]+L0[3]+L0[5])/3+1;else W0[2]=(L0[0]+L0[2]+L0[4])/3,W0[3]=(L0[1]+L0[3]+L0[5])/3;Z.redrawHint("select",!0),Z.redraw()}else if(q0&&m.touches[1]&&!Z.touchData.didSelect&&V0.zoomingEnabled()&&V0.panningEnabled()&&V0.userZoomingEnabled()&&V0.userPanningEnabled()){m.preventDefault(),Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var G9=Z.dragData.touchDragEles;if(G9){Z.redrawHint("drag",!0);for(var C9=0;C9<G9.length;C9++){var kZ=G9[C9]._private;kZ.grabbed=!1,kZ.rscratch.inDragLayer=!1}}var M8=Z.touchData.start,S8=m.touches[0].clientX-Q0,W8=m.touches[0].clientY-t,q8=m.touches[1].clientX-Q0,F8=m.touches[1].clientY-t,S0=M0(S8,W8,q8,F8),Q8=S0/U0;if(o){var T8=S8-p,i9=W8-r,eZ=q8-e,c9=F8-i,VJ=(T8+eZ)/2,l7=(i9+c9)/2,Z7=V0.zoom(),t9=Z7*Q8,Z8=V0.pan(),A8=J0[0]*Z7+Z8.x,s8=J0[1]*Z7+Z8.y,Y8={x:-t9/Z7*(A8-Z8.x-VJ)+A8,y:-t9/Z7*(s8-Z8.y-l7)+s8};if(M8&&M8.active()){var G9=Z.dragData.touchDragEles;if(D(G9),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),M8.unactivate().emit(m0("freeon")),G9.emit(m0("free")),Z.dragData.didDrag)M8.emit(m0("dragfreeon")),G9.emit(m0("dragfree"))}V0.viewport({zoom:t9,pan:Y8,cancelOnFailedZoom:!0}),V0.emit(m0("pinchzoom")),U0=S0,p=S8,r=W8,e=q8,i=F8,Z.pinching=!0}if(m.touches[0]){var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);L0[0]=T0[0],L0[1]=T0[1]}if(m.touches[1]){var T0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);L0[2]=T0[0],L0[3]=T0[1]}if(m.touches[2]){var T0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);L0[4]=T0[0],L0[5]=T0[1]}}else if(m.touches[0]&&!Z.touchData.didSelect){var k9=Z.touchData.start,O0=Z.touchData.last,F9;if(!Z.hoverData.draggingEles&&!Z.swipePanning)F9=Z.findNearestElement(L0[0],L0[1],!0,!0);if(q0&&k9!=null)m.preventDefault();if(q0&&k9!=null&&Z.nodeIsDraggable(k9))if(H8){var G9=Z.dragData.touchDragEles,i5=!Z.dragData.didDrag;if(i5)O(G9,{inDragLayer:!0});Z.dragData.didDrag=!0;var A0={x:0,y:0};if(P8(r0[0])&&P8(r0[1])){if(A0.x+=r0[0],A0.y+=r0[1],i5){Z.redrawHint("eles",!0);var GZ=Z.touchData.dragDelta;if(GZ&&P8(GZ[0])&&P8(GZ[1]))A0.x+=GZ[0],A0.y+=GZ[1]}}if(Z.hoverData.draggingEles=!0,G9.silentShift(A0).emit(m0("position")).emit(m0("drag")),Z.redrawHint("drag",!0),Z.touchData.startPosition[0]==D0[0]&&Z.touchData.startPosition[1]==D0[1])Z.redrawHint("eles",!0);Z.redraw()}else{var GZ=Z.touchData.dragDelta=Z.touchData.dragDelta||[];if(GZ.length===0)GZ.push(r0[0]),GZ.push(r0[1]);else GZ[0]+=r0[0],GZ[1]+=r0[1]}{if(X(k9||F9,["touchmove","tapdrag","vmousemove"],m,{x:L0[0],y:L0[1]}),(!k9||!k9.grabbed())&&F9!=O0){if(O0)O0.emit(m0("tapdragout"));if(F9)F9.emit(m0("tapdragover"))}Z.touchData.last=F9}if(q0){for(var C9=0;C9<L0.length;C9++)if(L0[C9]&&Z.touchData.startPosition[C9]&&H8)Z.touchData.singleTouchMoved=!0}if(q0&&(k9==null||k9.pannable())&&V0.panningEnabled()&&V0.userPanningEnabled()){var QN=Y(k9,Z.touchData.starts);if(QN){if(m.preventDefault(),!Z.data.bgActivePosistion)Z.data.bgActivePosistion=BF(Z.touchData.startPosition);if(Z.swipePanning)V0.panBy({x:r0[0]*_0,y:r0[1]*_0}),V0.emit(m0("dragpan"));else if(H8){if(Z.swipePanning=!0,V0.panBy({x:o0*_0,y:U8*_0}),V0.emit(m0("dragpan")),k9)k9.unactivate(),Z.redrawHint("select",!0),Z.touchData.start=null}}var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);L0[0]=T0[0],L0[1]=T0[1]}}for(var u0=0;u0<L0.length;u0++)D0[u0]=L0[u0];if(q0&&m.touches.length>0&&!Z.hoverData.draggingEles&&!Z.swipePanning&&Z.data.bgActivePosistion!=null)Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.redraw()},!1);var c0;Z.registerBinding(J,"touchcancel",c0=function(m){var q0=Z.touchData.start;if(Z.touchData.capture=!1,q0)q0.unactivate()});var B0,y0,n0,s0;if(Z.registerBinding(J,"touchend",B0=function(m){var q0=Z.touchData.start,W0=Z.touchData.capture;if(W0){if(m.touches.length===0)Z.touchData.capture=!1;m.preventDefault()}else return;var V0=Z.selection;Z.swipePanning=!1,Z.hoverData.draggingEles=!1;var L0=Z.cy,D0=L0.zoom(),_0=Z.touchData.now,T0=Z.touchData.earlier;if(m.touches[0]){var m0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);_0[0]=m0[0],_0[1]=m0[1]}if(m.touches[1]){var m0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);_0[2]=m0[0],_0[3]=m0[1]}if(m.touches[2]){var m0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);_0[4]=m0[0],_0[5]=m0[1]}var t0=function(a9){return{originalEvent:m,type:a9,position:{x:_0[0],y:_0[1]}}};if(q0)q0.unactivate();var H8;if(Z.touchData.cxt){if(H8=t0("cxttapend"),q0)q0.emit(H8);else L0.emit(H8);if(!Z.touchData.cxtDragged){var r0=t0("cxttap");if(q0)q0.emit(r0);else L0.emit(r0)}if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!1,Z.touchData.start=null,Z.redraw();return}if(!m.touches[2]&&L0.boxSelectionEnabled()&&Z.touchData.selecting){Z.touchData.selecting=!1;var u0=L0.collection(Z.getAllInBox(V0[0],V0[1],V0[2],V0[3]));V0[0]=void 0,V0[1]=void 0,V0[2]=void 0,V0[3]=void 0,V0[4]=0,Z.redrawHint("select",!0),L0.emit(t0("boxend"));var o0=function(a9){return a9.selectable()&&!a9.selected()};if(u0.emit(t0("box")).stdFilter(o0).select().emit(t0("boxselect")),u0.nonempty())Z.redrawHint("eles",!0);Z.redraw()}if(q0!=null)q0.unactivate();if(m.touches[2])Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);else if(m.touches[1]);else if(m.touches[0]);else if(!m.touches[0]){Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var d0=Z.dragData.touchDragEles;if(q0!=null){var U8=q0._private.grabbed;if(D(d0),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),U8){if(q0.emit(t0("freeon")),d0.emit(t0("free")),Z.dragData.didDrag)q0.emit(t0("dragfreeon")),d0.emit(t0("dragfree"))}X(q0,["touchend","tapend","vmouseup","tapdragout"],m,{x:_0[0],y:_0[1]}),q0.unactivate(),Z.touchData.start=null}else{var u8=Z.findNearestElement(_0[0],_0[1],!0,!0);X(u8,["touchend","tapend","vmouseup","tapdragout"],m,{x:_0[0],y:_0[1]})}var O8=Z.touchData.startPosition[0]-_0[0],S8=O8*O8,W8=Z.touchData.startPosition[1]-_0[1],q8=W8*W8,F8=S8+q8,R8=F8*D0*D0;if(!Z.touchData.singleTouchMoved){if(!q0)L0.$(":selected").unselect(["tapunselect"]);if(X(q0,["tap","vclick"],m,{x:_0[0],y:_0[1]}),y0=!1,m.timeStamp-s0<=L0.multiClickDebounceTime())n0&&clearTimeout(n0),y0=!0,s0=null,X(q0,["dbltap","vdblclick"],m,{x:_0[0],y:_0[1]});else n0=setTimeout(function(){if(y0)return;X(q0,["onetap","voneclick"],m,{x:_0[0],y:_0[1]})},L0.multiClickDebounceTime()),s0=m.timeStamp}if(q0!=null&&!Z.dragData.didDrag&&q0._private.selectable&&R8<Z.touchTapThreshold2&&!Z.pinching){if(L0.selectionType()==="single")L0.$(Q).unmerge(q0).unselect(["tapunselect"]),q0.select(["tapselect"]);else if(q0.selected())q0.unselect(["tapunselect"]);else q0.select(["tapselect"]);Z.redrawHint("eles",!0)}Z.touchData.singleTouchMoved=!0}for(var D8=0;D8<_0.length;D8++)T0[D8]=_0[D8];if(Z.dragData.didDrag=!1,m.touches.length===0)Z.touchData.dragDelta=[],Z.touchData.startPosition=[null,null,null,null,null,null],Z.touchData.startGPosition=null,Z.touchData.didSelect=!1;if(m.touches.length<2){if(m.touches.length===1)Z.touchData.startGPosition=[m.touches[0].clientX,m.touches[0].clientY];Z.pinching=!1,Z.redrawHint("eles",!0),Z.redraw()}},!1),typeof TouchEvent>"u"){var k0=[],x0=function(m){return{clientX:m.clientX,clientY:m.clientY,force:1,identifier:m.pointerId,pageX:m.pageX,pageY:m.pageY,radiusX:m.width/2,radiusY:m.height/2,screenX:m.screenX,screenY:m.screenY,target:m.target}},f0=function(m){return{event:m,touch:x0(m)}},C0=function(m){k0.push(f0(m))},h0=function(m){for(var q0=0;q0<k0.length;q0++){var W0=k0[q0];if(W0.event.pointerId===m.pointerId){k0.splice(q0,1);return}}},F0=function(m){var q0=k0.filter(function(W0){return W0.event.pointerId===m.pointerId})[0];q0.event=m,q0.touch=x0(m)},I0=function(m){m.touches=k0.map(function(q0){return q0.touch})},s=function(m){return m.pointerType==="mouse"||m.pointerType===4};Z.registerBinding(Z.container,"pointerdown",function(H0){if(s(H0))return;H0.preventDefault(),C0(H0),I0(H0),E0(H0)}),Z.registerBinding(Z.container,"pointerup",function(H0){if(s(H0))return;h0(H0),I0(H0),B0(H0)}),Z.registerBinding(Z.container,"pointercancel",function(H0){if(s(H0))return;h0(H0),I0(H0),c0(H0)}),Z.registerBinding(Z.container,"pointermove",function(H0){if(s(H0))return;H0.preventDefault(),F0(H0),I0(H0),d(H0)})}};VY={};VY.generatePolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,draw:function(K,X,U,Y,q,W){this.renderer.nodeShapeImpl("polygon",K,X,U,Y,q,this.points)},intersectLine:function(K,X,U,Y,q,W,G,z){return LL(q,W,this.points,K,X,U/2,Y/2,G)},checkPoint:function(K,X,U,Y,q,W,G,z){return EY(K,X,this.points,W,G,Y,q,[0,-1],U)},hasMiterBounds:Z!=="rectangle",miterBounds:function(K,X,U,Y,q,W){return u28(this.points,K,X,U,Y,q)}}};VY.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U)},intersectLine:function(J,Q,K,X,U,Y,q,W){return r28(U,Y,J,Q,K/2+q,X/2+q)},checkPoint:function(J,Q,K,X,U,Y,q,W){return Fz(J,Q,X,U,Y,q,K)}}};VY.generateRoundPolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,getOrCreateCorners:function(K,X,U,Y,q,W,G){if(W[G]!==void 0&&W[G+"-cx"]===K&&W[G+"-cy"]===X)return W[G];W[G]=Array(J.length/2),W[G+"-cx"]=K,W[G+"-cy"]=X;var z=U/2,H=Y/2;q=q==="auto"?WA0(U,Y):q;var F=Array(J.length/2);for(var M=0;M<J.length/2;M++)F[M]={x:K+z*J[M*2],y:X+H*J[M*2+1]};var B,O,R,D,L=F.length;O=F[L-1];for(B=0;B<L;B++)R=F[B%L],D=F[(B+1)%L],W[G][B]=pi(O,R,D,q),O=R,R=D;return W[G]},draw:function(K,X,U,Y,q,W,G){this.renderer.nodeShapeImpl("round-polygon",K,X,U,Y,q,this.points,this.getOrCreateCorners(X,U,Y,q,W,G,"drawCorners"))},intersectLine:function(K,X,U,Y,q,W,G,z,H){return a28(q,W,this.points,K,X,U,Y,G,this.getOrCreateCorners(K,X,U,Y,z,H,"corners"))},checkPoint:function(K,X,U,Y,q,W,G,z,H){return s28(K,X,this.points,W,G,Y,q,this.getOrCreateCorners(W,G,Y,q,z,H,"corners"))}}};VY.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Y6(4,0),draw:function(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,this.points,Y)},intersectLine:function(J,Q,K,X,U,Y,q,W){return YA0(U,Y,J,Q,K,X,q,W)},checkPoint:function(J,Q,K,X,U,Y,q,W){var G=X/2,z=U/2;W=W==="auto"?jq(X,U):W,W=Math.min(G,z,W);var H=W*2;if(EY(J,Q,this.points,Y,q,X,U-H,[0,-1],K))return!0;if(EY(J,Q,this.points,Y,q,X-H,U,[0,-1],K))return!0;if(Fz(J,Q,H,H,Y-G+W,q-z+W,K))return!0;if(Fz(J,Q,H,H,Y+G-W,q-z+W,K))return!0;if(Fz(J,Q,H,H,Y+G-W,q+z-W,K))return!0;if(Fz(J,Q,H,H,Y-G+W,q+z-W,K))return!0;return!1}}};VY.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:$i(),points:Y6(4,0),draw:function(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,null,Y)},generateCutTrianglePts:function(J,Q,K,X,U){var Y=U==="auto"?this.cornerLength:U,q=Q/2,W=J/2,G=K-W,z=K+W,H=X-q,F=X+q;return{topLeft:[G,H+Y,G+Y,H,G+Y,H+Y],topRight:[z-Y,H,z,H+Y,z-Y,H+Y],bottomRight:[z,F-Y,z-Y,F,z-Y,F-Y],bottomLeft:[G+Y,F,G,F-Y,G+Y,F-Y]}},intersectLine:function(J,Q,K,X,U,Y,q,W){var G=this.generateCutTrianglePts(K+2*q,X+2*q,J,Q,W),z=[].concat.apply([],[G.topLeft.splice(0,4),G.topRight.splice(0,4),G.bottomRight.splice(0,4),G.bottomLeft.splice(0,4)]);return LL(U,Y,z,J,Q)},checkPoint:function(J,Q,K,X,U,Y,q,W){var G=W==="auto"?this.cornerLength:W;if(EY(J,Q,this.points,Y,q,X,U-2*G,[0,-1],K))return!0;if(EY(J,Q,this.points,Y,q,X-2*G,U,[0,-1],K))return!0;var z=this.generateCutTrianglePts(X,U,Y,q);return o6(J,Q,z.topLeft)||o6(J,Q,z.topRight)||o6(J,Q,z.bottomRight)||o6(J,Q,z.bottomLeft)}}};VY.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Y6(4,0),draw:function(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U)},intersectLine:function(J,Q,K,X,U,Y,q,W){var G=0.15,z=0.5,H=0.85,F=this.generateBarrelBezierPts(K+2*q,X+2*q,J,Q),M=function(R){var D=DF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},G),L=DF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},z),A=DF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},H);return[R[0],R[1],D.x,D.y,L.x,L.y,A.x,A.y,R[4],R[5]]},B=[].concat(M(F.topLeft),M(F.topRight),M(F.bottomRight),M(F.bottomLeft));return LL(U,Y,B,J,Q)},generateBarrelBezierPts:function(J,Q,K,X){var U=Q/2,Y=J/2,q=K-Y,W=K+Y,G=X-U,z=X+U,H=Qi(J,Q),F=H.heightOffset,M=H.widthOffset,B=H.ctrlPtOffsetPct*J,O={topLeft:[q,G+F,q+B,G,q+M,G],topRight:[W-M,G,W-B,G,W,G+F],bottomRight:[W,z-F,W-B,z,W-M,z],bottomLeft:[q+M,z,q+B,z,q,z-F]};return O.topLeft.isTop=!0,O.topRight.isTop=!0,O.bottomLeft.isBottom=!0,O.bottomRight.isBottom=!0,O},checkPoint:function(J,Q,K,X,U,Y,q,W){var G=Qi(X,U),z=G.heightOffset,H=G.widthOffset;if(EY(J,Q,this.points,Y,q,X,U-2*z,[0,-1],K))return!0;if(EY(J,Q,this.points,Y,q,X-2*H,U,[0,-1],K))return!0;var F=this.generateBarrelBezierPts(X,U,Y,q),M=function(C,$,k){var w=k[4],P=k[2],T=k[0],S=k[5],f=k[1],v=Math.min(w,T),x=Math.max(w,T),b=Math.min(S,f),y=Math.max(S,f);if(v<=C&&C<=x&&b<=$&&$<=y){var u=o28(w,P,T),h=c28(u[0],u[1],u[2],C),p=h.filter(function(r){return 0<=r&&r<=1});if(p.length>0)return p[0]}return null},B=Object.keys(F);for(var O=0;O<B.length;O++){var R=B[O],D=F[R],L=M(J,Q,D);if(L==null)continue;var A=D[5],V=D[3],N=D[1],E=b7(A,V,N,L);if(D.isTop&&E<=Q)return!0;if(D.isBottom&&Q<=E)return!0}return!1}}};VY.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Y6(4,0),draw:function(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,this.points,Y)},intersectLine:function(J,Q,K,X,U,Y,q,W){var G=J-(K/2+q),z=Q-(X/2+q),H=z,F=J+(K/2+q),M=Aq(U,Y,J,Q,G,z,F,H,!1);if(M.length>0)return M;return YA0(U,Y,J,Q,K,X,q,W)},checkPoint:function(J,Q,K,X,U,Y,q,W){W=W==="auto"?jq(X,U):W;var G=2*W;if(EY(J,Q,this.points,Y,q,X,U-G,[0,-1],K))return!0;if(EY(J,Q,this.points,Y,q,X-G,U,[0,-1],K))return!0;var z=X/2+2*K,H=U/2+2*K,F=[Y-z,q-H,Y-z,q,Y+z,q,Y+z,q-H];if(o6(J,Q,F))return!0;if(Fz(J,Q,G,G,Y+X/2-W,q+U/2-W,K))return!0;if(Fz(J,Q,G,G,Y-X/2+W,q+U/2-W,K))return!0;return!1}}};VY.registerNodeShapes=function(){var Z=this.nodeShapes={},J=this;this.generateEllipse(),this.generatePolygon("triangle",Y6(3,0)),this.generateRoundPolygon("round-triangle",Y6(3,0)),this.generatePolygon("rectangle",Y6(4,0)),Z.square=Z.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var Q=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",Q),this.generateRoundPolygon("round-diamond",Q)}this.generatePolygon("pentagon",Y6(5,0)),this.generateRoundPolygon("round-pentagon",Y6(5,0)),this.generatePolygon("hexagon",Y6(6,0)),this.generateRoundPolygon("round-hexagon",Y6(6,0)),this.generatePolygon("heptagon",Y6(7,0)),this.generateRoundPolygon("round-heptagon",Y6(7,0)),this.generatePolygon("octagon",Y6(8,0)),this.generateRoundPolygon("round-octagon",Y6(8,0));var K=Array(20);{var X=Ji(5,0),U=Ji(5,Math.PI/5),Y=0.5*(3-Math.sqrt(5));Y*=1.57;for(var q=0;q<U.length/2;q++)U[q*2]*=Y,U[q*2+1]*=Y;for(var q=0;q<5;q++)K[q*4]=X[q*2],K[q*4+1]=X[q*2+1],K[q*4+2]=U[q*2],K[q*4+3]=U[q*2+1]}K=qA0(K),this.generatePolygon("star",K),this.generatePolygon("vee",[-1,-1,0,-0.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,0.333,-1,1,1,-0.333,1]),this.generatePolygon("right-rhomboid",[-0.333,-1,1,-1,0.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-0.95,-0.75,0,-1,0.95,1,0.95,0.75,0,1,-0.95]);{var W=[-1,-1,0.25,-1,1,0,0.25,1,-1,1];this.generatePolygon("tag",W),this.generateRoundPolygon("round-tag",W)}Z.makePolygon=function(G){var z=G.join("$"),H="polygon-"+z,F;if(F=this[H])return F;return J.generatePolygon(H,G)}};vL={};vL.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};vL.redraw=function(Z){Z=Z||QA0();var J=this;if(J.averageRedrawTime===void 0)J.averageRedrawTime=0;if(J.lastRedrawTime===void 0)J.lastRedrawTime=0;if(J.lastDrawTime===void 0)J.lastDrawTime=0;J.requestedFrame=!0,J.renderOptions=Z};vL.beforeRender=function(Z,J){if(this.destroyed)return;if(J==null)LJ("Priority is not optional for beforeRender");var Q=this.beforeRenderCallbacks;Q.push({fn:Z,priority:J}),Q.sort(function(K,X){return X.priority-K.priority})};vL.startRenderLoop=function(){var Z=this,J=Z.cy;if(Z.renderLoopStarted)return;else Z.renderLoopStarted=!0;var Q=function(X){if(Z.destroyed)return;if(J.batching());else if(Z.requestedFrame&&!Z.skipFrame){NI0(Z,!0,X);var U=NY();Z.render(Z.renderOptions);var Y=Z.lastDrawTime=NY();if(Z.averageRedrawTime===void 0)Z.averageRedrawTime=Y-U;if(Z.redrawCount===void 0)Z.redrawCount=0;if(Z.redrawCount++,Z.redrawTotalTime===void 0)Z.redrawTotalTime=0;var q=Y-U;Z.redrawTotalTime+=q,Z.lastRedrawTime=q,Z.averageRedrawTime=Z.averageRedrawTime/2+q/2,Z.requestedFrame=!1}else NI0(Z,!1,X);Z.skipFrame=!1,jS(Q)};jS(Q)};WN0=MO8,wF=WN0.prototype;wF.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];wF.init=function(Z){var J=this;J.options=Z,J.cy=Z.cy;var Q=J.container=Z.cy.container(),K=J.cy.window();if(K){var X=K.document,U=X.head,Y="__________cytoscape_stylesheet",q="__________cytoscape_container",W=X.getElementById(Y)!=null;if(Q.className.indexOf(q)<0)Q.className=(Q.className||"")+" "+q;if(!W){var G=X.createElement("style");G.id=Y,G.textContent="."+q+" { position: relative; }",U.insertBefore(G,U.children[0])}var z=K.getComputedStyle(Q),H=z.getPropertyValue("position");if(H==="static")NZ("A Cytoscape container has style position:static and so can not use UI extensions properly")}J.selection=[void 0,void 0,void 0,void 0,0],J.bezierProjPcts=[0.05,0.225,0.4,0.5,0.6,0.775,0.95],J.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},J.dragData={possibleDragElements:[]},J.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},J.redraws=0,J.showFps=Z.showFps,J.debug=Z.debug,J.webgl=Z.webgl,J.hideEdgesOnViewport=Z.hideEdgesOnViewport,J.textureOnViewport=Z.textureOnViewport,J.wheelSensitivity=Z.wheelSensitivity,J.motionBlurEnabled=Z.motionBlur,J.forcedPixelRatio=P8(Z.pixelRatio)?Z.pixelRatio:null,J.motionBlur=Z.motionBlur,J.motionBlurOpacity=Z.motionBlurOpacity,J.motionBlurTransparency=1-J.motionBlurOpacity,J.motionBlurPxRatio=1,J.mbPxRBlurry=1,J.minMbLowQualFrames=4,J.fullQualityMb=!1,J.clearedForMotionBlur=[],J.desktopTapThreshold=Z.desktopTapThreshold,J.desktopTapThreshold2=Z.desktopTapThreshold*Z.desktopTapThreshold,J.touchTapThreshold=Z.touchTapThreshold,J.touchTapThreshold2=Z.touchTapThreshold*Z.touchTapThreshold,J.tapholdDuration=500,J.bindings=[],J.beforeRenderCallbacks=[],J.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},J.registerNodeShapes(),J.registerArrowShapes(),J.registerCalculationListeners()};wF.notify=function(Z,J){var Q=this,K=Q.cy;if(this.destroyed)return;if(Z==="init"){Q.load();return}if(Z==="destroy"){Q.destroy();return}if(Z==="add"||Z==="remove"||Z==="move"&&K.hasCompoundNodes()||Z==="load"||Z==="zorder"||Z==="mount")Q.invalidateCachedZSortedEles();if(Z==="viewport")Q.redrawHint("select",!0);if(Z==="gc")Q.redrawHint("gc",!0);if(Z==="load"||Z==="resize"||Z==="mount")Q.invalidateContainerClientCoordsCache(),Q.matchCanvasSize(Q.container);Q.redrawHint("eles",!0),Q.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()};wF.destroy=function(){var Z=this;Z.destroyed=!0,Z.cy.stopAnimationLoop();for(var J=0;J<Z.bindings.length;J++){var Q=Z.bindings[J],K=Q,X=K.target;(X.off||X.removeEventListener).apply(X,K.args)}if(Z.bindings=[],Z.beforeRenderCallbacks=[],Z.onUpdateEleCalcsFns=[],Z.removeObserver)Z.removeObserver.disconnect();if(Z.styleObserver)Z.styleObserver.disconnect();if(Z.resizeObserver)Z.resizeObserver.disconnect();if(Z.labelCalcDiv)try{document.body.removeChild(Z.labelCalcDiv)}catch(U){}};wF.isHeadless=function(){return!1};[gi,YN0,qN0,TF,VY,vL].forEach(function(Z){Y9(wF,Z)});GN0={setupDequeueing:function(J){return function(){var K=this,X=this.renderer;if(K.dequeueingSetup)return;else K.dequeueingSetup=!0;var U=wL(function(){X.redrawHint("eles",!0),X.redrawHint("drag",!0),X.redraw()},J.deqRedrawThreshold),Y=function(G,z){var H=NY(),F=X.averageRedrawTime,M=X.lastRedrawTime,B=[],O=X.cy.extent(),R=X.getPixelRatio();if(!G)X.flushRenderedStyleQueue();while(!0){var D=NY(),L=D-H,A=D-z;if(M<id){var V=id-(G?F:0);if(A>=J.deqFastCost*V)break}else if(G){if(L>=J.deqCost*M||L>=J.deqAvgCost*F)break}else if(A>=J.deqNoDrawCost*id)break;var N=J.deq(K,R,O);if(N.length>0)for(var E=0;E<N.length;E++)B.push(N[E]);else break}if(B.length>0){if(J.onDeqd(K,B),!G&&J.shouldRedraw(K,B,R,O))U()}},q=J.priority||ji;X.beforeRender(Y,q(K))}}},BO8=function(){function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CS;wq(this,Z),this.idsByKey=new AY,this.keyForId=new AY,this.cachesByLvl=new AY,this.lvls=[],this.getKey=J,this.doesEleInvalidateKey=Q}return $q(Z,[{key:"getIdsFor",value:function(Q){if(Q==null)LJ("Can not get id list for null key");var K=this.idsByKey,X=this.idsByKey.get(Q);if(!X)X=new PF,K.set(Q,X);return X}},{key:"addIdForKey",value:function(Q,K){if(Q!=null)this.getIdsFor(Q).add(K)}},{key:"deleteIdForKey",value:function(Q,K){if(Q!=null)this.getIdsFor(Q).delete(K)}},{key:"getNumberOfIdsForKey",value:function(Q){if(Q==null)return 0;else return this.getIdsFor(Q).size}},{key:"updateKeyMappingFor",value:function(Q){var K=Q.id(),X=this.keyForId.get(K),U=this.getKey(Q);this.deleteIdForKey(X,K),this.addIdForKey(U,K),this.keyForId.set(K,U)}},{key:"deleteKeyMappingFor",value:function(Q){var K=Q.id(),X=this.keyForId.get(K);this.deleteIdForKey(X,K),this.keyForId.delete(K)}},{key:"keyHasChangedFor",value:function(Q){var K=Q.id(),X=this.keyForId.get(K),U=this.getKey(Q);return X!==U}},{key:"isInvalid",value:function(Q){return this.keyHasChangedFor(Q)||this.doesEleInvalidateKey(Q)}},{key:"getCachesAt",value:function(Q){var K=this.cachesByLvl,X=this.lvls,U=K.get(Q);if(!U)U=new AY,K.set(Q,U),X.push(Q);return U}},{key:"getCache",value:function(Q,K){return this.getCachesAt(K).get(Q)}},{key:"get",value:function(Q,K){var X=this.getKey(Q),U=this.getCache(X,K);if(U!=null)this.updateKeyMappingFor(Q);return U}},{key:"getForCachedKey",value:function(Q,K){var X=this.keyForId.get(Q.id()),U=this.getCache(X,K);return U}},{key:"hasCache",value:function(Q,K){return this.getCachesAt(K).has(Q)}},{key:"has",value:function(Q,K){var X=this.getKey(Q);return this.hasCache(X,K)}},{key:"setCache",value:function(Q,K,X){X.key=Q,this.getCachesAt(K).set(Q,X)}},{key:"set",value:function(Q,K,X){var U=this.getKey(Q);this.setCache(U,K,X),this.updateKeyMappingFor(Q)}},{key:"deleteCache",value:function(Q,K){this.getCachesAt(K).delete(Q)}},{key:"delete",value:function(Q,K){var X=this.getKey(Q);this.deleteCache(X,K)}},{key:"invalidateKey",value:function(Q){var K=this;this.lvls.forEach(function(X){return K.deleteCache(Q,X)})}},{key:"invalidate",value:function(Q){var K=Q.id(),X=this.keyForId.get(K);this.deleteKeyMappingFor(Q);var U=this.doesEleInvalidateKey(Q);if(U)this.invalidateKey(X);return U||this.getNumberOfIdsForKey(X)===0}}])}(),RF={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},TO8=FQ({getKey:null,doesEleInvalidateKey:CS,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:eI0,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),E7=zL.prototype;E7.reasons=RF;E7.getTextureQueue=function(Z){var J=this;return J.eleImgCaches=J.eleImgCaches||{},J.eleImgCaches[Z]=J.eleImgCaches[Z]||[]};E7.getRetiredTextureQueue=function(Z){var J=this,Q=J.eleImgCaches.retired=J.eleImgCaches.retired||{},K=Q[Z]=Q[Z]||[];return K};E7.getElementQueue=function(){var Z=this,J=Z.eleCacheQueue=Z.eleCacheQueue||new $L(function(Q,K){return K.reqs-Q.reqs});return J};E7.getElementKeyToQueue=function(){var Z=this,J=Z.eleKeyToCacheQueue=Z.eleKeyToCacheQueue||{};return J};E7.getElement=function(Z,J,Q,K,X){var U=this,Y=this.renderer,q=Y.cy.zoom(),W=this.lookup;if(!J||J.w===0||J.h===0||isNaN(J.w)||isNaN(J.h)||!Z.visible()||Z.removed())return null;if(!U.allowEdgeTxrCaching&&Z.isEdge()||!U.allowParentTxrCaching&&Z.isParent())return null;if(K==null)K=Math.ceil(Si(q*Q));if(K<NS)K=NS;else if(q>=zN0||K>Oi)return null;var G=Math.pow(2,K),z=J.h*G,H=J.w*G,F=Y.eleTextBiggerThanMin(Z,G);if(!this.isVisible(Z,F))return null;var M=W.get(Z,K);if(M&&M.invalidated)M.invalidated=!1,M.texture.invalidatedWidth-=M.width;if(M)return M;var B;if(z<=EI0)B=EI0;else if(z<=zS)B=zS;else B=Math.ceil(z/zS)*zS;if(z>LO8||H>DO8)return null;var O=U.getTextureQueue(B),R=O[O.length-2],D=function(){return U.recycleTexture(B,H)||U.addTexture(B,H)};if(!R)R=O[O.length-1];if(!R)R=D();if(R.width-R.usedWidth<H)R=D();var L=function(v){return v&&v.scaledLabelShown===F},A=X&&X===RF.dequeue,V=X&&X===RF.highQuality,N=X&&X===RF.downscale,E;for(var j=K+1;j<=Oi;j++){var C=W.get(Z,j);if(C){E=C;break}}var $=E&&E.level===K+1?E:null,k=function(){R.context.drawImage($.texture.canvas,$.x,0,$.width,$.height,R.usedWidth,0,H,z)};if(R.context.setTransform(1,0,0,1,0,0),R.context.clearRect(R.usedWidth,0,H,B),L($))k();else if(L(E))if(V){for(var w=E.level;w>K;w--)$=U.getElement(Z,J,Q,w,RF.downscale);k()}else return U.queueElement(Z,E.level-1),E;else{var P;if(!A&&!V&&!N)for(var T=K-1;T>=NS;T--){var S=W.get(Z,T);if(S){P=S;break}}if(L(P))return U.queueElement(Z,K),P;R.context.translate(R.usedWidth,0),R.context.scale(G,G),this.drawElement(R.context,Z,J,F,!1),R.context.scale(1/G,1/G),R.context.translate(-R.usedWidth,0)}return M={x:R.usedWidth,texture:R,level:K,scale:G,width:H,height:z,scaledLabelShown:F},R.usedWidth+=Math.ceil(H+OO8),R.eleCaches.push(M),W.set(Z,K,M),U.checkTextureFullness(R),M};E7.invalidateElements=function(Z){for(var J=0;J<Z.length;J++)this.invalidateElement(Z[J])};E7.invalidateElement=function(Z){var J=this,Q=J.lookup,K=[],X=Q.isInvalid(Z);if(!X)return;for(var U=NS;U<=Oi;U++){var Y=Q.getForCachedKey(Z,U);if(Y)K.push(Y)}var q=Q.invalidate(Z);if(q)for(var W=0;W<K.length;W++){var G=K[W],z=G.texture;z.invalidatedWidth+=G.width,G.invalidated=!0,J.checkTextureUtility(z)}J.removeFromQueue(Z)};E7.checkTextureUtility=function(Z){if(Z.invalidatedWidth>=IO8*Z.width)this.retireTexture(Z)};E7.checkTextureFullness=function(Z){var J=this,Q=J.getTextureQueue(Z.height);if(Z.usedWidth/Z.width>AO8&&Z.fullnessChecks>=NO8)Pq(Q,Z);else Z.fullnessChecks++};E7.retireTexture=function(Z){var J=this,Q=Z.height,K=J.getTextureQueue(Q),X=this.lookup;Pq(K,Z),Z.retired=!0;var U=Z.eleCaches;for(var Y=0;Y<U.length;Y++){var q=U[Y];X.deleteCache(q.key,q.level)}Ci(U);var W=J.getRetiredTextureQueue(Q);W.push(Z)};E7.addTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),X={};return K.push(X),X.eleCaches=[],X.height=Z,X.width=Math.max(RO8,J),X.usedWidth=0,X.invalidatedWidth=0,X.fullnessChecks=0,X.canvas=Q.renderer.makeOffscreenCanvas(X.width,X.height),X.context=X.canvas.getContext("2d"),X};E7.recycleTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),X=Q.getRetiredTextureQueue(Z);for(var U=0;U<X.length;U++){var Y=X[U];if(Y.width>=J)return Y.retired=!1,Y.usedWidth=0,Y.invalidatedWidth=0,Y.fullnessChecks=0,Ci(Y.eleCaches),Y.context.setTransform(1,0,0,1,0,0),Y.context.clearRect(0,0,Y.width,Y.height),Pq(X,Y),K.push(Y),Y}};E7.queueElement=function(Z,J){var Q=this,K=Q.getElementQueue(),X=Q.getElementKeyToQueue(),U=this.getKey(Z),Y=X[U];if(Y)Y.level=Math.max(Y.level,J),Y.eles.merge(Z),Y.reqs++,K.updateItem(Y);else{var q={eles:Z.spawn().merge(Z),level:J,reqs:1,key:U};K.push(q),X[U]=q}};E7.dequeue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),X=[],U=J.lookup;for(var Y=0;Y<SO8;Y++)if(Q.size()>0){var q=Q.pop(),W=q.key,G=q.eles[0],z=U.hasCache(G,q.level);if(K[W]=null,z)continue;X.push(q);var H=J.getBoundingBox(G);J.getElement(G,H,Z,q.level,RF.dequeue)}else break;return X};E7.removeFromQueue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),X=this.getKey(Z),U=K[X];if(U!=null)if(U.eles.length===1)U.reqs=Pi,Q.updateItem(U),Q.pop(),K[X]=null;else U.eles.unmerge(Z)};E7.onDequeue=function(Z){this.onDequeues.push(Z)};E7.offDequeue=function(Z){Pq(this.onDequeues,Z)};E7.setupDequeueing=GN0.setupDequeueing({deqRedrawThreshold:CO8,deqCost:EO8,deqAvgCost:VO8,deqNoDrawCost:PO8,deqFastCost:jO8,deq:function(J,Q,K){return J.dequeue(Q,K)},onDeqd:function(J,Q){for(var K=0;K<J.onDequeues.length;K++){var X=J.onDequeues[K];X(Q)}},shouldRedraw:function(J,Q,K,X){for(var U=0;U<Q.length;U++){var Y=Q[U].eles;for(var q=0;q<Y.length;q++){var W=Y[q].boundingBox();if(wi(W,X))return!0}}return!1},priority:function(J){return J.renderer.beforeRenderPriorities.eleTxrDeq}});MQ=HN0.prototype,uO8=Math.pow(2,53)-1;MQ.makeLayer=function(Z,J){var Q=Math.pow(2,J),K=Math.ceil(Z.w*Q),X=Math.ceil(Z.h*Q),U=this.renderer.makeOffscreenCanvas(K,X),Y={id:jI0=++jI0%uO8,bb:Z,level:J,width:K,height:X,canvas:U,context:U.getContext("2d"),eles:[],elesQueue:[],reqs:0},q=Y.context,W=-Y.bb.x1,G=-Y.bb.y1;return q.scale(Q,Q),q.translate(W,G),Y};MQ.getLayers=function(Z,J,Q){var K=this,X=K.renderer,U=X.cy,Y=U.zoom(),q=K.firstGet;if(K.firstGet=!1,Q==null){if(Q=Math.ceil(Si(Y*J)),Q<FL)Q=FL;else if(Y>=$O8||Q>vS)return null}K.validateLayersElesOrdering(Q,Z);var W=K.layersByLevel,G=Math.pow(2,Q),z=W[Q]=W[Q]||[],H,F=K.levelIsComplete(Q,Z),M,B=function(){var k=function(f){if(K.validateLayersElesOrdering(f,Z),K.levelIsComplete(f,Z))return M=W[f],!0},w=function(f){if(M)return;for(var v=Q+f;FL<=v&&v<=vS;v+=f)if(k(v))break};w(1),w(-1);for(var P=z.length-1;P>=0;P--){var T=z[P];if(T.invalid)Pq(z,T)}};if(!F)B();else return z;var O=function(){if(!H){H=q6();for(var k=0;k<Z.length;k++)y28(H,Z[k].boundingBox())}return H},R=function(k){k=k||{};var w=k.after;O();var P=Math.ceil(H.w*G),T=Math.ceil(H.h*G);if(P>PI0||T>PI0)return null;var S=P*T;if(S>hO8)return null;var f=K.makeLayer(H,Q);if(w!=null){var v=z.indexOf(w)+1;z.splice(v,0,f)}else if(k.insert===void 0||k.insert)z.unshift(f);return f};if(K.skipping&&!q)return null;var D=null,L=Z.length/wO8,A=!q;for(var V=0;V<Z.length;V++){var N=Z[V],E=N._private.rscratch,j=E.imgLayerCaches=E.imgLayerCaches||{},C=j[Q];if(C){D=C;continue}if(!D||D.eles.length>=L||!UA0(D.bb,N.boundingBox())){if(D=R({insert:!0,after:D}),!D)return null}if(M||A)K.queueLayer(D,N);else K.drawEleInLayer(D,N,Q,J);D.eles.push(N),j[Q]=D}if(M)return M;if(A)return null;return z};MQ.getEleLevelForLayerLevel=function(Z,J){return Z};MQ.drawEleInLayer=function(Z,J,Q,K){var X=this,U=this.renderer,Y=Z.context,q=J.boundingBox();if(q.w===0||q.h===0||!J.visible())return;Q=X.getEleLevelForLayerLevel(Q,K),U.setImgSmoothing(Y,!1),U.drawCachedElement(Y,J,null,null,Q,mO8),U.setImgSmoothing(Y,!0)};MQ.levelIsComplete=function(Z,J){var Q=this,K=Q.layersByLevel[Z];if(!K||K.length===0)return!1;var X=0;for(var U=0;U<K.length;U++){var Y=K[U];if(Y.reqs>0)return!1;if(Y.invalid)return!1;X+=Y.eles.length}if(X!==J.length)return!1;return!0};MQ.validateLayersElesOrdering=function(Z,J){var Q=this.layersByLevel[Z];if(!Q)return;for(var K=0;K<Q.length;K++){var X=Q[K],U=-1;for(var Y=0;Y<J.length;Y++)if(X.eles[0]===J[Y]){U=Y;break}if(U<0){this.invalidateLayer(X);continue}var q=U;for(var Y=0;Y<X.eles.length;Y++)if(X.eles[Y]!==J[q+Y]){this.invalidateLayer(X);break}}};MQ.updateElementsInLayers=function(Z,J){var Q=this,K=jL(Z[0]);for(var X=0;X<Z.length;X++){var U=K?null:Z[X],Y=K?Z[X]:Z[X].ele,q=Y._private.rscratch,W=q.imgLayerCaches=q.imgLayerCaches||{};for(var G=FL;G<=vS;G++){var z=W[G];if(!z)continue;if(U&&Q.getEleLevelForLayerLevel(z.level)!==U.level)continue;J(z,Y,U)}}};MQ.haveLayers=function(){var Z=this,J=!1;for(var Q=FL;Q<=vS;Q++){var K=Z.layersByLevel[Q];if(K&&K.length>0){J=!0;break}}return J};MQ.invalidateElements=function(Z){var J=this;if(Z.length===0)return;if(J.lastInvalidationTime=NY(),Z.length===0||!J.haveLayers())return;J.updateElementsInLayers(Z,function(K,X,U){J.invalidateLayer(K)})};MQ.invalidateLayer=function(Z){if(this.lastInvalidationTime=NY(),Z.invalid)return;var{level:J,eles:Q}=Z,K=this.layersByLevel[J];if(Pq(K,Z),Z.elesQueue=[],Z.invalid=!0,Z.replacement)Z.replacement.invalid=!0;for(var X=0;X<Q.length;X++){var U=Q[X]._private.rscratch.imgLayerCaches;if(U)U[J]=null}};MQ.refineElementTextures=function(Z){var J=this;J.updateElementsInLayers(Z,function(K,X,U){var Y=K.replacement;if(!Y)Y=K.replacement=J.makeLayer(K.bb,K.level),Y.replaces=K,Y.eles=K.eles;if(!Y.reqs)for(var q=0;q<Y.eles.length;q++)J.queueLayer(Y,Y.eles[q])})};MQ.enqueueElementRefinement=function(Z){this.eleTxrDeqs.merge(Z),this.scheduleElementRefinement()};MQ.queueLayer=function(Z,J){var Q=this,K=Q.layersQueue,X=Z.elesQueue,U=X.hasId=X.hasId||{};if(Z.replacement)return;if(J){if(U[J.id()])return;X.push(J),U[J.id()]=!0}if(Z.reqs)Z.reqs++,K.updateItem(Z);else Z.reqs=1,K.push(Z)};MQ.dequeue=function(Z){var J=this,Q=J.layersQueue,K=[],X=0;while(X<yO8){if(Q.size()===0)break;var U=Q.peek();if(U.replacement){Q.pop();continue}if(U.replaces&&U!==U.replaces.replacement){Q.pop();continue}if(U.invalid){Q.pop();continue}var Y=U.elesQueue.shift();if(Y)J.drawEleInLayer(U,Y,U.level,Z),X++;if(K.length===0)K.push(!0);if(U.elesQueue.length===0){if(Q.pop(),U.reqs=0,U.replaces)J.applyLayerReplacement(U);J.requestRedraw()}}return K};MQ.applyLayerReplacement=function(Z){var J=this,Q=J.layersByLevel[Z.level],K=Z.replaces,X=Q.indexOf(K);if(X<0||K.invalid)return;Q[X]=Z;for(var U=0;U<Z.eles.length;U++){var Y=Z.eles[U]._private,q=Y.imgLayerCaches=Y.imgLayerCaches||{};if(q)q[Z.level]=Z}J.requestRedraw()};MQ.requestRedraw=wL(function(){var Z=this.renderer;Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),Z.redraw()},100);MQ.setupDequeueing=GN0.setupDequeueing({deqRedrawThreshold:kO8,deqCost:fO8,deqAvgCost:vO8,deqNoDrawCost:xO8,deqFastCost:bO8,deq:function(J,Q){return J.dequeue(Q)},onDeqd:ji,shouldRedraw:eI0,priority:function(J){return J.renderer.beforeRenderPriorities.lyrTxrDeq}});FN0={};FN0.arrowShapeImpl=function(Z){return(CI0||(CI0={polygon:gO8,"triangle-backcurve":pO8,"triangle-tee":SI0,"circle-triangle":cO8,"triangle-cross":SI0,circle:lO8}))[Z]};sX={};sX.drawElement=function(Z,J,Q,K,X,U){var Y=this;if(J.isNode())Y.drawNode(Z,J,Q,K,X,U);else Y.drawEdge(Z,J,Q,K,X,U)};sX.drawElementOverlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeOverlay(Z,J);else Q.drawEdgeOverlay(Z,J)};sX.drawElementUnderlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeUnderlay(Z,J);else Q.drawEdgeUnderlay(Z,J)};sX.drawCachedElementPortion=function(Z,J,Q,K,X,U,Y,q){var W=this,G=Q.getBoundingBox(J);if(G.w===0||G.h===0)return;var z=Q.getElement(J,G,K,X,U);if(z!=null){var H=q(W,J);if(H===0)return;var F=Y(W,J),M=G.x1,B=G.y1,O=G.w,R=G.h,D,L,A,V,N;if(F!==0){var E=Q.getRotationPoint(J);if(A=E.x,V=E.y,Z.translate(A,V),Z.rotate(F),N=W.getImgSmoothing(Z),!N)W.setImgSmoothing(Z,!0);var j=Q.getRotationOffset(J);D=j.x,L=j.y}else D=M,L=B;var C;if(H!==1)C=Z.globalAlpha,Z.globalAlpha=C*H;if(Z.drawImage(z.texture.canvas,z.x,0,z.width,z.height,D,L,O,R),H!==1)Z.globalAlpha=C;if(F!==0){if(Z.rotate(-F),Z.translate(-A,-V),!N)W.setImgSmoothing(Z,!1)}}else Q.drawElement(Z,J)};sX.drawCachedElement=function(Z,J,Q,K,X,U){var Y=this,q=Y.data,W=q.eleTxrCache,G=q.lblTxrCache,z=q.slbTxrCache,H=q.tlbTxrCache,F=J.boundingBox(),M=U===!0?W.reasons.highQuality:null;if(F.w===0||F.h===0||!J.visible())return;if(!K||wi(F,K)){var B=J.isEdge(),O=J.element()._private.rscratch.badLine;if(Y.drawElementUnderlay(Z,J),Y.drawCachedElementPortion(Z,J,W,Q,X,M,dO8,nO8),!B||!O)Y.drawCachedElementPortion(Z,J,G,Q,X,M,iO8,sd);if(B&&!O)Y.drawCachedElementPortion(Z,J,z,Q,X,M,sO8,sd),Y.drawCachedElementPortion(Z,J,H,Q,X,M,rO8,sd);Y.drawElementOverlay(Z,J)}};sX.drawElements=function(Z,J){var Q=this;for(var K=0;K<J.length;K++){var X=J[K];Q.drawElement(Z,X)}};sX.drawCachedElements=function(Z,J,Q,K){var X=this;for(var U=0;U<J.length;U++){var Y=J[U];X.drawCachedElement(Z,Y,Q,K)}};sX.drawCachedNodes=function(Z,J,Q,K){var X=this;for(var U=0;U<J.length;U++){var Y=J[U];if(!Y.isNode())continue;X.drawCachedElement(Z,Y,Q,K)}};sX.drawLayeredElements=function(Z,J,Q,K){var X=this,U=X.data.lyrTxrCache.getLayers(J,Q);if(U)for(var Y=0;Y<U.length;Y++){var q=U[Y],W=q.bb;if(W.w===0||W.h===0)continue;Z.drawImage(q.canvas,W.x1,W.y1,W.w,W.h)}else X.drawCachedElements(Z,J,Q,K)};PY={};PY.drawEdge=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q=J._private.rscratch;if(U&&!J.visible())return;if(q.badLine||q.allpts==null||isNaN(q.allpts[0]))return;var W;if(Q)W=Q,Z.translate(-W.x1,-W.y1);var G=U?J.pstyle("opacity").value:1,z=U?J.pstyle("line-opacity").value:1,H=J.pstyle("curve-style").value,F=J.pstyle("line-style").value,M=J.pstyle("width").pfValue,B=J.pstyle("line-cap").value,O=J.pstyle("line-outline-width").value,R=J.pstyle("line-outline-color").value,D=G*z,L=G*z,A=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;if(H==="straight-triangle")Y.eleStrokeStyle(Z,J,f),Y.drawEdgeTrianglePath(J,Z,q.allpts);else Z.lineWidth=M,Z.lineCap=B,Y.eleStrokeStyle(Z,J,f),Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},V=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;if(Z.lineWidth=M+O,Z.lineCap=B,O>0)Y.colorStrokeStyle(Z,R[0],R[1],R[2],f);else{Z.lineCap="butt";return}if(H==="straight-triangle")Y.drawEdgeTrianglePath(J,Z,q.allpts);else Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},N=function(){if(!X)return;Y.drawEdgeOverlay(Z,J)},E=function(){if(!X)return;Y.drawEdgeUnderlay(Z,J)},j=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;Y.drawArrowheads(Z,J,f)},C=function(){Y.drawElementText(Z,J,null,K)};Z.lineJoin="round";var $=J.pstyle("ghost").value==="yes";if($){var k=J.pstyle("ghost-offset-x").pfValue,w=J.pstyle("ghost-offset-y").pfValue,P=J.pstyle("ghost-opacity").value,T=D*P;Z.translate(k,w),A(T),j(T),Z.translate(-k,-w)}else V();if(E(),A(),j(),N(),C(),Q)Z.translate(W.x1,W.y1)};PY.drawEdgeOverlay=MN0("overlay");PY.drawEdgeUnderlay=MN0("underlay");PY.drawEdgePath=function(Z,J,Q,K){var X=Z._private.rscratch,U=J,Y,q=!1,W=this.usePaths(),G=Z.pstyle("line-dash-pattern").pfValue,z=Z.pstyle("line-dash-offset").pfValue;if(W){var H=Q.join("$"),F=X.pathCacheKey&&X.pathCacheKey===H;if(F)Y=J=X.pathCache,q=!0;else Y=J=new Path2D,X.pathCacheKey=H,X.pathCache=Y}if(U.setLineDash)switch(K){case"dotted":U.setLineDash([1,1]);break;case"dashed":U.setLineDash(G),U.lineDashOffset=z;break;case"solid":U.setLineDash([]);break}if(!q&&!X.badLine){if(J.beginPath)J.beginPath();switch(J.moveTo(Q[0],Q[1]),X.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<Q.length;M+=4)J.quadraticCurveTo(Q[M],Q[M+1],Q[M+2],Q[M+3]);break;case"straight":case"haystack":for(var B=2;B+1<Q.length;B+=2)J.lineTo(Q[B],Q[B+1]);break;case"segments":if(X.isRound){var O=t6(X.roundCorners),R;try{for(O.s();!(R=O.n()).done;){var D=R.value;JN0(J,D)}}catch(A){O.e(A)}finally{O.f()}J.lineTo(Q[Q.length-2],Q[Q.length-1])}else for(var L=2;L+1<Q.length;L+=2)J.lineTo(Q[L],Q[L+1]);break}}if(J=U,W)J.stroke(Y);else J.stroke();if(J.setLineDash)J.setLineDash([])};PY.drawEdgeTrianglePath=function(Z,J,Q){J.fillStyle=J.strokeStyle;var K=Z.pstyle("width").pfValue;for(var X=0;X+1<Q.length;X+=2){var U=[Q[X+2]-Q[X],Q[X+3]-Q[X+1]],Y=Math.sqrt(U[0]*U[0]+U[1]*U[1]),q=[U[1]/Y,-U[0]/Y],W=[q[0]*K/2,q[1]*K/2];J.beginPath(),J.moveTo(Q[X]-W[0],Q[X+1]-W[1]),J.lineTo(Q[X]+W[0],Q[X+1]+W[1]),J.lineTo(Q[X+2],Q[X+3]),J.closePath(),J.fill()}};PY.drawArrowheads=function(Z,J,Q){var K=J._private.rscratch,X=K.edgeType==="haystack";if(!X)this.drawArrowhead(Z,J,"source",K.arrowStartX,K.arrowStartY,K.srcArrowAngle,Q);if(this.drawArrowhead(Z,J,"mid-target",K.midX,K.midY,K.midtgtArrowAngle,Q),this.drawArrowhead(Z,J,"mid-source",K.midX,K.midY,K.midsrcArrowAngle,Q),!X)this.drawArrowhead(Z,J,"target",K.arrowEndX,K.arrowEndY,K.tgtArrowAngle,Q)};PY.drawArrowhead=function(Z,J,Q,K,X,U,Y){if(isNaN(K)||K==null||isNaN(X)||X==null||isNaN(U)||U==null)return;var q=this,W=J.pstyle(Q+"-arrow-shape").value;if(W==="none")return;var G=J.pstyle(Q+"-arrow-fill").value==="hollow"?"both":"filled",z=J.pstyle(Q+"-arrow-fill").value,H=J.pstyle("width").pfValue,F=J.pstyle(Q+"-arrow-width"),M=F.value==="match-line"?H:F.pfValue;if(F.units==="%")M*=H;var B=J.pstyle("opacity").value;if(Y===void 0)Y=B;var O=Z.globalCompositeOperation;if(Y!==1||z==="hollow")Z.globalCompositeOperation="destination-out",q.colorFillStyle(Z,255,255,255,1),q.colorStrokeStyle(Z,255,255,255,1),q.drawArrowShape(J,Z,G,H,W,M,K,X,U),Z.globalCompositeOperation=O;var R=J.pstyle(Q+"-arrow-color").value;q.colorFillStyle(Z,R[0],R[1],R[2],Y),q.colorStrokeStyle(Z,R[0],R[1],R[2],Y),q.drawArrowShape(J,Z,z,H,W,M,K,X,U)};PY.drawArrowShape=function(Z,J,Q,K,X,U,Y,q,W){var G=this,z=this.usePaths()&&X!=="triangle-cross",H=!1,F,M=J,B={x:Y,y:q},O=Z.pstyle("arrow-scale").value,R=this.getArrowWidth(K,O),D=G.arrowShapes[X];if(z){var L=G.arrowPathCache=G.arrowPathCache||[],A=Mz(X),V=L[A];if(V!=null)F=J=V,H=!0;else F=J=new Path2D,L[A]=F}if(!H){if(J.beginPath)J.beginPath();if(z)D.draw(J,1,0,{x:0,y:0},1);else D.draw(J,R,W,B,K);if(J.closePath)J.closePath()}if(J=M,z)J.translate(Y,q),J.rotate(W),J.scale(R,R);if(Q==="filled"||Q==="both")if(z)J.fill(F);else J.fill();if(Q==="hollow"||Q==="both")if(J.lineWidth=U/(z?R:1),J.lineJoin="miter",z)J.stroke(F);else J.stroke();if(z)J.scale(1/R,1/R),J.rotate(-W),J.translate(-Y,-q)};li={};li.safeDrawImage=function(Z,J,Q,K,X,U,Y,q,W,G){if(X<=0||U<=0||W<=0||G<=0)return;try{Z.drawImage(J,Q,K,X,U,Y,q,W,G)}catch(z){NZ(z)}};li.drawInscribedImage=function(Z,J,Q,K,X){var U=this,Y=Q.position(),q=Y.x,W=Y.y,G=Q.cy().style(),z=G.getIndexedStyle.bind(G),H=z(Q,"background-fit","value",K),F=z(Q,"background-repeat","value",K),M=Q.width(),B=Q.height(),O=Q.padding()*2,R=M+(z(Q,"background-width-relative-to","value",K)==="inner"?0:O),D=B+(z(Q,"background-height-relative-to","value",K)==="inner"?0:O),L=Q._private.rscratch,A=z(Q,"background-clip","value",K),V=A==="node",N=z(Q,"background-image-opacity","value",K)*X,E=z(Q,"background-image-smoothing","value",K),j=Q.pstyle("corner-radius").value;if(j!=="auto")j=Q.pstyle("corner-radius").pfValue;var C=J.width||J.cachedW,$=J.height||J.cachedH;if(C==null||$==null)document.body.appendChild(J),C=J.cachedW=J.width||J.offsetWidth,$=J.cachedH=J.height||J.offsetHeight,document.body.removeChild(J);var k=C,w=$;if(z(Q,"background-width","value",K)!=="auto")if(z(Q,"background-width","units",K)==="%")k=z(Q,"background-width","pfValue",K)*R;else k=z(Q,"background-width","pfValue",K);if(z(Q,"background-height","value",K)!=="auto")if(z(Q,"background-height","units",K)==="%")w=z(Q,"background-height","pfValue",K)*D;else w=z(Q,"background-height","pfValue",K);if(k===0||w===0)return;if(H==="contain"){var P=Math.min(R/k,D/w);k*=P,w*=P}else if(H==="cover"){var P=Math.max(R/k,D/w);k*=P,w*=P}var T=q-R/2,S=z(Q,"background-position-x","units",K),f=z(Q,"background-position-x","pfValue",K);if(S==="%")T+=(R-k)*f;else T+=f;var v=z(Q,"background-offset-x","units",K),x=z(Q,"background-offset-x","pfValue",K);if(v==="%")T+=(R-k)*x;else T+=x;var b=W-D/2,y=z(Q,"background-position-y","units",K),u=z(Q,"background-position-y","pfValue",K);if(y==="%")b+=(D-w)*u;else b+=u;var h=z(Q,"background-offset-y","units",K),p=z(Q,"background-offset-y","pfValue",K);if(h==="%")b+=(D-w)*p;else b+=p;if(L.pathCache)T-=q,b-=W,q=0,W=0;var r=Z.globalAlpha;Z.globalAlpha=N;var e=U.getImgSmoothing(Z),i=!1;if(E==="no"&&e)U.setImgSmoothing(Z,!1),i=!0;else if(E==="yes"&&!e)U.setImgSmoothing(Z,!0),i=!0;if(F==="no-repeat"){if(V)if(Z.save(),L.pathCache)Z.clip(L.pathCache);else U.nodeShapes[U.getNodeShape(Q)].draw(Z,q,W,R,D,j,L),Z.clip();if(U.safeDrawImage(Z,J,0,0,C,$,T,b,k,w),V)Z.restore()}else{var U0=Z.createPattern(J,F);Z.fillStyle=U0,U.nodeShapes[U.getNodeShape(Q)].draw(Z,q,W,R,D,j,L),Z.translate(T,b),Z.fill(),Z.translate(-T,-b)}if(Z.globalAlpha=r,i)U.setImgSmoothing(Z,e)};Iz={};Iz.eleTextBiggerThanMin=function(Z,J){if(!J){var Q=Z.cy().zoom(),K=this.getPixelRatio(),X=Math.ceil(Si(Q*K));J=Math.pow(2,X)}var U=Z.pstyle("font-size").pfValue*J,Y=Z.pstyle("min-zoomed-font-size").pfValue;if(U<Y)return!1;return!0};Iz.drawElementText=function(Z,J,Q,K,X){var U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this;if(K==null){if(U&&!Y.eleTextBiggerThanMin(J))return}else if(K===!1)return;if(J.isNode()){var q=J.pstyle("label");if(!q||!q.value)return;var W=Y.getLabelJustification(J);Z.textAlign=W,Z.textBaseline="bottom"}else{var G=J.element()._private.rscratch.badLine,z=J.pstyle("label"),H=J.pstyle("source-label"),F=J.pstyle("target-label");if(G||(!z||!z.value)&&(!H||!H.value)&&(!F||!F.value))return;Z.textAlign="center",Z.textBaseline="bottom"}var M=!Q,B;if(Q)B=Q,Z.translate(-B.x1,-B.y1);if(X==null){if(Y.drawText(Z,J,null,M,U),J.isEdge())Y.drawText(Z,J,"source",M,U),Y.drawText(Z,J,"target",M,U)}else Y.drawText(Z,J,X,M,U);if(Q)Z.translate(B.x1,B.y1)};Iz.getFontCache=function(Z){var J;this.fontCaches=this.fontCaches||[];for(var Q=0;Q<this.fontCaches.length;Q++)if(J=this.fontCaches[Q],J.context===Z)return J;return J={context:Z},this.fontCaches.push(J),J};Iz.setupTextStyle=function(Z,J){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=J.pstyle("font-style").strValue,X=J.pstyle("font-size").pfValue+"px",U=J.pstyle("font-family").strValue,Y=J.pstyle("font-weight").strValue,q=Q?J.effectiveOpacity()*J.pstyle("text-opacity").value:1,W=J.pstyle("text-outline-opacity").value*q,G=J.pstyle("color").value,z=J.pstyle("text-outline-color").value;Z.font=K+" "+Y+" "+X+" "+U,Z.lineJoin="round",this.colorFillStyle(Z,G[0],G[1],G[2],q),this.colorStrokeStyle(Z,z[0],z[1],z[2],W)};Iz.getTextAngle=function(Z,J){var Q,K=Z._private,X=K.rscratch,U=J?J+"-":"",Y=Z.pstyle(U+"text-rotation");if(Y.strValue==="autorotate"){var q=a6(X,"labelAngle",J);Q=Z.isEdge()?q:0}else if(Y.strValue==="none")Q=0;else Q=Y.pfValue;return Q};Iz.drawText=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=J._private,Y=U.rscratch,q=X?J.effectiveOpacity():1;if(X&&(q===0||J.pstyle("text-opacity").value===0))return;if(Q==="main")Q=null;var W=a6(Y,"labelX",Q),G=a6(Y,"labelY",Q),z,H,F=this.getLabelText(J,Q);if(F!=null&&F!==""&&!isNaN(W)&&!isNaN(G)){this.setupTextStyle(Z,J,X);var M=Q?Q+"-":"",B=a6(Y,"labelWidth",Q),O=a6(Y,"labelHeight",Q),R=J.pstyle(M+"text-margin-x").pfValue,D=J.pstyle(M+"text-margin-y").pfValue,L=J.isEdge(),A=J.pstyle("text-halign").value,V=J.pstyle("text-valign").value;if(L)A="center",V="center";W+=R,G+=D;var N;if(!K)N=0;else N=this.getTextAngle(J,Q);if(N!==0)z=W,H=G,Z.translate(z,H),Z.rotate(N),W=0,G=0;switch(V){case"top":break;case"center":G+=O/2;break;case"bottom":G+=O;break}var E=J.pstyle("text-background-opacity").value,j=J.pstyle("text-border-opacity").value,C=J.pstyle("text-border-width").pfValue,$=J.pstyle("text-background-padding").pfValue,k=J.pstyle("text-background-shape").strValue,w=k==="round-rectangle"||k==="roundrectangle",P=k==="circle",T=2;if(E>0||C>0&&j>0){var{fillStyle:S,strokeStyle:f,lineWidth:v}=Z,x=J.pstyle("text-background-color").value,b=J.pstyle("text-border-color").value,y=J.pstyle("text-border-style").value,u=E>0,h=C>0&&j>0,p=W-$;switch(A){case"left":p-=B;break;case"center":p-=B/2;break}var r=G-O-$,e=B+2*$,i=O+2*$;if(u)Z.fillStyle="rgba(".concat(x[0],",").concat(x[1],",").concat(x[2],",").concat(E*q,")");if(h){if(Z.strokeStyle="rgba(".concat(b[0],",").concat(b[1],",").concat(b[2],",").concat(j*q,")"),Z.lineWidth=C,Z.setLineDash)switch(y){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"double":Z.lineWidth=C/4,Z.setLineDash([]);break;case"solid":default:Z.setLineDash([]);break}}if(w)Z.beginPath(),TI0(Z,p,r,e,i,T);else if(P)Z.beginPath(),aO8(Z,p,r,e,i);else Z.beginPath(),Z.rect(p,r,e,i);if(u)Z.fill();if(h)Z.stroke();if(h&&y==="double"){var U0=C/2;if(Z.beginPath(),w)TI0(Z,p+U0,r+U0,e-2*U0,i-2*U0,T);else Z.rect(p+U0,r+U0,e-2*U0,i-2*U0);Z.stroke()}if(Z.fillStyle=S,Z.strokeStyle=f,Z.lineWidth=v,Z.setLineDash)Z.setLineDash([])}var a=2*J.pstyle("text-outline-width").pfValue;if(a>0)Z.lineWidth=a;if(J.pstyle("text-wrap").value==="wrap"){var z0=a6(Y,"labelWrapCachedLines",Q),J0=a6(Y,"labelLineHeight",Q),Q0=B/2,t=this.getLabelJustification(J);if(t==="auto");else if(A==="left"){if(t==="left")W+=-B;else if(t==="center")W+=-Q0}else if(A==="center"){if(t==="left")W+=-Q0;else if(t==="right")W+=Q0}else if(A==="right"){if(t==="center")W+=Q0;else if(t==="right")W+=B}switch(V){case"top":G-=(z0.length-1)*J0;break;case"center":case"bottom":G-=(z0.length-1)*J0;break}for(var n=0;n<z0.length;n++){if(a>0)Z.strokeText(z0[n],W,G);Z.fillText(z0[n],W,G),G+=J0}}else{if(a>0)Z.strokeText(F,W,G);Z.fillText(F,W,G)}if(N!==0)Z.rotate(-N),Z.translate(-z,-H)}};_q={};_q.drawNode=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q,W,G=J._private,z=G.rscratch,H=J.position();if(!P8(H.x)||!P8(H.y))return;if(U&&!J.visible())return;var F=U?J.effectiveOpacity():1,M=Y.usePaths(),B,O=!1,R=J.padding();q=J.width()+2*R,W=J.height()+2*R;var D;if(Q)D=Q,Z.translate(-D.x1,-D.y1);var L=J.pstyle("background-image"),A=L.value,V=Array(A.length),N=Array(A.length),E=0;for(var j=0;j<A.length;j++){var C=A[j],$=V[j]=C!=null&&C!=="none";if($){var k=J.cy().style().getIndexedStyle(J,"background-image-crossorigin","value",j);E++,N[j]=Y.getCachedImage(C,k,function(){G.backgroundTimestamp=Date.now(),J.emitAndNotify("background")})}}var w=J.pstyle("background-blacken").value,P=J.pstyle("border-width").pfValue,T=J.pstyle("background-opacity").value*F,S=J.pstyle("border-color").value,f=J.pstyle("border-style").value,v=J.pstyle("border-join").value,x=J.pstyle("border-cap").value,b=J.pstyle("border-position").value,y=J.pstyle("border-dash-pattern").pfValue,u=J.pstyle("border-dash-offset").pfValue,h=J.pstyle("border-opacity").value*F,p=J.pstyle("outline-width").pfValue,r=J.pstyle("outline-color").value,e=J.pstyle("outline-style").value,i=J.pstyle("outline-opacity").value*F,U0=J.pstyle("outline-offset").value,a=J.pstyle("corner-radius").value;if(a!=="auto")a=J.pstyle("corner-radius").pfValue;var z0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;Y.eleFillStyle(Z,J,s)},J0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;Y.colorStrokeStyle(Z,S[0],S[1],S[2],s)},Q0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i;Y.colorStrokeStyle(Z,r[0],r[1],r[2],s)},t=function(s,H0,m,q0){var W0=Y.nodePathCache=Y.nodePathCache||[],V0=tI0(m==="polygon"?m+","+q0.join(","):m,""+H0,""+s,""+a),L0=W0[V0],D0,_0=!1;if(L0!=null)D0=L0,_0=!0,z.pathCache=D0;else D0=new Path2D,W0[V0]=z.pathCache=D0;return{path:D0,cacheHit:_0}},n=J.pstyle("shape").strValue,Y0=J.pstyle("shape-polygon-points").pfValue;if(M){Z.translate(H.x,H.y);var o=t(q,W,n,Y0);B=o.path,O=o.cacheHit}var M0=function(){if(!O){var s=H;if(M)s={x:0,y:0};Y.nodeShapes[Y.getNodeShape(J)].draw(B||Z,s.x,s.y,q,W,a,z)}if(M)Z.fill(B);else Z.fill()},X0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=G.backgrounding,q0=0;for(var W0=0;W0<N.length;W0++){var V0=J.cy().style().getIndexedStyle(J,"background-image-containment","value",W0);if(H0&&V0==="over"||!H0&&V0==="inside"){q0++;continue}if(V[W0]&&N[W0].complete&&!N[W0].error)q0++,Y.drawInscribedImage(Z,N[W0],J,W0,s)}if(G.backgrounding=q0!==E,m!==G.backgrounding)J.updateStyle(!1)},E0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;if(Y.hasPie(J)){if(Y.drawPie(Z,J,H0),s){if(!M)Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z)}}},d=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;if(Y.hasStripe(J)){if(Z.save(),M)Z.clip(z.pathCache);else Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z),Z.clip();if(Y.drawStripe(Z,J,H0),Z.restore(),s){if(!M)Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z)}}},c0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,H0=(w>0?w:-w)*s,m=w>0?0:255;if(w!==0)if(Y.colorFillStyle(Z,m,m,m,H0),M)Z.fill(B);else Z.fill()},B0=function(){if(P>0){if(Z.lineWidth=P,Z.lineCap=x,Z.lineJoin=v,Z.setLineDash)switch(f){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash(y),Z.lineDashOffset=u;break;case"solid":case"double":Z.setLineDash([]);break}if(b!=="center"){if(Z.save(),Z.lineWidth*=2,b==="inside")M?Z.clip(B):Z.clip();else{var s=new Path2D;s.rect(-q/2-P,-W/2-P,q+2*P,W+2*P),s.addPath(B),Z.clip(s,"evenodd")}M?Z.stroke(B):Z.stroke(),Z.restore()}else M?Z.stroke(B):Z.stroke();if(f==="double"){Z.lineWidth=P/3;var H0=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(B);else Z.stroke();Z.globalCompositeOperation=H0}if(Z.setLineDash)Z.setLineDash([])}},y0=function(){if(p>0){if(Z.lineWidth=p,Z.lineCap="butt",Z.setLineDash)switch(e){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"solid":case"double":Z.setLineDash([]);break}var s=H;if(M)s={x:0,y:0};var H0=Y.getNodeShape(J),m=P;if(b==="inside")m=0;if(b==="outside")m*=2;var q0=(q+m+(p+U0))/q,W0=(W+m+(p+U0))/W,V0=q*q0,L0=W*W0,D0=Y.nodeShapes[H0].points,_0;if(M){var T0=t(V0,L0,H0,D0);_0=T0.path}if(H0==="ellipse")Y.drawEllipsePath(_0||Z,s.x,s.y,V0,L0);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(H0)){var m0=0,t0=0,H8=0;if(H0==="round-diamond")m0=(m+U0+p)*1.4;else if(H0==="round-heptagon")m0=(m+U0+p)*1.075,H8=-(m/2+U0+p)/35;else if(H0==="round-hexagon")m0=(m+U0+p)*1.12;else if(H0==="round-pentagon")m0=(m+U0+p)*1.13,H8=-(m/2+U0+p)/15;else if(H0==="round-tag")m0=(m+U0+p)*1.12,t0=(m/2+p+U0)*0.07;else if(H0==="round-triangle")m0=(m+U0+p)*(Math.PI/2),H8=-(m+U0/2+p)/Math.PI;if(m0!==0){if(q0=(q+m0)/q,V0=q*q0,!["round-hexagon","round-tag"].includes(H0))W0=(W+m0)/W,L0=W*W0}a=a==="auto"?WA0(V0,L0):a;var r0=V0/2,u0=L0/2,o0=a+(m+p+U0)/2,d0=Array(D0.length/2),U8=Array(D0.length/2);for(var u8=0;u8<D0.length/2;u8++)d0[u8]={x:s.x+t0+r0*D0[u8*2],y:s.y+H8+u0*D0[u8*2+1]};var O8,S8,W8,q8,F8=d0.length;S8=d0[F8-1];for(O8=0;O8<F8;O8++)W8=d0[O8%F8],q8=d0[(O8+1)%F8],U8[O8]=pi(S8,W8,q8,o0),S8=W8,W8=q8;Y.drawRoundPolygonPath(_0||Z,s.x+t0,s.y+H8,q*q0,W*W0,D0,U8)}else if(["roundrectangle","round-rectangle"].includes(H0))a=a==="auto"?jq(V0,L0):a,Y.drawRoundRectanglePath(_0||Z,s.x,s.y,V0,L0,a+(m+p+U0)/2);else if(["cutrectangle","cut-rectangle"].includes(H0))a=a==="auto"?$i():a,Y.drawCutRectanglePath(_0||Z,s.x,s.y,V0,L0,null,a+(m+p+U0)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(H0))a=a==="auto"?jq(V0,L0):a,Y.drawBottomRoundRectanglePath(_0||Z,s.x,s.y,V0,L0,a+(m+p+U0)/2);else if(H0==="barrel")Y.drawBarrelPath(_0||Z,s.x,s.y,V0,L0);else if(H0.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(H0)){var R8=(m+p+U0)/q;D0=SS(TS(D0,R8)),Y.drawPolygonPath(_0||Z,s.x,s.y,q,W,D0)}else{var D8=(m+p+U0)/q;D0=SS(TS(D0,-D8)),Y.drawPolygonPath(_0||Z,s.x,s.y,q,W,D0)}if(M)Z.stroke(_0);else Z.stroke();if(e==="double"){Z.lineWidth=m/3;var G8=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(_0);else Z.stroke();Z.globalCompositeOperation=G8}if(Z.setLineDash)Z.setLineDash([])}},n0=function(){if(X)Y.drawNodeOverlay(Z,J,H,q,W)},s0=function(){if(X)Y.drawNodeUnderlay(Z,J,H,q,W)},k0=function(){Y.drawElementText(Z,J,null,K)},x0=J.pstyle("ghost").value==="yes";if(x0){var f0=J.pstyle("ghost-offset-x").pfValue,C0=J.pstyle("ghost-offset-y").pfValue,h0=J.pstyle("ghost-opacity").value,F0=h0*F;Z.translate(f0,C0),Q0(),y0(),z0(h0*T),M0(),X0(F0,!0),J0(h0*h),B0(),E0(w!==0||P!==0),d(w!==0||P!==0),X0(F0,!1),c0(F0),Z.translate(-f0,-C0)}if(M)Z.translate(-H.x,-H.y);if(s0(),M)Z.translate(H.x,H.y);if(Q0(),y0(),z0(),M0(),X0(F,!0),J0(),B0(),E0(w!==0||P!==0),d(w!==0||P!==0),X0(F,!1),c0(),M)Z.translate(-H.x,-H.y);if(k0(),n0(),Q)Z.translate(D.x1,D.y1)};_q.drawNodeOverlay=BN0("overlay");_q.drawNodeUnderlay=BN0("underlay");_q.hasPie=function(Z){return Z=Z[0],Z._private.hasPie};_q.hasStripe=function(Z){return Z=Z[0],Z._private.hasStripe};_q.drawPie=function(Z,J,Q,K){J=J[0],K=K||J.position();var X=J.cy().style(),U=J.pstyle("pie-size"),Y=J.pstyle("pie-hole"),q=J.pstyle("pie-start-angle").pfValue,W=K.x,G=K.y,z=J.width(),H=J.height(),F=Math.min(z,H)/2,M,B=0,O=this.usePaths();if(O)W=0,G=0;if(U.units==="%")F=F*U.pfValue;else if(U.pfValue!==void 0)F=U.pfValue/2;if(Y.units==="%")M=F*Y.pfValue;else if(Y.pfValue!==void 0)M=Y.pfValue/2;if(M>=F)return;for(var R=1;R<=X.pieBackgroundN;R++){var D=J.pstyle("pie-"+R+"-background-size").value,L=J.pstyle("pie-"+R+"-background-color").value,A=J.pstyle("pie-"+R+"-background-opacity").value*Q,V=D/100;if(V+B>1)V=1-B;var N=1.5*Math.PI+2*Math.PI*B;N+=q;var E=2*Math.PI*V,j=N+E;if(D===0||B>=1||B+V>1)continue;if(M===0)Z.beginPath(),Z.moveTo(W,G),Z.arc(W,G,F,N,j),Z.closePath();else Z.beginPath(),Z.arc(W,G,F,N,j),Z.arc(W,G,M,j,N,!0),Z.closePath();this.colorFillStyle(Z,L[0],L[1],L[2],A),Z.fill(),B+=V}};_q.drawStripe=function(Z,J,Q,K){J=J[0],K=K||J.position();var X=J.cy().style(),U=K.x,Y=K.y,q=J.width(),W=J.height(),G=0,z=this.usePaths();Z.save();var H=J.pstyle("stripe-direction").value,F=J.pstyle("stripe-size");switch(H){case"vertical":break;case"righward":Z.rotate(-Math.PI/2);break}var M=q,B=W;if(F.units==="%")M=M*F.pfValue,B=B*F.pfValue;else if(F.pfValue!==void 0)M=F.pfValue,B=F.pfValue;if(z)U=0,Y=0;Y-=M/2,U-=B/2;for(var O=1;O<=X.stripeBackgroundN;O++){var R=J.pstyle("stripe-"+O+"-background-size").value,D=J.pstyle("stripe-"+O+"-background-color").value,L=J.pstyle("stripe-"+O+"-background-opacity").value*Q,A=R/100;if(A+G>1)A=1-G;if(R===0||G>=1||G+A>1)continue;Z.beginPath(),Z.rect(U,Y+B*G,M,B*A),Z.closePath(),this.colorFillStyle(Z,D[0],D[1],D[2],L),Z.fill(),G+=A}Z.restore()};W6={};W6.getPixelRatio=function(){var Z=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var J=this.cy.window(),Q=Z.backingStorePixelRatio||Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1;return(J.devicePixelRatio||1)/Q};W6.paintCache=function(Z){var J=this.paintCaches=this.paintCaches||[],Q=!0,K;for(var X=0;X<J.length;X++)if(K=J[X],K.context===Z){Q=!1;break}if(Q)K={context:Z},J.push(K);return K};W6.createGradientStyleFor=function(Z,J,Q,K,X){var U,Y=this.usePaths(),q=Q.pstyle(J+"-gradient-stop-colors").value,W=Q.pstyle(J+"-gradient-stop-positions").pfValue;if(K==="radial-gradient")if(Q.isEdge()){var G=Q.sourceEndpoint(),z=Q.targetEndpoint(),H=Q.midpoint(),F=Bz(G,H),M=Bz(z,H);U=Z.createRadialGradient(H.x,H.y,0,H.x,H.y,Math.max(F,M))}else{var B=Y?{x:0,y:0}:Q.position(),O=Q.paddedWidth(),R=Q.paddedHeight();U=Z.createRadialGradient(B.x,B.y,0,B.x,B.y,Math.max(O,R))}else if(Q.isEdge()){var D=Q.sourceEndpoint(),L=Q.targetEndpoint();U=Z.createLinearGradient(D.x,D.y,L.x,L.y)}else{var A=Y?{x:0,y:0}:Q.position(),V=Q.paddedWidth(),N=Q.paddedHeight(),E=V/2,j=N/2,C=Q.pstyle("background-gradient-direction").value;switch(C){case"to-bottom":U=Z.createLinearGradient(A.x,A.y-j,A.x,A.y+j);break;case"to-top":U=Z.createLinearGradient(A.x,A.y+j,A.x,A.y-j);break;case"to-left":U=Z.createLinearGradient(A.x+E,A.y,A.x-E,A.y);break;case"to-right":U=Z.createLinearGradient(A.x-E,A.y,A.x+E,A.y);break;case"to-bottom-right":case"to-right-bottom":U=Z.createLinearGradient(A.x-E,A.y-j,A.x+E,A.y+j);break;case"to-top-right":case"to-right-top":U=Z.createLinearGradient(A.x-E,A.y+j,A.x+E,A.y-j);break;case"to-bottom-left":case"to-left-bottom":U=Z.createLinearGradient(A.x+E,A.y-j,A.x-E,A.y+j);break;case"to-top-left":case"to-left-top":U=Z.createLinearGradient(A.x+E,A.y+j,A.x-E,A.y-j);break}}if(!U)return null;var $=W.length===q.length,k=q.length;for(var w=0;w<k;w++)U.addColorStop($?W[w]:w/(k-1),"rgba("+q[w][0]+","+q[w][1]+","+q[w][2]+","+X+")");return U};W6.gradientFillStyle=function(Z,J,Q,K){var X=this.createGradientStyleFor(Z,"background",J,Q,K);if(!X)return null;Z.fillStyle=X};W6.colorFillStyle=function(Z,J,Q,K,X){Z.fillStyle="rgba("+J+","+Q+","+K+","+X+")"};W6.eleFillStyle=function(Z,J,Q){var K=J.pstyle("background-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientFillStyle(Z,J,K,Q);else{var X=J.pstyle("background-color").value;this.colorFillStyle(Z,X[0],X[1],X[2],Q)}};W6.gradientStrokeStyle=function(Z,J,Q,K){var X=this.createGradientStyleFor(Z,"line",J,Q,K);if(!X)return null;Z.strokeStyle=X};W6.colorStrokeStyle=function(Z,J,Q,K,X){Z.strokeStyle="rgba("+J+","+Q+","+K+","+X+")"};W6.eleStrokeStyle=function(Z,J,Q){var K=J.pstyle("line-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientStrokeStyle(Z,J,K,Q);else{var X=J.pstyle("line-color").value;this.colorStrokeStyle(Z,X[0],X[1],X[2],Q)}};W6.matchCanvasSize=function(Z){var J=this,Q=J.data,K=J.findContainerClientCoords(),X=K[2],U=K[3],Y=J.getPixelRatio(),q=J.motionBlurPxRatio;if(Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE]||Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG])Y=q;var W=X*Y,G=U*Y,z;if(W===J.canvasWidth&&G===J.canvasHeight)return;J.fontCaches=null;var H=Q.canvasContainer;H.style.width=X+"px",H.style.height=U+"px";for(var F=0;F<J.CANVAS_LAYERS;F++)z=Q.canvases[F],z.width=W,z.height=G,z.style.width=X+"px",z.style.height=U+"px";for(var F=0;F<J.BUFFER_COUNT;F++)z=Q.bufferCanvases[F],z.width=W,z.height=G,z.style.width=X+"px",z.style.height=U+"px";if(J.textureMult=1,Y<=1)z=Q.bufferCanvases[J.TEXTURE_BUFFER],J.textureMult=2,z.width=W*J.textureMult,z.height=G*J.textureMult;J.canvasWidth=W,J.canvasHeight=G,J.pixelRatio=Y};W6.renderTo=function(Z,J,Q,K){this.render({forcedContext:Z,forcedZoom:J,forcedPan:Q,drawAllLayers:!0,forcedPxRatio:K})};W6.clearCanvas=function(){var Z=this,J=Z.data;function Q(K){K.clearRect(0,0,Z.canvasWidth,Z.canvasHeight)}Q(J.contexts[Z.NODE]),Q(J.contexts[Z.DRAG])};W6.render=function(Z){var J=this;Z=Z||QA0();var Q=J.cy,K=Z.forcedContext,X=Z.drawAllLayers,U=Z.drawOnlyNodeLayer,Y=Z.forcedZoom,q=Z.forcedPan,W=Z.forcedPxRatio===void 0?this.getPixelRatio():Z.forcedPxRatio,G=J.data,z=G.canvasNeedsRedraw,H=J.textureOnViewport&&!K&&(J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming),F=Z.motionBlur!==void 0?Z.motionBlur:J.motionBlur,M=J.motionBlurPxRatio,B=Q.hasCompoundNodes(),O=J.hoverData.draggingEles,R=J.hoverData.selecting||J.touchData.selecting?!0:!1;F=F&&!K&&J.motionBlurEnabled&&!R;var D=F;if(!K){if(J.prevPxRatio!==W)J.invalidateContainerClientCoordsCache(),J.matchCanvasSize(J.container),J.redrawHint("eles",!0),J.redrawHint("drag",!0);J.prevPxRatio=W}if(!K&&J.motionBlurTimeout)clearTimeout(J.motionBlurTimeout);if(F){if(J.mbFrames==null)J.mbFrames=0;if(J.mbFrames++,J.mbFrames<3)D=!1;if(J.mbFrames>J.minMbLowQualFrames)J.motionBlurPxRatio=J.mbPxRBlurry}if(J.clearingMotionBlur)J.motionBlurPxRatio=1;if(J.textureDrawLastFrame&&!H)z[J.NODE]=!0,z[J.SELECT_BOX]=!0;var L=Q.style(),A=Q.zoom(),V=Y!==void 0?Y:A,N=Q.pan(),E={x:N.x,y:N.y},j={zoom:A,pan:{x:N.x,y:N.y}},C=J.prevViewport,$=C===void 0||j.zoom!==C.zoom||j.pan.x!==C.pan.x||j.pan.y!==C.pan.y;if(!$&&!(O&&!B))J.motionBlurPxRatio=1;if(q)E=q;V*=W,E.x*=W,E.y*=W;var k=J.getCachedZSortedEles();function w(J0,Q0,t,n,Y0){var o=J0.globalCompositeOperation;J0.globalCompositeOperation="destination-out",J.colorFillStyle(J0,255,255,255,J.motionBlurTransparency),J0.fillRect(Q0,t,n,Y0),J0.globalCompositeOperation=o}function P(J0,Q0){var t,n,Y0,o;if(!J.clearingMotionBlur&&(J0===G.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]||J0===G.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]))t={x:N.x*M,y:N.y*M},n=A*M,Y0=J.canvasWidth*M,o=J.canvasHeight*M;else t=E,n=V,Y0=J.canvasWidth,o=J.canvasHeight;if(J0.setTransform(1,0,0,1,0,0),Q0==="motionBlur")w(J0,0,0,Y0,o);else if(!K&&(Q0===void 0||Q0))J0.clearRect(0,0,Y0,o);if(!X)J0.translate(t.x,t.y),J0.scale(n,n);if(q)J0.translate(q.x,q.y);if(Y)J0.scale(Y,Y)}if(!H)J.textureDrawLastFrame=!1;if(H){if(J.textureDrawLastFrame=!0,!J.textureCache){J.textureCache={},J.textureCache.bb=Q.mutableElements().boundingBox(),J.textureCache.texture=J.data.bufferCanvases[J.TEXTURE_BUFFER];var T=J.data.bufferContexts[J.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,J.canvasWidth*J.textureMult,J.canvasHeight*J.textureMult),J.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:W*J.textureMult});var j=J.textureCache.viewport={zoom:Q.zoom(),pan:Q.pan(),width:J.canvasWidth,height:J.canvasHeight};j.mpan={x:(0-j.pan.x)/j.zoom,y:(0-j.pan.y)/j.zoom}}z[J.DRAG]=!1,z[J.NODE]=!1;var S=G.contexts[J.NODE],f=J.textureCache.texture,j=J.textureCache.viewport;if(S.setTransform(1,0,0,1,0,0),F)w(S,0,0,j.width,j.height);else S.clearRect(0,0,j.width,j.height);var v=L.core("outside-texture-bg-color").value,x=L.core("outside-texture-bg-opacity").value;J.colorFillStyle(S,v[0],v[1],v[2],x),S.fillRect(0,0,j.width,j.height);var A=Q.zoom();P(S,!1),S.clearRect(j.mpan.x,j.mpan.y,j.width/j.zoom/W,j.height/j.zoom/W),S.drawImage(f,j.mpan.x,j.mpan.y,j.width/j.zoom/W,j.height/j.zoom/W)}else if(J.textureOnViewport&&!K)J.textureCache=null;var b=Q.extent(),y=J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming||J.hoverData.draggingEles||J.cy.animated(),u=J.hideEdgesOnViewport&&y,h=[];if(h[J.NODE]=!z[J.NODE]&&F&&!J.clearedForMotionBlur[J.NODE]||J.clearingMotionBlur,h[J.NODE])J.clearedForMotionBlur[J.NODE]=!0;if(h[J.DRAG]=!z[J.DRAG]&&F&&!J.clearedForMotionBlur[J.DRAG]||J.clearingMotionBlur,h[J.DRAG])J.clearedForMotionBlur[J.DRAG]=!0;if(z[J.NODE]||X||U||h[J.NODE]){var p=F&&!h[J.NODE]&&M!==1,S=K||(p?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]:G.contexts[J.NODE]),r=F&&!p?"motionBlur":void 0;if(P(S,r),u)J.drawCachedNodes(S,k.nondrag,W,b);else J.drawLayeredElements(S,k.nondrag,W,b);if(J.debug)J.drawDebugPoints(S,k.nondrag);if(!X&&!F)z[J.NODE]=!1}if(!U&&(z[J.DRAG]||X||h[J.DRAG])){var p=F&&!h[J.DRAG]&&M!==1,S=K||(p?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]:G.contexts[J.DRAG]);if(P(S,F&&!p?"motionBlur":void 0),u)J.drawCachedNodes(S,k.drag,W,b);else J.drawCachedElements(S,k.drag,W,b);if(J.debug)J.drawDebugPoints(S,k.drag);if(!X&&!F)z[J.DRAG]=!1}if(this.drawSelectionRectangle(Z,P),F&&M!==1){var e=G.contexts[J.NODE],i=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE],U0=G.contexts[J.DRAG],a=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG],z0=function(Q0,t,n){if(Q0.setTransform(1,0,0,1,0,0),n||!D)Q0.clearRect(0,0,J.canvasWidth,J.canvasHeight);else w(Q0,0,0,J.canvasWidth,J.canvasHeight);var Y0=M;Q0.drawImage(t,0,0,J.canvasWidth*Y0,J.canvasHeight*Y0,0,0,J.canvasWidth,J.canvasHeight)};if(z[J.NODE]||h[J.NODE])z0(e,i,h[J.NODE]),z[J.NODE]=!1;if(z[J.DRAG]||h[J.DRAG])z0(U0,a,h[J.DRAG]),z[J.DRAG]=!1}if(J.prevViewport=j,J.clearingMotionBlur)J.clearingMotionBlur=!1,J.motionBlurCleared=!0,J.motionBlur=!0;if(F)J.motionBlurTimeout=setTimeout(function(){J.motionBlurTimeout=null,J.clearedForMotionBlur[J.NODE]=!1,J.clearedForMotionBlur[J.DRAG]=!1,J.motionBlur=!1,J.clearingMotionBlur=!H,J.mbFrames=0,z[J.NODE]=!0,z[J.DRAG]=!0,J.redraw()},oO8);if(!K)Q.emit("render")};W6.drawSelectionRectangle=function(Z,J){var Q=this,K=Q.cy,X=Q.data,U=K.style(),Y=Z.drawOnlyNodeLayer,q=Z.drawAllLayers,W=X.canvasNeedsRedraw,G=Z.forcedContext;if(Q.showFps||!Y&&W[Q.SELECT_BOX]&&!q){var z=G||X.contexts[Q.SELECT_BOX];if(J(z),Q.selection[4]==1&&(Q.hoverData.selecting||Q.touchData.selecting)){var H=Q.cy.zoom(),F=U.core("selection-box-border-width").value/H;if(z.lineWidth=F,z.fillStyle="rgba("+U.core("selection-box-color").value[0]+","+U.core("selection-box-color").value[1]+","+U.core("selection-box-color").value[2]+","+U.core("selection-box-opacity").value+")",z.fillRect(Q.selection[0],Q.selection[1],Q.selection[2]-Q.selection[0],Q.selection[3]-Q.selection[1]),F>0)z.strokeStyle="rgba("+U.core("selection-box-border-color").value[0]+","+U.core("selection-box-border-color").value[1]+","+U.core("selection-box-border-color").value[2]+","+U.core("selection-box-opacity").value+")",z.strokeRect(Q.selection[0],Q.selection[1],Q.selection[2]-Q.selection[0],Q.selection[3]-Q.selection[1])}if(X.bgActivePosistion&&!Q.hoverData.selecting){var H=Q.cy.zoom(),M=X.bgActivePosistion;z.fillStyle="rgba("+U.core("active-bg-color").value[0]+","+U.core("active-bg-color").value[1]+","+U.core("active-bg-color").value[2]+","+U.core("active-bg-opacity").value+")",z.beginPath(),z.arc(M.x,M.y,U.core("active-bg-size").pfValue/H,0,2*Math.PI),z.fill()}var B=Q.lastRedrawTime;if(Q.showFps&&B){B=Math.round(B);var O=Math.round(1000/B),R="1 frame = "+B+" ms = "+O+" fps";if(z.setTransform(1,0,0,1,0,0),z.fillStyle="rgba(255, 0, 0, 0.75)",z.strokeStyle="rgba(255, 0, 0, 0.75)",z.font="30px Arial",!UL){var D=z.measureText(R);UL=D.actualBoundingBoxAscent}z.fillText(R,0,UL);var L=60;z.strokeRect(0,UL+10,250,20),z.fillRect(0,UL+10,250*Math.min(O/L,1),20)}if(!q)W[Q.SELECT_BOX]=!1}};$I0=typeof Float32Array<"u"?Float32Array:Array;if(!Math.hypot)Math.hypot=function(){var Z=0,J=arguments.length;while(J--)Z+=arguments[J]*arguments[J];return Math.sqrt(Z)};FR8=function(){function Z(J,Q,K,X){wq(this,Z),this.debugID=Math.floor(Math.random()*1e4),this.r=J,this.texSize=Q,this.texRows=K,this.texHeight=Math.floor(Q/K),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=X(J,Q,Q),this.scratch=X(J,Q,this.texHeight,"scratch")}return $q(Z,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(Q){var{w:K,h:X}=Q,U=this.texHeight,Y=this.texSize,q=U/X,W=K*q,G=X*q;if(W>Y)q=Y/K,W=K*q,G=X*q;return{scale:q,texW:W,texH:G}}},{key:"draw",value:function(Q,K,X){var U=this;if(this.locked)throw Error("can't draw, atlas is locked");var Y=this.texSize,q=this.texRows,W=this.texHeight,G=this.getScale(K),z=G.scale,H=G.texW,F=G.texH,M=function(A,V){if(X&&V){var N=V.context,E=A.x,j=A.row,C=E,$=W*j;N.save(),N.translate(C,$),N.scale(z,z),X(N,K),N.restore()}},B=[null,null],O=function(){if(M(U.freePointer,U.canvas),B[0]={x:U.freePointer.x,y:U.freePointer.row*W,w:H,h:F},B[1]={x:U.freePointer.x+H,y:U.freePointer.row*W,w:0,h:F},U.freePointer.x+=H,U.freePointer.x==Y)U.freePointer.x=0,U.freePointer.row++},R=function(){var{scratch:A,canvas:V}=U;A.clear(),M({x:0,row:0},A);var N=Y-U.freePointer.x,E=H-N,j=W;{var C=U.freePointer.x,$=U.freePointer.row*W,k=N;V.context.drawImage(A,0,0,k,j,C,$,k,j),B[0]={x:C,y:$,w:k,h:F}}{var w=N,P=(U.freePointer.row+1)*W,T=E;if(V)V.context.drawImage(A,w,0,T,j,0,P,T,j);B[1]={x:0,y:P,w:T,h:F}}U.freePointer.x=E,U.freePointer.row++},D=function(){U.freePointer.x=0,U.freePointer.row++};if(this.freePointer.x+H<=Y)O();else if(this.freePointer.row>=q-1)return!1;else if(this.freePointer.x===Y)D(),O();else if(this.enableWrapping)R();else D(),O();return this.keyToLocation.set(Q,B),this.needsBuffer=!0,B}},{key:"getOffsets",value:function(Q){return this.keyToLocation.get(Q)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(Q){if(this.locked)return!1;var K=this.texSize,X=this.texRows,U=this.getScale(Q),Y=U.texW;if(this.freePointer.x+Y>K)return this.freePointer.row<X-1;return!0}},{key:"bufferIfNeeded",value:function(Q){if(!this.texture)this.texture=UR8(Q,this.debugID);if(this.needsBuffer){if(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked)this.canvas=null,this.scratch=null}}},{key:"dispose",value:function(){if(this.texture)this.texture.deleteTexture(),this.texture=null;this.canvas=null,this.scratch=null,this.locked=!0}}])}(),MR8=function(){function Z(J,Q,K,X){wq(this,Z),this.r=J,this.texSize=Q,this.texRows=K,this.createTextureCanvas=X,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return $q(Z,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var Q=this.r,K=this.texSize,X=this.texRows,U=this.createTextureCanvas;return new FR8(Q,K,X,U)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var Q=this.r,K=this.texSize,X=this.texRows,U=this.createTextureCanvas,Y=Math.floor(K/X);this.scratch=U(Q,K,Y,"scratch")}return this.scratch}},{key:"draw",value:function(Q,K,X){var U=this.styleKeyToAtlas.get(Q);if(!U){if(U=this.atlases[this.atlases.length-1],!U||!U.canFit(K)){if(U)U.lock();U=this._createAtlas(),this.atlases.push(U)}U.draw(Q,K,X),this.styleKeyToAtlas.set(Q,U)}return U}},{key:"getAtlas",value:function(Q){return this.styleKeyToAtlas.get(Q)}},{key:"hasAtlas",value:function(Q){return this.styleKeyToAtlas.has(Q)}},{key:"markKeyForGC",value:function(Q){this.markedKeys.add(Q)}},{key:"gc",value:function(){var Q=this,K=this.markedKeys;if(K.size===0){console.log("nothing to garbage collect");return}var X=[],U=new Map,Y=null,q=t6(this.atlases),W;try{var G=function(){var H=W.value,F=H.getKeys(),M=BR8(K,F);if(M.size===0)return X.push(H),F.forEach(function(N){return U.set(N,H)}),1;if(!Y)Y=Q._createAtlas(),X.push(Y);var B=t6(F),O;try{for(B.s();!(O=B.n()).done;){var R=O.value;if(!M.has(R)){var D=H.getOffsets(R),L=X7(D,2),A=L[0],V=L[1];if(!Y.canFit({w:A.w+V.w,h:A.h}))Y.lock(),Y=Q._createAtlas(),X.push(Y);if(H.canvas)Q._copyTextureToNewAtlas(R,H,Y),U.set(R,Y)}}}catch(N){B.e(N)}finally{B.f()}H.dispose()};for(q.s();!(W=q.n()).done;)if(G())continue}catch(z){q.e(z)}finally{q.f()}this.atlases=X,this.styleKeyToAtlas=U,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(Q,K,X){var U=K.getOffsets(Q),Y=X7(U,2),q=Y[0],W=Y[1];if(W.w===0)X.draw(Q,q,function(F){F.drawImage(K.canvas,q.x,q.y,q.w,q.h,0,0,q.w,q.h)});else{var G=this._getScratchCanvas();G.clear(),G.context.drawImage(K.canvas,q.x,q.y,q.w,q.h,0,0,q.w,q.h),G.context.drawImage(K.canvas,W.x,W.y,W.w,W.h,q.w,0,W.w,W.h);var z=q.w+W.w,H=q.h;X.draw(Q,{w:z,h:H},function(F){F.drawImage(G,0,0,z,H,0,0,z,H)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();OR8=function(){function Z(J,Q){wq(this,Z),this.r=J,this.globalOptions=Q,this.atlasSize=Q.webglTexSize,this.maxAtlasesPerBatch=Q.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return $q(Z,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(Q,K){var X=this.globalOptions,U=X.webglTexSize,Y=X.createTextureCanvas,q=K.texRows,W=this._cacheScratchCanvas(Y),G=new MR8(this.r,U,q,W);this.collections.set(Q,G)}},{key:"addRenderType",value:function(Q,K){var X=K.collection;if(!this.collections.has(X))throw Error("invalid atlas collection name '".concat(X,"'"));var U=this.collections.get(X),Y=Y9({type:Q,atlasCollection:U},K);this.renderTypes.set(Q,Y)}},{key:"getRenderTypeOpts",value:function(Q){return this.renderTypes.get(Q)}},{key:"getAtlasCollection",value:function(Q){return this.collections.get(Q)}},{key:"_cacheScratchCanvas",value:function(Q){var K=-1,X=-1,U=null;return function(Y,q,W,G){if(G){if(!U||q!=K||W!=X)K=q,X=W,U=Q(Y,q,W);return U}else return Q(Y,q,W)}}},{key:"_key",value:function(Q,K){return"".concat(Q,"-").concat(K)}},{key:"invalidate",value:function(Q){var K=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=X.forceRedraw,Y=U===void 0?!1:U,q=X.filterEle,W=q===void 0?function(){return!0}:q,G=X.filterType,z=G===void 0?function(){return!0}:G,H=!1,F=!1,M=t6(Q),B;try{for(M.s();!(B=M.n()).done;){var O=B.value;if(W(O)){var R=t6(this.renderTypes.values()),D;try{var L=function(){var V=D.value,N=V.type;if(z(N)){var E=K.collections.get(V.collection),j=V.getKey(O),C=Array.isArray(j)?j:[j];if(Y)C.forEach(function(P){return E.markKeyForGC(P)}),F=!0;else{var $=V.getID?V.getID(O):O.id(),k=K._key(N,$),w=K.typeAndIdToKey.get(k);if(w!==void 0&&!KR8(C,w))H=!0,K.typeAndIdToKey.delete(k),w.forEach(function(P){return E.markKeyForGC(P)})}}};for(R.s();!(D=R.n()).done;)L()}catch(A){R.e(A)}finally{R.f()}}}}catch(A){M.e(A)}finally{M.f()}if(F)this.gc(),H=!1;return H}},{key:"gc",value:function(){var Q=t6(this.collections.values()),K;try{for(Q.s();!(K=Q.n()).done;){var X=K.value;X.gc()}}catch(U){Q.e(U)}finally{Q.f()}}},{key:"getOrCreateAtlas",value:function(Q,K,X,U){var Y=this.renderTypes.get(K),q=this.collections.get(Y.collection),W=!1,G=q.draw(U,X,function(F){if(Y.drawClipped)F.save(),F.beginPath(),F.rect(0,0,X.w,X.h),F.clip(),Y.drawElement(F,Q,X,!0,!0),F.restore();else Y.drawElement(F,Q,X,!0,!0);W=!0});if(W){var z=Y.getID?Y.getID(Q):Q.id(),H=this._key(K,z);if(this.typeAndIdToKey.has(H))this.typeAndIdToKey.get(H).push(U);else this.typeAndIdToKey.set(H,[U])}return G}},{key:"getAtlasInfo",value:function(Q,K){var X=this,U=this.renderTypes.get(K),Y=U.getKey(Q),q=Array.isArray(Y)?Y:[Y];return q.map(function(W){var G=U.getBoundingBox(Q,W),z=X.getOrCreateAtlas(Q,K,G,W),H=z.getOffsets(W),F=X7(H,2),M=F[0],B=F[1];return{atlas:z,tex:M,tex1:M,tex2:B,bb:G}})}},{key:"getDebugInfo",value:function(){var Q=[],K=t6(this.collections),X;try{for(K.s();!(X=K.n()).done;){var U=X7(X.value,2),Y=U[0],q=U[1],W=q.getCounts(),G=W.keyCount,z=W.atlasCount;Q.push({type:Y,keyCount:G,atlasCount:z})}}catch(H){K.e(H)}finally{K.f()}return Q}}])}(),RR8=function(){function Z(J){wq(this,Z),this.globalOptions=J,this.atlasSize=J.webglTexSize,this.maxAtlasesPerBatch=J.webglTexPerBatch,this.batchAtlases=[]}return $q(Z,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(Q,K){return K})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(Q){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return this.batchAtlases.includes(Q);return!0}},{key:"getAtlasIndexForBatch",value:function(Q){var K=this.batchAtlases.indexOf(Q);if(K<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw Error("cannot add more atlases to batch");this.batchAtlases.push(Q),K=this.batchAtlases.length-1}return K}}])}(),ML={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},xS={IGNORE:1,USE_BB:2},NR8=function(){function Z(J,Q,K){wq(this,Z),this.r=J,this.gl=Q,this.maxInstances=K.webglBatchSize,this.atlasSize=K.webglTexSize,this.bgColor=K.bgColor,this.debug=K.webglDebug,this.batchDebugInfo=[],K.enableWrapping=!0,K.createTextureCanvas=eO8,this.atlasManager=new OR8(J,K),this.batchManager=new RR8(K),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(ML.SCREEN),this.pickingProgram=this._createShaderProgram(ML.PICKING),this.vao=this._createVAO()}return $q(Z,[{key:"addAtlasCollection",value:function(Q,K){this.atlasManager.addAtlasCollection(Q,K)}},{key:"addTextureAtlasRenderType",value:function(Q,K){this.atlasManager.addRenderType(Q,K)}},{key:"addSimpleShapeRenderType",value:function(Q,K){this.simpleShapeOptions.set(Q,K)}},{key:"invalidate",value:function(Q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=K.type,U=this.atlasManager;if(X)return U.invalidate(Q,{filterType:function(q){return q===X},forceRedraw:!0});else return U.invalidate(Q)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(Q){var K=this.gl,X=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(nd,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(FF," || aVertType == ").concat(qL,` 
             || aVertType == `).concat(HS," || aVertType == ").concat(YL,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(fI0,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(vI0,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(ad,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),U=this.batchManager.getIndexArray(),Y=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(U.map(function(G){return"uniform sampler2D uTexture".concat(G,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(DR8,`
      `).concat(LR8,`
      `).concat(IR8,`
      `).concat(AR8,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(nd,`) {
          // look up the texel from the texture unit
          `).concat(U.map(function(G){return"if(vAtlasId == ".concat(G,") outColor = texture(uTexture").concat(G,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(ad,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(FF,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(FF," || vVertType == ").concat(qL,` 
          || vVertType == `).concat(HS," || vVertType == ").concat(YL,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(FF,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(qL,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(qL,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(Q.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),q=tO8(K,X,Y);q.aPosition=K.getAttribLocation(q,"aPosition"),q.aIndex=K.getAttribLocation(q,"aIndex"),q.aVertType=K.getAttribLocation(q,"aVertType"),q.aTransform=K.getAttribLocation(q,"aTransform"),q.aAtlasId=K.getAttribLocation(q,"aAtlasId"),q.aTex=K.getAttribLocation(q,"aTex"),q.aPointAPointB=K.getAttribLocation(q,"aPointAPointB"),q.aPointCPointD=K.getAttribLocation(q,"aPointCPointD"),q.aLineWidth=K.getAttribLocation(q,"aLineWidth"),q.aColor=K.getAttribLocation(q,"aColor"),q.aCornerRadius=K.getAttribLocation(q,"aCornerRadius"),q.aBorderColor=K.getAttribLocation(q,"aBorderColor"),q.uPanZoomMatrix=K.getUniformLocation(q,"uPanZoomMatrix"),q.uAtlasSize=K.getUniformLocation(q,"uAtlasSize"),q.uBGColor=K.getUniformLocation(q,"uBGColor"),q.uZoom=K.getUniformLocation(q,"uZoom"),q.uTextures=[];for(var W=0;W<this.batchManager.getMaxAtlasesPerBatch();W++)q.uTextures.push(K.getUniformLocation(q,"uTexture".concat(W)));return q}},{key:"_createVAO",value:function(){var Q=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=Q.length/2;var K=this.maxInstances,X=this.gl,U=this.program,Y=X.createVertexArray();return X.bindVertexArray(Y),qR8(X,"vec2",U.aPosition,Q),this.transformBuffer=WR8(X,K,U.aTransform),this.indexBuffer=pX(X,K,"vec4",U.aIndex),this.vertTypeBuffer=pX(X,K,"int",U.aVertType),this.atlasIdBuffer=pX(X,K,"int",U.aAtlasId),this.texBuffer=pX(X,K,"vec4",U.aTex),this.pointAPointBBuffer=pX(X,K,"vec4",U.aPointAPointB),this.pointCPointDBuffer=pX(X,K,"vec4",U.aPointCPointD),this.lineWidthBuffer=pX(X,K,"vec2",U.aLineWidth),this.colorBuffer=pX(X,K,"vec4",U.aColor),this.cornerRadiusBuffer=pX(X,K,"vec4",U.aCornerRadius),this.borderColorBuffer=pX(X,K,"vec4",U.aBorderColor),X.bindVertexArray(null),Y}},{key:"buffers",get:function(){var Q=this;if(!this._buffers)this._buffers=Object.keys(this).filter(function(K){return Lq(K,"Buffer")}).map(function(K){return Q[K]});return this._buffers}},{key:"startFrame",value:function(Q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ML.SCREEN;this.panZoomMatrix=Q,this.renderTarget=K,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(Q,K){if(Q.visible()){if(K&&K.isVisible)return K.isVisible(Q);return!0}return!1}},{key:"drawTexture",value:function(Q,K,X){var U=this.atlasManager,Y=this.batchManager,q=U.getRenderTypeOpts(X);if(!this._isVisible(Q,q))return;if(Q.isEdge()&&!this._isValidEdge(Q))return;if(this.renderTarget.picking&&q.getTexPickingMode){var W=q.getTexPickingMode(Q);if(W===xS.IGNORE)return;else if(W==xS.USE_BB){this.drawPickingRectangle(Q,K,X);return}}var G=U.getAtlasInfo(Q,X),z=t6(G),H;try{for(z.s();!(H=z.n()).done;){var F=H.value,M=F.atlas,B=F.tex1,O=F.tex2;if(!Y.canAddToCurrentBatch(M))this.endBatch();var R=Y.getAtlasIndexForBatch(M);for(var D=0,L=[[B,!0],[O,!1]];D<L.length;D++){var A=X7(L[D],2),V=A[0],N=A[1];if(V.w!=0){var E=this.instanceCount;this.vertTypeBuffer.getView(E)[0]=nd;var j=this.indexBuffer.getView(E);HF(K,j);var C=this.atlasIdBuffer.getView(E);C[0]=R;var $=this.texBuffer.getView(E);$[0]=V.x,$[1]=V.y,$[2]=V.w,$[3]=V.h;var k=this.transformBuffer.getMatrixView(E);if(this.setTransformMatrix(Q,k,q,F,N),this.instanceCount++,!N)this.wrappedCount++;if(this.instanceCount>=this.maxInstances)this.endBatch()}}}}catch(w){z.e(w)}finally{z.f()}}},{key:"setTransformMatrix",value:function(Q,K,X,U){var Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=0;if(X.shapeProps&&X.shapeProps.padding)q=Q.pstyle(X.shapeProps.padding).pfValue;if(U){var{bb:W,tex1:G,tex2:z}=U,H=G.w/(G.w+z.w);if(!Y)H=1-H;var F=this._getAdjustedBB(W,q,Y,H);this._applyTransformMatrix(K,F,X,Q)}else{var M=X.getBoundingBox(Q),B=this._getAdjustedBB(M,q,!0,1);this._applyTransformMatrix(K,B,X,Q)}}},{key:"_applyTransformMatrix",value:function(Q,K,X,U){var Y,q;kI0(Q);var W=X.getRotation?X.getRotation(U):0;if(W!==0){var G=X.getRotationPoint(U),z=G.x,H=G.y;ES(Q,Q,[z,H]),_I0(Q,Q,W);var F=X.getRotationOffset(U);Y=F.x+(K.xOffset||0),q=F.y+(K.yOffset||0)}else Y=K.x1,q=K.y1;ES(Q,Q,[Y,q]),Ri(Q,Q,[K.w,K.h])}},{key:"_getAdjustedBB",value:function(Q,K,X,U){var{x1:Y,y1:q,w:W,h:G,yOffset:z}=Q;if(K)Y-=K,q-=K,W+=2*K,G+=2*K;var H=0,F=W*U;if(X&&U<1)W=F;else if(!X&&U<1)H=W-F,Y+=H,W=F;return{x1:Y,y1:q,w:W,h:G,xOffset:H,yOffset:z}}},{key:"drawPickingRectangle",value:function(Q,K,X){var U=this.atlasManager.getRenderTypeOpts(X),Y=this.instanceCount;this.vertTypeBuffer.getView(Y)[0]=FF;var q=this.indexBuffer.getView(Y);HF(K,q);var W=this.colorBuffer.getView(Y);qz([0,0,0],1,W);var G=this.transformBuffer.getMatrixView(Y);if(this.setTransformMatrix(Q,G,U),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"drawNode",value:function(Q,K,X){var U=this.simpleShapeOptions.get(X);if(!this._isVisible(Q,U))return;var Y=U.shapeProps,q=this._getVertTypeForShape(Q,Y.shape);if(q===void 0||U.isSimple&&!U.isSimple(Q)){this.drawTexture(Q,K,X);return}var W=this.instanceCount;if(this.vertTypeBuffer.getView(W)[0]=q,q===HS||q===YL){var G=U.getBoundingBox(Q),z=this._getCornerRadius(Q,Y.radius,G),H=this.cornerRadiusBuffer.getView(W);if(H[0]=z,H[1]=z,H[2]=z,H[3]=z,q===YL)H[0]=0,H[2]=0}var F=this.indexBuffer.getView(W);HF(K,F);var M=Q.pstyle(Y.color).value,B=Q.pstyle(Y.opacity).value,O=this.colorBuffer.getView(W);qz(M,B,O);var R=this.lineWidthBuffer.getView(W);if(R[0]=0,R[1]=0,Y.border){var D=Q.pstyle("border-width").value;if(D>0){var L=Q.pstyle("border-color").value,A=Q.pstyle("border-opacity").value,V=this.borderColorBuffer.getView(W);qz(L,A,V);var N=Q.pstyle("border-position").value;if(N==="inside")R[0]=0,R[1]=-D;else if(N==="outside")R[0]=D,R[1]=0;else{var E=D/2;R[0]=E,R[1]=-E}}}var j=this.transformBuffer.getMatrixView(W);if(this.setTransformMatrix(Q,j,U),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"_getVertTypeForShape",value:function(Q,K){var X=Q.pstyle(K).value;switch(X){case"rectangle":return FF;case"ellipse":return qL;case"roundrectangle":case"round-rectangle":return HS;case"bottom-round-rectangle":return YL;default:return}}},{key:"_getCornerRadius",value:function(Q,K,X){var{w:U,h:Y}=X;if(Q.pstyle(K).value==="auto")return jq(U,Y);else{var q=Q.pstyle(K).pfValue,W=U/2,G=Y/2;return Math.min(q,G,W)}}},{key:"drawEdgeArrow",value:function(Q,K,X){if(!Q.visible())return;var U=Q._private.rscratch,Y,q,W;if(X==="source")Y=U.arrowStartX,q=U.arrowStartY,W=U.srcArrowAngle;else Y=U.arrowEndX,q=U.arrowEndY,W=U.tgtArrowAngle;if(isNaN(Y)||Y==null||isNaN(q)||q==null||isNaN(W)||W==null)return;var G=Q.pstyle(X+"-arrow-shape").value;if(G==="none")return;var z=Q.pstyle(X+"-arrow-color").value,H=Q.pstyle("opacity").value,F=Q.pstyle("line-opacity").value,M=H*F,B=Q.pstyle("width").pfValue,O=Q.pstyle("arrow-scale").value,R=this.r.getArrowWidth(B,O),D=this.instanceCount,L=this.transformBuffer.getMatrixView(D);kI0(L),ES(L,L,[Y,q]),Ri(L,L,[R,R]),_I0(L,L,W),this.vertTypeBuffer.getView(D)[0]=ad;var A=this.indexBuffer.getView(D);HF(K,A);var V=this.colorBuffer.getView(D);if(qz(z,M,V),this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"drawEdgeLine",value:function(Q,K){if(!Q.visible())return;var X=this._getEdgePoints(Q);if(!X)return;var U=Q.pstyle("opacity").value,Y=Q.pstyle("line-opacity").value,q=Q.pstyle("width").pfValue,W=Q.pstyle("line-color").value,G=U*Y;if(X.length/2+this.instanceCount>this.maxInstances)this.endBatch();if(X.length==4){var z=this.instanceCount;this.vertTypeBuffer.getView(z)[0]=fI0;var H=this.indexBuffer.getView(z);HF(K,H);var F=this.colorBuffer.getView(z);qz(W,G,F);var M=this.lineWidthBuffer.getView(z);M[0]=q;var B=this.pointAPointBBuffer.getView(z);if(B[0]=X[0],B[1]=X[1],B[2]=X[2],B[3]=X[3],this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}else for(var O=0;O<X.length-2;O+=2){var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=vI0;var D=this.indexBuffer.getView(R);HF(K,D);var L=this.colorBuffer.getView(R);qz(W,G,L);var A=this.lineWidthBuffer.getView(R);A[0]=q;var V=X[O-2],N=X[O-1],E=X[O],j=X[O+1],C=X[O+2],$=X[O+3],k=X[O+4],w=X[O+5];if(O==0)V=2*E-C+0.001,N=2*j-$+0.001;if(O==X.length-4)k=2*C-E+0.001,w=2*$-j+0.001;var P=this.pointAPointBBuffer.getView(R);P[0]=V,P[1]=N,P[2]=E,P[3]=j;var T=this.pointCPointDBuffer.getView(R);if(T[0]=C,T[1]=$,T[2]=k,T[3]=w,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}}},{key:"_isValidEdge",value:function(Q){var K=Q._private.rscratch;if(K.badLine||K.allpts==null||isNaN(K.allpts[0]))return!1;return!0}},{key:"_getEdgePoints",value:function(Q){var K=Q._private.rscratch;if(!this._isValidEdge(Q))return;var X=K.allpts;if(X.length==4)return X;var U=this._getNumSegments(Q);return this._getCurveSegmentPoints(X,U)}},{key:"_getNumSegments",value:function(Q){var K=15;return Math.min(Math.max(K,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(Q,K){if(Q.length==4)return Q;var X=Array((K+1)*2);for(var U=0;U<=K;U++)if(U==0)X[0]=Q[0],X[1]=Q[1];else if(U==K)X[U*2]=Q[Q.length-2],X[U*2+1]=Q[Q.length-1];else{var Y=U/K;this._setCurvePoint(Q,Y,X,U*2)}return X}},{key:"_setCurvePoint",value:function(Q,K,X,U){if(Q.length<=2)X[U]=Q[0],X[U+1]=Q[1];else{var Y=Array(Q.length-2);for(var q=0;q<Y.length;q+=2){var W=(1-K)*Q[q]+K*Q[q+2],G=(1-K)*Q[q+1]+K*Q[q+3];Y[q]=W,Y[q+1]=G}return this._setCurvePoint(Y,K,X,U)}}},{key:"endBatch",value:function(){var Q=this.gl,K=this.vao,X=this.vertexCount,U=this.instanceCount;if(U===0)return;var Y=this.renderTarget.picking?this.pickingProgram:this.program;Q.useProgram(Y),Q.bindVertexArray(K);var q=t6(this.buffers),W;try{for(q.s();!(W=q.n()).done;){var G=W.value;G.bufferSubData(U)}}catch(B){q.e(B)}finally{q.f()}var z=this.batchManager.getAtlases();for(var H=0;H<z.length;H++)z[H].bufferIfNeeded(Q);for(var F=0;F<z.length;F++)Q.activeTexture(Q.TEXTURE0+F),Q.bindTexture(Q.TEXTURE_2D,z[F].texture),Q.uniform1i(Y.uTextures[F],F);Q.uniform1f(Y.uZoom,ZR8(this.r)),Q.uniformMatrix3fv(Y.uPanZoomMatrix,!1,this.panZoomMatrix),Q.uniform1i(Y.uAtlasSize,this.batchManager.getAtlasSize());var M=qz(this.bgColor,1);if(Q.uniform4fv(Y.uBGColor,M),Q.drawArraysInstanced(Q.TRIANGLES,0,X,U),Q.bindVertexArray(null),Q.bindTexture(Q.TEXTURE_2D,null),this.debug)this.batchDebugInfo.push({count:U,atlasCount:z.length});this.startBatch()}},{key:"getDebugInfo",value:function(){var Q=this.atlasManager.getDebugInfo(),K=Q.reduce(function(Y,q){return Y+q.atlasCount},0),X=this.batchDebugInfo,U=X.reduce(function(Y,q){return Y+q.count},0);return{atlasInfo:Q,totalAtlases:K,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:X.length,batchInfo:X,totalInstances:U}}}])}(),DN0={};DN0.initWebgl=function(Z,J){var Q=this,K=Q.data.contexts[Q.WEBGL];Z.bgColor=ER8(Q),Z.webglTexSize=Math.min(Z.webglTexSize,K.getParameter(K.MAX_TEXTURE_SIZE)),Z.webglTexRows=Math.min(Z.webglTexRows,54),Z.webglTexRowsNodes=Math.min(Z.webglTexRowsNodes,54),Z.webglBatchSize=Math.min(Z.webglBatchSize,16384),Z.webglTexPerBatch=Math.min(Z.webglTexPerBatch,K.getParameter(K.MAX_TEXTURE_IMAGE_UNITS)),Q.webglDebug=Z.webglDebug,Q.webglDebugShowAtlases=Z.webglDebugShowAtlases,Q.pickingFrameBuffer=GR8(K),Q.pickingFrameBuffer.needsDraw=!0,Q.drawing=new NR8(Q,K,Z);var X=function(H){return function(F){return Q.getTextAngle(F,H)}},U=function(H){return function(F){var M=F.pstyle(H);return M&&M.value}},Y=function(H){return function(F){return F.pstyle("".concat(H,"-opacity")).value>0}},q=function(H){var F=H.pstyle("text-events").strValue==="yes";return F?xS.USE_BB:xS.IGNORE},W=function(H){var F=H.position(),M=F.x,B=F.y,O=H.outerWidth(),R=H.outerHeight();return{w:O,h:R,x1:M-O/2,y1:B-R/2}};Q.drawing.addAtlasCollection("node",{texRows:Z.webglTexRowsNodes}),Q.drawing.addAtlasCollection("label",{texRows:Z.webglTexRows}),Q.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:J.getStyleKey,getBoundingBox:J.getElementBox,drawElement:J.drawElement}),Q.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:W,isSimple:QR8,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),Q.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:W,isVisible:Y("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),Q.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:W,isVisible:Y("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),Q.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:q,getKey:od(J.getLabelKey,null),getBoundingBox:td(J.getLabelBox,null),drawClipped:!0,drawElement:J.drawLabel,getRotation:X(null),getRotationPoint:J.getLabelRotationPoint,getRotationOffset:J.getLabelRotationOffset,isVisible:U("label")}),Q.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:q,getKey:od(J.getSourceLabelKey,"source"),getBoundingBox:td(J.getSourceLabelBox,"source"),drawClipped:!0,drawElement:J.drawSourceLabel,getRotation:X("source"),getRotationPoint:J.getSourceLabelRotationPoint,getRotationOffset:J.getSourceLabelRotationOffset,isVisible:U("source-label")}),Q.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:q,getKey:od(J.getTargetLabelKey,"target"),getBoundingBox:td(J.getTargetLabelBox,"target"),drawClipped:!0,drawElement:J.drawTargetLabel,getRotation:X("target"),getRotationPoint:J.getTargetLabelRotationPoint,getRotationOffset:J.getTargetLabelRotationOffset,isVisible:U("target-label")});var G=wL(function(){console.log("garbage collect flag set"),Q.data.gc=!0},1e4);Q.onUpdateEleCalcs(function(z,H){var F=!1;if(H&&H.length>0)F|=Q.drawing.invalidate(H);if(F)G()}),VR8(Q)};fq={};fq.drawPolygonPath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2;if(Z.beginPath)Z.beginPath();Z.moveTo(J+Y*U[0],Q+q*U[1]);for(var W=1;W<U.length/2;W++)Z.lineTo(J+Y*U[W*2],Q+q*U[W*2+1]);Z.closePath()};fq.drawRoundPolygonPath=function(Z,J,Q,K,X,U,Y){Y.forEach(function(q){return JN0(Z,q)}),Z.closePath()};fq.drawRoundRectanglePath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2,W=U==="auto"?jq(K,X):Math.min(U,q,Y);if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.arcTo(J+Y,Q-q,J+Y,Q,W),Z.arcTo(J+Y,Q+q,J,Q+q,W),Z.arcTo(J-Y,Q+q,J-Y,Q,W),Z.arcTo(J-Y,Q-q,J,Q-q,W),Z.lineTo(J,Q-q),Z.closePath()};fq.drawBottomRoundRectanglePath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2,W=U==="auto"?jq(K,X):U;if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.lineTo(J+Y,Q-q),Z.lineTo(J+Y,Q),Z.arcTo(J+Y,Q+q,J,Q+q,W),Z.arcTo(J-Y,Q+q,J-Y,Q,W),Z.lineTo(J-Y,Q-q),Z.lineTo(J,Q-q),Z.closePath()};fq.drawCutRectanglePath=function(Z,J,Q,K,X,U,Y){var q=K/2,W=X/2,G=Y==="auto"?$i():Y;if(Z.beginPath)Z.beginPath();Z.moveTo(J-q+G,Q-W),Z.lineTo(J+q-G,Q-W),Z.lineTo(J+q,Q-W+G),Z.lineTo(J+q,Q+W-G),Z.lineTo(J+q-G,Q+W),Z.lineTo(J-q+G,Q+W),Z.lineTo(J-q,Q+W-G),Z.lineTo(J-q,Q-W+G),Z.closePath()};fq.drawBarrelPath=function(Z,J,Q,K,X){var U=K/2,Y=X/2,q=J-U,W=J+U,G=Q-Y,z=Q+Y,H=Qi(K,X),F=H.widthOffset,M=H.heightOffset,B=H.ctrlPtOffsetPct*F;if(Z.beginPath)Z.beginPath();Z.moveTo(q,G+M),Z.lineTo(q,z-M),Z.quadraticCurveTo(q+B,z,q+F,z),Z.lineTo(W-F,z),Z.quadraticCurveTo(W-B,z,W,z-M),Z.lineTo(W,G+M),Z.quadraticCurveTo(W-B,G,W-F,G),Z.lineTo(q+F,G),Z.quadraticCurveTo(q+B,G,q,G+M),Z.closePath()};xI0=Math.sin(0),bI0=Math.cos(0),Di={},Li={},NN0=Math.PI/40;for(Rq=0*Math.PI;Rq<2*Math.PI;Rq+=NN0)Di[Rq]=Math.sin(Rq),Li[Rq]=Math.cos(Rq);fq.drawEllipsePath=function(Z,J,Q,K,X){if(Z.beginPath)Z.beginPath();if(Z.ellipse)Z.ellipse(J,Q,K/2,X/2,0,0,2*Math.PI);else{var U,Y,q=K/2,W=X/2;for(var G=0*Math.PI;G<2*Math.PI;G+=NN0)if(U=J-q*Di[G]*xI0+q*Li[G]*bI0,Y=Q+W*Li[G]*xI0+W*Di[G]*bI0,G===0)Z.moveTo(U,Y);else Z.lineTo(U,Y)}Z.closePath()};xL={};xL.createBuffer=function(Z,J){var Q=document.createElement("canvas");return Q.width=Z,Q.height=J,[Q,Q.getContext("2d")]};xL.bufferCanvasImage=function(Z){var J=this.cy,Q=J.mutableElements(),K=Q.boundingBox(),X=this.findContainerClientCoords(),U=Z.full?Math.ceil(K.w):X[2],Y=Z.full?Math.ceil(K.h):X[3],q=P8(Z.maxWidth)||P8(Z.maxHeight),W=this.getPixelRatio(),G=1;if(Z.scale!==void 0)U*=Z.scale,Y*=Z.scale,G=Z.scale;else if(q){var z=1/0,H=1/0;if(P8(Z.maxWidth))z=G*Z.maxWidth/U;if(P8(Z.maxHeight))H=G*Z.maxHeight/Y;G=Math.min(z,H),U*=G,Y*=G}if(!q)U*=W,Y*=W,G*=W;var F=document.createElement("canvas");F.width=U,F.height=Y,F.style.width=U+"px",F.style.height=Y+"px";var M=F.getContext("2d");if(U>0&&Y>0){M.clearRect(0,0,U,Y),M.globalCompositeOperation="source-over";var B=this.getCachedZSortedEles();if(Z.full)M.translate(-K.x1*G,-K.y1*G),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(K.x1*G,K.y1*G);else{var O=J.pan(),R={x:O.x*G,y:O.y*G};G*=J.zoom(),M.translate(R.x,R.y),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(-R.x,-R.y)}if(Z.bg)M.globalCompositeOperation="destination-over",M.fillStyle=Z.bg,M.rect(0,0,U,Y),M.fill()}return F};xL.png=function(Z){return EN0(Z,this.bufferCanvasImage(Z),"image/png")};xL.jpg=function(Z){return EN0(Z,this.bufferCanvasImage(Z),"image/jpeg")};VN0={};VN0.nodeShapeImpl=function(Z,J,Q,K,X,U,Y,q){switch(Z){case"ellipse":return this.drawEllipsePath(J,Q,K,X,U);case"polygon":return this.drawPolygonPath(J,Q,K,X,U,Y);case"round-polygon":return this.drawRoundPolygonPath(J,Q,K,X,U,Y,q);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(J,Q,K,X,U,q);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(J,Q,K,X,U,Y,q);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(J,Q,K,X,U,q);case"barrel":return this.drawBarrelPath(J,Q,K,X,U)}};fR8=PN0,$9=PN0.prototype;$9.CANVAS_LAYERS=3;$9.SELECT_BOX=0;$9.DRAG=1;$9.NODE=2;$9.WEBGL=3;$9.CANVAS_TYPES=["2d","2d","2d","webgl2"];$9.BUFFER_COUNT=3;$9.TEXTURE_BUFFER=0;$9.MOTIONBLUR_BUFFER_NODE=1;$9.MOTIONBLUR_BUFFER_DRAG=2;$9.redrawHint=function(Z,J){var Q=this;switch(Z){case"eles":Q.data.canvasNeedsRedraw[$9.NODE]=J;break;case"drag":Q.data.canvasNeedsRedraw[$9.DRAG]=J;break;case"select":Q.data.canvasNeedsRedraw[$9.SELECT_BOX]=J;break;case"gc":Q.data.gc=!0;break}};vR8=typeof Path2D<"u";$9.path2dEnabled=function(Z){if(Z===void 0)return this.pathsEnabled;this.pathsEnabled=Z?!0:!1};$9.usePaths=function(){return vR8&&this.pathsEnabled};$9.setImgSmoothing=function(Z,J){if(Z.imageSmoothingEnabled!=null)Z.imageSmoothingEnabled=J;else Z.webkitImageSmoothingEnabled=J,Z.mozImageSmoothingEnabled=J,Z.msImageSmoothingEnabled=J};$9.getImgSmoothing=function(Z){if(Z.imageSmoothingEnabled!=null)return Z.imageSmoothingEnabled;else return Z.webkitImageSmoothingEnabled||Z.mozImageSmoothingEnabled||Z.msImageSmoothingEnabled};$9.makeOffscreenCanvas=function(Z,J){var Q;if((typeof OffscreenCanvas>"u"?"undefined":N7(OffscreenCanvas))!=="undefined")Q=new OffscreenCanvas(Z,J);else{var K=this.cy.window(),X=K.document;Q=X.createElement("canvas"),Q.width=Z,Q.height=J}return Q};[FN0,sX,PY,li,Iz,_q,W6,DN0,fq,xL,VN0].forEach(function(Z){Y9($9,Z)});xR8=[{name:"null",impl:tA0},{name:"base",impl:WN0},{name:"canvas",impl:fR8}],bR8=[{type:"layout",extensions:qO8},{type:"renderer",extensions:xR8}],jN0={},CN0={};EL.prototype.extension=Ii;bR8.forEach(function(Z){Z.extensions.forEach(function(J){SN0(Z.type,J.name,J.impl)})});Dz=bS.prototype;Dz.instanceString=function(){return"stylesheet"};Dz.selector=function(Z){var J=this.length++;return this[J]={selector:Z,properties:[]},this};Dz.css=function(Z,J){var Q=this.length-1;if(Z9(Z))this[Q].properties.push({name:Z,value:J});else if(qZ(Z)){var K=Z,X=Object.keys(K);for(var U=0;U<X.length;U++){var Y=X[U],q=K[Y];if(q==null)continue;var W=y7.properties[Y]||y7.properties[yS(Y)];if(W==null)continue;var G=W.name,z=q;this[Q].properties.push({name:G,value:z})}}return this};Dz.style=Dz.css;Dz.generateStyle=function(Z){var J=new y7(Z);return this.appendToStyle(J)};Dz.appendToStyle=function(Z){for(var J=0;J<this.length;J++){var Q=this[J],K=Q.selector,X=Q.properties;Z.selector(K);for(var U=0;U<X.length;U++){var Y=X[U];Z.css(Y.name,Y.value)}}return Z};NK.use=function(Z){var J=Array.prototype.slice.call(arguments,1);return J.unshift(NK),Z.apply(null,J),this};NK.warnings=function(Z){return ZA0(Z)};NK.version=mR8;NK.stylesheet=NK.Stylesheet=bS});var ri=HJ((bL,si)=>{(function(J,Q){if(typeof bL==="object"&&typeof si==="object")si.exports=Q();else if(typeof define==="function"&&define.amd)define([],Q);else if(typeof bL==="object")bL.layoutBase=Q();else J.layoutBase=Q()})(bL,function(){return function(Z){var J={};function Q(K){if(J[K])return J[K].exports;var X=J[K]={i:K,l:!1,exports:{}};return Z[K].call(X.exports,X,X.exports,Q),X.l=!0,X.exports}return Q.m=Z,Q.c=J,Q.i=function(K){return K},Q.d=function(K,X,U){if(!Q.o(K,X))Object.defineProperty(K,X,{configurable:!1,enumerable:!0,get:U})},Q.n=function(K){var X=K&&K.__esModule?function(){return K.default}:function(){return K};return Q.d(X,"a",X),X},Q.o=function(K,X){return Object.prototype.hasOwnProperty.call(K,X)},Q.p="",Q(Q.s=26)}([function(Z,J,Q){function K(){}K.QUALITY=1,K.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,K.DEFAULT_INCREMENTAL=!1,K.DEFAULT_ANIMATION_ON_LAYOUT=!0,K.DEFAULT_ANIMATION_DURING_LAYOUT=!1,K.DEFAULT_ANIMATION_PERIOD=50,K.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,K.DEFAULT_GRAPH_MARGIN=15,K.NODE_DIMENSIONS_INCLUDE_LABELS=!1,K.SIMPLE_NODE_SIZE=40,K.SIMPLE_NODE_HALF_SIZE=K.SIMPLE_NODE_SIZE/2,K.EMPTY_COMPOUND_NODE_SIZE=40,K.MIN_EDGE_LENGTH=1,K.WORLD_BOUNDARY=1e6,K.INITIAL_WORLD_BOUNDARY=K.WORLD_BOUNDARY/1000,K.WORLD_CENTER_X=1200,K.WORLD_CENTER_Y=900,Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(8),U=Q(9);function Y(W,G,z){K.call(this,z),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=z,this.bendpoints=[],this.source=W,this.target=G}Y.prototype=Object.create(K.prototype);for(var q in K)Y[q]=K[q];Y.prototype.getSource=function(){return this.source},Y.prototype.getTarget=function(){return this.target},Y.prototype.isInterGraph=function(){return this.isInterGraph},Y.prototype.getLength=function(){return this.length},Y.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},Y.prototype.getBendpoints=function(){return this.bendpoints},Y.prototype.getLca=function(){return this.lca},Y.prototype.getSourceInLca=function(){return this.sourceInLca},Y.prototype.getTargetInLca=function(){return this.targetInLca},Y.prototype.getOtherEnd=function(W){if(this.source===W)return this.target;else if(this.target===W)return this.source;else throw"Node is not incident with this edge"},Y.prototype.getOtherEndInGraph=function(W,G){var z=this.getOtherEnd(W),H=G.getGraphManager().getRoot();while(!0){if(z.getOwner()==G)return z;if(z.getOwner()==H)break;z=z.getOwner().getParent()}return null},Y.prototype.updateLength=function(){var W=[,,,,];if(this.isOverlapingSourceAndTarget=X.getIntersection(this.target.getRect(),this.source.getRect(),W),!this.isOverlapingSourceAndTarget){if(this.lengthX=W[0]-W[2],this.lengthY=W[1]-W[3],Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}},Y.prototype.updateLengthSimple=function(){if(this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Z.exports=Y},function(Z,J,Q){function K(X){this.vGraphObject=X}Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(13),Y=Q(0),q=Q(16),W=Q(4);function G(H,F,M,B){if(M==null&&B==null)B=F;if(K.call(this,B),H.graphManager!=null)H=H.graphManager;if(this.estimatedSize=X.MIN_VALUE,this.inclusionTreeDepth=X.MAX_VALUE,this.vGraphObject=B,this.edges=[],this.graphManager=H,M!=null&&F!=null)this.rect=new U(F.x,F.y,M.width,M.height);else this.rect=new U}G.prototype=Object.create(K.prototype);for(var z in K)G[z]=K[z];G.prototype.getEdges=function(){return this.edges},G.prototype.getChild=function(){return this.child},G.prototype.getOwner=function(){return this.owner},G.prototype.getWidth=function(){return this.rect.width},G.prototype.setWidth=function(H){this.rect.width=H},G.prototype.getHeight=function(){return this.rect.height},G.prototype.setHeight=function(H){this.rect.height=H},G.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},G.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},G.prototype.getCenter=function(){return new W(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},G.prototype.getLocation=function(){return new W(this.rect.x,this.rect.y)},G.prototype.getRect=function(){return this.rect},G.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},G.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},G.prototype.setRect=function(H,F){this.rect.x=H.x,this.rect.y=H.y,this.rect.width=F.width,this.rect.height=F.height},G.prototype.setCenter=function(H,F){this.rect.x=H-this.rect.width/2,this.rect.y=F-this.rect.height/2},G.prototype.setLocation=function(H,F){this.rect.x=H,this.rect.y=F},G.prototype.moveBy=function(H,F){this.rect.x+=H,this.rect.y+=F},G.prototype.getEdgeListToNode=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(O.target==H){if(O.source!=B)throw"Incorrect edge source!";F.push(O)}}),F},G.prototype.getEdgesBetween=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(!(O.source==B||O.target==B))throw"Incorrect edge source and/or target";if(O.target==H||O.source==H)F.push(O)}),F},G.prototype.getNeighborsList=function(){var H=new Set,F=this;return F.edges.forEach(function(M){if(M.source==F)H.add(M.target);else{if(M.target!=F)throw"Incorrect incidency!";H.add(M.source)}}),H},G.prototype.withChildren=function(){var H=new Set,F,M;if(H.add(this),this.child!=null){var B=this.child.getNodes();for(var O=0;O<B.length;O++)F=B[O],M=F.withChildren(),M.forEach(function(R){H.add(R)})}return H},G.prototype.getNoOfChildren=function(){var H=0,F;if(this.child==null)H=1;else{var M=this.child.getNodes();for(var B=0;B<M.length;B++)F=M[B],H+=F.getNoOfChildren()}if(H==0)H=1;return H},G.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},G.prototype.calcEstimatedSize=function(){if(this.child==null)return this.estimatedSize=(this.rect.width+this.rect.height)/2;else return this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize},G.prototype.scatter=function(){var H,F,M=-Y.INITIAL_WORLD_BOUNDARY,B=Y.INITIAL_WORLD_BOUNDARY;H=Y.WORLD_CENTER_X+q.nextDouble()*(B-M)+M;var O=-Y.INITIAL_WORLD_BOUNDARY,R=Y.INITIAL_WORLD_BOUNDARY;F=Y.WORLD_CENTER_Y+q.nextDouble()*(R-O)+O,this.rect.x=H,this.rect.y=F},G.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var H=this.getChild();if(H.updateBounds(!0),this.rect.x=H.getLeft(),this.rect.y=H.getTop(),this.setWidth(H.getRight()-H.getLeft()),this.setHeight(H.getBottom()-H.getTop()),Y.NODE_DIMENSIONS_INCLUDE_LABELS){var F=H.getRight()-H.getLeft(),M=H.getBottom()-H.getTop();if(this.labelWidth>F)this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth);if(this.labelHeight>M){if(this.labelPos=="center")this.rect.y-=(this.labelHeight-M)/2;else if(this.labelPos=="top")this.rect.y-=this.labelHeight-M;this.setHeight(this.labelHeight)}}}},G.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==X.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},G.prototype.transform=function(H){var F=this.rect.x;if(F>Y.WORLD_BOUNDARY)F=Y.WORLD_BOUNDARY;else if(F<-Y.WORLD_BOUNDARY)F=-Y.WORLD_BOUNDARY;var M=this.rect.y;if(M>Y.WORLD_BOUNDARY)M=Y.WORLD_BOUNDARY;else if(M<-Y.WORLD_BOUNDARY)M=-Y.WORLD_BOUNDARY;var B=new W(F,M),O=H.inverseTransformPoint(B);this.setLocation(O.x,O.y)},G.prototype.getLeft=function(){return this.rect.x},G.prototype.getRight=function(){return this.rect.x+this.rect.width},G.prototype.getTop=function(){return this.rect.y},G.prototype.getBottom=function(){return this.rect.y+this.rect.height},G.prototype.getParent=function(){if(this.owner==null)return null;return this.owner.getParent()},Z.exports=G},function(Z,J,Q){function K(X,U){if(X==null&&U==null)this.x=0,this.y=0;else this.x=X,this.y=U}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.setX=function(X){this.x=X},K.prototype.setY=function(X){this.y=X},K.prototype.getDifference=function(X){return new DimensionD(this.x-X.x,this.y-X.y)},K.prototype.getCopy=function(){return new K(this.x,this.y)},K.prototype.translate=function(X){return this.x+=X.width,this.y+=X.height,this},Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(0),Y=Q(6),q=Q(3),W=Q(1),G=Q(13),z=Q(12),H=Q(11);function F(B,O,R){if(K.call(this,R),this.estimatedSize=X.MIN_VALUE,this.margin=U.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=B,O!=null&&O instanceof Y)this.graphManager=O;else if(O!=null&&O instanceof Layout)this.graphManager=O.graphManager}F.prototype=Object.create(K.prototype);for(var M in K)F[M]=K[M];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(B,O,R){if(O==null&&R==null){var D=B;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(D)>-1)throw"Node already in graph!";return D.owner=this,this.getNodes().push(D),D}else{var L=B;if(!(this.getNodes().indexOf(O)>-1&&this.getNodes().indexOf(R)>-1))throw"Source or target not in graph!";if(!(O.owner==R.owner&&O.owner==this))throw"Both owners must be this graph!";if(O.owner!=R.owner)return null;if(L.source=O,L.target=R,L.isInterGraph=!1,this.getEdges().push(L),O.edges.push(L),R!=O)R.edges.push(L);return L}},F.prototype.remove=function(B){var O=B;if(B instanceof q){if(O==null)throw"Node is null!";if(!(O.owner!=null&&O.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";var R=O.edges.slice(),D,L=R.length;for(var A=0;A<L;A++)if(D=R[A],D.isInterGraph)this.graphManager.remove(D);else D.source.owner.remove(D);var V=this.nodes.indexOf(O);if(V==-1)throw"Node not in owner node list!";this.nodes.splice(V,1)}else if(B instanceof W){var D=B;if(D==null)throw"Edge is null!";if(!(D.source!=null&&D.target!=null))throw"Source and/or target is null!";if(!(D.source.owner!=null&&D.target.owner!=null&&D.source.owner==this&&D.target.owner==this))throw"Source and/or target owner is invalid!";var N=D.source.edges.indexOf(D),E=D.target.edges.indexOf(D);if(!(N>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(D.source.edges.splice(N,1),D.target!=D.source)D.target.edges.splice(E,1);var V=D.source.owner.getEdges().indexOf(D);if(V==-1)throw"Not in owner's edge list!";D.source.owner.getEdges().splice(V,1)}},F.prototype.updateLeftTop=function(){var{MAX_VALUE:B,MAX_VALUE:O}=X,R,D,L,A=this.getNodes(),V=A.length;for(var N=0;N<V;N++){var E=A[N];if(R=E.getTop(),D=E.getLeft(),B>R)B=R;if(O>D)O=D}if(B==X.MAX_VALUE)return null;if(A[0].getParent().paddingLeft!=null)L=A[0].getParent().paddingLeft;else L=this.margin;return this.left=O-L,this.top=B-L,new z(this.left,this.top)},F.prototype.updateBounds=function(B){var O=X.MAX_VALUE,R=-X.MAX_VALUE,D=X.MAX_VALUE,L=-X.MAX_VALUE,A,V,N,E,j,C=this.nodes,$=C.length;for(var k=0;k<$;k++){var w=C[k];if(B&&w.child!=null)w.updateBounds();if(A=w.getLeft(),V=w.getRight(),N=w.getTop(),E=w.getBottom(),O>A)O=A;if(R<V)R=V;if(D>N)D=N;if(L<E)L=E}var P=new G(O,D,R-O,L-D);if(O==X.MAX_VALUE)this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom();if(C[0].getParent().paddingLeft!=null)j=C[0].getParent().paddingLeft;else j=this.margin;this.left=P.x-j,this.right=P.x+P.width+j,this.top=P.y-j,this.bottom=P.y+P.height+j},F.calculateBounds=function(B){var O=X.MAX_VALUE,R=-X.MAX_VALUE,D=X.MAX_VALUE,L=-X.MAX_VALUE,A,V,N,E,j=B.length;for(var C=0;C<j;C++){var $=B[C];if(A=$.getLeft(),V=$.getRight(),N=$.getTop(),E=$.getBottom(),O>A)O=A;if(R<V)R=V;if(D>N)D=N;if(L<E)L=E}var k=new G(O,D,R-O,L-D);return k},F.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot())return 1;else return this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){var B=0,O=this.nodes,R=O.length;for(var D=0;D<R;D++){var L=O[D];B+=L.calcEstimatedSize()}if(B==0)this.estimatedSize=U.EMPTY_COMPOUND_NODE_SIZE;else this.estimatedSize=B/Math.sqrt(this.nodes.length);return this.estimatedSize},F.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=!0;return}var O=new H,R=new Set,D=this.nodes[0],L,A,V=D.withChildren();V.forEach(function(k){O.push(k),R.add(k)});while(O.length!==0){D=O.shift(),L=D.getEdges();var N=L.length;for(var E=0;E<N;E++){var j=L[E];if(A=j.getOtherEndInGraph(D,this),A!=null&&!R.has(A)){var C=A.withChildren();C.forEach(function(k){O.push(k),R.add(k)})}}}if(this.isConnected=!1,R.size>=this.nodes.length){var $=0;if(R.forEach(function(k){if(k.owner==B)$++}),$==this.nodes.length)this.isConnected=!0}},Z.exports=F},function(Z,J,Q){var K,X=Q(1);function U(Y){K=Q(5),this.layout=Y,this.graphs=[],this.edges=[]}U.prototype.addRoot=function(){var Y=this.layout.newGraph(),q=this.layout.newNode(null),W=this.add(Y,q);return this.setRootGraph(W),this.rootGraph},U.prototype.add=function(Y,q,W,G,z){if(W==null&&G==null&&z==null){if(Y==null)throw"Graph is null!";if(q==null)throw"Parent node is null!";if(this.graphs.indexOf(Y)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(Y),Y.parent!=null)throw"Already has a parent!";if(q.child!=null)throw"Already has a child!";return Y.parent=q,q.child=Y,Y}else{z=W,G=q,W=Y;var H=G.getOwner(),F=z.getOwner();if(!(H!=null&&H.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(H==F)return W.isInterGraph=!1,H.add(W,G,z);else{if(W.isInterGraph=!0,W.source=G,W.target=z,this.edges.indexOf(W)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(W),!(W.source!=null&&W.target!=null))throw"Edge source and/or target is null!";if(!(W.source.edges.indexOf(W)==-1&&W.target.edges.indexOf(W)==-1))throw"Edge already in source and/or target incidency list!";return W.source.edges.push(W),W.target.edges.push(W),W}}},U.prototype.remove=function(Y){if(Y instanceof K){var q=Y;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(q==this.rootGraph||q.parent!=null&&q.parent.graphManager==this))throw"Invalid parent node!";var W=[];W=W.concat(q.getEdges());var G,z=W.length;for(var H=0;H<z;H++)G=W[H],q.remove(G);var F=[];F=F.concat(q.getNodes());var M;z=F.length;for(var H=0;H<z;H++)M=F[H],q.remove(M);if(q==this.rootGraph)this.setRootGraph(null);var B=this.graphs.indexOf(q);this.graphs.splice(B,1),q.parent=null}else if(Y instanceof X){if(G=Y,G==null)throw"Edge is null!";if(!G.isInterGraph)throw"Not an inter-graph edge!";if(!(G.source!=null&&G.target!=null))throw"Source and/or target is null!";if(!(G.source.edges.indexOf(G)!=-1&&G.target.edges.indexOf(G)!=-1))throw"Source and/or target doesn't know this edge!";var B=G.source.edges.indexOf(G);if(G.source.edges.splice(B,1),B=G.target.edges.indexOf(G),G.target.edges.splice(B,1),!(G.source.owner!=null&&G.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(G.source.owner.getGraphManager().edges.indexOf(G)==-1)throw"Not in owner graph manager's edge list!";var B=G.source.owner.getGraphManager().edges.indexOf(G);G.source.owner.getGraphManager().edges.splice(B,1)}},U.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},U.prototype.getGraphs=function(){return this.graphs},U.prototype.getAllNodes=function(){if(this.allNodes==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<W;G++)Y=Y.concat(q[G].getNodes());this.allNodes=Y}return this.allNodes},U.prototype.resetAllNodes=function(){this.allNodes=null},U.prototype.resetAllEdges=function(){this.allEdges=null},U.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},U.prototype.getAllEdges=function(){if(this.allEdges==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<q.length;G++)Y=Y.concat(q[G].getEdges());Y=Y.concat(this.edges),this.allEdges=Y}return this.allEdges},U.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},U.prototype.setAllNodesToApplyGravitation=function(Y){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=Y},U.prototype.getRoot=function(){return this.rootGraph},U.prototype.setRootGraph=function(Y){if(Y.getGraphManager()!=this)throw"Root not in this graph mgr!";if(this.rootGraph=Y,Y.parent==null)Y.parent=this.layout.newNode("Root node")},U.prototype.getLayout=function(){return this.layout},U.prototype.isOneAncestorOfOther=function(Y,q){if(!(Y!=null&&q!=null))throw"assert failed";if(Y==q)return!0;var W=Y.getOwner(),G;do{if(G=W.getParent(),G==null)break;if(G==q)return!0;if(W=G.getOwner(),W==null)break}while(!0);W=q.getOwner();do{if(G=W.getParent(),G==null)break;if(G==Y)return!0;if(W=G.getOwner(),W==null)break}while(!0);return!1},U.prototype.calcLowestCommonAncestors=function(){var Y,q,W,G,z,H=this.getAllEdges(),F=H.length;for(var M=0;M<F;M++){if(Y=H[M],q=Y.source,W=Y.target,Y.lca=null,Y.sourceInLca=q,Y.targetInLca=W,q==W){Y.lca=q.getOwner();continue}G=q.getOwner();while(Y.lca==null){Y.targetInLca=W,z=W.getOwner();while(Y.lca==null){if(z==G){Y.lca=z;break}if(z==this.rootGraph)break;if(Y.lca!=null)throw"assert failed";Y.targetInLca=z.getParent(),z=Y.targetInLca.getOwner()}if(G==this.rootGraph)break;if(Y.lca==null)Y.sourceInLca=G.getParent(),G=Y.sourceInLca.getOwner()}if(Y.lca==null)throw"assert failed"}},U.prototype.calcLowestCommonAncestor=function(Y,q){if(Y==q)return Y.getOwner();var W=Y.getOwner();do{if(W==null)break;var G=q.getOwner();do{if(G==null)break;if(G==W)return G;G=G.getParent().getOwner()}while(!0);W=W.getParent().getOwner()}while(!0);return W},U.prototype.calcInclusionTreeDepths=function(Y,q){if(Y==null&&q==null)Y=this.rootGraph,q=1;var W,G=Y.getNodes(),z=G.length;for(var H=0;H<z;H++)if(W=G[H],W.inclusionTreeDepth=q,W.child!=null)this.calcInclusionTreeDepths(W.child,q+1)},U.prototype.includesInvalidEdge=function(){var Y,q=this.edges.length;for(var W=0;W<q;W++)if(Y=this.edges[W],this.isOneAncestorOfOther(Y.source,Y.target))return!0;return!1},Z.exports=U},function(Z,J,Q){var K=Q(0);function X(){}for(var U in K)X[U]=K[U];X.MAX_ITERATIONS=2500,X.DEFAULT_EDGE_LENGTH=50,X.DEFAULT_SPRING_STRENGTH=0.45,X.DEFAULT_REPULSION_STRENGTH=4500,X.DEFAULT_GRAVITY_STRENGTH=0.4,X.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,X.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,X.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,X.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,X.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.3,X.COOLING_ADAPTATION_FACTOR=0.33,X.ADAPTATION_LOWER_NODE_LIMIT=1000,X.ADAPTATION_UPPER_NODE_LIMIT=5000,X.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,X.MAX_NODE_DISPLACEMENT=X.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,X.MIN_REPULSION_DIST=X.DEFAULT_EDGE_LENGTH/10,X.CONVERGENCE_CHECK_PERIOD=100,X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1,X.MIN_EDGE_LENGTH=1,X.GRID_CALCULATION_CHECK_PERIOD=10,Z.exports=X},function(Z,J,Q){var K=Q(12);function X(){}X.calcSeparationAmount=function(U,Y,q,W){if(!U.intersects(Y))throw"assert failed";var G=[,,];if(this.decideDirectionsForOverlappingNodes(U,Y,G),q[0]=Math.min(U.getRight(),Y.getRight())-Math.max(U.x,Y.x),q[1]=Math.min(U.getBottom(),Y.getBottom())-Math.max(U.y,Y.y),U.getX()<=Y.getX()&&U.getRight()>=Y.getRight())q[0]+=Math.min(Y.getX()-U.getX(),U.getRight()-Y.getRight());else if(Y.getX()<=U.getX()&&Y.getRight()>=U.getRight())q[0]+=Math.min(U.getX()-Y.getX(),Y.getRight()-U.getRight());if(U.getY()<=Y.getY()&&U.getBottom()>=Y.getBottom())q[1]+=Math.min(Y.getY()-U.getY(),U.getBottom()-Y.getBottom());else if(Y.getY()<=U.getY()&&Y.getBottom()>=U.getBottom())q[1]+=Math.min(U.getY()-Y.getY(),Y.getBottom()-U.getBottom());var z=Math.abs((Y.getCenterY()-U.getCenterY())/(Y.getCenterX()-U.getCenterX()));if(Y.getCenterY()===U.getCenterY()&&Y.getCenterX()===U.getCenterX())z=1;var H=z*q[0],F=q[1]/z;if(q[0]<F)F=q[0];else H=q[1];q[0]=-1*G[0]*(F/2+W),q[1]=-1*G[1]*(H/2+W)},X.decideDirectionsForOverlappingNodes=function(U,Y,q){if(U.getCenterX()<Y.getCenterX())q[0]=-1;else q[0]=1;if(U.getCenterY()<Y.getCenterY())q[1]=-1;else q[1]=1},X.getIntersection2=function(U,Y,q){var W=U.getCenterX(),G=U.getCenterY(),z=Y.getCenterX(),H=Y.getCenterY();if(U.intersects(Y))return q[0]=W,q[1]=G,q[2]=z,q[3]=H,!0;var F=U.getX(),M=U.getY(),B=U.getRight(),O=U.getX(),R=U.getBottom(),D=U.getRight(),L=U.getWidthHalf(),A=U.getHeightHalf(),V=Y.getX(),N=Y.getY(),E=Y.getRight(),j=Y.getX(),C=Y.getBottom(),$=Y.getRight(),k=Y.getWidthHalf(),w=Y.getHeightHalf(),P=!1,T=!1;if(W===z){if(G>H)return q[0]=W,q[1]=M,q[2]=z,q[3]=C,!1;else if(G<H)return q[0]=W,q[1]=R,q[2]=z,q[3]=N,!1}else if(G===H){if(W>z)return q[0]=F,q[1]=G,q[2]=E,q[3]=H,!1;else if(W<z)return q[0]=B,q[1]=G,q[2]=V,q[3]=H,!1}else{var S=U.height/U.width,f=Y.height/Y.width,v=(H-G)/(z-W),x=void 0,b=void 0,y=void 0,u=void 0,h=void 0,p=void 0;if(-S===v)if(W>z)q[0]=O,q[1]=R,P=!0;else q[0]=B,q[1]=M,P=!0;else if(S===v)if(W>z)q[0]=F,q[1]=M,P=!0;else q[0]=D,q[1]=R,P=!0;if(-f===v)if(z>W)q[2]=j,q[3]=C,T=!0;else q[2]=E,q[3]=N,T=!0;else if(f===v)if(z>W)q[2]=V,q[3]=N,T=!0;else q[2]=$,q[3]=C,T=!0;if(P&&T)return!1;if(W>z)if(G>H)x=this.getCardinalDirection(S,v,4),b=this.getCardinalDirection(f,v,2);else x=this.getCardinalDirection(-S,v,3),b=this.getCardinalDirection(-f,v,1);else if(G>H)x=this.getCardinalDirection(-S,v,1),b=this.getCardinalDirection(-f,v,3);else x=this.getCardinalDirection(S,v,2),b=this.getCardinalDirection(f,v,4);if(!P)switch(x){case 1:u=M,y=W+-A/v,q[0]=y,q[1]=u;break;case 2:y=D,u=G+L*v,q[0]=y,q[1]=u;break;case 3:u=R,y=W+A/v,q[0]=y,q[1]=u;break;case 4:y=O,u=G+-L*v,q[0]=y,q[1]=u;break}if(!T)switch(b){case 1:p=N,h=z+-w/v,q[2]=h,q[3]=p;break;case 2:h=$,p=H+k*v,q[2]=h,q[3]=p;break;case 3:p=C,h=z+w/v,q[2]=h,q[3]=p;break;case 4:h=j,p=H+-k*v,q[2]=h,q[3]=p;break}}return!1},X.getCardinalDirection=function(U,Y,q){if(U>Y)return q;else return 1+q%4},X.getIntersection=function(U,Y,q,W){if(W==null)return this.getIntersection2(U,Y,q);var{x:G,y:z}=U,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,D=void 0,L=void 0,A=void 0,V=void 0,N=void 0,E=void 0,j=void 0,C=void 0,$=void 0;if(A=F-z,N=G-H,j=H*z-G*F,V=R-B,E=M-O,C=O*B-M*R,$=A*E-V*N,$===0)return null;return D=(N*C-E*j)/$,L=(V*j-A*C)/$,new K(D,L)},X.angleOfVector=function(U,Y,q,W){var G=void 0;if(U!==q){if(G=Math.atan((W-Y)/(q-U)),q<U)G+=Math.PI;else if(W<Y)G+=this.TWO_PI}else if(W<Y)G=this.ONE_AND_HALF_PI;else G=this.HALF_PI;return G},X.doIntersect=function(U,Y,q,W){var{x:G,y:z}=U,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,D=(H-G)*(R-B)-(O-M)*(F-z);if(D===0)return!1;else{var L=((R-B)*(O-G)+(M-O)*(R-z))/D,A=((z-F)*(O-G)+(H-G)*(R-z))/D;return 0<L&&L<1&&0<A&&A<1}},X.HALF_PI=0.5*Math.PI,X.ONE_AND_HALF_PI=1.5*Math.PI,X.TWO_PI=2*Math.PI,X.THREE_PI=3*Math.PI,Z.exports=X},function(Z,J,Q){function K(){}K.sign=function(X){if(X>0)return 1;else if(X<0)return-1;else return 0},K.floor=function(X){return X<0?Math.ceil(X):Math.floor(X)},K.ceil=function(X){return X<0?Math.floor(X):Math.ceil(X)},Z.exports=K},function(Z,J,Q){function K(){}K.MAX_VALUE=2147483647,K.MIN_VALUE=-2147483648,Z.exports=K},function(Z,J,Q){var K=function(){function G(z,H){for(var F=0;F<H.length;F++){var M=H[F];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(z,M.key,M)}}return function(z,H,F){if(H)G(z.prototype,H);if(F)G(z,F);return z}}();function X(G,z){if(!(G instanceof z))throw TypeError("Cannot call a class as a function")}var U=function(z){return{value:z,next:null,prev:null}},Y=function(z,H,F,M){if(z!==null)z.next=H;else M.head=H;if(F!==null)F.prev=H;else M.tail=H;return H.prev=z,H.next=F,M.length++,H},q=function(z,H){var{prev:F,next:M}=z;if(F!==null)F.next=M;else H.head=M;if(M!==null)M.prev=F;else H.tail=F;return z.prev=z.next=null,H.length--,z},W=function(){function G(z){var H=this;if(X(this,G),this.length=0,this.head=null,this.tail=null,z!=null)z.forEach(function(F){return H.push(F)})}return K(G,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(H,F){return Y(F.prev,U(H),F,this)}},{key:"insertAfter",value:function(H,F){return Y(F,U(H),F.next,this)}},{key:"insertNodeBefore",value:function(H,F){return Y(F.prev,H,F,this)}},{key:"insertNodeAfter",value:function(H,F){return Y(F,H,F.next,this)}},{key:"push",value:function(H){return Y(this.tail,U(H),null,this)}},{key:"unshift",value:function(H){return Y(null,U(H),this.head,this)}},{key:"remove",value:function(H){return q(H,this)}},{key:"pop",value:function(){return q(this.tail,this).value}},{key:"popNode",value:function(){return q(this.tail,this)}},{key:"shift",value:function(){return q(this.head,this).value}},{key:"shiftNode",value:function(){return q(this.head,this)}},{key:"get_object_at",value:function(H){if(H<=this.length()){var F=1,M=this.head;while(F<H)M=M.next,F++;return M.value}}},{key:"set_object_at",value:function(H,F){if(H<=this.length()){var M=1,B=this.head;while(M<H)B=B.next,M++;B.value=F}}}]),G}();Z.exports=W},function(Z,J,Q){function K(X,U,Y){if(this.x=null,this.y=null,X==null&&U==null&&Y==null)this.x=0,this.y=0;else if(typeof X=="number"&&typeof U=="number"&&Y==null)this.x=X,this.y=U;else if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.x=Y.x,this.y=Y.y}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.getLocation=function(){return new K(this.x,this.y)},K.prototype.setLocation=function(X,U,Y){if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.setLocation(Y.x,Y.y);else if(typeof X=="number"&&typeof U=="number"&&Y==null)if(parseInt(X)==X&&parseInt(U)==U)this.move(X,U);else this.x=Math.floor(X+0.5),this.y=Math.floor(U+0.5)},K.prototype.move=function(X,U){this.x=X,this.y=U},K.prototype.translate=function(X,U){this.x+=X,this.y+=U},K.prototype.equals=function(X){if(X.constructor.name=="Point"){var U=X;return this.x==U.x&&this.y==U.y}return this==X},K.prototype.toString=function(){return new K().constructor.name+"[x="+this.x+",y="+this.y+"]"},Z.exports=K},function(Z,J,Q){function K(X,U,Y,q){if(this.x=0,this.y=0,this.width=0,this.height=0,X!=null&&U!=null&&Y!=null&&q!=null)this.x=X,this.y=U,this.width=Y,this.height=q}K.prototype.getX=function(){return this.x},K.prototype.setX=function(X){this.x=X},K.prototype.getY=function(){return this.y},K.prototype.setY=function(X){this.y=X},K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},K.prototype.getRight=function(){return this.x+this.width},K.prototype.getBottom=function(){return this.y+this.height},K.prototype.intersects=function(X){if(this.getRight()<X.x)return!1;if(this.getBottom()<X.y)return!1;if(X.getRight()<this.x)return!1;if(X.getBottom()<this.y)return!1;return!0},K.prototype.getCenterX=function(){return this.x+this.width/2},K.prototype.getMinX=function(){return this.getX()},K.prototype.getMaxX=function(){return this.getX()+this.width},K.prototype.getCenterY=function(){return this.y+this.height/2},K.prototype.getMinY=function(){return this.getY()},K.prototype.getMaxY=function(){return this.getY()+this.height},K.prototype.getWidthHalf=function(){return this.width/2},K.prototype.getHeightHalf=function(){return this.height/2},Z.exports=K},function(Z,J,Q){var K=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol==="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function X(){}X.lastID=0,X.createID=function(U){if(X.isPrimitive(U))return U;if(U.uniqueID!=null)return U.uniqueID;return U.uniqueID=X.getString(),X.lastID++,U.uniqueID},X.getString=function(U){if(U==null)U=X.lastID;return"Object#"+U},X.isPrimitive=function(U){var Y=typeof U>"u"?"undefined":K(U);return U==null||Y!="object"&&Y!="function"},Z.exports=X},function(Z,J,Q){function K(M){if(Array.isArray(M)){for(var B=0,O=Array(M.length);B<M.length;B++)O[B]=M[B];return O}else return Array.from(M)}var X=Q(0),U=Q(6),Y=Q(3),q=Q(1),W=Q(5),G=Q(4),z=Q(17),H=Q(27);function F(M){if(H.call(this),this.layoutQuality=X.QUALITY,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=X.DEFAULT_INCREMENTAL,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new U(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,M!=null)this.isRemoteUse=M}F.RANDOM_SEED=1,F.prototype=Object.create(H.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var M=new U(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new W(null,this.graphManager,M)},F.prototype.newNode=function(M){return new Y(this.graphManager,M)},F.prototype.newEdge=function(M){return new q(null,null,M)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){if(this.isLayoutFinished=!1,this.tilingPreLayout)this.tilingPreLayout();this.initParameters();var M;if(this.checkLayoutSuccess())M=!1;else M=this.layout();if(X.ANIMATE==="during")return!1;if(M){if(!this.isSubLayout)this.doPostLayout()}if(this.tilingPostLayout)this.tilingPostLayout();return this.isLayoutFinished=!0,M},F.prototype.doPostLayout=function(){if(!this.incremental)this.transform();this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded)this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges();if(!this.isRemoteUse){var M,B=this.graphManager.getAllEdges();for(var O=0;O<B.length;O++)M=B[O];var R,D=this.graphManager.getRoot().getNodes();for(var O=0;O<D.length;O++)R=D[O];this.update(this.graphManager.getRoot())}},F.prototype.update=function(M){if(M==null)this.update2();else if(M instanceof Y){var B=M;if(B.getChild()!=null){var O=B.getChild().getNodes();for(var R=0;R<O.length;R++)update(O[R])}if(B.vGraphObject!=null){var D=B.vGraphObject;D.update(B)}}else if(M instanceof q){var L=M;if(L.vGraphObject!=null){var A=L.vGraphObject;A.update(L)}}else if(M instanceof W){var V=M;if(V.vGraphObject!=null){var N=V.vGraphObject;N.update(V)}}},F.prototype.initParameters=function(){if(!this.isSubLayout)this.layoutQuality=X.QUALITY,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=X.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES;if(this.animationDuringLayout)this.animationOnLayout=!1},F.prototype.transform=function(M){if(M==null)this.transform(new G(0,0));else{var B=new z,O=this.graphManager.getRoot().updateLeftTop();if(O!=null){B.setWorldOrgX(M.x),B.setWorldOrgY(M.y),B.setDeviceOrgX(O.x),B.setDeviceOrgY(O.y);var R=this.getAllNodes(),D;for(var L=0;L<R.length;L++)D=R[L],D.transform(B)}}},F.prototype.positionNodesRandomly=function(M){if(M==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else{var B,O,R=M.getNodes();for(var D=0;D<R.length;D++)if(B=R[D],O=B.getChild(),O==null)B.scatter();else if(O.getNodes().length==0)B.scatter();else this.positionNodesRandomly(O),B.updateBounds()}},F.prototype.getFlatForest=function(){var M=[],B=!0,O=this.graphManager.getRoot().getNodes(),R=!0;for(var D=0;D<O.length;D++)if(O[D].getChild()!=null)R=!1;if(!R)return M;var L=new Set,A=[],V=new Map,N=[];N=N.concat(O);while(N.length>0&&B){A.push(N[0]);while(A.length>0&&B){var E=A[0];A.splice(0,1),L.add(E);var j=E.getEdges();for(var D=0;D<j.length;D++){var C=j[D].getOtherEnd(E);if(V.get(E)!=C)if(!L.has(C))A.push(C),V.set(C,E);else{B=!1;break}}}if(!B)M=[];else{var $=[].concat(K(L));M.push($);for(var D=0;D<$.length;D++){var k=$[D],w=N.indexOf(k);if(w>-1)N.splice(w,1)}L=new Set,V=new Map}}return M},F.prototype.createDummyNodesForBendpoints=function(M){var B=[],O=M.source,R=this.graphManager.calcLowestCommonAncestor(M.source,M.target);for(var D=0;D<M.bendpoints.length;D++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),R.add(L);var A=this.newEdge(null);this.graphManager.add(A,O,L),B.add(L),O=L}var A=this.newEdge(null);if(this.graphManager.add(A,O,M.target),this.edgeToDummyNodes.set(M,B),M.isInterGraph())this.graphManager.remove(M);else R.remove(M);return B},F.prototype.createBendpointsFromDummyNodes=function(){var M=[];M=M.concat(this.graphManager.getAllEdges()),M=[].concat(K(this.edgeToDummyNodes.keys())).concat(M);for(var B=0;B<M.length;B++){var O=M[B];if(O.bendpoints.length>0){var R=this.edgeToDummyNodes.get(O);for(var D=0;D<R.length;D++){var L=R[D],A=new G(L.getCenterX(),L.getCenterY()),V=O.bendpoints.get(D);V.x=A.x,V.y=A.y,L.getOwner().remove(L)}this.graphManager.add(O,O.source,O.target)}}},F.transform=function(M,B,O,R){if(O!=null&&R!=null){var D=B;if(M<=50){var L=B/O;D-=(B-L)/50*(50-M)}else{var A=B*R;D+=(A-B)/50*(M-50)}return D}else{var V,N;if(M<=50)V=9*B/500,N=B/10;else V=9*B/50,N=-8*B;return V*M+N}},F.findCenterOfTree=function(M){var B=[];B=B.concat(M);var O=[],R=new Map,D=!1,L=null;if(B.length==1||B.length==2)D=!0,L=B[0];for(var A=0;A<B.length;A++){var V=B[A],N=V.getNeighborsList().size;if(R.set(V,V.getNeighborsList().size),N==1)O.push(V)}var E=[];E=E.concat(O);while(!D){var j=[];j=j.concat(E),E=[];for(var A=0;A<B.length;A++){var V=B[A],C=B.indexOf(V);if(C>=0)B.splice(C,1);var $=V.getNeighborsList();$.forEach(function(P){if(O.indexOf(P)<0){var T=R.get(P),S=T-1;if(S==1)E.push(P);R.set(P,S)}})}if(O=O.concat(E),B.length==1||B.length==2)D=!0,L=B[0]}return L},F.prototype.setGraphManager=function(M){this.graphManager=M},Z.exports=F},function(Z,J,Q){function K(){}K.seed=1,K.x=0,K.nextDouble=function(){return K.x=Math.sin(K.seed++)*1e4,K.x-Math.floor(K.x)},Z.exports=K},function(Z,J,Q){var K=Q(4);function X(U,Y){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}X.prototype.getWorldOrgX=function(){return this.lworldOrgX},X.prototype.setWorldOrgX=function(U){this.lworldOrgX=U},X.prototype.getWorldOrgY=function(){return this.lworldOrgY},X.prototype.setWorldOrgY=function(U){this.lworldOrgY=U},X.prototype.getWorldExtX=function(){return this.lworldExtX},X.prototype.setWorldExtX=function(U){this.lworldExtX=U},X.prototype.getWorldExtY=function(){return this.lworldExtY},X.prototype.setWorldExtY=function(U){this.lworldExtY=U},X.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},X.prototype.setDeviceOrgX=function(U){this.ldeviceOrgX=U},X.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},X.prototype.setDeviceOrgY=function(U){this.ldeviceOrgY=U},X.prototype.getDeviceExtX=function(){return this.ldeviceExtX},X.prototype.setDeviceExtX=function(U){this.ldeviceExtX=U},X.prototype.getDeviceExtY=function(){return this.ldeviceExtY},X.prototype.setDeviceExtY=function(U){this.ldeviceExtY=U},X.prototype.transformX=function(U){var Y=0,q=this.lworldExtX;if(q!=0)Y=this.ldeviceOrgX+(U-this.lworldOrgX)*this.ldeviceExtX/q;return Y},X.prototype.transformY=function(U){var Y=0,q=this.lworldExtY;if(q!=0)Y=this.ldeviceOrgY+(U-this.lworldOrgY)*this.ldeviceExtY/q;return Y},X.prototype.inverseTransformX=function(U){var Y=0,q=this.ldeviceExtX;if(q!=0)Y=this.lworldOrgX+(U-this.ldeviceOrgX)*this.lworldExtX/q;return Y},X.prototype.inverseTransformY=function(U){var Y=0,q=this.ldeviceExtY;if(q!=0)Y=this.lworldOrgY+(U-this.ldeviceOrgY)*this.lworldExtY/q;return Y},X.prototype.inverseTransformPoint=function(U){var Y=new K(this.inverseTransformX(U.x),this.inverseTransformY(U.y));return Y},Z.exports=X},function(Z,J,Q){function K(H){if(Array.isArray(H)){for(var F=0,M=Array(H.length);F<H.length;F++)M[F]=H[F];return M}else return Array.from(H)}var X=Q(15),U=Q(7),Y=Q(0),q=Q(8),W=Q(9);function G(){X.call(this),this.useSmartIdealEdgeLengthCalculation=U.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=U.DEFAULT_EDGE_LENGTH,this.springConstant=U.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=U.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=U.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=U.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=U.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*U.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=U.MAX_ITERATIONS}G.prototype=Object.create(X.prototype);for(var z in X)G[z]=X[z];G.prototype.initParameters=function(){X.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=U.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},G.prototype.calcIdealEdgeLengths=function(){var H,F,M,B,O,R,D=this.getGraphManager().getAllEdges();for(var L=0;L<D.length;L++)if(H=D[L],H.idealLength=this.idealEdgeLength,H.isInterGraph){if(M=H.getSource(),B=H.getTarget(),O=H.getSourceInLca().getEstimatedSize(),R=H.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation)H.idealLength+=O+R-2*Y.SIMPLE_NODE_SIZE;F=H.getLca().getInclusionTreeDepth(),H.idealLength+=U.DEFAULT_EDGE_LENGTH*U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(M.getInclusionTreeDepth()+B.getInclusionTreeDepth()-2*F)}},G.prototype.initSpringEmbedder=function(){var H=this.getAllNodes().length;if(this.incremental){if(H>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(this.coolingFactor*U.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(H-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-U.COOLING_ADAPTATION_FACTOR));this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(H>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(U.COOLING_ADAPTATION_FACTOR,1-(H-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*(1-U.COOLING_ADAPTATION_FACTOR));else this.coolingFactor=1;this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},G.prototype.calcSpringForces=function(){var H=this.getAllEdges(),F;for(var M=0;M<H.length;M++)F=H[M],this.calcSpringForce(F,F.idealLength)},G.prototype.calcRepulsionForces=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M,B,O,R,D=this.getAllNodes(),L;if(this.useFRGridVariant){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&H)this.updateGrid();L=new Set;for(M=0;M<D.length;M++)O=D[M],this.calculateRepulsionForceOfANode(O,L,H,F),L.add(O)}else for(M=0;M<D.length;M++){O=D[M];for(B=M+1;B<D.length;B++){if(R=D[B],O.getOwner()!=R.getOwner())continue;this.calcRepulsionForce(O,R)}}},G.prototype.calcGravitationalForces=function(){var H,F=this.getAllNodesToApplyGravitation();for(var M=0;M<F.length;M++)H=F[M],this.calcGravitationalForce(H)},G.prototype.moveNodes=function(){var H=this.getAllNodes(),F;for(var M=0;M<H.length;M++)F=H[M],F.move()},G.prototype.calcSpringForce=function(H,F){var M=H.getSource(),B=H.getTarget(),O,R,D,L;if(this.uniformLeafNodeSizes&&M.getChild()==null&&B.getChild()==null)H.updateLengthSimple();else if(H.updateLength(),H.isOverlapingSourceAndTarget)return;if(O=H.getLength(),O==0)return;R=this.springConstant*(O-F),D=R*(H.lengthX/O),L=R*(H.lengthY/O),M.springForceX+=D,M.springForceY+=L,B.springForceX-=D,B.springForceY-=L},G.prototype.calcRepulsionForce=function(H,F){var M=H.getRect(),B=F.getRect(),O=[,,],R=[,,,,],D,L,A,V,N,E,j;if(M.intersects(B)){q.calcSeparationAmount(M,B,O,U.DEFAULT_EDGE_LENGTH/2),E=2*O[0],j=2*O[1];var C=H.noOfChildren*F.noOfChildren/(H.noOfChildren+F.noOfChildren);H.repulsionForceX-=C*E,H.repulsionForceY-=C*j,F.repulsionForceX+=C*E,F.repulsionForceY+=C*j}else{if(this.uniformLeafNodeSizes&&H.getChild()==null&&F.getChild()==null)D=B.getCenterX()-M.getCenterX(),L=B.getCenterY()-M.getCenterY();else q.getIntersection(M,B,R),D=R[2]-R[0],L=R[3]-R[1];if(Math.abs(D)<U.MIN_REPULSION_DIST)D=W.sign(D)*U.MIN_REPULSION_DIST;if(Math.abs(L)<U.MIN_REPULSION_DIST)L=W.sign(L)*U.MIN_REPULSION_DIST;A=D*D+L*L,V=Math.sqrt(A),N=this.repulsionConstant*H.noOfChildren*F.noOfChildren/A,E=N*D/V,j=N*L/V,H.repulsionForceX-=E,H.repulsionForceY-=j,F.repulsionForceX+=E,F.repulsionForceY+=j}},G.prototype.calcGravitationalForce=function(H){var F,M,B,O,R,D,L,A;if(F=H.getOwner(),M=(F.getRight()+F.getLeft())/2,B=(F.getTop()+F.getBottom())/2,O=H.getCenterX()-M,R=H.getCenterY()-B,D=Math.abs(O)+H.getWidth()/2,L=Math.abs(R)+H.getHeight()/2,H.getOwner()==this.graphManager.getRoot()){if(A=F.getEstimatedSize()*this.gravityRangeFactor,D>A||L>A)H.gravitationForceX=-this.gravityConstant*O,H.gravitationForceY=-this.gravityConstant*R}else if(A=F.getEstimatedSize()*this.compoundGravityRangeFactor,D>A||L>A)H.gravitationForceX=-this.gravityConstant*O*this.compoundGravityConstant,H.gravitationForceY=-this.gravityConstant*R*this.compoundGravityConstant},G.prototype.isConverged=function(){var H,F=!1;if(this.totalIterations>this.maxIterations/3)F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2;return H=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,H||F},G.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout)if(this.notAnimatedIterations==this.animationPeriod)this.update(),this.notAnimatedIterations=0;else this.notAnimatedIterations++},G.prototype.calcNoOfChildrenForAllNodes=function(){var H,F=this.graphManager.getAllNodes();for(var M=0;M<F.length;M++)H=F[M],H.noOfChildren=H.getNoOfChildren()},G.prototype.calcGrid=function(H){var F=0,M=0;F=parseInt(Math.ceil((H.getRight()-H.getLeft())/this.repulsionRange)),M=parseInt(Math.ceil((H.getBottom()-H.getTop())/this.repulsionRange));var B=Array(F);for(var O=0;O<F;O++)B[O]=Array(M);for(var O=0;O<F;O++)for(var R=0;R<M;R++)B[O][R]=[];return B},G.prototype.addNodeToGrid=function(H,F,M){var B=0,O=0,R=0,D=0;B=parseInt(Math.floor((H.getRect().x-F)/this.repulsionRange)),O=parseInt(Math.floor((H.getRect().width+H.getRect().x-F)/this.repulsionRange)),R=parseInt(Math.floor((H.getRect().y-M)/this.repulsionRange)),D=parseInt(Math.floor((H.getRect().height+H.getRect().y-M)/this.repulsionRange));for(var L=B;L<=O;L++)for(var A=R;A<=D;A++)this.grid[L][A].push(H),H.setGridCoordinates(B,O,R,D)},G.prototype.updateGrid=function(){var H,F,M=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(H=0;H<M.length;H++)F=M[H],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},G.prototype.calculateRepulsionForceOfANode=function(H,F,M,B){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&M||B){var O=new Set;H.surrounding=[];var R,D=this.grid;for(var L=H.startX-1;L<H.finishX+2;L++)for(var A=H.startY-1;A<H.finishY+2;A++)if(!(L<0||A<0||L>=D.length||A>=D[0].length))for(var V=0;V<D[L][A].length;V++){if(R=D[L][A][V],H.getOwner()!=R.getOwner()||H==R)continue;if(!F.has(R)&&!O.has(R)){var N=Math.abs(H.getCenterX()-R.getCenterX())-(H.getWidth()/2+R.getWidth()/2),E=Math.abs(H.getCenterY()-R.getCenterY())-(H.getHeight()/2+R.getHeight()/2);if(N<=this.repulsionRange&&E<=this.repulsionRange)O.add(R)}}H.surrounding=[].concat(K(O))}for(L=0;L<H.surrounding.length;L++)this.calcRepulsionForce(H,H.surrounding[L])},G.prototype.calcRepulsionRange=function(){return 0},Z.exports=G},function(Z,J,Q){var K=Q(1),X=Q(7);function U(q,W,G){K.call(this,q,W,G),this.idealLength=X.DEFAULT_EDGE_LENGTH}U.prototype=Object.create(K.prototype);for(var Y in K)U[Y]=K[Y];Z.exports=U},function(Z,J,Q){var K=Q(3);function X(Y,q,W,G){K.call(this,Y,q,W,G),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}X.prototype=Object.create(K.prototype);for(var U in K)X[U]=K[U];X.prototype.setGridCoordinates=function(Y,q,W,G){this.startX=Y,this.finishX=q,this.startY=W,this.finishY=G},Z.exports=X},function(Z,J,Q){function K(X,U){if(this.width=0,this.height=0,X!==null&&U!==null)this.height=U,this.width=X}K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},Z.exports=K},function(Z,J,Q){var K=Q(14);function X(){this.map={},this.keys=[]}X.prototype.put=function(U,Y){var q=K.createID(U);if(!this.contains(q))this.map[q]=Y,this.keys.push(U)},X.prototype.contains=function(U){var Y=K.createID(U);return this.map[U]!=null},X.prototype.get=function(U){var Y=K.createID(U);return this.map[Y]},X.prototype.keySet=function(){return this.keys},Z.exports=X},function(Z,J,Q){var K=Q(14);function X(){this.set={}}X.prototype.add=function(U){var Y=K.createID(U);if(!this.contains(Y))this.set[Y]=U},X.prototype.remove=function(U){delete this.set[K.createID(U)]},X.prototype.clear=function(){this.set={}},X.prototype.contains=function(U){return this.set[K.createID(U)]==U},X.prototype.isEmpty=function(){return this.size()===0},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAllTo=function(U){var Y=Object.keys(this.set),q=Y.length;for(var W=0;W<q;W++)U.push(this.set[Y[W]])},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAll=function(U){var Y=U.length;for(var q=0;q<Y;q++){var W=U[q];this.add(W)}},Z.exports=X},function(Z,J,Q){var K=function(){function q(W,G){for(var z=0;z<G.length;z++){var H=G[z];if(H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H)H.writable=!0;Object.defineProperty(W,H.key,H)}}return function(W,G,z){if(G)q(W.prototype,G);if(z)q(W,z);return W}}();function X(q,W){if(!(q instanceof W))throw TypeError("Cannot call a class as a function")}var U=Q(11),Y=function(){function q(W,G){if(X(this,q),G!==null||G!==void 0)this.compareFunction=this._defaultCompareFunction;var z=void 0;if(W instanceof U)z=W.size();else z=W.length;this._quicksort(W,0,z-1)}return K(q,[{key:"_quicksort",value:function(G,z,H){if(z<H){var F=this._partition(G,z,H);this._quicksort(G,z,F),this._quicksort(G,F+1,H)}}},{key:"_partition",value:function(G,z,H){var F=this._get(G,z),M=z,B=H;while(!0){while(this.compareFunction(F,this._get(G,B)))B--;while(this.compareFunction(this._get(G,M),F))M++;if(M<B)this._swap(G,M,B),M++,B--;else return B}}},{key:"_get",value:function(G,z){if(G instanceof U)return G.get_object_at(z);else return G[z]}},{key:"_set",value:function(G,z,H){if(G instanceof U)G.set_object_at(z,H);else G[z]=H}},{key:"_swap",value:function(G,z,H){var F=this._get(G,z);this._set(G,z,this._get(G,H)),this._set(G,H,F)}},{key:"_defaultCompareFunction",value:function(G,z){return z>G}}]),q}();Z.exports=Y},function(Z,J,Q){var K=function(){function Y(q,W){for(var G=0;G<W.length;G++){var z=W[G];if(z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z)z.writable=!0;Object.defineProperty(q,z.key,z)}}return function(q,W,G){if(W)Y(q.prototype,W);if(G)Y(q,G);return q}}();function X(Y,q){if(!(Y instanceof q))throw TypeError("Cannot call a class as a function")}var U=function(){function Y(q,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;X(this,Y),this.sequence1=q,this.sequence2=W,this.match_score=G,this.mismatch_penalty=z,this.gap_penalty=H,this.iMax=q.length+1,this.jMax=W.length+1,this.grid=Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=Array(this.jMax);for(var M=0;M<this.jMax;M++)this.grid[F][M]=0}this.tracebackGrid=Array(this.iMax);for(var B=0;B<this.iMax;B++){this.tracebackGrid[B]=Array(this.jMax);for(var O=0;O<this.jMax;O++)this.tracebackGrid[B][O]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return K(Y,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var W=1;W<this.jMax;W++)this.grid[0][W]=this.grid[0][W-1]+this.gap_penalty,this.tracebackGrid[0][W]=[!1,!1,!0];for(var G=1;G<this.iMax;G++)this.grid[G][0]=this.grid[G-1][0]+this.gap_penalty,this.tracebackGrid[G][0]=[!1,!0,!1];for(var z=1;z<this.iMax;z++)for(var H=1;H<this.jMax;H++){var F=void 0;if(this.sequence1[z-1]===this.sequence2[H-1])F=this.grid[z-1][H-1]+this.match_score;else F=this.grid[z-1][H-1]+this.mismatch_penalty;var M=this.grid[z-1][H]+this.gap_penalty,B=this.grid[z][H-1]+this.gap_penalty,O=[F,M,B],R=this.arrayAllMaxIndexes(O);this.grid[z][H]=O[R[0]],this.tracebackGrid[z][H]=[R.includes(0),R.includes(1),R.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var W=[];W.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(W[0]){var G=W[0],z=this.tracebackGrid[G.pos[0]][G.pos[1]];if(z[0])W.push({pos:[G.pos[0]-1,G.pos[1]-1],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(z[1])W.push({pos:[G.pos[0]-1,G.pos[1]],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:"-"+G.seq2});if(z[2])W.push({pos:[G.pos[0],G.pos[1]-1],seq1:"-"+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(G.pos[0]===0&&G.pos[1]===0)this.alignments.push({sequence1:G.seq1,sequence2:G.seq2});W.shift()}return this.alignments}},{key:"getAllIndexes",value:function(W,G){var z=[],H=-1;while((H=W.indexOf(G,H+1))!==-1)z.push(H);return z}},{key:"arrayAllMaxIndexes",value:function(W){return this.getAllIndexes(W,Math.max.apply(null,W))}}]),Y}();Z.exports=U},function(Z,J,Q){var K=function(){return};K.FDLayout=Q(18),K.FDLayoutConstants=Q(7),K.FDLayoutEdge=Q(19),K.FDLayoutNode=Q(20),K.DimensionD=Q(21),K.HashMap=Q(22),K.HashSet=Q(23),K.IGeometry=Q(8),K.IMath=Q(9),K.Integer=Q(10),K.Point=Q(12),K.PointD=Q(4),K.RandomSeed=Q(16),K.RectangleD=Q(13),K.Transform=Q(17),K.UniqueIDGeneretor=Q(14),K.Quicksort=Q(24),K.LinkedList=Q(11),K.LGraphObject=Q(2),K.LGraph=Q(5),K.LEdge=Q(1),K.LGraphManager=Q(6),K.LNode=Q(3),K.Layout=Q(15),K.LayoutConstants=Q(0),K.NeedlemanWunsch=Q(25),Z.exports=K},function(Z,J,Q){function K(){this.listeners=[]}var X=K.prototype;X.addListener=function(U,Y){this.listeners.push({event:U,callback:Y})},X.removeListener=function(U,Y){for(var q=this.listeners.length;q>=0;q--){var W=this.listeners[q];if(W.event===U&&W.callback===Y)this.listeners.splice(q,1)}},X.emit=function(U,Y){for(var q=0;q<this.listeners.length;q++){var W=this.listeners[q];if(U===W.event)W.callback(Y)}},Z.exports=K}])})});var ai=HJ((yL,ni)=>{(function(J,Q){if(typeof yL==="object"&&typeof ni==="object")ni.exports=Q(ri());else if(typeof define==="function"&&define.amd)define(["layout-base"],Q);else if(typeof yL==="object")yL.coseBase=Q(ri());else J.coseBase=Q(J.layoutBase)})(yL,function(Z){return function(J){var Q={};function K(X){if(Q[X])return Q[X].exports;var U=Q[X]={i:X,l:!1,exports:{}};return J[X].call(U.exports,U,U.exports,K),U.l=!0,U.exports}return K.m=J,K.c=Q,K.i=function(X){return X},K.d=function(X,U,Y){if(!K.o(X,U))Object.defineProperty(X,U,{configurable:!1,enumerable:!0,get:Y})},K.n=function(X){var U=X&&X.__esModule?function(){return X.default}:function(){return X};return K.d(U,"a",U),U},K.o=function(X,U){return Object.prototype.hasOwnProperty.call(X,U)},K.p="",K(K.s=7)}([function(J,Q){J.exports=Z},function(J,Q,K){var X=K(0).FDLayoutConstants;function U(){}for(var Y in X)U[Y]=X[Y];U.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,U.DEFAULT_RADIAL_SEPARATION=X.DEFAULT_EDGE_LENGTH,U.DEFAULT_COMPONENT_SEPERATION=60,U.TILE=!0,U.TILING_PADDING_VERTICAL=10,U.TILING_PADDING_HORIZONTAL=10,U.TREE_REDUCTION_ON_INCREMENTAL=!1,J.exports=U},function(J,Q,K){var X=K(0).FDLayoutEdge;function U(q,W,G){X.call(this,q,W,G)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).LGraph;function U(q,W,G){X.call(this,q,W,G)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).LGraphManager;function U(q){X.call(this,q)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).FDLayoutNode,U=K(0).IMath;function Y(W,G,z,H){X.call(this,W,G,z,H)}Y.prototype=Object.create(X.prototype);for(var q in X)Y[q]=X[q];Y.prototype.move=function(){var W=this.graphManager.getLayout();if(this.displacementX=W.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=W.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>W.coolingFactor*W.maxNodeDisplacement)this.displacementX=W.coolingFactor*W.maxNodeDisplacement*U.sign(this.displacementX);if(Math.abs(this.displacementY)>W.coolingFactor*W.maxNodeDisplacement)this.displacementY=W.coolingFactor*W.maxNodeDisplacement*U.sign(this.displacementY);if(this.child==null)this.moveBy(this.displacementX,this.displacementY);else if(this.child.getNodes().length==0)this.moveBy(this.displacementX,this.displacementY);else this.propogateDisplacementToChildren(this.displacementX,this.displacementY);W.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},Y.prototype.propogateDisplacementToChildren=function(W,G){var z=this.getChild().getNodes(),H;for(var F=0;F<z.length;F++)if(H=z[F],H.getChild()==null)H.moveBy(W,G),H.displacementX+=W,H.displacementY+=G;else H.propogateDisplacementToChildren(W,G)},Y.prototype.setPred1=function(W){this.pred1=W},Y.prototype.getPred1=function(){return pred1},Y.prototype.getPred2=function(){return pred2},Y.prototype.setNext=function(W){this.next=W},Y.prototype.getNext=function(){return next},Y.prototype.setProcessed=function(W){this.processed=W},Y.prototype.isProcessed=function(){return processed},J.exports=Y},function(J,Q,K){var X=K(0).FDLayout,U=K(4),Y=K(3),q=K(5),W=K(2),G=K(1),z=K(0).FDLayoutConstants,H=K(0).LayoutConstants,F=K(0).Point,M=K(0).PointD,B=K(0).Layout,O=K(0).Integer,R=K(0).IGeometry,D=K(0).LGraph,L=K(0).Transform;function A(){X.call(this),this.toBeTiled={}}A.prototype=Object.create(X.prototype);for(var V in X)A[V]=X[V];A.prototype.newGraphManager=function(){var N=new U(this);return this.graphManager=N,N},A.prototype.newGraph=function(N){return new Y(null,this.graphManager,N)},A.prototype.newNode=function(N){return new q(this.graphManager,N)},A.prototype.newEdge=function(N){return new W(null,null,N)},A.prototype.initParameters=function(){if(X.prototype.initParameters.call(this,arguments),!this.isSubLayout){if(G.DEFAULT_EDGE_LENGTH<10)this.idealEdgeLength=10;else this.idealEdgeLength=G.DEFAULT_EDGE_LENGTH;this.useSmartIdealEdgeLengthCalculation=G.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=z.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=z.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=z.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=z.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=z.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=z.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/z.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=z.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1}},A.prototype.layout=function(){var N=H.DEFAULT_CREATE_BENDS_AS_NEEDED;if(N)this.createBendpoints(),this.graphManager.resetAllEdges();return this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(C){return E.has(C)});this.graphManager.setAllNodesToApplyGravitation(j),this.positionNodesRandomly()}}else if(G.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(k){return E.has(k)});this.graphManager.setAllNodesToApplyGravitation(j)}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%z.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.coolingCycle++,this.layoutQuality==0)this.coolingAdjuster=this.coolingCycle;else if(this.layoutQuality==1)this.coolingAdjuster=this.coolingCycle/3;this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function($){return N.has($)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=z.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;if(this.afterGrowthIterations%10==0)this.graphManager.updateBounds(),this.updateGrid();this.coolingFactor=z.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var j=!this.isTreeGrowing&&!this.isGrowthFinished,C=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(j,C),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){var N=this.graphManager.getAllNodes(),E={};for(var j=0;j<N.length;j++){var C=N[j].rect,$=N[j].id;E[$]={id:$,x:C.getCenterX(),y:C.getCenterY(),w:C.width,h:C.height}}return E},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var N=!1;if(z.ANIMATE==="during")this.emit("layoutstarted");else{while(!N)N=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var N=[],E,j=this.graphManager.getGraphs(),C=j.length,$;for($=0;$<C;$++)if(E=j[$],E.updateConnected(),!E.isConnected)N=N.concat(E.getNodes());return N},A.prototype.createBendpoints=function(){var N=[];N=N.concat(this.graphManager.getAllEdges());var E=new Set,j;for(j=0;j<N.length;j++){var C=N[j];if(!E.has(C)){var $=C.getSource(),k=C.getTarget();if($==k)C.getBendpoints().push(new M),C.getBendpoints().push(new M),this.createDummyNodesForBendpoints(C),E.add(C);else{var w=[];if(w=w.concat($.getEdgeListToNode(k)),w=w.concat(k.getEdgeListToNode($)),!E.has(w[0])){if(w.length>1){var P;for(P=0;P<w.length;P++){var T=w[P];T.getBendpoints().push(new M),this.createDummyNodesForBendpoints(T)}}w.forEach(function(S){E.add(S)})}}}if(E.size==N.length)break}},A.prototype.positionNodesRadially=function(N){var E=new F(0,0),j=Math.ceil(Math.sqrt(N.length)),C=0,$=0,k=0,w=new M(0,0);for(var P=0;P<N.length;P++){if(P%j==0){if(k=0,$=C,P!=0)$+=G.DEFAULT_COMPONENT_SEPERATION;C=0}var T=N[P],S=B.findCenterOfTree(T);if(E.x=k,E.y=$,w=A.radialLayout(T,S,E),w.y>C)C=Math.floor(w.y);k=Math.floor(w.x+G.DEFAULT_COMPONENT_SEPERATION)}this.transform(new M(H.WORLD_CENTER_X-w.x/2,H.WORLD_CENTER_Y-w.y/2))},A.radialLayout=function(N,E,j){var C=Math.max(this.maxDiagonalInTree(N),G.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(E,null,0,359,0,C);var $=D.calculateBounds(N),k=new L;k.setDeviceOrgX($.getMinX()),k.setDeviceOrgY($.getMinY()),k.setWorldOrgX(j.x),k.setWorldOrgY(j.y);for(var w=0;w<N.length;w++){var P=N[w];P.transform(k)}var T=new M($.getMaxX(),$.getMaxY());return k.inverseTransformPoint(T)},A.branchRadialLayout=function(N,E,j,C,$,k){var w=(C-j+1)/2;if(w<0)w+=180;var P=(w+j)%360,T=P*R.TWO_PI/360,S=Math.cos(T),f=$*Math.cos(T),v=$*Math.sin(T);N.setCenter(f,v);var x=[];x=x.concat(N.getEdges());var b=x.length;if(E!=null)b--;var y=0,u=x.length,h,p=N.getEdgesBetween(E);while(p.length>1){var r=p[0];p.splice(0,1);var e=x.indexOf(r);if(e>=0)x.splice(e,1);u--,b--}if(E!=null)h=(x.indexOf(p[0])+1)%u;else h=0;var i=Math.abs(C-j)/b;for(var U0=h;y!=b;U0=++U0%u){var a=x[U0].getOtherEnd(N);if(a==E)continue;var z0=(j+y*i)%360,J0=(z0+i)%360;A.branchRadialLayout(a,N,z0,J0,$+k,k),y++}},A.maxDiagonalInTree=function(N){var E=O.MIN_VALUE;for(var j=0;j<N.length;j++){var C=N[j],$=C.getDiagonal();if($>E)E=$}return E},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var N=this,E={};this.memberGroups={},this.idToDummyNode={};var j=[],C=this.graphManager.getAllNodes();for(var $=0;$<C.length;$++){var k=C[$],w=k.getParent();if(this.getNodeDegreeWithChildren(k)===0&&(w.id==null||!this.getToBeTiled(w)))j.push(k)}for(var $=0;$<j.length;$++){var k=j[$],P=k.getParent().id;if(typeof E[P]>"u")E[P]=[];E[P]=E[P].concat(k)}Object.keys(E).forEach(function(T){if(E[T].length>1){var S="DummyCompound_"+T;N.memberGroups[S]=E[T];var f=E[T][0].getParent(),v=new q(N.graphManager);v.id=S,v.paddingLeft=f.paddingLeft||0,v.paddingRight=f.paddingRight||0,v.paddingBottom=f.paddingBottom||0,v.paddingTop=f.paddingTop||0,N.idToDummyNode[S]=v;var x=N.getGraphManager().add(N.newGraph(),v),b=f.getChild();b.add(v);for(var y=0;y<E[T].length;y++){var u=E[T][y];b.remove(u),x.add(u)}}})},A.prototype.clearCompounds=function(){var N={},E={};this.performDFSOnCompounds();for(var j=0;j<this.compoundOrder.length;j++)E[this.compoundOrder[j].id]=this.compoundOrder[j],N[this.compoundOrder[j].id]=[].concat(this.compoundOrder[j].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[j].getChild()),this.compoundOrder[j].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(N,E)},A.prototype.clearZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(j){var C=N.idToDummyNode[j];E[j]=N.tileNodes(N.memberGroups[j],C.paddingLeft+C.paddingRight),C.rect.width=E[j].width,C.rect.height=E[j].height})},A.prototype.repopulateCompounds=function(){for(var N=this.compoundOrder.length-1;N>=0;N--){var E=this.compoundOrder[N],j=E.id,C=E.paddingLeft,$=E.paddingTop;this.adjustLocations(this.tiledMemberPack[j],E.rect.x,E.rect.y,C,$)}},A.prototype.repopulateZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(j){var C=N.idToDummyNode[j],$=C.paddingLeft,k=C.paddingTop;N.adjustLocations(E[j],C.rect.x,C.rect.y,$,k)})},A.prototype.getToBeTiled=function(N){var E=N.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var j=N.getChild();if(j==null)return this.toBeTiled[E]=!1,!1;var C=j.getNodes();for(var $=0;$<C.length;$++){var k=C[$];if(this.getNodeDegree(k)>0)return this.toBeTiled[E]=!1,!1;if(k.getChild()==null){this.toBeTiled[k.id]=!1;continue}if(!this.getToBeTiled(k))return this.toBeTiled[E]=!1,!1}return this.toBeTiled[E]=!0,!0},A.prototype.getNodeDegree=function(N){var E=N.id,j=N.getEdges(),C=0;for(var $=0;$<j.length;$++){var k=j[$];if(k.getSource().id!==k.getTarget().id)C=C+1}return C},A.prototype.getNodeDegreeWithChildren=function(N){var E=this.getNodeDegree(N);if(N.getChild()==null)return E;var j=N.getChild().getNodes();for(var C=0;C<j.length;C++){var $=j[C];E+=this.getNodeDegreeWithChildren($)}return E},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(N){for(var E=0;E<N.length;E++){var j=N[E];if(j.getChild()!=null)this.fillCompexOrderByDFS(j.getChild().getNodes());if(this.getToBeTiled(j))this.compoundOrder.push(j)}},A.prototype.adjustLocations=function(N,E,j,C,$){E+=C,j+=$;var k=E;for(var w=0;w<N.rows.length;w++){var P=N.rows[w];E=k;var T=0;for(var S=0;S<P.length;S++){var f=P[S];if(f.rect.x=E,f.rect.y=j,E+=f.rect.width+N.horizontalPadding,f.rect.height>T)T=f.rect.height}j+=T+N.verticalPadding}},A.prototype.tileCompoundMembers=function(N,E){var j=this;this.tiledMemberPack=[],Object.keys(N).forEach(function(C){var $=E[C];j.tiledMemberPack[C]=j.tileNodes(N[C],$.paddingLeft+$.paddingRight),$.rect.width=j.tiledMemberPack[C].width,$.rect.height=j.tiledMemberPack[C].height})},A.prototype.tileNodes=function(N,E){var{TILING_PADDING_VERTICAL:j,TILING_PADDING_HORIZONTAL:C}=G,$={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:j,horizontalPadding:C};N.sort(function(P,T){if(P.rect.width*P.rect.height>T.rect.width*T.rect.height)return-1;if(P.rect.width*P.rect.height<T.rect.width*T.rect.height)return 1;return 0});for(var k=0;k<N.length;k++){var w=N[k];if($.rows.length==0)this.insertNodeToRow($,w,0,E);else if(this.canAddHorizontal($,w.rect.width,w.rect.height))this.insertNodeToRow($,w,this.getShortestRowIndex($),E);else this.insertNodeToRow($,w,$.rows.length,E);this.shiftToLastRow($)}return $},A.prototype.insertNodeToRow=function(N,E,j,C){var $=C;if(j==N.rows.length){var k=[];N.rows.push(k),N.rowWidth.push($),N.rowHeight.push(0)}var w=N.rowWidth[j]+E.rect.width;if(N.rows[j].length>0)w+=N.horizontalPadding;if(N.rowWidth[j]=w,N.width<w)N.width=w;var P=E.rect.height;if(j>0)P+=N.verticalPadding;var T=0;if(P>N.rowHeight[j])T=N.rowHeight[j],N.rowHeight[j]=P,T=N.rowHeight[j]-T;N.height+=T,N.rows[j].push(E)},A.prototype.getShortestRowIndex=function(N){var E=-1,j=Number.MAX_VALUE;for(var C=0;C<N.rows.length;C++)if(N.rowWidth[C]<j)E=C,j=N.rowWidth[C];return E},A.prototype.getLongestRowIndex=function(N){var E=-1,j=Number.MIN_VALUE;for(var C=0;C<N.rows.length;C++)if(N.rowWidth[C]>j)E=C,j=N.rowWidth[C];return E},A.prototype.canAddHorizontal=function(N,E,j){var C=this.getShortestRowIndex(N);if(C<0)return!0;var $=N.rowWidth[C];if($+N.horizontalPadding+E<=N.width)return!0;var k=0;if(N.rowHeight[C]<j){if(C>0)k=j+N.verticalPadding-N.rowHeight[C]}var w;if(N.width-$>=E+N.horizontalPadding)w=(N.height+k)/($+E+N.horizontalPadding);else w=(N.height+k)/N.width;k=j+N.verticalPadding;var P;if(N.width<E)P=(N.height+k)/E;else P=(N.height+k)/N.width;if(P<1)P=1/P;if(w<1)w=1/w;return w<P},A.prototype.shiftToLastRow=function(N){var E=this.getLongestRowIndex(N),j=N.rowWidth.length-1,C=N.rows[E],$=C[C.length-1],k=$.width+N.horizontalPadding;if(N.width-N.rowWidth[j]>k&&E!=j){C.splice(-1,1),N.rows[j].push($),N.rowWidth[E]=N.rowWidth[E]-k,N.rowWidth[j]=N.rowWidth[j]+k,N.width=N.rowWidth[instance.getLongestRowIndex(N)];var w=Number.MIN_VALUE;for(var P=0;P<C.length;P++)if(C[P].height>w)w=C[P].height;if(E>0)w+=N.verticalPadding;var T=N.rowHeight[E]+N.rowHeight[j];if(N.rowHeight[E]=w,N.rowHeight[j]<$.height+N.verticalPadding)N.rowHeight[j]=$.height+N.verticalPadding;var S=N.rowHeight[E]+N.rowHeight[j];N.height+=S-T,this.shiftToLastRow(N)}},A.prototype.tilingPreLayout=function(){if(G.TILE)this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers()},A.prototype.tilingPostLayout=function(){if(G.TILE)this.repopulateZeroDegreeMembers(),this.repopulateCompounds()},A.prototype.reduceTrees=function(){var N=[],E=!0,j;while(E){var C=this.graphManager.getAllNodes(),$=[];E=!1;for(var k=0;k<C.length;k++)if(j=C[k],j.getEdges().length==1&&!j.getEdges()[0].isInterGraph&&j.getChild()==null)$.push([j,j.getEdges()[0],j.getOwner()]),E=!0;if(E==!0){var w=[];for(var P=0;P<$.length;P++)if($[P][0].getEdges().length==1)w.push($[P]),$[P][0].getOwner().remove($[P][0]);N.push(w),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=N},A.prototype.growTree=function(N){var E=N.length,j=N[E-1],C;for(var $=0;$<j.length;$++)C=j[$],this.findPlaceforPrunedNode(C),C[2].add(C[0]),C[2].add(C[1],C[1].source,C[1].target);N.splice(N.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(N){var E,j,C=N[0];if(C==N[1].source)j=N[1].target;else j=N[1].source;var{startX:$,finishX:k,startY:w,finishY:P}=j,T=0,S=0,f=0,v=0,x=[T,f,S,v];if(w>0)for(var b=$;b<=k;b++)x[0]+=this.grid[b][w-1].length+this.grid[b][w].length-1;if(k<this.grid.length-1)for(var b=w;b<=P;b++)x[1]+=this.grid[k+1][b].length+this.grid[k][b].length-1;if(P<this.grid[0].length-1)for(var b=$;b<=k;b++)x[2]+=this.grid[b][P+1].length+this.grid[b][P].length-1;if($>0)for(var b=w;b<=P;b++)x[3]+=this.grid[$-1][b].length+this.grid[$][b].length-1;var y=O.MAX_VALUE,u,h;for(var p=0;p<x.length;p++)if(x[p]<y)y=x[p],u=1,h=p;else if(x[p]==y)u++;if(u==3&&y==0){if(x[0]==0&&x[1]==0&&x[2]==0)E=1;else if(x[0]==0&&x[1]==0&&x[3]==0)E=0;else if(x[0]==0&&x[2]==0&&x[3]==0)E=3;else if(x[1]==0&&x[2]==0&&x[3]==0)E=2}else if(u==2&&y==0){var r=Math.floor(Math.random()*2);if(x[0]==0&&x[1]==0)if(r==0)E=0;else E=1;else if(x[0]==0&&x[2]==0)if(r==0)E=0;else E=2;else if(x[0]==0&&x[3]==0)if(r==0)E=0;else E=3;else if(x[1]==0&&x[2]==0)if(r==0)E=1;else E=2;else if(x[1]==0&&x[3]==0)if(r==0)E=1;else E=3;else if(r==0)E=2;else E=3}else if(u==4&&y==0){var r=Math.floor(Math.random()*4);E=r}else E=h;if(E==0)C.setCenter(j.getCenterX(),j.getCenterY()-j.getHeight()/2-z.DEFAULT_EDGE_LENGTH-C.getHeight()/2);else if(E==1)C.setCenter(j.getCenterX()+j.getWidth()/2+z.DEFAULT_EDGE_LENGTH+C.getWidth()/2,j.getCenterY());else if(E==2)C.setCenter(j.getCenterX(),j.getCenterY()+j.getHeight()/2+z.DEFAULT_EDGE_LENGTH+C.getHeight()/2);else C.setCenter(j.getCenterX()-j.getWidth()/2-z.DEFAULT_EDGE_LENGTH-C.getWidth()/2,j.getCenterY())},J.exports=A},function(J,Q,K){var X={};X.layoutBase=K(0),X.CoSEConstants=K(1),X.CoSEEdge=K(2),X.CoSEGraph=K(3),X.CoSEGraphManager=K(4),X.CoSELayout=K(6),X.CoSENode=K(5),J.exports=X}])})});var wN0=HJ((hL,oi)=>{(function(J,Q){if(typeof hL==="object"&&typeof oi==="object")oi.exports=Q(ai());else if(typeof define==="function"&&define.amd)define(["cose-base"],Q);else if(typeof hL==="object")hL.cytoscapeCoseBilkent=Q(ai());else J.cytoscapeCoseBilkent=Q(J.coseBase)})(hL,function(Z){return function(J){var Q={};function K(X){if(Q[X])return Q[X].exports;var U=Q[X]={i:X,l:!1,exports:{}};return J[X].call(U.exports,U,U.exports,K),U.l=!0,U.exports}return K.m=J,K.c=Q,K.i=function(X){return X},K.d=function(X,U,Y){if(!K.o(X,U))Object.defineProperty(X,U,{configurable:!1,enumerable:!0,get:Y})},K.n=function(X){var U=X&&X.__esModule?function(){return X.default}:function(){return X};return K.d(U,"a",U),U},K.o=function(X,U){return Object.prototype.hasOwnProperty.call(X,U)},K.p="",K(K.s=1)}([function(J,Q){J.exports=Z},function(J,Q,K){var X=K(0).layoutBase.LayoutConstants,U=K(0).layoutBase.FDLayoutConstants,Y=K(0).CoSEConstants,q=K(0).CoSELayout,W=K(0).CoSENode,G=K(0).layoutBase.PointD,z=K(0).layoutBase.DimensionD,H={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:0.45,nestingFactor:0.1,gravity:0.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.5};function F(R,D){var L={};for(var A in R)L[A]=R[A];for(var A in D)L[A]=D[A];return L}function M(R){this.options=F(H,R),B(this.options)}var B=function(D){if(D.nodeRepulsion!=null)Y.DEFAULT_REPULSION_STRENGTH=U.DEFAULT_REPULSION_STRENGTH=D.nodeRepulsion;if(D.idealEdgeLength!=null)Y.DEFAULT_EDGE_LENGTH=U.DEFAULT_EDGE_LENGTH=D.idealEdgeLength;if(D.edgeElasticity!=null)Y.DEFAULT_SPRING_STRENGTH=U.DEFAULT_SPRING_STRENGTH=D.edgeElasticity;if(D.nestingFactor!=null)Y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=D.nestingFactor;if(D.gravity!=null)Y.DEFAULT_GRAVITY_STRENGTH=U.DEFAULT_GRAVITY_STRENGTH=D.gravity;if(D.numIter!=null)Y.MAX_ITERATIONS=U.MAX_ITERATIONS=D.numIter;if(D.gravityRange!=null)Y.DEFAULT_GRAVITY_RANGE_FACTOR=U.DEFAULT_GRAVITY_RANGE_FACTOR=D.gravityRange;if(D.gravityCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=U.DEFAULT_COMPOUND_GRAVITY_STRENGTH=D.gravityCompound;if(D.gravityRangeCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=D.gravityRangeCompound;if(D.initialEnergyOnIncremental!=null)Y.DEFAULT_COOLING_FACTOR_INCREMENTAL=U.DEFAULT_COOLING_FACTOR_INCREMENTAL=D.initialEnergyOnIncremental;if(D.quality=="draft")X.QUALITY=0;else if(D.quality=="proof")X.QUALITY=2;else X.QUALITY=1;Y.NODE_DIMENSIONS_INCLUDE_LABELS=U.NODE_DIMENSIONS_INCLUDE_LABELS=X.NODE_DIMENSIONS_INCLUDE_LABELS=D.nodeDimensionsIncludeLabels,Y.DEFAULT_INCREMENTAL=U.DEFAULT_INCREMENTAL=X.DEFAULT_INCREMENTAL=!D.randomize,Y.ANIMATE=U.ANIMATE=X.ANIMATE=D.animate,Y.TILE=D.tile,Y.TILING_PADDING_VERTICAL=typeof D.tilingPaddingVertical==="function"?D.tilingPaddingVertical.call():D.tilingPaddingVertical,Y.TILING_PADDING_HORIZONTAL=typeof D.tilingPaddingHorizontal==="function"?D.tilingPaddingHorizontal.call():D.tilingPaddingHorizontal};M.prototype.run=function(){var R,D,L=this.options,A=this.idToLNode={},V=this.layout=new q,N=this;N.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var E=V.newGraphManager();this.gm=E;var j=this.options.eles.nodes(),C=this.options.eles.edges();this.root=E.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(j),V);for(var $=0;$<C.length;$++){var k=C[$],w=this.idToLNode[k.data("source")],P=this.idToLNode[k.data("target")];if(w!==P&&w.getEdgesBetween(P).length==0){var T=E.add(V.newEdge(),w,P);T.id=k.id()}}var S=function(x,b){if(typeof x==="number")x=b;var y=x.data("id"),u=N.idToLNode[y];return{x:u.getRect().getCenterX(),y:u.getRect().getCenterY()}},f=function v(){var x=function(){if(L.fit)L.cy.fit(L.eles,L.padding);if(!R)R=!0,N.cy.one("layoutready",L.ready),N.cy.trigger({type:"layoutready",layout:N})},b=N.options.refresh,y;for(var u=0;u<b&&!y;u++)y=N.stopped||N.layout.tick();if(y){if(V.checkLayoutSuccess()&&!V.isSubLayout)V.doPostLayout();if(V.tilingPostLayout)V.tilingPostLayout();if(V.isLayoutFinished=!0,N.options.eles.nodes().positions(S),x(),N.cy.one("layoutstop",N.options.stop),N.cy.trigger({type:"layoutstop",layout:N}),D)cancelAnimationFrame(D);R=!1;return}var h=N.layout.getPositionsData();L.eles.nodes().positions(function(p,r){if(typeof p==="number")p=r;if(!p.isParent()){var e=p.id(),i=h[e],U0=p;while(i==null)if(i=h[U0.data("parent")]||h["DummyCompound_"+U0.data("parent")],h[e]=i,U0=U0.parent()[0],U0==null)break;if(i!=null)return{x:i.x,y:i.y};else return{x:p.position("x"),y:p.position("y")}}}),x(),D=requestAnimationFrame(v)};if(V.addListener("layoutstarted",function(){if(N.options.animate==="during")D=requestAnimationFrame(f)}),V.runLayout(),this.options.animate!=="during")N.options.eles.nodes().not(":parent").layoutPositions(N,N.options,S),R=!1;return this},M.prototype.getTopMostNodes=function(R){var D={};for(var L=0;L<R.length;L++)D[R[L].id()]=!0;var A=R.filter(function(V,N){if(typeof V==="number")V=N;var E=V.parent()[0];while(E!=null){if(D[E.id()])return!1;E=E.parent()[0]}return!0});return A},M.prototype.processChildrenList=function(R,D,L){var A=D.length;for(var V=0;V<A;V++){var N=D[V],E=N.children(),j,C=N.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(N.outerWidth()!=null&&N.outerHeight()!=null)j=R.add(new W(L.graphManager,new G(N.position("x")-C.w/2,N.position("y")-C.h/2),new z(parseFloat(C.w),parseFloat(C.h))));else j=R.add(new W(this.graphManager));if(j.id=N.data("id"),j.paddingLeft=parseInt(N.css("padding")),j.paddingTop=parseInt(N.css("padding")),j.paddingRight=parseInt(N.css("padding")),j.paddingBottom=parseInt(N.css("padding")),this.options.nodeDimensionsIncludeLabels){if(N.isParent()){var $=N.boundingBox({includeLabels:!0,includeNodes:!1}).w,k=N.boundingBox({includeLabels:!0,includeNodes:!1}).h,w=N.css("text-halign");j.labelWidth=$,j.labelHeight=k,j.labelPos=w}}if(this.idToLNode[N.data("id")]=j,isNaN(j.rect.x))j.rect.x=0;if(isNaN(j.rect.y))j.rect.y=0;if(E!=null&&E.length>0){var P=L.getGraphManager().add(L.newGraph(),j);this.processChildrenList(P,E,L)}}},M.prototype.stop=function(){return this.stopped=!0,this};var O=function(D){D("layout","cose-bilkent",M)};if(typeof cytoscape<"u")O(cytoscape);J.exports=O}])})});var hN0={};z9(hN0,{render:()=>gR8});function kN0(Z,J){Z.forEach((Q)=>{let K={id:Q.id,labelText:Q.label,height:Q.height,width:Q.width,padding:Q.padding??0};Object.keys(Q).forEach((X)=>{if(!["id","label","height","width","padding","x","y"].includes(X))K[X]=Q[X]}),J.add({group:"nodes",data:K,position:{x:Q.x??0,y:Q.y??0}})})}function _N0(Z,J){Z.forEach((Q)=>{let K={id:Q.id,source:Q.start,target:Q.end};Object.keys(Q).forEach((X)=>{if(!["id","start","end"].includes(X))K[X]=Q[X]}),J.add({group:"edges",data:K})})}function fN0(Z){return new Promise((J)=>{let Q=i0("body").append("div").attr("id","cy").attr("style","display:none"),K=NK({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});Q.remove(),kN0(Z.nodes,K),_N0(Z.edges,K),K.nodes().forEach(function(U){U.layoutDimensions=()=>{let Y=U.data();return{w:Y.width,h:Y.height}}});let X={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};K.layout(X).run(),K.ready((U)=>{Z0.info("Cytoscape ready",U),J(K)})})}function vN0(Z){return Z.nodes().map((J)=>{let Q=J.data(),K=J.position(),X={id:Q.id,x:K.x,y:K.y};return Object.keys(Q).forEach((U)=>{if(U!=="id")X[U]=Q[U]}),X})}function xN0(Z){return Z.edges().map((J)=>{let Q=J.data(),K=J._private.rscratch,X={id:Q.id,source:Q.source,target:Q.target,startX:K.startX,startY:K.startY,midX:K.midX,midY:K.midY,endX:K.endX,endY:K.endY};return Object.keys(Q).forEach((U)=>{if(!["id","source","target"].includes(U))X[U]=Q[U]}),X})}async function bN0(Z,J){Z0.debug("Starting cose-bilkent layout algorithm");try{yN0(Z);let Q=await fN0(Z),K=vN0(Q),X=xN0(Q);return Z0.debug(`Layout completed: ${K.length} nodes, ${X.length} edges`),{nodes:K,edges:X}}catch(Q){throw Z0.error("Error in cose-bilkent layout algorithm:",Q),Q}}function yN0(Z){if(!Z)throw Error("Layout data is required");if(!Z.config)throw Error("Configuration is required in layout data");if(!Z.rootNode)throw Error("Root node is required");if(!Z.nodes||!Array.isArray(Z.nodes))throw Error("No nodes found in layout data");if(!Array.isArray(Z.edges))throw Error("Edges array is required in layout data");return!0}var $N0,uR8,gR8;var mN0=_(()=>{M9();ii();A9();$N0=d7(wN0(),1);NK.use($N0.default);I(kN0,"addNodes");I(_N0,"addEdges");I(fN0,"createCytoscapeInstance");I(vN0,"extractPositionedNodes");I(xN0,"extractPositionedEdges");I(bN0,"executeCoseBilkentLayout");I(yN0,"validateLayoutData");uR8=I(async(Z,J,{insertCluster:Q,insertEdge:K,insertEdgeLabel:X,insertMarkers:U,insertNode:Y,log:q,positionEdgeLabel:W},{algorithm:G})=>{let z={},H={},F=J.select("g");U(F,Z.markers,Z.type,Z.diagramId);let M=F.insert("g").attr("class","subgraphs"),B=F.insert("g").attr("class","edgePaths"),O=F.insert("g").attr("class","edgeLabels"),R=F.insert("g").attr("class","nodes");q.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(Z.nodes.map(async(A)=>{if(A.isGroup){let V={...A};H[A.id]=V,z[A.id]=V,await Q(M,A)}else{let V={...A};z[A.id]=V;let N=await Y(R,A,{config:Z.config,dir:Z.direction||"TB"}),E=N.node().getBBox();V.width=E.width,V.height=E.height,V.domId=N,q.debug(`Node ${A.id} dimensions: ${E.width}x${E.height}`)}})),q.debug("Running cose-bilkent layout algorithm");let D={...Z,nodes:Z.nodes.map((A)=>{let V=z[A.id];return{...A,width:V.width,height:V.height}})},L=await bN0(D,Z.config);q.debug("Positioning nodes based on layout results"),L.nodes.forEach((A)=>{let V=z[A.id];if(V?.domId)V.domId.attr("transform",`translate(${A.x}, ${A.y})`),V.x=A.x,V.y=A.y,q.debug(`Positioned node ${V.id} at center (${A.x}, ${A.y})`)}),L.edges.forEach((A)=>{let V=Z.edges.find((N)=>N.id===A.id);if(V)V.points=[{x:A.startX,y:A.startY},{x:A.midX,y:A.midY},{x:A.endX,y:A.endY}]}),q.debug("Inserting and positioning edges"),await Promise.all(Z.edges.map(async(A)=>{let V=await X(O,A),N=z[A.start??""],E=z[A.end??""];if(N&&E){let j=L.edges.find((C)=>C.id===A.id);if(j){q.debug("APA01 positionedEdge",j);let C={...A},$=K(B,C,H,Z.type,N,E,Z.diagramId);W(C,$)}else{let C={...A,points:[{x:N.x||0,y:N.y||0},{x:E.x||0,y:E.y||0}]},$=K(B,C,H,Z.type,N,E,Z.diagramId);W(C,$)}}})),q.debug("Cose-bilkent rendering completed")},"render"),gR8=uR8});var pR8,mL,ti,cR8,EK,rX;var VK=_(()=>{BK();s6();jZ();T9();M9();pR8={common:J8,getConfig:L9,insertCluster:s2,insertEdge:UC,insertEdgeLabel:KC,insertMarkers:YC,insertNode:nG,interpolateToCurve:Cj,labelHelper:U9,log:Z0,positionEdgeLabel:XC},mL={},ti=I((Z)=>{for(let J of Z)mL[J.name]=J},"registerLayoutLoaders"),cR8=I(()=>{ti([{name:"dagre",loader:I(async()=>await Promise.resolve().then(() => (GD0(),WD0)),"loader")},{name:"cose-bilkent",loader:I(async()=>await Promise.resolve().then(() => (mN0(),hN0)),"loader")}])},"registerDefaultLayoutLoaders");cR8();EK=I(async(Z,J)=>{if(!(Z.layoutAlgorithm in mL))throw Error(`Unknown layout algorithm: ${Z.layoutAlgorithm}`);let Q=mL[Z.layoutAlgorithm];return(await Q.loader()).render(Z,J,pR8,{algorithm:Q.algorithm})},"render"),rX=I((Z="",{fallback:J="dagre"}={})=>{if(Z in mL)return Z;if(J in mL)return Z0.warn(`Layout algorithm ${Z} is not registered. Using ${J} as fallback.`),J;throw Error(`Both layout algorithms ${Z} and ${J} are not registered.`)},"getRegisteredLayoutAlgorithm")});var Js,Az,HT,UE0,FT,MT,_Q,BT;var OT=_(()=>{T9();M9();Js=d7(T2(),1),Az=I((Z,J)=>{let Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),J.name)Q.attr("name",J.name);if(J.rx)Q.attr("rx",J.rx);if(J.ry)Q.attr("ry",J.ry);if(J.attrs!==void 0)for(let K in J.attrs)Q.attr(K,J.attrs[K]);if(J.class)Q.attr("class",J.class);return Q},"drawRect"),HT=I((Z,J)=>{let Q={x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,stroke:J.stroke,class:"rect"};Az(Z,Q).lower()},"drawBackgroundRect"),UE0=I((Z,J)=>{let Q=J.text.replace(EG," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class)K.attr("class",J.class);let X=K.append("tspan");return X.attr("x",J.x+J.textMargin*2),X.text(Q),K},"drawText"),FT=I((Z,J,Q,K)=>{let X=Z.append("image");X.attr("x",J),X.attr("y",Q);let U=Js.sanitizeUrl(K);X.attr("xlink:href",U)},"drawImage"),MT=I((Z,J,Q,K)=>{let X=Z.append("use");X.attr("x",J),X.attr("y",Q);let U=Js.sanitizeUrl(K);X.attr("xlink:href",`#${U}`)},"drawEmbeddedImage"),_Q=I(()=>{return{x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}},"getNoteRect"),BT=I(()=>{return{x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}},"getTextObj")});var DE0={};z9(DE0,{diagram:()=>h38});function SK(Z,J,Q,K,X){if(!J[Z].width)if(Q)J[Z].text=jp(J[Z].text,X,K),J[Z].textLines=J[Z].text.split(J8.lineBreakRegex).length,J[Z].width=X,J[Z].height=SD(J[Z].text,K);else{let U=J[Z].text.split(J8.lineBreakRegex);J[Z].textLines=U.length;let Y=0;J[Z].height=0,J[Z].width=0;for(let q of U)J[Z].width=Math.max(KQ(q,K),J[Z].width),Y=SD(q,K),J[Z].height=J[Z].height+Y}}function Ws(Z,J,Q,K,X){let U=new BE0(X);U.data.widthLimit=Q.data.widthLimit/Math.min(Ks,K.length);for(let[Y,q]of K.entries()){let W=0;if(q.image={width:0,height:0,Y:0},q.sprite)q.image.width=48,q.image.height=48,q.image.Y=W,W=q.image.Y+q.image.height;let G=q.wrap&&a8.wrap,z=RT(a8);if(z.fontSize=z.fontSize+2,z.fontWeight="bold",SK("label",q,G,z,U.data.widthLimit),q.label.Y=W+8,W=q.label.Y+q.label.height,q.type&&q.type.text!==""){q.type.text="["+q.type.text+"]";let B=RT(a8);SK("type",q,G,B,U.data.widthLimit),q.type.Y=W+5,W=q.type.Y+q.type.height}if(q.descr&&q.descr.text!==""){let B=RT(a8);B.fontSize=B.fontSize-2,SK("descr",q,G,B,U.data.widthLimit),q.descr.Y=W+20,W=q.descr.Y+q.descr.height}if(Y==0||Y%Ks===0){let B=Q.data.startx+a8.diagramMarginX,O=Q.data.stopy+a8.diagramMarginY+W;U.setData(B,B,O,O)}else{let B=U.data.stopx!==U.data.startx?U.data.stopx+a8.diagramMarginX:U.data.startx,O=U.data.starty;U.setData(B,B,O,O)}U.name=q.alias;let H=X.db.getC4ShapeArray(q.alias),F=X.db.getC4ShapeKeys(q.alias);if(F.length>0)RE0(U,Z,H,F);J=q.alias;let M=X.db.getBoundaries(J);if(M.length>0)Ws(Z,J,U,M,X);if(q.alias!=="global")OE0(Z,q,U);Q.data.stopy=Math.max(U.data.stopy+a8.c4ShapeMargin,Q.data.stopy),Q.data.stopx=Math.max(U.data.stopx+a8.c4ShapeMargin,Q.data.stopx),AT=Math.max(AT,Q.data.stopx),NT=Math.max(NT,Q.data.stopy)}}var HE0,DT,dR8,C5,bq,G6="global",j5="",aX,lL,Us="",Ys=!1,LT=4,IT=2,WE0,iR8,sR8,rR8,nR8,aR8,oR8,tR8,eR8,Z38,J38,Q38,K38,X38,U38,Y38,q38,W38,GE0,G38,z38,zE0,H38,F38,M38,B38,yq,O38,R38,D38,L38,I38,Qs,qs,FE0,A38,N38,E38,V38,P38,j38,C38,S38,T38,w38,$38,k38,CY,nX,AT=0,NT=0,ME0=4,Ks=2,a8,BE0,Xs,cL,RT,_38,OE0,RE0,CK,YE0,f38,v38,x38,qE0,b38,y38,h38;var LE0=_(()=>{OT();jZ();T9();M9();A9();HE0=d7(T2(),1),DT=function(){var Z=I(function(s0,k0,x0,f0){for(x0=x0||{},f0=s0.length;f0--;x0[s0[f0]]=k0);return x0},"o"),J=[1,24],Q=[1,25],K=[1,26],X=[1,27],U=[1,28],Y=[1,63],q=[1,64],W=[1,65],G=[1,66],z=[1,67],H=[1,68],F=[1,69],M=[1,29],B=[1,30],O=[1,31],R=[1,32],D=[1,33],L=[1,34],A=[1,35],V=[1,36],N=[1,37],E=[1,38],j=[1,39],C=[1,40],$=[1,41],k=[1,42],w=[1,43],P=[1,44],T=[1,45],S=[1,46],f=[1,47],v=[1,48],x=[1,50],b=[1,51],y=[1,52],u=[1,53],h=[1,54],p=[1,55],r=[1,56],e=[1,57],i=[1,58],U0=[1,59],a=[1,60],z0=[14,42],J0=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Q0=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],t=[1,82],n=[1,83],Y0=[1,84],o=[1,85],M0=[12,14,42],X0=[12,14,33,42],E0=[12,14,33,42,76,77,79,80],d=[12,33],c0=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],B0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:I(function(k0,x0,f0,C0,h0,F0,I0){var s=F0.length-1;switch(h0){case 3:C0.setDirection("TB");break;case 4:C0.setDirection("BT");break;case 5:C0.setDirection("RL");break;case 6:C0.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:C0.setC4Type(F0[s-3]);break;case 19:C0.setTitle(F0[s].substring(6)),this.$=F0[s].substring(6);break;case 20:C0.setAccDescription(F0[s].substring(15)),this.$=F0[s].substring(15);break;case 21:this.$=F0[s].trim(),C0.setTitle(this.$);break;case 22:case 23:this.$=F0[s].trim(),C0.setAccDescription(this.$);break;case 28:F0[s].splice(2,0,"ENTERPRISE"),C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 29:F0[s].splice(2,0,"SYSTEM"),C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 30:C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 31:F0[s].splice(2,0,"CONTAINER"),C0.addContainerBoundary(...F0[s]),this.$=F0[s];break;case 32:C0.addDeploymentNode("node",...F0[s]),this.$=F0[s];break;case 33:C0.addDeploymentNode("nodeL",...F0[s]),this.$=F0[s];break;case 34:C0.addDeploymentNode("nodeR",...F0[s]),this.$=F0[s];break;case 35:C0.popBoundaryParseStack();break;case 39:C0.addPersonOrSystem("person",...F0[s]),this.$=F0[s];break;case 40:C0.addPersonOrSystem("external_person",...F0[s]),this.$=F0[s];break;case 41:C0.addPersonOrSystem("system",...F0[s]),this.$=F0[s];break;case 42:C0.addPersonOrSystem("system_db",...F0[s]),this.$=F0[s];break;case 43:C0.addPersonOrSystem("system_queue",...F0[s]),this.$=F0[s];break;case 44:C0.addPersonOrSystem("external_system",...F0[s]),this.$=F0[s];break;case 45:C0.addPersonOrSystem("external_system_db",...F0[s]),this.$=F0[s];break;case 46:C0.addPersonOrSystem("external_system_queue",...F0[s]),this.$=F0[s];break;case 47:C0.addContainer("container",...F0[s]),this.$=F0[s];break;case 48:C0.addContainer("container_db",...F0[s]),this.$=F0[s];break;case 49:C0.addContainer("container_queue",...F0[s]),this.$=F0[s];break;case 50:C0.addContainer("external_container",...F0[s]),this.$=F0[s];break;case 51:C0.addContainer("external_container_db",...F0[s]),this.$=F0[s];break;case 52:C0.addContainer("external_container_queue",...F0[s]),this.$=F0[s];break;case 53:C0.addComponent("component",...F0[s]),this.$=F0[s];break;case 54:C0.addComponent("component_db",...F0[s]),this.$=F0[s];break;case 55:C0.addComponent("component_queue",...F0[s]),this.$=F0[s];break;case 56:C0.addComponent("external_component",...F0[s]),this.$=F0[s];break;case 57:C0.addComponent("external_component_db",...F0[s]),this.$=F0[s];break;case 58:C0.addComponent("external_component_queue",...F0[s]),this.$=F0[s];break;case 60:C0.addRel("rel",...F0[s]),this.$=F0[s];break;case 61:C0.addRel("birel",...F0[s]),this.$=F0[s];break;case 62:C0.addRel("rel_u",...F0[s]),this.$=F0[s];break;case 63:C0.addRel("rel_d",...F0[s]),this.$=F0[s];break;case 64:C0.addRel("rel_l",...F0[s]),this.$=F0[s];break;case 65:C0.addRel("rel_r",...F0[s]),this.$=F0[s];break;case 66:C0.addRel("rel_b",...F0[s]),this.$=F0[s];break;case 67:F0[s].splice(0,1),C0.addRel("rel",...F0[s]),this.$=F0[s];break;case 68:C0.updateElStyle("update_el_style",...F0[s]),this.$=F0[s];break;case 69:C0.updateRelStyle("update_rel_style",...F0[s]),this.$=F0[s];break;case 70:C0.updateLayoutConfig("update_layout_config",...F0[s]),this.$=F0[s];break;case 71:this.$=[F0[s]];break;case 72:F0[s].unshift(F0[s-1]),this.$=F0[s];break;case 73:case 75:this.$=F0[s].trim();break;case 74:let H0={};H0[F0[s-1].trim()]=F0[s].trim(),this.$=H0;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{13:70,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{13:71,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{13:72,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{13:73,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{14:[1,74]},Z(z0,[2,13],{43:23,29:49,30:61,32:62,20:75,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a}),Z(z0,[2,14]),Z(J0,[2,16],{12:[1,76]}),Z(z0,[2,36],{12:[1,77]}),Z(Q0,[2,19]),Z(Q0,[2,20]),{25:[1,78]},{27:[1,79]},Z(Q0,[2,23]),{35:80,75:81,76:t,77:n,79:Y0,80:o},{35:86,75:81,76:t,77:n,79:Y0,80:o},{35:87,75:81,76:t,77:n,79:Y0,80:o},{35:88,75:81,76:t,77:n,79:Y0,80:o},{35:89,75:81,76:t,77:n,79:Y0,80:o},{35:90,75:81,76:t,77:n,79:Y0,80:o},{35:91,75:81,76:t,77:n,79:Y0,80:o},{35:92,75:81,76:t,77:n,79:Y0,80:o},{35:93,75:81,76:t,77:n,79:Y0,80:o},{35:94,75:81,76:t,77:n,79:Y0,80:o},{35:95,75:81,76:t,77:n,79:Y0,80:o},{35:96,75:81,76:t,77:n,79:Y0,80:o},{35:97,75:81,76:t,77:n,79:Y0,80:o},{35:98,75:81,76:t,77:n,79:Y0,80:o},{35:99,75:81,76:t,77:n,79:Y0,80:o},{35:100,75:81,76:t,77:n,79:Y0,80:o},{35:101,75:81,76:t,77:n,79:Y0,80:o},{35:102,75:81,76:t,77:n,79:Y0,80:o},{35:103,75:81,76:t,77:n,79:Y0,80:o},{35:104,75:81,76:t,77:n,79:Y0,80:o},Z(M0,[2,59]),{35:105,75:81,76:t,77:n,79:Y0,80:o},{35:106,75:81,76:t,77:n,79:Y0,80:o},{35:107,75:81,76:t,77:n,79:Y0,80:o},{35:108,75:81,76:t,77:n,79:Y0,80:o},{35:109,75:81,76:t,77:n,79:Y0,80:o},{35:110,75:81,76:t,77:n,79:Y0,80:o},{35:111,75:81,76:t,77:n,79:Y0,80:o},{35:112,75:81,76:t,77:n,79:Y0,80:o},{35:113,75:81,76:t,77:n,79:Y0,80:o},{35:114,75:81,76:t,77:n,79:Y0,80:o},{35:115,75:81,76:t,77:n,79:Y0,80:o},{20:116,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a},{12:[1,118],33:[1,117]},{35:119,75:81,76:t,77:n,79:Y0,80:o},{35:120,75:81,76:t,77:n,79:Y0,80:o},{35:121,75:81,76:t,77:n,79:Y0,80:o},{35:122,75:81,76:t,77:n,79:Y0,80:o},{35:123,75:81,76:t,77:n,79:Y0,80:o},{35:124,75:81,76:t,77:n,79:Y0,80:o},{35:125,75:81,76:t,77:n,79:Y0,80:o},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},Z(z0,[2,15]),Z(J0,[2,17],{21:22,19:130,22:J,23:Q,24:K,26:X,28:U}),Z(z0,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:J,23:Q,24:K,26:X,28:U,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A,51:V,52:N,53:E,54:j,55:C,56:$,57:k,58:w,59:P,60:T,61:S,62:f,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:e,72:i,73:U0,74:a}),Z(Q0,[2,21]),Z(Q0,[2,22]),Z(M0,[2,39]),Z(X0,[2,71],{75:81,35:132,76:t,77:n,79:Y0,80:o}),Z(E0,[2,73]),{78:[1,133]},Z(E0,[2,75]),Z(E0,[2,76]),Z(M0,[2,40]),Z(M0,[2,41]),Z(M0,[2,42]),Z(M0,[2,43]),Z(M0,[2,44]),Z(M0,[2,45]),Z(M0,[2,46]),Z(M0,[2,47]),Z(M0,[2,48]),Z(M0,[2,49]),Z(M0,[2,50]),Z(M0,[2,51]),Z(M0,[2,52]),Z(M0,[2,53]),Z(M0,[2,54]),Z(M0,[2,55]),Z(M0,[2,56]),Z(M0,[2,57]),Z(M0,[2,58]),Z(M0,[2,60]),Z(M0,[2,61]),Z(M0,[2,62]),Z(M0,[2,63]),Z(M0,[2,64]),Z(M0,[2,65]),Z(M0,[2,66]),Z(M0,[2,67]),Z(M0,[2,68]),Z(M0,[2,69]),Z(M0,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},Z(d,[2,28]),Z(d,[2,29]),Z(d,[2,30]),Z(d,[2,31]),Z(d,[2,32]),Z(d,[2,33]),Z(d,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},Z(J0,[2,18]),Z(z0,[2,38]),Z(X0,[2,72]),Z(E0,[2,74]),Z(M0,[2,24]),Z(M0,[2,35]),Z(c0,[2,25]),Z(c0,[2,26],{12:[1,138]}),Z(c0,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:I(function(k0,x0){if(x0.recoverable)this.trace(k0);else{var f0=Error(k0);throw f0.hash=x0,f0}},"parseError"),parse:I(function(k0){var x0=this,f0=[0],C0=[],h0=[null],F0=[],I0=this.table,s="",H0=0,m=0,q0=0,W0=2,V0=1,L0=F0.slice.call(arguments,1),D0=Object.create(this.lexer),_0={yy:{}};for(var T0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,T0))_0.yy[T0]=this.yy[T0];if(D0.setInput(k0,_0.yy),_0.yy.lexer=D0,_0.yy.parser=this,typeof D0.yylloc>"u")D0.yylloc={};var m0=D0.yylloc;F0.push(m0);var t0=D0.options&&D0.options.ranges;if(typeof _0.yy.parseError==="function")this.parseError=_0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function H8(G8){f0.length=f0.length-2*G8,h0.length=h0.length-G8,F0.length=F0.length-G8}I(H8,"popStack");function r0(){var G8=C0.pop()||D0.lex()||V0;if(typeof G8!=="number"){if(G8 instanceof Array)C0=G8,G8=C0.pop();G8=x0.symbols_[G8]||G8}return G8}I(r0,"lex");var u0,o0,d0,U8,u8,O8,S8={},W8,q8,F8,R8;while(!0){if(d0=f0[f0.length-1],this.defaultActions[d0])U8=this.defaultActions[d0];else{if(u0===null||typeof u0>"u")u0=r0();U8=I0[d0]&&I0[d0][u0]}if(typeof U8>"u"||!U8.length||!U8[0]){var D8="";R8=[];for(W8 in I0[d0])if(this.terminals_[W8]&&W8>W0)R8.push("'"+this.terminals_[W8]+"'");if(D0.showPosition)D8="Parse error on line "+(H0+1)+`:
`+D0.showPosition()+`
Expecting `+R8.join(", ")+", got '"+(this.terminals_[u0]||u0)+"'";else D8="Parse error on line "+(H0+1)+": Unexpected "+(u0==V0?"end of input":"'"+(this.terminals_[u0]||u0)+"'");this.parseError(D8,{text:D0.match,token:this.terminals_[u0]||u0,line:D0.yylineno,loc:m0,expected:R8})}if(U8[0]instanceof Array&&U8.length>1)throw Error("Parse Error: multiple actions possible at state: "+d0+", token: "+u0);switch(U8[0]){case 1:if(f0.push(u0),h0.push(D0.yytext),F0.push(D0.yylloc),f0.push(U8[1]),u0=null,!o0){if(m=D0.yyleng,s=D0.yytext,H0=D0.yylineno,m0=D0.yylloc,q0>0)q0--}else u0=o0,o0=null;break;case 2:if(q8=this.productions_[U8[1]][1],S8.$=h0[h0.length-q8],S8._$={first_line:F0[F0.length-(q8||1)].first_line,last_line:F0[F0.length-1].last_line,first_column:F0[F0.length-(q8||1)].first_column,last_column:F0[F0.length-1].last_column},t0)S8._$.range=[F0[F0.length-(q8||1)].range[0],F0[F0.length-1].range[1]];if(O8=this.performAction.apply(S8,[s,m,H0,_0.yy,U8[1],h0,F0].concat(L0)),typeof O8<"u")return O8;if(q8)f0=f0.slice(0,-1*q8*2),h0=h0.slice(0,-1*q8),F0=F0.slice(0,-1*q8);f0.push(this.productions_[U8[1]][0]),h0.push(S8.$),F0.push(S8._$),F8=I0[f0[f0.length-2]][f0[f0.length-1]],f0.push(F8);break;case 3:return!0}}return!0},"parse")},y0=function(){var s0={EOF:1,parseError:I(function(x0,f0){if(this.yy.parser)this.yy.parser.parseError(x0,f0);else throw Error(x0)},"parseError"),setInput:I(function(k0,x0){if(this.yy=x0||this.yy||{},this._input=k0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var k0=this._input[0];this.yytext+=k0,this.yyleng++,this.offset++,this.match+=k0,this.matched+=k0;var x0=k0.match(/(?:\r\n?|\n).*/g);if(x0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),k0},"input"),unput:I(function(k0){var x0=k0.length,f0=k0.split(/(?:\r\n?|\n)/g);this._input=k0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x0),this.offset-=x0;var C0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f0.length-1)this.yylineno-=f0.length-1;var h0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f0?(f0.length===C0.length?this.yylloc.first_column:0)+C0[C0.length-f0.length].length-f0[0].length:this.yylloc.first_column-x0},this.options.ranges)this.yylloc.range=[h0[0],h0[0]+this.yyleng-x0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(k0){this.unput(this.match.slice(k0))},"less"),pastInput:I(function(){var k0=this.matched.substr(0,this.matched.length-this.match.length);return(k0.length>20?"...":"")+k0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var k0=this.match;if(k0.length<20)k0+=this._input.substr(0,20-k0.length);return(k0.substr(0,20)+(k0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var k0=this.pastInput(),x0=Array(k0.length+1).join("-");return k0+this.upcomingInput()+`
`+x0+"^"},"showPosition"),test_match:I(function(k0,x0){var f0,C0,h0;if(this.options.backtrack_lexer){if(h0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)h0.yylloc.range=this.yylloc.range.slice(0)}if(C0=k0[0].match(/(?:\r\n?|\n).*/g),C0)this.yylineno+=C0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C0?C0[C0.length-1].length-C0[C0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k0[0].length},this.yytext+=k0[0],this.match+=k0[0],this.matches=k0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(k0[0].length),this.matched+=k0[0],f0=this.performAction.call(this,this.yy,this,x0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(f0)return f0;else if(this._backtrack){for(var F0 in h0)this[F0]=h0[F0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var k0,x0,f0,C0;if(!this._more)this.yytext="",this.match="";var h0=this._currentRules();for(var F0=0;F0<h0.length;F0++)if(f0=this._input.match(this.rules[h0[F0]]),f0&&(!x0||f0[0].length>x0[0].length)){if(x0=f0,C0=F0,this.options.backtrack_lexer)if(k0=this.test_match(f0,h0[F0]),k0!==!1)return k0;else if(this._backtrack){x0=!1;continue}else return!1;else if(!this.options.flex)break}if(x0){if(k0=this.test_match(x0,h0[C0]),k0!==!1)return k0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var x0=this.next();if(x0)return x0;else return this.lex()},"lex"),begin:I(function(x0){this.conditionStack.push(x0)},"begin"),popState:I(function(){var x0=this.conditionStack.length-1;if(x0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(x0){if(x0=this.conditionStack.length-1-Math.abs(x0||0),x0>=0)return this.conditionStack[x0];else return"INITIAL"},"topState"),pushState:I(function(x0){this.begin(x0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(x0,f0,C0,h0){var F0=h0;switch(C0){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return s0}();B0.lexer=y0;function n0(){this.yy={}}return I(n0,"Parser"),n0.prototype=B0,B0.Parser=n0,new n0}();DT.parser=DT;dR8=DT,C5=[],bq=[""],aX=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],lL=[],iR8=I(function(){return WE0},"getC4Type"),sR8=I(function(Z){WE0=R9(Z,N0())},"setC4Type"),rR8=I(function(Z,J,Q,K,X,U,Y,q,W){if(Z===void 0||Z===null||J===void 0||J===null||Q===void 0||Q===null||K===void 0||K===null)return;let G={},z=lL.find((H)=>H.from===J&&H.to===Q);if(z)G=z;else lL.push(G);if(G.type=Z,G.from=J,G.to=Q,G.label={text:K},X===void 0||X===null)G.techn={text:""};else if(typeof X==="object"){let[H,F]=Object.entries(X)[0];G[H]={text:F}}else G.techn={text:X};if(U===void 0||U===null)G.descr={text:""};else if(typeof U==="object"){let[H,F]=Object.entries(U)[0];G[H]={text:F}}else G.descr={text:U};if(typeof Y==="object"){let[H,F]=Object.entries(Y)[0];G[H]=F}else G.sprite=Y;if(typeof q==="object"){let[H,F]=Object.entries(q)[0];G[H]=F}else G.tags=q;if(typeof W==="object"){let[H,F]=Object.entries(W)[0];G[H]=F}else G.link=W;G.wrap=yq()},"addRel"),nR8=I(function(Z,J,Q,K,X,U,Y){if(J===null||Q===null)return;let q={},W=C5.find((G)=>G.alias===J);if(W&&J===W.alias)q=W;else q.alias=J,C5.push(q);if(Q===void 0||Q===null)q.label={text:""};else q.label={text:Q};if(K===void 0||K===null)q.descr={text:""};else if(typeof K==="object"){let[G,z]=Object.entries(K)[0];q[G]={text:z}}else q.descr={text:K};if(typeof X==="object"){let[G,z]=Object.entries(X)[0];q[G]=z}else q.sprite=X;if(typeof U==="object"){let[G,z]=Object.entries(U)[0];q[G]=z}else q.tags=U;if(typeof Y==="object"){let[G,z]=Object.entries(Y)[0];q[G]=z}else q.link=Y;q.typeC4Shape={text:Z},q.parentBoundary=G6,q.wrap=yq()},"addPersonOrSystem"),aR8=I(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let W={},G=C5.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,C5.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.techn={text:""};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.techn={text:K};if(X===void 0||X===null)W.descr={text:""};else if(typeof X==="object"){let[z,H]=Object.entries(X)[0];W[z]={text:H}}else W.descr={text:X};if(typeof U==="object"){let[z,H]=Object.entries(U)[0];W[z]=H}else W.sprite=U;if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.wrap=yq(),W.typeC4Shape={text:Z},W.parentBoundary=G6},"addContainer"),oR8=I(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let W={},G=C5.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,C5.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.techn={text:""};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.techn={text:K};if(X===void 0||X===null)W.descr={text:""};else if(typeof X==="object"){let[z,H]=Object.entries(X)[0];W[z]={text:H}}else W.descr={text:X};if(typeof U==="object"){let[z,H]=Object.entries(U)[0];W[z]=H}else W.sprite=U;if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.wrap=yq(),W.typeC4Shape={text:Z},W.parentBoundary=G6},"addComponent"),tR8=I(function(Z,J,Q,K,X){if(Z===null||J===null)return;let U={},Y=aX.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)U=Y;else U.alias=Z,aX.push(U);if(J===void 0||J===null)U.label={text:""};else U.label={text:J};if(Q===void 0||Q===null)U.type={text:"system"};else if(typeof Q==="object"){let[q,W]=Object.entries(Q)[0];U[q]={text:W}}else U.type={text:Q};if(typeof K==="object"){let[q,W]=Object.entries(K)[0];U[q]=W}else U.tags=K;if(typeof X==="object"){let[q,W]=Object.entries(X)[0];U[q]=W}else U.link=X;U.parentBoundary=G6,U.wrap=yq(),j5=G6,G6=Z,bq.push(j5)},"addPersonOrSystemBoundary"),eR8=I(function(Z,J,Q,K,X){if(Z===null||J===null)return;let U={},Y=aX.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)U=Y;else U.alias=Z,aX.push(U);if(J===void 0||J===null)U.label={text:""};else U.label={text:J};if(Q===void 0||Q===null)U.type={text:"container"};else if(typeof Q==="object"){let[q,W]=Object.entries(Q)[0];U[q]={text:W}}else U.type={text:Q};if(typeof K==="object"){let[q,W]=Object.entries(K)[0];U[q]=W}else U.tags=K;if(typeof X==="object"){let[q,W]=Object.entries(X)[0];U[q]=W}else U.link=X;U.parentBoundary=G6,U.wrap=yq(),j5=G6,G6=Z,bq.push(j5)},"addContainerBoundary"),Z38=I(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let W={},G=aX.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,aX.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.type={text:"node"};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.type={text:K};if(X===void 0||X===null)W.descr={text:""};else if(typeof X==="object"){let[z,H]=Object.entries(X)[0];W[z]={text:H}}else W.descr={text:X};if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.nodeType=Z,W.parentBoundary=G6,W.wrap=yq(),j5=G6,G6=J,bq.push(j5)},"addDeploymentNode"),J38=I(function(){G6=j5,bq.pop(),j5=bq.pop(),bq.push(j5)},"popBoundaryParseStack"),Q38=I(function(Z,J,Q,K,X,U,Y,q,W,G,z){let H=C5.find((F)=>F.alias===J);if(H===void 0){if(H=aX.find((F)=>F.alias===J),H===void 0)return}if(Q!==void 0&&Q!==null)if(typeof Q==="object"){let[F,M]=Object.entries(Q)[0];H[F]=M}else H.bgColor=Q;if(K!==void 0&&K!==null)if(typeof K==="object"){let[F,M]=Object.entries(K)[0];H[F]=M}else H.fontColor=K;if(X!==void 0&&X!==null)if(typeof X==="object"){let[F,M]=Object.entries(X)[0];H[F]=M}else H.borderColor=X;if(U!==void 0&&U!==null)if(typeof U==="object"){let[F,M]=Object.entries(U)[0];H[F]=M}else H.shadowing=U;if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[F,M]=Object.entries(Y)[0];H[F]=M}else H.shape=Y;if(q!==void 0&&q!==null)if(typeof q==="object"){let[F,M]=Object.entries(q)[0];H[F]=M}else H.sprite=q;if(W!==void 0&&W!==null)if(typeof W==="object"){let[F,M]=Object.entries(W)[0];H[F]=M}else H.techn=W;if(G!==void 0&&G!==null)if(typeof G==="object"){let[F,M]=Object.entries(G)[0];H[F]=M}else H.legendText=G;if(z!==void 0&&z!==null)if(typeof z==="object"){let[F,M]=Object.entries(z)[0];H[F]=M}else H.legendSprite=z},"updateElStyle"),K38=I(function(Z,J,Q,K,X,U,Y){let q=lL.find((W)=>W.from===J&&W.to===Q);if(q===void 0)return;if(K!==void 0&&K!==null)if(typeof K==="object"){let[W,G]=Object.entries(K)[0];q[W]=G}else q.textColor=K;if(X!==void 0&&X!==null)if(typeof X==="object"){let[W,G]=Object.entries(X)[0];q[W]=G}else q.lineColor=X;if(U!==void 0&&U!==null)if(typeof U==="object"){let[W,G]=Object.entries(U)[0];q[W]=parseInt(G)}else q.offsetX=parseInt(U);if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[W,G]=Object.entries(Y)[0];q[W]=parseInt(G)}else q.offsetY=parseInt(Y)},"updateRelStyle"),X38=I(function(Z,J,Q){let K=LT,X=IT;if(typeof J==="object"){let U=Object.values(J)[0];K=parseInt(U)}else K=parseInt(J);if(typeof Q==="object"){let U=Object.values(Q)[0];X=parseInt(U)}else X=parseInt(Q);if(K>=1)LT=K;if(X>=1)IT=X},"updateLayoutConfig"),U38=I(function(){return LT},"getC4ShapeInRow"),Y38=I(function(){return IT},"getC4BoundaryInRow"),q38=I(function(){return G6},"getCurrentBoundaryParse"),W38=I(function(){return j5},"getParentBoundaryParse"),GE0=I(function(Z){if(Z===void 0||Z===null)return C5;else return C5.filter((J)=>{return J.parentBoundary===Z})},"getC4ShapeArray"),G38=I(function(Z){return C5.find((J)=>J.alias===Z)},"getC4Shape"),z38=I(function(Z){return Object.keys(GE0(Z))},"getC4ShapeKeys"),zE0=I(function(Z){if(Z===void 0||Z===null)return aX;else return aX.filter((J)=>J.parentBoundary===Z)},"getBoundaries"),H38=zE0,F38=I(function(){return lL},"getRels"),M38=I(function(){return Us},"getTitle"),B38=I(function(Z){Ys=Z},"setWrap"),yq=I(function(){return Ys},"autoWrap"),O38=I(function(){C5=[],aX=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],j5="",G6="global",bq=[""],lL=[],bq=[""],Us="",Ys=!1,LT=4,IT=2},"clear"),R38={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},D38={FILLED:0,OPEN:1},L38={LEFTOF:0,RIGHTOF:1,OVER:2},I38=I(function(Z){Us=R9(Z,N0())},"setTitle"),Qs={addPersonOrSystem:nR8,addPersonOrSystemBoundary:tR8,addContainer:aR8,addContainerBoundary:eR8,addComponent:oR8,addDeploymentNode:Z38,popBoundaryParseStack:J38,addRel:rR8,updateElStyle:Q38,updateRelStyle:K38,updateLayoutConfig:X38,autoWrap:yq,setWrap:B38,getC4ShapeArray:GE0,getC4Shape:G38,getC4ShapeKeys:z38,getBoundaries:zE0,getBoundarys:H38,getCurrentBoundaryParse:q38,getParentBoundaryParse:W38,getRels:F38,getTitle:M38,getC4Type:iR8,getC4ShapeInRow:U38,getC4BoundaryInRow:Y38,setAccTitle:v9,getAccTitle:y9,getAccDescription:m9,setAccDescription:h9,getConfig:I(()=>N0().c4,"getConfig"),clear:O38,LINETYPE:R38,ARROWTYPE:D38,PLACEMENT:L38,setTitle:I38,setC4Type:sR8},qs=I(function(Z,J){return Az(Z,J)},"drawRect"),FE0=I(function(Z,J,Q,K,X,U){let Y=Z.append("image");Y.attr("width",J),Y.attr("height",Q),Y.attr("x",K),Y.attr("y",X);let q=U.startsWith("data:image/png;base64")?U:HE0.sanitizeUrl(U);Y.attr("xlink:href",q)},"drawImage"),A38=I((Z,J,Q)=>{let K=Z.append("g"),X=0;for(let U of J){let Y=U.textColor?U.textColor:"#444444",q=U.lineColor?U.lineColor:"#444444",W=U.offsetX?parseInt(U.offsetX):0,G=U.offsetY?parseInt(U.offsetY):0,z="";if(X===0){let F=K.append("line");if(F.attr("x1",U.startPoint.x),F.attr("y1",U.startPoint.y),F.attr("x2",U.endPoint.x),F.attr("y2",U.endPoint.y),F.attr("stroke-width","1"),F.attr("stroke",q),F.style("fill","none"),U.type!=="rel_b")F.attr("marker-end","url("+z+"#arrowhead)");if(U.type==="birel"||U.type==="rel_b")F.attr("marker-start","url("+z+"#arrowend)");X=-1}else{let F=K.append("path");if(F.attr("fill","none").attr("stroke-width","1").attr("stroke",q).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",U.startPoint.x).replaceAll("starty",U.startPoint.y).replaceAll("controlx",U.startPoint.x+(U.endPoint.x-U.startPoint.x)/2-(U.endPoint.x-U.startPoint.x)/4).replaceAll("controly",U.startPoint.y+(U.endPoint.y-U.startPoint.y)/2).replaceAll("stopx",U.endPoint.x).replaceAll("stopy",U.endPoint.y)),U.type!=="rel_b")F.attr("marker-end","url("+z+"#arrowhead)");if(U.type==="birel"||U.type==="rel_b")F.attr("marker-start","url("+z+"#arrowend)")}let H=Q.messageFont();if(CY(Q)(U.label.text,K,Math.min(U.startPoint.x,U.endPoint.x)+Math.abs(U.endPoint.x-U.startPoint.x)/2+W,Math.min(U.startPoint.y,U.endPoint.y)+Math.abs(U.endPoint.y-U.startPoint.y)/2+G,U.label.width,U.label.height,{fill:Y},H),U.techn&&U.techn.text!=="")H=Q.messageFont(),CY(Q)("["+U.techn.text+"]",K,Math.min(U.startPoint.x,U.endPoint.x)+Math.abs(U.endPoint.x-U.startPoint.x)/2+W,Math.min(U.startPoint.y,U.endPoint.y)+Math.abs(U.endPoint.y-U.startPoint.y)/2+Q.messageFontSize+5+G,Math.max(U.label.width,U.techn.width),U.techn.height,{fill:Y,"font-style":"italic"},H)}},"drawRels"),N38=I(function(Z,J,Q){let K=Z.append("g"),X=J.bgColor?J.bgColor:"none",U=J.borderColor?J.borderColor:"#444444",Y=J.fontColor?J.fontColor:"black",q={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};if(J.nodeType)q={"stroke-width":1};let W={x:J.x,y:J.y,fill:X,stroke:U,width:J.width,height:J.height,rx:2.5,ry:2.5,attrs:q};qs(K,W);let G=Q.boundaryFont();if(G.fontWeight="bold",G.fontSize=G.fontSize+2,G.fontColor=Y,CY(Q)(J.label.text,K,J.x,J.y+J.label.Y,J.width,J.height,{fill:"#444444"},G),J.type&&J.type.text!=="")G=Q.boundaryFont(),G.fontColor=Y,CY(Q)(J.type.text,K,J.x,J.y+J.type.Y,J.width,J.height,{fill:"#444444"},G);if(J.descr&&J.descr.text!=="")G=Q.boundaryFont(),G.fontSize=G.fontSize-2,G.fontColor=Y,CY(Q)(J.descr.text,K,J.x,J.y+J.descr.Y,J.width,J.height,{fill:"#444444"},G)},"drawBoundary"),E38=I(function(Z,J,Q){let K=J.bgColor?J.bgColor:Q[J.typeC4Shape.text+"_bg_color"],X=J.borderColor?J.borderColor:Q[J.typeC4Shape.text+"_border_color"],U=J.fontColor?J.fontColor:"#FFFFFF",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(J.typeC4Shape.text){case"person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let q=Z.append("g");q.attr("class","person-man");let W=_Q();switch(J.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":W.x=J.x,W.y=J.y,W.fill=K,W.width=J.width,W.height=J.height,W.stroke=X,W.rx=2.5,W.ry=2.5,W.attrs={"stroke-width":0.5},qs(q,W);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2).replaceAll("height",J.height)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("width",J.width).replaceAll("half",J.height/2)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",J.x+J.width).replaceAll("starty",J.y).replaceAll("half",J.height/2));break}let G=k38(Q,J.typeC4Shape.text);switch(q.append("text").attr("fill",U).attr("font-family",G.fontFamily).attr("font-size",G.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",J.typeC4Shape.width).attr("x",J.x+J.width/2-J.typeC4Shape.width/2).attr("y",J.y+J.typeC4Shape.Y).text("<<"+J.typeC4Shape.text+">>"),J.typeC4Shape.text){case"person":case"external_person":FE0(q,48,48,J.x+J.width/2-24,J.y+J.image.Y,Y);break}let z=Q[J.typeC4Shape.text+"Font"]();if(z.fontWeight="bold",z.fontSize=z.fontSize+2,z.fontColor=U,CY(Q)(J.label.text,q,J.x,J.y+J.label.Y,J.width,J.height,{fill:U},z),z=Q[J.typeC4Shape.text+"Font"](),z.fontColor=U,J.techn&&J.techn?.text!=="")CY(Q)(J.techn.text,q,J.x,J.y+J.techn.Y,J.width,J.height,{fill:U,"font-style":"italic"},z);else if(J.type&&J.type.text!=="")CY(Q)(J.type.text,q,J.x,J.y+J.type.Y,J.width,J.height,{fill:U,"font-style":"italic"},z);if(J.descr&&J.descr.text!=="")z=Q.personFont(),z.fontColor=U,CY(Q)(J.descr.text,q,J.x,J.y+J.descr.Y,J.width,J.height,{fill:U},z);return J.height},"drawC4Shape"),V38=I(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),P38=I(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),j38=I(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),C38=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),S38=I(function(Z){Z.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),T38=I(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),w38=I(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),$38=I(function(Z){let Q=Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);Q.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),Q.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),k38=I((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"getC4ShapeFont"),CY=function(){function Z(X,U,Y,q,W,G,z){let H=U.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("text-anchor","middle").text(X);K(H,z)}I(Z,"byText");function J(X,U,Y,q,W,G,z,H){let{fontSize:F,fontFamily:M,fontWeight:B}=H,O=X.split(J8.lineBreakRegex);for(let R=0;R<O.length;R++){let D=R*F-F*(O.length-1)/2,L=U.append("text").attr("x",Y+W/2).attr("y",q).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",F).style("font-weight",B).style("font-family",M);L.append("tspan").attr("dy",D).text(O[R]).attr("alignment-baseline","mathematical"),K(L,z)}}I(J,"byTspan");function Q(X,U,Y,q,W,G,z,H){let F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(X,U){for(let Y in U)if(U.hasOwnProperty(Y))X.attr(Y,U[Y])}return I(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),nX={drawRect:qs,drawBoundary:N38,drawC4Shape:E38,drawRels:A38,drawImage:FE0,insertArrowHead:C38,insertArrowEnd:S38,insertArrowFilledHead:T38,insertDynamicNumber:w38,insertArrowCrossHead:$38,insertDatabaseIcon:V38,insertComputerIcon:P38,insertClockIcon:j38};DT.yy=Qs;a8={},BE0=class{static{I(this,"Bounds")}constructor(Z){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Xs(Z.db.getConfig())}setData(Z,J,Q,K){this.nextData.startx=this.data.startx=Z,this.nextData.stopx=this.data.stopx=J,this.nextData.starty=this.data.starty=Q,this.nextData.stopy=this.data.stopy=K}updateVal(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])}insert(Z){this.nextData.cnt=this.nextData.cnt+1;let J=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+Z.margin:this.nextData.stopx+Z.margin*2,Q=J+Z.width,K=this.nextData.starty+Z.margin*2,X=K+Z.height;if(J>=this.data.widthLimit||Q>=this.data.widthLimit||this.nextData.cnt>ME0)J=this.nextData.startx+Z.margin+a8.nextLinePaddingX,K=this.nextData.stopy+Z.margin*2,this.nextData.stopx=Q=J+Z.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=X=K+Z.height,this.nextData.cnt=1;Z.x=J,Z.y=K,this.updateVal(this.data,"startx",J,Math.min),this.updateVal(this.data,"starty",K,Math.min),this.updateVal(this.data,"stopx",Q,Math.max),this.updateVal(this.data,"stopy",X,Math.max),this.updateVal(this.nextData,"startx",J,Math.min),this.updateVal(this.nextData,"starty",K,Math.min),this.updateVal(this.nextData,"stopx",Q,Math.max),this.updateVal(this.nextData,"stopy",X,Math.max)}init(Z){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Xs(Z.db.getConfig())}bumpLastMargin(Z){this.data.stopx+=Z,this.data.stopy+=Z}},Xs=I(function(Z){if(ZJ(a8,Z),Z.fontFamily)a8.personFontFamily=a8.systemFontFamily=a8.messageFontFamily=Z.fontFamily;if(Z.fontSize)a8.personFontSize=a8.systemFontSize=a8.messageFontSize=Z.fontSize;if(Z.fontWeight)a8.personFontWeight=a8.systemFontWeight=a8.messageFontWeight=Z.fontWeight},"setConf"),cL=I((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"c4ShapeFont"),RT=I((Z)=>{return{fontFamily:Z.boundaryFontFamily,fontSize:Z.boundaryFontSize,fontWeight:Z.boundaryFontWeight}},"boundaryFont"),_38=I((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont");I(SK,"calcC4ShapeTextWH");OE0=I(function(Z,J,Q){J.x=Q.data.startx,J.y=Q.data.starty,J.width=Q.data.stopx-Q.data.startx,J.height=Q.data.stopy-Q.data.starty,J.label.y=a8.c4ShapeMargin-35;let K=J.wrap&&a8.wrap,X=RT(a8);X.fontSize=X.fontSize+2,X.fontWeight="bold";let U=KQ(J.label.text,X);SK("label",J,K,X,U),nX.drawBoundary(Z,J,a8)},"drawBoundary"),RE0=I(function(Z,J,Q,K){let X=0;for(let U of K){X=0;let Y=Q[U],q=cL(a8,Y.typeC4Shape.text);switch(q.fontSize=q.fontSize-2,Y.typeC4Shape.width=KQ(""+Y.typeC4Shape.text+"",q),Y.typeC4Shape.height=q.fontSize+2,Y.typeC4Shape.Y=a8.c4ShapePadding,X=Y.typeC4Shape.Y+Y.typeC4Shape.height-4,Y.image={width:0,height:0,Y:0},Y.typeC4Shape.text){case"person":case"external_person":Y.image.width=48,Y.image.height=48,Y.image.Y=X,X=Y.image.Y+Y.image.height;break}if(Y.sprite)Y.image.width=48,Y.image.height=48,Y.image.Y=X,X=Y.image.Y+Y.image.height;let W=Y.wrap&&a8.wrap,G=a8.width-a8.c4ShapePadding*2,z=cL(a8,Y.typeC4Shape.text);if(z.fontSize=z.fontSize+2,z.fontWeight="bold",SK("label",Y,W,z,G),Y.label.Y=X+8,X=Y.label.Y+Y.label.height,Y.type&&Y.type.text!==""){Y.type.text="["+Y.type.text+"]";let M=cL(a8,Y.typeC4Shape.text);SK("type",Y,W,M,G),Y.type.Y=X+5,X=Y.type.Y+Y.type.height}else if(Y.techn&&Y.techn.text!==""){Y.techn.text="["+Y.techn.text+"]";let M=cL(a8,Y.techn.text);SK("techn",Y,W,M,G),Y.techn.Y=X+5,X=Y.techn.Y+Y.techn.height}let H=X,F=Y.label.width;if(Y.descr&&Y.descr.text!==""){let M=cL(a8,Y.typeC4Shape.text);SK("descr",Y,W,M,G),Y.descr.Y=X+20,X=Y.descr.Y+Y.descr.height,F=Math.max(Y.label.width,Y.descr.width),H=X-Y.descr.textLines*5}F=F+a8.c4ShapePadding,Y.width=Math.max(Y.width||a8.width,F,a8.width),Y.height=Math.max(Y.height||a8.height,H,a8.height),Y.margin=Y.margin||a8.c4ShapeMargin,Z.insert(Y),nX.drawC4Shape(J,Y,a8)}Z.bumpLastMargin(a8.c4ShapeMargin)},"drawC4ShapeArray"),CK=class{static{I(this,"Point")}constructor(Z,J){this.x=Z,this.y=J}},YE0=I(function(Z,J){let{x:Q,y:K}=Z,X=J.x,U=J.y,Y=Q+Z.width/2,q=K+Z.height/2,W=Math.abs(Q-X),G=Math.abs(K-U),z=G/W,H=Z.height/Z.width,F=null;if(K==U&&Q<X)F=new CK(Q+Z.width,q);else if(K==U&&Q>X)F=new CK(Q,q);else if(Q==X&&K<U)F=new CK(Y,K+Z.height);else if(Q==X&&K>U)F=new CK(Y,K);if(Q>X&&K<U)if(H>=z)F=new CK(Q,q+z*Z.width/2);else F=new CK(Y-W/G*Z.height/2,K+Z.height);else if(Q<X&&K<U)if(H>=z)F=new CK(Q+Z.width,q+z*Z.width/2);else F=new CK(Y+W/G*Z.height/2,K+Z.height);else if(Q<X&&K>U)if(H>=z)F=new CK(Q+Z.width,q-z*Z.width/2);else F=new CK(Y+Z.height/2*W/G,K);else if(Q>X&&K>U)if(H>=z)F=new CK(Q,q-Z.width/2*z);else F=new CK(Y-Z.height/2*W/G,K);return F},"getIntersectPoint"),f38=I(function(Z,J){let Q={x:0,y:0};Q.x=J.x+J.width/2,Q.y=J.y+J.height/2;let K=YE0(Z,Q);Q.x=Z.x+Z.width/2,Q.y=Z.y+Z.height/2;let X=YE0(J,Q);return{startPoint:K,endPoint:X}},"getIntersectPoints"),v38=I(function(Z,J,Q,K){let X=0;for(let U of J){X=X+1;let Y=U.wrap&&a8.wrap,q=_38(a8);if(K.db.getC4Type()==="C4Dynamic")U.label.text=X+": "+U.label.text;let G=KQ(U.label.text,q);if(SK("label",U,Y,q,G),U.techn&&U.techn.text!=="")G=KQ(U.techn.text,q),SK("techn",U,Y,q,G);if(U.descr&&U.descr.text!=="")G=KQ(U.descr.text,q),SK("descr",U,Y,q,G);let z=Q(U.from),H=Q(U.to),F=f38(z,H);U.startPoint=F.startPoint,U.endPoint=F.endPoint}nX.drawRels(Z,J,a8)},"drawRels");I(Ws,"drawInsideBoundary");x38=I(function(Z,J,Q,K){a8=N0().c4;let X=N0().securityLevel,U;if(X==="sandbox")U=i0("#i"+J);let Y=X==="sandbox"?i0(U.nodes()[0].contentDocument.body):i0("body"),q=K.db;K.db.setWrap(a8.wrap),ME0=q.getC4ShapeInRow(),Ks=q.getC4BoundaryInRow(),Z0.debug(`C:${JSON.stringify(a8,null,2)}`);let W=X==="sandbox"?Y.select(`[id="${J}"]`):i0(`[id="${J}"]`);nX.insertComputerIcon(W),nX.insertDatabaseIcon(W),nX.insertClockIcon(W);let G=new BE0(K);G.setData(a8.diagramMarginX,a8.diagramMarginX,a8.diagramMarginY,a8.diagramMarginY),G.data.widthLimit=screen.availWidth,AT=a8.diagramMarginX,NT=a8.diagramMarginY;let z=K.db.getTitle(),H=K.db.getBoundaries("");Ws(W,"",G,H,K),nX.insertArrowHead(W),nX.insertArrowEnd(W),nX.insertArrowCrossHead(W),nX.insertArrowFilledHead(W),v38(W,K.db.getRels(),K.db.getC4Shape,K),G.data.stopx=AT,G.data.stopy=NT;let F=G.data,B=F.stopy-F.starty+2*a8.diagramMarginY,R=F.stopx-F.startx+2*a8.diagramMarginX;if(z)W.append("text").text(z).attr("x",(F.stopx-F.startx)/2-4*a8.diagramMarginX).attr("y",F.starty+a8.diagramMarginY);PZ(W,B,R,a8.useMaxWidth);let D=z?60:0;W.attr("viewBox",F.startx-a8.diagramMarginX+" -"+(a8.diagramMarginY+D)+" "+R+" "+(B+D)),Z0.debug("models:",F)},"draw"),qE0={drawPersonOrSystemArray:RE0,drawBoundary:OE0,setConf:Xs,draw:x38},b38=I((Z)=>`.person {
    stroke: ${Z.personBorder};
    fill: ${Z.personBkg};
  }
`,"getStyles"),y38=b38,h38={parser:dR8,db:Qs,renderer:qE0,styles:y38,init:I(({c4:Z,wrap:J})=>{qE0.setConf(Z),Qs.setWrap(J)},"init")}});var oX;var hq=_(()=>{M9();oX=I(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")});var TK;var S5=_(()=>{M9();A9();TK=I((Z,J)=>{let Q;if(J==="sandbox")Q=i0("#i"+Z);return(J==="sandbox"?i0(Q.nodes()[0].contentDocument.body):i0("body")).select(`[id="${Z}"]`)},"getDiagramElement")});var e6,m38,u38;var wK=_(()=>{T9();M9();e6=I((Z,J,Q,K)=>{Z.attr("class",Q);let{width:X,height:U,x:Y,y:q}=m38(Z,J);PZ(Z,U,X,K);let W=u38(Y,q,X,U,J);Z.attr("viewBox",W),Z0.debug(`viewBox configured: ${W} with padding: ${J}`)},"setupViewPortForSVG"),m38=I((Z,J)=>{let Q=Z.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:Q.width+J*2,height:Q.height+J*2,x:Q.x,y:Q.y}},"calculateDimensionsWithPadding"),u38=I((Z,J,Q,K,X)=>{return`${Z-X} ${J-X} ${Q} ${K}`},"createViewBox")});var ET={};z9(ET,{diagram:()=>a38});var g38="flowchart-",p38,c38,l38,d38,Gs,IE0,AE0,i38,s38,r38,n38,a38;var VT=_(()=>{hq();UD();S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();A9();A9();V4();p38=class{constructor(){this.vertexCounter=0,this.config=N0(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=v9,this.setAccDescription=h9,this.setDiagramTitle=s9,this.getAccTitle=y9,this.getAccDescription=m9,this.getDiagramTitle=u9,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{I(this,"FlowDB")}sanitizeText(Z){return J8.sanitizeText(Z,this.config)}lookUpDomId(Z){for(let J of this.vertices.values())if(J.id===Z)return J.domId;return Z}addVertex(Z,J,Q,K,X,U,Y={},q){if(!Z||Z.trim().length===0)return;let W;if(q!==void 0){let F;if(!q.includes(`
`))F=`{
`+q+`
}`;else F=q+`
`;W=y1(F,{schema:b1})}let G=this.edges.find((F)=>F.id===Z);if(G){let F=W;if(F?.animate!==void 0)G.animate=F.animate;if(F?.animation!==void 0)G.animation=F.animation;if(F?.curve!==void 0)G.interpolate=F.curve;return}let z,H=this.vertices.get(Z);if(H===void 0)H={id:Z,labelType:"text",domId:g38+Z+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(Z,H);if(this.vertexCounter++,J!==void 0){if(this.config=N0(),z=this.sanitizeText(J.text.trim()),H.labelType=J.type,z.startsWith('"')&&z.endsWith('"'))z=z.substring(1,z.length-1);H.text=z}else if(H.text===void 0)H.text=Z;if(Q!==void 0)H.type=Q;if(K!==void 0&&K!==null)K.forEach((F)=>{H.styles.push(F)});if(X!==void 0&&X!==null)X.forEach((F)=>{H.classes.push(F)});if(U!==void 0)H.dir=U;if(H.props===void 0)H.props=Y;else if(Y!==void 0)Object.assign(H.props,Y);if(W!==void 0){if(W.shape){if(W.shape!==W.shape.toLowerCase()||W.shape.includes("_"))throw Error(`No such shape: ${W.shape}. Shape names should be lowercase.`);else if(!Hc(W.shape))throw Error(`No such shape: ${W.shape}.`);H.type=W?.shape}if(W?.label)H.text=W?.label;if(W?.icon){if(H.icon=W?.icon,!W.label?.trim()&&H.text===Z)H.text=""}if(W?.form)H.form=W?.form;if(W?.pos)H.pos=W?.pos;if(W?.img){if(H.img=W?.img,!W.label?.trim()&&H.text===Z)H.text=""}if(W?.constraint)H.constraint=W.constraint;if(W.w)H.assetWidth=Number(W.w);if(W.h)H.assetHeight=Number(W.h)}}addSingleLink(Z,J,Q,K){let Y={start:Z,end:J,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};Z0.info("abc78 Got edge...",Y);let q=Q.text;if(q!==void 0){if(Y.text=this.sanitizeText(q.text.trim()),Y.text.startsWith('"')&&Y.text.endsWith('"'))Y.text=Y.text.substring(1,Y.text.length-1);Y.labelType=q.type}if(Q!==void 0)Y.type=Q.type,Y.stroke=Q.stroke,Y.length=Q.length>10?10:Q.length;if(K&&!this.edges.some((W)=>W.id===K))Y.id=K,Y.isUserDefinedId=!0;else{let W=this.edges.filter((G)=>G.start===Y.start&&G.end===Y.end);if(W.length===0)Y.id=kX(Y.start,Y.end,{counter:0,prefix:"L"});else Y.id=kX(Y.start,Y.end,{counter:W.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))Z0.info("Pushing edge..."),this.edges.push(Y);else throw Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(Z){return Z!==null&&typeof Z==="object"&&"id"in Z&&typeof Z.id==="string"}addLink(Z,J,Q){let K=this.isLinkData(Q)?Q.id.replace("@",""):void 0;Z0.info("addLink",Z,J,K);for(let X of Z)for(let U of J){let Y=X===Z[Z.length-1],q=U===J[0];if(Y&&q)this.addSingleLink(X,U,Q,K);else this.addSingleLink(X,U,Q,void 0)}}updateLinkInterpolate(Z,J){Z.forEach((Q)=>{if(Q==="default")this.edges.defaultInterpolate=J;else this.edges[Q].interpolate=J})}updateLink(Z,J){Z.forEach((Q)=>{if(typeof Q==="number"&&Q>=this.edges.length)throw Error(`The index ${Q} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);if(Q==="default")this.edges.defaultStyle=J;else if(this.edges[Q].style=J,(this.edges[Q]?.style?.length??0)>0&&!this.edges[Q]?.style?.some((K)=>K?.startsWith("fill")))this.edges[Q]?.style?.push("fill:none")})}addClass(Z,J){let Q=J.join().replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");Z.split(",").forEach((K)=>{let X=this.classes.get(K);if(X===void 0)X={id:K,styles:[],textStyles:[]},this.classes.set(K,X);if(Q!==void 0&&Q!==null)Q.forEach((U)=>{if(/color/.exec(U)){let Y=U.replace("fill","bgFill");X.textStyles.push(Y)}X.styles.push(U)})})}setDirection(Z){if(this.direction=Z.trim(),/.*</.exec(this.direction))this.direction="RL";if(/.*\^/.exec(this.direction))this.direction="BT";if(/.*>/.exec(this.direction))this.direction="LR";if(/.*v/.exec(this.direction))this.direction="TB";if(this.direction==="TD")this.direction="TB"}setClass(Z,J){for(let Q of Z.split(",")){let K=this.vertices.get(Q);if(K)K.classes.push(J);let X=this.edges.find((Y)=>Y.id===Q);if(X)X.classes.push(J);let U=this.subGraphLookup.get(Q);if(U)U.classes.push(J)}}setTooltip(Z,J){if(J===void 0)return;J=this.sanitizeText(J);for(let Q of Z.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(Q):Q,J)}setClickFun(Z,J,Q){let K=this.lookUpDomId(Z);if(N0().securityLevel!=="loose")return;if(J===void 0)return;let X=[];if(typeof Q==="string"){X=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let Y=0;Y<X.length;Y++){let q=X[Y].trim();if(q.startsWith('"')&&q.endsWith('"'))q=q.substr(1,q.length-2);X[Y]=q}}if(X.length===0)X.push(Z);let U=this.vertices.get(Z);if(U)U.haveCallback=!0,this.funs.push(()=>{let Y=document.querySelector(`[id="${K}"]`);if(Y!==null)Y.addEventListener("click",()=>{n8.runFunc(J,...X)},!1)})}setLink(Z,J,Q){Z.split(",").forEach((K)=>{let X=this.vertices.get(K);if(X!==void 0)X.link=n8.formatUrl(J,this.config),X.linkTarget=Q}),this.setClass(Z,"clickable")}getTooltip(Z){return this.tooltips.get(Z)}setClickEvent(Z,J,Q){Z.split(",").forEach((K)=>{this.setClickFun(K,J,Q)}),this.setClass(Z,"clickable")}bindFunctions(Z){this.funs.forEach((J)=>{J(Z)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(Z){let J=i0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=i0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);i0(Z).select("svg").selectAll("g.node").on("mouseover",(X)=>{let U=i0(X.currentTarget);if(U.attr("title")===null)return;let q=X.currentTarget?.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(U.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.bottom+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),U.classed("hover",!0)}).on("mouseout",(X)=>{J.transition().duration(500).style("opacity",0),i0(X.currentTarget).classed("hover",!1)})}clear(Z="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=Z,this.config=N0(),S9()}setGen(Z){this.version=Z||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(Z,J,Q){let K=Z.text.trim(),X=Q.text;if(Z===Q&&/\s/.exec(Q.text))K=void 0;let Y=I((H)=>{let F={boolean:{},number:{},string:{}},M=[],B;return{nodeList:H.filter(function(R){let D=typeof R;if(R.stmt&&R.stmt==="dir")return B=R.value,!1;if(R.trim()==="")return!1;if(D in F)return F[D].hasOwnProperty(R)?!1:F[D][R]=!0;else return M.includes(R)?!1:M.push(R)}),dir:B}},"uniq")(J.flat()),q=Y.nodeList,W=Y.dir,G=N0().flowchart??{};if(W=W??(G.inheritDir?this.getDirection()??N0().direction??void 0:void 0),this.version==="gen-1")for(let H=0;H<q.length;H++)q[H]=this.lookUpDomId(q[H]);K=K??"subGraph"+this.subCount,X=X||"",X=this.sanitizeText(X),this.subCount=this.subCount+1;let z={id:K,nodes:q,title:X.trim(),classes:[],dir:W,labelType:Q.type};return Z0.info("Adding",z.id,z.nodes,z.dir),z.nodes=this.makeUniq(z,this.subGraphs).nodes,this.subGraphs.push(z),this.subGraphLookup.set(K,z),K}getPosForId(Z){for(let[J,Q]of this.subGraphs.entries())if(Q.id===Z)return J;return-1}indexNodes2(Z,J){let Q=this.subGraphs[J].nodes;if(this.secCount=this.secCount+1,this.secCount>2000)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=J,this.subGraphs[J].id===Z)return{result:!0,count:0};let K=0,X=1;while(K<Q.length){let U=this.getPosForId(Q[K]);if(U>=0){let Y=this.indexNodes2(Z,U);if(Y.result)return{result:!0,count:X+Y.count};else X=X+Y.count}K=K+1}return{result:!1,count:X}}getDepthFirstPos(Z){return this.posCrossRef[Z]}indexNodes(){if(this.secCount=-1,this.subGraphs.length>0)this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){if(this.firstGraphFlag)return this.firstGraphFlag=!1,!0;return!1}destructStartLink(Z){let J=Z.trim(),Q="arrow_open";switch(J[0]){case"<":Q="arrow_point",J=J.slice(1);break;case"x":Q="arrow_cross",J=J.slice(1);break;case"o":Q="arrow_circle",J=J.slice(1);break}let K="normal";if(J.includes("="))K="thick";if(J.includes("."))K="dotted";return{type:Q,stroke:K}}countChar(Z,J){let Q=J.length,K=0;for(let X=0;X<Q;++X)if(J[X]===Z)++K;return K}destructEndLink(Z){let J=Z.trim(),Q=J.slice(0,-1),K="arrow_open";switch(J.slice(-1)){case"x":if(K="arrow_cross",J.startsWith("x"))K="double_"+K,Q=Q.slice(1);break;case">":if(K="arrow_point",J.startsWith("<"))K="double_"+K,Q=Q.slice(1);break;case"o":if(K="arrow_circle",J.startsWith("o"))K="double_"+K,Q=Q.slice(1);break}let X="normal",U=Q.length-1;if(Q.startsWith("="))X="thick";if(Q.startsWith("~"))X="invisible";let Y=this.countChar(".",Q);if(Y)X="dotted",U=Y;return{type:K,stroke:X,length:U}}destructLink(Z,J){let Q=this.destructEndLink(Z),K;if(J){if(K=this.destructStartLink(J),K.stroke!==Q.stroke)return{type:"INVALID",stroke:"INVALID"};if(K.type==="arrow_open")K.type=Q.type;else{if(K.type!==Q.type)return{type:"INVALID",stroke:"INVALID"};K.type="double_"+K.type}if(K.type==="double_arrow")K.type="double_arrow_point";return K.length=Q.length,K}return Q}exists(Z,J){for(let Q of Z)if(Q.nodes.includes(J))return!0;return!1}makeUniq(Z,J){let Q=[];return Z.nodes.forEach((K,X)=>{if(!this.exists(J,K))Q.push(Z.nodes[X])}),{nodes:Q}}getTypeFromVertex(Z){if(Z.img)return"imageSquare";if(Z.icon){if(Z.form==="circle")return"iconCircle";if(Z.form==="square")return"iconSquare";if(Z.form==="rounded")return"iconRounded";return"icon"}switch(Z.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return Z.type}}findNode(Z,J){return Z.find((Q)=>Q.id===J)}destructEdgeType(Z){let J="none",Q="arrow_point";switch(Z){case"arrow_point":case"arrow_circle":case"arrow_cross":Q=Z;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":J=Z.replace("double_",""),Q=J;break}return{arrowTypeStart:J,arrowTypeEnd:Q}}addNodeFromVertex(Z,J,Q,K,X,U){let Y=Q.get(Z.id),q=K.get(Z.id)??!1,W=this.findNode(J,Z.id);if(W)W.cssStyles=Z.styles,W.cssCompiledStyles=this.getCompiledStyles(Z.classes),W.cssClasses=Z.classes.join(" ");else{let G={id:Z.id,label:Z.text,labelStyle:"",parentId:Y,padding:X.flowchart?.padding||8,cssStyles:Z.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...Z.classes]),cssClasses:"default "+Z.classes.join(" "),dir:Z.dir,domId:Z.domId,look:U,link:Z.link,linkTarget:Z.linkTarget,tooltip:this.getTooltip(Z.id),icon:Z.icon,pos:Z.pos,img:Z.img,assetWidth:Z.assetWidth,assetHeight:Z.assetHeight,constraint:Z.constraint};if(q)J.push({...G,isGroup:!0,shape:"rect"});else J.push({...G,isGroup:!1,shape:this.getTypeFromVertex(Z)})}}getCompiledStyles(Z){let J=[];for(let Q of Z){let K=this.classes.get(Q);if(K?.styles)J=[...J,...K.styles??[]].map((X)=>X.trim());if(K?.textStyles)J=[...J,...K.textStyles??[]].map((X)=>X.trim())}return J}getData(){let Z=N0(),J=[],Q=[],K=this.getSubGraphs(),X=new Map,U=new Map;for(let W=K.length-1;W>=0;W--){let G=K[W];if(G.nodes.length>0)U.set(G.id,!0);for(let z of G.nodes)X.set(z,G.id)}for(let W=K.length-1;W>=0;W--){let G=K[W];J.push({id:G.id,label:G.title,labelStyle:"",parentId:X.get(G.id),padding:8,cssCompiledStyles:this.getCompiledStyles(G.classes),cssClasses:G.classes.join(" "),shape:"rect",dir:G.dir,isGroup:!0,look:Z.look})}this.getVertices().forEach((W)=>{this.addNodeFromVertex(W,J,X,U,Z,Z.look||"classic")});let q=this.getEdges();return q.forEach((W,G)=>{let{arrowTypeStart:z,arrowTypeEnd:H}=this.destructEdgeType(W.type),F=[...q.defaultStyle??[]];if(W.style)F.push(...W.style);let M={id:kX(W.start,W.end,{counter:G,prefix:"L"},W.id),isUserDefinedId:W.isUserDefinedId,start:W.start,end:W.end,type:W.type??"normal",label:W.text,labelpos:"c",thickness:W.stroke,minlen:W.length,classes:W?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:W?.stroke==="invisible"||W?.type==="arrow_open"?"none":z,arrowTypeEnd:W?.stroke==="invisible"||W?.type==="arrow_open"?"none":H,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(W.classes),labelStyle:F,style:F,pattern:W.stroke,look:Z.look,animate:W.animate,animation:W.animation,curve:W.interpolate||this.edges.defaultInterpolate||Z.flowchart?.curve};Q.push(M)}),{nodes:J,edges:Q,other:{},config:Z}}defaultConfig(){return TV.flowchart}},c38=I(function(Z,J){return J.db.getClasses()},"getClasses"),l38=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing state diagram (v2)",J);let{securityLevel:X,flowchart:U,layout:Y}=N0(),q;if(X==="sandbox")q=i0("#i"+J);let W=X==="sandbox"?q.nodes()[0].contentDocument:document;Z0.debug("Before getData: ");let G=K.db.getData();Z0.debug("Data: ",G);let z=TK(J,X),H=K.db.getDirection();if(G.type=K.type,G.layoutAlgorithm=rX(Y),G.layoutAlgorithm==="dagre"&&Y==="elk")Z0.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback.");G.direction=H,G.nodeSpacing=U?.nodeSpacing||50,G.rankSpacing=U?.rankSpacing||50,G.markers=["point","circle","cross"],G.diagramId=J,Z0.debug("REF1:",G),await EK(G,z);let F=G.config.flowchart?.diagramPadding??8;n8.insertTitle(z,"flowchartTitleText",U?.titleTopMargin||0,K.db.getDiagramTitle()),e6(z,F,"flowchart",U?.useMaxWidth||!1);for(let M of G.nodes){let B=i0(`#${J} [id="${M.id}"]`);if(!B||!M.link)continue;let O=W.createElementNS("http://www.w3.org/2000/svg","a");if(O.setAttributeNS("http://www.w3.org/2000/svg","class",M.cssClasses),O.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),X==="sandbox")O.setAttributeNS("http://www.w3.org/2000/svg","target","_top");else if(M.linkTarget)O.setAttributeNS("http://www.w3.org/2000/svg","target",M.linkTarget);let R=B.insert(function(){return O},":first-child"),D=B.select(".label-container");if(D)R.append(function(){return D.node()});let L=B.select(".label");if(L)R.append(function(){return L.node()})}},"draw"),d38={getClasses:c38,draw:l38},Gs=function(){var Z=I(function(t9,Z8,A8,s8){for(A8=A8||{},s8=t9.length;s8--;A8[t9[s8]]=Z8);return A8},"o"),J=[1,4],Q=[1,3],K=[1,5],X=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],U=[2,2],Y=[1,13],q=[1,14],W=[1,15],G=[1,16],z=[1,23],H=[1,25],F=[1,26],M=[1,27],B=[1,49],O=[1,48],R=[1,29],D=[1,30],L=[1,31],A=[1,32],V=[1,33],N=[1,44],E=[1,46],j=[1,42],C=[1,47],$=[1,43],k=[1,50],w=[1,45],P=[1,51],T=[1,52],S=[1,34],f=[1,35],v=[1,36],x=[1,37],b=[1,57],y=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],u=[1,61],h=[1,60],p=[1,62],r=[8,9,11,75,77,78],e=[1,78],i=[1,91],U0=[1,96],a=[1,95],z0=[1,92],J0=[1,88],Q0=[1,94],t=[1,90],n=[1,97],Y0=[1,93],o=[1,98],M0=[1,89],X0=[8,9,10,11,40,75,77,78],E0=[8,9,10,11,40,46,75,77,78],d=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],c0=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],B0=[44,60,89,102,105,106,109,111,114,115,116],y0=[1,121],n0=[1,122],s0=[1,124],k0=[1,123],x0=[44,60,62,74,89,102,105,106,109,111,114,115,116],f0=[1,133],C0=[1,147],h0=[1,148],F0=[1,149],I0=[1,150],s=[1,135],H0=[1,137],m=[1,141],q0=[1,142],W0=[1,143],V0=[1,144],L0=[1,145],D0=[1,146],_0=[1,151],T0=[1,152],m0=[1,131],t0=[1,132],H8=[1,139],r0=[1,134],u0=[1,138],o0=[1,136],d0=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],U8=[1,154],u8=[1,156],O8=[8,9,11],S8=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],W8=[1,176],q8=[1,172],F8=[1,173],R8=[1,177],D8=[1,174],G8=[1,175],a9=[77,116,119],f8=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],o9=[10,106],p9=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],F9=[1,247],G9=[1,245],C9=[1,249],kZ=[1,243],M8=[1,244],S0=[1,246],Q8=[1,248],T8=[1,250],i9=[1,268],eZ=[8,9,11,106],c9=[8,9,10,11,60,84,105,106,109,110,111,112],VJ={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:I(function(Z8,A8,s8,Y8,k9,O0,i5){var A0=O0.length-1;switch(k9){case 2:this.$=[];break;case 3:if(!Array.isArray(O0[A0])||O0[A0].length>0)O0[A0-1].push(O0[A0]);this.$=O0[A0-1];break;case 4:case 183:this.$=O0[A0];break;case 11:Y8.setDirection("TB"),this.$="TB";break;case 12:Y8.setDirection(O0[A0-1]),this.$=O0[A0-1];break;case 27:this.$=O0[A0-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Y8.addSubGraph(O0[A0-6],O0[A0-1],O0[A0-4]);break;case 34:this.$=Y8.addSubGraph(O0[A0-3],O0[A0-1],O0[A0-3]);break;case 35:this.$=Y8.addSubGraph(void 0,O0[A0-1],void 0);break;case 37:this.$=O0[A0].trim(),Y8.setAccTitle(this.$);break;case 38:case 39:this.$=O0[A0].trim(),Y8.setAccDescription(this.$);break;case 43:this.$=O0[A0-1]+O0[A0];break;case 44:this.$=O0[A0];break;case 45:Y8.addVertex(O0[A0-1][O0[A0-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0]),Y8.addLink(O0[A0-3].stmt,O0[A0-1],O0[A0-2]),this.$={stmt:O0[A0-1],nodes:O0[A0-1].concat(O0[A0-3].nodes)};break;case 46:Y8.addLink(O0[A0-2].stmt,O0[A0],O0[A0-1]),this.$={stmt:O0[A0],nodes:O0[A0].concat(O0[A0-2].nodes)};break;case 47:Y8.addLink(O0[A0-3].stmt,O0[A0-1],O0[A0-2]),this.$={stmt:O0[A0-1],nodes:O0[A0-1].concat(O0[A0-3].nodes)};break;case 48:this.$={stmt:O0[A0-1],nodes:O0[A0-1]};break;case 49:Y8.addVertex(O0[A0-1][O0[A0-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0]),this.$={stmt:O0[A0-1],nodes:O0[A0-1],shapeData:O0[A0]};break;case 50:this.$={stmt:O0[A0],nodes:O0[A0]};break;case 51:this.$=[O0[A0]];break;case 52:Y8.addVertex(O0[A0-5][O0[A0-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0-4]),this.$=O0[A0-5].concat(O0[A0]);break;case 53:this.$=O0[A0-4].concat(O0[A0]);break;case 54:this.$=O0[A0];break;case 55:this.$=O0[A0-2],Y8.setClass(O0[A0-2],O0[A0]);break;case 56:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"square");break;case 57:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"doublecircle");break;case 58:this.$=O0[A0-5],Y8.addVertex(O0[A0-5],O0[A0-2],"circle");break;case 59:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"ellipse");break;case 60:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"stadium");break;case 61:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"subroutine");break;case 62:this.$=O0[A0-7],Y8.addVertex(O0[A0-7],O0[A0-1],"rect",void 0,void 0,void 0,Object.fromEntries([[O0[A0-5],O0[A0-3]]]));break;case 63:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"cylinder");break;case 64:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"round");break;case 65:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"diamond");break;case 66:this.$=O0[A0-5],Y8.addVertex(O0[A0-5],O0[A0-2],"hexagon");break;case 67:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"odd");break;case 68:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"trapezoid");break;case 69:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"inv_trapezoid");break;case 70:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"lean_right");break;case 71:this.$=O0[A0-3],Y8.addVertex(O0[A0-3],O0[A0-1],"lean_left");break;case 72:this.$=O0[A0],Y8.addVertex(O0[A0]);break;case 73:O0[A0-1].text=O0[A0],this.$=O0[A0-1];break;case 74:case 75:O0[A0-2].text=O0[A0-1],this.$=O0[A0-2];break;case 76:this.$=O0[A0];break;case 77:var GZ=Y8.destructLink(O0[A0],O0[A0-2]);this.$={type:GZ.type,stroke:GZ.stroke,length:GZ.length,text:O0[A0-1]};break;case 78:var GZ=Y8.destructLink(O0[A0],O0[A0-2]);this.$={type:GZ.type,stroke:GZ.stroke,length:GZ.length,text:O0[A0-1],id:O0[A0-3]};break;case 79:this.$={text:O0[A0],type:"text"};break;case 80:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 81:this.$={text:O0[A0],type:"string"};break;case 82:this.$={text:O0[A0],type:"markdown"};break;case 83:var GZ=Y8.destructLink(O0[A0]);this.$={type:GZ.type,stroke:GZ.stroke,length:GZ.length};break;case 84:var GZ=Y8.destructLink(O0[A0]);this.$={type:GZ.type,stroke:GZ.stroke,length:GZ.length,id:O0[A0-1]};break;case 85:this.$=O0[A0-1];break;case 86:this.$={text:O0[A0],type:"text"};break;case 87:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 88:this.$={text:O0[A0],type:"string"};break;case 89:case 104:this.$={text:O0[A0],type:"markdown"};break;case 101:this.$={text:O0[A0],type:"text"};break;case 102:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 103:this.$={text:O0[A0],type:"text"};break;case 105:this.$=O0[A0-4],Y8.addClass(O0[A0-2],O0[A0]);break;case 106:this.$=O0[A0-4],Y8.setClass(O0[A0-2],O0[A0]);break;case 107:case 115:this.$=O0[A0-1],Y8.setClickEvent(O0[A0-1],O0[A0]);break;case 108:case 116:this.$=O0[A0-3],Y8.setClickEvent(O0[A0-3],O0[A0-2]),Y8.setTooltip(O0[A0-3],O0[A0]);break;case 109:this.$=O0[A0-2],Y8.setClickEvent(O0[A0-2],O0[A0-1],O0[A0]);break;case 110:this.$=O0[A0-4],Y8.setClickEvent(O0[A0-4],O0[A0-3],O0[A0-2]),Y8.setTooltip(O0[A0-4],O0[A0]);break;case 111:this.$=O0[A0-2],Y8.setLink(O0[A0-2],O0[A0]);break;case 112:this.$=O0[A0-4],Y8.setLink(O0[A0-4],O0[A0-2]),Y8.setTooltip(O0[A0-4],O0[A0]);break;case 113:this.$=O0[A0-4],Y8.setLink(O0[A0-4],O0[A0-2],O0[A0]);break;case 114:this.$=O0[A0-6],Y8.setLink(O0[A0-6],O0[A0-4],O0[A0]),Y8.setTooltip(O0[A0-6],O0[A0-2]);break;case 117:this.$=O0[A0-1],Y8.setLink(O0[A0-1],O0[A0]);break;case 118:this.$=O0[A0-3],Y8.setLink(O0[A0-3],O0[A0-2]),Y8.setTooltip(O0[A0-3],O0[A0]);break;case 119:this.$=O0[A0-3],Y8.setLink(O0[A0-3],O0[A0-2],O0[A0]);break;case 120:this.$=O0[A0-5],Y8.setLink(O0[A0-5],O0[A0-4],O0[A0]),Y8.setTooltip(O0[A0-5],O0[A0-2]);break;case 121:this.$=O0[A0-4],Y8.addVertex(O0[A0-2],void 0,void 0,O0[A0]);break;case 122:this.$=O0[A0-4],Y8.updateLink([O0[A0-2]],O0[A0]);break;case 123:this.$=O0[A0-4],Y8.updateLink(O0[A0-2],O0[A0]);break;case 124:this.$=O0[A0-8],Y8.updateLinkInterpolate([O0[A0-6]],O0[A0-2]),Y8.updateLink([O0[A0-6]],O0[A0]);break;case 125:this.$=O0[A0-8],Y8.updateLinkInterpolate(O0[A0-6],O0[A0-2]),Y8.updateLink(O0[A0-6],O0[A0]);break;case 126:this.$=O0[A0-6],Y8.updateLinkInterpolate([O0[A0-4]],O0[A0]);break;case 127:this.$=O0[A0-6],Y8.updateLinkInterpolate(O0[A0-4],O0[A0]);break;case 128:case 130:this.$=[O0[A0]];break;case 129:case 131:O0[A0-2].push(O0[A0]),this.$=O0[A0-2];break;case 133:this.$=O0[A0-1]+O0[A0];break;case 181:this.$=O0[A0];break;case 182:this.$=O0[A0-1]+""+O0[A0];break;case 184:this.$=O0[A0-1]+""+O0[A0];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:J,10:Q,12:K},{1:[3]},Z(X,U,{5:6}),{4:7,9:J,10:Q,12:K},{4:8,9:J,10:Q,12:K},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:D,86:L,87:A,88:V,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T,121:S,122:f,123:v,124:x},Z(X,[2,9]),Z(X,[2,10]),Z(X,[2,11]),{8:[1,54],9:[1,55],10:b,15:53,18:56},Z(y,[2,3]),Z(y,[2,4]),Z(y,[2,5]),Z(y,[2,6]),Z(y,[2,7]),Z(y,[2,8]),{8:u,9:h,11:p,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:u,9:h,11:p,21:67},{8:u,9:h,11:p,21:68},{8:u,9:h,11:p,21:69},{8:u,9:h,11:p,21:70},{8:u,9:h,11:p,21:71},{8:u,9:h,10:[1,72],11:p,21:73},Z(y,[2,36]),{35:[1,74]},{37:[1,75]},Z(y,[2,39]),Z(r,[2,50],{18:76,39:77,10:b,40:e}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:i,44:U0,60:a,80:[1,86],89:z0,95:[1,83],97:[1,84],101:85,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0,120:87},Z(y,[2,185]),Z(y,[2,186]),Z(y,[2,187]),Z(y,[2,188]),Z(X0,[2,51]),Z(X0,[2,54],{46:[1,99]}),Z(E0,[2,72],{113:112,29:[1,100],44:B,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:O,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:N,102:E,105:j,106:C,109:$,111:k,114:w,115:P,116:T}),Z(d,[2,181]),Z(d,[2,142]),Z(d,[2,143]),Z(d,[2,144]),Z(d,[2,145]),Z(d,[2,146]),Z(d,[2,147]),Z(d,[2,148]),Z(d,[2,149]),Z(d,[2,150]),Z(d,[2,151]),Z(d,[2,152]),Z(X,[2,12]),Z(X,[2,18]),Z(X,[2,19]),{9:[1,113]},Z(c0,[2,26],{18:114,10:b}),Z(y,[2,27]),{42:115,43:38,44:B,45:39,47:40,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},Z(y,[2,40]),Z(y,[2,41]),Z(y,[2,42]),Z(B0,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:y0,81:n0,116:s0,119:k0},{75:[1,125],77:[1,126]},Z(x0,[2,83]),Z(y,[2,28]),Z(y,[2,29]),Z(y,[2,30]),Z(y,[2,31]),Z(y,[2,32]),{10:f0,12:C0,14:h0,27:F0,28:127,32:I0,44:s,60:H0,75:m,80:[1,129],81:[1,130],83:140,84:q0,85:W0,86:V0,87:L0,88:D0,89:_0,90:T0,91:128,105:m0,109:t0,111:H8,114:r0,115:u0,116:o0},Z(d0,U,{5:153}),Z(y,[2,37]),Z(y,[2,38]),Z(r,[2,48],{44:U8}),Z(r,[2,49],{18:155,10:b,40:u8}),Z(X0,[2,44]),{44:B,47:157,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},{102:[1,158],103:159,105:[1,160]},{44:B,47:161,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},{44:B,47:162,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},Z(O8,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},Z(O8,[2,115],{120:167,10:[1,166],14:i,44:U0,60:a,89:z0,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0}),Z(O8,[2,117],{10:[1,168]}),Z(S8,[2,183]),Z(S8,[2,170]),Z(S8,[2,171]),Z(S8,[2,172]),Z(S8,[2,173]),Z(S8,[2,174]),Z(S8,[2,175]),Z(S8,[2,176]),Z(S8,[2,177]),Z(S8,[2,178]),Z(S8,[2,179]),Z(S8,[2,180]),{44:B,47:169,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},{30:170,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:178,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:180,50:[1,179],67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:181,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:182,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:183,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{109:[1,184]},{30:185,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:186,65:[1,187],67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:188,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:189,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{30:190,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},Z(d,[2,182]),Z(X,[2,20]),Z(c0,[2,25]),Z(r,[2,46],{39:191,18:192,10:b,40:e}),Z(B0,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{77:[1,196],79:197,116:s0,119:k0},Z(a9,[2,79]),Z(a9,[2,81]),Z(a9,[2,82]),Z(a9,[2,168]),Z(a9,[2,169]),{76:198,79:120,80:y0,81:n0,116:s0,119:k0},Z(x0,[2,84]),{8:u,9:h,10:f0,11:p,12:C0,14:h0,21:200,27:F0,29:[1,199],32:I0,44:s,60:H0,75:m,83:140,84:q0,85:W0,86:V0,87:L0,88:D0,89:_0,90:T0,91:201,105:m0,109:t0,111:H8,114:r0,115:u0,116:o0},Z(f8,[2,101]),Z(f8,[2,103]),Z(f8,[2,104]),Z(f8,[2,157]),Z(f8,[2,158]),Z(f8,[2,159]),Z(f8,[2,160]),Z(f8,[2,161]),Z(f8,[2,162]),Z(f8,[2,163]),Z(f8,[2,164]),Z(f8,[2,165]),Z(f8,[2,166]),Z(f8,[2,167]),Z(f8,[2,90]),Z(f8,[2,91]),Z(f8,[2,92]),Z(f8,[2,93]),Z(f8,[2,94]),Z(f8,[2,95]),Z(f8,[2,96]),Z(f8,[2,97]),Z(f8,[2,98]),Z(f8,[2,99]),Z(f8,[2,100]),{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,202],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:D,86:L,87:A,88:V,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T,121:S,122:f,123:v,124:x},{10:b,18:203},{44:[1,204]},Z(X0,[2,43]),{10:[1,205],44:B,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:112,114:w,115:P,116:T},{10:[1,206]},{10:[1,207],106:[1,208]},Z(o9,[2,128]),{10:[1,209],44:B,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:112,114:w,115:P,116:T},{10:[1,210],44:B,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:112,114:w,115:P,116:T},{80:[1,211]},Z(O8,[2,109],{10:[1,212]}),Z(O8,[2,111],{10:[1,213]}),{80:[1,214]},Z(S8,[2,184]),{80:[1,215],98:[1,216]},Z(X0,[2,55],{113:112,44:B,60:O,89:N,102:E,105:j,106:C,109:$,111:k,114:w,115:P,116:T}),{31:[1,217],67:W8,82:218,116:R8,117:D8,118:G8},Z(p9,[2,86]),Z(p9,[2,88]),Z(p9,[2,89]),Z(p9,[2,153]),Z(p9,[2,154]),Z(p9,[2,155]),Z(p9,[2,156]),{49:[1,219],67:W8,82:218,116:R8,117:D8,118:G8},{30:220,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{51:[1,221],67:W8,82:218,116:R8,117:D8,118:G8},{53:[1,222],67:W8,82:218,116:R8,117:D8,118:G8},{55:[1,223],67:W8,82:218,116:R8,117:D8,118:G8},{57:[1,224],67:W8,82:218,116:R8,117:D8,118:G8},{60:[1,225]},{64:[1,226],67:W8,82:218,116:R8,117:D8,118:G8},{66:[1,227],67:W8,82:218,116:R8,117:D8,118:G8},{30:228,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},{31:[1,229],67:W8,82:218,116:R8,117:D8,118:G8},{67:W8,69:[1,230],71:[1,231],82:218,116:R8,117:D8,118:G8},{67:W8,69:[1,233],71:[1,232],82:218,116:R8,117:D8,118:G8},Z(r,[2,45],{18:155,10:b,40:u8}),Z(r,[2,47],{44:U8}),Z(B0,[2,75]),Z(B0,[2,74]),{62:[1,234],67:W8,82:218,116:R8,117:D8,118:G8},Z(B0,[2,77]),Z(a9,[2,80]),{77:[1,235],79:197,116:s0,119:k0},{30:236,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},Z(d0,U,{5:237}),Z(f8,[2,102]),Z(y,[2,35]),{43:238,44:B,45:39,47:40,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},{10:b,18:239},{10:F9,60:G9,84:C9,92:240,105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},{10:F9,60:G9,84:C9,92:251,104:[1,252],105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},{10:F9,60:G9,84:C9,92:253,104:[1,254],105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},{105:[1,255]},{10:F9,60:G9,84:C9,92:256,105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},{44:B,47:257,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},Z(O8,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},Z(O8,[2,116]),Z(O8,[2,118],{10:[1,261]}),Z(O8,[2,119]),Z(E0,[2,56]),Z(p9,[2,87]),Z(E0,[2,57]),{51:[1,262],67:W8,82:218,116:R8,117:D8,118:G8},Z(E0,[2,64]),Z(E0,[2,59]),Z(E0,[2,60]),Z(E0,[2,61]),{109:[1,263]},Z(E0,[2,63]),Z(E0,[2,65]),{66:[1,264],67:W8,82:218,116:R8,117:D8,118:G8},Z(E0,[2,67]),Z(E0,[2,68]),Z(E0,[2,70]),Z(E0,[2,69]),Z(E0,[2,71]),Z([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),Z(B0,[2,78]),{31:[1,265],67:W8,82:218,116:R8,117:D8,118:G8},{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,266],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:D,86:L,87:A,88:V,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T,121:S,122:f,123:v,124:x},Z(X0,[2,53]),{43:267,44:B,45:39,47:40,60:O,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T},Z(O8,[2,121],{106:i9}),Z(eZ,[2,130],{108:269,10:F9,60:G9,84:C9,105:kZ,109:M8,110:S0,111:Q8,112:T8}),Z(c9,[2,132]),Z(c9,[2,134]),Z(c9,[2,135]),Z(c9,[2,136]),Z(c9,[2,137]),Z(c9,[2,138]),Z(c9,[2,139]),Z(c9,[2,140]),Z(c9,[2,141]),Z(O8,[2,122],{106:i9}),{10:[1,270]},Z(O8,[2,123],{106:i9}),{10:[1,271]},Z(o9,[2,129]),Z(O8,[2,105],{106:i9}),Z(O8,[2,106],{113:112,44:B,60:O,89:N,102:E,105:j,106:C,109:$,111:k,114:w,115:P,116:T}),Z(O8,[2,110]),Z(O8,[2,112],{10:[1,272]}),Z(O8,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:u,9:h,11:p,21:277},Z(y,[2,34]),Z(X0,[2,52]),{10:F9,60:G9,84:C9,105:kZ,107:278,108:242,109:M8,110:S0,111:Q8,112:T8},Z(c9,[2,133]),{14:i,44:U0,60:a,89:z0,101:279,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0,120:87},{14:i,44:U0,60:a,89:z0,101:280,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0,120:87},{98:[1,281]},Z(O8,[2,120]),Z(E0,[2,58]),{30:282,67:W8,80:q8,81:F8,82:171,116:R8,117:D8,118:G8},Z(E0,[2,66]),Z(d0,U,{5:283}),Z(eZ,[2,131],{108:269,10:F9,60:G9,84:C9,105:kZ,109:M8,110:S0,111:Q8,112:T8}),Z(O8,[2,126],{120:167,10:[1,284],14:i,44:U0,60:a,89:z0,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0}),Z(O8,[2,127],{120:167,10:[1,285],14:i,44:U0,60:a,89:z0,105:J0,106:Q0,109:t,111:n,114:Y0,115:o,116:M0}),Z(O8,[2,114]),{31:[1,286],67:W8,82:218,116:R8,117:D8,118:G8},{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,287],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:D,86:L,87:A,88:V,89:N,102:E,105:j,106:C,109:$,111:k,113:41,114:w,115:P,116:T,121:S,122:f,123:v,124:x},{10:F9,60:G9,84:C9,92:288,105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},{10:F9,60:G9,84:C9,92:289,105:kZ,107:241,108:242,109:M8,110:S0,111:Q8,112:T8},Z(E0,[2,62]),Z(y,[2,33]),Z(O8,[2,124],{106:i9}),Z(O8,[2,125],{106:i9})],defaultActions:{},parseError:I(function(Z8,A8){if(A8.recoverable)this.trace(Z8);else{var s8=Error(Z8);throw s8.hash=A8,s8}},"parseError"),parse:I(function(Z8){var A8=this,s8=[0],Y8=[],k9=[null],O0=[],i5=this.table,A0="",GZ=0,QN=0,wf=0,$f=2,M00=1,lc0=O0.slice.call(arguments,1),S7=Object.create(this.lexer),iW={yy:{}};for(var kf in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,kf))iW.yy[kf]=this.yy[kf];if(S7.setInput(Z8,iW.yy),iW.yy.lexer=S7,iW.yy.parser=this,typeof S7.yylloc>"u")S7.yylloc={};var _f=S7.yylloc;O0.push(_f);var dc0=S7.options&&S7.options.ranges;if(typeof iW.yy.parseError==="function")this.parseError=iW.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function ic0(n4){s8.length=s8.length-2*n4,k9.length=k9.length-n4,O0.length=O0.length-n4}I(ic0,"popStack");function B00(){var n4=Y8.pop()||S7.lex()||M00;if(typeof n4!=="number"){if(n4 instanceof Array)Y8=n4,n4=Y8.pop();n4=A8.symbols_[n4]||n4}return n4}I(B00,"lex");var pQ,ff,sW,r4,wd8,vf,UH={},KN,$U,O00,XN;while(!0){if(sW=s8[s8.length-1],this.defaultActions[sW])r4=this.defaultActions[sW];else{if(pQ===null||typeof pQ>"u")pQ=B00();r4=i5[sW]&&i5[sW][pQ]}if(typeof r4>"u"||!r4.length||!r4[0]){var xf="";XN=[];for(KN in i5[sW])if(this.terminals_[KN]&&KN>$f)XN.push("'"+this.terminals_[KN]+"'");if(S7.showPosition)xf="Parse error on line "+(GZ+1)+`:
`+S7.showPosition()+`
Expecting `+XN.join(", ")+", got '"+(this.terminals_[pQ]||pQ)+"'";else xf="Parse error on line "+(GZ+1)+": Unexpected "+(pQ==M00?"end of input":"'"+(this.terminals_[pQ]||pQ)+"'");this.parseError(xf,{text:S7.match,token:this.terminals_[pQ]||pQ,line:S7.yylineno,loc:_f,expected:XN})}if(r4[0]instanceof Array&&r4.length>1)throw Error("Parse Error: multiple actions possible at state: "+sW+", token: "+pQ);switch(r4[0]){case 1:if(s8.push(pQ),k9.push(S7.yytext),O0.push(S7.yylloc),s8.push(r4[1]),pQ=null,!ff){if(QN=S7.yyleng,A0=S7.yytext,GZ=S7.yylineno,_f=S7.yylloc,wf>0)wf--}else pQ=ff,ff=null;break;case 2:if($U=this.productions_[r4[1]][1],UH.$=k9[k9.length-$U],UH._$={first_line:O0[O0.length-($U||1)].first_line,last_line:O0[O0.length-1].last_line,first_column:O0[O0.length-($U||1)].first_column,last_column:O0[O0.length-1].last_column},dc0)UH._$.range=[O0[O0.length-($U||1)].range[0],O0[O0.length-1].range[1]];if(vf=this.performAction.apply(UH,[A0,QN,GZ,iW.yy,r4[1],k9,O0].concat(lc0)),typeof vf<"u")return vf;if($U)s8=s8.slice(0,-1*$U*2),k9=k9.slice(0,-1*$U),O0=O0.slice(0,-1*$U);s8.push(this.productions_[r4[1]][0]),k9.push(UH.$),O0.push(UH._$),O00=i5[s8[s8.length-2]][s8[s8.length-1]],s8.push(O00);break;case 3:return!0}}return!0},"parse")},l7=function(){var t9={EOF:1,parseError:I(function(A8,s8){if(this.yy.parser)this.yy.parser.parseError(A8,s8);else throw Error(A8)},"parseError"),setInput:I(function(Z8,A8){if(this.yy=A8||this.yy||{},this._input=Z8,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var Z8=this._input[0];this.yytext+=Z8,this.yyleng++,this.offset++,this.match+=Z8,this.matched+=Z8;var A8=Z8.match(/(?:\r\n?|\n).*/g);if(A8)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),Z8},"input"),unput:I(function(Z8){var A8=Z8.length,s8=Z8.split(/(?:\r\n?|\n)/g);this._input=Z8+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A8),this.offset-=A8;var Y8=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s8.length-1)this.yylineno-=s8.length-1;var k9=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s8?(s8.length===Y8.length?this.yylloc.first_column:0)+Y8[Y8.length-s8.length].length-s8[0].length:this.yylloc.first_column-A8},this.options.ranges)this.yylloc.range=[k9[0],k9[0]+this.yyleng-A8];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(Z8){this.unput(this.match.slice(Z8))},"less"),pastInput:I(function(){var Z8=this.matched.substr(0,this.matched.length-this.match.length);return(Z8.length>20?"...":"")+Z8.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var Z8=this.match;if(Z8.length<20)Z8+=this._input.substr(0,20-Z8.length);return(Z8.substr(0,20)+(Z8.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var Z8=this.pastInput(),A8=Array(Z8.length+1).join("-");return Z8+this.upcomingInput()+`
`+A8+"^"},"showPosition"),test_match:I(function(Z8,A8){var s8,Y8,k9;if(this.options.backtrack_lexer){if(k9={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)k9.yylloc.range=this.yylloc.range.slice(0)}if(Y8=Z8[0].match(/(?:\r\n?|\n).*/g),Y8)this.yylineno+=Y8.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y8?Y8[Y8.length-1].length-Y8[Y8.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z8[0].length},this.yytext+=Z8[0],this.match+=Z8[0],this.matches=Z8,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z8[0].length),this.matched+=Z8[0],s8=this.performAction.call(this,this.yy,this,A8,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(s8)return s8;else if(this._backtrack){for(var O0 in k9)this[O0]=k9[O0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var Z8,A8,s8,Y8;if(!this._more)this.yytext="",this.match="";var k9=this._currentRules();for(var O0=0;O0<k9.length;O0++)if(s8=this._input.match(this.rules[k9[O0]]),s8&&(!A8||s8[0].length>A8[0].length)){if(A8=s8,Y8=O0,this.options.backtrack_lexer)if(Z8=this.test_match(s8,k9[O0]),Z8!==!1)return Z8;else if(this._backtrack){A8=!1;continue}else return!1;else if(!this.options.flex)break}if(A8){if(Z8=this.test_match(A8,k9[Y8]),Z8!==!1)return Z8;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var A8=this.next();if(A8)return A8;else return this.lex()},"lex"),begin:I(function(A8){this.conditionStack.push(A8)},"begin"),popState:I(function(){var A8=this.conditionStack.length-1;if(A8>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(A8){if(A8=this.conditionStack.length-1-Math.abs(A8||0),A8>=0)return this.conditionStack[A8];else return"INITIAL"},"topState"),pushState:I(function(A8){this.begin(A8)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(A8,s8,Y8,k9){var O0=k9;switch(Y8){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),s8.yytext="",40;break;case 8:return this.pushState("shapeDataStr"),40;break;case 9:return this.popState(),40;break;case 10:let i5=/\n\s*/g;return s8.yytext=s8.yytext.replace(i5,"<br/>"),40;break;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:if(A8.lex.firstGraph())this.begin("dir");return 12;case 36:if(A8.lex.firstGraph())this.begin("dir");return 12;case 37:if(A8.lex.firstGraph())this.begin("dir");return 12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return this.popState(),14;break;case 50:return this.popState(),14;break;case 51:return this.popState(),14;break;case 52:return this.popState(),14;break;case 53:return this.popState(),14;break;case 54:return this.popState(),14;break;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;break;case 69:return this.pushState("edgeText"),75;break;case 70:return 119;case 71:return this.popState(),77;break;case 72:return this.pushState("thickEdgeText"),75;break;case 73:return 119;case 74:return this.popState(),77;break;case 75:return this.pushState("dottedEdgeText"),75;break;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;break;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;break;case 81:return this.popState(),55;break;case 82:return this.pushState("text"),54;break;case 83:return this.popState(),57;break;case 84:return this.pushState("text"),56;break;case 85:return 58;case 86:return this.pushState("text"),67;break;case 87:return this.popState(),64;break;case 88:return this.pushState("text"),63;break;case 89:return this.popState(),49;break;case 90:return this.pushState("text"),48;break;case 91:return this.popState(),69;break;case 92:return this.popState(),71;break;case 93:return 117;case 94:return this.pushState("trapText"),68;break;case 95:return this.pushState("trapText"),70;break;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;break;case 108:return this.pushState("text"),62;break;case 109:return this.popState(),51;break;case 110:return this.pushState("text"),50;break;case 111:return this.popState(),31;break;case 112:return this.pushState("text"),29;break;case 113:return this.popState(),66;break;case 114:return this.pushState("text"),65;break;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return t9}();VJ.lexer=l7;function Z7(){this.yy={}}return I(Z7,"Parser"),Z7.prototype=VJ,VJ.Parser=Z7,new Z7}();Gs.parser=Gs;IE0=Gs,AE0=Object.assign({},IE0);AE0.parse=(Z)=>{let J=Z.replace(/}\s*\n/g,`}
`);return IE0.parse(J)};i38=AE0,s38=I((Z,J)=>{let Q=RG,K=Q(Z,"r"),X=Q(Z,"g"),U=Q(Z,"b");return sQ(K,X,U,J)},"fade"),r38=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span {
    color: ${Z.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${Z.lineColor} !important;
    stroke-width: 0;
    stroke: ${Z.lineColor};
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    p {
      background-color: ${Z.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${s38(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${Z.clusterBkg};
    stroke: ${Z.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${Z.edgeLabelBackground};
    p {
      background-color: ${Z.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }
  ${oX()}
`,"getStyles"),n38=r38,a38={parser:i38,get db(){return new p38},renderer:d38,styles:n38,init:I((Z)=>{if(!Z.flowchart)Z.flowchart={};if(Z.layout)W3({layout:Z.layout});Z.flowchart.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,W3({flowchart:{arrowMarkerAbsolute:Z.arrowMarkerAbsolute}})},"init")}});var EE0={};z9(EE0,{diagram:()=>KD8});var zs,o38,t38,NE0,e38,ZD8,JD8,QD8,KD8;var VE0=_(()=>{S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();A9();V4();zs=function(){var Z=I(function(n,Y0,o,M0){for(o=o||{},M0=n.length;M0--;o[n[M0]]=Y0);return o},"o"),J=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],Q=[1,10],K=[1,11],X=[1,12],U=[1,13],Y=[1,20],q=[1,21],W=[1,22],G=[1,23],z=[1,24],H=[1,19],F=[1,25],M=[1,26],B=[1,18],O=[1,33],R=[1,34],D=[1,35],L=[1,36],A=[1,37],V=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],N=[1,42],E=[1,43],j=[1,52],C=[40,50,68,69],$=[1,63],k=[1,61],w=[1,58],P=[1,62],T=[1,64],S=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],f=[63,64,65,66,67],v=[1,81],x=[1,80],b=[1,78],y=[1,79],u=[6,10,42,47],h=[6,10,13,41,42,47,48,49],p=[1,89],r=[1,88],e=[1,87],i=[19,56],U0=[1,98],a=[1,97],z0=[19,56,58,60],J0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:I(function(Y0,o,M0,X0,E0,d,c0){var B0=d.length-1;switch(E0){case 1:break;case 2:this.$=[];break;case 3:d[B0-1].push(d[B0]),this.$=d[B0-1];break;case 4:case 5:this.$=d[B0];break;case 6:case 7:this.$=[];break;case 8:X0.addEntity(d[B0-4]),X0.addEntity(d[B0-2]),X0.addRelationship(d[B0-4],d[B0],d[B0-2],d[B0-3]);break;case 9:X0.addEntity(d[B0-8]),X0.addEntity(d[B0-4]),X0.addRelationship(d[B0-8],d[B0],d[B0-4],d[B0-5]),X0.setClass([d[B0-8]],d[B0-6]),X0.setClass([d[B0-4]],d[B0-2]);break;case 10:X0.addEntity(d[B0-6]),X0.addEntity(d[B0-2]),X0.addRelationship(d[B0-6],d[B0],d[B0-2],d[B0-3]),X0.setClass([d[B0-6]],d[B0-4]);break;case 11:X0.addEntity(d[B0-6]),X0.addEntity(d[B0-4]),X0.addRelationship(d[B0-6],d[B0],d[B0-4],d[B0-5]),X0.setClass([d[B0-4]],d[B0-2]);break;case 12:X0.addEntity(d[B0-3]),X0.addAttributes(d[B0-3],d[B0-1]);break;case 13:X0.addEntity(d[B0-5]),X0.addAttributes(d[B0-5],d[B0-1]),X0.setClass([d[B0-5]],d[B0-3]);break;case 14:X0.addEntity(d[B0-2]);break;case 15:X0.addEntity(d[B0-4]),X0.setClass([d[B0-4]],d[B0-2]);break;case 16:X0.addEntity(d[B0]);break;case 17:X0.addEntity(d[B0-2]),X0.setClass([d[B0-2]],d[B0]);break;case 18:X0.addEntity(d[B0-6],d[B0-4]),X0.addAttributes(d[B0-6],d[B0-1]);break;case 19:X0.addEntity(d[B0-8],d[B0-6]),X0.addAttributes(d[B0-8],d[B0-1]),X0.setClass([d[B0-8]],d[B0-3]);break;case 20:X0.addEntity(d[B0-5],d[B0-3]);break;case 21:X0.addEntity(d[B0-7],d[B0-5]),X0.setClass([d[B0-7]],d[B0-2]);break;case 22:X0.addEntity(d[B0-3],d[B0-1]);break;case 23:X0.addEntity(d[B0-5],d[B0-3]),X0.setClass([d[B0-5]],d[B0]);break;case 24:case 25:this.$=d[B0].trim(),X0.setAccTitle(this.$);break;case 26:case 27:this.$=d[B0].trim(),X0.setAccDescription(this.$);break;case 32:X0.setDirection("TB");break;case 33:X0.setDirection("BT");break;case 34:X0.setDirection("RL");break;case 35:X0.setDirection("LR");break;case 36:this.$=d[B0-3],X0.addClass(d[B0-2],d[B0-1]);break;case 37:case 38:case 56:case 64:this.$=[d[B0]];break;case 39:case 40:this.$=d[B0-2].concat([d[B0]]);break;case 41:this.$=d[B0-2],X0.setClass(d[B0-1],d[B0]);break;case 42:this.$=d[B0-3],X0.addCssStyles(d[B0-2],d[B0-1]);break;case 43:this.$=[d[B0]];break;case 44:d[B0-2].push(d[B0]),this.$=d[B0-2];break;case 46:this.$=d[B0-1]+d[B0];break;case 54:case 76:case 77:this.$=d[B0].replace(/"/g,"");break;case 55:case 78:this.$=d[B0];break;case 57:d[B0].push(d[B0-1]),this.$=d[B0];break;case 58:this.$={type:d[B0-1],name:d[B0]};break;case 59:this.$={type:d[B0-2],name:d[B0-1],keys:d[B0]};break;case 60:this.$={type:d[B0-2],name:d[B0-1],comment:d[B0]};break;case 61:this.$={type:d[B0-3],name:d[B0-2],keys:d[B0-1],comment:d[B0]};break;case 62:case 63:case 66:this.$=d[B0];break;case 65:d[B0-2].push(d[B0]),this.$=d[B0-2];break;case 67:this.$=d[B0].replace(/"/g,"");break;case 68:this.$={cardA:d[B0],relType:d[B0-1],cardB:d[B0-2]};break;case 69:this.$=X0.Cardinality.ZERO_OR_ONE;break;case 70:this.$=X0.Cardinality.ZERO_OR_MORE;break;case 71:this.$=X0.Cardinality.ONE_OR_MORE;break;case 72:this.$=X0.Cardinality.ONLY_ONE;break;case 73:this.$=X0.Cardinality.MD_PARENT;break;case 74:this.$=X0.Identification.NON_IDENTIFYING;break;case 75:this.$=X0.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:Q,24:K,26:X,28:U,29:14,30:15,31:16,32:17,33:Y,34:q,35:W,36:G,37:z,40:H,43:F,44:M,50:B},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:27,11:9,22:Q,24:K,26:X,28:U,29:14,30:15,31:16,32:17,33:Y,34:q,35:W,36:G,37:z,40:H,43:F,44:M,50:B},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:O,64:R,65:D,66:L,67:A}),{23:[1,38]},{25:[1,39]},{27:[1,40]},Z(J,[2,27]),Z(J,[2,28]),Z(J,[2,29]),Z(J,[2,30]),Z(J,[2,31]),Z(V,[2,54]),Z(V,[2,55]),Z(J,[2,32]),Z(J,[2,33]),Z(J,[2,34]),Z(J,[2,35]),{16:41,40:N,41:E},{16:44,40:N,41:E},{16:45,40:N,41:E},Z(J,[2,4]),{11:46,40:H,50:B},{16:47,40:N,41:E},{18:48,19:[1,49],51:50,52:51,56:j},{11:53,40:H,50:B},{62:54,68:[1,55],69:[1,56]},Z(C,[2,69]),Z(C,[2,70]),Z(C,[2,71]),Z(C,[2,72]),Z(C,[2,73]),Z(J,[2,24]),Z(J,[2,25]),Z(J,[2,26]),{13:$,38:57,41:k,42:w,45:59,46:60,48:P,49:T},Z(S,[2,37]),Z(S,[2,38]),{16:65,40:N,41:E,42:w},{13:$,38:66,41:k,42:w,45:59,46:60,48:P,49:T},{13:[1,67],15:[1,68]},Z(J,[2,17],{61:32,12:69,17:[1,70],42:w,63:O,64:R,65:D,66:L,67:A}),{19:[1,71]},Z(J,[2,14]),{18:72,19:[2,56],51:50,52:51,56:j},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:O,64:R,65:D,66:L,67:A},Z(f,[2,74]),Z(f,[2,75]),{6:v,10:x,39:77,42:b,47:y},{40:[1,82],41:[1,83]},Z(u,[2,43],{46:84,13:$,41:k,48:P,49:T}),Z(h,[2,45]),Z(h,[2,50]),Z(h,[2,51]),Z(h,[2,52]),Z(h,[2,53]),Z(J,[2,41],{42:w}),{6:v,10:x,39:85,42:b,47:y},{14:86,40:p,50:r,70:e},{16:90,40:N,41:E},{11:91,40:H,50:B},{18:92,19:[1,93],51:50,52:51,56:j},Z(J,[2,12]),{19:[2,57]},Z(i,[2,58],{54:94,55:95,57:96,59:U0,60:a}),Z([19,56,59,60],[2,63]),Z(J,[2,22],{15:[1,100],17:[1,99]}),Z([40,50],[2,68]),Z(J,[2,36]),{13:$,41:k,45:101,46:60,48:P,49:T},Z(J,[2,47]),Z(J,[2,48]),Z(J,[2,49]),Z(S,[2,39]),Z(S,[2,40]),Z(h,[2,46]),Z(J,[2,42]),Z(J,[2,8]),Z(J,[2,76]),Z(J,[2,77]),Z(J,[2,78]),{13:[1,102],42:w},{13:[1,104],15:[1,103]},{19:[1,105]},Z(J,[2,15]),Z(i,[2,59],{55:106,58:[1,107],60:a}),Z(i,[2,60]),Z(z0,[2,64]),Z(i,[2,67]),Z(z0,[2,66]),{18:108,19:[1,109],51:50,52:51,56:j},{16:110,40:N,41:E},Z(u,[2,44],{46:84,13:$,41:k,48:P,49:T}),{14:111,40:p,50:r,70:e},{16:112,40:N,41:E},{14:113,40:p,50:r,70:e},Z(J,[2,13]),Z(i,[2,61]),{57:114,59:U0},{19:[1,115]},Z(J,[2,20]),Z(J,[2,23],{17:[1,116],42:w}),Z(J,[2,11]),{13:[1,117],42:w},Z(J,[2,10]),Z(z0,[2,65]),Z(J,[2,18]),{18:118,19:[1,119],51:50,52:51,56:j},{14:120,40:p,50:r,70:e},{19:[1,121]},Z(J,[2,21]),Z(J,[2,9]),Z(J,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:I(function(Y0,o){if(o.recoverable)this.trace(Y0);else{var M0=Error(Y0);throw M0.hash=o,M0}},"parseError"),parse:I(function(Y0){var o=this,M0=[0],X0=[],E0=[null],d=[],c0=this.table,B0="",y0=0,n0=0,s0=0,k0=2,x0=1,f0=d.slice.call(arguments,1),C0=Object.create(this.lexer),h0={yy:{}};for(var F0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,F0))h0.yy[F0]=this.yy[F0];if(C0.setInput(Y0,h0.yy),h0.yy.lexer=C0,h0.yy.parser=this,typeof C0.yylloc>"u")C0.yylloc={};var I0=C0.yylloc;d.push(I0);var s=C0.options&&C0.options.ranges;if(typeof h0.yy.parseError==="function")this.parseError=h0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function H0(o0){M0.length=M0.length-2*o0,E0.length=E0.length-o0,d.length=d.length-o0}I(H0,"popStack");function m(){var o0=X0.pop()||C0.lex()||x0;if(typeof o0!=="number"){if(o0 instanceof Array)X0=o0,o0=X0.pop();o0=o.symbols_[o0]||o0}return o0}I(m,"lex");var q0,W0,V0,L0,D0,_0,T0={},m0,t0,H8,r0;while(!0){if(V0=M0[M0.length-1],this.defaultActions[V0])L0=this.defaultActions[V0];else{if(q0===null||typeof q0>"u")q0=m();L0=c0[V0]&&c0[V0][q0]}if(typeof L0>"u"||!L0.length||!L0[0]){var u0="";r0=[];for(m0 in c0[V0])if(this.terminals_[m0]&&m0>k0)r0.push("'"+this.terminals_[m0]+"'");if(C0.showPosition)u0="Parse error on line "+(y0+1)+`:
`+C0.showPosition()+`
Expecting `+r0.join(", ")+", got '"+(this.terminals_[q0]||q0)+"'";else u0="Parse error on line "+(y0+1)+": Unexpected "+(q0==x0?"end of input":"'"+(this.terminals_[q0]||q0)+"'");this.parseError(u0,{text:C0.match,token:this.terminals_[q0]||q0,line:C0.yylineno,loc:I0,expected:r0})}if(L0[0]instanceof Array&&L0.length>1)throw Error("Parse Error: multiple actions possible at state: "+V0+", token: "+q0);switch(L0[0]){case 1:if(M0.push(q0),E0.push(C0.yytext),d.push(C0.yylloc),M0.push(L0[1]),q0=null,!W0){if(n0=C0.yyleng,B0=C0.yytext,y0=C0.yylineno,I0=C0.yylloc,s0>0)s0--}else q0=W0,W0=null;break;case 2:if(t0=this.productions_[L0[1]][1],T0.$=E0[E0.length-t0],T0._$={first_line:d[d.length-(t0||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(t0||1)].first_column,last_column:d[d.length-1].last_column},s)T0._$.range=[d[d.length-(t0||1)].range[0],d[d.length-1].range[1]];if(_0=this.performAction.apply(T0,[B0,n0,y0,h0.yy,L0[1],E0,d].concat(f0)),typeof _0<"u")return _0;if(t0)M0=M0.slice(0,-1*t0*2),E0=E0.slice(0,-1*t0),d=d.slice(0,-1*t0);M0.push(this.productions_[L0[1]][0]),E0.push(T0.$),d.push(T0._$),H8=c0[M0[M0.length-2]][M0[M0.length-1]],M0.push(H8);break;case 3:return!0}}return!0},"parse")},Q0=function(){var n={EOF:1,parseError:I(function(o,M0){if(this.yy.parser)this.yy.parser.parseError(o,M0);else throw Error(o)},"parseError"),setInput:I(function(Y0,o){if(this.yy=o||this.yy||{},this._input=Y0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var Y0=this._input[0];this.yytext+=Y0,this.yyleng++,this.offset++,this.match+=Y0,this.matched+=Y0;var o=Y0.match(/(?:\r\n?|\n).*/g);if(o)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),Y0},"input"),unput:I(function(Y0){var o=Y0.length,M0=Y0.split(/(?:\r\n?|\n)/g);this._input=Y0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-o),this.offset-=o;var X0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M0.length-1)this.yylineno-=M0.length-1;var E0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M0?(M0.length===X0.length?this.yylloc.first_column:0)+X0[X0.length-M0.length].length-M0[0].length:this.yylloc.first_column-o},this.options.ranges)this.yylloc.range=[E0[0],E0[0]+this.yyleng-o];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(Y0){this.unput(this.match.slice(Y0))},"less"),pastInput:I(function(){var Y0=this.matched.substr(0,this.matched.length-this.match.length);return(Y0.length>20?"...":"")+Y0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var Y0=this.match;if(Y0.length<20)Y0+=this._input.substr(0,20-Y0.length);return(Y0.substr(0,20)+(Y0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var Y0=this.pastInput(),o=Array(Y0.length+1).join("-");return Y0+this.upcomingInput()+`
`+o+"^"},"showPosition"),test_match:I(function(Y0,o){var M0,X0,E0;if(this.options.backtrack_lexer){if(E0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)E0.yylloc.range=this.yylloc.range.slice(0)}if(X0=Y0[0].match(/(?:\r\n?|\n).*/g),X0)this.yylineno+=X0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X0?X0[X0.length-1].length-X0[X0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y0[0].length},this.yytext+=Y0[0],this.match+=Y0[0],this.matches=Y0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y0[0].length),this.matched+=Y0[0],M0=this.performAction.call(this,this.yy,this,o,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(M0)return M0;else if(this._backtrack){for(var d in E0)this[d]=E0[d];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var Y0,o,M0,X0;if(!this._more)this.yytext="",this.match="";var E0=this._currentRules();for(var d=0;d<E0.length;d++)if(M0=this._input.match(this.rules[E0[d]]),M0&&(!o||M0[0].length>o[0].length)){if(o=M0,X0=d,this.options.backtrack_lexer)if(Y0=this.test_match(M0,E0[d]),Y0!==!1)return Y0;else if(this._backtrack){o=!1;continue}else return!1;else if(!this.options.flex)break}if(o){if(Y0=this.test_match(o,E0[X0]),Y0!==!1)return Y0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var o=this.next();if(o)return o;else return this.lex()},"lex"),begin:I(function(o){this.conditionStack.push(o)},"begin"),popState:I(function(){var o=this.conditionStack.length-1;if(o>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(o){if(o=this.conditionStack.length-1-Math.abs(o||0),o>=0)return this.conditionStack[o];else return"INITIAL"},"topState"),pushState:I(function(o){this.begin(o)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(o,M0,X0,E0){var d=E0;switch(X0){case 0:return this.begin("acc_title"),24;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),26;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;break;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;break;case 30:return M0.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;break;case 34:return this.popState(),10;break;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;break;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return M0.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return n}();J0.lexer=Q0;function t(){this.yy={}}return I(t,"Parser"),t.prototype=J0,J0.Parser=t,new t}();zs.parser=zs;o38=zs,t38=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=v9,this.getAccTitle=y9,this.setAccDescription=h9,this.getAccDescription=m9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getConfig=I(()=>N0().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{I(this,"ErDB")}addEntity(Z,J=""){if(!this.entities.has(Z))this.entities.set(Z,{id:`entity-${Z}-${this.entities.size}`,label:Z,attributes:[],alias:J,shape:"erBox",look:N0().look??"default",cssClasses:"default",cssStyles:[]}),Z0.info("Added new entity :",Z);else if(!this.entities.get(Z)?.alias&&J)this.entities.get(Z).alias=J,Z0.info(`Add alias '${J}' to entity '${Z}'`);return this.entities.get(Z)}getEntity(Z){return this.entities.get(Z)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(Z,J){let Q=this.addEntity(Z),K;for(K=J.length-1;K>=0;K--){if(!J[K].keys)J[K].keys=[];if(!J[K].comment)J[K].comment="";Q.attributes.push(J[K]),Z0.debug("Added attribute ",J[K].name)}}addRelationship(Z,J,Q,K){let X=this.entities.get(Z),U=this.entities.get(Q);if(!X||!U)return;let Y={entityA:X.id,roleA:J,entityB:U.id,relSpec:K};this.relationships.push(Y),Z0.debug("Added new relationship :",Y)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(Z){this.direction=Z}getCompiledStyles(Z){let J=[];for(let Q of Z){let K=this.classes.get(Q);if(K?.styles)J=[...J,...K.styles??[]].map((X)=>X.trim());if(K?.textStyles)J=[...J,...K.textStyles??[]].map((X)=>X.trim())}return J}addCssStyles(Z,J){for(let Q of Z){let K=this.entities.get(Q);if(!J||!K)return;for(let X of J)K.cssStyles.push(X)}}addClass(Z,J){Z.forEach((Q)=>{let K=this.classes.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.classes.set(Q,K);if(J)J.forEach(function(X){if(/color/.exec(X)){let U=X.replace("fill","bgFill");K.textStyles.push(U)}K.styles.push(X)})})}setClass(Z,J){for(let Q of Z){let K=this.entities.get(Q);if(K)for(let X of J)K.cssClasses+=" "+X}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],S9()}getData(){let Z=[],J=[],Q=N0();for(let X of this.entities.keys()){let U=this.entities.get(X);if(U)U.cssCompiledStyles=this.getCompiledStyles(U.cssClasses.split(" ")),Z.push(U)}let K=0;for(let X of this.relationships){let U={id:kX(X.entityA,X.entityB,{prefix:"id",counter:K++}),type:"normal",curve:"basis",start:X.entityA,end:X.entityB,label:X.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:X.relSpec.cardB.toLowerCase(),arrowTypeEnd:X.relSpec.cardA.toLowerCase(),pattern:X.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:Q.look};J.push(U)}return{nodes:Z,edges:J,other:{},config:Q,direction:"TB"}}},NE0={};F1(NE0,{draw:()=>e38});e38=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing er diagram (unified)",J);let{securityLevel:X,er:U,layout:Y}=N0(),q=K.db.getData(),W=TK(J,X);if(q.type=K.type,q.layoutAlgorithm=rX(Y),q.config.flowchart.nodeSpacing=U?.nodeSpacing||140,q.config.flowchart.rankSpacing=U?.rankSpacing||80,q.direction=K.db.getDirection(),q.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],q.diagramId=J,await EK(q,W),q.layoutAlgorithm==="elk")W.select(".edges").lower();let G=W.selectAll('[id*="-background"]');if(Array.from(G).length>0)G.each(function(){let H=i0(this),M=H.attr("id").replace("-background",""),B=W.select(`#${CSS.escape(M)}`);if(!B.empty()){let O=B.attr("transform");H.attr("transform",O)}});let z=8;n8.insertTitle(W,"erDiagramTitleText",U?.titleTopMargin??25,K.db.getDiagramTitle()),e6(W,z,"erDiagram",U?.useMaxWidth??!0)},"draw"),ZD8=I((Z,J)=>{let Q=RG,K=Q(Z,"r"),X=Q(Z,"g"),U=Q(Z,"b");return sQ(K,X,U,J)},"fade"),JD8=I((Z)=>`
  .entityBox {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${Z.tertiaryColor};
    opacity: 0.7;
    background-color: ${Z.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${ZD8(Z.tertiaryColor,0.5)};
  }

  .edgeLabel .label {
    fill: ${Z.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${Z.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${Z.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),QD8=JD8,KD8={parser:o38,get db(){return new t38},renderer:NE0,styles:QD8}});function m4(Z,J){if(Z.accDescr)J.setAccDescription?.(Z.accDescr);if(Z.accTitle)J.setAccTitle?.(Z.accTitle);if(Z.title)J.setDiagramTitle?.(Z.title)}var Nz=_(()=>{M9();I(m4,"populateCommonDb")});var PT;var Hs=_(()=>{M9();PT=class{constructor(Z){this.init=Z,this.records=this.init()}static{I(this,"ImperativeState")}reset(){this.records=this.init()}}});function $J(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$type==="string"}function BQ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$refText==="string"}function Fs(Z){return typeof Z==="object"&&Z!==null&&typeof Z.name==="string"&&typeof Z.type==="string"&&typeof Z.path==="string"}function Ez(Z){return typeof Z==="object"&&Z!==null&&$J(Z.container)&&BQ(Z.reference)&&typeof Z.message==="string"}class vF{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(Z,J){return $J(Z)&&this.isSubtype(Z.$type,J)}isSubtype(Z,J){if(Z===J)return!0;let Q=this.subtypes[Z];if(!Q)Q=this.subtypes[Z]={};let K=Q[J];if(K!==void 0)return K;else{let X=this.computeIsSubtype(Z,J);return Q[J]=X,X}}getAllSubTypes(Z){let J=this.allSubtypes[Z];if(J)return J;else{let Q=this.getAllTypes(),K=[];for(let X of Q)if(this.isSubtype(X,Z))K.push(X);return this.allSubtypes[Z]=K,K}}}function T5(Z){return typeof Z==="object"&&Z!==null&&Array.isArray(Z.content)}function mq(Z){return typeof Z==="object"&&Z!==null&&typeof Z.tokenType==="object"}function dL(Z){return T5(Z)&&typeof Z.fullText==="string"}function XD8(Z){if(typeof Z==="string")return Z;if(typeof Z>"u")return"undefined";if(typeof Z.toString==="function")return Z.toString();return Object.prototype.toString.call(Z)}function jT(Z){return!!Z&&typeof Z[Symbol.iterator]==="function"}function DZ(...Z){if(Z.length===1){let J=Z[0];if(J instanceof Y7)return J;if(jT(J))return new Y7(()=>J[Symbol.iterator](),(Q)=>Q.next());if(typeof J.length==="number")return new Y7(()=>({index:0}),(Q)=>{if(Q.index<J.length)return{done:!1,value:J[Q.index++]};else return fQ})}if(Z.length>1)return new Y7(()=>({collIndex:0,arrIndex:0}),(J)=>{do{if(J.iterator){let Q=J.iterator.next();if(!Q.done)return Q;J.iterator=void 0}if(J.array){if(J.arrIndex<J.array.length)return{done:!1,value:J.array[J.arrIndex++]};J.array=void 0,J.arrIndex=0}if(J.collIndex<Z.length){let Q=Z[J.collIndex++];if(jT(Q))J.iterator=Q[Symbol.iterator]();else if(Q&&typeof Q.length==="number")J.array=Q}}while(J.iterator||J.array||J.collIndex<Z.length);return fQ});return iL}var Y7,iL,fQ,SY,xF;var Z4=_(()=>{Y7=class Y7{constructor(Z,J){this.startFn=Z,this.nextFn=J}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),[Symbol.iterator]:()=>Z};return Z}[Symbol.iterator](){return this.iterator()}isEmpty(){let Z=this.iterator();return Boolean(Z.next().done)}count(){let Z=this.iterator(),J=0,Q=Z.next();while(!Q.done)J++,Q=Z.next();return J}toArray(){let Z=[],J=this.iterator(),Q;do if(Q=J.next(),Q.value!==void 0)Z.push(Q.value);while(!Q.done);return Z}toSet(){return new Set(this)}toMap(Z,J){let Q=this.map((K)=>[Z?Z(K):K,J?J(K):K]);return new Map(Q)}toString(){return this.join()}concat(Z){return new Y7(()=>({first:this.startFn(),firstDone:!1,iterator:Z[Symbol.iterator]()}),(J)=>{let Q;if(!J.firstDone){do if(Q=this.nextFn(J.first),!Q.done)return Q;while(!Q.done);J.firstDone=!0}do if(Q=J.iterator.next(),!Q.done)return Q;while(!Q.done);return fQ})}join(Z=","){let J=this.iterator(),Q="",K,X=!1;do{if(K=J.next(),!K.done){if(X)Q+=Z;Q+=XD8(K.value)}X=!0}while(!K.done);return Q}indexOf(Z,J=0){let Q=this.iterator(),K=0,X=Q.next();while(!X.done){if(K>=J&&X.value===Z)return K;X=Q.next(),K++}return-1}every(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(!Z(Q.value))return!1;Q=J.next()}return!0}some(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Z(Q.value))return!0;Q=J.next()}return!1}forEach(Z){let J=this.iterator(),Q=0,K=J.next();while(!K.done)Z(K.value,Q),K=J.next(),Q++}map(Z){return new Y7(this.startFn,(J)=>{let{done:Q,value:K}=this.nextFn(J);if(Q)return fQ;else return{done:!1,value:Z(K)}})}filter(Z){return new Y7(this.startFn,(J)=>{let Q;do if(Q=this.nextFn(J),!Q.done&&Z(Q.value))return Q;while(!Q.done);return fQ})}nonNullable(){return this.filter((Z)=>Z!==void 0&&Z!==null)}reduce(Z,J){let Q=this.iterator(),K=J,X=Q.next();while(!X.done){if(K===void 0)K=X.value;else K=Z(K,X.value);X=Q.next()}return K}reduceRight(Z,J){return this.recursiveReduce(this.iterator(),Z,J)}recursiveReduce(Z,J,Q){let K=Z.next();if(K.done)return Q;let X=this.recursiveReduce(Z,J,Q);if(X===void 0)return K.value;return J(X,K.value)}find(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Z(Q.value))return Q.value;Q=J.next()}return}findIndex(Z){let J=this.iterator(),Q=0,K=J.next();while(!K.done){if(Z(K.value))return Q;K=J.next(),Q++}return-1}includes(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Q.value===Z)return!0;Q=J.next()}return!1}flatMap(Z){return new Y7(()=>({this:this.startFn()}),(J)=>{do{if(J.iterator){let X=J.iterator.next();if(X.done)J.iterator=void 0;else return X}let{done:Q,value:K}=this.nextFn(J.this);if(!Q){let X=Z(K);if(jT(X))J.iterator=X[Symbol.iterator]();else return{done:!1,value:X}}}while(J.iterator);return fQ})}flat(Z){if(Z===void 0)Z=1;if(Z<=0)return this;let J=Z>1?this.flat(Z-1):this;return new Y7(()=>({this:J.startFn()}),(Q)=>{do{if(Q.iterator){let U=Q.iterator.next();if(U.done)Q.iterator=void 0;else return U}let{done:K,value:X}=J.nextFn(Q.this);if(!K)if(jT(X))Q.iterator=X[Symbol.iterator]();else return{done:!1,value:X}}while(Q.iterator);return fQ})}head(){let J=this.iterator().next();if(J.done)return;return J.value}tail(Z=1){return new Y7(()=>{let J=this.startFn();for(let Q=0;Q<Z;Q++)if(this.nextFn(J).done)return J;return J},this.nextFn)}limit(Z){return new Y7(()=>({size:0,state:this.startFn()}),(J)=>{if(J.size++,J.size>Z)return fQ;return this.nextFn(J.state)})}distinct(Z){return new Y7(()=>({set:new Set,internalState:this.startFn()}),(J)=>{let Q;do if(Q=this.nextFn(J.internalState),!Q.done){let K=Z?Z(Q.value):Q.value;if(!J.set.has(K))return J.set.add(K),Q}while(!Q.done);return fQ})}exclude(Z,J){let Q=new Set;for(let K of Z){let X=J?J(K):K;Q.add(X)}return this.filter((K)=>{let X=J?J(K):K;return!Q.has(X)})}};iL=new Y7(()=>{return},()=>fQ),fQ=Object.freeze({done:!0,value:void 0});SY=class SY extends Y7{constructor(Z,J,Q){super(()=>({iterators:(Q===null||Q===void 0?void 0:Q.includeRoot)?[[Z][Symbol.iterator]()]:[J(Z)[Symbol.iterator]()],pruned:!1}),(K)=>{if(K.pruned)K.iterators.pop(),K.pruned=!1;while(K.iterators.length>0){let U=K.iterators[K.iterators.length-1].next();if(U.done)K.iterators.pop();else return K.iterators.push(J(U.value)[Symbol.iterator]()),U}return fQ})}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),prune:()=>{Z.state.pruned=!0},[Symbol.iterator]:()=>Z};return Z}};(function(Z){function J(U){return U.reduce((Y,q)=>Y+q,0)}Z.sum=J;function Q(U){return U.reduce((Y,q)=>Y*q,0)}Z.product=Q;function K(U){return U.reduce((Y,q)=>Math.min(Y,q))}Z.min=K;function X(U){return U.reduce((Y,q)=>Math.max(Y,q))}Z.max=X})(xF||(xF={}))});var ST={};z9(ST,{tokenToRange:()=>bF,toDocumentSegment:()=>Pz,streamCst:()=>Vz,isCommentNode:()=>Ms,isChildNode:()=>Bs,inRange:()=>Os,getStartlineNode:()=>WD8,getPreviousNode:()=>TE0,getNextNode:()=>qD8,getInteriorNodes:()=>GD8,flattenCst:()=>UD8,findLeafNodeBeforeOffset:()=>CE0,findLeafNodeAtOffset:()=>Ds,findDeclarationNodeAtOffset:()=>YD8,findCommentNode:()=>Rs,compareRange:()=>jE0,RangeComparison:()=>tX,DefaultNameRegexp:()=>CT});function Vz(Z){return new SY(Z,(J)=>{if(T5(J))return J.content;else return[]},{includeRoot:!0})}function UD8(Z){return Vz(Z).filter(mq)}function Bs(Z,J){while(Z.container)if(Z=Z.container,Z===J)return!0;return!1}function bF(Z){return{start:{character:Z.startColumn-1,line:Z.startLine-1},end:{character:Z.endColumn,line:Z.endLine-1}}}function Pz(Z){if(!Z)return;let{offset:J,end:Q,range:K}=Z;return{range:K,offset:J,end:Q,length:Q-J}}function jE0(Z,J){if(Z.end.line<J.start.line||Z.end.line===J.start.line&&Z.end.character<=J.start.character)return tX.Before;else if(Z.start.line>J.end.line||Z.start.line===J.end.line&&Z.start.character>=J.end.character)return tX.After;let Q=Z.start.line>J.start.line||Z.start.line===J.start.line&&Z.start.character>=J.start.character,K=Z.end.line<J.end.line||Z.end.line===J.end.line&&Z.end.character<=J.end.character;if(Q&&K)return tX.Inside;else if(Q)return tX.OverlapBack;else if(K)return tX.OverlapFront;else return tX.Outside}function Os(Z,J){return jE0(Z,J)>tX.After}function YD8(Z,J,Q=CT){if(Z){if(J>0){let K=J-Z.offset,X=Z.text.charAt(K);if(!Q.test(X))J--}return Ds(Z,J)}return}function Rs(Z,J){if(Z){let Q=TE0(Z,!0);if(Q&&Ms(Q,J))return Q;if(dL(Z)){let K=Z.content.findIndex((X)=>!X.hidden);for(let X=K-1;X>=0;X--){let U=Z.content[X];if(Ms(U,J))return U}}}return}function Ms(Z,J){return mq(Z)&&J.includes(Z.tokenType.name)}function Ds(Z,J){if(mq(Z))return Z;else if(T5(Z)){let Q=SE0(Z,J,!1);if(Q)return Ds(Q,J)}return}function CE0(Z,J){if(mq(Z))return Z;else if(T5(Z)){let Q=SE0(Z,J,!0);if(Q)return CE0(Q,J)}return}function SE0(Z,J,Q){let K=0,X=Z.content.length-1,U=void 0;while(K<=X){let Y=Math.floor((K+X)/2),q=Z.content[Y];if(q.offset<=J&&q.end>J)return q;if(q.end<=J)U=Q?q:void 0,K=Y+1;else X=Y-1}return U}function TE0(Z,J=!0){while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z);while(K>0){K--;let X=Q.content[K];if(J||!X.hidden)return X}Z=Q}return}function qD8(Z,J=!0){while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z),X=Q.content.length-1;while(K<X){K++;let U=Q.content[K];if(J||!U.hidden)return U}Z=Q}return}function WD8(Z){if(Z.range.start.character===0)return Z;let J=Z.range.start.line,Q=Z,K;while(Z.container){let X=Z.container,U=K!==null&&K!==void 0?K:X.content.indexOf(Z);if(U===0)Z=X,K=void 0;else K=U-1,Z=X.content[K];if(Z.range.start.line!==J)break;Q=Z}return Q}function GD8(Z,J){let Q=zD8(Z,J);if(!Q)return[];return Q.parent.content.slice(Q.a+1,Q.b)}function zD8(Z,J){let Q=PE0(Z),K=PE0(J),X;for(let U=0;U<Q.length&&U<K.length;U++){let Y=Q[U],q=K[U];if(Y.parent===q.parent)X={parent:Y.parent,a:Y.index,b:q.index};else break}return X}function PE0(Z){let J=[];while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z);J.push({parent:Q,index:K}),Z=Q}return J.reverse()}var tX,CT;var w5=_(()=>{Z4();(function(Z){Z[Z.Before=0]="Before",Z[Z.After=1]="After",Z[Z.OverlapFront=2]="OverlapFront",Z[Z.OverlapBack=3]="OverlapBack",Z[Z.Inside=4]="Inside",Z[Z.Outside=5]="Outside"})(tX||(tX={}));CT=/^[\w\p{L}]$/u});function eX(Z){throw Error("Error! The input value was not handled.")}var yF;var TT=_(()=>{yF=class yF extends Error{constructor(Z,J){super(Z?`${J} at ${Z.range.start.line}:${Z.range.start.character}`:J)}}});var QI={};z9(QI,{reflection:()=>O9,isWildcard:()=>vs,isValueLiteral:()=>DD8,isUntilToken:()=>fs,isUnorderedGroup:()=>xT,isUnionType:()=>Cs,isTypeDefinition:()=>RD8,isTypeAttribute:()=>jD8,isType:()=>ZI,isTerminalRuleCall:()=>vT,isTerminalRule:()=>u4,isTerminalGroup:()=>_s,isTerminalAlternatives:()=>ks,isStringLiteral:()=>PD8,isSimpleType:()=>_T,isRuleCall:()=>k5,isReturnType:()=>js,isRegexToken:()=>$s,isReferenceType:()=>Ps,isPrimitiveType:()=>wE0,isParserRule:()=>vQ,isParameterReference:()=>Vs,isParameter:()=>VD8,isNumberLiteral:()=>ED8,isNegation:()=>Es,isNegatedToken:()=>ws,isNamedArgument:()=>ND8,isKeyword:()=>$K,isInterface:()=>kT,isInferredType:()=>$T,isGroup:()=>uq,isGrammarImport:()=>AD8,isGrammar:()=>ID8,isFeatureName:()=>OD8,isEndOfFile:()=>Ts,isDisjunction:()=>Ns,isCrossReference:()=>Cz,isConjunction:()=>As,isCondition:()=>BD8,isCharacterRange:()=>Ss,isBooleanLiteral:()=>Is,isAssignment:()=>$5,isArrayType:()=>Ls,isArrayLiteral:()=>LD8,isAlternatives:()=>fT,isAction:()=>TY,isAbstractType:()=>MD8,isAbstractRule:()=>FD8,isAbstractElement:()=>eL,Wildcard:()=>NM,ValueLiteral:()=>rL,UntilToken:()=>AM,UnorderedGroup:()=>IM,UnionType:()=>XM,TypeDefinition:()=>wT,TypeAttribute:()=>tL,Type:()=>KM,TerminalRuleCall:()=>LM,TerminalRule:()=>jz,TerminalGroup:()=>DM,TerminalAlternatives:()=>RM,StringLiteral:()=>QM,SimpleType:()=>JM,RuleCall:()=>OM,ReturnType:()=>oL,RegexToken:()=>BM,ReferenceType:()=>ZM,ParserRule:()=>eF,ParameterReference:()=>tF,Parameter:()=>oF,NumberLiteral:()=>aF,Negation:()=>nF,NegatedToken:()=>MM,NamedArgument:()=>aL,LangiumGrammarTerminals:()=>HD8,LangiumGrammarAstReflection:()=>JI,Keyword:()=>FM,Interface:()=>rF,InferredType:()=>sF,Group:()=>HM,GrammarImport:()=>nL,Grammar:()=>iF,EndOfFile:()=>zM,Disjunction:()=>dF,CrossReference:()=>GM,Conjunction:()=>lF,Condition:()=>sL,CharacterRange:()=>WM,BooleanLiteral:()=>cF,Assignment:()=>qM,ArrayType:()=>pF,ArrayLiteral:()=>gF,Alternatives:()=>YM,Action:()=>UM,AbstractType:()=>mF,AbstractRule:()=>hF,AbstractElement:()=>uF});function FD8(Z){return O9.isInstance(Z,hF)}function MD8(Z){return O9.isInstance(Z,mF)}function BD8(Z){return O9.isInstance(Z,sL)}function OD8(Z){return wE0(Z)||Z==="current"||Z==="entry"||Z==="extends"||Z==="false"||Z==="fragment"||Z==="grammar"||Z==="hidden"||Z==="import"||Z==="interface"||Z==="returns"||Z==="terminal"||Z==="true"||Z==="type"||Z==="infer"||Z==="infers"||Z==="with"||typeof Z==="string"&&/\^?[_a-zA-Z][\w_]*/.test(Z)}function wE0(Z){return Z==="string"||Z==="number"||Z==="boolean"||Z==="Date"||Z==="bigint"}function RD8(Z){return O9.isInstance(Z,wT)}function DD8(Z){return O9.isInstance(Z,rL)}function eL(Z){return O9.isInstance(Z,uF)}function LD8(Z){return O9.isInstance(Z,gF)}function Ls(Z){return O9.isInstance(Z,pF)}function Is(Z){return O9.isInstance(Z,cF)}function As(Z){return O9.isInstance(Z,lF)}function Ns(Z){return O9.isInstance(Z,dF)}function ID8(Z){return O9.isInstance(Z,iF)}function AD8(Z){return O9.isInstance(Z,nL)}function $T(Z){return O9.isInstance(Z,sF)}function kT(Z){return O9.isInstance(Z,rF)}function ND8(Z){return O9.isInstance(Z,aL)}function Es(Z){return O9.isInstance(Z,nF)}function ED8(Z){return O9.isInstance(Z,aF)}function VD8(Z){return O9.isInstance(Z,oF)}function Vs(Z){return O9.isInstance(Z,tF)}function vQ(Z){return O9.isInstance(Z,eF)}function Ps(Z){return O9.isInstance(Z,ZM)}function js(Z){return O9.isInstance(Z,oL)}function _T(Z){return O9.isInstance(Z,JM)}function PD8(Z){return O9.isInstance(Z,QM)}function u4(Z){return O9.isInstance(Z,jz)}function ZI(Z){return O9.isInstance(Z,KM)}function jD8(Z){return O9.isInstance(Z,tL)}function Cs(Z){return O9.isInstance(Z,XM)}function TY(Z){return O9.isInstance(Z,UM)}function fT(Z){return O9.isInstance(Z,YM)}function $5(Z){return O9.isInstance(Z,qM)}function Ss(Z){return O9.isInstance(Z,WM)}function Cz(Z){return O9.isInstance(Z,GM)}function Ts(Z){return O9.isInstance(Z,zM)}function uq(Z){return O9.isInstance(Z,HM)}function $K(Z){return O9.isInstance(Z,FM)}function ws(Z){return O9.isInstance(Z,MM)}function $s(Z){return O9.isInstance(Z,BM)}function k5(Z){return O9.isInstance(Z,OM)}function ks(Z){return O9.isInstance(Z,RM)}function _s(Z){return O9.isInstance(Z,DM)}function vT(Z){return O9.isInstance(Z,LM)}function xT(Z){return O9.isInstance(Z,IM)}function fs(Z){return O9.isInstance(Z,AM)}function vs(Z){return O9.isInstance(Z,NM)}var HD8,hF="AbstractRule",mF="AbstractType",sL="Condition",wT="TypeDefinition",rL="ValueLiteral",uF="AbstractElement",gF="ArrayLiteral",pF="ArrayType",cF="BooleanLiteral",lF="Conjunction",dF="Disjunction",iF="Grammar",nL="GrammarImport",sF="InferredType",rF="Interface",aL="NamedArgument",nF="Negation",aF="NumberLiteral",oF="Parameter",tF="ParameterReference",eF="ParserRule",ZM="ReferenceType",oL="ReturnType",JM="SimpleType",QM="StringLiteral",jz="TerminalRule",KM="Type",tL="TypeAttribute",XM="UnionType",UM="Action",YM="Alternatives",qM="Assignment",WM="CharacterRange",GM="CrossReference",zM="EndOfFile",HM="Group",FM="Keyword",MM="NegatedToken",BM="RegexToken",OM="RuleCall",RM="TerminalAlternatives",DM="TerminalGroup",LM="TerminalRuleCall",IM="UnorderedGroup",AM="UntilToken",NM="Wildcard",JI,O9;var ZU=_(()=>{HD8={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/};JI=class JI extends vF{getAllTypes(){return[uF,hF,mF,UM,YM,gF,pF,qM,cF,WM,sL,lF,GM,dF,zM,iF,nL,HM,sF,rF,FM,aL,MM,nF,aF,oF,tF,eF,ZM,BM,oL,OM,JM,QM,RM,DM,jz,LM,KM,tL,wT,XM,IM,AM,rL,NM]}computeIsSubtype(Z,J){switch(Z){case UM:case YM:case qM:case WM:case GM:case zM:case HM:case FM:case MM:case BM:case OM:case RM:case DM:case LM:case IM:case AM:case NM:return this.isSubtype(uF,J);case gF:case aF:case QM:return this.isSubtype(rL,J);case pF:case ZM:case JM:case XM:return this.isSubtype(wT,J);case cF:return this.isSubtype(sL,J)||this.isSubtype(rL,J);case lF:case dF:case nF:case tF:return this.isSubtype(sL,J);case sF:case rF:case KM:return this.isSubtype(mF,J);case eF:return this.isSubtype(hF,J)||this.isSubtype(mF,J);case jz:return this.isSubtype(hF,J);default:return!1}}getReferenceType(Z){let J=`${Z.container.$type}:${Z.property}`;switch(J){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return mF;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return hF;case"Grammar:usedGrammars":return iF;case"NamedArgument:parameter":case"ParameterReference:parameter":return oF;case"TerminalRuleCall:rule":return jz;default:throw Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case uF:return{name:uF,properties:[{name:"cardinality"},{name:"lookahead"}]};case gF:return{name:gF,properties:[{name:"elements",defaultValue:[]}]};case pF:return{name:pF,properties:[{name:"elementType"}]};case cF:return{name:cF,properties:[{name:"true",defaultValue:!1}]};case lF:return{name:lF,properties:[{name:"left"},{name:"right"}]};case dF:return{name:dF,properties:[{name:"left"},{name:"right"}]};case iF:return{name:iF,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case nL:return{name:nL,properties:[{name:"path"}]};case sF:return{name:sF,properties:[{name:"name"}]};case rF:return{name:rF,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case aL:return{name:aL,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case nF:return{name:nF,properties:[{name:"value"}]};case aF:return{name:aF,properties:[{name:"value"}]};case oF:return{name:oF,properties:[{name:"name"}]};case tF:return{name:tF,properties:[{name:"parameter"}]};case eF:return{name:eF,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case ZM:return{name:ZM,properties:[{name:"referenceType"}]};case oL:return{name:oL,properties:[{name:"name"}]};case JM:return{name:JM,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case QM:return{name:QM,properties:[{name:"value"}]};case jz:return{name:jz,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case KM:return{name:KM,properties:[{name:"name"},{name:"type"}]};case tL:return{name:tL,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case XM:return{name:XM,properties:[{name:"types",defaultValue:[]}]};case UM:return{name:UM,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case YM:return{name:YM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case qM:return{name:qM,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case WM:return{name:WM,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case GM:return{name:GM,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case zM:return{name:zM,properties:[{name:"cardinality"},{name:"lookahead"}]};case HM:return{name:HM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case FM:return{name:FM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case MM:return{name:MM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case BM:return{name:BM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case OM:return{name:OM,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case RM:return{name:RM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case DM:return{name:DM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case LM:return{name:LM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case IM:return{name:IM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case AM:return{name:AM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case NM:return{name:NM,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Z,properties:[]}}}};O9=new JI});var yT={};z9(yT,{streamReferences:()=>EM,streamContents:()=>XI,streamAst:()=>kK,streamAllContents:()=>JU,linkContentToContainer:()=>bT,hasContainerOfType:()=>CD8,getDocument:()=>xQ,getContainerOfType:()=>Sz,findRootNode:()=>KI,findLocalReferences:()=>SD8,copyAstNode:()=>bs,assignMandatoryProperties:()=>ys});function bT(Z){for(let[J,Q]of Object.entries(Z))if(!J.startsWith("$")){if(Array.isArray(Q))Q.forEach((K,X)=>{if($J(K))K.$container=Z,K.$containerProperty=J,K.$containerIndex=X});else if($J(Q))Q.$container=Z,Q.$containerProperty=J}}function Sz(Z,J){let Q=Z;while(Q){if(J(Q))return Q;Q=Q.$container}return}function CD8(Z,J){let Q=Z;while(Q){if(J(Q))return!0;Q=Q.$container}return!1}function xQ(Z){let Q=KI(Z).$document;if(!Q)throw Error("AST node has no document.");return Q}function KI(Z){while(Z.$container)Z=Z.$container;return Z}function XI(Z,J){if(!Z)throw Error("Node must be an AstNode.");let Q=J===null||J===void 0?void 0:J.range;return new Y7(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(K)=>{while(K.keyIndex<K.keys.length){let X=K.keys[K.keyIndex];if(!X.startsWith("$")){let U=Z[X];if($J(U)){if(K.keyIndex++,xs(U,Q))return{done:!1,value:U}}else if(Array.isArray(U)){while(K.arrayIndex<U.length){let Y=K.arrayIndex++,q=U[Y];if($J(q)&&xs(q,Q))return{done:!1,value:q}}K.arrayIndex=0}}K.keyIndex++}return fQ})}function JU(Z,J){if(!Z)throw Error("Root node must be an AstNode.");return new SY(Z,(Q)=>XI(Q,J))}function kK(Z,J){if(!Z)throw Error("Root node must be an AstNode.");else if((J===null||J===void 0?void 0:J.range)&&!xs(Z,J.range))return new SY(Z,()=>[]);return new SY(Z,(Q)=>XI(Q,J),{includeRoot:!0})}function xs(Z,J){var Q;if(!J)return!0;let K=(Q=Z.$cstNode)===null||Q===void 0?void 0:Q.range;if(!K)return!1;return Os(K,J)}function EM(Z){return new Y7(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(J)=>{while(J.keyIndex<J.keys.length){let Q=J.keys[J.keyIndex];if(!Q.startsWith("$")){let K=Z[Q];if(BQ(K))return J.keyIndex++,{done:!1,value:{reference:K,container:Z,property:Q}};else if(Array.isArray(K)){while(J.arrayIndex<K.length){let X=J.arrayIndex++,U=K[X];if(BQ(U))return{done:!1,value:{reference:U,container:Z,property:Q,index:X}}}J.arrayIndex=0}}J.keyIndex++}return fQ})}function SD8(Z,J=xQ(Z).parseResult.value){let Q=[];return kK(J).forEach((K)=>{EM(K).forEach((X)=>{if(X.reference.ref===Z)Q.push(X.reference)})}),DZ(Q)}function ys(Z,J){let Q=Z.getTypeMetaData(J.$type),K=J;for(let X of Q.properties)if(X.defaultValue!==void 0&&K[X.name]===void 0)K[X.name]=$E0(X.defaultValue)}function $E0(Z){if(Array.isArray(Z))return[...Z.map($E0)];else return Z}function bs(Z,J){let Q={$type:Z.$type};for(let[K,X]of Object.entries(Z))if(!K.startsWith("$"))if($J(X))Q[K]=bs(X,J);else if(BQ(X))Q[K]=J(Q,K,X.$refNode,X.$refText);else if(Array.isArray(X)){let U=[];for(let Y of X)if($J(Y))U.push(bs(Y,J));else if(BQ(Y))U.push(J(Q,K,Y.$refNode,Y.$refText));else U.push(Y);Q[K]=U}else Q[K]=X;return bT(Q),Q}var z6=_(()=>{Z4();w5()});function H9(Z){return Z.charCodeAt(0)}function hT(Z,J){if(Array.isArray(Z))Z.forEach(function(Q){J.push(Q)});else J.push(Z)}function VM(Z,J){if(Z[J]===!0)throw"duplicate flag "+J;let Q=Z[J];Z[J]=!0}function Tz(Z){if(Z===void 0)throw Error("Internal Error - Should never get here!");return!0}function UI(){throw Error("Internal Error - Should never get here!")}function hs(Z){return Z.type==="Character"}var YI,qI,ms;var kE0=_(()=>{YI=[];for(let Z=H9("0");Z<=H9("9");Z++)YI.push(Z);qI=[H9("_")].concat(YI);for(let Z=H9("a");Z<=H9("z");Z++)qI.push(Z);for(let Z=H9("A");Z<=H9("Z");Z++)qI.push(Z);ms=[H9(" "),H9("\f"),H9(`
`),H9("\r"),H9("\t"),H9("\v"),H9("\t"),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9(""),H9("\u2028"),H9("\u2029"),H9(""),H9(""),H9(""),H9("\uFEFF")]});class PM{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(Z){this.idx=Z.idx,this.input=Z.input,this.groupIdx=Z.groupIdx}pattern(Z){this.idx=0,this.input=Z,this.groupIdx=0,this.consumeChar("/");let J=this.disjunction();this.consumeChar("/");let Q={type:"Flags",loc:{begin:this.idx,end:Z.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":VM(Q,"global");break;case"i":VM(Q,"ignoreCase");break;case"m":VM(Q,"multiLine");break;case"u":VM(Q,"unicode");break;case"y":VM(Q,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:Q,value:J,loc:this.loc(0)}}disjunction(){let Z=[],J=this.idx;Z.push(this.alternative());while(this.peekChar()==="|")this.consumeChar("|"),Z.push(this.alternative());return{type:"Disjunction",value:Z,loc:this.loc(J)}}alternative(){let Z=[],J=this.idx;while(this.isTerm())Z.push(this.term());return{type:"Alternative",value:Z,loc:this.loc(J)}}term(){if(this.isAssertion())return this.assertion();else return this.atom()}assertion(){let Z=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(Z)};case"$":return{type:"EndAnchor",loc:this.loc(Z)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(Z)};case"B":return{type:"NonWordBoundary",loc:this.loc(Z)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let J;switch(this.popChar()){case"=":J="Lookahead";break;case"!":J="NegativeLookahead";break}Tz(J);let Q=this.disjunction();return this.consumeChar(")"),{type:J,value:Q,loc:this.loc(Z)}}return UI()}quantifier(Z=!1){let J=void 0,Q=this.idx;switch(this.popChar()){case"*":J={atLeast:0,atMost:1/0};break;case"+":J={atLeast:1,atMost:1/0};break;case"?":J={atLeast:0,atMost:1};break;case"{":let K=this.integerIncludingZero();switch(this.popChar()){case"}":J={atLeast:K,atMost:K};break;case",":let X;if(this.isDigit())X=this.integerIncludingZero(),J={atLeast:K,atMost:X};else J={atLeast:K,atMost:1/0};this.consumeChar("}");break}if(Z===!0&&J===void 0)return;Tz(J);break}if(Z===!0&&J===void 0)return;if(Tz(J)){if(this.peekChar(0)==="?")this.consumeChar("?"),J.greedy=!1;else J.greedy=!0;return J.type="Quantifier",J.loc=this.loc(Q),J}}atom(){let Z,J=this.idx;switch(this.peekChar()){case".":Z=this.dotAll();break;case"\\":Z=this.atomEscape();break;case"[":Z=this.characterClass();break;case"(":Z=this.group();break}if(Z===void 0&&this.isPatternCharacter())Z=this.patternCharacter();if(Tz(Z)){if(Z.loc=this.loc(J),this.isQuantifier())Z.quantifier=this.quantifier();return Z}return UI()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[H9(`
`),H9("\r"),H9("\u2028"),H9("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let Z,J=!1;switch(this.popChar()){case"d":Z=YI;break;case"D":Z=YI,J=!0;break;case"s":Z=ms;break;case"S":Z=ms,J=!0;break;case"w":Z=qI;break;case"W":Z=qI,J=!0;break}if(Tz(Z))return{type:"Set",value:Z,complement:J};return UI()}controlEscapeAtom(){let Z;switch(this.popChar()){case"f":Z=H9("\f");break;case"n":Z=H9(`
`);break;case"r":Z=H9("\r");break;case"t":Z=H9("\t");break;case"v":Z=H9("\v");break}if(Tz(Z))return{type:"Character",value:Z};return UI()}controlLetterEscapeAtom(){this.consumeChar("c");let Z=this.popChar();if(/[a-zA-Z]/.test(Z)===!1)throw Error("Invalid ");return{type:"Character",value:Z.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:H9("\x00")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let Z=this.popChar();return{type:"Character",value:H9(Z)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let Z=this.popChar();return{type:"Character",value:H9(Z)}}}characterClass(){let Z=[],J=!1;if(this.consumeChar("["),this.peekChar(0)==="^")this.consumeChar("^"),J=!0;while(this.isClassAtom()){let Q=this.classAtom(),K=Q.type==="Character";if(hs(Q)&&this.isRangeDash()){this.consumeChar("-");let X=this.classAtom(),U=X.type==="Character";if(hs(X)){if(X.value<Q.value)throw Error("Range out of order in character class");Z.push({from:Q.value,to:X.value})}else hT(Q.value,Z),Z.push(H9("-")),hT(X.value,Z)}else hT(Q.value,Z)}return this.consumeChar("]"),{type:"Set",complement:J,value:Z}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:H9("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let Z=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),Z=!1;break;default:this.groupIdx++;break}let J=this.disjunction();this.consumeChar(")");let Q={type:"Group",capturing:Z,value:J};if(Z)Q.idx=this.groupIdx;return Q}positiveInteger(){let Z=this.popChar();if(wD8.test(Z)===!1)throw Error("Expecting a positive integer");while(mT.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}integerIncludingZero(){let Z=this.popChar();if(mT.test(Z)===!1)throw Error("Expecting an integer");while(mT.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}patternCharacter(){let Z=this.popChar();switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:H9(Z)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return mT.test(this.peekChar(0))}isClassAtom(Z=0){switch(this.peekChar(Z)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let Z=this.saveState();try{return this.quantifier(!0)!==void 0}catch(J){return!1}finally{this.restoreState(Z)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(Z){let J="";for(let K=0;K<Z;K++){let X=this.popChar();if(TD8.test(X)===!1)throw Error("Expecting a HexDecimal digits");J+=X}return{type:"Character",value:parseInt(J,16)}}peekChar(Z=0){return this.input[this.idx+Z]}popChar(){let Z=this.peekChar(0);return this.consumeChar(void 0),Z}consumeChar(Z){if(Z!==void 0&&this.input[this.idx]!==Z)throw Error("Expected: '"+Z+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(Z){return{begin:Z,end:this.idx}}}var TD8,mT,wD8;var _E0=_(()=>{kE0();TD8=/[0-9a-fA-F]/,mT=/[0-9]/,wD8=/[1-9]/});class wY{visitChildren(Z){for(let J in Z){let Q=Z[J];if(Z.hasOwnProperty(J)){if(Q.type!==void 0)this.visit(Q);else if(Array.isArray(Q))Q.forEach((K)=>{this.visit(K)},this)}}}visit(Z){switch(Z.type){case"Pattern":this.visitPattern(Z);break;case"Flags":this.visitFlags(Z);break;case"Disjunction":this.visitDisjunction(Z);break;case"Alternative":this.visitAlternative(Z);break;case"StartAnchor":this.visitStartAnchor(Z);break;case"EndAnchor":this.visitEndAnchor(Z);break;case"WordBoundary":this.visitWordBoundary(Z);break;case"NonWordBoundary":this.visitNonWordBoundary(Z);break;case"Lookahead":this.visitLookahead(Z);break;case"NegativeLookahead":this.visitNegativeLookahead(Z);break;case"Character":this.visitCharacter(Z);break;case"Set":this.visitSet(Z);break;case"Group":this.visitGroup(Z);break;case"GroupBackReference":this.visitGroupBackReference(Z);break;case"Quantifier":this.visitQuantifier(Z);break}this.visitChildren(Z)}visitPattern(Z){}visitFlags(Z){}visitDisjunction(Z){}visitAlternative(Z){}visitStartAnchor(Z){}visitEndAnchor(Z){}visitWordBoundary(Z){}visitNonWordBoundary(Z){}visitLookahead(Z){}visitNegativeLookahead(Z){}visitCharacter(Z){}visitSet(Z){}visitGroup(Z){}visitGroupBackReference(Z){}visitQuantifier(Z){}}var WI=_(()=>{_E0()});var uT={};z9(uT,{whitespaceCharacters:()=>xE0,partialRegExp:()=>bE0,partialMatches:()=>cs,isWhitespace:()=>jM,isMultilineComment:()=>gs,getTerminalParts:()=>$D8,getCaseInsensitivePattern:()=>ps,escapeRegExp:()=>$z,NEWLINE_REGEXP:()=>us});function $D8(Z){try{if(typeof Z!=="string")Z=Z.source;Z=`/${Z}/`;let J=fE0.pattern(Z),Q=[];for(let K of J.value.value)wz.reset(Z),wz.visit(K),Q.push({start:wz.startRegexp,end:wz.endRegex});return Q}catch(J){return[]}}function gs(Z){try{if(typeof Z==="string")Z=new RegExp(Z);return Z=Z.toString(),wz.reset(Z),wz.visit(fE0.pattern(Z)),wz.multiline}catch(J){return!1}}function jM(Z){let J=typeof Z==="string"?new RegExp(Z):Z;return xE0.some((Q)=>J.test(Q))}function $z(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ps(Z){return Array.prototype.map.call(Z,(J)=>/\w/.test(J)?`[${J.toLowerCase()}${J.toUpperCase()}]`:$z(J)).join("")}function cs(Z,J){let Q=bE0(Z),K=J.match(Q);return!!K&&K[0].length>0}function bE0(Z){if(typeof Z==="string")Z=new RegExp(Z);let J=Z,Q=Z.source,K=0;function X(){let U="",Y;function q(G){U+=Q.substr(K,G),K+=G}function W(G){U+="(?:"+Q.substr(K,G)+"|$)",K+=G}while(K<Q.length)switch(Q[K]){case"\\":switch(Q[K+1]){case"c":W(3);break;case"x":W(4);break;case"u":if(J.unicode)if(Q[K+2]==="{")W(Q.indexOf("}",K)-K+1);else W(6);else W(2);break;case"p":case"P":if(J.unicode)W(Q.indexOf("}",K)-K+1);else W(2);break;case"k":W(Q.indexOf(">",K)-K+1);break;default:W(2);break}break;case"[":Y=/\[(?:\\.|.)*?\]/g,Y.lastIndex=K,Y=Y.exec(Q)||[],W(Y[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":q(1);break;case"{":if(Y=/\{\d+,?\d*\}/g,Y.lastIndex=K,Y=Y.exec(Q),Y)q(Y[0].length);else W(1);break;case"(":if(Q[K+1]==="?")switch(Q[K+2]){case":":U+="(?:",K+=3,U+=X()+"|$)";break;case"=":U+="(?=",K+=3,U+=X()+")";break;case"!":Y=K,K+=3,X(),U+=Q.substr(Y,K-Y);break;case"<":switch(Q[K+3]){case"=":case"!":Y=K,K+=4,X(),U+=Q.substr(Y,K-Y);break;default:q(Q.indexOf(">",K)-K+1),U+=X()+"|$)";break}break}else q(1),U+=X()+"|$)";break;case")":return++K,U;default:W(1);break}return U}return new RegExp(X(),Z.flags)}var us,fE0,vE0,wz,xE0;var CM=_(()=>{WI();us=/\r?\n/gm,fE0=new PM;vE0=class vE0 extends wY{constructor(){super(...arguments);this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(Z){this.multiline=!1,this.regex=Z,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(Z){if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[]}visitCharacter(Z){let J=String.fromCharCode(Z.value);if(!this.multiline&&J===`
`)this.multiline=!0;if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let Q=$z(J);if(this.endRegexpStack.push(Q),this.isStarting)this.startRegexp+=Q}}visitSet(Z){if(!this.multiline){let J=this.regex.substring(Z.loc.begin,Z.loc.end),Q=new RegExp(J);this.multiline=Boolean(`
`.match(Q))}if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let J=this.regex.substring(Z.loc.begin,Z.loc.end);if(this.endRegexpStack.push(J),this.isStarting)this.startRegexp+=J}}visitChildren(Z){if(Z.type==="Group"){if(Z.quantifier)return}super.visitChildren(Z)}};wz=new vE0;xE0=(`\f
\r	\v `+"\u2028\u2029\uFEFF").split("")});var pT={};z9(pT,{terminalRegex:()=>TM,isOptionalCardinality:()=>_D8,isDataTypeRule:()=>HI,isDataType:()=>xD8,isCommentTerminal:()=>ss,isArrayOperator:()=>vD8,isArrayCardinality:()=>fD8,getTypeName:()=>FI,getRuleTypeName:()=>bD8,getRuleType:()=>es,getHiddenRules:()=>hE0,getExplicitRuleType:()=>SM,getEntryRule:()=>yE0,getCrossReferenceTerminal:()=>is,getAllReachableRules:()=>GI,getActionType:()=>cE0,getActionAtElement:()=>gE0,findNodesForProperty:()=>rs,findNodesForKeywordInternal:()=>os,findNodesForKeyword:()=>kD8,findNodeForProperty:()=>zI,findNodeForKeyword:()=>as,findNameAssignment:()=>gT,findAssignment:()=>ts});function yE0(Z){return Z.rules.find((J)=>vQ(J)&&J.entry)}function hE0(Z){return Z.rules.filter((J)=>u4(J)&&J.hidden)}function GI(Z,J){let Q=new Set,K=yE0(Z);if(!K)return new Set(Z.rules);let X=[K].concat(hE0(Z));for(let Y of X)mE0(Y,Q,J);let U=new Set;for(let Y of Z.rules)if(Q.has(Y.name)||u4(Y)&&Y.hidden)U.add(Y);return U}function mE0(Z,J,Q){J.add(Z.name),JU(Z).forEach((K)=>{if(k5(K)||Q&&vT(K)){let X=K.rule.ref;if(X&&!J.has(X.name))mE0(X,J,Q)}})}function is(Z){if(Z.terminal)return Z.terminal;else if(Z.type.ref){let J=gT(Z.type.ref);return J===null||J===void 0?void 0:J.terminal}return}function ss(Z){return Z.hidden&&!jM(TM(Z))}function rs(Z,J){if(!Z||!J)return[];return ns(Z,J,Z.astNode,!0)}function zI(Z,J,Q){if(!Z||!J)return;let K=ns(Z,J,Z.astNode,!0);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function ns(Z,J,Q,K){if(!K){let X=Sz(Z.grammarSource,$5);if(X&&X.feature===J)return[Z]}if(T5(Z)&&Z.astNode===Q)return Z.content.flatMap((X)=>ns(X,J,Q,!1));return[]}function kD8(Z,J){if(!Z)return[];return os(Z,J,Z===null||Z===void 0?void 0:Z.astNode)}function as(Z,J,Q){if(!Z)return;let K=os(Z,J,Z===null||Z===void 0?void 0:Z.astNode);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function os(Z,J,Q){if(Z.astNode!==Q)return[];if($K(Z.grammarSource)&&Z.grammarSource.value===J)return[Z];let K=Vz(Z).iterator(),X,U=[];do if(X=K.next(),!X.done){let Y=X.value;if(Y.astNode===Q){if($K(Y.grammarSource)&&Y.grammarSource.value===J)U.push(Y)}else K.prune()}while(!X.done);return U}function ts(Z){var J;let Q=Z.astNode;while(Q===((J=Z.container)===null||J===void 0?void 0:J.astNode)){let K=Sz(Z.grammarSource,$5);if(K)return K;Z=Z.container}return}function gT(Z){let J=Z;if($T(J))if(TY(J.$container))J=J.$container.$container;else if(vQ(J.$container))J=J.$container;else eX(J.$container);return uE0(Z,J,new Map)}function uE0(Z,J,Q){var K;function X(U,Y){let q=void 0;if(!Sz(U,$5))q=uE0(Y,Y,Q);return Q.set(Z,q),q}if(Q.has(Z))return Q.get(Z);Q.set(Z,void 0);for(let U of JU(J))if($5(U)&&U.feature.toLowerCase()==="name")return Q.set(Z,U),U;else if(k5(U)&&vQ(U.rule.ref))return X(U,U.rule.ref);else if(_T(U)&&((K=U.typeRef)===null||K===void 0?void 0:K.ref))return X(U,U.typeRef.ref);return}function gE0(Z){let J=Z.$container;if(uq(J)){let Q=J.elements,K=Q.indexOf(Z);for(let X=K-1;X>=0;X--){let U=Q[X];if(TY(U))return U;else{let Y=JU(Q[X]).find(TY);if(Y)return Y}}}if(eL(J))return gE0(J);else return}function _D8(Z,J){return Z==="?"||Z==="*"||uq(J)&&Boolean(J.guardCondition)}function fD8(Z){return Z==="*"||Z==="+"}function vD8(Z){return Z==="+="}function HI(Z){return pE0(Z,new Set)}function pE0(Z,J){if(J.has(Z))return!0;else J.add(Z);for(let Q of JU(Z))if(k5(Q)){if(!Q.rule.ref)return!1;if(vQ(Q.rule.ref)&&!pE0(Q.rule.ref,J))return!1}else if($5(Q))return!1;else if(TY(Q))return!1;return Boolean(Z.definition)}function xD8(Z){return ds(Z.type,new Set)}function ds(Z,J){if(J.has(Z))return!0;else J.add(Z);if(Ls(Z))return!1;else if(Ps(Z))return!1;else if(Cs(Z))return Z.types.every((Q)=>ds(Q,J));else if(_T(Z))if(Z.primitiveType!==void 0)return!0;else if(Z.stringType!==void 0)return!0;else if(Z.typeRef!==void 0){let Q=Z.typeRef.ref;if(ZI(Q))return ds(Q.type,J);else return!1}else return!1;else return!1}function SM(Z){if(Z.inferredType)return Z.inferredType.name;else if(Z.dataType)return Z.dataType;else if(Z.returnType){let J=Z.returnType.ref;if(J){if(vQ(J))return J.name;else if(kT(J)||ZI(J))return J.name}}return}function FI(Z){var J;if(vQ(Z))return HI(Z)?Z.name:(J=SM(Z))!==null&&J!==void 0?J:Z.name;else if(kT(Z)||ZI(Z)||js(Z))return Z.name;else if(TY(Z)){let Q=cE0(Z);if(Q)return Q}else if($T(Z))return Z.name;throw Error("Cannot get name of Unknown Type")}function cE0(Z){var J;if(Z.inferredType)return Z.inferredType.name;else if((J=Z.type)===null||J===void 0?void 0:J.ref)return FI(Z.type.ref);return}function bD8(Z){var J,Q,K;if(u4(Z))return(Q=(J=Z.type)===null||J===void 0?void 0:J.name)!==null&&Q!==void 0?Q:"string";else return HI(Z)?Z.name:(K=SM(Z))!==null&&K!==void 0?K:Z.name}function es(Z){var J,Q,K;if(u4(Z))return(Q=(J=Z.type)===null||J===void 0?void 0:J.name)!==null&&Q!==void 0?Q:"string";else return(K=SM(Z))!==null&&K!==void 0?K:Z.name}function TM(Z){let J={s:!1,i:!1,u:!1},Q=wM(Z.definition,J),K=Object.entries(J).filter(([,X])=>X).map(([X])=>X).join("");return new RegExp(Q,K)}function wM(Z,J){if(ks(Z))return yD8(Z);else if(_s(Z))return hD8(Z);else if(Ss(Z))return gD8(Z);else if(vT(Z)){let Q=Z.rule.ref;if(!Q)throw Error("Missing rule reference.");return $Y(wM(Q.definition),{cardinality:Z.cardinality,lookahead:Z.lookahead})}else if(ws(Z))return uD8(Z);else if(fs(Z))return mD8(Z);else if($s(Z)){let Q=Z.regex.lastIndexOf("/"),K=Z.regex.substring(1,Q),X=Z.regex.substring(Q+1);if(J)J.i=X.includes("i"),J.s=X.includes("s"),J.u=X.includes("u");return $Y(K,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}else if(vs(Z))return $Y(Zr,{cardinality:Z.cardinality,lookahead:Z.lookahead});else throw Error(`Invalid terminal element: ${Z===null||Z===void 0?void 0:Z.$type}`)}function yD8(Z){return $Y(Z.elements.map((J)=>wM(J)).join("|"),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function hD8(Z){return $Y(Z.elements.map((J)=>wM(J)).join(""),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function mD8(Z){return $Y(`${Zr}*?${wM(Z.terminal)}`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function uD8(Z){return $Y(`(?!${wM(Z.terminal)})${Zr}*?`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function gD8(Z){if(Z.right)return $Y(`[${ls(Z.left)}-${ls(Z.right)}]`,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1});return $Y(ls(Z.left),{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}function ls(Z){return $z(Z.value)}function $Y(Z,J){var Q;if(J.wrap!==!1||J.lookahead)Z=`(${(Q=J.lookahead)!==null&&Q!==void 0?Q:""}${Z})`;if(J.cardinality)return`${Z}${J.cardinality}`;return Z}var Zr;var _5=_(()=>{TT();ZU();z6();w5();CM();Zr=/[\s\S]/.source});function Jr(Z){let J=[],Q=Z.Grammar;for(let K of Q.rules)if(u4(K)&&ss(K)&&gs(TM(K)))J.push(K.name);return{multilineCommentRules:J,nameRegexp:CT}}var Qr=_(()=>{w5();_5();CM();ZU()});var pD8,cT;var Kr=_(()=>{pD8=typeof global=="object"&&global&&global.Object===Object&&global,cT=pD8});var cD8,lD8,q7;var f5=_(()=>{Kr();cD8=typeof self=="object"&&self&&self.Object===Object&&self,lD8=cT||cD8||Function("return this")(),q7=lD8});var dD8,m7;var kz=_(()=>{f5();dD8=q7.Symbol,m7=dD8});function rD8(Z){var J=iD8.call(Z,MI),Q=Z[MI];try{Z[MI]=void 0;var K=!0}catch(U){}var X=sD8.call(Z);if(K)if(J)Z[MI]=Q;else delete Z[MI];return X}var lE0,iD8,sD8,MI,dE0;var iE0=_(()=>{kz();lE0=Object.prototype,iD8=lE0.hasOwnProperty,sD8=lE0.toString,MI=m7?m7.toStringTag:void 0;dE0=rD8});function oD8(Z){return aD8.call(Z)}var nD8,aD8,sE0;var rE0=_(()=>{nD8=Object.prototype,aD8=nD8.toString;sE0=oD8});function ZL8(Z){if(Z==null)return Z===void 0?eD8:tD8;return nE0&&nE0 in Object(Z)?dE0(Z):sE0(Z)}var tD8="[object Null]",eD8="[object Undefined]",nE0,H6;var gq=_(()=>{kz();iE0();rE0();nE0=m7?m7.toStringTag:void 0;H6=ZL8});function JL8(Z){return Z!=null&&typeof Z=="object"}var nJ;var v5=_(()=>{nJ=JL8});function KL8(Z){return typeof Z=="symbol"||nJ(Z)&&H6(Z)==QL8}var QL8="[object Symbol]",pq;var BI=_(()=>{gq();v5();pq=KL8});function XL8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=Array(K);while(++Q<K)X[Q]=J(Z[Q],Q,Z);return X}var QU;var $M=_(()=>{QU=XL8});var UL8,i8;var uJ=_(()=>{UL8=Array.isArray,i8=UL8});function tE0(Z){if(typeof Z=="string")return Z;if(i8(Z))return QU(Z,tE0)+"";if(pq(Z))return oE0?oE0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-YL8?"-0":J}var YL8=1/0,aE0,oE0,eE0;var ZV0=_(()=>{kz();$M();uJ();BI();aE0=m7?m7.prototype:void 0,oE0=aE0?aE0.toString:void 0;eE0=tE0});function WL8(Z){var J=Z.length;while(J--&&qL8.test(Z.charAt(J)));return J}var qL8,JV0;var QV0=_(()=>{qL8=/\s/;JV0=WL8});function zL8(Z){return Z?Z.slice(0,JV0(Z)+1).replace(GL8,""):Z}var GL8,KV0;var XV0=_(()=>{QV0();GL8=/^\s+/;KV0=zL8});function HL8(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var kJ;var x5=_(()=>{kJ=HL8});function RL8(Z){if(typeof Z=="number")return Z;if(pq(Z))return UV0;if(kJ(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=kJ(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=KV0(Z);var Q=ML8.test(Z);return Q||BL8.test(Z)?OL8(Z.slice(2),Q?2:8):FL8.test(Z)?UV0:+Z}var UV0=NaN,FL8,ML8,BL8,OL8,YV0;var qV0=_(()=>{XV0();x5();BI();FL8=/^[-+]0x[0-9a-f]+$/i,ML8=/^0b[01]+$/i,BL8=/^0o[0-7]+$/i,OL8=parseInt;YV0=RL8});function LL8(Z){if(!Z)return Z===0?Z:0;if(Z=YV0(Z),Z===WV0||Z===-WV0){var J=Z<0?-1:1;return J*DL8}return Z===Z?Z:0}var WV0=1/0,DL8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,GV0;var zV0=_(()=>{qV0();GV0=LL8});function IL8(Z){var J=GV0(Z),Q=J%1;return J===J?Q?J-Q:J:0}var KU;var kM=_(()=>{zV0();KU=IL8});function AL8(Z){return Z}var _K;var _M=_(()=>{_K=AL8});function jL8(Z){if(!kJ(Z))return!1;var J=H6(Z);return J==EL8||J==VL8||J==NL8||J==PL8}var NL8="[object AsyncFunction]",EL8="[object Function]",VL8="[object GeneratorFunction]",PL8="[object Proxy]",F6;var lT=_(()=>{gq();x5();F6=jL8});var CL8,dT;var HV0=_(()=>{f5();CL8=q7["__core-js_shared__"],dT=CL8});function SL8(Z){return!!FV0&&FV0 in Z}var FV0,MV0;var BV0=_(()=>{HV0();FV0=function(){var Z=/[^.]+$/.exec(dT&&dT.keys&&dT.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();MV0=SL8});function $L8(Z){if(Z!=null){try{return wL8.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var TL8,wL8,kY;var Xr=_(()=>{TL8=Function.prototype,wL8=TL8.toString;kY=$L8});function hL8(Z){if(!kJ(Z)||MV0(Z))return!1;var J=F6(Z)?yL8:_L8;return J.test(kY(Z))}var kL8,_L8,fL8,vL8,xL8,bL8,yL8,OV0;var RV0=_(()=>{lT();BV0();x5();Xr();kL8=/[\\^$.*+?()[\]{}|]/g,_L8=/^\[object .+?Constructor\]$/,fL8=Function.prototype,vL8=Object.prototype,xL8=fL8.toString,bL8=vL8.hasOwnProperty,yL8=RegExp("^"+xL8.call(bL8).replace(kL8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");OV0=hL8});function mL8(Z,J){return Z==null?void 0:Z[J]}var DV0;var LV0=_(()=>{DV0=mL8});function uL8(Z,J){var Q=DV0(Z,J);return OV0(Q)?Q:void 0}var J4;var cq=_(()=>{RV0();LV0();J4=uL8});var gL8,iT;var IV0=_(()=>{cq();f5();gL8=J4(q7,"WeakMap"),iT=gL8});var AV0,pL8,NV0;var EV0=_(()=>{x5();AV0=Object.create,pL8=function(){function Z(){}return function(J){if(!kJ(J))return{};if(AV0)return AV0(J);Z.prototype=J;var Q=new Z;return Z.prototype=void 0,Q}}(),NV0=pL8});function cL8(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var VV0;var PV0=_(()=>{VV0=cL8});function lL8(){}var _J;var Ur=_(()=>{_J=lL8});function dL8(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}var jV0;var CV0=_(()=>{jV0=dL8});function nL8(Z){var J=0,Q=0;return function(){var K=rL8(),X=sL8-(K-Q);if(Q=K,X>0){if(++J>=iL8)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var iL8=800,sL8=16,rL8,SV0;var TV0=_(()=>{rL8=Date.now;SV0=nL8});function aL8(Z){return function(){return Z}}var wV0;var $V0=_(()=>{wV0=aL8});var oL8,fM;var Yr=_(()=>{cq();oL8=function(){try{var Z=J4(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),fM=oL8});var tL8,kV0;var _V0=_(()=>{$V0();Yr();_M();tL8=!fM?_K:function(Z,J){return fM(Z,"toString",{configurable:!0,enumerable:!1,value:wV0(J),writable:!0})},kV0=tL8});var eL8,fV0;var vV0=_(()=>{_V0();TV0();eL8=SV0(kV0),fV0=eL8});function ZI8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var sT;var qr=_(()=>{sT=ZI8});function JI8(Z,J,Q,K){var X=Z.length,U=Q+(K?1:-1);while(K?U--:++U<X)if(J(Z[U],U,Z))return U;return-1}var rT;var Wr=_(()=>{rT=JI8});function QI8(Z){return Z!==Z}var xV0;var bV0=_(()=>{xV0=QI8});function KI8(Z,J,Q){var K=Q-1,X=Z.length;while(++K<X)if(Z[K]===J)return K;return-1}var yV0;var hV0=_(()=>{yV0=KI8});function XI8(Z,J,Q){return J===J?yV0(Z,J,Q):rT(Z,xV0,Q)}var vM;var nT=_(()=>{Wr();bV0();hV0();vM=XI8});function UI8(Z,J){var Q=Z==null?0:Z.length;return!!Q&&vM(Z,J,0)>-1}var aT;var Gr=_(()=>{nT();aT=UI8});function WI8(Z,J){var Q=typeof Z;return J=J==null?YI8:J,!!J&&(Q=="number"||Q!="symbol"&&qI8.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var YI8=9007199254740991,qI8,lq;var OI=_(()=>{qI8=/^(?:0|[1-9]\d*)$/;lq=WI8});function GI8(Z,J,Q){if(J=="__proto__"&&fM)fM(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var xM;var oT=_(()=>{Yr();xM=GI8});function zI8(Z,J){return Z===J||Z!==Z&&J!==J}var XU;var bM=_(()=>{XU=zI8});function MI8(Z,J,Q){var K=Z[J];if(!(FI8.call(Z,J)&&XU(K,Q))||Q===void 0&&!(J in Z))xM(Z,J,Q)}var HI8,FI8,dq;var RI=_(()=>{oT();bM();HI8=Object.prototype,FI8=HI8.hasOwnProperty;dq=MI8});function BI8(Z,J,Q,K){var X=!Q;Q||(Q={});var U=-1,Y=J.length;while(++U<Y){var q=J[U],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(X)xM(Q,q,W);else dq(Q,q,W)}return Q}var UU;var yM=_(()=>{RI();oT();UU=BI8});function OI8(Z,J,Q){return J=mV0(J===void 0?Z.length-1:J,0),function(){var K=arguments,X=-1,U=mV0(K.length-J,0),Y=Array(U);while(++X<U)Y[X]=K[J+X];X=-1;var q=Array(J+1);while(++X<J)q[X]=K[X];return q[J]=Q(Y),VV0(Z,this,q)}}var mV0,uV0;var gV0=_(()=>{PV0();mV0=Math.max;uV0=OI8});function RI8(Z,J){return fV0(uV0(Z,J,_K),Z+"")}var hM;var tT=_(()=>{_M();gV0();vV0();hM=RI8});function LI8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=DI8}var DI8=9007199254740991,mM;var eT=_(()=>{mM=LI8});function II8(Z){return Z!=null&&mM(Z.length)&&!F6(Z)}var W7;var b5=_(()=>{lT();eT();W7=II8});function AI8(Z,J,Q){if(!kJ(Q))return!1;var K=typeof J;if(K=="number"?W7(Q)&&lq(J,Q.length):K=="string"&&(J in Q))return XU(Q[J],Z);return!1}var iq;var DI=_(()=>{bM();b5();OI();x5();iq=AI8});function NI8(Z){return hM(function(J,Q){var K=-1,X=Q.length,U=X>1?Q[X-1]:void 0,Y=X>2?Q[2]:void 0;if(U=Z.length>3&&typeof U=="function"?(X--,U):void 0,Y&&iq(Q[0],Q[1],Y))U=X<3?void 0:U,X=1;J=Object(J);while(++K<X){var q=Q[K];if(q)Z(J,q,K,U)}return J})}var pV0;var cV0=_(()=>{tT();DI();pV0=NI8});function VI8(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||EI8;return Z===Q}var EI8,YU;var uM=_(()=>{EI8=Object.prototype;YU=VI8});function PI8(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var lV0;var dV0=_(()=>{lV0=PI8});function CI8(Z){return nJ(Z)&&H6(Z)==jI8}var jI8="[object Arguments]",zr;var iV0=_(()=>{gq();v5();zr=CI8});var sV0,SI8,TI8,wI8,sq;var LI=_(()=>{iV0();v5();sV0=Object.prototype,SI8=sV0.hasOwnProperty,TI8=sV0.propertyIsEnumerable,wI8=zr(function(){return arguments}())?zr:function(Z){return nJ(Z)&&SI8.call(Z,"callee")&&!TI8.call(Z,"callee")},sq=wI8});function $I8(){return!1}var rV0;var nV0=_(()=>{rV0=$I8});var Jw={};z9(Jw,{default:()=>qU});var tV0,aV0,kI8,oV0,_I8,fI8,qU;var II=_(()=>{f5();nV0();tV0=typeof Jw=="object"&&Jw&&!Jw.nodeType&&Jw,aV0=tV0&&typeof Zw=="object"&&Zw&&!Zw.nodeType&&Zw,kI8=aV0&&aV0.exports===tV0,oV0=kI8?q7.Buffer:void 0,_I8=oV0?oV0.isBuffer:void 0,fI8=_I8||rV0,qU=fI8});function XA8(Z){return nJ(Z)&&mM(Z.length)&&!!UJ[H6(Z)]}var vI8="[object Arguments]",xI8="[object Array]",bI8="[object Boolean]",yI8="[object Date]",hI8="[object Error]",mI8="[object Function]",uI8="[object Map]",gI8="[object Number]",pI8="[object Object]",cI8="[object RegExp]",lI8="[object Set]",dI8="[object String]",iI8="[object WeakMap]",sI8="[object ArrayBuffer]",rI8="[object DataView]",nI8="[object Float32Array]",aI8="[object Float64Array]",oI8="[object Int8Array]",tI8="[object Int16Array]",eI8="[object Int32Array]",ZA8="[object Uint8Array]",JA8="[object Uint8ClampedArray]",QA8="[object Uint16Array]",KA8="[object Uint32Array]",UJ,eV0;var ZP0=_(()=>{gq();eT();v5();UJ={};UJ[nI8]=UJ[aI8]=UJ[oI8]=UJ[tI8]=UJ[eI8]=UJ[ZA8]=UJ[JA8]=UJ[QA8]=UJ[KA8]=!0;UJ[vI8]=UJ[xI8]=UJ[sI8]=UJ[bI8]=UJ[rI8]=UJ[yI8]=UJ[hI8]=UJ[mI8]=UJ[uI8]=UJ[gI8]=UJ[pI8]=UJ[cI8]=UJ[lI8]=UJ[dI8]=UJ[iI8]=!1;eV0=XA8});function UA8(Z){return function(J){return Z(J)}}var WU;var gM=_(()=>{WU=UA8});var Kw={};z9(Kw,{default:()=>g4});var JP0,AI,YA8,Hr,qA8,g4;var NI=_(()=>{Kr();JP0=typeof Kw=="object"&&Kw&&!Kw.nodeType&&Kw,AI=JP0&&typeof Qw=="object"&&Qw&&!Qw.nodeType&&Qw,YA8=AI&&AI.exports===JP0,Hr=YA8&&cT.process,qA8=function(){try{var Z=AI&&AI.require&&AI.require("util").types;if(Z)return Z;return Hr&&Hr.binding&&Hr.binding("util")}catch(J){}}(),g4=qA8});var QP0,WA8,pM;var Xw=_(()=>{ZP0();gM();NI();QP0=g4&&g4.isTypedArray,WA8=QP0?WU(QP0):eV0,pM=WA8});function HA8(Z,J){var Q=i8(Z),K=!Q&&sq(Z),X=!Q&&!K&&qU(Z),U=!Q&&!K&&!X&&pM(Z),Y=Q||K||X||U,q=Y?lV0(Z.length,String):[],W=q.length;for(var G in Z)if((J||zA8.call(Z,G))&&!(Y&&(G=="length"||X&&(G=="offset"||G=="parent")||U&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||lq(G,W))))q.push(G);return q}var GA8,zA8,Uw;var Fr=_(()=>{dV0();LI();uJ();II();OI();Xw();GA8=Object.prototype,zA8=GA8.hasOwnProperty;Uw=HA8});function FA8(Z,J){return function(Q){return Z(J(Q))}}var Yw;var Mr=_(()=>{Yw=FA8});var MA8,KP0;var XP0=_(()=>{Mr();MA8=Yw(Object.keys,Object),KP0=MA8});function RA8(Z){if(!YU(Z))return KP0(Z);var J=[];for(var Q in Object(Z))if(OA8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var BA8,OA8,qw;var Br=_(()=>{uM();XP0();BA8=Object.prototype,OA8=BA8.hasOwnProperty;qw=RA8});function DA8(Z){return W7(Z)?Uw(Z):qw(Z)}var rZ;var GU=_(()=>{Fr();Br();b5();rZ=DA8});var LA8,IA8,AA8,cM;var UP0=_(()=>{RI();yM();cV0();b5();uM();GU();LA8=Object.prototype,IA8=LA8.hasOwnProperty,AA8=pV0(function(Z,J){if(YU(J)||W7(J)){UU(J,rZ(J),Z);return}for(var Q in J)if(IA8.call(J,Q))dq(Z,Q,J[Q])}),cM=AA8});function NA8(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var YP0;var qP0=_(()=>{YP0=NA8});function PA8(Z){if(!kJ(Z))return YP0(Z);var J=YU(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!VA8.call(Z,K))))Q.push(K);return Q}var EA8,VA8,WP0;var GP0=_(()=>{x5();uM();qP0();EA8=Object.prototype,VA8=EA8.hasOwnProperty;WP0=PA8});function jA8(Z){return W7(Z)?Uw(Z,!0):WP0(Z)}var rq;var EI=_(()=>{Fr();GP0();b5();rq=jA8});function TA8(Z,J){if(i8(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||pq(Z))return!0;return SA8.test(Z)||!CA8.test(Z)||J!=null&&Z in Object(J)}var CA8,SA8,lM;var Ww=_(()=>{uJ();BI();CA8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SA8=/^\w*$/;lM=TA8});var wA8,_Y;var VI=_(()=>{cq();wA8=J4(Object,"create"),_Y=wA8});function $A8(){this.__data__=_Y?_Y(null):{},this.size=0}var zP0;var HP0=_(()=>{VI();zP0=$A8});function kA8(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var FP0;var MP0=_(()=>{FP0=kA8});function xA8(Z){var J=this.__data__;if(_Y){var Q=J[Z];return Q===_A8?void 0:Q}return vA8.call(J,Z)?J[Z]:void 0}var _A8="__lodash_hash_undefined__",fA8,vA8,BP0;var OP0=_(()=>{VI();fA8=Object.prototype,vA8=fA8.hasOwnProperty;BP0=xA8});function hA8(Z){var J=this.__data__;return _Y?J[Z]!==void 0:yA8.call(J,Z)}var bA8,yA8,RP0;var DP0=_(()=>{VI();bA8=Object.prototype,yA8=bA8.hasOwnProperty;RP0=hA8});function uA8(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=_Y&&J===void 0?mA8:J,this}var mA8="__lodash_hash_undefined__",LP0;var IP0=_(()=>{VI();LP0=uA8});function dM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Or;var AP0=_(()=>{HP0();MP0();OP0();DP0();IP0();dM.prototype.clear=zP0;dM.prototype.delete=FP0;dM.prototype.get=BP0;dM.prototype.has=RP0;dM.prototype.set=LP0;Or=dM});function gA8(){this.__data__=[],this.size=0}var NP0;var EP0=_(()=>{NP0=gA8});function pA8(Z,J){var Q=Z.length;while(Q--)if(XU(Z[Q][0],J))return Q;return-1}var nq;var PI=_(()=>{bM();nq=pA8});function dA8(Z){var J=this.__data__,Q=nq(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else lA8.call(J,Q,1);return--this.size,!0}var cA8,lA8,VP0;var PP0=_(()=>{PI();cA8=Array.prototype,lA8=cA8.splice;VP0=dA8});function iA8(Z){var J=this.__data__,Q=nq(J,Z);return Q<0?void 0:J[Q][1]}var jP0;var CP0=_(()=>{PI();jP0=iA8});function sA8(Z){return nq(this.__data__,Z)>-1}var SP0;var TP0=_(()=>{PI();SP0=sA8});function rA8(Z,J){var Q=this.__data__,K=nq(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var wP0;var $P0=_(()=>{PI();wP0=rA8});function iM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var aq;var jI=_(()=>{EP0();PP0();CP0();TP0();$P0();iM.prototype.clear=NP0;iM.prototype.delete=VP0;iM.prototype.get=jP0;iM.prototype.has=SP0;iM.prototype.set=wP0;aq=iM});var nA8,oq;var Gw=_(()=>{cq();f5();nA8=J4(q7,"Map"),oq=nA8});function aA8(){this.size=0,this.__data__={hash:new Or,map:new(oq||aq),string:new Or}}var kP0;var _P0=_(()=>{AP0();jI();Gw();kP0=aA8});function oA8(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var fP0;var vP0=_(()=>{fP0=oA8});function tA8(Z,J){var Q=Z.__data__;return fP0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var tq;var CI=_(()=>{vP0();tq=tA8});function eA8(Z){var J=tq(this,Z).delete(Z);return this.size-=J?1:0,J}var xP0;var bP0=_(()=>{CI();xP0=eA8});function ZN8(Z){return tq(this,Z).get(Z)}var yP0;var hP0=_(()=>{CI();yP0=ZN8});function JN8(Z){return tq(this,Z).has(Z)}var mP0;var uP0=_(()=>{CI();mP0=JN8});function QN8(Z,J){var Q=tq(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var gP0;var pP0=_(()=>{CI();gP0=QN8});function sM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var _z;var zw=_(()=>{_P0();bP0();hP0();uP0();pP0();sM.prototype.clear=kP0;sM.prototype.delete=xP0;sM.prototype.get=yP0;sM.prototype.has=mP0;sM.prototype.set=gP0;_z=sM});function Rr(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(KN8);var Q=function(){var K=arguments,X=J?J.apply(this,K):K[0],U=Q.cache;if(U.has(X))return U.get(X);var Y=Z.apply(this,K);return Q.cache=U.set(X,Y)||U,Y};return Q.cache=new(Rr.Cache||_z),Q}var KN8="Expected a function",cP0;var lP0=_(()=>{zw();Rr.Cache=_z;cP0=Rr});function UN8(Z){var J=cP0(Z,function(K){if(Q.size===XN8)Q.clear();return K}),Q=J.cache;return J}var XN8=500,dP0;var iP0=_(()=>{lP0();dP0=UN8});var YN8,qN8,WN8,sP0;var rP0=_(()=>{iP0();YN8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qN8=/\\(\\)?/g,WN8=dP0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(YN8,function(Q,K,X,U){J.push(X?U.replace(qN8,"$1"):K||Q)}),J}),sP0=WN8});function GN8(Z){return Z==null?"":eE0(Z)}var nP0;var aP0=_(()=>{ZV0();nP0=GN8});function zN8(Z,J){if(i8(Z))return Z;return lM(Z,J)?[Z]:sP0(nP0(Z))}var eq;var SI=_(()=>{uJ();Ww();rP0();aP0();eq=zN8});function FN8(Z){if(typeof Z=="string"||pq(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-HN8?"-0":J}var HN8=1/0,zU;var rM=_(()=>{BI();zU=FN8});function MN8(Z,J){J=eq(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[zU(J[Q++])];return Q&&Q==K?Z:void 0}var nM;var Hw=_(()=>{SI();rM();nM=MN8});function BN8(Z,J,Q){var K=Z==null?void 0:nM(Z,J);return K===void 0?Q:K}var oP0;var tP0=_(()=>{Hw();oP0=BN8});function ON8(Z,J){var Q=-1,K=J.length,X=Z.length;while(++Q<K)Z[X+Q]=J[Q];return Z}var aM;var Fw=_(()=>{aM=ON8});function RN8(Z){return i8(Z)||sq(Z)||!!(eP0&&Z&&Z[eP0])}var eP0,Zj0;var Jj0=_(()=>{kz();LI();uJ();eP0=m7?m7.isConcatSpreadable:void 0;Zj0=RN8});function Qj0(Z,J,Q,K,X){var U=-1,Y=Z.length;Q||(Q=Zj0),X||(X=[]);while(++U<Y){var q=Z[U];if(J>0&&Q(q))if(J>1)Qj0(q,J-1,Q,K,X);else aM(X,q);else if(!K)X[X.length]=q}return X}var oM;var Mw=_(()=>{Fw();Jj0();oM=Qj0});function DN8(Z){var J=Z==null?0:Z.length;return J?oM(Z,1):[]}var V7;var Kj0=_(()=>{Mw();V7=DN8});var LN8,Bw;var Dr=_(()=>{Mr();LN8=Yw(Object.getPrototypeOf,Object),Bw=LN8});function IN8(Z,J,Q){var K=-1,X=Z.length;if(J<0)J=-J>X?0:X+J;if(Q=Q>X?X:Q,Q<0)Q+=X;X=J>Q?0:Q-J>>>0,J>>>=0;var U=Array(X);while(++K<X)U[K]=Z[K+J];return U}var Ow;var Lr=_(()=>{Ow=IN8});function AN8(Z,J,Q,K){var X=-1,U=Z==null?0:Z.length;if(K&&U)Q=Z[++X];while(++X<U)Q=J(Q,Z[X],X,Z);return Q}var Xj0;var Uj0=_(()=>{Xj0=AN8});function NN8(){this.__data__=new aq,this.size=0}var Yj0;var qj0=_(()=>{jI();Yj0=NN8});function EN8(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var Wj0;var Gj0=_(()=>{Wj0=EN8});function VN8(Z){return this.__data__.get(Z)}var zj0;var Hj0=_(()=>{zj0=VN8});function PN8(Z){return this.__data__.has(Z)}var Fj0;var Mj0=_(()=>{Fj0=PN8});function CN8(Z,J){var Q=this.__data__;if(Q instanceof aq){var K=Q.__data__;if(!oq||K.length<jN8-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new _z(K)}return Q.set(Z,J),this.size=Q.size,this}var jN8=200,Bj0;var Oj0=_(()=>{jI();Gw();zw();Bj0=CN8});function tM(Z){var J=this.__data__=new aq(Z);this.size=J.size}var ZW;var Rw=_(()=>{jI();qj0();Gj0();Hj0();Mj0();Oj0();tM.prototype.clear=Yj0;tM.prototype.delete=Wj0;tM.prototype.get=zj0;tM.prototype.has=Fj0;tM.prototype.set=Bj0;ZW=tM});function SN8(Z,J){return Z&&UU(J,rZ(J),Z)}var Rj0;var Dj0=_(()=>{yM();GU();Rj0=SN8});function TN8(Z,J){return Z&&UU(J,rq(J),Z)}var Lj0;var Ij0=_(()=>{yM();EI();Lj0=TN8});var Lw={};z9(Lw,{default:()=>Ir});function $N8(Z,J){if(J)return Z.slice();var Q=Z.length,K=Ej0?Ej0(Q):new Z.constructor(Q);return Z.copy(K),K}var Vj0,Aj0,wN8,Nj0,Ej0,Ir;var Pj0=_(()=>{f5();Vj0=typeof Lw=="object"&&Lw&&!Lw.nodeType&&Lw,Aj0=Vj0&&typeof Dw=="object"&&Dw&&!Dw.nodeType&&Dw,wN8=Aj0&&Aj0.exports===Vj0,Nj0=wN8?q7.Buffer:void 0,Ej0=Nj0?Nj0.allocUnsafe:void 0;Ir=$N8});function kN8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=0,U=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))U[X++]=Y}return U}var eM;var Iw=_(()=>{eM=kN8});function _N8(){return[]}var Aw;var Ar=_(()=>{Aw=_N8});var fN8,vN8,jj0,xN8,ZB;var Nw=_(()=>{Iw();Ar();fN8=Object.prototype,vN8=fN8.propertyIsEnumerable,jj0=Object.getOwnPropertySymbols,xN8=!jj0?Aw:function(Z){if(Z==null)return[];return Z=Object(Z),eM(jj0(Z),function(J){return vN8.call(Z,J)})},ZB=xN8});function bN8(Z,J){return UU(Z,ZB(Z),J)}var Cj0;var Sj0=_(()=>{yM();Nw();Cj0=bN8});var yN8,hN8,Ew;var Nr=_(()=>{Fw();Dr();Nw();Ar();yN8=Object.getOwnPropertySymbols,hN8=!yN8?Aw:function(Z){var J=[];while(Z)aM(J,ZB(Z)),Z=Bw(Z);return J},Ew=hN8});function mN8(Z,J){return UU(Z,Ew(Z),J)}var Tj0;var wj0=_(()=>{yM();Nr();Tj0=mN8});function uN8(Z,J,Q){var K=J(Z);return i8(Z)?K:aM(K,Q(Z))}var Vw;var Er=_(()=>{Fw();uJ();Vw=uN8});function gN8(Z){return Vw(Z,rZ,ZB)}var TI;var Vr=_(()=>{Er();Nw();GU();TI=gN8});function pN8(Z){return Vw(Z,rq,Ew)}var Pw;var Pr=_(()=>{Er();Nr();EI();Pw=pN8});var cN8,jw;var $j0=_(()=>{cq();f5();cN8=J4(q7,"DataView"),jw=cN8});var lN8,Cw;var kj0=_(()=>{cq();f5();lN8=J4(q7,"Promise"),Cw=lN8});var dN8,JW;var jr=_(()=>{cq();f5();dN8=J4(q7,"Set"),JW=dN8});var _j0="[object Map]",iN8="[object Object]",fj0="[object Promise]",vj0="[object Set]",xj0="[object WeakMap]",bj0="[object DataView]",sN8,rN8,nN8,aN8,oN8,fz,y5;var JB=_(()=>{$j0();Gw();kj0();jr();IV0();gq();Xr();sN8=kY(jw),rN8=kY(oq),nN8=kY(Cw),aN8=kY(JW),oN8=kY(iT),fz=H6;if(jw&&fz(new jw(new ArrayBuffer(1)))!=bj0||oq&&fz(new oq)!=_j0||Cw&&fz(Cw.resolve())!=fj0||JW&&fz(new JW)!=vj0||iT&&fz(new iT)!=xj0)fz=function(Z){var J=H6(Z),Q=J==iN8?Z.constructor:void 0,K=Q?kY(Q):"";if(K)switch(K){case sN8:return bj0;case rN8:return _j0;case nN8:return fj0;case aN8:return vj0;case oN8:return xj0}return J};y5=fz});function ZE8(Z){var J=Z.length,Q=new Z.constructor(J);if(J&&typeof Z[0]=="string"&&eN8.call(Z,"index"))Q.index=Z.index,Q.input=Z.input;return Q}var tN8,eN8,yj0;var hj0=_(()=>{tN8=Object.prototype,eN8=tN8.hasOwnProperty;yj0=ZE8});var JE8,QB;var Cr=_(()=>{f5();JE8=q7.Uint8Array,QB=JE8});function QE8(Z){var J=new Z.constructor(Z.byteLength);return new QB(J).set(new QB(Z)),J}var KB;var Sw=_(()=>{Cr();KB=QE8});function KE8(Z,J){var Q=J?KB(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.byteLength)}var mj0;var uj0=_(()=>{Sw();mj0=KE8});function UE8(Z){var J=new Z.constructor(Z.source,XE8.exec(Z));return J.lastIndex=Z.lastIndex,J}var XE8,gj0;var pj0=_(()=>{XE8=/\w*$/;gj0=UE8});function YE8(Z){return lj0?Object(lj0.call(Z)):{}}var cj0,lj0,dj0;var ij0=_(()=>{kz();cj0=m7?m7.prototype:void 0,lj0=cj0?cj0.valueOf:void 0;dj0=YE8});function qE8(Z,J){var Q=J?KB(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.length)}var sj0;var rj0=_(()=>{Sw();sj0=qE8});function SE8(Z,J,Q){var K=Z.constructor;switch(J){case RE8:return KB(Z);case WE8:case GE8:return new K(+Z);case DE8:return mj0(Z,Q);case LE8:case IE8:case AE8:case NE8:case EE8:case VE8:case PE8:case jE8:case CE8:return sj0(Z,Q);case zE8:return new K;case HE8:case BE8:return new K(Z);case FE8:return gj0(Z);case ME8:return new K;case OE8:return dj0(Z)}}var WE8="[object Boolean]",GE8="[object Date]",zE8="[object Map]",HE8="[object Number]",FE8="[object RegExp]",ME8="[object Set]",BE8="[object String]",OE8="[object Symbol]",RE8="[object ArrayBuffer]",DE8="[object DataView]",LE8="[object Float32Array]",IE8="[object Float64Array]",AE8="[object Int8Array]",NE8="[object Int16Array]",EE8="[object Int32Array]",VE8="[object Uint8Array]",PE8="[object Uint8ClampedArray]",jE8="[object Uint16Array]",CE8="[object Uint32Array]",nj0;var aj0=_(()=>{Sw();uj0();pj0();ij0();rj0();nj0=SE8});function TE8(Z){return typeof Z.constructor=="function"&&!YU(Z)?NV0(Bw(Z)):{}}var oj0;var tj0=_(()=>{EV0();Dr();uM();oj0=TE8});function $E8(Z){return nJ(Z)&&y5(Z)==wE8}var wE8="[object Map]",ej0;var ZC0=_(()=>{JB();v5();ej0=$E8});var JC0,kE8,QC0;var KC0=_(()=>{ZC0();gM();NI();JC0=g4&&g4.isMap,kE8=JC0?WU(JC0):ej0,QC0=kE8});function fE8(Z){return nJ(Z)&&y5(Z)==_E8}var _E8="[object Set]",XC0;var UC0=_(()=>{JB();v5();XC0=fE8});var YC0,vE8,qC0;var WC0=_(()=>{UC0();gM();NI();YC0=g4&&g4.isSet,vE8=YC0?WU(YC0):XC0,qC0=vE8});function Tw(Z,J,Q,K,X,U){var Y,q=J&xE8,W=J&bE8,G=J&yE8;if(Q)Y=X?Q(Z,K,X,U):Q(Z);if(Y!==void 0)return Y;if(!kJ(Z))return Z;var z=i8(Z);if(z){if(Y=yj0(Z),!q)return jV0(Z,Y)}else{var H=y5(Z),F=H==zC0||H==pE8;if(qU(Z))return Ir(Z,q);if(H==HC0||H==GC0||F&&!X){if(Y=W||F?{}:oj0(Z),!q)return W?Tj0(Z,Lj0(Y,Z)):Cj0(Z,Rj0(Y,Z))}else{if(!nZ[H])return X?Z:{};Y=nj0(Z,H,q)}}U||(U=new ZW);var M=U.get(Z);if(M)return M;if(U.set(Z,Y),qC0(Z))Z.forEach(function(R){Y.add(Tw(R,J,Q,R,Z,U))});else if(QC0(Z))Z.forEach(function(R,D){Y.set(D,Tw(R,J,Q,D,Z,U))});var B=G?W?Pw:TI:W?rq:rZ,O=z?void 0:B(Z);return sT(O||Z,function(R,D){if(O)D=R,R=Z[D];dq(Y,D,Tw(R,J,Q,D,Z,U))}),Y}var xE8=1,bE8=2,yE8=4,GC0="[object Arguments]",hE8="[object Array]",mE8="[object Boolean]",uE8="[object Date]",gE8="[object Error]",zC0="[object Function]",pE8="[object GeneratorFunction]",cE8="[object Map]",lE8="[object Number]",HC0="[object Object]",dE8="[object RegExp]",iE8="[object Set]",sE8="[object String]",rE8="[object Symbol]",nE8="[object WeakMap]",aE8="[object ArrayBuffer]",oE8="[object DataView]",tE8="[object Float32Array]",eE8="[object Float64Array]",ZV8="[object Int8Array]",JV8="[object Int16Array]",QV8="[object Int32Array]",KV8="[object Uint8Array]",XV8="[object Uint8ClampedArray]",UV8="[object Uint16Array]",YV8="[object Uint32Array]",nZ,FC0;var MC0=_(()=>{Rw();qr();RI();Dj0();Ij0();Pj0();CV0();Sj0();wj0();Vr();Pr();JB();hj0();aj0();tj0();uJ();II();KC0();x5();WC0();GU();EI();nZ={};nZ[GC0]=nZ[hE8]=nZ[aE8]=nZ[oE8]=nZ[mE8]=nZ[uE8]=nZ[tE8]=nZ[eE8]=nZ[ZV8]=nZ[JV8]=nZ[QV8]=nZ[cE8]=nZ[lE8]=nZ[HC0]=nZ[dE8]=nZ[iE8]=nZ[sE8]=nZ[rE8]=nZ[KV8]=nZ[XV8]=nZ[UV8]=nZ[YV8]=!0;nZ[gE8]=nZ[zC0]=nZ[nE8]=!1;FC0=Tw});function WV8(Z){return FC0(Z,qV8)}var qV8=4,aZ;var BC0=_(()=>{MC0();aZ=WV8});function GV8(Z){var J=-1,Q=Z==null?0:Z.length,K=0,X=[];while(++J<Q){var U=Z[J];if(U)X[K++]=U}return X}var HU;var OC0=_(()=>{HU=GV8});function HV8(Z){return this.__data__.set(Z,zV8),this}var zV8="__lodash_hash_undefined__",RC0;var DC0=_(()=>{RC0=HV8});function FV8(Z){return this.__data__.has(Z)}var LC0;var IC0=_(()=>{LC0=FV8});function ww(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new _z;while(++J<Q)this.add(Z[J])}var XB;var $w=_(()=>{zw();DC0();IC0();ww.prototype.add=ww.prototype.push=RC0;ww.prototype.has=LC0;XB=ww});function MV8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var kw;var Sr=_(()=>{kw=MV8});function BV8(Z,J){return Z.has(J)}var UB;var _w=_(()=>{UB=BV8});function DV8(Z,J,Q,K,X,U){var Y=Q&OV8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=U.get(Z),z=U.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&RV8?new XB:void 0;U.set(Z,J),U.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,U):K(B,O,H,Z,J,U);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!kw(J,function(D,L){if(!UB(M,L)&&(B===D||X(B,D,Q,K,U)))return M.push(L)})){F=!1;break}}else if(!(B===O||X(B,O,Q,K,U))){F=!1;break}}return U.delete(Z),U.delete(J),F}var OV8=1,RV8=2,fw;var Tr=_(()=>{$w();Sr();_w();fw=DV8});function LV8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,X){Q[++J]=[X,K]}),Q}var AC0;var NC0=_(()=>{AC0=LV8});function IV8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var YB;var vw=_(()=>{YB=IV8});function fV8(Z,J,Q,K,X,U,Y){switch(Q){case _V8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case kV8:if(Z.byteLength!=J.byteLength||!U(new QB(Z),new QB(J)))return!1;return!0;case EV8:case VV8:case CV8:return XU(+Z,+J);case PV8:return Z.name==J.name&&Z.message==J.message;case SV8:case wV8:return Z==J+"";case jV8:var q=AC0;case TV8:var W=K&AV8;if(q||(q=YB),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=NV8,Y.set(Z,J);var z=fw(q(Z),q(J),K,X,U,Y);return Y.delete(Z),z;case $V8:if(wr)return wr.call(Z)==wr.call(J)}return!1}var AV8=1,NV8=2,EV8="[object Boolean]",VV8="[object Date]",PV8="[object Error]",jV8="[object Map]",CV8="[object Number]",SV8="[object RegExp]",TV8="[object Set]",wV8="[object String]",$V8="[object Symbol]",kV8="[object ArrayBuffer]",_V8="[object DataView]",EC0,wr,VC0;var PC0=_(()=>{kz();Cr();bM();Tr();NC0();vw();EC0=m7?m7.prototype:void 0,wr=EC0?EC0.valueOf:void 0;VC0=fV8});function yV8(Z,J,Q,K,X,U){var Y=Q&vV8,q=TI(Z),W=q.length,G=TI(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:bV8.call(J,F)))return!1}var M=U.get(Z),B=U.get(J);if(M&&B)return M==J&&B==Z;var O=!0;U.set(Z,J),U.set(J,Z);var R=Y;while(++H<W){F=q[H];var D=Z[F],L=J[F];if(K)var A=Y?K(L,D,F,J,Z,U):K(D,L,F,Z,J,U);if(!(A===void 0?D===L||X(D,L,Q,K,U):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return U.delete(Z),U.delete(J),O}var vV8=1,xV8,bV8,jC0;var CC0=_(()=>{Vr();xV8=Object.prototype,bV8=xV8.hasOwnProperty;jC0=yV8});function uV8(Z,J,Q,K,X,U){var Y=i8(Z),q=i8(J),W=Y?TC0:y5(Z),G=q?TC0:y5(J);W=W==SC0?xw:W,G=G==SC0?xw:G;var z=W==xw,H=G==xw,F=W==G;if(F&&qU(Z)){if(!qU(J))return!1;Y=!0,z=!1}if(F&&!z)return U||(U=new ZW),Y||pM(Z)?fw(Z,J,Q,K,X,U):VC0(Z,J,W,Q,K,X,U);if(!(Q&hV8)){var M=z&&wC0.call(Z,"__wrapped__"),B=H&&wC0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return U||(U=new ZW),X(O,R,Q,K,U)}}if(!F)return!1;return U||(U=new ZW),jC0(Z,J,Q,K,X,U)}var hV8=1,SC0="[object Arguments]",TC0="[object Array]",xw="[object Object]",mV8,wC0,$C0;var kC0=_(()=>{Rw();Tr();PC0();CC0();JB();uJ();II();Xw();mV8=Object.prototype,wC0=mV8.hasOwnProperty;$C0=uV8});function _C0(Z,J,Q,K,X){if(Z===J)return!0;if(Z==null||J==null||!nJ(Z)&&!nJ(J))return Z!==Z&&J!==J;return $C0(Z,J,Q,K,_C0,X)}var bw;var $r=_(()=>{kC0();v5();bw=_C0});function cV8(Z,J,Q,K){var X=Q.length,U=X,Y=!K;if(Z==null)return!U;Z=Object(Z);while(X--){var q=Q[X];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++X<U){q=Q[X];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new ZW;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?bw(z,G,gV8|pV8,K,H):F))return!1}}return!0}var gV8=1,pV8=2,fC0;var vC0=_(()=>{Rw();$r();fC0=cV8});function lV8(Z){return Z===Z&&!kJ(Z)}var yw;var kr=_(()=>{x5();yw=lV8});function dV8(Z){var J=rZ(Z),Q=J.length;while(Q--){var K=J[Q],X=Z[K];J[Q]=[K,X,yw(X)]}return J}var xC0;var bC0=_(()=>{kr();GU();xC0=dV8});function iV8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var hw;var _r=_(()=>{hw=iV8});function sV8(Z){var J=xC0(Z);if(J.length==1&&J[0][2])return hw(J[0][0],J[0][1]);return function(Q){return Q===Z||fC0(Q,Z,J)}}var yC0;var hC0=_(()=>{vC0();bC0();_r();yC0=sV8});function rV8(Z,J){return Z!=null&&J in Object(Z)}var mC0;var uC0=_(()=>{mC0=rV8});function nV8(Z,J,Q){J=eq(J,Z);var K=-1,X=J.length,U=!1;while(++K<X){var Y=zU(J[K]);if(!(U=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(U||++K!=X)return U;return X=Z==null?0:Z.length,!!X&&mM(X)&&lq(Y,X)&&(i8(Z)||sq(Z))}var mw;var fr=_(()=>{SI();LI();uJ();OI();eT();rM();mw=nV8});function aV8(Z,J){return Z!=null&&mw(Z,J,mC0)}var gC0;var pC0=_(()=>{uC0();fr();gC0=aV8});function eV8(Z,J){if(lM(Z)&&yw(J))return hw(zU(Z),J);return function(Q){var K=oP0(Q,Z);return K===void 0&&K===J?gC0(Q,Z):bw(J,K,oV8|tV8)}}var oV8=1,tV8=2,cC0;var lC0=_(()=>{$r();tP0();pC0();Ww();kr();_r();rM();cC0=eV8});function ZP8(Z){return function(J){return J==null?void 0:J[Z]}}var dC0;var iC0=_(()=>{dC0=ZP8});function JP8(Z){return function(J){return nM(J,Z)}}var sC0;var rC0=_(()=>{Hw();sC0=JP8});function QP8(Z){return lM(Z)?dC0(zU(Z)):sC0(Z)}var nC0;var aC0=_(()=>{iC0();rC0();Ww();rM();nC0=QP8});function KP8(Z){if(typeof Z=="function")return Z;if(Z==null)return _K;if(typeof Z=="object")return i8(Z)?cC0(Z[0],Z[1]):yC0(Z);return nC0(Z)}var G7;var h5=_(()=>{hC0();lC0();_M();uJ();aC0();G7=KP8});function XP8(Z,J,Q,K){var X=-1,U=Z==null?0:Z.length;while(++X<U){var Y=Z[X];J(K,Y,Q(Y),Z)}return K}var oC0;var tC0=_(()=>{oC0=XP8});function UP8(Z){return function(J,Q,K){var X=-1,U=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++X];if(Q(U[W],W,U)===!1)break}return J}}var eC0;var ZS0=_(()=>{eC0=UP8});var YP8,JS0;var QS0=_(()=>{ZS0();YP8=eC0(),JS0=YP8});function qP8(Z,J){return Z&&JS0(Z,J,rZ)}var KS0;var XS0=_(()=>{QS0();GU();KS0=qP8});function WP8(Z,J){return function(Q,K){if(Q==null)return Q;if(!W7(Q))return Z(Q,K);var X=Q.length,U=J?X:-1,Y=Object(Q);while(J?U--:++U<X)if(K(Y[U],U,Y)===!1)break;return Q}}var US0;var YS0=_(()=>{b5();US0=WP8});var GP8,Q4;var QW=_(()=>{XS0();YS0();GP8=US0(KS0),Q4=GP8});function zP8(Z,J,Q,K){return Q4(Z,function(X,U,Y){J(K,X,Q(X),Y)}),K}var qS0;var WS0=_(()=>{QW();qS0=zP8});function HP8(Z,J){return function(Q,K){var X=i8(Q)?oC0:qS0,U=J?J():{};return X(Q,Z,G7(K,2),U)}}var GS0;var zS0=_(()=>{tC0();WS0();h5();uJ();GS0=HP8});var HS0,FP8,MP8,qB;var FS0=_(()=>{tT();bM();DI();EI();HS0=Object.prototype,FP8=HS0.hasOwnProperty,MP8=hM(function(Z,J){Z=Object(Z);var Q=-1,K=J.length,X=K>2?J[2]:void 0;if(X&&iq(J[0],J[1],X))K=1;while(++Q<K){var U=J[Q],Y=rq(U),q=-1,W=Y.length;while(++q<W){var G=Y[q],z=Z[G];if(z===void 0||XU(z,HS0[G])&&!FP8.call(Z,G))Z[G]=U[G]}}return Z}),qB=MP8});function BP8(Z){return nJ(Z)&&W7(Z)}var vr;var MS0=_(()=>{b5();v5();vr=BP8});function OP8(Z,J,Q){var K=-1,X=Z==null?0:Z.length;while(++K<X)if(Q(J,Z[K]))return!0;return!1}var uw;var xr=_(()=>{uw=OP8});function DP8(Z,J,Q,K){var X=-1,U=aT,Y=!0,q=Z.length,W=[],G=J.length;if(!q)return W;if(Q)J=QU(J,WU(Q));if(K)U=uw,Y=!1;else if(J.length>=RP8)U=UB,Y=!1,J=new XB(J);Z:while(++X<q){var z=Z[X],H=Q==null?z:Q(z);if(z=K||z!==0?z:0,Y&&H===H){var F=G;while(F--)if(J[F]===H)continue Z;W.push(z)}else if(!U(J,H,K))W.push(z)}return W}var RP8=200,BS0;var OS0=_(()=>{$w();Gr();xr();$M();gM();_w();BS0=DP8});var LP8,KW;var RS0=_(()=>{OS0();Mw();tT();MS0();LP8=hM(function(Z,J){return vr(Z)?BS0(Z,oM(J,1,vr,!0)):[]}),KW=LP8});function IP8(Z){var J=Z==null?0:Z.length;return J?Z[J-1]:void 0}var FU;var DS0=_(()=>{FU=IP8});function AP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:KU(J),Ow(Z,J<0?0:J,K)}var aJ;var LS0=_(()=>{Lr();kM();aJ=AP8});function NP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:KU(J),J=K-J,Ow(Z,0,J<0?0:J)}var fY;var IS0=_(()=>{Lr();kM();fY=NP8});function EP8(Z){return typeof Z=="function"?Z:_K}var AS0;var NS0=_(()=>{_M();AS0=EP8});function VP8(Z,J){var Q=i8(Z)?sT:Q4;return Q(Z,AS0(J))}var c8;var ES0=_(()=>{qr();QW();NS0();uJ();c8=VP8});function PP8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(!J(Z[Q],Q,Z))return!1;return!0}var VS0;var PS0=_(()=>{VS0=PP8});function jP8(Z,J){var Q=!0;return Q4(Z,function(K,X,U){return Q=!!J(K,X,U),Q}),Q}var jS0;var CS0=_(()=>{QW();jS0=jP8});function CP8(Z,J,Q){var K=i8(Z)?VS0:jS0;if(Q&&iq(Z,J,Q))J=void 0;return K(Z,G7(J,3))}var K4;var SS0=_(()=>{PS0();CS0();h5();uJ();DI();K4=CP8});function SP8(Z,J){var Q=[];return Q4(Z,function(K,X,U){if(J(K,X,U))Q.push(K)}),Q}var gw;var br=_(()=>{QW();gw=SP8});function TP8(Z,J){var Q=i8(Z)?eM:gw;return Q(Z,G7(J,3))}var bQ;var TS0=_(()=>{Iw();br();h5();uJ();bQ=TP8});function wP8(Z){return function(J,Q,K){var X=Object(J);if(!W7(J)){var U=G7(Q,3);J=rZ(J),Q=function(q){return U(X[q],q,X)}}var Y=Z(J,Q,K);return Y>-1?X[U?J[Y]:Y]:void 0}}var wS0;var $S0=_(()=>{h5();b5();GU();wS0=wP8});function kP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var X=Q==null?0:KU(Q);if(X<0)X=$P8(K+X,0);return rT(Z,G7(J,3),X)}var $P8,kS0;var _S0=_(()=>{Wr();h5();kM();$P8=Math.max;kS0=kP8});var _P8,MU;var fS0=_(()=>{$S0();_S0();_P8=wS0(kS0),MU=_P8});function fP8(Z){return Z&&Z.length?Z[0]:void 0}var u7;var vS0=_(()=>{u7=fP8});var xS0=_(()=>{vS0()});function vP8(Z,J){var Q=-1,K=W7(Z)?Array(Z.length):[];return Q4(Z,function(X,U,Y){K[++Q]=J(X,U,Y)}),K}var bS0;var yS0=_(()=>{QW();b5();bS0=vP8});function xP8(Z,J){var Q=i8(Z)?QU:bS0;return Q(Z,G7(J,3))}var h8;var yr=_(()=>{$M();h5();yS0();uJ();h8=xP8});function bP8(Z,J){return oM(h8(Z,J),1)}var M6;var hS0=_(()=>{Mw();yr();M6=bP8});var yP8,hP8,mP8,hr;var mS0=_(()=>{oT();zS0();yP8=Object.prototype,hP8=yP8.hasOwnProperty,mP8=GS0(function(Z,J,Q){if(hP8.call(Z,Q))Z[Q].push(J);else xM(Z,Q,[J])}),hr=mP8});function pP8(Z,J){return Z!=null&&gP8.call(Z,J)}var uP8,gP8,uS0;var gS0=_(()=>{uP8=Object.prototype,gP8=uP8.hasOwnProperty;uS0=pP8});function cP8(Z,J){return Z!=null&&mw(Z,J,uS0)}var l8;var pS0=_(()=>{gS0();fr();l8=cP8});function dP8(Z){return typeof Z=="string"||!i8(Z)&&nJ(Z)&&H6(Z)==lP8}var lP8="[object String]",B6;var mr=_(()=>{gq();uJ();v5();B6=dP8});function iP8(Z,J){return QU(J,function(Q){return Z[Q]})}var cS0;var lS0=_(()=>{$M();cS0=iP8});function sP8(Z){return Z==null?[]:cS0(Z,rZ(Z))}var xZ;var ur=_(()=>{lS0();GU();xZ=sP8});function nP8(Z,J,Q,K){Z=W7(Z)?Z:xZ(Z),Q=Q&&!K?KU(Q):0;var X=Z.length;if(Q<0)Q=rP8(X+Q,0);return B6(Z)?Q<=X&&Z.indexOf(J,Q)>-1:!!X&&vM(Z,J,Q)>-1}var rP8,gJ;var dS0=_(()=>{nT();b5();mr();kM();ur();rP8=Math.max;gJ=nP8});function oP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var X=Q==null?0:KU(Q);if(X<0)X=aP8(K+X,0);return vM(Z,J,X)}var aP8,pw;var iS0=_(()=>{nT();kM();aP8=Math.max;pw=oP8});function Qj8(Z){if(Z==null)return!0;if(W7(Z)&&(i8(Z)||typeof Z=="string"||typeof Z.splice=="function"||qU(Z)||pM(Z)||sq(Z)))return!Z.length;var J=y5(Z);if(J==tP8||J==eP8)return!Z.size;if(YU(Z))return!qw(Z).length;for(var Q in Z)if(Jj8.call(Z,Q))return!1;return!0}var tP8="[object Map]",eP8="[object Set]",Zj8,Jj8,x9;var sS0=_(()=>{Br();JB();LI();uJ();b5();II();uM();Xw();Zj8=Object.prototype,Jj8=Zj8.hasOwnProperty;x9=Qj8});function Xj8(Z){return nJ(Z)&&H6(Z)==Kj8}var Kj8="[object RegExp]",rS0;var nS0=_(()=>{gq();v5();rS0=Xj8});var aS0,Uj8,BU;var oS0=_(()=>{nS0();gM();NI();aS0=g4&&g4.isRegExp,Uj8=aS0?WU(aS0):rS0,BU=Uj8});function Yj8(Z){return Z===void 0}var yQ;var tS0=_(()=>{yQ=Yj8});function Wj8(Z){if(typeof Z!="function")throw TypeError(qj8);return function(){var J=arguments;switch(J.length){case 0:return!Z.call(this);case 1:return!Z.call(this,J[0]);case 2:return!Z.call(this,J[0],J[1]);case 3:return!Z.call(this,J[0],J[1],J[2])}return!Z.apply(this,J)}}var qj8="Expected a function",eS0;var ZT0=_(()=>{eS0=Wj8});function Gj8(Z,J,Q,K){if(!kJ(Z))return Z;J=eq(J,Z);var X=-1,U=J.length,Y=U-1,q=Z;while(q!=null&&++X<U){var W=zU(J[X]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(X!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=kJ(z)?z:lq(J[X+1])?[]:{}}dq(q,W,G),q=q[W]}return Z}var JT0;var QT0=_(()=>{RI();SI();OI();x5();rM();JT0=Gj8});function zj8(Z,J,Q){var K=-1,X=J.length,U={};while(++K<X){var Y=J[K],q=nM(Z,Y);if(Q(q,Y))JT0(U,eq(Y,Z),q)}return U}var KT0;var XT0=_(()=>{Hw();QT0();SI();KT0=zj8});function Hj8(Z,J){if(Z==null)return{};var Q=QU(Pw(Z),function(K){return[K]});return J=G7(J),KT0(Z,Q,function(K,X){return J(K,X[0])})}var gr;var UT0=_(()=>{$M();h5();XT0();Pr();gr=Hj8});function Fj8(Z,J,Q,K,X){return X(Z,function(U,Y,q){Q=K?(K=!1,U):J(Q,U,Y,q)}),Q}var YT0;var qT0=_(()=>{YT0=Fj8});function Mj8(Z,J,Q){var K=i8(Z)?Xj0:YT0,X=arguments.length<3;return K(Z,G7(J,4),Q,X,Q4)}var z7;var WT0=_(()=>{Uj0();QW();h5();qT0();uJ();z7=Mj8});function Bj8(Z,J){var Q=i8(Z)?eM:gw;return Q(Z,eS0(G7(J,3)))}var XW;var GT0=_(()=>{Iw();br();h5();uJ();ZT0();XW=Bj8});function Oj8(Z,J){var Q;return Q4(Z,function(K,X,U){return Q=J(K,X,U),!Q}),!!Q}var zT0;var HT0=_(()=>{QW();zT0=Oj8});function Rj8(Z,J,Q){var K=i8(Z)?kw:zT0;if(Q&&iq(Z,J,Q))J=void 0;return K(Z,G7(J,3))}var pr;var FT0=_(()=>{Sr();h5();HT0();uJ();DI();pr=Rj8});var Dj8=1/0,Lj8,MT0;var BT0=_(()=>{jr();Ur();vw();Lj8=!(JW&&1/YB(new JW([,-0]))[1]==Dj8)?_J:function(Z){return new JW(Z)},MT0=Lj8});function Aj8(Z,J,Q){var K=-1,X=aT,U=Z.length,Y=!0,q=[],W=q;if(Q)Y=!1,X=uw;else if(U>=Ij8){var G=J?null:MT0(Z);if(G)return YB(G);Y=!1,X=UB,W=new XB}else W=J?[]:q;Z:while(++K<U){var z=Z[K],H=J?J(z):z;if(z=Q||z!==0?z:0,Y&&H===H){var F=W.length;while(F--)if(W[F]===H)continue Z;if(J)W.push(H);q.push(z)}else if(!X(W,H,Q)){if(W!==q)W.push(H);q.push(z)}}return q}var Ij8=200,OT0;var RT0=_(()=>{$w();Gr();xr();_w();BT0();vw();OT0=Aj8});function Nj8(Z){return Z&&Z.length?OT0(Z):[]}var WB;var DT0=_(()=>{RT0();WB=Nj8});var bZ=_(()=>{UP0();BC0();OC0();FS0();RS0();LS0();IS0();SS0();TS0();fS0();xS0();hS0();Kj0();ES0();mS0();pS0();_M();dS0();iS0();uJ();sS0();lT();x5();oS0();mr();tS0();GU();DS0();yr();Ur();UT0();WT0();GT0();FT0();DT0();ur()});function GB(Z){if(console&&console.error)console.error(`Error: ${Z}`)}function wI(Z){if(console&&console.warn)console.warn(`Warning: ${Z}`)}function $I(Z){let J=new Date().getTime(),Q=Z();return{time:new Date().getTime()-J,value:Q}}function kI(Z){function J(){}J.prototype=Z;let Q=new J;function K(){return typeof Q.bar}return K(),K(),Z;(0,eval)(Z)}var zB=()=>{};var Ej8,cw;var cr=_(()=>{Ej8=typeof global=="object"&&global&&global.Object===Object&&global,cw=Ej8});var Vj8,Pj8,g7;var OU=_(()=>{cr();Vj8=typeof self=="object"&&self&&self.Object===Object&&self,Pj8=cw||Vj8||Function("return this")(),g7=Pj8});var jj8,fK;var _I=_(()=>{OU();jj8=g7.Symbol,fK=jj8});function Tj8(Z){var J=Cj8.call(Z,fI),Q=Z[fI];try{Z[fI]=void 0;var K=!0}catch(U){}var X=Sj8.call(Z);if(K)if(J)Z[fI]=Q;else delete Z[fI];return X}var LT0,Cj8,Sj8,fI,IT0;var AT0=_(()=>{_I();LT0=Object.prototype,Cj8=LT0.hasOwnProperty,Sj8=LT0.toString,fI=fK?fK.toStringTag:void 0;IT0=Tj8});function kj8(Z){return $j8.call(Z)}var wj8,$j8,NT0;var ET0=_(()=>{wj8=Object.prototype,$j8=wj8.toString;NT0=kj8});function vj8(Z){if(Z==null)return Z===void 0?fj8:_j8;return VT0&&VT0 in Object(Z)?IT0(Z):NT0(Z)}var _j8="[object Null]",fj8="[object Undefined]",VT0,O6;var UW=_(()=>{_I();AT0();ET0();VT0=fK?fK.toStringTag:void 0;O6=vj8});function xj8(Z){return Z!=null&&typeof Z=="object"}var R6;var YW=_(()=>{R6=xj8});function yj8(Z){return typeof Z=="symbol"||R6(Z)&&O6(Z)==bj8}var bj8="[object Symbol]",qW;var vI=_(()=>{UW();YW();qW=yj8});function hj8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=Array(K);while(++Q<K)X[Q]=J(Z[Q],Q,Z);return X}var WW;var xI=_(()=>{WW=hj8});var mj8,gZ;var X4=_(()=>{mj8=Array.isArray,gZ=mj8});function CT0(Z){if(typeof Z=="string")return Z;if(gZ(Z))return WW(Z,CT0)+"";if(qW(Z))return jT0?jT0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-uj8?"-0":J}var uj8=1/0,PT0,jT0,ST0;var TT0=_(()=>{_I();xI();X4();vI();PT0=fK?fK.prototype:void 0,jT0=PT0?PT0.toString:void 0;ST0=CT0});function pj8(Z){var J=Z.length;while(J--&&gj8.test(Z.charAt(J)));return J}var gj8,wT0;var $T0=_(()=>{gj8=/\s/;wT0=pj8});function lj8(Z){return Z?Z.slice(0,wT0(Z)+1).replace(cj8,""):Z}var cj8,kT0;var _T0=_(()=>{$T0();cj8=/^\s+/;kT0=lj8});function dj8(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var hQ;var GW=_(()=>{hQ=dj8});function aj8(Z){if(typeof Z=="number")return Z;if(qW(Z))return fT0;if(hQ(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=hQ(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=kT0(Z);var Q=sj8.test(Z);return Q||rj8.test(Z)?nj8(Z.slice(2),Q?2:8):ij8.test(Z)?fT0:+Z}var fT0=NaN,ij8,sj8,rj8,nj8,vT0;var xT0=_(()=>{_T0();GW();vI();ij8=/^[-+]0x[0-9a-f]+$/i,sj8=/^0b[01]+$/i,rj8=/^0o[0-7]+$/i,nj8=parseInt;vT0=aj8});function tj8(Z){if(!Z)return Z===0?Z:0;if(Z=vT0(Z),Z===bT0||Z===-bT0){var J=Z<0?-1:1;return J*oj8}return Z===Z?Z:0}var bT0=1/0,oj8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,yT0;var hT0=_(()=>{xT0();yT0=tj8});function ej8(Z){var J=yT0(Z),Q=J%1;return J===J?Q?J-Q:J:0}var mT0;var uT0=_(()=>{hT0();mT0=ej8});function ZC8(Z){return Z}var zW;var bI=_(()=>{zW=ZC8});function UC8(Z){if(!hQ(Z))return!1;var J=O6(Z);return J==QC8||J==KC8||J==JC8||J==XC8}var JC8="[object AsyncFunction]",QC8="[object Function]",KC8="[object GeneratorFunction]",XC8="[object Proxy]",lw;var lr=_(()=>{UW();GW();lw=UC8});var YC8,dw;var gT0=_(()=>{OU();YC8=g7["__core-js_shared__"],dw=YC8});function qC8(Z){return!!pT0&&pT0 in Z}var pT0,cT0;var lT0=_(()=>{gT0();pT0=function(){var Z=/[^.]+$/.exec(dw&&dw.keys&&dw.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();cT0=qC8});function zC8(Z){if(Z!=null){try{return GC8.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var WC8,GC8,vY;var dr=_(()=>{WC8=Function.prototype,GC8=WC8.toString;vY=zC8});function LC8(Z){if(!hQ(Z)||cT0(Z))return!1;var J=lw(Z)?DC8:FC8;return J.test(vY(Z))}var HC8,FC8,MC8,BC8,OC8,RC8,DC8,dT0;var iT0=_(()=>{lr();lT0();GW();dr();HC8=/[\\^$.*+?()[\]{}|]/g,FC8=/^\[object .+?Constructor\]$/,MC8=Function.prototype,BC8=Object.prototype,OC8=MC8.toString,RC8=BC8.hasOwnProperty,DC8=RegExp("^"+OC8.call(RC8).replace(HC8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");dT0=LC8});function IC8(Z,J){return Z==null?void 0:Z[J]}var sT0;var rT0=_(()=>{sT0=IC8});function AC8(Z,J){var Q=sT0(Z,J);return dT0(Q)?Q:void 0}var U4;var HW=_(()=>{iT0();rT0();U4=AC8});var NC8,iw;var nT0=_(()=>{HW();OU();NC8=U4(g7,"WeakMap"),iw=NC8});function EC8(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var aT0;var oT0=_(()=>{aT0=EC8});function CC8(Z){var J=0,Q=0;return function(){var K=jC8(),X=PC8-(K-Q);if(Q=K,X>0){if(++J>=VC8)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var VC8=800,PC8=16,jC8,tT0;var eT0=_(()=>{jC8=Date.now;tT0=CC8});function SC8(Z){return function(){return Z}}var Zw0;var Jw0=_(()=>{Zw0=SC8});var TC8,HB;var ir=_(()=>{HW();TC8=function(){try{var Z=U4(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),HB=TC8});var wC8,Qw0;var Kw0=_(()=>{Jw0();ir();bI();wC8=!HB?zW:function(Z,J){return HB(Z,"toString",{configurable:!0,enumerable:!1,value:Zw0(J),writable:!0})},Qw0=wC8});var $C8,Xw0;var Uw0=_(()=>{Kw0();eT0();$C8=tT0(Qw0),Xw0=$C8});function kC8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var Yw0;var qw0=_(()=>{Yw0=kC8});function _C8(Z,J,Q,K){var X=Z.length,U=Q+(K?1:-1);while(K?U--:++U<X)if(J(Z[U],U,Z))return U;return-1}var Ww0;var Gw0=_(()=>{Ww0=_C8});function fC8(Z){return Z!==Z}var zw0;var Hw0=_(()=>{zw0=fC8});function vC8(Z,J,Q){var K=Q-1,X=Z.length;while(++K<X)if(Z[K]===J)return K;return-1}var Fw0;var Mw0=_(()=>{Fw0=vC8});function xC8(Z,J,Q){return J===J?Fw0(Z,J,Q):Ww0(Z,zw0,Q)}var Bw0;var Ow0=_(()=>{Gw0();Hw0();Mw0();Bw0=xC8});function hC8(Z,J){var Q=typeof Z;return J=J==null?bC8:J,!!J&&(Q=="number"||Q!="symbol"&&yC8.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var bC8=9007199254740991,yC8,FW;var yI=_(()=>{yC8=/^(?:0|[1-9]\d*)$/;FW=hC8});function mC8(Z,J,Q){if(J=="__proto__"&&HB)HB(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var sw;var sr=_(()=>{ir();sw=mC8});function uC8(Z,J){return Z===J||Z!==Z&&J!==J}var MW;var hI=_(()=>{MW=uC8});function cC8(Z,J,Q){var K=Z[J];if(!(pC8.call(Z,J)&&MW(K,Q))||Q===void 0&&!(J in Z))sw(Z,J,Q)}var gC8,pC8,FB;var rw=_(()=>{sr();hI();gC8=Object.prototype,pC8=gC8.hasOwnProperty;FB=cC8});function lC8(Z,J,Q,K){var X=!Q;Q||(Q={});var U=-1,Y=J.length;while(++U<Y){var q=J[U],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(X)sw(Q,q,W);else FB(Q,q,W)}return Q}var Rw0;var Dw0=_(()=>{rw();sr();Rw0=lC8});function dC8(Z,J,Q){return J=Lw0(J===void 0?Z.length-1:J,0),function(){var K=arguments,X=-1,U=Lw0(K.length-J,0),Y=Array(U);while(++X<U)Y[X]=K[J+X];X=-1;var q=Array(J+1);while(++X<J)q[X]=K[X];return q[J]=Q(Y),aT0(Z,this,q)}}var Lw0,Iw0;var Aw0=_(()=>{oT0();Lw0=Math.max;Iw0=dC8});function iC8(Z,J){return Xw0(Iw0(Z,J,zW),Z+"")}var Nw0;var Ew0=_(()=>{bI();Aw0();Uw0();Nw0=iC8});function rC8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=sC8}var sC8=9007199254740991,MB;var nw=_(()=>{MB=rC8});function nC8(Z){return Z!=null&&MB(Z.length)&&!lw(Z)}var Y4;var BW=_(()=>{lr();nw();Y4=nC8});function aC8(Z,J,Q){if(!hQ(Q))return!1;var K=typeof J;if(K=="number"?Y4(Q)&&FW(J,Q.length):K=="string"&&(J in Q))return MW(Q[J],Z);return!1}var BB;var aw=_(()=>{hI();BW();yI();GW();BB=aC8});function oC8(Z){return Nw0(function(J,Q){var K=-1,X=Q.length,U=X>1?Q[X-1]:void 0,Y=X>2?Q[2]:void 0;if(U=Z.length>3&&typeof U=="function"?(X--,U):void 0,Y&&BB(Q[0],Q[1],Y))U=X<3?void 0:U,X=1;J=Object(J);while(++K<X){var q=Q[K];if(q)Z(J,q,K,U)}return J})}var Vw0;var Pw0=_(()=>{Ew0();aw();Vw0=oC8});function eC8(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||tC8;return Z===Q}var tC8,OB;var ow=_(()=>{tC8=Object.prototype;OB=eC8});function ZS8(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var jw0;var Cw0=_(()=>{jw0=ZS8});function QS8(Z){return R6(Z)&&O6(Z)==JS8}var JS8="[object Arguments]",rr;var Sw0=_(()=>{UW();YW();rr=QS8});var Tw0,KS8,XS8,US8,tw;var nr=_(()=>{Sw0();YW();Tw0=Object.prototype,KS8=Tw0.hasOwnProperty,XS8=Tw0.propertyIsEnumerable,US8=rr(function(){return arguments}())?rr:function(Z){return R6(Z)&&KS8.call(Z,"callee")&&!XS8.call(Z,"callee")},tw=US8});function YS8(){return!1}var ww0;var $w0=_(()=>{ww0=YS8});var Z$={};z9(Z$,{default:()=>RB});var fw0,kw0,qS8,_w0,WS8,GS8,RB;var ar=_(()=>{OU();$w0();fw0=typeof Z$=="object"&&Z$&&!Z$.nodeType&&Z$,kw0=fw0&&typeof ew=="object"&&ew&&!ew.nodeType&&ew,qS8=kw0&&kw0.exports===fw0,_w0=qS8?g7.Buffer:void 0,WS8=_w0?_w0.isBuffer:void 0,GS8=WS8||ww0,RB=GS8});function vS8(Z){return R6(Z)&&MB(Z.length)&&!!YJ[O6(Z)]}var zS8="[object Arguments]",HS8="[object Array]",FS8="[object Boolean]",MS8="[object Date]",BS8="[object Error]",OS8="[object Function]",RS8="[object Map]",DS8="[object Number]",LS8="[object Object]",IS8="[object RegExp]",AS8="[object Set]",NS8="[object String]",ES8="[object WeakMap]",VS8="[object ArrayBuffer]",PS8="[object DataView]",jS8="[object Float32Array]",CS8="[object Float64Array]",SS8="[object Int8Array]",TS8="[object Int16Array]",wS8="[object Int32Array]",$S8="[object Uint8Array]",kS8="[object Uint8ClampedArray]",_S8="[object Uint16Array]",fS8="[object Uint32Array]",YJ,vw0;var xw0=_(()=>{UW();nw();YW();YJ={};YJ[jS8]=YJ[CS8]=YJ[SS8]=YJ[TS8]=YJ[wS8]=YJ[$S8]=YJ[kS8]=YJ[_S8]=YJ[fS8]=!0;YJ[zS8]=YJ[HS8]=YJ[VS8]=YJ[FS8]=YJ[PS8]=YJ[MS8]=YJ[BS8]=YJ[OS8]=YJ[RS8]=YJ[DS8]=YJ[LS8]=YJ[IS8]=YJ[AS8]=YJ[NS8]=YJ[ES8]=!1;vw0=vS8});function xS8(Z){return function(J){return Z(J)}}var J$;var or=_(()=>{J$=xS8});var K$={};z9(K$,{default:()=>vz});var bw0,mI,bS8,tr,yS8,vz;var er=_(()=>{cr();bw0=typeof K$=="object"&&K$&&!K$.nodeType&&K$,mI=bw0&&typeof Q$=="object"&&Q$&&!Q$.nodeType&&Q$,bS8=mI&&mI.exports===bw0,tr=bS8&&cw.process,yS8=function(){try{var Z=mI&&mI.require&&mI.require("util").types;if(Z)return Z;return tr&&tr.binding&&tr.binding("util")}catch(J){}}(),vz=yS8});var yw0,hS8,X$;var Zn=_(()=>{xw0();or();er();yw0=vz&&vz.isTypedArray,hS8=yw0?J$(yw0):vw0,X$=hS8});function gS8(Z,J){var Q=gZ(Z),K=!Q&&tw(Z),X=!Q&&!K&&RB(Z),U=!Q&&!K&&!X&&X$(Z),Y=Q||K||X||U,q=Y?jw0(Z.length,String):[],W=q.length;for(var G in Z)if((J||uS8.call(Z,G))&&!(Y&&(G=="length"||X&&(G=="offset"||G=="parent")||U&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||FW(G,W))))q.push(G);return q}var mS8,uS8,U$;var Jn=_(()=>{Cw0();nr();X4();ar();yI();Zn();mS8=Object.prototype,uS8=mS8.hasOwnProperty;U$=gS8});function pS8(Z,J){return function(Q){return Z(J(Q))}}var Y$;var Qn=_(()=>{Y$=pS8});var cS8,hw0;var mw0=_(()=>{Qn();cS8=Y$(Object.keys,Object),hw0=cS8});function iS8(Z){if(!OB(Z))return hw0(Z);var J=[];for(var Q in Object(Z))if(dS8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var lS8,dS8,uw0;var gw0=_(()=>{ow();mw0();lS8=Object.prototype,dS8=lS8.hasOwnProperty;uw0=iS8});function sS8(Z){return Y4(Z)?U$(Z):uw0(Z)}var RU;var DB=_(()=>{Jn();gw0();BW();RU=sS8});var rS8,nS8,aS8,vK;var pw0=_(()=>{rw();Dw0();Pw0();BW();ow();DB();rS8=Object.prototype,nS8=rS8.hasOwnProperty,aS8=Vw0(function(Z,J){if(OB(J)||Y4(J)){Rw0(J,RU(J),Z);return}for(var Q in J)if(nS8.call(J,Q))FB(Z,Q,J[Q])}),vK=aS8});function oS8(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var cw0;var lw0=_(()=>{cw0=oS8});function ZT8(Z){if(!hQ(Z))return cw0(Z);var J=OB(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!eS8.call(Z,K))))Q.push(K);return Q}var tS8,eS8,dw0;var iw0=_(()=>{GW();ow();lw0();tS8=Object.prototype,eS8=tS8.hasOwnProperty;dw0=ZT8});function JT8(Z){return Y4(Z)?U$(Z,!0):dw0(Z)}var sw0;var rw0=_(()=>{Jn();iw0();BW();sw0=JT8});function XT8(Z,J){if(gZ(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||qW(Z))return!0;return KT8.test(Z)||!QT8.test(Z)||J!=null&&Z in Object(J)}var QT8,KT8,LB;var q$=_(()=>{X4();vI();QT8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KT8=/^\w*$/;LB=XT8});var UT8,xY;var uI=_(()=>{HW();UT8=U4(Object,"create"),xY=UT8});function YT8(){this.__data__=xY?xY(null):{},this.size=0}var nw0;var aw0=_(()=>{uI();nw0=YT8});function qT8(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var ow0;var tw0=_(()=>{ow0=qT8});function HT8(Z){var J=this.__data__;if(xY){var Q=J[Z];return Q===WT8?void 0:Q}return zT8.call(J,Z)?J[Z]:void 0}var WT8="__lodash_hash_undefined__",GT8,zT8,ew0;var Z$0=_(()=>{uI();GT8=Object.prototype,zT8=GT8.hasOwnProperty;ew0=HT8});function BT8(Z){var J=this.__data__;return xY?J[Z]!==void 0:MT8.call(J,Z)}var FT8,MT8,J$0;var Q$0=_(()=>{uI();FT8=Object.prototype,MT8=FT8.hasOwnProperty;J$0=BT8});function RT8(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=xY&&J===void 0?OT8:J,this}var OT8="__lodash_hash_undefined__",K$0;var X$0=_(()=>{uI();K$0=RT8});function IB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Kn;var U$0=_(()=>{aw0();tw0();Z$0();Q$0();X$0();IB.prototype.clear=nw0;IB.prototype.delete=ow0;IB.prototype.get=ew0;IB.prototype.has=J$0;IB.prototype.set=K$0;Kn=IB});function DT8(){this.__data__=[],this.size=0}var Y$0;var q$0=_(()=>{Y$0=DT8});function LT8(Z,J){var Q=Z.length;while(Q--)if(MW(Z[Q][0],J))return Q;return-1}var OW;var gI=_(()=>{hI();OW=LT8});function NT8(Z){var J=this.__data__,Q=OW(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else AT8.call(J,Q,1);return--this.size,!0}var IT8,AT8,W$0;var G$0=_(()=>{gI();IT8=Array.prototype,AT8=IT8.splice;W$0=NT8});function ET8(Z){var J=this.__data__,Q=OW(J,Z);return Q<0?void 0:J[Q][1]}var z$0;var H$0=_(()=>{gI();z$0=ET8});function VT8(Z){return OW(this.__data__,Z)>-1}var F$0;var M$0=_(()=>{gI();F$0=VT8});function PT8(Z,J){var Q=this.__data__,K=OW(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var B$0;var O$0=_(()=>{gI();B$0=PT8});function AB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var RW;var pI=_(()=>{q$0();G$0();H$0();M$0();O$0();AB.prototype.clear=Y$0;AB.prototype.delete=W$0;AB.prototype.get=z$0;AB.prototype.has=F$0;AB.prototype.set=B$0;RW=AB});var jT8,DW;var W$=_(()=>{HW();OU();jT8=U4(g7,"Map"),DW=jT8});function CT8(){this.size=0,this.__data__={hash:new Kn,map:new(DW||RW),string:new Kn}}var R$0;var D$0=_(()=>{U$0();pI();W$();R$0=CT8});function ST8(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var L$0;var I$0=_(()=>{L$0=ST8});function TT8(Z,J){var Q=Z.__data__;return L$0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var LW;var cI=_(()=>{I$0();LW=TT8});function wT8(Z){var J=LW(this,Z).delete(Z);return this.size-=J?1:0,J}var A$0;var N$0=_(()=>{cI();A$0=wT8});function $T8(Z){return LW(this,Z).get(Z)}var E$0;var V$0=_(()=>{cI();E$0=$T8});function kT8(Z){return LW(this,Z).has(Z)}var P$0;var j$0=_(()=>{cI();P$0=kT8});function _T8(Z,J){var Q=LW(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var C$0;var S$0=_(()=>{cI();C$0=_T8});function NB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var xz;var G$=_(()=>{D$0();N$0();V$0();j$0();S$0();NB.prototype.clear=R$0;NB.prototype.delete=A$0;NB.prototype.get=E$0;NB.prototype.has=P$0;NB.prototype.set=C$0;xz=NB});function Xn(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(fT8);var Q=function(){var K=arguments,X=J?J.apply(this,K):K[0],U=Q.cache;if(U.has(X))return U.get(X);var Y=Z.apply(this,K);return Q.cache=U.set(X,Y)||U,Y};return Q.cache=new(Xn.Cache||xz),Q}var fT8="Expected a function",T$0;var w$0=_(()=>{G$();Xn.Cache=xz;T$0=Xn});function xT8(Z){var J=T$0(Z,function(K){if(Q.size===vT8)Q.clear();return K}),Q=J.cache;return J}var vT8=500,$$0;var k$0=_(()=>{w$0();$$0=xT8});var bT8,yT8,hT8,_$0;var f$0=_(()=>{k$0();bT8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yT8=/\\(\\)?/g,hT8=$$0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(bT8,function(Q,K,X,U){J.push(X?U.replace(yT8,"$1"):K||Q)}),J}),_$0=hT8});function mT8(Z){return Z==null?"":ST0(Z)}var v$0;var x$0=_(()=>{TT0();v$0=mT8});function uT8(Z,J){if(gZ(Z))return Z;return LB(Z,J)?[Z]:_$0(v$0(Z))}var IW;var lI=_(()=>{X4();q$();f$0();x$0();IW=uT8});function pT8(Z){if(typeof Z=="string"||qW(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-gT8?"-0":J}var gT8=1/0,DU;var EB=_(()=>{vI();DU=pT8});function cT8(Z,J){J=IW(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[DU(J[Q++])];return Q&&Q==K?Z:void 0}var VB;var z$=_(()=>{lI();EB();VB=cT8});function lT8(Z,J,Q){var K=Z==null?void 0:VB(Z,J);return K===void 0?Q:K}var b$0;var y$0=_(()=>{z$();b$0=lT8});function dT8(Z,J){var Q=-1,K=J.length,X=Z.length;while(++Q<K)Z[X+Q]=J[Q];return Z}var H$;var Un=_(()=>{H$=dT8});var iT8,h$0;var m$0=_(()=>{Qn();iT8=Y$(Object.getPrototypeOf,Object),h$0=iT8});function sT8(){this.__data__=new RW,this.size=0}var u$0;var g$0=_(()=>{pI();u$0=sT8});function rT8(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var p$0;var c$0=_(()=>{p$0=rT8});function nT8(Z){return this.__data__.get(Z)}var l$0;var d$0=_(()=>{l$0=nT8});function aT8(Z){return this.__data__.has(Z)}var i$0;var s$0=_(()=>{i$0=aT8});function tT8(Z,J){var Q=this.__data__;if(Q instanceof RW){var K=Q.__data__;if(!DW||K.length<oT8-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new xz(K)}return Q.set(Z,J),this.size=Q.size,this}var oT8=200,r$0;var n$0=_(()=>{pI();W$();G$();r$0=tT8});function PB(Z){var J=this.__data__=new RW(Z);this.size=J.size}var jB;var Yn=_(()=>{pI();g$0();c$0();d$0();s$0();n$0();PB.prototype.clear=u$0;PB.prototype.delete=p$0;PB.prototype.get=l$0;PB.prototype.has=i$0;PB.prototype.set=r$0;jB=PB});function eT8(Z,J){var Q=-1,K=Z==null?0:Z.length,X=0,U=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))U[X++]=Y}return U}var a$0;var o$0=_(()=>{a$0=eT8});function Zw8(){return[]}var F$;var qn=_(()=>{F$=Zw8});var Jw8,Qw8,t$0,Kw8,M$;var Wn=_(()=>{o$0();qn();Jw8=Object.prototype,Qw8=Jw8.propertyIsEnumerable,t$0=Object.getOwnPropertySymbols,Kw8=!t$0?F$:function(Z){if(Z==null)return[];return Z=Object(Z),a$0(t$0(Z),function(J){return Qw8.call(Z,J)})},M$=Kw8});var Xw8,Uw8,e$0;var Zk0=_(()=>{Un();m$0();Wn();qn();Xw8=Object.getOwnPropertySymbols,Uw8=!Xw8?F$:function(Z){var J=[];while(Z)H$(J,M$(Z)),Z=h$0(Z);return J},e$0=Uw8});function Yw8(Z,J,Q){var K=J(Z);return gZ(Z)?K:H$(K,Q(Z))}var B$;var Gn=_(()=>{Un();X4();B$=Yw8});function qw8(Z){return B$(Z,RU,M$)}var zn;var Jk0=_(()=>{Gn();Wn();DB();zn=qw8});function Ww8(Z){return B$(Z,sw0,e$0)}var Qk0;var Kk0=_(()=>{Gn();Zk0();rw0();Qk0=Ww8});var Gw8,O$;var Xk0=_(()=>{HW();OU();Gw8=U4(g7,"DataView"),O$=Gw8});var zw8,R$;var Uk0=_(()=>{HW();OU();zw8=U4(g7,"Promise"),R$=zw8});var Hw8,D$;var Yk0=_(()=>{HW();OU();Hw8=U4(g7,"Set"),D$=Hw8});var qk0="[object Map]",Fw8="[object Object]",Wk0="[object Promise]",Gk0="[object Set]",zk0="[object WeakMap]",Hk0="[object DataView]",Mw8,Bw8,Ow8,Rw8,Dw8,bz,Hn;var Fk0=_(()=>{Xk0();W$();Uk0();Yk0();nT0();UW();dr();Mw8=vY(O$),Bw8=vY(DW),Ow8=vY(R$),Rw8=vY(D$),Dw8=vY(iw),bz=O6;if(O$&&bz(new O$(new ArrayBuffer(1)))!=Hk0||DW&&bz(new DW)!=qk0||R$&&bz(R$.resolve())!=Wk0||D$&&bz(new D$)!=Gk0||iw&&bz(new iw)!=zk0)bz=function(Z){var J=O6(Z),Q=J==Fw8?Z.constructor:void 0,K=Q?vY(Q):"";if(K)switch(K){case Mw8:return Hk0;case Bw8:return qk0;case Ow8:return Wk0;case Rw8:return Gk0;case Dw8:return zk0}return J};Hn=bz});var Lw8,Fn;var Mk0=_(()=>{OU();Lw8=g7.Uint8Array,Fn=Lw8});function Aw8(Z){return this.__data__.set(Z,Iw8),this}var Iw8="__lodash_hash_undefined__",Bk0;var Ok0=_(()=>{Bk0=Aw8});function Nw8(Z){return this.__data__.has(Z)}var Rk0;var Dk0=_(()=>{Rk0=Nw8});function L$(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new xz;while(++J<Q)this.add(Z[J])}var Lk0;var Ik0=_(()=>{G$();Ok0();Dk0();L$.prototype.add=L$.prototype.push=Bk0;L$.prototype.has=Rk0;Lk0=L$});function Ew8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var I$;var Mn=_(()=>{I$=Ew8});function Vw8(Z,J){return Z.has(J)}var Ak0;var Nk0=_(()=>{Ak0=Vw8});function Cw8(Z,J,Q,K,X,U){var Y=Q&Pw8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=U.get(Z),z=U.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&jw8?new Lk0:void 0;U.set(Z,J),U.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,U):K(B,O,H,Z,J,U);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!I$(J,function(D,L){if(!Ak0(M,L)&&(B===D||X(B,D,Q,K,U)))return M.push(L)})){F=!1;break}}else if(!(B===O||X(B,O,Q,K,U))){F=!1;break}}return U.delete(Z),U.delete(J),F}var Pw8=1,jw8=2,A$;var Bn=_(()=>{Ik0();Mn();Nk0();A$=Cw8});function Sw8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,X){Q[++J]=[X,K]}),Q}var Ek0;var Vk0=_(()=>{Ek0=Sw8});function Tw8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var Pk0;var jk0=_(()=>{Pk0=Tw8});function pw8(Z,J,Q,K,X,U,Y){switch(Q){case gw8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case uw8:if(Z.byteLength!=J.byteLength||!U(new Fn(Z),new Fn(J)))return!1;return!0;case kw8:case _w8:case xw8:return MW(+Z,+J);case fw8:return Z.name==J.name&&Z.message==J.message;case bw8:case hw8:return Z==J+"";case vw8:var q=Ek0;case yw8:var W=K&ww8;if(q||(q=Pk0),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=$w8,Y.set(Z,J);var z=A$(q(Z),q(J),K,X,U,Y);return Y.delete(Z),z;case mw8:if(On)return On.call(Z)==On.call(J)}return!1}var ww8=1,$w8=2,kw8="[object Boolean]",_w8="[object Date]",fw8="[object Error]",vw8="[object Map]",xw8="[object Number]",bw8="[object RegExp]",yw8="[object Set]",hw8="[object String]",mw8="[object Symbol]",uw8="[object ArrayBuffer]",gw8="[object DataView]",Ck0,On,Sk0;var Tk0=_(()=>{_I();Mk0();hI();Bn();Vk0();jk0();Ck0=fK?fK.prototype:void 0,On=Ck0?Ck0.valueOf:void 0;Sk0=pw8});function iw8(Z,J,Q,K,X,U){var Y=Q&cw8,q=zn(Z),W=q.length,G=zn(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:dw8.call(J,F)))return!1}var M=U.get(Z),B=U.get(J);if(M&&B)return M==J&&B==Z;var O=!0;U.set(Z,J),U.set(J,Z);var R=Y;while(++H<W){F=q[H];var D=Z[F],L=J[F];if(K)var A=Y?K(L,D,F,J,Z,U):K(D,L,F,Z,J,U);if(!(A===void 0?D===L||X(D,L,Q,K,U):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return U.delete(Z),U.delete(J),O}var cw8=1,lw8,dw8,wk0;var $k0=_(()=>{Jk0();lw8=Object.prototype,dw8=lw8.hasOwnProperty;wk0=iw8});function nw8(Z,J,Q,K,X,U){var Y=gZ(Z),q=gZ(J),W=Y?_k0:Hn(Z),G=q?_k0:Hn(J);W=W==kk0?N$:W,G=G==kk0?N$:G;var z=W==N$,H=G==N$,F=W==G;if(F&&RB(Z)){if(!RB(J))return!1;Y=!0,z=!1}if(F&&!z)return U||(U=new jB),Y||X$(Z)?A$(Z,J,Q,K,X,U):Sk0(Z,J,W,Q,K,X,U);if(!(Q&sw8)){var M=z&&fk0.call(Z,"__wrapped__"),B=H&&fk0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return U||(U=new jB),X(O,R,Q,K,U)}}if(!F)return!1;return U||(U=new jB),wk0(Z,J,Q,K,X,U)}var sw8=1,kk0="[object Arguments]",_k0="[object Array]",N$="[object Object]",rw8,fk0,vk0;var xk0=_(()=>{Yn();Bn();Tk0();$k0();Fk0();X4();ar();Zn();rw8=Object.prototype,fk0=rw8.hasOwnProperty;vk0=nw8});function bk0(Z,J,Q,K,X){if(Z===J)return!0;if(Z==null||J==null||!R6(Z)&&!R6(J))return Z!==Z&&J!==J;return vk0(Z,J,Q,K,bk0,X)}var E$;var Rn=_(()=>{xk0();YW();E$=bk0});function tw8(Z,J,Q,K){var X=Q.length,U=X,Y=!K;if(Z==null)return!U;Z=Object(Z);while(X--){var q=Q[X];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++X<U){q=Q[X];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new jB;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?E$(z,G,aw8|ow8,K,H):F))return!1}}return!0}var aw8=1,ow8=2,yk0;var hk0=_(()=>{Yn();Rn();yk0=tw8});function ew8(Z){return Z===Z&&!hQ(Z)}var V$;var Dn=_(()=>{GW();V$=ew8});function Z$8(Z){var J=RU(Z),Q=J.length;while(Q--){var K=J[Q],X=Z[K];J[Q]=[K,X,V$(X)]}return J}var mk0;var uk0=_(()=>{Dn();DB();mk0=Z$8});function J$8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var P$;var Ln=_(()=>{P$=J$8});function Q$8(Z){var J=mk0(Z);if(J.length==1&&J[0][2])return P$(J[0][0],J[0][1]);return function(Q){return Q===Z||yk0(Q,Z,J)}}var gk0;var pk0=_(()=>{hk0();uk0();Ln();gk0=Q$8});function K$8(Z,J){return Z!=null&&J in Object(Z)}var ck0;var lk0=_(()=>{ck0=K$8});function X$8(Z,J,Q){J=IW(J,Z);var K=-1,X=J.length,U=!1;while(++K<X){var Y=DU(J[K]);if(!(U=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(U||++K!=X)return U;return X=Z==null?0:Z.length,!!X&&MB(X)&&FW(Y,X)&&(gZ(Z)||tw(Z))}var dk0;var ik0=_(()=>{lI();nr();X4();yI();nw();EB();dk0=X$8});function U$8(Z,J){return Z!=null&&dk0(Z,J,ck0)}var sk0;var rk0=_(()=>{lk0();ik0();sk0=U$8});function W$8(Z,J){if(LB(Z)&&V$(J))return P$(DU(Z),J);return function(Q){var K=b$0(Q,Z);return K===void 0&&K===J?sk0(Q,Z):E$(J,K,Y$8|q$8)}}var Y$8=1,q$8=2,nk0;var ak0=_(()=>{Rn();y$0();rk0();q$();Dn();Ln();EB();nk0=W$8});function G$8(Z){return function(J){return J==null?void 0:J[Z]}}var ok0;var tk0=_(()=>{ok0=G$8});function z$8(Z){return function(J){return VB(J,Z)}}var ek0;var Z_0=_(()=>{z$();ek0=z$8});function H$8(Z){return LB(Z)?ok0(DU(Z)):ek0(Z)}var J_0;var Q_0=_(()=>{tk0();Z_0();q$();EB();J_0=H$8});function F$8(Z){if(typeof Z=="function")return Z;if(Z==null)return zW;if(typeof Z=="object")return gZ(Z)?nk0(Z[0],Z[1]):gk0(Z);return J_0(Z)}var AW;var dI=_(()=>{pk0();ak0();bI();X4();Q_0();AW=F$8});function M$8(Z){return function(J,Q,K){var X=-1,U=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++X];if(Q(U[W],W,U)===!1)break}return J}}var K_0;var X_0=_(()=>{K_0=M$8});var B$8,U_0;var Y_0=_(()=>{X_0();B$8=K_0(),U_0=B$8});function O$8(Z,J){return Z&&U_0(Z,J,RU)}var q_0;var W_0=_(()=>{Y_0();DB();q_0=O$8});function R$8(Z,J){return function(Q,K){if(Q==null)return Q;if(!Y4(Q))return Z(Q,K);var X=Q.length,U=J?X:-1,Y=Object(Q);while(J?U--:++U<X)if(K(Y[U],U,Y)===!1)break;return Q}}var G_0;var z_0=_(()=>{BW();G_0=R$8});var D$8,NW;var iI=_(()=>{W_0();z_0();D$8=G_0(q_0),NW=D$8});function L$8(Z){return typeof Z=="function"?Z:zW}var H_0;var F_0=_(()=>{bI();H_0=L$8});function I$8(Z,J){var Q=gZ(Z)?Yw0:NW;return Q(Z,H_0(J))}var In;var M_0=_(()=>{qw0();iI();F_0();X4();In=I$8});function A$8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(!J(Z[Q],Q,Z))return!1;return!0}var B_0;var O_0=_(()=>{B_0=A$8});function N$8(Z,J){var Q=!0;return NW(Z,function(K,X,U){return Q=!!J(K,X,U),Q}),Q}var R_0;var D_0=_(()=>{iI();R_0=N$8});function E$8(Z,J,Q){var K=gZ(Z)?B_0:R_0;if(Q&&BB(Z,J,Q))J=void 0;return K(Z,AW(J,3))}var An;var L_0=_(()=>{O_0();D_0();dI();X4();aw();An=E$8});function V$8(Z,J){var Q=-1,K=Y4(Z)?Array(Z.length):[];return NW(Z,function(X,U,Y){K[++Q]=J(X,U,Y)}),K}var I_0;var A_0=_(()=>{iI();BW();I_0=V$8});function P$8(Z,J){var Q=gZ(Z)?WW:I_0;return Q(Z,AW(J,3))}var j$;var N_0=_(()=>{xI();dI();A_0();X4();j$=P$8});function C$8(Z){return typeof Z=="string"||!gZ(Z)&&R6(Z)&&O6(Z)==j$8}var j$8="[object String]",yz;var Nn=_(()=>{UW();X4();YW();yz=C$8});function S$8(Z,J){return WW(J,function(Q){return Z[Q]})}var E_0;var V_0=_(()=>{xI();E_0=S$8});function T$8(Z){return Z==null?[]:E_0(Z,RU(Z))}var P_0;var j_0=_(()=>{V_0();DB();P_0=T$8});function $$8(Z,J,Q,K){Z=Y4(Z)?Z:P_0(Z),Q=Q&&!K?mT0(Q):0;var X=Z.length;if(Q<0)Q=w$8(X+Q,0);return yz(Z)?Q<=X&&Z.indexOf(J,Q)>-1:!!X&&Bw0(Z,J,Q)>-1}var w$8,En;var C_0=_(()=>{Ow0();BW();Nn();uT0();j_0();w$8=Math.max;En=$$8});function _$8(Z){return R6(Z)&&O6(Z)==k$8}var k$8="[object RegExp]",S_0;var T_0=_(()=>{UW();YW();S_0=_$8});var w_0,f$8,Vn;var $_0=_(()=>{T_0();or();er();w_0=vz&&vz.isRegExp,f$8=w_0?J$(w_0):S_0,Vn=f$8});function v$8(Z,J,Q,K){if(!hQ(Z))return Z;J=IW(J,Z);var X=-1,U=J.length,Y=U-1,q=Z;while(q!=null&&++X<U){var W=DU(J[X]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(X!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=hQ(z)?z:FW(J[X+1])?[]:{}}FB(q,W,G),q=q[W]}return Z}var k_0;var __0=_(()=>{rw();lI();yI();GW();EB();k_0=v$8});function x$8(Z,J,Q){var K=-1,X=J.length,U={};while(++K<X){var Y=J[K],q=VB(Z,Y);if(Q(q,Y))k_0(U,IW(Y,Z),q)}return U}var f_0;var v_0=_(()=>{z$();__0();lI();f_0=x$8});function b$8(Z,J){if(Z==null)return{};var Q=WW(Qk0(Z),function(K){return[K]});return J=AW(J),f_0(Z,Q,function(K,X){return J(K,X[0])})}var xK;var x_0=_(()=>{xI();dI();v_0();Kk0();xK=b$8});function y$8(Z,J){var Q;return NW(Z,function(K,X,U){return Q=J(K,X,U),!Q}),!!Q}var b_0;var y_0=_(()=>{iI();b_0=y$8});function h$8(Z,J,Q){var K=gZ(Z)?I$:b_0;if(Q&&BB(Z,J,Q))J=void 0;return K(Z,AW(J,3))}var Pn;var h_0=_(()=>{Mn();dI();y_0();X4();aw();Pn=h$8});var jn=_(()=>{pw0();L_0();M_0();C_0();$_0();Nn();N_0();x_0();h_0()});function m$8(Z){if(u$8(Z))return Z.LABEL;else return Z.name}function u$8(Z){return yz(Z.LABEL)&&Z.LABEL!==""}class bK{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){this._definition=Z}accept(Z){Z.visit(this),In(this.definition,(J)=>{J.accept(Z)})}}class b9{constructor(Z){this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}accept(Z){Z.visit(this)}}function C$(Z){return j$(Z,CB)}function CB(Z){function J(Q){return j$(Q,CB)}if(Z instanceof TZ){let Q={type:"NonTerminal",name:Z.nonTerminalName,idx:Z.idx};if(yz(Z.label))Q.label=Z.label;return Q}else if(Z instanceof qJ)return{type:"Alternative",definition:J(Z.definition)};else if(Z instanceof wZ)return{type:"Option",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof WJ)return{type:"RepetitionMandatory",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof GJ)return{type:"RepetitionMandatoryWithSeparator",idx:Z.idx,separator:CB(new b9({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof oZ)return{type:"RepetitionWithSeparator",idx:Z.idx,separator:CB(new b9({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof QZ)return{type:"Repetition",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof tZ)return{type:"Alternation",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof b9){let Q={type:"Terminal",name:Z.terminalType.name,label:m$8(Z.terminalType),idx:Z.idx};if(yz(Z.label))Q.terminalLabel=Z.label;let K=Z.terminalType.PATTERN;if(Z.terminalType.PATTERN)Q.pattern=Vn(K)?K.source:K;return Q}else if(Z instanceof q4)return{type:"Rule",name:Z.name,orgText:Z.orgText,definition:J(Z.definition)};else throw Error("non exhaustive match")}var TZ,q4,qJ,wZ,WJ,GJ,QZ,oZ,tZ;var S$=_(()=>{jn();TZ=class TZ extends bK{constructor(Z){super([]);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}set definition(Z){}get definition(){if(this.referencedRule!==void 0)return this.referencedRule.definition;return[]}accept(Z){Z.visit(this)}};q4=class q4 extends bK{constructor(Z){super(Z.definition);this.orgText="",vK(this,xK(Z,(J)=>J!==void 0))}};qJ=class qJ extends bK{constructor(Z){super(Z.definition);this.ignoreAmbiguities=!1,vK(this,xK(Z,(J)=>J!==void 0))}};wZ=class wZ extends bK{constructor(Z){super(Z.definition);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}};WJ=class WJ extends bK{constructor(Z){super(Z.definition);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}};GJ=class GJ extends bK{constructor(Z){super(Z.definition);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}};QZ=class QZ extends bK{constructor(Z){super(Z.definition);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}};oZ=class oZ extends bK{constructor(Z){super(Z.definition);this.idx=1,vK(this,xK(Z,(J)=>J!==void 0))}};tZ=class tZ extends bK{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){super(Z.definition);this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,vK(this,xK(Z,(J)=>J!==void 0))}}});class W4{visit(Z){let J=Z;switch(J.constructor){case TZ:return this.visitNonTerminal(J);case qJ:return this.visitAlternative(J);case wZ:return this.visitOption(J);case WJ:return this.visitRepetitionMandatory(J);case GJ:return this.visitRepetitionMandatoryWithSeparator(J);case oZ:return this.visitRepetitionWithSeparator(J);case QZ:return this.visitRepetition(J);case tZ:return this.visitAlternation(J);case b9:return this.visitTerminal(J);case q4:return this.visitRule(J);default:throw Error("non exhaustive match")}}visitNonTerminal(Z){}visitAlternative(Z){}visitOption(Z){}visitRepetition(Z){}visitRepetitionMandatory(Z){}visitRepetitionMandatoryWithSeparator(Z){}visitRepetitionWithSeparator(Z){}visitAlternation(Z){}visitTerminal(Z){}visitRule(Z){}}var m_0=_(()=>{S$()});function Cn(Z){return Z instanceof qJ||Z instanceof wZ||Z instanceof QZ||Z instanceof WJ||Z instanceof GJ||Z instanceof oZ||Z instanceof b9||Z instanceof q4}function hz(Z,J=[]){if(Z instanceof wZ||Z instanceof QZ||Z instanceof oZ)return!0;if(Z instanceof tZ)return Pn(Z.definition,(K)=>{return hz(K,J)});else if(Z instanceof TZ&&En(J,Z))return!1;else if(Z instanceof bK){if(Z instanceof TZ)J.push(Z);return An(Z.definition,(K)=>{return hz(K,J)})}else return!1}function Sn(Z){return Z instanceof tZ}function G4(Z){if(Z instanceof TZ)return"SUBRULE";else if(Z instanceof wZ)return"OPTION";else if(Z instanceof tZ)return"OR";else if(Z instanceof WJ)return"AT_LEAST_ONE";else if(Z instanceof GJ)return"AT_LEAST_ONE_SEP";else if(Z instanceof oZ)return"MANY_SEP";else if(Z instanceof QZ)return"MANY";else if(Z instanceof b9)return"CONSUME";else throw Error("non exhaustive match")}var u_0=_(()=>{jn();S$()});var D6=_(()=>{S$();m_0();u_0()});class EW{walk(Z,J=[]){c8(Z.definition,(Q,K)=>{let X=aJ(Z.definition,K+1);if(Q instanceof TZ)this.walkProdRef(Q,X,J);else if(Q instanceof b9)this.walkTerminal(Q,X,J);else if(Q instanceof qJ)this.walkFlat(Q,X,J);else if(Q instanceof wZ)this.walkOption(Q,X,J);else if(Q instanceof WJ)this.walkAtLeastOne(Q,X,J);else if(Q instanceof GJ)this.walkAtLeastOneSep(Q,X,J);else if(Q instanceof oZ)this.walkManySep(Q,X,J);else if(Q instanceof QZ)this.walkMany(Q,X,J);else if(Q instanceof tZ)this.walkOr(Q,X,J);else throw Error("non exhaustive match")})}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){}walkFlat(Z,J,Q){let K=J.concat(Q);this.walk(Z,K)}walkOption(Z,J,Q){let K=J.concat(Q);this.walk(Z,K)}walkAtLeastOne(Z,J,Q){let K=[new wZ({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkAtLeastOneSep(Z,J,Q){let K=g_0(Z,J,Q);this.walk(Z,K)}walkMany(Z,J,Q){let K=[new wZ({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkManySep(Z,J,Q){let K=g_0(Z,J,Q);this.walk(Z,K)}walkOr(Z,J,Q){let K=J.concat(Q);c8(Z.definition,(X)=>{let U=new qJ({definition:[X]});this.walk(U,K)})}}function g_0(Z,J,Q){return[new wZ({definition:[new b9({terminalType:Z.separator})].concat(Z.definition)})].concat(J,Q)}var T$=_(()=>{bZ();D6()});function mz(Z){if(Z instanceof TZ)return mz(Z.referencedRule);else if(Z instanceof b9)return c$8(Z);else if(Cn(Z))return g$8(Z);else if(Sn(Z))return p$8(Z);else throw Error("non exhaustive match")}function g$8(Z){let J=[],Q=Z.definition,K=0,X=Q.length>K,U,Y=!0;while(X&&Y)U=Q[K],Y=hz(U),J=J.concat(mz(U)),K=K+1,X=Q.length>K;return WB(J)}function p$8(Z){let J=h8(Z.definition,(Q)=>{return mz(Q)});return WB(V7(J))}function c$8(Z){return[Z.terminalType]}var Tn=_(()=>{bZ();D6()});var w$="_~IN~_";function c_0(Z){let J={};return c8(Z,(Q)=>{let K=new p_0(Q).startWalking();cM(J,K)}),J}function l$8(Z,J){return Z.name+J+w$}var p_0;var l_0=_(()=>{T$();Tn();bZ();D6();p_0=class p_0 extends EW{constructor(Z){super();this.topProd=Z,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){let K=l$8(Z.referencedRule,Z.idx)+this.topProd.name,X=J.concat(Q),U=new qJ({definition:X}),Y=mz(U);this.follows[K]=Y}}});function SB(Z){let J=Z.toString();if($$.hasOwnProperty(J))return $$[J];else{let Q=d$8.pattern(J);return $$[J]=Q,Q}}function d_0(){$$={}}var $$,d$8;var k$=_(()=>{WI();$$={},d$8=new PM});function r_0(Z,J=!1){try{let Q=SB(Z);return wn(Q.value,{},Q.flags.ignoreCase)}catch(Q){if(Q.message===s_0){if(J)wI(`${sI}	Unable to optimize: < ${Z.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}else{let K="";if(J)K=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`;GB(`${sI}
	Failed parsing: < ${Z.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+K)}}return[]}function wn(Z,J,Q){switch(Z.type){case"Disjunction":for(let X=0;X<Z.value.length;X++)wn(Z.value[X],J,Q);break;case"Alternative":let K=Z.value;for(let X=0;X<K.length;X++){let U=K[X];switch(U.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let Y=U;switch(Y.type){case"Character":_$(Y.value,J,Q);break;case"Set":if(Y.complement===!0)throw Error(s_0);c8(Y.value,(W)=>{if(typeof W==="number")_$(W,J,Q);else{let G=W;if(Q===!0)for(let z=G.from;z<=G.to;z++)_$(z,J,Q);else{for(let z=G.from;z<=G.to&&z<TB;z++)_$(z,J,Q);if(G.to>=TB){let z=G.from>=TB?G.from:TB,H=G.to,F=LU(z),M=LU(H);for(let B=F;B<=M;B++)J[B]=B}}}});break;case"Group":wn(Y.value,J,Q);break;default:throw Error("Non Exhaustive Match")}let q=Y.quantifier!==void 0&&Y.quantifier.atLeast===0;if(Y.type==="Group"&&$n(Y)===!1||Y.type!=="Group"&&q===!1)break}break;default:throw Error("non exhaustive match!")}return xZ(J)}function _$(Z,J,Q){let K=LU(Z);if(J[K]=K,Q===!0)i$8(Z,J)}function i$8(Z,J){let Q=String.fromCharCode(Z),K=Q.toUpperCase();if(K!==Q){let X=LU(K.charCodeAt(0));J[X]=X}else{let X=Q.toLowerCase();if(X!==Q){let U=LU(X.charCodeAt(0));J[U]=U}}}function i_0(Z,J){return MU(Z.value,(Q)=>{if(typeof Q==="number")return gJ(J,Q);else{let K=Q;return MU(J,(X)=>K.from<=X&&X<=K.to)!==void 0}})}function $n(Z){let J=Z.quantifier;if(J&&J.atLeast===0)return!0;if(!Z.value)return!1;return i8(Z.value)?K4(Z.value,$n):$n(Z.value)}function f$(Z,J){if(J instanceof RegExp){let Q=SB(J),K=new n_0(Z);return K.visit(Q),K.found}else return MU(J,(Q)=>{return gJ(Z,Q.charCodeAt(0))})!==void 0}var s_0="Complement Sets are not supported for first char optimization",sI=`Unable to use "first char" lexer optimizations:
`,n_0;var a_0=_(()=>{WI();bZ();zB();k$();kn();n_0=class n_0 extends wY{constructor(Z){super();this.targetCharCodes=Z,this.found=!1}visitChildren(Z){if(this.found===!0)return;switch(Z.type){case"Lookahead":this.visitLookahead(Z);return;case"NegativeLookahead":this.visitNegativeLookahead(Z);return}super.visitChildren(Z)}visitCharacter(Z){if(gJ(this.targetCharCodes,Z.value))this.found=!0}visitSet(Z){if(Z.complement){if(i_0(Z,this.targetCharCodes)===void 0)this.found=!0}else if(i_0(Z,this.targetCharCodes)!==void 0)this.found=!0}}});function e_0(Z,J){J=qB(J,{useSticky:fn,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(L,A)=>A()});let Q=J.tracer;Q("initCharCodeToOptimizedIndexMap",()=>{zk8()});let K;Q("Reject Lexer.NA",()=>{K=XW(Z,(L)=>{return L[uz]===fJ.NA})});let X=!1,U;Q("Transform Patterns",()=>{X=!1,U=h8(K,(L)=>{let A=L[uz];if(BU(A)){let V=A.source;if(V.length===1&&V!=="^"&&V!=="$"&&V!=="."&&!A.ignoreCase)return V;else if(V.length===2&&V[0]==="\\"&&!gJ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],V[1]))return V[1];else return J.useSticky?t_0(A):o_0(A)}else if(F6(A))return X=!0,{exec:A};else if(typeof A==="object")return X=!0,A;else if(typeof A==="string")if(A.length===1)return A;else{let V=A.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),N=new RegExp(V);return J.useSticky?t_0(N):o_0(N)}else throw Error("non exhaustive match")})});let Y,q,W,G,z;Q("misc mapping",()=>{Y=h8(K,(L)=>L.tokenTypeIdx),q=h8(K,(L)=>{let A=L.GROUP;if(A===fJ.SKIPPED)return;else if(B6(A))return A;else if(yQ(A))return!1;else throw Error("non exhaustive match")}),W=h8(K,(L)=>{let A=L.LONGER_ALT;if(A)return i8(A)?h8(A,(N)=>pw(K,N)):[pw(K,A)]}),G=h8(K,(L)=>L.PUSH_MODE),z=h8(K,(L)=>l8(L,"POP_MODE"))});let H;Q("Line Terminator Handling",()=>{let L=qf0(J.lineTerminatorCharacters);if(H=h8(K,(A)=>!1),J.positionTracking!=="onlyOffset")H=h8(K,(A)=>{if(l8(A,"LINE_BREAKS"))return!!A.LINE_BREAKS;else return Yf0(A,L)===!1&&f$(L,A.PATTERN)})});let F,M,B,O;Q("Misc Mapping #2",()=>{F=h8(K,Xf0),M=h8(U,Wk8),B=z7(K,(L,A)=>{let V=A.GROUP;if(B6(V)&&V!==fJ.SKIPPED)L[V]=[];return L},{}),O=h8(U,(L,A)=>{return{pattern:U[A],longerAlt:W[A],canLineTerminator:H[A],isCustom:F[A],short:M[A],group:q[A],push:G[A],pop:z[A],tokenTypeIdx:Y[A],tokenType:K[A]}})});let R=!0,D=[];if(!J.safeMode)Q("First Char Optimization",()=>{D=z7(K,(L,A,V)=>{if(typeof A.PATTERN==="string"){let N=A.PATTERN.charCodeAt(0),E=LU(N);_n(L,E,O[V])}else if(i8(A.START_CHARS_HINT)){let N;c8(A.START_CHARS_HINT,(E)=>{let j=typeof E==="string"?E.charCodeAt(0):E,C=LU(j);if(N!==C)N=C,_n(L,C,O[V])})}else if(BU(A.PATTERN))if(A.PATTERN.unicode){if(R=!1,J.ensureOptimizations)GB(`${sI}	Unable to analyze < ${A.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`)}else{let N=r_0(A.PATTERN,J.ensureOptimizations);if(x9(N))R=!1;c8(N,(E)=>{_n(L,E,O[V])})}else{if(J.ensureOptimizations)GB(`${sI}	TokenType: <${A.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`);R=!1}return L},[])});return{emptyGroups:B,patternIdxToConfig:O,charCodeToPatternIdxToConfig:D,hasCustom:X,canBeOptimized:R}}function Zf0(Z,J){let Q=[],K=r$8(Z);Q=Q.concat(K.errors);let X=n$8(K.valid),U=X.valid;return Q=Q.concat(X.errors),Q=Q.concat(s$8(U)),Q=Q.concat(Kk8(U)),Q=Q.concat(Xk8(U,J)),Q=Q.concat(Uk8(U)),Q}function s$8(Z){let J=[],Q=bQ(Z,(K)=>BU(K[uz]));return J=J.concat(o$8(Q)),J=J.concat(Zk8(Q)),J=J.concat(Jk8(Q)),J=J.concat(Qk8(Q)),J=J.concat(t$8(Q)),J}function r$8(Z){let J=bQ(Z,(X)=>{return!l8(X,uz)}),Q=h8(J,(X)=>{return{message:"Token Type: ->"+X.name+"<- missing static 'PATTERN' property",type:IJ.MISSING_PATTERN,tokenTypes:[X]}}),K=KW(Z,J);return{errors:Q,valid:K}}function n$8(Z){let J=bQ(Z,(X)=>{let U=X[uz];return!BU(U)&&!F6(U)&&!l8(U,"exec")&&!B6(U)}),Q=h8(J,(X)=>{return{message:"Token Type: ->"+X.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:IJ.INVALID_PATTERN,tokenTypes:[X]}}),K=KW(Z,J);return{errors:Q,valid:K}}function o$8(Z){class J extends wY{constructor(){super(...arguments);this.found=!1}visitEndAnchor(X){this.found=!0}}let Q=bQ(Z,(X)=>{let U=X.PATTERN;try{let Y=SB(U),q=new J;return q.visit(Y),q.found}catch(Y){return a$8.test(U.source)}});return h8(Q,(X)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+X.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:IJ.EOI_ANCHOR_FOUND,tokenTypes:[X]}})}function t$8(Z){let J=bQ(Z,(K)=>{return K.PATTERN.test("")});return h8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' must not match an empty string",type:IJ.EMPTY_MATCH_PATTERN,tokenTypes:[K]}})}function Zk8(Z){class J extends wY{constructor(){super(...arguments);this.found=!1}visitStartAnchor(X){this.found=!0}}let Q=bQ(Z,(X)=>{let U=X.PATTERN;try{let Y=SB(U),q=new J;return q.visit(Y),q.found}catch(Y){return e$8.test(U.source)}});return h8(Q,(X)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+X.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:IJ.SOI_ANCHOR_FOUND,tokenTypes:[X]}})}function Jk8(Z){let J=bQ(Z,(K)=>{let X=K[uz];return X instanceof RegExp&&(X.multiline||X.global)});return h8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:IJ.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[K]}})}function Qk8(Z){let J=[],Q=h8(Z,(U)=>{return z7(Z,(Y,q)=>{if(U.PATTERN.source===q.PATTERN.source&&!gJ(J,q)&&q.PATTERN!==fJ.NA)return J.push(q),Y.push(q),Y;return Y},[])});Q=HU(Q);let K=bQ(Q,(U)=>{return U.length>1});return h8(K,(U)=>{let Y=h8(U,(W)=>{return W.name});return{message:`The same RegExp pattern ->${u7(U).PATTERN}<-has been used in all of the following Token Types: ${Y.join(", ")} <-`,type:IJ.DUPLICATE_PATTERNS_FOUND,tokenTypes:U}})}function Kk8(Z){let J=bQ(Z,(K)=>{if(!l8(K,"GROUP"))return!1;let X=K.GROUP;return X!==fJ.SKIPPED&&X!==fJ.NA&&!B6(X)});return h8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:IJ.INVALID_GROUP_TYPE_FOUND,tokenTypes:[K]}})}function Xk8(Z,J){let Q=bQ(Z,(X)=>{return X.PUSH_MODE!==void 0&&!gJ(J,X.PUSH_MODE)});return h8(Q,(X)=>{return{message:`Token Type: ->${X.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${X.PUSH_MODE}<-which does not exist`,type:IJ.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[X]}})}function Uk8(Z){let J=[],Q=z7(Z,(K,X,U)=>{let Y=X.PATTERN;if(Y===fJ.NA)return K;if(B6(Y))K.push({str:Y,idx:U,tokenType:X});else if(BU(Y)&&qk8(Y))K.push({str:Y.source,idx:U,tokenType:X});return K},[]);return c8(Z,(K,X)=>{c8(Q,({str:U,idx:Y,tokenType:q})=>{if(X<Y&&Yk8(U,K.PATTERN)){let W=`Token: ->${q.name}<- can never be matched.
Because it appears AFTER the Token Type ->${K.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;J.push({message:W,type:IJ.UNREACHABLE_PATTERN,tokenTypes:[K,q]})}})}),J}function Yk8(Z,J){if(BU(J)){let Q=J.exec(Z);return Q!==null&&Q.index===0}else if(F6(J))return J(Z,0,[],{});else if(l8(J,"exec"))return J.exec(Z,0,[],{});else if(typeof J==="string")return J===Z;else throw Error("non exhaustive match")}function qk8(Z){return MU([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(Q)=>Z.source.indexOf(Q)!==-1)===void 0}function o_0(Z){let J=Z.ignoreCase?"i":"";return new RegExp(`^(?:${Z.source})`,J)}function t_0(Z){let J=Z.ignoreCase?"iy":"y";return new RegExp(`${Z.source}`,J)}function Jf0(Z,J,Q){let K=[];if(!l8(Z,wB))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+wB+`> property in its definition
`,type:IJ.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE});if(!l8(Z,v$))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+v$+`> property in its definition
`,type:IJ.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY});if(l8(Z,v$)&&l8(Z,wB)&&!l8(Z.modes,Z.defaultMode))K.push({message:`A MultiMode Lexer cannot be initialized with a ${wB}: <${Z.defaultMode}>which does not exist
`,type:IJ.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST});if(l8(Z,v$))c8(Z.modes,(X,U)=>{c8(X,(Y,q)=>{if(yQ(Y))K.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${U}> at index: <${q}>
`,type:IJ.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(l8(Y,"LONGER_ALT")){let W=i8(Y.LONGER_ALT)?Y.LONGER_ALT:[Y.LONGER_ALT];c8(W,(G)=>{if(!yQ(G)&&!gJ(X,G))K.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${G.name}> on token <${Y.name}> outside of mode <${U}>
`,type:IJ.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})});return K}function Qf0(Z,J,Q){let K=[],X=!1,U=HU(V7(xZ(Z.modes))),Y=XW(U,(W)=>W[uz]===fJ.NA),q=qf0(Q);if(J)c8(Y,(W)=>{let G=Yf0(W,q);if(G!==!1){let H={message:Gk8(W,G),type:G.issue,tokenType:W};K.push(H)}else if(l8(W,"LINE_BREAKS")){if(W.LINE_BREAKS===!0)X=!0}else if(f$(q,W.PATTERN))X=!0});if(J&&!X)K.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:IJ.NO_LINE_BREAKS_FLAGS});return K}function Kf0(Z){let J={},Q=rZ(Z);return c8(Q,(K)=>{let X=Z[K];if(i8(X))J[K]=[];else throw Error("non exhaustive match")}),J}function Xf0(Z){let J=Z.PATTERN;if(BU(J))return!1;else if(F6(J))return!0;else if(l8(J,"exec"))return!0;else if(B6(J))return!1;else throw Error("non exhaustive match")}function Wk8(Z){if(B6(Z)&&Z.length===1)return Z.charCodeAt(0);else return!1}function Yf0(Z,J){if(l8(Z,"LINE_BREAKS"))return!1;else if(BU(Z.PATTERN)){try{f$(J,Z.PATTERN)}catch(Q){return{issue:IJ.IDENTIFY_TERMINATOR,errMsg:Q.message}}return!1}else if(B6(Z.PATTERN))return!1;else if(Xf0(Z))return{issue:IJ.CUSTOM_LINE_BREAK};else throw Error("non exhaustive match")}function Gk8(Z,J){if(J.issue===IJ.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${Z.name}> Token Type
	 Root cause: ${J.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;else if(J.issue===IJ.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${Z.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;else throw Error("non exhaustive match")}function qf0(Z){return h8(Z,(Q)=>{if(B6(Q))return Q.charCodeAt(0);else return Q})}function _n(Z,J,Q){if(Z[J]===void 0)Z[J]=[Q];else Z[J].push(Q)}function LU(Z){return Z<TB?Z:x$[Z]}function zk8(){if(x9(x$)){x$=Array(65536);for(let Z=0;Z<65536;Z++)x$[Z]=Z>255?255+~~(Z/255):Z}}var uz="PATTERN",wB="defaultMode",v$="modes",fn,a$8,e$8,Uf0,TB=256,x$;var kn=_(()=>{WI();rI();bZ();zB();a_0();k$();fn=typeof new RegExp("(?:)").sticky==="boolean";a$8=/[^\\][$]/;e$8=/[^\\[][\^]|^\^/;Uf0={test:function(Z){let J=Z.length;for(let Q=this.lastIndex;Q<J;Q++){let K=Z.charCodeAt(Q);if(K===10)return this.lastIndex=Q+1,!0;else if(K===13){if(Z.charCodeAt(Q+1)===10)this.lastIndex=Q+2;else this.lastIndex=Q+1;return!0}}return!1},lastIndex:0};x$=[]});function bY(Z,J){let Q=Z.tokenTypeIdx;if(Q===J.tokenTypeIdx)return!0;else return J.isParent===!0&&J.categoryMatchesMap[Q]===!0}function $B(Z,J){return Z.tokenTypeIdx===J.tokenTypeIdx}function yY(Z){let J=Hk8(Z);Fk8(J),Bk8(J),Mk8(J),c8(J,(Q)=>{Q.isParent=Q.categoryMatches.length>0})}function Hk8(Z){let J=aZ(Z),Q=Z,K=!0;while(K){Q=HU(V7(h8(Q,(U)=>U.CATEGORIES)));let X=KW(Q,J);if(J=J.concat(X),x9(X))K=!1;else Q=X}return J}function Fk8(Z){c8(Z,(J)=>{if(!vn(J))zf0[Wf0]=J,J.tokenTypeIdx=Wf0++;if(Gf0(J)&&!i8(J.CATEGORIES))J.CATEGORIES=[J.CATEGORIES];if(!Gf0(J))J.CATEGORIES=[];if(!Ok8(J))J.categoryMatches=[];if(!Rk8(J))J.categoryMatchesMap={}})}function Mk8(Z){c8(Z,(J)=>{J.categoryMatches=[],c8(J.categoryMatchesMap,(Q,K)=>{J.categoryMatches.push(zf0[K].tokenTypeIdx)})})}function Bk8(Z){c8(Z,(J)=>{Hf0([],J)})}function Hf0(Z,J){c8(Z,(Q)=>{J.categoryMatchesMap[Q.tokenTypeIdx]=!0}),c8(J.CATEGORIES,(Q)=>{let K=Z.concat(J);if(!gJ(K,Q))Hf0(K,Q)})}function vn(Z){return l8(Z,"tokenTypeIdx")}function Gf0(Z){return l8(Z,"CATEGORIES")}function Ok8(Z){return l8(Z,"categoryMatches")}function Rk8(Z){return l8(Z,"categoryMatchesMap")}function Ff0(Z){return l8(Z,"tokenTypeIdx")}var Wf0=1,zf0;var gz=_(()=>{bZ();zf0={}});var kB;var xn=_(()=>{kB={buildUnableToPopLexerModeMessage(Z){return`Unable to pop Lexer Mode after encountering Token ->${Z.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(Z,J,Q,K,X){return`unexpected character: ->${Z.charAt(J)}<- at offset: ${J}, skipped ${Q} characters.`}}});class fJ{constructor(Z,J=nI){if(this.lexerDefinition=Z,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(K,X)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let U=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${U}--> <${K}>`);let{time:Y,value:q}=$I(X),W=Y>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)W(`${U}<-- <${K}> time: ${Y}ms`);return this.traceInitIndent--,q}else return X()},typeof J==="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=cM({},nI,J);let Q=this.config.traceInitPerf;if(Q===!0)this.traceInitMaxIdent=1/0,this.traceInitPerf=!0;else if(typeof Q==="number")this.traceInitMaxIdent=Q,this.traceInitPerf=!0;this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let K,X=!0;if(this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===nI.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Uf0;else if(this.config.lineTerminatorCharacters===nI.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(J.safeMode&&J.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');if(this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),i8(Z))K={modes:{defaultMode:aZ(Z)},defaultMode:wB};else X=!1,K=aZ(Z)}),this.config.skipValidations===!1)this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Jf0(K,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Qf0(K,this.trackStartLines,this.config.lineTerminatorCharacters))});K.modes=K.modes?K.modes:{},c8(K.modes,(Y,q)=>{K.modes[q]=XW(Y,(W)=>yQ(W))});let U=rZ(K.modes);if(c8(K.modes,(Y,q)=>{this.TRACE_INIT(`Mode: <${q}> processing`,()=>{if(this.modes.push(q),this.config.skipValidations===!1)this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Zf0(Y,U))});if(x9(this.lexerDefinitionErrors)){yY(Y);let W;this.TRACE_INIT("analyzeTokenTypes",()=>{W=e_0(Y,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:J.positionTracking,ensureOptimizations:J.ensureOptimizations,safeMode:J.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[q]=W.patternIdxToConfig,this.charCodeToPatternIdxToConfig[q]=W.charCodeToPatternIdxToConfig,this.emptyGroups=cM({},this.emptyGroups,W.emptyGroups),this.hasCustom=W.hasCustom||this.hasCustom,this.canModeBeOptimized[q]=W.canBeOptimized}})}),this.defaultMode=K.defaultMode,!x9(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let q=h8(this.lexerDefinitionErrors,(W)=>{return W.message}).join(`-----------------------
`);throw Error(`Errors detected in definition of Lexer:
`+q)}c8(this.lexerDefinitionWarning,(Y)=>{wI(Y.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(fn)this.chopInput=_K,this.match=this.matchWithTest;else this.updateLastIndex=_J,this.match=this.matchWithExec;if(X)this.handleModes=_J;if(this.trackStartLines===!1)this.computeNewColumn=_K;if(this.trackEndLines===!1)this.updateTokenEndLineColumnLocation=_J;if(/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);if(this.hasCustom)this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom;else this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let Y=z7(this.canModeBeOptimized,(q,W,G)=>{if(W===!1)q.push(G);return q},[]);if(J.ensureOptimizations&&!x9(Y))throw Error(`Lexer Modes: < ${Y.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{d_0()}),this.TRACE_INIT("toFastProperties",()=>{kI(this)})})}tokenize(Z,J=this.defaultMode){if(!x9(this.lexerDefinitionErrors)){let K=h8(this.lexerDefinitionErrors,(X)=>{return X.message}).join(`-----------------------
`);throw Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+K)}return this.tokenizeInternal(Z,J)}tokenizeInternal(Z,J){let Q,K,X,U,Y,q,W,G,z,H,F,M,B,O,R,D,L=Z,A=L.length,V=0,N=0,E=this.hasCustom?0:Math.floor(Z.length/10),j=Array(E),C=[],$=this.trackStartLines?1:void 0,k=this.trackStartLines?1:void 0,w=Kf0(this.emptyGroups),P=this.trackStartLines,T=this.config.lineTerminatorsPattern,S=0,f=[],v=[],x=[],b=[];Object.freeze(b);let y;function u(){return f}function h(U0){let a=LU(U0),z0=v[a];if(z0===void 0)return b;else return z0}let p=(U0)=>{if(x.length===1&&U0.tokenType.PUSH_MODE===void 0){let a=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(U0);C.push({offset:U0.startOffset,line:U0.startLine,column:U0.startColumn,length:U0.image.length,message:a})}else{x.pop();let a=FU(x);f=this.patternIdxToConfig[a],v=this.charCodeToPatternIdxToConfig[a],S=f.length;let z0=this.canModeBeOptimized[a]&&this.config.safeMode===!1;if(v&&z0)y=h;else y=u}};function r(U0){x.push(U0),v=this.charCodeToPatternIdxToConfig[U0],f=this.patternIdxToConfig[U0],S=f.length,S=f.length;let a=this.canModeBeOptimized[U0]&&this.config.safeMode===!1;if(v&&a)y=h;else y=u}r.call(this,J);let e,i=this.config.recoveryEnabled;while(V<A){q=null;let U0=L.charCodeAt(V),a=y(U0),z0=a.length;for(Q=0;Q<z0;Q++){e=a[Q];let J0=e.pattern;W=null;let Q0=e.short;if(Q0!==!1){if(U0===Q0)q=J0}else if(e.isCustom===!0)if(D=J0.exec(L,V,j,w),D!==null){if(q=D[0],D.payload!==void 0)W=D.payload}else q=null;else this.updateLastIndex(J0,V),q=this.match(J0,Z,V);if(q!==null){if(Y=e.longerAlt,Y!==void 0){let t=Y.length;for(X=0;X<t;X++){let n=f[Y[X]],Y0=n.pattern;if(G=null,n.isCustom===!0)if(D=Y0.exec(L,V,j,w),D!==null){if(U=D[0],D.payload!==void 0)G=D.payload}else U=null;else this.updateLastIndex(Y0,V),U=this.match(Y0,Z,V);if(U&&U.length>q.length){q=U,W=G,e=n;break}}}break}}if(q!==null){if(z=q.length,H=e.group,H!==void 0)if(F=e.tokenTypeIdx,M=this.createTokenInstance(q,V,F,e.tokenType,$,k,z),this.handlePayload(M,W),H===!1)N=this.addToken(j,N,M);else w[H].push(M);if(Z=this.chopInput(Z,z),V=V+z,k=this.computeNewColumn(k,z),P===!0&&e.canLineTerminator===!0){let J0=0,Q0,t;T.lastIndex=0;do if(Q0=T.test(q),Q0===!0)t=T.lastIndex-1,J0++;while(Q0===!0);if(J0!==0)$=$+J0,k=z-t,this.updateTokenEndLineColumnLocation(M,H,t,J0,$,k,z)}this.handleModes(e,p,r,M)}else{let J0=V,Q0=$,t=k,n=i===!1;while(n===!1&&V<A){Z=this.chopInput(Z,1),V++;for(K=0;K<S;K++){let Y0=f[K],o=Y0.pattern,M0=Y0.short;if(M0!==!1){if(L.charCodeAt(V)===M0)n=!0}else if(Y0.isCustom===!0)n=o.exec(L,V,j,w)!==null;else this.updateLastIndex(o,V),n=o.exec(Z)!==null;if(n===!0)break}}if(B=V-J0,k=this.computeNewColumn(k,B),R=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(L,J0,B,Q0,t),C.push({offset:J0,line:Q0,column:t,length:B,message:R}),i===!1)break}}if(!this.hasCustom)j.length=N;return{tokens:j,groups:w,errors:C}}handleModes(Z,J,Q,K){if(Z.pop===!0){let X=Z.push;if(J(K),X!==void 0)Q.call(this,X)}else if(Z.push!==void 0)Q.call(this,Z.push)}chopInput(Z,J){return Z.substring(J)}updateLastIndex(Z,J){Z.lastIndex=J}updateTokenEndLineColumnLocation(Z,J,Q,K,X,U,Y){let q,W;if(J!==void 0){if(q=Q===Y-1,W=q?-1:0,!(K===1&&q===!0))Z.endLine=X+W,Z.endColumn=U-1+-W}}computeNewColumn(Z,J){return Z+J}createOffsetOnlyToken(Z,J,Q,K){return{image:Z,startOffset:J,tokenTypeIdx:Q,tokenType:K}}createStartOnlyToken(Z,J,Q,K,X,U){return{image:Z,startOffset:J,startLine:X,startColumn:U,tokenTypeIdx:Q,tokenType:K}}createFullToken(Z,J,Q,K,X,U,Y){return{image:Z,startOffset:J,endOffset:J+Y-1,startLine:X,endLine:X,startColumn:U,endColumn:U+Y-1,tokenTypeIdx:Q,tokenType:K}}addTokenUsingPush(Z,J,Q){return Z.push(Q),J}addTokenUsingMemberAccess(Z,J,Q){return Z[J]=Q,J++,J}handlePayloadNoCustom(Z,J){}handlePayloadWithCustom(Z,J){if(J!==null)Z.payload=J}matchWithTest(Z,J,Q){if(Z.test(J)===!0)return J.substring(Q,Z.lastIndex);return null}matchWithExec(Z,J){let Q=Z.exec(J);return Q!==null?Q[0]:null}}var IJ,nI;var rI=_(()=>{kn();bZ();zB();gz();xn();k$();(function(Z){Z[Z.MISSING_PATTERN=0]="MISSING_PATTERN",Z[Z.INVALID_PATTERN=1]="INVALID_PATTERN",Z[Z.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Z[Z.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Z[Z.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Z[Z.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Z[Z.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Z[Z.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Z[Z.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Z[Z.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Z[Z.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Z[Z.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Z[Z.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Z[Z.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Z[Z.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Z[Z.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Z[Z.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Z[Z.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(IJ||(IJ={}));nI={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:kB,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(nI);fJ.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";fJ.NA=/NOT_APPLICABLE/});function hY(Z){if(bn(Z))return Z.LABEL;else return Z.name}function bn(Z){return B6(Z.LABEL)&&Z.LABEL!==""}function VW(Z){return Lk8(Z)}function Lk8(Z){let J=Z.pattern,Q={};if(Q.name=Z.name,!yQ(J))Q.PATTERN=J;if(l8(Z,Dk8))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;if(l8(Z,Mf0))Q.CATEGORIES=Z[Mf0];if(yY([Q]),l8(Z,Bf0))Q.LABEL=Z[Bf0];if(l8(Z,Of0))Q.GROUP=Z[Of0];if(l8(Z,Df0))Q.POP_MODE=Z[Df0];if(l8(Z,Rf0))Q.PUSH_MODE=Z[Rf0];if(l8(Z,Lf0))Q.LONGER_ALT=Z[Lf0];if(l8(Z,If0))Q.LINE_BREAKS=Z[If0];if(l8(Z,Af0))Q.START_CHARS_HINT=Z[Af0];return Q}function mY(Z,J,Q,K,X,U,Y,q){return{image:J,startOffset:Q,endOffset:K,startLine:X,endLine:U,startColumn:Y,endColumn:q,tokenTypeIdx:Z.tokenTypeIdx,tokenType:Z}}function aI(Z,J){return bY(Z,J)}var Dk8="parent",Mf0="categories",Bf0="label",Of0="group",Rf0="push_mode",Df0="pop_mode",Lf0="longer_alt",If0="line_breaks",Af0="start_chars_hint",p4;var pz=_(()=>{bZ();rI();gz();p4=VW({name:"EOF",pattern:fJ.NA});yY([p4])});var uY,Nf0,m5;var _B=_(()=>{pz();bZ();D6();uY={buildMismatchTokenMessage({expected:Z,actual:J,previous:Q,ruleName:K}){return`Expecting ${bn(Z)?`--> ${hY(Z)} <--`:`token of type --> ${Z.name} <--`} but found --> '${J.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:J}){return"Redundant input, expecting EOF but found: "+Z.image},buildNoViableAltMessage({expectedPathsPerAlt:Z,actual:J,previous:Q,customUserDescription:K,ruleName:X}){let q=`
but found: '`+u7(J).image+"'";if(K)return"Expecting: "+K+q;else{let W=z7(Z,(F,M)=>F.concat(M),[]),G=h8(W,(F)=>`[${h8(F,(M)=>hY(M)).join(", ")}]`);return`Expecting: one of these possible Token sequences:
${h8(G,(F,M)=>`  ${M+1}. ${F}`).join(`
`)}`+q}},buildEarlyExitMessage({expectedIterationPaths:Z,actual:J,customUserDescription:Q,ruleName:K}){let Y=`
but found: '`+u7(J).image+"'";if(Q)return"Expecting: "+Q+Y;else return`Expecting: expecting at least one iteration which starts with one of these possible Token sequences::
  <${h8(Z,(G)=>`[${h8(G,(z)=>hY(z)).join(",")}]`).join(" ,")}>`+Y}};Object.freeze(uY);Nf0={buildRuleNotFoundError(Z,J){return"Invalid grammar, reference to a rule which is not defined: ->"+J.nonTerminalName+`<-
inside top level rule: ->`+Z.name+"<-"}},m5={buildDuplicateFoundError(Z,J){function Q(z){if(z instanceof b9)return z.terminalType.name;else if(z instanceof TZ)return z.nonTerminalName;else return""}let K=Z.name,X=u7(J),U=X.idx,Y=G4(X),q=Q(X),W=U>0,G=`->${Y}${W?U:""}<- ${q?`with argument: ->${q}<-`:""}
                  appears more than once (${J.length} times) in the top level rule: ->${K}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return G=G.replace(/[ \t]+/g," "),G=G.replace(/\s\s+/g,`
`),G},buildNamespaceConflictError(Z){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${Z.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(Z){let J=h8(Z.prefixPath,(X)=>hY(X)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx;return`Ambiguous alternatives: <${Z.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(Z){let J=h8(Z.prefixPath,(X)=>hY(X)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx,K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(" ,")}> in <OR${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
`;return K=K+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,K},buildEmptyRepetitionError(Z){let J=G4(Z.repetition);if(Z.repetition.idx!==0)J+=Z.repetition.idx;return`The repetition <${J}> within Rule <${Z.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(Z){return"deprecated"},buildEmptyAlternationError(Z){return`Ambiguous empty alternative: <${Z.emptyChoiceIdx+1}> in <OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(Z){return`An Alternation cannot have more than 256 alternatives:
<OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
 has ${Z.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(Z){let J=Z.topLevelRule.name,Q=h8(Z.leftRecursionPath,(U)=>U.name),K=`${J} --> ${Q.concat([J]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${J}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${K}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(Z){return"deprecated"},buildDuplicateRuleNameError(Z){let J;if(Z.topLevelRule instanceof q4)J=Z.topLevelRule.name;else J=Z.topLevelRule;return`Duplicate definition, rule: ->${J}<- is already defined in the grammar: ->${Z.grammarName}<-`}}});function Ef0(Z,J){let Q=new Vf0(Z,J);return Q.resolveRefs(),Q.errors}var Vf0;var Pf0=_(()=>{z4();bZ();D6();Vf0=class Vf0 extends W4{constructor(Z,J){super();this.nameToTopRule=Z,this.errMsgProvider=J,this.errors=[]}resolveRefs(){c8(xZ(this.nameToTopRule),(Z)=>{this.currTopLevel=Z,Z.accept(this)})}visitNonTerminal(Z){let J=this.nameToTopRule[Z.nonTerminalName];if(!J){let Q=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,Z);this.errors.push({message:Q,type:P7.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:Z.nonTerminalName})}else Z.referencedRule=J}}});function h$(Z,J,Q=[]){Q=aZ(Q);let K=[],X=0;function U(q){return q.concat(aJ(Z,X+1))}function Y(q){let W=h$(U(q),J,Q);return K.concat(W)}while(Q.length<J&&X<Z.length){let q=Z[X];if(q instanceof qJ)return Y(q.definition);else if(q instanceof TZ)return Y(q.definition);else if(q instanceof wZ)K=Y(q.definition);else if(q instanceof WJ){let W=q.definition.concat([new QZ({definition:q.definition})]);return Y(W)}else if(q instanceof GJ){let W=[new qJ({definition:q.definition}),new QZ({definition:[new b9({terminalType:q.separator})].concat(q.definition)})];return Y(W)}else if(q instanceof oZ){let W=q.definition.concat([new QZ({definition:[new b9({terminalType:q.separator})].concat(q.definition)})]);K=Y(W)}else if(q instanceof QZ){let W=q.definition.concat([new QZ({definition:q.definition})]);K=Y(W)}else if(q instanceof tZ)return c8(q.definition,(W)=>{if(x9(W.definition)===!1)K=Y(W.definition)}),K;else if(q instanceof b9)Q.push(q.terminalType);else throw Error("non exhaustive match");X++}return K.push({partialPath:Q,suffixDef:aJ(Z,X)}),K}function m$(Z,J,Q,K){let U=["EXIT_NONE_TERMINAL"],Y="EXIT_ALTERNATIVE",q=!1,W=J.length,G=W-K-1,z=[],H=[];H.push({idx:-1,def:Z,ruleStack:[],occurrenceStack:[]});while(!x9(H)){let F=H.pop();if(F==="EXIT_ALTERNATIVE"){if(q&&FU(H).idx<=G)H.pop();continue}let{def:M,idx:B,ruleStack:O,occurrenceStack:R}=F;if(x9(M))continue;let D=M[0];if(D==="EXIT_NONE_TERMINAL"){let L={idx:B,def:aJ(M),ruleStack:fY(O),occurrenceStack:fY(R)};H.push(L)}else if(D instanceof b9)if(B<W-1){let L=B+1,A=J[L];if(Q(A,D.terminalType)){let V={idx:L,def:aJ(M),ruleStack:O,occurrenceStack:R};H.push(V)}}else if(B===W-1)z.push({nextTokenType:D.terminalType,nextTokenOccurrence:D.idx,ruleStack:O,occurrenceStack:R}),q=!0;else throw Error("non exhaustive match");else if(D instanceof TZ){let L=aZ(O);L.push(D.nonTerminalName);let A=aZ(R);A.push(D.idx);let V={idx:B,def:D.definition.concat(U,aJ(M)),ruleStack:L,occurrenceStack:A};H.push(V)}else if(D instanceof wZ){let L={idx:B,def:aJ(M),ruleStack:O,occurrenceStack:R};H.push(L),H.push("EXIT_ALTERNATIVE");let A={idx:B,def:D.definition.concat(aJ(M)),ruleStack:O,occurrenceStack:R};H.push(A)}else if(D instanceof WJ){let L=new QZ({definition:D.definition,idx:D.idx}),A=D.definition.concat([L],aJ(M)),V={idx:B,def:A,ruleStack:O,occurrenceStack:R};H.push(V)}else if(D instanceof GJ){let L=new b9({terminalType:D.separator}),A=new QZ({definition:[L].concat(D.definition),idx:D.idx}),V=D.definition.concat([A],aJ(M)),N={idx:B,def:V,ruleStack:O,occurrenceStack:R};H.push(N)}else if(D instanceof oZ){let L={idx:B,def:aJ(M),ruleStack:O,occurrenceStack:R};H.push(L),H.push("EXIT_ALTERNATIVE");let A=new b9({terminalType:D.separator}),V=new QZ({definition:[A].concat(D.definition),idx:D.idx}),N=D.definition.concat([V],aJ(M)),E={idx:B,def:N,ruleStack:O,occurrenceStack:R};H.push(E)}else if(D instanceof QZ){let L={idx:B,def:aJ(M),ruleStack:O,occurrenceStack:R};H.push(L),H.push("EXIT_ALTERNATIVE");let A=new QZ({definition:D.definition,idx:D.idx}),V=D.definition.concat([A],aJ(M)),N={idx:B,def:V,ruleStack:O,occurrenceStack:R};H.push(N)}else if(D instanceof tZ)for(let L=D.definition.length-1;L>=0;L--){let A=D.definition[L],V={idx:B,def:A.definition.concat(aJ(M)),ruleStack:O,occurrenceStack:R};H.push(V),H.push("EXIT_ALTERNATIVE")}else if(D instanceof qJ)H.push({idx:B,def:D.definition.concat(aJ(M)),ruleStack:O,occurrenceStack:R});else if(D instanceof q4)H.push(Ik8(D,B,O,R));else throw Error("non exhaustive match")}return z}function Ik8(Z,J,Q,K){let X=aZ(Q);X.push(Z.name);let U=aZ(K);return U.push(1),{idx:J,def:Z.definition,ruleStack:X,occurrenceStack:U}}var jf0,yn,oI,hn,b$,mn,y$;var tI=_(()=>{bZ();Tn();T$();D6();jf0=class jf0 extends EW{constructor(Z,J){super();this.topProd=Z,this.path=J,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=aZ(this.path.ruleStack).reverse(),this.occurrenceStack=aZ(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(Z,J=[]){if(!this.found)super.walk(Z,J)}walkProdRef(Z,J,Q){if(Z.referencedRule.name===this.nextProductionName&&Z.idx===this.nextProductionOccurrence){let K=J.concat(Q);this.updateExpectedNext(),this.walk(Z.referencedRule,K)}}updateExpectedNext(){if(x9(this.ruleStack))this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0;else this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop()}};yn=class yn extends jf0{constructor(Z,J){super(Z,J);this.path=J,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(Z,J,Q){if(this.isAtEndOfPath&&Z.terminalType.name===this.nextTerminalName&&Z.idx===this.nextTerminalOccurrence&&!this.found){let K=J.concat(Q),X=new qJ({definition:K});this.possibleTokTypes=mz(X),this.found=!0}}};oI=class oI extends EW{constructor(Z,J){super();this.topRule=Z,this.occurrence=J,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}};hn=class hn extends oI{walkMany(Z,J,Q){if(Z.idx===this.occurrence){let K=u7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof b9)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkMany(Z,J,Q)}};b$=class b$ extends oI{walkManySep(Z,J,Q){if(Z.idx===this.occurrence){let K=u7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof b9)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkManySep(Z,J,Q)}};mn=class mn extends oI{walkAtLeastOne(Z,J,Q){if(Z.idx===this.occurrence){let K=u7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof b9)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOne(Z,J,Q)}};y$=class y$ extends oI{walkAtLeastOneSep(Z,J,Q){if(Z.idx===this.occurrence){let K=u7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof b9)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOneSep(Z,J,Q)}}});function eI(Z){if(Z instanceof wZ||Z==="Option")return AJ.OPTION;else if(Z instanceof QZ||Z==="Repetition")return AJ.REPETITION;else if(Z instanceof WJ||Z==="RepetitionMandatory")return AJ.REPETITION_MANDATORY;else if(Z instanceof GJ||Z==="RepetitionMandatoryWithSeparator")return AJ.REPETITION_MANDATORY_WITH_SEPARATOR;else if(Z instanceof oZ||Z==="RepetitionWithSeparator")return AJ.REPETITION_WITH_SEPARATOR;else if(Z instanceof tZ||Z==="Alternation")return AJ.ALTERNATION;else throw Error("non exhaustive match")}function u$(Z){let{occurrence:J,rule:Q,prodType:K,maxLookahead:X}=Z,U=eI(K);if(U===AJ.ALTERNATION)return fB(J,Q,X);else return vB(J,Q,U,X)}function Sf0(Z,J,Q,K,X,U){let Y=fB(Z,J,Q),q=vf0(Y)?$B:bY;return U(Y,K,q,X)}function Tf0(Z,J,Q,K,X,U){let Y=vB(Z,J,X,Q),q=vf0(Y)?$B:bY;return U(Y[0],q,K)}function wf0(Z,J,Q,K){let X=Z.length,U=K4(Z,(Y)=>{return K4(Y,(q)=>{return q.length===1})});if(J)return function(Y){let q=h8(Y,(W)=>W.GATE);for(let W=0;W<X;W++){let G=Z[W],z=G.length,H=q[W];if(H!==void 0&&H.call(this)===!1)continue;Z:for(let F=0;F<z;F++){let M=G[F],B=M.length;for(let O=0;O<B;O++){let R=this.LA(O+1);if(Q(R,M[O])===!1)continue Z}return W}}return};else if(U&&!K){let Y=h8(Z,(W)=>{return V7(W)}),q=z7(Y,(W,G,z)=>{return c8(G,(H)=>{if(!l8(W,H.tokenTypeIdx))W[H.tokenTypeIdx]=z;c8(H.categoryMatches,(F)=>{if(!l8(W,F))W[F]=z})}),W},{});return function(){let W=this.LA(1);return q[W.tokenTypeIdx]}}else return function(){for(let Y=0;Y<X;Y++){let q=Z[Y],W=q.length;Z:for(let G=0;G<W;G++){let z=q[G],H=z.length;for(let F=0;F<H;F++){let M=this.LA(F+1);if(Q(M,z[F])===!1)continue Z}return Y}}return}}function $f0(Z,J,Q){let K=K4(Z,(U)=>{return U.length===1}),X=Z.length;if(K&&!Q){let U=V7(Z);if(U.length===1&&x9(U[0].categoryMatches)){let q=U[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===q}}else{let Y=z7(U,(q,W,G)=>{return q[W.tokenTypeIdx]=!0,c8(W.categoryMatches,(z)=>{q[z]=!0}),q},[]);return function(){let q=this.LA(1);return Y[q.tokenTypeIdx]===!0}}}else return function(){Z:for(let U=0;U<X;U++){let Y=Z[U],q=Y.length;for(let W=0;W<q;W++){let G=this.LA(W+1);if(J(G,Y[W])===!1)continue Z}return!0}return!1}}function Cf0(Z){let J=Array(Z);for(let Q=0;Q<Z;Q++)J[Q]=[];return J}function un(Z){let J=[""];for(let Q=0;Q<Z.length;Q++){let K=Z[Q],X=[];for(let U=0;U<J.length;U++){let Y=J[U];X.push(Y+"_"+K.tokenTypeIdx);for(let q=0;q<K.categoryMatches.length;q++){let W="_"+K.categoryMatches[q];X.push(Y+W)}}J=X}return J}function Ak8(Z,J,Q){for(let K=0;K<Z.length;K++){if(K===Q)continue;let X=Z[K];for(let U=0;U<J.length;U++){let Y=J[U];if(X[Y]===!0)return!1}}return!0}function _f0(Z,J){let Q=h8(Z,(Y)=>h$([Y],1)),K=Cf0(Q.length),X=h8(Q,(Y)=>{let q={};return c8(Y,(W)=>{let G=un(W.partialPath);c8(G,(z)=>{q[z]=!0})}),q}),U=Q;for(let Y=1;Y<=J;Y++){let q=U;U=Cf0(q.length);for(let W=0;W<q.length;W++){let G=q[W];for(let z=0;z<G.length;z++){let H=G[z].partialPath,F=G[z].suffixDef,M=un(H);if(Ak8(X,M,W)||x9(F)||H.length===J){let O=K[W];if(g$(O,H)===!1){O.push(H);for(let R=0;R<M.length;R++){let D=M[R];X[W][D]=!0}}}else{let O=h$(F,Y+1,H);U[W]=U[W].concat(O),c8(O,(R)=>{let D=un(R.partialPath);c8(D,(L)=>{X[W][L]=!0})})}}}}return K}function fB(Z,J,Q,K){let X=new gn(Z,AJ.ALTERNATION,K);return J.accept(X),_f0(X.result,Q)}function vB(Z,J,Q,K){let X=new gn(Z,Q);J.accept(X);let U=X.result,q=new kf0(J,Z,Q).startWalking(),W=new qJ({definition:U}),G=new qJ({definition:q});return _f0([W,G],K)}function g$(Z,J){Z:for(let Q=0;Q<Z.length;Q++){let K=Z[Q];if(K.length!==J.length)continue;for(let X=0;X<K.length;X++){let U=J[X],Y=K[X];if((U===Y||Y.categoryMatchesMap[U.tokenTypeIdx]!==void 0)===!1)continue Z}return!0}return!1}function ff0(Z,J){return Z.length<J.length&&K4(Z,(Q,K)=>{let X=J[K];return Q===X||X.categoryMatchesMap[Q.tokenTypeIdx]})}function vf0(Z){return K4(Z,(J)=>K4(J,(Q)=>K4(Q,(K)=>x9(K.categoryMatches))))}var AJ,kf0,gn;var xB=_(()=>{bZ();tI();T$();gz();D6();(function(Z){Z[Z.OPTION=0]="OPTION",Z[Z.REPETITION=1]="REPETITION",Z[Z.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Z[Z.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Z[Z.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Z[Z.ALTERNATION=5]="ALTERNATION"})(AJ||(AJ={}));kf0=class kf0 extends EW{constructor(Z,J,Q){super();this.topProd=Z,this.targetOccurrence=J,this.targetProdType=Q}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(Z,J,Q,K){if(Z.idx===this.targetOccurrence&&this.targetProdType===J)return this.restDef=Q.concat(K),!0;return!1}walkOption(Z,J,Q){if(!this.checkIsTarget(Z,AJ.OPTION,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOne(Z,J,Q){if(!this.checkIsTarget(Z,AJ.REPETITION_MANDATORY,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOneSep(Z,J,Q){if(!this.checkIsTarget(Z,AJ.REPETITION_MANDATORY_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}walkMany(Z,J,Q){if(!this.checkIsTarget(Z,AJ.REPETITION,J,Q))super.walkOption(Z,J,Q)}walkManySep(Z,J,Q){if(!this.checkIsTarget(Z,AJ.REPETITION_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}};gn=class gn extends W4{constructor(Z,J,Q){super();this.targetOccurrence=Z,this.targetProdType=J,this.targetRef=Q,this.result=[]}checkIsTarget(Z,J){if(Z.idx===this.targetOccurrence&&this.targetProdType===J&&(this.targetRef===void 0||Z===this.targetRef))this.result=Z.definition}visitOption(Z){this.checkIsTarget(Z,AJ.OPTION)}visitRepetition(Z){this.checkIsTarget(Z,AJ.REPETITION)}visitRepetitionMandatory(Z){this.checkIsTarget(Z,AJ.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(Z){this.checkIsTarget(Z,AJ.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(Z){this.checkIsTarget(Z,AJ.REPETITION_WITH_SEPARATOR)}visitAlternation(Z){this.checkIsTarget(Z,AJ.ALTERNATION)}}});function xf0(Z){let J=Z.lookaheadStrategy.validate({rules:Z.rules,tokenTypes:Z.tokenTypes,grammarName:Z.grammarName});return h8(J,(Q)=>Object.assign({type:P7.CUSTOM_LOOKAHEAD_VALIDATION},Q))}function bf0(Z,J,Q,K){let X=M6(Z,(W)=>Nk8(W,Q)),U=Sk8(Z,J,Q),Y=M6(Z,(W)=>Pk8(W,Q)),q=M6(Z,(W)=>Vk8(W,Z,K,Q));return X.concat(U,Y,q)}function Nk8(Z,J){let Q=new hf0;Z.accept(Q);let K=Q.allProductions,X=hr(K,Ek8),U=gr(X,(q)=>{return q.length>1});return h8(xZ(U),(q)=>{let W=u7(q),G=J.buildDuplicateFoundError(Z,q),z=G4(W),H={message:G,type:P7.DUPLICATE_PRODUCTIONS,ruleName:Z.name,dslName:z,occurrence:W.idx},F=yf0(W);if(F)H.parameter=F;return H})}function Ek8(Z){return`${G4(Z)}_#_${Z.idx}_#_${yf0(Z)}`}function yf0(Z){if(Z instanceof b9)return Z.terminalType.name;else if(Z instanceof TZ)return Z.nonTerminalName;else return""}function Vk8(Z,J,Q,K){let X=[];if(z7(J,(Y,q)=>{if(q.name===Z.name)return Y+1;return Y},0)>1){let Y=K.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:Q});X.push({message:Y,type:P7.DUPLICATE_RULE_NAME,ruleName:Z.name})}return X}function mf0(Z,J,Q){let K=[],X;if(!gJ(J,Z))X=`Invalid rule override, rule: ->${Z}<- cannot be overridden in the grammar: ->${Q}<-as it is not defined in any of the super grammars `,K.push({message:X,type:P7.INVALID_RULE_OVERRIDE,ruleName:Z});return K}function pn(Z,J,Q,K=[]){let X=[],U=p$(J.definition);if(x9(U))return[];else{let Y=Z.name;if(gJ(U,Z))X.push({message:Q.buildLeftRecursionError({topLevelRule:Z,leftRecursionPath:K}),type:P7.LEFT_RECURSION,ruleName:Y});let W=KW(U,K.concat([Z])),G=M6(W,(z)=>{let H=aZ(K);return H.push(z),pn(Z,z,Q,H)});return X.concat(G)}}function p$(Z){let J=[];if(x9(Z))return J;let Q=u7(Z);if(Q instanceof TZ)J.push(Q.referencedRule);else if(Q instanceof qJ||Q instanceof wZ||Q instanceof WJ||Q instanceof GJ||Q instanceof oZ||Q instanceof QZ)J=J.concat(p$(Q.definition));else if(Q instanceof tZ)J=V7(h8(Q.definition,(U)=>p$(U.definition)));else if(Q instanceof b9);else throw Error("non exhaustive match");let K=hz(Q),X=Z.length>1;if(K&&X){let U=aJ(Z);return J.concat(p$(U))}else return J}function uf0(Z,J){let Q=new c$;Z.accept(Q);let K=Q.alternations;return M6(K,(U)=>{let Y=fY(U.definition);return M6(Y,(q,W)=>{let G=m$([q],[],bY,1);if(x9(G))return[{message:J.buildEmptyAlternationError({topLevelRule:Z,alternation:U,emptyChoiceIdx:W}),type:P7.NONE_LAST_EMPTY_ALT,ruleName:Z.name,occurrence:U.idx,alternative:W+1}];else return[]})})}function gf0(Z,J,Q){let K=new c$;Z.accept(K);let X=K.alternations;return X=XW(X,(Y)=>Y.ignoreAmbiguities===!0),M6(X,(Y)=>{let q=Y.idx,W=Y.maxLookahead||J,G=fB(q,Z,W,Y),z=jk8(G,Y,Z,Q),H=Ck8(G,Y,Z,Q);return z.concat(H)})}function Pk8(Z,J){let Q=new c$;Z.accept(Q);let K=Q.alternations;return M6(K,(U)=>{if(U.definition.length>255)return[{message:J.buildTooManyAlternativesError({topLevelRule:Z,alternation:U}),type:P7.TOO_MANY_ALTS,ruleName:Z.name,occurrence:U.idx}];else return[]})}function cf0(Z,J,Q){let K=[];return c8(Z,(X)=>{let U=new pf0;X.accept(U);let Y=U.allProductions;c8(Y,(q)=>{let W=eI(q),G=q.maxLookahead||J,z=q.idx,F=vB(z,X,W,G)[0];if(x9(V7(F))){let M=Q.buildEmptyRepetitionError({topLevelRule:X,repetition:q});K.push({message:M,type:P7.NO_NON_EMPTY_LOOKAHEAD,ruleName:X.name})}})}),K}function jk8(Z,J,Q,K){let X=[],U=z7(Z,(q,W,G)=>{if(J.definition[G].ignoreAmbiguities===!0)return q;return c8(W,(z)=>{let H=[G];if(c8(Z,(F,M)=>{if(G!==M&&g$(F,z)&&J.definition[M].ignoreAmbiguities!==!0)H.push(M)}),H.length>1&&!g$(X,z))X.push(z),q.push({alts:H,path:z})}),q},[]);return h8(U,(q)=>{let W=h8(q.alts,(z)=>z+1);return{message:K.buildAlternationAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:W,prefixPath:q.path}),type:P7.AMBIGUOUS_ALTS,ruleName:Q.name,occurrence:J.idx,alternatives:q.alts}})}function Ck8(Z,J,Q,K){let X=z7(Z,(Y,q,W)=>{let G=h8(q,(z)=>{return{idx:W,path:z}});return Y.concat(G)},[]);return HU(M6(X,(Y)=>{if(J.definition[Y.idx].ignoreAmbiguities===!0)return[];let{idx:W,path:G}=Y,z=bQ(X,(F)=>{return J.definition[F.idx].ignoreAmbiguities!==!0&&F.idx<W&&ff0(F.path,G)});return h8(z,(F)=>{let M=[F.idx+1,W+1],B=J.idx===0?"":J.idx;return{message:K.buildAlternationPrefixAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:M,prefixPath:F.path}),type:P7.AMBIGUOUS_PREFIX_ALTS,ruleName:Q.name,occurrence:B,alternatives:M}})}))}function Sk8(Z,J,Q){let K=[],X=h8(J,(U)=>U.name);return c8(Z,(U)=>{let Y=U.name;if(gJ(X,Y)){let q=Q.buildNamespaceConflictError(U);K.push({message:q,type:P7.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:Y})}}),K}var hf0,c$,pf0;var ZA=_(()=>{bZ();z4();D6();xB();tI();gz();hf0=class hf0 extends W4{constructor(){super(...arguments);this.allProductions=[]}visitNonTerminal(Z){this.allProductions.push(Z)}visitOption(Z){this.allProductions.push(Z)}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}visitAlternation(Z){this.allProductions.push(Z)}visitTerminal(Z){this.allProductions.push(Z)}};c$=class c$ extends W4{constructor(){super(...arguments);this.alternations=[]}visitAlternation(Z){this.alternations.push(Z)}};pf0=class pf0 extends W4{constructor(){super(...arguments);this.allProductions=[]}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}}});function lf0(Z){let J=qB(Z,{errMsgProvider:Nf0}),Q={};return c8(Z.rules,(K)=>{Q[K.name]=K}),Ef0(Q,J.errMsgProvider)}function df0(Z){return Z=qB(Z,{errMsgProvider:m5}),bf0(Z.rules,Z.tokenTypes,Z.errMsgProvider,Z.grammarName)}var if0=_(()=>{bZ();Pf0();ZA();_B()});function PW(Z){return gJ(of0,Z.name)}var sf0="MismatchedTokenException",rf0="NoViableAltException",nf0="EarlyExitException",af0="NotAllInputParsedException",of0,JA,bB,l$,d$,i$;var yB=_(()=>{bZ();of0=[sf0,rf0,nf0,af0];Object.freeze(of0);JA=class JA extends Error{constructor(Z,J){super(Z);if(this.token=J,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}};bB=class bB extends JA{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=sf0}};l$=class l$ extends JA{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=rf0}};d$=class d$ extends JA{constructor(Z,J){super(Z,J);this.name=af0}};i$=class i$ extends JA{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=nf0}}});class dn{initRecoverable(Z){if(this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=l8(Z,"recoveryEnabled")?Z.recoveryEnabled:L6.recoveryEnabled,this.recoveryEnabled)this.attemptInRepetitionRecovery=Tk8}getTokenToInsert(Z){let J=mY(Z,"",NaN,NaN,NaN,NaN,NaN,NaN);return J.isInsertedInRecovery=!0,J}canTokenTypeBeInsertedInRecovery(Z){return!0}canTokenTypeBeDeletedInRecovery(Z){return!0}tryInRepetitionRecovery(Z,J,Q,K){let X=this.findReSyncTokenType(),U=this.exportLexerState(),Y=[],q=!1,W=this.LA(1),G=this.LA(1),z=()=>{let H=this.LA(0),F=this.errorMessageProvider.buildMismatchTokenMessage({expected:K,actual:W,previous:H,ruleName:this.getCurrRuleFullName()}),M=new bB(F,W,this.LA(0));M.resyncedTokens=fY(Y),this.SAVE_ERROR(M)};while(!q)if(this.tokenMatcher(G,K)){z();return}else if(Q.call(this)){z(),Z.apply(this,J);return}else if(this.tokenMatcher(G,X))q=!0;else G=this.SKIP_TOKEN(),this.addToResyncTokens(G,Y);this.importLexerState(U)}shouldInRepetitionRecoveryBeTried(Z,J,Q){if(Q===!1)return!1;if(this.tokenMatcher(this.LA(1),Z))return!1;if(this.isBackTracking())return!1;if(this.canPerformInRuleRecovery(Z,this.getFollowsForInRuleRecovery(Z,J)))return!1;return!0}getFollowsForInRuleRecovery(Z,J){let Q=this.getCurrentGrammarPath(Z,J);return this.getNextPossibleTokenTypes(Q)}tryInRuleRecovery(Z,J){if(this.canRecoverWithSingleTokenInsertion(Z,J))return this.getTokenToInsert(Z);if(this.canRecoverWithSingleTokenDeletion(Z)){let Q=this.SKIP_TOKEN();return this.consumeToken(),Q}throw new tf0("sad sad panda")}canPerformInRuleRecovery(Z,J){return this.canRecoverWithSingleTokenInsertion(Z,J)||this.canRecoverWithSingleTokenDeletion(Z)}canRecoverWithSingleTokenInsertion(Z,J){if(!this.canTokenTypeBeInsertedInRecovery(Z))return!1;if(x9(J))return!1;let Q=this.LA(1);return MU(J,(X)=>{return this.tokenMatcher(Q,X)})!==void 0}canRecoverWithSingleTokenDeletion(Z){if(!this.canTokenTypeBeDeletedInRecovery(Z))return!1;return this.tokenMatcher(this.LA(2),Z)}isInCurrentRuleReSyncSet(Z){let J=this.getCurrFollowKey(),Q=this.getFollowSetFromFollowKey(J);return gJ(Q,Z)}findReSyncTokenType(){let Z=this.flattenFollowSet(),J=this.LA(1),Q=2;while(!0){let K=MU(Z,(X)=>{return aI(J,X)});if(K!==void 0)return K;J=this.LA(Q),Q++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return cn;let Z=this.getLastExplicitRuleShortName(),J=this.getLastExplicitRuleOccurrenceIndex(),Q=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(Z),idxInCallingRule:J,inRule:this.shortRuleNameToFullName(Q)}}buildFullFollowKeyStack(){let Z=this.RULE_STACK,J=this.RULE_OCCURRENCE_STACK;return h8(Z,(Q,K)=>{if(K===0)return cn;return{ruleName:this.shortRuleNameToFullName(Q),idxInCallingRule:J[K],inRule:this.shortRuleNameToFullName(Z[K-1])}})}flattenFollowSet(){let Z=h8(this.buildFullFollowKeyStack(),(J)=>{return this.getFollowSetFromFollowKey(J)});return V7(Z)}getFollowSetFromFollowKey(Z){if(Z===cn)return[p4];let J=Z.ruleName+Z.idxInCallingRule+w$+Z.inRule;return this.resyncFollows[J]}addToResyncTokens(Z,J){if(!this.tokenMatcher(Z,p4))J.push(Z);return J}reSyncTo(Z){let J=[],Q=this.LA(1);while(this.tokenMatcher(Q,Z)===!1)Q=this.SKIP_TOKEN(),this.addToResyncTokens(Q,J);return fY(J)}attemptInRepetitionRecovery(Z,J,Q,K,X,U,Y){}getCurrentGrammarPath(Z,J){let Q=this.getHumanReadableRuleStack(),K=aZ(this.RULE_OCCURRENCE_STACK);return{ruleStack:Q,occurrenceStack:K,lastTok:Z,lastTokOccurrence:J}}getHumanReadableRuleStack(){return h8(this.RULE_STACK,(Z)=>this.shortRuleNameToFullName(Z))}}function Tk8(Z,J,Q,K,X,U,Y){let q=this.getKeyForAutomaticLookahead(K,X),W=this.firstAfterRepMap[q];if(W===void 0){let F=this.getCurrRuleFullName(),M=this.getGAstProductions()[F];W=new U(M,X).startWalking(),this.firstAfterRepMap[q]=W}let{token:G,occurrence:z,isEndOfRule:H}=W;if(this.RULE_STACK.length===1&&H&&G===void 0)G=p4,z=1;if(G===void 0||z===void 0)return;if(this.shouldInRepetitionRecoveryBeTried(G,z,Y))this.tryInRepetitionRecovery(Z,J,Q,G)}var cn,ln="InRuleRecoveryException",tf0;var sn=_(()=>{pz();bZ();yB();z4();cn={};tf0=class tf0 extends Error{constructor(Z){super(Z);this.name=ln}}});function a$(Z,J,Q){return Q|J|Z}var ef0=4,s$=8,r$=256,n$=512,QA=768,KA=1024,XA=1280,hB=1536;class jW{constructor(Z){var J;this.maxLookahead=(J=Z===null||Z===void 0?void 0:Z.maxLookahead)!==null&&J!==void 0?J:L6.maxLookahead}validate(Z){let J=this.validateNoLeftRecursion(Z.rules);if(x9(J)){let Q=this.validateEmptyOrAlternatives(Z.rules),K=this.validateAmbiguousAlternationAlternatives(Z.rules,this.maxLookahead),X=this.validateSomeNonEmptyLookaheadPath(Z.rules,this.maxLookahead);return[...J,...Q,...K,...X]}return J}validateNoLeftRecursion(Z){return M6(Z,(J)=>pn(J,J,m5))}validateEmptyOrAlternatives(Z){return M6(Z,(J)=>uf0(J,m5))}validateAmbiguousAlternationAlternatives(Z,J){return M6(Z,(Q)=>gf0(Q,J,m5))}validateSomeNonEmptyLookaheadPath(Z,J){return cf0(Z,J,m5)}buildLookaheadForAlternation(Z){return Sf0(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.hasPredicates,Z.dynamicTokensEnabled,wf0)}buildLookaheadForOptional(Z){return Tf0(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.dynamicTokensEnabled,eI(Z.prodType),$f0)}}var rn=_(()=>{bZ();_B();z4();ZA();xB()});class nn{initLooksAhead(Z){this.dynamicTokensEnabled=l8(Z,"dynamicTokensEnabled")?Z.dynamicTokensEnabled:L6.dynamicTokensEnabled,this.maxLookahead=l8(Z,"maxLookahead")?Z.maxLookahead:L6.maxLookahead,this.lookaheadStrategy=l8(Z,"lookaheadStrategy")?Z.lookaheadStrategy:new jW({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(Z){c8(Z,(J)=>{this.TRACE_INIT(`${J.name} Rule Lookahead`,()=>{let{alternation:Q,repetition:K,option:X,repetitionMandatory:U,repetitionMandatoryWithSeparator:Y,repetitionWithSeparator:q}=wk8(J);c8(Q,(W)=>{let G=W.idx===0?"":W.idx;this.TRACE_INIT(`${G4(W)}${G}`,()=>{let z=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:W.idx,rule:J,maxLookahead:W.maxLookahead||this.maxLookahead,hasPredicates:W.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),H=a$(this.fullRuleNameToShort[J.name],r$,W.idx);this.setLaFuncCache(H,z)})}),c8(K,(W)=>{this.computeLookaheadFunc(J,W.idx,QA,"Repetition",W.maxLookahead,G4(W))}),c8(X,(W)=>{this.computeLookaheadFunc(J,W.idx,n$,"Option",W.maxLookahead,G4(W))}),c8(U,(W)=>{this.computeLookaheadFunc(J,W.idx,KA,"RepetitionMandatory",W.maxLookahead,G4(W))}),c8(Y,(W)=>{this.computeLookaheadFunc(J,W.idx,hB,"RepetitionMandatoryWithSeparator",W.maxLookahead,G4(W))}),c8(q,(W)=>{this.computeLookaheadFunc(J,W.idx,XA,"RepetitionWithSeparator",W.maxLookahead,G4(W))})})})}computeLookaheadFunc(Z,J,Q,K,X,U){this.TRACE_INIT(`${U}${J===0?"":J}`,()=>{let Y=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:J,rule:Z,maxLookahead:X||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:K}),q=a$(this.fullRuleNameToShort[Z.name],Q,J);this.setLaFuncCache(q,Y)})}getKeyForAutomaticLookahead(Z,J){let Q=this.getLastExplicitRuleShortName();return a$(Q,Z,J)}getLaFuncFromCache(Z){return this.lookAheadFuncsCache.get(Z)}setLaFuncCache(Z,J){this.lookAheadFuncsCache.set(Z,J)}}function wk8(Z){o$.reset(),Z.accept(o$);let J=o$.dslMethods;return o$.reset(),J}var Zv0,o$;var Jv0=_(()=>{bZ();z4();D6();rn();Zv0=class Zv0 extends W4{constructor(){super(...arguments);this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(Z){this.dslMethods.option.push(Z)}visitRepetitionWithSeparator(Z){this.dslMethods.repetitionWithSeparator.push(Z)}visitRepetitionMandatory(Z){this.dslMethods.repetitionMandatory.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.dslMethods.repetitionMandatoryWithSeparator.push(Z)}visitRepetition(Z){this.dslMethods.repetition.push(Z)}visitAlternation(Z){this.dslMethods.alternation.push(Z)}};o$=new Zv0});function an(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.endOffset=J.endOffset;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset}function on(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.startColumn=J.startColumn,Z.startLine=J.startLine,Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine}function Qv0(Z,J,Q){if(Z.children[Q]===void 0)Z.children[Q]=[J];else Z.children[Q].push(J)}function Kv0(Z,J,Q){if(Z.children[J]===void 0)Z.children[J]=[Q];else Z.children[J].push(Q)}function tn(Z,J){Object.defineProperty(Z,"name",{enumerable:!1,configurable:!0,writable:!1,value:J})}function $k8(Z,J){let Q=rZ(Z),K=Q.length;for(let X=0;X<K;X++){let U=Q[X],Y=Z[U],q=Y.length;for(let W=0;W<q;W++){let G=Y[W];if(G.tokenTypeIdx===void 0)this[G.name](G.children,J)}}}function Xv0(Z,J){let Q=function(){};tn(Q,Z+"BaseSemantics");let K={visit:function(X,U){if(i8(X))X=X[0];if(yQ(X))return;return this[X.name](X.children,U)},validateVisitor:function(){let X=kk8(this,J);if(!x9(X)){let U=h8(X,(Y)=>Y.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${U.join(`

`).replace(/\n/g,`
	`)}`)}}};return Q.prototype=K,Q.prototype.constructor=Q,Q._RULE_NAMES=J,Q}function Uv0(Z,J,Q){let K=function(){};tn(K,Z+"BaseSemanticsWithDefaults");let X=Object.create(Q.prototype);return c8(J,(U)=>{X[U]=$k8}),K.prototype=X,K.prototype.constructor=K,K}function kk8(Z,J){return _k8(Z,J)}function _k8(Z,J){let Q=bQ(J,(X)=>{return F6(Z[X])===!1}),K=h8(Q,(X)=>{return{msg:`Missing visitor method: <${X}> on ${Z.constructor.name} CST Visitor.`,type:en.MISSING_METHOD,methodName:X}});return HU(K)}var en;var Yv0=_(()=>{bZ();(function(Z){Z[Z.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Z[Z.MISSING_METHOD=1]="MISSING_METHOD"})(en||(en={}))});class Za{initTreeBuilder(Z){if(this.CST_STACK=[],this.outputCst=Z.outputCst,this.nodeLocationTracking=l8(Z,"nodeLocationTracking")?Z.nodeLocationTracking:L6.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=_J,this.cstFinallyStateUpdate=_J,this.cstPostTerminal=_J,this.cstPostNonTerminal=_J,this.cstPostRule=_J;else if(/full/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=on,this.setNodeLocationFromNode=on,this.cstPostRule=_J,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery;else this.setNodeLocationFromToken=_J,this.setNodeLocationFromNode=_J,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular;else if(/onlyOffset/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=an,this.setNodeLocationFromNode=an,this.cstPostRule=_J,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery;else this.setNodeLocationFromToken=_J,this.setNodeLocationFromNode=_J,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular;else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=_J,this.setNodeLocationFromNode=_J,this.cstPostRule=_J,this.setInitialNodeLocation=_J;else throw Error(`Invalid <nodeLocationTracking> config option: "${Z.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(Z){Z.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(Z){Z.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(Z){Z.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(Z){let J=this.LA(1);Z.location={startOffset:J.startOffset,startLine:J.startLine,startColumn:J.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(Z){let J={name:Z,children:Object.create(null)};this.setInitialNodeLocation(J),this.CST_STACK.push(J)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(Z){let J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset,Q.endLine=J.endLine,Q.endColumn=J.endColumn;else Q.startOffset=NaN,Q.startLine=NaN,Q.startColumn=NaN}cstPostRuleOnlyOffset(Z){let J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset;else Q.startOffset=NaN}cstPostTerminal(Z,J){let Q=this.CST_STACK[this.CST_STACK.length-1];Qv0(Q,J,Z),this.setNodeLocationFromToken(Q.location,J)}cstPostNonTerminal(Z,J){let Q=this.CST_STACK[this.CST_STACK.length-1];Kv0(Q,J,Z),this.setNodeLocationFromNode(Q.location,Z.location)}getBaseCstVisitorConstructor(){if(yQ(this.baseCstVisitorConstructor)){let Z=Xv0(this.className,rZ(this.gastProductionsCache));return this.baseCstVisitorConstructor=Z,Z}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(yQ(this.baseCstVisitorWithDefaultsConstructor)){let Z=Uv0(this.className,rZ(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=Z,Z}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-1]}getPreviousExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-2]}getLastExplicitRuleOccurrenceIndex(){let Z=this.RULE_OCCURRENCE_STACK;return Z[Z.length-1]}}var qv0=_(()=>{bZ();Yv0();z4()});class Ja{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(Z){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=Z,this.tokVectorLength=Z.length}get input(){return this.tokVector}SKIP_TOKEN(){if(this.currIdx<=this.tokVector.length-2)return this.consumeToken(),this.LA(1);else return mB}LA(Z){let J=this.currIdx+Z;if(J<0||this.tokVectorLength<=J)return mB;else return this.tokVector[J]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(Z){this.currIdx=Z}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}var Wv0=_(()=>{z4()});class Qa{ACTION(Z){return Z.call(this)}consume(Z,J,Q){return this.consumeInternal(J,Z,Q)}subrule(Z,J,Q){return this.subruleInternal(J,Z,Q)}option(Z,J){return this.optionInternal(J,Z)}or(Z,J){return this.orInternal(J,Z)}many(Z,J){return this.manyInternal(Z,J)}atLeastOne(Z,J){return this.atLeastOneInternal(Z,J)}CONSUME(Z,J){return this.consumeInternal(Z,0,J)}CONSUME1(Z,J){return this.consumeInternal(Z,1,J)}CONSUME2(Z,J){return this.consumeInternal(Z,2,J)}CONSUME3(Z,J){return this.consumeInternal(Z,3,J)}CONSUME4(Z,J){return this.consumeInternal(Z,4,J)}CONSUME5(Z,J){return this.consumeInternal(Z,5,J)}CONSUME6(Z,J){return this.consumeInternal(Z,6,J)}CONSUME7(Z,J){return this.consumeInternal(Z,7,J)}CONSUME8(Z,J){return this.consumeInternal(Z,8,J)}CONSUME9(Z,J){return this.consumeInternal(Z,9,J)}SUBRULE(Z,J){return this.subruleInternal(Z,0,J)}SUBRULE1(Z,J){return this.subruleInternal(Z,1,J)}SUBRULE2(Z,J){return this.subruleInternal(Z,2,J)}SUBRULE3(Z,J){return this.subruleInternal(Z,3,J)}SUBRULE4(Z,J){return this.subruleInternal(Z,4,J)}SUBRULE5(Z,J){return this.subruleInternal(Z,5,J)}SUBRULE6(Z,J){return this.subruleInternal(Z,6,J)}SUBRULE7(Z,J){return this.subruleInternal(Z,7,J)}SUBRULE8(Z,J){return this.subruleInternal(Z,8,J)}SUBRULE9(Z,J){return this.subruleInternal(Z,9,J)}OPTION(Z){return this.optionInternal(Z,0)}OPTION1(Z){return this.optionInternal(Z,1)}OPTION2(Z){return this.optionInternal(Z,2)}OPTION3(Z){return this.optionInternal(Z,3)}OPTION4(Z){return this.optionInternal(Z,4)}OPTION5(Z){return this.optionInternal(Z,5)}OPTION6(Z){return this.optionInternal(Z,6)}OPTION7(Z){return this.optionInternal(Z,7)}OPTION8(Z){return this.optionInternal(Z,8)}OPTION9(Z){return this.optionInternal(Z,9)}OR(Z){return this.orInternal(Z,0)}OR1(Z){return this.orInternal(Z,1)}OR2(Z){return this.orInternal(Z,2)}OR3(Z){return this.orInternal(Z,3)}OR4(Z){return this.orInternal(Z,4)}OR5(Z){return this.orInternal(Z,5)}OR6(Z){return this.orInternal(Z,6)}OR7(Z){return this.orInternal(Z,7)}OR8(Z){return this.orInternal(Z,8)}OR9(Z){return this.orInternal(Z,9)}MANY(Z){this.manyInternal(0,Z)}MANY1(Z){this.manyInternal(1,Z)}MANY2(Z){this.manyInternal(2,Z)}MANY3(Z){this.manyInternal(3,Z)}MANY4(Z){this.manyInternal(4,Z)}MANY5(Z){this.manyInternal(5,Z)}MANY6(Z){this.manyInternal(6,Z)}MANY7(Z){this.manyInternal(7,Z)}MANY8(Z){this.manyInternal(8,Z)}MANY9(Z){this.manyInternal(9,Z)}MANY_SEP(Z){this.manySepFirstInternal(0,Z)}MANY_SEP1(Z){this.manySepFirstInternal(1,Z)}MANY_SEP2(Z){this.manySepFirstInternal(2,Z)}MANY_SEP3(Z){this.manySepFirstInternal(3,Z)}MANY_SEP4(Z){this.manySepFirstInternal(4,Z)}MANY_SEP5(Z){this.manySepFirstInternal(5,Z)}MANY_SEP6(Z){this.manySepFirstInternal(6,Z)}MANY_SEP7(Z){this.manySepFirstInternal(7,Z)}MANY_SEP8(Z){this.manySepFirstInternal(8,Z)}MANY_SEP9(Z){this.manySepFirstInternal(9,Z)}AT_LEAST_ONE(Z){this.atLeastOneInternal(0,Z)}AT_LEAST_ONE1(Z){return this.atLeastOneInternal(1,Z)}AT_LEAST_ONE2(Z){this.atLeastOneInternal(2,Z)}AT_LEAST_ONE3(Z){this.atLeastOneInternal(3,Z)}AT_LEAST_ONE4(Z){this.atLeastOneInternal(4,Z)}AT_LEAST_ONE5(Z){this.atLeastOneInternal(5,Z)}AT_LEAST_ONE6(Z){this.atLeastOneInternal(6,Z)}AT_LEAST_ONE7(Z){this.atLeastOneInternal(7,Z)}AT_LEAST_ONE8(Z){this.atLeastOneInternal(8,Z)}AT_LEAST_ONE9(Z){this.atLeastOneInternal(9,Z)}AT_LEAST_ONE_SEP(Z){this.atLeastOneSepFirstInternal(0,Z)}AT_LEAST_ONE_SEP1(Z){this.atLeastOneSepFirstInternal(1,Z)}AT_LEAST_ONE_SEP2(Z){this.atLeastOneSepFirstInternal(2,Z)}AT_LEAST_ONE_SEP3(Z){this.atLeastOneSepFirstInternal(3,Z)}AT_LEAST_ONE_SEP4(Z){this.atLeastOneSepFirstInternal(4,Z)}AT_LEAST_ONE_SEP5(Z){this.atLeastOneSepFirstInternal(5,Z)}AT_LEAST_ONE_SEP6(Z){this.atLeastOneSepFirstInternal(6,Z)}AT_LEAST_ONE_SEP7(Z){this.atLeastOneSepFirstInternal(7,Z)}AT_LEAST_ONE_SEP8(Z){this.atLeastOneSepFirstInternal(8,Z)}AT_LEAST_ONE_SEP9(Z){this.atLeastOneSepFirstInternal(9,Z)}RULE(Z,J,Q=uB){if(gJ(this.definedRulesNames,Z)){let U={message:m5.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:this.className}),type:P7.DUPLICATE_RULE_NAME,ruleName:Z};this.definitionErrors.push(U)}this.definedRulesNames.push(Z);let K=this.defineRule(Z,J,Q);return this[Z]=K,K}OVERRIDE_RULE(Z,J,Q=uB){let K=mf0(Z,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(K);let X=this.defineRule(Z,J,Q);return this[Z]=X,X}BACKTRACK(Z,J){return function(){this.isBackTrackingStack.push(1);let Q=this.saveRecogState();try{return Z.apply(this,J),!0}catch(K){if(PW(K))return!1;else throw K}finally{this.reloadRecogState(Q),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return C$(xZ(this.gastProductionsCache))}}var Gv0=_(()=>{bZ();yB();z4();_B();ZA();D6()});class Ka{initRecognizerEngine(Z,J){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=$B,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},l8(J,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(i8(Z)){if(x9(Z))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof Z[0].startOffset==="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(i8(Z))this.tokensMap=z7(Z,(X,U)=>{return X[U.name]=U,X},{});else if(l8(Z,"modes")&&K4(V7(xZ(Z.modes)),Ff0)){let X=V7(xZ(Z.modes)),U=WB(X);this.tokensMap=z7(U,(Y,q)=>{return Y[q.name]=q,Y},{})}else if(kJ(Z))this.tokensMap=aZ(Z);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=p4;let Q=l8(Z,"modes")?V7(xZ(Z.modes)):xZ(Z),K=K4(Q,(X)=>x9(X.categoryMatches));this.tokenMatcher=K?$B:bY,yY(xZ(this.tokensMap))}defineRule(Z,J,Q){if(this.selfAnalysisDone)throw Error(`Grammar rule <${Z}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let K=l8(Q,"resyncEnabled")?Q.resyncEnabled:uB.resyncEnabled,X=l8(Q,"recoveryValueFunc")?Q.recoveryValueFunc:uB.recoveryValueFunc,U=this.ruleShortNameIdx<<ef0+s$;this.ruleShortNameIdx++,this.shortRuleNameToFull[U]=Z,this.fullRuleNameToShort[Z]=U;let Y;if(this.outputCst===!0)Y=function(...G){try{this.ruleInvocationStateUpdate(U,Z,this.subruleIdx),J.apply(this,G);let z=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(z),z}catch(z){return this.invokeRuleCatch(z,K,X)}finally{this.ruleFinallyStateUpdate()}};else Y=function(...G){try{return this.ruleInvocationStateUpdate(U,Z,this.subruleIdx),J.apply(this,G)}catch(z){return this.invokeRuleCatch(z,K,X)}finally{this.ruleFinallyStateUpdate()}};return Object.assign(Y,{ruleName:Z,originalGrammarAction:J})}invokeRuleCatch(Z,J,Q){let K=this.RULE_STACK.length===1,X=J&&!this.isBackTracking()&&this.recoveryEnabled;if(PW(Z)){let U=Z;if(X){let Y=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(Y))if(U.resyncedTokens=this.reSyncTo(Y),this.outputCst){let q=this.CST_STACK[this.CST_STACK.length-1];return q.recoveredNode=!0,q}else return Q(Z);else{if(this.outputCst){let q=this.CST_STACK[this.CST_STACK.length-1];q.recoveredNode=!0,U.partialCstResult=q}throw U}}else if(K)return this.moveToTerminatedState(),Q(Z);else throw U}else throw Z}optionInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(n$,J);return this.optionInternalLogic(Z,J,Q)}optionInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof Z!=="function"){X=Z.DEF;let U=Z.GATE;if(U!==void 0){let Y=K;K=()=>{return U.call(this)&&Y.call(this)}}}else X=Z;if(K.call(this)===!0)return X.call(this);return}atLeastOneInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(KA,Z);return this.atLeastOneInternalLogic(Z,J,Q)}atLeastOneInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof J!=="function"){X=J.DEF;let U=J.GATE;if(U!==void 0){let Y=K;K=()=>{return U.call(this)&&Y.call(this)}}}else X=J;if(K.call(this)===!0){let U=this.doSingleRepetition(X);while(K.call(this)===!0&&U===!0)U=this.doSingleRepetition(X)}else throw this.raiseEarlyExitException(Z,AJ.REPETITION_MANDATORY,J.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[Z,J],K,KA,Z,mn)}atLeastOneSepFirstInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(hB,Z);this.atLeastOneSepFirstInternalLogic(Z,J,Q)}atLeastOneSepFirstInternalLogic(Z,J,Q){let{DEF:K,SEP:X}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),X)};while(this.tokenMatcher(this.LA(1),X)===!0)this.CONSUME(X),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,X,Y,K,y$],Y,hB,Z,y$)}else throw this.raiseEarlyExitException(Z,AJ.REPETITION_MANDATORY_WITH_SEPARATOR,J.ERR_MSG)}manyInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(QA,Z);return this.manyInternalLogic(Z,J,Q)}manyInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof J!=="function"){X=J.DEF;let Y=J.GATE;if(Y!==void 0){let q=K;K=()=>{return Y.call(this)&&q.call(this)}}}else X=J;let U=!0;while(K.call(this)===!0&&U===!0)U=this.doSingleRepetition(X);this.attemptInRepetitionRecovery(this.manyInternal,[Z,J],K,QA,Z,hn,U)}manySepFirstInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(XA,Z);this.manySepFirstInternalLogic(Z,J,Q)}manySepFirstInternalLogic(Z,J,Q){let{DEF:K,SEP:X}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),X)};while(this.tokenMatcher(this.LA(1),X)===!0)this.CONSUME(X),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,X,Y,K,b$],Y,XA,Z,b$)}}repetitionSepSecondInternal(Z,J,Q,K,X){while(Q())this.CONSUME(J),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,J,Q,K,X],Q,hB,Z,X)}doSingleRepetition(Z){let J=this.getLexerPosition();return Z.call(this),this.getLexerPosition()>J}orInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(r$,J),K=i8(Z)?Z:Z.DEF,U=this.getLaFuncFromCache(Q).call(this,K);if(U!==void 0)return K[U].ALT.call(this);this.raiseNoAltException(J,Z.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let Z=this.LA(1),J=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new d$(J,Z))}}subruleInternal(Z,J,Q){let K;try{let X=Q!==void 0?Q.ARGS:void 0;return this.subruleIdx=J,K=Z.apply(this,X),this.cstPostNonTerminal(K,Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.ruleName),K}catch(X){throw this.subruleInternalError(X,Q,Z.ruleName)}}subruleInternalError(Z,J,Q){if(PW(Z)&&Z.partialCstResult!==void 0)this.cstPostNonTerminal(Z.partialCstResult,J!==void 0&&J.LABEL!==void 0?J.LABEL:Q),delete Z.partialCstResult;throw Z}consumeInternal(Z,J,Q){let K;try{let X=this.LA(1);if(this.tokenMatcher(X,Z)===!0)this.consumeToken(),K=X;else this.consumeInternalError(Z,X,Q)}catch(X){K=this.consumeInternalRecovery(Z,J,X)}return this.cstPostTerminal(Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.name,K),K}consumeInternalError(Z,J,Q){let K,X=this.LA(0);if(Q!==void 0&&Q.ERR_MSG)K=Q.ERR_MSG;else K=this.errorMessageProvider.buildMismatchTokenMessage({expected:Z,actual:J,previous:X,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new bB(K,J,X))}consumeInternalRecovery(Z,J,Q){if(this.recoveryEnabled&&Q.name==="MismatchedTokenException"&&!this.isBackTracking()){let K=this.getFollowsForInRuleRecovery(Z,J);try{return this.tryInRuleRecovery(Z,K)}catch(X){if(X.name===ln)throw Q;else throw X}}else throw Q}saveRecogState(){let Z=this.errors,J=aZ(this.RULE_STACK);return{errors:Z,lexerState:this.exportLexerState(),RULE_STACK:J,CST_STACK:this.CST_STACK}}reloadRecogState(Z){this.errors=Z.errors,this.importLexerState(Z.lexerState),this.RULE_STACK=Z.RULE_STACK}ruleInvocationStateUpdate(Z,J,Q){this.RULE_OCCURRENCE_STACK.push(Q),this.RULE_STACK.push(Z),this.cstInvocationStateUpdate(J)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let Z=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[Z]}shortRuleNameToFullName(Z){return this.shortRuleNameToFull[Z]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),p4)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}var zv0=_(()=>{bZ();yB();xB();tI();z4();sn();pz();gz()});class Xa{initErrorHandler(Z){this._errors=[],this.errorMessageProvider=l8(Z,"errorMessageProvider")?Z.errorMessageProvider:L6.errorMessageProvider}SAVE_ERROR(Z){if(PW(Z))return Z.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:aZ(this.RULE_OCCURRENCE_STACK)},this._errors.push(Z),Z;else throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return aZ(this._errors)}set errors(Z){this._errors=Z}raiseEarlyExitException(Z,J,Q){let K=this.getCurrRuleFullName(),X=this.getGAstProductions()[K],Y=vB(Z,X,J,this.maxLookahead)[0],q=[];for(let G=1;G<=this.maxLookahead;G++)q.push(this.LA(G));let W=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:Y,actual:q,previous:this.LA(0),customUserDescription:Q,ruleName:K});throw this.SAVE_ERROR(new i$(W,this.LA(1),this.LA(0)))}raiseNoAltException(Z,J){let Q=this.getCurrRuleFullName(),K=this.getGAstProductions()[Q],X=fB(Z,K,this.maxLookahead),U=[];for(let W=1;W<=this.maxLookahead;W++)U.push(this.LA(W));let Y=this.LA(0),q=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:X,actual:U,previous:Y,customUserDescription:J,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new l$(q,this.LA(1),Y))}}var Hv0=_(()=>{yB();bZ();xB();z4()});class Ua{initContentAssist(){}computeContentAssist(Z,J){let Q=this.gastProductionsCache[Z];if(yQ(Q))throw Error(`Rule ->${Z}<- does not exist in this grammar.`);return m$([Q],J,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(Z){let J=u7(Z.ruleStack),K=this.getGAstProductions()[J];return new yn(K,Z).startWalking()}}var Fv0=_(()=>{tI();bZ()});class Ya{initGastRecorder(Z){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let Z=0;Z<10;Z++){let J=Z>0?Z:"";this[`CONSUME${J}`]=function(Q,K){return this.consumeInternalRecord(Q,Z,K)},this[`SUBRULE${J}`]=function(Q,K){return this.subruleInternalRecord(Q,Z,K)},this[`OPTION${J}`]=function(Q){return this.optionInternalRecord(Q,Z)},this[`OR${J}`]=function(Q){return this.orInternalRecord(Q,Z)},this[`MANY${J}`]=function(Q){this.manyInternalRecord(Z,Q)},this[`MANY_SEP${J}`]=function(Q){this.manySepFirstInternalRecord(Z,Q)},this[`AT_LEAST_ONE${J}`]=function(Q){this.atLeastOneInternalRecord(Z,Q)},this[`AT_LEAST_ONE_SEP${J}`]=function(Q){this.atLeastOneSepFirstInternalRecord(Z,Q)}}this.consume=function(Z,J,Q){return this.consumeInternalRecord(J,Z,Q)},this.subrule=function(Z,J,Q){return this.subruleInternalRecord(J,Z,Q)},this.option=function(Z,J){return this.optionInternalRecord(J,Z)},this.or=function(Z,J){return this.orInternalRecord(J,Z)},this.many=function(Z,J){this.manyInternalRecord(Z,J)},this.atLeastOne=function(Z,J){this.atLeastOneInternalRecord(Z,J)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let Z=this;for(let J=0;J<10;J++){let Q=J>0?J:"";delete Z[`CONSUME${Q}`],delete Z[`SUBRULE${Q}`],delete Z[`OPTION${Q}`],delete Z[`OR${Q}`],delete Z[`MANY${Q}`],delete Z[`MANY_SEP${Q}`],delete Z[`AT_LEAST_ONE${Q}`],delete Z[`AT_LEAST_ONE_SEP${Q}`]}delete Z.consume,delete Z.subrule,delete Z.option,delete Z.or,delete Z.many,delete Z.atLeastOne,delete Z.ACTION,delete Z.BACKTRACK,delete Z.LA})}ACTION_RECORD(Z){}BACKTRACK_RECORD(Z,J){return()=>!0}LA_RECORD(Z){return mB}topLevelRuleRecord(Z,J){try{let Q=new q4({definition:[],name:Z});return Q.name=Z,this.recordingProdStack.push(Q),J.call(this),this.recordingProdStack.pop(),Q}catch(Q){if(Q.KNOWN_RECORDER_ERROR!==!0)try{Q.message=Q.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(K){throw Q}throw Q}}optionInternalRecord(Z,J){return UA.call(this,wZ,Z,J)}atLeastOneInternalRecord(Z,J){UA.call(this,WJ,J,Z)}atLeastOneSepFirstInternalRecord(Z,J){UA.call(this,GJ,J,Z,Mv0)}manyInternalRecord(Z,J){UA.call(this,QZ,J,Z)}manySepFirstInternalRecord(Z,J){UA.call(this,oZ,J,Z,Mv0)}orInternalRecord(Z,J){return vk8.call(this,Z,J)}subruleInternalRecord(Z,J,Q){if(t$(J),!Z||l8(Z,"ruleName")===!1){let Y=Error(`<SUBRULE${Ov0(J)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}let K=FU(this.recordingProdStack),X=Z.ruleName,U=new TZ({idx:J,nonTerminalName:X,label:Q===null||Q===void 0?void 0:Q.LABEL,referencedRule:void 0});return K.definition.push(U),this.outputCst?fk8:e$}consumeInternalRecord(Z,J,Q){if(t$(J),!vn(Z)){let U=Error(`<CONSUME${Ov0(J)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw U.KNOWN_RECORDER_ERROR=!0,U}let K=FU(this.recordingProdStack),X=new b9({idx:J,terminalType:Z,label:Q===null||Q===void 0?void 0:Q.LABEL});return K.definition.push(X),Dv0}}function UA(Z,J,Q,K=!1){t$(Q);let X=FU(this.recordingProdStack),U=F6(J)?J:J.DEF,Y=new Z({definition:[],idx:Q});if(K)Y.separator=J.SEP;if(l8(J,"MAX_LOOKAHEAD"))Y.maxLookahead=J.MAX_LOOKAHEAD;return this.recordingProdStack.push(Y),U.call(this),X.definition.push(Y),this.recordingProdStack.pop(),e$}function vk8(Z,J){t$(J);let Q=FU(this.recordingProdStack),K=i8(Z)===!1,X=K===!1?Z:Z.DEF,U=new tZ({definition:[],idx:J,ignoreAmbiguities:K&&Z.IGNORE_AMBIGUITIES===!0});if(l8(Z,"MAX_LOOKAHEAD"))U.maxLookahead=Z.MAX_LOOKAHEAD;let Y=pr(X,(q)=>F6(q.GATE));return U.hasPredicates=Y,Q.definition.push(U),c8(X,(q)=>{let W=new qJ({definition:[]});if(U.definition.push(W),l8(q,"IGNORE_AMBIGUITIES"))W.ignoreAmbiguities=q.IGNORE_AMBIGUITIES;else if(l8(q,"GATE"))W.ignoreAmbiguities=!0;this.recordingProdStack.push(W),q.ALT.call(this),this.recordingProdStack.pop()}),e$}function Ov0(Z){return Z===0?"":`${Z}`}function t$(Z){if(Z<0||Z>Bv0){let J=Error(`Invalid DSL Method idx value: <${Z}>
	Idx value must be a none negative value smaller than ${Bv0+1}`);throw J.KNOWN_RECORDER_ERROR=!0,J}}var e$,Mv0=!0,Bv0,Rv0,Dv0,fk8;var Lv0=_(()=>{bZ();D6();rI();gz();pz();z4();e$={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(e$);Bv0=Math.pow(2,s$)-1,Rv0=VW({name:"RECORDING_PHASE_TOKEN",pattern:fJ.NA});yY([Rv0]);Dv0=mY(Rv0,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Dv0);fk8={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}}});class qa{initPerformanceTracer(Z){if(l8(Z,"traceInitPerf")){let J=Z.traceInitPerf,Q=typeof J==="number";this.traceInitMaxIdent=Q?J:1/0,this.traceInitPerf=Q?J>0:J}else this.traceInitMaxIdent=0,this.traceInitPerf=L6.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(Z,J){if(this.traceInitPerf===!0){this.traceInitIndent++;let Q=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${Q}--> <${Z}>`);let{time:K,value:X}=$I(J),U=K>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)U(`${Q}<-- <${Z}> time: ${K}ms`);return this.traceInitIndent--,X}else return J()}}var Iv0=_(()=>{bZ();zB();z4()});function Av0(Z,J){J.forEach((Q)=>{let K=Q.prototype;Object.getOwnPropertyNames(K).forEach((X)=>{if(X==="constructor")return;let U=Object.getOwnPropertyDescriptor(K,X);if(U&&(U.get||U.set))Object.defineProperty(Z.prototype,X,U);else Z.prototype[X]=Q.prototype[X]})})}function Zk(Z=void 0){return function(){return Z}}class YA{static performSelfAnalysis(Z){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let Z;this.selfAnalysisDone=!0;let J=this.className;this.TRACE_INIT("toFastProps",()=>{kI(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),c8(this.definedRulesNames,(K)=>{let U=this[K].originalGrammarAction,Y;this.TRACE_INIT(`${K} Rule`,()=>{Y=this.topLevelRuleRecord(K,U)}),this.gastProductionsCache[K]=Y})}finally{this.disableRecording()}});let Q=[];if(this.TRACE_INIT("Grammar Resolving",()=>{Q=lf0({rules:xZ(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(Q)}),this.TRACE_INIT("Grammar Validations",()=>{if(x9(Q)&&this.skipValidations===!1){let K=df0({rules:xZ(this.gastProductionsCache),tokenTypes:xZ(this.tokensMap),errMsgProvider:m5,grammarName:J}),X=xf0({lookaheadStrategy:this.lookaheadStrategy,rules:xZ(this.gastProductionsCache),tokenTypes:xZ(this.tokensMap),grammarName:J});this.definitionErrors=this.definitionErrors.concat(K,X)}}),x9(this.definitionErrors)){if(this.recoveryEnabled)this.TRACE_INIT("computeAllProdsFollows",()=>{let K=c_0(xZ(this.gastProductionsCache));this.resyncFollows=K});this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var K,X;(X=(K=this.lookaheadStrategy).initialize)===null||X===void 0||X.call(K,{rules:xZ(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(xZ(this.gastProductionsCache))})}if(!YA.DEFER_DEFINITION_ERRORS_HANDLING&&!x9(this.definitionErrors))throw Z=h8(this.definitionErrors,(K)=>K.message),Error(`Parser Definition Errors detected:
 ${Z.join(`
-------------------------------
`)}`)})}constructor(Z,J){this.definitionErrors=[],this.selfAnalysisDone=!1;let Q=this;if(Q.initErrorHandler(J),Q.initLexerAdapter(),Q.initLooksAhead(J),Q.initRecognizerEngine(Z,J),Q.initRecoverable(J),Q.initTreeBuilder(J),Q.initContentAssist(),Q.initGastRecorder(J),Q.initPerformanceTracer(J),l8(J,"ignoredIssues"))throw Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=l8(J,"skipValidations")?J.skipValidations:L6.skipValidations}}var mB,L6,uB,P7,Jk;var z4=_(()=>{bZ();zB();l_0();pz();_B();if0();sn();Jv0();qv0();Wv0();Gv0();zv0();Hv0();Fv0();Lv0();Iv0();ZA();mB=mY(p4,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(mB);L6=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:uY,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),uB=Object.freeze({recoveryValueFunc:()=>{return},resyncEnabled:!0});(function(Z){Z[Z.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Z[Z.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Z[Z.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Z[Z.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Z[Z.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Z[Z.LEFT_RECURSION=5]="LEFT_RECURSION",Z[Z.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Z[Z.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Z[Z.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Z[Z.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Z[Z.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Z[Z.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Z[Z.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Z[Z.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(P7||(P7={}));YA.DEFER_DEFINITION_ERRORS_HANDLING=!1;Av0(YA,[dn,nn,Za,Ja,Ka,Qa,Xa,Ua,Ya,qa]);Jk=class Jk extends YA{constructor(Z,J=L6){let Q=aZ(J);Q.outputCst=!1;super(Z,Q)}}});var Nv0=_(()=>{D6()});var Ev0=()=>{};var Vv0=_(()=>{Nv0();Ev0()});var Pv0=()=>{};var CW=_(()=>{z4();rI();pz();xB();rn();_B();yB();xn();D6();D6();Vv0();Pv0()});function cz(Z,J,Q){return`${Z.name}_${J}_${Q}`}class Qk{constructor(Z){this.target=Z}isEpsilon(){return!1}}function Tv0(Z){let J={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};gk8(J,Z);let Q=Z.length;for(let K=0;K<Q;K++){let X=Z[K],U=lz(J,X,X);if(U===void 0)continue;tk8(J,X,U)}return J}function gk8(Z,J){let Q=J.length;for(let K=0;K<Q;K++){let X=J[K],U=p7(Z,X,void 0,{type:bk8}),Y=p7(Z,X,void 0,{type:gB});U.stop=Y,Z.ruleToStartState.set(X,U),Z.ruleToStopState.set(X,Y)}}function wv0(Z,J,Q){if(Q instanceof b9)return Wa(Z,J,Q.terminalType,Q);else if(Q instanceof TZ)return ok8(Z,J,Q);else if(Q instanceof tZ)return ik8(Z,J,Q);else if(Q instanceof wZ)return sk8(Z,J,Q);else if(Q instanceof QZ)return pk8(Z,J,Q);else if(Q instanceof oZ)return ck8(Z,J,Q);else if(Q instanceof WJ)return lk8(Z,J,Q);else if(Q instanceof GJ)return dk8(Z,J,Q);else return lz(Z,J,Q)}function pk8(Z,J,Q){let K=p7(Z,J,Q,{type:Cv0});TW(Z,K);let X=pB(Z,J,K,Q,lz(Z,J,Q));return kv0(Z,J,Q,X)}function ck8(Z,J,Q){let K=p7(Z,J,Q,{type:Cv0});TW(Z,K);let X=pB(Z,J,K,Q,lz(Z,J,Q)),U=Wa(Z,J,Q.separator,Q);return kv0(Z,J,Q,X,U)}function lk8(Z,J,Q){let K=p7(Z,J,Q,{type:jv0});TW(Z,K);let X=pB(Z,J,K,Q,lz(Z,J,Q));return $v0(Z,J,Q,X)}function dk8(Z,J,Q){let K=p7(Z,J,Q,{type:jv0});TW(Z,K);let X=pB(Z,J,K,Q,lz(Z,J,Q)),U=Wa(Z,J,Q.separator,Q);return $v0(Z,J,Q,X,U)}function ik8(Z,J,Q){let K=p7(Z,J,Q,{type:SW});TW(Z,K);let X=I9(Q.definition,(Y)=>wv0(Z,J,Y));return pB(Z,J,K,Q,...X)}function sk8(Z,J,Q){let K=p7(Z,J,Q,{type:SW});TW(Z,K);let X=pB(Z,J,K,Q,lz(Z,J,Q));return rk8(Z,J,Q,X)}function lz(Z,J,Q){let K=GQ(I9(Q.definition,(X)=>wv0(Z,J,X)),(X)=>X!==void 0);if(K.length===1)return K[0];else if(K.length===0)return;else return ak8(Z,K)}function $v0(Z,J,Q,K,X){let{left:U,right:Y}=K,q=p7(Z,J,Q,{type:uk8});TW(Z,q);let W=p7(Z,J,Q,{type:Sv0});if(U.loopback=q,W.loopback=q,Z.decisionMap[cz(J,X?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",Q.idx)]=q,H7(Y,q),X===void 0)H7(q,U),H7(q,W);else H7(q,W),H7(q,X.left),H7(X.right,U);return{left:U,right:W}}function kv0(Z,J,Q,K,X){let{left:U,right:Y}=K,q=p7(Z,J,Q,{type:mk8});TW(Z,q);let W=p7(Z,J,Q,{type:Sv0}),G=p7(Z,J,Q,{type:hk8});if(q.loopback=G,W.loopback=G,H7(q,U),H7(q,W),H7(Y,G),X!==void 0)H7(G,W),H7(G,X.left),H7(X.right,U);else H7(G,q);return Z.decisionMap[cz(J,X?"RepetitionWithSeparator":"Repetition",Q.idx)]=q,{left:q,right:W}}function rk8(Z,J,Q,K){let{left:X,right:U}=K;return H7(X,U),Z.decisionMap[cz(J,"Option",Q.idx)]=X,K}function TW(Z,J){return Z.decisionStates.push(J),J.decision=Z.decisionStates.length-1,J.decision}function pB(Z,J,Q,K,...X){let U=p7(Z,J,K,{type:yk8,start:Q});Q.end=U;for(let q of X)if(q!==void 0)H7(Q,q.left),H7(q.right,U);else H7(Q,U);let Y={left:Q,right:U};return Z.decisionMap[cz(J,nk8(K),K.idx)]=Q,Y}function nk8(Z){if(Z instanceof tZ)return"Alternation";else if(Z instanceof wZ)return"Option";else if(Z instanceof QZ)return"Repetition";else if(Z instanceof oZ)return"RepetitionWithSeparator";else if(Z instanceof WJ)return"RepetitionMandatory";else if(Z instanceof GJ)return"RepetitionMandatoryWithSeparator";else throw Error("Invalid production type encountered")}function ak8(Z,J){let Q=J.length;for(let U=0;U<Q-1;U++){let Y=J[U],q;if(Y.left.transitions.length===1)q=Y.left.transitions[0];let W=q instanceof WA,G=q,z=J[U+1].left;if(Y.left.type===SW&&Y.right.type===SW&&q!==void 0&&(W&&G.followState===Y.right||q.target===Y.right)){if(W)G.followState=z;else q.target=z;ek8(Z,Y.right)}else H7(Y.right,z)}let K=J[0],X=J[Q-1];return{left:K.left,right:X.right}}function Wa(Z,J,Q,K){let X=p7(Z,J,K,{type:SW}),U=p7(Z,J,K,{type:SW});return Ga(X,new qA(U,Q)),{left:X,right:U}}function ok8(Z,J,Q){let K=Q.referencedRule,X=Z.ruleToStartState.get(K),U=p7(Z,J,Q,{type:SW}),Y=p7(Z,J,Q,{type:SW}),q=new WA(X,K,Y);return Ga(U,q),{left:U,right:Y}}function tk8(Z,J,Q){let K=Z.ruleToStartState.get(J);H7(K,Q.left);let X=Z.ruleToStopState.get(J);return H7(Q.right,X),{left:K,right:X}}function H7(Z,J){let Q=new Kk(J);Ga(Z,Q)}function p7(Z,J,Q,K){let X=Object.assign({atn:Z,production:Q,epsilonOnlyTransitions:!1,rule:J,transitions:[],nextTokenWithinRule:[],stateNumber:Z.states.length},K);return Z.states.push(X),X}function Ga(Z,J){if(Z.transitions.length===0)Z.epsilonOnlyTransitions=J.isEpsilon();Z.transitions.push(J)}function ek8(Z,J){Z.states.splice(Z.states.indexOf(J),1)}var SW=1,bk8=2,jv0=4,Cv0=5,gB=7,yk8=8,hk8=9,mk8=10,uk8=11,Sv0=12,qA,Kk,WA;var _v0=_(()=>{XF();yc();CW();qA=class qA extends Qk{constructor(Z,J){super(Z);this.tokenType=J}};Kk=class Kk extends Qk{constructor(Z){super(Z)}isEpsilon(){return!0}};WA=class WA extends Qk{constructor(Z,J,Q){super(Z);this.rule=J,this.followState=Q}isEpsilon(){return!0}}});class zA{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(Z){let J=za(Z);if(!(J in this.map))this.map[J]=this.configs.length,this.configs.push(Z)}get elements(){return this.configs}get alts(){return I9(this.configs,(Z)=>Z.alt)}get key(){let Z="";for(let J in this.map)Z+=J+":";return Z}}function za(Z,J=!0){return`${J?`a${Z.alt}`:""}s${Z.state.stateNumber}:${Z.stack.map((Q)=>Q.stateNumber.toString()).join("_")}`}var GA;var fv0=_(()=>{XF();GA={}});function Z_8(Z,J){let Q={};return(K)=>{let X=K.toString(),U=Q[X];if(U!==void 0)return U;else return U={atnStartState:Z,decision:J,states:{}},Q[X]=U,U}}class Fa{constructor(){this.predicates=[]}is(Z){return Z>=this.predicates.length||this.predicates[Z]}set(Z,J){this.predicates[Z]=J}toString(){let Z="",J=this.predicates.length;for(let Q=0;Q<J;Q++)Z+=this.predicates[Q]===!0?"1":"0";return Z}}function xv0(Z,J=!0){let Q=new Set;for(let K of Z){let X=new Set;for(let U of K){if(U===void 0)if(J)break;else return!1;let Y=[U.tokenTypeIdx].concat(U.categoryMatches);for(let q of Y)if(Q.has(q)){if(!X.has(q))return!1}else Q.add(q),X.add(q)}}return!0}function J_8(Z){let J=Z.decisionStates.length,Q=Array(J);for(let K=0;K<J;K++)Q[K]=Z_8(Z.decisionStates[K],K);return Q}function Ha(Z,J,Q,K){let X=Z[J](Q),U=X.start;if(U===void 0){let q=F_8(X.atnStartState);U=hv0(X,yv0(q)),X.start=U}return Q_8.apply(this,[X,U,Q,K])}function Q_8(Z,J,Q,K){let X=J,U=1,Y=[],q=this.LA(U++);while(!0){let W=W_8(X,q);if(W===void 0)W=K_8.apply(this,[Z,X,q,U,Q,K]);if(W===GA)return q_8(Y,X,q);if(W.isAcceptState===!0)return W.prediction;X=W,Y.push(q),q=this.LA(U++)}}function K_8(Z,J,Q,K,X,U){let Y=G_8(J.configs,Q,X);if(Y.size===0)return bv0(Z,J,Q,GA),GA;let q=yv0(Y),W=H_8(Y,X);if(W!==void 0)q.isAcceptState=!0,q.prediction=W,q.configs.uniqueAlt=W;else if(R_8(Y)){let G=N5(Y.alts);q.isAcceptState=!0,q.prediction=G,q.configs.uniqueAlt=G,X_8.apply(this,[Z,K,Y.alts,U])}return q=bv0(Z,J,Q,q),q}function X_8(Z,J,Q,K){let X=[];for(let G=1;G<=J;G++)X.push(this.LA(G).tokenType);let U=Z.atnStartState,Y=U.rule,q=U.production,W=U_8({topLevelRule:Y,ambiguityIndices:Q,production:q,prefixPath:X});K(W)}function U_8(Z){let J=I9(Z.prefixPath,(X)=>hY(X)).join(", "),Q=Z.production.idx===0?"":Z.production.idx,K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(", ")}> in <${Y_8(Z.production)}${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
`;return K=K+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,K}function Y_8(Z){if(Z instanceof TZ)return"SUBRULE";else if(Z instanceof wZ)return"OPTION";else if(Z instanceof tZ)return"OR";else if(Z instanceof WJ)return"AT_LEAST_ONE";else if(Z instanceof GJ)return"AT_LEAST_ONE_SEP";else if(Z instanceof oZ)return"MANY_SEP";else if(Z instanceof QZ)return"MANY";else if(Z instanceof b9)return"CONSUME";else throw Error("non exhaustive match")}function q_8(Z,J,Q){let K=NO0(J.configs.elements,(U)=>U.state.transitions),X=jR0(K.filter((U)=>U instanceof qA).map((U)=>U.tokenType),(U)=>U.tokenTypeIdx);return{actualToken:Q,possibleTokenTypes:X,tokenPath:Z}}function W_8(Z,J){return Z.edges[J.tokenTypeIdx]}function G_8(Z,J,Q){let K=new zA,X=[];for(let Y of Z.elements){if(Q.is(Y.alt)===!1)continue;if(Y.state.type===gB){X.push(Y);continue}let q=Y.state.transitions.length;for(let W=0;W<q;W++){let G=Y.state.transitions[W],z=z_8(G,J);if(z!==void 0)K.add({state:z,alt:Y.alt,stack:Y.stack})}}let U;if(X.length===0&&K.size===1)U=K;if(U===void 0){U=new zA;for(let Y of K.elements)Xk(Y,U)}if(X.length>0&&!B_8(U))for(let Y of X)U.add(Y);return U}function z_8(Z,J){if(Z instanceof qA&&aI(J,Z.tokenType))return Z.target;return}function H_8(Z,J){let Q;for(let K of Z.elements)if(J.is(K.alt)===!0){if(Q===void 0)Q=K.alt;else if(Q!==K.alt)return}return Q}function yv0(Z){return{configs:Z,edges:{},isAcceptState:!1,prediction:-1}}function bv0(Z,J,Q,K){return K=hv0(Z,K),J.edges[Q.tokenTypeIdx]=K,K}function hv0(Z,J){if(J===GA)return J;let Q=J.configs.key,K=Z.states[Q];if(K!==void 0)return K;return J.configs.finalize(),Z.states[Q]=J,J}function F_8(Z){let J=new zA,Q=Z.transitions.length;for(let K=0;K<Q;K++){let U={state:Z.transitions[K].target,alt:K,stack:[]};Xk(U,J)}return J}function Xk(Z,J){let Q=Z.state;if(Q.type===gB){if(Z.stack.length>0){let X=[...Z.stack],Y={state:X.pop(),alt:Z.alt,stack:X};Xk(Y,J)}else J.add(Z);return}if(!Q.epsilonOnlyTransitions)J.add(Z);let K=Q.transitions.length;for(let X=0;X<K;X++){let U=Q.transitions[X],Y=M_8(Z,U);if(Y!==void 0)Xk(Y,J)}}function M_8(Z,J){if(J instanceof Kk)return{state:J.target,alt:Z.alt,stack:Z.stack};else if(J instanceof WA){let Q=[...Z.stack,J.followState];return{state:J.target,alt:Z.alt,stack:Q}}return}function B_8(Z){for(let J of Z.elements)if(J.state.type===gB)return!0;return!1}function O_8(Z){for(let J of Z.elements)if(J.state.type!==gB)return!1;return!0}function R_8(Z){if(O_8(Z))return!0;let J=D_8(Z.elements);return L_8(J)&&!I_8(J)}function D_8(Z){let J=new Map;for(let Q of Z){let K=za(Q,!1),X=J.get(K);if(X===void 0)X={},J.set(K,X);X[Q.alt]=!0}return J}function L_8(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length>1)return!0;return!1}function I_8(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length===1)return!0;return!1}var vv0,Uk;var mv0=_(()=>{CW();_v0();fv0();pc();EO0();CR0();XF();BC();mC();gC();dc();vv0=new Fa;Uk=class Uk extends jW{constructor(Z){var J;super();this.logging=(J=Z===null||Z===void 0?void 0:Z.logging)!==null&&J!==void 0?J:(Q)=>console.log(Q)}initialize(Z){this.atn=Tv0(Z.rules),this.dfas=J_8(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(Z){let{prodOccurrence:J,rule:Q,hasPredicates:K,dynamicTokensEnabled:X}=Z,U=this.dfas,Y=this.logging,q=cz(Q,"Alternation",J),G=this.atn.decisionMap[q].decision,z=I9(u$({maxLookahead:1,occurrence:J,prodType:"Alternation",rule:Q}),(H)=>I9(H,(F)=>F[0]));if(xv0(z,!1)&&!X){let H=b4(z,(F,M,B)=>{return l0(M,(O)=>{if(O)F[O.tokenTypeIdx]=B,l0(O.categoryMatches,(R)=>{F[R]=B})}),F},{});if(K)return function(F){var M;let B=this.LA(1),O=H[B.tokenTypeIdx];if(F!==void 0&&O!==void 0){let R=(M=F[O])===null||M===void 0?void 0:M.GATE;if(R!==void 0&&R.call(this)===!1)return}return O};else return function(){let F=this.LA(1);return H[F.tokenTypeIdx]}}else if(K)return function(H){let F=new Fa,M=H===void 0?0:H.length;for(let O=0;O<M;O++){let R=H===null||H===void 0?void 0:H[O].GATE;F.set(O,R===void 0||R.call(this))}let B=Ha.call(this,U,G,F,Y);return typeof B==="number"?B:void 0};else return function(){let H=Ha.call(this,U,G,vv0,Y);return typeof H==="number"?H:void 0}}buildLookaheadForOptional(Z){let{prodOccurrence:J,rule:Q,prodType:K,dynamicTokensEnabled:X}=Z,U=this.dfas,Y=this.logging,q=cz(Q,K,J),G=this.atn.decisionMap[q].decision,z=I9(u$({maxLookahead:1,occurrence:J,prodType:K,rule:Q}),(H)=>{return I9(H,(F)=>F[0])});if(xv0(z)&&z[0][0]&&!X){let H=z[0],F=r6(H);if(F.length===1&&DY(F[0].categoryMatches)){let B=F[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===B}}else{let M=b4(F,(B,O)=>{if(O!==void 0)B[O.tokenTypeIdx]=!0,l0(O.categoryMatches,(R)=>{B[R]=!0});return B},{});return function(){let B=this.LA(1);return M[B.tokenTypeIdx]===!0}}}return function(){let H=Ha.call(this,U,G,vv0,Y);return typeof H==="object"?!1:H===0}}}});var uv0=_(()=>{mv0()});class px0{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){this._content=Z.text,this._version=J,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let Z=[],J=this._content,Q=!0;for(let K=0;K<J.length;K++){if(Q)Z.push(K),Q=!1;let X=J.charAt(K);if(Q=X==="\r"||X===`
`,X==="\r"&&K+1<J.length&&J.charAt(K+1)===`
`)K++}if(Q&&J.length>0)Z.push(J.length);this._lineOffsets=Z}return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let J=this.getLineOffsets(),Q=0,K=J.length;if(K===0)return OZ.create(0,Z);while(Q<K){let U=Math.floor((Q+K)/2);if(J[U]>Z)K=U;else Q=U+1}let X=Q-1;return OZ.create(X,Z-J[X])}offsetAt(Z){let J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;let Q=J[Z.line],K=Z.line+1<J.length?J[Z.line+1]:this._content.length;return Math.max(Math.min(Q+Z.character,K),Q)}get lineCount(){return this.getLineOffsets().length}}var gv0,Ma,pv0,Yk,OZ,r9,qk,cv0,Ba,lv0,dv0,iv0,sv0,Oa,rv0,nv0,av0,Wk,cB,lB,Ra,dB,ov0,Da,La,Ia,Aa,Na,tv0,ev0,Ea,Zx0,Va,HA,Jx0,Qx0,Kx0,Xx0,Ux0,Yx0,qx0,Wx0,Gk,Gx0,zx0,Hx0,Fx0,Mx0,Bx0,Ox0,Rx0,Dx0,Lx0,Ix0,zk,Ax0,Nx0,Ex0,Vx0,Px0,jx0,Cx0,Sx0,Tx0,wx0,$x0,kx0,_x0,Pa,ja,fx0,vx0,xx0,bx0,yx0,hx0,mx0,ux0,gx0,p0;var Ca=_(()=>{(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(gv0||(gv0={}));(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(Ma||(Ma={}));(function(Z){Z.MIN_VALUE=-2147483648,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(pv0||(pv0={}));(function(Z){Z.MIN_VALUE=0,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(Yk||(Yk={}));(function(Z){function J(K,X){if(K===Number.MAX_VALUE)K=Yk.MAX_VALUE;if(X===Number.MAX_VALUE)X=Yk.MAX_VALUE;return{line:K,character:X}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&p0.uinteger(X.line)&&p0.uinteger(X.character)}Z.is=Q})(OZ||(OZ={}));(function(Z){function J(K,X,U,Y){if(p0.uinteger(K)&&p0.uinteger(X)&&p0.uinteger(U)&&p0.uinteger(Y))return{start:OZ.create(K,X),end:OZ.create(U,Y)};else if(OZ.is(K)&&OZ.is(X))return{start:K,end:X};else throw Error(`Range#create called with invalid arguments[${K}, ${X}, ${U}, ${Y}]`)}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&OZ.is(X.start)&&OZ.is(X.end)}Z.is=Q})(r9||(r9={}));(function(Z){function J(K,X){return{uri:K,range:X}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&r9.is(X.range)&&(p0.string(X.uri)||p0.undefined(X.uri))}Z.is=Q})(qk||(qk={}));(function(Z){function J(K,X,U,Y){return{targetUri:K,targetRange:X,targetSelectionRange:U,originSelectionRange:Y}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&r9.is(X.targetRange)&&p0.string(X.targetUri)&&r9.is(X.targetSelectionRange)&&(r9.is(X.originSelectionRange)||p0.undefined(X.originSelectionRange))}Z.is=Q})(cv0||(cv0={}));(function(Z){function J(K,X,U,Y){return{red:K,green:X,blue:U,alpha:Y}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&p0.numberRange(X.red,0,1)&&p0.numberRange(X.green,0,1)&&p0.numberRange(X.blue,0,1)&&p0.numberRange(X.alpha,0,1)}Z.is=Q})(Ba||(Ba={}));(function(Z){function J(K,X){return{range:K,color:X}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&r9.is(X.range)&&Ba.is(X.color)}Z.is=Q})(lv0||(lv0={}));(function(Z){function J(K,X,U){return{label:K,textEdit:X,additionalTextEdits:U}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&p0.string(X.label)&&(p0.undefined(X.textEdit)||lB.is(X))&&(p0.undefined(X.additionalTextEdits)||p0.typedArray(X.additionalTextEdits,lB.is))}Z.is=Q})(dv0||(dv0={}));(function(Z){Z.Comment="comment",Z.Imports="imports",Z.Region="region"})(iv0||(iv0={}));(function(Z){function J(K,X,U,Y,q,W){let G={startLine:K,endLine:X};if(p0.defined(U))G.startCharacter=U;if(p0.defined(Y))G.endCharacter=Y;if(p0.defined(q))G.kind=q;if(p0.defined(W))G.collapsedText=W;return G}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&p0.uinteger(X.startLine)&&p0.uinteger(X.startLine)&&(p0.undefined(X.startCharacter)||p0.uinteger(X.startCharacter))&&(p0.undefined(X.endCharacter)||p0.uinteger(X.endCharacter))&&(p0.undefined(X.kind)||p0.string(X.kind))}Z.is=Q})(sv0||(sv0={}));(function(Z){function J(K,X){return{location:K,message:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&qk.is(X.location)&&p0.string(X.message)}Z.is=Q})(Oa||(Oa={}));(function(Z){Z.Error=1,Z.Warning=2,Z.Information=3,Z.Hint=4})(rv0||(rv0={}));(function(Z){Z.Unnecessary=1,Z.Deprecated=2})(nv0||(nv0={}));(function(Z){function J(Q){let K=Q;return p0.objectLiteral(K)&&p0.string(K.href)}Z.is=J})(av0||(av0={}));(function(Z){function J(K,X,U,Y,q,W){let G={range:K,message:X};if(p0.defined(U))G.severity=U;if(p0.defined(Y))G.code=Y;if(p0.defined(q))G.source=q;if(p0.defined(W))G.relatedInformation=W;return G}Z.create=J;function Q(K){var X;let U=K;return p0.defined(U)&&r9.is(U.range)&&p0.string(U.message)&&(p0.number(U.severity)||p0.undefined(U.severity))&&(p0.integer(U.code)||p0.string(U.code)||p0.undefined(U.code))&&(p0.undefined(U.codeDescription)||p0.string((X=U.codeDescription)===null||X===void 0?void 0:X.href))&&(p0.string(U.source)||p0.undefined(U.source))&&(p0.undefined(U.relatedInformation)||p0.typedArray(U.relatedInformation,Oa.is))}Z.is=Q})(Wk||(Wk={}));(function(Z){function J(K,X,...U){let Y={title:K,command:X};if(p0.defined(U)&&U.length>0)Y.arguments=U;return Y}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.string(X.title)&&p0.string(X.command)}Z.is=Q})(cB||(cB={}));(function(Z){function J(U,Y){return{range:U,newText:Y}}Z.replace=J;function Q(U,Y){return{range:{start:U,end:U},newText:Y}}Z.insert=Q;function K(U){return{range:U,newText:""}}Z.del=K;function X(U){let Y=U;return p0.objectLiteral(Y)&&p0.string(Y.newText)&&r9.is(Y.range)}Z.is=X})(lB||(lB={}));(function(Z){function J(K,X,U){let Y={label:K};if(X!==void 0)Y.needsConfirmation=X;if(U!==void 0)Y.description=U;return Y}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&p0.string(X.label)&&(p0.boolean(X.needsConfirmation)||X.needsConfirmation===void 0)&&(p0.string(X.description)||X.description===void 0)}Z.is=Q})(Ra||(Ra={}));(function(Z){function J(Q){let K=Q;return p0.string(K)}Z.is=J})(dB||(dB={}));(function(Z){function J(U,Y,q){return{range:U,newText:Y,annotationId:q}}Z.replace=J;function Q(U,Y,q){return{range:{start:U,end:U},newText:Y,annotationId:q}}Z.insert=Q;function K(U,Y){return{range:U,newText:"",annotationId:Y}}Z.del=K;function X(U){let Y=U;return lB.is(Y)&&(Ra.is(Y.annotationId)||dB.is(Y.annotationId))}Z.is=X})(ov0||(ov0={}));(function(Z){function J(K,X){return{textDocument:K,edits:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&Ea.is(X.textDocument)&&Array.isArray(X.edits)}Z.is=Q})(Da||(Da={}));(function(Z){function J(K,X,U){let Y={kind:"create",uri:K};if(X!==void 0&&(X.overwrite!==void 0||X.ignoreIfExists!==void 0))Y.options=X;if(U!==void 0)Y.annotationId=U;return Y}Z.create=J;function Q(K){let X=K;return X&&X.kind==="create"&&p0.string(X.uri)&&(X.options===void 0||(X.options.overwrite===void 0||p0.boolean(X.options.overwrite))&&(X.options.ignoreIfExists===void 0||p0.boolean(X.options.ignoreIfExists)))&&(X.annotationId===void 0||dB.is(X.annotationId))}Z.is=Q})(La||(La={}));(function(Z){function J(K,X,U,Y){let q={kind:"rename",oldUri:K,newUri:X};if(U!==void 0&&(U.overwrite!==void 0||U.ignoreIfExists!==void 0))q.options=U;if(Y!==void 0)q.annotationId=Y;return q}Z.create=J;function Q(K){let X=K;return X&&X.kind==="rename"&&p0.string(X.oldUri)&&p0.string(X.newUri)&&(X.options===void 0||(X.options.overwrite===void 0||p0.boolean(X.options.overwrite))&&(X.options.ignoreIfExists===void 0||p0.boolean(X.options.ignoreIfExists)))&&(X.annotationId===void 0||dB.is(X.annotationId))}Z.is=Q})(Ia||(Ia={}));(function(Z){function J(K,X,U){let Y={kind:"delete",uri:K};if(X!==void 0&&(X.recursive!==void 0||X.ignoreIfNotExists!==void 0))Y.options=X;if(U!==void 0)Y.annotationId=U;return Y}Z.create=J;function Q(K){let X=K;return X&&X.kind==="delete"&&p0.string(X.uri)&&(X.options===void 0||(X.options.recursive===void 0||p0.boolean(X.options.recursive))&&(X.options.ignoreIfNotExists===void 0||p0.boolean(X.options.ignoreIfNotExists)))&&(X.annotationId===void 0||dB.is(X.annotationId))}Z.is=Q})(Aa||(Aa={}));(function(Z){function J(Q){let K=Q;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every((X)=>{if(p0.string(X.kind))return La.is(X)||Ia.is(X)||Aa.is(X);else return Da.is(X)}))}Z.is=J})(Na||(Na={}));(function(Z){function J(K){return{uri:K}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.string(X.uri)}Z.is=Q})(tv0||(tv0={}));(function(Z){function J(K,X){return{uri:K,version:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.string(X.uri)&&p0.integer(X.version)}Z.is=Q})(ev0||(ev0={}));(function(Z){function J(K,X){return{uri:K,version:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.string(X.uri)&&(X.version===null||p0.integer(X.version))}Z.is=Q})(Ea||(Ea={}));(function(Z){function J(K,X,U,Y){return{uri:K,languageId:X,version:U,text:Y}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.string(X.uri)&&p0.string(X.languageId)&&p0.integer(X.version)&&p0.string(X.text)}Z.is=Q})(Zx0||(Zx0={}));(function(Z){Z.PlainText="plaintext",Z.Markdown="markdown";function J(Q){let K=Q;return K===Z.PlainText||K===Z.Markdown}Z.is=J})(Va||(Va={}));(function(Z){function J(Q){let K=Q;return p0.objectLiteral(Q)&&Va.is(K.kind)&&p0.string(K.value)}Z.is=J})(HA||(HA={}));(function(Z){Z.Text=1,Z.Method=2,Z.Function=3,Z.Constructor=4,Z.Field=5,Z.Variable=6,Z.Class=7,Z.Interface=8,Z.Module=9,Z.Property=10,Z.Unit=11,Z.Value=12,Z.Enum=13,Z.Keyword=14,Z.Snippet=15,Z.Color=16,Z.File=17,Z.Reference=18,Z.Folder=19,Z.EnumMember=20,Z.Constant=21,Z.Struct=22,Z.Event=23,Z.Operator=24,Z.TypeParameter=25})(Jx0||(Jx0={}));(function(Z){Z.PlainText=1,Z.Snippet=2})(Qx0||(Qx0={}));(function(Z){Z.Deprecated=1})(Kx0||(Kx0={}));(function(Z){function J(K,X,U){return{newText:K,insert:X,replace:U}}Z.create=J;function Q(K){let X=K;return X&&p0.string(X.newText)&&r9.is(X.insert)&&r9.is(X.replace)}Z.is=Q})(Xx0||(Xx0={}));(function(Z){Z.asIs=1,Z.adjustIndentation=2})(Ux0||(Ux0={}));(function(Z){function J(Q){let K=Q;return K&&(p0.string(K.detail)||K.detail===void 0)&&(p0.string(K.description)||K.description===void 0)}Z.is=J})(Yx0||(Yx0={}));(function(Z){function J(Q){return{label:Q}}Z.create=J})(qx0||(qx0={}));(function(Z){function J(Q,K){return{items:Q?Q:[],isIncomplete:!!K}}Z.create=J})(Wx0||(Wx0={}));(function(Z){function J(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}Z.fromPlainText=J;function Q(K){let X=K;return p0.string(X)||p0.objectLiteral(X)&&p0.string(X.language)&&p0.string(X.value)}Z.is=Q})(Gk||(Gk={}));(function(Z){function J(Q){let K=Q;return!!K&&p0.objectLiteral(K)&&(HA.is(K.contents)||Gk.is(K.contents)||p0.typedArray(K.contents,Gk.is))&&(Q.range===void 0||r9.is(Q.range))}Z.is=J})(Gx0||(Gx0={}));(function(Z){function J(Q,K){return K?{label:Q,documentation:K}:{label:Q}}Z.create=J})(zx0||(zx0={}));(function(Z){function J(Q,K,...X){let U={label:Q};if(p0.defined(K))U.documentation=K;if(p0.defined(X))U.parameters=X;else U.parameters=[];return U}Z.create=J})(Hx0||(Hx0={}));(function(Z){Z.Text=1,Z.Read=2,Z.Write=3})(Fx0||(Fx0={}));(function(Z){function J(Q,K){let X={range:Q};if(p0.number(K))X.kind=K;return X}Z.create=J})(Mx0||(Mx0={}));(function(Z){Z.File=1,Z.Module=2,Z.Namespace=3,Z.Package=4,Z.Class=5,Z.Method=6,Z.Property=7,Z.Field=8,Z.Constructor=9,Z.Enum=10,Z.Interface=11,Z.Function=12,Z.Variable=13,Z.Constant=14,Z.String=15,Z.Number=16,Z.Boolean=17,Z.Array=18,Z.Object=19,Z.Key=20,Z.Null=21,Z.EnumMember=22,Z.Struct=23,Z.Event=24,Z.Operator=25,Z.TypeParameter=26})(Bx0||(Bx0={}));(function(Z){Z.Deprecated=1})(Ox0||(Ox0={}));(function(Z){function J(Q,K,X,U,Y){let q={name:Q,kind:K,location:{uri:U,range:X}};if(Y)q.containerName=Y;return q}Z.create=J})(Rx0||(Rx0={}));(function(Z){function J(Q,K,X,U){return U!==void 0?{name:Q,kind:K,location:{uri:X,range:U}}:{name:Q,kind:K,location:{uri:X}}}Z.create=J})(Dx0||(Dx0={}));(function(Z){function J(K,X,U,Y,q,W){let G={name:K,detail:X,kind:U,range:Y,selectionRange:q};if(W!==void 0)G.children=W;return G}Z.create=J;function Q(K){let X=K;return X&&p0.string(X.name)&&p0.number(X.kind)&&r9.is(X.range)&&r9.is(X.selectionRange)&&(X.detail===void 0||p0.string(X.detail))&&(X.deprecated===void 0||p0.boolean(X.deprecated))&&(X.children===void 0||Array.isArray(X.children))&&(X.tags===void 0||Array.isArray(X.tags))}Z.is=Q})(Lx0||(Lx0={}));(function(Z){Z.Empty="",Z.QuickFix="quickfix",Z.Refactor="refactor",Z.RefactorExtract="refactor.extract",Z.RefactorInline="refactor.inline",Z.RefactorRewrite="refactor.rewrite",Z.Source="source",Z.SourceOrganizeImports="source.organizeImports",Z.SourceFixAll="source.fixAll"})(Ix0||(Ix0={}));(function(Z){Z.Invoked=1,Z.Automatic=2})(zk||(zk={}));(function(Z){function J(K,X,U){let Y={diagnostics:K};if(X!==void 0&&X!==null)Y.only=X;if(U!==void 0&&U!==null)Y.triggerKind=U;return Y}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.typedArray(X.diagnostics,Wk.is)&&(X.only===void 0||p0.typedArray(X.only,p0.string))&&(X.triggerKind===void 0||X.triggerKind===zk.Invoked||X.triggerKind===zk.Automatic)}Z.is=Q})(Ax0||(Ax0={}));(function(Z){function J(K,X,U){let Y={title:K},q=!0;if(typeof X==="string")q=!1,Y.kind=X;else if(cB.is(X))Y.command=X;else Y.edit=X;if(q&&U!==void 0)Y.kind=U;return Y}Z.create=J;function Q(K){let X=K;return X&&p0.string(X.title)&&(X.diagnostics===void 0||p0.typedArray(X.diagnostics,Wk.is))&&(X.kind===void 0||p0.string(X.kind))&&(X.edit!==void 0||X.command!==void 0)&&(X.command===void 0||cB.is(X.command))&&(X.isPreferred===void 0||p0.boolean(X.isPreferred))&&(X.edit===void 0||Na.is(X.edit))}Z.is=Q})(Nx0||(Nx0={}));(function(Z){function J(K,X){let U={range:K};if(p0.defined(X))U.data=X;return U}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&r9.is(X.range)&&(p0.undefined(X.command)||cB.is(X.command))}Z.is=Q})(Ex0||(Ex0={}));(function(Z){function J(K,X){return{tabSize:K,insertSpaces:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&p0.uinteger(X.tabSize)&&p0.boolean(X.insertSpaces)}Z.is=Q})(Vx0||(Vx0={}));(function(Z){function J(K,X,U){return{range:K,target:X,data:U}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&r9.is(X.range)&&(p0.undefined(X.target)||p0.string(X.target))}Z.is=Q})(Px0||(Px0={}));(function(Z){function J(K,X){return{range:K,parent:X}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&r9.is(X.range)&&(X.parent===void 0||Z.is(X.parent))}Z.is=Q})(jx0||(jx0={}));(function(Z){Z.namespace="namespace",Z.type="type",Z.class="class",Z.enum="enum",Z.interface="interface",Z.struct="struct",Z.typeParameter="typeParameter",Z.parameter="parameter",Z.variable="variable",Z.property="property",Z.enumMember="enumMember",Z.event="event",Z.function="function",Z.method="method",Z.macro="macro",Z.keyword="keyword",Z.modifier="modifier",Z.comment="comment",Z.string="string",Z.number="number",Z.regexp="regexp",Z.operator="operator",Z.decorator="decorator"})(Cx0||(Cx0={}));(function(Z){Z.declaration="declaration",Z.definition="definition",Z.readonly="readonly",Z.static="static",Z.deprecated="deprecated",Z.abstract="abstract",Z.async="async",Z.modification="modification",Z.documentation="documentation",Z.defaultLibrary="defaultLibrary"})(Sx0||(Sx0={}));(function(Z){function J(Q){let K=Q;return p0.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId==="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]==="number")}Z.is=J})(Tx0||(Tx0={}));(function(Z){function J(K,X){return{range:K,text:X}}Z.create=J;function Q(K){let X=K;return X!==void 0&&X!==null&&r9.is(X.range)&&p0.string(X.text)}Z.is=Q})(wx0||(wx0={}));(function(Z){function J(K,X,U){return{range:K,variableName:X,caseSensitiveLookup:U}}Z.create=J;function Q(K){let X=K;return X!==void 0&&X!==null&&r9.is(X.range)&&p0.boolean(X.caseSensitiveLookup)&&(p0.string(X.variableName)||X.variableName===void 0)}Z.is=Q})($x0||($x0={}));(function(Z){function J(K,X){return{range:K,expression:X}}Z.create=J;function Q(K){let X=K;return X!==void 0&&X!==null&&r9.is(X.range)&&(p0.string(X.expression)||X.expression===void 0)}Z.is=Q})(kx0||(kx0={}));(function(Z){function J(K,X){return{frameId:K,stoppedLocation:X}}Z.create=J;function Q(K){let X=K;return p0.defined(X)&&r9.is(K.stoppedLocation)}Z.is=Q})(_x0||(_x0={}));(function(Z){Z.Type=1,Z.Parameter=2;function J(Q){return Q===1||Q===2}Z.is=J})(Pa||(Pa={}));(function(Z){function J(K){return{value:K}}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&(X.tooltip===void 0||p0.string(X.tooltip)||HA.is(X.tooltip))&&(X.location===void 0||qk.is(X.location))&&(X.command===void 0||cB.is(X.command))}Z.is=Q})(ja||(ja={}));(function(Z){function J(K,X,U){let Y={position:K,label:X};if(U!==void 0)Y.kind=U;return Y}Z.create=J;function Q(K){let X=K;return p0.objectLiteral(X)&&OZ.is(X.position)&&(p0.string(X.label)||p0.typedArray(X.label,ja.is))&&(X.kind===void 0||Pa.is(X.kind))&&X.textEdits===void 0||p0.typedArray(X.textEdits,lB.is)&&(X.tooltip===void 0||p0.string(X.tooltip)||HA.is(X.tooltip))&&(X.paddingLeft===void 0||p0.boolean(X.paddingLeft))&&(X.paddingRight===void 0||p0.boolean(X.paddingRight))}Z.is=Q})(fx0||(fx0={}));(function(Z){function J(Q){return{kind:"snippet",value:Q}}Z.createSnippet=J})(vx0||(vx0={}));(function(Z){function J(Q,K,X,U){return{insertText:Q,filterText:K,range:X,command:U}}Z.create=J})(xx0||(xx0={}));(function(Z){function J(Q){return{items:Q}}Z.create=J})(bx0||(bx0={}));(function(Z){Z.Invoked=0,Z.Automatic=1})(yx0||(yx0={}));(function(Z){function J(Q,K){return{range:Q,text:K}}Z.create=J})(hx0||(hx0={}));(function(Z){function J(Q,K){return{triggerKind:Q,selectedCompletionInfo:K}}Z.create=J})(mx0||(mx0={}));(function(Z){function J(Q){let K=Q;return p0.objectLiteral(K)&&Ma.is(K.uri)&&p0.string(K.name)}Z.is=J})(ux0||(ux0={}));(function(Z){function J(U,Y,q,W){return new px0(U,Y,q,W)}Z.create=J;function Q(U){let Y=U;return p0.defined(Y)&&p0.string(Y.uri)&&(p0.undefined(Y.languageId)||p0.string(Y.languageId))&&p0.uinteger(Y.lineCount)&&p0.func(Y.getText)&&p0.func(Y.positionAt)&&p0.func(Y.offsetAt)?!0:!1}Z.is=Q;function K(U,Y){let q=U.getText(),W=X(Y,(z,H)=>{let F=z.range.start.line-H.range.start.line;if(F===0)return z.range.start.character-H.range.start.character;return F}),G=q.length;for(let z=W.length-1;z>=0;z--){let H=W[z],F=U.offsetAt(H.range.start),M=U.offsetAt(H.range.end);if(M<=G)q=q.substring(0,F)+H.newText+q.substring(M,q.length);else throw Error("Overlapping edit");G=F}return q}Z.applyEdits=K;function X(U,Y){if(U.length<=1)return U;let q=U.length/2|0,W=U.slice(0,q),G=U.slice(q);X(W,Y),X(G,Y);let z=0,H=0,F=0;while(z<W.length&&H<G.length)if(Y(W[z],G[H])<=0)U[F++]=W[z++];else U[F++]=G[H++];while(z<W.length)U[F++]=W[z++];while(H<G.length)U[F++]=G[H++];return U}})(gx0||(gx0={}));(function(Z){let J=Object.prototype.toString;function Q(M){return typeof M<"u"}Z.defined=Q;function K(M){return typeof M>"u"}Z.undefined=K;function X(M){return M===!0||M===!1}Z.boolean=X;function U(M){return J.call(M)==="[object String]"}Z.string=U;function Y(M){return J.call(M)==="[object Number]"}Z.number=Y;function q(M,B,O){return J.call(M)==="[object Number]"&&B<=M&&M<=O}Z.numberRange=q;function W(M){return J.call(M)==="[object Number]"&&-2147483648<=M&&M<=2147483647}Z.integer=W;function G(M){return J.call(M)==="[object Number]"&&0<=M&&M<=2147483647}Z.uinteger=G;function z(M){return J.call(M)==="[object Function]"}Z.func=z;function H(M){return M!==null&&typeof M==="object"}Z.objectLiteral=H;function F(M,B){return Array.isArray(M)&&M.every(B)}Z.typedArray=F})(p0||(p0={}))});class Hk{constructor(){this.nodeStack=[]}get current(){var Z;return(Z=this.nodeStack[this.nodeStack.length-1])!==null&&Z!==void 0?Z:this.rootNode}buildRootNode(Z){return this.rootNode=new FA(Z),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(Z){let J=new sB;return J.grammarSource=Z,J.root=this.rootNode,this.current.content.push(J),this.nodeStack.push(J),J}buildLeafNode(Z,J){let Q=new iB(Z.startOffset,Z.image.length,bF(Z),Z.tokenType,!J);return Q.grammarSource=J,Q.root=this.rootNode,this.current.content.push(Q),Q}removeNode(Z){let J=Z.container;if(J){let Q=J.content.indexOf(Z);if(Q>=0)J.content.splice(Q,1)}}addHiddenNodes(Z){let J=[];for(let X of Z){let U=new iB(X.startOffset,X.image.length,bF(X),X.tokenType,!0);U.root=this.rootNode,J.push(U)}let Q=this.current,K=!1;if(Q.content.length>0){Q.content.push(...J);return}while(Q.container){let X=Q.container.content.indexOf(Q);if(X>0){Q.container.content.splice(X,0,...J),K=!0;break}Q=Q.container}if(!K)this.rootNode.content.unshift(...J)}construct(Z){let J=this.current;if(typeof Z.$type==="string")this.current.astNode=Z;Z.$cstNode=J;let Q=this.nodeStack.pop();if((Q===null||Q===void 0?void 0:Q.content.length)===0)this.removeNode(Q)}}class Fk{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var Z,J;let Q=typeof((Z=this._astNode)===null||Z===void 0?void 0:Z.$type)==="string"?this._astNode:(J=this.container)===null||J===void 0?void 0:J.astNode;if(!Q)throw Error("This node has no associated AST element");return Q}set astNode(Z){this._astNode=Z}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}var iB,sB,Sa,FA;var Mk=_(()=>{Ca();w5();iB=class iB extends Fk{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(Z,J,Q,K,X=!1){super();this._hidden=X,this._offset=Z,this._tokenType=K,this._length=J,this._range=Q}};sB=class sB extends Fk{constructor(){super(...arguments);this.content=new Sa(this)}get children(){return this.content}get offset(){var Z,J;return(J=(Z=this.firstNonHiddenNode)===null||Z===void 0?void 0:Z.offset)!==null&&J!==void 0?J:0}get length(){return this.end-this.offset}get end(){var Z,J;return(J=(Z=this.lastNonHiddenNode)===null||Z===void 0?void 0:Z.end)!==null&&J!==void 0?J:0}get range(){let Z=this.firstNonHiddenNode,J=this.lastNonHiddenNode;if(Z&&J){if(this._rangeCache===void 0){let{range:Q}=Z,{range:K}=J;this._rangeCache={start:Q.start,end:K.end.line<Q.start.line?Q.start:K.end}}return this._rangeCache}else return{start:OZ.create(0,0),end:OZ.create(0,0)}}get firstNonHiddenNode(){for(let Z of this.content)if(!Z.hidden)return Z;return this.content[0]}get lastNonHiddenNode(){for(let Z=this.content.length-1;Z>=0;Z--){let J=this.content[Z];if(!J.hidden)return J}return this.content[this.content.length-1]}};Sa=class Sa extends Array{constructor(Z){super();this.parent=Z,Object.setPrototypeOf(this,Sa.prototype)}push(...Z){return this.addParents(Z),super.push(...Z)}unshift(...Z){return this.addParents(Z),super.unshift(...Z)}splice(Z,J,...Q){return this.addParents(Q),super.splice(Z,J,...Q)}addParents(Z){for(let J of Z)J.container=this.parent}};FA=class FA extends sB{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(Z){super();this._text="",this._text=Z!==null&&Z!==void 0?Z:""}}});function Ta(Z){return Z.$type===Bk}class Ok{constructor(Z){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=Z.parser.Lexer;let J=this.lexer.definition,Q=Z.LanguageMetaData.mode==="production";this.wrapper=new dx0(J,Object.assign(Object.assign({},Z.parser.ParserConfig),{skipValidations:Q,errorMessageProvider:Z.parser.ParserErrorMessageProvider}))}alternatives(Z,J){this.wrapper.wrapOr(Z,J)}optional(Z,J){this.wrapper.wrapOption(Z,J)}many(Z,J){this.wrapper.wrapMany(Z,J)}atLeastOne(Z,J){this.wrapper.wrapAtLeastOne(Z,J)}getRule(Z){return this.allRules.get(Z)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class wa{buildMismatchTokenMessage(Z){return uY.buildMismatchTokenMessage(Z)}buildNotAllInputParsedMessage(Z){return uY.buildNotAllInputParsedMessage(Z)}buildNoViableAltMessage(Z){return uY.buildNoViableAltMessage(Z)}buildEarlyExitMessage(Z){return uY.buildEarlyExitMessage(Z)}}var Bk,cx0="",lx0=(Z)=>Z.endsWith(cx0)?Z:Z+cx0,Rk,MA,Dk,A_8,dx0;var BA=_(()=>{CW();uv0();ZU();_5();z6();Mk();Bk=Symbol("Datatype");Rk=class Rk extends Ok{get current(){return this.stack[this.stack.length-1]}constructor(Z){super(Z);this.nodeBuilder=new Hk,this.stack=[],this.assignmentMap=new Map,this.linker=Z.references.Linker,this.converter=Z.parser.ValueConverter,this.astReflection=Z.shared.AstReflection}rule(Z,J){let Q=this.computeRuleType(Z),K=this.wrapper.DEFINE_RULE(lx0(Z.name),this.startImplementation(Q,J).bind(this));if(this.allRules.set(Z.name,K),Z.entry)this.mainRule=K;return K}computeRuleType(Z){if(Z.fragment)return;else if(HI(Z))return Bk;else{let J=SM(Z);return J!==null&&J!==void 0?J:Z.name}}parse(Z,J={}){this.nodeBuilder.buildRootNode(Z);let Q=this.lexerResult=this.lexer.tokenize(Z);this.wrapper.input=Q.tokens;let K=J.rule?this.allRules.get(J.rule):this.mainRule;if(!K)throw Error(J.rule?`No rule found with name '${J.rule}'`:"No main rule available.");let X=K.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(Q.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:X,lexerErrors:Q.errors,lexerReport:Q.report,parserErrors:this.wrapper.errors}}startImplementation(Z,J){return(Q)=>{let K=!this.isRecording()&&Z!==void 0;if(K){let U={$type:Z};if(this.stack.push(U),Z===Bk)U.value=""}let X;try{X=J(Q)}catch(U){X=void 0}if(X===void 0&&K)X=this.construct();return X}}extractHiddenTokens(Z){let J=this.lexerResult.hidden;if(!J.length)return[];let Q=Z.startOffset;for(let K=0;K<J.length;K++)if(J[K].startOffset>Q)return J.splice(0,K);return J.splice(0,J.length)}consume(Z,J,Q){let K=this.wrapper.wrapConsume(Z,J);if(!this.isRecording()&&this.isValidToken(K)){let X=this.extractHiddenTokens(K);this.nodeBuilder.addHiddenNodes(X);let U=this.nodeBuilder.buildLeafNode(K,Q),{assignment:Y,isCrossRef:q}=this.getAssignment(Q),W=this.current;if(Y){let G=$K(Q)?K.image:this.converter.convert(K.image,U);this.assign(Y.operator,Y.feature,G,U,q)}else if(Ta(W)){let G=K.image;if(!$K(Q))G=this.converter.convert(G,U).toString();W.value+=G}}}isValidToken(Z){return!Z.isInsertedInRecovery&&!isNaN(Z.startOffset)&&typeof Z.endOffset==="number"&&!isNaN(Z.endOffset)}subrule(Z,J,Q,K,X){let U;if(!this.isRecording()&&!Q)U=this.nodeBuilder.buildCompositeNode(K);let Y=this.wrapper.wrapSubrule(Z,J,X);if(!this.isRecording()&&U&&U.length>0)this.performSubruleAssignment(Y,K,U)}performSubruleAssignment(Z,J,Q){let{assignment:K,isCrossRef:X}=this.getAssignment(J);if(K)this.assign(K.operator,K.feature,Z,Q,X);else if(!K){let U=this.current;if(Ta(U))U.value+=Z.toString();else if(typeof Z==="object"&&Z){let q=this.assignWithoutOverride(Z,U);this.stack.pop(),this.stack.push(q)}}}action(Z,J){if(!this.isRecording()){let Q=this.current;if(J.feature&&J.operator){Q=this.construct(),this.nodeBuilder.removeNode(Q.$cstNode),this.nodeBuilder.buildCompositeNode(J).content.push(Q.$cstNode);let X={$type:Z};this.stack.push(X),this.assign(J.operator,J.feature,Q,Q.$cstNode,!1)}else Q.$type=Z}}construct(){if(this.isRecording())return;let Z=this.current;if(bT(Z),this.nodeBuilder.construct(Z),this.stack.pop(),Ta(Z))return this.converter.convert(Z.value,Z.$cstNode);else ys(this.astReflection,Z);return Z}getAssignment(Z){if(!this.assignmentMap.has(Z)){let J=Sz(Z,$5);this.assignmentMap.set(Z,{assignment:J,isCrossRef:J?Cz(J.terminal):!1})}return this.assignmentMap.get(Z)}assign(Z,J,Q,K,X){let U=this.current,Y;if(X&&typeof Q==="string")Y=this.linker.buildReference(U,J,K,Q);else Y=Q;switch(Z){case"=":{U[J]=Y;break}case"?=":{U[J]=!0;break}case"+=":{if(!Array.isArray(U[J]))U[J]=[];U[J].push(Y)}}}assignWithoutOverride(Z,J){for(let[K,X]of Object.entries(J)){let U=Z[K];if(U===void 0)Z[K]=X;else if(Array.isArray(U)&&Array.isArray(X))X.push(...U),Z[K]=X}let Q=Z.$cstNode;if(Q)Q.astNode=void 0,Z.$cstNode=void 0;return Z}get definitionErrors(){return this.wrapper.definitionErrors}};MA=class MA extends wa{buildMismatchTokenMessage({expected:Z,actual:J}){return`Expecting ${Z.LABEL?"`"+Z.LABEL+"`":Z.name.endsWith(":KW")?`keyword '${Z.name.substring(0,Z.name.length-3)}'`:`token of type '${Z.name}'`} but found \`${J.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:Z}){return`Expecting end of file but found \`${Z.image}\`.`}};Dk=class Dk extends Ok{constructor(){super(...arguments);this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){return}parse(Z){this.resetState();let J=this.lexer.tokenize(Z,{mode:"partial"});return this.tokens=J.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(Z,J){let Q=this.wrapper.DEFINE_RULE(lx0(Z.name),this.startImplementation(J).bind(this));if(this.allRules.set(Z.name,Q),Z.entry)this.mainRule=Q;return Q}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(Z){return(J)=>{let Q=this.keepStackSize();try{Z(J)}finally{this.resetStackSize(Q)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let Z=this.elementStack.length;return this.stackSize=Z,Z}resetStackSize(Z){this.removeUnexpectedElements(),this.stackSize=Z}consume(Z,J,Q){if(this.wrapper.wrapConsume(Z,J),!this.isRecording())this.lastElementStack=[...this.elementStack,Q],this.nextTokenIndex=this.currIdx+1}subrule(Z,J,Q,K,X){this.before(K),this.wrapper.wrapSubrule(Z,J,X),this.after(K)}before(Z){if(!this.isRecording())this.elementStack.push(Z)}after(Z){if(!this.isRecording()){let J=this.elementStack.lastIndexOf(Z);if(J>=0)this.elementStack.splice(J)}}get currIdx(){return this.wrapper.currIdx}};A_8={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new MA};dx0=class dx0 extends Jk{constructor(Z,J){let Q=J&&"maxLookahead"in J;super(Z,Object.assign(Object.assign(Object.assign({},A_8),{lookaheadStrategy:Q?new jW({maxLookahead:J.maxLookahead}):new Uk({logging:J.skipValidations?()=>{}:void 0})}),J))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(Z,J){return this.RULE(Z,J)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(Z,J){return this.consume(Z,J)}wrapSubrule(Z,J,Q){return this.subrule(Z,J,{ARGS:[Q]})}wrapOr(Z,J){this.or(Z,J)}wrapOption(Z,J){this.option(Z,J)}wrapMany(Z,J){this.many(Z,J)}wrapAtLeastOne(Z,J){this.atLeastOne(Z,J)}}});function OA(Z,J,Q){return N_8({parser:J,tokens:Q,ruleNames:new Map},Z),J}function N_8(Z,J){let Q=GI(J,!1),K=DZ(J.rules).filter(vQ).filter((X)=>Q.has(X));for(let X of K){let U=Object.assign(Object.assign({},Z),{consume:1,optional:1,subrule:1,many:1,or:1});Z.parser.rule(X,dz(U,X.definition))}}function dz(Z,J,Q=!1){let K;if($K(J))K=T_8(Z,J);else if(TY(J))K=E_8(Z,J);else if($5(J))K=dz(Z,J.terminal);else if(Cz(J))K=ix0(Z,J);else if(k5(J))K=V_8(Z,J);else if(fT(J))K=j_8(Z,J);else if(xT(J))K=C_8(Z,J);else if(uq(J))K=S_8(Z,J);else if(Ts(J)){let X=Z.consume++;K=()=>Z.parser.consume(X,p4,J)}else throw new yF(J.$cstNode,`Unexpected element type: ${J.$type}`);return sx0(Z,Q?void 0:Lk(J),K,J.cardinality)}function E_8(Z,J){let Q=FI(J);return()=>Z.parser.action(Q,J)}function V_8(Z,J){let Q=J.rule.ref;if(vQ(Q)){let K=Z.subrule++,X=Q.fragment,U=J.arguments.length>0?P_8(Q,J.arguments):()=>({});return(Y)=>Z.parser.subrule(K,rx0(Z,Q),X,J,U(Y))}else if(u4(Q)){let K=Z.consume++,X=$a(Z,Q.name);return()=>Z.parser.consume(K,X,J)}else if(!Q)throw new yF(J.$cstNode,`Undefined rule: ${J.rule.$refText}`);else eX(Q)}function P_8(Z,J){let Q=J.map((K)=>gY(K.value));return(K)=>{let X={};for(let U=0;U<Q.length;U++){let Y=Z.parameters[U],q=Q[U];X[Y.name]=q(K)}return X}}function gY(Z){if(Ns(Z)){let J=gY(Z.left),Q=gY(Z.right);return(K)=>J(K)||Q(K)}else if(As(Z)){let J=gY(Z.left),Q=gY(Z.right);return(K)=>J(K)&&Q(K)}else if(Es(Z)){let J=gY(Z.value);return(Q)=>!J(Q)}else if(Vs(Z)){let J=Z.parameter.ref.name;return(Q)=>Q!==void 0&&Q[J]===!0}else if(Is(Z)){let J=Boolean(Z.true);return()=>J}eX(Z)}function j_8(Z,J){if(J.elements.length===1)return dz(Z,J.elements[0]);else{let Q=[];for(let X of J.elements){let U={ALT:dz(Z,X,!0)},Y=Lk(X);if(Y)U.GATE=gY(Y);Q.push(U)}let K=Z.or++;return(X)=>Z.parser.alternatives(K,Q.map((U)=>{let Y={ALT:()=>U.ALT(X)},q=U.GATE;if(q)Y.GATE=()=>q(X);return Y}))}}function C_8(Z,J){if(J.elements.length===1)return dz(Z,J.elements[0]);let Q=[];for(let q of J.elements){let W={ALT:dz(Z,q,!0)},G=Lk(q);if(G)W.GATE=gY(G);Q.push(W)}let K=Z.or++,X=(q,W)=>{let G=W.getRuleStack().join("-");return`uGroup_${q}_${G}`},U=(q)=>Z.parser.alternatives(K,Q.map((W,G)=>{let z={ALT:()=>!0},H=Z.parser;z.ALT=()=>{if(W.ALT(q),!H.isRecording()){let M=X(K,H);if(!H.unorderedGroups.get(M))H.unorderedGroups.set(M,[]);let B=H.unorderedGroups.get(M);if(typeof(B===null||B===void 0?void 0:B[G])>"u")B[G]=!0}};let F=W.GATE;if(F)z.GATE=()=>F(q);else z.GATE=()=>{let M=H.unorderedGroups.get(X(K,H));return!(M===null||M===void 0?void 0:M[G])};return z})),Y=sx0(Z,Lk(J),U,"*");return(q)=>{if(Y(q),!Z.parser.isRecording())Z.parser.unorderedGroups.delete(X(K,Z.parser))}}function S_8(Z,J){let Q=J.elements.map((K)=>dz(Z,K));return(K)=>Q.forEach((X)=>X(K))}function Lk(Z){if(uq(Z))return Z.guardCondition;return}function ix0(Z,J,Q=J.terminal){if(!Q){if(!J.type.ref)throw Error("Could not resolve reference to type: "+J.type.$refText);let K=gT(J.type.ref),X=K===null||K===void 0?void 0:K.terminal;if(!X)throw Error("Could not find name assignment for type: "+FI(J.type.ref));return ix0(Z,J,X)}else if(k5(Q)&&vQ(Q.rule.ref)){let K=Q.rule.ref,X=Z.subrule++;return(U)=>Z.parser.subrule(X,rx0(Z,K),!1,J,U)}else if(k5(Q)&&u4(Q.rule.ref)){let K=Z.consume++,X=$a(Z,Q.rule.ref.name);return()=>Z.parser.consume(K,X,J)}else if($K(Q)){let K=Z.consume++,X=$a(Z,Q.value);return()=>Z.parser.consume(K,X,J)}else throw Error("Could not build cross reference parser")}function T_8(Z,J){let Q=Z.consume++,K=Z.tokens[J.value];if(!K)throw Error("Could not find token for keyword: "+J.value);return()=>Z.parser.consume(Q,K,J)}function sx0(Z,J,Q,K){let X=J&&gY(J);if(!K)if(X){let U=Z.or++;return(Y)=>Z.parser.alternatives(U,[{ALT:()=>Q(Y),GATE:()=>X(Y)},{ALT:Zk(),GATE:()=>!X(Y)}])}else return Q;if(K==="*"){let U=Z.many++;return(Y)=>Z.parser.many(U,{DEF:()=>Q(Y),GATE:X?()=>X(Y):void 0})}else if(K==="+"){let U=Z.many++;if(X){let Y=Z.or++;return(q)=>Z.parser.alternatives(Y,[{ALT:()=>Z.parser.atLeastOne(U,{DEF:()=>Q(q)}),GATE:()=>X(q)},{ALT:Zk(),GATE:()=>!X(q)}])}else return(Y)=>Z.parser.atLeastOne(U,{DEF:()=>Q(Y)})}else if(K==="?"){let U=Z.optional++;return(Y)=>Z.parser.optional(U,{DEF:()=>Q(Y),GATE:X?()=>X(Y):void 0})}else eX(K)}function rx0(Z,J){let Q=w_8(Z,J),K=Z.parser.getRule(Q);if(!K)throw Error(`Rule "${Q}" not found."`);return K}function w_8(Z,J){if(vQ(J))return J.name;else if(Z.ruleNames.has(J))return Z.ruleNames.get(J);else{let Q=J,K=Q.$container,X=J.$type;while(!vQ(K)){if(uq(K)||fT(K)||xT(K))X=K.elements.indexOf(Q).toString()+":"+X;Q=K,K=K.$container}return X=K.name+":"+X,Z.ruleNames.set(J,X),X}}function $a(Z,J){let Q=Z.tokens[J];if(!Q)throw Error(`Token "${J}" not found."`);return Q}var Ik=_(()=>{CW();ZU();TT();Z4();_5()});function ka(Z){let J=Z.Grammar,Q=Z.parser.Lexer,K=new Dk(Z);return OA(J,K,Q.definition),K.finalize(),K}var _a=_(()=>{BA();Ik()});function fa(Z){let J=nx0(Z);return J.finalize(),J}function nx0(Z){let J=Z.Grammar,Q=Z.parser.Lexer,K=new Rk(Z);return OA(J,K,Q.definition)}var va=_(()=>{BA();Ik()});class wW{constructor(){this.diagnostics=[]}buildTokens(Z,J){let Q=DZ(GI(Z,!1)),K=this.buildTerminalTokens(Q),X=this.buildKeywordTokens(Q,K,J);return K.forEach((U)=>{let Y=U.PATTERN;if(typeof Y==="object"&&Y&&"test"in Y&&jM(Y))X.unshift(U);else X.push(U)}),X}flushLexingReport(Z){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let Z=[...this.diagnostics];return this.diagnostics=[],Z}buildTerminalTokens(Z){return Z.filter(u4).filter((J)=>!J.fragment).map((J)=>this.buildTerminalToken(J)).toArray()}buildTerminalToken(Z){let J=TM(Z),Q=this.requiresCustomPattern(J)?this.regexPatternFunction(J):J,K={name:Z.name,PATTERN:Q};if(typeof Q==="function")K.LINE_BREAKS=!0;if(Z.hidden)K.GROUP=jM(J)?fJ.SKIPPED:"hidden";return K}requiresCustomPattern(Z){if(Z.flags.includes("u")||Z.flags.includes("s"))return!0;else if(Z.source.includes("?<=")||Z.source.includes("?<!"))return!0;else return!1}regexPatternFunction(Z){let J=new RegExp(Z,Z.flags+"y");return(Q,K)=>{return J.lastIndex=K,J.exec(Q)}}buildKeywordTokens(Z,J,Q){return Z.filter(vQ).flatMap((K)=>JU(K).filter($K)).distinct((K)=>K.value).toArray().sort((K,X)=>X.value.length-K.value.length).map((K)=>this.buildKeywordToken(K,J,Boolean(Q===null||Q===void 0?void 0:Q.caseInsensitive)))}buildKeywordToken(Z,J,Q){let K=this.buildKeywordPattern(Z,Q),X={name:Z.value,PATTERN:K,LONGER_ALT:this.findLongerAlt(Z,J)};if(typeof K==="function")X.LINE_BREAKS=!0;return X}buildKeywordPattern(Z,J){return J?new RegExp(ps(Z.value)):Z.value}findLongerAlt(Z,J){return J.reduce((Q,K)=>{let X=K===null||K===void 0?void 0:K.PATTERN;if((X===null||X===void 0?void 0:X.source)&&cs("^"+X.source+"$",Z.value))Q.push(K);return Q},[])}}var Ak=_(()=>{CW();ZU();z6();_5();CM();Z4()});class rB{convert(Z,J){let Q=J.grammarSource;if(Cz(Q))Q=is(Q);if(k5(Q)){let K=Q.rule.ref;if(!K)throw Error("This cst node was not parsed by a rule.");return this.runConverter(K,Z,J)}return Z}runConverter(Z,J,Q){var K;switch(Z.name.toUpperCase()){case"INT":return IU.convertInt(J);case"STRING":return IU.convertString(J);case"ID":return IU.convertID(J)}switch((K=es(Z))===null||K===void 0?void 0:K.toLowerCase()){case"number":return IU.convertNumber(J);case"boolean":return IU.convertBoolean(J);case"bigint":return IU.convertBigint(J);case"date":return IU.convertDate(J);default:return J}}}var IU;var xa=_(()=>{ZU();_5();(function(Z){function J(G){let z="";for(let H=1;H<G.length-1;H++){let F=G.charAt(H);if(F==="\\"){let M=G.charAt(++H);z+=Q(M)}else z+=F}return z}Z.convertString=J;function Q(G){switch(G){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\x00";default:return G}}function K(G){if(G.charAt(0)==="^")return G.substring(1);else return G}Z.convertID=K;function X(G){return parseInt(G)}Z.convertInt=X;function U(G){return BigInt(G)}Z.convertBigint=U;function Y(G){return new Date(G)}Z.convertDate=Y;function q(G){return Number(G)}Z.convertNumber=q;function W(G){return G.toLowerCase()==="true"}Z.convertBoolean=W})(IU||(IU={}))});var ha=HJ((ax0)=>{Object.defineProperty(ax0,"__esModule",{value:!0});var ba;function ya(){if(ba===void 0)throw Error("No runtime abstraction layer installed");return ba}(function(Z){function J(Q){if(Q===void 0)throw Error("No runtime abstraction layer provided");ba=Q}Z.install=J})(ya||(ya={}));ax0.default=ya});var Jb0=HJ((ex0)=>{Object.defineProperty(ex0,"__esModule",{value:!0});ex0.stringArray=ex0.array=ex0.func=ex0.error=ex0.number=ex0.string=ex0.boolean=void 0;function k_8(Z){return Z===!0||Z===!1}ex0.boolean=k_8;function ox0(Z){return typeof Z==="string"||Z instanceof String}ex0.string=ox0;function __8(Z){return typeof Z==="number"||Z instanceof Number}ex0.number=__8;function f_8(Z){return Z instanceof Error}ex0.error=f_8;function v_8(Z){return typeof Z==="function"}ex0.func=v_8;function tx0(Z){return Array.isArray(Z)}ex0.array=tx0;function x_8(Z){return tx0(Z)&&Z.every((J)=>ox0(J))}ex0.stringArray=x_8});var ma=HJ((Xb0)=>{Object.defineProperty(Xb0,"__esModule",{value:!0});Xb0.Emitter=Xb0.Event=void 0;var p_8=ha(),Qb0;(function(Z){let J={dispose(){}};Z.None=function(){return J}})(Qb0||(Xb0.Event=Qb0={}));class Kb0{add(Z,J=null,Q){if(!this._callbacks)this._callbacks=[],this._contexts=[];if(this._callbacks.push(Z),this._contexts.push(J),Array.isArray(Q))Q.push({dispose:()=>this.remove(Z,J)})}remove(Z,J=null){if(!this._callbacks)return;let Q=!1;for(let K=0,X=this._callbacks.length;K<X;K++)if(this._callbacks[K]===Z)if(this._contexts[K]===J){this._callbacks.splice(K,1),this._contexts.splice(K,1);return}else Q=!0;if(Q)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...Z){if(!this._callbacks)return[];let J=[],Q=this._callbacks.slice(0),K=this._contexts.slice(0);for(let X=0,U=Q.length;X<U;X++)try{J.push(Q[X].apply(K[X],Z))}catch(Y){(0,p_8.default)().console.error(Y)}return J}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Nk{constructor(Z){this._options=Z}get event(){if(!this._event)this._event=(Z,J,Q)=>{if(!this._callbacks)this._callbacks=new Kb0;if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty())this._options.onFirstListenerAdd(this);this._callbacks.add(Z,J);let K={dispose:()=>{if(!this._callbacks)return;if(this._callbacks.remove(Z,J),K.dispose=Nk._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty())this._options.onLastListenerRemove(this)}};if(Array.isArray(Q))Q.push(K);return K};return this._event}fire(Z){if(this._callbacks)this._callbacks.invoke.call(this._callbacks,Z)}dispose(){if(this._callbacks)this._callbacks.dispose(),this._callbacks=void 0}}Xb0.Emitter=Nk;Nk._noop=function(){}});var Gb0=HJ((qb0)=>{Object.defineProperty(qb0,"__esModule",{value:!0});qb0.CancellationTokenSource=qb0.CancellationToken=void 0;var l_8=ha(),d_8=Jb0(),ua=ma(),Ek;(function(Z){Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ua.Event.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ua.Event.None});function J(Q){let K=Q;return K&&(K===Z.None||K===Z.Cancelled||d_8.boolean(K.isCancellationRequested)&&!!K.onCancellationRequested)}Z.is=J})(Ek||(qb0.CancellationToken=Ek={}));var i_8=Object.freeze(function(Z,J){let Q=(0,l_8.default)().timer.setTimeout(Z.bind(J),0);return{dispose(){Q.dispose()}}});class ga{constructor(){this._isCancelled=!1}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return i_8;if(!this._emitter)this._emitter=new ua.Emitter;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=void 0}}class Yb0{get token(){if(!this._token)this._token=new ga;return this._token}cancel(){if(!this._token)this._token=Ek.Cancelled;else this._token.cancel()}dispose(){if(!this._token)this._token=Ek.None;else if(this._token instanceof ga)this._token.dispose()}}qb0.CancellationTokenSource=Yb0});var N9={};var yK=_(()=>{_9(N9,d7(Gb0(),1))});function pa(){return new Promise((Z)=>{if(typeof setImmediate>"u")setTimeout(Z,0);else setImmediate(Z)})}function Pk(){return Vk=performance.now(),new N9.CancellationTokenSource}function Hb0(Z){zb0=Z}function NU(Z){return Z===AU}async function oJ(Z){if(Z===N9.CancellationToken.None)return;let J=performance.now();if(J-Vk>=zb0)Vk=J,await pa(),Vk=performance.now();if(Z.isCancellationRequested)throw AU}class H4{constructor(){this.promise=new Promise((Z,J)=>{this.resolve=(Q)=>{return Z(Q),this},this.reject=(Q)=>{return J(Q),this}})}}var Vk=0,zb0=10,AU;var hK=_(()=>{yK();AU=Symbol("OperationCancelled")});class RA{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){for(let Q of Z)if(RA.isIncremental(Q)){let K=Bb0(Q.range),X=this.offsetAt(K.start),U=this.offsetAt(K.end);this._content=this._content.substring(0,X)+Q.text+this._content.substring(U,this._content.length);let Y=Math.max(K.start.line,0),q=Math.max(K.end.line,0),W=this._lineOffsets,G=Fb0(Q.text,!1,X);if(q-Y===G.length)for(let H=0,F=G.length;H<F;H++)W[H+Y+1]=G[H];else if(G.length<1e4)W.splice(Y+1,q-Y,...G);else this._lineOffsets=W=W.slice(0,Y+1).concat(G,W.slice(q+1));let z=Q.text.length-(U-X);if(z!==0)for(let H=Y+1+G.length,F=W.length;H<F;H++)W[H]=W[H]+z}else if(RA.isFull(Q))this._content=Q.text,this._lineOffsets=void 0;else throw Error("Unknown change event received");this._version=J}getLineOffsets(){if(this._lineOffsets===void 0)this._lineOffsets=Fb0(this._content,!0);return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let J=this.getLineOffsets(),Q=0,K=J.length;if(K===0)return{line:0,character:Z};while(Q<K){let U=Math.floor((Q+K)/2);if(J[U]>Z)K=U;else Q=U+1}let X=Q-1;return Z=this.ensureBeforeEOL(Z,J[X]),{line:X,character:Z-J[X]}}offsetAt(Z){let J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;let Q=J[Z.line];if(Z.character<=0)return Q;let K=Z.line+1<J.length?J[Z.line+1]:this._content.length,X=Math.min(Q+Z.character,K);return this.ensureBeforeEOL(X,Q)}ensureBeforeEOL(Z,J){while(Z>J&&Mb0(this._content.charCodeAt(Z-1)))Z--;return Z}get lineCount(){return this.getLineOffsets().length}static isIncremental(Z){let J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range!==void 0&&(J.rangeLength===void 0||typeof J.rangeLength==="number")}static isFull(Z){let J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range===void 0&&J.rangeLength===void 0}}function ca(Z,J){if(Z.length<=1)return Z;let Q=Z.length/2|0,K=Z.slice(0,Q),X=Z.slice(Q);ca(K,J),ca(X,J);let U=0,Y=0,q=0;while(U<K.length&&Y<X.length)if(J(K[U],X[Y])<=0)Z[q++]=K[U++];else Z[q++]=X[Y++];while(U<K.length)Z[q++]=K[U++];while(Y<X.length)Z[q++]=X[Y++];return Z}function Fb0(Z,J,Q=0){let K=J?[Q]:[];for(let X=0;X<Z.length;X++){let U=Z.charCodeAt(X);if(Mb0(U)){if(U===13&&X+1<Z.length&&Z.charCodeAt(X+1)===10)X++;K.push(Q+X+1)}}return K}function Mb0(Z){return Z===13||Z===10}function Bb0(Z){let{start:J,end:Q}=Z;if(J.line>Q.line||J.line===Q.line&&J.character>Q.character)return{start:Q,end:J};return Z}function r_8(Z){let J=Bb0(Z.range);if(J!==Z.range)return{newText:Z.newText,range:J};return Z}var nB;var Ob0=_(()=>{(function(Z){function J(X,U,Y,q){return new RA(X,U,Y,q)}Z.create=J;function Q(X,U,Y){if(X instanceof RA)return X.update(U,Y),X;else throw Error("TextDocument.update: document must be created by TextDocument.create")}Z.update=Q;function K(X,U){let Y=X.getText(),q=ca(U.map(r_8),(z,H)=>{let F=z.range.start.line-H.range.start.line;if(F===0)return z.range.start.character-H.range.start.character;return F}),W=0,G=[];for(let z of q){let H=X.offsetAt(z.range.start);if(H<W)throw Error("Overlapping edit");else if(H>W)G.push(Y.substring(W,H));if(z.newText.length)G.push(z.newText);W=X.offsetAt(z.range.end)}return G.push(Y.substr(W)),G.join("")}Z.applyEdits=K})(nB||(nB={}))});var Rb0,I6,aB;var la=_(()=>{(()=>{var Z={470:(X)=>{function U(W){if(typeof W!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(W))}function Y(W,G){for(var z,H="",F=0,M=-1,B=0,O=0;O<=W.length;++O){if(O<W.length)z=W.charCodeAt(O);else{if(z===47)break;z=47}if(z===47){if(M===O-1||B===1);else if(M!==O-1&&B===2){if(H.length<2||F!==2||H.charCodeAt(H.length-1)!==46||H.charCodeAt(H.length-2)!==46){if(H.length>2){var R=H.lastIndexOf("/");if(R!==H.length-1){R===-1?(H="",F=0):F=(H=H.slice(0,R)).length-1-H.lastIndexOf("/"),M=O,B=0;continue}}else if(H.length===2||H.length===1){H="",F=0,M=O,B=0;continue}}G&&(H.length>0?H+="/..":H="..",F=2)}else H.length>0?H+="/"+W.slice(M+1,O):H=W.slice(M+1,O),F=O-M-1;M=O,B=0}else z===46&&B!==-1?++B:B=-1}return H}var q={resolve:function(){for(var W,G="",z=!1,H=arguments.length-1;H>=-1&&!z;H--){var F;H>=0?F=arguments[H]:(W===void 0&&(W=process.cwd()),F=W),U(F),F.length!==0&&(G=F+"/"+G,z=F.charCodeAt(0)===47)}return G=Y(G,!z),z?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(W){if(U(W),W.length===0)return".";var G=W.charCodeAt(0)===47,z=W.charCodeAt(W.length-1)===47;return(W=Y(W,!G)).length!==0||G||(W="."),W.length>0&&z&&(W+="/"),G?"/"+W:W},isAbsolute:function(W){return U(W),W.length>0&&W.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var W,G=0;G<arguments.length;++G){var z=arguments[G];U(z),z.length>0&&(W===void 0?W=z:W+="/"+z)}return W===void 0?".":q.normalize(W)},relative:function(W,G){if(U(W),U(G),W===G)return"";if((W=q.resolve(W))===(G=q.resolve(G)))return"";for(var z=1;z<W.length&&W.charCodeAt(z)===47;++z);for(var H=W.length,F=H-z,M=1;M<G.length&&G.charCodeAt(M)===47;++M);for(var B=G.length-M,O=F<B?F:B,R=-1,D=0;D<=O;++D){if(D===O){if(B>O){if(G.charCodeAt(M+D)===47)return G.slice(M+D+1);if(D===0)return G.slice(M+D)}else F>O&&(W.charCodeAt(z+D)===47?R=D:D===0&&(R=0));break}var L=W.charCodeAt(z+D);if(L!==G.charCodeAt(M+D))break;L===47&&(R=D)}var A="";for(D=z+R+1;D<=H;++D)D!==H&&W.charCodeAt(D)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+G.slice(M+R):(M+=R,G.charCodeAt(M)===47&&++M,G.slice(M))},_makeLong:function(W){return W},dirname:function(W){if(U(W),W.length===0)return".";for(var G=W.charCodeAt(0),z=G===47,H=-1,F=!0,M=W.length-1;M>=1;--M)if((G=W.charCodeAt(M))===47){if(!F){H=M;break}}else F=!1;return H===-1?z?"/":".":z&&H===1?"//":W.slice(0,H)},basename:function(W,G){if(G!==void 0&&typeof G!="string")throw TypeError('"ext" argument must be a string');U(W);var z,H=0,F=-1,M=!0;if(G!==void 0&&G.length>0&&G.length<=W.length){if(G.length===W.length&&G===W)return"";var B=G.length-1,O=-1;for(z=W.length-1;z>=0;--z){var R=W.charCodeAt(z);if(R===47){if(!M){H=z+1;break}}else O===-1&&(M=!1,O=z+1),B>=0&&(R===G.charCodeAt(B)?--B==-1&&(F=z):(B=-1,F=O))}return H===F?F=O:F===-1&&(F=W.length),W.slice(H,F)}for(z=W.length-1;z>=0;--z)if(W.charCodeAt(z)===47){if(!M){H=z+1;break}}else F===-1&&(M=!1,F=z+1);return F===-1?"":W.slice(H,F)},extname:function(W){U(W);for(var G=-1,z=0,H=-1,F=!0,M=0,B=W.length-1;B>=0;--B){var O=W.charCodeAt(B);if(O!==47)H===-1&&(F=!1,H=B+1),O===46?G===-1?G=B:M!==1&&(M=1):G!==-1&&(M=-1);else if(!F){z=B+1;break}}return G===-1||H===-1||M===0||M===1&&G===H-1&&G===z+1?"":W.slice(G,H)},format:function(W){if(W===null||typeof W!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof W);return function(G,z){var H=z.dir||z.root,F=z.base||(z.name||"")+(z.ext||"");return H?H===z.root?H+F:H+"/"+F:F}(0,W)},parse:function(W){U(W);var G={root:"",dir:"",base:"",ext:"",name:""};if(W.length===0)return G;var z,H=W.charCodeAt(0),F=H===47;F?(G.root="/",z=1):z=0;for(var M=-1,B=0,O=-1,R=!0,D=W.length-1,L=0;D>=z;--D)if((H=W.charCodeAt(D))!==47)O===-1&&(R=!1,O=D+1),H===46?M===-1?M=D:L!==1&&(L=1):M!==-1&&(L=-1);else if(!R){B=D+1;break}return M===-1||O===-1||L===0||L===1&&M===O-1&&M===B+1?O!==-1&&(G.base=G.name=B===0&&F?W.slice(1,O):W.slice(B,O)):(B===0&&F?(G.name=W.slice(1,M),G.base=W.slice(1,O)):(G.name=W.slice(B,M),G.base=W.slice(B,O)),G.ext=W.slice(M,O)),B>0?G.dir=W.slice(0,B-1):F&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,X.exports=q}},J={};function Q(X){var U=J[X];if(U!==void 0)return U.exports;var Y=J[X]={exports:{}};return Z[X](Y,Y.exports,Q),Y.exports}Q.d=(X,U)=>{for(var Y in U)Q.o(U,Y)&&!Q.o(X,Y)&&Object.defineProperty(X,Y,{enumerable:!0,get:U[Y]})},Q.o=(X,U)=>Object.prototype.hasOwnProperty.call(X,U),Q.r=(X)=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})};var K={};(()=>{let X;if(Q.r(K),Q.d(K,{URI:()=>F,Utils:()=>k}),typeof process=="object")X=process.platform==="win32";else if(typeof navigator=="object")X=navigator.userAgent.indexOf("Windows")>=0;let U=/^\w[\w\d+.-]*$/,Y=/^\//,q=/^\/\//;function W(w,P){if(!w.scheme&&P)throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!U.test(w.scheme))throw Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!Y.test(w.path))throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(q.test(w.path))throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let G="",z="/",H=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class F{static isUri(w){return w instanceof F||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"}scheme;authority;path;query;fragment;constructor(w,P,T,S,f,v=!1){typeof w=="object"?(this.scheme=w.scheme||G,this.authority=w.authority||G,this.path=w.path||G,this.query=w.query||G,this.fragment=w.fragment||G):(this.scheme=function(x,b){return x||b?x:"file"}(w,v),this.authority=P||G,this.path=function(x,b){switch(x){case"https":case"http":case"file":b?b[0]!==z&&(b=z+b):b=z}return b}(this.scheme,T||G),this.query=S||G,this.fragment=f||G,W(this,v))}get fsPath(){return L(this,!1)}with(w){if(!w)return this;let{scheme:P,authority:T,path:S,query:f,fragment:v}=w;return P===void 0?P=this.scheme:P===null&&(P=G),T===void 0?T=this.authority:T===null&&(T=G),S===void 0?S=this.path:S===null&&(S=G),f===void 0?f=this.query:f===null&&(f=G),v===void 0?v=this.fragment:v===null&&(v=G),P===this.scheme&&T===this.authority&&S===this.path&&f===this.query&&v===this.fragment?this:new B(P,T,S,f,v)}static parse(w,P=!1){let T=H.exec(w);return T?new B(T[2]||G,E(T[4]||G),E(T[5]||G),E(T[7]||G),E(T[9]||G),P):new B(G,G,G,G,G)}static file(w){let P=G;if(X&&(w=w.replace(/\\/g,z)),w[0]===z&&w[1]===z){let T=w.indexOf(z,2);T===-1?(P=w.substring(2),w=z):(P=w.substring(2,T),w=w.substring(T)||z)}return new B("file",P,w,G,G)}static from(w){let P=new B(w.scheme,w.authority,w.path,w.query,w.fragment);return W(P,!0),P}toString(w=!1){return A(this,w)}toJSON(){return this}static revive(w){if(w){if(w instanceof F)return w;{let P=new B(w);return P._formatted=w.external,P._fsPath=w._sep===M?w.fsPath:null,P}}return w}}let M=X?1:void 0;class B extends F{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=L(this,!1)),this._fsPath}toString(w=!1){return w?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)}toJSON(){let w={$mid:1};return this._fsPath&&(w.fsPath=this._fsPath,w._sep=M),this._formatted&&(w.external=this._formatted),this.path&&(w.path=this.path),this.scheme&&(w.scheme=this.scheme),this.authority&&(w.authority=this.authority),this.query&&(w.query=this.query),this.fragment&&(w.fragment=this.fragment),w}}let O={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function R(w,P,T){let S,f=-1;for(let v=0;v<w.length;v++){let x=w.charCodeAt(v);if(x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===45||x===46||x===95||x===126||P&&x===47||T&&x===91||T&&x===93||T&&x===58)f!==-1&&(S+=encodeURIComponent(w.substring(f,v)),f=-1),S!==void 0&&(S+=w.charAt(v));else{S===void 0&&(S=w.substr(0,v));let b=O[x];b!==void 0?(f!==-1&&(S+=encodeURIComponent(w.substring(f,v)),f=-1),S+=b):f===-1&&(f=v)}}return f!==-1&&(S+=encodeURIComponent(w.substring(f))),S!==void 0?S:w}function D(w){let P;for(let T=0;T<w.length;T++){let S=w.charCodeAt(T);S===35||S===63?(P===void 0&&(P=w.substr(0,T)),P+=O[S]):P!==void 0&&(P+=w[T])}return P!==void 0?P:w}function L(w,P){let T;return T=w.authority&&w.path.length>1&&w.scheme==="file"?`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?P?w.path.substr(1):w.path[1].toLowerCase()+w.path.substr(2):w.path,X&&(T=T.replace(/\//g,"\\")),T}function A(w,P){let T=P?D:R,S="",{scheme:f,authority:v,path:x,query:b,fragment:y}=w;if(f&&(S+=f,S+=":"),(v||f==="file")&&(S+=z,S+=z),v){let u=v.indexOf("@");if(u!==-1){let h=v.substr(0,u);v=v.substr(u+1),u=h.lastIndexOf(":"),u===-1?S+=T(h,!1,!1):(S+=T(h.substr(0,u),!1,!1),S+=":",S+=T(h.substr(u+1),!1,!0)),S+="@"}v=v.toLowerCase(),u=v.lastIndexOf(":"),u===-1?S+=T(v,!1,!0):(S+=T(v.substr(0,u),!1,!0),S+=v.substr(u))}if(x){if(x.length>=3&&x.charCodeAt(0)===47&&x.charCodeAt(2)===58){let u=x.charCodeAt(1);u>=65&&u<=90&&(x=`/${String.fromCharCode(u+32)}:${x.substr(3)}`)}else if(x.length>=2&&x.charCodeAt(1)===58){let u=x.charCodeAt(0);u>=65&&u<=90&&(x=`${String.fromCharCode(u+32)}:${x.substr(2)}`)}S+=T(x,!0,!1)}return b&&(S+="?",S+=T(b,!1,!1)),y&&(S+="#",S+=P?y:R(y,!1,!1)),S}function V(w){try{return decodeURIComponent(w)}catch{return w.length>3?w.substr(0,3)+V(w.substr(3)):w}}let N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function E(w){return w.match(N)?w.replace(N,(P)=>V(P)):w}var j=Q(470);let C=j.posix||j,$="/";var k;(function(w){w.joinPath=function(P,...T){return P.with({path:C.join(P.path,...T)})},w.resolvePath=function(P,...T){let S=P.path,f=!1;S[0]!==$&&(S=$+S,f=!0);let v=C.resolve(S,...T);return f&&v[0]===$&&!P.authority&&(v=v.substring(1)),P.with({path:v})},w.dirname=function(P){if(P.path.length===0||P.path===$)return P;let T=C.dirname(P.path);return T.length===1&&T.charCodeAt(0)===46&&(T=""),P.with({path:T})},w.basename=function(P){return C.basename(P.path)},w.extname=function(P){return C.extname(P.path)}})(k||(k={}))})(),Rb0=K})();({URI:I6,Utils:aB}=Rb0)});var A6;var EU=_(()=>{la();(function(Z){Z.basename=aB.basename,Z.dirname=aB.dirname,Z.extname=aB.extname,Z.joinPath=aB.joinPath,Z.resolvePath=aB.resolvePath;function J(X,U){return(X===null||X===void 0?void 0:X.toString())===(U===null||U===void 0?void 0:U.toString())}Z.equals=J;function Q(X,U){let Y=typeof X==="string"?X:X.path,q=typeof U==="string"?U:U.path,W=Y.split("/").filter((M)=>M.length>0),G=q.split("/").filter((M)=>M.length>0),z=0;for(;z<W.length;z++)if(W[z]!==G[z])break;let H="../".repeat(W.length-z),F=G.slice(z).join("/");return H+F}Z.relative=Q;function K(X){return I6.parse(X.toString()).toString()}Z.normalize=K})(A6||(A6={}))});class jk{constructor(Z){this.serviceRegistry=Z.ServiceRegistry,this.textDocuments=Z.workspace.TextDocuments,this.fileSystemProvider=Z.workspace.FileSystemProvider}async fromUri(Z,J=N9.CancellationToken.None){let Q=await this.fileSystemProvider.readFile(Z);return this.createAsync(Z,Q,J)}fromTextDocument(Z,J,Q){if(J=J!==null&&J!==void 0?J:I6.parse(Z.uri),N9.CancellationToken.is(Q))return this.createAsync(J,Z,Q);else return this.create(J,Z,Q)}fromString(Z,J,Q){if(N9.CancellationToken.is(Q))return this.createAsync(J,Z,Q);else return this.create(J,Z,Q)}fromModel(Z,J){return this.create(J,{$model:Z})}create(Z,J,Q){if(typeof J==="string"){let K=this.parse(Z,J,Q);return this.createLangiumDocument(K,Z,void 0,J)}else if("$model"in J){let K={value:J.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(K,Z)}else{let K=this.parse(Z,J.getText(),Q);return this.createLangiumDocument(K,Z,J)}}async createAsync(Z,J,Q){if(typeof J==="string"){let K=await this.parseAsync(Z,J,Q);return this.createLangiumDocument(K,Z,void 0,J)}else{let K=await this.parseAsync(Z,J.getText(),Q);return this.createLangiumDocument(K,Z,J)}}createLangiumDocument(Z,J,Q,K){let X;if(Q)X={parseResult:Z,uri:J,state:pZ.Parsed,references:[],textDocument:Q};else{let U=this.createTextDocumentGetter(J,K);X={parseResult:Z,uri:J,state:pZ.Parsed,references:[],get textDocument(){return U()}}}return Z.value.$document=X,X}async update(Z,J){var Q,K;let X=(Q=Z.parseResult.value.$cstNode)===null||Q===void 0?void 0:Q.root.fullText,U=(K=this.textDocuments)===null||K===void 0?void 0:K.get(Z.uri.toString()),Y=U?U.getText():await this.fileSystemProvider.readFile(Z.uri);if(U)Object.defineProperty(Z,"textDocument",{value:U});else{let q=this.createTextDocumentGetter(Z.uri,Y);Object.defineProperty(Z,"textDocument",{get:q})}if(X!==Y)Z.parseResult=await this.parseAsync(Z.uri,Y,J),Z.parseResult.value.$document=Z;return Z.state=pZ.Parsed,Z}parse(Z,J,Q){return this.serviceRegistry.getServices(Z).parser.LangiumParser.parse(J,Q)}parseAsync(Z,J,Q){return this.serviceRegistry.getServices(Z).parser.AsyncParser.parse(J,Q)}createTextDocumentGetter(Z,J){let Q=this.serviceRegistry,K=void 0;return()=>{return K!==null&&K!==void 0?K:K=nB.create(Z.toString(),Q.getServices(Z).LanguageMetaData.languageId,0,J!==null&&J!==void 0?J:"")}}}class Ck{constructor(Z){this.documentMap=new Map,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.serviceRegistry=Z.ServiceRegistry}get all(){return DZ(this.documentMap.values())}addDocument(Z){let J=Z.uri.toString();if(this.documentMap.has(J))throw Error(`A document with the URI '${J}' is already present.`);this.documentMap.set(J,Z)}getDocument(Z){let J=Z.toString();return this.documentMap.get(J)}async getOrCreateDocument(Z,J){let Q=this.getDocument(Z);if(Q)return Q;return Q=await this.langiumDocumentFactory.fromUri(Z,J),this.addDocument(Q),Q}createDocument(Z,J,Q){if(Q)return this.langiumDocumentFactory.fromString(J,Z,Q).then((K)=>{return this.addDocument(K),K});else{let K=this.langiumDocumentFactory.fromString(J,Z);return this.addDocument(K),K}}hasDocument(Z){return this.documentMap.has(Z.toString())}invalidateDocument(Z){let J=Z.toString(),Q=this.documentMap.get(J);if(Q)this.serviceRegistry.getServices(Z).references.Linker.unlink(Q),Q.state=pZ.Changed,Q.precomputedScopes=void 0,Q.diagnostics=void 0;return Q}deleteDocument(Z){let J=Z.toString(),Q=this.documentMap.get(J);if(Q)Q.state=pZ.Changed,this.documentMap.delete(J);return Q}}var pZ;var oB=_(()=>{Ob0();oB();yK();Z4();EU();(function(Z){Z[Z.Changed=0]="Changed",Z[Z.Parsed=1]="Parsed",Z[Z.IndexedContent=2]="IndexedContent",Z[Z.ComputedScopes=3]="ComputedScopes",Z[Z.Linked=4]="Linked",Z[Z.IndexedReferences=5]="IndexedReferences",Z[Z.Validated=6]="Validated"})(pZ||(pZ={}))});class Sk{constructor(Z){this.reflection=Z.shared.AstReflection,this.langiumDocuments=()=>Z.shared.workspace.LangiumDocuments,this.scopeProvider=Z.references.ScopeProvider,this.astNodeLocator=Z.workspace.AstNodeLocator}async link(Z,J=N9.CancellationToken.None){for(let Q of kK(Z.parseResult.value))await oJ(J),EM(Q).forEach((K)=>this.doLink(K,Z))}doLink(Z,J){var Q;let K=Z.reference;if(K._ref===void 0){K._ref=da;try{let X=this.getCandidate(Z);if(Ez(X))K._ref=X;else if(K._nodeDescription=X,this.langiumDocuments().hasDocument(X.documentUri)){let U=this.loadAstNode(X);K._ref=U!==null&&U!==void 0?U:this.createLinkingError(Z,X)}else K._ref=void 0}catch(X){console.error(`An error occurred while resolving reference to '${K.$refText}':`,X);let U=(Q=X.message)!==null&&Q!==void 0?Q:String(X);K._ref=Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${K.$refText}': ${U}`})}J.references.push(K)}}unlink(Z){for(let J of Z.references)delete J._ref,delete J._nodeDescription;Z.references=[]}getCandidate(Z){let Q=this.scopeProvider.getScope(Z).getElement(Z.reference.$refText);return Q!==null&&Q!==void 0?Q:this.createLinkingError(Z)}buildReference(Z,J,Q,K){let X=this,U={$refNode:Q,$refText:K,get ref(){var Y;if($J(this._ref))return this._ref;else if(Fs(this._nodeDescription)){let q=X.loadAstNode(this._nodeDescription);this._ref=q!==null&&q!==void 0?q:X.createLinkingError({reference:U,container:Z,property:J},this._nodeDescription)}else if(this._ref===void 0){this._ref=da;let q=KI(Z).$document,W=X.getLinkedNode({reference:U,container:Z,property:J});if(W.error&&q&&q.state<pZ.ComputedScopes)return this._ref=void 0;this._ref=(Y=W.node)!==null&&Y!==void 0?Y:W.error,this._nodeDescription=W.descr,q===null||q===void 0||q.references.push(this)}else if(this._ref===da)throw Error(`Cyclic reference resolution detected: ${X.astNodeLocator.getAstNodePath(Z)}/${J} (symbol '${K}')`);return $J(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Ez(this._ref)?this._ref:void 0}};return U}getLinkedNode(Z){var J;try{let Q=this.getCandidate(Z);if(Ez(Q))return{error:Q};let K=this.loadAstNode(Q);if(K)return{node:K,descr:Q};else return{descr:Q,error:this.createLinkingError(Z,Q)}}catch(Q){console.error(`An error occurred while resolving reference to '${Z.reference.$refText}':`,Q);let K=(J=Q.message)!==null&&J!==void 0?J:String(Q);return{error:Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${Z.reference.$refText}': ${K}`})}}}loadAstNode(Z){if(Z.node)return Z.node;let J=this.langiumDocuments().getDocument(Z.documentUri);if(!J)return;return this.astNodeLocator.getAstNode(J.parseResult.value,Z.path)}createLinkingError(Z,J){let Q=KI(Z.container).$document;if(Q&&Q.state<pZ.ComputedScopes)console.warn(`Attempted reference resolution before document reached ComputedScopes state (${Q.uri}).`);let K=this.reflection.getReferenceType(Z);return Object.assign(Object.assign({},Z),{message:`Could not resolve reference to ${K} named '${Z.reference.$refText}'.`,targetDescription:J})}}var da;var ia=_(()=>{yK();z6();hK();oB();da=Symbol("ref_resolving")});function Db0(Z){return typeof Z.name==="string"}class Tk{getName(Z){if(Db0(Z))return Z.name;return}getNameNode(Z){return zI(Z.$cstNode,"name")}}var sa=_(()=>{_5()});class wk{constructor(Z){this.nameProvider=Z.references.NameProvider,this.index=Z.shared.workspace.IndexManager,this.nodeLocator=Z.workspace.AstNodeLocator}findDeclaration(Z){if(Z){let J=ts(Z),Q=Z.astNode;if(J&&Q){let K=Q[J.feature];if(BQ(K))return K.ref;else if(Array.isArray(K)){for(let X of K)if(BQ(X)&&X.$refNode&&X.$refNode.offset<=Z.offset&&X.$refNode.end>=Z.end)return X.ref}}if(Q){let K=this.nameProvider.getNameNode(Q);if(K&&(K===Z||Bs(Z,K)))return Q}}return}findDeclarationNode(Z){let J=this.findDeclaration(Z);if(J===null||J===void 0?void 0:J.$cstNode){let Q=this.nameProvider.getNameNode(J);return Q!==null&&Q!==void 0?Q:J.$cstNode}return}findReferences(Z,J){let Q=[];if(J.includeDeclaration){let X=this.getReferenceToSelf(Z);if(X)Q.push(X)}let K=this.index.findAllReferences(Z,this.nodeLocator.getAstNodePath(Z));if(J.documentUri)K=K.filter((X)=>A6.equals(X.sourceUri,J.documentUri));return Q.push(...K),DZ(Q)}getReferenceToSelf(Z){let J=this.nameProvider.getNameNode(Z);if(J){let Q=xQ(Z),K=this.nodeLocator.getAstNodePath(Z);return{sourceUri:Q.uri,sourcePath:K,targetUri:Q.uri,targetPath:K,segment:Pz(J),local:!0}}return}}var ra=_(()=>{_5();z6();w5();Z4();EU()});class tB{get size(){return this.map.size}constructor(Z){if(this.map=new Map,this.inverse=new Map,Z)for(let[J,Q]of Z)this.set(J,Q)}clear(){this.map.clear(),this.inverse.clear()}set(Z,J){return this.map.set(Z,J),this.inverse.set(J,Z),this}get(Z){return this.map.get(Z)}getKey(Z){return this.inverse.get(Z)}delete(Z){let J=this.map.get(Z);if(J!==void 0)return this.map.delete(Z),this.inverse.delete(J),!0;return!1}}var VU;var eB=_(()=>{Z4();VU=class VU{constructor(Z){if(this.map=new Map,Z)for(let[J,Q]of Z)this.add(J,Q)}get size(){return xF.sum(DZ(this.map.values()).map((Z)=>Z.length))}clear(){this.map.clear()}delete(Z,J){if(J===void 0)return this.map.delete(Z);else{let Q=this.map.get(Z);if(Q){let K=Q.indexOf(J);if(K>=0){if(Q.length===1)this.map.delete(Z);else Q.splice(K,1);return!0}}return!1}}get(Z){var J;return(J=this.map.get(Z))!==null&&J!==void 0?J:[]}has(Z,J){if(J===void 0)return this.map.has(Z);else{let Q=this.map.get(Z);if(Q)return Q.indexOf(J)>=0;return!1}}add(Z,J){if(this.map.has(Z))this.map.get(Z).push(J);else this.map.set(Z,[J]);return this}addAll(Z,J){if(this.map.has(Z))this.map.get(Z).push(...J);else this.map.set(Z,Array.from(J));return this}forEach(Z){this.map.forEach((J,Q)=>J.forEach((K)=>Z(K,Q,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return DZ(this.map.entries()).flatMap(([Z,J])=>J.map((Q)=>[Z,Q]))}keys(){return DZ(this.map.keys())}values(){return DZ(this.map.values()).flat()}entriesGroupedByKey(){return DZ(this.map.entries())}}});class $k{constructor(Z){this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider}async computeExports(Z,J=N9.CancellationToken.None){return this.computeExportsForNode(Z.parseResult.value,Z,void 0,J)}async computeExportsForNode(Z,J,Q=XI,K=N9.CancellationToken.None){let X=[];this.exportNode(Z,X,J);for(let U of Q(Z))await oJ(K),this.exportNode(U,X,J);return X}exportNode(Z,J,Q){let K=this.nameProvider.getName(Z);if(K)J.push(this.descriptions.createDescription(Z,K,Q))}async computeLocalScopes(Z,J=N9.CancellationToken.None){let Q=Z.parseResult.value,K=new VU;for(let X of JU(Q))await oJ(J),this.processNode(X,Z,K);return K}processNode(Z,J,Q){let K=Z.$container;if(K){let X=this.nameProvider.getName(Z);if(X)Q.add(K,this.descriptions.createDescription(Z,X,J))}}}var na=_(()=>{yK();z6();eB();hK()});class DA{constructor(Z,J,Q){var K;this.elements=Z,this.outerScope=J,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1}getAllElements(){if(this.outerScope)return this.elements.concat(this.outerScope.getAllElements());else return this.elements}getElement(Z){let J=this.caseInsensitive?this.elements.find((Q)=>Q.name.toLowerCase()===Z.toLowerCase()):this.elements.find((Q)=>Q.name===Z);if(J)return J;if(this.outerScope)return this.outerScope.getElement(Z);return}}class kk{constructor(Z,J,Q){var K;this.elements=new Map,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1;for(let X of Z){let U=this.caseInsensitive?X.name.toLowerCase():X.name;this.elements.set(U,X)}this.outerScope=J}getElement(Z){let J=this.caseInsensitive?Z.toLowerCase():Z,Q=this.elements.get(J);if(Q)return Q;if(this.outerScope)return this.outerScope.getElement(Z);return}getAllElements(){let Z=DZ(this.elements.values());if(this.outerScope)Z=Z.concat(this.outerScope.getAllElements());return Z}}var n_8;var aa=_(()=>{Z4();n_8={getElement(){return},getAllElements(){return iL}}});class LA{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(Z){this.toDispose.push(Z)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((Z)=>Z.dispose())}throwIfDisposed(){if(this.isDisposed)throw Error("This cache has already been disposed")}}var _k,ZO,oa,IA;var fk=_(()=>{_k=class _k extends LA{constructor(){super(...arguments);this.cache=new Map}has(Z){return this.throwIfDisposed(),this.cache.has(Z)}set(Z,J){this.throwIfDisposed(),this.cache.set(Z,J)}get(Z,J){if(this.throwIfDisposed(),this.cache.has(Z))return this.cache.get(Z);else if(J){let Q=J();return this.cache.set(Z,Q),Q}else return}delete(Z){return this.throwIfDisposed(),this.cache.delete(Z)}clear(){this.throwIfDisposed(),this.cache.clear()}};ZO=class ZO extends LA{constructor(Z){super();this.cache=new Map,this.converter=Z!==null&&Z!==void 0?Z:(J)=>J}has(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).has(J)}set(Z,J,Q){this.throwIfDisposed(),this.cacheForContext(Z).set(J,Q)}get(Z,J,Q){this.throwIfDisposed();let K=this.cacheForContext(Z);if(K.has(J))return K.get(J);else if(Q){let X=Q();return K.set(J,X),X}else return}delete(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).delete(J)}clear(Z){if(this.throwIfDisposed(),Z){let J=this.converter(Z);this.cache.delete(J)}else this.cache.clear()}cacheForContext(Z){let J=this.converter(Z),Q=this.cache.get(J);if(!Q)Q=new Map,this.cache.set(J,Q);return Q}};oa=class oa extends ZO{constructor(Z,J){super((Q)=>Q.toString());if(J)this.toDispose.push(Z.workspace.DocumentBuilder.onDocumentPhase(J,(Q)=>{this.clear(Q.uri.toString())})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{for(let X of K)this.clear(X)}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{let X=Q.concat(K);for(let U of X)this.clear(U)}))}};IA=class IA extends _k{constructor(Z,J){super();if(J)this.toDispose.push(Z.workspace.DocumentBuilder.onBuildPhase(J,()=>{this.clear()})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{if(K.length>0)this.clear()}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});class vk{constructor(Z){this.reflection=Z.shared.AstReflection,this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider,this.indexManager=Z.shared.workspace.IndexManager,this.globalScopeCache=new IA(Z.shared)}getScope(Z){let J=[],Q=this.reflection.getReferenceType(Z),K=xQ(Z.container).precomputedScopes;if(K){let U=Z.container;do{let Y=K.get(U);if(Y.length>0)J.push(DZ(Y).filter((q)=>this.reflection.isSubtype(q.type,Q)));U=U.$container}while(U)}let X=this.getGlobalScope(Q,Z);for(let U=J.length-1;U>=0;U--)X=this.createScope(J[U],X);return X}createScope(Z,J,Q){return new DA(DZ(Z),J,Q)}createScopeForNodes(Z,J,Q){let K=DZ(Z).map((X)=>{let U=this.nameProvider.getName(X);if(U)return this.descriptions.createDescription(X,U);return}).nonNullable();return new DA(K,J,Q)}getGlobalScope(Z,J){return this.globalScopeCache.get(Z,()=>new kk(this.indexManager.allElements(Z)))}}var ta=_(()=>{aa();z6();Z4();fk()});function ea(Z){return typeof Z.$comment==="string"}function Lb0(Z){return typeof Z==="object"&&!!Z&&(("$ref"in Z)||("$error"in Z))}class xk{constructor(Z){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=Z.shared.workspace.LangiumDocuments,this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider,this.commentProvider=Z.documentation.CommentProvider}serialize(Z,J){let Q=J!==null&&J!==void 0?J:{},K=J===null||J===void 0?void 0:J.replacer,X=(Y,q)=>this.replacer(Y,q,Q),U=K?(Y,q)=>K(Y,q,X):X;try{return this.currentDocument=xQ(Z),JSON.stringify(Z,U,J===null||J===void 0?void 0:J.space)}finally{this.currentDocument=void 0}}deserialize(Z,J){let Q=J!==null&&J!==void 0?J:{},K=JSON.parse(Z);return this.linkNode(K,K,Q),K}replacer(Z,J,{refText:Q,sourceText:K,textRegions:X,comments:U,uriConverter:Y}){var q,W,G,z;if(this.ignoreProperties.has(Z))return;else if(BQ(J)){let H=J.ref,F=Q?J.$refText:void 0;if(H){let M=xQ(H),B="";if(this.currentDocument&&this.currentDocument!==M)if(Y)B=Y(M.uri,J);else B=M.uri.toString();let O=this.astNodeLocator.getAstNodePath(H);return{$ref:`${B}#${O}`,$refText:F}}else return{$error:(W=(q=J.error)===null||q===void 0?void 0:q.message)!==null&&W!==void 0?W:"Could not resolve reference",$refText:F}}else if($J(J)){let H=void 0;if(X){if(H=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},J)),(!Z||J.$document)&&(H===null||H===void 0?void 0:H.$textRegion))H.$textRegion.documentURI=(G=this.currentDocument)===null||G===void 0?void 0:G.uri.toString()}if(K&&!Z)H!==null&&H!==void 0||(H=Object.assign({},J)),H.$sourceText=(z=J.$cstNode)===null||z===void 0?void 0:z.text;if(U){H!==null&&H!==void 0||(H=Object.assign({},J));let F=this.commentProvider.getComment(J);if(F)H.$comment=F.replace(/\r/g,"")}return H!==null&&H!==void 0?H:J}else return J}addAstNodeRegionWithAssignmentsTo(Z){let J=(Q)=>({offset:Q.offset,end:Q.end,length:Q.length,range:Q.range});if(Z.$cstNode){let Q=Z.$textRegion=J(Z.$cstNode),K=Q.assignments={};return Object.keys(Z).filter((X)=>!X.startsWith("$")).forEach((X)=>{let U=rs(Z.$cstNode,X).map(J);if(U.length!==0)K[X]=U}),Z}return}linkNode(Z,J,Q,K,X,U){for(let[q,W]of Object.entries(Z))if(Array.isArray(W))for(let G=0;G<W.length;G++){let z=W[G];if(Lb0(z))W[G]=this.reviveReference(Z,q,J,z,Q);else if($J(z))this.linkNode(z,J,Q,Z,q,G)}else if(Lb0(W))Z[q]=this.reviveReference(Z,q,J,W,Q);else if($J(W))this.linkNode(W,J,Q,Z,q);let Y=Z;Y.$container=K,Y.$containerProperty=X,Y.$containerIndex=U}reviveReference(Z,J,Q,K,X){let{$refText:U,$error:Y}=K;if(K.$ref){let q=this.getRefNode(Q,K.$ref,X.uriConverter);if($J(q)){if(!U)U=this.nameProvider.getName(q);return{$refText:U!==null&&U!==void 0?U:"",ref:q}}else Y=q}if(Y){let q={$refText:U!==null&&U!==void 0?U:""};return q.error={container:Z,property:J,message:Y,reference:q},q}else return}getRefNode(Z,J,Q){try{let K=J.indexOf("#");if(K===0){let q=this.astNodeLocator.getAstNode(Z,J.substring(1));if(!q)return"Could not resolve path: "+J;return q}if(K<0){let q=Q?Q(J):I6.parse(J),W=this.langiumDocuments.getDocument(q);if(!W)return"Could not find document for URI: "+J;return W.parseResult.value}let X=Q?Q(J.substring(0,K)):I6.parse(J.substring(0,K)),U=this.langiumDocuments.getDocument(X);if(!U)return"Could not find document for URI: "+J;if(K===J.length-1)return U.parseResult.value;let Y=this.astNodeLocator.getAstNode(U.parseResult.value,J.substring(K+1));if(!Y)return"Could not resolve URI: "+J;return Y}catch(K){return String(K)}}}var bk=_(()=>{la();z6();_5()});class yk{get map(){return this.fileExtensionMap}constructor(Z){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=Z===null||Z===void 0?void 0:Z.workspace.TextDocuments}register(Z){let J=Z.LanguageMetaData;for(let Q of J.fileExtensions){if(this.fileExtensionMap.has(Q))console.warn(`The file extension ${Q} is used by multiple languages. It is now assigned to '${J.languageId}'.`);this.fileExtensionMap.set(Q,Z)}if(this.languageIdMap.set(J.languageId,Z),this.languageIdMap.size===1)this.singleton=Z;else this.singleton=void 0}getServices(Z){var J,Q;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw Error("The service registry is empty. Use `register` to register the services of a language.");let K=(Q=(J=this.textDocuments)===null||J===void 0?void 0:J.get(Z))===null||Q===void 0?void 0:Q.languageId;if(K!==void 0){let Y=this.languageIdMap.get(K);if(Y)return Y}let X=A6.extname(Z),U=this.fileExtensionMap.get(X);if(!U)if(K)throw Error(`The service registry contains no services for the extension '${X}' for language '${K}'.`);else throw Error(`The service registry contains no services for the extension '${X}'.`);return U}hasServices(Z){try{return this.getServices(Z),!0}catch(J){return!1}}get all(){return Array.from(this.languageIdMap.values())}}var Zo=_(()=>{EU()});function iz(Z){return{code:Z}}class hk{constructor(Z){this.entries=new VU,this.entriesBefore=[],this.entriesAfter=[],this.reflection=Z.shared.AstReflection}register(Z,J=this,Q="fast"){if(Q==="built-in")throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[K,X]of Object.entries(Z)){let U=X;if(Array.isArray(U))for(let Y of U){let q={check:this.wrapValidationException(Y,J),category:Q};this.addEntry(K,q)}else if(typeof U==="function"){let Y={check:this.wrapValidationException(U,J),category:Q};this.addEntry(K,Y)}else eX(U)}}wrapValidationException(Z,J){return async(Q,K,X)=>{await this.handleException(()=>Z.call(J,Q,K,X),"An error occurred during validation",K,Q)}}async handleException(Z,J,Q,K){try{await Z()}catch(X){if(NU(X))throw X;if(console.error(`${J}:`,X),X instanceof Error&&X.stack)console.error(X.stack);let U=X instanceof Error?X.message:String(X);Q("error",`${J}: ${U}`,{node:K})}}addEntry(Z,J){if(Z==="AstNode"){this.entries.add("AstNode",J);return}for(let Q of this.reflection.getAllSubTypes(Z))this.entries.add(Q,J)}getChecks(Z,J){let Q=DZ(this.entries.get(Z)).concat(this.entries.get("AstNode"));if(J)Q=Q.filter((K)=>J.includes(K.category));return Q.map((K)=>K.check)}registerBeforeDocument(Z,J=this){this.entriesBefore.push(this.wrapPreparationException(Z,"An error occurred during set-up of the validation",J))}registerAfterDocument(Z,J=this){this.entriesAfter.push(this.wrapPreparationException(Z,"An error occurred during tear-down of the validation",J))}wrapPreparationException(Z,J,Q){return async(K,X,U,Y)=>{await this.handleException(()=>Z.call(Q,K,X,U,Y),J,X,K)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}var JO;var AA=_(()=>{c4();eB();hK();Z4();(function(Z){Z.all=["fast","slow","built-in"]})(JO||(JO={}))});class uk{constructor(Z){this.validationRegistry=Z.validation.ValidationRegistry,this.metadata=Z.LanguageMetaData}async validateDocument(Z,J={},Q=N9.CancellationToken.None){let K=Z.parseResult,X=[];if(await oJ(Q),!J.categories||J.categories.includes("built-in")){if(this.processLexingErrors(K,X,J),J.stopAfterLexingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===mK.LexingError}))return X;if(this.processParsingErrors(K,X,J),J.stopAfterParsingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===mK.ParsingError}))return X;if(this.processLinkingErrors(Z,X,J),J.stopAfterLinkingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===mK.LinkingError}))return X}try{X.push(...await this.validateAst(K.value,J,Q))}catch(U){if(NU(U))throw U;console.error("An error occurred during validation:",U)}return await oJ(Q),X}processLexingErrors(Z,J,Q){var K,X,U;let Y=[...Z.lexerErrors,...(X=(K=Z.lexerReport)===null||K===void 0?void 0:K.diagnostics)!==null&&X!==void 0?X:[]];for(let q of Y){let W=(U=q.severity)!==null&&U!==void 0?U:"error",G={severity:mk(W),range:{start:{line:q.line-1,character:q.column-1},end:{line:q.line-1,character:q.column+q.length-1}},message:q.message,data:Ab0(W),source:this.getSource()};J.push(G)}}processParsingErrors(Z,J,Q){for(let K of Z.parserErrors){let X=void 0;if(isNaN(K.token.startOffset)){if("previousToken"in K){let U=K.previousToken;if(!isNaN(U.startOffset)){let Y={line:U.endLine-1,character:U.endColumn};X={start:Y,end:Y}}else{let Y={line:0,character:0};X={start:Y,end:Y}}}}else X=bF(K.token);if(X){let U={severity:mk("error"),range:X,message:K.message,data:iz(mK.ParsingError),source:this.getSource()};J.push(U)}}}processLinkingErrors(Z,J,Q){for(let K of Z.references){let X=K.error;if(X){let U={node:X.container,property:X.property,index:X.index,data:{code:mK.LinkingError,containerType:X.container.$type,property:X.property,refText:X.reference.$refText}};J.push(this.toDiagnostic("error",X.message,U))}}}async validateAst(Z,J,Q=N9.CancellationToken.None){let K=[],X=(U,Y,q)=>{K.push(this.toDiagnostic(U,Y,q))};return await this.validateAstBefore(Z,J,X,Q),await this.validateAstNodes(Z,J,X,Q),await this.validateAstAfter(Z,J,X,Q),K}async validateAstBefore(Z,J,Q,K=N9.CancellationToken.None){var X;let U=this.validationRegistry.checksBefore;for(let Y of U)await oJ(K),await Y(Z,Q,(X=J.categories)!==null&&X!==void 0?X:[],K)}async validateAstNodes(Z,J,Q,K=N9.CancellationToken.None){await Promise.all(kK(Z).map(async(X)=>{await oJ(K);let U=this.validationRegistry.getChecks(X.$type,J.categories);for(let Y of U)await Y(X,Q,K)}))}async validateAstAfter(Z,J,Q,K=N9.CancellationToken.None){var X;let U=this.validationRegistry.checksAfter;for(let Y of U)await oJ(K),await Y(Z,Q,(X=J.categories)!==null&&X!==void 0?X:[],K)}toDiagnostic(Z,J,Q){return{message:J,range:Ib0(Q),severity:mk(Z),code:Q.code,codeDescription:Q.codeDescription,tags:Q.tags,relatedInformation:Q.relatedInformation,data:Q.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Ib0(Z){if(Z.range)return Z.range;let J;if(typeof Z.property==="string")J=zI(Z.node.$cstNode,Z.property,Z.index);else if(typeof Z.keyword==="string")J=as(Z.node.$cstNode,Z.keyword,Z.index);if(J!==null&&J!==void 0||(J=Z.node.$cstNode),!J)return{start:{line:0,character:0},end:{line:0,character:0}};return J.range}function mk(Z){switch(Z){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw Error("Invalid diagnostic severity: "+Z)}}function Ab0(Z){switch(Z){case"error":return iz(mK.LexingError);case"warning":return iz(mK.LexingWarning);case"info":return iz(mK.LexingInfo);case"hint":return iz(mK.LexingHint);default:throw Error("Invalid diagnostic severity: "+Z)}}var mK;var Jo=_(()=>{yK();_5();z6();w5();hK();AA();(function(Z){Z.LexingError="lexing-error",Z.LexingWarning="lexing-warning",Z.LexingInfo="lexing-info",Z.LexingHint="lexing-hint",Z.ParsingError="parsing-error",Z.LinkingError="linking-error"})(mK||(mK={}))});class gk{constructor(Z){this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider}createDescription(Z,J,Q){let K=Q!==null&&Q!==void 0?Q:xQ(Z);J!==null&&J!==void 0||(J=this.nameProvider.getName(Z));let X=this.astNodeLocator.getAstNodePath(Z);if(!J)throw Error(`Node at path ${X} has no name.`);let U,Y=()=>{var q;return U!==null&&U!==void 0?U:U=Pz((q=this.nameProvider.getNameNode(Z))!==null&&q!==void 0?q:Z.$cstNode)};return{node:Z,name:J,get nameSegment(){return Y()},selectionSegment:Pz(Z.$cstNode),type:Z.$type,documentUri:K.uri,path:X}}}class pk{constructor(Z){this.nodeLocator=Z.workspace.AstNodeLocator}async createDescriptions(Z,J=N9.CancellationToken.None){let Q=[],K=Z.parseResult.value;for(let X of kK(K))await oJ(J),EM(X).filter((U)=>!Ez(U)).forEach((U)=>{let Y=this.createDescription(U);if(Y)Q.push(Y)});return Q}createDescription(Z){let J=Z.reference.$nodeDescription,Q=Z.reference.$refNode;if(!J||!Q)return;let K=xQ(Z.container).uri;return{sourceUri:K,sourcePath:this.nodeLocator.getAstNodePath(Z.container),targetUri:J.documentUri,targetPath:J.path,segment:Pz(Q),local:A6.equals(J.documentUri,K)}}}var Qo=_(()=>{yK();z6();w5();hK();EU()});class ck{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(Z){if(Z.$container){let J=this.getAstNodePath(Z.$container),Q=this.getPathSegment(Z);return J+this.segmentSeparator+Q}return""}getPathSegment({$containerProperty:Z,$containerIndex:J}){if(!Z)throw Error("Missing '$containerProperty' in AST node.");if(J!==void 0)return Z+this.indexSeparator+J;return Z}getAstNode(Z,J){return J.split(this.segmentSeparator).reduce((K,X)=>{if(!K||X.length===0)return K;let U=X.indexOf(this.indexSeparator);if(U>0){let Y=X.substring(0,U),q=parseInt(X.substring(U+1)),W=K[Y];return W===null||W===void 0?void 0:W[q]}return K[X]},Z)}}var NJ={};var lk=_(()=>{_9(NJ,d7(ma(),1))});class dk{constructor(Z){this._ready=new H4,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new NJ.Emitter,this.serviceRegistry=Z.ServiceRegistry}get ready(){return this._ready.promise}initialize(Z){var J,Q;this.workspaceConfig=(Q=(J=Z.capabilities.workspace)===null||J===void 0?void 0:J.configuration)!==null&&Q!==void 0?Q:!1}async initialized(Z){if(this.workspaceConfig){if(Z.register){let J=this.serviceRegistry.all;Z.register({section:J.map((Q)=>this.toSectionName(Q.LanguageMetaData.languageId))})}if(Z.fetchConfiguration){let J=this.serviceRegistry.all.map((K)=>({section:this.toSectionName(K.LanguageMetaData.languageId)})),Q=await Z.fetchConfiguration(J);J.forEach((K,X)=>{this.updateSectionConfiguration(K.section,Q[X])})}}this._ready.resolve()}updateConfiguration(Z){if(!Z.settings)return;Object.keys(Z.settings).forEach((J)=>{let Q=Z.settings[J];this.updateSectionConfiguration(J,Q),this.onConfigurationSectionUpdateEmitter.fire({section:J,configuration:Q})})}updateSectionConfiguration(Z,J){this.settings[Z]=J}async getConfiguration(Z,J){await this.ready;let Q=this.toSectionName(Z);if(this.settings[Q])return this.settings[Q][J]}toSectionName(Z){return`${Z}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Ko=_(()=>{lk();hK()});var $W;var Xo=_(()=>{(function(Z){function J(Q){return{dispose:async()=>await Q()}}Z.create=J})($W||($W={}))});class ik{constructor(Z){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new VU,this.documentPhaseListeners=new VU,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=pZ.Changed,this.langiumDocuments=Z.workspace.LangiumDocuments,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.textDocuments=Z.workspace.TextDocuments,this.indexManager=Z.workspace.IndexManager,this.serviceRegistry=Z.ServiceRegistry}async build(Z,J={},Q=N9.CancellationToken.None){var K,X;for(let U of Z){let Y=U.uri.toString();if(U.state===pZ.Validated){if(typeof J.validation==="boolean"&&J.validation)U.state=pZ.IndexedReferences,U.diagnostics=void 0,this.buildState.delete(Y);else if(typeof J.validation==="object"){let q=this.buildState.get(Y),W=(K=q===null||q===void 0?void 0:q.result)===null||K===void 0?void 0:K.validationChecks;if(W){let z=((X=J.validation.categories)!==null&&X!==void 0?X:JO.all).filter((H)=>!W.includes(H));if(z.length>0)this.buildState.set(Y,{completed:!1,options:{validation:Object.assign(Object.assign({},J.validation),{categories:z})},result:q.result}),U.state=pZ.IndexedReferences}}}else this.buildState.delete(Y)}this.currentState=pZ.Changed,await this.emitUpdate(Z.map((U)=>U.uri),[]),await this.buildDocuments(Z,J,Q)}async update(Z,J,Q=N9.CancellationToken.None){this.currentState=pZ.Changed;for(let U of J)this.langiumDocuments.deleteDocument(U),this.buildState.delete(U.toString()),this.indexManager.remove(U);for(let U of Z){if(!this.langiumDocuments.invalidateDocument(U)){let q=this.langiumDocumentFactory.fromModel({$type:"INVALID"},U);q.state=pZ.Changed,this.langiumDocuments.addDocument(q)}this.buildState.delete(U.toString())}let K=DZ(Z).concat(J).map((U)=>U.toString()).toSet();this.langiumDocuments.all.filter((U)=>!K.has(U.uri.toString())&&this.shouldRelink(U,K)).forEach((U)=>{this.serviceRegistry.getServices(U.uri).references.Linker.unlink(U),U.state=Math.min(U.state,pZ.ComputedScopes),U.diagnostics=void 0}),await this.emitUpdate(Z,J),await oJ(Q);let X=this.sortDocuments(this.langiumDocuments.all.filter((U)=>{var Y;return U.state<pZ.Linked||!((Y=this.buildState.get(U.uri.toString()))===null||Y===void 0?void 0:Y.completed)}).toArray());await this.buildDocuments(X,this.updateBuildOptions,Q)}async emitUpdate(Z,J){await Promise.all(this.updateListeners.map((Q)=>Q(Z,J)))}sortDocuments(Z){let J=0,Q=Z.length-1;while(J<Q){while(J<Z.length&&this.hasTextDocument(Z[J]))J++;while(Q>=0&&!this.hasTextDocument(Z[Q]))Q--;if(J<Q)[Z[J],Z[Q]]=[Z[Q],Z[J]]}return Z}hasTextDocument(Z){var J;return Boolean((J=this.textDocuments)===null||J===void 0?void 0:J.get(Z.uri))}shouldRelink(Z,J){if(Z.references.some((Q)=>Q.error!==void 0))return!0;return this.indexManager.isAffected(Z,J)}onUpdate(Z){return this.updateListeners.push(Z),$W.create(()=>{let J=this.updateListeners.indexOf(Z);if(J>=0)this.updateListeners.splice(J,1)})}async buildDocuments(Z,J,Q){this.prepareBuild(Z,J),await this.runCancelable(Z,pZ.Parsed,Q,(X)=>this.langiumDocumentFactory.update(X,Q)),await this.runCancelable(Z,pZ.IndexedContent,Q,(X)=>this.indexManager.updateContent(X,Q)),await this.runCancelable(Z,pZ.ComputedScopes,Q,async(X)=>{let U=this.serviceRegistry.getServices(X.uri).references.ScopeComputation;X.precomputedScopes=await U.computeLocalScopes(X,Q)}),await this.runCancelable(Z,pZ.Linked,Q,(X)=>{return this.serviceRegistry.getServices(X.uri).references.Linker.link(X,Q)}),await this.runCancelable(Z,pZ.IndexedReferences,Q,(X)=>this.indexManager.updateReferences(X,Q));let K=Z.filter((X)=>this.shouldValidate(X));await this.runCancelable(K,pZ.Validated,Q,(X)=>this.validate(X,Q));for(let X of Z){let U=this.buildState.get(X.uri.toString());if(U)U.completed=!0}}prepareBuild(Z,J){for(let Q of Z){let K=Q.uri.toString(),X=this.buildState.get(K);if(!X||X.completed)this.buildState.set(K,{completed:!1,options:J,result:X===null||X===void 0?void 0:X.result})}}async runCancelable(Z,J,Q,K){let X=Z.filter((Y)=>Y.state<J);for(let Y of X)await oJ(Q),await K(Y),Y.state=J,await this.notifyDocumentPhase(Y,J,Q);let U=Z.filter((Y)=>Y.state===J);await this.notifyBuildPhase(U,J,Q),this.currentState=J}onBuildPhase(Z,J){return this.buildPhaseListeners.add(Z,J),$W.create(()=>{this.buildPhaseListeners.delete(Z,J)})}onDocumentPhase(Z,J){return this.documentPhaseListeners.add(Z,J),$W.create(()=>{this.documentPhaseListeners.delete(Z,J)})}waitUntil(Z,J,Q){let K=void 0;if(J&&"path"in J)K=J;else Q=J;if(Q!==null&&Q!==void 0||(Q=N9.CancellationToken.None),K){let X=this.langiumDocuments.getDocument(K);if(X&&X.state>Z)return Promise.resolve(K)}if(this.currentState>=Z)return Promise.resolve(void 0);else if(Q.isCancellationRequested)return Promise.reject(AU);return new Promise((X,U)=>{let Y=this.onBuildPhase(Z,()=>{if(Y.dispose(),q.dispose(),K){let W=this.langiumDocuments.getDocument(K);X(W===null||W===void 0?void 0:W.uri)}else X(void 0)}),q=Q.onCancellationRequested(()=>{Y.dispose(),q.dispose(),U(AU)})})}async notifyDocumentPhase(Z,J,Q){let X=this.documentPhaseListeners.get(J).slice();for(let U of X)try{await U(Z,Q)}catch(Y){if(!NU(Y))throw Y}}async notifyBuildPhase(Z,J,Q){if(Z.length===0)return;let X=this.buildPhaseListeners.get(J).slice();for(let U of X)await oJ(Q),await U(Z,Q)}shouldValidate(Z){return Boolean(this.getBuildOptions(Z).validation)}async validate(Z,J){var Q,K;let X=this.serviceRegistry.getServices(Z.uri).validation.DocumentValidator,U=this.getBuildOptions(Z).validation,Y=typeof U==="object"?U:void 0,q=await X.validateDocument(Z,Y,J);if(Z.diagnostics)Z.diagnostics.push(...q);else Z.diagnostics=q;let W=this.buildState.get(Z.uri.toString());if(W){(Q=W.result)!==null&&Q!==void 0||(W.result={});let G=(K=Y===null||Y===void 0?void 0:Y.categories)!==null&&K!==void 0?K:JO.all;if(W.result.validationChecks)W.result.validationChecks.push(...G);else W.result.validationChecks=[...G]}}getBuildOptions(Z){var J,Q;return(Q=(J=this.buildState.get(Z.uri.toString()))===null||J===void 0?void 0:J.options)!==null&&Q!==void 0?Q:{}}}var Uo=_(()=>{yK();Xo();eB();hK();Z4();AA();oB()});class sk{constructor(Z){this.symbolIndex=new Map,this.symbolByTypeIndex=new ZO,this.referenceIndex=new Map,this.documents=Z.workspace.LangiumDocuments,this.serviceRegistry=Z.ServiceRegistry,this.astReflection=Z.AstReflection}findAllReferences(Z,J){let Q=xQ(Z).uri,K=[];return this.referenceIndex.forEach((X)=>{X.forEach((U)=>{if(A6.equals(U.targetUri,Q)&&U.targetPath===J)K.push(U)})}),DZ(K)}allElements(Z,J){let Q=DZ(this.symbolIndex.keys());if(J)Q=Q.filter((K)=>!J||J.has(K));return Q.map((K)=>this.getFileDescriptions(K,Z)).flat()}getFileDescriptions(Z,J){var Q;if(!J)return(Q=this.symbolIndex.get(Z))!==null&&Q!==void 0?Q:[];return this.symbolByTypeIndex.get(Z,J,()=>{var X;return((X=this.symbolIndex.get(Z))!==null&&X!==void 0?X:[]).filter((Y)=>this.astReflection.isSubtype(Y.type,J))})}remove(Z){let J=Z.toString();this.symbolIndex.delete(J),this.symbolByTypeIndex.clear(J),this.referenceIndex.delete(J)}async updateContent(Z,J=N9.CancellationToken.None){let K=await this.serviceRegistry.getServices(Z.uri).references.ScopeComputation.computeExports(Z,J),X=Z.uri.toString();this.symbolIndex.set(X,K),this.symbolByTypeIndex.clear(X)}async updateReferences(Z,J=N9.CancellationToken.None){let K=await this.serviceRegistry.getServices(Z.uri).workspace.ReferenceDescriptionProvider.createDescriptions(Z,J);this.referenceIndex.set(Z.uri.toString(),K)}isAffected(Z,J){let Q=this.referenceIndex.get(Z.uri.toString());if(!Q)return!1;return Q.some((K)=>!K.local&&J.has(K.targetUri.toString()))}}var Yo=_(()=>{z6();fk();yK();Z4();EU()});class rk{constructor(Z){this.initialBuildOptions={},this._ready=new H4,this.serviceRegistry=Z.ServiceRegistry,this.langiumDocuments=Z.workspace.LangiumDocuments,this.documentBuilder=Z.workspace.DocumentBuilder,this.fileSystemProvider=Z.workspace.FileSystemProvider,this.mutex=Z.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(Z){var J;this.folders=(J=Z.workspaceFolders)!==null&&J!==void 0?J:void 0}initialized(Z){return this.mutex.write((J)=>{var Q;return this.initializeWorkspace((Q=this.folders)!==null&&Q!==void 0?Q:[],J)})}async initializeWorkspace(Z,J=N9.CancellationToken.None){let Q=await this.performStartup(Z);await oJ(J),await this.documentBuilder.build(Q,this.initialBuildOptions,J)}async performStartup(Z){let J=this.serviceRegistry.all.flatMap((X)=>X.LanguageMetaData.fileExtensions),Q=[],K=(X)=>{if(Q.push(X),!this.langiumDocuments.hasDocument(X.uri))this.langiumDocuments.addDocument(X)};return await this.loadAdditionalDocuments(Z,K),await Promise.all(Z.map((X)=>[X,this.getRootFolder(X)]).map(async(X)=>this.traverseFolder(...X,J,K))),this._ready.resolve(),Q}loadAdditionalDocuments(Z,J){return Promise.resolve()}getRootFolder(Z){return I6.parse(Z.uri)}async traverseFolder(Z,J,Q,K){let X=await this.fileSystemProvider.readDirectory(J);await Promise.all(X.map(async(U)=>{if(this.includeEntry(Z,U,Q)){if(U.isDirectory)await this.traverseFolder(Z,U.uri,Q,K);else if(U.isFile){let Y=await this.langiumDocuments.getOrCreateDocument(U.uri);K(Y)}}}))}includeEntry(Z,J,Q){let K=A6.basename(J.uri);if(K.startsWith("."))return!1;if(J.isDirectory)return K!=="node_modules"&&K!=="out";else if(J.isFile){let X=A6.extname(J.uri);return Q.includes(X)}return!1}}var qo=_(()=>{yK();hK();EU()});class nk{buildUnexpectedCharactersMessage(Z,J,Q,K,X){return kB.buildUnexpectedCharactersMessage(Z,J,Q,K,X)}buildUnableToPopLexerModeMessage(Z){return kB.buildUnableToPopLexerModeMessage(Z)}}class QO{constructor(Z){this.errorMessageProvider=Z.parser.LexerErrorMessageProvider,this.tokenBuilder=Z.parser.TokenBuilder;let J=this.tokenBuilder.buildTokens(Z.Grammar,{caseInsensitive:Z.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(J);let Q=Wo(J)?Object.values(J):J,K=Z.LanguageMetaData.mode==="production";this.chevrotainLexer=new fJ(Q,{positionTracking:"full",skipValidations:K,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(Z,J=ak){var Q,K,X;let U=this.chevrotainLexer.tokenize(Z);return{tokens:U.tokens,errors:U.errors,hidden:(Q=U.groups.hidden)!==null&&Q!==void 0?Q:[],report:(X=(K=this.tokenBuilder).flushLexingReport)===null||X===void 0?void 0:X.call(K,Z)}}toTokenTypeDictionary(Z){if(Wo(Z))return Z;let J=Go(Z)?Object.values(Z.modes).flat():Z,Q={};return J.forEach((K)=>Q[K.name]=K),Q}}function ok(Z){return Array.isArray(Z)&&(Z.length===0||("name"in Z[0]))}function Go(Z){return Z&&"modes"in Z&&"defaultMode"in Z}function Wo(Z){return!ok(Z)&&!Go(Z)}var ak;var tk=_(()=>{CW();ak={mode:"full"}});function Mo(Z,J,Q){let K,X;if(typeof Z==="string")X=J,K=Q;else X=Z.range.start,K=J;if(!X)X=OZ.create(0,0);let U=Vb0(Z),Y=Oo(K),q=o_8({lines:U,position:X,options:Y});return Qf8({index:0,tokens:q,position:X})}function Bo(Z,J){let Q=Oo(J),K=Vb0(Z);if(K.length===0)return!1;let X=K[0],U=K[K.length-1],Y=Q.start,q=Q.end;return Boolean(Y===null||Y===void 0?void 0:Y.exec(X))&&Boolean(q===null||q===void 0?void 0:q.exec(U))}function Vb0(Z){let J="";if(typeof Z==="string")J=Z;else J=Z.text;return J.split(us)}function o_8(Z){var J,Q,K;let X=[],U=Z.position.line,Y=Z.position.character;for(let q=0;q<Z.lines.length;q++){let W=q===0,G=q===Z.lines.length-1,z=Z.lines[q],H=0;if(W&&Z.options.start){let M=(J=Z.options.start)===null||J===void 0?void 0:J.exec(z);if(M)H=M.index+M[0].length}else{let M=(Q=Z.options.line)===null||Q===void 0?void 0:Q.exec(z);if(M)H=M.index+M[0].length}if(G){let M=(K=Z.options.end)===null||K===void 0?void 0:K.exec(z);if(M)z=z.substring(0,M.index)}if(z=z.substring(0,Jf8(z)),Ho(z,H)>=z.length){if(X.length>0){let M=OZ.create(U,Y);X.push({type:"break",content:"",range:r9.create(M,M)})}}else{Nb0.lastIndex=H;let M=Nb0.exec(z);if(M){let B=M[0],O=M[1],R=OZ.create(U,Y+H),D=OZ.create(U,Y+H+B.length);X.push({type:"tag",content:O,range:r9.create(R,D)}),H+=B.length,H=Ho(z,H)}if(H<z.length){let B=z.substring(H),O=Array.from(B.matchAll(a_8));X.push(...t_8(O,B,U,Y+H))}}U++,Y=0}if(X.length>0&&X[X.length-1].type==="break")return X.slice(0,-1);return X}function t_8(Z,J,Q,K){let X=[];if(Z.length===0){let U=OZ.create(Q,K),Y=OZ.create(Q,K+J.length);X.push({type:"text",content:J,range:r9.create(U,Y)})}else{let U=0;for(let q of Z){let W=q.index,G=J.substring(U,W);if(G.length>0)X.push({type:"text",content:J.substring(U,W),range:r9.create(OZ.create(Q,U+K),OZ.create(Q,W+K))});let z=G.length+1,H=q[1];if(X.push({type:"inline-tag",content:H,range:r9.create(OZ.create(Q,U+z+K),OZ.create(Q,U+z+H.length+K))}),z+=H.length,q.length===4){z+=q[2].length;let F=q[3];X.push({type:"text",content:F,range:r9.create(OZ.create(Q,U+z+K),OZ.create(Q,U+z+F.length+K))})}else X.push({type:"text",content:"",range:r9.create(OZ.create(Q,U+z+K),OZ.create(Q,U+z+K))});U=W+q[0].length}let Y=J.substring(U);if(Y.length>0)X.push({type:"text",content:Y,range:r9.create(OZ.create(Q,U+K),OZ.create(Q,U+K+Y.length))})}return X}function Ho(Z,J){let Q=Z.substring(J).match(e_8);if(Q)return J+Q.index;else return Z.length}function Jf8(Z){let J=Z.match(Zf8);if(J&&typeof J.index==="number")return J.index;return}function Qf8(Z){var J,Q,K,X;let U=OZ.create(Z.position.line,Z.position.character);if(Z.tokens.length===0)return new Fo([],r9.create(U,U));let Y=[];while(Z.index<Z.tokens.length){let G=Kf8(Z,Y[Y.length-1]);if(G)Y.push(G)}let q=(Q=(J=Y[0])===null||J===void 0?void 0:J.range.start)!==null&&Q!==void 0?Q:U,W=(X=(K=Y[Y.length-1])===null||K===void 0?void 0:K.range.end)!==null&&X!==void 0?X:U;return new Fo(Y,r9.create(q,W))}function Kf8(Z,J){let Q=Z.tokens[Z.index];if(Q.type==="tag")return jb0(Z,!1);else if(Q.type==="text"||Q.type==="inline-tag")return Pb0(Z);else{Xf8(Q,J),Z.index++;return}}function Xf8(Z,J){if(J){let Q=new Ro("",Z.range);if("inlines"in J)J.inlines.push(Q);else J.content.inlines.push(Q)}}function Pb0(Z){let J=Z.tokens[Z.index],Q=J,K=J,X=[];while(J&&J.type!=="break"&&J.type!=="tag")X.push(Uf8(Z)),K=J,J=Z.tokens[Z.index];return new Z_(X,r9.create(Q.range.start,K.range.end))}function Uf8(Z){if(Z.tokens[Z.index].type==="inline-tag")return jb0(Z,!0);else return Cb0(Z)}function jb0(Z,J){let Q=Z.tokens[Z.index++],K=Q.content.substring(1),X=Z.tokens[Z.index];if((X===null||X===void 0?void 0:X.type)==="text")if(J){let U=Cb0(Z);return new ek(K,new Z_([U],U.range),J,r9.create(Q.range.start,U.range.end))}else{let U=Pb0(Z);return new ek(K,U,J,r9.create(Q.range.start,U.range.end))}else{let U=Q.range;return new ek(K,new Z_([],U),J,U)}}function Cb0(Z){let J=Z.tokens[Z.index++];return new Ro(J.content,J.range)}function Oo(Z){if(!Z)return Oo({start:"/**",end:"*/",line:"*"});let{start:J,end:Q,line:K}=Z;return{start:zo(J,!0),end:zo(Q,!1),line:zo(K,!0)}}function zo(Z,J){if(typeof Z==="string"||typeof Z==="object"){let Q=typeof Z==="string"?$z(Z):Z.source;if(J)return new RegExp(`^\\s*${Q}`);else return new RegExp(`\\s*${Q}\\s*$`)}else return Z}class Fo{constructor(Z,J){this.elements=Z,this.range=J}getTag(Z){return this.getAllTags().find((J)=>J.name===Z)}getTags(Z){return this.getAllTags().filter((J)=>J.name===Z)}getAllTags(){return this.elements.filter((Z)=>("name"in Z))}toString(){let Z="";for(let J of this.elements)if(Z.length===0)Z=J.toString();else{let Q=J.toString();Z+=Eb0(Z)+Q}return Z.trim()}toMarkdown(Z){let J="";for(let Q of this.elements)if(J.length===0)J=Q.toMarkdown(Z);else{let K=Q.toMarkdown(Z);J+=Eb0(J)+K}return J.trim()}}class ek{constructor(Z,J,Q,K){this.name=Z,this.content=J,this.inline=Q,this.range=K}toString(){let Z=`@${this.name}`,J=this.content.toString();if(this.content.inlines.length===1)Z=`${Z} ${J}`;else if(this.content.inlines.length>1)Z=`${Z}
${J}`;if(this.inline)return`{${Z}}`;else return Z}toMarkdown(Z){var J,Q;return(Q=(J=Z===null||Z===void 0?void 0:Z.renderTag)===null||J===void 0?void 0:J.call(Z,this))!==null&&Q!==void 0?Q:this.toMarkdownDefault(Z)}toMarkdownDefault(Z){let J=this.content.toMarkdown(Z);if(this.inline){let X=Yf8(this.name,J,Z!==null&&Z!==void 0?Z:{});if(typeof X==="string")return X}let Q="";if((Z===null||Z===void 0?void 0:Z.tag)==="italic"||(Z===null||Z===void 0?void 0:Z.tag)===void 0)Q="*";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold")Q="**";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold-italic")Q="***";let K=`${Q}@${this.name}${Q}`;if(this.content.inlines.length===1)K=`${K}  ${J}`;else if(this.content.inlines.length>1)K=`${K}
${J}`;if(this.inline)return`{${K}}`;else return K}}function Yf8(Z,J,Q){var K,X;if(Z==="linkplain"||Z==="linkcode"||Z==="link"){let U=J.indexOf(" "),Y=J;if(U>0){let W=Ho(J,U);Y=J.substring(W),J=J.substring(0,U)}if(Z==="linkcode"||Z==="link"&&Q.link==="code")Y=`\`${Y}\``;return(X=(K=Q.renderLink)===null||K===void 0?void 0:K.call(Q,J,Y))!==null&&X!==void 0?X:qf8(J,Y)}return}function qf8(Z,J){try{return I6.parse(Z,!0),`[${J}](${Z})`}catch(Q){return Z}}class Z_{constructor(Z,J){this.inlines=Z,this.range=J}toString(){let Z="";for(let J=0;J<this.inlines.length;J++){let Q=this.inlines[J],K=this.inlines[J+1];if(Z+=Q.toString(),K&&K.range.start.line>Q.range.start.line)Z+=`
`}return Z}toMarkdown(Z){let J="";for(let Q=0;Q<this.inlines.length;Q++){let K=this.inlines[Q],X=this.inlines[Q+1];if(J+=K.toMarkdown(Z),X&&X.range.start.line>K.range.start.line)J+=`
`}return J}}class Ro{constructor(Z,J){this.text=Z,this.range=J}toString(){return this.text}toMarkdown(){return this.text}}function Eb0(Z){if(Z.endsWith(`
`))return`
`;else return`

`}var Nb0,a_8,e_8,Zf8;var Do=_(()=>{Ca();CM();EU();Nb0=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,a_8=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;e_8=/\S/,Zf8=/\s*$/});class J_{constructor(Z){this.indexManager=Z.shared.workspace.IndexManager,this.commentProvider=Z.documentation.CommentProvider}getDocumentation(Z){let J=this.commentProvider.getComment(Z);if(J&&Bo(J))return Mo(J).toMarkdown({renderLink:(K,X)=>{return this.documentationLinkRenderer(Z,K,X)},renderTag:(K)=>{return this.documentationTagRenderer(Z,K)}});return}documentationLinkRenderer(Z,J,Q){var K;let X=(K=this.findNameInPrecomputedScopes(Z,J))!==null&&K!==void 0?K:this.findNameInGlobalScope(Z,J);if(X&&X.nameSegment){let U=X.nameSegment.range.start.line+1,Y=X.nameSegment.range.start.character+1,q=X.documentUri.with({fragment:`L${U},${Y}`});return`[${Q}](${q.toString()})`}else return}documentationTagRenderer(Z,J){return}findNameInPrecomputedScopes(Z,J){let K=xQ(Z).precomputedScopes;if(!K)return;let X=Z;do{let Y=K.get(X).find((q)=>q.name===J);if(Y)return Y;X=X.$container}while(X);return}findNameInGlobalScope(Z,J){return this.indexManager.allElements().find((K)=>K.name===J)}}var Lo=_(()=>{z6();Do()});class Q_{constructor(Z){this.grammarConfig=()=>Z.parser.GrammarConfig}getComment(Z){var J;if(ea(Z))return Z.$comment;return(J=Rs(Z.$cstNode,this.grammarConfig().multilineCommentRules))===null||J===void 0?void 0:J.text}}var Io=_(()=>{bk();w5()});class K_{constructor(Z){this.syncParser=Z.parser.LangiumParser}parse(Z,J){return Promise.resolve(this.syncParser.parse(Z))}}class Sb0{constructor(Z){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=Z.serializer.Hydrator}initializeWorkers(){while(this.workerPool.length<this.threadCount){let Z=this.createWorker();Z.onReady(()=>{if(this.queue.length>0){let J=this.queue.shift();if(J)Z.lock(),J.resolve(Z)}}),this.workerPool.push(Z)}}async parse(Z,J){let Q=await this.acquireParserWorker(J),K=new H4,X,U=J.onCancellationRequested(()=>{X=setTimeout(()=>{this.terminateWorker(Q)},this.terminationDelay)});return Q.parse(Z).then((Y)=>{let q=this.hydrator.hydrate(Y);K.resolve(q)}).catch((Y)=>{K.reject(Y)}).finally(()=>{U.dispose(),clearTimeout(X)}),K.promise}terminateWorker(Z){Z.terminate();let J=this.workerPool.indexOf(Z);if(J>=0)this.workerPool.splice(J,1)}async acquireParserWorker(Z){this.initializeWorkers();for(let Q of this.workerPool)if(Q.ready)return Q.lock(),Q;let J=new H4;return Z.onCancellationRequested(()=>{let Q=this.queue.indexOf(J);if(Q>=0)this.queue.splice(Q,1);J.reject(AU)}),this.queue.push(J),J.promise}}class Tb0{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(Z,J,Q,K){this.onReadyEmitter=new NJ.Emitter,this.deferred=new H4,this._ready=!0,this._parsing=!1,this.sendMessage=Z,this._terminate=K,J((X)=>{let U=X;this.deferred.resolve(U),this.unlock()}),Q((X)=>{this.deferred.reject(X),this.unlock()})}terminate(){this.deferred.reject(AU),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(Z){if(this._parsing)throw Error("Parser worker is busy");return this._parsing=!0,this.deferred=new H4,this.sendMessage(Z),this.deferred.promise}}var Ao=_(()=>{hK();lk()});class X_{constructor(){this.previousTokenSource=new N9.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(Z){this.cancelWrite();let J=Pk();return this.previousTokenSource=J,this.enqueue(this.writeQueue,Z,J.token)}read(Z){return this.enqueue(this.readQueue,Z)}enqueue(Z,J,Q=N9.CancellationToken.None){let K=new H4,X={action:J,deferred:K,cancellationToken:Q};return Z.push(X),this.performNextOperation(),K.promise}async performNextOperation(){if(!this.done)return;let Z=[];if(this.writeQueue.length>0)Z.push(this.writeQueue.shift());else if(this.readQueue.length>0)Z.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(Z.map(async({action:J,deferred:Q,cancellationToken:K})=>{try{let X=await Promise.resolve().then(()=>J(K));Q.resolve(X)}catch(X){if(NU(X))Q.resolve(void 0);else Q.reject(X)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}var No=_(()=>{yK();hK()});class U_{constructor(Z){this.grammarElementIdMap=new tB,this.tokenTypeIdMap=new tB,this.grammar=Z.Grammar,this.lexer=Z.parser.Lexer,this.linker=Z.references.Linker}dehydrate(Z){return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport?this.dehydrateLexerReport(Z.lexerReport):void 0,parserErrors:Z.parserErrors.map((J)=>Object.assign(Object.assign({},J),{message:J.message})),value:this.dehydrateAstNode(Z.value,this.createDehyrationContext(Z.value))}}dehydrateLexerReport(Z){return Z}createDehyrationContext(Z){let J=new Map,Q=new Map;for(let K of kK(Z))J.set(K,{});if(Z.$cstNode)for(let K of Vz(Z.$cstNode))Q.set(K,{});return{astNodes:J,cstNodes:Q}}dehydrateAstNode(Z,J){let Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode!==void 0)Q.$cstNode=this.dehydrateCstNode(Z.$cstNode,J);for(let[K,X]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(X)){let U=[];Q[K]=U;for(let Y of X)if($J(Y))U.push(this.dehydrateAstNode(Y,J));else if(BQ(Y))U.push(this.dehydrateReference(Y,J));else U.push(Y)}else if($J(X))Q[K]=this.dehydrateAstNode(X,J);else if(BQ(X))Q[K]=this.dehydrateReference(X,J);else if(X!==void 0)Q[K]=X}return Q}dehydrateReference(Z,J){let Q={};if(Q.$refText=Z.$refText,Z.$refNode)Q.$refNode=J.cstNodes.get(Z.$refNode);return Q}dehydrateCstNode(Z,J){let Q=J.cstNodes.get(Z);if(dL(Z))Q.fullText=Z.fullText;else Q.grammarSource=this.getGrammarElementId(Z.grammarSource);if(Q.hidden=Z.hidden,Q.astNode=J.astNodes.get(Z.astNode),T5(Z))Q.content=Z.content.map((K)=>this.dehydrateCstNode(K,J));else if(mq(Z))Q.tokenType=Z.tokenType.name,Q.offset=Z.offset,Q.length=Z.length,Q.startLine=Z.range.start.line,Q.startColumn=Z.range.start.character,Q.endLine=Z.range.end.line,Q.endColumn=Z.range.end.character;return Q}hydrate(Z){let J=Z.value,Q=this.createHydrationContext(J);if("$cstNode"in J)this.hydrateCstNode(J.$cstNode,Q);return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport,parserErrors:Z.parserErrors,value:this.hydrateAstNode(J,Q)}}createHydrationContext(Z){let J=new Map,Q=new Map;for(let X of kK(Z))J.set(X,{});let K;if(Z.$cstNode)for(let X of Vz(Z.$cstNode)){let U;if("fullText"in X)U=new FA(X.fullText),K=U;else if("content"in X)U=new sB;else if("tokenType"in X)U=this.hydrateCstLeafNode(X);if(U)Q.set(X,U),U.root=K}return{astNodes:J,cstNodes:Q}}hydrateAstNode(Z,J){let Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode)Q.$cstNode=J.cstNodes.get(Z.$cstNode);for(let[K,X]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(X)){let U=[];Q[K]=U;for(let Y of X)if($J(Y))U.push(this.setParent(this.hydrateAstNode(Y,J),Q));else if(BQ(Y))U.push(this.hydrateReference(Y,Q,K,J));else U.push(Y)}else if($J(X))Q[K]=this.setParent(this.hydrateAstNode(X,J),Q);else if(BQ(X))Q[K]=this.hydrateReference(X,Q,K,J);else if(X!==void 0)Q[K]=X}return Q}setParent(Z,J){return Z.$container=J,Z}hydrateReference(Z,J,Q,K){return this.linker.buildReference(J,Q,K.cstNodes.get(Z.$refNode),Z.$refText)}hydrateCstNode(Z,J,Q=0){let K=J.cstNodes.get(Z);if(typeof Z.grammarSource==="number")K.grammarSource=this.getGrammarElement(Z.grammarSource);if(K.astNode=J.astNodes.get(Z.astNode),T5(K))for(let X of Z.content){let U=this.hydrateCstNode(X,J,Q++);K.content.push(U)}return K}hydrateCstLeafNode(Z){let J=this.getTokenType(Z.tokenType),Q=Z.offset,K=Z.length,X=Z.startLine,U=Z.startColumn,Y=Z.endLine,q=Z.endColumn,W=Z.hidden;return new iB(Q,K,{start:{line:X,character:U},end:{line:Y,character:q}},J,W)}getTokenType(Z){return this.lexer.definition[Z]}getGrammarElementId(Z){if(!Z)return;if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.get(Z)}getGrammarElement(Z){if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(Z)}createGrammarElementIdMap(){let Z=0;for(let J of kK(this.grammar))if(eL(J))this.grammarElementIdMap.set(J,Z++)}}var Eo=_(()=>{Mk();ZU();z6();eB();w5()});function OQ(Z){return{documentation:{CommentProvider:(J)=>new Q_(J),DocumentationProvider:(J)=>new J_(J)},parser:{AsyncParser:(J)=>new K_(J),GrammarConfig:(J)=>Jr(J),LangiumParser:(J)=>fa(J),CompletionParser:(J)=>ka(J),ValueConverter:()=>new rB,TokenBuilder:()=>new wW,Lexer:(J)=>new QO(J),ParserErrorMessageProvider:()=>new MA,LexerErrorMessageProvider:()=>new nk},workspace:{AstNodeLocator:()=>new ck,AstNodeDescriptionProvider:(J)=>new gk(J),ReferenceDescriptionProvider:(J)=>new pk(J)},references:{Linker:(J)=>new Sk(J),NameProvider:()=>new Tk,ScopeProvider:(J)=>new vk(J),ScopeComputation:(J)=>new $k(J),References:(J)=>new wk(J)},serializer:{Hydrator:(J)=>new U_(J),JsonSerializer:(J)=>new xk(J)},validation:{DocumentValidator:(J)=>new uk(J),ValidationRegistry:(J)=>new hk(J)},shared:()=>Z.shared}}function RQ(Z){return{ServiceRegistry:(J)=>new yk(J),workspace:{LangiumDocuments:(J)=>new Ck(J),LangiumDocumentFactory:(J)=>new jk(J),DocumentBuilder:(J)=>new ik(J),IndexManager:(J)=>new sk(J),WorkspaceManager:(J)=>new rk(J),FileSystemProvider:(J)=>Z.fileSystemProvider(J),WorkspaceLock:()=>new X_,ConfigurationProvider:(J)=>new dk(J)}}}var Vo=_(()=>{Qr();_a();va();Ak();xa();ia();sa();ra();na();ta();bk();Zo();Jo();AA();Qo();Ko();Uo();oB();Yo();qo();tk();Lo();Io();BA();Ao();No();Eo()});function zJ(Z,J,Q,K,X,U,Y,q,W){let G=[Z,J,Q,K,X,U,Y,q,W].reduce(Y_,{});return fb0(G)}function _b0(Z){if(Z&&Z[kb0])for(let J of Object.values(Z))_b0(J);return Z}function fb0(Z,J){let Q=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw Error("Cannot set property on injected service container")},get:(K,X)=>{if(X===kb0)return!0;else return $b0(K,X,Z,J||Q)},getOwnPropertyDescriptor:(K,X)=>($b0(K,X,Z,J||Q),Object.getOwnPropertyDescriptor(K,X)),has:(K,X)=>(X in Z),ownKeys:()=>[...Object.getOwnPropertyNames(Z)]});return Q}function $b0(Z,J,Q,K){if(J in Z){if(Z[J]instanceof Error)throw Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:Z[J]});if(Z[J]===wb0)throw Error('Cycle detected. Please make "'+String(J)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return Z[J]}else if(J in Q){let X=Q[J];Z[J]=wb0;try{Z[J]=typeof X==="function"?X(K):fb0(X,K)}catch(U){throw Z[J]=U instanceof Error?U:void 0,U}return Z[J]}else return}function Y_(Z,J){if(J){for(let[Q,K]of Object.entries(J))if(K!==void 0){let X=Z[Q];if(X!==null&&K!==null&&typeof X==="object"&&typeof K==="object")Z[Q]=Y_(X,K);else Z[Q]=K}}return Z}var Po,kb0,wb0;var jo=_(()=>{(function(Z){Z.merge=(J,Q)=>Y_(Y_({},J),Q)})(Po||(Po={}));kb0=Symbol("isProxy");wb0=Symbol()});var vb0=()=>{};var xb0=_(()=>{Io();Lo();Do()});var bb0=()=>{};var yb0=_(()=>{Qr();bb0()});var Co,sz,So,hb0;var mb0=_(()=>{CW();Ak();tk();Co={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};(function(Z){Z.REGULAR="indentation-sensitive",Z.IGNORE_INDENTATION="ignore-indentation"})(sz||(sz={}));So=class So extends wW{constructor(Z=Co){super();this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},Co),Z),this.indentTokenType=VW({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=VW({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(Z,J){let Q=super.buildTokens(Z,J);if(!ok(Q))throw Error("Invalid tokens built by default builder");let{indentTokenName:K,dedentTokenName:X,whitespaceTokenName:U,ignoreIndentationDelimiters:Y}=this.options,q,W,G,z=[];for(let H of Q){for(let[F,M]of Y)if(H.name===F)H.PUSH_MODE=sz.IGNORE_INDENTATION;else if(H.name===M)H.POP_MODE=!0;if(H.name===X)q=H;else if(H.name===K)W=H;else if(H.name===U)G=H;else z.push(H)}if(!q||!W||!G)throw Error("Some indentation/whitespace tokens not found!");if(Y.length>0)return{modes:{[sz.REGULAR]:[q,W,...z,G],[sz.IGNORE_INDENTATION]:[...z,G]},defaultMode:sz.REGULAR};else return[q,W,G,...z]}flushLexingReport(Z){let J=super.flushLexingReport(Z);return Object.assign(Object.assign({},J),{remainingDedents:this.flushRemainingDedents(Z)})}isStartOfLine(Z,J){return J===0||`\r
`.includes(Z[J-1])}matchWhitespace(Z,J,Q,K){var X;this.whitespaceRegExp.lastIndex=J;let U=this.whitespaceRegExp.exec(Z);return{currIndentLevel:(X=U===null||U===void 0?void 0:U[0].length)!==null&&X!==void 0?X:0,prevIndentLevel:this.indentationStack.at(-1),match:U}}createIndentationTokenInstance(Z,J,Q,K){let X=this.getLineNumber(J,K);return mY(Z,Q,K,K+Q.length,X,X,1,Q.length)}getLineNumber(Z,J){return Z.substring(0,J).split(/\r\n|\r|\n/).length}indentMatcher(Z,J,Q,K){if(!this.isStartOfLine(Z,J))return null;let{currIndentLevel:X,prevIndentLevel:U,match:Y}=this.matchWhitespace(Z,J,Q,K);if(X<=U)return null;return this.indentationStack.push(X),Y}dedentMatcher(Z,J,Q,K){var X,U,Y,q;if(!this.isStartOfLine(Z,J))return null;let{currIndentLevel:W,prevIndentLevel:G,match:z}=this.matchWhitespace(Z,J,Q,K);if(W>=G)return null;let H=this.indentationStack.lastIndexOf(W);if(H===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${W} at offset: ${J}. Current indentation stack: ${this.indentationStack}`,offset:J,length:(U=(X=z===null||z===void 0?void 0:z[0])===null||X===void 0?void 0:X.length)!==null&&U!==void 0?U:0,line:this.getLineNumber(Z,J),column:1}),null;let F=this.indentationStack.length-H-1,M=(q=(Y=Z.substring(0,J).match(/[\r\n]+$/))===null||Y===void 0?void 0:Y[0].length)!==null&&q!==void 0?q:1;for(let B=0;B<F;B++){let O=this.createIndentationTokenInstance(this.dedentTokenType,Z,"",J-(M-1));Q.push(O),this.indentationStack.pop()}return null}buildTerminalToken(Z){let J=super.buildTerminalToken(Z),{indentTokenName:Q,dedentTokenName:K,whitespaceTokenName:X}=this.options;if(J.name===Q)return this.indentTokenType;else if(J.name===K)return this.dedentTokenType;else if(J.name===X)return VW({name:X,pattern:this.whitespaceRegExp,group:fJ.SKIPPED});return J}flushRemainingDedents(Z){let J=[];while(this.indentationStack.length>1)J.push(this.createIndentationTokenInstance(this.dedentTokenType,Z,"",Z.length)),this.indentationStack.pop();return this.indentationStack=[0],J}};hb0=class hb0 extends QO{constructor(Z){super(Z);if(Z.parser.TokenBuilder instanceof So)this.indentationTokenBuilder=Z.parser.TokenBuilder;else throw Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(Z,J=ak){let Q=super.tokenize(Z),K=Q.report;if((J===null||J===void 0?void 0:J.mode)==="full")Q.tokens.push(...K.remainingDedents);K.remainingDedents=[];let{indentTokenType:X,dedentTokenType:U}=this.indentationTokenBuilder,Y=X.tokenTypeIdx,q=U.tokenTypeIdx,W=[],G=Q.tokens.length-1;for(let z=0;z<G;z++){let H=Q.tokens[z],F=Q.tokens[z+1];if(H.tokenTypeIdx===Y&&F.tokenTypeIdx===q){z++;continue}W.push(H)}if(G>=0)W.push(Q.tokens[G]);return Q.tokens=W,Q}}});var ub0=()=>{};var gb0=_(()=>{Ao();_a();Mk();mb0();va();BA();tk();Ik();ub0();Ak();xa()});var pb0=_(()=>{ia();sa();ra();aa();na();ta()});var cb0=_(()=>{Eo();bk()});class To{readFile(){throw Error("No file system is available.")}async readDirectory(){return[]}}var DQ;var wo=_(()=>{DQ={fileSystemProvider:()=>new To}});function zf8(){let Z=zJ(RQ(DQ),Gf8),J=zJ(OQ({shared:Z}),Wf8);return Z.ServiceRegistry.register(J),J}function PU(Z){var J;let Q=zf8(),K=Q.serializer.JsonSerializer.deserialize(Z);return Q.shared.workspace.LangiumDocumentFactory.fromModel(K,I6.parse(`memory://${(J=K.name)!==null&&J!==void 0?J:"grammar"}.langium`)),K}var Wf8,Gf8;var lb0=_(()=>{Vo();jo();ZU();wo();EU();Wf8={Grammar:()=>{return},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},Gf8={AstReflection:()=>new JI}});var WZ={};z9(WZ,{stream:()=>DZ,startCancelableOperation:()=>Pk,setInterruptionPeriod:()=>Hb0,loadGrammarFromJson:()=>PU,isOperationCancelled:()=>NU,interruptAndCheck:()=>oJ,delayNextTick:()=>pa,assertUnreachable:()=>eX,WorkspaceCache:()=>IA,UriUtils:()=>A6,URI:()=>I6,TreeStreamImpl:()=>SY,StreamImpl:()=>Y7,SimpleCache:()=>_k,RegExpUtils:()=>uT,Reduction:()=>xF,OperationCancelled:()=>AU,MultiMap:()=>VU,GrammarUtils:()=>pT,ErrorWithLocation:()=>yF,EMPTY_STREAM:()=>iL,DocumentCache:()=>oa,DisposableCache:()=>LA,Disposable:()=>$W,Deferred:()=>H4,DONE_RESULT:()=>fQ,CstUtils:()=>ST,ContextCache:()=>ZO,Cancellation:()=>N9,BiMap:()=>tB,AstUtils:()=>yT});var db0=_(()=>{z6();yK();w5();_5();CM();fk();lk();_9(WZ,NJ);eB();Xo();TT();lb0();hK();Z4();EU()});var ib0=_(()=>{Jo();AA()});var sb0=_(()=>{Qo();Ko();Uo();oB();wo();Yo();No();qo()});var LQ={};z9(LQ,{toDiagnosticSeverity:()=>mk,toDiagnosticData:()=>Ab0,stream:()=>DZ,startCancelableOperation:()=>Pk,setInterruptionPeriod:()=>Hb0,prepareLangiumParser:()=>nx0,parseJSDoc:()=>Mo,loadGrammarFromJson:()=>PU,isTokenTypeDictionary:()=>Wo,isTokenTypeArray:()=>ok,isRootCstNode:()=>dL,isReference:()=>BQ,isOperationCancelled:()=>NU,isNamed:()=>Db0,isLinkingError:()=>Ez,isLeafCstNode:()=>mq,isJSDoc:()=>Bo,isIMultiModeLexerDefinition:()=>Go,isCompositeCstNode:()=>T5,isAstNodeWithComment:()=>ea,isAstNodeDescription:()=>Fs,isAstNode:()=>$J,interruptAndCheck:()=>oJ,inject:()=>zJ,indentationBuilderDefaultOptions:()=>Co,getDiagnosticRange:()=>Ib0,eagerLoad:()=>_b0,diagnosticData:()=>iz,delayNextTick:()=>pa,createParser:()=>OA,createLangiumParser:()=>fa,createGrammarConfig:()=>Jr,createDefaultSharedCoreModule:()=>RQ,createDefaultCoreModule:()=>OQ,createCompletionParser:()=>ka,assertUnreachable:()=>eX,WorkspaceCache:()=>IA,ValueConverter:()=>IU,ValidationRegistry:()=>hk,ValidationCategory:()=>JO,UriUtils:()=>A6,URI:()=>I6,TreeStreamImpl:()=>SY,TextDocument:()=>nB,StreamScope:()=>DA,StreamImpl:()=>Y7,SimpleCache:()=>_k,RootCstNodeImpl:()=>FA,RegExpUtils:()=>uT,Reduction:()=>xF,ParserWorker:()=>Tb0,OperationCancelled:()=>AU,MultiMap:()=>VU,Module:()=>Po,MapScope:()=>kk,LexingMode:()=>sz,LeafCstNodeImpl:()=>iB,LangiumParserErrorMessageProvider:()=>MA,LangiumParser:()=>Rk,LangiumCompletionParser:()=>Dk,JSDocDocumentationProvider:()=>J_,IndentationAwareTokenBuilder:()=>So,IndentationAwareLexer:()=>hb0,GrammarUtils:()=>pT,GrammarAST:()=>QI,ErrorWithLocation:()=>yF,EmptyFileSystemProvider:()=>To,EmptyFileSystem:()=>DQ,EMPTY_STREAM:()=>iL,EMPTY_SCOPE:()=>n_8,DocumentValidator:()=>mK,DocumentState:()=>pZ,DocumentCache:()=>oa,DisposableCache:()=>LA,Disposable:()=>$W,Deferred:()=>H4,DefaultWorkspaceManager:()=>rk,DefaultWorkspaceLock:()=>X_,DefaultValueConverter:()=>rB,DefaultTokenBuilder:()=>wW,DefaultServiceRegistry:()=>yk,DefaultScopeProvider:()=>vk,DefaultScopeComputation:()=>$k,DefaultReferences:()=>wk,DefaultReferenceDescriptionProvider:()=>pk,DefaultNameProvider:()=>Tk,DefaultLinker:()=>Sk,DefaultLexerErrorMessageProvider:()=>nk,DefaultLexer:()=>QO,DefaultLangiumDocuments:()=>Ck,DefaultLangiumDocumentFactory:()=>jk,DefaultJsonSerializer:()=>xk,DefaultIndexManager:()=>sk,DefaultHydrator:()=>U_,DefaultDocumentValidator:()=>uk,DefaultDocumentBuilder:()=>ik,DefaultConfigurationProvider:()=>dk,DefaultCommentProvider:()=>Q_,DefaultAsyncParser:()=>K_,DefaultAstNodeLocator:()=>ck,DefaultAstNodeDescriptionProvider:()=>gk,DatatypeSymbol:()=>Bk,DONE_RESULT:()=>fQ,DEFAULT_TOKENIZE_OPTIONS:()=>ak,CstUtils:()=>ST,CstNodeBuilder:()=>Hk,ContextCache:()=>ZO,CompositeCstNodeImpl:()=>sB,Cancellation:()=>N9,BiMap:()=>tB,AstUtils:()=>yT,AbstractThreadedAsyncParser:()=>Sb0,AbstractParserErrorMessageProvider:()=>wa,AbstractLangiumParser:()=>Ok,AbstractCstNode:()=>Fk,AbstractAstReflection:()=>vF});var c4=_(()=>{ZU();Vo();jo();Zo();vb0();xb0();yb0();gb0();pb0();cb0();db0();_9(LQ,WZ);ib0();sb0()});function Jy0(Z){return u5.isInstance(Z,NA)}function Qy0(Z){return u5.isInstance(Z,KO)}function Ky0(Z){return u5.isInstance(Z,XO)}function Xy0(Z){return u5.isInstance(Z,UO)}function Uy0(Z){return u5.isInstance(Z,EA)}function Yy0(Z){return u5.isInstance(Z,YO)}function qy0(Z){return u5.isInstance(Z,VA)}function Wy0(Z){return u5.isInstance(Z,PA)}function Gy0(Z){return u5.isInstance(Z,jA)}function zy0(Z){return u5.isInstance(Z,CA)}function Hy0(Z){return u5.isInstance(Z,SA)}var Hf8,I8=(Z,J)=>Hf8(Z,"name",{value:J,configurable:!0}),mo="Statement",NA="Architecture",q_="Axis",KO="Branch",W_="Checkout",G_="CherryPicking",$o="ClassDefStatement",XO="Commit",ko="Curve",_o="Edge",fo="Entry",UO="GitGraph",vo="Group",EA="Info",z_="Item",xo="Junction",YO="Merge",bo="Option",VA="Packet",PA="PacketBlock",jA="Pie",CA="PieSection",B_="Radar",yo="Service",SA="Treemap",ho="TreemapRow",H_="Direction",F_="Leaf",M_="Section",Fy0,u5,rb0,Ff8,nb0,Mf8,ab0,Bf8,ob0,Of8,tb0,Rf8,eb0,Df8,Zy0,Lf8,If8,Af8,Nf8,Ef8,Vf8,Pf8,jf8,N6,uo,go,po,co,lo,io,so,Cf8,Sf8,Tf8,wf8,kW,pY,mQ,$f8;var uQ=_(()=>{c4();c4();c4();c4();Hf8=Object.defineProperty;I8(Jy0,"isArchitecture");I8(Qy0,"isBranch");I8(Ky0,"isCommit");I8(Xy0,"isGitGraph");I8(Uy0,"isInfo");I8(Yy0,"isMerge");I8(qy0,"isPacket");I8(Wy0,"isPacketBlock");I8(Gy0,"isPie");I8(zy0,"isPieSection");I8(Hy0,"isTreemap");Fy0=class extends vF{static{I8(this,"MermaidAstReflection")}getAllTypes(){return[NA,q_,KO,W_,G_,$o,XO,ko,H_,_o,fo,UO,vo,EA,z_,xo,F_,YO,bo,VA,PA,jA,CA,B_,M_,yo,mo,SA,ho]}computeIsSubtype(Z,J){switch(Z){case KO:case W_:case G_:case XO:case YO:return this.isSubtype(mo,J);case H_:return this.isSubtype(UO,J);case F_:case M_:return this.isSubtype(z_,J);default:return!1}}getReferenceType(Z){let J=`${Z.container.$type}:${Z.property}`;switch(J){case"Entry:axis":return q_;default:throw Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case NA:return{name:NA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case q_:return{name:q_,properties:[{name:"label"},{name:"name"}]};case KO:return{name:KO,properties:[{name:"name"},{name:"order"}]};case W_:return{name:W_,properties:[{name:"branch"}]};case G_:return{name:G_,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case $o:return{name:$o,properties:[{name:"className"},{name:"styleText"}]};case XO:return{name:XO,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case ko:return{name:ko,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case _o:return{name:_o,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case fo:return{name:fo,properties:[{name:"axis"},{name:"value"}]};case UO:return{name:UO,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case vo:return{name:vo,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case EA:return{name:EA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case z_:return{name:z_,properties:[{name:"classSelector"},{name:"name"}]};case xo:return{name:xo,properties:[{name:"id"},{name:"in"}]};case YO:return{name:YO,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case bo:return{name:bo,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case VA:return{name:VA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case PA:return{name:PA,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case jA:return{name:jA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case CA:return{name:CA,properties:[{name:"label"},{name:"value"}]};case B_:return{name:B_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case yo:return{name:yo,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case SA:return{name:SA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case ho:return{name:ho,properties:[{name:"indent"},{name:"item"}]};case H_:return{name:H_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case F_:return{name:F_,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case M_:return{name:M_,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:Z,properties:[]}}}},u5=new Fy0,Ff8=I8(()=>rb0??(rb0=PU('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Mf8=I8(()=>nb0??(nb0=PU('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),Bf8=I8(()=>ab0??(ab0=PU('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),Of8=I8(()=>ob0??(ob0=PU('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Rf8=I8(()=>tb0??(tb0=PU('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),Df8=I8(()=>eb0??(eb0=PU('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),Lf8=I8(()=>Zy0??(Zy0=PU('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),If8={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Af8={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Nf8={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ef8={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Vf8={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Pf8={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},jf8={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},N6={AstReflection:I8(()=>new Fy0,"AstReflection")},uo={Grammar:I8(()=>Ff8(),"Grammar"),LanguageMetaData:I8(()=>If8,"LanguageMetaData"),parser:{}},go={Grammar:I8(()=>Mf8(),"Grammar"),LanguageMetaData:I8(()=>Af8,"LanguageMetaData"),parser:{}},po={Grammar:I8(()=>Bf8(),"Grammar"),LanguageMetaData:I8(()=>Nf8,"LanguageMetaData"),parser:{}},co={Grammar:I8(()=>Of8(),"Grammar"),LanguageMetaData:I8(()=>Ef8,"LanguageMetaData"),parser:{}},lo={Grammar:I8(()=>Rf8(),"Grammar"),LanguageMetaData:I8(()=>Vf8,"LanguageMetaData"),parser:{}},io={Grammar:I8(()=>Df8(),"Grammar"),LanguageMetaData:I8(()=>Pf8,"LanguageMetaData"),parser:{}},so={Grammar:I8(()=>Lf8(),"Grammar"),LanguageMetaData:I8(()=>jf8,"LanguageMetaData"),parser:{}},Cf8=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Sf8=/accTitle[\t ]*:([^\n\r]*)/,Tf8=/title([\t ][^\n\r]*|)/,wf8={ACC_DESCR:Cf8,ACC_TITLE:Sf8,TITLE:Tf8},kW=class extends rB{static{I8(this,"AbstractMermaidValueConverter")}runConverter(Z,J,Q){let K=this.runCommonConverter(Z,J,Q);if(K===void 0)K=this.runCustomConverter(Z,J,Q);if(K===void 0)return super.runConverter(Z,J,Q);return K}runCommonConverter(Z,J,Q){let K=wf8[Z.name];if(K===void 0)return;let X=K.exec(J);if(X===null)return;if(X[1]!==void 0)return X[1].trim().replace(/[\t ]{2,}/gm," ");if(X[2]!==void 0)return X[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`);return}},pY=class extends kW{static{I8(this,"CommonValueConverter")}runCustomConverter(Z,J,Q){return}},mQ=class extends wW{static{I8(this,"AbstractMermaidTokenBuilder")}constructor(Z){super();this.keywords=new Set(Z)}buildKeywordTokens(Z,J,Q){let K=super.buildKeywordTokens(Z,J,Q);return K.forEach((X)=>{if(this.keywords.has(X.name)&&X.PATTERN!==void 0)X.PATTERN=new RegExp(X.PATTERN.toString()+"(?:(?=%%)|(?!\\S))")}),K}},$f8=class extends mQ{static{I8(this,"CommonTokenBuilder")}}});function R_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),lo,O_);return J.ServiceRegistry.register(Q),{shared:J,GitGraph:Q}}var kf8,O_;var ro=_(()=>{uQ();c4();kf8=class extends mQ{static{I8(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},O_={parser:{TokenBuilder:I8(()=>new kf8,"TokenBuilder"),ValueConverter:I8(()=>new pY,"ValueConverter")}};I8(R_,"createGitGraphServices")});function L_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),uo,D_);return J.ServiceRegistry.register(Q),{shared:J,Info:Q}}var _f8,D_;var no=_(()=>{uQ();c4();_f8=class extends mQ{static{I8(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},D_={parser:{TokenBuilder:I8(()=>new _f8,"TokenBuilder"),ValueConverter:I8(()=>new pY,"ValueConverter")}};I8(L_,"createInfoServices")});function A_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),go,I_);return J.ServiceRegistry.register(Q),{shared:J,Packet:Q}}var ff8,I_;var ao=_(()=>{uQ();c4();ff8=class extends mQ{static{I8(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},I_={parser:{TokenBuilder:I8(()=>new ff8,"TokenBuilder"),ValueConverter:I8(()=>new pY,"ValueConverter")}};I8(A_,"createPacketServices")});function E_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),po,N_);return J.ServiceRegistry.register(Q),{shared:J,Pie:Q}}var vf8,xf8,N_;var oo=_(()=>{uQ();c4();vf8=class extends mQ{static{I8(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},xf8=class extends kW{static{I8(this,"PieValueConverter")}runCustomConverter(Z,J,Q){if(Z.name!=="PIE_SECTION_LABEL")return;return J.replace(/"/g,"").trim()}},N_={parser:{TokenBuilder:I8(()=>new vf8,"TokenBuilder"),ValueConverter:I8(()=>new xf8,"ValueConverter")}};I8(E_,"createPieServices")});function P_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),co,V_);return J.ServiceRegistry.register(Q),{shared:J,Architecture:Q}}var bf8,yf8,V_;var to=_(()=>{uQ();c4();bf8=class extends mQ{static{I8(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},yf8=class extends kW{static{I8(this,"ArchitectureValueConverter")}runCustomConverter(Z,J,Q){if(Z.name==="ARCH_ICON")return J.replace(/[()]/g,"").trim();else if(Z.name==="ARCH_TEXT_ICON")return J.replace(/["()]/g,"");else if(Z.name==="ARCH_TITLE")return J.replace(/[[\]]/g,"").trim();return}},V_={parser:{TokenBuilder:I8(()=>new bf8,"TokenBuilder"),ValueConverter:I8(()=>new yf8,"ValueConverter")}};I8(P_,"createArchitectureServices")});function C_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),io,j_);return J.ServiceRegistry.register(Q),{shared:J,Radar:Q}}var hf8,j_;var eo=_(()=>{uQ();c4();hf8=class extends mQ{static{I8(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},j_={parser:{TokenBuilder:I8(()=>new hf8,"TokenBuilder"),ValueConverter:I8(()=>new pY,"ValueConverter")}};I8(C_,"createRadarServices")});function My0(Z){let J=Z.validation.TreemapValidator,Q=Z.validation.ValidationRegistry;if(Q){let K={Treemap:J.checkSingleRoot.bind(J)};Q.register(K,J)}}function T_(Z=DQ){let J=zJ(RQ(Z),N6),Q=zJ(OQ({shared:J}),so,S_);return J.ServiceRegistry.register(Q),My0(Q),{shared:J,Treemap:Q}}var mf8,uf8,gf8,pf8,S_;var Zt=_(()=>{uQ();c4();mf8=class extends mQ{static{I8(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},uf8=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,gf8=class extends kW{static{I8(this,"TreemapValueConverter")}runCustomConverter(Z,J,Q){if(Z.name==="NUMBER2")return parseFloat(J.replace(/,/g,""));else if(Z.name==="SEPARATOR")return J.substring(1,J.length-1);else if(Z.name==="STRING2")return J.substring(1,J.length-1);else if(Z.name==="INDENTATION")return J.length;else if(Z.name==="ClassDef"){if(typeof J!=="string")return J;let K=uf8.exec(J);if(K)return{$type:"ClassDefStatement",className:K[1],styleText:K[2]||void 0}}return}};I8(My0,"registerValidationChecks");pf8=class{static{I8(this,"TreemapValidator")}checkSingleRoot(Z,J){let Q;for(let K of Z.TreemapRows){if(!K.item)continue;if(Q===void 0&&K.indent===void 0)Q=0;else if(K.indent===void 0)J("error","Multiple root nodes are not allowed in a treemap.",{node:K,property:"item"});else if(Q!==void 0&&Q>=parseInt(K.indent,10))J("error","Multiple root nodes are not allowed in a treemap.",{node:K,property:"item"})}}},S_={parser:{TokenBuilder:I8(()=>new mf8,"TokenBuilder"),ValueConverter:I8(()=>new gf8,"ValueConverter")},validation:{TreemapValidator:I8(()=>new pf8,"TreemapValidator")}};I8(T_,"createTreemapServices")});var By0={};z9(By0,{createInfoServices:()=>L_,InfoModule:()=>D_});var Oy0=_(()=>{no();uQ()});var Ry0={};z9(Ry0,{createPacketServices:()=>A_,PacketModule:()=>I_});var Dy0=_(()=>{ao();uQ()});var Ly0={};z9(Ly0,{createPieServices:()=>E_,PieModule:()=>N_});var Iy0=_(()=>{oo();uQ()});var Ay0={};z9(Ay0,{createArchitectureServices:()=>P_,ArchitectureModule:()=>V_});var Ny0=_(()=>{to();uQ()});var Ey0={};z9(Ey0,{createGitGraphServices:()=>R_,GitGraphModule:()=>O_});var Vy0=_(()=>{ro();uQ()});var Py0={};z9(Py0,{createRadarServices:()=>C_,RadarModule:()=>j_});var jy0=_(()=>{eo();uQ()});var Cy0={};z9(Cy0,{createTreemapServices:()=>T_,TreemapModule:()=>S_});var Sy0=_(()=>{Zt();uQ()});async function E6(Z,J){let Q=cf8[Z];if(!Q)throw Error(`Unknown diagram type: ${Z}`);if(!cY[Z])await Q();let X=cY[Z].parse(J);if(X.lexerErrors.length>0||X.parserErrors.length>0)throw new lf8(X);return X.value}var cY,cf8,lf8;var _W=_(()=>{ro();no();ao();oo();to();eo();Zt();uQ();cY={},cf8={info:I8(async()=>{let{createInfoServices:Z}=await Promise.resolve().then(() => (Oy0(),By0)),J=Z().Info.parser.LangiumParser;cY.info=J},"info"),packet:I8(async()=>{let{createPacketServices:Z}=await Promise.resolve().then(() => (Dy0(),Ry0)),J=Z().Packet.parser.LangiumParser;cY.packet=J},"packet"),pie:I8(async()=>{let{createPieServices:Z}=await Promise.resolve().then(() => (Iy0(),Ly0)),J=Z().Pie.parser.LangiumParser;cY.pie=J},"pie"),architecture:I8(async()=>{let{createArchitectureServices:Z}=await Promise.resolve().then(() => (Ny0(),Ay0)),J=Z().Architecture.parser.LangiumParser;cY.architecture=J},"architecture"),gitGraph:I8(async()=>{let{createGitGraphServices:Z}=await Promise.resolve().then(() => (Vy0(),Ey0)),J=Z().GitGraph.parser.LangiumParser;cY.gitGraph=J},"gitGraph"),radar:I8(async()=>{let{createRadarServices:Z}=await Promise.resolve().then(() => (jy0(),Py0)),J=Z().Radar.parser.LangiumParser;cY.radar=J},"radar"),treemap:I8(async()=>{let{createTreemapServices:Z}=await Promise.resolve().then(() => (Sy0(),Cy0)),J=Z().Treemap.parser.LangiumParser;cY.treemap=J},"treemap")};I8(E6,"parse");lf8=class extends Error{constructor(Z){let J=Z.lexerErrors.map((K)=>K.message).join(`
`),Q=Z.parserErrors.map((K)=>K.message).join(`
`);super(`Parsing failed: ${J} ${Q}`);this.result=Z}static{I8(this,"MermaidParseError")}}});var xy0={};z9(xy0,{diagram:()=>hv8});function k_(){return Pp({length:7})}function wy0(Z,J){let Q=Object.create(null);return Z.reduce((K,X)=>{let U=J(X);if(!Q[U])Q[U]=!0,K.push(X);return K},[])}function Jt(Z,J,Q){let K=Z.indexOf(J);if(K===-1)Z.push(Q);else Z.splice(K,1,Q)}function Qt(Z){let J=Z.reduce((X,U)=>{if(X.seq>U.seq)return X;return U},Z[0]),Q="";Z.forEach(function(X){if(X===J)Q+="\t*";else Q+="\t|"});let K=[Q,J.id,J.seq];for(let X in j8.records.branches)if(j8.records.branches.get(X)===J.id)K.push(X);if(Z0.debug(K.join(" ")),J.parents&&J.parents.length==2&&J.parents[0]&&J.parents[1]){let X=j8.records.commits.get(J.parents[0]);if(Jt(Z,J,X),J.parents[1])Z.push(j8.records.commits.get(J.parents[1]))}else if(J.parents.length==0)return;else if(J.parents[0]){let X=j8.records.commits.get(J.parents[0]);Jt(Z,J,X)}Z=wy0(Z,(X)=>X.id),Qt(Z)}var $Z,df8,nz,j8,if8,sf8,rf8,nf8,af8,of8,tf8,$y0,ef8,Zv8,Jv8,Qv8,Kv8,ky0,Xv8,Uv8,Yv8,_y0,qv8,Wv8,Gv8,zv8,Hv8,Fv8,Mv8,Bv8,Ov8,uK,vW=10,xW=40,jU=4,lY=2,rz=8,F4,M4,w_=30,TA,$_,fW=0,n9="LR",Rv8,fy0,vy0,Dv8,Lv8,Iv8,Av8,Nv8,Ev8,Vv8,Pv8,jv8,Cv8,Sv8,Tv8,Ty0,wv8,wA,$v8,kv8,_v8,fv8,vv8,xv8,bv8,yv8,hv8;var by0=_(()=>{Nz();Hs();jZ();T9();M9();_W();A9();$Z={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},df8=D9.gitGraph,nz=I(()=>{return TJ({...df8,...L9().gitGraph})},"getConfig"),j8=new PT(()=>{let Z=nz(),J=Z.mainBranchName,Q=Z.mainBranchOrder;return{mainBranchName:J,commits:new Map,head:null,branchConfig:new Map([[J,{name:J,order:Q}]]),branches:new Map([[J,null]]),currBranch:J,direction:"LR",seq:0,options:{}}});I(k_,"getID");I(wy0,"uniqBy");if8=I(function(Z){j8.records.direction=Z},"setDirection"),sf8=I(function(Z){Z0.debug("options str",Z),Z=Z?.trim(),Z=Z||"{}";try{j8.records.options=JSON.parse(Z)}catch(J){Z0.error("error while parsing gitGraph options",J.message)}},"setOptions"),rf8=I(function(){return j8.records.options},"getOptions"),nf8=I(function(Z){let{msg:J,id:Q,type:K,tags:X}=Z;Z0.info("commit",J,Q,K,X),Z0.debug("Entering commit:",J,Q,K,X);let U=nz();Q=J8.sanitizeText(Q,U),J=J8.sanitizeText(J,U),X=X?.map((q)=>J8.sanitizeText(q,U));let Y={id:Q?Q:j8.records.seq+"-"+k_(),message:J,seq:j8.records.seq++,type:K??$Z.NORMAL,tags:X??[],parents:j8.records.head==null?[]:[j8.records.head.id],branch:j8.records.currBranch};if(j8.records.head=Y,Z0.info("main branch",U.mainBranchName),j8.records.commits.has(Y.id))Z0.warn(`Commit ID ${Y.id} already exists`);j8.records.commits.set(Y.id,Y),j8.records.branches.set(j8.records.currBranch,Y.id),Z0.debug("in pushCommit "+Y.id)},"commit"),af8=I(function(Z){let{name:J,order:Q}=Z;if(J=J8.sanitizeText(J,nz()),j8.records.branches.has(J))throw Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${J}")`);j8.records.branches.set(J,j8.records.head!=null?j8.records.head.id:null),j8.records.branchConfig.set(J,{name:J,order:Q}),$y0(J),Z0.debug("in createBranch")},"branch"),of8=I((Z)=>{let{branch:J,id:Q,type:K,tags:X}=Z,U=nz();if(J=J8.sanitizeText(J,U),Q)Q=J8.sanitizeText(Q,U);let Y=j8.records.branches.get(j8.records.currBranch),q=j8.records.branches.get(J),W=Y?j8.records.commits.get(Y):void 0,G=q?j8.records.commits.get(q):void 0;if(W&&G&&W.branch===J)throw Error(`Cannot merge branch '${J}' into itself.`);if(j8.records.currBranch===J){let F=Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(W===void 0||!W){let F=Error(`Incorrect usage of "merge". Current branch (${j8.records.currBranch})has no commits`);throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["commit"]},F}if(!j8.records.branches.has(J)){let F=Error('Incorrect usage of "merge". Branch to be merged ('+J+") does not exist");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:[`branch ${J}`]},F}if(G===void 0||!G){let F=Error('Incorrect usage of "merge". Branch to be merged ('+J+") has no commits");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:['"commit"']},F}if(W===G){let F=Error('Incorrect usage of "merge". Both branches have same head');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(Q&&j8.records.commits.has(Q)){let F=Error('Incorrect usage of "merge". Commit with id:'+Q+" already exists, use different custom id");throw F.hash={text:`merge ${J} ${Q} ${K} ${X?.join(" ")}`,token:`merge ${J} ${Q} ${K} ${X?.join(" ")}`,expected:[`merge ${J} ${Q}_UNIQUE ${K} ${X?.join(" ")}`]},F}let z=q?q:"",H={id:Q||`${j8.records.seq}-${k_()}`,message:`merged branch ${J} into ${j8.records.currBranch}`,seq:j8.records.seq++,parents:j8.records.head==null?[]:[j8.records.head.id,z],branch:j8.records.currBranch,type:$Z.MERGE,customType:K,customId:Q?!0:!1,tags:X??[]};j8.records.head=H,j8.records.commits.set(H.id,H),j8.records.branches.set(j8.records.currBranch,H.id),Z0.debug(j8.records.branches),Z0.debug("in mergeBranch")},"merge"),tf8=I(function(Z){let{id:J,targetId:Q,tags:K,parent:X}=Z;Z0.debug("Entering cherryPick:",J,Q,K);let U=nz();if(J=J8.sanitizeText(J,U),Q=J8.sanitizeText(Q,U),K=K?.map((W)=>J8.sanitizeText(W,U)),X=J8.sanitizeText(X,U),!J||!j8.records.commits.has(J)){let W=Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw W.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},W}let Y=j8.records.commits.get(J);if(Y===void 0||!Y)throw Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(X&&!(Array.isArray(Y.parents)&&Y.parents.includes(X)))throw Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let q=Y.branch;if(Y.type===$Z.MERGE&&!X)throw Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!Q||!j8.records.commits.has(Q)){if(q===j8.records.currBranch){let H=Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let W=j8.records.branches.get(j8.records.currBranch);if(W===void 0||!W){let H=Error(`Incorrect usage of "cherry-pick". Current branch (${j8.records.currBranch})has no commits`);throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let G=j8.records.commits.get(W);if(G===void 0||!G){let H=Error(`Incorrect usage of "cherry-pick". Current branch (${j8.records.currBranch})has no commits`);throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let z={id:j8.records.seq+"-"+k_(),message:`cherry-picked ${Y?.message} into ${j8.records.currBranch}`,seq:j8.records.seq++,parents:j8.records.head==null?[]:[j8.records.head.id,Y.id],branch:j8.records.currBranch,type:$Z.CHERRY_PICK,tags:K?K.filter(Boolean):[`cherry-pick:${Y.id}${Y.type===$Z.MERGE?`|parent:${X}`:""}`]};j8.records.head=z,j8.records.commits.set(z.id,z),j8.records.branches.set(j8.records.currBranch,z.id),Z0.debug(j8.records.branches),Z0.debug("in cherryPick")}},"cherryPick"),$y0=I(function(Z){if(Z=J8.sanitizeText(Z,nz()),!j8.records.branches.has(Z)){let J=Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${Z}")`);throw J.hash={text:`checkout ${Z}`,token:`checkout ${Z}`,expected:[`branch ${Z}`]},J}else{j8.records.currBranch=Z;let J=j8.records.branches.get(j8.records.currBranch);if(J===void 0||!J)j8.records.head=null;else j8.records.head=j8.records.commits.get(J)??null}},"checkout");I(Jt,"upsert");I(Qt,"prettyPrintCommitHistory");ef8=I(function(){Z0.debug(j8.records.commits);let Z=ky0()[0];Qt([Z])},"prettyPrint"),Zv8=I(function(){j8.reset(),S9()},"clear"),Jv8=I(function(){return[...j8.records.branchConfig.values()].map((J,Q)=>{if(J.order!==null&&J.order!==void 0)return J;return{...J,order:parseFloat(`0.${Q}`)}}).sort((J,Q)=>(J.order??0)-(Q.order??0)).map(({name:J})=>({name:J}))},"getBranchesAsObjArray"),Qv8=I(function(){return j8.records.branches},"getBranches"),Kv8=I(function(){return j8.records.commits},"getCommits"),ky0=I(function(){let Z=[...j8.records.commits.values()];return Z.forEach(function(J){Z0.debug(J.id)}),Z.sort((J,Q)=>J.seq-Q.seq),Z},"getCommitsArray"),Xv8=I(function(){return j8.records.currBranch},"getCurrentBranch"),Uv8=I(function(){return j8.records.direction},"getDirection"),Yv8=I(function(){return j8.records.head},"getHead"),_y0={commitType:$Z,getConfig:nz,setDirection:if8,setOptions:sf8,getOptions:rf8,commit:nf8,branch:af8,merge:of8,cherryPick:tf8,checkout:$y0,prettyPrint:ef8,clear:Zv8,getBranchesAsObjArray:Jv8,getBranches:Qv8,getCommits:Kv8,getCommitsArray:ky0,getCurrentBranch:Xv8,getDirection:Uv8,getHead:Yv8,setAccTitle:v9,getAccTitle:y9,getAccDescription:m9,setAccDescription:h9,setDiagramTitle:s9,getDiagramTitle:u9},qv8=I((Z,J)=>{if(m4(Z,J),Z.dir)J.setDirection(Z.dir);for(let Q of Z.statements)Wv8(Q,J)},"populate"),Wv8=I((Z,J)=>{let K={Commit:I((X)=>J.commit(Gv8(X)),"Commit"),Branch:I((X)=>J.branch(zv8(X)),"Branch"),Merge:I((X)=>J.merge(Hv8(X)),"Merge"),Checkout:I((X)=>J.checkout(Fv8(X)),"Checkout"),CherryPicking:I((X)=>J.cherryPick(Mv8(X)),"CherryPicking")}[Z.$type];if(K)K(Z);else Z0.error(`Unknown statement type: ${Z.$type}`)},"parseStatement"),Gv8=I((Z)=>{return{id:Z.id,msg:Z.message??"",type:Z.type!==void 0?$Z[Z.type]:$Z.NORMAL,tags:Z.tags??void 0}},"parseCommit"),zv8=I((Z)=>{return{name:Z.name,order:Z.order??0}},"parseBranch"),Hv8=I((Z)=>{return{branch:Z.branch,id:Z.id??"",type:Z.type!==void 0?$Z[Z.type]:void 0,tags:Z.tags??void 0}},"parseMerge"),Fv8=I((Z)=>{return Z.branch},"parseCheckout"),Mv8=I((Z)=>{return{id:Z.id,targetId:"",tags:Z.tags?.length===0?void 0:Z.tags,parent:Z.parent}},"parseCherryPicking"),Bv8={parse:I(async(Z)=>{let J=await E6("gitGraph",Z);Z0.debug(J),qv8(J,_y0)},"parse")},Ov8=N0(),uK=Ov8?.gitGraph,F4=new Map,M4=new Map,TA=new Map,$_=[],Rv8=I(()=>{F4.clear(),M4.clear(),TA.clear(),fW=0,$_=[],n9="LR"},"clear"),fy0=I((Z)=>{let J=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof Z==="string"?Z.split(/\\n|\n|<br\s*\/?>/gi):Z).forEach((K)=>{let X=document.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","0"),X.setAttribute("class","row"),X.textContent=K.trim(),J.appendChild(X)}),J},"drawText"),vy0=I((Z)=>{let J,Q,K;if(n9==="BT")Q=I((X,U)=>X<=U,"comparisonFunc"),K=1/0;else Q=I((X,U)=>X>=U,"comparisonFunc"),K=0;return Z.forEach((X)=>{let U=n9==="TB"||n9=="BT"?M4.get(X)?.y:M4.get(X)?.x;if(U!==void 0&&Q(U,K))J=X,K=U}),J},"findClosestParent"),Dv8=I((Z)=>{let J="",Q=1/0;return Z.forEach((K)=>{let X=M4.get(K).y;if(X<=Q)J=K,Q=X}),J||void 0},"findClosestParentBT"),Lv8=I((Z,J,Q)=>{let K=Q,X=Q,U=[];Z.forEach((Y)=>{let q=J.get(Y);if(!q)throw Error(`Commit not found for key ${Y}`);if(q.parents.length)K=Av8(q),X=Math.max(K,X);else U.push(q);Nv8(q,K)}),K=X,U.forEach((Y)=>{Ev8(Y,K,Q)}),Z.forEach((Y)=>{let q=J.get(Y);if(q?.parents.length){let W=Dv8(q.parents);if(K=M4.get(W).y-xW,K<=X)X=K;let G=F4.get(q.branch).pos,z=K-vW;M4.set(q.id,{x:G,y:z})}})},"setParallelBTPos"),Iv8=I((Z)=>{let J=vy0(Z.parents.filter((K)=>K!==null));if(!J)throw Error(`Closest parent not found for commit ${Z.id}`);let Q=M4.get(J)?.y;if(Q===void 0)throw Error(`Closest parent position not found for commit ${Z.id}`);return Q},"findClosestParentPos"),Av8=I((Z)=>{return Iv8(Z)+xW},"calculateCommitPosition"),Nv8=I((Z,J)=>{let Q=F4.get(Z.branch);if(!Q)throw Error(`Branch not found for commit ${Z.id}`);let K=Q.pos,X=J+vW;return M4.set(Z.id,{x:K,y:X}),{x:K,y:X}},"setCommitPosition"),Ev8=I((Z,J,Q)=>{let K=F4.get(Z.branch);if(!K)throw Error(`Branch not found for commit ${Z.id}`);let X=J+Q,U=K.pos;M4.set(Z.id,{x:U,y:X})},"setRootPosition"),Vv8=I((Z,J,Q,K,X,U)=>{if(U===$Z.HIGHLIGHT)Z.append("rect").attr("x",Q.x-10).attr("y",Q.y-10).attr("width",20).attr("height",20).attr("class",`commit ${J.id} commit-highlight${X%rz} ${K}-outer`),Z.append("rect").attr("x",Q.x-6).attr("y",Q.y-6).attr("width",12).attr("height",12).attr("class",`commit ${J.id} commit${X%rz} ${K}-inner`);else if(U===$Z.CHERRY_PICK)Z.append("circle").attr("cx",Q.x).attr("cy",Q.y).attr("r",10).attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x-3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x+3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x+3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x-3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`);else{let Y=Z.append("circle");if(Y.attr("cx",Q.x),Y.attr("cy",Q.y),Y.attr("r",J.type===$Z.MERGE?9:10),Y.attr("class",`commit ${J.id} commit${X%rz}`),U===$Z.MERGE){let q=Z.append("circle");q.attr("cx",Q.x),q.attr("cy",Q.y),q.attr("r",6),q.attr("class",`commit ${K} ${J.id} commit${X%rz}`)}if(U===$Z.REVERSE)Z.append("path").attr("d",`M ${Q.x-5},${Q.y-5}L${Q.x+5},${Q.y+5}M${Q.x-5},${Q.y+5}L${Q.x+5},${Q.y-5}`).attr("class",`commit ${K} ${J.id} commit${X%rz}`)}},"drawCommitBullet"),Pv8=I((Z,J,Q,K)=>{if(J.type!==$Z.CHERRY_PICK&&(J.customId&&J.type===$Z.MERGE||J.type!==$Z.MERGE)&&uK?.showCommitLabel){let X=Z.append("g"),U=X.insert("rect").attr("class","commit-label-bkg"),Y=X.append("text").attr("x",K).attr("y",Q.y+25).attr("class","commit-label").text(J.id),q=Y.node()?.getBBox();if(q){if(U.attr("x",Q.posWithOffset-q.width/2-lY).attr("y",Q.y+13.5).attr("width",q.width+2*lY).attr("height",q.height+2*lY),n9==="TB"||n9==="BT")U.attr("x",Q.x-(q.width+4*jU+5)).attr("y",Q.y-12),Y.attr("x",Q.x-(q.width+4*jU)).attr("y",Q.y+q.height-12);else Y.attr("x",Q.posWithOffset-q.width/2);if(uK.rotateCommitLabel)if(n9==="TB"||n9==="BT")Y.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")"),U.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")");else{let W=-7.5-(q.width+10)/25*9.5,G=10+q.width/25*8.5;X.attr("transform","translate("+W+", "+G+") rotate(-45, "+K+", "+Q.y+")")}}}},"drawCommitLabel"),jv8=I((Z,J,Q,K)=>{if(J.tags.length>0){let X=0,U=0,Y=0,q=[];for(let W of J.tags.reverse()){let G=Z.insert("polygon"),z=Z.append("circle"),H=Z.append("text").attr("y",Q.y-16-X).attr("class","tag-label").text(W),F=H.node()?.getBBox();if(!F)throw Error("Tag bbox not found");U=Math.max(U,F.width),Y=Math.max(Y,F.height),H.attr("x",Q.posWithOffset-F.width/2),q.push({tag:H,hole:z,rect:G,yOffset:X}),X+=20}for(let{tag:W,hole:G,rect:z,yOffset:H}of q){let F=Y/2,M=Q.y-19.2-H;if(z.attr("class","tag-label-bkg").attr("points",`
      ${K-U/2-jU/2},${M+lY}  
      ${K-U/2-jU/2},${M-lY}
      ${Q.posWithOffset-U/2-jU},${M-F-lY}
      ${Q.posWithOffset+U/2+jU},${M-F-lY}
      ${Q.posWithOffset+U/2+jU},${M+F+lY}
      ${Q.posWithOffset-U/2-jU},${M+F+lY}`),G.attr("cy",M).attr("cx",K-U/2+jU/2).attr("r",1.5).attr("class","tag-hole"),n9==="TB"||n9==="BT"){let B=K+H;z.attr("class","tag-label-bkg").attr("points",`
        ${Q.x},${B+2}
        ${Q.x},${B-2}
        ${Q.x+vW},${B-F-2}
        ${Q.x+vW+U+4},${B-F-2}
        ${Q.x+vW+U+4},${B+F+2}
        ${Q.x+vW},${B+F+2}`).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),G.attr("cx",Q.x+jU/2).attr("cy",B).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),W.attr("x",Q.x+5).attr("y",B+3).attr("transform","translate(14,14) rotate(45, "+Q.x+","+K+")")}}}},"drawCommitTags"),Cv8=I((Z)=>{switch(Z.customType??Z.type){case $Z.NORMAL:return"commit-normal";case $Z.REVERSE:return"commit-reverse";case $Z.HIGHLIGHT:return"commit-highlight";case $Z.MERGE:return"commit-merge";case $Z.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Sv8=I((Z,J,Q,K)=>{let X={x:0,y:0};if(Z.parents.length>0){let U=vy0(Z.parents);if(U){let Y=K.get(U)??X;if(J==="TB")return Y.y+xW;else if(J==="BT")return(K.get(Z.id)??X).y-xW;else return Y.x+xW}}else if(J==="TB")return w_;else if(J==="BT")return(K.get(Z.id)??X).y-xW;else return 0;return 0},"calculatePosition"),Tv8=I((Z,J,Q)=>{let K=n9==="BT"&&Q?J:J+vW,X=n9==="TB"||n9==="BT"?K:F4.get(Z.branch)?.pos,U=n9==="TB"||n9==="BT"?F4.get(Z.branch)?.pos:K;if(U===void 0||X===void 0)throw Error(`Position were undefined for commit ${Z.id}`);return{x:U,y:X,posWithOffset:K}},"getCommitPosition"),Ty0=I((Z,J,Q)=>{if(!uK)throw Error("GitGraph config not found");let K=Z.append("g").attr("class","commit-bullets"),X=Z.append("g").attr("class","commit-labels"),U=n9==="TB"||n9==="BT"?w_:0,Y=[...J.keys()],q=uK?.parallelCommits??!1,W=I((z,H)=>{let F=J.get(z)?.seq,M=J.get(H)?.seq;return F!==void 0&&M!==void 0?F-M:0},"sortKeys"),G=Y.sort(W);if(n9==="BT"){if(q)Lv8(G,J,U);G=G.reverse()}G.forEach((z)=>{let H=J.get(z);if(!H)throw Error(`Commit not found for key ${z}`);if(q)U=Sv8(H,n9,U,M4);let F=Tv8(H,U,q);if(Q){let M=Cv8(H),B=H.customType??H.type,O=F4.get(H.branch)?.index??0;Vv8(K,H,F,M,O,B),Pv8(X,H,F,U),jv8(X,H,F,U)}if(n9==="TB"||n9==="BT")M4.set(H.id,{x:F.x,y:F.posWithOffset});else M4.set(H.id,{x:F.posWithOffset,y:F.y});if(U=n9==="BT"&&q?U+xW:U+xW+vW,U>fW)fW=U})},"drawCommits"),wv8=I((Z,J,Q,K,X)=>{let Y=(n9==="TB"||n9==="BT"?Q.x<K.x:Q.y<K.y)?J.branch:Z.branch,q=I((G)=>G.branch===Y,"isOnBranchToGetCurve"),W=I((G)=>G.seq>Z.seq&&G.seq<J.seq,"isBetweenCommits");return[...X.values()].some((G)=>{return W(G)&&q(G)})},"shouldRerouteArrow"),wA=I((Z,J,Q=0)=>{let K=Z+Math.abs(Z-J)/2;if(Q>5)return K;if($_.every((Y)=>Math.abs(Y-K)>=10))return $_.push(K),K;let U=Math.abs(Z-J);return wA(Z,J-U/5,Q+1)},"findLane"),$v8=I((Z,J,Q,K)=>{let X=M4.get(J.id),U=M4.get(Q.id);if(X===void 0||U===void 0)throw Error(`Commit positions not found for commits ${J.id} and ${Q.id}`);let Y=wv8(J,Q,X,U,K),q="",W="",G=0,z=0,H=F4.get(Q.branch)?.index;if(Q.type===$Z.MERGE&&J.id!==Q.parents[0])H=F4.get(J.branch)?.index;let F;if(Y){q="A 10 10, 0, 0, 0,",W="A 10 10, 0, 0, 1,",G=10,z=10;let M=X.y<U.y?wA(X.y,U.y):wA(U.y,X.y),B=X.x<U.x?wA(X.x,U.x):wA(U.x,X.x);if(n9==="TB")if(X.x<U.x)F=`M ${X.x} ${X.y} L ${B-G} ${X.y} ${W} ${B} ${X.y+z} L ${B} ${U.y-G} ${q} ${B+z} ${U.y} L ${U.x} ${U.y}`;else H=F4.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${B+G} ${X.y} ${q} ${B} ${X.y+z} L ${B} ${U.y-G} ${W} ${B-z} ${U.y} L ${U.x} ${U.y}`;else if(n9==="BT")if(X.x<U.x)F=`M ${X.x} ${X.y} L ${B-G} ${X.y} ${q} ${B} ${X.y-z} L ${B} ${U.y+G} ${W} ${B+z} ${U.y} L ${U.x} ${U.y}`;else H=F4.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${B+G} ${X.y} ${W} ${B} ${X.y-z} L ${B} ${U.y+G} ${q} ${B-z} ${U.y} L ${U.x} ${U.y}`;else if(X.y<U.y)F=`M ${X.x} ${X.y} L ${X.x} ${M-G} ${q} ${X.x+z} ${M} L ${U.x-G} ${M} ${W} ${U.x} ${M+z} L ${U.x} ${U.y}`;else H=F4.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${X.x} ${M+G} ${W} ${X.x+z} ${M} L ${U.x-G} ${M} ${q} ${U.x} ${M-z} L ${U.x} ${U.y}`}else if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,n9==="TB"){if(X.x<U.x)if(Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${q} ${X.x+z} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${W} ${U.x} ${X.y+z} L ${U.x} ${U.y}`;if(X.x>U.x)if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${W} ${X.x-z} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x+G} ${X.y} ${q} ${U.x} ${X.y+z} L ${U.x} ${U.y}`;if(X.x===U.x)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}else if(n9==="BT"){if(X.x<U.x)if(Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${W} ${X.x+z} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-z} L ${U.x} ${U.y}`;if(X.x>U.x)if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${q} ${X.x-z} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-z} L ${U.x} ${U.y}`;if(X.x===U.x)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}else{if(X.y<U.y)if(Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${W} ${U.x} ${X.y+z} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${q} ${X.x+z} ${U.y} L ${U.x} ${U.y}`;if(X.y>U.y)if(Q.type===$Z.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-z} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${W} ${X.x+z} ${U.y} L ${U.x} ${U.y}`;if(X.y===U.y)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}if(F===void 0)throw Error("Line definition not found");Z.append("path").attr("d",F).attr("class","arrow arrow"+H%rz)},"drawArrow"),kv8=I((Z,J)=>{let Q=Z.append("g").attr("class","commit-arrows");[...J.keys()].forEach((K)=>{let X=J.get(K);if(X.parents&&X.parents.length>0)X.parents.forEach((U)=>{$v8(Q,J.get(U),X,J)})})},"drawArrows"),_v8=I((Z,J)=>{let Q=Z.append("g");J.forEach((K,X)=>{let U=X%rz,Y=F4.get(K.name)?.pos;if(Y===void 0)throw Error(`Position not found for branch ${K.name}`);let q=Q.append("line");if(q.attr("x1",0),q.attr("y1",Y),q.attr("x2",fW),q.attr("y2",Y),q.attr("class","branch branch"+U),n9==="TB")q.attr("y1",w_),q.attr("x1",Y),q.attr("y2",fW),q.attr("x2",Y);else if(n9==="BT")q.attr("y1",fW),q.attr("x1",Y),q.attr("y2",w_),q.attr("x2",Y);$_.push(Y);let W=K.name,G=fy0(W),z=Q.insert("rect"),F=Q.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+U);F.node().appendChild(G);let M=G.getBBox();if(z.attr("class","branchLabelBkg label"+U).attr("rx",4).attr("ry",4).attr("x",-M.width-4-(uK?.rotateCommitLabel===!0?30:0)).attr("y",-M.height/2+8).attr("width",M.width+18).attr("height",M.height+4),F.attr("transform","translate("+(-M.width-14-(uK?.rotateCommitLabel===!0?30:0))+", "+(Y-M.height/2-1)+")"),n9==="TB")z.attr("x",Y-M.width/2-10).attr("y",0),F.attr("transform","translate("+(Y-M.width/2-5)+", 0)");else if(n9==="BT")z.attr("x",Y-M.width/2-10).attr("y",fW),F.attr("transform","translate("+(Y-M.width/2-5)+", "+fW+")");else z.attr("transform","translate(-19, "+(Y-M.height/2)+")")})},"drawBranches"),fv8=I(function(Z,J,Q,K,X){return F4.set(Z,{pos:J,index:Q}),J+=50+(X?40:0)+(n9==="TB"||n9==="BT"?K.width/2:0),J},"setBranchPosition"),vv8=I(function(Z,J,Q,K){if(Rv8(),Z0.debug("in gitgraph renderer",Z+`
`,"id:",J,Q),!uK)throw Error("GitGraph config not found");let X=uK.rotateCommitLabel??!1,U=K.db;TA=U.getCommits();let Y=U.getBranchesAsObjArray();n9=U.getDirection();let q=i0(`[id="${J}"]`),W=0;if(Y.forEach((G,z)=>{let H=fy0(G.name),F=q.append("g"),M=F.insert("g").attr("class","branchLabel"),B=M.insert("g").attr("class","label branch-label");B.node()?.appendChild(H);let O=H.getBBox();W=fv8(G.name,W,z,O,X),B.remove(),M.remove(),F.remove()}),Ty0(q,TA,!1),uK.showBranches)_v8(q,Y);kv8(q,TA),Ty0(q,TA,!0),n8.insertTitle(q,"gitTitleText",uK.titleTopMargin??0,U.getDiagramTitle()),Gh(void 0,q,uK.diagramPadding,uK.useMaxWidth)},"draw"),xv8={draw:vv8},bv8=I((Z)=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map((J)=>`
        .branch-label${J} { fill: ${Z["gitBranchLabel"+J]}; }
        .commit${J} { stroke: ${Z["git"+J]}; fill: ${Z["git"+J]}; }
        .commit-highlight${J} { stroke: ${Z["gitInv"+J]}; fill: ${Z["gitInv"+J]}; }
        .label${J}  { fill: ${Z["git"+J]}; }
        .arrow${J} { stroke: ${Z["git"+J]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${Z.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelColor};}
  .commit-label-bkg { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${Z.tagLabelFontSize}; fill: ${Z.tagLabelColor};}
  .tag-label-bkg { fill: ${Z.tagLabelBackground}; stroke: ${Z.tagLabelBorder}; }
  .tag-hole { fill: ${Z.textColor}; }

  .commit-merge {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }
  .commit-reverse {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
`,"getStyles"),yv8=bv8,hv8={parser:Bv8,db:_y0,renderer:xv8,styles:yv8}});var yy0=HJ((Kt,Xt)=>{(function(Z,J){typeof Kt=="object"&&typeof Xt<"u"?Xt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_isoWeek=J()})(Kt,function(){var Z="day";return function(J,Q,K){var X=function(q){return q.add(4-q.isoWeekday(),Z)},U=Q.prototype;U.isoWeekYear=function(){return X(this).year()},U.isoWeek=function(q){if(!this.$utils().u(q))return this.add(7*(q-this.isoWeek()),Z);var W,G,z,H,F=X(this),M=(W=this.isoWeekYear(),G=this.$u,z=(G?K.utc:K)().year(W).startOf("year"),H=4-z.isoWeekday(),z.isoWeekday()>4&&(H+=7),z.add(H,Z));return F.diff(M,"week")+1},U.isoWeekday=function(q){return this.$utils().u(q)?this.day()||7:this.day(this.day()%7?q:q-7)};var Y=U.startOf;U.startOf=function(q,W){var G=this.$utils(),z=!!G.u(W)||W;return G.p(q)==="isoweek"?z?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):Y.bind(this)(q,W)}}})});var hy0=HJ((Ut,Yt)=>{(function(Z,J){typeof Ut=="object"&&typeof Yt<"u"?Yt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_customParseFormat=J()})(Ut,function(){var Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},J=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Q=/\d/,K=/\d\d/,X=/\d\d?/,U=/\d*[^-_:/,()\s\d]+/,Y={},q=function(B){return(B=+B)+(B>68?1900:2000)},W=function(B){return function(O){this[B]=+O}},G=[/[+-]\d\d:?(\d\d)?|Z/,function(B){(this.zone||(this.zone={})).offset=function(O){if(!O)return 0;if(O==="Z")return 0;var R=O.match(/([+-]|\d\d)/g),D=60*R[1]+(+R[2]||0);return D===0?0:R[0]==="+"?-D:D}(B)}],z=function(B){var O=Y[B];return O&&(O.indexOf?O:O.s.concat(O.f))},H=function(B,O){var R,D=Y.meridiem;if(D){for(var L=1;L<=24;L+=1)if(B.indexOf(D(L,0,O))>-1){R=L>12;break}}else R=B===(O?"pm":"PM");return R},F={A:[U,function(B){this.afternoon=H(B,!1)}],a:[U,function(B){this.afternoon=H(B,!0)}],Q:[Q,function(B){this.month=3*(B-1)+1}],S:[Q,function(B){this.milliseconds=100*+B}],SS:[K,function(B){this.milliseconds=10*+B}],SSS:[/\d{3}/,function(B){this.milliseconds=+B}],s:[X,W("seconds")],ss:[X,W("seconds")],m:[X,W("minutes")],mm:[X,W("minutes")],H:[X,W("hours")],h:[X,W("hours")],HH:[X,W("hours")],hh:[X,W("hours")],D:[X,W("day")],DD:[K,W("day")],Do:[U,function(B){var O=Y.ordinal,R=B.match(/\d+/);if(this.day=R[0],O)for(var D=1;D<=31;D+=1)O(D).replace(/\[|\]/g,"")===B&&(this.day=D)}],w:[X,W("week")],ww:[K,W("week")],M:[X,W("month")],MM:[K,W("month")],MMM:[U,function(B){var O=z("months"),R=(z("monthsShort")||O.map(function(D){return D.slice(0,3)})).indexOf(B)+1;if(R<1)throw Error();this.month=R%12||R}],MMMM:[U,function(B){var O=z("months").indexOf(B)+1;if(O<1)throw Error();this.month=O%12||O}],Y:[/[+-]?\d+/,W("year")],YY:[K,function(B){this.year=q(B)}],YYYY:[/\d{4}/,W("year")],Z:G,ZZ:G};function M(B){var O,R;O=B,R=Y&&Y.formats;for(var D=(B=O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,$,k){var w=k&&k.toUpperCase();return $||R[k]||Z[k]||R[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,T,S){return T||S.slice(1)})})).match(J),L=D.length,A=0;A<L;A+=1){var V=D[A],N=F[V],E=N&&N[0],j=N&&N[1];D[A]=j?{regex:E,parser:j}:V.replace(/^\[|\]$/g,"")}return function(C){for(var $={},k=0,w=0;k<L;k+=1){var P=D[k];if(typeof P=="string")w+=P.length;else{var{regex:T,parser:S}=P,f=C.slice(w),v=T.exec(f)[0];S.call($,v),C=C.replace(v,"")}}return function(x){var b=x.afternoon;if(b!==void 0){var y=x.hours;b?y<12&&(x.hours+=12):y===12&&(x.hours=0),delete x.afternoon}}($),$}}return function(B,O,R){R.p.customParseFormat=!0,B&&B.parseTwoDigitYear&&(q=B.parseTwoDigitYear);var D=O.prototype,L=D.parse;D.parse=function(A){var{date:V,utc:N,args:E}=A;this.$u=N;var j=E[1];if(typeof j=="string"){var C=E[2]===!0,$=E[3]===!0,k=C||$,w=E[2];$&&(w=E[2]),Y=this.$locale(),!C&&w&&(Y=R.Ls[w]),this.$d=function(f,v,x,b){try{if(["x","X"].indexOf(v)>-1)return new Date((v==="X"?1000:1)*f);var y=M(v)(f),u=y.year,h=y.month,p=y.day,r=y.hours,e=y.minutes,i=y.seconds,U0=y.milliseconds,a=y.zone,z0=y.week,J0=new Date,Q0=p||(u||h?1:J0.getDate()),t=u||J0.getFullYear(),n=0;u&&!h||(n=h>0?h-1:J0.getMonth());var Y0,o=r||0,M0=e||0,X0=i||0,E0=U0||0;return a?new Date(Date.UTC(t,n,Q0,o,M0,X0,E0+60*a.offset*1000)):x?new Date(Date.UTC(t,n,Q0,o,M0,X0,E0)):(Y0=new Date(t,n,Q0,o,M0,X0,E0),z0&&(Y0=b(Y0).week(z0).toDate()),Y0)}catch(d){return new Date("")}}(V,j,N,R),this.init(),w&&w!==!0&&(this.$L=this.locale(w).$L),k&&V!=this.format(j)&&(this.$d=new Date("")),Y={}}else if(j instanceof Array)for(var P=j.length,T=1;T<=P;T+=1){E[1]=j[T-1];var S=R.apply(this,E);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}T===P&&(this.$d=new Date(""))}else L.call(this,A)}}})});var my0=HJ((qt,Wt)=>{(function(Z,J){typeof qt=="object"&&typeof Wt<"u"?Wt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_advancedFormat=J()})(qt,function(){return function(Z,J){var Q=J.prototype,K=Q.format;Q.format=function(X){var U=this,Y=this.$locale();if(!this.isValid())return K.bind(this)(X);var q=this.$utils(),W=(X||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(G){switch(G){case"Q":return Math.ceil((U.$M+1)/3);case"Do":return Y.ordinal(U.$D);case"gggg":return U.weekYear();case"GGGG":return U.isoWeekYear();case"wo":return Y.ordinal(U.week(),"W");case"w":case"ww":return q.s(U.week(),G==="w"?1:2,"0");case"W":case"WW":return q.s(U.isoWeek(),G==="W"?1:2,"0");case"k":case"kk":return q.s(String(U.$H===0?24:U.$H),G==="k"?1:2,"0");case"X":return Math.floor(U.$d.getTime()/1000);case"x":return U.$d.getTime();case"z":return"["+U.offsetName()+"]";case"zzz":return"["+U.offsetName("long")+"]";default:return G}});return K.bind(this)(W)}}})});var uy0=HJ((Gt,zt)=>{(function(Z,J){typeof Gt=="object"&&typeof zt<"u"?zt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_duration=J()})(Gt,function(){var Z,J,Q=1000,K=60000,X=3600000,U=86400000,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q=31536000000,W=2628000000,G=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,z={years:q,months:W,days:U,hours:X,minutes:K,seconds:Q,milliseconds:1,weeks:604800000},H=function(V){return V instanceof L},F=function(V,N,E){return new L(V,E,N.$l)},M=function(V){return J.p(V)+"s"},B=function(V){return V<0},O=function(V){return B(V)?Math.ceil(V):Math.floor(V)},R=function(V){return Math.abs(V)},D=function(V,N){return V?B(V)?{negative:!0,format:""+R(V)+N}:{negative:!1,format:""+V+N}:{negative:!1,format:""}},L=function(){function V(E,j,C){var $=this;if(this.$d={},this.$l=C,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),j)return F(E*z[M(j)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(P){$.$d[M(P)]=E[P]}),this.calMilliseconds(),this;if(typeof E=="string"){var k=E.match(G);if(k){var w=k.slice(2).map(function(P){return P!=null?Number(P):0});return this.$d.years=w[0],this.$d.months=w[1],this.$d.weeks=w[2],this.$d.days=w[3],this.$d.hours=w[4],this.$d.minutes=w[5],this.$d.seconds=w[6],this.calMilliseconds(),this}}return this}var N=V.prototype;return N.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(j,C){return j+(E.$d[C]||0)*z[C]},0)},N.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=O(E/q),E%=q,this.$d.months=O(E/W),E%=W,this.$d.days=O(E/U),E%=U,this.$d.hours=O(E/X),E%=X,this.$d.minutes=O(E/K),E%=K,this.$d.seconds=O(E/Q),E%=Q,this.$d.milliseconds=E},N.toISOString=function(){var E=D(this.$d.years,"Y"),j=D(this.$d.months,"M"),C=+this.$d.days||0;this.$d.weeks&&(C+=7*this.$d.weeks);var $=D(C,"D"),k=D(this.$d.hours,"H"),w=D(this.$d.minutes,"M"),P=this.$d.seconds||0;this.$d.milliseconds&&(P+=this.$d.milliseconds/1000,P=Math.round(1000*P)/1000);var T=D(P,"S"),S=E.negative||j.negative||$.negative||k.negative||w.negative||T.negative,f=k.format||w.format||T.format?"T":"",v=(S?"-":"")+"P"+E.format+j.format+$.format+f+k.format+w.format+T.format;return v==="P"||v==="-P"?"P0D":v},N.toJSON=function(){return this.toISOString()},N.format=function(E){var j=E||"YYYY-MM-DDTHH:mm:ss",C={Y:this.$d.years,YY:J.s(this.$d.years,2,"0"),YYYY:J.s(this.$d.years,4,"0"),M:this.$d.months,MM:J.s(this.$d.months,2,"0"),D:this.$d.days,DD:J.s(this.$d.days,2,"0"),H:this.$d.hours,HH:J.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:J.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:J.s(this.$d.seconds,2,"0"),SSS:J.s(this.$d.milliseconds,3,"0")};return j.replace(Y,function($,k){return k||String(C[$])})},N.as=function(E){return this.$ms/z[M(E)]},N.get=function(E){var j=this.$ms,C=M(E);return C==="milliseconds"?j%=1000:j=C==="weeks"?O(j/z[C]):this.$d[C],j||0},N.add=function(E,j,C){var $;return $=j?E*z[M(j)]:H(E)?E.$ms:F(E,this).$ms,F(this.$ms+$*(C?-1:1),this)},N.subtract=function(E,j){return this.add(E,j,!0)},N.locale=function(E){var j=this.clone();return j.$l=E,j},N.clone=function(){return F(this.$ms,this)},N.humanize=function(E){return Z().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},N.valueOf=function(){return this.asMilliseconds()},N.milliseconds=function(){return this.get("milliseconds")},N.asMilliseconds=function(){return this.as("milliseconds")},N.seconds=function(){return this.get("seconds")},N.asSeconds=function(){return this.as("seconds")},N.minutes=function(){return this.get("minutes")},N.asMinutes=function(){return this.as("minutes")},N.hours=function(){return this.get("hours")},N.asHours=function(){return this.as("hours")},N.days=function(){return this.get("days")},N.asDays=function(){return this.as("days")},N.weeks=function(){return this.get("weeks")},N.asWeeks=function(){return this.as("weeks")},N.months=function(){return this.get("months")},N.asMonths=function(){return this.as("months")},N.years=function(){return this.get("years")},N.asYears=function(){return this.as("years")},V}(),A=function(V,N,E){return V.add(N.years()*E,"y").add(N.months()*E,"M").add(N.days()*E,"d").add(N.hours()*E,"h").add(N.minutes()*E,"m").add(N.seconds()*E,"s").add(N.milliseconds()*E,"ms")};return function(V,N,E){Z=E,J=E().$utils(),E.duration=function($,k){var w=E.locale();return F($,{$l:w},k)},E.isDuration=H;var j=N.prototype.add,C=N.prototype.subtract;N.prototype.add=function($,k){return H($)?A(this,$,1):j.bind(this)($,k)},N.prototype.subtract=function($,k){return H($)?A(this,$,-1):C.bind(this)($,k)}}})});var Kh0={};z9(Kh0,{diagram:()=>Tx8});function jt(Z,J,Q){let K=!0;while(K)K=!1,Q.forEach(function(X){let U="^\\s*"+X+"\\s*$",Y=new RegExp(U);if(Z[0].match(Y))J[X]=!0,Z.shift(1),K=!0})}var ly0,l4,dy0,iy0,sy0,qO,Qh0,Ft,mv8,gy0,CU="",Rt="",Dt=void 0,Lt="",$A,kA,It,At,v_,GO="",Nt="",ry0,Et,_A=!1,Vt=!1,Pt="sunday",x_="saturday",Mt=0,uv8,gv8,pv8,cv8,lv8,dv8,iv8,sv8,rv8,nv8,av8,ov8,tv8,ev8,Zx8,Jx8,Qx8,Kx8,Xx8,Ux8,Yx8,qx8,Wx8,ny0,Gx8,zx8,Hx8,ay0,Fx8,Bt,oy0,ty0,__=0,WO,Mx8,Bx8,Ot,f_,j7,ey0,Ox8,az,Rx8,py0,Dx8,Zh0,Lx8,Jh0,Ix8,Ax8,Nx8,Ex8,cy0,Vx8,dY,Ht=1e4,Px8,jx8,Cx8,Sx8,Tx8;var Xh0=_(()=>{jZ();T9();M9();A9();ly0=d7(T2(),1),l4=d7(hE(),1),dy0=d7(yy0(),1),iy0=d7(hy0(),1),sy0=d7(my0(),1),qO=d7(hE(),1),Qh0=d7(uy0(),1),Ft=function(){var Z=I(function(T,S,f,v){for(f=f||{},v=T.length;v--;f[T[v]]=S);return f},"o"),J=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],Q=[1,26],K=[1,27],X=[1,28],U=[1,29],Y=[1,30],q=[1,31],W=[1,32],G=[1,33],z=[1,34],H=[1,9],F=[1,10],M=[1,11],B=[1,12],O=[1,13],R=[1,14],D=[1,15],L=[1,16],A=[1,19],V=[1,20],N=[1,21],E=[1,22],j=[1,23],C=[1,25],$=[1,35],k={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:I(function(S,f,v,x,b,y,u){var h=y.length-1;switch(b){case 1:return y[h-1];case 2:this.$=[];break;case 3:y[h-1].push(y[h]),this.$=y[h-1];break;case 4:case 5:this.$=y[h];break;case 6:case 7:this.$=[];break;case 8:x.setWeekday("monday");break;case 9:x.setWeekday("tuesday");break;case 10:x.setWeekday("wednesday");break;case 11:x.setWeekday("thursday");break;case 12:x.setWeekday("friday");break;case 13:x.setWeekday("saturday");break;case 14:x.setWeekday("sunday");break;case 15:x.setWeekend("friday");break;case 16:x.setWeekend("saturday");break;case 17:x.setDateFormat(y[h].substr(11)),this.$=y[h].substr(11);break;case 18:x.enableInclusiveEndDates(),this.$=y[h].substr(18);break;case 19:x.TopAxis(),this.$=y[h].substr(8);break;case 20:x.setAxisFormat(y[h].substr(11)),this.$=y[h].substr(11);break;case 21:x.setTickInterval(y[h].substr(13)),this.$=y[h].substr(13);break;case 22:x.setExcludes(y[h].substr(9)),this.$=y[h].substr(9);break;case 23:x.setIncludes(y[h].substr(9)),this.$=y[h].substr(9);break;case 24:x.setTodayMarker(y[h].substr(12)),this.$=y[h].substr(12);break;case 27:x.setDiagramTitle(y[h].substr(6)),this.$=y[h].substr(6);break;case 28:this.$=y[h].trim(),x.setAccTitle(this.$);break;case 29:case 30:this.$=y[h].trim(),x.setAccDescription(this.$);break;case 31:x.addSection(y[h].substr(8)),this.$=y[h].substr(8);break;case 33:x.addTask(y[h-1],y[h]),this.$="task";break;case 34:this.$=y[h-1],x.setClickEvent(y[h-1],y[h],null);break;case 35:this.$=y[h-2],x.setClickEvent(y[h-2],y[h-1],y[h]);break;case 36:this.$=y[h-2],x.setClickEvent(y[h-2],y[h-1],null),x.setLink(y[h-2],y[h]);break;case 37:this.$=y[h-3],x.setClickEvent(y[h-3],y[h-2],y[h-1]),x.setLink(y[h-3],y[h]);break;case 38:this.$=y[h-2],x.setClickEvent(y[h-2],y[h],null),x.setLink(y[h-2],y[h-1]);break;case 39:this.$=y[h-3],x.setClickEvent(y[h-3],y[h-1],y[h]),x.setLink(y[h-3],y[h-2]);break;case 40:this.$=y[h-1],x.setLink(y[h-1],y[h]);break;case 41:case 47:this.$=y[h-1]+" "+y[h];break;case 42:case 43:case 45:this.$=y[h-2]+" "+y[h-1]+" "+y[h];break;case 44:case 46:this.$=y[h-3]+" "+y[h-2]+" "+y[h-1]+" "+y[h];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:Q,13:K,14:X,15:U,16:Y,17:q,18:W,19:18,20:G,21:z,22:H,23:F,24:M,25:B,26:O,27:R,28:D,29:L,30:A,31:V,33:N,35:E,36:j,37:24,38:C,40:$},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:36,11:17,12:Q,13:K,14:X,15:U,16:Y,17:q,18:W,19:18,20:G,21:z,22:H,23:F,24:M,25:B,26:O,27:R,28:D,29:L,30:A,31:V,33:N,35:E,36:j,37:24,38:C,40:$},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,17]),Z(J,[2,18]),Z(J,[2,19]),Z(J,[2,20]),Z(J,[2,21]),Z(J,[2,22]),Z(J,[2,23]),Z(J,[2,24]),Z(J,[2,25]),Z(J,[2,26]),Z(J,[2,27]),{32:[1,37]},{34:[1,38]},Z(J,[2,30]),Z(J,[2,31]),Z(J,[2,32]),{39:[1,39]},Z(J,[2,8]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),{41:[1,40],43:[1,41]},Z(J,[2,4]),Z(J,[2,28]),Z(J,[2,29]),Z(J,[2,33]),Z(J,[2,34],{42:[1,42],43:[1,43]}),Z(J,[2,40],{41:[1,44]}),Z(J,[2,35],{43:[1,45]}),Z(J,[2,36]),Z(J,[2,38],{42:[1,46]}),Z(J,[2,37]),Z(J,[2,39])],defaultActions:{},parseError:I(function(S,f){if(f.recoverable)this.trace(S);else{var v=Error(S);throw v.hash=f,v}},"parseError"),parse:I(function(S){var f=this,v=[0],x=[],b=[null],y=[],u=this.table,h="",p=0,r=0,e=0,i=2,U0=1,a=y.slice.call(arguments,1),z0=Object.create(this.lexer),J0={yy:{}};for(var Q0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,Q0))J0.yy[Q0]=this.yy[Q0];if(z0.setInput(S,J0.yy),J0.yy.lexer=z0,J0.yy.parser=this,typeof z0.yylloc>"u")z0.yylloc={};var t=z0.yylloc;y.push(t);var n=z0.options&&z0.options.ranges;if(typeof J0.yy.parseError==="function")this.parseError=J0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function Y0(C0){v.length=v.length-2*C0,b.length=b.length-C0,y.length=y.length-C0}I(Y0,"popStack");function o(){var C0=x.pop()||z0.lex()||U0;if(typeof C0!=="number"){if(C0 instanceof Array)x=C0,C0=x.pop();C0=f.symbols_[C0]||C0}return C0}I(o,"lex");var M0,X0,E0,d,c0,B0,y0={},n0,s0,k0,x0;while(!0){if(E0=v[v.length-1],this.defaultActions[E0])d=this.defaultActions[E0];else{if(M0===null||typeof M0>"u")M0=o();d=u[E0]&&u[E0][M0]}if(typeof d>"u"||!d.length||!d[0]){var f0="";x0=[];for(n0 in u[E0])if(this.terminals_[n0]&&n0>i)x0.push("'"+this.terminals_[n0]+"'");if(z0.showPosition)f0="Parse error on line "+(p+1)+`:
`+z0.showPosition()+`
Expecting `+x0.join(", ")+", got '"+(this.terminals_[M0]||M0)+"'";else f0="Parse error on line "+(p+1)+": Unexpected "+(M0==U0?"end of input":"'"+(this.terminals_[M0]||M0)+"'");this.parseError(f0,{text:z0.match,token:this.terminals_[M0]||M0,line:z0.yylineno,loc:t,expected:x0})}if(d[0]instanceof Array&&d.length>1)throw Error("Parse Error: multiple actions possible at state: "+E0+", token: "+M0);switch(d[0]){case 1:if(v.push(M0),b.push(z0.yytext),y.push(z0.yylloc),v.push(d[1]),M0=null,!X0){if(r=z0.yyleng,h=z0.yytext,p=z0.yylineno,t=z0.yylloc,e>0)e--}else M0=X0,X0=null;break;case 2:if(s0=this.productions_[d[1]][1],y0.$=b[b.length-s0],y0._$={first_line:y[y.length-(s0||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(s0||1)].first_column,last_column:y[y.length-1].last_column},n)y0._$.range=[y[y.length-(s0||1)].range[0],y[y.length-1].range[1]];if(B0=this.performAction.apply(y0,[h,r,p,J0.yy,d[1],b,y].concat(a)),typeof B0<"u")return B0;if(s0)v=v.slice(0,-1*s0*2),b=b.slice(0,-1*s0),y=y.slice(0,-1*s0);v.push(this.productions_[d[1]][0]),b.push(y0.$),y.push(y0._$),k0=u[v[v.length-2]][v[v.length-1]],v.push(k0);break;case 3:return!0}}return!0},"parse")},w=function(){var T={EOF:1,parseError:I(function(f,v){if(this.yy.parser)this.yy.parser.parseError(f,v);else throw Error(f)},"parseError"),setInput:I(function(S,f){if(this.yy=f||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var f=S.match(/(?:\r\n?|\n).*/g);if(f)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),S},"input"),unput:I(function(S){var f=S.length,v=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var x=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1)this.yylineno-=v.length-1;var b=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===x.length?this.yylloc.first_column:0)+x[x.length-v.length].length-v[0].length:this.yylloc.first_column-f},this.options.ranges)this.yylloc.range=[b[0],b[0]+this.yyleng-f];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(S){this.unput(this.match.slice(S))},"less"),pastInput:I(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var S=this.match;if(S.length<20)S+=this._input.substr(0,20-S.length);return(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var S=this.pastInput(),f=Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:I(function(S,f){var v,x,b;if(this.options.backtrack_lexer){if(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)b.yylloc.range=this.yylloc.range.slice(0)}if(x=S[0].match(/(?:\r\n?|\n).*/g),x)this.yylineno+=x.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],v=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(v)return v;else if(this._backtrack){for(var y in b)this[y]=b[y];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var S,f,v,x;if(!this._more)this.yytext="",this.match="";var b=this._currentRules();for(var y=0;y<b.length;y++)if(v=this._input.match(this.rules[b[y]]),v&&(!f||v[0].length>f[0].length)){if(f=v,x=y,this.options.backtrack_lexer)if(S=this.test_match(v,b[y]),S!==!1)return S;else if(this._backtrack){f=!1;continue}else return!1;else if(!this.options.flex)break}if(f){if(S=this.test_match(f,b[x]),S!==!1)return S;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var f=this.next();if(f)return f;else return this.lex()},"lex"),begin:I(function(f){this.conditionStack.push(f)},"begin"),popState:I(function(){var f=this.conditionStack.length-1;if(f>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(f){if(f=this.conditionStack.length-1-Math.abs(f||0),f>=0)return this.conditionStack[f];else return"INITIAL"},"topState"),pushState:I(function(f){this.begin(f)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(f,v,x,b){var y=b;switch(x){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return T}();k.lexer=w;function P(){this.yy={}}return I(P,"Parser"),P.prototype=k,k.Parser=P,new P}();Ft.parser=Ft;mv8=Ft;l4.default.extend(dy0.default);l4.default.extend(iy0.default);l4.default.extend(sy0.default);gy0={friday:5,saturday:6},$A=[],kA=[],It=new Map,At=[],v_=[],ry0=["active","done","crit","milestone","vert"],Et=[],uv8=I(function(){At=[],v_=[],GO="",Et=[],__=0,Ot=void 0,f_=void 0,j7=[],CU="",Rt="",Nt="",Dt=void 0,Lt="",$A=[],kA=[],_A=!1,Vt=!1,Mt=0,It=new Map,S9(),Pt="sunday",x_="saturday"},"clear"),gv8=I(function(Z){Rt=Z},"setAxisFormat"),pv8=I(function(){return Rt},"getAxisFormat"),cv8=I(function(Z){Dt=Z},"setTickInterval"),lv8=I(function(){return Dt},"getTickInterval"),dv8=I(function(Z){Lt=Z},"setTodayMarker"),iv8=I(function(){return Lt},"getTodayMarker"),sv8=I(function(Z){CU=Z},"setDateFormat"),rv8=I(function(){_A=!0},"enableInclusiveEndDates"),nv8=I(function(){return _A},"endDatesAreInclusive"),av8=I(function(){Vt=!0},"enableTopAxis"),ov8=I(function(){return Vt},"topAxisEnabled"),tv8=I(function(Z){Nt=Z},"setDisplayMode"),ev8=I(function(){return Nt},"getDisplayMode"),Zx8=I(function(){return CU},"getDateFormat"),Jx8=I(function(Z){$A=Z.toLowerCase().split(/[\s,]+/)},"setIncludes"),Qx8=I(function(){return $A},"getIncludes"),Kx8=I(function(Z){kA=Z.toLowerCase().split(/[\s,]+/)},"setExcludes"),Xx8=I(function(){return kA},"getExcludes"),Ux8=I(function(){return It},"getLinks"),Yx8=I(function(Z){GO=Z,At.push(Z)},"addSection"),qx8=I(function(){return At},"getSections"),Wx8=I(function(){let Z=py0(),J=10,Q=0;while(!Z&&Q<J)Z=py0(),Q++;return v_=j7,v_},"getTasks"),ny0=I(function(Z,J,Q,K){let X=Z.format(J.trim()),U=Z.format("YYYY-MM-DD");if(K.includes(X)||K.includes(U))return!1;if(Q.includes("weekends")&&(Z.isoWeekday()===gy0[x_]||Z.isoWeekday()===gy0[x_]+1))return!0;if(Q.includes(Z.format("dddd").toLowerCase()))return!0;return Q.includes(X)||Q.includes(U)},"isInvalidDate"),Gx8=I(function(Z){Pt=Z},"setWeekday"),zx8=I(function(){return Pt},"getWeekday"),Hx8=I(function(Z){x_=Z},"setWeekend"),ay0=I(function(Z,J,Q,K){if(!Q.length||Z.manualEndTime)return;let X;if(Z.startTime instanceof Date)X=l4.default(Z.startTime);else X=l4.default(Z.startTime,J,!0);X=X.add(1,"d");let U;if(Z.endTime instanceof Date)U=l4.default(Z.endTime);else U=l4.default(Z.endTime,J,!0);let[Y,q]=Fx8(X,U,J,Q,K);Z.endTime=Y.toDate(),Z.renderEndTime=q},"checkTaskDates"),Fx8=I(function(Z,J,Q,K,X){let U=!1,Y=null;while(Z<=J){if(!U)Y=J.toDate();if(U=ny0(Z,Q,K,X),U)J=J.add(1,"d");Z=Z.add(1,"d")}return[J,Y]},"fixTaskDates"),Bt=I(function(Z,J,Q){if(Q=Q.trim(),I((q)=>{let W=q.trim();return W==="x"||W==="X"},"isTimestampFormat")(J)&&/^\d+$/.test(Q))return new Date(Number(Q));let U=/^after\s+(?<ids>[\d\w- ]+)/.exec(Q);if(U!==null){let q=null;for(let G of U.groups.ids.split(" ")){let z=az(G);if(z!==void 0&&(!q||z.endTime>q.endTime))q=z}if(q)return q.endTime;let W=new Date;return W.setHours(0,0,0,0),W}let Y=l4.default(Q,J.trim(),!0);if(Y.isValid())return Y.toDate();else{Z0.debug("Invalid date:"+Q),Z0.debug("With date format:"+J.trim());let q=new Date(Q);if(q===void 0||isNaN(q.getTime())||q.getFullYear()<-1e4||q.getFullYear()>1e4)throw Error("Invalid date:"+Q);return q}},"getStartDate"),oy0=I(function(Z){let J=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(Z.trim());if(J!==null)return[Number.parseFloat(J[1]),J[2]];return[NaN,"ms"]},"parseDuration"),ty0=I(function(Z,J,Q,K=!1){Q=Q.trim();let U=/^until\s+(?<ids>[\d\w- ]+)/.exec(Q);if(U!==null){let z=null;for(let F of U.groups.ids.split(" ")){let M=az(F);if(M!==void 0&&(!z||M.startTime<z.startTime))z=M}if(z)return z.startTime;let H=new Date;return H.setHours(0,0,0,0),H}let Y=l4.default(Q,J.trim(),!0);if(Y.isValid()){if(K)Y=Y.add(1,"d");return Y.toDate()}let q=l4.default(Z),[W,G]=oy0(Q);if(!Number.isNaN(W)){let z=q.add(W,G);if(z.isValid())q=z}return q.toDate()},"getEndDate"),WO=I(function(Z){if(Z===void 0)return __=__+1,"task"+__;return Z},"parseId"),Mx8=I(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;let K=Q.split(","),X={};jt(K,X,ry0);for(let Y=0;Y<K.length;Y++)K[Y]=K[Y].trim();let U="";switch(K.length){case 1:X.id=WO(),X.startTime=Z.endTime,U=K[0];break;case 2:X.id=WO(),X.startTime=Bt(void 0,CU,K[0]),U=K[1];break;case 3:X.id=WO(K[0]),X.startTime=Bt(void 0,CU,K[1]),U=K[2];break;default:}if(U)X.endTime=ty0(X.startTime,CU,U,_A),X.manualEndTime=l4.default(U,"YYYY-MM-DD",!0).isValid(),ay0(X,CU,kA,$A);return X},"compileData"),Bx8=I(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;let K=Q.split(","),X={};jt(K,X,ry0);for(let U=0;U<K.length;U++)K[U]=K[U].trim();switch(K.length){case 1:X.id=WO(),X.startTime={type:"prevTaskEnd",id:Z},X.endTime={data:K[0]};break;case 2:X.id=WO(),X.startTime={type:"getStartDate",startData:K[0]},X.endTime={data:K[1]};break;case 3:X.id=WO(K[0]),X.startTime={type:"getStartDate",startData:K[1]},X.endTime={data:K[2]};break;default:}return X},"parseData"),j7=[],ey0={},Ox8=I(function(Z,J){let Q={section:GO,type:GO,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:J},task:Z,classes:[]},K=Bx8(f_,J);Q.raw.startTime=K.startTime,Q.raw.endTime=K.endTime,Q.id=K.id,Q.prevTaskId=f_,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,Q.vert=K.vert,Q.order=Mt,Mt++;let X=j7.push(Q);f_=Q.id,ey0[Q.id]=X-1},"addTask"),az=I(function(Z){let J=ey0[Z];return j7[J]},"findTaskById"),Rx8=I(function(Z,J){let Q={section:GO,type:GO,description:Z,task:Z,classes:[]},K=Mx8(Ot,J);Q.startTime=K.startTime,Q.endTime=K.endTime,Q.id=K.id,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,Q.vert=K.vert,Ot=Q,v_.push(Q)},"addTaskOrg"),py0=I(function(){let Z=I(function(Q){let K=j7[Q],X="";switch(j7[Q].raw.startTime.type){case"prevTaskEnd":{let U=az(K.prevTaskId);K.startTime=U.endTime;break}case"getStartDate":if(X=Bt(void 0,CU,j7[Q].raw.startTime.startData),X)j7[Q].startTime=X;break}if(j7[Q].startTime){if(j7[Q].endTime=ty0(j7[Q].startTime,CU,j7[Q].raw.endTime.data,_A),j7[Q].endTime)j7[Q].processed=!0,j7[Q].manualEndTime=l4.default(j7[Q].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),ay0(j7[Q],CU,kA,$A)}return j7[Q].processed},"compileTask"),J=!0;for(let[Q,K]of j7.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),Dx8=I(function(Z,J){let Q=J;if(N0().securityLevel!=="loose")Q=ly0.sanitizeUrl(J);Z.split(",").forEach(function(K){if(az(K)!==void 0)Jh0(K,()=>{window.open(Q,"_self")}),It.set(K,Q)}),Zh0(Z,"clickable")},"setLink"),Zh0=I(function(Z,J){Z.split(",").forEach(function(Q){let K=az(Q);if(K!==void 0)K.classes.push(J)})},"setClass"),Lx8=I(function(Z,J,Q){if(N0().securityLevel!=="loose")return;if(J===void 0)return;let K=[];if(typeof Q==="string"){K=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let U=0;U<K.length;U++){let Y=K[U].trim();if(Y.startsWith('"')&&Y.endsWith('"'))Y=Y.substr(1,Y.length-2);K[U]=Y}}if(K.length===0)K.push(Z);if(az(Z)!==void 0)Jh0(Z,()=>{n8.runFunc(J,...K)})},"setClickFun"),Jh0=I(function(Z,J){Et.push(function(){let Q=document.querySelector(`[id="${Z}"]`);if(Q!==null)Q.addEventListener("click",function(){J()})},function(){let Q=document.querySelector(`[id="${Z}-text"]`);if(Q!==null)Q.addEventListener("click",function(){J()})})},"pushFun"),Ix8=I(function(Z,J,Q){Z.split(",").forEach(function(K){Lx8(K,J,Q)}),Zh0(Z,"clickable")},"setClickEvent"),Ax8=I(function(Z){Et.forEach(function(J){J(Z)})},"bindFunctions"),Nx8={getConfig:I(()=>N0().gantt,"getConfig"),clear:uv8,setDateFormat:sv8,getDateFormat:Zx8,enableInclusiveEndDates:rv8,endDatesAreInclusive:nv8,enableTopAxis:av8,topAxisEnabled:ov8,setAxisFormat:gv8,getAxisFormat:pv8,setTickInterval:cv8,getTickInterval:lv8,setTodayMarker:dv8,getTodayMarker:iv8,setAccTitle:v9,getAccTitle:y9,setDiagramTitle:s9,getDiagramTitle:u9,setDisplayMode:tv8,getDisplayMode:ev8,setAccDescription:h9,getAccDescription:m9,addSection:Yx8,getSections:qx8,getTasks:Wx8,addTask:Ox8,findTaskById:az,addTaskOrg:Rx8,setIncludes:Jx8,getIncludes:Qx8,setExcludes:Kx8,getExcludes:Xx8,setClickEvent:Ix8,setLink:Dx8,getLinks:Ux8,bindFunctions:Ax8,parseDuration:oy0,isInvalidDate:ny0,setWeekday:Gx8,getWeekday:zx8,setWeekend:Hx8};I(jt,"getTaskTags");qO.default.extend(Qh0.default);Ex8=I(function(){Z0.debug("Something is calling, setConf, remove the call")},"setConf"),cy0={monday:$1,tuesday:VP,wednesday:PP,thursday:EX,friday:jP,saturday:CP,sunday:H5},Vx8=I((Z,J)=>{let Q=[...Z].map(()=>-1/0),K=[...Z].sort((U,Y)=>U.startTime-Y.startTime||U.order-Y.order),X=0;for(let U of K)for(let Y=0;Y<Q.length;Y++)if(U.startTime>=Q[Y]){if(Q[Y]=U.endTime,U.order=Y+J,Y>X)X=Y;break}return X},"getMaxIntersections"),Px8=I(function(Z,J,Q,K){let X=N0().gantt,U=N0().securityLevel,Y;if(U==="sandbox")Y=i0("#i"+J);let q=U==="sandbox"?i0(Y.nodes()[0].contentDocument.body):i0("body"),W=U==="sandbox"?Y.nodes()[0].contentDocument:document,G=W.getElementById(J);if(dY=G.parentElement.offsetWidth,dY===void 0)dY=1200;if(X.useWidth!==void 0)dY=X.useWidth;let z=K.db.getTasks(),H=[];for(let $ of z)H.push($.type);H=C(H);let F={},M=2*X.topPadding;if(K.db.getDisplayMode()==="compact"||X.displayMode==="compact"){let $={};for(let w of z)if($[w.section]===void 0)$[w.section]=[w];else $[w.section].push(w);let k=0;for(let w of Object.keys($)){let P=Vx8($[w],k)+1;k+=P,M+=P*(X.barHeight+X.barGap),F[w]=P}}else{M+=z.length*(X.barHeight+X.barGap);for(let $ of H)F[$]=z.filter((k)=>k.type===$).length}G.setAttribute("viewBox","0 0 "+dY+" "+M);let B=q.select(`[id="${J}"]`),O=wP().domain([vV(z,function($){return $.startTime}),fV(z,function($){return $.endTime})]).rangeRound([0,dY-X.leftPadding-X.rightPadding]);function R($,k){let w=$.startTime,P=k.startTime,T=0;if(w>P)T=1;else if(w<P)T=-1;return T}I(R,"taskCompare"),z.sort(R),D(z,dY,M),PZ(B,M,dY,X.useMaxWidth),B.append("text").text(K.db.getDiagramTitle()).attr("x",dY/2).attr("y",X.titleTopMargin).attr("class","titleText");function D($,k,w){let P=X.barHeight,T=P+X.barGap,S=X.topPadding,f=X.leftPadding,v=z5().domain([0,H.length]).range(["#00B9FA","#F95002"]).interpolate(km);A(T,S,f,k,w,$,K.db.getExcludes(),K.db.getIncludes()),N(f,S,k,w),L($,T,S,f,P,v,k,w),E(T,S,f,P,v),j(f,S,k,w)}I(D,"makeGantt");function L($,k,w,P,T,S,f){$.sort((h,p)=>h.vert===p.vert?0:h.vert?1:-1);let x=[...new Set($.map((h)=>h.order))].map((h)=>$.find((p)=>p.order===h));B.append("g").selectAll("rect").data(x).enter().append("rect").attr("x",0).attr("y",function(h,p){return p=h.order,p*k+w-2}).attr("width",function(){return f-X.rightPadding/2}).attr("height",k).attr("class",function(h){for(let[p,r]of H.entries())if(h.type===r)return"section section"+p%X.numberSectionStyles;return"section section0"}).enter();let b=B.append("g").selectAll("rect").data($).enter(),y=K.db.getLinks();if(b.append("rect").attr("id",function(h){return h.id}).attr("rx",3).attr("ry",3).attr("x",function(h){if(h.milestone)return O(h.startTime)+P+0.5*(O(h.endTime)-O(h.startTime))-0.5*T;return O(h.startTime)+P}).attr("y",function(h,p){if(p=h.order,h.vert)return X.gridLineStartPadding;return p*k+w}).attr("width",function(h){if(h.milestone)return T;if(h.vert)return 0.08*T;return O(h.renderEndTime||h.endTime)-O(h.startTime)}).attr("height",function(h){if(h.vert)return z.length*(X.barHeight+X.barGap)+X.barHeight*2;return T}).attr("transform-origin",function(h,p){return p=h.order,(O(h.startTime)+P+0.5*(O(h.endTime)-O(h.startTime))).toString()+"px "+(p*k+w+0.5*T).toString()+"px"}).attr("class",function(h){let r="";if(h.classes.length>0)r=h.classes.join(" ");let e=0;for(let[U0,a]of H.entries())if(h.type===a)e=U0%X.numberSectionStyles;let i="";if(h.active)if(h.crit)i+=" activeCrit";else i=" active";else if(h.done)if(h.crit)i=" doneCrit";else i=" done";else if(h.crit)i+=" crit";if(i.length===0)i=" task";if(h.milestone)i=" milestone "+i;if(h.vert)i=" vert "+i;return i+=e,i+=" "+r,"task"+i}),b.append("text").attr("id",function(h){return h.id+"-text"}).text(function(h){return h.task}).attr("font-size",X.fontSize).attr("x",function(h){let p=O(h.startTime),r=O(h.renderEndTime||h.endTime);if(h.milestone)p+=0.5*(O(h.endTime)-O(h.startTime))-0.5*T,r=p+T;if(h.vert)return O(h.startTime)+P;let e=this.getBBox().width;if(e>r-p)if(r+e+1.5*X.leftPadding>f)return p+P-5;else return r+P+5;else return(r-p)/2+p+P}).attr("y",function(h,p){if(h.vert)return X.gridLineStartPadding+z.length*(X.barHeight+X.barGap)+60;return p=h.order,p*k+X.barHeight/2+(X.fontSize/2-2)+w}).attr("text-height",T).attr("class",function(h){let p=O(h.startTime),r=O(h.endTime);if(h.milestone)r=p+T;let e=this.getBBox().width,i="";if(h.classes.length>0)i=h.classes.join(" ");let U0=0;for(let[z0,J0]of H.entries())if(h.type===J0)U0=z0%X.numberSectionStyles;let a="";if(h.active)if(h.crit)a="activeCritText"+U0;else a="activeText"+U0;if(h.done)if(h.crit)a=a+" doneCritText"+U0;else a=a+" doneText"+U0;else if(h.crit)a=a+" critText"+U0;if(h.milestone)a+=" milestoneText";if(h.vert)a+=" vertText";if(e>r-p)if(r+e+1.5*X.leftPadding>f)return i+" taskTextOutsideLeft taskTextOutside"+U0+" "+a;else return i+" taskTextOutsideRight taskTextOutside"+U0+" "+a+" width-"+e;else return i+" taskText taskText"+U0+" "+a+" width-"+e}),N0().securityLevel==="sandbox"){let h;h=i0("#i"+J);let p=h.nodes()[0].contentDocument;b.filter(function(r){return y.has(r.id)}).each(function(r){var e=p.querySelector("#"+r.id),i=p.querySelector("#"+r.id+"-text");let U0=e.parentNode;var a=p.createElement("a");a.setAttribute("xlink:href",y.get(r.id)),a.setAttribute("target","_top"),U0.appendChild(a),a.appendChild(e),a.appendChild(i)})}}I(L,"drawRects");function A($,k,w,P,T,S,f,v){if(f.length===0&&v.length===0)return;let x,b;for(let{startTime:e,endTime:i}of S){if(x===void 0||e<x)x=e;if(b===void 0||i>b)b=i}if(!x||!b)return;if(qO.default(b).diff(qO.default(x),"year")>5){Z0.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let y=K.db.getDateFormat(),u=[],h=null,p=qO.default(x);while(p.valueOf()<=b){if(K.db.isInvalidDate(p,y,f,v))if(!h)h={start:p,end:p};else h.end=p;else if(h)u.push(h),h=null;p=p.add(1,"d")}B.append("g").selectAll("rect").data(u).enter().append("rect").attr("id",(e)=>"exclude-"+e.start.format("YYYY-MM-DD")).attr("x",(e)=>O(e.start.startOf("day"))+w).attr("y",X.gridLineStartPadding).attr("width",(e)=>O(e.end.endOf("day"))-O(e.start.startOf("day"))).attr("height",T-k-X.gridLineStartPadding).attr("transform-origin",function(e,i){return(O(e.start)+w+0.5*(O(e.end)-O(e.start))).toString()+"px "+(i*$+0.5*T).toString()+"px"}).attr("class","exclude-range")}I(A,"drawExcludeDays");function V($,k,w,P){if(w<=0||$>k)return 1/0;let T=k-$,S=qO.default.duration({[P??"day"]:w}).asMilliseconds();if(S<=0)return 1/0;return Math.ceil(T/S)}I(V,"getEstimatedTickCount");function N($,k,w,P){let T=K.db.getDateFormat(),S=K.db.getAxisFormat(),f;if(S)f=S;else if(T==="D")f="%d";else f=X.axisFormat??"%Y-%m-%d";let v=Lh(O).tickSize(-P+k+X.gridLineStartPadding).tickFormat(bG(f)),b=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(K.db.getTickInterval()||X.tickInterval);if(b!==null){let y=parseInt(b[1],10);if(isNaN(y)||y<=0)Z0.warn(`Invalid tick interval value: "${b[1]}". Skipping custom tick interval.`);else{let u=b[2],h=K.db.getWeekday()||X.weekday,p=O.domain(),r=p[0],e=p[1],i=V(r,e,y,u);if(i>Ht)Z0.warn(`The tick interval "${y}${u}" would generate ${i} ticks, which exceeds the maximum allowed (${Ht}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch(u){case"millisecond":v.ticks(AX.every(y));break;case"second":v.ticks(T4.every(y));break;case"minute":v.ticks(UY.every(y));break;case"hour":v.ticks(YY.every(y));break;case"day":v.ticks(WK.every(y));break;case"week":v.ticks(cy0[h].every(y));break;case"month":v.ticks(qY.every(y));break}}}if(B.append("g").attr("class","grid").attr("transform","translate("+$+", "+(P-50)+")").call(v).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),K.db.topAxisEnabled()||X.topAxis){let y=Dh(O).tickSize(-P+k+X.gridLineStartPadding).tickFormat(bG(f));if(b!==null){let u=parseInt(b[1],10);if(isNaN(u)||u<=0)Z0.warn(`Invalid tick interval value: "${b[1]}". Skipping custom tick interval.`);else{let h=b[2],p=K.db.getWeekday()||X.weekday,r=O.domain(),e=r[0],i=r[1];if(V(e,i,u,h)<=Ht)switch(h){case"millisecond":y.ticks(AX.every(u));break;case"second":y.ticks(T4.every(u));break;case"minute":y.ticks(UY.every(u));break;case"hour":y.ticks(YY.every(u));break;case"day":y.ticks(WK.every(u));break;case"week":y.ticks(cy0[p].every(u));break;case"month":y.ticks(qY.every(u));break}}}B.append("g").attr("class","grid").attr("transform","translate("+$+", "+k+")").call(y).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}I(N,"makeGrid");function E($,k){let w=0,P=Object.keys(F).map((T)=>[T,F[T]]);B.append("g").selectAll("text").data(P).enter().append(function(T){let S=T[0].split(J8.lineBreakRegex),f=-(S.length-1)/2,v=W.createElementNS("http://www.w3.org/2000/svg","text");v.setAttribute("dy",f+"em");for(let[x,b]of S.entries()){let y=W.createElementNS("http://www.w3.org/2000/svg","tspan");if(y.setAttribute("alignment-baseline","central"),y.setAttribute("x","10"),x>0)y.setAttribute("dy","1em");y.textContent=b,v.appendChild(y)}return v}).attr("x",10).attr("y",function(T,S){if(S>0)for(let f=0;f<S;f++)return w+=P[S-1][1],T[1]*$/2+w*$+k;else return T[1]*$/2+k}).attr("font-size",X.sectionFontSize).attr("class",function(T){for(let[S,f]of H.entries())if(T[0]===f)return"sectionTitle sectionTitle"+S%X.numberSectionStyles;return"sectionTitle"})}I(E,"vertLabels");function j($,k,w,P){let T=K.db.getTodayMarker();if(T==="off")return;let S=B.append("g").attr("class","today"),f=new Date,v=S.append("line");if(v.attr("x1",O(f)+$).attr("x2",O(f)+$).attr("y1",X.titleTopMargin).attr("y2",P-X.titleTopMargin).attr("class","today"),T!=="")v.attr("style",T.replace(/,/g,";"))}I(j,"drawToday");function C($){let k={},w=[];for(let P=0,T=$.length;P<T;++P)if(!Object.prototype.hasOwnProperty.call(k,$[P]))k[$[P]]=!0,w.push($[P]);return w}I(C,"checkUnique")},"draw"),jx8={setConf:Ex8,draw:Px8},Cx8=I((Z)=>`
  .mermaid-main-font {
        font-family: ${Z.fontFamily};
  }

  .exclude-range {
    fill: ${Z.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${Z.sectionBkgColor};
  }

  .section2 {
    fill: ${Z.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${Z.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${Z.titleColor};
  }

  .sectionTitle1 {
    fill: ${Z.titleColor};
  }

  .sectionTitle2 {
    fill: ${Z.titleColor};
  }

  .sectionTitle3 {
    fill: ${Z.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${Z.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${Z.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${Z.fontFamily};
    fill: ${Z.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${Z.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${Z.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${Z.taskTextDarkColor};
    text-anchor: start;
    font-family: ${Z.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${Z.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${Z.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${Z.taskBkgColor};
    stroke: ${Z.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${Z.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${Z.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${Z.activeTaskBkgColor};
    stroke: ${Z.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${Z.doneTaskBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${Z.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${Z.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.titleColor||Z.textColor};
    font-family: ${Z.fontFamily};
  }
`,"getStyles"),Sx8=Cx8,Tx8={parser:mv8,db:Nx8,renderer:jx8,styles:Sx8}});var Uh0={};z9(Uh0,{diagram:()=>xx8});var wx8,$x8,kx8,_x8,fx8,vx8,xx8;var Yh0=_(()=>{ab();VX();T9();M9();_W();wx8={parse:I(async(Z)=>{let J=await E6("info",Z);Z0.debug(J)},"parse")},$x8={version:yR.version+""},kx8=I(()=>$x8.version,"getVersion"),_x8={getVersion:kx8},fx8=I((Z,J,Q)=>{Z0.debug(`rendering info diagram
`+Z);let K=_7(J);PZ(K,100,400,!0),K.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${Q}`)},"draw"),vx8={draw:fx8},xx8={parser:wx8,db:_x8,renderer:vx8}});var Gh0={};z9(Gh0,{diagram:()=>ax8});var qh0,Ct,b_,St,bx8,yx8,hx8,mx8,ux8,gx8,px8,Wh0,cx8,lx8,dx8,ix8,sx8,rx8,nx8,ax8;var zh0=_(()=>{VX();Nz();jZ();T9();M9();_W();A9();qh0=D9.pie,Ct={sections:new Map,showData:!1,config:qh0},b_=Ct.sections,St=Ct.showData,bx8=structuredClone(qh0),yx8=I(()=>structuredClone(bx8),"getConfig"),hx8=I(()=>{b_=new Map,St=Ct.showData,S9()},"clear"),mx8=I(({label:Z,value:J})=>{if(J<0)throw Error(`"${Z}" has invalid value: ${J}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);if(!b_.has(Z))b_.set(Z,J),Z0.debug(`added new section: ${Z}, with value: ${J}`)},"addSection"),ux8=I(()=>b_,"getSections"),gx8=I((Z)=>{St=Z},"setShowData"),px8=I(()=>St,"getShowData"),Wh0={getConfig:yx8,clear:hx8,setDiagramTitle:s9,getDiagramTitle:u9,setAccTitle:v9,getAccTitle:y9,setAccDescription:h9,getAccDescription:m9,addSection:mx8,getSections:ux8,setShowData:gx8,getShowData:px8},cx8=I((Z,J)=>{m4(Z,J),J.setShowData(Z.showData),Z.sections.map(J.addSection)},"populateDb"),lx8={parse:I(async(Z)=>{let J=await E6("pie",Z);Z0.debug(J),cx8(J,Wh0)},"parse")},dx8=I((Z)=>`
  .pieCircle{
    stroke: ${Z.pieStrokeColor};
    stroke-width : ${Z.pieStrokeWidth};
    opacity : ${Z.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${Z.pieOuterStrokeColor};
    stroke-width: ${Z.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${Z.pieTitleTextSize};
    fill: ${Z.pieTitleTextColor};
    font-family: ${Z.fontFamily};
  }
  .slice {
    font-family: ${Z.fontFamily};
    fill: ${Z.pieSectionTextColor};
    font-size:${Z.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${Z.pieLegendTextColor};
    font-family: ${Z.fontFamily};
    font-size: ${Z.pieLegendTextSize};
  }
`,"getStyles"),ix8=dx8,sx8=I((Z)=>{let J=[...Z.values()].reduce((X,U)=>X+U,0),Q=[...Z.entries()].map(([X,U])=>({label:X,value:U})).filter((X)=>X.value/J*100>=1).sort((X,U)=>U.value-X.value);return vP().value((X)=>X.value)(Q)},"createPieArcs"),rx8=I((Z,J,Q,K)=>{Z0.debug(`rendering pie chart
`+Z);let X=K.db,U=N0(),Y=TJ(X.getConfig(),U.pie),q=40,W=18,G=4,z=450,H=z,F=_7(J),M=F.append("g");M.attr("transform","translate("+H/2+","+z/2+")");let{themeVariables:B}=U,[O]=$X(B.pieOuterStrokeWidth);O??=2;let R=Y.textPosition,D=Math.min(H,z)/2-q,L=B5().innerRadius(0).outerRadius(D),A=B5().innerRadius(D*R).outerRadius(D*R);M.append("circle").attr("cx",0).attr("cy",0).attr("r",D+O/2).attr("class","pieOuterCircle");let V=X.getSections(),N=sx8(V),E=[B.pie1,B.pie2,B.pie3,B.pie4,B.pie5,B.pie6,B.pie7,B.pie8,B.pie9,B.pie10,B.pie11,B.pie12],j=0;V.forEach((S)=>{j+=S});let C=N.filter((S)=>(S.data.value/j*100).toFixed(0)!=="0"),$=S4(E);M.selectAll("mySlices").data(C).enter().append("path").attr("d",L).attr("fill",(S)=>{return $(S.data.label)}).attr("class","pieCircle"),M.selectAll("mySlices").data(C).enter().append("text").text((S)=>{return(S.data.value/j*100).toFixed(0)+"%"}).attr("transform",(S)=>{return"translate("+A.centroid(S)+")"}).style("text-anchor","middle").attr("class","slice"),M.append("text").text(X.getDiagramTitle()).attr("x",0).attr("y",-(z-50)/2).attr("class","pieTitleText");let k=[...V.entries()].map(([S,f])=>({label:S,value:f})),w=M.selectAll(".legend").data(k).enter().append("g").attr("class","legend").attr("transform",(S,f)=>{let v=W+G,x=v*k.length/2,b=12*W,y=f*v-x;return"translate("+b+","+y+")"});w.append("rect").attr("width",W).attr("height",W).style("fill",(S)=>$(S.label)).style("stroke",(S)=>$(S.label)),w.append("text").attr("x",W+G).attr("y",W-G).text((S)=>{if(X.getShowData())return`${S.label} [${S.value}]`;return S.label});let P=Math.max(...w.selectAll("text").nodes().map((S)=>S?.getBoundingClientRect().width??0)),T=H+q+W+G+P;F.attr("viewBox",`0 0 ${T} ${z}`),PZ(F,z,T,Y.useMaxWidth)},"draw"),nx8={draw:rx8},ax8={parser:lx8,db:Wh0,renderer:nx8,styles:ix8}});var Ch0={};z9(Ch0,{diagram:()=>Xb8});function wt(Z){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(Z)}function Hh0(Z){return!/^\d+$/.test(Z)}function Fh0(Z){return!/^\d+px$/.test(Z)}function SU(Z){return R9(Z.trim(),ex8)}function Mh0(Z){IQ.setData({quadrant1Text:SU(Z.text)})}function Bh0(Z){IQ.setData({quadrant2Text:SU(Z.text)})}function Oh0(Z){IQ.setData({quadrant3Text:SU(Z.text)})}function Rh0(Z){IQ.setData({quadrant4Text:SU(Z.text)})}function Dh0(Z){IQ.setData({xAxisLeftText:SU(Z.text)})}function Lh0(Z){IQ.setData({xAxisRightText:SU(Z.text)})}function Ih0(Z){IQ.setData({yAxisTopText:SU(Z.text)})}function Ah0(Z){IQ.setData({yAxisBottomText:SU(Z.text)})}function h_(Z){let J={};for(let Q of Z){let[K,X]=Q.trim().split(/\s*:\s*/);if(K==="radius"){if(Hh0(X))throw new y_(K,X,"number");J.radius=parseInt(X)}else if(K==="color"){if(wt(X))throw new y_(K,X,"hex code");J.color=X}else if(K==="stroke-color"){if(wt(X))throw new y_(K,X,"hex code");J.strokeColor=X}else if(K==="stroke-width"){if(Fh0(X))throw new y_(K,X,"number of pixels (eg. 10px)");J.strokeWidth=X}else throw Error(`style named ${K} is not supported.`)}return J}function Nh0(Z,J,Q,K,X){let U=h_(X);IQ.addPoints([{x:Q,y:K,text:SU(Z.text),className:J,...U}])}function Eh0(Z,J){IQ.addClass(Z,h_(J))}function Vh0(Z){IQ.setConfig({chartWidth:Z})}function Ph0(Z){IQ.setConfig({chartHeight:Z})}function jh0(){let Z=N0(),{themeVariables:J,quadrantChart:Q}=Z;if(Q)IQ.setConfig(Q);return IQ.setThemeConfig({quadrant1Fill:J.quadrant1Fill,quadrant2Fill:J.quadrant2Fill,quadrant3Fill:J.quadrant3Fill,quadrant4Fill:J.quadrant4Fill,quadrant1TextFill:J.quadrant1TextFill,quadrant2TextFill:J.quadrant2TextFill,quadrant3TextFill:J.quadrant3TextFill,quadrant4TextFill:J.quadrant4TextFill,quadrantPointFill:J.quadrantPointFill,quadrantPointTextFill:J.quadrantPointTextFill,quadrantXAxisTextFill:J.quadrantXAxisTextFill,quadrantYAxisTextFill:J.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:J.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:J.quadrantInternalBorderStrokeFill,quadrantTitleFill:J.quadrantTitleFill}),IQ.setData({titleText:u9()}),IQ.build()}var Tt,ox8,V6,tx8,y_,ex8,IQ,Zb8,Jb8,Qb8,Kb8,Xb8;var Sh0=_(()=>{T9();M9();A9();A9();Tt=function(){var Z=I(function(H0,m,q0,W0){for(q0=q0||{},W0=H0.length;W0--;q0[H0[W0]]=m);return q0},"o"),J=[1,3],Q=[1,4],K=[1,5],X=[1,6],U=[1,7],Y=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],q=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],W=[55,56,57],G=[2,36],z=[1,37],H=[1,36],F=[1,38],M=[1,35],B=[1,43],O=[1,41],R=[1,14],D=[1,23],L=[1,18],A=[1,19],V=[1,20],N=[1,21],E=[1,22],j=[1,24],C=[1,25],$=[1,26],k=[1,27],w=[1,28],P=[1,29],T=[1,32],S=[1,33],f=[1,34],v=[1,39],x=[1,40],b=[1,42],y=[1,44],u=[1,62],h=[1,61],p=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],r=[1,65],e=[1,66],i=[1,67],U0=[1,68],a=[1,69],z0=[1,70],J0=[1,71],Q0=[1,72],t=[1,73],n=[1,74],Y0=[1,75],o=[1,76],M0=[4,5,6,7,8,9,10,11,12,13,14,15,18],X0=[1,90],E0=[1,91],d=[1,92],c0=[1,99],B0=[1,93],y0=[1,96],n0=[1,94],s0=[1,95],k0=[1,97],x0=[1,98],f0=[1,102],C0=[10,55,56,57],h0=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],F0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:I(function(m,q0,W0,V0,L0,D0,_0){var T0=D0.length-1;switch(L0){case 23:this.$=D0[T0];break;case 24:this.$=D0[T0-1]+""+D0[T0];break;case 26:this.$=D0[T0-1]+D0[T0];break;case 27:this.$=[D0[T0].trim()];break;case 28:D0[T0-2].push(D0[T0].trim()),this.$=D0[T0-2];break;case 29:this.$=D0[T0-4],V0.addClass(D0[T0-2],D0[T0]);break;case 37:this.$=[];break;case 42:this.$=D0[T0].trim(),V0.setDiagramTitle(this.$);break;case 43:this.$=D0[T0].trim(),V0.setAccTitle(this.$);break;case 44:case 45:this.$=D0[T0].trim(),V0.setAccDescription(this.$);break;case 46:V0.addSection(D0[T0].substr(8)),this.$=D0[T0].substr(8);break;case 47:V0.addPoint(D0[T0-3],"",D0[T0-1],D0[T0],[]);break;case 48:V0.addPoint(D0[T0-4],D0[T0-3],D0[T0-1],D0[T0],[]);break;case 49:V0.addPoint(D0[T0-4],"",D0[T0-2],D0[T0-1],D0[T0]);break;case 50:V0.addPoint(D0[T0-5],D0[T0-4],D0[T0-2],D0[T0-1],D0[T0]);break;case 51:V0.setXAxisLeftText(D0[T0-2]),V0.setXAxisRightText(D0[T0]);break;case 52:D0[T0-1].text+="  ",V0.setXAxisLeftText(D0[T0-1]);break;case 53:V0.setXAxisLeftText(D0[T0]);break;case 54:V0.setYAxisBottomText(D0[T0-2]),V0.setYAxisTopText(D0[T0]);break;case 55:D0[T0-1].text+="  ",V0.setYAxisBottomText(D0[T0-1]);break;case 56:V0.setYAxisBottomText(D0[T0]);break;case 57:V0.setQuadrant1Text(D0[T0]);break;case 58:V0.setQuadrant2Text(D0[T0]);break;case 59:V0.setQuadrant3Text(D0[T0]);break;case 60:V0.setQuadrant4Text(D0[T0]);break;case 64:this.$={text:D0[T0],type:"text"};break;case 65:this.$={text:D0[T0-1].text+""+D0[T0],type:D0[T0-1].type};break;case 66:this.$={text:D0[T0],type:"text"};break;case 67:this.$={text:D0[T0],type:"markdown"};break;case 68:this.$=D0[T0];break;case 69:this.$=D0[T0-1]+""+D0[T0];break}},"anonymous"),table:[{18:J,26:1,27:2,28:Q,55:K,56:X,57:U},{1:[3]},{18:J,26:8,27:2,28:Q,55:K,56:X,57:U},{18:J,26:9,27:2,28:Q,55:K,56:X,57:U},Z(Y,[2,33],{29:10}),Z(q,[2,61]),Z(q,[2,62]),Z(q,[2,63]),{1:[2,30]},{1:[2,31]},Z(W,G,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:z,5:H,10:F,12:M,13:B,14:O,18:R,25:D,35:L,37:A,39:V,41:N,42:E,48:j,50:C,51:$,52:k,53:w,54:P,60:T,61:S,63:f,64:v,65:x,66:b,67:y}),Z(Y,[2,34]),{27:45,55:K,56:X,57:U},Z(W,[2,37]),Z(W,G,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:z,5:H,10:F,12:M,13:B,14:O,18:R,25:D,35:L,37:A,39:V,41:N,42:E,48:j,50:C,51:$,52:k,53:w,54:P,60:T,61:S,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,39]),Z(W,[2,40]),Z(W,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},Z(W,[2,45]),Z(W,[2,46]),{18:[1,50]},{4:z,5:H,10:F,12:M,13:B,14:O,43:51,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:52,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:53,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:54,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:55,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:56,58:31,60:T,61:S,63:f,64:v,65:x,66:b,67:y},{4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,44:[1,57],47:[1,58],58:60,59:59,63:f,64:v,65:x,66:b,67:y},Z(p,[2,64]),Z(p,[2,66]),Z(p,[2,67]),Z(p,[2,70]),Z(p,[2,71]),Z(p,[2,72]),Z(p,[2,73]),Z(p,[2,74]),Z(p,[2,75]),Z(p,[2,76]),Z(p,[2,77]),Z(p,[2,78]),Z(p,[2,79]),Z(p,[2,80]),Z(Y,[2,35]),Z(W,[2,38]),Z(W,[2,42]),Z(W,[2,43]),Z(W,[2,44]),{3:64,4:r,5:e,6:i,7:U0,8:a,9:z0,10:J0,11:Q0,12:t,13:n,14:Y0,15:o,21:63},Z(W,[2,53],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,49:[1,77],63:f,64:v,65:x,66:b,67:y}),Z(W,[2,56],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,49:[1,78],63:f,64:v,65:x,66:b,67:y}),Z(W,[2,57],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,58],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,59],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,60],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),{45:[1,79]},{44:[1,80]},Z(p,[2,65]),Z(p,[2,81]),Z(p,[2,82]),Z(p,[2,83]),{3:82,4:r,5:e,6:i,7:U0,8:a,9:z0,10:J0,11:Q0,12:t,13:n,14:Y0,15:o,18:[1,81]},Z(M0,[2,23]),Z(M0,[2,1]),Z(M0,[2,2]),Z(M0,[2,3]),Z(M0,[2,4]),Z(M0,[2,5]),Z(M0,[2,6]),Z(M0,[2,7]),Z(M0,[2,8]),Z(M0,[2,9]),Z(M0,[2,10]),Z(M0,[2,11]),Z(M0,[2,12]),Z(W,[2,52],{58:31,43:83,4:z,5:H,10:F,12:M,13:B,14:O,60:T,61:S,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,55],{58:31,43:84,4:z,5:H,10:F,12:M,13:B,14:O,60:T,61:S,63:f,64:v,65:x,66:b,67:y}),{46:[1,85]},{45:[1,86]},{4:X0,5:E0,6:d,8:c0,11:B0,13:y0,16:89,17:n0,18:s0,19:k0,20:x0,22:88,23:87},Z(M0,[2,24]),Z(W,[2,51],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,54],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:f,64:v,65:x,66:b,67:y}),Z(W,[2,47],{22:88,16:89,23:100,4:X0,5:E0,6:d,8:c0,11:B0,13:y0,17:n0,18:s0,19:k0,20:x0}),{46:[1,101]},Z(W,[2,29],{10:f0}),Z(C0,[2,27],{16:103,4:X0,5:E0,6:d,8:c0,11:B0,13:y0,17:n0,18:s0,19:k0,20:x0}),Z(h0,[2,25]),Z(h0,[2,13]),Z(h0,[2,14]),Z(h0,[2,15]),Z(h0,[2,16]),Z(h0,[2,17]),Z(h0,[2,18]),Z(h0,[2,19]),Z(h0,[2,20]),Z(h0,[2,21]),Z(h0,[2,22]),Z(W,[2,49],{10:f0}),Z(W,[2,48],{22:88,16:89,23:104,4:X0,5:E0,6:d,8:c0,11:B0,13:y0,17:n0,18:s0,19:k0,20:x0}),{4:X0,5:E0,6:d,8:c0,11:B0,13:y0,16:89,17:n0,18:s0,19:k0,20:x0,22:105},Z(h0,[2,26]),Z(W,[2,50],{10:f0}),Z(C0,[2,28],{16:103,4:X0,5:E0,6:d,8:c0,11:B0,13:y0,17:n0,18:s0,19:k0,20:x0})],defaultActions:{8:[2,30],9:[2,31]},parseError:I(function(m,q0){if(q0.recoverable)this.trace(m);else{var W0=Error(m);throw W0.hash=q0,W0}},"parseError"),parse:I(function(m){var q0=this,W0=[0],V0=[],L0=[null],D0=[],_0=this.table,T0="",m0=0,t0=0,H8=0,r0=2,u0=1,o0=D0.slice.call(arguments,1),d0=Object.create(this.lexer),U8={yy:{}};for(var u8 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,u8))U8.yy[u8]=this.yy[u8];if(d0.setInput(m,U8.yy),U8.yy.lexer=d0,U8.yy.parser=this,typeof d0.yylloc>"u")d0.yylloc={};var O8=d0.yylloc;D0.push(O8);var S8=d0.options&&d0.options.ranges;if(typeof U8.yy.parseError==="function")this.parseError=U8.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function W8(M8){W0.length=W0.length-2*M8,L0.length=L0.length-M8,D0.length=D0.length-M8}I(W8,"popStack");function q8(){var M8=V0.pop()||d0.lex()||u0;if(typeof M8!=="number"){if(M8 instanceof Array)V0=M8,M8=V0.pop();M8=q0.symbols_[M8]||M8}return M8}I(q8,"lex");var F8,R8,D8,G8,a9,f8,o9={},p9,F9,G9,C9;while(!0){if(D8=W0[W0.length-1],this.defaultActions[D8])G8=this.defaultActions[D8];else{if(F8===null||typeof F8>"u")F8=q8();G8=_0[D8]&&_0[D8][F8]}if(typeof G8>"u"||!G8.length||!G8[0]){var kZ="";C9=[];for(p9 in _0[D8])if(this.terminals_[p9]&&p9>r0)C9.push("'"+this.terminals_[p9]+"'");if(d0.showPosition)kZ="Parse error on line "+(m0+1)+`:
`+d0.showPosition()+`
Expecting `+C9.join(", ")+", got '"+(this.terminals_[F8]||F8)+"'";else kZ="Parse error on line "+(m0+1)+": Unexpected "+(F8==u0?"end of input":"'"+(this.terminals_[F8]||F8)+"'");this.parseError(kZ,{text:d0.match,token:this.terminals_[F8]||F8,line:d0.yylineno,loc:O8,expected:C9})}if(G8[0]instanceof Array&&G8.length>1)throw Error("Parse Error: multiple actions possible at state: "+D8+", token: "+F8);switch(G8[0]){case 1:if(W0.push(F8),L0.push(d0.yytext),D0.push(d0.yylloc),W0.push(G8[1]),F8=null,!R8){if(t0=d0.yyleng,T0=d0.yytext,m0=d0.yylineno,O8=d0.yylloc,H8>0)H8--}else F8=R8,R8=null;break;case 2:if(F9=this.productions_[G8[1]][1],o9.$=L0[L0.length-F9],o9._$={first_line:D0[D0.length-(F9||1)].first_line,last_line:D0[D0.length-1].last_line,first_column:D0[D0.length-(F9||1)].first_column,last_column:D0[D0.length-1].last_column},S8)o9._$.range=[D0[D0.length-(F9||1)].range[0],D0[D0.length-1].range[1]];if(f8=this.performAction.apply(o9,[T0,t0,m0,U8.yy,G8[1],L0,D0].concat(o0)),typeof f8<"u")return f8;if(F9)W0=W0.slice(0,-1*F9*2),L0=L0.slice(0,-1*F9),D0=D0.slice(0,-1*F9);W0.push(this.productions_[G8[1]][0]),L0.push(o9.$),D0.push(o9._$),G9=_0[W0[W0.length-2]][W0[W0.length-1]],W0.push(G9);break;case 3:return!0}}return!0},"parse")},I0=function(){var H0={EOF:1,parseError:I(function(q0,W0){if(this.yy.parser)this.yy.parser.parseError(q0,W0);else throw Error(q0)},"parseError"),setInput:I(function(m,q0){if(this.yy=q0||this.yy||{},this._input=m,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var q0=m.match(/(?:\r\n?|\n).*/g);if(q0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),m},"input"),unput:I(function(m){var q0=m.length,W0=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q0),this.offset-=q0;var V0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W0.length-1)this.yylineno-=W0.length-1;var L0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W0?(W0.length===V0.length?this.yylloc.first_column:0)+V0[V0.length-W0.length].length-W0[0].length:this.yylloc.first_column-q0},this.options.ranges)this.yylloc.range=[L0[0],L0[0]+this.yyleng-q0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(m){this.unput(this.match.slice(m))},"less"),pastInput:I(function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var m=this.match;if(m.length<20)m+=this._input.substr(0,20-m.length);return(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var m=this.pastInput(),q0=Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+q0+"^"},"showPosition"),test_match:I(function(m,q0){var W0,V0,L0;if(this.options.backtrack_lexer){if(L0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)L0.yylloc.range=this.yylloc.range.slice(0)}if(V0=m[0].match(/(?:\r\n?|\n).*/g),V0)this.yylineno+=V0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V0?V0[V0.length-1].length-V0[V0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length},this.yytext+=m[0],this.match+=m[0],this.matches=m,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(m[0].length),this.matched+=m[0],W0=this.performAction.call(this,this.yy,this,q0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(W0)return W0;else if(this._backtrack){for(var D0 in L0)this[D0]=L0[D0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var m,q0,W0,V0;if(!this._more)this.yytext="",this.match="";var L0=this._currentRules();for(var D0=0;D0<L0.length;D0++)if(W0=this._input.match(this.rules[L0[D0]]),W0&&(!q0||W0[0].length>q0[0].length)){if(q0=W0,V0=D0,this.options.backtrack_lexer)if(m=this.test_match(W0,L0[D0]),m!==!1)return m;else if(this._backtrack){q0=!1;continue}else return!1;else if(!this.options.flex)break}if(q0){if(m=this.test_match(q0,L0[V0]),m!==!1)return m;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var q0=this.next();if(q0)return q0;else return this.lex()},"lex"),begin:I(function(q0){this.conditionStack.push(q0)},"begin"),popState:I(function(){var q0=this.conditionStack.length-1;if(q0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(q0){if(q0=this.conditionStack.length-1-Math.abs(q0||0),q0>=0)return this.conditionStack[q0];else return"INITIAL"},"topState"),pushState:I(function(q0){this.begin(q0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(q0,W0,V0,L0){var D0=L0;switch(V0){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return H0}();F0.lexer=I0;function s(){this.yy={}}return I(s,"Parser"),s.prototype=F0,F0.Parser=s,new s}();Tt.parser=Tt;ox8=Tt,V6=AG(),tx8=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{I(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:D9.quadrantChart?.chartWidth||500,chartWidth:D9.quadrantChart?.chartHeight||500,titlePadding:D9.quadrantChart?.titlePadding||10,titleFontSize:D9.quadrantChart?.titleFontSize||20,quadrantPadding:D9.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:D9.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:D9.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:D9.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:D9.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:D9.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:D9.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:D9.quadrantChart?.pointTextPadding||5,pointLabelFontSize:D9.quadrantChart?.pointLabelFontSize||12,pointRadius:D9.quadrantChart?.pointRadius||5,xAxisPosition:D9.quadrantChart?.xAxisPosition||"top",yAxisPosition:D9.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:D9.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:D9.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:V6.quadrant1Fill,quadrant2Fill:V6.quadrant2Fill,quadrant3Fill:V6.quadrant3Fill,quadrant4Fill:V6.quadrant4Fill,quadrant1TextFill:V6.quadrant1TextFill,quadrant2TextFill:V6.quadrant2TextFill,quadrant3TextFill:V6.quadrant3TextFill,quadrant4TextFill:V6.quadrant4TextFill,quadrantPointFill:V6.quadrantPointFill,quadrantPointTextFill:V6.quadrantPointTextFill,quadrantXAxisTextFill:V6.quadrantXAxisTextFill,quadrantYAxisTextFill:V6.quadrantYAxisTextFill,quadrantTitleFill:V6.quadrantTitleFill,quadrantInternalBorderStrokeFill:V6.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:V6.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,Z0.info("clear called")}setData(Z){this.data={...this.data,...Z}}addPoints(Z){this.data.points=[...Z,...this.data.points]}addClass(Z,J){this.classes.set(Z,J)}setConfig(Z){Z0.trace("setConfig called with: ",Z),this.config={...this.config,...Z}}setThemeConfig(Z){Z0.trace("setThemeConfig called with: ",Z),this.themeConfig={...this.themeConfig,...Z}}calculateSpace(Z,J,Q,K){let X=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,U={top:Z==="top"&&J?X:0,bottom:Z==="bottom"&&J?X:0},Y=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,q={left:this.config.yAxisPosition==="left"&&Q?Y:0,right:this.config.yAxisPosition==="right"&&Q?Y:0},W=this.config.titleFontSize+this.config.titlePadding*2,G={top:K?W:0},z=this.config.quadrantPadding+q.left,H=this.config.quadrantPadding+U.top+G.top,F=this.config.chartWidth-this.config.quadrantPadding*2-q.left-q.right,M=this.config.chartHeight-this.config.quadrantPadding*2-U.top-U.bottom-G.top,B=F/2,O=M/2;return{xAxisSpace:U,yAxisSpace:q,titleSpace:G,quadrantSpace:{quadrantLeft:z,quadrantTop:H,quadrantWidth:F,quadrantHalfWidth:B,quadrantHeight:M,quadrantHalfHeight:O}}}getAxisLabels(Z,J,Q,K){let{quadrantSpace:X,titleSpace:U}=K,{quadrantHalfHeight:Y,quadrantHeight:q,quadrantLeft:W,quadrantHalfWidth:G,quadrantTop:z,quadrantWidth:H}=X,F=Boolean(this.data.xAxisRightText),M=Boolean(this.data.yAxisTopText),B=[];if(this.data.xAxisLeftText&&J)B.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:W+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+U.top:this.config.xAxisLabelPadding+z+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.xAxisRightText&&J)B.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:W+G+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+U.top:this.config.xAxisLabelPadding+z+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.yAxisBottomText&&Q)B.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+W+H+this.config.quadrantPadding,y:z+q-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});if(this.data.yAxisTopText&&Q)B.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+W+H+this.config.quadrantPadding,y:z+Y-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});return B}getQuadrants(Z){let{quadrantSpace:J}=Z,{quadrantHalfHeight:Q,quadrantLeft:K,quadrantHalfWidth:X,quadrantTop:U}=J,Y=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+X,y:U,width:X,height:Q,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:U,width:X,height:Q,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:U+Q,width:X,height:Q,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+X,y:U+Q,width:X,height:Q,fill:this.themeConfig.quadrant4Fill}];for(let q of Y)if(q.text.x=q.x+q.width/2,this.data.points.length===0)q.text.y=q.y+q.height/2,q.text.horizontalPos="middle";else q.text.y=q.y+this.config.quadrantTextTopPadding,q.text.horizontalPos="top";return Y}getQuadrantPoints(Z){let{quadrantSpace:J}=Z,{quadrantHeight:Q,quadrantLeft:K,quadrantTop:X,quadrantWidth:U}=J,Y=z5().domain([0,1]).range([K,U+K]),q=z5().domain([0,1]).range([Q+X,X]);return this.data.points.map((G)=>{let z=this.classes.get(G.className);if(z)G={...z,...G};return{x:Y(G.x),y:q(G.y),fill:G.color??this.themeConfig.quadrantPointFill,radius:G.radius??this.config.pointRadius,text:{text:G.text,fill:this.themeConfig.quadrantPointTextFill,x:Y(G.x),y:q(G.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:G.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:G.strokeWidth??"0px"}})}getBorders(Z){let J=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:Q}=Z,{quadrantHalfHeight:K,quadrantHeight:X,quadrantLeft:U,quadrantHalfWidth:Y,quadrantTop:q,quadrantWidth:W}=Q;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U-J,y1:q,x2:U+W+J,y2:q},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U+W,y1:q+J,x2:U+W,y2:q+X-J},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U-J,y1:q+X,x2:U+W+J,y2:q+X},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U,y1:q+J,x2:U,y2:q+X-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:U+Y,y1:q+J,x2:U+Y,y2:q+X-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:U+J,y1:q+K,x2:U+W-J,y2:q+K}]}getTitle(Z){if(Z)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2};return}build(){let Z=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),J=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),Q=this.config.showTitle&&!!this.data.titleText,K=this.data.points.length>0?"bottom":this.config.xAxisPosition,X=this.calculateSpace(K,Z,J,Q);return{points:this.getQuadrantPoints(X),quadrants:this.getQuadrants(X),axisLabels:this.getAxisLabels(K,Z,J,X),borderLines:this.getBorders(X),title:this.getTitle(Q)}}},y_=class extends Error{static{I(this,"InvalidStyleError")}constructor(Z,J,Q){super(`value for ${Z} ${J} is invalid, please use a valid ${Q}`);this.name="InvalidStyleError"}};I(wt,"validateHexCode");I(Hh0,"validateNumber");I(Fh0,"validateSizeInPixels");ex8=N0();I(SU,"textSanitizer");IQ=new tx8;I(Mh0,"setQuadrant1Text");I(Bh0,"setQuadrant2Text");I(Oh0,"setQuadrant3Text");I(Rh0,"setQuadrant4Text");I(Dh0,"setXAxisLeftText");I(Lh0,"setXAxisRightText");I(Ih0,"setYAxisTopText");I(Ah0,"setYAxisBottomText");I(h_,"parseStyles");I(Nh0,"addPoint");I(Eh0,"addClass");I(Vh0,"setWidth");I(Ph0,"setHeight");I(jh0,"getQuadrantData");Zb8=I(function(){IQ.clear(),S9()},"clear"),Jb8={setWidth:Vh0,setHeight:Ph0,setQuadrant1Text:Mh0,setQuadrant2Text:Bh0,setQuadrant3Text:Oh0,setQuadrant4Text:Rh0,setXAxisLeftText:Dh0,setXAxisRightText:Lh0,setYAxisTopText:Ih0,setYAxisBottomText:Ah0,parseStyles:h_,addPoint:Nh0,addClass:Eh0,getQuadrantData:jh0,clear:Zb8,setAccTitle:v9,getAccTitle:y9,setDiagramTitle:s9,getDiagramTitle:u9,getAccDescription:m9,setAccDescription:h9},Qb8=I((Z,J,Q,K)=>{function X(C){return C==="top"?"hanging":"middle"}I(X,"getDominantBaseLine");function U(C){return C==="left"?"start":"middle"}I(U,"getTextAnchor");function Y(C){return`translate(${C.x}, ${C.y}) rotate(${C.rotation||0})`}I(Y,"getTransformation");let q=N0();Z0.debug(`Rendering quadrant chart
`+Z);let W=q.securityLevel,G;if(W==="sandbox")G=i0("#i"+J);let H=(W==="sandbox"?i0(G.nodes()[0].contentDocument.body):i0("body")).select(`[id="${J}"]`),F=H.append("g").attr("class","main"),M=q.quadrantChart?.chartWidth??500,B=q.quadrantChart?.chartHeight??500;PZ(H,B,M,q.quadrantChart?.useMaxWidth??!0),H.attr("viewBox","0 0 "+M+" "+B),K.db.setHeight(B),K.db.setWidth(M);let O=K.db.getQuadrantData(),R=F.append("g").attr("class","quadrants"),D=F.append("g").attr("class","border"),L=F.append("g").attr("class","data-points"),A=F.append("g").attr("class","labels"),V=F.append("g").attr("class","title");if(O.title)V.append("text").attr("x",0).attr("y",0).attr("fill",O.title.fill).attr("font-size",O.title.fontSize).attr("dominant-baseline",X(O.title.horizontalPos)).attr("text-anchor",U(O.title.verticalPos)).attr("transform",Y(O.title)).text(O.title.text);if(O.borderLines)D.selectAll("line").data(O.borderLines).enter().append("line").attr("x1",(C)=>C.x1).attr("y1",(C)=>C.y1).attr("x2",(C)=>C.x2).attr("y2",(C)=>C.y2).style("stroke",(C)=>C.strokeFill).style("stroke-width",(C)=>C.strokeWidth);let N=R.selectAll("g.quadrant").data(O.quadrants).enter().append("g").attr("class","quadrant");N.append("rect").attr("x",(C)=>C.x).attr("y",(C)=>C.y).attr("width",(C)=>C.width).attr("height",(C)=>C.height).attr("fill",(C)=>C.fill),N.append("text").attr("x",0).attr("y",0).attr("fill",(C)=>C.text.fill).attr("font-size",(C)=>C.text.fontSize).attr("dominant-baseline",(C)=>X(C.text.horizontalPos)).attr("text-anchor",(C)=>U(C.text.verticalPos)).attr("transform",(C)=>Y(C.text)).text((C)=>C.text.text),A.selectAll("g.label").data(O.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text((C)=>C.text).attr("fill",(C)=>C.fill).attr("font-size",(C)=>C.fontSize).attr("dominant-baseline",(C)=>X(C.horizontalPos)).attr("text-anchor",(C)=>U(C.verticalPos)).attr("transform",(C)=>Y(C));let j=L.selectAll("g.data-point").data(O.points).enter().append("g").attr("class","data-point");j.append("circle").attr("cx",(C)=>C.x).attr("cy",(C)=>C.y).attr("r",(C)=>C.radius).attr("fill",(C)=>C.fill).attr("stroke",(C)=>C.strokeColor).attr("stroke-width",(C)=>C.strokeWidth),j.append("text").attr("x",0).attr("y",0).text((C)=>C.text.text).attr("fill",(C)=>C.text.fill).attr("font-size",(C)=>C.text.fontSize).attr("dominant-baseline",(C)=>X(C.text.horizontalPos)).attr("text-anchor",(C)=>U(C.text.verticalPos)).attr("transform",(C)=>Y(C.text))},"draw"),Kb8={draw:Qb8},Xb8={parser:ox8,db:Jb8,renderer:Kb8,styles:I(()=>"","styles")}});var rh0={};z9(rh0,{diagram:()=>Lb8});function kt(Z){return Z.type==="bar"}function vt(Z){return Z.type==="band"}function zO(Z){return Z.type==="linear"}function _t(Z,J,Q,K){let X=new $h0(K);if(vt(Z))return new Yb8(J,Q,Z.categories,Z.title,X);return new qb8(J,Q,[Z.min,Z.max],Z.title,X)}function _h0(Z,J,Q,K){let X=new $h0(K);return new Wb8(X,Z,J,Q)}function fh0(Z,J,Q){return new Hb8(Z,J,Q)}function bt(){let Z=AG(),J=L9();return TJ(Z.xyChart,J.themeVariables.xyChart)}function yt(){let Z=L9();return TJ(D9.xyChart,Z.xyChart)}function ht(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function u_(Z){let J=L9();return R9(Z.trim(),J)}function xh0(Z){vh0=Z}function bh0(Z){if(Z==="horizontal")vA.chartOrientation="horizontal";else vA.chartOrientation="vertical"}function yh0(Z){EZ.xAxis.title=u_(Z.text)}function mt(Z,J){EZ.xAxis={type:"linear",title:EZ.xAxis.title,min:Z,max:J},m_=!0}function hh0(Z){EZ.xAxis={type:"band",title:EZ.xAxis.title,categories:Z.map((J)=>u_(J.text))},m_=!0}function mh0(Z){EZ.yAxis.title=u_(Z.text)}function uh0(Z,J){EZ.yAxis={type:"linear",title:EZ.yAxis.title,min:Z,max:J},xt=!0}function gh0(Z){let J=Math.min(...Z),Q=Math.max(...Z),K=zO(EZ.yAxis)?EZ.yAxis.min:1/0,X=zO(EZ.yAxis)?EZ.yAxis.max:-1/0;EZ.yAxis={type:"linear",title:EZ.yAxis.title,min:Math.min(K,J),max:Math.max(X,Q)}}function ut(Z){let J=[];if(Z.length===0)return J;if(!m_){let Q=zO(EZ.xAxis)?EZ.xAxis.min:1/0,K=zO(EZ.xAxis)?EZ.xAxis.max:-1/0;mt(Math.min(Q,1),Math.max(K,Z.length))}if(!xt)gh0(Z);if(vt(EZ.xAxis))J=EZ.xAxis.categories.map((Q,K)=>[Q,Z[K]]);if(zO(EZ.xAxis)){let Q=EZ.xAxis.min,K=EZ.xAxis.max,X=(K-Q)/(Z.length-1),U=[];for(let Y=Q;Y<=K;Y+=X)U.push(`${Y}`);J=U.map((Y,q)=>[Y,Z[q]])}return J}function gt(Z){return ft[Z===0?0:Z%ft.length]}function ph0(Z,J){let Q=ut(J);EZ.plots.push({type:"line",strokeFill:gt(fA),strokeWidth:2,data:Q}),fA++}function ch0(Z,J){let Q=ut(J);EZ.plots.push({type:"bar",fill:gt(fA),data:Q}),fA++}function lh0(){if(EZ.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return EZ.title=u9(),Mb8.build(vA,EZ,xA,vh0)}function dh0(){return xA}function ih0(){return vA}function sh0(){return EZ}var $t,Ub8,$h0,Th0=0.7,wh0=0.2,kh0,Yb8,qb8,Wb8,Gb8,zb8,Hb8,Fb8,Mb8,fA=0,vh0,vA,xA,EZ,ft,m_=!1,xt=!1,Bb8,Ob8,Rb8,Db8,Lb8;var nh0=_(()=>{VX();YQ();jZ();T9();M9();A9();A9();A9();$t=function(){var Z=I(function(f,v,x,b){for(x=x||{},b=f.length;b--;x[f[b]]=v);return x},"o"),J=[1,10,12,14,16,18,19,21,23],Q=[2,6],K=[1,3],X=[1,5],U=[1,6],Y=[1,7],q=[1,5,10,12,14,16,18,19,21,23,34,35,36],W=[1,25],G=[1,26],z=[1,28],H=[1,29],F=[1,30],M=[1,31],B=[1,32],O=[1,33],R=[1,34],D=[1,35],L=[1,36],A=[1,37],V=[1,43],N=[1,42],E=[1,47],j=[1,50],C=[1,10,12,14,16,18,19,21,23,34,35,36],$=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],k=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],w=[1,64],P={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:I(function(v,x,b,y,u,h,p){var r=h.length-1;switch(u){case 5:y.setOrientation(h[r]);break;case 9:y.setDiagramTitle(h[r].text.trim());break;case 12:y.setLineData({text:"",type:"text"},h[r]);break;case 13:y.setLineData(h[r-1],h[r]);break;case 14:y.setBarData({text:"",type:"text"},h[r]);break;case 15:y.setBarData(h[r-1],h[r]);break;case 16:this.$=h[r].trim(),y.setAccTitle(this.$);break;case 17:case 18:this.$=h[r].trim(),y.setAccDescription(this.$);break;case 19:this.$=h[r-1];break;case 20:this.$=[Number(h[r-2]),...h[r]];break;case 21:this.$=[Number(h[r])];break;case 22:y.setXAxisTitle(h[r]);break;case 23:y.setXAxisTitle(h[r-1]);break;case 24:y.setXAxisTitle({type:"text",text:""});break;case 25:y.setXAxisBand(h[r]);break;case 26:y.setXAxisRangeData(Number(h[r-2]),Number(h[r]));break;case 27:this.$=h[r-1];break;case 28:this.$=[h[r-2],...h[r]];break;case 29:this.$=[h[r]];break;case 30:y.setYAxisTitle(h[r]);break;case 31:y.setYAxisTitle(h[r-1]);break;case 32:y.setYAxisTitle({type:"text",text:""});break;case 33:y.setYAxisRangeData(Number(h[r-2]),Number(h[r]));break;case 37:this.$={text:h[r],type:"text"};break;case 38:this.$={text:h[r],type:"text"};break;case 39:this.$={text:h[r],type:"markdown"};break;case 40:this.$=h[r];break;case 41:this.$=h[r-1]+""+h[r];break}},"anonymous"),table:[Z(J,Q,{3:1,4:2,7:4,5:K,34:X,35:U,36:Y}),{1:[3]},Z(J,Q,{4:2,7:4,3:8,5:K,34:X,35:U,36:Y}),Z(J,Q,{4:2,7:4,6:9,3:10,5:K,8:[1,11],34:X,35:U,36:Y}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},Z(q,[2,34]),Z(q,[2,35]),Z(q,[2,36]),{1:[2,1]},Z(J,Q,{4:2,7:4,3:21,5:K,34:X,35:U,36:Y}),{1:[2,3]},Z(q,[2,5]),Z(J,[2,7],{4:22,34:X,35:U,36:Y}),{11:23,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},{11:39,13:38,24:V,27:N,29:40,30:41,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},{11:45,15:44,27:E,33:46,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},{11:49,17:48,24:j,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},{11:52,17:51,24:j,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},{20:[1,53]},{22:[1,54]},Z(C,[2,18]),{1:[2,2]},Z(C,[2,8]),Z(C,[2,9]),Z($,[2,37],{40:55,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A}),Z($,[2,38]),Z($,[2,39]),Z(k,[2,40]),Z(k,[2,42]),Z(k,[2,43]),Z(k,[2,44]),Z(k,[2,45]),Z(k,[2,46]),Z(k,[2,47]),Z(k,[2,48]),Z(k,[2,49]),Z(k,[2,50]),Z(k,[2,51]),Z(C,[2,10]),Z(C,[2,22],{30:41,29:56,24:V,27:N}),Z(C,[2,24]),Z(C,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},Z(C,[2,11]),Z(C,[2,30],{33:60,27:E}),Z(C,[2,32]),{31:[1,61]},Z(C,[2,12]),{17:62,24:j},{25:63,27:w},Z(C,[2,14]),{17:65,24:j},Z(C,[2,16]),Z(C,[2,17]),Z(k,[2,41]),Z(C,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},Z(C,[2,31]),{27:[1,69]},Z(C,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},Z(C,[2,15]),Z(C,[2,26]),Z(C,[2,27]),{11:59,32:72,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:D,49:L,50:A},Z(C,[2,33]),Z(C,[2,19]),{25:73,27:w},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:I(function(v,x){if(x.recoverable)this.trace(v);else{var b=Error(v);throw b.hash=x,b}},"parseError"),parse:I(function(v){var x=this,b=[0],y=[],u=[null],h=[],p=this.table,r="",e=0,i=0,U0=0,a=2,z0=1,J0=h.slice.call(arguments,1),Q0=Object.create(this.lexer),t={yy:{}};for(var n in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,n))t.yy[n]=this.yy[n];if(Q0.setInput(v,t.yy),t.yy.lexer=Q0,t.yy.parser=this,typeof Q0.yylloc>"u")Q0.yylloc={};var Y0=Q0.yylloc;h.push(Y0);var o=Q0.options&&Q0.options.ranges;if(typeof t.yy.parseError==="function")this.parseError=t.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function M0(F0){b.length=b.length-2*F0,u.length=u.length-F0,h.length=h.length-F0}I(M0,"popStack");function X0(){var F0=y.pop()||Q0.lex()||z0;if(typeof F0!=="number"){if(F0 instanceof Array)y=F0,F0=y.pop();F0=x.symbols_[F0]||F0}return F0}I(X0,"lex");var E0,d,c0,B0,y0,n0,s0={},k0,x0,f0,C0;while(!0){if(c0=b[b.length-1],this.defaultActions[c0])B0=this.defaultActions[c0];else{if(E0===null||typeof E0>"u")E0=X0();B0=p[c0]&&p[c0][E0]}if(typeof B0>"u"||!B0.length||!B0[0]){var h0="";C0=[];for(k0 in p[c0])if(this.terminals_[k0]&&k0>a)C0.push("'"+this.terminals_[k0]+"'");if(Q0.showPosition)h0="Parse error on line "+(e+1)+`:
`+Q0.showPosition()+`
Expecting `+C0.join(", ")+", got '"+(this.terminals_[E0]||E0)+"'";else h0="Parse error on line "+(e+1)+": Unexpected "+(E0==z0?"end of input":"'"+(this.terminals_[E0]||E0)+"'");this.parseError(h0,{text:Q0.match,token:this.terminals_[E0]||E0,line:Q0.yylineno,loc:Y0,expected:C0})}if(B0[0]instanceof Array&&B0.length>1)throw Error("Parse Error: multiple actions possible at state: "+c0+", token: "+E0);switch(B0[0]){case 1:if(b.push(E0),u.push(Q0.yytext),h.push(Q0.yylloc),b.push(B0[1]),E0=null,!d){if(i=Q0.yyleng,r=Q0.yytext,e=Q0.yylineno,Y0=Q0.yylloc,U0>0)U0--}else E0=d,d=null;break;case 2:if(x0=this.productions_[B0[1]][1],s0.$=u[u.length-x0],s0._$={first_line:h[h.length-(x0||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(x0||1)].first_column,last_column:h[h.length-1].last_column},o)s0._$.range=[h[h.length-(x0||1)].range[0],h[h.length-1].range[1]];if(n0=this.performAction.apply(s0,[r,i,e,t.yy,B0[1],u,h].concat(J0)),typeof n0<"u")return n0;if(x0)b=b.slice(0,-1*x0*2),u=u.slice(0,-1*x0),h=h.slice(0,-1*x0);b.push(this.productions_[B0[1]][0]),u.push(s0.$),h.push(s0._$),f0=p[b[b.length-2]][b[b.length-1]],b.push(f0);break;case 3:return!0}}return!0},"parse")},T=function(){var f={EOF:1,parseError:I(function(x,b){if(this.yy.parser)this.yy.parser.parseError(x,b);else throw Error(x)},"parseError"),setInput:I(function(v,x){if(this.yy=x||this.yy||{},this._input=v,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var v=this._input[0];this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v;var x=v.match(/(?:\r\n?|\n).*/g);if(x)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),v},"input"),unput:I(function(v){var x=v.length,b=v.split(/(?:\r\n?|\n)/g);this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var y=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),b.length-1)this.yylineno-=b.length-1;var u=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===y.length?this.yylloc.first_column:0)+y[y.length-b.length].length-b[0].length:this.yylloc.first_column-x},this.options.ranges)this.yylloc.range=[u[0],u[0]+this.yyleng-x];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(v){this.unput(this.match.slice(v))},"less"),pastInput:I(function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var v=this.match;if(v.length<20)v+=this._input.substr(0,20-v.length);return(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var v=this.pastInput(),x=Array(v.length+1).join("-");return v+this.upcomingInput()+`
`+x+"^"},"showPosition"),test_match:I(function(v,x){var b,y,u;if(this.options.backtrack_lexer){if(u={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)u.yylloc.range=this.yylloc.range.slice(0)}if(y=v[0].match(/(?:\r\n?|\n).*/g),y)this.yylineno+=y.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+v[0].length},this.yytext+=v[0],this.match+=v[0],this.matches=v,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(v[0].length),this.matched+=v[0],b=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(b)return b;else if(this._backtrack){for(var h in u)this[h]=u[h];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var v,x,b,y;if(!this._more)this.yytext="",this.match="";var u=this._currentRules();for(var h=0;h<u.length;h++)if(b=this._input.match(this.rules[u[h]]),b&&(!x||b[0].length>x[0].length)){if(x=b,y=h,this.options.backtrack_lexer)if(v=this.test_match(b,u[h]),v!==!1)return v;else if(this._backtrack){x=!1;continue}else return!1;else if(!this.options.flex)break}if(x){if(v=this.test_match(x,u[y]),v!==!1)return v;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var x=this.next();if(x)return x;else return this.lex()},"lex"),begin:I(function(x){this.conditionStack.push(x)},"begin"),popState:I(function(){var x=this.conditionStack.length-1;if(x>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(x){if(x=this.conditionStack.length-1-Math.abs(x||0),x>=0)return this.conditionStack[x];else return"INITIAL"},"topState"),pushState:I(function(x){this.begin(x)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(x,b,y,u){var h=u;switch(y){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";break;case 18:return this.pushState("axis_data"),"Y_AXIS";break;case 19:return this.pushState("axis_band_data"),24;break;case 20:return 31;case 21:return this.pushState("data"),16;break;case 22:return this.pushState("data"),18;break;case 23:return this.pushState("data_inner"),24;break;case 24:return 27;case 25:return this.popState(),26;break;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return f}();P.lexer=T;function S(){this.yy={}}return I(S,"Parser"),S.prototype=P,P.Parser=S,new S}();$t.parser=$t;Ub8=$t;I(kt,"isBarPlot");I(vt,"isBandAxisData");I(zO,"isLinearAxisData");$h0=class{constructor(Z){this.parentGroup=Z}static{I(this,"TextDimensionCalculatorWithFont")}getMaxDimension(Z,J){if(!this.parentGroup)return{width:Z.reduce((X,U)=>Math.max(U.length,X),0)*J,height:J};let Q={width:0,height:0},K=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",J);for(let X of Z){let U=ap(K,1,X),Y=U?U.width:X.length*J,q=U?U.height:J;Q.width=Math.max(Q.width,Y),Q.height=Math.max(Q.height,q)}return K.remove(),Q}},kh0=class{constructor(Z,J,Q,K){this.axisConfig=Z,this.title=J,this.textDimensionCalculator=Q,this.axisThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{I(this,"BaseAxis")}setRange(Z){if(this.range=Z,this.axisPosition==="left"||this.axisPosition==="right")this.boundingRect.height=Z[1]-Z[0];else this.boundingRect.width=Z[1]-Z[0];this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(Z){this.axisPosition=Z,this.setRange(this.range)}getTickDistance(){let Z=this.getRange();return Math.abs(Z[0]-Z[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((Z)=>Z.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){if(Th0*this.getTickDistance()>this.outerPadding*2)this.outerPadding=Math.floor(Th0*this.getTickDistance()/2);this.recalculateScale()}calculateSpaceIfDrawnHorizontally(Z){let J=Z.height;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){let Q=this.getLabelDimension(),K=wh0*Z.width;this.outerPadding=Math.min(Q.width/2,K);let X=Q.height+this.axisConfig.labelPadding*2;if(this.labelTextHeight=Q.height,X<=J)J-=X,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){let Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width,this.boundingRect.height=Z.height-J}calculateSpaceIfDrawnVertical(Z){let J=Z.width;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){let Q=this.getLabelDimension(),K=wh0*Z.height;this.outerPadding=Math.min(Q.height/2,K);let X=Q.width+this.axisConfig.labelPadding*2;if(X<=J)J-=X,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){let Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width-J,this.boundingRect.height=Z.height}calculateSpace(Z){if(this.axisPosition==="left"||this.axisPosition==="right")this.calculateSpaceIfDrawnVertical(Z);else this.calculateSpaceIfDrawnHorizontally(Z);return this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}getDrawableElementsForLeftAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${J},${this.boundingRect.y} L ${J},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(J),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))});if(this.showTick){let J=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${J},${this.getScaleValue(Q)} L ${J-this.axisConfig.tickLength},${this.getScaleValue(Q)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForBottomAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.y+this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){let J=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J} L ${this.getScaleValue(Q)},${J+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForTopAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){let J=this.boundingRect.y;Z.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(Q)},${J+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");if(this.axisPosition==="bottom")return this.getDrawableElementsForBottomAxis();if(this.axisPosition==="top")return this.getDrawableElementsForTopAxis();return[]}},Yb8=class extends kh0{static{I(this,"BandAxis")}constructor(Z,J,Q,K,X){super(Z,K,X,J);this.categories=Q,this.scale=B2().domain(this.categories).range(this.getRange())}setRange(Z){super.setRange(Z)}recalculateScale(){this.scale=B2().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5),Z0.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(Z){return this.scale(Z)??this.getRange()[0]}},qb8=class extends kh0{static{I(this,"LinearAxis")}constructor(Z,J,Q,K,X){super(Z,K,X,J);this.domain=Q,this.scale=z5().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let Z=[...this.domain];if(this.axisPosition==="left")Z.reverse();this.scale=z5().domain(Z).range(this.getRange())}getScaleValue(Z){return this.scale(Z)}};I(_t,"getAxis");Wb8=class{constructor(Z,J,Q,K){this.textDimensionCalculator=Z,this.chartConfig=J,this.chartData=Q,this.chartThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{I(this,"ChartTitle")}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){let J=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),Q=Math.max(J.width,Z.width),K=J.height+2*this.chartConfig.titlePadding;if(J.width<=Q&&J.height<=K&&this.chartConfig.showTitle&&this.chartData.title)this.boundingRect.width=Q,this.boundingRect.height=K,this.showChartTitle=!0;return{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let Z=[];if(this.showChartTitle)Z.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]});return Z}};I(_h0,"getChartTitleComponent");Gb8=class{constructor(Z,J,Q,K,X){this.plotData=Z,this.xAxis=J,this.yAxis=Q,this.orientation=K,this.plotIndex=X}static{I(this,"LinePlot")}getDrawableElement(){let Z=this.plotData.data.map((Q)=>[this.xAxis.getScaleValue(Q[0]),this.yAxis.getScaleValue(Q[1])]),J;if(this.orientation==="horizontal")J=O5().y((Q)=>Q[0]).x((Q)=>Q[1])(Z);else J=O5().x((Q)=>Q[0]).y((Q)=>Q[1])(Z);if(!J)return[];return[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:J,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]}},zb8=class{constructor(Z,J,Q,K,X,U){this.barData=Z,this.boundingRect=J,this.xAxis=Q,this.yAxis=K,this.orientation=X,this.plotIndex=U}static{I(this,"BarPlot")}getDrawableElement(){let Z=this.barData.data.map((X)=>[this.xAxis.getScaleValue(X[0]),this.yAxis.getScaleValue(X[1])]),J=0.05,Q=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*0.95,K=Q/2;if(this.orientation==="horizontal")return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((X)=>({x:this.boundingRect.x,y:X[0]-K,height:Q,width:X[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}];return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((X)=>({x:X[0]-K,y:X[1],width:Q,height:this.boundingRect.y+this.boundingRect.height-X[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},Hb8=class{constructor(Z,J,Q){this.chartConfig=Z,this.chartData=J,this.chartThemeConfig=Q,this.boundingRect={x:0,y:0,width:0,height:0}}static{I(this,"BasePlot")}setAxes(Z,J){this.xAxis=Z,this.yAxis=J}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){return this.boundingRect.width=Z.width,this.boundingRect.height=Z.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let Z=[];for(let[J,Q]of this.chartData.plots.entries())switch(Q.type){case"line":{let K=new Gb8(Q,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break;case"bar":{let K=new zb8(Q,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break}return Z}};I(fh0,"getPlotComponent");Fb8=class{constructor(Z,J,Q,K){this.chartConfig=Z,this.chartData=J,this.componentStore={title:_h0(Z,J,Q,K),plot:fh0(Z,J,Q),xAxis:_t(J.xAxis,Z.xAxis,{titleColor:Q.xAxisTitleColor,labelColor:Q.xAxisLabelColor,tickColor:Q.xAxisTickColor,axisLineColor:Q.xAxisLineColor},K),yAxis:_t(J.yAxis,Z.yAxis,{titleColor:Q.yAxisTitleColor,labelColor:Q.yAxisLabelColor,tickColor:Q.yAxisTickColor,axisLineColor:Q.yAxisLineColor},K)}}static{I(this,"Orchestrator")}calculateVerticalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,X=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),U=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),Y=this.componentStore.plot.calculateSpace({width:X,height:U});if(Z-=Y.width,J-=Y.height,Y=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),K=Y.height,J-=Y.height,this.componentStore.xAxis.setAxisPosition("bottom"),Y=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),J-=Y.height,this.componentStore.yAxis.setAxisPosition("left"),Y=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),Q=Y.width,Z-=Y.width,Z>0)X+=Z,Z=0;if(J>0)U+=J,J=0;if(this.componentStore.plot.calculateSpace({width:X,height:U}),this.componentStore.plot.setBoundingBoxXY({x:Q,y:K}),this.componentStore.xAxis.setRange([Q,Q+X]),this.componentStore.xAxis.setBoundingBoxXY({x:Q,y:K+U}),this.componentStore.yAxis.setRange([K,K+U]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:K}),this.chartData.plots.some((q)=>kt(q)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,X=0,U=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),Y=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),q=this.componentStore.plot.calculateSpace({width:U,height:Y});if(Z-=q.width,J-=q.height,q=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),Q=q.height,J-=q.height,this.componentStore.xAxis.setAxisPosition("left"),q=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),Z-=q.width,K=q.width,this.componentStore.yAxis.setAxisPosition("top"),q=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),J-=q.height,X=Q+q.height,Z>0)U+=Z,Z=0;if(J>0)Y+=J,J=0;if(this.componentStore.plot.calculateSpace({width:U,height:Y}),this.componentStore.plot.setBoundingBoxXY({x:K,y:X}),this.componentStore.yAxis.setRange([K,K+U]),this.componentStore.yAxis.setBoundingBoxXY({x:K,y:Q}),this.componentStore.xAxis.setRange([X,X+Y]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:X}),this.chartData.plots.some((W)=>kt(W)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){if(this.chartConfig.chartOrientation==="horizontal")this.calculateHorizontalSpace();else this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let Z=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let J of Object.values(this.componentStore))Z.push(...J.getDrawableElements());return Z}},Mb8=class{static{I(this,"XYChartBuilder")}static build(Z,J,Q,K){return new Fb8(Z,J,Q,K).getDrawableElement()}},vA=yt(),xA=bt(),EZ=ht(),ft=xA.plotColorPalette.split(",").map((Z)=>Z.trim());I(bt,"getChartDefaultThemeConfig");I(yt,"getChartDefaultConfig");I(ht,"getChartDefaultData");I(u_,"textSanitizer");I(xh0,"setTmpSVGG");I(bh0,"setOrientation");I(yh0,"setXAxisTitle");I(mt,"setXAxisRangeData");I(hh0,"setXAxisBand");I(mh0,"setYAxisTitle");I(uh0,"setYAxisRangeData");I(gh0,"setYAxisRangeFromPlotData");I(ut,"transformDataWithoutCategory");I(gt,"getPlotColorFromPalette");I(ph0,"setLineData");I(ch0,"setBarData");I(lh0,"getDrawableElem");I(dh0,"getChartThemeConfig");I(ih0,"getChartConfig");I(sh0,"getXYChartData");Bb8=I(function(){S9(),fA=0,vA=yt(),EZ=ht(),xA=bt(),ft=xA.plotColorPalette.split(",").map((Z)=>Z.trim()),m_=!1,xt=!1},"clear"),Ob8={getDrawableElem:lh0,clear:Bb8,setAccTitle:v9,getAccTitle:y9,setDiagramTitle:s9,getDiagramTitle:u9,getAccDescription:m9,setAccDescription:h9,setOrientation:bh0,setXAxisTitle:yh0,setXAxisRangeData:mt,setXAxisBand:hh0,setYAxisTitle:mh0,setYAxisRangeData:uh0,setLineData:ph0,setBarData:ch0,setTmpSVGG:xh0,getChartThemeConfig:dh0,getChartConfig:ih0,getXYChartData:sh0},Rb8=I((Z,J,Q,K)=>{let X=K.db,U=X.getChartThemeConfig(),Y=X.getChartConfig(),q=X.getXYChartData().plots[0].data.map((A)=>A[1]);function W(A){return A==="top"?"text-before-edge":"middle"}I(W,"getDominantBaseLine");function G(A){return A==="left"?"start":A==="right"?"end":"middle"}I(G,"getTextAnchor");function z(A){return`translate(${A.x}, ${A.y}) rotate(${A.rotation||0})`}I(z,"getTextTransformation"),Z0.debug(`Rendering xychart chart
`+Z);let H=_7(J),F=H.append("g").attr("class","main"),M=F.append("rect").attr("width",Y.width).attr("height",Y.height).attr("class","background");PZ(H,Y.height,Y.width,!0),H.attr("viewBox",`0 0 ${Y.width} ${Y.height}`),M.attr("fill",U.backgroundColor),X.setTmpSVGG(H.append("g").attr("class","mermaid-tmp-group"));let B=X.getDrawableElem(),O={};function R(A){let V=F,N="";for(let[E]of A.entries()){let j=F;if(E>0&&O[N])j=O[N];if(N+=A[E],V=O[N],!V)V=O[N]=j.append("g").attr("class",A[E])}return V}I(R,"getGroup");for(let A of B){if(A.data.length===0)continue;let V=R(A.groupTexts);switch(A.type){case"rect":if(V.selectAll("rect").data(A.data).enter().append("rect").attr("x",(N)=>N.x).attr("y",(N)=>N.y).attr("width",(N)=>N.width).attr("height",(N)=>N.height).attr("fill",(N)=>N.fill).attr("stroke",(N)=>N.strokeFill).attr("stroke-width",(N)=>N.strokeWidth),Y.showDataLabel)if(Y.chartOrientation==="horizontal"){let N=function(k,w){let{data:P,label:T}=k;return w*T.length*E<=P.width-10};var D=N;I(N,"fitsHorizontally");let E=0.7,j=A.data.map((k,w)=>({data:k,label:q[w].toString()})).filter((k)=>k.data.width>0&&k.data.height>0),C=j.map((k)=>{let{data:w}=k,P=w.height*0.7;while(!N(k,P)&&P>0)P-=1;return P}),$=Math.floor(Math.min(...C));V.selectAll("text").data(j).enter().append("text").attr("x",(k)=>k.data.x+k.data.width-10).attr("y",(k)=>k.data.y+k.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${$}px`).text((k)=>k.label)}else{let N=function(k,w,P){let{data:T,label:S}=k,f=0.7,v=w*S.length*0.7,x=T.x+T.width/2,b=x-v/2,y=x+v/2,u=b>=T.x&&y<=T.x+T.width,h=T.y+P+w<=T.y+T.height;return u&&h};var L=N;I(N,"fitsInBar");let E=10,j=A.data.map((k,w)=>({data:k,label:q[w].toString()})).filter((k)=>k.data.width>0&&k.data.height>0),C=j.map((k)=>{let{data:w,label:P}=k,T=w.width/(P.length*0.7);while(!N(k,T,E)&&T>0)T-=1;return T}),$=Math.floor(Math.min(...C));V.selectAll("text").data(j).enter().append("text").attr("x",(k)=>k.data.x+k.data.width/2).attr("y",(k)=>k.data.y+E).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${$}px`).text((k)=>k.label)}break;case"text":V.selectAll("text").data(A.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",(N)=>N.fill).attr("font-size",(N)=>N.fontSize).attr("dominant-baseline",(N)=>W(N.verticalPos)).attr("text-anchor",(N)=>G(N.horizontalPos)).attr("transform",(N)=>z(N)).text((N)=>N.text);break;case"path":V.selectAll("path").data(A.data).enter().append("path").attr("d",(N)=>N.path).attr("fill",(N)=>N.fill?N.fill:"none").attr("stroke",(N)=>N.strokeFill).attr("stroke-width",(N)=>N.strokeWidth);break}}},"draw"),Db8={draw:Rb8},Lb8={parser:Ub8,db:Ob8,renderer:Db8}});var oh0={};z9(oh0,{diagram:()=>Pb8});var pt,Ib8,Ab8,Nb8,Eb8,ah0,Vb8,Pb8;var th0=_(()=>{S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();pt=function(){var Z=I(function(F0,I0,s,H0){for(s=s||{},H0=F0.length;H0--;s[F0[H0]]=I0);return s},"o"),J=[1,3],Q=[1,4],K=[1,5],X=[1,6],U=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],Y=[1,22],q=[2,7],W=[1,26],G=[1,27],z=[1,28],H=[1,29],F=[1,33],M=[1,34],B=[1,35],O=[1,36],R=[1,37],D=[1,38],L=[1,24],A=[1,31],V=[1,32],N=[1,30],E=[1,39],j=[1,40],C=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],$=[1,61],k=[89,90],w=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],P=[27,29],T=[1,70],S=[1,71],f=[1,72],v=[1,73],x=[1,74],b=[1,75],y=[1,76],u=[1,83],h=[1,80],p=[1,84],r=[1,85],e=[1,86],i=[1,87],U0=[1,88],a=[1,89],z0=[1,90],J0=[1,91],Q0=[1,92],t=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],n=[63,64],Y0=[1,101],o=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],M0=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],X0=[1,110],E0=[1,106],d=[1,107],c0=[1,108],B0=[1,109],y0=[1,111],n0=[1,116],s0=[1,117],k0=[1,114],x0=[1,115],f0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:I(function(I0,s,H0,m,q0,W0,V0){var L0=W0.length-1;switch(q0){case 4:this.$=W0[L0].trim(),m.setAccTitle(this.$);break;case 5:case 6:this.$=W0[L0].trim(),m.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:m.setDirection("TB");break;case 18:m.setDirection("BT");break;case 19:m.setDirection("RL");break;case 20:m.setDirection("LR");break;case 21:m.addRequirement(W0[L0-3],W0[L0-4]);break;case 22:m.addRequirement(W0[L0-5],W0[L0-6]),m.setClass([W0[L0-5]],W0[L0-3]);break;case 23:m.setNewReqId(W0[L0-2]);break;case 24:m.setNewReqText(W0[L0-2]);break;case 25:m.setNewReqRisk(W0[L0-2]);break;case 26:m.setNewReqVerifyMethod(W0[L0-2]);break;case 29:this.$=m.RequirementType.REQUIREMENT;break;case 30:this.$=m.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=m.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=m.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=m.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=m.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=m.RiskLevel.LOW_RISK;break;case 36:this.$=m.RiskLevel.MED_RISK;break;case 37:this.$=m.RiskLevel.HIGH_RISK;break;case 38:this.$=m.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=m.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=m.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=m.VerifyType.VERIFY_TEST;break;case 42:m.addElement(W0[L0-3]);break;case 43:m.addElement(W0[L0-5]),m.setClass([W0[L0-5]],W0[L0-3]);break;case 44:m.setNewElementType(W0[L0-2]);break;case 45:m.setNewElementDocRef(W0[L0-2]);break;case 48:m.addRelationship(W0[L0-2],W0[L0],W0[L0-4]);break;case 49:m.addRelationship(W0[L0-2],W0[L0-4],W0[L0]);break;case 50:this.$=m.Relationships.CONTAINS;break;case 51:this.$=m.Relationships.COPIES;break;case 52:this.$=m.Relationships.DERIVES;break;case 53:this.$=m.Relationships.SATISFIES;break;case 54:this.$=m.Relationships.VERIFIES;break;case 55:this.$=m.Relationships.REFINES;break;case 56:this.$=m.Relationships.TRACES;break;case 57:this.$=W0[L0-2],m.defineClass(W0[L0-1],W0[L0]);break;case 58:m.setClass(W0[L0-1],W0[L0]);break;case 59:m.setClass([W0[L0-2]],W0[L0]);break;case 60:case 62:this.$=[W0[L0]];break;case 61:case 63:this.$=W0[L0-2].concat([W0[L0]]);break;case 64:this.$=W0[L0-2],m.setCssStyle(W0[L0-1],W0[L0]);break;case 65:this.$=[W0[L0]];break;case 66:W0[L0-2].push(W0[L0]),this.$=W0[L0-2];break;case 68:this.$=W0[L0-1]+W0[L0];break}},"anonymous"),table:[{3:1,4:2,6:J,9:Q,11:K,13:X},{1:[3]},{3:8,4:2,5:[1,7],6:J,9:Q,11:K,13:X},{5:[1,9]},{10:[1,10]},{12:[1,11]},Z(U,[2,6]),{3:12,4:2,6:J,9:Q,11:K,13:X},{1:[2,2]},{4:17,5:Y,7:13,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},Z(U,[2,4]),Z(U,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:Y,7:42,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:43,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:44,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:45,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:46,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:47,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:48,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:49,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{4:17,5:Y,7:50,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:D,54:L,72:A,74:V,77:N,89:E,90:j},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},Z(C,[2,17]),Z(C,[2,18]),Z(C,[2,19]),Z(C,[2,20]),{30:60,33:62,75:$,89:E,90:j},{30:63,33:62,75:$,89:E,90:j},{30:64,33:62,75:$,89:E,90:j},Z(k,[2,29]),Z(k,[2,30]),Z(k,[2,31]),Z(k,[2,32]),Z(k,[2,33]),Z(k,[2,34]),Z(w,[2,81]),Z(w,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},Z(P,[2,79]),Z(P,[2,80]),{27:[1,67],29:[1,68]},Z(P,[2,85]),Z(P,[2,86]),{62:69,65:T,66:S,67:f,68:v,69:x,70:b,71:y},{62:77,65:T,66:S,67:f,68:v,69:x,70:b,71:y},{30:78,33:62,75:$,89:E,90:j},{73:79,75:u,76:h,78:81,79:82,80:p,81:r,82:e,83:i,84:U0,85:a,86:z0,87:J0,88:Q0},Z(t,[2,60]),Z(t,[2,62]),{73:93,75:u,76:h,78:81,79:82,80:p,81:r,82:e,83:i,84:U0,85:a,86:z0,87:J0,88:Q0},{30:94,33:62,75:$,76:h,89:E,90:j},{5:[1,95]},{30:96,33:62,75:$,89:E,90:j},{5:[1,97]},{30:98,33:62,75:$,89:E,90:j},{63:[1,99]},Z(n,[2,50]),Z(n,[2,51]),Z(n,[2,52]),Z(n,[2,53]),Z(n,[2,54]),Z(n,[2,55]),Z(n,[2,56]),{64:[1,100]},Z(C,[2,59],{76:h}),Z(C,[2,64],{76:Y0}),{33:103,75:[1,102],89:E,90:j},Z(o,[2,65],{79:104,75:u,80:p,81:r,82:e,83:i,84:U0,85:a,86:z0,87:J0,88:Q0}),Z(M0,[2,67]),Z(M0,[2,69]),Z(M0,[2,70]),Z(M0,[2,71]),Z(M0,[2,72]),Z(M0,[2,73]),Z(M0,[2,74]),Z(M0,[2,75]),Z(M0,[2,76]),Z(M0,[2,77]),Z(M0,[2,78]),Z(C,[2,57],{76:Y0}),Z(C,[2,58],{76:h}),{5:X0,28:105,31:E0,34:d,36:c0,38:B0,40:y0},{27:[1,112],76:h},{5:n0,40:s0,56:113,57:k0,59:x0},{27:[1,118],76:h},{33:119,89:E,90:j},{33:120,89:E,90:j},{75:u,78:121,79:82,80:p,81:r,82:e,83:i,84:U0,85:a,86:z0,87:J0,88:Q0},Z(t,[2,61]),Z(t,[2,63]),Z(M0,[2,68]),Z(C,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:X0,28:126,31:E0,34:d,36:c0,38:B0,40:y0},Z(C,[2,28]),{5:[1,127]},Z(C,[2,42]),{32:[1,128]},{32:[1,129]},{5:n0,40:s0,56:130,57:k0,59:x0},Z(C,[2,47]),{5:[1,131]},Z(C,[2,48]),Z(C,[2,49]),Z(o,[2,66],{79:104,75:u,80:p,81:r,82:e,83:i,84:U0,85:a,86:z0,87:J0,88:Q0}),{33:132,89:E,90:j},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},Z(C,[2,27]),{5:X0,28:145,31:E0,34:d,36:c0,38:B0,40:y0},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},Z(C,[2,46]),{5:n0,40:s0,56:152,57:k0,59:x0},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},Z(C,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},Z(C,[2,43]),{5:X0,28:159,31:E0,34:d,36:c0,38:B0,40:y0},{5:X0,28:160,31:E0,34:d,36:c0,38:B0,40:y0},{5:X0,28:161,31:E0,34:d,36:c0,38:B0,40:y0},{5:X0,28:162,31:E0,34:d,36:c0,38:B0,40:y0},{5:n0,40:s0,56:163,57:k0,59:x0},{5:n0,40:s0,56:164,57:k0,59:x0},Z(C,[2,23]),Z(C,[2,24]),Z(C,[2,25]),Z(C,[2,26]),Z(C,[2,44]),Z(C,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:I(function(I0,s){if(s.recoverable)this.trace(I0);else{var H0=Error(I0);throw H0.hash=s,H0}},"parseError"),parse:I(function(I0){var s=this,H0=[0],m=[],q0=[null],W0=[],V0=this.table,L0="",D0=0,_0=0,T0=0,m0=2,t0=1,H8=W0.slice.call(arguments,1),r0=Object.create(this.lexer),u0={yy:{}};for(var o0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,o0))u0.yy[o0]=this.yy[o0];if(r0.setInput(I0,u0.yy),u0.yy.lexer=r0,u0.yy.parser=this,typeof r0.yylloc>"u")r0.yylloc={};var d0=r0.yylloc;W0.push(d0);var U8=r0.options&&r0.options.ranges;if(typeof u0.yy.parseError==="function")this.parseError=u0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function u8(G9){H0.length=H0.length-2*G9,q0.length=q0.length-G9,W0.length=W0.length-G9}I(u8,"popStack");function O8(){var G9=m.pop()||r0.lex()||t0;if(typeof G9!=="number"){if(G9 instanceof Array)m=G9,G9=m.pop();G9=s.symbols_[G9]||G9}return G9}I(O8,"lex");var S8,W8,q8,F8,R8,D8,G8={},a9,f8,o9,p9;while(!0){if(q8=H0[H0.length-1],this.defaultActions[q8])F8=this.defaultActions[q8];else{if(S8===null||typeof S8>"u")S8=O8();F8=V0[q8]&&V0[q8][S8]}if(typeof F8>"u"||!F8.length||!F8[0]){var F9="";p9=[];for(a9 in V0[q8])if(this.terminals_[a9]&&a9>m0)p9.push("'"+this.terminals_[a9]+"'");if(r0.showPosition)F9="Parse error on line "+(D0+1)+`:
`+r0.showPosition()+`
Expecting `+p9.join(", ")+", got '"+(this.terminals_[S8]||S8)+"'";else F9="Parse error on line "+(D0+1)+": Unexpected "+(S8==t0?"end of input":"'"+(this.terminals_[S8]||S8)+"'");this.parseError(F9,{text:r0.match,token:this.terminals_[S8]||S8,line:r0.yylineno,loc:d0,expected:p9})}if(F8[0]instanceof Array&&F8.length>1)throw Error("Parse Error: multiple actions possible at state: "+q8+", token: "+S8);switch(F8[0]){case 1:if(H0.push(S8),q0.push(r0.yytext),W0.push(r0.yylloc),H0.push(F8[1]),S8=null,!W8){if(_0=r0.yyleng,L0=r0.yytext,D0=r0.yylineno,d0=r0.yylloc,T0>0)T0--}else S8=W8,W8=null;break;case 2:if(f8=this.productions_[F8[1]][1],G8.$=q0[q0.length-f8],G8._$={first_line:W0[W0.length-(f8||1)].first_line,last_line:W0[W0.length-1].last_line,first_column:W0[W0.length-(f8||1)].first_column,last_column:W0[W0.length-1].last_column},U8)G8._$.range=[W0[W0.length-(f8||1)].range[0],W0[W0.length-1].range[1]];if(D8=this.performAction.apply(G8,[L0,_0,D0,u0.yy,F8[1],q0,W0].concat(H8)),typeof D8<"u")return D8;if(f8)H0=H0.slice(0,-1*f8*2),q0=q0.slice(0,-1*f8),W0=W0.slice(0,-1*f8);H0.push(this.productions_[F8[1]][0]),q0.push(G8.$),W0.push(G8._$),o9=V0[H0[H0.length-2]][H0[H0.length-1]],H0.push(o9);break;case 3:return!0}}return!0},"parse")},C0=function(){var F0={EOF:1,parseError:I(function(s,H0){if(this.yy.parser)this.yy.parser.parseError(s,H0);else throw Error(s)},"parseError"),setInput:I(function(I0,s){if(this.yy=s||this.yy||{},this._input=I0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var I0=this._input[0];this.yytext+=I0,this.yyleng++,this.offset++,this.match+=I0,this.matched+=I0;var s=I0.match(/(?:\r\n?|\n).*/g);if(s)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),I0},"input"),unput:I(function(I0){var s=I0.length,H0=I0.split(/(?:\r\n?|\n)/g);this._input=I0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-s),this.offset-=s;var m=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H0.length-1)this.yylineno-=H0.length-1;var q0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H0?(H0.length===m.length?this.yylloc.first_column:0)+m[m.length-H0.length].length-H0[0].length:this.yylloc.first_column-s},this.options.ranges)this.yylloc.range=[q0[0],q0[0]+this.yyleng-s];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(I0){this.unput(this.match.slice(I0))},"less"),pastInput:I(function(){var I0=this.matched.substr(0,this.matched.length-this.match.length);return(I0.length>20?"...":"")+I0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var I0=this.match;if(I0.length<20)I0+=this._input.substr(0,20-I0.length);return(I0.substr(0,20)+(I0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var I0=this.pastInput(),s=Array(I0.length+1).join("-");return I0+this.upcomingInput()+`
`+s+"^"},"showPosition"),test_match:I(function(I0,s){var H0,m,q0;if(this.options.backtrack_lexer){if(q0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)q0.yylloc.range=this.yylloc.range.slice(0)}if(m=I0[0].match(/(?:\r\n?|\n).*/g),m)this.yylineno+=m.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I0[0].length},this.yytext+=I0[0],this.match+=I0[0],this.matches=I0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(I0[0].length),this.matched+=I0[0],H0=this.performAction.call(this,this.yy,this,s,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(H0)return H0;else if(this._backtrack){for(var W0 in q0)this[W0]=q0[W0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var I0,s,H0,m;if(!this._more)this.yytext="",this.match="";var q0=this._currentRules();for(var W0=0;W0<q0.length;W0++)if(H0=this._input.match(this.rules[q0[W0]]),H0&&(!s||H0[0].length>s[0].length)){if(s=H0,m=W0,this.options.backtrack_lexer)if(I0=this.test_match(H0,q0[W0]),I0!==!1)return I0;else if(this._backtrack){s=!1;continue}else return!1;else if(!this.options.flex)break}if(s){if(I0=this.test_match(s,q0[m]),I0!==!1)return I0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var s=this.next();if(s)return s;else return this.lex()},"lex"),begin:I(function(s){this.conditionStack.push(s)},"begin"),popState:I(function(){var s=this.conditionStack.length-1;if(s>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(s){if(s=this.conditionStack.length-1-Math.abs(s||0),s>=0)return this.conditionStack[s];else return"INITIAL"},"topState"),pushState:I(function(s){this.begin(s)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(s,H0,m,q0){var W0=q0;switch(m){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return H0.yytext=H0.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return F0}();f0.lexer=C0;function h0(){this.yy={}}return I(h0,"Parser"),h0.prototype=f0,f0.Parser=h0,new h0}();pt.parser=pt;Ib8=pt,Ab8=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=v9,this.getAccTitle=y9,this.setAccDescription=h9,this.getAccDescription=m9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getConfig=I(()=>N0().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{I(this,"RequirementDB")}getDirection(){return this.direction}setDirection(Z){this.direction=Z}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(Z,J){if(!this.requirements.has(Z))this.requirements.set(Z,{name:Z,type:J,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]});return this.resetLatestRequirement(),this.requirements.get(Z)}getRequirements(){return this.requirements}setNewReqId(Z){if(this.latestRequirement!==void 0)this.latestRequirement.requirementId=Z}setNewReqText(Z){if(this.latestRequirement!==void 0)this.latestRequirement.text=Z}setNewReqRisk(Z){if(this.latestRequirement!==void 0)this.latestRequirement.risk=Z}setNewReqVerifyMethod(Z){if(this.latestRequirement!==void 0)this.latestRequirement.verifyMethod=Z}addElement(Z){if(!this.elements.has(Z))this.elements.set(Z,{name:Z,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),Z0.info("Added new element: ",Z);return this.resetLatestElement(),this.elements.get(Z)}getElements(){return this.elements}setNewElementType(Z){if(this.latestElement!==void 0)this.latestElement.type=Z}setNewElementDocRef(Z){if(this.latestElement!==void 0)this.latestElement.docRef=Z}addRelationship(Z,J,Q){this.relations.push({type:Z,src:J,dst:Q})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,S9()}setCssStyle(Z,J){for(let Q of Z){let K=this.requirements.get(Q)??this.elements.get(Q);if(!J||!K)return;for(let X of J)if(X.includes(","))K.cssStyles.push(...X.split(","));else K.cssStyles.push(X)}}setClass(Z,J){for(let Q of Z){let K=this.requirements.get(Q)??this.elements.get(Q);if(K)for(let X of J){K.classes.push(X);let U=this.classes.get(X)?.styles;if(U)K.cssStyles.push(...U)}}}defineClass(Z,J){for(let Q of Z){let K=this.classes.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.classes.set(Q,K);if(J)J.forEach(function(X){if(/color/.exec(X)){let U=X.replace("fill","bgFill");K.textStyles.push(U)}K.styles.push(X)});this.requirements.forEach((X)=>{if(X.classes.includes(Q))X.cssStyles.push(...J.flatMap((U)=>U.split(",")))}),this.elements.forEach((X)=>{if(X.classes.includes(Q))X.cssStyles.push(...J.flatMap((U)=>U.split(",")))})}}getClasses(){return this.classes}getData(){let Z=N0(),J=[],Q=[];for(let K of this.requirements.values()){let X=K;X.id=K.name,X.cssStyles=K.cssStyles,X.cssClasses=K.classes.join(" "),X.shape="requirementBox",X.look=Z.look,J.push(X)}for(let K of this.elements.values()){let X=K;X.shape="requirementBox",X.look=Z.look,X.id=K.name,X.cssStyles=K.cssStyles,X.cssClasses=K.classes.join(" "),J.push(X)}for(let K of this.relations){let X=0,U=K.type===this.Relationships.CONTAINS,Y={id:`${K.src}-${K.dst}-${X}`,start:this.requirements.get(K.src)?.name??this.elements.get(K.src)?.name,end:this.requirements.get(K.dst)?.name??this.elements.get(K.dst)?.name,label:`&lt;&lt;${K.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",U?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:U?"normal":"dashed",arrowTypeStart:U?"requirement_contains":"",arrowTypeEnd:U?"":"requirement_arrow",look:Z.look};Q.push(Y),X++}return{nodes:J,edges:Q,other:{},config:Z,direction:this.getDirection()}}},Nb8=I((Z)=>`

  marker {
    fill: ${Z.relationColor};
    stroke: ${Z.relationColor};
  }

  marker.cross {
    stroke: ${Z.lineColor};
  }

  svg {
    font-family: ${Z.fontFamily};
    font-size: ${Z.fontSize};
  }

  .reqBox {
    fill: ${Z.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${Z.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${Z.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${Z.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${Z.relationLabelColor};
  }
  .divider {
    stroke: ${Z.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .label text,span {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .labelBkg {
    background-color: ${Z.edgeLabelBackground};
  }

`,"getStyles"),Eb8=Nb8,ah0={};F1(ah0,{draw:()=>Vb8});Vb8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing requirement diagram (unified)",J);let{securityLevel:X,state:U,layout:Y}=N0(),q=K.db.getData(),W=TK(J,X);q.type=K.type,q.layoutAlgorithm=rX(Y),q.nodeSpacing=U?.nodeSpacing??50,q.rankSpacing=U?.rankSpacing??50,q.markers=["requirement_contains","requirement_arrow"],q.diagramId=J,await EK(q,W);let G=8;n8.insertTitle(W,"requirementDiagramTitleText",U?.titleTopMargin??25,K.db.getDiagramTitle()),e6(W,G,"requirementDiagram",U?.useMaxWidth??!0)},"draw"),Pb8={parser:Ib8,get db(){return new Ab8},renderer:ah0,styles:Eb8}});var zm0={};z9(zm0,{diagram:()=>zy8});async function Xm0(Z,J){K8.bumpVerticalPos(10);let{startx:Q,stopx:K,message:X}=J,U=J8.splitBreaks(X).length,Y=JJ(X),q=Y?await oH(X,N0()):n8.calculateTextDimensions(X,tz(v0));if(!Y){let H=q.height/U;J.height+=H,K8.bumpVerticalPos(H)}let W,G=q.height-10,z=q.width;if(Q===K){if(W=K8.getVerticalPos()+G,!v0.rightAngles)G+=v0.boxMargin,W=K8.getVerticalPos()+G;G+=30;let H=J8.getMax(z/2,v0.width/2);K8.insert(Q-H,K8.getVerticalPos()-10+G,K+H,K8.getVerticalPos()+30+G)}else G+=v0.boxMargin,W=K8.getVerticalPos()+G,K8.insert(Q,W-10,K,W);return K8.bumpVerticalPos(G),J.height+=G,J.stopy=J.starty+J.height,K8.insert(J.fromBounds,J.starty,J.toBounds,J.stopy),W}function g5(Z,J,Q,K,X){K8.bumpVerticalPos(Q);let U=K;if(J.id&&J.message&&Z[J.id]){let Y=Z[J.id].width,q=tz(v0);J.message=n8.wrapLabel(`[${J.message}]`,Y-2*v0.wrapPadding,q),J.width=Y,J.wrap=!0;let W=n8.calculateTextDimensions(J.message,q),G=J8.getMax(W.height,v0.labelBoxHeight);U=K+G,Z0.debug(`${G} - ${J.message}`)}X(J),K8.bumpVerticalPos(U)}function qm0(Z,J,Q,K,X,U,Y){function q(z,H){if(z.x<X.get(Z.from).x)K8.insert(J.stopx-H,J.starty,J.startx,J.stopy+z.height/2+v0.noteMargin),J.stopx=J.stopx+H;else K8.insert(J.startx,J.starty,J.stopx+H,J.stopy+z.height/2+v0.noteMargin),J.stopx=J.stopx-H}I(q,"receiverAdjustment");function W(z,H){if(z.x<X.get(Z.to).x)K8.insert(J.startx-H,J.starty,J.stopx,J.stopy+z.height/2+v0.noteMargin),J.startx=J.startx+H;else K8.insert(J.stopx,J.starty,J.startx+H,J.stopy+z.height/2+v0.noteMargin),J.startx=J.startx-H}I(W,"senderAdjustment");let G=[g_.ACTOR,g_.CONTROL,g_.ENTITY,g_.DATABASE];if(U.get(Z.to)==K){let z=X.get(Z.to),H=G.includes(z.type)?oz/2+3:z.width/2+3;q(z,H),z.starty=Q-z.height/2,K8.bumpVerticalPos(z.height/2)}else if(Y.get(Z.from)==K){let z=X.get(Z.from);if(v0.mirrorActors){let H=G.includes(z.type)?oz/2:z.width/2;W(z,H)}z.stopy=Q-z.height/2,K8.bumpVerticalPos(z.height/2)}else if(Y.get(Z.to)==K){let z=X.get(Z.to);if(v0.mirrorActors){let H=G.includes(z.type)?oz/2+3:z.width/2+3;q(z,H)}z.stopy=Q-z.height/2,K8.bumpVerticalPos(z.height/2)}}async function Wm0(Z,J,Q){let K={};for(let X of J)if(Z.get(X.to)&&Z.get(X.from)){let U=Z.get(X.to);if(X.placement===Q.db.PLACEMENT.LEFTOF&&!U.prevActor)continue;if(X.placement===Q.db.PLACEMENT.RIGHTOF&&!U.nextActor)continue;let Y=X.placement!==void 0,q=!Y,W=Y?HO(v0):tz(v0),G=X.wrap?n8.wrapLabel(X.message,v0.width-2*v0.wrapPadding,W):X.message,H=(JJ(G)?await oH(X.message,N0()):n8.calculateTextDimensions(G,W)).width+2*v0.wrapPadding;if(q&&X.from===U.nextActor)K[X.to]=J8.getMax(K[X.to]||0,H);else if(q&&X.from===U.prevActor)K[X.from]=J8.getMax(K[X.from]||0,H);else if(q&&X.from===X.to)K[X.from]=J8.getMax(K[X.from]||0,H/2),K[X.to]=J8.getMax(K[X.to]||0,H/2);else if(X.placement===Q.db.PLACEMENT.RIGHTOF)K[X.from]=J8.getMax(K[X.from]||0,H);else if(X.placement===Q.db.PLACEMENT.LEFTOF)K[U.prevActor]=J8.getMax(K[U.prevActor]||0,H);else if(X.placement===Q.db.PLACEMENT.OVER){if(U.prevActor)K[U.prevActor]=J8.getMax(K[U.prevActor]||0,H/2);if(U.nextActor)K[X.from]=J8.getMax(K[X.from]||0,H/2)}}return Z0.debug("maxMessageWidthPerActor:",K),K}async function Gm0(Z,J,Q){let K=0;for(let U of Z.keys()){let Y=Z.get(U);if(Y.wrap)Y.description=n8.wrapLabel(Y.description,v0.width-2*v0.wrapPadding,lt(v0));let q=JJ(Y.description)?await oH(Y.description,N0()):n8.calculateTextDimensions(Y.description,lt(v0));Y.width=Y.wrap?v0.width:J8.getMax(v0.width,q.width+2*v0.wrapPadding),Y.height=Y.wrap?J8.getMax(q.height,v0.height):v0.height,K=J8.getMax(K,Y.height)}for(let U in J){let Y=Z.get(U);if(!Y)continue;let q=Z.get(Y.nextActor);if(!q){let H=J[U]+v0.actorMargin-Y.width/2;Y.margin=J8.getMax(H,v0.actorMargin);continue}let G=J[U]+v0.actorMargin-Y.width/2-q.width/2;Y.margin=J8.getMax(G,v0.actorMargin)}let X=0;return Q.forEach((U)=>{let Y=tz(v0),q=U.actorKeys.reduce((H,F)=>{return H+=Z.get(F).width+(Z.get(F).margin||0)},0),W=v0.boxMargin*8;if(q+=W,q-=2*v0.boxTextMargin,U.wrap)U.name=n8.wrapLabel(U.name,q-2*v0.wrapPadding,Y);let G=n8.calculateTextDimensions(U.name,Y);X=J8.getMax(G.height,X);let z=J8.getMax(q,G.width+2*v0.wrapPadding);if(U.margin=v0.boxTextMargin,q<z){let H=(z-q)/2;U.margin+=H}}),Q.forEach((U)=>U.textMaxHeight=X),J8.getMax(K,v0.height)}var it,ct,jb8,Cb8,Sb8,Tb8,g_,wb8,$b8,kb8,oz=36,yW="actor-top",hW="actor-bottom",c_="actor-box",bW="actor-man",bA,_b8,l_,p_,FO,Zm0,d9=-1,Jm0,fb8,vb8,xb8,bb8,yb8,hb8,mb8,ub8,gb8,pb8,cb8,lb8,db8,Qm0,ib8,sb8,rb8,nb8,ab8,ob8,tb8,Km0,eb8,iY,Zy8,tJ,v0,K8,Jy8,tz,HO,lt,Qy8,Ky8,dt,Um0,Ym0,d_,eh0,Xy8,Uy8,Yy8,qy8,Wy8,Gy8,zy8;var Hm0=_(()=>{OT();UD();Hs();jZ();T9();M9();A9();it=d7(T2(),1),ct=function(){var Z=I(function(Q0,t,n,Y0){for(n=n||{},Y0=Q0.length;Y0--;n[Q0[Y0]]=t);return n},"o"),J=[1,2],Q=[1,3],K=[1,4],X=[2,4],U=[1,9],Y=[1,11],q=[1,13],W=[1,14],G=[1,16],z=[1,17],H=[1,18],F=[1,24],M=[1,25],B=[1,26],O=[1,27],R=[1,28],D=[1,29],L=[1,30],A=[1,31],V=[1,32],N=[1,33],E=[1,34],j=[1,35],C=[1,36],$=[1,37],k=[1,38],w=[1,39],P=[1,41],T=[1,42],S=[1,43],f=[1,44],v=[1,45],x=[1,46],b=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],y=[2,71],u=[4,5,16,50,52,53],h=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],p=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],r=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],e=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],i=[69,70,71],U0=[1,127],a={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:I(function(t,n,Y0,o,M0,X0,E0){var d=X0.length-1;switch(M0){case 3:return o.apply(X0[d]),X0[d];break;case 4:case 9:this.$=[];break;case 5:case 10:X0[d-1].push(X0[d]),this.$=X0[d-1];break;case 6:case 7:case 11:case 12:this.$=X0[d];break;case 8:case 13:this.$=[];break;case 15:X0[d].type="createParticipant",this.$=X0[d];break;case 16:X0[d-1].unshift({type:"boxStart",boxData:o.parseBoxData(X0[d-2])}),X0[d-1].push({type:"boxEnd",boxText:X0[d-2]}),this.$=X0[d-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(X0[d-2]),sequenceIndexStep:Number(X0[d-1]),sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(X0[d-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:o.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:X0[d-1].actor};break;case 23:this.$={type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:X0[d-1].actor};break;case 29:o.setDiagramTitle(X0[d].substring(6)),this.$=X0[d].substring(6);break;case 30:o.setDiagramTitle(X0[d].substring(7)),this.$=X0[d].substring(7);break;case 31:this.$=X0[d].trim(),o.setAccTitle(this.$);break;case 32:case 33:this.$=X0[d].trim(),o.setAccDescription(this.$);break;case 34:X0[d-1].unshift({type:"loopStart",loopText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.LOOP_START}),X0[d-1].push({type:"loopEnd",loopText:X0[d-2],signalType:o.LINETYPE.LOOP_END}),this.$=X0[d-1];break;case 35:X0[d-1].unshift({type:"rectStart",color:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.RECT_START}),X0[d-1].push({type:"rectEnd",color:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.RECT_END}),this.$=X0[d-1];break;case 36:X0[d-1].unshift({type:"optStart",optText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.OPT_START}),X0[d-1].push({type:"optEnd",optText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.OPT_END}),this.$=X0[d-1];break;case 37:X0[d-1].unshift({type:"altStart",altText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.ALT_START}),X0[d-1].push({type:"altEnd",signalType:o.LINETYPE.ALT_END}),this.$=X0[d-1];break;case 38:X0[d-1].unshift({type:"parStart",parText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.PAR_START}),X0[d-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=X0[d-1];break;case 39:X0[d-1].unshift({type:"parStart",parText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.PAR_OVER_START}),X0[d-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=X0[d-1];break;case 40:X0[d-1].unshift({type:"criticalStart",criticalText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.CRITICAL_START}),X0[d-1].push({type:"criticalEnd",signalType:o.LINETYPE.CRITICAL_END}),this.$=X0[d-1];break;case 41:X0[d-1].unshift({type:"breakStart",breakText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.BREAK_START}),X0[d-1].push({type:"breakEnd",optText:o.parseMessage(X0[d-2]),signalType:o.LINETYPE.BREAK_END}),this.$=X0[d-1];break;case 43:this.$=X0[d-3].concat([{type:"option",optionText:o.parseMessage(X0[d-1]),signalType:o.LINETYPE.CRITICAL_OPTION},X0[d]]);break;case 45:this.$=X0[d-3].concat([{type:"and",parText:o.parseMessage(X0[d-1]),signalType:o.LINETYPE.PAR_AND},X0[d]]);break;case 47:this.$=X0[d-3].concat([{type:"else",altText:o.parseMessage(X0[d-1]),signalType:o.LINETYPE.ALT_ELSE},X0[d]]);break;case 48:X0[d-3].draw="participant",X0[d-3].type="addParticipant",X0[d-3].description=o.parseMessage(X0[d-1]),this.$=X0[d-3];break;case 49:X0[d-1].draw="participant",X0[d-1].type="addParticipant",this.$=X0[d-1];break;case 50:X0[d-3].draw="actor",X0[d-3].type="addParticipant",X0[d-3].description=o.parseMessage(X0[d-1]),this.$=X0[d-3];break;case 51:X0[d-1].draw="actor",X0[d-1].type="addParticipant",this.$=X0[d-1];break;case 52:X0[d-1].type="destroyParticipant",this.$=X0[d-1];break;case 53:X0[d-1].draw="participant",X0[d-1].type="addParticipant",this.$=X0[d-1];break;case 54:this.$=[X0[d-1],{type:"addNote",placement:X0[d-2],actor:X0[d-1].actor,text:X0[d]}];break;case 55:X0[d-2]=[].concat(X0[d-1],X0[d-1]).slice(0,2),X0[d-2][0]=X0[d-2][0].actor,X0[d-2][1]=X0[d-2][1].actor,this.$=[X0[d-1],{type:"addNote",placement:o.PLACEMENT.OVER,actor:X0[d-2].slice(0,2),text:X0[d]}];break;case 56:this.$=[X0[d-1],{type:"addLinks",actor:X0[d-1].actor,text:X0[d]}];break;case 57:this.$=[X0[d-1],{type:"addALink",actor:X0[d-1].actor,text:X0[d]}];break;case 58:this.$=[X0[d-1],{type:"addProperties",actor:X0[d-1].actor,text:X0[d]}];break;case 59:this.$=[X0[d-1],{type:"addDetails",actor:X0[d-1].actor,text:X0[d]}];break;case 62:this.$=[X0[d-2],X0[d]];break;case 63:this.$=X0[d];break;case 64:this.$=o.PLACEMENT.LEFTOF;break;case 65:this.$=o.PLACEMENT.RIGHTOF;break;case 66:this.$=[X0[d-4],X0[d-1],{type:"addMessage",from:X0[d-4].actor,to:X0[d-1].actor,signalType:X0[d-3],msg:X0[d],activate:!0},{type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:X0[d-1].actor}];break;case 67:this.$=[X0[d-4],X0[d-1],{type:"addMessage",from:X0[d-4].actor,to:X0[d-1].actor,signalType:X0[d-3],msg:X0[d]},{type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:X0[d-4].actor}];break;case 68:this.$=[X0[d-3],X0[d-1],{type:"addMessage",from:X0[d-3].actor,to:X0[d-1].actor,signalType:X0[d-2],msg:X0[d]}];break;case 69:this.$={type:"addParticipant",actor:X0[d-1],config:X0[d]};break;case 70:this.$=X0[d-1].trim();break;case 71:this.$={type:"addParticipant",actor:X0[d]};break;case 72:this.$=o.LINETYPE.SOLID_OPEN;break;case 73:this.$=o.LINETYPE.DOTTED_OPEN;break;case 74:this.$=o.LINETYPE.SOLID;break;case 75:this.$=o.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=o.LINETYPE.DOTTED;break;case 77:this.$=o.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=o.LINETYPE.SOLID_CROSS;break;case 79:this.$=o.LINETYPE.DOTTED_CROSS;break;case 80:this.$=o.LINETYPE.SOLID_POINT;break;case 81:this.$=o.LINETYPE.DOTTED_POINT;break;case 82:this.$=o.parseMessage(X0[d].trim().substring(1));break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],X,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:U,5:Y,8:8,9:10,12:12,13:q,14:W,17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},Z(b,[2,5]),{9:47,12:12,13:q,14:W,17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},Z(b,[2,7]),Z(b,[2,8]),Z(b,[2,14]),{12:48,50:$,52:k,53:w},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:x},{22:55,71:x},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},Z(b,[2,29]),Z(b,[2,30]),{32:[1,61]},{34:[1,62]},Z(b,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:x},{22:75,71:x},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:x},{22:92,71:x},{22:93,71:x},{22:94,71:x},Z([5,51,65,76,77,78,79,80,81,82,83,84,85,86],y),Z(b,[2,6]),Z(b,[2,15]),Z(u,[2,9],{10:95}),Z(b,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},Z(b,[2,21]),{5:[1,99]},{5:[1,100]},Z(b,[2,24]),Z(b,[2,25]),Z(b,[2,26]),Z(b,[2,27]),Z(b,[2,28]),Z(b,[2,31]),Z(b,[2,32]),Z(h,X,{7:101}),Z(h,X,{7:102}),Z(h,X,{7:103}),Z(p,X,{40:104,7:105}),Z(r,X,{42:106,7:107}),Z(r,X,{7:107,42:108}),Z(e,X,{45:109,7:110}),Z(h,X,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},Z([5,51],y,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:x},Z(i,[2,72]),Z(i,[2,73]),Z(i,[2,74]),Z(i,[2,75]),Z(i,[2,76]),Z(i,[2,77]),Z(i,[2,78]),Z(i,[2,79]),Z(i,[2,80]),Z(i,[2,81]),{22:123,71:x},{22:125,59:124,71:x},{71:[2,64]},{71:[2,65]},{57:126,86:U0},{57:128,86:U0},{57:129,86:U0},{57:130,86:U0},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:$,52:k,53:w},{5:[1,136]},Z(b,[2,19]),Z(b,[2,20]),Z(b,[2,22]),Z(b,[2,23]),{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,137],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,138],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,139],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{16:[1,140]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,46],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,49:[1,141],50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{16:[1,142]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,44],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,48:[1,143],50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{16:[1,144]},{16:[1,145]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,42],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,47:[1,146],50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{4:U,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,147],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:D,37:L,38:A,39:V,41:N,43:E,44:j,46:C,50:$,52:k,53:w,55:P,60:T,61:S,62:f,63:v,71:x},{15:[1,148]},Z(b,[2,49]),Z(b,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},Z(b,[2,51]),Z(b,[2,52]),{22:151,71:x},{22:152,71:x},{57:153,86:U0},{57:154,86:U0},{57:155,86:U0},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},Z(b,[2,16]),Z(u,[2,10]),{12:157,50:$,52:k,53:w},Z(u,[2,12]),Z(u,[2,13]),Z(b,[2,18]),Z(b,[2,34]),Z(b,[2,35]),Z(b,[2,36]),Z(b,[2,37]),{15:[1,158]},Z(b,[2,38]),{15:[1,159]},Z(b,[2,39]),Z(b,[2,40]),{15:[1,160]},Z(b,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:U0},{57:165,86:U0},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:x},Z(u,[2,11]),Z(p,X,{7:105,40:167}),Z(r,X,{7:107,42:168}),Z(e,X,{7:110,45:169}),Z(b,[2,48]),{5:[2,70]},Z(b,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:I(function(t,n){if(n.recoverable)this.trace(t);else{var Y0=Error(t);throw Y0.hash=n,Y0}},"parseError"),parse:I(function(t){var n=this,Y0=[0],o=[],M0=[null],X0=[],E0=this.table,d="",c0=0,B0=0,y0=0,n0=2,s0=1,k0=X0.slice.call(arguments,1),x0=Object.create(this.lexer),f0={yy:{}};for(var C0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,C0))f0.yy[C0]=this.yy[C0];if(x0.setInput(t,f0.yy),f0.yy.lexer=x0,f0.yy.parser=this,typeof x0.yylloc>"u")x0.yylloc={};var h0=x0.yylloc;X0.push(h0);var F0=x0.options&&x0.options.ranges;if(typeof f0.yy.parseError==="function")this.parseError=f0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function I0(r0){Y0.length=Y0.length-2*r0,M0.length=M0.length-r0,X0.length=X0.length-r0}I(I0,"popStack");function s(){var r0=o.pop()||x0.lex()||s0;if(typeof r0!=="number"){if(r0 instanceof Array)o=r0,r0=o.pop();r0=n.symbols_[r0]||r0}return r0}I(s,"lex");var H0,m,q0,W0,V0,L0,D0={},_0,T0,m0,t0;while(!0){if(q0=Y0[Y0.length-1],this.defaultActions[q0])W0=this.defaultActions[q0];else{if(H0===null||typeof H0>"u")H0=s();W0=E0[q0]&&E0[q0][H0]}if(typeof W0>"u"||!W0.length||!W0[0]){var H8="";t0=[];for(_0 in E0[q0])if(this.terminals_[_0]&&_0>n0)t0.push("'"+this.terminals_[_0]+"'");if(x0.showPosition)H8="Parse error on line "+(c0+1)+`:
`+x0.showPosition()+`
Expecting `+t0.join(", ")+", got '"+(this.terminals_[H0]||H0)+"'";else H8="Parse error on line "+(c0+1)+": Unexpected "+(H0==s0?"end of input":"'"+(this.terminals_[H0]||H0)+"'");this.parseError(H8,{text:x0.match,token:this.terminals_[H0]||H0,line:x0.yylineno,loc:h0,expected:t0})}if(W0[0]instanceof Array&&W0.length>1)throw Error("Parse Error: multiple actions possible at state: "+q0+", token: "+H0);switch(W0[0]){case 1:if(Y0.push(H0),M0.push(x0.yytext),X0.push(x0.yylloc),Y0.push(W0[1]),H0=null,!m){if(B0=x0.yyleng,d=x0.yytext,c0=x0.yylineno,h0=x0.yylloc,y0>0)y0--}else H0=m,m=null;break;case 2:if(T0=this.productions_[W0[1]][1],D0.$=M0[M0.length-T0],D0._$={first_line:X0[X0.length-(T0||1)].first_line,last_line:X0[X0.length-1].last_line,first_column:X0[X0.length-(T0||1)].first_column,last_column:X0[X0.length-1].last_column},F0)D0._$.range=[X0[X0.length-(T0||1)].range[0],X0[X0.length-1].range[1]];if(L0=this.performAction.apply(D0,[d,B0,c0,f0.yy,W0[1],M0,X0].concat(k0)),typeof L0<"u")return L0;if(T0)Y0=Y0.slice(0,-1*T0*2),M0=M0.slice(0,-1*T0),X0=X0.slice(0,-1*T0);Y0.push(this.productions_[W0[1]][0]),M0.push(D0.$),X0.push(D0._$),m0=E0[Y0[Y0.length-2]][Y0[Y0.length-1]],Y0.push(m0);break;case 3:return!0}}return!0},"parse")},z0=function(){var Q0={EOF:1,parseError:I(function(n,Y0){if(this.yy.parser)this.yy.parser.parseError(n,Y0);else throw Error(n)},"parseError"),setInput:I(function(t,n){if(this.yy=n||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var n=t.match(/(?:\r\n?|\n).*/g);if(n)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),t},"input"),unput:I(function(t){var n=t.length,Y0=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var o=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y0.length-1)this.yylineno-=Y0.length-1;var M0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y0?(Y0.length===o.length?this.yylloc.first_column:0)+o[o.length-Y0.length].length-Y0[0].length:this.yylloc.first_column-n},this.options.ranges)this.yylloc.range=[M0[0],M0[0]+this.yyleng-n];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(t){this.unput(this.match.slice(t))},"less"),pastInput:I(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var t=this.match;if(t.length<20)t+=this._input.substr(0,20-t.length);return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var t=this.pastInput(),n=Array(t.length+1).join("-");return t+this.upcomingInput()+`
`+n+"^"},"showPosition"),test_match:I(function(t,n){var Y0,o,M0;if(this.options.backtrack_lexer){if(M0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)M0.yylloc.range=this.yylloc.range.slice(0)}if(o=t[0].match(/(?:\r\n?|\n).*/g),o)this.yylineno+=o.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],Y0=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(Y0)return Y0;else if(this._backtrack){for(var X0 in M0)this[X0]=M0[X0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var t,n,Y0,o;if(!this._more)this.yytext="",this.match="";var M0=this._currentRules();for(var X0=0;X0<M0.length;X0++)if(Y0=this._input.match(this.rules[M0[X0]]),Y0&&(!n||Y0[0].length>n[0].length)){if(n=Y0,o=X0,this.options.backtrack_lexer)if(t=this.test_match(Y0,M0[X0]),t!==!1)return t;else if(this._backtrack){n=!1;continue}else return!1;else if(!this.options.flex)break}if(n){if(t=this.test_match(n,M0[o]),t!==!1)return t;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var n=this.next();if(n)return n;else return this.lex()},"lex"),begin:I(function(n){this.conditionStack.push(n)},"begin"),popState:I(function(){var n=this.conditionStack.length-1;if(n>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(n){if(n=this.conditionStack.length-1-Math.abs(n||0),n>=0)return this.conditionStack[n];else return"INITIAL"},"topState"),pushState:I(function(n){this.begin(n)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(n,Y0,o,M0){var X0=M0;switch(o){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;break;case 8:return 74;case 9:return this.popState(),this.popState(),75;break;case 10:return Y0.yytext=Y0.yytext.trim(),71;break;case 11:return Y0.yytext=Y0.yytext.trim(),this.begin("ALIAS"),71;break;case 12:return this.begin("LINE"),14;break;case 13:return this.begin("ID"),50;break;case 14:return this.begin("ID"),52;break;case 15:return 13;case 16:return this.begin("ID"),53;break;case 17:return Y0.yytext=Y0.yytext.trim(),this.begin("ALIAS"),71;break;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 19:return this.popState(),this.popState(),5;break;case 20:return this.begin("LINE"),36;break;case 21:return this.begin("LINE"),37;break;case 22:return this.begin("LINE"),38;break;case 23:return this.begin("LINE"),39;break;case 24:return this.begin("LINE"),49;break;case 25:return this.begin("LINE"),41;break;case 26:return this.begin("LINE"),43;break;case 27:return this.begin("LINE"),48;break;case 28:return this.begin("LINE"),44;break;case 29:return this.begin("LINE"),47;break;case 30:return this.begin("LINE"),46;break;case 31:return this.popState(),15;break;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;break;case 42:return this.begin("ID"),23;break;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;break;case 46:return this.popState(),"acc_title_value";break;case 47:return this.begin("acc_descr"),33;break;case 48:return this.popState(),"acc_descr_value";break;case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return Y0.yytext=Y0.yytext.trim(),71;break;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return Q0}();a.lexer=z0;function J0(){this.yy={}}return I(J0,"Parser"),J0.prototype=a,a.Parser=J0,new J0}();ct.parser=ct;jb8=ct,Cb8={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},Sb8={FILLED:0,OPEN:1},Tb8={LEFTOF:0,RIGHTOF:1,OVER:2},g_={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},wb8=class{constructor(){this.state=new PT(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=v9,this.setAccDescription=h9,this.setDiagramTitle=s9,this.getAccTitle=y9,this.getAccDescription=m9,this.getDiagramTitle=u9,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(N0().wrap),this.LINETYPE=Cb8,this.ARROWTYPE=Sb8,this.PLACEMENT=Tb8}static{I(this,"SequenceDB")}addBox(Z){this.state.records.boxes.push({name:Z.text,wrap:Z.wrap??this.autoWrap(),fill:Z.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(Z,J,Q,K,X){let U=this.state.records.currentBox,Y;if(X!==void 0){let W;if(!X.includes(`
`))W=`{
`+X+`
}`;else W=X+`
`;Y=y1(W,{schema:b1})}K=Y?.type??K;let q=this.state.records.actors.get(Z);if(q){if(this.state.records.currentBox&&q.box&&this.state.records.currentBox!==q.box)throw Error(`A same participant should only be defined in one Box: ${q.name} can't be in '${q.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(U=q.box?q.box:this.state.records.currentBox,q.box=U,q&&J===q.name&&Q==null)return}if(Q?.text==null)Q={text:J,type:K};if(K==null||Q.text==null)Q={text:J,type:K};if(this.state.records.actors.set(Z,{box:U,name:J,description:Q.text,wrap:Q.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:K??"participant"}),this.state.records.prevActor){let W=this.state.records.actors.get(this.state.records.prevActor);if(W)W.nextActor=Z}if(this.state.records.currentBox)this.state.records.currentBox.actorKeys.push(Z);this.state.records.prevActor=Z}activationCount(Z){let J,Q=0;if(!Z)return 0;for(J=0;J<this.state.records.messages.length;J++){if(this.state.records.messages[J].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[J].from===Z)Q++;if(this.state.records.messages[J].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[J].from===Z)Q--}return Q}addMessage(Z,J,Q,K){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:Z,to:J,message:Q.text,wrap:Q.wrap??this.autoWrap(),answer:K})}addSignal(Z,J,Q,K,X=!1){if(K===this.LINETYPE.ACTIVE_END){if(this.activationCount(Z??"")<1){let Y=Error("Trying to inactivate an inactive participant ("+Z+")");throw Y.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},Y}}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:Z,to:J,message:Q?.text??"",wrap:Q?.wrap??this.autoWrap(),type:K,activate:X}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some((Z)=>Z.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(Z){return this.state.records.actors.get(Z)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(Z){this.state.records.wrapEnabled=Z}extractWrap(Z){if(Z===void 0)return{};Z=Z.trim();let J=/^:?wrap:/.exec(Z)!==null?!0:/^:?nowrap:/.exec(Z)!==null?!1:void 0;return{cleanedText:(J===void 0?Z:Z.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:J}}autoWrap(){if(this.state.records.wrapEnabled!==void 0)return this.state.records.wrapEnabled;return N0().sequence?.wrap??!1}clear(){this.state.reset(),S9()}parseMessage(Z){let J=Z.trim(),{wrap:Q,cleanedText:K}=this.extractWrap(J),X={text:K,wrap:Q};return Z0.debug(`parseMessage: ${JSON.stringify(X)}`),X}parseBoxData(Z){let J=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(Z),Q=J?.[1]?J[1].trim():"transparent",K=J?.[2]?J[2].trim():void 0;if(window?.CSS){if(!window.CSS.supports("color",Q))Q="transparent",K=Z.trim()}else{let Y=new Option().style;if(Y.color=Q,Y.color!==Q)Q="transparent",K=Z.trim()}let{wrap:X,cleanedText:U}=this.extractWrap(K);return{text:U?R9(U,N0()):void 0,color:Q,wrap:X}}addNote(Z,J,Q){let K={actor:Z,placement:J,message:Q.text,wrap:Q.wrap??this.autoWrap()},X=[].concat(Z,Z);this.state.records.notes.push(K),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:X[0],to:X[1],message:Q.text,wrap:Q.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:J})}addLinks(Z,J){let Q=this.getActor(Z);try{let K=R9(J.text,N0());K=K.replace(/&equals;/g,"="),K=K.replace(/&amp;/g,"&");let X=JSON.parse(K);this.insertLinks(Q,X)}catch(K){Z0.error("error while parsing actor link text",K)}}addALink(Z,J){let Q=this.getActor(Z);try{let K={},X=R9(J.text,N0()),U=X.indexOf("@");X=X.replace(/&equals;/g,"="),X=X.replace(/&amp;/g,"&");let Y=X.slice(0,U-1).trim(),q=X.slice(U+1).trim();K[Y]=q,this.insertLinks(Q,K)}catch(K){Z0.error("error while parsing actor link text",K)}}insertLinks(Z,J){if(Z.links==null)Z.links=J;else for(let Q in J)Z.links[Q]=J[Q]}addProperties(Z,J){let Q=this.getActor(Z);try{let K=R9(J.text,N0()),X=JSON.parse(K);this.insertProperties(Q,X)}catch(K){Z0.error("error while parsing actor properties text",K)}}insertProperties(Z,J){if(Z.properties==null)Z.properties=J;else for(let Q in J)Z.properties[Q]=J[Q]}boxEnd(){this.state.records.currentBox=void 0}addDetails(Z,J){let Q=this.getActor(Z),K=document.getElementById(J.text);try{let X=K.innerHTML,U=JSON.parse(X);if(U.properties)this.insertProperties(Q,U.properties);if(U.links)this.insertLinks(Q,U.links)}catch(X){Z0.error("error while parsing actor details text",X)}}getActorProperty(Z,J){if(Z?.properties!==void 0)return Z.properties[J];return}apply(Z){if(Array.isArray(Z))Z.forEach((J)=>{this.apply(J)});else switch(Z.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:Z.sequenceIndex,step:Z.sequenceIndexStep,visible:Z.sequenceVisible},wrap:!1,type:Z.signalType});break;case"addParticipant":this.addActor(Z.actor,Z.actor,Z.description,Z.draw,Z.config);break;case"createParticipant":if(this.state.records.actors.has(Z.actor))throw Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=Z.actor,this.addActor(Z.actor,Z.actor,Z.description,Z.draw,Z.config),this.state.records.createdActors.set(Z.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=Z.actor,this.state.records.destroyedActors.set(Z.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(Z.actor,void 0,void 0,Z.signalType);break;case"activeEnd":this.addSignal(Z.actor,void 0,void 0,Z.signalType);break;case"addNote":this.addNote(Z.actor,Z.placement,Z.text);break;case"addLinks":this.addLinks(Z.actor,Z.text);break;case"addALink":this.addALink(Z.actor,Z.text);break;case"addProperties":this.addProperties(Z.actor,Z.text);break;case"addDetails":this.addDetails(Z.actor,Z.text);break;case"addMessage":if(this.state.records.lastCreated)if(Z.to!==this.state.records.lastCreated)throw Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");else this.state.records.lastCreated=void 0;else if(this.state.records.lastDestroyed)if(Z.to!==this.state.records.lastDestroyed&&Z.from!==this.state.records.lastDestroyed)throw Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");else this.state.records.lastDestroyed=void 0;this.addSignal(Z.from,Z.to,Z.msg,Z.signalType,Z.activate);break;case"boxStart":this.addBox(Z.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,Z.loopText,Z.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"rectStart":this.addSignal(void 0,void 0,Z.color,Z.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"optStart":this.addSignal(void 0,void 0,Z.optText,Z.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"altStart":this.addSignal(void 0,void 0,Z.altText,Z.signalType);break;case"else":this.addSignal(void 0,void 0,Z.altText,Z.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"setAccTitle":v9(Z.text);break;case"parStart":this.addSignal(void 0,void 0,Z.parText,Z.signalType);break;case"and":this.addSignal(void 0,void 0,Z.parText,Z.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,Z.criticalText,Z.signalType);break;case"option":this.addSignal(void 0,void 0,Z.optionText,Z.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"breakStart":this.addSignal(void 0,void 0,Z.breakText,Z.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break}}getConfig(){return N0().sequence}},$b8=I((Z)=>`.actor {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }

  text.actor > tspan {
    fill: ${Z.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${Z.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${Z.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${Z.signalColor};
  }

  #arrowhead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .sequenceNumber {
    fill: ${Z.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${Z.signalColor};
  }

  #crosshead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .messageText {
    fill: ${Z.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${Z.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${Z.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${Z.noteBorderColor};
    fill: ${Z.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${Z.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation1 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation2 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${Z.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),kb8=$b8,bA=I(function(Z,J){return Az(Z,J)},"drawRect"),_b8=I(function(Z,J,Q,K,X){if(J.links===void 0||J.links===null||Object.keys(J.links).length===0)return{height:0,width:0};let{links:U,actorCnt:Y,rectData:q}=J;var W="none";if(X)W="block !important";let G=Z.append("g");G.attr("id","actor"+Y+"_popup"),G.attr("class","actorPopupMenu"),G.attr("display",W);var z="";if(q.class!==void 0)z=" "+q.class;let H=q.width>Q?q.width:Q,F=G.append("rect");if(F.attr("class","actorPopupMenuPanel"+z),F.attr("x",q.x),F.attr("y",q.height),F.attr("fill",q.fill),F.attr("stroke",q.stroke),F.attr("width",H),F.attr("height",q.height),F.attr("rx",q.rx),F.attr("ry",q.ry),U!=null){var M=20;for(let R in U){var B=G.append("a"),O=it.sanitizeUrl(U[R]);B.attr("xlink:href",O),B.attr("target","_blank"),Zy8(K)(R,B,q.x+10,q.height+M,H,20,{class:"actor"},K),M+=30}}return F.attr("height",M),{height:q.height+M,width:H}},"drawPopup"),l_=I(function(Z){return"var pu = document.getElementById('"+Z+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),p_=I(async function(Z,J,Q=null){let K=Z.append("foreignObject"),X=await A1(J.text,L9()),Y=K.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(X).node().getBoundingClientRect();if(K.attr("height",Math.round(Y.height)).attr("width",Math.round(Y.width)),J.class==="noteText"){let q=Z.node().firstChild;q.setAttribute("height",Y.height+2*J.textMargin);let W=q.getBBox();K.attr("x",Math.round(W.x+W.width/2-Y.width/2)).attr("y",Math.round(W.y+W.height/2-Y.height/2))}else if(Q){let{startx:q,stopx:W,starty:G}=Q;if(q>W){let z=q;q=W,W=z}if(K.attr("x",Math.round(q+Math.abs(q-W)/2-Y.width/2)),J.class==="loopText")K.attr("y",Math.round(G));else K.attr("y",Math.round(G-Y.height))}return[K]},"drawKatex"),FO=I(function(Z,J){let Q=0,K=0,X=J.text.split(J8.lineBreakRegex),[U,Y]=$X(J.fontSize),q=[],W=0,G=I(()=>J.y,"yfunc");if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)switch(J.valign){case"top":case"start":G=I(()=>Math.round(J.y+J.textMargin),"yfunc");break;case"middle":case"center":G=I(()=>Math.round(J.y+(Q+K+J.textMargin)/2),"yfunc");break;case"bottom":case"end":G=I(()=>Math.round(J.y+(Q+K+2*J.textMargin)-J.textMargin),"yfunc");break}if(J.anchor!==void 0&&J.textMargin!==void 0&&J.width!==void 0)switch(J.anchor){case"left":case"start":J.x=Math.round(J.x+J.textMargin),J.anchor="start",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"middle":case"center":J.x=Math.round(J.x+J.width/2),J.anchor="middle",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"right":case"end":J.x=Math.round(J.x+J.width-J.textMargin),J.anchor="end",J.dominantBaseline="middle",J.alignmentBaseline="middle";break}for(let[z,H]of X.entries()){if(J.textMargin!==void 0&&J.textMargin===0&&U!==void 0)W=z*U;let F=Z.append("text");if(F.attr("x",J.x),F.attr("y",G()),J.anchor!==void 0)F.attr("text-anchor",J.anchor).attr("dominant-baseline",J.dominantBaseline).attr("alignment-baseline",J.alignmentBaseline);if(J.fontFamily!==void 0)F.style("font-family",J.fontFamily);if(Y!==void 0)F.style("font-size",Y);if(J.fontWeight!==void 0)F.style("font-weight",J.fontWeight);if(J.fill!==void 0)F.attr("fill",J.fill);if(J.class!==void 0)F.attr("class",J.class);if(J.dy!==void 0)F.attr("dy",J.dy);else if(W!==0)F.attr("dy",W);let M=H||Ap;if(J.tspan){let B=F.append("tspan");if(B.attr("x",J.x),J.fill!==void 0)B.attr("fill",J.fill);B.text(M)}else F.text(M);if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)K+=(F._groups||F)[0][0].getBBox().height,Q=K;q.push(F)}return q},"drawText"),Zm0=I(function(Z,J){function Q(X,U,Y,q,W){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-W)+" "+(X+Y-W*1.2)+","+(U+q)+" "+X+","+(U+q)}I(Q,"genPoints");let K=Z.append("polygon");return K.attr("points",Q(J.x,J.y,J.width,J.height,7)),K.attr("class","labelBox"),J.y=J.y+J.height/2,FO(Z,J),K},"drawLabel"),Jm0=I((Z,J,Q,K)=>{if(!Z.select)return;Q.forEach((X)=>{let U=J.get(X),Y=Z.select("#actor"+U.actorCnt);if(!K.mirrorActors&&U.stopy)Y.attr("y2",U.stopy+U.height/2);else if(K.mirrorActors)Y.attr("y2",U.stopy)})},"fixLifeLineHeights"),fb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+J.height,q=Z.append("g").lower();var W=q;if(!K){if(d9++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",l_(`actor${d9}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=d9,J.links!=null)W.attr("id","root-"+d9)}let G=_Q();var z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${hW}`;else z+=` ${yW}`;G.x=J.x,G.y=X,G.width=J.width,G.height=J.height,G.class=z,G.rx=3,G.ry=3,G.name=J.name;let H=bA(W,G);if(J.rectData=G,J.properties?.icon){let M=J.properties.icon.trim();if(M.charAt(0)==="@")MT(W,G.x+G.width-20,G.y+10,M.substr(1));else FT(W,G.x+G.width-20,G.y+10,M)}iY(Q,JJ(J.description))(J.description,W,G.x,G.y,G.width,G.height,{class:`actor ${c_}`},Q);let F=J.height;if(H.node){let M=H.node().getBBox();J.height=M.height,F=M.height}return F},"drawActorTypeParticipant"),vb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+J.height,q=Z.append("g").lower();var W=q;if(!K){if(d9++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",l_(`actor${d9}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=d9,J.links!=null)W.attr("id","root-"+d9)}let G=_Q();var z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${hW}`;else z+=` ${yW}`;G.x=J.x,G.y=X,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name;let H=6,F={...G,x:G.x+(K?-H:-H),y:G.y+(K?+H:+H),class:"actor"},M=bA(W,G);if(bA(W,F),J.rectData=G,J.properties?.icon){let O=J.properties.icon.trim();if(O.charAt(0)==="@")MT(W,G.x+G.width-20,G.y+10,O.substr(1));else FT(W,G.x+G.width-20,G.y+10,O)}iY(Q,JJ(J.description))(J.description,W,G.x-H,G.y+H,G.width,G.height,{class:`actor ${c_}`},Q);let B=J.height;if(M.node){let O=M.node().getBBox();J.height=O.height,B=O.height}return B},"drawActorTypeCollections"),xb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+J.height,q=Z.append("g").lower(),W=q;if(!K){if(d9++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",l_(`actor${d9}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=d9,J.links!=null)W.attr("id","root-"+d9)}let G=_Q(),z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${hW}`;else z+=` ${yW}`;G.x=J.x,G.y=X,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name;let H=G.height/2,F=H/(2.5+G.height/50),M=W.append("g"),B=W.append("g");if(M.append("path").attr("d",`M ${G.x},${G.y+H}
    a ${F},${H} 0 0 0 0,${G.height}
    h ${G.width-2*F}
    a ${F},${H} 0 0 0 0,-${G.height}
    Z
  `).attr("class",z),B.append("path").attr("d",`M ${G.x},${G.y+H}
      a ${F},${H} 0 0 0 0,${G.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",z),M.attr("transform",`translate(${F}, ${-(G.height/2)})`),B.attr("transform",`translate(${G.width-F}, ${-G.height/2})`),J.rectData=G,J.properties?.icon){let D=J.properties.icon.trim(),L=G.x+G.width-20,A=G.y+10;if(D.charAt(0)==="@")MT(W,L,A,D.substr(1));else FT(W,L,A,D)}iY(Q,JJ(J.description))(J.description,W,G.x,G.y,G.width,G.height,{class:`actor ${c_}`},Q);let O=J.height,R=M.select("path:last-child");if(R.node()){let D=R.node().getBBox();J.height=D.height,O=D.height}return O},"drawActorTypeQueue"),bb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+75,q=Z.append("g").lower();if(!K)d9++,q.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=d9;let W=Z.append("g"),G=bW;if(K)G+=` ${hW}`;else G+=` ${yW}`;W.attr("class",G),W.attr("name",J.name);let z=_Q();z.x=J.x,z.y=X,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor";let H=J.x+J.width/2,F=X+30,M=18;W.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),W.append("circle").attr("cx",H).attr("cy",F).attr("r",M).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),W.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${H}, ${F-M})`);let B=W.node().getBBox();return J.height=B.height+2*(Q?.sequence?.labelBoxHeight??0),iY(Q,JJ(J.description))(J.description,W,z.x,z.y+M+(K?5:10),z.width,z.height,{class:`actor ${bW}`},Q),J.height},"drawActorTypeControl"),yb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+75,q=Z.append("g").lower(),W=Z.append("g"),G=bW;if(K)G+=` ${hW}`;else G+=` ${yW}`;W.attr("class",G),W.attr("name",J.name);let z=_Q();z.x=J.x,z.y=X,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor";let H=J.x+J.width/2,F=X+(!K?25:10),M=18;W.append("circle").attr("cx",H).attr("cy",F).attr("r",M).attr("width",J.width).attr("height",J.height),W.append("line").attr("x1",H-M).attr("x2",H+M).attr("y1",F+M).attr("y2",F+M).attr("stroke","#333").attr("stroke-width",2);let B=W.node().getBBox();if(J.height=B.height+(Q?.sequence?.labelBoxHeight??0),!K)d9++,q.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=d9;if(iY(Q,JJ(J.description))(J.description,W,z.x,z.y+(!K?(F+M-X)/2:(F-X+M-5)/2),z.width,z.height,{class:`actor ${bW}`},Q),!K)W.attr("transform",`translate(0, ${M/2})`);else W.attr("transform",`translate(0, ${M/2})`);return J.height},"drawActorTypeEntity"),hb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+J.height+2*Q.boxTextMargin,q=Z.append("g").lower(),W=q;if(!K){if(d9++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",l_(`actor${d9}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=d9,J.links!=null)W.attr("id","root-"+d9)}let G=_Q(),z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${hW}`;else z+=` ${yW}`;G.x=J.x,G.y=X,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name,G.x=J.x,G.y=X;let H=G.width/4,F=G.width/4,M=H/2,B=M/(2.5+H/50),O=W.append("g"),R=`
  M ${G.x},${G.y+B}
  a ${M},${B} 0 0 0 ${H},0
  a ${M},${B} 0 0 0 -${H},0
  l 0,${F-2*B}
  a ${M},${B} 0 0 0 ${H},0
  l 0,-${F-2*B}
`;if(O.append("path").attr("d",R).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",z),!K)O.attr("transform",`translate(${H*1.5}, ${(G.height+B)/4})`);else O.attr("transform",`translate(${H*1.5}, ${G.height/4-2*B})`);J.rectData=G,iY(Q,JJ(J.description))(J.description,W,G.x,G.y+(!K?(G.height+B)/2:(G.height+F)/4),G.width,G.height,{class:`actor ${c_}`},Q);let D=O.select("path:last-child");if(D.node()){let L=D.node().getBBox();J.height=L.height+(Q.sequence.labelBoxHeight??0)}return J.height},"drawActorTypeDatabase"),mb8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+80,q=30,W=Z.append("g").lower();if(!K)d9++,W.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=d9;let G=Z.append("g"),z=bW;if(K)z+=` ${hW}`;else z+=` ${yW}`;G.attr("class",z),G.attr("name",J.name);let H=_Q();H.x=J.x,H.y=X,H.fill="#eaeaea",H.width=J.width,H.height=J.height,H.class="actor",G.append("line").attr("id","actor-man-torso"+d9).attr("x1",J.x+J.width/2-75).attr("y1",X+10).attr("x2",J.x+J.width/2-15).attr("y2",X+10),G.append("line").attr("id","actor-man-arms"+d9).attr("x1",J.x+J.width/2-75).attr("y1",X+0).attr("x2",J.x+J.width/2-75).attr("y2",X+20),G.append("circle").attr("cx",J.x+J.width/2).attr("cy",X+10).attr("r",30);let F=G.node().getBBox();if(J.height=F.height+(Q.sequence.labelBoxHeight??0),iY(Q,JJ(J.description))(J.description,G,H.x,H.y+(!K?18:11),H.width,H.height,{class:`actor ${bW}`},Q),!K)G.attr("transform","translate(0,22)");else G.attr("transform","translate(0,22)");return J.height},"drawActorTypeBoundary"),ub8=I(function(Z,J,Q,K){let X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+80,q=Z.append("g").lower();if(!K)d9++,q.append("line").attr("id","actor"+d9).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=d9;let W=Z.append("g"),G=bW;if(K)G+=` ${hW}`;else G+=` ${yW}`;W.attr("class",G),W.attr("name",J.name);let z=_Q();z.x=J.x,z.y=X,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor",z.rx=3,z.ry=3,W.append("line").attr("id","actor-man-torso"+d9).attr("x1",U).attr("y1",X+25).attr("x2",U).attr("y2",X+45),W.append("line").attr("id","actor-man-arms"+d9).attr("x1",U-oz/2).attr("y1",X+33).attr("x2",U+oz/2).attr("y2",X+33),W.append("line").attr("x1",U-oz/2).attr("y1",X+60).attr("x2",U).attr("y2",X+45),W.append("line").attr("x1",U).attr("y1",X+45).attr("x2",U+oz/2-2).attr("y2",X+60);let H=W.append("circle");H.attr("cx",J.x+J.width/2),H.attr("cy",X+10),H.attr("r",15),H.attr("width",J.width),H.attr("height",J.height);let F=W.node().getBBox();return J.height=F.height,iY(Q,JJ(J.description))(J.description,W,z.x,z.y+35,z.width,z.height,{class:`actor ${bW}`},Q),J.height},"drawActorTypeActor"),gb8=I(async function(Z,J,Q,K){switch(J.type){case"actor":return await ub8(Z,J,Q,K);case"participant":return await fb8(Z,J,Q,K);case"boundary":return await mb8(Z,J,Q,K);case"control":return await bb8(Z,J,Q,K);case"entity":return await yb8(Z,J,Q,K);case"database":return await hb8(Z,J,Q,K);case"collections":return await vb8(Z,J,Q,K);case"queue":return await xb8(Z,J,Q,K)}},"drawActor"),pb8=I(function(Z,J,Q){let X=Z.append("g");if(Qm0(X,J),J.name)iY(Q)(J.name,X,J.x,J.y+Q.boxTextMargin+(J.textMaxHeight||0)/2,J.width,0,{class:"text"},Q);X.lower()},"drawBox"),cb8=I(function(Z){return Z.append("g")},"anchorElement"),lb8=I(function(Z,J,Q,K,X){let U=_Q(),Y=J.anchored;U.x=J.startx,U.y=J.starty,U.class="activation"+X%3,U.width=J.stopx-J.startx,U.height=Q-J.starty,bA(Y,U)},"drawActivation"),db8=I(async function(Z,J,Q,K){let{boxMargin:X,boxTextMargin:U,labelBoxHeight:Y,labelBoxWidth:q,messageFontFamily:W,messageFontSize:G,messageFontWeight:z}=K,H=Z.append("g"),F=I(function(O,R,D,L){return H.append("line").attr("x1",O).attr("y1",R).attr("x2",D).attr("y2",L).attr("class","loopLine")},"drawLoopLine");if(F(J.startx,J.starty,J.stopx,J.starty),F(J.stopx,J.starty,J.stopx,J.stopy),F(J.startx,J.stopy,J.stopx,J.stopy),F(J.startx,J.starty,J.startx,J.stopy),J.sections!==void 0)J.sections.forEach(function(O){F(J.startx,O.y,J.stopx,O.y).style("stroke-dasharray","3, 3")});let M=BT();M.text=Q,M.x=J.startx,M.y=J.starty,M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.anchor="middle",M.valign="middle",M.tspan=!1,M.width=q||50,M.height=Y||20,M.textMargin=U,M.class="labelText",Zm0(H,M),M=Km0(),M.text=J.title,M.x=J.startx+q/2+(J.stopx-J.startx)/2,M.y=J.starty+X+U,M.anchor="middle",M.valign="middle",M.textMargin=U,M.class="loopText",M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.wrap=!0;let B=JJ(M.text)?await p_(H,M,J):FO(H,M);if(J.sectionTitles!==void 0){for(let[O,R]of Object.entries(J.sectionTitles))if(R.message){if(M.text=R.message,M.x=J.startx+(J.stopx-J.startx)/2,M.y=J.sections[O].y+X+U,M.class="loopText",M.anchor="middle",M.valign="middle",M.tspan=!1,M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.wrap=J.wrap,JJ(M.text))J.starty=J.sections[O].y,await p_(H,M,J);else FO(H,M);let D=Math.round(B.map((L)=>(L._groups||L)[0][0].getBBox().height).reduce((L,A)=>L+A));J.sections[O].height+=D-(X+U)}}return J.height=Math.round(J.stopy-J.starty),H},"drawLoop"),Qm0=I(function(Z,J){HT(Z,J)},"drawBackgroundRect"),ib8=I(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),sb8=I(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),rb8=I(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),nb8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),ab8=I(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),ob8=I(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),tb8=I(function(Z){Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Km0=I(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),eb8=I(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),iY=function(){function Z(U,Y,q,W,G,z,H){let F=Y.append("text").attr("x",q+G/2).attr("y",W+z/2+5).style("text-anchor","middle").text(U);X(F,H)}I(Z,"byText");function J(U,Y,q,W,G,z,H,F){let{actorFontSize:M,actorFontFamily:B,actorFontWeight:O}=F,[R,D]=$X(M),L=U.split(J8.lineBreakRegex);for(let A=0;A<L.length;A++){let V=A*R-R*(L.length-1)/2,N=Y.append("text").attr("x",q+G/2).attr("y",W).style("text-anchor","middle").style("font-size",D).style("font-weight",O).style("font-family",B);N.append("tspan").attr("x",q+G/2).attr("dy",V).text(L[A]),N.attr("y",W+z/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),X(N,H)}}I(J,"byTspan");function Q(U,Y,q,W,G,z,H,F){let M=Y.append("switch"),O=M.append("foreignObject").attr("x",q).attr("y",W).attr("width",G).attr("height",z).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,M,q,W,G,z,H,F),X(O,H)}I(Q,"byFo");async function K(U,Y,q,W,G,z,H,F){let M=await oH(U,L9()),B=Y.append("switch"),R=B.append("foreignObject").attr("x",q+G/2-M.width/2).attr("y",W+z/2-M.height/2).attr("width",M.width).attr("height",M.height).append("xhtml:div").style("height","100%").style("width","100%");R.append("div").style("text-align","center").style("vertical-align","middle").html(await A1(U,L9())),J(U,B,q,W,G,z,H,F),X(R,H)}I(K,"byKatex");function X(U,Y){for(let q in Y)if(Y.hasOwnProperty(q))U.attr(q,Y[q])}return I(X,"_setTextAttrs"),function(U,Y=!1){if(Y)return K;return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),Zy8=function(){function Z(X,U,Y,q,W,G,z){let H=U.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").text(X);K(H,z)}I(Z,"byText");function J(X,U,Y,q,W,G,z,H){let{actorFontSize:F,actorFontFamily:M,actorFontWeight:B}=H,O=X.split(J8.lineBreakRegex);for(let R=0;R<O.length;R++){let D=R*F-F*(O.length-1)/2,L=U.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").style("font-size",F).style("font-weight",B).style("font-family",M);L.append("tspan").attr("x",Y).attr("dy",D).text(O[R]),L.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(L,z)}}I(J,"byTspan");function Q(X,U,Y,q,W,G,z,H){let F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(X,U){for(let Y in U)if(U.hasOwnProperty(Y))X.attr(Y,U[Y])}return I(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),tJ={drawRect:bA,drawText:FO,drawLabel:Zm0,drawActor:gb8,drawBox:pb8,drawPopup:_b8,anchorElement:cb8,drawActivation:lb8,drawLoop:db8,drawBackgroundRect:Qm0,insertArrowHead:nb8,insertArrowFilledHead:ab8,insertSequenceNumber:ob8,insertArrowCrossHead:tb8,insertDatabaseIcon:ib8,insertComputerIcon:sb8,insertClockIcon:rb8,getTextObj:Km0,getNoteRect:eb8,fixLifeLineHeights:Jm0,sanitizeUrl:it.sanitizeUrl},v0={},K8={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:I(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map((Z)=>Z.height||0))+(this.loops.length===0?0:this.loops.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.messages.length===0?0:this.messages.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.notes.length===0?0:this.notes.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))},"getHeight"),clear:I(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:I(function(Z){this.boxes.push(Z)},"addBox"),addActor:I(function(Z){this.actors.push(Z)},"addActor"),addLoop:I(function(Z){this.loops.push(Z)},"addLoop"),addMessage:I(function(Z){this.messages.push(Z)},"addMessage"),addNote:I(function(Z){this.notes.push(Z)},"addNote"),lastActor:I(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:I(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:I(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:I(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:I(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Ym0(N0())},"init"),updateVal:I(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:I(function(Z,J,Q,K){let X=this,U=0;function Y(q){return I(function(G){U++;let z=X.sequenceItems.length-U+1;if(X.updateVal(G,"starty",J-z*v0.boxMargin,Math.min),X.updateVal(G,"stopy",K+z*v0.boxMargin,Math.max),X.updateVal(K8.data,"startx",Z-z*v0.boxMargin,Math.min),X.updateVal(K8.data,"stopx",Q+z*v0.boxMargin,Math.max),q!=="activation")X.updateVal(G,"startx",Z-z*v0.boxMargin,Math.min),X.updateVal(G,"stopx",Q+z*v0.boxMargin,Math.max),X.updateVal(K8.data,"starty",J-z*v0.boxMargin,Math.min),X.updateVal(K8.data,"stopy",K+z*v0.boxMargin,Math.max)},"updateItemBounds")}I(Y,"updateFn"),this.sequenceItems.forEach(Y()),this.activations.forEach(Y("activation"))},"updateBounds"),insert:I(function(Z,J,Q,K){let X=J8.getMin(Z,Q),U=J8.getMax(Z,Q),Y=J8.getMin(J,K),q=J8.getMax(J,K);this.updateVal(K8.data,"startx",X,Math.min),this.updateVal(K8.data,"starty",Y,Math.min),this.updateVal(K8.data,"stopx",U,Math.max),this.updateVal(K8.data,"stopy",q,Math.max),this.updateBounds(X,Y,U,q)},"insert"),newActivation:I(function(Z,J,Q){let K=Q.get(Z.from),X=d_(Z.from).length||0,U=K.x+K.width/2+(X-1)*v0.activationWidth/2;this.activations.push({startx:U,starty:this.verticalPos+2,stopx:U+v0.activationWidth,stopy:void 0,actor:Z.from,anchored:tJ.anchorElement(J)})},"newActivation"),endActivation:I(function(Z){let J=this.activations.map(function(Q){return Q.actor}).lastIndexOf(Z.from);return this.activations.splice(J,1)[0]},"endActivation"),createLoop:I(function(Z={message:void 0,wrap:!1,width:void 0},J){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:Z.message,wrap:Z.wrap,width:Z.width,height:0,fill:J}},"createLoop"),newLoop:I(function(Z={message:void 0,wrap:!1,width:void 0},J){this.sequenceItems.push(this.createLoop(Z,J))},"newLoop"),endLoop:I(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:I(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:I(function(Z){let J=this.sequenceItems.pop();J.sections=J.sections||[],J.sectionTitles=J.sectionTitles||[],J.sections.push({y:K8.getVerticalPos(),height:0}),J.sectionTitles.push(Z),this.sequenceItems.push(J)},"addSectionToLoop"),saveVerticalPos:I(function(){if(this.isLoopOverlap())this.savedVerticalPos=this.verticalPos},"saveVerticalPos"),resetVerticalPos:I(function(){if(this.isLoopOverlap())this.verticalPos=this.savedVerticalPos},"resetVerticalPos"),bumpVerticalPos:I(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=J8.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return{bounds:this.data,models:this.models}},"getBounds")},Jy8=I(async function(Z,J){K8.bumpVerticalPos(v0.boxMargin),J.height=v0.boxMargin,J.starty=K8.getVerticalPos();let Q=_Q();Q.x=J.startx,Q.y=J.starty,Q.width=J.width||v0.width,Q.class="note";let K=Z.append("g"),X=tJ.drawRect(K,Q),U=BT();U.x=J.startx,U.y=J.starty,U.width=Q.width,U.dy="1em",U.text=J.message,U.class="noteText",U.fontFamily=v0.noteFontFamily,U.fontSize=v0.noteFontSize,U.fontWeight=v0.noteFontWeight,U.anchor=v0.noteAlign,U.textMargin=v0.noteMargin,U.valign="center";let Y=JJ(U.text)?await p_(K,U):FO(K,U),q=Math.round(Y.map((W)=>(W._groups||W)[0][0].getBBox().height).reduce((W,G)=>W+G));X.attr("height",q+2*v0.noteMargin),J.height+=q+2*v0.noteMargin,K8.bumpVerticalPos(q+2*v0.noteMargin),J.stopy=J.starty+q+2*v0.noteMargin,J.stopx=J.startx+Q.width,K8.insert(J.startx,J.starty,J.stopx,J.stopy),K8.models.addNote(J)},"drawNote"),tz=I((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont"),HO=I((Z)=>{return{fontFamily:Z.noteFontFamily,fontSize:Z.noteFontSize,fontWeight:Z.noteFontWeight}},"noteFont"),lt=I((Z)=>{return{fontFamily:Z.actorFontFamily,fontSize:Z.actorFontSize,fontWeight:Z.actorFontWeight}},"actorFont");I(Xm0,"boundMessage");Qy8=I(async function(Z,J,Q,K){let{startx:X,stopx:U,starty:Y,message:q,type:W,sequenceIndex:G,sequenceVisible:z}=J,H=n8.calculateTextDimensions(q,tz(v0)),F=BT();if(F.x=X,F.y=Y+10,F.width=U-X,F.class="messageText",F.dy="1em",F.text=q,F.fontFamily=v0.messageFontFamily,F.fontSize=v0.messageFontSize,F.fontWeight=v0.messageFontWeight,F.anchor=v0.messageAlign,F.valign="center",F.textMargin=v0.wrapPadding,F.tspan=!1,JJ(F.text))await p_(Z,F,{startx:X,stopx:U,starty:Q});else FO(Z,F);let M=H.width,B;if(X===U)if(v0.rightAngles)B=Z.append("path").attr("d",`M  ${X},${Q} H ${X+J8.getMax(v0.width/2,M/2)} V ${Q+25} H ${X}`);else B=Z.append("path").attr("d","M "+X+","+Q+" C "+(X+60)+","+(Q-10)+" "+(X+60)+","+(Q+30)+" "+X+","+(Q+20));else B=Z.append("line"),B.attr("x1",X),B.attr("y1",Q),B.attr("x2",U),B.attr("y2",Q);if(W===K.db.LINETYPE.DOTTED||W===K.db.LINETYPE.DOTTED_CROSS||W===K.db.LINETYPE.DOTTED_POINT||W===K.db.LINETYPE.DOTTED_OPEN||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.style("stroke-dasharray","3, 3"),B.attr("class","messageLine1");else B.attr("class","messageLine0");let O="";if(v0.arrowMarkerAbsolute)O=VG(!0);if(B.attr("stroke-width",2),B.attr("stroke","none"),B.style("fill","none"),W===K.db.LINETYPE.SOLID||W===K.db.LINETYPE.DOTTED)B.attr("marker-end","url("+O+"#arrowhead)");if(W===K.db.LINETYPE.BIDIRECTIONAL_SOLID||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.attr("marker-start","url("+O+"#arrowhead)"),B.attr("marker-end","url("+O+"#arrowhead)");if(W===K.db.LINETYPE.SOLID_POINT||W===K.db.LINETYPE.DOTTED_POINT)B.attr("marker-end","url("+O+"#filled-head)");if(W===K.db.LINETYPE.SOLID_CROSS||W===K.db.LINETYPE.DOTTED_CROSS)B.attr("marker-end","url("+O+"#crosshead)");if(z||v0.showSequenceNumbers){if(W===K.db.LINETYPE.BIDIRECTIONAL_SOLID||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)if(X<U)B.attr("x1",X+12);else B.attr("x1",X+6);Z.append("line").attr("x1",X).attr("y1",Q).attr("x2",X).attr("y2",Q).attr("stroke-width",0).attr("marker-start","url("+O+"#sequencenumber)"),Z.append("text").attr("x",X).attr("y",Q+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(G)}},"drawMessage"),Ky8=I(function(Z,J,Q,K,X,U,Y){let q=0,W=0,G=void 0,z=0;for(let H of K){let F=J.get(H),M=F.box;if(G&&G!=M){if(!Y)K8.models.addBox(G);W+=v0.boxMargin+G.margin}if(M&&M!=G){if(!Y)M.x=q+W,M.y=X;W+=M.margin}if(F.width=F.width||v0.width,F.height=J8.getMax(F.height||v0.height,v0.height),F.margin=F.margin||v0.actorMargin,z=J8.getMax(z,F.height),Q.get(F.name))W+=F.width/2;if(F.x=q+W,F.starty=K8.getVerticalPos(),K8.insert(F.x,X,F.x+F.width,F.height),q+=F.width+W,F.box)F.box.width=q+M.margin-F.box.x;W=F.margin,G=F.box,K8.models.addActor(F)}if(G&&!Y)K8.models.addBox(G);K8.bumpVerticalPos(z)},"addActorRenderingData"),dt=I(async function(Z,J,Q,K){if(!K)for(let X of Q){let U=J.get(X);await tJ.drawActor(Z,U,v0,!1)}else{let X=0;K8.bumpVerticalPos(v0.boxMargin*2);for(let U of Q){let Y=J.get(U);if(!Y.stopy)Y.stopy=K8.getVerticalPos();let q=await tJ.drawActor(Z,Y,v0,!0);X=J8.getMax(X,q)}K8.bumpVerticalPos(X+v0.boxMargin)}},"drawActors"),Um0=I(function(Z,J,Q,K){let X=0,U=0;for(let Y of Q){let q=J.get(Y),W=Uy8(q),G=tJ.drawPopup(Z,q,W,v0,v0.forceMenus,K);if(G.height>X)X=G.height;if(G.width+q.x>U)U=G.width+q.x}return{maxHeight:X,maxWidth:U}},"drawActorsPopup"),Ym0=I(function(Z){if(ZJ(v0,Z),Z.fontFamily)v0.actorFontFamily=v0.noteFontFamily=v0.messageFontFamily=Z.fontFamily;if(Z.fontSize)v0.actorFontSize=v0.noteFontSize=v0.messageFontSize=Z.fontSize;if(Z.fontWeight)v0.actorFontWeight=v0.noteFontWeight=v0.messageFontWeight=Z.fontWeight},"setConf"),d_=I(function(Z){return K8.activations.filter(function(J){return J.actor===Z})},"actorActivations"),eh0=I(function(Z,J){let Q=J.get(Z),K=d_(Z),X=K.reduce(function(Y,q){return J8.getMin(Y,q.startx)},Q.x+Q.width/2-1),U=K.reduce(function(Y,q){return J8.getMax(Y,q.stopx)},Q.x+Q.width/2+1);return[X,U]},"activationBounds");I(g5,"adjustLoopHeightForWrap");I(qm0,"adjustCreatedDestroyedData");Xy8=I(async function(Z,J,Q,K){let{securityLevel:X,sequence:U}=N0();v0=U;let Y;if(X==="sandbox")Y=i0("#i"+J);let q=X==="sandbox"?i0(Y.nodes()[0].contentDocument.body):i0("body"),W=X==="sandbox"?Y.nodes()[0].contentDocument:document;K8.init(),Z0.debug(K.db);let G=X==="sandbox"?q.select(`[id="${J}"]`):i0(`[id="${J}"]`),z=K.db.getActors(),H=K.db.getCreatedActors(),F=K.db.getDestroyedActors(),M=K.db.getBoxes(),B=K.db.getActorKeys(),O=K.db.getMessages(),R=K.db.getDiagramTitle(),D=K.db.hasAtLeastOneBox(),L=K.db.hasAtLeastOneBoxWithTitle(),A=await Wm0(z,O,K);if(v0.height=await Gm0(z,A,M),tJ.insertComputerIcon(G),tJ.insertDatabaseIcon(G),tJ.insertClockIcon(G),D){if(K8.bumpVerticalPos(v0.boxMargin),L)K8.bumpVerticalPos(M[0].textMaxHeight)}if(v0.hideUnusedParticipants===!0){let b=new Set;O.forEach((y)=>{b.add(y.from),b.add(y.to)}),B=B.filter((y)=>b.has(y))}Ky8(G,z,H,B,0,O,!1);let V=await Wy8(O,z,A,K);tJ.insertArrowHead(G),tJ.insertArrowCrossHead(G),tJ.insertArrowFilledHead(G),tJ.insertSequenceNumber(G);function N(b,y){let u=K8.endActivation(b);if(u.starty+18>y)u.starty=y-6,y+=12;tJ.drawActivation(G,u,y,v0,d_(b.from).length),K8.insert(u.startx,y-10,u.stopx,y)}I(N,"activeEnd");let E=1,j=1,C=[],$=[],k=0;for(let b of O){let y,u,h;switch(b.type){case K.db.LINETYPE.NOTE:K8.resetVerticalPos(),u=b.noteModel,await Jy8(G,u);break;case K.db.LINETYPE.ACTIVE_START:K8.newActivation(b,G,z);break;case K.db.LINETYPE.ACTIVE_END:N(b,K8.getVerticalPos());break;case K.db.LINETYPE.LOOP_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p));break;case K.db.LINETYPE.LOOP_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"loop",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;case K.db.LINETYPE.RECT_START:g5(V,b,v0.boxMargin,v0.boxMargin,(p)=>K8.newLoop(void 0,p.message));break;case K.db.LINETYPE.RECT_END:y=K8.endLoop(),$.push(y),K8.models.addLoop(y),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos());break;case K.db.LINETYPE.OPT_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p));break;case K.db.LINETYPE.OPT_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"opt",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;case K.db.LINETYPE.ALT_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p));break;case K.db.LINETYPE.ALT_ELSE:g5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>K8.addSectionToLoop(p));break;case K.db.LINETYPE.ALT_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"alt",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p)),K8.saveVerticalPos();break;case K.db.LINETYPE.PAR_AND:g5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>K8.addSectionToLoop(p));break;case K.db.LINETYPE.PAR_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"par",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;case K.db.LINETYPE.AUTONUMBER:if(E=b.message.start||E,j=b.message.step||j,b.message.visible)K.db.enableSequenceNumbers();else K.db.disableSequenceNumbers();break;case K.db.LINETYPE.CRITICAL_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p));break;case K.db.LINETYPE.CRITICAL_OPTION:g5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>K8.addSectionToLoop(p));break;case K.db.LINETYPE.CRITICAL_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"critical",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;case K.db.LINETYPE.BREAK_START:g5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>K8.newLoop(p));break;case K.db.LINETYPE.BREAK_END:y=K8.endLoop(),await tJ.drawLoop(G,y,"break",v0),K8.bumpVerticalPos(y.stopy-K8.getVerticalPos()),K8.models.addLoop(y);break;default:try{h=b.msgModel,h.starty=K8.getVerticalPos(),h.sequenceIndex=E,h.sequenceVisible=K.db.showSequenceNumbers();let p=await Xm0(G,h);qm0(b,h,p,k,z,H,F),C.push({messageModel:h,lineStartY:p}),K8.models.addMessage(h)}catch(p){Z0.error("error while drawing message",p)}}if([K.db.LINETYPE.SOLID_OPEN,K.db.LINETYPE.DOTTED_OPEN,K.db.LINETYPE.SOLID,K.db.LINETYPE.DOTTED,K.db.LINETYPE.SOLID_CROSS,K.db.LINETYPE.DOTTED_CROSS,K.db.LINETYPE.SOLID_POINT,K.db.LINETYPE.DOTTED_POINT,K.db.LINETYPE.BIDIRECTIONAL_SOLID,K.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(b.type))E=E+j;k++}Z0.debug("createdActors",H),Z0.debug("destroyedActors",F),await dt(G,z,B,!1);for(let b of C)await Qy8(G,b.messageModel,b.lineStartY,K);if(v0.mirrorActors)await dt(G,z,B,!0);$.forEach((b)=>tJ.drawBackgroundRect(G,b)),Jm0(G,z,B,v0);for(let b of K8.models.boxes){b.height=K8.getVerticalPos()-b.y,K8.insert(b.x,b.y,b.x+b.width,b.height);let y=v0.boxMargin*2;b.startx=b.x-y,b.starty=b.y-y*0.25,b.stopx=b.startx+b.width+2*y,b.stopy=b.starty+b.height+y*0.75,b.stroke="rgb(0,0,0, 0.5)",tJ.drawBox(G,b,v0)}if(D)K8.bumpVerticalPos(v0.boxMargin);let w=Um0(G,z,B,W),{bounds:P}=K8.getBounds();if(P.startx===void 0)P.startx=0;if(P.starty===void 0)P.starty=0;if(P.stopx===void 0)P.stopx=0;if(P.stopy===void 0)P.stopy=0;let T=P.stopy-P.starty;if(T<w.maxHeight)T=w.maxHeight;let S=T+2*v0.diagramMarginY;if(v0.mirrorActors)S=S-v0.boxMargin+v0.bottomMarginAdj;let f=P.stopx-P.startx;if(f<w.maxWidth)f=w.maxWidth;let v=f+2*v0.diagramMarginX;if(R)G.append("text").text(R).attr("x",(P.stopx-P.startx)/2-2*v0.diagramMarginX).attr("y",-25);PZ(G,S,v,v0.useMaxWidth);let x=R?40:0;G.attr("viewBox",P.startx-v0.diagramMarginX+" -"+(v0.diagramMarginY+x)+" "+v+" "+(S+x)),Z0.debug("models:",K8.models)},"draw");I(Wm0,"getMaxMessageWidthPerActor");Uy8=I(function(Z){let J=0,Q=lt(v0);for(let K in Z.links){let U=n8.calculateTextDimensions(K,Q).width+2*v0.wrapPadding+2*v0.boxMargin;if(J<U)J=U}return J},"getRequiredPopupWidth");I(Gm0,"calculateActorMargins");Yy8=I(async function(Z,J,Q){let K=J.get(Z.from),X=J.get(Z.to),U=K.x,Y=X.x,q=Z.wrap&&Z.message,W=JJ(Z.message)?await oH(Z.message,N0()):n8.calculateTextDimensions(q?n8.wrapLabel(Z.message,v0.width,HO(v0)):Z.message,HO(v0)),G={width:q?v0.width:J8.getMax(v0.width,W.width+2*v0.noteMargin),height:0,startx:K.x,stopx:0,starty:0,stopy:0,message:Z.message};if(Z.placement===Q.db.PLACEMENT.RIGHTOF)G.width=q?J8.getMax(v0.width,W.width):J8.getMax(K.width/2+X.width/2,W.width+2*v0.noteMargin),G.startx=U+(K.width+v0.actorMargin)/2;else if(Z.placement===Q.db.PLACEMENT.LEFTOF)G.width=q?J8.getMax(v0.width,W.width+2*v0.noteMargin):J8.getMax(K.width/2+X.width/2,W.width+2*v0.noteMargin),G.startx=U-G.width+(K.width-v0.actorMargin)/2;else if(Z.to===Z.from)W=n8.calculateTextDimensions(q?n8.wrapLabel(Z.message,J8.getMax(v0.width,K.width),HO(v0)):Z.message,HO(v0)),G.width=q?J8.getMax(v0.width,K.width):J8.getMax(K.width,v0.width,W.width+2*v0.noteMargin),G.startx=U+(K.width-G.width)/2;else G.width=Math.abs(U+K.width/2-(Y+X.width/2))+v0.actorMargin,G.startx=U<Y?U+K.width/2-v0.actorMargin/2:Y+X.width/2-v0.actorMargin/2;if(q)G.message=n8.wrapLabel(Z.message,G.width-2*v0.wrapPadding,HO(v0));return Z0.debug(`NM:[${G.startx},${G.stopx},${G.starty},${G.stopy}:${G.width},${G.height}=${Z.message}]`),G},"buildNoteModel"),qy8=I(function(Z,J,Q){if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN,Q.db.LINETYPE.SOLID,Q.db.LINETYPE.DOTTED,Q.db.LINETYPE.SOLID_CROSS,Q.db.LINETYPE.DOTTED_CROSS,Q.db.LINETYPE.SOLID_POINT,Q.db.LINETYPE.DOTTED_POINT,Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))return{};let[K,X]=eh0(Z.from,J),[U,Y]=eh0(Z.to,J),q=K<=U,W=q?X:K,G=q?U:Y,z=Math.abs(U-Y)>2,H=I((O)=>{return q?-O:O},"adjustValue");if(Z.from===Z.to)G=W;else{if(Z.activate&&!z)G+=H(v0.activationWidth/2-1);if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN].includes(Z.type))G+=H(3);if([Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))W-=H(3)}let F=[K,X,U,Y],M=Math.abs(W-G);if(Z.wrap&&Z.message)Z.message=n8.wrapLabel(Z.message,J8.getMax(M+2*v0.wrapPadding,v0.width),tz(v0));let B=n8.calculateTextDimensions(Z.message,tz(v0));return{width:J8.getMax(Z.wrap?0:B.width+2*v0.wrapPadding,M+2*v0.wrapPadding,v0.width),height:0,startx:W,stopx:G,starty:0,stopy:0,message:Z.message,type:Z.type,wrap:Z.wrap,fromBounds:Math.min.apply(null,F),toBounds:Math.max.apply(null,F)}},"buildMessageModel"),Wy8=I(async function(Z,J,Q,K){let X={},U=[],Y,q,W;for(let G of Z){switch(G.type){case K.db.LINETYPE.LOOP_START:case K.db.LINETYPE.ALT_START:case K.db.LINETYPE.OPT_START:case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:case K.db.LINETYPE.CRITICAL_START:case K.db.LINETYPE.BREAK_START:U.push({id:G.id,msg:G.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case K.db.LINETYPE.ALT_ELSE:case K.db.LINETYPE.PAR_AND:case K.db.LINETYPE.CRITICAL_OPTION:if(G.message)Y=U.pop(),X[Y.id]=Y,X[G.id]=Y,U.push(Y);break;case K.db.LINETYPE.LOOP_END:case K.db.LINETYPE.ALT_END:case K.db.LINETYPE.OPT_END:case K.db.LINETYPE.PAR_END:case K.db.LINETYPE.CRITICAL_END:case K.db.LINETYPE.BREAK_END:Y=U.pop(),X[Y.id]=Y;break;case K.db.LINETYPE.ACTIVE_START:{let H=J.get(G.from?G.from:G.to.actor),F=d_(G.from?G.from:G.to.actor).length,M=H.x+H.width/2+(F-1)*v0.activationWidth/2,B={startx:M,stopx:M+v0.activationWidth,actor:G.from,enabled:!0};K8.activations.push(B)}break;case K.db.LINETYPE.ACTIVE_END:{let H=K8.activations.map((F)=>F.actor).lastIndexOf(G.from);K8.activations.splice(H,1).splice(0,1)}break}if(G.placement!==void 0)q=await Yy8(G,J,K),G.noteModel=q,U.forEach((H)=>{Y=H,Y.from=J8.getMin(Y.from,q.startx),Y.to=J8.getMax(Y.to,q.startx+q.width),Y.width=J8.getMax(Y.width,Math.abs(Y.from-Y.to))-v0.labelBoxWidth});else if(W=qy8(G,J,K),G.msgModel=W,W.startx&&W.stopx&&U.length>0)U.forEach((H)=>{if(Y=H,W.startx===W.stopx){let F=J.get(G.from),M=J.get(G.to);Y.from=J8.getMin(F.x-W.width/2,F.x-F.width/2,Y.from),Y.to=J8.getMax(M.x+W.width/2,M.x+F.width/2,Y.to),Y.width=J8.getMax(Y.width,Math.abs(Y.to-Y.from))-v0.labelBoxWidth}else Y.from=J8.getMin(W.startx,Y.from),Y.to=J8.getMax(W.stopx,Y.to),Y.width=J8.getMax(Y.width,W.width)-v0.labelBoxWidth})}return K8.activations=[],Z0.debug("Loop type widths:",X),X},"calculateLoopBounds"),Gy8={bounds:K8,drawActors:dt,drawActorsPopup:Um0,setConf:Ym0,draw:Xy8},zy8={parser:jb8,get db(){return new wb8},renderer:Gy8,styles:kb8,init:I((Z)=>{if(!Z.sequence)Z.sequence={};if(Z.wrap)Z.sequence.wrap=Z.wrap,W3({sequence:{wrap:Z.wrap}})},"init")}});var st,s_,Fm0,Mm0,i_="classId-",Bm0=0,ez,r_,Hy8,n_,Fy8,My8,By8,a_;var rt=_(()=>{hq();S5();wK();VK();jZ();T9();M9();A9();st=function(){var Z=I(function(x0,f0,C0,h0){for(C0=C0||{},h0=x0.length;h0--;C0[x0[h0]]=f0);return C0},"o"),J=[1,18],Q=[1,19],K=[1,20],X=[1,41],U=[1,42],Y=[1,26],q=[1,24],W=[1,25],G=[1,32],z=[1,33],H=[1,34],F=[1,45],M=[1,35],B=[1,36],O=[1,37],R=[1,38],D=[1,27],L=[1,28],A=[1,29],V=[1,30],N=[1,31],E=[1,44],j=[1,46],C=[1,43],$=[1,47],k=[1,9],w=[1,8,9],P=[1,58],T=[1,59],S=[1,60],f=[1,61],v=[1,62],x=[1,63],b=[1,64],y=[1,8,9,41],u=[1,76],h=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],p=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],r=[13,60,86,100,102,103],e=[13,60,73,74,86,100,102,103],i=[13,60,68,69,70,71,72,86,100,102,103],U0=[1,100],a=[1,117],z0=[1,113],J0=[1,109],Q0=[1,115],t=[1,110],n=[1,111],Y0=[1,112],o=[1,114],M0=[1,116],X0=[22,48,60,61,82,86,87,88,89,90],E0=[1,8,9,39,41,44],d=[1,8,9,22],c0=[1,145],B0=[1,8,9,61],y0=[1,8,9,22,48,60,61,82,86,87,88,89,90],n0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:I(function(f0,C0,h0,F0,I0,s,H0){var m=s.length-1;switch(I0){case 8:this.$=s[m-1];break;case 9:case 10:case 13:case 15:this.$=s[m];break;case 11:case 14:this.$=s[m-2]+"."+s[m];break;case 12:case 16:this.$=s[m-1]+s[m];break;case 17:case 18:this.$=s[m-1]+"~"+s[m]+"~";break;case 19:F0.addRelation(s[m]);break;case 20:s[m-1].title=F0.cleanupLabel(s[m]),F0.addRelation(s[m-1]);break;case 31:this.$=s[m].trim(),F0.setAccTitle(this.$);break;case 32:case 33:this.$=s[m].trim(),F0.setAccDescription(this.$);break;case 34:F0.addClassesToNamespace(s[m-3],s[m-1]);break;case 35:F0.addClassesToNamespace(s[m-4],s[m-1]);break;case 36:this.$=s[m],F0.addNamespace(s[m]);break;case 37:this.$=[s[m]];break;case 38:this.$=[s[m-1]];break;case 39:s[m].unshift(s[m-2]),this.$=s[m];break;case 41:F0.setCssClass(s[m-2],s[m]);break;case 42:F0.addMembers(s[m-3],s[m-1]);break;case 44:F0.setCssClass(s[m-5],s[m-3]),F0.addMembers(s[m-5],s[m-1]);break;case 45:this.$=s[m],F0.addClass(s[m]);break;case 46:this.$=s[m-1],F0.addClass(s[m-1]),F0.setClassLabel(s[m-1],s[m]);break;case 50:F0.addAnnotation(s[m],s[m-2]);break;case 51:case 64:this.$=[s[m]];break;case 52:s[m].push(s[m-1]),this.$=s[m];break;case 53:break;case 54:F0.addMember(s[m-1],F0.cleanupLabel(s[m]));break;case 55:break;case 56:break;case 57:this.$={id1:s[m-2],id2:s[m],relation:s[m-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:s[m-3],id2:s[m],relation:s[m-1],relationTitle1:s[m-2],relationTitle2:"none"};break;case 59:this.$={id1:s[m-3],id2:s[m],relation:s[m-2],relationTitle1:"none",relationTitle2:s[m-1]};break;case 60:this.$={id1:s[m-4],id2:s[m],relation:s[m-2],relationTitle1:s[m-3],relationTitle2:s[m-1]};break;case 61:F0.addNote(s[m],s[m-1]);break;case 62:F0.addNote(s[m]);break;case 63:this.$=s[m-2],F0.defineClass(s[m-1],s[m]);break;case 65:this.$=s[m-2].concat([s[m]]);break;case 66:F0.setDirection("TB");break;case 67:F0.setDirection("BT");break;case 68:F0.setDirection("RL");break;case 69:F0.setDirection("LR");break;case 70:this.$={type1:s[m-2],type2:s[m],lineType:s[m-1]};break;case 71:this.$={type1:"none",type2:s[m],lineType:s[m-1]};break;case 72:this.$={type1:s[m-1],type2:"none",lineType:s[m]};break;case 73:this.$={type1:"none",type2:"none",lineType:s[m]};break;case 74:this.$=F0.relationType.AGGREGATION;break;case 75:this.$=F0.relationType.EXTENSION;break;case 76:this.$=F0.relationType.COMPOSITION;break;case 77:this.$=F0.relationType.DEPENDENCY;break;case 78:this.$=F0.relationType.LOLLIPOP;break;case 79:this.$=F0.lineType.LINE;break;case 80:this.$=F0.lineType.DOTTED_LINE;break;case 81:case 87:this.$=s[m-2],F0.setClickEvent(s[m-1],s[m]);break;case 82:case 88:this.$=s[m-3],F0.setClickEvent(s[m-2],s[m-1]),F0.setTooltip(s[m-2],s[m]);break;case 83:this.$=s[m-2],F0.setLink(s[m-1],s[m]);break;case 84:this.$=s[m-3],F0.setLink(s[m-2],s[m-1],s[m]);break;case 85:this.$=s[m-3],F0.setLink(s[m-2],s[m-1]),F0.setTooltip(s[m-2],s[m]);break;case 86:this.$=s[m-4],F0.setLink(s[m-3],s[m-2],s[m]),F0.setTooltip(s[m-3],s[m-1]);break;case 89:this.$=s[m-3],F0.setClickEvent(s[m-2],s[m-1],s[m]);break;case 90:this.$=s[m-4],F0.setClickEvent(s[m-3],s[m-2],s[m-1]),F0.setTooltip(s[m-3],s[m]);break;case 91:this.$=s[m-3],F0.setLink(s[m-2],s[m]);break;case 92:this.$=s[m-4],F0.setLink(s[m-3],s[m-1],s[m]);break;case 93:this.$=s[m-4],F0.setLink(s[m-3],s[m-1]),F0.setTooltip(s[m-3],s[m]);break;case 94:this.$=s[m-5],F0.setLink(s[m-4],s[m-2],s[m]),F0.setTooltip(s[m-4],s[m-1]);break;case 95:this.$=s[m-2],F0.setCssStyle(s[m-1],s[m]);break;case 96:F0.setCssClass(s[m-1],s[m]);break;case 97:this.$=[s[m]];break;case 98:s[m-2].push(s[m]),this.$=s[m-2];break;case 100:this.$=s[m-1]+s[m];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:Q,37:K,38:22,42:X,43:23,46:U,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:D,76:L,78:A,82:V,83:N,86:E,100:j,102:C,103:$},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},Z(k,[2,5],{8:[1,48]}),{8:[1,49]},Z(w,[2,19],{22:[1,50]}),Z(w,[2,21]),Z(w,[2,22]),Z(w,[2,23]),Z(w,[2,24]),Z(w,[2,25]),Z(w,[2,26]),Z(w,[2,27]),Z(w,[2,28]),Z(w,[2,29]),Z(w,[2,30]),{34:[1,51]},{36:[1,52]},Z(w,[2,33]),Z(w,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:P,69:T,70:S,71:f,72:v,73:x,74:b}),{39:[1,65]},Z(y,[2,40],{39:[1,67],44:[1,66]}),Z(w,[2,55]),Z(w,[2,56]),{16:68,60:F,86:E,100:j,102:C},{16:39,17:40,19:69,60:F,86:E,100:j,102:C,103:$},{16:39,17:40,19:70,60:F,86:E,100:j,102:C,103:$},{16:39,17:40,19:71,60:F,86:E,100:j,102:C,103:$},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:F,86:E,100:j,102:C,103:$},{13:u,55:75},{58:77,60:[1,78]},Z(w,[2,66]),Z(w,[2,67]),Z(w,[2,68]),Z(w,[2,69]),Z(h,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:F,86:E,100:j,102:C,103:$}),Z(h,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:F,86:E,100:j,102:C,103:$},{16:39,17:40,19:86,60:F,86:E,100:j,102:C,103:$},Z(p,[2,123]),Z(p,[2,124]),Z(p,[2,125]),Z(p,[2,126]),Z([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),Z(k,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:J,35:Q,37:K,42:X,46:U,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:D,76:L,78:A,82:V,83:N,86:E,100:j,102:C,103:$}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:Q,37:K,38:22,42:X,43:23,46:U,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:D,76:L,78:A,82:V,83:N,86:E,100:j,102:C,103:$},Z(w,[2,20]),Z(w,[2,31]),Z(w,[2,32]),{13:[1,90],16:39,17:40,19:89,60:F,86:E,100:j,102:C,103:$},{53:91,66:56,67:57,68:P,69:T,70:S,71:f,72:v,73:x,74:b},Z(w,[2,54]),{67:92,73:x,74:b},Z(r,[2,73],{66:93,68:P,69:T,70:S,71:f,72:v}),Z(e,[2,74]),Z(e,[2,75]),Z(e,[2,76]),Z(e,[2,77]),Z(e,[2,78]),Z(i,[2,79]),Z(i,[2,80]),{8:[1,95],24:96,40:94,43:23,46:U},{16:97,60:F,86:E,100:j,102:C},{41:[1,99],45:98,51:U0},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:a,48:z0,59:106,60:J0,82:Q0,84:107,85:108,86:t,87:n,88:Y0,89:o,90:M0},{60:[1,118]},{13:u,55:119},Z(w,[2,62]),Z(w,[2,128]),{22:a,48:z0,59:120,60:J0,61:[1,121],82:Q0,84:107,85:108,86:t,87:n,88:Y0,89:o,90:M0},Z(X0,[2,64]),{16:39,17:40,19:122,60:F,86:E,100:j,102:C,103:$},Z(h,[2,16]),Z(h,[2,17]),Z(h,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:F,86:E,100:j,102:C,103:$},{39:[2,10]},Z(E0,[2,45],{11:125,12:[1,126]}),Z(k,[2,7]),{9:[1,127]},Z(d,[2,57]),{16:39,17:40,19:128,60:F,86:E,100:j,102:C,103:$},{13:[1,130],16:39,17:40,19:129,60:F,86:E,100:j,102:C,103:$},Z(r,[2,72],{66:131,68:P,69:T,70:S,71:f,72:v}),Z(r,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:U},{8:[1,134],41:[2,37]},Z(y,[2,41],{39:[1,135]}),{41:[1,136]},Z(y,[2,43]),{41:[2,51],45:137,51:U0},{16:39,17:40,19:138,60:F,86:E,100:j,102:C,103:$},Z(w,[2,81],{13:[1,139]}),Z(w,[2,83],{13:[1,141],77:[1,140]}),Z(w,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},Z(w,[2,95],{61:c0}),Z(B0,[2,97],{85:146,22:a,48:z0,60:J0,82:Q0,86:t,87:n,88:Y0,89:o,90:M0}),Z(y0,[2,99]),Z(y0,[2,101]),Z(y0,[2,102]),Z(y0,[2,103]),Z(y0,[2,104]),Z(y0,[2,105]),Z(y0,[2,106]),Z(y0,[2,107]),Z(y0,[2,108]),Z(y0,[2,109]),Z(w,[2,96]),Z(w,[2,61]),Z(w,[2,63],{61:c0}),{60:[1,147]},Z(h,[2,14]),{15:148,16:84,17:85,60:F,86:E,100:j,102:C,103:$},{39:[2,12]},Z(E0,[2,46]),{13:[1,149]},{1:[2,4]},Z(d,[2,59]),Z(d,[2,58]),{16:39,17:40,19:150,60:F,86:E,100:j,102:C,103:$},Z(r,[2,70]),Z(w,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:U},{45:153,51:U0},Z(y,[2,42]),{41:[2,52]},Z(w,[2,50]),Z(w,[2,82]),Z(w,[2,84]),Z(w,[2,85],{77:[1,154]}),Z(w,[2,88]),Z(w,[2,89],{13:[1,155]}),Z(w,[2,91],{13:[1,157],77:[1,156]}),{22:a,48:z0,60:J0,82:Q0,84:158,85:108,86:t,87:n,88:Y0,89:o,90:M0},Z(y0,[2,100]),Z(X0,[2,65]),{39:[2,11]},{14:[1,159]},Z(d,[2,60]),Z(w,[2,35]),{41:[2,39]},{41:[1,160]},Z(w,[2,86]),Z(w,[2,90]),Z(w,[2,92]),Z(w,[2,93],{77:[1,161]}),Z(B0,[2,98],{85:146,22:a,48:z0,60:J0,82:Q0,86:t,87:n,88:Y0,89:o,90:M0}),Z(E0,[2,8]),Z(y,[2,44]),Z(w,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:I(function(f0,C0){if(C0.recoverable)this.trace(f0);else{var h0=Error(f0);throw h0.hash=C0,h0}},"parseError"),parse:I(function(f0){var C0=this,h0=[0],F0=[],I0=[null],s=[],H0=this.table,m="",q0=0,W0=0,V0=0,L0=2,D0=1,_0=s.slice.call(arguments,1),T0=Object.create(this.lexer),m0={yy:{}};for(var t0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,t0))m0.yy[t0]=this.yy[t0];if(T0.setInput(f0,m0.yy),m0.yy.lexer=T0,m0.yy.parser=this,typeof T0.yylloc>"u")T0.yylloc={};var H8=T0.yylloc;s.push(H8);var r0=T0.options&&T0.options.ranges;if(typeof m0.yy.parseError==="function")this.parseError=m0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function u0(f8){h0.length=h0.length-2*f8,I0.length=I0.length-f8,s.length=s.length-f8}I(u0,"popStack");function o0(){var f8=F0.pop()||T0.lex()||D0;if(typeof f8!=="number"){if(f8 instanceof Array)F0=f8,f8=F0.pop();f8=C0.symbols_[f8]||f8}return f8}I(o0,"lex");var d0,U8,u8,O8,S8,W8,q8={},F8,R8,D8,G8;while(!0){if(u8=h0[h0.length-1],this.defaultActions[u8])O8=this.defaultActions[u8];else{if(d0===null||typeof d0>"u")d0=o0();O8=H0[u8]&&H0[u8][d0]}if(typeof O8>"u"||!O8.length||!O8[0]){var a9="";G8=[];for(F8 in H0[u8])if(this.terminals_[F8]&&F8>L0)G8.push("'"+this.terminals_[F8]+"'");if(T0.showPosition)a9="Parse error on line "+(q0+1)+`:
`+T0.showPosition()+`
Expecting `+G8.join(", ")+", got '"+(this.terminals_[d0]||d0)+"'";else a9="Parse error on line "+(q0+1)+": Unexpected "+(d0==D0?"end of input":"'"+(this.terminals_[d0]||d0)+"'");this.parseError(a9,{text:T0.match,token:this.terminals_[d0]||d0,line:T0.yylineno,loc:H8,expected:G8})}if(O8[0]instanceof Array&&O8.length>1)throw Error("Parse Error: multiple actions possible at state: "+u8+", token: "+d0);switch(O8[0]){case 1:if(h0.push(d0),I0.push(T0.yytext),s.push(T0.yylloc),h0.push(O8[1]),d0=null,!U8){if(W0=T0.yyleng,m=T0.yytext,q0=T0.yylineno,H8=T0.yylloc,V0>0)V0--}else d0=U8,U8=null;break;case 2:if(R8=this.productions_[O8[1]][1],q8.$=I0[I0.length-R8],q8._$={first_line:s[s.length-(R8||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(R8||1)].first_column,last_column:s[s.length-1].last_column},r0)q8._$.range=[s[s.length-(R8||1)].range[0],s[s.length-1].range[1]];if(W8=this.performAction.apply(q8,[m,W0,q0,m0.yy,O8[1],I0,s].concat(_0)),typeof W8<"u")return W8;if(R8)h0=h0.slice(0,-1*R8*2),I0=I0.slice(0,-1*R8),s=s.slice(0,-1*R8);h0.push(this.productions_[O8[1]][0]),I0.push(q8.$),s.push(q8._$),D8=H0[h0[h0.length-2]][h0[h0.length-1]],h0.push(D8);break;case 3:return!0}}return!0},"parse")},s0=function(){var x0={EOF:1,parseError:I(function(C0,h0){if(this.yy.parser)this.yy.parser.parseError(C0,h0);else throw Error(C0)},"parseError"),setInput:I(function(f0,C0){if(this.yy=C0||this.yy||{},this._input=f0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var f0=this._input[0];this.yytext+=f0,this.yyleng++,this.offset++,this.match+=f0,this.matched+=f0;var C0=f0.match(/(?:\r\n?|\n).*/g);if(C0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),f0},"input"),unput:I(function(f0){var C0=f0.length,h0=f0.split(/(?:\r\n?|\n)/g);this._input=f0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C0),this.offset-=C0;var F0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h0.length-1)this.yylineno-=h0.length-1;var I0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h0?(h0.length===F0.length?this.yylloc.first_column:0)+F0[F0.length-h0.length].length-h0[0].length:this.yylloc.first_column-C0},this.options.ranges)this.yylloc.range=[I0[0],I0[0]+this.yyleng-C0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(f0){this.unput(this.match.slice(f0))},"less"),pastInput:I(function(){var f0=this.matched.substr(0,this.matched.length-this.match.length);return(f0.length>20?"...":"")+f0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var f0=this.match;if(f0.length<20)f0+=this._input.substr(0,20-f0.length);return(f0.substr(0,20)+(f0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var f0=this.pastInput(),C0=Array(f0.length+1).join("-");return f0+this.upcomingInput()+`
`+C0+"^"},"showPosition"),test_match:I(function(f0,C0){var h0,F0,I0;if(this.options.backtrack_lexer){if(I0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)I0.yylloc.range=this.yylloc.range.slice(0)}if(F0=f0[0].match(/(?:\r\n?|\n).*/g),F0)this.yylineno+=F0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:F0?F0[F0.length-1].length-F0[F0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f0[0].length},this.yytext+=f0[0],this.match+=f0[0],this.matches=f0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(f0[0].length),this.matched+=f0[0],h0=this.performAction.call(this,this.yy,this,C0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(h0)return h0;else if(this._backtrack){for(var s in I0)this[s]=I0[s];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var f0,C0,h0,F0;if(!this._more)this.yytext="",this.match="";var I0=this._currentRules();for(var s=0;s<I0.length;s++)if(h0=this._input.match(this.rules[I0[s]]),h0&&(!C0||h0[0].length>C0[0].length)){if(C0=h0,F0=s,this.options.backtrack_lexer)if(f0=this.test_match(h0,I0[s]),f0!==!1)return f0;else if(this._backtrack){C0=!1;continue}else return!1;else if(!this.options.flex)break}if(C0){if(f0=this.test_match(C0,I0[F0]),f0!==!1)return f0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var C0=this.next();if(C0)return C0;else return this.lex()},"lex"),begin:I(function(C0){this.conditionStack.push(C0)},"begin"),popState:I(function(){var C0=this.conditionStack.length-1;if(C0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(C0){if(C0=this.conditionStack.length-1-Math.abs(C0||0),C0>=0)return this.conditionStack[C0];else return"INITIAL"},"topState"),pushState:I(function(C0){this.begin(C0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(C0,h0,F0,I0){var s=I0;switch(F0){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),35;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;break;case 30:return this.popState(),8;break;case 31:break;case 32:return this.begin("namespace-body"),39;break;case 33:return this.popState(),41;break;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;break;case 39:return this.popState(),8;break;case 40:break;case 41:return this.popState(),this.popState(),41;break;case 42:return this.begin("class-body"),39;break;case 43:return this.popState(),41;break;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return x0}();n0.lexer=s0;function k0(){this.yy={}}return I(k0,"Parser"),k0.prototype=n0,n0.Parser=k0,new k0}();st.parser=st;s_=st,Fm0=["#","+","~","-",""],Mm0=class{static{I(this,"ClassMember")}constructor(Z,J){this.memberType=J,this.visibility="",this.classifier="",this.text="";let Q=R9(Z,N0());this.parseMember(Q)}getDisplayDetails(){let Z=this.visibility+OX(this.id);if(this.memberType==="method"){if(Z+=`(${OX(this.parameters.trim())})`,this.returnType)Z+=" : "+OX(this.returnType)}Z=Z.trim();let J=this.parseClassifier();return{displayText:Z,cssStyle:J}}parseMember(Z){let J="";if(this.memberType==="method"){let X=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(Z);if(X){let U=X[1]?X[1].trim():"";if(Fm0.includes(U))this.visibility=U;if(this.id=X[2],this.parameters=X[3]?X[3].trim():"",J=X[4]?X[4].trim():"",this.returnType=X[5]?X[5].trim():"",J===""){let Y=this.returnType.substring(this.returnType.length-1);if(/[$*]/.exec(Y))J=Y,this.returnType=this.returnType.substring(0,this.returnType.length-1)}}}else{let K=Z.length,X=Z.substring(0,1),U=Z.substring(K-1);if(Fm0.includes(X))this.visibility=X;if(/[$*]/.exec(U))J=U;this.id=Z.substring(this.visibility===""?0:1,J===""?K:K-1)}this.classifier=J,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let Q=`${this.visibility?"\\"+this.visibility:""}${OX(this.id)}${this.memberType==="method"?`(${OX(this.parameters)})${this.returnType?" : "+OX(this.returnType):""}`:""}`;if(this.text=Q.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;"))this.text=this.text.replace("\\&lt;","~")}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},ez=I((Z)=>J8.sanitizeText(Z,N0()),"sanitizeText"),r_=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=I((Z)=>{let J=i0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=i0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);i0(Z).select("svg").selectAll("g.node").on("mouseover",(X)=>{let U=i0(X.currentTarget);if(U.attr("title")===null)return;let q=this.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(U.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.top-14+document.body.scrollTop+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),U.classed("hover",!0)}).on("mouseout",(X)=>{J.transition().duration(500).style("opacity",0),i0(X.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=v9,this.getAccTitle=y9,this.setAccDescription=h9,this.getAccDescription=m9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getConfig=I(()=>N0().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{I(this,"ClassDB")}splitClassNameAndType(Z){let J=J8.sanitizeText(Z,N0()),Q="",K=J;if(J.indexOf("~")>0){let X=J.split("~");K=ez(X[0]),Q=ez(X[1])}return{className:K,type:Q}}setClassLabel(Z,J){let Q=J8.sanitizeText(Z,N0());if(J)J=ez(J);let{className:K}=this.splitClassNameAndType(Q);this.classes.get(K).label=J,this.classes.get(K).text=`${J}${this.classes.get(K).type?`<${this.classes.get(K).type}>`:""}`}addClass(Z){let J=J8.sanitizeText(Z,N0()),{className:Q,type:K}=this.splitClassNameAndType(J);if(this.classes.has(Q))return;let X=J8.sanitizeText(Q,N0());this.classes.set(X,{id:X,type:K,label:X,text:`${X}${K?`&lt;${K}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:i_+X+"-"+Bm0}),Bm0++}addInterface(Z,J){let Q={id:`interface${this.interfaces.length}`,label:Z,classId:J};this.interfaces.push(Q)}lookUpDomId(Z){let J=J8.sanitizeText(Z,N0());if(this.classes.has(J))return this.classes.get(J).domId;throw Error("Class not found: "+J)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",S9()}getClass(Z){return this.classes.get(Z)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(Z){Z0.debug("Adding relation: "+JSON.stringify(Z));let J=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];if(Z.relation.type1===this.relationType.LOLLIPOP&&!J.includes(Z.relation.type2))this.addClass(Z.id2),this.addInterface(Z.id1,Z.id2),Z.id1=`interface${this.interfaces.length-1}`;else if(Z.relation.type2===this.relationType.LOLLIPOP&&!J.includes(Z.relation.type1))this.addClass(Z.id1),this.addInterface(Z.id2,Z.id1),Z.id2=`interface${this.interfaces.length-1}`;else this.addClass(Z.id1),this.addClass(Z.id2);Z.id1=this.splitClassNameAndType(Z.id1).className,Z.id2=this.splitClassNameAndType(Z.id2).className,Z.relationTitle1=J8.sanitizeText(Z.relationTitle1.trim(),N0()),Z.relationTitle2=J8.sanitizeText(Z.relationTitle2.trim(),N0()),this.relations.push(Z)}addAnnotation(Z,J){let Q=this.splitClassNameAndType(Z).className;this.classes.get(Q).annotations.push(J)}addMember(Z,J){this.addClass(Z);let Q=this.splitClassNameAndType(Z).className,K=this.classes.get(Q);if(typeof J==="string"){let X=J.trim();if(X.startsWith("<<")&&X.endsWith(">>"))K.annotations.push(ez(X.substring(2,X.length-2)));else if(X.indexOf(")")>0)K.methods.push(new Mm0(X,"method"));else if(X)K.members.push(new Mm0(X,"attribute"))}}addMembers(Z,J){if(Array.isArray(J))J.reverse(),J.forEach((Q)=>this.addMember(Z,Q))}addNote(Z,J){let Q={id:`note${this.notes.length}`,class:J,text:Z};this.notes.push(Q)}cleanupLabel(Z){if(Z.startsWith(":"))Z=Z.substring(1);return ez(Z.trim())}setCssClass(Z,J){Z.split(",").forEach((Q)=>{let K=Q;if(/\d/.exec(Q[0]))K=i_+K;let X=this.classes.get(K);if(X)X.cssClasses+=" "+J})}defineClass(Z,J){for(let Q of Z){let K=this.styleClasses.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.styleClasses.set(Q,K);if(J)J.forEach((X)=>{if(/color/.exec(X)){let U=X.replace("fill","bgFill");K.textStyles.push(U)}K.styles.push(X)});this.classes.forEach((X)=>{if(X.cssClasses.includes(Q))X.styles.push(...J.flatMap((U)=>U.split(",")))})}}setTooltip(Z,J){Z.split(",").forEach((Q)=>{if(J!==void 0)this.classes.get(Q).tooltip=ez(J)})}getTooltip(Z,J){if(J&&this.namespaces.has(J))return this.namespaces.get(J).classes.get(Z).tooltip;return this.classes.get(Z).tooltip}setLink(Z,J,Q){let K=N0();Z.split(",").forEach((X)=>{let U=X;if(/\d/.exec(X[0]))U=i_+U;let Y=this.classes.get(U);if(Y)if(Y.link=n8.formatUrl(J,K),K.securityLevel==="sandbox")Y.linkTarget="_top";else if(typeof Q==="string")Y.linkTarget=ez(Q);else Y.linkTarget="_blank"}),this.setCssClass(Z,"clickable")}setClickEvent(Z,J,Q){Z.split(",").forEach((K)=>{this.setClickFunc(K,J,Q),this.classes.get(K).haveCallback=!0}),this.setCssClass(Z,"clickable")}setClickFunc(Z,J,Q){let K=J8.sanitizeText(Z,N0());if(N0().securityLevel!=="loose")return;if(J===void 0)return;let U=K;if(this.classes.has(U)){let Y=this.lookUpDomId(U),q=[];if(typeof Q==="string"){q=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let W=0;W<q.length;W++){let G=q[W].trim();if(G.startsWith('"')&&G.endsWith('"'))G=G.substr(1,G.length-2);q[W]=G}}if(q.length===0)q.push(Y);this.functions.push(()=>{let W=document.querySelector(`[id="${Y}"]`);if(W!==null)W.addEventListener("click",()=>{n8.runFunc(J,...q)},!1)})}}bindFunctions(Z){this.functions.forEach((J)=>{J(Z)})}getDirection(){return this.direction}setDirection(Z){this.direction=Z}addNamespace(Z){if(this.namespaces.has(Z))return;this.namespaces.set(Z,{id:Z,classes:new Map,children:{},domId:i_+Z+"-"+this.namespaceCounter}),this.namespaceCounter++}getNamespace(Z){return this.namespaces.get(Z)}getNamespaces(){return this.namespaces}addClassesToNamespace(Z,J){if(!this.namespaces.has(Z))return;for(let Q of J){let{className:K}=this.splitClassNameAndType(Q);this.classes.get(K).parent=Z,this.namespaces.get(Z).classes.set(K,this.classes.get(K))}}setCssStyle(Z,J){let Q=this.classes.get(Z);if(!J||!Q)return;for(let K of J)if(K.includes(","))Q.styles.push(...K.split(","));else Q.styles.push(K)}getArrowMarker(Z){let J;switch(Z){case 0:J="aggregation";break;case 1:J="extension";break;case 2:J="composition";break;case 3:J="dependency";break;case 4:J="lollipop";break;default:J="none"}return J}getData(){let Z=[],J=[],Q=N0();for(let X of this.namespaces.keys()){let U=this.namespaces.get(X);if(U){let Y={id:U.id,label:U.id,isGroup:!0,padding:Q.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:Q.look};Z.push(Y)}}for(let X of this.classes.keys()){let U=this.classes.get(X);if(U){let Y=U;Y.parentId=U.parent,Y.look=Q.look,Z.push(Y)}}let K=0;for(let X of this.notes){K++;let U={id:X.id,label:X.text,isGroup:!1,shape:"note",padding:Q.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${Q.themeVariables.noteBkgColor}`,`stroke: ${Q.themeVariables.noteBorderColor}`],look:Q.look};Z.push(U);let Y=this.classes.get(X.class)?.id??"";if(Y){let q={id:`edgeNote${K}`,start:X.id,end:Y,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:Q.look};J.push(q)}}for(let X of this.interfaces){let U={id:X.id,label:X.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:Q.look};Z.push(U)}K=0;for(let X of this.relations){K++;let U={id:kX(X.id1,X.id2,{prefix:"id",counter:K}),start:X.id1,end:X.id2,type:"normal",label:X.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(X.relation.type1),arrowTypeEnd:this.getArrowMarker(X.relation.type2),startLabelRight:X.relationTitle1==="none"?"":X.relationTitle1,endLabelLeft:X.relationTitle2==="none"?"":X.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:X.style||"",pattern:X.relation.lineType==1?"dashed":"solid",look:Q.look};J.push(U)}return{nodes:Z,edges:J,other:{},config:Q,direction:this.getDirection()}}},Hy8=I((Z)=>`g.classGroup text {
  fill: ${Z.nodeBorder||Z.classText};
  stroke: none;
  font-family: ${Z.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${Z.classText};
}
.edgeLabel .label rect {
  fill: ${Z.mainBkg};
}
.label text {
  fill: ${Z.classText};
}

.labelBkg {
  background: ${Z.mainBkg};
}
.edgeLabel .label span {
  background: ${Z.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.classGroup line {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${Z.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${Z.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
  ${oX()}
`,"getStyles"),n_=Hy8,Fy8=I((Z,J="TB")=>{if(!Z.doc)return J;let Q=J;for(let K of Z.doc)if(K.stmt==="dir")Q=K.value;return Q},"getDir"),My8=I(function(Z,J){return J.db.getClasses()},"getClasses"),By8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing class diagram (v3)",J);let{securityLevel:X,state:U,layout:Y}=N0(),q=K.db.getData(),W=TK(J,X);q.type=K.type,q.layoutAlgorithm=rX(Y),q.nodeSpacing=U?.nodeSpacing||50,q.rankSpacing=U?.rankSpacing||50,q.markers=["aggregation","extension","composition","dependency","lollipop"],q.diagramId=J,await EK(q,W);let G=8;n8.insertTitle(W,"classDiagramTitleText",U?.titleTopMargin??25,K.db.getDiagramTitle()),e6(W,G,"classDiagram",U?.useMaxWidth??!0)},"draw"),a_={getClasses:My8,draw:By8,getDir:Fy8}});var Om0={};z9(Om0,{diagram:()=>Oy8});var Oy8;var Rm0=_(()=>{rt();hq();S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();Oy8={parser:s_,get db(){return new r_},renderer:a_,styles:n_,init:I((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var Dm0={};z9(Dm0,{diagram:()=>Ry8});var Ry8;var Lm0=_(()=>{rt();hq();S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();Ry8={parser:s_,get db(){return new r_},renderer:a_,styles:n_,init:I((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});function e_(Z="",J=0,Q="",K=et){let X=Q!==null&&Q.length>0?`${K}${Q}`:"";return`${xy8}-${Z}${X}-${J}`}function yA(Z,J,Q){if(!J.id||J.id==="</join></fork>"||J.id==="</choice>")return;if(J.cssClasses){if(!Array.isArray(J.cssCompiledStyles))J.cssCompiledStyles=[];J.cssClasses.split(" ").forEach((X)=>{let U=Q.get(X);if(U)J.cssCompiledStyles=[...J.cssCompiledStyles??[],...U.styles]})}let K=Z.find((X)=>X.id===J.id);if(K)Object.assign(K,J);else Z.push(J)}function hm0(Z){return Z?.classes?.join(" ")??""}function mm0(Z){return Z?.styles??[]}var ot,Zf,Dy8="TB",Cm0="TB",Im0="dir",BO="state",MO="root",tt="relation",Ly8="classDef",Iy8="style",Ay8="applyClass",mA="default",Sm0="divider",Tm0="fill:none",wm0="fill: #333",$m0="c",km0="text",_m0="normal",nt="rect",at="rectWithTitle",Ny8="stateStart",Ey8="stateEnd",Am0="divider",Nm0="roundedWithTitle",Vy8="note",Py8="noteGroup",uA="statediagram",jy8="state",Cy8,fm0="transition",Sy8="note",Ty8="note-edge",wy8,$y8,ky8="cluster",_y8,fy8="cluster-alt",vy8,vm0="parent",xm0="note",xy8="state",et="----",by8,Em0,bm0,yy8,hy8,ym0,t_,mW=0,my8,Vm0,hA,uy8,P6,Pm0,jm0,o_,sY,gy8,Jf;var Ze=_(()=>{S5();wK();VK();jZ();T9();M9();ot=function(){var Z=I(function(y,u,h,p){for(h=h||{},p=y.length;p--;h[y[p]]=u);return h},"o"),J=[1,2],Q=[1,3],K=[1,4],X=[2,4],U=[1,9],Y=[1,11],q=[1,16],W=[1,17],G=[1,18],z=[1,19],H=[1,33],F=[1,20],M=[1,21],B=[1,22],O=[1,23],R=[1,24],D=[1,26],L=[1,27],A=[1,28],V=[1,29],N=[1,30],E=[1,31],j=[1,32],C=[1,35],$=[1,36],k=[1,37],w=[1,38],P=[1,34],T=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],S=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],f=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],v={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:I(function(u,h,p,r,e,i,U0){var a=i.length-1;switch(e){case 3:return r.setRootDoc(i[a]),i[a];break;case 4:this.$=[];break;case 5:if(i[a]!="nl")i[a-1].push(i[a]),this.$=i[a-1];break;case 6:case 7:this.$=i[a];break;case 8:this.$="nl";break;case 12:this.$=i[a];break;case 13:let t=i[a-1];t.description=r.trimColon(i[a]),this.$=t;break;case 14:this.$={stmt:"relation",state1:i[a-2],state2:i[a]};break;case 15:let n=r.trimColon(i[a]);this.$={stmt:"relation",state1:i[a-3],state2:i[a-1],description:n};break;case 19:this.$={stmt:"state",id:i[a-3],type:"default",description:"",doc:i[a-1]};break;case 20:var z0=i[a],J0=i[a-2].trim();if(i[a].match(":")){var Q0=i[a].split(":");z0=Q0[0],J0=[J0,Q0[1]]}this.$={stmt:"state",id:z0,type:"default",description:J0};break;case 21:this.$={stmt:"state",id:i[a-3],type:"default",description:i[a-5],doc:i[a-1]};break;case 22:this.$={stmt:"state",id:i[a],type:"fork"};break;case 23:this.$={stmt:"state",id:i[a],type:"join"};break;case 24:this.$={stmt:"state",id:i[a],type:"choice"};break;case 25:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:i[a-1].trim(),note:{position:i[a-2].trim(),text:i[a].trim()}};break;case 29:this.$=i[a].trim(),r.setAccTitle(this.$);break;case 30:case 31:this.$=i[a].trim(),r.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:i[a-3],url:i[a-2],tooltip:i[a-1]};break;case 33:this.$={stmt:"click",id:i[a-3],url:i[a-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:i[a-1].trim(),classes:i[a].trim()};break;case 36:this.$={stmt:"style",id:i[a-1].trim(),styleClass:i[a].trim()};break;case 37:this.$={stmt:"applyClass",id:i[a-1].trim(),styleClass:i[a].trim()};break;case 38:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:i[a].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:i[a-2].trim(),classes:[i[a].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:i[a-2].trim(),classes:[i[a].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],X,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:D,35:L,37:A,38:V,41:N,45:E,48:j,51:C,52:$,53:k,54:w,57:P},Z(T,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:q,17:W,19:G,22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:D,35:L,37:A,38:V,41:N,45:E,48:j,51:C,52:$,53:k,54:w,57:P},Z(T,[2,7]),Z(T,[2,8]),Z(T,[2,9]),Z(T,[2,10]),Z(T,[2,11]),Z(T,[2,12],{14:[1,40],15:[1,41]}),Z(T,[2,16]),{18:[1,42]},Z(T,[2,18],{20:[1,43]}),{23:[1,44]},Z(T,[2,22]),Z(T,[2,23]),Z(T,[2,24]),Z(T,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},Z(T,[2,28]),{34:[1,49]},{36:[1,50]},Z(T,[2,31]),{13:51,24:H,57:P},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},Z(S,[2,44],{58:[1,56]}),Z(S,[2,45],{58:[1,57]}),Z(T,[2,38]),Z(T,[2,39]),Z(T,[2,40]),Z(T,[2,41]),Z(T,[2,6]),Z(T,[2,13]),{13:58,24:H,57:P},Z(T,[2,17]),Z(f,X,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},Z(T,[2,29]),Z(T,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},Z(T,[2,14],{14:[1,71]}),{4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,21:[1,72],22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:D,35:L,37:A,38:V,41:N,45:E,48:j,51:C,52:$,53:k,54:w,57:P},Z(T,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},Z(T,[2,34]),Z(T,[2,35]),Z(T,[2,36]),Z(T,[2,37]),Z(S,[2,46]),Z(S,[2,47]),Z(T,[2,15]),Z(T,[2,19]),Z(f,X,{7:78}),Z(T,[2,26]),Z(T,[2,27]),{5:[1,79]},{5:[1,80]},{4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,21:[1,81],22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:D,35:L,37:A,38:V,41:N,45:E,48:j,51:C,52:$,53:k,54:w,57:P},Z(T,[2,32]),Z(T,[2,33]),Z(T,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:I(function(u,h){if(h.recoverable)this.trace(u);else{var p=Error(u);throw p.hash=h,p}},"parseError"),parse:I(function(u){var h=this,p=[0],r=[],e=[null],i=[],U0=this.table,a="",z0=0,J0=0,Q0=0,t=2,n=1,Y0=i.slice.call(arguments,1),o=Object.create(this.lexer),M0={yy:{}};for(var X0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,X0))M0.yy[X0]=this.yy[X0];if(o.setInput(u,M0.yy),M0.yy.lexer=o,M0.yy.parser=this,typeof o.yylloc>"u")o.yylloc={};var E0=o.yylloc;i.push(E0);var d=o.options&&o.options.ranges;if(typeof M0.yy.parseError==="function")this.parseError=M0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function c0(m){p.length=p.length-2*m,e.length=e.length-m,i.length=i.length-m}I(c0,"popStack");function B0(){var m=r.pop()||o.lex()||n;if(typeof m!=="number"){if(m instanceof Array)r=m,m=r.pop();m=h.symbols_[m]||m}return m}I(B0,"lex");var y0,n0,s0,k0,x0,f0,C0={},h0,F0,I0,s;while(!0){if(s0=p[p.length-1],this.defaultActions[s0])k0=this.defaultActions[s0];else{if(y0===null||typeof y0>"u")y0=B0();k0=U0[s0]&&U0[s0][y0]}if(typeof k0>"u"||!k0.length||!k0[0]){var H0="";s=[];for(h0 in U0[s0])if(this.terminals_[h0]&&h0>t)s.push("'"+this.terminals_[h0]+"'");if(o.showPosition)H0="Parse error on line "+(z0+1)+`:
`+o.showPosition()+`
Expecting `+s.join(", ")+", got '"+(this.terminals_[y0]||y0)+"'";else H0="Parse error on line "+(z0+1)+": Unexpected "+(y0==n?"end of input":"'"+(this.terminals_[y0]||y0)+"'");this.parseError(H0,{text:o.match,token:this.terminals_[y0]||y0,line:o.yylineno,loc:E0,expected:s})}if(k0[0]instanceof Array&&k0.length>1)throw Error("Parse Error: multiple actions possible at state: "+s0+", token: "+y0);switch(k0[0]){case 1:if(p.push(y0),e.push(o.yytext),i.push(o.yylloc),p.push(k0[1]),y0=null,!n0){if(J0=o.yyleng,a=o.yytext,z0=o.yylineno,E0=o.yylloc,Q0>0)Q0--}else y0=n0,n0=null;break;case 2:if(F0=this.productions_[k0[1]][1],C0.$=e[e.length-F0],C0._$={first_line:i[i.length-(F0||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(F0||1)].first_column,last_column:i[i.length-1].last_column},d)C0._$.range=[i[i.length-(F0||1)].range[0],i[i.length-1].range[1]];if(f0=this.performAction.apply(C0,[a,J0,z0,M0.yy,k0[1],e,i].concat(Y0)),typeof f0<"u")return f0;if(F0)p=p.slice(0,-1*F0*2),e=e.slice(0,-1*F0),i=i.slice(0,-1*F0);p.push(this.productions_[k0[1]][0]),e.push(C0.$),i.push(C0._$),I0=U0[p[p.length-2]][p[p.length-1]],p.push(I0);break;case 3:return!0}}return!0},"parse")},x=function(){var y={EOF:1,parseError:I(function(h,p){if(this.yy.parser)this.yy.parser.parseError(h,p);else throw Error(h)},"parseError"),setInput:I(function(u,h){if(this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);if(h)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),u},"input"),unput:I(function(u){var h=u.length,p=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var r=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),p.length-1)this.yylineno-=p.length-1;var e=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:p?(p.length===r.length?this.yylloc.first_column:0)+r[r.length-p.length].length-p[0].length:this.yylloc.first_column-h},this.options.ranges)this.yylloc.range=[e[0],e[0]+this.yyleng-h];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(u){this.unput(this.match.slice(u))},"less"),pastInput:I(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var u=this.match;if(u.length<20)u+=this._input.substr(0,20-u.length);return(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var u=this.pastInput(),h=Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:I(function(u,h){var p,r,e;if(this.options.backtrack_lexer){if(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)e.yylloc.range=this.yylloc.range.slice(0)}if(r=u[0].match(/(?:\r\n?|\n).*/g),r)this.yylineno+=r.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],p=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(p)return p;else if(this._backtrack){for(var i in e)this[i]=e[i];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var u,h,p,r;if(!this._more)this.yytext="",this.match="";var e=this._currentRules();for(var i=0;i<e.length;i++)if(p=this._input.match(this.rules[e[i]]),p&&(!h||p[0].length>h[0].length)){if(h=p,r=i,this.options.backtrack_lexer)if(u=this.test_match(p,e[i]),u!==!1)return u;else if(this._backtrack){h=!1;continue}else return!1;else if(!this.options.flex)break}if(h){if(u=this.test_match(h,e[r]),u!==!1)return u;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var h=this.next();if(h)return h;else return this.lex()},"lex"),begin:I(function(h){this.conditionStack.push(h)},"begin"),popState:I(function(){var h=this.conditionStack.length-1;if(h>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(h){if(h=this.conditionStack.length-1-Math.abs(h||0),h>=0)return this.conditionStack[h];else return"INITIAL"},"topState"),pushState:I(function(h){this.begin(h)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(h,p,r,e){var i=e;switch(r){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;break;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;break;case 19:return this.popState(),"acc_title_value";break;case 20:return this.begin("acc_descr"),35;break;case 21:return this.popState(),"acc_descr_value";break;case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;break;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 27:return this.popState(),this.pushState("CLASSDEFID"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("CLASS"),48;break;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;break;case 31:return this.popState(),50;break;case 32:return this.pushState("STYLE"),45;break;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;break;case 34:return this.popState(),47;break;case 35:return this.pushState("SCALE"),17;break;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),p.yytext=p.yytext.slice(0,-10).trim(),27;break;case 42:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),25;break;case 43:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),26;break;case 44:return this.popState(),p.yytext=p.yytext.slice(0,-10).trim(),27;break;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";break;case 51:return this.popState(),"ID";break;case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;break;case 57:break;case 58:return this.popState(),21;break;case 59:break;case 60:return this.begin("NOTE"),29;break;case 61:return this.popState(),this.pushState("NOTE_ID"),59;break;case 62:return this.popState(),this.pushState("NOTE_ID"),60;break;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";break;case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 69:return this.popState(),p.yytext=p.yytext.substr(2).trim(),31;break;case 70:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),31;break;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return p.yytext=p.yytext.trim(),14;break;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return y}();v.lexer=x;function b(){this.yy={}}return I(b,"Parser"),b.prototype=v,v.Parser=b,new b}();ot.parser=ot;Zf=ot,Cy8=`${uA}-${jy8}`,wy8=`${fm0} ${Ty8}`,$y8=`${uA}-${Sy8}`,_y8=`${uA}-${ky8}`,vy8=`${uA}-${fy8}`,by8=`${et}${xm0}`,Em0=`${et}${vm0}`,bm0=I((Z,J=Cm0)=>{if(!Z.doc)return J;let Q=J;for(let K of Z.doc)if(K.stmt==="dir")Q=K.value;return Q},"getDir"),yy8=I(function(Z,J){return J.db.getClasses()},"getClasses"),hy8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing state diagram (v2)",J);let{securityLevel:X,state:U,layout:Y}=N0();K.db.extract(K.db.getRootDocV2());let q=K.db.getData(),W=TK(J,X);q.type=K.type,q.layoutAlgorithm=Y,q.nodeSpacing=U?.nodeSpacing||50,q.rankSpacing=U?.rankSpacing||50,q.markers=["barb"],q.diagramId=J,await EK(q,W);let G=8;try{(typeof K.db.getLinks==="function"?K.db.getLinks():new Map).forEach((H,F)=>{let M=typeof F==="string"?F:typeof F?.id==="string"?F.id:"";if(!M){Z0.warn(" Invalid or missing stateId from key:",JSON.stringify(F));return}let B=W.node()?.querySelectorAll("g"),O;if(B?.forEach((A)=>{if(A.textContent?.trim()===M)O=A}),!O){Z0.warn(" Could not find node matching text:",M);return}let R=O.parentNode;if(!R){Z0.warn(" Node has no parent, cannot wrap:",M);return}let D=document.createElementNS("http://www.w3.org/2000/svg","a"),L=H.url.replace(/^"+|"+$/g,"");if(D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",L),D.setAttribute("target","_blank"),H.tooltip){let A=H.tooltip.replace(/^"+|"+$/g,"");D.setAttribute("title",A)}R.replaceChild(D,O),D.appendChild(O),Z0.info("\uD83D\uDD17 Wrapped node in <a> tag for:",M,H.url)})}catch(z){Z0.error(" Error injecting clickable links:",z)}n8.insertTitle(W,"statediagramTitleText",U?.titleTopMargin??25,K.db.getDiagramTitle()),e6(W,G,uA,U?.useMaxWidth??!0)},"draw"),ym0={getClasses:yy8,draw:hy8,getDir:bm0},t_=new Map;I(e_,"stateDomId");my8=I((Z,J,Q,K,X,U,Y,q)=>{Z0.trace("items",J),J.forEach((W)=>{switch(W.stmt){case BO:hA(Z,W,Q,K,X,U,Y,q);break;case mA:hA(Z,W,Q,K,X,U,Y,q);break;case tt:{hA(Z,W.state1,Q,K,X,U,Y,q),hA(Z,W.state2,Q,K,X,U,Y,q);let G={id:"edge"+mW,start:W.state1.id,end:W.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Tm0,labelStyle:"",label:J8.sanitizeText(W.description??"",N0()),arrowheadStyle:wm0,labelpos:$m0,labelType:km0,thickness:_m0,classes:fm0,look:Y};X.push(G),mW++}break}})},"setupDoc"),Vm0=I((Z,J=Cm0)=>{let Q=J;if(Z.doc){for(let K of Z.doc)if(K.stmt==="dir")Q=K.value}return Q},"getDir");I(yA,"insertOrUpdateNode");I(hm0,"getClassesFromDbInfo");I(mm0,"getStylesFromDbInfo");hA=I((Z,J,Q,K,X,U,Y,q)=>{let W=J.id,G=Q.get(W),z=hm0(G),H=mm0(G),F=N0();if(Z0.info("dataFetcher parsedItem",J,G,H),W!=="root"){let M=nt;if(J.start===!0)M=Ny8;else if(J.start===!1)M=Ey8;if(J.type!==mA)M=J.type;if(!t_.get(W))t_.set(W,{id:W,shape:M,description:J8.sanitizeText(W,F),cssClasses:`${z} ${Cy8}`,cssStyles:H});let B=t_.get(W);if(J.description){if(Array.isArray(B.description))B.shape=at,B.description.push(J.description);else if(B.description?.length&&B.description.length>0)if(B.shape=at,B.description===W)B.description=[J.description];else B.description=[B.description,J.description];else B.shape=nt,B.description=J.description;B.description=J8.sanitizeTextOrArray(B.description,F)}if(B.description?.length===1&&B.shape===at)if(B.type==="group")B.shape=Nm0;else B.shape=nt;if(!B.type&&J.doc)Z0.info("Setting cluster for XCX",W,Vm0(J)),B.type="group",B.isGroup=!0,B.dir=Vm0(J),B.shape=J.type===Sm0?Am0:Nm0,B.cssClasses=`${B.cssClasses} ${_y8} ${U?vy8:""}`;let O={labelStyle:"",shape:B.shape,label:B.description,cssClasses:B.cssClasses,cssCompiledStyles:[],cssStyles:B.cssStyles,id:W,dir:B.dir,domId:e_(W,mW),type:B.type,isGroup:B.type==="group",padding:8,rx:10,ry:10,look:Y};if(O.shape===Am0)O.label="";if(Z&&Z.id!=="root")Z0.trace("Setting node ",W," to be child of its parent ",Z.id),O.parentId=Z.id;if(O.centerLabel=!0,J.note){let R={labelStyle:"",shape:Vy8,label:J.note.text,cssClasses:$y8,cssStyles:[],cssCompiledStyles:[],id:W+by8+"-"+mW,domId:e_(W,mW,xm0),type:B.type,isGroup:B.type==="group",padding:F.flowchart?.padding,look:Y,position:J.note.position},D=W+Em0,L={labelStyle:"",shape:Py8,label:J.note.text,cssClasses:B.cssClasses,cssStyles:[],id:W+Em0,domId:e_(W,mW,vm0),type:"group",isGroup:!0,padding:16,look:Y,position:J.note.position};mW++,L.id=D,R.parentId=D,yA(K,L,q),yA(K,R,q),yA(K,O,q);let A=W,V=R.id;if(J.note.position==="left of")A=R.id,V=W;X.push({id:A+"-"+V,start:A,end:V,arrowhead:"none",arrowTypeEnd:"",style:Tm0,labelStyle:"",classes:wy8,arrowheadStyle:wm0,labelpos:$m0,labelType:km0,thickness:_m0,look:Y})}else yA(K,O,q)}if(J.doc)Z0.trace("Adding nodes children "),my8(J,J.doc,Q,K,X,!U,Y,q)},"dataFetcher"),uy8=I(()=>{t_.clear(),mW=0},"reset"),P6={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},Pm0=I(()=>new Map,"newClassesList"),jm0=I(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),o_=I((Z)=>JSON.parse(JSON.stringify(Z)),"clone"),sY=class{constructor(Z){this.version=Z,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=Pm0(),this.documents={root:jm0()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=y9,this.setAccTitle=v9,this.getAccDescription=m9,this.setAccDescription=h9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}static{I(this,"StateDB")}static{this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}}extract(Z){this.clear(!0);for(let K of Array.isArray(Z)?Z:Z.doc)switch(K.stmt){case BO:this.addState(K.id.trim(),K.type,K.doc,K.description,K.note);break;case tt:this.addRelation(K.state1,K.state2,K.description);break;case Ly8:this.addStyleClass(K.id.trim(),K.classes);break;case Iy8:this.handleStyleDef(K);break;case Ay8:this.setCssClass(K.id.trim(),K.styleClass);break;case"click":this.addLink(K.id,K.url,K.tooltip);break}let J=this.getStates(),Q=N0();uy8(),hA(void 0,this.getRootDocV2(),J,this.nodes,this.edges,!0,Q.look,this.classes);for(let K of this.nodes){if(!Array.isArray(K.label))continue;if(K.description=K.label.slice(1),K.isGroup&&K.description.length>0)throw Error(`Group nodes can only have label. Remove the additional description for node [${K.id}]`);K.label=K.label[0]}}handleStyleDef(Z){let J=Z.id.trim().split(","),Q=Z.styleClass.split(",");for(let K of J){let X=this.getState(K);if(!X){let U=K.trim();this.addState(U),X=this.getState(U)}if(X)X.styles=Q.map((U)=>U.replace(/;/g,"")?.trim())}}setRootDoc(Z){if(Z0.info("Setting root doc",Z),this.rootDoc=Z,this.version===1)this.extract(Z);else this.extract(this.getRootDocV2())}docTranslator(Z,J,Q){if(J.stmt===tt){this.docTranslator(Z,J.state1,!0),this.docTranslator(Z,J.state2,!1);return}if(J.stmt===BO)if(J.id===P6.START_NODE)J.id=Z.id+(Q?"_start":"_end"),J.start=Q;else J.id=J.id.trim();if(J.stmt!==MO&&J.stmt!==BO||!J.doc)return;let K=[],X=[];for(let U of J.doc)if(U.type===Sm0){let Y=o_(U);Y.doc=o_(X),K.push(Y),X=[]}else X.push(U);if(K.length>0&&X.length>0){let U={stmt:BO,id:Vp(),type:"divider",doc:o_(X)};K.push(o_(U)),J.doc=K}J.doc.forEach((U)=>this.docTranslator(J,U,!0))}getRootDocV2(){return this.docTranslator({id:MO,stmt:MO},{id:MO,stmt:MO,doc:this.rootDoc},!0),{id:MO,doc:this.rootDoc}}addState(Z,J=mA,Q=void 0,K=void 0,X=void 0,U=void 0,Y=void 0,q=void 0){let W=Z?.trim();if(!this.currentDocument.states.has(W))Z0.info("Adding state ",W,K),this.currentDocument.states.set(W,{stmt:BO,id:W,descriptions:[],type:J,doc:Q,note:X,classes:[],styles:[],textStyles:[]});else{let G=this.currentDocument.states.get(W);if(!G)throw Error(`State not found: ${W}`);if(!G.doc)G.doc=Q;if(!G.type)G.type=J}if(K)Z0.info("Setting state description",W,K),(Array.isArray(K)?K:[K]).forEach((z)=>this.addDescription(W,z.trim()));if(X){let G=this.currentDocument.states.get(W);if(!G)throw Error(`State not found: ${W}`);G.note=X,G.note.text=J8.sanitizeText(G.note.text,N0())}if(U)Z0.info("Setting state classes",W,U),(Array.isArray(U)?U:[U]).forEach((z)=>this.setCssClass(W,z.trim()));if(Y)Z0.info("Setting state styles",W,Y),(Array.isArray(Y)?Y:[Y]).forEach((z)=>this.setStyle(W,z.trim()));if(q)Z0.info("Setting state styles",W,Y),(Array.isArray(q)?q:[q]).forEach((z)=>this.setTextStyle(W,z.trim()))}clear(Z){if(this.nodes=[],this.edges=[],this.documents={root:jm0()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=Pm0(),!Z)this.links=new Map,S9()}getState(Z){return this.currentDocument.states.get(Z)}getStates(){return this.currentDocument.states}logDocuments(){Z0.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(Z,J,Q){this.links.set(Z,{url:J,tooltip:Q}),Z0.warn("Adding link",Z,J,Q)}getLinks(){return this.links}startIdIfNeeded(Z=""){if(Z===P6.START_NODE)return this.startEndCount++,`${P6.START_TYPE}${this.startEndCount}`;return Z}startTypeIfNeeded(Z="",J=mA){return Z===P6.START_NODE?P6.START_TYPE:J}endIdIfNeeded(Z=""){if(Z===P6.END_NODE)return this.startEndCount++,`${P6.END_TYPE}${this.startEndCount}`;return Z}endTypeIfNeeded(Z="",J=mA){return Z===P6.END_NODE?P6.END_TYPE:J}addRelationObjs(Z,J,Q=""){let K=this.startIdIfNeeded(Z.id.trim()),X=this.startTypeIfNeeded(Z.id.trim(),Z.type),U=this.startIdIfNeeded(J.id.trim()),Y=this.startTypeIfNeeded(J.id.trim(),J.type);this.addState(K,X,Z.doc,Z.description,Z.note,Z.classes,Z.styles,Z.textStyles),this.addState(U,Y,J.doc,J.description,J.note,J.classes,J.styles,J.textStyles),this.currentDocument.relations.push({id1:K,id2:U,relationTitle:J8.sanitizeText(Q,N0())})}addRelation(Z,J,Q){if(typeof Z==="object"&&typeof J==="object")this.addRelationObjs(Z,J,Q);else if(typeof Z==="string"&&typeof J==="string"){let K=this.startIdIfNeeded(Z.trim()),X=this.startTypeIfNeeded(Z),U=this.endIdIfNeeded(J.trim()),Y=this.endTypeIfNeeded(J);this.addState(K,X),this.addState(U,Y),this.currentDocument.relations.push({id1:K,id2:U,relationTitle:Q?J8.sanitizeText(Q,N0()):void 0})}}addDescription(Z,J){let Q=this.currentDocument.states.get(Z),K=J.startsWith(":")?J.replace(":","").trim():J;Q?.descriptions?.push(J8.sanitizeText(K,N0()))}cleanupLabel(Z){return Z.startsWith(":")?Z.slice(2).trim():Z.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(Z,J=""){if(!this.classes.has(Z))this.classes.set(Z,{id:Z,styles:[],textStyles:[]});let Q=this.classes.get(Z);if(J&&Q)J.split(P6.STYLECLASS_SEP).forEach((K)=>{let X=K.replace(/([^;]*);/,"$1").trim();if(RegExp(P6.COLOR_KEYWORD).exec(K)){let Y=X.replace(P6.FILL_KEYWORD,P6.BG_FILL).replace(P6.COLOR_KEYWORD,P6.FILL_KEYWORD);Q.textStyles.push(Y)}Q.styles.push(X)})}getClasses(){return this.classes}setCssClass(Z,J){Z.split(",").forEach((Q)=>{let K=this.getState(Q);if(!K){let X=Q.trim();this.addState(X),K=this.getState(X)}K?.classes?.push(J)})}setStyle(Z,J){this.getState(Z)?.styles?.push(J)}setTextStyle(Z,J){this.getState(Z)?.textStyles?.push(J)}getDirectionStatement(){return this.rootDoc.find((Z)=>Z.stmt===Im0)}getDirection(){return this.getDirectionStatement()?.value??Dy8}setDirection(Z){let J=this.getDirectionStatement();if(J)J.value=Z;else this.rootDoc.unshift({stmt:Im0,value:Z})}trimColon(Z){return Z.startsWith(":")?Z.slice(1).trim():Z.trim()}getData(){let Z=N0();return{nodes:this.nodes,edges:this.edges,other:{},config:Z,direction:bm0(this.getRootDocV2())}}getConfig(){return N0().state}},gy8=I((Z)=>`
defs #statediagram-barbEnd {
    fill: ${Z.transitionColor};
    stroke: ${Z.transitionColor};
  }
g.stateGroup text {
  fill: ${Z.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${Z.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${Z.stateLabelColor};
}

g.stateGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.stateGroup line {
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${Z.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${Z.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${Z.noteBorderColor};
  fill: ${Z.noteBkgColor};

  text {
    fill: ${Z.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${Z.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${Z.edgeLabelBackground};
  p {
    background-color: ${Z.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${Z.edgeLabelBackground};
    fill: ${Z.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}

.stateLabel text {
  fill: ${Z.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node .fork-join {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node circle.state-end {
  fill: ${Z.innerEndBackground};
  stroke: ${Z.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${Z.compositeBackground||Z.background};
  // stroke: ${Z.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${Z.stateBkg||Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${Z.lineColor};
}

.statediagram-cluster rect {
  fill: ${Z.compositeTitleBackground};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${Z.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${Z.stateBorder||Z.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${Z.compositeBackground||Z.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${Z.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${Z.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${Z.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${Z.lineColor};
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
`,"getStyles"),Jf=gy8});var cm0={};z9(cm0,{diagram:()=>Kh8});var py8,cy8,ly8,dy8,iy8,sy8,ry8,ny8,ay8,um0,gm0=0,oy8,d4,Je,ty8,ey8,Zh8,Jh8,pm0,Qh8,Kh8;var lm0=_(()=>{Ze();S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();A9();El();RK();A9();py8=I((Z)=>Z.append("circle").attr("class","start-state").attr("r",N0().state.sizeUnit).attr("cx",N0().state.padding+N0().state.sizeUnit).attr("cy",N0().state.padding+N0().state.sizeUnit),"drawStartState"),cy8=I((Z)=>Z.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",N0().state.textHeight).attr("class","divider").attr("x2",N0().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),ly8=I((Z,J)=>{let Q=Z.append("text").attr("x",2*N0().state.padding).attr("y",N0().state.textHeight+2*N0().state.padding).attr("font-size",N0().state.fontSize).attr("class","state-title").text(J.id),K=Q.node().getBBox();return Z.insert("rect",":first-child").attr("x",N0().state.padding).attr("y",N0().state.padding).attr("width",K.width+2*N0().state.padding).attr("height",K.height+2*N0().state.padding).attr("rx",N0().state.radius),Q},"drawSimpleState"),dy8=I((Z,J)=>{let Q=I(function(F,M,B){let O=F.append("tspan").attr("x",2*N0().state.padding).text(M);if(!B)O.attr("dy",N0().state.textHeight)},"addTspan"),X=Z.append("text").attr("x",2*N0().state.padding).attr("y",N0().state.textHeight+1.3*N0().state.padding).attr("font-size",N0().state.fontSize).attr("class","state-title").text(J.descriptions[0]).node().getBBox(),U=X.height,Y=Z.append("text").attr("x",N0().state.padding).attr("y",U+N0().state.padding*0.4+N0().state.dividerMargin+N0().state.textHeight).attr("class","state-description"),q=!0,W=!0;J.descriptions.forEach(function(F){if(!q)Q(Y,F,W),W=!1;q=!1});let G=Z.append("line").attr("x1",N0().state.padding).attr("y1",N0().state.padding+U+N0().state.dividerMargin/2).attr("y2",N0().state.padding+U+N0().state.dividerMargin/2).attr("class","descr-divider"),z=Y.node().getBBox(),H=Math.max(z.width,X.width);return G.attr("x2",H+3*N0().state.padding),Z.insert("rect",":first-child").attr("x",N0().state.padding).attr("y",N0().state.padding).attr("width",H+2*N0().state.padding).attr("height",z.height+U+2*N0().state.padding).attr("rx",N0().state.radius),Z},"drawDescrState"),iy8=I((Z,J,Q)=>{let K=N0().state.padding,X=2*N0().state.padding,U=Z.node().getBBox(),Y=U.width,q=U.x,W=Z.append("text").attr("x",0).attr("y",N0().state.titleShift).attr("font-size",N0().state.fontSize).attr("class","state-title").text(J.id),z=W.node().getBBox().width+X,H=Math.max(z,Y);if(H===Y)H=H+X;let F,M=Z.node().getBBox();if(J.doc);if(F=q-K,z>Y)F=(Y-H)/2+K;if(Math.abs(q-M.x)<K&&z>Y)F=q-(z-Y)/2;let B=1-N0().state.textHeight;if(Z.insert("rect",":first-child").attr("x",F).attr("y",B).attr("class",Q?"alt-composit":"composit").attr("width",H).attr("height",M.height+N0().state.textHeight+N0().state.titleShift+1).attr("rx","0"),W.attr("x",F+K),z<=Y)W.attr("x",q+(H-X)/2-z/2+K);return Z.insert("rect",":first-child").attr("x",F).attr("y",N0().state.titleShift-N0().state.textHeight-N0().state.padding).attr("width",H).attr("height",N0().state.textHeight*3).attr("rx",N0().state.radius),Z.insert("rect",":first-child").attr("x",F).attr("y",N0().state.titleShift-N0().state.textHeight-N0().state.padding).attr("width",H).attr("height",M.height+3+2*N0().state.textHeight).attr("rx",N0().state.radius),Z},"addTitleAndBox"),sy8=I((Z)=>{return Z.append("circle").attr("class","end-state-outer").attr("r",N0().state.sizeUnit+N0().state.miniPadding).attr("cx",N0().state.padding+N0().state.sizeUnit+N0().state.miniPadding).attr("cy",N0().state.padding+N0().state.sizeUnit+N0().state.miniPadding),Z.append("circle").attr("class","end-state-inner").attr("r",N0().state.sizeUnit).attr("cx",N0().state.padding+N0().state.sizeUnit+2).attr("cy",N0().state.padding+N0().state.sizeUnit+2)},"drawEndState"),ry8=I((Z,J)=>{let Q=N0().state.forkWidth,K=N0().state.forkHeight;if(J.parentId){let X=Q;Q=K,K=X}return Z.append("rect").style("stroke","black").style("fill","black").attr("width",Q).attr("height",K).attr("x",N0().state.padding).attr("y",N0().state.padding)},"drawForkJoinState"),ny8=I((Z,J,Q,K)=>{let X=0,U=K.append("text");U.style("text-anchor","start"),U.attr("class","noteText");let Y=Z.replace(/\r\n/g,"<br/>");Y=Y.replace(/\n/g,"<br/>");let q=Y.split(J8.lineBreakRegex),W=1.25*N0().state.noteMargin;for(let G of q){let z=G.trim();if(z.length>0){let H=U.append("tspan");if(H.text(z),W===0){let F=H.node().getBBox();W+=F.height}X+=W,H.attr("x",J+N0().state.noteMargin),H.attr("y",Q+X+1.25*N0().state.noteMargin)}}return{textWidth:U.node().getBBox().width,textHeight:X}},"_drawLongText"),ay8=I((Z,J)=>{J.attr("class","state-note");let Q=J.append("rect").attr("x",0).attr("y",N0().state.padding),K=J.append("g"),{textWidth:X,textHeight:U}=ny8(Z,0,0,K);return Q.attr("height",U+2*N0().state.noteMargin),Q.attr("width",X+N0().state.noteMargin*2),Q},"drawNote"),um0=I(function(Z,J){let Q=J.id,K={id:Q,label:J.id,width:0,height:0},X=Z.append("g").attr("id",Q).attr("class","stateGroup");if(J.type==="start")py8(X);if(J.type==="end")sy8(X);if(J.type==="fork"||J.type==="join")ry8(X,J);if(J.type==="note")ay8(J.note.text,X);if(J.type==="divider")cy8(X);if(J.type==="default"&&J.descriptions.length===0)ly8(X,J);if(J.type==="default"&&J.descriptions.length>0)dy8(X,J);let U=X.node().getBBox();return K.width=U.width+2*N0().state.padding,K.height=U.height+2*N0().state.padding,K},"drawState"),oy8=I(function(Z,J,Q){let K=I(function(W){switch(W){case sY.relationType.AGGREGATION:return"aggregation";case sY.relationType.EXTENSION:return"extension";case sY.relationType.COMPOSITION:return"composition";case sY.relationType.DEPENDENCY:return"dependency"}},"getRelationType");J.points=J.points.filter((W)=>!Number.isNaN(W.y));let X=J.points,U=O5().x(function(W){return W.x}).y(function(W){return W.y}).curve(GK),Y=Z.append("path").attr("d",U(X)).attr("id","edge"+gm0).attr("class","transition"),q="";if(N0().state.arrowMarkerAbsolute)q=VG(!0);if(Y.attr("marker-end","url("+q+"#"+K(sY.relationType.DEPENDENCY)+"End)"),Q.title!==void 0){let W=Z.append("g").attr("class","stateLabel"),{x:G,y:z}=n8.calcLabelPosition(J.points),H=J8.getRows(Q.title),F=0,M=[],B=0,O=0;for(let L=0;L<=H.length;L++){let A=W.append("text").attr("text-anchor","middle").text(H[L]).attr("x",G).attr("y",z+F),V=A.node().getBBox();if(B=Math.max(B,V.width),O=Math.min(O,V.x),Z0.info(V.x,G,z+F),F===0)F=A.node().getBBox().height,Z0.info("Title height",F,z);M.push(A)}let R=F*H.length;if(H.length>1){let L=(H.length-1)*F*0.5;M.forEach((A,V)=>A.attr("y",z+V*F-L)),R=F*H.length}let D=W.node().getBBox();W.insert("rect",":first-child").attr("class","box").attr("x",G-B/2-N0().state.padding/2).attr("y",z-R/2-N0().state.padding/2-3.5).attr("width",B+N0().state.padding).attr("height",R+N0().state.padding),Z0.info(D)}gm0++},"drawEdge"),Je={},ty8=I(function(){},"setConf"),ey8=I(function(Z){Z.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),Zh8=I(function(Z,J,Q,K){d4=N0().state;let X=N0().securityLevel,U;if(X==="sandbox")U=i0("#i"+J);let Y=X==="sandbox"?i0(U.nodes()[0].contentDocument.body):i0("body"),q=X==="sandbox"?U.nodes()[0].contentDocument:document;Z0.debug("Rendering diagram "+Z);let W=Y.select(`[id='${J}']`);ey8(W);let G=K.db.getRootDoc();pm0(G,W,void 0,!1,Y,q,K);let z=d4.padding,H=W.node().getBBox(),F=H.width+z*2,M=H.height+z*2,B=F*1.75;PZ(W,M,B,d4.useMaxWidth),W.attr("viewBox",`${H.x-d4.padding}  ${H.y-d4.padding} `+F+" "+M)},"draw"),Jh8=I((Z)=>{return Z?Z.length*d4.fontSizeFactor:1},"getLabelWidth"),pm0=I((Z,J,Q,K,X,U,Y)=>{let q=new SZ({compound:!0,multigraph:!0}),W,G=!0;for(W=0;W<Z.length;W++)if(Z[W].stmt==="relation"){G=!1;break}if(Q)q.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:G?1:d4.edgeLengthFactor,nodeSep:G?1:50,isMultiGraph:!0});else q.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:G?1:d4.edgeLengthFactor,nodeSep:G?1:50,ranker:"tight-tree",isMultiGraph:!0});q.setDefaultEdgeLabel(function(){return{}});let z=Y.db.getStates(),H=Y.db.getRelations(),F=Object.keys(z),M=!0;for(let L of F){let A=z[L];if(Q)A.parentId=Q;let V;if(A.doc){let N=J.append("g").attr("id",A.id).attr("class","stateGroup");if(V=pm0(A.doc,N,A.id,!K,X,U,Y),M){N=iy8(N,A,K);let E=N.node().getBBox();V.width=E.width,V.height=E.height+d4.padding/2,Je[A.id]={y:d4.compositTitleSize}}else{let E=N.node().getBBox();V.width=E.width,V.height=E.height}}else V=um0(J,A,q);if(A.note){let N={descriptions:[],id:A.id+"-note",note:A.note,type:"note"},E=um0(J,N,q);if(A.note.position==="left of")q.setNode(V.id+"-note",E),q.setNode(V.id,V);else q.setNode(V.id,V),q.setNode(V.id+"-note",E);q.setParent(V.id,V.id+"-group"),q.setParent(V.id+"-note",V.id+"-group")}else q.setNode(V.id,V)}Z0.debug("Count=",q.nodeCount(),q);let B=0;H.forEach(function(L){B++,Z0.debug("Setting edge",L),q.setEdge(L.id1,L.id2,{relation:L,width:Jh8(L.title),height:d4.labelHeight*J8.getRows(L.title).length,labelpos:"c"},"id"+B)}),eD(q),Z0.debug("Graph after layout",q.nodes());let O=J.node();q.nodes().forEach(function(L){if(L!==void 0&&q.node(L)!==void 0)Z0.warn("Node "+L+": "+JSON.stringify(q.node(L))),X.select("#"+O.id+" #"+L).attr("transform","translate("+(q.node(L).x-q.node(L).width/2)+","+(q.node(L).y+(Je[L]?Je[L].y:0)-q.node(L).height/2)+" )"),X.select("#"+O.id+" #"+L).attr("data-x-shift",q.node(L).x-q.node(L).width/2),U.querySelectorAll("#"+O.id+" #"+L+" .divider").forEach((V)=>{let N=V.parentElement,E=0,j=0;if(N){if(N.parentElement)E=N.parentElement.getBBox().width;if(j=parseInt(N.getAttribute("data-x-shift"),10),Number.isNaN(j))j=0}V.setAttribute("x1",0-j+8),V.setAttribute("x2",E-j-8)});else Z0.debug("No Node "+L+": "+JSON.stringify(q.node(L)))});let R=O.getBBox();q.edges().forEach(function(L){if(L!==void 0&&q.edge(L)!==void 0)Z0.debug("Edge "+L.v+" -> "+L.w+": "+JSON.stringify(q.edge(L))),oy8(J,q.edge(L),q.edge(L).relation)}),R=O.getBBox();let D={id:Q?Q:"root",label:Q?Q:"root",width:0,height:0};return D.width=R.width+2*d4.padding,D.height=R.height+2*d4.padding,Z0.debug("Doc rendered",D,q),D},"renderDoc"),Qh8={setConf:ty8,draw:Zh8},Kh8={parser:Zf,get db(){return new sY(1)},renderer:Qh8,styles:Jf,init:I((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var dm0={};z9(dm0,{diagram:()=>Xh8});var Xh8;var im0=_(()=>{Ze();S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();Xh8={parser:Zf,get db(){return new sY(2)},renderer:ym0,styles:Jf,init:I((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var Qu0={};z9(Qu0,{diagram:()=>jh8});function Ju0(Z){let J=N0().journey,Q=J.maxLabelWidth;Qf=0;let K=60;Object.keys(rY).forEach((X)=>{let U=rY[X].color,Y={cx:20,cy:K,r:7,fill:U,stroke:"#000",pos:rY[X].position};cA.drawCircle(Z,Y);let q=Z.append("text").attr("visibility","hidden").text(X),W=q.node().getBoundingClientRect().width;q.remove();let G=[];if(W<=Q)G=[X];else{let z=X.split(" "),H="";if(q=Z.append("text").attr("visibility","hidden"),z.forEach((F)=>{let M=H?`${H} ${F}`:F;if(q.text(M),q.node().getBoundingClientRect().width>Q){if(H)G.push(H);if(H=F,q.text(F),q.node().getBoundingClientRect().width>Q){let O="";for(let R of F)if(O+=R,q.text(O+"-"),q.node().getBoundingClientRect().width>Q)G.push(O.slice(0,-1)+"-"),O=R;H=O}}else H=M}),H)G.push(H);q.remove()}G.forEach((z,H)=>{let F={x:40,y:K+7+H*20,fill:"#666",text:z,textMargin:J.boxTextMargin??5},B=cA.drawText(Z,F).node().getBoundingClientRect().width;if(B>Qf&&B>J.leftMargin-B)Qf=B}),K+=Math.max(20,G.length*20)})}var Ke,Uh8,OO="",Xe,gA,pA,Yh8,qh8,Wh8,Gh8,zh8,Hh8,Fh8,sm0,Mh8,rm0,Bh8,Oh8,Ue,Rh8,tm0,em0,Dh8,Lh8,nm0=-1,Ih8,Ah8,Zu0,Nh8,cA,Eh8,rY,Qf=0,p5,uW=0,Vh8,gK,Qe,am0,Ph8,om0,jh8;var Ku0=_(()=>{OT();hq();T9();M9();A9();A9();Ke=function(){var Z=I(function(H,F,M,B){for(M=M||{},B=H.length;B--;M[H[B]]=F);return M},"o"),J=[6,8,10,11,12,14,16,17,18],Q=[1,9],K=[1,10],X=[1,11],U=[1,12],Y=[1,13],q=[1,14],W={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:I(function(F,M,B,O,R,D,L){var A=D.length-1;switch(R){case 1:return D[A-1];case 2:this.$=[];break;case 3:D[A-1].push(D[A]),this.$=D[A-1];break;case 4:case 5:this.$=D[A];break;case 6:case 7:this.$=[];break;case 8:O.setDiagramTitle(D[A].substr(6)),this.$=D[A].substr(6);break;case 9:this.$=D[A].trim(),O.setAccTitle(this.$);break;case 10:case 11:this.$=D[A].trim(),O.setAccDescription(this.$);break;case 12:O.addSection(D[A].substr(8)),this.$=D[A].substr(8);break;case 13:O.addTask(D[A-1],D[A]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:X,16:U,17:Y,18:q},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:15,11:Q,12:K,14:X,16:U,17:Y,18:q},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,16]},{15:[1,17]},Z(J,[2,11]),Z(J,[2,12]),{19:[1,18]},Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,13])],defaultActions:{},parseError:I(function(F,M){if(M.recoverable)this.trace(F);else{var B=Error(F);throw B.hash=M,B}},"parseError"),parse:I(function(F){var M=this,B=[0],O=[],R=[null],D=[],L=this.table,A="",V=0,N=0,E=0,j=2,C=1,$=D.slice.call(arguments,1),k=Object.create(this.lexer),w={yy:{}};for(var P in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,P))w.yy[P]=this.yy[P];if(k.setInput(F,w.yy),w.yy.lexer=k,w.yy.parser=this,typeof k.yylloc>"u")k.yylloc={};var T=k.yylloc;D.push(T);var S=k.options&&k.options.ranges;if(typeof w.yy.parseError==="function")this.parseError=w.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function f(J0){B.length=B.length-2*J0,R.length=R.length-J0,D.length=D.length-J0}I(f,"popStack");function v(){var J0=O.pop()||k.lex()||C;if(typeof J0!=="number"){if(J0 instanceof Array)O=J0,J0=O.pop();J0=M.symbols_[J0]||J0}return J0}I(v,"lex");var x,b,y,u,h,p,r={},e,i,U0,a;while(!0){if(y=B[B.length-1],this.defaultActions[y])u=this.defaultActions[y];else{if(x===null||typeof x>"u")x=v();u=L[y]&&L[y][x]}if(typeof u>"u"||!u.length||!u[0]){var z0="";a=[];for(e in L[y])if(this.terminals_[e]&&e>j)a.push("'"+this.terminals_[e]+"'");if(k.showPosition)z0="Parse error on line "+(V+1)+`:
`+k.showPosition()+`
Expecting `+a.join(", ")+", got '"+(this.terminals_[x]||x)+"'";else z0="Parse error on line "+(V+1)+": Unexpected "+(x==C?"end of input":"'"+(this.terminals_[x]||x)+"'");this.parseError(z0,{text:k.match,token:this.terminals_[x]||x,line:k.yylineno,loc:T,expected:a})}if(u[0]instanceof Array&&u.length>1)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+x);switch(u[0]){case 1:if(B.push(x),R.push(k.yytext),D.push(k.yylloc),B.push(u[1]),x=null,!b){if(N=k.yyleng,A=k.yytext,V=k.yylineno,T=k.yylloc,E>0)E--}else x=b,b=null;break;case 2:if(i=this.productions_[u[1]][1],r.$=R[R.length-i],r._$={first_line:D[D.length-(i||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(i||1)].first_column,last_column:D[D.length-1].last_column},S)r._$.range=[D[D.length-(i||1)].range[0],D[D.length-1].range[1]];if(p=this.performAction.apply(r,[A,N,V,w.yy,u[1],R,D].concat($)),typeof p<"u")return p;if(i)B=B.slice(0,-1*i*2),R=R.slice(0,-1*i),D=D.slice(0,-1*i);B.push(this.productions_[u[1]][0]),R.push(r.$),D.push(r._$),U0=L[B[B.length-2]][B[B.length-1]],B.push(U0);break;case 3:return!0}}return!0},"parse")},G=function(){var H={EOF:1,parseError:I(function(M,B){if(this.yy.parser)this.yy.parser.parseError(M,B);else throw Error(M)},"parseError"),setInput:I(function(F,M){if(this.yy=M||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var M=F.match(/(?:\r\n?|\n).*/g);if(M)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),F},"input"),unput:I(function(F){var M=F.length,B=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var O=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1)this.yylineno-=B.length-1;var R=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===O.length?this.yylloc.first_column:0)+O[O.length-B.length].length-B[0].length:this.yylloc.first_column-M},this.options.ranges)this.yylloc.range=[R[0],R[0]+this.yyleng-M];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(F){this.unput(this.match.slice(F))},"less"),pastInput:I(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var F=this.match;if(F.length<20)F+=this._input.substr(0,20-F.length);return(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var F=this.pastInput(),M=Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+M+"^"},"showPosition"),test_match:I(function(F,M){var B,O,R;if(this.options.backtrack_lexer){if(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)R.yylloc.range=this.yylloc.range.slice(0)}if(O=F[0].match(/(?:\r\n?|\n).*/g),O)this.yylineno+=O.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],B=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(B)return B;else if(this._backtrack){for(var D in R)this[D]=R[D];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var F,M,B,O;if(!this._more)this.yytext="",this.match="";var R=this._currentRules();for(var D=0;D<R.length;D++)if(B=this._input.match(this.rules[R[D]]),B&&(!M||B[0].length>M[0].length)){if(M=B,O=D,this.options.backtrack_lexer)if(F=this.test_match(B,R[D]),F!==!1)return F;else if(this._backtrack){M=!1;continue}else return!1;else if(!this.options.flex)break}if(M){if(F=this.test_match(M,R[O]),F!==!1)return F;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var M=this.next();if(M)return M;else return this.lex()},"lex"),begin:I(function(M){this.conditionStack.push(M)},"begin"),popState:I(function(){var M=this.conditionStack.length-1;if(M>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(M){if(M=this.conditionStack.length-1-Math.abs(M||0),M>=0)return this.conditionStack[M];else return"INITIAL"},"topState"),pushState:I(function(M){this.begin(M)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(M,B,O,R){var D=R;switch(O){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return H}();W.lexer=G;function z(){this.yy={}}return I(z,"Parser"),z.prototype=W,W.Parser=z,new z}();Ke.parser=Ke;Uh8=Ke,Xe=[],gA=[],pA=[],Yh8=I(function(){Xe.length=0,gA.length=0,OO="",pA.length=0,S9()},"clear"),qh8=I(function(Z){OO=Z,Xe.push(Z)},"addSection"),Wh8=I(function(){return Xe},"getSections"),Gh8=I(function(){let Z=sm0(),J=100,Q=0;while(!Z&&Q<J)Z=sm0(),Q++;return gA.push(...pA),gA},"getTasks"),zh8=I(function(){let Z=[];return gA.forEach((Q)=>{if(Q.people)Z.push(...Q.people)}),[...new Set(Z)].sort()},"updateActors"),Hh8=I(function(Z,J){let Q=J.substr(1).split(":"),K=0,X=[];if(Q.length===1)K=Number(Q[0]),X=[];else K=Number(Q[0]),X=Q[1].split(",");let U=X.map((q)=>q.trim()),Y={section:OO,type:OO,people:U,task:Z,score:K};pA.push(Y)},"addTask"),Fh8=I(function(Z){let J={section:OO,type:OO,description:Z,task:Z,classes:[]};gA.push(J)},"addTaskOrg"),sm0=I(function(){let Z=I(function(Q){return pA[Q].processed},"compileTask"),J=!0;for(let[Q,K]of pA.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),Mh8=I(function(){return zh8()},"getActors"),rm0={getConfig:I(()=>N0().journey,"getConfig"),clear:Yh8,setDiagramTitle:s9,getDiagramTitle:u9,setAccTitle:v9,getAccTitle:y9,setAccDescription:h9,getAccDescription:m9,addSection:qh8,getSections:Wh8,getTasks:Gh8,addTask:Hh8,addTaskOrg:Fh8,getActors:Mh8},Bh8=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${Z.textColor}
  }

  .legend {
    fill: ${Z.textColor};
    font-family: ${Z.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${Z.textColor}
  }

  .face {
    ${Z.faceColor?`fill: ${Z.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${Z.fillType0?`fill: ${Z.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${Z.fillType0?`fill: ${Z.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${Z.fillType0?`fill: ${Z.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${Z.fillType0?`fill: ${Z.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${Z.fillType0?`fill: ${Z.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${Z.fillType0?`fill: ${Z.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${Z.fillType0?`fill: ${Z.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${Z.fillType0?`fill: ${Z.fillType7}`:""};
  }

  .actor-0 {
    ${Z.actor0?`fill: ${Z.actor0}`:""};
  }
  .actor-1 {
    ${Z.actor1?`fill: ${Z.actor1}`:""};
  }
  .actor-2 {
    ${Z.actor2?`fill: ${Z.actor2}`:""};
  }
  .actor-3 {
    ${Z.actor3?`fill: ${Z.actor3}`:""};
  }
  .actor-4 {
    ${Z.actor4?`fill: ${Z.actor4}`:""};
  }
  .actor-5 {
    ${Z.actor5?`fill: ${Z.actor5}`:""};
  }
  ${oX()}
`,"getStyles"),Oh8=Bh8,Ue=I(function(Z,J){return Az(Z,J)},"drawRect"),Rh8=I(function(Z,J){let K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),X=Z.append("g");X.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),X.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function U(W){let G=B5().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}I(U,"smile");function Y(W){let G=B5().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}I(Y,"sad");function q(W){W.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(I(q,"ambivalent"),J.score>3)U(X);else if(J.score<3)Y(X);else q(X);return K},"drawFace"),tm0=I(function(Z,J){let Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),em0=I(function(Z,J){return UE0(Z,J)},"drawText"),Dh8=I(function(Z,J){function Q(X,U,Y,q,W){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-W)+" "+(X+Y-W*1.2)+","+(U+q)+" "+X+","+(U+q)}I(Q,"genPoints");let K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,em0(Z,J)},"drawLabel"),Lh8=I(function(Z,J,Q){let K=Z.append("g"),X=_Q();X.x=J.x,X.y=J.y,X.fill=J.fill,X.width=Q.width*J.taskCount+Q.diagramMarginX*(J.taskCount-1),X.height=Q.height,X.class="journey-section section-type-"+J.num,X.rx=3,X.ry=3,Ue(K,X),Zu0(Q)(J.text,K,X.x,X.y,X.width,X.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),Ih8=I(function(Z,J,Q){let K=J.x+Q.width/2,X=Z.append("g");nm0++;let U=450;X.append("line").attr("id","task"+nm0).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",U).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Rh8(X,{cx:K,cy:300+(5-J.score)*30,score:J.score});let Y=_Q();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,Ue(X,Y);let q=J.x+14;J.people.forEach((W)=>{let G=J.actors[W].color,z={cx:q,cy:J.y,r:7,fill:G,stroke:"#000",title:W,pos:J.actors[W].position};tm0(X,z),q+=10}),Zu0(Q)(J.task,X,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),Ah8=I(function(Z,J){HT(Z,J)},"drawBackgroundRect"),Zu0=function(){function Z(X,U,Y,q,W,G,z,H){let F=U.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("font-color",H).style("text-anchor","middle").text(X);K(F,z)}I(Z,"byText");function J(X,U,Y,q,W,G,z,H,F){let{taskFontSize:M,taskFontFamily:B}=H,O=X.split(/<br\s*\/?>/gi);for(let R=0;R<O.length;R++){let D=R*M-M*(O.length-1)/2,L=U.append("text").attr("x",Y+W/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);L.append("tspan").attr("x",Y+W/2).attr("dy",D).text(O[R]),L.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(L,z)}}I(J,"byTspan");function Q(X,U,Y,q,W,G,z,H){let F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(X,U){for(let Y in U)if(Y in U)X.attr(Y,U[Y])}return I(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),Nh8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),cA={drawRect:Ue,drawCircle:tm0,drawSection:Lh8,drawText:em0,drawLabel:Dh8,drawTask:Ih8,drawBackgroundRect:Ah8,initGraphics:Nh8},Eh8=I(function(Z){Object.keys(Z).forEach(function(Q){p5[Q]=Z[Q]})},"setConf"),rY={};I(Ju0,"drawActorLegend");p5=N0().journey,Vh8=I(function(Z,J,Q,K){let X=N0(),U=X.journey.titleColor,Y=X.journey.titleFontSize,q=X.journey.titleFontFamily,W=X.securityLevel,G;if(W==="sandbox")G=i0("#i"+J);let z=W==="sandbox"?i0(G.nodes()[0].contentDocument.body):i0("body");gK.init();let H=z.select("#"+J);cA.initGraphics(H);let F=K.db.getTasks(),M=K.db.getDiagramTitle(),B=K.db.getActors();for(let V in rY)delete rY[V];let O=0;B.forEach((V)=>{rY[V]={color:p5.actorColours[O%p5.actorColours.length],position:O},O++}),Ju0(H),uW=p5.leftMargin+Qf,gK.insert(0,0,uW,Object.keys(rY).length*50),Ph8(H,F,0);let R=gK.getBounds();if(M)H.append("text").text(M).attr("x",uW).attr("font-size",Y).attr("font-weight","bold").attr("y",25).attr("fill",U).attr("font-family",q);let D=R.stopy-R.starty+2*p5.diagramMarginY,L=uW+R.stopx+2*p5.diagramMarginX;PZ(H,D,L,p5.useMaxWidth),H.append("line").attr("x1",uW).attr("y1",p5.height*4).attr("x2",L-uW-4).attr("y2",p5.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let A=M?70:0;H.attr("viewBox",`${R.startx} -25 ${L} ${D+A}`),H.attr("preserveAspectRatio","xMinYMin meet"),H.attr("height",D+A+25)},"draw"),gK={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:I(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:I(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:I(function(Z,J,Q,K){let X=N0().journey,U=this,Y=0;function q(W){return I(function(z){Y++;let H=U.sequenceItems.length-Y+1;if(U.updateVal(z,"starty",J-H*X.boxMargin,Math.min),U.updateVal(z,"stopy",K+H*X.boxMargin,Math.max),U.updateVal(gK.data,"startx",Z-H*X.boxMargin,Math.min),U.updateVal(gK.data,"stopx",Q+H*X.boxMargin,Math.max),W!=="activation")U.updateVal(z,"startx",Z-H*X.boxMargin,Math.min),U.updateVal(z,"stopx",Q+H*X.boxMargin,Math.max),U.updateVal(gK.data,"starty",J-H*X.boxMargin,Math.min),U.updateVal(gK.data,"stopy",K+H*X.boxMargin,Math.max)},"updateItemBounds")}I(q,"updateFn"),this.sequenceItems.forEach(q())},"updateBounds"),insert:I(function(Z,J,Q,K){let X=Math.min(Z,Q),U=Math.max(Z,Q),Y=Math.min(J,K),q=Math.max(J,K);this.updateVal(gK.data,"startx",X,Math.min),this.updateVal(gK.data,"starty",Y,Math.min),this.updateVal(gK.data,"stopx",U,Math.max),this.updateVal(gK.data,"stopy",q,Math.max),this.updateBounds(X,Y,U,q)},"insert"),bumpVerticalPos:I(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return this.data},"getBounds")},Qe=p5.sectionFills,am0=p5.sectionColours,Ph8=I(function(Z,J,Q){let K=N0().journey,X="",U=K.height*2+K.diagramMarginY,Y=Q+U,q=0,W="#CCC",G="black",z=0;for(let[H,F]of J.entries()){if(X!==F.section){W=Qe[q%Qe.length],z=q%Qe.length,G=am0[q%am0.length];let B=0,O=F.section;for(let D=H;D<J.length;D++)if(J[D].section==O)B=B+1;else break;let R={x:H*K.taskMargin+H*K.width+uW,y:50,text:F.section,fill:W,num:z,colour:G,taskCount:B};cA.drawSection(Z,R,K),X=F.section,q++}let M=F.people.reduce((B,O)=>{if(rY[O])B[O]=rY[O];return B},{});F.x=H*K.taskMargin+H*K.width+uW,F.y=Y,F.width=K.diagramMarginX,F.height=K.diagramMarginY,F.colour=G,F.fill=W,F.num=z,F.actors=M,cA.drawTask(Z,F,K),gK.insert(F.x,F.y,F.x+F.width+K.taskMargin,450)}},"drawTasks"),om0={setConf:Eh8,draw:Vh8},jh8={parser:Uh8,db:rm0,renderer:om0,styles:Oh8,init:I((Z)=>{om0.setConf(Z.journey),rm0.clear()},"init")}});var Iu0={};z9(Iu0,{diagram:()=>ih8});function Ge(Z,J){Z.each(function(){var Q=i0(this),K=Q.text().split(/(\s+|<br>)/).reverse(),X,U=[],Y=1.1,q=Q.attr("y"),W=parseFloat(Q.attr("dy")),G=Q.text(null).append("tspan").attr("x",0).attr("y",q).attr("dy",W+"em");for(let z=0;z<K.length;z++)if(X=K[K.length-1-z],U.push(X),G.text(U.join(" ").trim()),G.node().getComputedTextLength()>J||X==="<br>"){if(U.pop(),G.text(U.join(" ").trim()),X==="<br>")U=[""];else U=[X];G=Q.append("tspan").attr("x",0).attr("y",q).attr("dy",Y+"em").text(X)}})}var Ye,Ch8,qu0,RO="",Wu0=0,qe,Kf,DO,Gu0,zu0,Hu0,Fu0,Mu0,Bu0,Ou0,Ru0,Xu0,Sh8,Th8=12,Xf,wh8,$h8,Du0,kh8,_h8,Uu0=-1,fh8,vh8,xh8,We,Lu0,bh8,yh8,hh8,mh8,ZH,uh8,Yu0,gh8,ph8,ch8,lh8,dh8,ih8;var Au0=_(()=>{T9();M9();A9();A9();V4();Ye=function(){var Z=I(function(F,M,B,O){for(B=B||{},O=F.length;O--;B[F[O]]=M);return B},"o"),J=[6,8,10,11,12,14,16,17,20,21],Q=[1,9],K=[1,10],X=[1,11],U=[1,12],Y=[1,13],q=[1,16],W=[1,17],G={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:I(function(M,B,O,R,D,L,A){var V=L.length-1;switch(D){case 1:return L[V-1];case 2:this.$=[];break;case 3:L[V-1].push(L[V]),this.$=L[V-1];break;case 4:case 5:this.$=L[V];break;case 6:case 7:this.$=[];break;case 8:R.getCommonDb().setDiagramTitle(L[V].substr(6)),this.$=L[V].substr(6);break;case 9:this.$=L[V].trim(),R.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=L[V].trim(),R.getCommonDb().setAccDescription(this.$);break;case 12:R.addSection(L[V].substr(8)),this.$=L[V].substr(8);break;case 15:R.addTask(L[V],0,""),this.$=L[V];break;case 16:R.addEvent(L[V].substr(2)),this.$=L[V];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:X,16:U,17:Y,18:14,19:15,20:q,21:W},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:18,11:Q,12:K,14:X,16:U,17:Y,18:14,19:15,20:q,21:W},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,19]},{15:[1,20]},Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10])],defaultActions:{},parseError:I(function(M,B){if(B.recoverable)this.trace(M);else{var O=Error(M);throw O.hash=B,O}},"parseError"),parse:I(function(M){var B=this,O=[0],R=[],D=[null],L=[],A=this.table,V="",N=0,E=0,j=0,C=2,$=1,k=L.slice.call(arguments,1),w=Object.create(this.lexer),P={yy:{}};for(var T in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,T))P.yy[T]=this.yy[T];if(w.setInput(M,P.yy),P.yy.lexer=w,P.yy.parser=this,typeof w.yylloc>"u")w.yylloc={};var S=w.yylloc;L.push(S);var f=w.options&&w.options.ranges;if(typeof P.yy.parseError==="function")this.parseError=P.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function v(Q0){O.length=O.length-2*Q0,D.length=D.length-Q0,L.length=L.length-Q0}I(v,"popStack");function x(){var Q0=R.pop()||w.lex()||$;if(typeof Q0!=="number"){if(Q0 instanceof Array)R=Q0,Q0=R.pop();Q0=B.symbols_[Q0]||Q0}return Q0}I(x,"lex");var b,y,u,h,p,r,e={},i,U0,a,z0;while(!0){if(u=O[O.length-1],this.defaultActions[u])h=this.defaultActions[u];else{if(b===null||typeof b>"u")b=x();h=A[u]&&A[u][b]}if(typeof h>"u"||!h.length||!h[0]){var J0="";z0=[];for(i in A[u])if(this.terminals_[i]&&i>C)z0.push("'"+this.terminals_[i]+"'");if(w.showPosition)J0="Parse error on line "+(N+1)+`:
`+w.showPosition()+`
Expecting `+z0.join(", ")+", got '"+(this.terminals_[b]||b)+"'";else J0="Parse error on line "+(N+1)+": Unexpected "+(b==$?"end of input":"'"+(this.terminals_[b]||b)+"'");this.parseError(J0,{text:w.match,token:this.terminals_[b]||b,line:w.yylineno,loc:S,expected:z0})}if(h[0]instanceof Array&&h.length>1)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+b);switch(h[0]){case 1:if(O.push(b),D.push(w.yytext),L.push(w.yylloc),O.push(h[1]),b=null,!y){if(E=w.yyleng,V=w.yytext,N=w.yylineno,S=w.yylloc,j>0)j--}else b=y,y=null;break;case 2:if(U0=this.productions_[h[1]][1],e.$=D[D.length-U0],e._$={first_line:L[L.length-(U0||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(U0||1)].first_column,last_column:L[L.length-1].last_column},f)e._$.range=[L[L.length-(U0||1)].range[0],L[L.length-1].range[1]];if(r=this.performAction.apply(e,[V,E,N,P.yy,h[1],D,L].concat(k)),typeof r<"u")return r;if(U0)O=O.slice(0,-1*U0*2),D=D.slice(0,-1*U0),L=L.slice(0,-1*U0);O.push(this.productions_[h[1]][0]),D.push(e.$),L.push(e._$),a=A[O[O.length-2]][O[O.length-1]],O.push(a);break;case 3:return!0}}return!0},"parse")},z=function(){var F={EOF:1,parseError:I(function(B,O){if(this.yy.parser)this.yy.parser.parseError(B,O);else throw Error(B)},"parseError"),setInput:I(function(M,B){if(this.yy=B||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var B=M.match(/(?:\r\n?|\n).*/g);if(B)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),M},"input"),unput:I(function(M){var B=M.length,O=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var R=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1)this.yylineno-=O.length-1;var D=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===R.length?this.yylloc.first_column:0)+R[R.length-O.length].length-O[0].length:this.yylloc.first_column-B},this.options.ranges)this.yylloc.range=[D[0],D[0]+this.yyleng-B];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(M){this.unput(this.match.slice(M))},"less"),pastInput:I(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var M=this.match;if(M.length<20)M+=this._input.substr(0,20-M.length);return(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var M=this.pastInput(),B=Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+B+"^"},"showPosition"),test_match:I(function(M,B){var O,R,D;if(this.options.backtrack_lexer){if(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)D.yylloc.range=this.yylloc.range.slice(0)}if(R=M[0].match(/(?:\r\n?|\n).*/g),R)this.yylineno+=R.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],O=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(O)return O;else if(this._backtrack){for(var L in D)this[L]=D[L];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var M,B,O,R;if(!this._more)this.yytext="",this.match="";var D=this._currentRules();for(var L=0;L<D.length;L++)if(O=this._input.match(this.rules[D[L]]),O&&(!B||O[0].length>B[0].length)){if(B=O,R=L,this.options.backtrack_lexer)if(M=this.test_match(O,D[L]),M!==!1)return M;else if(this._backtrack){B=!1;continue}else return!1;else if(!this.options.flex)break}if(B){if(M=this.test_match(B,D[R]),M!==!1)return M;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var B=this.next();if(B)return B;else return this.lex()},"lex"),begin:I(function(B){this.conditionStack.push(B)},"begin"),popState:I(function(){var B=this.conditionStack.length-1;if(B>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(B){if(B=this.conditionStack.length-1-Math.abs(B||0),B>=0)return this.conditionStack[B];else return"INITIAL"},"topState"),pushState:I(function(B){this.begin(B)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(B,O,R,D){var L=D;switch(R){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return F}();G.lexer=z;function H(){this.yy={}}return I(H,"Parser"),H.prototype=G,G.Parser=H,new H}();Ye.parser=Ye;Ch8=Ye,qu0={};F1(qu0,{addEvent:()=>Ou0,addSection:()=>Hu0,addTask:()=>Bu0,addTaskOrg:()=>Ru0,clear:()=>zu0,default:()=>Sh8,getCommonDb:()=>Gu0,getSections:()=>Fu0,getTasks:()=>Mu0});qe=[],Kf=[],DO=[],Gu0=I(()=>SV,"getCommonDb"),zu0=I(function(){qe.length=0,Kf.length=0,RO="",DO.length=0,S9()},"clear"),Hu0=I(function(Z){RO=Z,qe.push(Z)},"addSection"),Fu0=I(function(){return qe},"getSections"),Mu0=I(function(){let Z=Xu0(),J=100,Q=0;while(!Z&&Q<J)Z=Xu0(),Q++;return Kf.push(...DO),Kf},"getTasks"),Bu0=I(function(Z,J,Q){let K={id:Wu0++,section:RO,type:RO,task:Z,score:J?J:0,events:Q?[Q]:[]};DO.push(K)},"addTask"),Ou0=I(function(Z){DO.find((Q)=>Q.id===Wu0-1).events.push(Z)},"addEvent"),Ru0=I(function(Z){let J={section:RO,type:RO,description:Z,task:Z,classes:[]};Kf.push(J)},"addTaskOrg"),Xu0=I(function(){let Z=I(function(Q){return DO[Q].processed},"compileTask"),J=!0;for(let[Q,K]of DO.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),Sh8={clear:zu0,getCommonDb:Gu0,addSection:Hu0,getSections:Fu0,getTasks:Mu0,addTask:Bu0,addTaskOrg:Ru0,addEvent:Ou0},Xf=I(function(Z,J){let Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),Q.attr("rx",J.rx),Q.attr("ry",J.ry),J.class!==void 0)Q.attr("class",J.class);return Q},"drawRect"),wh8=I(function(Z,J){let K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),X=Z.append("g");X.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),X.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function U(W){let G=B5().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}I(U,"smile");function Y(W){let G=B5().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}I(Y,"sad");function q(W){W.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(I(q,"ambivalent"),J.score>3)U(X);else if(J.score<3)Y(X);else q(X);return K},"drawFace"),$h8=I(function(Z,J){let Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),Du0=I(function(Z,J){let Q=J.text.replace(/<br\s*\/?>/gi," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class!==void 0)K.attr("class",J.class);let X=K.append("tspan");return X.attr("x",J.x+J.textMargin*2),X.text(Q),K},"drawText"),kh8=I(function(Z,J){function Q(X,U,Y,q,W){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-W)+" "+(X+Y-W*1.2)+","+(U+q)+" "+X+","+(U+q)}I(Q,"genPoints");let K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,Du0(Z,J)},"drawLabel"),_h8=I(function(Z,J,Q){let K=Z.append("g"),X=We();X.x=J.x,X.y=J.y,X.fill=J.fill,X.width=Q.width,X.height=Q.height,X.class="journey-section section-type-"+J.num,X.rx=3,X.ry=3,Xf(K,X),Lu0(Q)(J.text,K,X.x,X.y,X.width,X.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),fh8=I(function(Z,J,Q){let K=J.x+Q.width/2,X=Z.append("g");Uu0++;let U=450;X.append("line").attr("id","task"+Uu0).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",U).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),wh8(X,{cx:K,cy:300+(5-J.score)*30,score:J.score});let Y=We();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,Xf(X,Y),Lu0(Q)(J.task,X,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),vh8=I(function(Z,J){Xf(Z,{x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,class:"rect"}).lower()},"drawBackgroundRect"),xh8=I(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),We=I(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Lu0=function(){function Z(X,U,Y,q,W,G,z,H){let F=U.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("font-color",H).style("text-anchor","middle").text(X);K(F,z)}I(Z,"byText");function J(X,U,Y,q,W,G,z,H,F){let{taskFontSize:M,taskFontFamily:B}=H,O=X.split(/<br\s*\/?>/gi);for(let R=0;R<O.length;R++){let D=R*M-M*(O.length-1)/2,L=U.append("text").attr("x",Y+W/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);L.append("tspan").attr("x",Y+W/2).attr("dy",D).text(O[R]),L.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(L,z)}}I(J,"byTspan");function Q(X,U,Y,q,W,G,z,H){let F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(X,U){for(let Y in U)if(Y in U)X.attr(Y,U[Y])}return I(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),bh8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");I(Ge,"wrap");yh8=I(function(Z,J,Q,K){let X=Q%Th8-1,U=Z.append("g");J.section=X,U.attr("class",(J.class?J.class+" ":"")+"timeline-node "+("section-"+X));let Y=U.append("g"),q=U.append("g"),G=q.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Ge,J.width).node().getBBox(),z=K.fontSize?.replace?K.fontSize.replace("px",""):K.fontSize;return J.height=G.height+z*1.1*0.5+J.padding,J.height=Math.max(J.height,J.maxHeight),J.width=J.width+2*J.padding,q.attr("transform","translate("+J.width/2+", "+J.padding/2+")"),mh8(Y,J,X,K),J},"drawNode"),hh8=I(function(Z,J,Q){let K=Z.append("g"),U=K.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Ge,J.width).node().getBBox(),Y=Q.fontSize?.replace?Q.fontSize.replace("px",""):Q.fontSize;return K.remove(),U.height+Y*1.1*0.5+J.padding},"getVirtualNodeHeight"),mh8=I(function(Z,J,Q){Z.append("path").attr("id","node-"+J.id).attr("class","node-bkg node-"+J.type).attr("d",`M0 ${J.height-5} v${-J.height+10} q0,-5 5,-5 h${J.width-10} q5,0 5,5 v${J.height-5} H0 Z`),Z.append("line").attr("class","node-line-"+Q).attr("x1",0).attr("y1",J.height).attr("x2",J.width).attr("y2",J.height)},"defaultBkg"),ZH={drawRect:Xf,drawCircle:$h8,drawSection:_h8,drawText:Du0,drawLabel:kh8,drawTask:fh8,drawBackgroundRect:vh8,getTextObj:xh8,getNoteRect:We,initGraphics:bh8,drawNode:yh8,getVirtualNodeHeight:hh8},uh8=I(function(Z,J,Q,K){let X=N0(),U=X.timeline?.leftMargin??50;Z0.debug("timeline",K.db);let Y=X.securityLevel,q;if(Y==="sandbox")q=i0("#i"+J);let G=(Y==="sandbox"?i0(q.nodes()[0].contentDocument.body):i0("body")).select("#"+J);G.append("g");let z=K.db.getTasks(),H=K.db.getCommonDb().getDiagramTitle();Z0.debug("task",z),ZH.initGraphics(G);let F=K.db.getSections();Z0.debug("sections",F);let M=0,B=0,O=0,R=0,D=50+U,L=50;R=50;let A=0,V=!0;F.forEach(function($){let k={number:A,descr:$,section:A,width:150,padding:20,maxHeight:M},w=ZH.getVirtualNodeHeight(G,k,X);Z0.debug("sectionHeight before draw",w),M=Math.max(M,w+20)});let N=0,E=0;Z0.debug("tasks.length",z.length);for(let[$,k]of z.entries()){let w={number:$,descr:k,section:k.section,width:150,padding:20,maxHeight:B},P=ZH.getVirtualNodeHeight(G,w,X);Z0.debug("taskHeight before draw",P),B=Math.max(B,P+20),N=Math.max(N,k.events.length);let T=0;for(let S of k.events){let f={descr:S,section:k.section,number:k.section,width:150,padding:20,maxHeight:50};T+=ZH.getVirtualNodeHeight(G,f,X)}if(k.events.length>0)T+=(k.events.length-1)*10;E=Math.max(E,T)}if(Z0.debug("maxSectionHeight before draw",M),Z0.debug("maxTaskHeight before draw",B),F&&F.length>0)F.forEach(($)=>{let k=z.filter((S)=>S.section===$),w={number:A,descr:$,section:A,width:200*Math.max(k.length,1)-50,padding:20,maxHeight:M};Z0.debug("sectionNode",w);let P=G.append("g"),T=ZH.drawNode(P,w,A,X);if(Z0.debug("sectionNode output",T),P.attr("transform",`translate(${D}, ${R})`),L+=M+50,k.length>0)Yu0(G,k,A,D,L,B,X,N,E,M,!1);D+=200*Math.max(k.length,1),L=R,A++});else V=!1,Yu0(G,z,A,D,L,B,X,N,E,M,!0);let j=G.node().getBBox();if(Z0.debug("bounds",j),H)G.append("text").text(H).attr("x",j.width/2-U).attr("font-size","4ex").attr("font-weight","bold").attr("y",20);O=V?M+B+150:B+100,G.append("g").attr("class","lineWrapper").append("line").attr("x1",U).attr("y1",O).attr("x2",j.width+3*U).attr("y2",O).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),tU(void 0,G,X.timeline?.padding??50,X.timeline?.useMaxWidth??!1)},"draw"),Yu0=I(function(Z,J,Q,K,X,U,Y,q,W,G,z){for(let H of J){let F={descr:H.task,section:Q,number:Q,width:150,padding:20,maxHeight:U};Z0.debug("taskNode",F);let M=Z.append("g").attr("class","taskWrapper"),O=ZH.drawNode(M,F,Q,Y).height;if(Z0.debug("taskHeight after draw",O),M.attr("transform",`translate(${K}, ${X})`),U=Math.max(U,O),H.events){let R=Z.append("g").attr("class","lineWrapper"),D=U;X+=100,D=D+gh8(Z,H.events,Q,K,X,Y),X-=100,R.append("line").attr("x1",K+95).attr("y1",X+U).attr("x2",K+95).attr("y2",X+U+100+W+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}if(K=K+200,z&&!Y.timeline?.disableMulticolor)Q++}X=X-10},"drawTasks"),gh8=I(function(Z,J,Q,K,X,U){let Y=0,q=X;X=X+100;for(let W of J){let G={descr:W,section:Q,number:Q,width:150,padding:20,maxHeight:50};Z0.debug("eventNode",G);let z=Z.append("g").attr("class","eventWrapper"),F=ZH.drawNode(z,G,Q,U).height;Y=Y+F,z.attr("transform",`translate(${K}, ${X})`),X=X+10+F}return X=q,Y},"drawEvents"),ph8={setConf:I(()=>{},"setConf"),draw:uh8},ch8=I((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],o7(Z["lineColor"+Q]))Z["lineColor"+Q]=$8(Z["lineColor"+Q],20);else Z["lineColor"+Q]=y8(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){let K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${Z["cScaleLabel"+Q]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),lh8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${ch8(Z)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),dh8=lh8,ih8={db:qu0,renderer:ph8,parser:Ch8,styles:dh8}});function Nu0(Z,J=0){return(AQ[Z[J+0]]+AQ[Z[J+1]]+AQ[Z[J+2]]+AQ[Z[J+3]]+"-"+AQ[Z[J+4]]+AQ[Z[J+5]]+"-"+AQ[Z[J+6]]+AQ[Z[J+7]]+"-"+AQ[Z[J+8]]+AQ[Z[J+9]]+"-"+AQ[Z[J+10]]+AQ[Z[J+11]]+AQ[Z[J+12]]+AQ[Z[J+13]]+AQ[Z[J+14]]+AQ[Z[J+15]]).toLowerCase()}var AQ;var Eu0=_(()=>{AQ=[];for(let Z=0;Z<256;++Z)AQ.push((Z+256).toString(16).slice(1))});function He(){if(!ze){if(typeof crypto>"u"||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ze=crypto.getRandomValues.bind(crypto)}return ze(sh8)}var ze,sh8;var Vu0=_(()=>{sh8=new Uint8Array(16)});var rh8,Fe;var Pu0=_(()=>{rh8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fe={randomUUID:rh8}});function nh8(Z,J,Q){if(Fe.randomUUID&&!J&&!Z)return Fe.randomUUID();Z=Z||{};let K=Z.random??Z.rng?.()??He();if(K.length<16)throw Error("Random bytes length must be >= 16");if(K[6]=K[6]&15|64,K[8]=K[8]&63|128,J){if(Q=Q||0,Q<0||Q+16>J.length)throw RangeError(`UUID byte range ${Q}:${Q+15} is out of buffer bounds`);for(let X=0;X<16;++X)J[Q+X]=K[X];return J}return Nu0(K)}var Me;var ju0=_(()=>{Pu0();Vu0();Eu0();Me=nh8});var Cu0=_(()=>{ju0()});var Su0={};z9(Su0,{diagram:()=>Km8});var Be,ah8,nY,oh8,th8,eh8,Zm8,Jm8,Qm8,Km8;var Tu0=_(()=>{S5();wK();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();Cu0();V4();Be=function(){var Z=I(function(V,N,E,j){for(E=E||{},j=V.length;j--;E[V[j]]=N);return E},"o"),J=[1,4],Q=[1,13],K=[1,12],X=[1,15],U=[1,16],Y=[1,20],q=[1,19],W=[6,7,8],G=[1,26],z=[1,24],H=[1,25],F=[6,7,11],M=[1,6,13,15,16,19,22],B=[1,33],O=[1,34],R=[1,6,7,11,13,15,16,19,22],D={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:I(function(N,E,j,C,$,k,w){var P=k.length-1;switch($){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",k[P].id),C.addNode(k[P-1].length,k[P].id,k[P].descr,k[P].type);break;case 16:C.getLogger().trace("Icon: ",k[P]),C.decorateNode({icon:k[P]});break;case 17:case 21:C.decorateNode({class:k[P]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",k[P].id),C.addNode(0,k[P].id,k[P].descr,k[P].type);break;case 20:C.decorateNode({icon:k[P]});break;case 25:C.getLogger().trace("node found ..",k[P-2]),this.$={id:k[P-1],descr:k[P-1],type:C.getType(k[P-2],k[P])};break;case 26:this.$={id:k[P],descr:k[P],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",k[P-3]),this.$={id:k[P-3],descr:k[P-1],type:C.getType(k[P-2],k[P])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:J},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:J},{6:Q,7:[1,10],9:9,12:11,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},Z(W,[2,3]),{1:[2,2]},Z(W,[2,4]),Z(W,[2,5]),{1:[2,6],6:Q,12:21,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},{6:Q,9:22,12:11,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},{6:G,7:z,10:23,11:H},Z(F,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:Y,22:q}),Z(F,[2,18]),Z(F,[2,19]),Z(F,[2,20]),Z(F,[2,21]),Z(F,[2,23]),Z(F,[2,24]),Z(F,[2,26],{19:[1,30]}),{20:[1,31]},{6:G,7:z,10:32,11:H},{1:[2,7],6:Q,12:21,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},Z(M,[2,14],{7:B,11:O}),Z(R,[2,8]),Z(R,[2,9]),Z(R,[2,10]),Z(F,[2,15]),Z(F,[2,16]),Z(F,[2,17]),{20:[1,35]},{21:[1,36]},Z(M,[2,13],{7:B,11:O}),Z(R,[2,11]),Z(R,[2,12]),{21:[1,37]},Z(F,[2,25]),Z(F,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(N,E){if(E.recoverable)this.trace(N);else{var j=Error(N);throw j.hash=E,j}},"parseError"),parse:I(function(N){var E=this,j=[0],C=[],$=[null],k=[],w=this.table,P="",T=0,S=0,f=0,v=2,x=1,b=k.slice.call(arguments,1),y=Object.create(this.lexer),u={yy:{}};for(var h in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,h))u.yy[h]=this.yy[h];if(y.setInput(N,u.yy),u.yy.lexer=y,u.yy.parser=this,typeof y.yylloc>"u")y.yylloc={};var p=y.yylloc;k.push(p);var r=y.options&&y.options.ranges;if(typeof u.yy.parseError==="function")this.parseError=u.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function e(d){j.length=j.length-2*d,$.length=$.length-d,k.length=k.length-d}I(e,"popStack");function i(){var d=C.pop()||y.lex()||x;if(typeof d!=="number"){if(d instanceof Array)C=d,d=C.pop();d=E.symbols_[d]||d}return d}I(i,"lex");var U0,a,z0,J0,Q0,t,n={},Y0,o,M0,X0;while(!0){if(z0=j[j.length-1],this.defaultActions[z0])J0=this.defaultActions[z0];else{if(U0===null||typeof U0>"u")U0=i();J0=w[z0]&&w[z0][U0]}if(typeof J0>"u"||!J0.length||!J0[0]){var E0="";X0=[];for(Y0 in w[z0])if(this.terminals_[Y0]&&Y0>v)X0.push("'"+this.terminals_[Y0]+"'");if(y.showPosition)E0="Parse error on line "+(T+1)+`:
`+y.showPosition()+`
Expecting `+X0.join(", ")+", got '"+(this.terminals_[U0]||U0)+"'";else E0="Parse error on line "+(T+1)+": Unexpected "+(U0==x?"end of input":"'"+(this.terminals_[U0]||U0)+"'");this.parseError(E0,{text:y.match,token:this.terminals_[U0]||U0,line:y.yylineno,loc:p,expected:X0})}if(J0[0]instanceof Array&&J0.length>1)throw Error("Parse Error: multiple actions possible at state: "+z0+", token: "+U0);switch(J0[0]){case 1:if(j.push(U0),$.push(y.yytext),k.push(y.yylloc),j.push(J0[1]),U0=null,!a){if(S=y.yyleng,P=y.yytext,T=y.yylineno,p=y.yylloc,f>0)f--}else U0=a,a=null;break;case 2:if(o=this.productions_[J0[1]][1],n.$=$[$.length-o],n._$={first_line:k[k.length-(o||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(o||1)].first_column,last_column:k[k.length-1].last_column},r)n._$.range=[k[k.length-(o||1)].range[0],k[k.length-1].range[1]];if(t=this.performAction.apply(n,[P,S,T,u.yy,J0[1],$,k].concat(b)),typeof t<"u")return t;if(o)j=j.slice(0,-1*o*2),$=$.slice(0,-1*o),k=k.slice(0,-1*o);j.push(this.productions_[J0[1]][0]),$.push(n.$),k.push(n._$),M0=w[j[j.length-2]][j[j.length-1]],j.push(M0);break;case 3:return!0}}return!0},"parse")},L=function(){var V={EOF:1,parseError:I(function(E,j){if(this.yy.parser)this.yy.parser.parseError(E,j);else throw Error(E)},"parseError"),setInput:I(function(N,E){if(this.yy=E||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var E=N.match(/(?:\r\n?|\n).*/g);if(E)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),N},"input"),unput:I(function(N){var E=N.length,j=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var C=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1)this.yylineno-=j.length-1;var $=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===C.length?this.yylloc.first_column:0)+C[C.length-j.length].length-j[0].length:this.yylloc.first_column-E},this.options.ranges)this.yylloc.range=[$[0],$[0]+this.yyleng-E];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(N){this.unput(this.match.slice(N))},"less"),pastInput:I(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var N=this.match;if(N.length<20)N+=this._input.substr(0,20-N.length);return(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var N=this.pastInput(),E=Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+E+"^"},"showPosition"),test_match:I(function(N,E){var j,C,$;if(this.options.backtrack_lexer){if($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)$.yylloc.range=this.yylloc.range.slice(0)}if(C=N[0].match(/(?:\r\n?|\n).*/g),C)this.yylineno+=C.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],j=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(j)return j;else if(this._backtrack){for(var k in $)this[k]=$[k];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var N,E,j,C;if(!this._more)this.yytext="",this.match="";var $=this._currentRules();for(var k=0;k<$.length;k++)if(j=this._input.match(this.rules[$[k]]),j&&(!E||j[0].length>E[0].length)){if(E=j,C=k,this.options.backtrack_lexer)if(N=this.test_match(j,$[k]),N!==!1)return N;else if(this._backtrack){E=!1;continue}else return!1;else if(!this.options.flex)break}if(E){if(N=this.test_match(E,$[C]),N!==!1)return N;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var E=this.next();if(E)return E;else return this.lex()},"lex"),begin:I(function(E){this.conditionStack.push(E)},"begin"),popState:I(function(){var E=this.conditionStack.length-1;if(E>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(E){if(E=this.conditionStack.length-1-Math.abs(E||0),E>=0)return this.conditionStack[E];else return"INITIAL"},"topState"),pushState:I(function(E){this.begin(E)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(E,j,C,$){var k=$;switch(C){case 0:return E.getLogger().trace("Found comment",j.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return E.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:E.getLogger().trace("end icon"),this.popState();break;case 10:return E.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return E.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return E.getLogger().trace("description:",j.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),E.getLogger().trace("node end ...",j.yytext),"NODE_DEND";break;case 30:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return E.getLogger().trace("Long description:",j.yytext),20;break;case 36:return E.getLogger().trace("Long description:",j.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return V}();D.lexer=L;function A(){this.yy={}}return I(A,"Parser"),A.prototype=D,D.Parser=A,new A}();Be.parser=Be;ah8=Be,nY={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},oh8=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=nY,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}static{I(this,"MindmapDB")}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(Z){for(let J=this.nodes.length-1;J>=0;J--)if(this.nodes[J].level<Z)return this.nodes[J];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(Z,J,Q,K){Z0.info("addNode",Z,J,Q,K);let X=!1;if(this.nodes.length===0)this.baseLevel=Z,Z=0,X=!0;else if(this.baseLevel!==void 0)Z=Z-this.baseLevel,X=!1;let U=N0(),Y=U.mindmap?.padding??D9.mindmap.padding;switch(K){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:Y*=2;break}let q={id:this.count++,nodeId:R9(J,U),level:Z,descr:R9(Q,U),type:K,children:[],width:U.mindmap?.maxNodeWidth??D9.mindmap.maxNodeWidth,padding:Y,isRoot:X},W=this.getParent(Z);if(W)W.children.push(q),this.nodes.push(q);else if(X)this.nodes.push(q);else throw Error(`There can be only one root. No parent could be found for ("${q.descr}")`)}getType(Z,J){switch(Z0.debug("In get type",Z,J),Z){case"[":return this.nodeType.RECT;case"(":return J===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(Z,J){this.elements[Z]=J}getElementById(Z){return this.elements[Z]}decorateNode(Z){if(!Z)return;let J=N0(),Q=this.nodes[this.nodes.length-1];if(Z.icon)Q.icon=R9(Z.icon,J);if(Z.class)Q.class=R9(Z.class,J)}type2Str(Z){switch(Z){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(Z,J){if(Z.level===0)Z.section=void 0;else Z.section=J;if(Z.children)for(let[Q,K]of Z.children.entries()){let X=Z.level===0?Q:J;this.assignSections(K,X)}}flattenNodes(Z,J){let Q=["mindmap-node"];if(Z.isRoot===!0)Q.push("section-root","section--1");else if(Z.section!==void 0)Q.push(`section-${Z.section}`);if(Z.class)Q.push(Z.class);let K=Q.join(" "),X=I((Y)=>{switch(Y){case nY.CIRCLE:return"mindmapCircle";case nY.RECT:return"rect";case nY.ROUNDED_RECT:return"rounded";case nY.CLOUD:return"cloud";case nY.BANG:return"bang";case nY.HEXAGON:return"hexagon";case nY.DEFAULT:return"defaultMindmapNode";case nY.NO_BORDER:default:return"rect"}},"getShapeFromType"),U={id:Z.id.toString(),domId:"node_"+Z.id.toString(),label:Z.descr,isGroup:!1,shape:X(Z.type),width:Z.width,height:Z.height??0,padding:Z.padding,cssClasses:K,cssStyles:[],look:"default",icon:Z.icon,x:Z.x,y:Z.y,level:Z.level,nodeId:Z.nodeId,type:Z.type,section:Z.section};if(J.push(U),Z.children)for(let Y of Z.children)this.flattenNodes(Y,J)}generateEdges(Z,J){if(!Z.children)return;for(let Q of Z.children){let K="edge";if(Q.section!==void 0)K+=` section-edge-${Q.section}`;let X=Z.level+1;K+=` edge-depth-${X}`;let U={id:`edge_${Z.id}_${Q.id}`,start:Z.id.toString(),end:Q.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:K,depth:Z.level,section:Q.section};J.push(U),this.generateEdges(Q,J)}}getData(){let Z=this.getMindmap(),J=N0(),K=XX0().layout!==void 0,X=J;if(!K)X.layout="cose-bilkent";if(!Z)return{nodes:[],edges:[],config:X};Z0.debug("getData: mindmapRoot",Z,J),this.assignSections(Z);let U=[],Y=[];this.flattenNodes(Z,U),this.generateEdges(Z,Y),Z0.debug(`getData: processed ${U.length} nodes and ${Y.length} edges`);let q=new Map;for(let W of U)q.set(W.id,{shape:W.shape,width:W.width,height:W.height,padding:W.padding});return{nodes:U,edges:Y,config:X,rootNode:Z,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(q),type:"mindmap",diagramId:"mindmap-"+Me()}}getLogger(){return Z0}},th8=I(async(Z,J,Q,K)=>{Z0.debug(`Rendering mindmap diagram
`+Z);let X=K.db,U=X.getData(),Y=TK(J,U.config.securityLevel);if(U.type=K.type,U.layoutAlgorithm=rX(U.config.layout,{fallback:"cose-bilkent"}),U.diagramId=J,!X.getMindmap())return;U.nodes.forEach((W)=>{if(W.shape==="rounded")W.radius=15,W.taper=15,W.stroke="none",W.width=0,W.padding=15;else if(W.shape==="circle")W.padding=10;else if(W.shape==="rect")W.width=0,W.padding=10}),await EK(U,Y),e6(Y,U.config.mindmap?.padding??D9.mindmap.padding,"mindmapDiagram",U.config.mindmap?.useMaxWidth??D9.mindmap.useMaxWidth)},"draw"),eh8={draw:th8},Zm8=I((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],o7(Z["lineColor"+Q]))Z["lineColor"+Q]=$8(Z["lineColor"+Q],20);else Z["lineColor"+Q]=y8(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){let K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} polygon, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),Jm8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${Zm8(Z)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .section-root span {
    color: ${Z.gitBranchLabel0};
  }
  .section-2 span {
    color: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),Qm8=Jm8,Km8={get db(){return new oh8},renderer:eh8,parser:ah8,styles:Qm8}});var $u0={};z9($u0,{diagram:()=>Em8});var Oe,Xm8,pK,De,Re=0,Le,Um8,Ym8,wu0,qm8,Wm8,C7,Gm8,zm8,Hm8,Fm8,Mm8,Bm8,Om8,Rm8,Dm8,Lm8,Im8,Am8,Nm8,Em8;var ku0=_(()=>{VX();hq();UD();s6();Q6();K6();YQ();jZ();T9();M9();V4();Oe=function(){var Z=I(function(j,C,$,k){for($=$||{},k=j.length;k--;$[j[k]]=C);return $},"o"),J=[1,4],Q=[1,13],K=[1,12],X=[1,15],U=[1,16],Y=[1,20],q=[1,19],W=[6,7,8],G=[1,26],z=[1,24],H=[1,25],F=[6,7,11],M=[1,31],B=[6,7,11,24],O=[1,6,13,16,17,20,23],R=[1,35],D=[1,36],L=[1,6,7,11,13,16,17,20,23],A=[1,38],V={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:I(function(C,$,k,w,P,T,S){var f=T.length-1;switch(P){case 6:case 7:return w;case 8:w.getLogger().trace("Stop NL ");break;case 9:w.getLogger().trace("Stop EOF ");break;case 11:w.getLogger().trace("Stop NL2 ");break;case 12:w.getLogger().trace("Stop EOF2 ");break;case 15:w.getLogger().info("Node: ",T[f-1].id),w.addNode(T[f-2].length,T[f-1].id,T[f-1].descr,T[f-1].type,T[f]);break;case 16:w.getLogger().info("Node: ",T[f].id),w.addNode(T[f-1].length,T[f].id,T[f].descr,T[f].type);break;case 17:w.getLogger().trace("Icon: ",T[f]),w.decorateNode({icon:T[f]});break;case 18:case 23:w.decorateNode({class:T[f]});break;case 19:w.getLogger().trace("SPACELIST");break;case 20:w.getLogger().trace("Node: ",T[f-1].id),w.addNode(0,T[f-1].id,T[f-1].descr,T[f-1].type,T[f]);break;case 21:w.getLogger().trace("Node: ",T[f].id),w.addNode(0,T[f].id,T[f].descr,T[f].type);break;case 22:w.decorateNode({icon:T[f]});break;case 27:w.getLogger().trace("node found ..",T[f-2]),this.$={id:T[f-1],descr:T[f-1],type:w.getType(T[f-2],T[f])};break;case 28:this.$={id:T[f],descr:T[f],type:0};break;case 29:w.getLogger().trace("node found ..",T[f-3]),this.$={id:T[f-3],descr:T[f-1],type:w.getType(T[f-2],T[f])};break;case 30:this.$=T[f-1]+T[f];break;case 31:this.$=T[f];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:J},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:J},{6:Q,7:[1,10],9:9,12:11,13:K,14:14,16:X,17:U,18:17,19:18,20:Y,23:q},Z(W,[2,3]),{1:[2,2]},Z(W,[2,4]),Z(W,[2,5]),{1:[2,6],6:Q,12:21,13:K,14:14,16:X,17:U,18:17,19:18,20:Y,23:q},{6:Q,9:22,12:11,13:K,14:14,16:X,17:U,18:17,19:18,20:Y,23:q},{6:G,7:z,10:23,11:H},Z(F,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:Y,23:q}),Z(F,[2,19]),Z(F,[2,21],{15:30,24:M}),Z(F,[2,22]),Z(F,[2,23]),Z(B,[2,25]),Z(B,[2,26]),Z(B,[2,28],{20:[1,32]}),{21:[1,33]},{6:G,7:z,10:34,11:H},{1:[2,7],6:Q,12:21,13:K,14:14,16:X,17:U,18:17,19:18,20:Y,23:q},Z(O,[2,14],{7:R,11:D}),Z(L,[2,8]),Z(L,[2,9]),Z(L,[2,10]),Z(F,[2,16],{15:37,24:M}),Z(F,[2,17]),Z(F,[2,18]),Z(F,[2,20],{24:A}),Z(B,[2,31]),{21:[1,39]},{22:[1,40]},Z(O,[2,13],{7:R,11:D}),Z(L,[2,11]),Z(L,[2,12]),Z(F,[2,15],{24:A}),Z(B,[2,30]),{22:[1,41]},Z(B,[2,27]),Z(B,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(C,$){if($.recoverable)this.trace(C);else{var k=Error(C);throw k.hash=$,k}},"parseError"),parse:I(function(C){var $=this,k=[0],w=[],P=[null],T=[],S=this.table,f="",v=0,x=0,b=0,y=2,u=1,h=T.slice.call(arguments,1),p=Object.create(this.lexer),r={yy:{}};for(var e in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,e))r.yy[e]=this.yy[e];if(p.setInput(C,r.yy),r.yy.lexer=p,r.yy.parser=this,typeof p.yylloc>"u")p.yylloc={};var i=p.yylloc;T.push(i);var U0=p.options&&p.options.ranges;if(typeof r.yy.parseError==="function")this.parseError=r.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function a(y0){k.length=k.length-2*y0,P.length=P.length-y0,T.length=T.length-y0}I(a,"popStack");function z0(){var y0=w.pop()||p.lex()||u;if(typeof y0!=="number"){if(y0 instanceof Array)w=y0,y0=w.pop();y0=$.symbols_[y0]||y0}return y0}I(z0,"lex");var J0,Q0,t,n,Y0,o,M0={},X0,E0,d,c0;while(!0){if(t=k[k.length-1],this.defaultActions[t])n=this.defaultActions[t];else{if(J0===null||typeof J0>"u")J0=z0();n=S[t]&&S[t][J0]}if(typeof n>"u"||!n.length||!n[0]){var B0="";c0=[];for(X0 in S[t])if(this.terminals_[X0]&&X0>y)c0.push("'"+this.terminals_[X0]+"'");if(p.showPosition)B0="Parse error on line "+(v+1)+`:
`+p.showPosition()+`
Expecting `+c0.join(", ")+", got '"+(this.terminals_[J0]||J0)+"'";else B0="Parse error on line "+(v+1)+": Unexpected "+(J0==u?"end of input":"'"+(this.terminals_[J0]||J0)+"'");this.parseError(B0,{text:p.match,token:this.terminals_[J0]||J0,line:p.yylineno,loc:i,expected:c0})}if(n[0]instanceof Array&&n.length>1)throw Error("Parse Error: multiple actions possible at state: "+t+", token: "+J0);switch(n[0]){case 1:if(k.push(J0),P.push(p.yytext),T.push(p.yylloc),k.push(n[1]),J0=null,!Q0){if(x=p.yyleng,f=p.yytext,v=p.yylineno,i=p.yylloc,b>0)b--}else J0=Q0,Q0=null;break;case 2:if(E0=this.productions_[n[1]][1],M0.$=P[P.length-E0],M0._$={first_line:T[T.length-(E0||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(E0||1)].first_column,last_column:T[T.length-1].last_column},U0)M0._$.range=[T[T.length-(E0||1)].range[0],T[T.length-1].range[1]];if(o=this.performAction.apply(M0,[f,x,v,r.yy,n[1],P,T].concat(h)),typeof o<"u")return o;if(E0)k=k.slice(0,-1*E0*2),P=P.slice(0,-1*E0),T=T.slice(0,-1*E0);k.push(this.productions_[n[1]][0]),P.push(M0.$),T.push(M0._$),d=S[k[k.length-2]][k[k.length-1]],k.push(d);break;case 3:return!0}}return!0},"parse")},N=function(){var j={EOF:1,parseError:I(function($,k){if(this.yy.parser)this.yy.parser.parseError($,k);else throw Error($)},"parseError"),setInput:I(function(C,$){if(this.yy=$||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var $=C.match(/(?:\r\n?|\n).*/g);if($)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),C},"input"),unput:I(function(C){var $=C.length,k=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var w=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1)this.yylineno-=k.length-1;var P=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===w.length?this.yylloc.first_column:0)+w[w.length-k.length].length-k[0].length:this.yylloc.first_column-$},this.options.ranges)this.yylloc.range=[P[0],P[0]+this.yyleng-$];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(C){this.unput(this.match.slice(C))},"less"),pastInput:I(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var C=this.match;if(C.length<20)C+=this._input.substr(0,20-C.length);return(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var C=this.pastInput(),$=Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:I(function(C,$){var k,w,P;if(this.options.backtrack_lexer){if(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)P.yylloc.range=this.yylloc.range.slice(0)}if(w=C[0].match(/(?:\r\n?|\n).*/g),w)this.yylineno+=w.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],k=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(k)return k;else if(this._backtrack){for(var T in P)this[T]=P[T];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var C,$,k,w;if(!this._more)this.yytext="",this.match="";var P=this._currentRules();for(var T=0;T<P.length;T++)if(k=this._input.match(this.rules[P[T]]),k&&(!$||k[0].length>$[0].length)){if($=k,w=T,this.options.backtrack_lexer)if(C=this.test_match(k,P[T]),C!==!1)return C;else if(this._backtrack){$=!1;continue}else return!1;else if(!this.options.flex)break}if($){if(C=this.test_match($,P[w]),C!==!1)return C;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var $=this.next();if($)return $;else return this.lex()},"lex"),begin:I(function($){this.conditionStack.push($)},"begin"),popState:I(function(){var $=this.conditionStack.length-1;if($>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function($){if($=this.conditionStack.length-1-Math.abs($||0),$>=0)return this.conditionStack[$];else return"INITIAL"},"topState"),pushState:I(function($){this.begin($)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function($,k,w,P){var T=P;switch(w){case 0:return this.pushState("shapeData"),k.yytext="",24;break;case 1:return this.pushState("shapeDataStr"),24;break;case 2:return this.popState(),24;break;case 3:let S=/\n\s*/g;return k.yytext=k.yytext.replace(S,"<br/>"),24;break;case 4:return 24;case 5:this.popState();break;case 6:return $.getLogger().trace("Found comment",k.yytext),6;break;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;break;case 10:this.popState();break;case 11:$.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return $.getLogger().trace("SPACELINE"),6;break;case 13:return 7;case 14:return 16;case 15:$.getLogger().trace("end icon"),this.popState();break;case 16:return $.getLogger().trace("Exploding node"),this.begin("NODE"),20;break;case 17:return $.getLogger().trace("Cloud"),this.begin("NODE"),20;break;case 18:return $.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;break;case 19:return $.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;break;case 20:return this.begin("NODE"),20;break;case 21:return this.begin("NODE"),20;break;case 22:return this.begin("NODE"),20;break;case 23:return this.begin("NODE"),20;break;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:$.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return $.getLogger().trace("description:",k.yytext),"NODE_DESCR";break;case 32:this.popState();break;case 33:return this.popState(),$.getLogger().trace("node end ))"),"NODE_DEND";break;case 34:return this.popState(),$.getLogger().trace("node end )"),"NODE_DEND";break;case 35:return this.popState(),$.getLogger().trace("node end ...",k.yytext),"NODE_DEND";break;case 36:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 37:return this.popState(),$.getLogger().trace("node end (-"),"NODE_DEND";break;case 38:return this.popState(),$.getLogger().trace("node end (-"),"NODE_DEND";break;case 39:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 40:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 41:return $.getLogger().trace("Long description:",k.yytext),21;break;case 42:return $.getLogger().trace("Long description:",k.yytext),21;break}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return j}();V.lexer=N;function E(){this.yy={}}return I(E,"Parser"),E.prototype=V,V.Parser=E,new E}();Oe.parser=Oe;Xm8=Oe,pK=[],De=[],Le={},Um8=I(()=>{pK=[],De=[],Re=0,Le={}},"clear"),Ym8=I((Z)=>{if(pK.length===0)return null;let J=pK[0].level,Q=null;for(let K=pK.length-1;K>=0;K--){if(pK[K].level===J&&!Q)Q=pK[K];if(pK[K].level<J)throw Error('Items without section detected, found section ("'+pK[K].label+'")')}if(Z===Q?.level)return null;return Q},"getSection"),wu0=I(function(){return De},"getSections"),qm8=I(function(){let Z=[],J=[],Q=wu0(),K=N0();for(let X of Q){let U={id:X.id,label:R9(X.label??"",K),isGroup:!0,ticket:X.ticket,shape:"kanbanSection",level:X.level,look:K.look};J.push(U);let Y=pK.filter((q)=>q.parentId===X.id);for(let q of Y){let W={id:q.id,parentId:X.id,label:R9(q.label??"",K),isGroup:!1,ticket:q?.ticket,priority:q?.priority,assigned:q?.assigned,icon:q?.icon,shape:"kanbanItem",level:q.level,rx:5,ry:5,cssStyles:["text-align: left"]};J.push(W)}}return{nodes:J,edges:Z,other:{},config:N0()}},"getData"),Wm8=I((Z,J,Q,K,X)=>{let U=N0(),Y=U.mindmap?.padding??D9.mindmap.padding;switch(K){case C7.ROUNDED_RECT:case C7.RECT:case C7.HEXAGON:Y*=2}let q={id:R9(J,U)||"kbn"+Re++,level:Z,label:R9(Q,U),width:U.mindmap?.maxNodeWidth??D9.mindmap.maxNodeWidth,padding:Y,isGroup:!1};if(X!==void 0){let G;if(!X.includes(`
`))G=`{
`+X+`
}`;else G=X+`
`;let z=y1(G,{schema:b1});if(z.shape&&(z.shape!==z.shape.toLowerCase()||z.shape.includes("_")))throw Error(`No such shape: ${z.shape}. Shape names should be lowercase.`);if(z?.shape&&z.shape==="kanbanItem")q.shape=z?.shape;if(z?.label)q.label=z?.label;if(z?.icon)q.icon=z?.icon.toString();if(z?.assigned)q.assigned=z?.assigned.toString();if(z?.ticket)q.ticket=z?.ticket.toString();if(z?.priority)q.priority=z?.priority}let W=Ym8(Z);if(W)q.parentId=W.id||"kbn"+Re++;else De.push(q);pK.push(q)},"addNode"),C7={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Gm8=I((Z,J)=>{switch(Z0.debug("In get type",Z,J),Z){case"[":return C7.RECT;case"(":return J===")"?C7.ROUNDED_RECT:C7.CLOUD;case"((":return C7.CIRCLE;case")":return C7.CLOUD;case"))":return C7.BANG;case"{{":return C7.HEXAGON;default:return C7.DEFAULT}},"getType"),zm8=I((Z,J)=>{Le[Z]=J},"setElementForId"),Hm8=I((Z)=>{if(!Z)return;let J=N0(),Q=pK[pK.length-1];if(Z.icon)Q.icon=R9(Z.icon,J);if(Z.class)Q.cssClasses=R9(Z.class,J)},"decorateNode"),Fm8=I((Z)=>{switch(Z){case C7.DEFAULT:return"no-border";case C7.RECT:return"rect";case C7.ROUNDED_RECT:return"rounded-rect";case C7.CIRCLE:return"circle";case C7.CLOUD:return"cloud";case C7.BANG:return"bang";case C7.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),Mm8=I(()=>Z0,"getLogger"),Bm8=I((Z)=>Le[Z],"getElementById"),Om8={clear:Um8,addNode:Wm8,getSections:wu0,getData:qm8,nodeType:C7,getType:Gm8,setElementForId:zm8,decorateNode:Hm8,type2Str:Fm8,getLogger:Mm8,getElementById:Bm8},Rm8=Om8,Dm8=I(async(Z,J,Q,K)=>{Z0.debug(`Rendering kanban diagram
`+Z);let U=K.db.getData(),Y=N0();Y.htmlLabels=!1;let q=_7(J),W=q.append("g");W.attr("class","sections");let G=q.append("g");G.attr("class","items");let z=U.nodes.filter((R)=>R.isGroup),H=0,F=10,M=[],B=25;for(let R of z){let D=Y?.kanban?.sectionWidth||200;H=H+1,R.x=D*H+(H-1)*F/2,R.width=D,R.y=0,R.height=D*3,R.rx=5,R.ry=5,R.cssClasses=R.cssClasses+" section-"+H;let L=await s2(W,R);B=Math.max(B,L?.labelBBox?.height),M.push(L)}let O=0;for(let R of z){let D=M[O];O=O+1;let L=Y?.kanban?.sectionWidth||200,A=-L*3/2+B,V=A,N=U.nodes.filter((C)=>C.parentId===R.id);for(let C of N){if(C.isGroup)throw Error("Groups within groups are not allowed in Kanban diagrams");C.x=R.x,C.width=L-1.5*F;let k=(await nG(G,C,{config:Y})).node().getBBox();C.y=V+k.height/2,await uD(C),V=C.y+k.height/2+F/2}let E=D.cluster.select("rect"),j=Math.max(V-A+3*F,50)+(B-25);E.attr("height",j)}tU(void 0,q,Y.mindmap?.padding??D9.kanban.padding,Y.mindmap?.useMaxWidth??D9.kanban.useMaxWidth)},"draw"),Lm8={draw:Dm8},Im8=I((Z)=>{let J="";for(let K=0;K<Z.THEME_COLOR_LIMIT;K++)if(Z["lineColor"+K]=Z["lineColor"+K]||Z["cScaleInv"+K],o7(Z["lineColor"+K]))Z["lineColor"+K]=$8(Z["lineColor"+K],20);else Z["lineColor"+K]=y8(Z["lineColor"+K],20);let Q=I((K,X)=>Z.darkMode?y8(K,X):$8(K,X),"adjuster");for(let K=0;K<Z.THEME_COLOR_LIMIT;K++){let X=""+(17-3*K);J+=`
    .section-${K-1} rect, .section-${K-1} path, .section-${K-1} circle, .section-${K-1} polygon, .section-${K-1} path  {
      fill: ${Q(Z["cScale"+K],10)};
      stroke: ${Q(Z["cScale"+K],10)};

    }
    .section-${K-1} text {
     fill: ${Z["cScaleLabel"+K]};
    }
    .node-icon-${K-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+K]};
    }
    .section-edge-${K-1}{
      stroke: ${Z["cScale"+K]};
    }
    .edge-depth-${K-1}{
      stroke-width: ${X};
    }
    .section-${K-1} line {
      stroke: ${Z["cScaleInv"+K]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.background};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${Z.background};
    stroke: ${Z.nodeBorder};
    text-decoration: underline;
  }
    `}return J},"genSections"),Am8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${Im8(Z)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${Z.textColor};
    fill: ${Z.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${oX()}
`,"getStyles"),Nm8=Am8,Em8={db:Rm8,renderer:Lm8,parser:Xm8,styles:Nm8}});function lA(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q<X||Q===void 0&&X>=X))Q=X}return Q}function LO(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q>X||Q===void 0&&X>=X))Q=X}return Q}function IO(Z,J){let Q=0;if(J===void 0){for(let K of Z)if(K=+K)Q+=K}else{let K=-1;for(let X of Z)if(X=+J(X,++K,Z))Q+=X}return Q}var Ie=()=>{};function Vm8(Z){return Z.target.depth}function Ae(Z){return Z.depth}function Ne(Z,J){return J-1-Z.height}function dA(Z,J){return Z.sourceLinks.length?Z.depth:J-1}function Ee(Z){return Z.targetLinks.length?Z.depth:Z.sourceLinks.length?LO(Z.sourceLinks,Vm8)-1:0}var Ve=_(()=>{Ie()});function AO(Z){return function(){return Z}}function _u0(Z,J){return Uf(Z.source,J.source)||Z.index-J.index}function fu0(Z,J){return Uf(Z.target,J.target)||Z.index-J.index}function Uf(Z,J){return Z.y0-J.y0}function Pe(Z){return Z.value}function Pm8(Z){return Z.index}function jm8(Z){return Z.nodes}function Cm8(Z){return Z.links}function vu0(Z,J){let Q=Z.get(J);if(!Q)throw Error("missing: "+J);return Q}function xu0({nodes:Z}){for(let J of Z){let Q=J.y0,K=Q;for(let X of J.sourceLinks)X.y0=Q+X.width/2,Q+=X.width;for(let X of J.targetLinks)X.y1=K+X.width/2,K+=X.width}}function Yf(){let Z=0,J=0,Q=1,K=1,X=24,U=8,Y,q=Pm8,W=dA,G,z,H=jm8,F=Cm8,M=6;function B(){let f={nodes:H.apply(null,arguments),links:F.apply(null,arguments)};return O(f),R(f),D(f),L(f),N(f),xu0(f),f}B.update=function(f){return xu0(f),f},B.nodeId=function(f){return arguments.length?(q=typeof f==="function"?f:AO(f),B):q},B.nodeAlign=function(f){return arguments.length?(W=typeof f==="function"?f:AO(f),B):W},B.nodeSort=function(f){return arguments.length?(G=f,B):G},B.nodeWidth=function(f){return arguments.length?(X=+f,B):X},B.nodePadding=function(f){return arguments.length?(U=Y=+f,B):U},B.nodes=function(f){return arguments.length?(H=typeof f==="function"?f:AO(f),B):H},B.links=function(f){return arguments.length?(F=typeof f==="function"?f:AO(f),B):F},B.linkSort=function(f){return arguments.length?(z=f,B):z},B.size=function(f){return arguments.length?(Z=J=0,Q=+f[0],K=+f[1],B):[Q-Z,K-J]},B.extent=function(f){return arguments.length?(Z=+f[0][0],Q=+f[1][0],J=+f[0][1],K=+f[1][1],B):[[Z,J],[Q,K]]},B.iterations=function(f){return arguments.length?(M=+f,B):M};function O({nodes:f,links:v}){for(let[b,y]of f.entries())y.index=b,y.sourceLinks=[],y.targetLinks=[];let x=new Map(f.map((b,y)=>[q(b,y,f),b]));for(let[b,y]of v.entries()){y.index=b;let{source:u,target:h}=y;if(typeof u!=="object")u=y.source=vu0(x,u);if(typeof h!=="object")h=y.target=vu0(x,h);u.sourceLinks.push(y),h.targetLinks.push(y)}if(z!=null)for(let{sourceLinks:b,targetLinks:y}of f)b.sort(z),y.sort(z)}function R({nodes:f}){for(let v of f)v.value=v.fixedValue===void 0?Math.max(IO(v.sourceLinks,Pe),IO(v.targetLinks,Pe)):v.fixedValue}function D({nodes:f}){let v=f.length,x=new Set(f),b=new Set,y=0;while(x.size){for(let u of x){u.depth=y;for(let{target:h}of u.sourceLinks)b.add(h)}if(++y>v)throw Error("circular link");x=b,b=new Set}}function L({nodes:f}){let v=f.length,x=new Set(f),b=new Set,y=0;while(x.size){for(let u of x){u.height=y;for(let{source:h}of u.targetLinks)b.add(h)}if(++y>v)throw Error("circular link");x=b,b=new Set}}function A({nodes:f}){let v=lA(f,(y)=>y.depth)+1,x=(Q-Z-X)/(v-1),b=Array(v);for(let y of f){let u=Math.max(0,Math.min(v-1,Math.floor(W.call(null,y,v))));if(y.layer=u,y.x0=Z+u*x,y.x1=y.x0+X,b[u])b[u].push(y);else b[u]=[y]}if(G)for(let y of b)y.sort(G);return b}function V(f){let v=LO(f,(x)=>(K-J-(x.length-1)*Y)/IO(x,Pe));for(let x of f){let b=J;for(let y of x){y.y0=b,y.y1=b+y.value*v,b=y.y1+Y;for(let u of y.sourceLinks)u.width=u.value*v}b=(K-b+Y)/(x.length+1);for(let y=0;y<x.length;++y){let u=x[y];u.y0+=b*(y+1),u.y1+=b*(y+1)}P(x)}}function N(f){let v=A(f);Y=Math.min(U,(K-J)/(lA(v,(x)=>x.length)-1)),V(v);for(let x=0;x<M;++x){let b=Math.pow(0.99,x),y=Math.max(1-b,(x+1)/M);j(v,b,y),E(v,b,y)}}function E(f,v,x){for(let b=1,y=f.length;b<y;++b){let u=f[b];for(let h of u){let p=0,r=0;for(let{source:i,value:U0}of h.targetLinks){let a=U0*(h.layer-i.layer);p+=T(i,h)*a,r+=a}if(!(r>0))continue;let e=(p/r-h.y0)*v;h.y0+=e,h.y1+=e,w(h)}if(G===void 0)u.sort(Uf);C(u,x)}}function j(f,v,x){for(let b=f.length,y=b-2;y>=0;--y){let u=f[y];for(let h of u){let p=0,r=0;for(let{target:i,value:U0}of h.sourceLinks){let a=U0*(i.layer-h.layer);p+=S(h,i)*a,r+=a}if(!(r>0))continue;let e=(p/r-h.y0)*v;h.y0+=e,h.y1+=e,w(h)}if(G===void 0)u.sort(Uf);C(u,x)}}function C(f,v){let x=f.length>>1,b=f[x];k(f,b.y0-Y,x-1,v),$(f,b.y1+Y,x+1,v),k(f,K,f.length-1,v),$(f,J,0,v)}function $(f,v,x,b){for(;x<f.length;++x){let y=f[x],u=(v-y.y0)*b;if(u>0.000001)y.y0+=u,y.y1+=u;v=y.y1+Y}}function k(f,v,x,b){for(;x>=0;--x){let y=f[x],u=(y.y1-v)*b;if(u>0.000001)y.y0-=u,y.y1-=u;v=y.y0-Y}}function w({sourceLinks:f,targetLinks:v}){if(z===void 0){for(let{source:{sourceLinks:x}}of v)x.sort(fu0);for(let{target:{targetLinks:x}}of f)x.sort(_u0)}}function P(f){if(z===void 0)for(let{sourceLinks:v,targetLinks:x}of f)v.sort(fu0),x.sort(_u0)}function T(f,v){let x=f.y0-(f.sourceLinks.length-1)*Y/2;for(let{target:b,width:y}of f.sourceLinks){if(b===v)break;x+=y+Y}for(let{source:b,width:y}of v.targetLinks){if(b===f)break;x-=y}return x}function S(f,v){let x=v.y0-(v.targetLinks.length-1)*Y/2;for(let{source:b,width:y}of v.targetLinks){if(b===f)break;x+=y+Y}for(let{target:b,width:y}of f.sourceLinks){if(b===v)break;x-=y}return x}return B}var bu0=_(()=>{Ie();Ve()});function Se(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yu0(){return new Se}var je,Ce,JH=0.000001,Sm8,Te;var hu0=_(()=>{je=Math.PI,Ce=2*je,Sm8=Ce-JH;Se.prototype=yu0.prototype={constructor:Se,moveTo:function(Z,J){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)},closePath:function(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._+="Z"},lineTo:function(Z,J){this._+="L"+(this._x1=+Z)+","+(this._y1=+J)},quadraticCurveTo:function(Z,J,Q,K){this._+="Q"+ +Z+","+ +J+","+(this._x1=+Q)+","+(this._y1=+K)},bezierCurveTo:function(Z,J,Q,K,X,U){this._+="C"+ +Z+","+ +J+","+ +Q+","+ +K+","+(this._x1=+X)+","+(this._y1=+U)},arcTo:function(Z,J,Q,K,X){Z=+Z,J=+J,Q=+Q,K=+K,X=+X;var U=this._x1,Y=this._y1,q=Q-Z,W=K-J,G=U-Z,z=Y-J,H=G*G+z*z;if(X<0)throw Error("negative radius: "+X);if(this._x1===null)this._+="M"+(this._x1=Z)+","+(this._y1=J);else if(!(H>JH));else if(!(Math.abs(z*q-W*G)>JH)||!X)this._+="L"+(this._x1=Z)+","+(this._y1=J);else{var F=Q-U,M=K-Y,B=q*q+W*W,O=F*F+M*M,R=Math.sqrt(B),D=Math.sqrt(H),L=X*Math.tan((je-Math.acos((B+H-O)/(2*R*D)))/2),A=L/D,V=L/R;if(Math.abs(A-1)>JH)this._+="L"+(Z+A*G)+","+(J+A*z);this._+="A"+X+","+X+",0,0,"+ +(z*F>G*M)+","+(this._x1=Z+V*q)+","+(this._y1=J+V*W)}},arc:function(Z,J,Q,K,X,U){Z=+Z,J=+J,Q=+Q,U=!!U;var Y=Q*Math.cos(K),q=Q*Math.sin(K),W=Z+Y,G=J+q,z=1^U,H=U?K-X:X-K;if(Q<0)throw Error("negative radius: "+Q);if(this._x1===null)this._+="M"+W+","+G;else if(Math.abs(this._x1-W)>JH||Math.abs(this._y1-G)>JH)this._+="L"+W+","+G;if(!Q)return;if(H<0)H=H%Ce+Ce;if(H>Sm8)this._+="A"+Q+","+Q+",0,1,"+z+","+(Z-Y)+","+(J-q)+"A"+Q+","+Q+",0,1,"+z+","+(this._x1=W)+","+(this._y1=G);else if(H>JH)this._+="A"+Q+","+Q+",0,"+ +(H>=je)+","+z+","+(this._x1=Z+Q*Math.cos(X))+","+(this._y1=J+Q*Math.sin(X))},rect:function(Z,J,Q,K){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)+"h"+ +Q+"v"+ +K+"h"+-Q+"Z"},toString:function(){return this._}};Te=yu0});var mu0=_(()=>{hu0()});function qf(Z){return function(){return Z}}function uu0(Z){return Z[0]}function gu0(Z){return Z[1]}var pu0;var cu0=_(()=>{pu0=Array.prototype.slice});function Tm8(Z){return Z.source}function wm8(Z){return Z.target}function $m8(Z){var J=Tm8,Q=wm8,K=uu0,X=gu0,U=null;function Y(){var q,W=pu0.call(arguments),G=J.apply(this,W),z=Q.apply(this,W);if(!U)U=q=Te();if(Z(U,+K.apply(this,(W[0]=G,W)),+X.apply(this,W),+K.apply(this,(W[0]=z,W)),+X.apply(this,W)),q)return U=null,q+""||null}return Y.source=function(q){return arguments.length?(J=q,Y):J},Y.target=function(q){return arguments.length?(Q=q,Y):Q},Y.x=function(q){return arguments.length?(K=typeof q==="function"?q:qf(+q),Y):K},Y.y=function(q){return arguments.length?(X=typeof q==="function"?q:qf(+q),Y):X},Y.context=function(q){return arguments.length?(U=q==null?null:q,Y):U},Y}function km8(Z,J,Q,K,X){Z.moveTo(J,Q),Z.bezierCurveTo(J=(J+K)/2,Q,J,X,K,X)}function we(){return $m8(km8)}var lu0=_(()=>{mu0();cu0()});var du0=_(()=>{lu0()});function _m8(Z){return[Z.source.x1,Z.y0]}function fm8(Z){return[Z.target.x0,Z.y1]}function Wf(){return we().source(_m8).target(fm8)}var iu0=_(()=>{du0()});var su0=_(()=>{bu0();Ve();iu0()});var nu0={};z9(nu0,{diagram:()=>am8});var $e,Gf,Hf,Ff,zf,vm8,xm8,bm8,ym8,hm8,mm8,um8,gm8,pm8,ru0,cm8,lm8,dm8,im8,sm8,rm8,nm8,am8;var au0=_(()=>{T9();M9();A9();su0();$e=function(){var Z=I(function(q,W,G,z){for(G=G||{},z=q.length;z--;G[q[z]]=W);return G},"o"),J=[1,9],Q=[1,10],K=[1,5,10,12],X={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:I(function(W,G,z,H,F,M,B){var O=M.length-1;switch(F){case 7:let R=H.findOrCreateNode(M[O-4].trim().replaceAll('""','"')),D=H.findOrCreateNode(M[O-2].trim().replaceAll('""','"')),L=parseFloat(M[O].trim());H.addLink(R,D,L);break;case 8:case 9:case 11:this.$=M[O];break;case 10:this.$=M[O-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:J,20:Q},{1:[2,6],7:11,10:[1,12]},Z(Q,[2,4],{9:13,5:[1,14]}),{12:[1,15]},Z(K,[2,8]),Z(K,[2,9]),{19:[1,16]},Z(K,[2,11]),{1:[2,1]},{1:[2,5]},Z(Q,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:J,20:Q},{15:18,16:7,17:8,18:J,20:Q},{18:[1,19]},Z(Q,[2,3]),{12:[1,20]},Z(K,[2,10]),{15:21,16:7,17:8,18:J,20:Q},Z([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:I(function(W,G){if(G.recoverable)this.trace(W);else{var z=Error(W);throw z.hash=G,z}},"parseError"),parse:I(function(W){var G=this,z=[0],H=[],F=[null],M=[],B=this.table,O="",R=0,D=0,L=0,A=2,V=1,N=M.slice.call(arguments,1),E=Object.create(this.lexer),j={yy:{}};for(var C in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,C))j.yy[C]=this.yy[C];if(E.setInput(W,j.yy),j.yy.lexer=E,j.yy.parser=this,typeof E.yylloc>"u")E.yylloc={};var $=E.yylloc;M.push($);var k=E.options&&E.options.ranges;if(typeof j.yy.parseError==="function")this.parseError=j.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function w(i){z.length=z.length-2*i,F.length=F.length-i,M.length=M.length-i}I(w,"popStack");function P(){var i=H.pop()||E.lex()||V;if(typeof i!=="number"){if(i instanceof Array)H=i,i=H.pop();i=G.symbols_[i]||i}return i}I(P,"lex");var T,S,f,v,x,b,y={},u,h,p,r;while(!0){if(f=z[z.length-1],this.defaultActions[f])v=this.defaultActions[f];else{if(T===null||typeof T>"u")T=P();v=B[f]&&B[f][T]}if(typeof v>"u"||!v.length||!v[0]){var e="";r=[];for(u in B[f])if(this.terminals_[u]&&u>A)r.push("'"+this.terminals_[u]+"'");if(E.showPosition)e="Parse error on line "+(R+1)+`:
`+E.showPosition()+`
Expecting `+r.join(", ")+", got '"+(this.terminals_[T]||T)+"'";else e="Parse error on line "+(R+1)+": Unexpected "+(T==V?"end of input":"'"+(this.terminals_[T]||T)+"'");this.parseError(e,{text:E.match,token:this.terminals_[T]||T,line:E.yylineno,loc:$,expected:r})}if(v[0]instanceof Array&&v.length>1)throw Error("Parse Error: multiple actions possible at state: "+f+", token: "+T);switch(v[0]){case 1:if(z.push(T),F.push(E.yytext),M.push(E.yylloc),z.push(v[1]),T=null,!S){if(D=E.yyleng,O=E.yytext,R=E.yylineno,$=E.yylloc,L>0)L--}else T=S,S=null;break;case 2:if(h=this.productions_[v[1]][1],y.$=F[F.length-h],y._$={first_line:M[M.length-(h||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(h||1)].first_column,last_column:M[M.length-1].last_column},k)y._$.range=[M[M.length-(h||1)].range[0],M[M.length-1].range[1]];if(b=this.performAction.apply(y,[O,D,R,j.yy,v[1],F,M].concat(N)),typeof b<"u")return b;if(h)z=z.slice(0,-1*h*2),F=F.slice(0,-1*h),M=M.slice(0,-1*h);z.push(this.productions_[v[1]][0]),F.push(y.$),M.push(y._$),p=B[z[z.length-2]][z[z.length-1]],z.push(p);break;case 3:return!0}}return!0},"parse")},U=function(){var q={EOF:1,parseError:I(function(G,z){if(this.yy.parser)this.yy.parser.parseError(G,z);else throw Error(G)},"parseError"),setInput:I(function(W,G){if(this.yy=G||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var W=this._input[0];this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W;var G=W.match(/(?:\r\n?|\n).*/g);if(G)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),W},"input"),unput:I(function(W){var G=W.length,z=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var H=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1)this.yylineno-=z.length-1;var F=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===H.length?this.yylloc.first_column:0)+H[H.length-z.length].length-z[0].length:this.yylloc.first_column-G},this.options.ranges)this.yylloc.range=[F[0],F[0]+this.yyleng-G];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(W){this.unput(this.match.slice(W))},"less"),pastInput:I(function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var W=this.match;if(W.length<20)W+=this._input.substr(0,20-W.length);return(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var W=this.pastInput(),G=Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+G+"^"},"showPosition"),test_match:I(function(W,G){var z,H,F;if(this.options.backtrack_lexer){if(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)F.yylloc.range=this.yylloc.range.slice(0)}if(H=W[0].match(/(?:\r\n?|\n).*/g),H)this.yylineno+=H.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],z=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(z)return z;else if(this._backtrack){for(var M in F)this[M]=F[M];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var W,G,z,H;if(!this._more)this.yytext="",this.match="";var F=this._currentRules();for(var M=0;M<F.length;M++)if(z=this._input.match(this.rules[F[M]]),z&&(!G||z[0].length>G[0].length)){if(G=z,H=M,this.options.backtrack_lexer)if(W=this.test_match(z,F[M]),W!==!1)return W;else if(this._backtrack){G=!1;continue}else return!1;else if(!this.options.flex)break}if(G){if(W=this.test_match(G,F[H]),W!==!1)return W;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var G=this.next();if(G)return G;else return this.lex()},"lex"),begin:I(function(G){this.conditionStack.push(G)},"begin"),popState:I(function(){var G=this.conditionStack.length-1;if(G>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(G){if(G=this.conditionStack.length-1-Math.abs(G||0),G>=0)return this.conditionStack[G];else return"INITIAL"},"topState"),pushState:I(function(G){this.begin(G)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(G,z,H,F){var M=F;switch(H){case 0:return this.pushState("csv"),4;break;case 1:return this.pushState("csv"),4;break;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;break;case 6:return 20;case 7:return this.popState("escaped_text"),18;break;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return q}();X.lexer=U;function Y(){this.yy={}}return I(Y,"Parser"),Y.prototype=X,X.Parser=Y,new Y}();$e.parser=$e;Gf=$e,Hf=[],Ff=[],zf=new Map,vm8=I(()=>{Hf=[],Ff=[],zf=new Map,S9()},"clear"),xm8=class{constructor(Z,J,Q=0){this.source=Z,this.target=J,this.value=Q}static{I(this,"SankeyLink")}},bm8=I((Z,J,Q)=>{Hf.push(new xm8(Z,J,Q))},"addLink"),ym8=class{constructor(Z){this.ID=Z}static{I(this,"SankeyNode")}},hm8=I((Z)=>{Z=J8.sanitizeText(Z,N0());let J=zf.get(Z);if(J===void 0)J=new ym8(Z),zf.set(Z,J),Ff.push(J);return J},"findOrCreateNode"),mm8=I(()=>Ff,"getNodes"),um8=I(()=>Hf,"getLinks"),gm8=I(()=>({nodes:Ff.map((Z)=>({id:Z.ID})),links:Hf.map((Z)=>({source:Z.source.ID,target:Z.target.ID,value:Z.value}))}),"getGraph"),pm8={nodesMap:zf,getConfig:I(()=>N0().sankey,"getConfig"),getNodes:mm8,getLinks:um8,getGraph:gm8,addLink:bm8,findOrCreateNode:hm8,getAccTitle:y9,setAccTitle:v9,getAccDescription:m9,setAccDescription:h9,getDiagramTitle:u9,setDiagramTitle:s9,clear:vm8},ru0=class Z{static{I(this,"Uid")}static{this.count=0}static next(J){return new Z(J+ ++Z.count)}constructor(J){this.id=J,this.href=`#${J}`}toString(){return"url("+this.href+")"}},cm8={left:Ae,right:Ne,center:Ee,justify:dA},lm8=I(function(Z,J,Q,K){let{securityLevel:X,sankey:U}=N0(),Y=TV.sankey,q;if(X==="sandbox")q=i0("#i"+J);let W=X==="sandbox"?i0(q.nodes()[0].contentDocument.body):i0("body"),G=X==="sandbox"?W.select(`[id="${J}"]`):i0(`[id="${J}"]`),z=U?.width??Y.width,H=U?.height??Y.width,F=U?.useMaxWidth??Y.useMaxWidth,M=U?.nodeAlignment??Y.nodeAlignment,B=U?.prefix??Y.prefix,O=U?.suffix??Y.suffix,R=U?.showValues??Y.showValues,D=K.db.getGraph(),L=cm8[M],A=10;Yf().nodeId((k)=>k.id).nodeWidth(A).nodePadding(10+(R?15:0)).nodeAlign(L).extent([[0,0],[z,H]])(D);let N=S4(Wg);G.append("g").attr("class","nodes").selectAll(".node").data(D.nodes).join("g").attr("class","node").attr("id",(k)=>(k.uid=ru0.next("node-")).id).attr("transform",function(k){return"translate("+k.x0+","+k.y0+")"}).attr("x",(k)=>k.x0).attr("y",(k)=>k.y0).append("rect").attr("height",(k)=>{return k.y1-k.y0}).attr("width",(k)=>k.x1-k.x0).attr("fill",(k)=>N(k.id));let E=I(({id:k,value:w})=>{if(!R)return k;return`${k}
${B}${Math.round(w*100)/100}${O}`},"getText");G.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(D.nodes).join("text").attr("x",(k)=>k.x0<z/2?k.x1+6:k.x0-6).attr("y",(k)=>(k.y1+k.y0)/2).attr("dy",`${R?"0":"0.35"}em`).attr("text-anchor",(k)=>k.x0<z/2?"start":"end").text(E);let j=G.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",0.5).selectAll(".link").data(D.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),C=U?.linkColor??"gradient";if(C==="gradient"){let k=j.append("linearGradient").attr("id",(w)=>(w.uid=ru0.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",(w)=>w.source.x1).attr("x2",(w)=>w.target.x0);k.append("stop").attr("offset","0%").attr("stop-color",(w)=>N(w.source.id)),k.append("stop").attr("offset","100%").attr("stop-color",(w)=>N(w.target.id))}let $;switch(C){case"gradient":$=I((k)=>k.uid,"coloring");break;case"source":$=I((k)=>N(k.source.id),"coloring");break;case"target":$=I((k)=>N(k.target.id),"coloring");break;default:$=C}j.append("path").attr("d",Wf()).attr("stroke",$).attr("stroke-width",(k)=>Math.max(1,k.width)),tU(void 0,G,0,F)},"draw"),dm8={draw:lm8},im8=I((Z)=>{return Z.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim()},"prepareTextForParsing"),sm8=I((Z)=>`.label {
      font-family: ${Z.fontFamily};
    }`,"getStyles"),rm8=sm8,nm8=Gf.parse.bind(Gf);Gf.parse=(Z)=>nm8(im8(Z));am8={styles:rm8,parser:Gf,db:pm8,renderer:dm8}});var eu0={};z9(eu0,{diagram:()=>Yu8});var om8,ou0,tm8=1e4,em8,Zu8,tu0,Ju8,Qu8,Ku8,Xu8,Uu8,Yu8;var Zg0=_(()=>{VX();Nz();jZ();T9();M9();_W();om8=D9.packet,ou0=class{constructor(){this.packet=[],this.setAccTitle=v9,this.getAccTitle=y9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getAccDescription=m9,this.setAccDescription=h9}static{I(this,"PacketDB")}getConfig(){let Z=TJ({...om8,...L9().packet});if(Z.showBits)Z.paddingY+=10;return Z}getPacket(){return this.packet}pushWord(Z){if(Z.length>0)this.packet.push(Z)}clear(){S9(),this.packet=[]}},em8=I((Z,J)=>{m4(Z,J);let Q=-1,K=[],X=1,{bitsPerRow:U}=J.getConfig();for(let{start:Y,end:q,bits:W,label:G}of Z.blocks){if(Y!==void 0&&q!==void 0&&q<Y)throw Error(`Packet block ${Y} - ${q} is invalid. End must be greater than start.`);if(Y??=Q+1,Y!==Q+1)throw Error(`Packet block ${Y} - ${q??Y} is not contiguous. It should start from ${Q+1}.`);if(W===0)throw Error(`Packet block ${Y} is invalid. Cannot have a zero bit field.`);q??=Y+(W??1)-1,W??=q-Y+1,Q=q,Z0.debug(`Packet block ${Y} - ${Q} with label ${G}`);while(K.length<=U+1&&J.getPacket().length<tm8){let[z,H]=Zu8({start:Y,end:q,bits:W,label:G},X,U);if(K.push(z),z.end+1===X*U)J.pushWord(K),K=[],X++;if(!H)break;({start:Y,end:q,bits:W,label:G}=H)}}J.pushWord(K)},"populate"),Zu8=I((Z,J,Q)=>{if(Z.start===void 0)throw Error("start should have been set during first phase");if(Z.end===void 0)throw Error("end should have been set during first phase");if(Z.start>Z.end)throw Error(`Block start ${Z.start} is greater than block end ${Z.end}.`);if(Z.end+1<=J*Q)return[Z,void 0];let K=J*Q-1,X=J*Q;return[{start:Z.start,end:K,label:Z.label,bits:K-Z.start},{start:X,end:Z.end,label:Z.label,bits:Z.end-X}]},"getNextFittingBlock"),tu0={parser:{yy:void 0},parse:I(async(Z)=>{let J=await E6("packet",Z),Q=tu0.parser?.yy;if(!(Q instanceof ou0))throw Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Z0.debug(J),em8(J,Q)},"parse")},Ju8=I((Z,J,Q,K)=>{let X=K.db,U=X.getConfig(),{rowHeight:Y,paddingY:q,bitWidth:W,bitsPerRow:G}=U,z=X.getPacket(),H=X.getDiagramTitle(),F=Y+q,M=F*(z.length+1)-(H?0:Y),B=W*G+2,O=_7(J);O.attr("viewbox",`0 0 ${B} ${M}`),PZ(O,M,B,U.useMaxWidth);for(let[R,D]of z.entries())Qu8(O,D,R,U);O.append("text").text(H).attr("x",B/2).attr("y",M-F/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),Qu8=I((Z,J,Q,{rowHeight:K,paddingX:X,paddingY:U,bitWidth:Y,bitsPerRow:q,showBits:W})=>{let G=Z.append("g"),z=Q*(K+U)+U;for(let H of J){let F=H.start%q*Y+1,M=(H.end-H.start+1)*Y-X;if(G.append("rect").attr("x",F).attr("y",z).attr("width",M).attr("height",K).attr("class","packetBlock"),G.append("text").attr("x",F+M/2).attr("y",z+K/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(H.label),!W)continue;let B=H.end===H.start,O=z-2;if(G.append("text").attr("x",F+(B?M/2:0)).attr("y",O).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",B?"middle":"start").text(H.start),!B)G.append("text").attr("x",F+M).attr("y",O).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(H.end)}},"drawWord"),Ku8={draw:Ju8},Xu8={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Uu8=I(({packet:Z}={})=>{let J=TJ(Xu8,Z);return`
	.packetByte {
		font-size: ${J.byteFontSize};
	}
	.packetByte.start {
		fill: ${J.startByteColor};
	}
	.packetByte.end {
		fill: ${J.endByteColor};
	}
	.packetLabel {
		fill: ${J.labelColor};
		font-size: ${J.labelFontSize};
	}
	.packetTitle {
		fill: ${J.titleColor};
		font-size: ${J.titleFontSize};
	}
	.packetBlock {
		stroke: ${J.blockStrokeColor};
		stroke-width: ${J.blockStrokeWidth};
		fill: ${J.blockFillColor};
	}
	`},"styles"),Yu8={parser:tu0,get db(){return new ou0},renderer:Ku8,styles:Uu8}});var qg0={};z9(qg0,{diagram:()=>Cu8});function Kg0(Z,J,Q,K,X,U,Y){let q=J.length,W=Math.min(Y.width,Y.height)/2;Q.forEach((G,z)=>{if(G.entries.length!==q)return;let H=G.entries.map((F,M)=>{let B=2*Math.PI*M/q-Math.PI/2,O=Xg0(F,K,X,W),R=O*Math.cos(B),D=O*Math.sin(B);return{x:R,y:D}});if(U==="circle")Z.append("path").attr("d",Ug0(H,Y.curveTension)).attr("class",`radarCurve-${z}`);else if(U==="polygon")Z.append("polygon").attr("points",H.map((F)=>`${F.x},${F.y}`).join(" ")).attr("class",`radarCurve-${z}`)})}function Xg0(Z,J,Q,K){let X=Math.min(Math.max(Z,J),Q);return K*(X-J)/(Q-J)}function Ug0(Z,J){let Q=Z.length,K=`M${Z[0].x},${Z[0].y}`;for(let X=0;X<Q;X++){let U=Z[(X-1+Q)%Q],Y=Z[X],q=Z[(X+1)%Q],W=Z[(X+2)%Q],G={x:Y.x+(q.x-U.x)*J,y:Y.y+(q.y-U.y)*J},z={x:q.x-(W.x-Y.x)*J,y:q.y-(W.y-Y.y)*J};K+=` C${G.x},${G.y} ${z.x},${z.y} ${q.x},${q.y}`}return`${K} Z`}function Yg0(Z,J,Q,K){if(!Q)return;let X=(K.width/2+K.marginRight)*3/4,U=-(K.height/2+K.marginTop)*3/4,Y=20;J.forEach((q,W)=>{let G=Z.append("g").attr("transform",`translate(${X}, ${U+W*Y})`);G.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${W}`),G.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(q.label)})}var NO,Jg0,QH,qu8,Wu8,Qg0,Gu8,zu8,Hu8,Fu8,Mu8,Bu8,Ou8,iA,Ru8,Du8,Lu8,Iu8,Au8,Nu8,Eu8,Vu8,Pu8,ju8,Cu8;var Wg0=_(()=>{VX();Nz();jZ();T9();M9();_W();NO={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},Jg0={axes:[],curves:[],options:NO},QH=structuredClone(Jg0),qu8=D9.radar,Wu8=I(()=>{return TJ({...qu8,...L9().radar})},"getConfig"),Qg0=I(()=>QH.axes,"getAxes"),Gu8=I(()=>QH.curves,"getCurves"),zu8=I(()=>QH.options,"getOptions"),Hu8=I((Z)=>{QH.axes=Z.map((J)=>{return{name:J.name,label:J.label??J.name}})},"setAxes"),Fu8=I((Z)=>{QH.curves=Z.map((J)=>{return{name:J.name,label:J.label??J.name,entries:Mu8(J.entries)}})},"setCurves"),Mu8=I((Z)=>{if(Z[0].axis==null)return Z.map((Q)=>Q.value);let J=Qg0();if(J.length===0)throw Error("Axes must be populated before curves for reference entries");return J.map((Q)=>{let K=Z.find((X)=>X.axis?.$refText===Q.name);if(K===void 0)throw Error("Missing entry for axis "+Q.label);return K.value})},"computeCurveEntries"),Bu8=I((Z)=>{let J=Z.reduce((Q,K)=>{return Q[K.name]=K,Q},{});QH.options={showLegend:J.showLegend?.value??NO.showLegend,ticks:J.ticks?.value??NO.ticks,max:J.max?.value??NO.max,min:J.min?.value??NO.min,graticule:J.graticule?.value??NO.graticule}},"setOptions"),Ou8=I(()=>{S9(),QH=structuredClone(Jg0)},"clear"),iA={getAxes:Qg0,getCurves:Gu8,getOptions:zu8,setAxes:Hu8,setCurves:Fu8,setOptions:Bu8,getConfig:Wu8,clear:Ou8,setAccTitle:v9,getAccTitle:y9,setDiagramTitle:s9,getDiagramTitle:u9,getAccDescription:m9,setAccDescription:h9},Ru8=I((Z)=>{m4(Z,iA);let{axes:J,curves:Q,options:K}=Z;iA.setAxes(J),iA.setCurves(Q),iA.setOptions(K)},"populate"),Du8={parse:I(async(Z)=>{let J=await E6("radar",Z);Z0.debug(J),Ru8(J)},"parse")},Lu8=I((Z,J,Q,K)=>{let X=K.db,U=X.getAxes(),Y=X.getCurves(),q=X.getOptions(),W=X.getConfig(),G=X.getDiagramTitle(),z=_7(J),H=Iu8(z,W),F=q.max??Math.max(...Y.map((O)=>Math.max(...O.entries))),M=q.min,B=Math.min(W.width,W.height)/2;Au8(H,U,B,q.ticks,q.graticule),Nu8(H,U,B,W),Kg0(H,U,Y,M,F,q.graticule,W),Yg0(H,Y,q.showLegend,W),H.append("text").attr("class","radarTitle").text(G).attr("x",0).attr("y",-W.height/2-W.marginTop)},"draw"),Iu8=I((Z,J)=>{let Q=J.width+J.marginLeft+J.marginRight,K=J.height+J.marginTop+J.marginBottom,X={x:J.marginLeft+J.width/2,y:J.marginTop+J.height/2};return Z.attr("viewbox",`0 0 ${Q} ${K}`).attr("width",Q).attr("height",K),Z.append("g").attr("transform",`translate(${X.x}, ${X.y})`)},"drawFrame"),Au8=I((Z,J,Q,K,X)=>{if(X==="circle")for(let U=0;U<K;U++){let Y=Q*(U+1)/K;Z.append("circle").attr("r",Y).attr("class","radarGraticule")}else if(X==="polygon"){let U=J.length;for(let Y=0;Y<K;Y++){let q=Q*(Y+1)/K,W=J.map((G,z)=>{let H=2*z*Math.PI/U-Math.PI/2,F=q*Math.cos(H),M=q*Math.sin(H);return`${F},${M}`}).join(" ");Z.append("polygon").attr("points",W).attr("class","radarGraticule")}}},"drawGraticule"),Nu8=I((Z,J,Q,K)=>{let X=J.length;for(let U=0;U<X;U++){let Y=J[U].label,q=2*U*Math.PI/X-Math.PI/2;Z.append("line").attr("x1",0).attr("y1",0).attr("x2",Q*K.axisScaleFactor*Math.cos(q)).attr("y2",Q*K.axisScaleFactor*Math.sin(q)).attr("class","radarAxisLine"),Z.append("text").text(Y).attr("x",Q*K.axisLabelFactor*Math.cos(q)).attr("y",Q*K.axisLabelFactor*Math.sin(q)).attr("class","radarAxisLabel")}},"drawAxes");I(Kg0,"drawCurves");I(Xg0,"relativeRadius");I(Ug0,"closedRoundCurve");I(Yg0,"drawLegend");Eu8={draw:Lu8},Vu8=I((Z,J)=>{let Q="";for(let K=0;K<Z.THEME_COLOR_LIMIT;K++){let X=Z[`cScale${K}`];Q+=`
		.radarCurve-${K} {
			color: ${X};
			fill: ${X};
			fill-opacity: ${J.curveOpacity};
			stroke: ${X};
			stroke-width: ${J.curveStrokeWidth};
		}
		.radarLegendBox-${K} {
			fill: ${X};
			fill-opacity: ${J.curveOpacity};
			stroke: ${X};
		}
		`}return Q},"genIndexStyles"),Pu8=I((Z)=>{let J=AG(),Q=L9(),K=TJ(J,Q.themeVariables),X=TJ(K.radar,Z);return{themeVariables:K,radarOptions:X}},"buildRadarStyleOptions"),ju8=I(({radar:Z}={})=>{let{themeVariables:J,radarOptions:Q}=Pu8(Z);return`
	.radarTitle {
		font-size: ${J.fontSize};
		color: ${J.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${Q.axisColor};
		stroke-width: ${Q.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${Q.axisLabelFontSize}px;
		color: ${Q.axisColor};
	}
	.radarGraticule {
		fill: ${Q.graticuleColor};
		fill-opacity: ${Q.graticuleOpacity};
		stroke: ${Q.graticuleColor};
		stroke-width: ${Q.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${Q.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${Vu8(J,Q)}
	`},"styles"),Cu8={parser:Du8,db:iA,renderer:Eu8,styles:ju8}});var hg0={};z9(hg0,{diagram:()=>og8});function Ag0(Z){switch(Z0.debug("typeStr2Type",Z),Z){case"[]":return"square";case"()":return Z0.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Ng0(Z){switch(Z0.debug("typeStr2Type",Z),Z){case"==":return"thick";default:return"normal"}}function Eg0(Z){switch(Z.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}function Vg0(Z,J){if(Z===0||!Number.isInteger(Z))throw Error("Columns must be an integer !== 0.");if(J<0||!Number.isInteger(J))throw Error("Position must be a non-negative integer."+J);if(Z<0)return{px:J,py:0};if(Z===1)return{px:0,py:J};let Q=J%Z,K=Math.floor(J/Z);return{px:Q,py:K}}function Rf(Z,J,Q=0,K=0){if(Z0.debug("setBlockSizes abc95 (start)",Z.id,Z?.size?.x,"block width =",Z?.size,"siblingWidth",Q),!Z?.size?.width)Z.size={width:Q,height:K,x:0,y:0};let X=0,U=0;if(Z.children?.length>0){for(let M of Z.children)Rf(M,J);let Y=qg8(Z);X=Y.width,U=Y.height,Z0.debug("setBlockSizes abc95 maxWidth of",Z.id,":s children is ",X,U);for(let M of Z.children)if(M.size)Z0.debug(`abc95 Setting size of children of ${Z.id} id=${M.id} ${X} ${U} ${JSON.stringify(M.size)}`),M.size.width=X*(M.widthInColumns??1)+eJ*((M.widthInColumns??1)-1),M.size.height=U,M.size.x=0,M.size.y=0,Z0.debug(`abc95 updating size of ${Z.id} children child:${M.id} maxWidth:${X} maxHeight:${U}`);for(let M of Z.children)Rf(M,J,X,U);let q=Z.columns??-1,W=0;for(let M of Z.children)W+=M.widthInColumns??1;let G=Z.children.length;if(q>0&&q<W)G=q;let z=Math.ceil(W/G),H=G*(X+eJ)+eJ,F=z*(U+eJ)+eJ;if(H<Q){Z0.debug(`Detected to small sibling: abc95 ${Z.id} siblingWidth ${Q} siblingHeight ${K} width ${H}`),H=Q,F=K;let M=(Q-G*eJ-eJ)/G,B=(K-z*eJ-eJ)/z;Z0.debug("Size indata abc88",Z.id,"childWidth",M,"maxWidth",X),Z0.debug("Size indata abc88",Z.id,"childHeight",B,"maxHeight",U),Z0.debug("Size indata abc88 xSize",G,"padding",eJ);for(let O of Z.children)if(O.size)O.size.width=M,O.size.height=B,O.size.x=0,O.size.y=0}if(Z0.debug(`abc95 (finale calc) ${Z.id} xSize ${G} ySize ${z} columns ${q}${Z.children.length} width=${Math.max(H,Z.size?.width||0)}`),H<(Z?.size?.width||0)){H=Z?.size?.width||0;let M=q>0?Math.min(Z.children.length,q):Z.children.length;if(M>0){let B=(H-M*eJ-eJ)/M;Z0.debug("abc95 (growing to fit) width",Z.id,H,Z.size?.width,B);for(let O of Z.children)if(O.size)O.size.width=B}}Z.size={width:H,height:F,x:0,y:0}}Z0.debug("setBlockSizes abc94 (done)",Z.id,Z?.size?.x,Z?.size?.width,Z?.size?.y,Z?.size?.height)}function he(Z,J){Z0.debug(`abc85 layout blocks (=>layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`);let Q=Z.columns??-1;if(Z0.debug("layoutBlocks columns abc95",Z.id,"=>",Q,Z),Z.children&&Z.children.length>0){let K=Z?.children[0]?.size?.width??0,X=Z.children.length*K+(Z.children.length-1)*eJ;Z0.debug("widthOfChildren 88",X,"posX");let U=0;Z0.debug("abc91 block?.size?.x",Z.id,Z?.size?.x);let Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-eJ,q=0;for(let W of Z.children){let G=Z;if(!W.size)continue;let{width:z,height:H}=W.size,{px:F,py:M}=Vg0(Q,U);if(M!=q)q=M,Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-eJ,Z0.debug("New row in layout for block",Z.id," and child ",W.id,q);if(Z0.debug(`abc89 layout blocks (child) id: ${W.id} Pos: ${U} (px, py) ${F},${M} (${G?.size?.x},${G?.size?.y}) parent: ${G.id} width: ${z}${eJ}`),G.size){let O=z/2;W.size.x=Y+eJ+O,Z0.debug(`abc91 layout blocks (calc) px, pyid:${W.id} startingPos=X${Y} new startingPosX${W.size.x} ${O} padding=${eJ} width=${z} halfWidth=${O} => x:${W.size.x} y:${W.size.y} ${W.widthInColumns} (width * (child?.w || 1)) / 2 ${z*(W?.widthInColumns??1)/2}`),Y=W.size.x+O,W.size.y=G.size.y-G.size.height/2+M*(H+eJ)+H/2+eJ,Z0.debug(`abc88 layout blocks (calc) px, pyid:${W.id}startingPosX${Y}${eJ}${O}=>x:${W.size.x}y:${W.size.y}${W.widthInColumns}(width * (child?.w || 1)) / 2${z*(W?.widthInColumns??1)/2}`)}if(W.children)he(W,J);let B=W?.widthInColumns??1;if(Q>0)B=Math.min(B,Q-U%Q);U+=B,Z0.debug("abc88 columnsPos",W,U)}}Z0.debug(`layout blocks (<==layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`)}function me(Z,{minX:J,minY:Q,maxX:K,maxY:X}={minX:0,minY:0,maxX:0,maxY:0}){if(Z.size&&Z.id!=="root"){let{x:U,y:Y,width:q,height:W}=Z.size;if(U-q/2<J)J=U-q/2;if(Y-W/2<Q)Q=Y-W/2;if(U+q/2>K)K=U+q/2;if(Y+W/2>X)X=Y+W/2}if(Z.children)for(let U of Z.children)({minX:J,minY:Q,maxX:K,maxY:X}=me(U,{minX:J,minY:Q,maxX:K,maxY:X}));return{minX:J,minY:Q,maxX:K,maxY:X}}function Pg0(Z){let J=Z.getBlock("root");if(!J)return;Rf(J,Z,0,0),he(J,Z),Z0.debug("getBlocks",JSON.stringify(J,null,2));let{minX:Q,minY:K,maxX:X,maxY:U}=me(J),Y=U-K,q=X-Q;return{x:Q,y:K,width:q,height:Y}}function fe(Z,J){if(J)Z.attr("style",J)}function jg0(Z,J){let Q=i0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),K=Q.append("xhtml:div"),X=Z.label,U=Z.isNode?"nodeLabel":"edgeLabel",Y=K.append("span");return Y.html(R9(X,J)),fe(Y,Z.labelStyle),Y.attr("class",U),fe(K,Z.labelStyle),K.style("display","inline-block"),K.style("white-space","nowrap"),K.attr("xmlns","http://www.w3.org/1999/xhtml"),Q.node()}function sA(Z,J){if(N0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}function Cg0(Z,J){return Z.intersect(J)}function Sg0(Z,J,Q,K){var{x:X,y:U}=Z,Y=X-K.x,q=U-K.y,W=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/W);if(K.x<X)G=-G;var z=Math.abs(J*Q*q/W);if(K.y<U)z=-z;return{x:X+G,y:U+z}}function wg0(Z,J,Q){return Tg0(Z,J,J,Q)}function $g0(Z,J,Q,K){var X,U,Y,q,W,G,z,H,F,M,B,O,R,D,L;if(X=J.y-Z.y,Y=Z.x-J.x,W=J.x*Z.y-Z.x*J.y,F=X*Q.x+Y*Q.y+W,M=X*K.x+Y*K.y+W,F!==0&&M!==0&&xe(F,M))return;if(U=K.y-Q.y,q=Q.x-K.x,G=K.x*Q.y-Q.x*K.y,z=U*Z.x+q*Z.y+G,H=U*J.x+q*J.y+G,z!==0&&H!==0&&xe(z,H))return;if(B=X*q-U*Y,B===0)return;return O=Math.abs(B/2),R=Y*G-q*W,D=R<0?(R-O)/B:(R+O)/B,R=U*W-X*G,L=R<0?(R-O)/B:(R+O)/B,{x:D,y:L}}function xe(Z,J){return Z*J>0}function kg0(Z,J,Q){var{x:K,y:X}=Z,U=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(B){Y=Math.min(Y,B.x),q=Math.min(q,B.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);var W=K-Z.width/2-Y,G=X-Z.height/2-q;for(var z=0;z<J.length;z++){var H=J[z],F=J[z<J.length-1?z+1:0],M=Ag8(Z,Q,{x:W+H.x,y:G+H.y},{x:W+F.x,y:G+F.y});if(M)U.push(M)}if(!U.length)return Z;if(U.length>1)U.sort(function(B,O){var R=B.x-Q.x,D=B.y-Q.y,L=Math.sqrt(R*R+D*D),A=O.x-Q.x,V=O.y-Q.y,N=Math.sqrt(A*A+V*V);return L<N?-1:L===N?0:1});return U[0]}function l5(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(X){return X.x+","+X.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}function Df(Z,J,Q,K){let X=[],U=I((q)=>{X.push(q,0)},"addBorder"),Y=I((q)=>{X.push(0,q)},"skipBorder");if(J.includes("t"))Z0.debug("add top border"),U(Q);else Y(Q);if(J.includes("r"))Z0.debug("add right border"),U(K);else Y(K);if(J.includes("b"))Z0.debug("add bottom border"),U(Q);else Y(Q);if(J.includes("l"))Z0.debug("add left border"),U(K);else Y(K);Z.attr("stroke-dasharray",X.join(" "))}function ue(Z,J,Q=!1){let K=Z,X="default";if((K?.classes?.length||0)>0)X=(K?.classes??[]).join(" ");X=X+" flowchart-label";let U=0,Y="",q;switch(K.type){case"round":U=5,Y="rect";break;case"composite":U=0,Y="composite",q=0;break;case"square":Y="rect";break;case"diamond":Y="question";break;case"hexagon":Y="hexagon";break;case"block_arrow":Y="block_arrow";break;case"odd":Y="rect_left_inv_arrow";break;case"lean_right":Y="lean_right";break;case"lean_left":Y="lean_left";break;case"trapezoid":Y="trapezoid";break;case"inv_trapezoid":Y="inv_trapezoid";break;case"rect_left_inv_arrow":Y="rect_left_inv_arrow";break;case"circle":Y="circle";break;case"ellipse":Y="ellipse";break;case"stadium":Y="stadium";break;case"subroutine":Y="subroutine";break;case"cylinder":Y="cylinder";break;case"group":Y="rect";break;case"doublecircle":Y="doublecircle";break;default:Y="rect"}let W=Sj(K?.styles??[]),G=K.label,z=K.size??{width:0,height:0,x:0,y:0};return{labelStyle:W.labelStyle,shape:Y,labelText:G,rx:U,ry:U,class:X,style:W.style,id:K.id,directions:K.directions,width:z.width,height:z.height,x:z.x,y:z.y,positioned:Q,intersect:void 0,type:K.type,padding:q??L9()?.block?.padding??0}}async function fg0(Z,J,Q){let K=ue(J,Q,!1);if(K.type==="group")return;let X=L9(),U=await _g0(Z,K,{config:X}),Y=U.node().getBBox(),q=Q.getBlock(K.id);q.size={width:Y.width,height:Y.height,x:0,y:0,node:U},Q.setBlock(q),U.remove()}async function vg0(Z,J,Q){let K=ue(J,Q,!0);if(Q.getBlock(K.id).type!=="space"){let U=L9();await _g0(Z,K,{config:U}),J.intersect=K?.intersect,sg8(K)}}async function Lf(Z,J,Q,K){for(let X of J)if(await K(Z,X,Q),X.children)await Lf(Z,X.children,Q,K)}async function xg0(Z,J,Q){await Lf(Z,J,Q,fg0)}async function bg0(Z,J,Q){await Lf(Z,J,Q,vg0)}async function yg0(Z,J,Q,K,X){let U=new SZ({multigraph:!0,compound:!0});U.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let Y of Q)if(Y.size)U.setNode(Y.id,{width:Y.size.width,height:Y.size.height,intersect:Y.intersect});for(let Y of J)if(Y.start&&Y.end){let q=K.getBlock(Y.start),W=K.getBlock(Y.end);if(q?.size&&W?.size){let G=q.size,z=W.size,H=[{x:G.x,y:G.y},{x:G.x+(z.x-G.x)/2,y:G.y+(z.y-G.y)/2},{x:z.x,y:z.y}];if(Og8(Z,{v:Y.start,w:Y.end,name:Y.id},{...Y,arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:H,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",U,X),Y.label)await Hg8(Z,{...Y,label:Y.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:H,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Fg8({...Y,x:H[1].x,y:H[1].y},{originalPath:H})}}}var ke,Su8,c5,be,_e,Gg0="color",zg0="fill",Tu8="bgFill",Lg0=",",wu8,Of,$u8,ku8,_u8,fu8,Ig0,ye,rA,vu8,Hg0=0,xu8,bu8,yu8,hu8,mu8,uu8,gu8,pu8,cu8,lu8,du8,iu8,Mf,su8,ru8,nu8,au8,ou8,tu8,eu8,Zg8,Jg8,Qg8,Kg8,Xg8,Ug8,Yg8,eJ,qg8,Wg8,cK,Gg8,zg8,Fg0,ve,gQ,Hg8,Fg8,Mg8,Bg8,Mg0,Og8,Rg8,Dg8,Lg8,Tg0,Ig8,Ag8,Ng8,Eg8,Vg8,EJ,c7,pJ,Pg8,jg8,Bg0,i4,Og0,Cg8,Sg8,Tg8,wg8,$g8,kg8,_g8,fg8,vg8,xg8,bg8,yg8,hg8,mg8,ug8,gg8,pg8,cg8,lg8,Rg0,dg8,ig8,Dg0,Bf,_g0,sg8,rg8,ng8,ag8,og8;var mg0=_(()=>{hq();k4();Q6();YQ();jZ();T9();M9();Pc();V4();A9();RK();A9();A9();A9();A9();ke=function(){var Z=I(function(A,V,N,E){for(N=N||{},E=A.length;E--;N[A[E]]=V);return N},"o"),J=[1,15],Q=[1,7],K=[1,13],X=[1,14],U=[1,19],Y=[1,16],q=[1,17],W=[1,18],G=[8,30],z=[8,10,21,28,29,30,31,39,43,46],H=[1,23],F=[1,24],M=[8,10,15,16,21,28,29,30,31,39,43,46],B=[8,10,15,16,21,27,28,29,30,31,39,43,46],O=[1,49],R={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:I(function(V,N,E,j,C,$,k){var w=$.length-1;switch(C){case 4:j.getLogger().debug("Rule: separator (NL) ");break;case 5:j.getLogger().debug("Rule: separator (Space) ");break;case 6:j.getLogger().debug("Rule: separator (EOF) ");break;case 7:j.getLogger().debug("Rule: hierarchy: ",$[w-1]),j.setHierarchy($[w-1]);break;case 8:j.getLogger().debug("Stop NL ");break;case 9:j.getLogger().debug("Stop EOF ");break;case 10:j.getLogger().debug("Stop NL2 ");break;case 11:j.getLogger().debug("Stop EOF2 ");break;case 12:j.getLogger().debug("Rule: statement: ",$[w]),typeof $[w].length==="number"?this.$=$[w]:this.$=[$[w]];break;case 13:j.getLogger().debug("Rule: statement #2: ",$[w-1]),this.$=[$[w-1]].concat($[w]);break;case 14:j.getLogger().debug("Rule: link: ",$[w],V),this.$={edgeTypeStr:$[w],label:""};break;case 15:j.getLogger().debug("Rule: LABEL link: ",$[w-3],$[w-1],$[w]),this.$={edgeTypeStr:$[w],label:$[w-1]};break;case 18:let P=parseInt($[w]),T=j.generateId();this.$={id:T,type:"space",label:"",width:P,children:[]};break;case 23:j.getLogger().debug("Rule: (nodeStatement link node) ",$[w-2],$[w-1],$[w]," typestr: ",$[w-1].edgeTypeStr);let S=j.edgeStrToEdgeData($[w-1].edgeTypeStr);this.$=[{id:$[w-2].id,label:$[w-2].label,type:$[w-2].type,directions:$[w-2].directions},{id:$[w-2].id+"-"+$[w].id,start:$[w-2].id,end:$[w].id,label:$[w-1].label,type:"edge",directions:$[w].directions,arrowTypeEnd:S,arrowTypeStart:"arrow_open"},{id:$[w].id,label:$[w].label,type:j.typeStr2Type($[w].typeStr),directions:$[w].directions}];break;case 24:j.getLogger().debug("Rule: nodeStatement (abc88 node size) ",$[w-1],$[w]),this.$={id:$[w-1].id,label:$[w-1].label,type:j.typeStr2Type($[w-1].typeStr),directions:$[w-1].directions,widthInColumns:parseInt($[w],10)};break;case 25:j.getLogger().debug("Rule: nodeStatement (node) ",$[w]),this.$={id:$[w].id,label:$[w].label,type:j.typeStr2Type($[w].typeStr),directions:$[w].directions,widthInColumns:1};break;case 26:j.getLogger().debug("APA123",this?this:"na"),j.getLogger().debug("COLUMNS: ",$[w]),this.$={type:"column-setting",columns:$[w]==="auto"?-1:parseInt($[w])};break;case 27:j.getLogger().debug("Rule: id-block statement : ",$[w-2],$[w-1]);let f=j.generateId();this.$={...$[w-2],type:"composite",children:$[w-1]};break;case 28:j.getLogger().debug("Rule: blockStatement : ",$[w-2],$[w-1],$[w]);let v=j.generateId();this.$={id:v,type:"composite",label:"",children:$[w-1]};break;case 29:j.getLogger().debug("Rule: node (NODE_ID separator): ",$[w]),this.$={id:$[w]};break;case 30:j.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",$[w-1],$[w]),this.$={id:$[w-1],label:$[w].label,typeStr:$[w].typeStr,directions:$[w].directions};break;case 31:j.getLogger().debug("Rule: dirList: ",$[w]),this.$=[$[w]];break;case 32:j.getLogger().debug("Rule: dirList: ",$[w-1],$[w]),this.$=[$[w-1]].concat($[w]);break;case 33:j.getLogger().debug("Rule: nodeShapeNLabel: ",$[w-2],$[w-1],$[w]),this.$={typeStr:$[w-2]+$[w],label:$[w-1]};break;case 34:j.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",$[w-3],$[w-2]," #3:",$[w-1],$[w]),this.$={typeStr:$[w-3]+$[w],label:$[w-2],directions:$[w-1]};break;case 35:case 36:this.$={type:"classDef",id:$[w-1].trim(),css:$[w].trim()};break;case 37:this.$={type:"applyClass",id:$[w-1].trim(),styleClass:$[w].trim()};break;case 38:this.$={type:"applyStyles",id:$[w-1].trim(),stylesStr:$[w].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:J,11:3,13:4,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:X,31:U,39:Y,43:q,46:W},{8:[1,20]},Z(G,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:J,21:Q,28:K,29:X,31:U,39:Y,43:q,46:W}),Z(z,[2,16],{14:22,15:H,16:F}),Z(z,[2,17]),Z(z,[2,18]),Z(z,[2,19]),Z(z,[2,20]),Z(z,[2,21]),Z(z,[2,22]),Z(M,[2,25],{27:[1,25]}),Z(z,[2,26]),{19:26,26:12,31:U},{10:J,11:27,13:4,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:X,31:U,39:Y,43:q,46:W},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},Z(B,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},Z(G,[2,13]),{26:35,31:U},{31:[2,14]},{17:[1,36]},Z(M,[2,24]),{10:J,11:37,13:4,14:22,15:H,16:F,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:X,31:U,39:Y,43:q,46:W},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},Z(B,[2,30]),{18:[1,43]},{18:[1,44]},Z(M,[2,23]),{18:[1,45]},{30:[1,46]},Z(z,[2,28]),Z(z,[2,35]),Z(z,[2,36]),Z(z,[2,37]),Z(z,[2,38]),{36:[1,47]},{33:48,34:O},{15:[1,50]},Z(z,[2,27]),Z(B,[2,33]),{38:[1,51]},{33:52,34:O,38:[2,31]},{31:[2,15]},Z(B,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:I(function(V,N){if(N.recoverable)this.trace(V);else{var E=Error(V);throw E.hash=N,E}},"parseError"),parse:I(function(V){var N=this,E=[0],j=[],C=[null],$=[],k=this.table,w="",P=0,T=0,S=0,f=2,v=1,x=$.slice.call(arguments,1),b=Object.create(this.lexer),y={yy:{}};for(var u in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,u))y.yy[u]=this.yy[u];if(b.setInput(V,y.yy),y.yy.lexer=b,y.yy.parser=this,typeof b.yylloc>"u")b.yylloc={};var h=b.yylloc;$.push(h);var p=b.options&&b.options.ranges;if(typeof y.yy.parseError==="function")this.parseError=y.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function r(E0){E.length=E.length-2*E0,C.length=C.length-E0,$.length=$.length-E0}I(r,"popStack");function e(){var E0=j.pop()||b.lex()||v;if(typeof E0!=="number"){if(E0 instanceof Array)j=E0,E0=j.pop();E0=N.symbols_[E0]||E0}return E0}I(e,"lex");var i,U0,a,z0,J0,Q0,t={},n,Y0,o,M0;while(!0){if(a=E[E.length-1],this.defaultActions[a])z0=this.defaultActions[a];else{if(i===null||typeof i>"u")i=e();z0=k[a]&&k[a][i]}if(typeof z0>"u"||!z0.length||!z0[0]){var X0="";M0=[];for(n in k[a])if(this.terminals_[n]&&n>f)M0.push("'"+this.terminals_[n]+"'");if(b.showPosition)X0="Parse error on line "+(P+1)+`:
`+b.showPosition()+`
Expecting `+M0.join(", ")+", got '"+(this.terminals_[i]||i)+"'";else X0="Parse error on line "+(P+1)+": Unexpected "+(i==v?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(X0,{text:b.match,token:this.terminals_[i]||i,line:b.yylineno,loc:h,expected:M0})}if(z0[0]instanceof Array&&z0.length>1)throw Error("Parse Error: multiple actions possible at state: "+a+", token: "+i);switch(z0[0]){case 1:if(E.push(i),C.push(b.yytext),$.push(b.yylloc),E.push(z0[1]),i=null,!U0){if(T=b.yyleng,w=b.yytext,P=b.yylineno,h=b.yylloc,S>0)S--}else i=U0,U0=null;break;case 2:if(Y0=this.productions_[z0[1]][1],t.$=C[C.length-Y0],t._$={first_line:$[$.length-(Y0||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Y0||1)].first_column,last_column:$[$.length-1].last_column},p)t._$.range=[$[$.length-(Y0||1)].range[0],$[$.length-1].range[1]];if(Q0=this.performAction.apply(t,[w,T,P,y.yy,z0[1],C,$].concat(x)),typeof Q0<"u")return Q0;if(Y0)E=E.slice(0,-1*Y0*2),C=C.slice(0,-1*Y0),$=$.slice(0,-1*Y0);E.push(this.productions_[z0[1]][0]),C.push(t.$),$.push(t._$),o=k[E[E.length-2]][E[E.length-1]],E.push(o);break;case 3:return!0}}return!0},"parse")},D=function(){var A={EOF:1,parseError:I(function(N,E){if(this.yy.parser)this.yy.parser.parseError(N,E);else throw Error(N)},"parseError"),setInput:I(function(V,N){if(this.yy=N||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var V=this._input[0];this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V;var N=V.match(/(?:\r\n?|\n).*/g);if(N)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),V},"input"),unput:I(function(V){var N=V.length,E=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var j=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1)this.yylineno-=E.length-1;var C=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===j.length?this.yylloc.first_column:0)+j[j.length-E.length].length-E[0].length:this.yylloc.first_column-N},this.options.ranges)this.yylloc.range=[C[0],C[0]+this.yyleng-N];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(V){this.unput(this.match.slice(V))},"less"),pastInput:I(function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var V=this.match;if(V.length<20)V+=this._input.substr(0,20-V.length);return(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var V=this.pastInput(),N=Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:I(function(V,N){var E,j,C;if(this.options.backtrack_lexer){if(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)C.yylloc.range=this.yylloc.range.slice(0)}if(j=V[0].match(/(?:\r\n?|\n).*/g),j)this.yylineno+=j.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],E=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(E)return E;else if(this._backtrack){for(var $ in C)this[$]=C[$];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var V,N,E,j;if(!this._more)this.yytext="",this.match="";var C=this._currentRules();for(var $=0;$<C.length;$++)if(E=this._input.match(this.rules[C[$]]),E&&(!N||E[0].length>N[0].length)){if(N=E,j=$,this.options.backtrack_lexer)if(V=this.test_match(E,C[$]),V!==!1)return V;else if(this._backtrack){N=!1;continue}else return!1;else if(!this.options.flex)break}if(N){if(V=this.test_match(N,C[j]),V!==!1)return V;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var N=this.next();if(N)return N;else return this.lex()},"lex"),begin:I(function(N){this.conditionStack.push(N)},"begin"),popState:I(function(){var N=this.conditionStack.length-1;if(N>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(N){if(N=this.conditionStack.length-1-Math.abs(N||0),N>=0)return this.conditionStack[N];else return"INITIAL"},"topState"),pushState:I(function(N){this.begin(N)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(N,E,j,C){var $=C;switch(j){case 0:return N.getLogger().debug("Found block-beta"),10;break;case 1:return N.getLogger().debug("Found id-block"),29;break;case 2:return N.getLogger().debug("Found block"),10;break;case 3:N.getLogger().debug(".",E.yytext);break;case 4:N.getLogger().debug("_",E.yytext);break;case 5:return 5;case 6:return E.yytext=-1,28;break;case 7:return E.yytext=E.yytext.replace(/columns\s+/,""),N.getLogger().debug("COLUMNS (LEX)",E.yytext),28;break;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:N.getLogger().debug("LEX: POPPING STR:",E.yytext),this.popState();break;case 13:return N.getLogger().debug("LEX: STR end:",E.yytext),"STR";break;case 14:return E.yytext=E.yytext.replace(/space\:/,""),N.getLogger().debug("SPACE NUM (LEX)",E.yytext),21;break;case 15:return E.yytext="1",N.getLogger().debug("COLUMNS (LEX)",E.yytext),21;break;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;break;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 21:return this.popState(),this.pushState("CLASSDEFID"),40;break;case 22:return this.popState(),41;break;case 23:return this.pushState("CLASS"),43;break;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;break;case 25:return this.popState(),45;break;case 26:return this.pushState("STYLE_STMNT"),46;break;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;break;case 28:return this.popState(),48;break;case 29:return this.pushState("acc_title"),"acc_title";break;case 30:return this.popState(),"acc_title_value";break;case 31:return this.pushState("acc_descr"),"acc_descr";break;case 32:return this.popState(),"acc_descr_value";break;case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 38:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),N.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 40:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 41:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),N.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 43:return this.popState(),N.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 44:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 45:return this.popState(),N.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 46:return this.popState(),N.getLogger().debug("Lex: ("),"NODE_DEND";break;case 47:return this.popState(),N.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 48:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 49:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),N.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 51:return this.popState(),N.getLogger().debug("Lex: )"),"NODE_DEND";break;case 52:return this.popState(),N.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 53:return this.popState(),N.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 54:return N.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;break;case 55:return N.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;break;case 56:return N.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;break;case 57:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 58:return N.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;break;case 59:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 60:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 61:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 62:return N.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;break;case 63:return N.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;break;case 64:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 65:return this.pushState("NODE"),35;break;case 66:return this.pushState("NODE"),35;break;case 67:return this.pushState("NODE"),35;break;case 68:return this.pushState("NODE"),35;break;case 69:return this.pushState("NODE"),35;break;case 70:return this.pushState("NODE"),35;break;case 71:return this.pushState("NODE"),35;break;case 72:return N.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;break;case 73:return this.pushState("BLOCK_ARROW"),N.getLogger().debug("LEX ARR START"),37;break;case 74:return N.getLogger().debug("Lex: NODE_ID",E.yytext),31;break;case 75:return N.getLogger().debug("Lex: EOF",E.yytext),8;break;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:N.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:N.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return N.getLogger().debug("LEX: NODE_DESCR:",E.yytext),"NODE_DESCR";break;case 83:N.getLogger().debug("LEX POPPING"),this.popState();break;case 84:N.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (right): dir:",E.yytext),"DIR";break;case 86:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (left):",E.yytext),"DIR";break;case 87:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (x):",E.yytext),"DIR";break;case 88:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (y):",E.yytext),"DIR";break;case 89:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (up):",E.yytext),"DIR";break;case 90:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (down):",E.yytext),"DIR";break;case 91:return E.yytext="]>",N.getLogger().debug("Lex (ARROW_DIR end):",E.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 92:return N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 93:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 94:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 95:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 96:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 97:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 98:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 99:this.pushState("md_string");break;case 100:return N.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 101:return this.popState(),N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 102:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 103:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 104:return N.getLogger().debug("Lex: COLON",E.yytext),E.yytext=E.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return A}();R.lexer=D;function L(){this.yy={}}return I(L,"Parser"),L.prototype=R,R.Parser=L,new L}();ke.parser=ke;Su8=ke,c5=new Map,be=[],_e=new Map,wu8=N0(),Of=new Map,$u8=I((Z)=>J8.sanitizeText(Z,wu8),"sanitizeText"),ku8=I(function(Z,J=""){let Q=Of.get(Z);if(!Q)Q={id:Z,styles:[],textStyles:[]},Of.set(Z,Q);if(J!==void 0&&J!==null)J.split(Lg0).forEach((K)=>{let X=K.replace(/([^;]*);/,"$1").trim();if(RegExp(Gg0).exec(K)){let Y=X.replace(zg0,Tu8).replace(Gg0,zg0);Q.textStyles.push(Y)}Q.styles.push(X)})},"addStyleClass"),_u8=I(function(Z,J=""){let Q=c5.get(Z);if(J!==void 0&&J!==null)Q.styles=J.split(Lg0)},"addStyle2Node"),fu8=I(function(Z,J){Z.split(",").forEach(function(Q){let K=c5.get(Q);if(K===void 0){let X=Q.trim();K={id:X,type:"na",children:[]},c5.set(X,K)}if(!K.classes)K.classes=[];K.classes.push(J)})},"setCssClass"),Ig0=I((Z,J)=>{let Q=Z.flat(),K=[],U=Q.find((Y)=>Y?.type==="column-setting")?.columns??-1;for(let Y of Q){if(typeof U==="number"&&U>0&&Y.type!=="column-setting"&&typeof Y.widthInColumns==="number"&&Y.widthInColumns>U)Z0.warn(`Block ${Y.id} width ${Y.widthInColumns} exceeds configured column width ${U}`);if(Y.label)Y.label=$u8(Y.label);if(Y.type==="classDef"){ku8(Y.id,Y.css);continue}if(Y.type==="applyClass"){fu8(Y.id,Y?.styleClass??"");continue}if(Y.type==="applyStyles"){if(Y?.stylesStr)_u8(Y.id,Y?.stylesStr);continue}if(Y.type==="column-setting")J.columns=Y.columns??-1;else if(Y.type==="edge"){let q=(_e.get(Y.id)??0)+1;_e.set(Y.id,q),Y.id=q+"-"+Y.id,be.push(Y)}else{if(!Y.label)if(Y.type==="composite")Y.label="";else Y.label=Y.id;let q=c5.get(Y.id);if(q===void 0)c5.set(Y.id,Y);else{if(Y.type!=="na")q.type=Y.type;if(Y.label!==Y.id)q.label=Y.label}if(Y.children)Ig0(Y.children,Y);if(Y.type==="space"){let W=Y.width??1;for(let G=0;G<W;G++){let z=sD(Y);z.id=z.id+"-"+G,c5.set(z.id,z),K.push(z)}}else if(q===void 0)K.push(Y)}}J.children=K},"populateBlockDatabase"),ye=[],rA={id:"root",type:"composite",children:[],columns:-1},vu8=I(()=>{Z0.debug("Clear called"),S9(),rA={id:"root",type:"composite",children:[],columns:-1},c5=new Map([["root",rA]]),ye=[],Of=new Map,be=[],_e=new Map},"clear");I(Ag0,"typeStr2Type");I(Ng0,"edgeTypeStr2Type");I(Eg0,"edgeStrToEdgeData");xu8=I(()=>{return Hg0++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Hg0},"generateId"),bu8=I((Z)=>{rA.children=Z,Ig0(Z,rA),ye=rA.children},"setHierarchy"),yu8=I((Z)=>{let J=c5.get(Z);if(!J)return-1;if(J.columns)return J.columns;if(!J.children)return-1;return J.children.length},"getColumns"),hu8=I(()=>{return[...c5.values()]},"getBlocksFlat"),mu8=I(()=>{return ye||[]},"getBlocks"),uu8=I(()=>{return be},"getEdges"),gu8=I((Z)=>{return c5.get(Z)},"getBlock"),pu8=I((Z)=>{c5.set(Z.id,Z)},"setBlock"),cu8=I(()=>Z0,"getLogger"),lu8=I(function(){return Of},"getClasses"),du8={getConfig:I(()=>L9().block,"getConfig"),typeStr2Type:Ag0,edgeTypeStr2Type:Ng0,edgeStrToEdgeData:Eg0,getLogger:cu8,getBlocksFlat:hu8,getBlocks:mu8,getEdges:uu8,setHierarchy:bu8,getBlock:gu8,setBlock:pu8,getColumns:yu8,getClasses:lu8,clear:vu8,generateId:xu8},iu8=du8,Mf=I((Z,J)=>{let Q=RG,K=Q(Z,"r"),X=Q(Z,"g"),U=Q(Z,"b");return sQ(K,X,U,J)},"fade"),su8=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span,p {
    color: ${Z.titleColor};
  }



  .label text,span,p {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Mf(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${Mf(Z.mainBkg,0.5)};
    fill: ${Mf(Z.clusterBkg,0.5)};
    stroke: ${Mf(Z.clusterBorder,0.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span,p {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
  ${oX()}
`,"getStyles"),ru8=su8,nu8=I((Z,J,Q,K)=>{J.forEach((X)=>{Ug8[X](Z,Q,K)})},"insertMarkers"),au8=I((Z,J,Q)=>{Z0.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),ou8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),tu8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),eu8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Zg8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Jg8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Qg8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Kg8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Xg8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Ug8={extension:au8,composition:ou8,aggregation:tu8,dependency:eu8,lollipop:Zg8,point:Jg8,circle:Qg8,cross:Kg8,barb:Xg8},Yg8=nu8,eJ=N0()?.block?.padding??8;I(Vg0,"calculateBlockPosition");qg8=I((Z)=>{let J=0,Q=0;for(let K of Z.children){let{width:X,height:U,x:Y,y:q}=K.size??{width:0,height:0,x:0,y:0};if(Z0.debug("getMaxChildSize abc95 child:",K.id,"width:",X,"height:",U,"x:",Y,"y:",q,K.type),K.type==="space")continue;if(X>J)J=X/(Z.widthInColumns??1);if(U>Q)Q=U}return{width:J,height:Q}},"getMaxChildSize");I(Rf,"setBlockSizes");I(he,"layoutBlocks");I(me,"findBounds");I(Pg0,"layout");I(fe,"applyStyle");I(jg0,"addHtmlLabel");Wg8=I(async(Z,J,Q,K)=>{let X=Z||"";if(typeof X==="object")X=X[0];let U=N0();if(UZ(U.flowchart.htmlLabels)){X=X.replace(/\\n|\n/g,"<br />"),Z0.debug("vertexText"+X);let Y=await pj(d6(X)),q={isNode:K,label:Y,labelStyle:J.replace("fill:","color:")};return jg0(q,U)}else{let Y=document.createElementNS("http://www.w3.org/2000/svg","text");Y.setAttribute("style",J.replace("color:","fill:"));let q=[];if(typeof X==="string")q=X.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(X))q=X;else q=[];for(let W of q){let G=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(G.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),G.setAttribute("dy","1em"),G.setAttribute("x","0"),Q)G.setAttribute("class","title-row");else G.setAttribute("class","row");G.textContent=W.trim(),Y.appendChild(G)}return Y}},"createLabel"),cK=Wg8,Gg8=I((Z,J,Q,K,X)=>{if(J.arrowTypeStart)Fg0(Z,"start",J.arrowTypeStart,Q,K,X);if(J.arrowTypeEnd)Fg0(Z,"end",J.arrowTypeEnd,Q,K,X)},"addEdgeMarkers"),zg8={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Fg0=I((Z,J,Q,K,X,U)=>{let Y=zg8[Q];if(!Y){Z0.warn(`Unknown arrow type: ${Q}`);return}let q=J==="start"?"Start":"End";Z.attr(`marker-${J}`,`url(${K}#${X}_${U}-${Y}${q})`)},"addEdgeMarker"),ve={},gQ={},Hg8=I(async(Z,J)=>{let Q=N0(),K=UZ(Q.flowchart.htmlLabels),X=J.labelType==="markdown"?UQ(Z,J.label,{style:J.labelStyle,useHtmlLabels:K,addSvgBackground:!0},Q):await cK(J.label,J.labelStyle),U=Z.insert("g").attr("class","edgeLabel"),Y=U.insert("g").attr("class","label");Y.node().appendChild(X);let q=X.getBBox();if(K){let G=X.children[0],z=i0(X);q=G.getBoundingClientRect(),z.attr("width",q.width),z.attr("height",q.height)}Y.attr("transform","translate("+-q.width/2+", "+-q.height/2+")"),ve[J.id]=U,J.width=q.width,J.height=q.height;let W;if(J.startLabelLeft){let G=await cK(J.startLabelLeft,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!gQ[J.id])gQ[J.id]={};gQ[J.id].startLeft=z,sA(W,J.startLabelLeft)}if(J.startLabelRight){let G=await cK(J.startLabelRight,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=z.node().appendChild(G),H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!gQ[J.id])gQ[J.id]={};gQ[J.id].startRight=z,sA(W,J.startLabelRight)}if(J.endLabelLeft){let G=await cK(J.endLabelLeft,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!gQ[J.id])gQ[J.id]={};gQ[J.id].endLeft=z,sA(W,J.endLabelLeft)}if(J.endLabelRight){let G=await cK(J.endLabelRight,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!gQ[J.id])gQ[J.id]={};gQ[J.id].endRight=z,sA(W,J.endLabelRight)}return X},"insertEdgeLabel");I(sA,"setTerminalWidth");Fg8=I((Z,J)=>{Z0.debug("Moving label abc88 ",Z.id,Z.label,ve[Z.id],J);let Q=J.updatedPath?J.updatedPath:J.originalPath,K=N0(),{subGraphTitleTotalMargin:X}=zY(K);if(Z.label){let U=ve[Z.id],Y=Z.x,q=Z.y;if(Q){let W=n8.calcLabelPosition(Q);if(Z0.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",W.x,",",W.y,") abc88"),J.updatedPath)Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q+X/2})`)}if(Z.startLabelLeft){let U=gQ[Z.id].startLeft,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){let U=gQ[Z.id].startRight,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){let U=gQ[Z.id].endLeft,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){let U=gQ[Z.id].endRight,Y=Z.x,q=Z.y;if(Q){let W=n8.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=W.x,q=W.y}U.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),Mg8=I((Z,J)=>{let{x:Q,y:K}=Z,X=Math.abs(J.x-Q),U=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;if(X>=Y||U>=q)return!0;return!1},"outsideNode"),Bg8=I((Z,J,Q)=>{Z0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);let{x:K,y:X}=Z,U=Math.abs(K-Q.x),Y=Z.width/2,q=Q.x<J.x?Y-U:Y+U,W=Z.height/2,G=Math.abs(J.y-Q.y),z=Math.abs(J.x-Q.x);if(Math.abs(X-J.y)*Y>Math.abs(K-J.x)*W){let H=Q.y<J.y?J.y-W-X:X-W-J.y;q=z*H/G;let F={x:Q.x<J.x?Q.x+q:Q.x-z+q,y:Q.y<J.y?Q.y+G-H:Q.y-G+H};if(q===0)F.x=J.x,F.y=J.y;if(z===0)F.x=J.x;if(G===0)F.y=J.y;return Z0.debug(`abc89 topp/bott calc, Q ${G}, q ${H}, R ${z}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let H=G*q/z,F=Q.x<J.x?Q.x+z-q:Q.x-z+q,M=Q.y<J.y?Q.y+H:Q.y-H;if(Z0.debug(`sides calc abc89, Q ${G}, q ${H}, R ${z}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(z===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),Mg0=I((Z,J)=>{Z0.debug("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],X=!1;return Z.forEach((U)=>{if(!Mg8(J,U)&&!X){let Y=Bg8(J,K,U),q=!1;if(Q.forEach((W)=>{q=q||W.x===Y.x&&W.y===Y.y}),!Q.some((W)=>W.x===Y.x&&W.y===Y.y))Q.push(Y);X=!0}else if(K=U,!X)Q.push(U)}),Q},"cutPathAtIntersect"),Og8=I(function(Z,J,Q,K,X,U,Y){let q=Q.points;Z0.debug("abc88 InsertEdge: edge=",Q,"e=",J);let W=!1,G=U.node(J.v);var z=U.node(J.w);if(z?.intersect&&G?.intersect)q=q.slice(1,Q.points.length-1),q.unshift(G.intersect(q[0])),q.push(z.intersect(q[q.length-1]));if(Q.toCluster)Z0.debug("to cluster abc88",K[Q.toCluster]),q=Mg0(Q.points,K[Q.toCluster].node),W=!0;if(Q.fromCluster)Z0.debug("from cluster abc88",K[Q.fromCluster]),q=Mg0(q.reverse(),K[Q.fromCluster].node).reverse(),W=!0;let H=q.filter((V)=>!Number.isNaN(V.y)),F=GK;if(Q.curve&&(X==="graph"||X==="flowchart"))F=Q.curve;let{x:M,y:B}=Jj(Q),O=O5().x(M).y(B).curve(F),R;switch(Q.thickness){case"normal":R="edge-thickness-normal";break;case"thick":R="edge-thickness-thick";break;case"invisible":R="edge-thickness-thick";break;default:R=""}switch(Q.pattern){case"solid":R+=" edge-pattern-solid";break;case"dotted":R+=" edge-pattern-dotted";break;case"dashed":R+=" edge-pattern-dashed";break}let D=Z.append("path").attr("d",O(H)).attr("id",Q.id).attr("class"," "+R+(Q.classes?" "+Q.classes:"")).attr("style",Q.style),L="";if(N0().flowchart.arrowMarkerAbsolute||N0().state.arrowMarkerAbsolute)L=VG(!0);Gg8(D,Q,L,Y,X);let A={};if(W)A.updatedPath=q;return A.originalPath=Q.points,A},"insertEdge"),Rg8=I((Z)=>{let J=new Set;for(let Q of Z)switch(Q){case"x":J.add("right"),J.add("left");break;case"y":J.add("up"),J.add("down");break;default:J.add(Q);break}return J},"expandAndDeduplicateDirections"),Dg8=I((Z,J,Q)=>{let K=Rg8(Z),X=2,U=J.height+2*Q.padding,Y=U/2,q=J.width+2*Y+Q.padding,W=Q.padding/2;if(K.has("right")&&K.has("left")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:Y,y:0},{x:q/2,y:2*W},{x:q-Y,y:0},{x:q,y:0},{x:q,y:-U/3},{x:q+2*W,y:-U/2},{x:q,y:-2*U/3},{x:q,y:-U},{x:q-Y,y:-U},{x:q/2,y:-U-2*W},{x:Y,y:-U},{x:0,y:-U},{x:0,y:-2*U/3},{x:-2*W,y:-U/2},{x:0,y:-U/3}];if(K.has("right")&&K.has("left")&&K.has("up"))return[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("right")&&K.has("left")&&K.has("down"))return[{x:0,y:0},{x:Y,y:-U},{x:q-Y,y:-U},{x:q,y:0}];if(K.has("right")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:q,y:-Y},{x:q,y:-U+Y},{x:0,y:-U}];if(K.has("left")&&K.has("up")&&K.has("down"))return[{x:q,y:0},{x:0,y:-Y},{x:0,y:-U+Y},{x:q,y:-U}];if(K.has("right")&&K.has("left"))return[{x:Y,y:0},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:q-Y,y:-U+W},{x:Y,y:-U+W},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("up")&&K.has("down"))return[{x:q/2,y:0},{x:0,y:-W},{x:Y,y:-W},{x:Y,y:-U+W},{x:0,y:-U+W},{x:q/2,y:-U},{x:q,y:-U+W},{x:q-Y,y:-U+W},{x:q-Y,y:-W},{x:q,y:-W}];if(K.has("right")&&K.has("up"))return[{x:0,y:0},{x:q,y:-Y},{x:0,y:-U}];if(K.has("right")&&K.has("down"))return[{x:0,y:0},{x:q,y:0},{x:0,y:-U}];if(K.has("left")&&K.has("up"))return[{x:q,y:0},{x:0,y:-Y},{x:q,y:-U}];if(K.has("left")&&K.has("down"))return[{x:q,y:0},{x:0,y:0},{x:q,y:-U}];if(K.has("right"))return[{x:Y,y:-W},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:q-Y,y:-U+W},{x:Y,y:-U+W},{x:Y,y:-U+W}];if(K.has("left"))return[{x:Y,y:0},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:-U+W},{x:Y,y:-U+W},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("up"))return[{x:Y,y:-W},{x:Y,y:-U+W},{x:0,y:-U+W},{x:q/2,y:-U},{x:q,y:-U+W},{x:q-Y,y:-U+W},{x:q-Y,y:-W}];if(K.has("down"))return[{x:q/2,y:0},{x:0,y:-W},{x:Y,y:-W},{x:Y,y:-U+W},{x:q-Y,y:-U+W},{x:q-Y,y:-W},{x:q,y:-W}];return[{x:0,y:0}]},"getArrowPoints");I(Cg0,"intersectNode");Lg8=Cg0;I(Sg0,"intersectEllipse");Tg0=Sg0;I(wg0,"intersectCircle");Ig8=wg0;I($g0,"intersectLine");I(xe,"sameSign");Ag8=$g0,Ng8=kg0;I(kg0,"intersectPolygon");Eg8=I((Z,J)=>{var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2,W,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;W=U===0?0:q*X/U,G=q}else{if(X<0)Y=-Y;W=Y,G=X===0?0:Y*U/X}return{x:Q+W,y:K+G}},"intersectRect"),Vg8=Eg8,EJ={node:Lg8,circle:Ig8,ellipse:Tg0,polygon:Ng8,rect:Vg8},c7=I(async(Z,J,Q,K)=>{let X=N0(),U,Y=J.useHtmlLabels||UZ(X.flowchart.htmlLabels);if(!Q)U="node default";else U=Q;let q=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),W=q.insert("g").attr("class","label").attr("style",J.labelStyle),G;if(J.labelText===void 0)G="";else G=typeof J.labelText==="string"?J.labelText:J.labelText[0];let z=W.node(),H;if(J.labelType==="markdown")H=UQ(W,R9(d6(G),X),{useHtmlLabels:Y,width:J.width||X.flowchart.wrappingWidth,classes:"markdown-node-label"},X);else H=z.appendChild(await cK(R9(d6(G),X),J.labelStyle,!1,K));let F=H.getBBox(),M=J.padding/2;if(UZ(X.flowchart.htmlLabels)){let B=H.children[0],O=i0(H),R=B.getElementsByTagName("img");if(R){let D=G.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...R].map((L)=>new Promise((A)=>{function V(){if(L.style.display="flex",L.style.flexDirection="column",D){let N=X.fontSize?X.fontSize:window.getComputedStyle(document.body).fontSize,E=5,j=parseInt(N,10)*5+"px";L.style.minWidth=j,L.style.maxWidth=j}else L.style.width="100%";A(L)}I(V,"setupImage"),setTimeout(()=>{if(L.complete)V()}),L.addEventListener("error",V),L.addEventListener("load",V)})))}F=B.getBoundingClientRect(),O.attr("width",F.width),O.attr("height",F.height)}if(Y)W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");else W.attr("transform","translate(0, "+-F.height/2+")");if(J.centerLabel)W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");return W.insert("rect",":first-child"),{shapeSvg:q,bbox:F,halfPadding:M,label:W}},"labelHelper"),pJ=I((Z,J)=>{let Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds");I(l5,"insertPolygonShape");Pg8=I(async(Z,J)=>{if(!(J.useHtmlLabels||N0().flowchart.htmlLabels))J.centerLabel=!0;let{shapeSvg:K,bbox:X,halfPadding:U}=await c7(Z,J,"node "+J.classes,!0);Z0.info("Classes = ",J.classes);let Y=K.insert("rect",":first-child");return Y.attr("rx",J.rx).attr("ry",J.ry).attr("x",-X.width/2-U).attr("y",-X.height/2-U).attr("width",X.width+J.padding).attr("height",X.height+J.padding),pJ(J,Y),J.intersect=function(q){return EJ.rect(J,q)},K},"note"),jg8=Pg8,Bg0=I((Z)=>{if(Z)return" "+Z;return""},"formatClass"),i4=I((Z,J)=>{return`${J?J:"node default"}${Bg0(Z.classes)} ${Bg0(Z.class)}`},"getClassesFromNode"),Og0=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=X+U,q=[{x:Y/2,y:0},{x:Y,y:-Y/2},{x:Y/2,y:-Y},{x:0,y:-Y/2}];Z0.info("Question main (Circle)");let W=l5(Q,Y,Y,q);return W.attr("style",J.style),pJ(J,W),J.intersect=function(G){return Z0.warn("Intersect called"),EJ.polygon(J,q,G)},Q},"question"),Cg8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=28,X=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return Q.insert("polygon",":first-child").attr("points",X.map(function(Y){return Y.x+","+Y.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),J.width=28,J.height=28,J.intersect=function(Y){return EJ.circle(J,14,Y)},Q},"choice"),Sg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=4,U=K.height+J.padding,Y=U/4,q=K.width+2*Y+J.padding,W=[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:Y,y:-U},{x:0,y:-U/2}],G=l5(Q,q,U,W);return G.attr("style",J.style),pJ(J,G),J.intersect=function(z){return EJ.polygon(J,W,z)},Q},"hexagon"),Tg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,void 0,!0),X=2,U=K.height+2*J.padding,Y=U/2,q=K.width+2*Y+J.padding,W=Dg8(J.directions,K,J),G=l5(Q,q,U,W);return G.attr("style",J.style),pJ(J,G),J.intersect=function(z){return EJ.polygon(J,W,z)},Q},"block_arrow"),wg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-U/2,y:0},{x:X,y:0},{x:X,y:-U},{x:-U/2,y:-U},{x:0,y:-U/2}];return l5(Q,X,U,Y).attr("style",J.style),J.width=X+U,J.height=U,J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"rect_left_inv_arrow"),$g8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-2*U/6,y:0},{x:X-U/6,y:0},{x:X+2*U/6,y:-U},{x:U/6,y:-U}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"lean_right"),kg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:2*U/6,y:0},{x:X+U/6,y:0},{x:X-2*U/6,y:-U},{x:-U/6,y:-U}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"lean_left"),_g8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-2*U/6,y:0},{x:X+2*U/6,y:0},{x:X-U/6,y:-U},{x:U/6,y:-U}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"trapezoid"),fg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:U/6,y:0},{x:X-U/6,y:0},{x:X+2*U/6,y:-U},{x:-2*U/6,y:-U}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"inv_trapezoid"),vg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:0,y:0},{x:X+U/2,y:0},{x:X,y:-U/2},{x:X+U/2,y:-U},{x:0,y:-U}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"rect_right_inv_arrow"),xg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=X/2,Y=U/(2.5+X/50),q=K.height+Y+J.padding,W="M 0,"+Y+" a "+U+","+Y+" 0,0,0 "+X+" 0 a "+U+","+Y+" 0,0,0 "+-X+" 0 l 0,"+q+" a "+U+","+Y+" 0,0,0 "+X+" 0 l 0,"+-q,G=Q.attr("label-offset-y",Y).insert("path",":first-child").attr("style",J.style).attr("d",W).attr("transform","translate("+-X/2+","+-(q/2+Y)+")");return pJ(J,G),J.intersect=function(z){let H=EJ.rect(J,z),F=H.x-J.x;if(U!=0&&(Math.abs(F)<J.width/2||Math.abs(F)==J.width/2&&Math.abs(H.y-J.y)>J.height/2-Y)){let M=Y*Y*(1-F*F/(U*U));if(M!=0)M=Math.sqrt(M);if(M=Y-M,z.y-J.y>0)M=-M;H.y+=M}return H},Q},"cylinder"),bg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:X}=await c7(Z,J,"node "+J.classes+" "+J.class,!0),U=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,W=J.positioned?-Y/2:-K.width/2-X,G=J.positioned?-q/2:-K.height/2-X;if(U.attr("class","basic label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),J.props){let z=new Set(Object.keys(J.props));if(J.props.borders)Df(U,J.props.borders,Y,q),z.delete("borders");z.forEach((H)=>{Z0.warn(`Unknown node property ${H}`)})}return pJ(J,U),J.intersect=function(z){return EJ.rect(J,z)},Q},"rect"),yg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:X}=await c7(Z,J,"node "+J.classes,!0),U=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,W=J.positioned?-Y/2:-K.width/2-X,G=J.positioned?-q/2:-K.height/2-X;if(U.attr("class","basic cluster composite label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),J.props){let z=new Set(Object.keys(J.props));if(J.props.borders)Df(U,J.props.borders,Y,q),z.delete("borders");z.forEach((H)=>{Z0.warn(`Unknown node property ${H}`)})}return pJ(J,U),J.intersect=function(z){return EJ.rect(J,z)},Q},"composite"),hg8=I(async(Z,J)=>{let{shapeSvg:Q}=await c7(Z,J,"label",!0);Z0.trace("Classes = ",J.class);let K=Q.insert("rect",":first-child"),X=0,U=0;if(K.attr("width",X).attr("height",U),Q.attr("class","label edgeLabel"),J.props){let Y=new Set(Object.keys(J.props));if(J.props.borders)Df(K,J.props.borders,X,U),Y.delete("borders");Y.forEach((q)=>{Z0.warn(`Unknown node property ${q}`)})}return pJ(J,K),J.intersect=function(Y){return EJ.rect(J,Y)},Q},"labelRect");I(Df,"applyNodePropertyBorders");mg8=I(async(Z,J)=>{let Q;if(!J.classes)Q="node default";else Q="node "+J.classes;let K=Z.insert("g").attr("class",Q).attr("id",J.domId||J.id),X=K.insert("rect",":first-child"),U=K.insert("line"),Y=K.insert("g").attr("class","label"),q=J.labelText.flat?J.labelText.flat():J.labelText,W="";if(typeof q==="object")W=q[0];else W=q;Z0.info("Label text abc79",W,q,typeof q==="object");let G=Y.node().appendChild(await cK(W,J.labelStyle,!0,!0)),z={width:0,height:0};if(UZ(N0().flowchart.htmlLabels)){let O=G.children[0],R=i0(G);z=O.getBoundingClientRect(),R.attr("width",z.width),R.attr("height",z.height)}Z0.info("Text 2",q);let H=q.slice(1,q.length),F=G.getBBox(),M=Y.node().appendChild(await cK(H.join?H.join("<br/>"):H,J.labelStyle,!0,!0));if(UZ(N0().flowchart.htmlLabels)){let O=M.children[0],R=i0(M);z=O.getBoundingClientRect(),R.attr("width",z.width),R.attr("height",z.height)}let B=J.padding/2;return i0(M).attr("transform","translate( "+(z.width>F.width?0:(F.width-z.width)/2)+", "+(F.height+B+5)+")"),i0(G).attr("transform","translate( "+(z.width<F.width?0:-(F.width-z.width)/2)+", 0)"),z=Y.node().getBBox(),Y.attr("transform","translate("+-z.width/2+", "+(-z.height/2-B+3)+")"),X.attr("class","outer title-state").attr("x",-z.width/2-B).attr("y",-z.height/2-B).attr("width",z.width+J.padding).attr("height",z.height+J.padding),U.attr("class","divider").attr("x1",-z.width/2-B).attr("x2",z.width/2+B).attr("y1",-z.height/2-B+F.height+B).attr("y2",-z.height/2-B+F.height+B),pJ(J,X),J.intersect=function(O){return EJ.rect(J,O)},K},"rectWithTitle"),ug8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.height+J.padding,U=K.width+X/4+J.padding,Y=Q.insert("rect",":first-child").attr("style",J.style).attr("rx",X/2).attr("ry",X/2).attr("x",-U/2).attr("y",-X/2).attr("width",U).attr("height",X);return pJ(J,Y),J.intersect=function(q){return EJ.rect(J,q)},Q},"stadium"),gg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:X}=await c7(Z,J,i4(J,void 0),!0),U=Q.insert("circle",":first-child");return U.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X).attr("width",K.width+J.padding).attr("height",K.height+J.padding),Z0.info("Circle main"),pJ(J,U),J.intersect=function(Y){return Z0.info("Circle intersect",J,K.width/2+X,Y),EJ.circle(J,K.width/2+X,Y)},Q},"circle"),pg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:X}=await c7(Z,J,i4(J,void 0),!0),U=5,Y=Q.insert("g",":first-child"),q=Y.insert("circle"),W=Y.insert("circle");return Y.attr("class",J.class),q.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X+5).attr("width",K.width+J.padding+10).attr("height",K.height+J.padding+10),W.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X).attr("width",K.width+J.padding).attr("height",K.height+J.padding),Z0.info("DoubleCircle main"),pJ(J,q),J.intersect=function(G){return Z0.info("DoubleCircle intersect",J,K.width/2+X+5,G),EJ.circle(J,K.width/2+X+5,G)},Q},"doublecircle"),cg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await c7(Z,J,i4(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:0,y:0},{x:X,y:0},{x:X,y:-U},{x:0,y:-U},{x:0,y:0},{x:-8,y:0},{x:X+8,y:0},{x:X+8,y:-U},{x:-8,y:-U},{x:-8,y:0}],q=l5(Q,X,U,Y);return q.attr("style",J.style),pJ(J,q),J.intersect=function(W){return EJ.polygon(J,Y,W)},Q},"subroutine"),lg8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child");return K.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),pJ(J,K),J.intersect=function(X){return EJ.circle(J,7,X)},Q},"start"),Rg0=I((Z,J,Q)=>{let K=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),X=70,U=10;if(Q==="LR")X=10,U=70;let Y=K.append("rect").attr("x",-1*X/2).attr("y",-1*U/2).attr("width",X).attr("height",U).attr("class","fork-join");return pJ(J,Y),J.height=J.height+J.padding/2,J.width=J.width+J.padding/2,J.intersect=function(q){return EJ.rect(J,q)},K},"forkJoin"),dg8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child"),X=Q.insert("circle",":first-child");return X.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),K.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),pJ(J,X),J.intersect=function(U){return EJ.circle(J,7,U)},Q},"end"),ig8=I(async(Z,J)=>{let Q=J.padding/2,K=4,X=8,U;if(!J.classes)U="node default";else U="node "+J.classes;let Y=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),q=Y.insert("rect",":first-child"),W=Y.insert("line"),G=Y.insert("line"),z=0,H=4,F=Y.insert("g").attr("class","label"),M=0,B=J.classData.annotations?.[0],O=J.classData.annotations[0]?""+J.classData.annotations[0]+"":"",R=F.node().appendChild(await cK(O,J.labelStyle,!0,!0)),D=R.getBBox();if(UZ(N0().flowchart.htmlLabels)){let C=R.children[0],$=i0(R);D=C.getBoundingClientRect(),$.attr("width",D.width),$.attr("height",D.height)}if(J.classData.annotations[0])H+=D.height+4,z+=D.width;let L=J.classData.label;if(J.classData.type!==void 0&&J.classData.type!=="")if(N0().flowchart.htmlLabels)L+="&lt;"+J.classData.type+"&gt;";else L+="<"+J.classData.type+">";let A=F.node().appendChild(await cK(L,J.labelStyle,!0,!0));i0(A).attr("class","classTitle");let V=A.getBBox();if(UZ(N0().flowchart.htmlLabels)){let C=A.children[0],$=i0(A);V=C.getBoundingClientRect(),$.attr("width",V.width),$.attr("height",V.height)}if(H+=V.height+4,V.width>z)z=V.width;let N=[];J.classData.members.forEach(async(C)=>{let $=C.getDisplayDetails(),k=$.displayText;if(N0().flowchart.htmlLabels)k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;");let w=F.node().appendChild(await cK(k,$.cssStyle?$.cssStyle:J.labelStyle,!0,!0)),P=w.getBBox();if(UZ(N0().flowchart.htmlLabels)){let T=w.children[0],S=i0(w);P=T.getBoundingClientRect(),S.attr("width",P.width),S.attr("height",P.height)}if(P.width>z)z=P.width;H+=P.height+4,N.push(w)}),H+=8;let E=[];if(J.classData.methods.forEach(async(C)=>{let $=C.getDisplayDetails(),k=$.displayText;if(N0().flowchart.htmlLabels)k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;");let w=F.node().appendChild(await cK(k,$.cssStyle?$.cssStyle:J.labelStyle,!0,!0)),P=w.getBBox();if(UZ(N0().flowchart.htmlLabels)){let T=w.children[0],S=i0(w);P=T.getBoundingClientRect(),S.attr("width",P.width),S.attr("height",P.height)}if(P.width>z)z=P.width;H+=P.height+4,E.push(w)}),H+=8,B){let C=(z-D.width)/2;i0(R).attr("transform","translate( "+(-1*z/2+C)+", "+-1*H/2+")"),M=D.height+4}let j=(z-V.width)/2;return i0(A).attr("transform","translate( "+(-1*z/2+j)+", "+(-1*H/2+M)+")"),M+=V.height+4,W.attr("class","divider").attr("x1",-z/2-Q).attr("x2",z/2+Q).attr("y1",-H/2-Q+8+M).attr("y2",-H/2-Q+8+M),M+=8,N.forEach((C)=>{i0(C).attr("transform","translate( "+-z/2+", "+(-1*H/2+M+4)+")");let $=C?.getBBox();M+=($?.height??0)+4}),M+=8,G.attr("class","divider").attr("x1",-z/2-Q).attr("x2",z/2+Q).attr("y1",-H/2-Q+8+M).attr("y2",-H/2-Q+8+M),M+=8,E.forEach((C)=>{i0(C).attr("transform","translate( "+-z/2+", "+(-1*H/2+M)+")");let $=C?.getBBox();M+=($?.height??0)+4}),q.attr("style",J.style).attr("class","outer title-state").attr("x",-z/2-Q).attr("y",-(H/2)-Q).attr("width",z+J.padding).attr("height",H+J.padding),pJ(J,q),J.intersect=function(C){return EJ.rect(J,C)},Y},"class_box"),Dg0={rhombus:Og0,composite:yg8,question:Og0,rect:bg8,labelRect:hg8,rectWithTitle:mg8,choice:Cg8,circle:gg8,doublecircle:pg8,stadium:ug8,hexagon:Sg8,block_arrow:Tg8,rect_left_inv_arrow:wg8,lean_right:$g8,lean_left:kg8,trapezoid:_g8,inv_trapezoid:fg8,rect_right_inv_arrow:vg8,cylinder:xg8,start:lg8,end:dg8,note:jg8,subroutine:cg8,fork:Rg0,join:Rg0,class_box:ig8},Bf={},_g0=I(async(Z,J,Q)=>{let K,X;if(J.link){let U;if(N0().securityLevel==="sandbox")U="_top";else if(J.linkTarget)U=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",U),X=await Dg0[J.shape](K,J,Q)}else X=await Dg0[J.shape](Z,J,Q),K=X;if(J.tooltip)X.attr("title",J.tooltip);if(J.class)X.attr("class","node default "+J.class);if(Bf[J.id]=K,J.haveCallback)Bf[J.id].attr("class",Bf[J.id].attr("class")+" clickable");return K},"insertNode"),sg8=I((Z)=>{let J=Bf[Z.id];Z0.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");let Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode");I(ue,"getNodeFromBlock");I(fg0,"calculateBlockSize");I(vg0,"insertBlockPositioned");I(Lf,"performOperations");I(xg0,"calculateBlockSizes");I(bg0,"insertBlocks");I(yg0,"insertEdges");rg8=I(function(Z,J){return J.db.getClasses()},"getClasses"),ng8=I(async function(Z,J,Q,K){let{securityLevel:X,block:U}=L9(),Y=K.db,q;if(X==="sandbox")q=i0("#i"+J);let W=X==="sandbox"?i0(q.nodes()[0].contentDocument.body):i0("body"),G=X==="sandbox"?W.select(`[id="${J}"]`):i0(`[id="${J}"]`);Yg8(G,["point","circle","cross"],K.type,J);let H=Y.getBlocks(),F=Y.getBlocksFlat(),M=Y.getEdges(),B=G.insert("g").attr("class","block");await xg0(B,H,Y);let O=Pg0(Y);if(await bg0(B,H,Y),await yg0(B,M,F,Y,J),O){let R=O,D=Math.max(1,Math.round(0.125*(R.width/R.height))),L=R.height+D+10,A=R.width+10,{useMaxWidth:V}=U;PZ(G,L,A,!!V),Z0.debug("Here Bounds",O,R),G.attr("viewBox",`${R.x-5} ${R.y-5} ${R.width+10} ${R.height+10}`)}},"draw"),ag8={draw:ng8,getClasses:rg8},og8={parser:Su8,db:iu8,renderer:ag8,styles:ru8}});var pe=HJ((nA,ge)=>{(function(J,Q){if(typeof nA==="object"&&typeof ge==="object")ge.exports=Q();else if(typeof define==="function"&&define.amd)define([],Q);else if(typeof nA==="object")nA.layoutBase=Q();else J.layoutBase=Q()})(nA,function(){return function(Z){var J={};function Q(K){if(J[K])return J[K].exports;var X=J[K]={i:K,l:!1,exports:{}};return Z[K].call(X.exports,X,X.exports,Q),X.l=!0,X.exports}return Q.m=Z,Q.c=J,Q.i=function(K){return K},Q.d=function(K,X,U){if(!Q.o(K,X))Object.defineProperty(K,X,{configurable:!1,enumerable:!0,get:U})},Q.n=function(K){var X=K&&K.__esModule?function(){return K.default}:function(){return K};return Q.d(X,"a",X),X},Q.o=function(K,X){return Object.prototype.hasOwnProperty.call(K,X)},Q.p="",Q(Q.s=28)}([function(Z,J,Q){function K(){}K.QUALITY=1,K.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,K.DEFAULT_INCREMENTAL=!1,K.DEFAULT_ANIMATION_ON_LAYOUT=!0,K.DEFAULT_ANIMATION_DURING_LAYOUT=!1,K.DEFAULT_ANIMATION_PERIOD=50,K.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,K.DEFAULT_GRAPH_MARGIN=15,K.NODE_DIMENSIONS_INCLUDE_LABELS=!1,K.SIMPLE_NODE_SIZE=40,K.SIMPLE_NODE_HALF_SIZE=K.SIMPLE_NODE_SIZE/2,K.EMPTY_COMPOUND_NODE_SIZE=40,K.MIN_EDGE_LENGTH=1,K.WORLD_BOUNDARY=1e6,K.INITIAL_WORLD_BOUNDARY=K.WORLD_BOUNDARY/1000,K.WORLD_CENTER_X=1200,K.WORLD_CENTER_Y=900,Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(8),U=Q(9);function Y(W,G,z){K.call(this,z),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=z,this.bendpoints=[],this.source=W,this.target=G}Y.prototype=Object.create(K.prototype);for(var q in K)Y[q]=K[q];Y.prototype.getSource=function(){return this.source},Y.prototype.getTarget=function(){return this.target},Y.prototype.isInterGraph=function(){return this.isInterGraph},Y.prototype.getLength=function(){return this.length},Y.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},Y.prototype.getBendpoints=function(){return this.bendpoints},Y.prototype.getLca=function(){return this.lca},Y.prototype.getSourceInLca=function(){return this.sourceInLca},Y.prototype.getTargetInLca=function(){return this.targetInLca},Y.prototype.getOtherEnd=function(W){if(this.source===W)return this.target;else if(this.target===W)return this.source;else throw"Node is not incident with this edge"},Y.prototype.getOtherEndInGraph=function(W,G){var z=this.getOtherEnd(W),H=G.getGraphManager().getRoot();while(!0){if(z.getOwner()==G)return z;if(z.getOwner()==H)break;z=z.getOwner().getParent()}return null},Y.prototype.updateLength=function(){var W=[,,,,];if(this.isOverlapingSourceAndTarget=X.getIntersection(this.target.getRect(),this.source.getRect(),W),!this.isOverlapingSourceAndTarget){if(this.lengthX=W[0]-W[2],this.lengthY=W[1]-W[3],Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}},Y.prototype.updateLengthSimple=function(){if(this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Z.exports=Y},function(Z,J,Q){function K(X){this.vGraphObject=X}Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(13),Y=Q(0),q=Q(16),W=Q(5);function G(H,F,M,B){if(M==null&&B==null)B=F;if(K.call(this,B),H.graphManager!=null)H=H.graphManager;if(this.estimatedSize=X.MIN_VALUE,this.inclusionTreeDepth=X.MAX_VALUE,this.vGraphObject=B,this.edges=[],this.graphManager=H,M!=null&&F!=null)this.rect=new U(F.x,F.y,M.width,M.height);else this.rect=new U}G.prototype=Object.create(K.prototype);for(var z in K)G[z]=K[z];G.prototype.getEdges=function(){return this.edges},G.prototype.getChild=function(){return this.child},G.prototype.getOwner=function(){return this.owner},G.prototype.getWidth=function(){return this.rect.width},G.prototype.setWidth=function(H){this.rect.width=H},G.prototype.getHeight=function(){return this.rect.height},G.prototype.setHeight=function(H){this.rect.height=H},G.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},G.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},G.prototype.getCenter=function(){return new W(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},G.prototype.getLocation=function(){return new W(this.rect.x,this.rect.y)},G.prototype.getRect=function(){return this.rect},G.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},G.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},G.prototype.setRect=function(H,F){this.rect.x=H.x,this.rect.y=H.y,this.rect.width=F.width,this.rect.height=F.height},G.prototype.setCenter=function(H,F){this.rect.x=H-this.rect.width/2,this.rect.y=F-this.rect.height/2},G.prototype.setLocation=function(H,F){this.rect.x=H,this.rect.y=F},G.prototype.moveBy=function(H,F){this.rect.x+=H,this.rect.y+=F},G.prototype.getEdgeListToNode=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(O.target==H){if(O.source!=B)throw"Incorrect edge source!";F.push(O)}}),F},G.prototype.getEdgesBetween=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(!(O.source==B||O.target==B))throw"Incorrect edge source and/or target";if(O.target==H||O.source==H)F.push(O)}),F},G.prototype.getNeighborsList=function(){var H=new Set,F=this;return F.edges.forEach(function(M){if(M.source==F)H.add(M.target);else{if(M.target!=F)throw"Incorrect incidency!";H.add(M.source)}}),H},G.prototype.withChildren=function(){var H=new Set,F,M;if(H.add(this),this.child!=null){var B=this.child.getNodes();for(var O=0;O<B.length;O++)F=B[O],M=F.withChildren(),M.forEach(function(R){H.add(R)})}return H},G.prototype.getNoOfChildren=function(){var H=0,F;if(this.child==null)H=1;else{var M=this.child.getNodes();for(var B=0;B<M.length;B++)F=M[B],H+=F.getNoOfChildren()}if(H==0)H=1;return H},G.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},G.prototype.calcEstimatedSize=function(){if(this.child==null)return this.estimatedSize=(this.rect.width+this.rect.height)/2;else return this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize},G.prototype.scatter=function(){var H,F,M=-Y.INITIAL_WORLD_BOUNDARY,B=Y.INITIAL_WORLD_BOUNDARY;H=Y.WORLD_CENTER_X+q.nextDouble()*(B-M)+M;var O=-Y.INITIAL_WORLD_BOUNDARY,R=Y.INITIAL_WORLD_BOUNDARY;F=Y.WORLD_CENTER_Y+q.nextDouble()*(R-O)+O,this.rect.x=H,this.rect.y=F},G.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var H=this.getChild();if(H.updateBounds(!0),this.rect.x=H.getLeft(),this.rect.y=H.getTop(),this.setWidth(H.getRight()-H.getLeft()),this.setHeight(H.getBottom()-H.getTop()),Y.NODE_DIMENSIONS_INCLUDE_LABELS){var F=H.getRight()-H.getLeft(),M=H.getBottom()-H.getTop();if(this.labelWidth){if(this.labelPosHorizontal=="left")this.rect.x-=this.labelWidth,this.setWidth(F+this.labelWidth);else if(this.labelPosHorizontal=="center"&&this.labelWidth>F)this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth);else if(this.labelPosHorizontal=="right")this.setWidth(F+this.labelWidth)}if(this.labelHeight){if(this.labelPosVertical=="top")this.rect.y-=this.labelHeight,this.setHeight(M+this.labelHeight);else if(this.labelPosVertical=="center"&&this.labelHeight>M)this.rect.y-=(this.labelHeight-M)/2,this.setHeight(this.labelHeight);else if(this.labelPosVertical=="bottom")this.setHeight(M+this.labelHeight)}}}},G.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==X.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},G.prototype.transform=function(H){var F=this.rect.x;if(F>Y.WORLD_BOUNDARY)F=Y.WORLD_BOUNDARY;else if(F<-Y.WORLD_BOUNDARY)F=-Y.WORLD_BOUNDARY;var M=this.rect.y;if(M>Y.WORLD_BOUNDARY)M=Y.WORLD_BOUNDARY;else if(M<-Y.WORLD_BOUNDARY)M=-Y.WORLD_BOUNDARY;var B=new W(F,M),O=H.inverseTransformPoint(B);this.setLocation(O.x,O.y)},G.prototype.getLeft=function(){return this.rect.x},G.prototype.getRight=function(){return this.rect.x+this.rect.width},G.prototype.getTop=function(){return this.rect.y},G.prototype.getBottom=function(){return this.rect.y+this.rect.height},G.prototype.getParent=function(){if(this.owner==null)return null;return this.owner.getParent()},Z.exports=G},function(Z,J,Q){var K=Q(0);function X(){}for(var U in K)X[U]=K[U];X.MAX_ITERATIONS=2500,X.DEFAULT_EDGE_LENGTH=50,X.DEFAULT_SPRING_STRENGTH=0.45,X.DEFAULT_REPULSION_STRENGTH=4500,X.DEFAULT_GRAVITY_STRENGTH=0.4,X.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,X.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,X.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,X.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,X.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.3,X.COOLING_ADAPTATION_FACTOR=0.33,X.ADAPTATION_LOWER_NODE_LIMIT=1000,X.ADAPTATION_UPPER_NODE_LIMIT=5000,X.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,X.MAX_NODE_DISPLACEMENT=X.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,X.MIN_REPULSION_DIST=X.DEFAULT_EDGE_LENGTH/10,X.CONVERGENCE_CHECK_PERIOD=100,X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1,X.MIN_EDGE_LENGTH=1,X.GRID_CALCULATION_CHECK_PERIOD=10,Z.exports=X},function(Z,J,Q){function K(X,U){if(X==null&&U==null)this.x=0,this.y=0;else this.x=X,this.y=U}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.setX=function(X){this.x=X},K.prototype.setY=function(X){this.y=X},K.prototype.getDifference=function(X){return new DimensionD(this.x-X.x,this.y-X.y)},K.prototype.getCopy=function(){return new K(this.x,this.y)},K.prototype.translate=function(X){return this.x+=X.width,this.y+=X.height,this},Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(0),Y=Q(7),q=Q(3),W=Q(1),G=Q(13),z=Q(12),H=Q(11);function F(B,O,R){if(K.call(this,R),this.estimatedSize=X.MIN_VALUE,this.margin=U.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=B,O!=null&&O instanceof Y)this.graphManager=O;else if(O!=null&&O instanceof Layout)this.graphManager=O.graphManager}F.prototype=Object.create(K.prototype);for(var M in K)F[M]=K[M];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(B,O,R){if(O==null&&R==null){var D=B;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(D)>-1)throw"Node already in graph!";return D.owner=this,this.getNodes().push(D),D}else{var L=B;if(!(this.getNodes().indexOf(O)>-1&&this.getNodes().indexOf(R)>-1))throw"Source or target not in graph!";if(!(O.owner==R.owner&&O.owner==this))throw"Both owners must be this graph!";if(O.owner!=R.owner)return null;if(L.source=O,L.target=R,L.isInterGraph=!1,this.getEdges().push(L),O.edges.push(L),R!=O)R.edges.push(L);return L}},F.prototype.remove=function(B){var O=B;if(B instanceof q){if(O==null)throw"Node is null!";if(!(O.owner!=null&&O.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";var R=O.edges.slice(),D,L=R.length;for(var A=0;A<L;A++)if(D=R[A],D.isInterGraph)this.graphManager.remove(D);else D.source.owner.remove(D);var V=this.nodes.indexOf(O);if(V==-1)throw"Node not in owner node list!";this.nodes.splice(V,1)}else if(B instanceof W){var D=B;if(D==null)throw"Edge is null!";if(!(D.source!=null&&D.target!=null))throw"Source and/or target is null!";if(!(D.source.owner!=null&&D.target.owner!=null&&D.source.owner==this&&D.target.owner==this))throw"Source and/or target owner is invalid!";var N=D.source.edges.indexOf(D),E=D.target.edges.indexOf(D);if(!(N>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(D.source.edges.splice(N,1),D.target!=D.source)D.target.edges.splice(E,1);var V=D.source.owner.getEdges().indexOf(D);if(V==-1)throw"Not in owner's edge list!";D.source.owner.getEdges().splice(V,1)}},F.prototype.updateLeftTop=function(){var{MAX_VALUE:B,MAX_VALUE:O}=X,R,D,L,A=this.getNodes(),V=A.length;for(var N=0;N<V;N++){var E=A[N];if(R=E.getTop(),D=E.getLeft(),B>R)B=R;if(O>D)O=D}if(B==X.MAX_VALUE)return null;if(A[0].getParent().paddingLeft!=null)L=A[0].getParent().paddingLeft;else L=this.margin;return this.left=O-L,this.top=B-L,new z(this.left,this.top)},F.prototype.updateBounds=function(B){var O=X.MAX_VALUE,R=-X.MAX_VALUE,D=X.MAX_VALUE,L=-X.MAX_VALUE,A,V,N,E,j,C=this.nodes,$=C.length;for(var k=0;k<$;k++){var w=C[k];if(B&&w.child!=null)w.updateBounds();if(A=w.getLeft(),V=w.getRight(),N=w.getTop(),E=w.getBottom(),O>A)O=A;if(R<V)R=V;if(D>N)D=N;if(L<E)L=E}var P=new G(O,D,R-O,L-D);if(O==X.MAX_VALUE)this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom();if(C[0].getParent().paddingLeft!=null)j=C[0].getParent().paddingLeft;else j=this.margin;this.left=P.x-j,this.right=P.x+P.width+j,this.top=P.y-j,this.bottom=P.y+P.height+j},F.calculateBounds=function(B){var O=X.MAX_VALUE,R=-X.MAX_VALUE,D=X.MAX_VALUE,L=-X.MAX_VALUE,A,V,N,E,j=B.length;for(var C=0;C<j;C++){var $=B[C];if(A=$.getLeft(),V=$.getRight(),N=$.getTop(),E=$.getBottom(),O>A)O=A;if(R<V)R=V;if(D>N)D=N;if(L<E)L=E}var k=new G(O,D,R-O,L-D);return k},F.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot())return 1;else return this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){var B=0,O=this.nodes,R=O.length;for(var D=0;D<R;D++){var L=O[D];B+=L.calcEstimatedSize()}if(B==0)this.estimatedSize=U.EMPTY_COMPOUND_NODE_SIZE;else this.estimatedSize=B/Math.sqrt(this.nodes.length);return this.estimatedSize},F.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=!0;return}var O=new H,R=new Set,D=this.nodes[0],L,A,V=D.withChildren();V.forEach(function(k){O.push(k),R.add(k)});while(O.length!==0){D=O.shift(),L=D.getEdges();var N=L.length;for(var E=0;E<N;E++){var j=L[E];if(A=j.getOtherEndInGraph(D,this),A!=null&&!R.has(A)){var C=A.withChildren();C.forEach(function(k){O.push(k),R.add(k)})}}}if(this.isConnected=!1,R.size>=this.nodes.length){var $=0;if(R.forEach(function(k){if(k.owner==B)$++}),$==this.nodes.length)this.isConnected=!0}},Z.exports=F},function(Z,J,Q){var K,X=Q(1);function U(Y){K=Q(6),this.layout=Y,this.graphs=[],this.edges=[]}U.prototype.addRoot=function(){var Y=this.layout.newGraph(),q=this.layout.newNode(null),W=this.add(Y,q);return this.setRootGraph(W),this.rootGraph},U.prototype.add=function(Y,q,W,G,z){if(W==null&&G==null&&z==null){if(Y==null)throw"Graph is null!";if(q==null)throw"Parent node is null!";if(this.graphs.indexOf(Y)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(Y),Y.parent!=null)throw"Already has a parent!";if(q.child!=null)throw"Already has a child!";return Y.parent=q,q.child=Y,Y}else{z=W,G=q,W=Y;var H=G.getOwner(),F=z.getOwner();if(!(H!=null&&H.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(H==F)return W.isInterGraph=!1,H.add(W,G,z);else{if(W.isInterGraph=!0,W.source=G,W.target=z,this.edges.indexOf(W)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(W),!(W.source!=null&&W.target!=null))throw"Edge source and/or target is null!";if(!(W.source.edges.indexOf(W)==-1&&W.target.edges.indexOf(W)==-1))throw"Edge already in source and/or target incidency list!";return W.source.edges.push(W),W.target.edges.push(W),W}}},U.prototype.remove=function(Y){if(Y instanceof K){var q=Y;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(q==this.rootGraph||q.parent!=null&&q.parent.graphManager==this))throw"Invalid parent node!";var W=[];W=W.concat(q.getEdges());var G,z=W.length;for(var H=0;H<z;H++)G=W[H],q.remove(G);var F=[];F=F.concat(q.getNodes());var M;z=F.length;for(var H=0;H<z;H++)M=F[H],q.remove(M);if(q==this.rootGraph)this.setRootGraph(null);var B=this.graphs.indexOf(q);this.graphs.splice(B,1),q.parent=null}else if(Y instanceof X){if(G=Y,G==null)throw"Edge is null!";if(!G.isInterGraph)throw"Not an inter-graph edge!";if(!(G.source!=null&&G.target!=null))throw"Source and/or target is null!";if(!(G.source.edges.indexOf(G)!=-1&&G.target.edges.indexOf(G)!=-1))throw"Source and/or target doesn't know this edge!";var B=G.source.edges.indexOf(G);if(G.source.edges.splice(B,1),B=G.target.edges.indexOf(G),G.target.edges.splice(B,1),!(G.source.owner!=null&&G.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(G.source.owner.getGraphManager().edges.indexOf(G)==-1)throw"Not in owner graph manager's edge list!";var B=G.source.owner.getGraphManager().edges.indexOf(G);G.source.owner.getGraphManager().edges.splice(B,1)}},U.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},U.prototype.getGraphs=function(){return this.graphs},U.prototype.getAllNodes=function(){if(this.allNodes==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<W;G++)Y=Y.concat(q[G].getNodes());this.allNodes=Y}return this.allNodes},U.prototype.resetAllNodes=function(){this.allNodes=null},U.prototype.resetAllEdges=function(){this.allEdges=null},U.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},U.prototype.getAllEdges=function(){if(this.allEdges==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<q.length;G++)Y=Y.concat(q[G].getEdges());Y=Y.concat(this.edges),this.allEdges=Y}return this.allEdges},U.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},U.prototype.setAllNodesToApplyGravitation=function(Y){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=Y},U.prototype.getRoot=function(){return this.rootGraph},U.prototype.setRootGraph=function(Y){if(Y.getGraphManager()!=this)throw"Root not in this graph mgr!";if(this.rootGraph=Y,Y.parent==null)Y.parent=this.layout.newNode("Root node")},U.prototype.getLayout=function(){return this.layout},U.prototype.isOneAncestorOfOther=function(Y,q){if(!(Y!=null&&q!=null))throw"assert failed";if(Y==q)return!0;var W=Y.getOwner(),G;do{if(G=W.getParent(),G==null)break;if(G==q)return!0;if(W=G.getOwner(),W==null)break}while(!0);W=q.getOwner();do{if(G=W.getParent(),G==null)break;if(G==Y)return!0;if(W=G.getOwner(),W==null)break}while(!0);return!1},U.prototype.calcLowestCommonAncestors=function(){var Y,q,W,G,z,H=this.getAllEdges(),F=H.length;for(var M=0;M<F;M++){if(Y=H[M],q=Y.source,W=Y.target,Y.lca=null,Y.sourceInLca=q,Y.targetInLca=W,q==W){Y.lca=q.getOwner();continue}G=q.getOwner();while(Y.lca==null){Y.targetInLca=W,z=W.getOwner();while(Y.lca==null){if(z==G){Y.lca=z;break}if(z==this.rootGraph)break;if(Y.lca!=null)throw"assert failed";Y.targetInLca=z.getParent(),z=Y.targetInLca.getOwner()}if(G==this.rootGraph)break;if(Y.lca==null)Y.sourceInLca=G.getParent(),G=Y.sourceInLca.getOwner()}if(Y.lca==null)throw"assert failed"}},U.prototype.calcLowestCommonAncestor=function(Y,q){if(Y==q)return Y.getOwner();var W=Y.getOwner();do{if(W==null)break;var G=q.getOwner();do{if(G==null)break;if(G==W)return G;G=G.getParent().getOwner()}while(!0);W=W.getParent().getOwner()}while(!0);return W},U.prototype.calcInclusionTreeDepths=function(Y,q){if(Y==null&&q==null)Y=this.rootGraph,q=1;var W,G=Y.getNodes(),z=G.length;for(var H=0;H<z;H++)if(W=G[H],W.inclusionTreeDepth=q,W.child!=null)this.calcInclusionTreeDepths(W.child,q+1)},U.prototype.includesInvalidEdge=function(){var Y,q=[],W=this.edges.length;for(var G=0;G<W;G++)if(Y=this.edges[G],this.isOneAncestorOfOther(Y.source,Y.target))q.push(Y);for(var G=0;G<q.length;G++)this.remove(q[G]);return!1},Z.exports=U},function(Z,J,Q){var K=Q(12);function X(){}X.calcSeparationAmount=function(U,Y,q,W){if(!U.intersects(Y))throw"assert failed";var G=[,,];if(this.decideDirectionsForOverlappingNodes(U,Y,G),q[0]=Math.min(U.getRight(),Y.getRight())-Math.max(U.x,Y.x),q[1]=Math.min(U.getBottom(),Y.getBottom())-Math.max(U.y,Y.y),U.getX()<=Y.getX()&&U.getRight()>=Y.getRight())q[0]+=Math.min(Y.getX()-U.getX(),U.getRight()-Y.getRight());else if(Y.getX()<=U.getX()&&Y.getRight()>=U.getRight())q[0]+=Math.min(U.getX()-Y.getX(),Y.getRight()-U.getRight());if(U.getY()<=Y.getY()&&U.getBottom()>=Y.getBottom())q[1]+=Math.min(Y.getY()-U.getY(),U.getBottom()-Y.getBottom());else if(Y.getY()<=U.getY()&&Y.getBottom()>=U.getBottom())q[1]+=Math.min(U.getY()-Y.getY(),Y.getBottom()-U.getBottom());var z=Math.abs((Y.getCenterY()-U.getCenterY())/(Y.getCenterX()-U.getCenterX()));if(Y.getCenterY()===U.getCenterY()&&Y.getCenterX()===U.getCenterX())z=1;var H=z*q[0],F=q[1]/z;if(q[0]<F)F=q[0];else H=q[1];q[0]=-1*G[0]*(F/2+W),q[1]=-1*G[1]*(H/2+W)},X.decideDirectionsForOverlappingNodes=function(U,Y,q){if(U.getCenterX()<Y.getCenterX())q[0]=-1;else q[0]=1;if(U.getCenterY()<Y.getCenterY())q[1]=-1;else q[1]=1},X.getIntersection2=function(U,Y,q){var W=U.getCenterX(),G=U.getCenterY(),z=Y.getCenterX(),H=Y.getCenterY();if(U.intersects(Y))return q[0]=W,q[1]=G,q[2]=z,q[3]=H,!0;var F=U.getX(),M=U.getY(),B=U.getRight(),O=U.getX(),R=U.getBottom(),D=U.getRight(),L=U.getWidthHalf(),A=U.getHeightHalf(),V=Y.getX(),N=Y.getY(),E=Y.getRight(),j=Y.getX(),C=Y.getBottom(),$=Y.getRight(),k=Y.getWidthHalf(),w=Y.getHeightHalf(),P=!1,T=!1;if(W===z){if(G>H)return q[0]=W,q[1]=M,q[2]=z,q[3]=C,!1;else if(G<H)return q[0]=W,q[1]=R,q[2]=z,q[3]=N,!1}else if(G===H){if(W>z)return q[0]=F,q[1]=G,q[2]=E,q[3]=H,!1;else if(W<z)return q[0]=B,q[1]=G,q[2]=V,q[3]=H,!1}else{var S=U.height/U.width,f=Y.height/Y.width,v=(H-G)/(z-W),x=void 0,b=void 0,y=void 0,u=void 0,h=void 0,p=void 0;if(-S===v)if(W>z)q[0]=O,q[1]=R,P=!0;else q[0]=B,q[1]=M,P=!0;else if(S===v)if(W>z)q[0]=F,q[1]=M,P=!0;else q[0]=D,q[1]=R,P=!0;if(-f===v)if(z>W)q[2]=j,q[3]=C,T=!0;else q[2]=E,q[3]=N,T=!0;else if(f===v)if(z>W)q[2]=V,q[3]=N,T=!0;else q[2]=$,q[3]=C,T=!0;if(P&&T)return!1;if(W>z)if(G>H)x=this.getCardinalDirection(S,v,4),b=this.getCardinalDirection(f,v,2);else x=this.getCardinalDirection(-S,v,3),b=this.getCardinalDirection(-f,v,1);else if(G>H)x=this.getCardinalDirection(-S,v,1),b=this.getCardinalDirection(-f,v,3);else x=this.getCardinalDirection(S,v,2),b=this.getCardinalDirection(f,v,4);if(!P)switch(x){case 1:u=M,y=W+-A/v,q[0]=y,q[1]=u;break;case 2:y=D,u=G+L*v,q[0]=y,q[1]=u;break;case 3:u=R,y=W+A/v,q[0]=y,q[1]=u;break;case 4:y=O,u=G+-L*v,q[0]=y,q[1]=u;break}if(!T)switch(b){case 1:p=N,h=z+-w/v,q[2]=h,q[3]=p;break;case 2:h=$,p=H+k*v,q[2]=h,q[3]=p;break;case 3:p=C,h=z+w/v,q[2]=h,q[3]=p;break;case 4:h=j,p=H+-k*v,q[2]=h,q[3]=p;break}}return!1},X.getCardinalDirection=function(U,Y,q){if(U>Y)return q;else return 1+q%4},X.getIntersection=function(U,Y,q,W){if(W==null)return this.getIntersection2(U,Y,q);var{x:G,y:z}=U,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,D=void 0,L=void 0,A=void 0,V=void 0,N=void 0,E=void 0,j=void 0,C=void 0,$=void 0;if(A=F-z,N=G-H,j=H*z-G*F,V=R-B,E=M-O,C=O*B-M*R,$=A*E-V*N,$===0)return null;return D=(N*C-E*j)/$,L=(V*j-A*C)/$,new K(D,L)},X.angleOfVector=function(U,Y,q,W){var G=void 0;if(U!==q){if(G=Math.atan((W-Y)/(q-U)),q<U)G+=Math.PI;else if(W<Y)G+=this.TWO_PI}else if(W<Y)G=this.ONE_AND_HALF_PI;else G=this.HALF_PI;return G},X.doIntersect=function(U,Y,q,W){var{x:G,y:z}=U,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,D=(H-G)*(R-B)-(O-M)*(F-z);if(D===0)return!1;else{var L=((R-B)*(O-G)+(M-O)*(R-z))/D,A=((z-F)*(O-G)+(H-G)*(R-z))/D;return 0<L&&L<1&&0<A&&A<1}},X.findCircleLineIntersections=function(U,Y,q,W,G,z,H){var F=(q-U)*(q-U)+(W-Y)*(W-Y),M=2*((U-G)*(q-U)+(Y-z)*(W-Y)),B=(U-G)*(U-G)+(Y-z)*(Y-z)-H*H,O=M*M-4*F*B;if(O>=0){var R=(-M+Math.sqrt(M*M-4*F*B))/(2*F),D=(-M-Math.sqrt(M*M-4*F*B))/(2*F),L=null;if(R>=0&&R<=1)return[R];if(D>=0&&D<=1)return[D];return L}else return null},X.HALF_PI=0.5*Math.PI,X.ONE_AND_HALF_PI=1.5*Math.PI,X.TWO_PI=2*Math.PI,X.THREE_PI=3*Math.PI,Z.exports=X},function(Z,J,Q){function K(){}K.sign=function(X){if(X>0)return 1;else if(X<0)return-1;else return 0},K.floor=function(X){return X<0?Math.ceil(X):Math.floor(X)},K.ceil=function(X){return X<0?Math.floor(X):Math.ceil(X)},Z.exports=K},function(Z,J,Q){function K(){}K.MAX_VALUE=2147483647,K.MIN_VALUE=-2147483648,Z.exports=K},function(Z,J,Q){var K=function(){function G(z,H){for(var F=0;F<H.length;F++){var M=H[F];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(z,M.key,M)}}return function(z,H,F){if(H)G(z.prototype,H);if(F)G(z,F);return z}}();function X(G,z){if(!(G instanceof z))throw TypeError("Cannot call a class as a function")}var U=function(z){return{value:z,next:null,prev:null}},Y=function(z,H,F,M){if(z!==null)z.next=H;else M.head=H;if(F!==null)F.prev=H;else M.tail=H;return H.prev=z,H.next=F,M.length++,H},q=function(z,H){var{prev:F,next:M}=z;if(F!==null)F.next=M;else H.head=M;if(M!==null)M.prev=F;else H.tail=F;return z.prev=z.next=null,H.length--,z},W=function(){function G(z){var H=this;if(X(this,G),this.length=0,this.head=null,this.tail=null,z!=null)z.forEach(function(F){return H.push(F)})}return K(G,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(H,F){return Y(F.prev,U(H),F,this)}},{key:"insertAfter",value:function(H,F){return Y(F,U(H),F.next,this)}},{key:"insertNodeBefore",value:function(H,F){return Y(F.prev,H,F,this)}},{key:"insertNodeAfter",value:function(H,F){return Y(F,H,F.next,this)}},{key:"push",value:function(H){return Y(this.tail,U(H),null,this)}},{key:"unshift",value:function(H){return Y(null,U(H),this.head,this)}},{key:"remove",value:function(H){return q(H,this)}},{key:"pop",value:function(){return q(this.tail,this).value}},{key:"popNode",value:function(){return q(this.tail,this)}},{key:"shift",value:function(){return q(this.head,this).value}},{key:"shiftNode",value:function(){return q(this.head,this)}},{key:"get_object_at",value:function(H){if(H<=this.length()){var F=1,M=this.head;while(F<H)M=M.next,F++;return M.value}}},{key:"set_object_at",value:function(H,F){if(H<=this.length()){var M=1,B=this.head;while(M<H)B=B.next,M++;B.value=F}}}]),G}();Z.exports=W},function(Z,J,Q){function K(X,U,Y){if(this.x=null,this.y=null,X==null&&U==null&&Y==null)this.x=0,this.y=0;else if(typeof X=="number"&&typeof U=="number"&&Y==null)this.x=X,this.y=U;else if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.x=Y.x,this.y=Y.y}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.getLocation=function(){return new K(this.x,this.y)},K.prototype.setLocation=function(X,U,Y){if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.setLocation(Y.x,Y.y);else if(typeof X=="number"&&typeof U=="number"&&Y==null)if(parseInt(X)==X&&parseInt(U)==U)this.move(X,U);else this.x=Math.floor(X+0.5),this.y=Math.floor(U+0.5)},K.prototype.move=function(X,U){this.x=X,this.y=U},K.prototype.translate=function(X,U){this.x+=X,this.y+=U},K.prototype.equals=function(X){if(X.constructor.name=="Point"){var U=X;return this.x==U.x&&this.y==U.y}return this==X},K.prototype.toString=function(){return new K().constructor.name+"[x="+this.x+",y="+this.y+"]"},Z.exports=K},function(Z,J,Q){function K(X,U,Y,q){if(this.x=0,this.y=0,this.width=0,this.height=0,X!=null&&U!=null&&Y!=null&&q!=null)this.x=X,this.y=U,this.width=Y,this.height=q}K.prototype.getX=function(){return this.x},K.prototype.setX=function(X){this.x=X},K.prototype.getY=function(){return this.y},K.prototype.setY=function(X){this.y=X},K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},K.prototype.getRight=function(){return this.x+this.width},K.prototype.getBottom=function(){return this.y+this.height},K.prototype.intersects=function(X){if(this.getRight()<X.x)return!1;if(this.getBottom()<X.y)return!1;if(X.getRight()<this.x)return!1;if(X.getBottom()<this.y)return!1;return!0},K.prototype.getCenterX=function(){return this.x+this.width/2},K.prototype.getMinX=function(){return this.getX()},K.prototype.getMaxX=function(){return this.getX()+this.width},K.prototype.getCenterY=function(){return this.y+this.height/2},K.prototype.getMinY=function(){return this.getY()},K.prototype.getMaxY=function(){return this.getY()+this.height},K.prototype.getWidthHalf=function(){return this.width/2},K.prototype.getHeightHalf=function(){return this.height/2},Z.exports=K},function(Z,J,Q){var K=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol==="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function X(){}X.lastID=0,X.createID=function(U){if(X.isPrimitive(U))return U;if(U.uniqueID!=null)return U.uniqueID;return U.uniqueID=X.getString(),X.lastID++,U.uniqueID},X.getString=function(U){if(U==null)U=X.lastID;return"Object#"+U},X.isPrimitive=function(U){var Y=typeof U>"u"?"undefined":K(U);return U==null||Y!="object"&&Y!="function"},Z.exports=X},function(Z,J,Q){function K(M){if(Array.isArray(M)){for(var B=0,O=Array(M.length);B<M.length;B++)O[B]=M[B];return O}else return Array.from(M)}var X=Q(0),U=Q(7),Y=Q(3),q=Q(1),W=Q(6),G=Q(5),z=Q(17),H=Q(29);function F(M){if(H.call(this),this.layoutQuality=X.QUALITY,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=X.DEFAULT_INCREMENTAL,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new U(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,M!=null)this.isRemoteUse=M}F.RANDOM_SEED=1,F.prototype=Object.create(H.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var M=new U(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new W(null,this.graphManager,M)},F.prototype.newNode=function(M){return new Y(this.graphManager,M)},F.prototype.newEdge=function(M){return new q(null,null,M)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){if(this.isLayoutFinished=!1,this.tilingPreLayout)this.tilingPreLayout();this.initParameters();var M;if(this.checkLayoutSuccess())M=!1;else M=this.layout();if(X.ANIMATE==="during")return!1;if(M){if(!this.isSubLayout)this.doPostLayout()}if(this.tilingPostLayout)this.tilingPostLayout();return this.isLayoutFinished=!0,M},F.prototype.doPostLayout=function(){if(!this.incremental)this.transform();this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded)this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges();if(!this.isRemoteUse){var M,B=this.graphManager.getAllEdges();for(var O=0;O<B.length;O++)M=B[O];var R,D=this.graphManager.getRoot().getNodes();for(var O=0;O<D.length;O++)R=D[O];this.update(this.graphManager.getRoot())}},F.prototype.update=function(M){if(M==null)this.update2();else if(M instanceof Y){var B=M;if(B.getChild()!=null){var O=B.getChild().getNodes();for(var R=0;R<O.length;R++)update(O[R])}if(B.vGraphObject!=null){var D=B.vGraphObject;D.update(B)}}else if(M instanceof q){var L=M;if(L.vGraphObject!=null){var A=L.vGraphObject;A.update(L)}}else if(M instanceof W){var V=M;if(V.vGraphObject!=null){var N=V.vGraphObject;N.update(V)}}},F.prototype.initParameters=function(){if(!this.isSubLayout)this.layoutQuality=X.QUALITY,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=X.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES;if(this.animationDuringLayout)this.animationOnLayout=!1},F.prototype.transform=function(M){if(M==null)this.transform(new G(0,0));else{var B=new z,O=this.graphManager.getRoot().updateLeftTop();if(O!=null){B.setWorldOrgX(M.x),B.setWorldOrgY(M.y),B.setDeviceOrgX(O.x),B.setDeviceOrgY(O.y);var R=this.getAllNodes(),D;for(var L=0;L<R.length;L++)D=R[L],D.transform(B)}}},F.prototype.positionNodesRandomly=function(M){if(M==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else{var B,O,R=M.getNodes();for(var D=0;D<R.length;D++)if(B=R[D],O=B.getChild(),O==null)B.scatter();else if(O.getNodes().length==0)B.scatter();else this.positionNodesRandomly(O),B.updateBounds()}},F.prototype.getFlatForest=function(){var M=[],B=!0,O=this.graphManager.getRoot().getNodes(),R=!0;for(var D=0;D<O.length;D++)if(O[D].getChild()!=null)R=!1;if(!R)return M;var L=new Set,A=[],V=new Map,N=[];N=N.concat(O);while(N.length>0&&B){A.push(N[0]);while(A.length>0&&B){var E=A[0];A.splice(0,1),L.add(E);var j=E.getEdges();for(var D=0;D<j.length;D++){var C=j[D].getOtherEnd(E);if(V.get(E)!=C)if(!L.has(C))A.push(C),V.set(C,E);else{B=!1;break}}}if(!B)M=[];else{var $=[].concat(K(L));M.push($);for(var D=0;D<$.length;D++){var k=$[D],w=N.indexOf(k);if(w>-1)N.splice(w,1)}L=new Set,V=new Map}}return M},F.prototype.createDummyNodesForBendpoints=function(M){var B=[],O=M.source,R=this.graphManager.calcLowestCommonAncestor(M.source,M.target);for(var D=0;D<M.bendpoints.length;D++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),R.add(L);var A=this.newEdge(null);this.graphManager.add(A,O,L),B.add(L),O=L}var A=this.newEdge(null);if(this.graphManager.add(A,O,M.target),this.edgeToDummyNodes.set(M,B),M.isInterGraph())this.graphManager.remove(M);else R.remove(M);return B},F.prototype.createBendpointsFromDummyNodes=function(){var M=[];M=M.concat(this.graphManager.getAllEdges()),M=[].concat(K(this.edgeToDummyNodes.keys())).concat(M);for(var B=0;B<M.length;B++){var O=M[B];if(O.bendpoints.length>0){var R=this.edgeToDummyNodes.get(O);for(var D=0;D<R.length;D++){var L=R[D],A=new G(L.getCenterX(),L.getCenterY()),V=O.bendpoints.get(D);V.x=A.x,V.y=A.y,L.getOwner().remove(L)}this.graphManager.add(O,O.source,O.target)}}},F.transform=function(M,B,O,R){if(O!=null&&R!=null){var D=B;if(M<=50){var L=B/O;D-=(B-L)/50*(50-M)}else{var A=B*R;D+=(A-B)/50*(M-50)}return D}else{var V,N;if(M<=50)V=9*B/500,N=B/10;else V=9*B/50,N=-8*B;return V*M+N}},F.findCenterOfTree=function(M){var B=[];B=B.concat(M);var O=[],R=new Map,D=!1,L=null;if(B.length==1||B.length==2)D=!0,L=B[0];for(var A=0;A<B.length;A++){var V=B[A],N=V.getNeighborsList().size;if(R.set(V,V.getNeighborsList().size),N==1)O.push(V)}var E=[];E=E.concat(O);while(!D){var j=[];j=j.concat(E),E=[];for(var A=0;A<B.length;A++){var V=B[A],C=B.indexOf(V);if(C>=0)B.splice(C,1);var $=V.getNeighborsList();$.forEach(function(P){if(O.indexOf(P)<0){var T=R.get(P),S=T-1;if(S==1)E.push(P);R.set(P,S)}})}if(O=O.concat(E),B.length==1||B.length==2)D=!0,L=B[0]}return L},F.prototype.setGraphManager=function(M){this.graphManager=M},Z.exports=F},function(Z,J,Q){function K(){}K.seed=1,K.x=0,K.nextDouble=function(){return K.x=Math.sin(K.seed++)*1e4,K.x-Math.floor(K.x)},Z.exports=K},function(Z,J,Q){var K=Q(5);function X(U,Y){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}X.prototype.getWorldOrgX=function(){return this.lworldOrgX},X.prototype.setWorldOrgX=function(U){this.lworldOrgX=U},X.prototype.getWorldOrgY=function(){return this.lworldOrgY},X.prototype.setWorldOrgY=function(U){this.lworldOrgY=U},X.prototype.getWorldExtX=function(){return this.lworldExtX},X.prototype.setWorldExtX=function(U){this.lworldExtX=U},X.prototype.getWorldExtY=function(){return this.lworldExtY},X.prototype.setWorldExtY=function(U){this.lworldExtY=U},X.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},X.prototype.setDeviceOrgX=function(U){this.ldeviceOrgX=U},X.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},X.prototype.setDeviceOrgY=function(U){this.ldeviceOrgY=U},X.prototype.getDeviceExtX=function(){return this.ldeviceExtX},X.prototype.setDeviceExtX=function(U){this.ldeviceExtX=U},X.prototype.getDeviceExtY=function(){return this.ldeviceExtY},X.prototype.setDeviceExtY=function(U){this.ldeviceExtY=U},X.prototype.transformX=function(U){var Y=0,q=this.lworldExtX;if(q!=0)Y=this.ldeviceOrgX+(U-this.lworldOrgX)*this.ldeviceExtX/q;return Y},X.prototype.transformY=function(U){var Y=0,q=this.lworldExtY;if(q!=0)Y=this.ldeviceOrgY+(U-this.lworldOrgY)*this.ldeviceExtY/q;return Y},X.prototype.inverseTransformX=function(U){var Y=0,q=this.ldeviceExtX;if(q!=0)Y=this.lworldOrgX+(U-this.ldeviceOrgX)*this.lworldExtX/q;return Y},X.prototype.inverseTransformY=function(U){var Y=0,q=this.ldeviceExtY;if(q!=0)Y=this.lworldOrgY+(U-this.ldeviceOrgY)*this.lworldExtY/q;return Y},X.prototype.inverseTransformPoint=function(U){var Y=new K(this.inverseTransformX(U.x),this.inverseTransformY(U.y));return Y},Z.exports=X},function(Z,J,Q){function K(H){if(Array.isArray(H)){for(var F=0,M=Array(H.length);F<H.length;F++)M[F]=H[F];return M}else return Array.from(H)}var X=Q(15),U=Q(4),Y=Q(0),q=Q(8),W=Q(9);function G(){X.call(this),this.useSmartIdealEdgeLengthCalculation=U.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=U.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=U.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=U.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*U.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=U.MAX_ITERATIONS}G.prototype=Object.create(X.prototype);for(var z in X)G[z]=X[z];G.prototype.initParameters=function(){X.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=U.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},G.prototype.calcIdealEdgeLengths=function(){var H,F,M,B,O,R,D,L=this.getGraphManager().getAllEdges();for(var A=0;A<L.length;A++)if(H=L[A],F=H.idealLength,H.isInterGraph){if(B=H.getSource(),O=H.getTarget(),R=H.getSourceInLca().getEstimatedSize(),D=H.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation)H.idealLength+=R+D-2*Y.SIMPLE_NODE_SIZE;M=H.getLca().getInclusionTreeDepth(),H.idealLength+=F*U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(B.getInclusionTreeDepth()+O.getInclusionTreeDepth()-2*M)}},G.prototype.initSpringEmbedder=function(){var H=this.getAllNodes().length;if(this.incremental){if(H>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(this.coolingFactor*U.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(H-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-U.COOLING_ADAPTATION_FACTOR));this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(H>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(U.COOLING_ADAPTATION_FACTOR,1-(H-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*(1-U.COOLING_ADAPTATION_FACTOR));else this.coolingFactor=1;this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*U.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},G.prototype.calcSpringForces=function(){var H=this.getAllEdges(),F;for(var M=0;M<H.length;M++)F=H[M],this.calcSpringForce(F,F.idealLength)},G.prototype.calcRepulsionForces=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M,B,O,R,D=this.getAllNodes(),L;if(this.useFRGridVariant){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&H)this.updateGrid();L=new Set;for(M=0;M<D.length;M++)O=D[M],this.calculateRepulsionForceOfANode(O,L,H,F),L.add(O)}else for(M=0;M<D.length;M++){O=D[M];for(B=M+1;B<D.length;B++){if(R=D[B],O.getOwner()!=R.getOwner())continue;this.calcRepulsionForce(O,R)}}},G.prototype.calcGravitationalForces=function(){var H,F=this.getAllNodesToApplyGravitation();for(var M=0;M<F.length;M++)H=F[M],this.calcGravitationalForce(H)},G.prototype.moveNodes=function(){var H=this.getAllNodes(),F;for(var M=0;M<H.length;M++)F=H[M],F.move()},G.prototype.calcSpringForce=function(H,F){var M=H.getSource(),B=H.getTarget(),O,R,D,L;if(this.uniformLeafNodeSizes&&M.getChild()==null&&B.getChild()==null)H.updateLengthSimple();else if(H.updateLength(),H.isOverlapingSourceAndTarget)return;if(O=H.getLength(),O==0)return;R=H.edgeElasticity*(O-F),D=R*(H.lengthX/O),L=R*(H.lengthY/O),M.springForceX+=D,M.springForceY+=L,B.springForceX-=D,B.springForceY-=L},G.prototype.calcRepulsionForce=function(H,F){var M=H.getRect(),B=F.getRect(),O=[,,],R=[,,,,],D,L,A,V,N,E,j;if(M.intersects(B)){q.calcSeparationAmount(M,B,O,U.DEFAULT_EDGE_LENGTH/2),E=2*O[0],j=2*O[1];var C=H.noOfChildren*F.noOfChildren/(H.noOfChildren+F.noOfChildren);H.repulsionForceX-=C*E,H.repulsionForceY-=C*j,F.repulsionForceX+=C*E,F.repulsionForceY+=C*j}else{if(this.uniformLeafNodeSizes&&H.getChild()==null&&F.getChild()==null)D=B.getCenterX()-M.getCenterX(),L=B.getCenterY()-M.getCenterY();else q.getIntersection(M,B,R),D=R[2]-R[0],L=R[3]-R[1];if(Math.abs(D)<U.MIN_REPULSION_DIST)D=W.sign(D)*U.MIN_REPULSION_DIST;if(Math.abs(L)<U.MIN_REPULSION_DIST)L=W.sign(L)*U.MIN_REPULSION_DIST;A=D*D+L*L,V=Math.sqrt(A),N=(H.nodeRepulsion/2+F.nodeRepulsion/2)*H.noOfChildren*F.noOfChildren/A,E=N*D/V,j=N*L/V,H.repulsionForceX-=E,H.repulsionForceY-=j,F.repulsionForceX+=E,F.repulsionForceY+=j}},G.prototype.calcGravitationalForce=function(H){var F,M,B,O,R,D,L,A;if(F=H.getOwner(),M=(F.getRight()+F.getLeft())/2,B=(F.getTop()+F.getBottom())/2,O=H.getCenterX()-M,R=H.getCenterY()-B,D=Math.abs(O)+H.getWidth()/2,L=Math.abs(R)+H.getHeight()/2,H.getOwner()==this.graphManager.getRoot()){if(A=F.getEstimatedSize()*this.gravityRangeFactor,D>A||L>A)H.gravitationForceX=-this.gravityConstant*O,H.gravitationForceY=-this.gravityConstant*R}else if(A=F.getEstimatedSize()*this.compoundGravityRangeFactor,D>A||L>A)H.gravitationForceX=-this.gravityConstant*O*this.compoundGravityConstant,H.gravitationForceY=-this.gravityConstant*R*this.compoundGravityConstant},G.prototype.isConverged=function(){var H,F=!1;if(this.totalIterations>this.maxIterations/3)F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2;return H=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,H||F},G.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout)if(this.notAnimatedIterations==this.animationPeriod)this.update(),this.notAnimatedIterations=0;else this.notAnimatedIterations++},G.prototype.calcNoOfChildrenForAllNodes=function(){var H,F=this.graphManager.getAllNodes();for(var M=0;M<F.length;M++)H=F[M],H.noOfChildren=H.getNoOfChildren()},G.prototype.calcGrid=function(H){var F=0,M=0;F=parseInt(Math.ceil((H.getRight()-H.getLeft())/this.repulsionRange)),M=parseInt(Math.ceil((H.getBottom()-H.getTop())/this.repulsionRange));var B=Array(F);for(var O=0;O<F;O++)B[O]=Array(M);for(var O=0;O<F;O++)for(var R=0;R<M;R++)B[O][R]=[];return B},G.prototype.addNodeToGrid=function(H,F,M){var B=0,O=0,R=0,D=0;B=parseInt(Math.floor((H.getRect().x-F)/this.repulsionRange)),O=parseInt(Math.floor((H.getRect().width+H.getRect().x-F)/this.repulsionRange)),R=parseInt(Math.floor((H.getRect().y-M)/this.repulsionRange)),D=parseInt(Math.floor((H.getRect().height+H.getRect().y-M)/this.repulsionRange));for(var L=B;L<=O;L++)for(var A=R;A<=D;A++)this.grid[L][A].push(H),H.setGridCoordinates(B,O,R,D)},G.prototype.updateGrid=function(){var H,F,M=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(H=0;H<M.length;H++)F=M[H],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},G.prototype.calculateRepulsionForceOfANode=function(H,F,M,B){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&M||B){var O=new Set;H.surrounding=[];var R,D=this.grid;for(var L=H.startX-1;L<H.finishX+2;L++)for(var A=H.startY-1;A<H.finishY+2;A++)if(!(L<0||A<0||L>=D.length||A>=D[0].length))for(var V=0;V<D[L][A].length;V++){if(R=D[L][A][V],H.getOwner()!=R.getOwner()||H==R)continue;if(!F.has(R)&&!O.has(R)){var N=Math.abs(H.getCenterX()-R.getCenterX())-(H.getWidth()/2+R.getWidth()/2),E=Math.abs(H.getCenterY()-R.getCenterY())-(H.getHeight()/2+R.getHeight()/2);if(N<=this.repulsionRange&&E<=this.repulsionRange)O.add(R)}}H.surrounding=[].concat(K(O))}for(L=0;L<H.surrounding.length;L++)this.calcRepulsionForce(H,H.surrounding[L])},G.prototype.calcRepulsionRange=function(){return 0},Z.exports=G},function(Z,J,Q){var K=Q(1),X=Q(4);function U(q,W,G){K.call(this,q,W,G),this.idealLength=X.DEFAULT_EDGE_LENGTH,this.edgeElasticity=X.DEFAULT_SPRING_STRENGTH}U.prototype=Object.create(K.prototype);for(var Y in K)U[Y]=K[Y];Z.exports=U},function(Z,J,Q){var K=Q(3),X=Q(4);function U(q,W,G,z){K.call(this,q,W,G,z),this.nodeRepulsion=X.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}U.prototype=Object.create(K.prototype);for(var Y in K)U[Y]=K[Y];U.prototype.setGridCoordinates=function(q,W,G,z){this.startX=q,this.finishX=W,this.startY=G,this.finishY=z},Z.exports=U},function(Z,J,Q){function K(X,U){if(this.width=0,this.height=0,X!==null&&U!==null)this.height=U,this.width=X}K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},Z.exports=K},function(Z,J,Q){var K=Q(14);function X(){this.map={},this.keys=[]}X.prototype.put=function(U,Y){var q=K.createID(U);if(!this.contains(q))this.map[q]=Y,this.keys.push(U)},X.prototype.contains=function(U){var Y=K.createID(U);return this.map[U]!=null},X.prototype.get=function(U){var Y=K.createID(U);return this.map[Y]},X.prototype.keySet=function(){return this.keys},Z.exports=X},function(Z,J,Q){var K=Q(14);function X(){this.set={}}X.prototype.add=function(U){var Y=K.createID(U);if(!this.contains(Y))this.set[Y]=U},X.prototype.remove=function(U){delete this.set[K.createID(U)]},X.prototype.clear=function(){this.set={}},X.prototype.contains=function(U){return this.set[K.createID(U)]==U},X.prototype.isEmpty=function(){return this.size()===0},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAllTo=function(U){var Y=Object.keys(this.set),q=Y.length;for(var W=0;W<q;W++)U.push(this.set[Y[W]])},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAll=function(U){var Y=U.length;for(var q=0;q<Y;q++){var W=U[q];this.add(W)}},Z.exports=X},function(Z,J,Q){function K(){}K.multMat=function(X,U){var Y=[];for(var q=0;q<X.length;q++){Y[q]=[];for(var W=0;W<U[0].length;W++){Y[q][W]=0;for(var G=0;G<X[0].length;G++)Y[q][W]+=X[q][G]*U[G][W]}}return Y},K.transpose=function(X){var U=[];for(var Y=0;Y<X[0].length;Y++){U[Y]=[];for(var q=0;q<X.length;q++)U[Y][q]=X[q][Y]}return U},K.multCons=function(X,U){var Y=[];for(var q=0;q<X.length;q++)Y[q]=X[q]*U;return Y},K.minusOp=function(X,U){var Y=[];for(var q=0;q<X.length;q++)Y[q]=X[q]-U[q];return Y},K.dotProduct=function(X,U){var Y=0;for(var q=0;q<X.length;q++)Y+=X[q]*U[q];return Y},K.mag=function(X){return Math.sqrt(this.dotProduct(X,X))},K.normalize=function(X){var U=[],Y=this.mag(X);for(var q=0;q<X.length;q++)U[q]=X[q]/Y;return U},K.multGamma=function(X){var U=[],Y=0;for(var q=0;q<X.length;q++)Y+=X[q];Y*=-1/X.length;for(var W=0;W<X.length;W++)U[W]=Y+X[W];return U},K.multL=function(X,U,Y){var q=[],W=[],G=[];for(var z=0;z<U[0].length;z++){var H=0;for(var F=0;F<U.length;F++)H+=-0.5*U[F][z]*X[F];W[z]=H}for(var M=0;M<Y.length;M++){var B=0;for(var O=0;O<Y.length;O++)B+=Y[M][O]*W[O];G[M]=B}for(var R=0;R<U.length;R++){var D=0;for(var L=0;L<U[0].length;L++)D+=U[R][L]*G[L];q[R]=D}return q},Z.exports=K},function(Z,J,Q){var K=function(){function q(W,G){for(var z=0;z<G.length;z++){var H=G[z];if(H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H)H.writable=!0;Object.defineProperty(W,H.key,H)}}return function(W,G,z){if(G)q(W.prototype,G);if(z)q(W,z);return W}}();function X(q,W){if(!(q instanceof W))throw TypeError("Cannot call a class as a function")}var U=Q(11),Y=function(){function q(W,G){if(X(this,q),G!==null||G!==void 0)this.compareFunction=this._defaultCompareFunction;var z=void 0;if(W instanceof U)z=W.size();else z=W.length;this._quicksort(W,0,z-1)}return K(q,[{key:"_quicksort",value:function(G,z,H){if(z<H){var F=this._partition(G,z,H);this._quicksort(G,z,F),this._quicksort(G,F+1,H)}}},{key:"_partition",value:function(G,z,H){var F=this._get(G,z),M=z,B=H;while(!0){while(this.compareFunction(F,this._get(G,B)))B--;while(this.compareFunction(this._get(G,M),F))M++;if(M<B)this._swap(G,M,B),M++,B--;else return B}}},{key:"_get",value:function(G,z){if(G instanceof U)return G.get_object_at(z);else return G[z]}},{key:"_set",value:function(G,z,H){if(G instanceof U)G.set_object_at(z,H);else G[z]=H}},{key:"_swap",value:function(G,z,H){var F=this._get(G,z);this._set(G,z,this._get(G,H)),this._set(G,H,F)}},{key:"_defaultCompareFunction",value:function(G,z){return z>G}}]),q}();Z.exports=Y},function(Z,J,Q){function K(){}K.svd=function(X){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=X.length,this.n=X[0].length;var U=Math.min(this.m,this.n);this.s=function(W8){var q8=[];while(W8-- >0)q8.push(0);return q8}(Math.min(this.m+1,this.n)),this.U=function(W8){var q8=function F8(R8){if(R8.length==0)return 0;else{var D8=[];for(var G8=0;G8<R8[0];G8++)D8.push(F8(R8.slice(1)));return D8}};return q8(W8)}([this.m,U]),this.V=function(W8){var q8=function F8(R8){if(R8.length==0)return 0;else{var D8=[];for(var G8=0;G8<R8[0];G8++)D8.push(F8(R8.slice(1)));return D8}};return q8(W8)}([this.n,this.n]);var Y=function(W8){var q8=[];while(W8-- >0)q8.push(0);return q8}(this.n),q=function(W8){var q8=[];while(W8-- >0)q8.push(0);return q8}(this.m),W=!0,G=!0,z=Math.min(this.m-1,this.n),H=Math.max(0,Math.min(this.n-2,this.m));for(var F=0;F<Math.max(z,H);F++){if(F<z){this.s[F]=0;for(var M=F;M<this.m;M++)this.s[F]=K.hypot(this.s[F],X[M][F]);if(this.s[F]!==0){if(X[F][F]<0)this.s[F]=-this.s[F];for(var B=F;B<this.m;B++)X[B][F]/=this.s[F];X[F][F]+=1}this.s[F]=-this.s[F]}for(var O=F+1;O<this.n;O++){if(function(W8,q8){return W8&&q8}(F<z,this.s[F]!==0)){var R=0;for(var D=F;D<this.m;D++)R+=X[D][F]*X[D][O];R=-R/X[F][F];for(var L=F;L<this.m;L++)X[L][O]+=R*X[L][F]}Y[O]=X[F][O]}if(function(W8,q8){return W8&&q8}(W,F<z))for(var A=F;A<this.m;A++)this.U[A][F]=X[A][F];if(F<H){Y[F]=0;for(var V=F+1;V<this.n;V++)Y[F]=K.hypot(Y[F],Y[V]);if(Y[F]!==0){if(Y[F+1]<0)Y[F]=-Y[F];for(var N=F+1;N<this.n;N++)Y[N]/=Y[F];Y[F+1]+=1}if(Y[F]=-Y[F],function(W8,q8){return W8&&q8}(F+1<this.m,Y[F]!==0)){for(var E=F+1;E<this.m;E++)q[E]=0;for(var j=F+1;j<this.n;j++)for(var C=F+1;C<this.m;C++)q[C]+=Y[j]*X[C][j];for(var $=F+1;$<this.n;$++){var k=-Y[$]/Y[F+1];for(var w=F+1;w<this.m;w++)X[w][$]+=k*q[w]}}if(G)for(var P=F+1;P<this.n;P++)this.V[P][F]=Y[P]}}var T=Math.min(this.n,this.m+1);if(z<this.n)this.s[z]=X[z][z];if(this.m<T)this.s[T-1]=0;if(H+1<T)Y[H]=X[H][T-1];if(Y[T-1]=0,W){for(var S=z;S<U;S++){for(var f=0;f<this.m;f++)this.U[f][S]=0;this.U[S][S]=1}for(var v=z-1;v>=0;v--)if(this.s[v]!==0){for(var x=v+1;x<U;x++){var b=0;for(var y=v;y<this.m;y++)b+=this.U[y][v]*this.U[y][x];b=-b/this.U[v][v];for(var u=v;u<this.m;u++)this.U[u][x]+=b*this.U[u][v]}for(var h=v;h<this.m;h++)this.U[h][v]=-this.U[h][v];this.U[v][v]=1+this.U[v][v];for(var p=0;p<v-1;p++)this.U[p][v]=0}else{for(var r=0;r<this.m;r++)this.U[r][v]=0;this.U[v][v]=1}}if(G)for(var e=this.n-1;e>=0;e--){if(function(W8,q8){return W8&&q8}(e<H,Y[e]!==0))for(var i=e+1;i<U;i++){var U0=0;for(var a=e+1;a<this.n;a++)U0+=this.V[a][e]*this.V[a][i];U0=-U0/this.V[e+1][e];for(var z0=e+1;z0<this.n;z0++)this.V[z0][i]+=U0*this.V[z0][e]}for(var J0=0;J0<this.n;J0++)this.V[J0][e]=0;this.V[e][e]=1}var Q0=T-1,t=0,n=Math.pow(2,-52),Y0=Math.pow(2,-966);while(T>0){var o=void 0,M0=void 0;for(o=T-2;o>=-1;o--){if(o===-1)break;if(Math.abs(Y[o])<=Y0+n*(Math.abs(this.s[o])+Math.abs(this.s[o+1]))){Y[o]=0;break}}if(o===T-2)M0=4;else{var X0=void 0;for(X0=T-1;X0>=o;X0--){if(X0===o)break;var E0=(X0!==T?Math.abs(Y[X0]):0)+(X0!==o+1?Math.abs(Y[X0-1]):0);if(Math.abs(this.s[X0])<=Y0+n*E0){this.s[X0]=0;break}}if(X0===o)M0=3;else if(X0===T-1)M0=1;else M0=2,o=X0}switch(o++,M0){case 1:{var d=Y[T-2];Y[T-2]=0;for(var c0=T-2;c0>=o;c0--){var B0=K.hypot(this.s[c0],d),y0=this.s[c0]/B0,n0=d/B0;if(this.s[c0]=B0,c0!==o)d=-n0*Y[c0-1],Y[c0-1]=y0*Y[c0-1];if(G)for(var s0=0;s0<this.n;s0++)B0=y0*this.V[s0][c0]+n0*this.V[s0][T-1],this.V[s0][T-1]=-n0*this.V[s0][c0]+y0*this.V[s0][T-1],this.V[s0][c0]=B0}}break;case 2:{var k0=Y[o-1];Y[o-1]=0;for(var x0=o;x0<T;x0++){var f0=K.hypot(this.s[x0],k0),C0=this.s[x0]/f0,h0=k0/f0;if(this.s[x0]=f0,k0=-h0*Y[x0],Y[x0]=C0*Y[x0],W)for(var F0=0;F0<this.m;F0++)f0=C0*this.U[F0][x0]+h0*this.U[F0][o-1],this.U[F0][o-1]=-h0*this.U[F0][x0]+C0*this.U[F0][o-1],this.U[F0][x0]=f0}}break;case 3:{var I0=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[T-1]),Math.abs(this.s[T-2])),Math.abs(Y[T-2])),Math.abs(this.s[o])),Math.abs(Y[o])),s=this.s[T-1]/I0,H0=this.s[T-2]/I0,m=Y[T-2]/I0,q0=this.s[o]/I0,W0=Y[o]/I0,V0=((H0+s)*(H0-s)+m*m)/2,L0=s*m*(s*m),D0=0;if(function(W8,q8){return W8||q8}(V0!==0,L0!==0)){if(D0=Math.sqrt(V0*V0+L0),V0<0)D0=-D0;D0=L0/(V0+D0)}var _0=(q0+s)*(q0-s)+D0,T0=q0*W0;for(var m0=o;m0<T-1;m0++){var t0=K.hypot(_0,T0),H8=_0/t0,r0=T0/t0;if(m0!==o)Y[m0-1]=t0;if(_0=H8*this.s[m0]+r0*Y[m0],Y[m0]=H8*Y[m0]-r0*this.s[m0],T0=r0*this.s[m0+1],this.s[m0+1]=H8*this.s[m0+1],G)for(var u0=0;u0<this.n;u0++)t0=H8*this.V[u0][m0]+r0*this.V[u0][m0+1],this.V[u0][m0+1]=-r0*this.V[u0][m0]+H8*this.V[u0][m0+1],this.V[u0][m0]=t0;if(t0=K.hypot(_0,T0),H8=_0/t0,r0=T0/t0,this.s[m0]=t0,_0=H8*Y[m0]+r0*this.s[m0+1],this.s[m0+1]=-r0*Y[m0]+H8*this.s[m0+1],T0=r0*Y[m0+1],Y[m0+1]=H8*Y[m0+1],W&&m0<this.m-1)for(var o0=0;o0<this.m;o0++)t0=H8*this.U[o0][m0]+r0*this.U[o0][m0+1],this.U[o0][m0+1]=-r0*this.U[o0][m0]+H8*this.U[o0][m0+1],this.U[o0][m0]=t0}Y[T-2]=_0,t=t+1}break;case 4:{if(this.s[o]<=0){if(this.s[o]=this.s[o]<0?-this.s[o]:0,G)for(var d0=0;d0<=Q0;d0++)this.V[d0][o]=-this.V[d0][o]}while(o<Q0){if(this.s[o]>=this.s[o+1])break;var U8=this.s[o];if(this.s[o]=this.s[o+1],this.s[o+1]=U8,G&&o<this.n-1)for(var u8=0;u8<this.n;u8++)U8=this.V[u8][o+1],this.V[u8][o+1]=this.V[u8][o],this.V[u8][o]=U8;if(W&&o<this.m-1)for(var O8=0;O8<this.m;O8++)U8=this.U[O8][o+1],this.U[O8][o+1]=this.U[O8][o],this.U[O8][o]=U8;o++}t=0,T--}break}}var S8={U:this.U,V:this.V,S:this.s};return S8},K.hypot=function(X,U){var Y=void 0;if(Math.abs(X)>Math.abs(U))Y=U/X,Y=Math.abs(X)*Math.sqrt(1+Y*Y);else if(U!=0)Y=X/U,Y=Math.abs(U)*Math.sqrt(1+Y*Y);else Y=0;return Y},Z.exports=K},function(Z,J,Q){var K=function(){function Y(q,W){for(var G=0;G<W.length;G++){var z=W[G];if(z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z)z.writable=!0;Object.defineProperty(q,z.key,z)}}return function(q,W,G){if(W)Y(q.prototype,W);if(G)Y(q,G);return q}}();function X(Y,q){if(!(Y instanceof q))throw TypeError("Cannot call a class as a function")}var U=function(){function Y(q,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;X(this,Y),this.sequence1=q,this.sequence2=W,this.match_score=G,this.mismatch_penalty=z,this.gap_penalty=H,this.iMax=q.length+1,this.jMax=W.length+1,this.grid=Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=Array(this.jMax);for(var M=0;M<this.jMax;M++)this.grid[F][M]=0}this.tracebackGrid=Array(this.iMax);for(var B=0;B<this.iMax;B++){this.tracebackGrid[B]=Array(this.jMax);for(var O=0;O<this.jMax;O++)this.tracebackGrid[B][O]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return K(Y,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var W=1;W<this.jMax;W++)this.grid[0][W]=this.grid[0][W-1]+this.gap_penalty,this.tracebackGrid[0][W]=[!1,!1,!0];for(var G=1;G<this.iMax;G++)this.grid[G][0]=this.grid[G-1][0]+this.gap_penalty,this.tracebackGrid[G][0]=[!1,!0,!1];for(var z=1;z<this.iMax;z++)for(var H=1;H<this.jMax;H++){var F=void 0;if(this.sequence1[z-1]===this.sequence2[H-1])F=this.grid[z-1][H-1]+this.match_score;else F=this.grid[z-1][H-1]+this.mismatch_penalty;var M=this.grid[z-1][H]+this.gap_penalty,B=this.grid[z][H-1]+this.gap_penalty,O=[F,M,B],R=this.arrayAllMaxIndexes(O);this.grid[z][H]=O[R[0]],this.tracebackGrid[z][H]=[R.includes(0),R.includes(1),R.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var W=[];W.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(W[0]){var G=W[0],z=this.tracebackGrid[G.pos[0]][G.pos[1]];if(z[0])W.push({pos:[G.pos[0]-1,G.pos[1]-1],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(z[1])W.push({pos:[G.pos[0]-1,G.pos[1]],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:"-"+G.seq2});if(z[2])W.push({pos:[G.pos[0],G.pos[1]-1],seq1:"-"+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(G.pos[0]===0&&G.pos[1]===0)this.alignments.push({sequence1:G.seq1,sequence2:G.seq2});W.shift()}return this.alignments}},{key:"getAllIndexes",value:function(W,G){var z=[],H=-1;while((H=W.indexOf(G,H+1))!==-1)z.push(H);return z}},{key:"arrayAllMaxIndexes",value:function(W){return this.getAllIndexes(W,Math.max.apply(null,W))}}]),Y}();Z.exports=U},function(Z,J,Q){var K=function(){return};K.FDLayout=Q(18),K.FDLayoutConstants=Q(4),K.FDLayoutEdge=Q(19),K.FDLayoutNode=Q(20),K.DimensionD=Q(21),K.HashMap=Q(22),K.HashSet=Q(23),K.IGeometry=Q(8),K.IMath=Q(9),K.Integer=Q(10),K.Point=Q(12),K.PointD=Q(5),K.RandomSeed=Q(16),K.RectangleD=Q(13),K.Transform=Q(17),K.UniqueIDGeneretor=Q(14),K.Quicksort=Q(25),K.LinkedList=Q(11),K.LGraphObject=Q(2),K.LGraph=Q(6),K.LEdge=Q(1),K.LGraphManager=Q(7),K.LNode=Q(3),K.Layout=Q(15),K.LayoutConstants=Q(0),K.NeedlemanWunsch=Q(27),K.Matrix=Q(24),K.SVD=Q(26),Z.exports=K},function(Z,J,Q){function K(){this.listeners=[]}var X=K.prototype;X.addListener=function(U,Y){this.listeners.push({event:U,callback:Y})},X.removeListener=function(U,Y){for(var q=this.listeners.length;q>=0;q--){var W=this.listeners[q];if(W.event===U&&W.callback===Y)this.listeners.splice(q,1)}},X.emit=function(U,Y){for(var q=0;q<this.listeners.length;q++){var W=this.listeners[q];if(U===W.event)W.callback(Y)}},Z.exports=K}])})});var le=HJ((aA,ce)=>{(function(J,Q){if(typeof aA==="object"&&typeof ce==="object")ce.exports=Q(pe());else if(typeof define==="function"&&define.amd)define(["layout-base"],Q);else if(typeof aA==="object")aA.coseBase=Q(pe());else J.coseBase=Q(J.layoutBase)})(aA,function(Z){return(()=>{var J={45:(U,Y,q)=>{var W={};W.layoutBase=q(551),W.CoSEConstants=q(806),W.CoSEEdge=q(767),W.CoSEGraph=q(880),W.CoSEGraphManager=q(578),W.CoSELayout=q(765),W.CoSENode=q(991),W.ConstraintHandler=q(902),U.exports=W},806:(U,Y,q)=>{var W=q(551).FDLayoutConstants;function G(){}for(var z in W)G[z]=W[z];G.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,G.DEFAULT_RADIAL_SEPARATION=W.DEFAULT_EDGE_LENGTH,G.DEFAULT_COMPONENT_SEPERATION=60,G.TILE=!0,G.TILING_PADDING_VERTICAL=10,G.TILING_PADDING_HORIZONTAL=10,G.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,G.ENFORCE_CONSTRAINTS=!0,G.APPLY_LAYOUT=!0,G.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,G.TREE_REDUCTION_ON_INCREMENTAL=!0,G.PURE_INCREMENTAL=G.DEFAULT_INCREMENTAL,U.exports=G},767:(U,Y,q)=>{var W=q(551).FDLayoutEdge;function G(H,F,M){W.call(this,H,F,M)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];U.exports=G},880:(U,Y,q)=>{var W=q(551).LGraph;function G(H,F,M){W.call(this,H,F,M)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];U.exports=G},578:(U,Y,q)=>{var W=q(551).LGraphManager;function G(H){W.call(this,H)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];U.exports=G},765:(U,Y,q)=>{var W=q(551).FDLayout,G=q(578),z=q(880),H=q(991),F=q(767),M=q(806),B=q(902),O=q(551).FDLayoutConstants,R=q(551).LayoutConstants,D=q(551).Point,L=q(551).PointD,A=q(551).DimensionD,V=q(551).Layout,N=q(551).Integer,E=q(551).IGeometry,j=q(551).LGraph,C=q(551).Transform,$=q(551).LinkedList;function k(){W.call(this),this.toBeTiled={},this.constraints={}}k.prototype=Object.create(W.prototype);for(var w in W)k[w]=W[w];k.prototype.newGraphManager=function(){var P=new G(this);return this.graphManager=P,P},k.prototype.newGraph=function(P){return new z(null,this.graphManager,P)},k.prototype.newNode=function(P){return new H(this.graphManager,P)},k.prototype.newEdge=function(P){return new F(null,null,P)},k.prototype.initParameters=function(){if(W.prototype.initParameters.call(this,arguments),!this.isSubLayout){if(M.DEFAULT_EDGE_LENGTH<10)this.idealEdgeLength=10;else this.idealEdgeLength=M.DEFAULT_EDGE_LENGTH;this.useSmartIdealEdgeLengthCalculation=M.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=O.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=O.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=O.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1}},k.prototype.initSpringEmbedder=function(){W.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/O.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=0.04,this.coolingAdjuster=1},k.prototype.layout=function(){var P=R.DEFAULT_CREATE_BENDS_AS_NEEDED;if(P)this.createBendpoints(),this.graphManager.resetAllEdges();return this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var P=this.getFlatForest();if(P.length>0)this.positionNodesRadially(P);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(f){return T.has(f)});this.graphManager.setAllNodesToApplyGravitation(S),this.positionNodesRandomly()}}else if(M.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(x){return T.has(x)});this.graphManager.setAllNodesToApplyGravitation(S)}if(Object.keys(this.constraints).length>0)B.handleConstraints(this),this.initConstraintVariables();if(this.initSpringEmbedder(),M.APPLY_LAYOUT)this.runSpringEmbedder();return!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%O.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.coolingCycle++,this.layoutQuality==0)this.coolingAdjuster=this.coolingCycle;else if(this.layoutQuality==1)this.coolingAdjuster=this.coolingCycle/3;this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(v){return P.has(v)});if(this.graphManager.setAllNodesToApplyGravitation(T),this.graphManager.updateBounds(),this.updateGrid(),M.PURE_INCREMENTAL)this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL/2;else this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;if(this.afterGrowthIterations%10==0)this.graphManager.updateBounds(),this.updateGrid();if(M.PURE_INCREMENTAL)this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100);else this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100);this.afterGrowthIterations++}var S=!this.isTreeGrowing&&!this.isGrowthFinished,f=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(S,f),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){var P=this.graphManager.getAllNodes(),T={};for(var S=0;S<P.length;S++){var f=P[S].rect,v=P[S].id;T[v]={id:v,x:f.getCenterX(),y:f.getCenterY(),w:f.width,h:f.height}}return T},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var P=!1;if(O.ANIMATE==="during")this.emit("layoutstarted");else{while(!P)P=this.tick();this.graphManager.updateBounds()}},k.prototype.moveNodes=function(){var P=this.getAllNodes(),T;for(var S=0;S<P.length;S++)T=P[S],T.calculateDisplacement();if(Object.keys(this.constraints).length>0)this.updateDisplacements();for(var S=0;S<P.length;S++)T=P[S],T.move()},k.prototype.initConstraintVariables=function(){var P=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;var T=this.graphManager.getAllNodes();for(var S=0;S<T.length;S++){var f=T[S];this.idToNodeMap.set(f.id,f)}var v=function a(z0){var J0=z0.getChild().getNodes(),Q0,t=0;for(var n=0;n<J0.length;n++)if(Q0=J0[n],Q0.getChild()==null){if(P.fixedNodeSet.has(Q0.id))t+=100}else t+=a(Q0);return t};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(J0){P.fixedNodeSet.add(J0.nodeId)});var T=this.graphManager.getAllNodes(),f;for(var S=0;S<T.length;S++)if(f=T[S],f.getChild()!=null){var x=v(f);if(x>0)f.fixedNodeWeight=x}}if(this.constraints.relativePlacementConstraint){var b=new Map,y=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(a){P.fixedNodesOnHorizontal.add(a),P.fixedNodesOnVertical.add(a)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var u=this.constraints.alignmentConstraint.vertical;for(var S=0;S<u.length;S++)this.dummyToNodeForVerticalAlignment.set("dummy"+S,[]),u[S].forEach(function(z0){if(b.set(z0,"dummy"+S),P.dummyToNodeForVerticalAlignment.get("dummy"+S).push(z0),P.fixedNodeSet.has(z0))P.fixedNodesOnHorizontal.add("dummy"+S)})}if(this.constraints.alignmentConstraint.horizontal){var h=this.constraints.alignmentConstraint.horizontal;for(var S=0;S<h.length;S++)this.dummyToNodeForHorizontalAlignment.set("dummy"+S,[]),h[S].forEach(function(z0){if(y.set(z0,"dummy"+S),P.dummyToNodeForHorizontalAlignment.get("dummy"+S).push(z0),P.fixedNodeSet.has(z0))P.fixedNodesOnVertical.add("dummy"+S)})}}if(M.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(a){var z0,J0,Q0;for(Q0=a.length-1;Q0>=2*a.length/3;Q0--)z0=Math.floor(Math.random()*(Q0+1)),J0=a[Q0],a[Q0]=a[z0],a[z0]=J0;return a},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(a){if(a.left){var z0=b.has(a.left)?b.get(a.left):a.left,J0=b.has(a.right)?b.get(a.right):a.right;if(!P.nodesInRelativeHorizontal.includes(z0))if(P.nodesInRelativeHorizontal.push(z0),P.nodeToRelativeConstraintMapHorizontal.set(z0,[]),P.dummyToNodeForVerticalAlignment.has(z0))P.nodeToTempPositionMapHorizontal.set(z0,P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(z0)[0]).getCenterX());else P.nodeToTempPositionMapHorizontal.set(z0,P.idToNodeMap.get(z0).getCenterX());if(!P.nodesInRelativeHorizontal.includes(J0))if(P.nodesInRelativeHorizontal.push(J0),P.nodeToRelativeConstraintMapHorizontal.set(J0,[]),P.dummyToNodeForVerticalAlignment.has(J0))P.nodeToTempPositionMapHorizontal.set(J0,P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(J0)[0]).getCenterX());else P.nodeToTempPositionMapHorizontal.set(J0,P.idToNodeMap.get(J0).getCenterX());P.nodeToRelativeConstraintMapHorizontal.get(z0).push({right:J0,gap:a.gap}),P.nodeToRelativeConstraintMapHorizontal.get(J0).push({left:z0,gap:a.gap})}else{var Q0=y.has(a.top)?y.get(a.top):a.top,t=y.has(a.bottom)?y.get(a.bottom):a.bottom;if(!P.nodesInRelativeVertical.includes(Q0))if(P.nodesInRelativeVertical.push(Q0),P.nodeToRelativeConstraintMapVertical.set(Q0,[]),P.dummyToNodeForHorizontalAlignment.has(Q0))P.nodeToTempPositionMapVertical.set(Q0,P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(Q0)[0]).getCenterY());else P.nodeToTempPositionMapVertical.set(Q0,P.idToNodeMap.get(Q0).getCenterY());if(!P.nodesInRelativeVertical.includes(t))if(P.nodesInRelativeVertical.push(t),P.nodeToRelativeConstraintMapVertical.set(t,[]),P.dummyToNodeForHorizontalAlignment.has(t))P.nodeToTempPositionMapVertical.set(t,P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(t)[0]).getCenterY());else P.nodeToTempPositionMapVertical.set(t,P.idToNodeMap.get(t).getCenterY());P.nodeToRelativeConstraintMapVertical.get(Q0).push({bottom:t,gap:a.gap}),P.nodeToRelativeConstraintMapVertical.get(t).push({top:Q0,gap:a.gap})}});else{var p=new Map,r=new Map;this.constraints.relativePlacementConstraint.forEach(function(a){if(a.left){var z0=b.has(a.left)?b.get(a.left):a.left,J0=b.has(a.right)?b.get(a.right):a.right;if(p.has(z0))p.get(z0).push(J0);else p.set(z0,[J0]);if(p.has(J0))p.get(J0).push(z0);else p.set(J0,[z0])}else{var Q0=y.has(a.top)?y.get(a.top):a.top,t=y.has(a.bottom)?y.get(a.bottom):a.bottom;if(r.has(Q0))r.get(Q0).push(t);else r.set(Q0,[t]);if(r.has(t))r.get(t).push(Q0);else r.set(t,[Q0])}});var e=function(z0,J0){var Q0=[],t=[],n=new $,Y0=new Set,o=0;return z0.forEach(function(M0,X0){if(!Y0.has(X0)){Q0[o]=[],t[o]=!1;var E0=X0;n.push(E0),Y0.add(E0),Q0[o].push(E0);while(n.length!=0){if(E0=n.shift(),J0.has(E0))t[o]=!0;var d=z0.get(E0);d.forEach(function(c0){if(!Y0.has(c0))n.push(c0),Y0.add(c0),Q0[o].push(c0)})}o++}}),{components:Q0,isFixed:t}},i=e(p,P.fixedNodesOnHorizontal);this.componentsOnHorizontal=i.components,this.fixedComponentsOnHorizontal=i.isFixed;var U0=e(r,P.fixedNodesOnVertical);this.componentsOnVertical=U0.components,this.fixedComponentsOnVertical=U0.isFixed}}},k.prototype.updateDisplacements=function(){var P=this;if(this.constraints.fixedNodeConstraint)this.constraints.fixedNodeConstraint.forEach(function(U0){var a=P.idToNodeMap.get(U0.nodeId);a.displacementX=0,a.displacementY=0});if(this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var T=this.constraints.alignmentConstraint.vertical;for(var S=0;S<T.length;S++){var f=0;for(var v=0;v<T[S].length;v++){if(this.fixedNodeSet.has(T[S][v])){f=0;break}f+=this.idToNodeMap.get(T[S][v]).displacementX}var x=f/T[S].length;for(var v=0;v<T[S].length;v++)this.idToNodeMap.get(T[S][v]).displacementX=x}}if(this.constraints.alignmentConstraint.horizontal){var b=this.constraints.alignmentConstraint.horizontal;for(var S=0;S<b.length;S++){var y=0;for(var v=0;v<b[S].length;v++){if(this.fixedNodeSet.has(b[S][v])){y=0;break}y+=this.idToNodeMap.get(b[S][v]).displacementY}var u=y/b[S].length;for(var v=0;v<b[S].length;v++)this.idToNodeMap.get(b[S][v]).displacementY=u}}}if(this.constraints.relativePlacementConstraint)if(M.RELAX_MOVEMENT_ON_CONSTRAINTS){if(this.totalIterations%10==0)this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical);this.nodesInRelativeHorizontal.forEach(function(U0){if(!P.fixedNodesOnHorizontal.has(U0)){var a=0;if(P.dummyToNodeForVerticalAlignment.has(U0))a=P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(U0)[0]).displacementX;else a=P.idToNodeMap.get(U0).displacementX;if(P.nodeToRelativeConstraintMapHorizontal.get(U0).forEach(function(z0){if(z0.right){var J0=P.nodeToTempPositionMapHorizontal.get(z0.right)-P.nodeToTempPositionMapHorizontal.get(U0)-a;if(J0<z0.gap)a-=z0.gap-J0}else{var J0=P.nodeToTempPositionMapHorizontal.get(U0)-P.nodeToTempPositionMapHorizontal.get(z0.left)+a;if(J0<z0.gap)a+=z0.gap-J0}}),P.nodeToTempPositionMapHorizontal.set(U0,P.nodeToTempPositionMapHorizontal.get(U0)+a),P.dummyToNodeForVerticalAlignment.has(U0))P.dummyToNodeForVerticalAlignment.get(U0).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=a});else P.idToNodeMap.get(U0).displacementX=a}}),this.nodesInRelativeVertical.forEach(function(U0){if(!P.fixedNodesOnHorizontal.has(U0)){var a=0;if(P.dummyToNodeForHorizontalAlignment.has(U0))a=P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(U0)[0]).displacementY;else a=P.idToNodeMap.get(U0).displacementY;if(P.nodeToRelativeConstraintMapVertical.get(U0).forEach(function(z0){if(z0.bottom){var J0=P.nodeToTempPositionMapVertical.get(z0.bottom)-P.nodeToTempPositionMapVertical.get(U0)-a;if(J0<z0.gap)a-=z0.gap-J0}else{var J0=P.nodeToTempPositionMapVertical.get(U0)-P.nodeToTempPositionMapVertical.get(z0.top)+a;if(J0<z0.gap)a+=z0.gap-J0}}),P.nodeToTempPositionMapVertical.set(U0,P.nodeToTempPositionMapVertical.get(U0)+a),P.dummyToNodeForHorizontalAlignment.has(U0))P.dummyToNodeForHorizontalAlignment.get(U0).forEach(function(z0){P.idToNodeMap.get(z0).displacementY=a});else P.idToNodeMap.get(U0).displacementY=a}})}else{for(var S=0;S<this.componentsOnHorizontal.length;S++){var h=this.componentsOnHorizontal[S];if(this.fixedComponentsOnHorizontal[S])for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v]))this.dummyToNodeForVerticalAlignment.get(h[v]).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=0});else this.idToNodeMap.get(h[v]).displacementX=0;else{var p=0,r=0;for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v])){var e=this.dummyToNodeForVerticalAlignment.get(h[v]);p+=e.length*this.idToNodeMap.get(e[0]).displacementX,r+=e.length}else p+=this.idToNodeMap.get(h[v]).displacementX,r++;var i=p/r;for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v]))this.dummyToNodeForVerticalAlignment.get(h[v]).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=i});else this.idToNodeMap.get(h[v]).displacementX=i}}for(var S=0;S<this.componentsOnVertical.length;S++){var h=this.componentsOnVertical[S];if(this.fixedComponentsOnVertical[S])for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v]))this.dummyToNodeForHorizontalAlignment.get(h[v]).forEach(function(J0){P.idToNodeMap.get(J0).displacementY=0});else this.idToNodeMap.get(h[v]).displacementY=0;else{var p=0,r=0;for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v])){var e=this.dummyToNodeForHorizontalAlignment.get(h[v]);p+=e.length*this.idToNodeMap.get(e[0]).displacementY,r+=e.length}else p+=this.idToNodeMap.get(h[v]).displacementY,r++;var i=p/r;for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v]))this.dummyToNodeForHorizontalAlignment.get(h[v]).forEach(function(n){P.idToNodeMap.get(n).displacementY=i});else this.idToNodeMap.get(h[v]).displacementY=i}}}},k.prototype.calculateNodesToApplyGravitationTo=function(){var P=[],T,S=this.graphManager.getGraphs(),f=S.length,v;for(v=0;v<f;v++)if(T=S[v],T.updateConnected(),!T.isConnected)P=P.concat(T.getNodes());return P},k.prototype.createBendpoints=function(){var P=[];P=P.concat(this.graphManager.getAllEdges());var T=new Set,S;for(S=0;S<P.length;S++){var f=P[S];if(!T.has(f)){var v=f.getSource(),x=f.getTarget();if(v==x)f.getBendpoints().push(new L),f.getBendpoints().push(new L),this.createDummyNodesForBendpoints(f),T.add(f);else{var b=[];if(b=b.concat(v.getEdgeListToNode(x)),b=b.concat(x.getEdgeListToNode(v)),!T.has(b[0])){if(b.length>1){var y;for(y=0;y<b.length;y++){var u=b[y];u.getBendpoints().push(new L),this.createDummyNodesForBendpoints(u)}}b.forEach(function(h){T.add(h)})}}}if(T.size==P.length)break}},k.prototype.positionNodesRadially=function(P){var T=new D(0,0),S=Math.ceil(Math.sqrt(P.length)),f=0,v=0,x=0,b=new L(0,0);for(var y=0;y<P.length;y++){if(y%S==0){if(x=0,v=f,y!=0)v+=M.DEFAULT_COMPONENT_SEPERATION;f=0}var u=P[y],h=V.findCenterOfTree(u);if(T.x=x,T.y=v,b=k.radialLayout(u,h,T),b.y>f)f=Math.floor(b.y);x=Math.floor(b.x+M.DEFAULT_COMPONENT_SEPERATION)}this.transform(new L(R.WORLD_CENTER_X-b.x/2,R.WORLD_CENTER_Y-b.y/2))},k.radialLayout=function(P,T,S){var f=Math.max(this.maxDiagonalInTree(P),M.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(T,null,0,359,0,f);var v=j.calculateBounds(P),x=new C;x.setDeviceOrgX(v.getMinX()),x.setDeviceOrgY(v.getMinY()),x.setWorldOrgX(S.x),x.setWorldOrgY(S.y);for(var b=0;b<P.length;b++){var y=P[b];y.transform(x)}var u=new L(v.getMaxX(),v.getMaxY());return x.inverseTransformPoint(u)},k.branchRadialLayout=function(P,T,S,f,v,x){var b=(f-S+1)/2;if(b<0)b+=180;var y=(b+S)%360,u=y*E.TWO_PI/360,h=Math.cos(u),p=v*Math.cos(u),r=v*Math.sin(u);P.setCenter(p,r);var e=[];e=e.concat(P.getEdges());var i=e.length;if(T!=null)i--;var U0=0,a=e.length,z0,J0=P.getEdgesBetween(T);while(J0.length>1){var Q0=J0[0];J0.splice(0,1);var t=e.indexOf(Q0);if(t>=0)e.splice(t,1);a--,i--}if(T!=null)z0=(e.indexOf(J0[0])+1)%a;else z0=0;var n=Math.abs(f-S)/i;for(var Y0=z0;U0!=i;Y0=++Y0%a){var o=e[Y0].getOtherEnd(P);if(o==T)continue;var M0=(S+U0*n)%360,X0=(M0+n)%360;k.branchRadialLayout(o,P,M0,X0,v+x,x),U0++}},k.maxDiagonalInTree=function(P){var T=N.MIN_VALUE;for(var S=0;S<P.length;S++){var f=P[S],v=f.getDiagonal();if(v>T)T=v}return T},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var P=this,T={};this.memberGroups={},this.idToDummyNode={};var S=[],f=this.graphManager.getAllNodes();for(var v=0;v<f.length;v++){var x=f[v],b=x.getParent();if(this.getNodeDegreeWithChildren(x)===0&&(b.id==null||!this.getToBeTiled(b)))S.push(x)}for(var v=0;v<S.length;v++){var x=S[v],y=x.getParent().id;if(typeof T[y]>"u")T[y]=[];T[y]=T[y].concat(x)}Object.keys(T).forEach(function(u){if(T[u].length>1){var h="DummyCompound_"+u;P.memberGroups[h]=T[u];var p=T[u][0].getParent(),r=new H(P.graphManager);r.id=h,r.paddingLeft=p.paddingLeft||0,r.paddingRight=p.paddingRight||0,r.paddingBottom=p.paddingBottom||0,r.paddingTop=p.paddingTop||0,P.idToDummyNode[h]=r;var e=P.getGraphManager().add(P.newGraph(),r),i=p.getChild();i.add(r);for(var U0=0;U0<T[u].length;U0++){var a=T[u][U0];i.remove(a),e.add(a)}}})},k.prototype.clearCompounds=function(){var P={},T={};this.performDFSOnCompounds();for(var S=0;S<this.compoundOrder.length;S++)T[this.compoundOrder[S].id]=this.compoundOrder[S],P[this.compoundOrder[S].id]=[].concat(this.compoundOrder[S].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[S].getChild()),this.compoundOrder[S].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(P,T)},k.prototype.clearZeroDegreeMembers=function(){var P=this,T=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(S){var f=P.idToDummyNode[S];if(T[S]=P.tileNodes(P.memberGroups[S],f.paddingLeft+f.paddingRight),f.rect.width=T[S].width,f.rect.height=T[S].height,f.setCenter(T[S].centerX,T[S].centerY),f.labelMarginLeft=0,f.labelMarginTop=0,M.NODE_DIMENSIONS_INCLUDE_LABELS){var v=f.rect.width,x=f.rect.height;if(f.labelWidth){if(f.labelPosHorizontal=="left")f.rect.x-=f.labelWidth,f.setWidth(v+f.labelWidth),f.labelMarginLeft=f.labelWidth;else if(f.labelPosHorizontal=="center"&&f.labelWidth>v)f.rect.x-=(f.labelWidth-v)/2,f.setWidth(f.labelWidth),f.labelMarginLeft=(f.labelWidth-v)/2;else if(f.labelPosHorizontal=="right")f.setWidth(v+f.labelWidth)}if(f.labelHeight){if(f.labelPosVertical=="top")f.rect.y-=f.labelHeight,f.setHeight(x+f.labelHeight),f.labelMarginTop=f.labelHeight;else if(f.labelPosVertical=="center"&&f.labelHeight>x)f.rect.y-=(f.labelHeight-x)/2,f.setHeight(f.labelHeight),f.labelMarginTop=(f.labelHeight-x)/2;else if(f.labelPosVertical=="bottom")f.setHeight(x+f.labelHeight)}}})},k.prototype.repopulateCompounds=function(){for(var P=this.compoundOrder.length-1;P>=0;P--){var T=this.compoundOrder[P],S=T.id,f=T.paddingLeft,v=T.paddingTop,x=T.labelMarginLeft,b=T.labelMarginTop;this.adjustLocations(this.tiledMemberPack[S],T.rect.x,T.rect.y,f,v,x,b)}},k.prototype.repopulateZeroDegreeMembers=function(){var P=this,T=this.tiledZeroDegreePack;Object.keys(T).forEach(function(S){var f=P.idToDummyNode[S],v=f.paddingLeft,x=f.paddingTop,b=f.labelMarginLeft,y=f.labelMarginTop;P.adjustLocations(T[S],f.rect.x,f.rect.y,v,x,b,y)})},k.prototype.getToBeTiled=function(P){var T=P.id;if(this.toBeTiled[T]!=null)return this.toBeTiled[T];var S=P.getChild();if(S==null)return this.toBeTiled[T]=!1,!1;var f=S.getNodes();for(var v=0;v<f.length;v++){var x=f[v];if(this.getNodeDegree(x)>0)return this.toBeTiled[T]=!1,!1;if(x.getChild()==null){this.toBeTiled[x.id]=!1;continue}if(!this.getToBeTiled(x))return this.toBeTiled[T]=!1,!1}return this.toBeTiled[T]=!0,!0},k.prototype.getNodeDegree=function(P){var T=P.id,S=P.getEdges(),f=0;for(var v=0;v<S.length;v++){var x=S[v];if(x.getSource().id!==x.getTarget().id)f=f+1}return f},k.prototype.getNodeDegreeWithChildren=function(P){var T=this.getNodeDegree(P);if(P.getChild()==null)return T;var S=P.getChild().getNodes();for(var f=0;f<S.length;f++){var v=S[f];T+=this.getNodeDegreeWithChildren(v)}return T},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(P){for(var T=0;T<P.length;T++){var S=P[T];if(S.getChild()!=null)this.fillCompexOrderByDFS(S.getChild().getNodes());if(this.getToBeTiled(S))this.compoundOrder.push(S)}},k.prototype.adjustLocations=function(P,T,S,f,v,x,b){T+=f+x,S+=v+b;var y=T;for(var u=0;u<P.rows.length;u++){var h=P.rows[u];T=y;var p=0;for(var r=0;r<h.length;r++){var e=h[r];if(e.rect.x=T,e.rect.y=S,T+=e.rect.width+P.horizontalPadding,e.rect.height>p)p=e.rect.height}S+=p+P.verticalPadding}},k.prototype.tileCompoundMembers=function(P,T){var S=this;this.tiledMemberPack=[],Object.keys(P).forEach(function(f){var v=T[f];if(S.tiledMemberPack[f]=S.tileNodes(P[f],v.paddingLeft+v.paddingRight),v.rect.width=S.tiledMemberPack[f].width,v.rect.height=S.tiledMemberPack[f].height,v.setCenter(S.tiledMemberPack[f].centerX,S.tiledMemberPack[f].centerY),v.labelMarginLeft=0,v.labelMarginTop=0,M.NODE_DIMENSIONS_INCLUDE_LABELS){var x=v.rect.width,b=v.rect.height;if(v.labelWidth){if(v.labelPosHorizontal=="left")v.rect.x-=v.labelWidth,v.setWidth(x+v.labelWidth),v.labelMarginLeft=v.labelWidth;else if(v.labelPosHorizontal=="center"&&v.labelWidth>x)v.rect.x-=(v.labelWidth-x)/2,v.setWidth(v.labelWidth),v.labelMarginLeft=(v.labelWidth-x)/2;else if(v.labelPosHorizontal=="right")v.setWidth(x+v.labelWidth)}if(v.labelHeight){if(v.labelPosVertical=="top")v.rect.y-=v.labelHeight,v.setHeight(b+v.labelHeight),v.labelMarginTop=v.labelHeight;else if(v.labelPosVertical=="center"&&v.labelHeight>b)v.rect.y-=(v.labelHeight-b)/2,v.setHeight(v.labelHeight),v.labelMarginTop=(v.labelHeight-b)/2;else if(v.labelPosVertical=="bottom")v.setHeight(b+v.labelHeight)}}})},k.prototype.tileNodes=function(P,T){var S=this.tileNodesByFavoringDim(P,T,!0),f=this.tileNodesByFavoringDim(P,T,!1),v=this.getOrgRatio(S),x=this.getOrgRatio(f),b;if(x<v)b=f;else b=S;return b},k.prototype.getOrgRatio=function(P){var{width:T,height:S}=P,f=T/S;if(f<1)f=1/f;return f},k.prototype.calcIdealRowWidth=function(P,T){var{TILING_PADDING_VERTICAL:S,TILING_PADDING_HORIZONTAL:f}=M,v=P.length,x=0,b=0,y=0;P.forEach(function(U0){if(x+=U0.getWidth(),b+=U0.getHeight(),U0.getWidth()>y)y=U0.getWidth()});var u=x/v,h=b/v,p=Math.pow(S-f,2)+4*(u+f)*(h+S)*v,r=(f-S+Math.sqrt(p))/(2*(u+f)),e;if(T){if(e=Math.ceil(r),e==r)e++}else e=Math.floor(r);var i=e*(u+f)-f;if(y>i)i=y;return i+=f*2,i},k.prototype.tileNodesByFavoringDim=function(P,T,S){var{TILING_PADDING_VERTICAL:f,TILING_PADDING_HORIZONTAL:v,TILING_COMPARE_BY:x}=M,b={rows:[],rowWidth:[],rowHeight:[],width:0,height:T,verticalPadding:f,horizontalPadding:v,centerX:0,centerY:0};if(x)b.idealRowWidth=this.calcIdealRowWidth(P,S);var y=function(a){return a.rect.width*a.rect.height},u=function(a,z0){return y(z0)-y(a)};P.sort(function(U0,a){var z0=u;if(b.idealRowWidth)return z0=x,z0(U0.id,a.id);return z0(U0,a)});var h=0,p=0;for(var r=0;r<P.length;r++){var e=P[r];h+=e.getCenterX(),p+=e.getCenterY()}b.centerX=h/P.length,b.centerY=p/P.length;for(var r=0;r<P.length;r++){var e=P[r];if(b.rows.length==0)this.insertNodeToRow(b,e,0,T);else if(this.canAddHorizontal(b,e.rect.width,e.rect.height)){var i=b.rows.length-1;if(!b.idealRowWidth)i=this.getShortestRowIndex(b);this.insertNodeToRow(b,e,i,T)}else this.insertNodeToRow(b,e,b.rows.length,T);this.shiftToLastRow(b)}return b},k.prototype.insertNodeToRow=function(P,T,S,f){var v=f;if(S==P.rows.length){var x=[];P.rows.push(x),P.rowWidth.push(v),P.rowHeight.push(0)}var b=P.rowWidth[S]+T.rect.width;if(P.rows[S].length>0)b+=P.horizontalPadding;if(P.rowWidth[S]=b,P.width<b)P.width=b;var y=T.rect.height;if(S>0)y+=P.verticalPadding;var u=0;if(y>P.rowHeight[S])u=P.rowHeight[S],P.rowHeight[S]=y,u=P.rowHeight[S]-u;P.height+=u,P.rows[S].push(T)},k.prototype.getShortestRowIndex=function(P){var T=-1,S=Number.MAX_VALUE;for(var f=0;f<P.rows.length;f++)if(P.rowWidth[f]<S)T=f,S=P.rowWidth[f];return T},k.prototype.getLongestRowIndex=function(P){var T=-1,S=Number.MIN_VALUE;for(var f=0;f<P.rows.length;f++)if(P.rowWidth[f]>S)T=f,S=P.rowWidth[f];return T},k.prototype.canAddHorizontal=function(P,T,S){if(P.idealRowWidth){var f=P.rows.length-1,v=P.rowWidth[f];return v+T+P.horizontalPadding<=P.idealRowWidth}var x=this.getShortestRowIndex(P);if(x<0)return!0;var b=P.rowWidth[x];if(b+P.horizontalPadding+T<=P.width)return!0;var y=0;if(P.rowHeight[x]<S){if(x>0)y=S+P.verticalPadding-P.rowHeight[x]}var u;if(P.width-b>=T+P.horizontalPadding)u=(P.height+y)/(b+T+P.horizontalPadding);else u=(P.height+y)/P.width;y=S+P.verticalPadding;var h;if(P.width<T)h=(P.height+y)/T;else h=(P.height+y)/P.width;if(h<1)h=1/h;if(u<1)u=1/u;return u<h},k.prototype.shiftToLastRow=function(P){var T=this.getLongestRowIndex(P),S=P.rowWidth.length-1,f=P.rows[T],v=f[f.length-1],x=v.width+P.horizontalPadding;if(P.width-P.rowWidth[S]>x&&T!=S){f.splice(-1,1),P.rows[S].push(v),P.rowWidth[T]=P.rowWidth[T]-x,P.rowWidth[S]=P.rowWidth[S]+x,P.width=P.rowWidth[instance.getLongestRowIndex(P)];var b=Number.MIN_VALUE;for(var y=0;y<f.length;y++)if(f[y].height>b)b=f[y].height;if(T>0)b+=P.verticalPadding;var u=P.rowHeight[T]+P.rowHeight[S];if(P.rowHeight[T]=b,P.rowHeight[S]<v.height+P.verticalPadding)P.rowHeight[S]=v.height+P.verticalPadding;var h=P.rowHeight[T]+P.rowHeight[S];P.height+=h-u,this.shiftToLastRow(P)}},k.prototype.tilingPreLayout=function(){if(M.TILE)this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers()},k.prototype.tilingPostLayout=function(){if(M.TILE)this.repopulateZeroDegreeMembers(),this.repopulateCompounds()},k.prototype.reduceTrees=function(){var P=[],T=!0,S;while(T){var f=this.graphManager.getAllNodes(),v=[];T=!1;for(var x=0;x<f.length;x++)if(S=f[x],S.getEdges().length==1&&!S.getEdges()[0].isInterGraph&&S.getChild()==null){if(M.PURE_INCREMENTAL){var b=S.getEdges()[0].getOtherEnd(S),y=new A(S.getCenterX()-b.getCenterX(),S.getCenterY()-b.getCenterY());v.push([S,S.getEdges()[0],S.getOwner(),y])}else v.push([S,S.getEdges()[0],S.getOwner()]);T=!0}if(T==!0){var u=[];for(var h=0;h<v.length;h++)if(v[h][0].getEdges().length==1)u.push(v[h]),v[h][0].getOwner().remove(v[h][0]);P.push(u),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=P},k.prototype.growTree=function(P){var T=P.length,S=P[T-1],f;for(var v=0;v<S.length;v++)f=S[v],this.findPlaceforPrunedNode(f),f[2].add(f[0]),f[2].add(f[1],f[1].source,f[1].target);P.splice(P.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(P){var T,S,f=P[0];if(f==P[1].source)S=P[1].target;else S=P[1].source;if(M.PURE_INCREMENTAL)f.setCenter(S.getCenterX()+P[3].getWidth(),S.getCenterY()+P[3].getHeight());else{var{startX:v,finishX:x,startY:b,finishY:y}=S,u=0,h=0,p=0,r=0,e=[u,p,h,r];if(b>0)for(var i=v;i<=x;i++)e[0]+=this.grid[i][b-1].length+this.grid[i][b].length-1;if(x<this.grid.length-1)for(var i=b;i<=y;i++)e[1]+=this.grid[x+1][i].length+this.grid[x][i].length-1;if(y<this.grid[0].length-1)for(var i=v;i<=x;i++)e[2]+=this.grid[i][y+1].length+this.grid[i][y].length-1;if(v>0)for(var i=b;i<=y;i++)e[3]+=this.grid[v-1][i].length+this.grid[v][i].length-1;var U0=N.MAX_VALUE,a,z0;for(var J0=0;J0<e.length;J0++)if(e[J0]<U0)U0=e[J0],a=1,z0=J0;else if(e[J0]==U0)a++;if(a==3&&U0==0){if(e[0]==0&&e[1]==0&&e[2]==0)T=1;else if(e[0]==0&&e[1]==0&&e[3]==0)T=0;else if(e[0]==0&&e[2]==0&&e[3]==0)T=3;else if(e[1]==0&&e[2]==0&&e[3]==0)T=2}else if(a==2&&U0==0){var Q0=Math.floor(Math.random()*2);if(e[0]==0&&e[1]==0)if(Q0==0)T=0;else T=1;else if(e[0]==0&&e[2]==0)if(Q0==0)T=0;else T=2;else if(e[0]==0&&e[3]==0)if(Q0==0)T=0;else T=3;else if(e[1]==0&&e[2]==0)if(Q0==0)T=1;else T=2;else if(e[1]==0&&e[3]==0)if(Q0==0)T=1;else T=3;else if(Q0==0)T=2;else T=3}else if(a==4&&U0==0){var Q0=Math.floor(Math.random()*4);T=Q0}else T=z0;if(T==0)f.setCenter(S.getCenterX(),S.getCenterY()-S.getHeight()/2-O.DEFAULT_EDGE_LENGTH-f.getHeight()/2);else if(T==1)f.setCenter(S.getCenterX()+S.getWidth()/2+O.DEFAULT_EDGE_LENGTH+f.getWidth()/2,S.getCenterY());else if(T==2)f.setCenter(S.getCenterX(),S.getCenterY()+S.getHeight()/2+O.DEFAULT_EDGE_LENGTH+f.getHeight()/2);else f.setCenter(S.getCenterX()-S.getWidth()/2-O.DEFAULT_EDGE_LENGTH-f.getWidth()/2,S.getCenterY())}},U.exports=k},991:(U,Y,q)=>{var W=q(551).FDLayoutNode,G=q(551).IMath;function z(F,M,B,O){W.call(this,F,M,B,O)}z.prototype=Object.create(W.prototype);for(var H in W)z[H]=W[H];z.prototype.calculateDisplacement=function(){var F=this.graphManager.getLayout();if(this.getChild()!=null&&this.fixedNodeWeight)this.displacementX+=F.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=F.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight;else this.displacementX+=F.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=F.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren;if(Math.abs(this.displacementX)>F.coolingFactor*F.maxNodeDisplacement)this.displacementX=F.coolingFactor*F.maxNodeDisplacement*G.sign(this.displacementX);if(Math.abs(this.displacementY)>F.coolingFactor*F.maxNodeDisplacement)this.displacementY=F.coolingFactor*F.maxNodeDisplacement*G.sign(this.displacementY);if(this.child&&this.child.getNodes().length>0)this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},z.prototype.propogateDisplacementToChildren=function(F,M){var B=this.getChild().getNodes(),O;for(var R=0;R<B.length;R++)if(O=B[R],O.getChild()==null)O.displacementX+=F,O.displacementY+=M;else O.propogateDisplacementToChildren(F,M)},z.prototype.move=function(){var F=this.graphManager.getLayout();if(this.child==null||this.child.getNodes().length==0)this.moveBy(this.displacementX,this.displacementY),F.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},z.prototype.setPred1=function(F){this.pred1=F},z.prototype.getPred1=function(){return pred1},z.prototype.getPred2=function(){return pred2},z.prototype.setNext=function(F){this.next=F},z.prototype.getNext=function(){return next},z.prototype.setProcessed=function(F){this.processed=F},z.prototype.isProcessed=function(){return processed},U.exports=z},902:(U,Y,q)=>{function W(B){if(Array.isArray(B)){for(var O=0,R=Array(B.length);O<B.length;O++)R[O]=B[O];return R}else return Array.from(B)}var G=q(806),z=q(551).LinkedList,H=q(551).Matrix,F=q(551).SVD;function M(){}M.handleConstraints=function(B){var O={};O.fixedNodeConstraint=B.constraints.fixedNodeConstraint,O.alignmentConstraint=B.constraints.alignmentConstraint,O.relativePlacementConstraint=B.constraints.relativePlacementConstraint;var R=new Map,D=new Map,L=[],A=[],V=B.getAllNodes(),N=0;for(var E=0;E<V.length;E++){var j=V[E];if(j.getChild()==null)D.set(j.id,N++),L.push(j.getCenterX()),A.push(j.getCenterY()),R.set(j.id,j)}if(O.relativePlacementConstraint)O.relativePlacementConstraint.forEach(function(I0){if(!I0.gap&&I0.gap!=0)if(I0.left)I0.gap=G.DEFAULT_EDGE_LENGTH+R.get(I0.left).getWidth()/2+R.get(I0.right).getWidth()/2;else I0.gap=G.DEFAULT_EDGE_LENGTH+R.get(I0.top).getHeight()/2+R.get(I0.bottom).getHeight()/2});var C=function(s,H0){return{x:s.x-H0.x,y:s.y-H0.y}},$=function(s){var H0=0,m=0;return s.forEach(function(q0){H0+=L[D.get(q0)],m+=A[D.get(q0)]}),{x:H0/s.size,y:m/s.size}},k=function(s,H0,m,q0,W0){function V0(r0,u0){var o0=new Set(r0),d0=!0,U8=!1,u8=void 0;try{for(var O8=u0[Symbol.iterator](),S8;!(d0=(S8=O8.next()).done);d0=!0){var W8=S8.value;o0.add(W8)}}catch(q8){U8=!0,u8=q8}finally{try{if(!d0&&O8.return)O8.return()}finally{if(U8)throw u8}}return o0}var L0=new Map;s.forEach(function(r0,u0){L0.set(u0,0)}),s.forEach(function(r0,u0){r0.forEach(function(o0){L0.set(o0.id,L0.get(o0.id)+1)})});var D0=new Map,_0=new Map,T0=new z;if(L0.forEach(function(r0,u0){if(r0==0){if(T0.push(u0),!m)if(H0=="horizontal")D0.set(u0,D.has(u0)?L[D.get(u0)]:q0.get(u0));else D0.set(u0,D.has(u0)?A[D.get(u0)]:q0.get(u0))}else D0.set(u0,Number.NEGATIVE_INFINITY);if(m)_0.set(u0,new Set([u0]))}),m)W0.forEach(function(r0){var u0=[];if(r0.forEach(function(U8){if(m.has(U8))u0.push(U8)}),u0.length>0){var o0=0;u0.forEach(function(U8){if(H0=="horizontal")D0.set(U8,D.has(U8)?L[D.get(U8)]:q0.get(U8)),o0+=D0.get(U8);else D0.set(U8,D.has(U8)?A[D.get(U8)]:q0.get(U8)),o0+=D0.get(U8)}),o0=o0/u0.length,r0.forEach(function(U8){if(!m.has(U8))D0.set(U8,o0)})}else{var d0=0;r0.forEach(function(U8){if(H0=="horizontal")d0+=D.has(U8)?L[D.get(U8)]:q0.get(U8);else d0+=D.has(U8)?A[D.get(U8)]:q0.get(U8)}),d0=d0/r0.length,r0.forEach(function(U8){D0.set(U8,d0)})}});var m0=function(){var u0=T0.shift(),o0=s.get(u0);o0.forEach(function(d0){if(D0.get(d0.id)<D0.get(u0)+d0.gap)if(m&&m.has(d0.id)){var U8=void 0;if(H0=="horizontal")U8=D.has(d0.id)?L[D.get(d0.id)]:q0.get(d0.id);else U8=D.has(d0.id)?A[D.get(d0.id)]:q0.get(d0.id);if(D0.set(d0.id,U8),U8<D0.get(u0)+d0.gap){var u8=D0.get(u0)+d0.gap-U8;_0.get(u0).forEach(function(O8){D0.set(O8,D0.get(O8)-u8)})}}else D0.set(d0.id,D0.get(u0)+d0.gap);if(L0.set(d0.id,L0.get(d0.id)-1),L0.get(d0.id)==0)T0.push(d0.id);if(m)_0.set(d0.id,V0(_0.get(u0),_0.get(d0.id)))})};while(T0.length!=0)m0();if(m){var t0=new Set;s.forEach(function(r0,u0){if(r0.length==0)t0.add(u0)});var H8=[];_0.forEach(function(r0,u0){if(t0.has(u0)){var o0=!1,d0=!0,U8=!1,u8=void 0;try{for(var O8=r0[Symbol.iterator](),S8;!(d0=(S8=O8.next()).done);d0=!0){var W8=S8.value;if(m.has(W8))o0=!0}}catch(R8){U8=!0,u8=R8}finally{try{if(!d0&&O8.return)O8.return()}finally{if(U8)throw u8}}if(!o0){var q8=!1,F8=void 0;if(H8.forEach(function(R8,D8){if(R8.has([].concat(W(r0))[0]))q8=!0,F8=D8}),!q8)H8.push(new Set(r0));else r0.forEach(function(R8){H8[F8].add(R8)})}}}),H8.forEach(function(r0,u0){var{POSITIVE_INFINITY:o0,POSITIVE_INFINITY:d0,NEGATIVE_INFINITY:U8,NEGATIVE_INFINITY:u8}=Number,O8=!0,S8=!1,W8=void 0;try{for(var q8=r0[Symbol.iterator](),F8;!(O8=(F8=q8.next()).done);O8=!0){var R8=F8.value,D8=void 0;if(H0=="horizontal")D8=D.has(R8)?L[D.get(R8)]:q0.get(R8);else D8=D.has(R8)?A[D.get(R8)]:q0.get(R8);var G8=D0.get(R8);if(D8<o0)o0=D8;if(D8>U8)U8=D8;if(G8<d0)d0=G8;if(G8>u8)u8=G8}}catch(kZ){S8=!0,W8=kZ}finally{try{if(!O8&&q8.return)q8.return()}finally{if(S8)throw W8}}var a9=(o0+U8)/2-(d0+u8)/2,f8=!0,o9=!1,p9=void 0;try{for(var F9=r0[Symbol.iterator](),G9;!(f8=(G9=F9.next()).done);f8=!0){var C9=G9.value;D0.set(C9,D0.get(C9)+a9)}}catch(kZ){o9=!0,p9=kZ}finally{try{if(!f8&&F9.return)F9.return()}finally{if(o9)throw p9}}})}return D0},w=function(s){var H0=0,m=0,q0=0,W0=0;if(s.forEach(function(_0){if(_0.left)L[D.get(_0.left)]-L[D.get(_0.right)]>=0?H0++:m++;else A[D.get(_0.top)]-A[D.get(_0.bottom)]>=0?q0++:W0++}),H0>m&&q0>W0)for(var V0=0;V0<D.size;V0++)L[V0]=-1*L[V0],A[V0]=-1*A[V0];else if(H0>m)for(var L0=0;L0<D.size;L0++)L[L0]=-1*L[L0];else if(q0>W0)for(var D0=0;D0<D.size;D0++)A[D0]=-1*A[D0]},P=function(s){var H0=[],m=new z,q0=new Set,W0=0;return s.forEach(function(V0,L0){if(!q0.has(L0)){H0[W0]=[];var D0=L0;m.push(D0),q0.add(D0),H0[W0].push(D0);while(m.length!=0){D0=m.shift();var _0=s.get(D0);_0.forEach(function(T0){if(!q0.has(T0.id))m.push(T0.id),q0.add(T0.id),H0[W0].push(T0.id)})}W0++}}),H0},T=function(s){var H0=new Map;return s.forEach(function(m,q0){H0.set(q0,[])}),s.forEach(function(m,q0){m.forEach(function(W0){H0.get(q0).push(W0),H0.get(W0.id).push({id:q0,gap:W0.gap,direction:W0.direction})})}),H0},S=function(s){var H0=new Map;return s.forEach(function(m,q0){H0.set(q0,[])}),s.forEach(function(m,q0){m.forEach(function(W0){H0.get(W0.id).push({id:q0,gap:W0.gap,direction:W0.direction})})}),H0},f=[],v=[],x=!1,b=!1,y=new Set,u=new Map,h=new Map,p=[];if(O.fixedNodeConstraint)O.fixedNodeConstraint.forEach(function(I0){y.add(I0.nodeId)});if(O.relativePlacementConstraint)O.relativePlacementConstraint.forEach(function(I0){if(I0.left){if(u.has(I0.left))u.get(I0.left).push({id:I0.right,gap:I0.gap,direction:"horizontal"});else u.set(I0.left,[{id:I0.right,gap:I0.gap,direction:"horizontal"}]);if(!u.has(I0.right))u.set(I0.right,[])}else{if(u.has(I0.top))u.get(I0.top).push({id:I0.bottom,gap:I0.gap,direction:"vertical"});else u.set(I0.top,[{id:I0.bottom,gap:I0.gap,direction:"vertical"}]);if(!u.has(I0.bottom))u.set(I0.bottom,[])}}),h=T(u),p=P(h);if(G.TRANSFORM_ON_CONSTRAINT_HANDLING){if(O.fixedNodeConstraint&&O.fixedNodeConstraint.length>1)O.fixedNodeConstraint.forEach(function(I0,s){f[s]=[I0.position.x,I0.position.y],v[s]=[L[D.get(I0.nodeId)],A[D.get(I0.nodeId)]]}),x=!0;else if(O.alignmentConstraint)(function(){var I0=0;if(O.alignmentConstraint.vertical){var s=O.alignmentConstraint.vertical,H0=function(D0){var _0=new Set;s[D0].forEach(function(t0){_0.add(t0)});var T0=new Set([].concat(W(_0)).filter(function(t0){return y.has(t0)})),m0=void 0;if(T0.size>0)m0=L[D.get(T0.values().next().value)];else m0=$(_0).x;s[D0].forEach(function(t0){f[I0]=[m0,A[D.get(t0)]],v[I0]=[L[D.get(t0)],A[D.get(t0)]],I0++})};for(var m=0;m<s.length;m++)H0(m);x=!0}if(O.alignmentConstraint.horizontal){var q0=O.alignmentConstraint.horizontal,W0=function(D0){var _0=new Set;q0[D0].forEach(function(t0){_0.add(t0)});var T0=new Set([].concat(W(_0)).filter(function(t0){return y.has(t0)})),m0=void 0;if(T0.size>0)m0=L[D.get(T0.values().next().value)];else m0=$(_0).y;q0[D0].forEach(function(t0){f[I0]=[L[D.get(t0)],m0],v[I0]=[L[D.get(t0)],A[D.get(t0)]],I0++})};for(var V0=0;V0<q0.length;V0++)W0(V0);x=!0}if(O.relativePlacementConstraint)b=!0})();else if(O.relativePlacementConstraint){var r=0,e=0;for(var i=0;i<p.length;i++)if(p[i].length>r)r=p[i].length,e=i;if(r<h.size/2)w(O.relativePlacementConstraint),x=!1,b=!1;else{var U0=new Map,a=new Map,z0=[];p[e].forEach(function(I0){u.get(I0).forEach(function(s){if(s.direction=="horizontal"){if(U0.has(I0))U0.get(I0).push(s);else U0.set(I0,[s]);if(!U0.has(s.id))U0.set(s.id,[]);z0.push({left:I0,right:s.id})}else{if(a.has(I0))a.get(I0).push(s);else a.set(I0,[s]);if(!a.has(s.id))a.set(s.id,[]);z0.push({top:I0,bottom:s.id})}})}),w(z0),b=!1;var J0=k(U0,"horizontal"),Q0=k(a,"vertical");p[e].forEach(function(I0,s){if(v[s]=[L[D.get(I0)],A[D.get(I0)]],f[s]=[],J0.has(I0))f[s][0]=J0.get(I0);else f[s][0]=L[D.get(I0)];if(Q0.has(I0))f[s][1]=Q0.get(I0);else f[s][1]=A[D.get(I0)]}),x=!0}}if(x){var t=void 0,n=H.transpose(f),Y0=H.transpose(v);for(var o=0;o<n.length;o++)n[o]=H.multGamma(n[o]),Y0[o]=H.multGamma(Y0[o]);var M0=H.multMat(n,H.transpose(Y0)),X0=F.svd(M0);t=H.multMat(X0.V,H.transpose(X0.U));for(var E0=0;E0<D.size;E0++){var d=[L[E0],A[E0]],c0=[t[0][0],t[1][0]],B0=[t[0][1],t[1][1]];L[E0]=H.dotProduct(d,c0),A[E0]=H.dotProduct(d,B0)}if(b)w(O.relativePlacementConstraint)}}if(G.ENFORCE_CONSTRAINTS){if(O.fixedNodeConstraint&&O.fixedNodeConstraint.length>0){var y0={x:0,y:0};O.fixedNodeConstraint.forEach(function(I0,s){var H0={x:L[D.get(I0.nodeId)],y:A[D.get(I0.nodeId)]},m=I0.position,q0=C(m,H0);y0.x+=q0.x,y0.y+=q0.y}),y0.x/=O.fixedNodeConstraint.length,y0.y/=O.fixedNodeConstraint.length,L.forEach(function(I0,s){L[s]+=y0.x}),A.forEach(function(I0,s){A[s]+=y0.y}),O.fixedNodeConstraint.forEach(function(I0){L[D.get(I0.nodeId)]=I0.position.x,A[D.get(I0.nodeId)]=I0.position.y})}if(O.alignmentConstraint){if(O.alignmentConstraint.vertical){var n0=O.alignmentConstraint.vertical,s0=function(s){var H0=new Set;n0[s].forEach(function(W0){H0.add(W0)});var m=new Set([].concat(W(H0)).filter(function(W0){return y.has(W0)})),q0=void 0;if(m.size>0)q0=L[D.get(m.values().next().value)];else q0=$(H0).x;H0.forEach(function(W0){if(!y.has(W0))L[D.get(W0)]=q0})};for(var k0=0;k0<n0.length;k0++)s0(k0)}if(O.alignmentConstraint.horizontal){var x0=O.alignmentConstraint.horizontal,f0=function(s){var H0=new Set;x0[s].forEach(function(W0){H0.add(W0)});var m=new Set([].concat(W(H0)).filter(function(W0){return y.has(W0)})),q0=void 0;if(m.size>0)q0=A[D.get(m.values().next().value)];else q0=$(H0).y;H0.forEach(function(W0){if(!y.has(W0))A[D.get(W0)]=q0})};for(var C0=0;C0<x0.length;C0++)f0(C0)}}if(O.relativePlacementConstraint)(function(){var I0=new Map,s=new Map,H0=new Map,m=new Map,q0=new Map,W0=new Map,V0=new Set,L0=new Set;if(y.forEach(function(t9){V0.add(t9),L0.add(t9)}),O.alignmentConstraint){if(O.alignmentConstraint.vertical){var D0=O.alignmentConstraint.vertical,_0=function(Z8){H0.set("dummy"+Z8,[]),D0[Z8].forEach(function(A8){if(I0.set(A8,"dummy"+Z8),H0.get("dummy"+Z8).push(A8),y.has(A8))V0.add("dummy"+Z8)}),q0.set("dummy"+Z8,L[D.get(D0[Z8][0])])};for(var T0=0;T0<D0.length;T0++)_0(T0)}if(O.alignmentConstraint.horizontal){var m0=O.alignmentConstraint.horizontal,t0=function(Z8){m.set("dummy"+Z8,[]),m0[Z8].forEach(function(A8){if(s.set(A8,"dummy"+Z8),m.get("dummy"+Z8).push(A8),y.has(A8))L0.add("dummy"+Z8)}),W0.set("dummy"+Z8,A[D.get(m0[Z8][0])])};for(var H8=0;H8<m0.length;H8++)t0(H8)}}var r0=new Map,u0=new Map,o0=function(Z8){u.get(Z8).forEach(function(A8){var s8=void 0,Y8=void 0;if(A8.direction=="horizontal"){if(s8=I0.get(Z8)?I0.get(Z8):Z8,I0.get(A8.id))Y8={id:I0.get(A8.id),gap:A8.gap,direction:A8.direction};else Y8=A8;if(r0.has(s8))r0.get(s8).push(Y8);else r0.set(s8,[Y8]);if(!r0.has(Y8.id))r0.set(Y8.id,[])}else{if(s8=s.get(Z8)?s.get(Z8):Z8,s.get(A8.id))Y8={id:s.get(A8.id),gap:A8.gap,direction:A8.direction};else Y8=A8;if(u0.has(s8))u0.get(s8).push(Y8);else u0.set(s8,[Y8]);if(!u0.has(Y8.id))u0.set(Y8.id,[])}})},d0=!0,U8=!1,u8=void 0;try{for(var O8=u.keys()[Symbol.iterator](),S8;!(d0=(S8=O8.next()).done);d0=!0){var W8=S8.value;o0(W8)}}catch(t9){U8=!0,u8=t9}finally{try{if(!d0&&O8.return)O8.return()}finally{if(U8)throw u8}}var q8=T(r0),F8=T(u0),R8=P(q8),D8=P(F8),G8=S(r0),a9=S(u0),f8=[],o9=[];R8.forEach(function(t9,Z8){f8[Z8]=[],t9.forEach(function(A8){if(G8.get(A8).length==0)f8[Z8].push(A8)})}),D8.forEach(function(t9,Z8){o9[Z8]=[],t9.forEach(function(A8){if(a9.get(A8).length==0)o9[Z8].push(A8)})});var p9=k(r0,"horizontal",V0,q0,f8),F9=k(u0,"vertical",L0,W0,o9),G9=function(Z8){if(H0.get(Z8))H0.get(Z8).forEach(function(A8){L[D.get(A8)]=p9.get(Z8)});else L[D.get(Z8)]=p9.get(Z8)},C9=!0,kZ=!1,M8=void 0;try{for(var S0=p9.keys()[Symbol.iterator](),Q8;!(C9=(Q8=S0.next()).done);C9=!0){var T8=Q8.value;G9(T8)}}catch(t9){kZ=!0,M8=t9}finally{try{if(!C9&&S0.return)S0.return()}finally{if(kZ)throw M8}}var i9=function(Z8){if(m.get(Z8))m.get(Z8).forEach(function(A8){A[D.get(A8)]=F9.get(Z8)});else A[D.get(Z8)]=F9.get(Z8)},eZ=!0,c9=!1,VJ=void 0;try{for(var l7=F9.keys()[Symbol.iterator](),Z7;!(eZ=(Z7=l7.next()).done);eZ=!0){var T8=Z7.value;i9(T8)}}catch(t9){c9=!0,VJ=t9}finally{try{if(!eZ&&l7.return)l7.return()}finally{if(c9)throw VJ}}})()}for(var h0=0;h0<V.length;h0++){var F0=V[h0];if(F0.getChild()==null)F0.setCenter(L[D.get(F0.id)],A[D.get(F0.id)])}},U.exports=M},551:(U)=>{U.exports=Z}},Q={};function K(U){var Y=Q[U];if(Y!==void 0)return Y.exports;var q=Q[U]={exports:{}};return J[U](q,q.exports,K),q.exports}var X=K(45);return X})()})});var ug0=HJ((oA,de)=>{(function(J,Q){if(typeof oA==="object"&&typeof de==="object")de.exports=Q(le());else if(typeof define==="function"&&define.amd)define(["cose-base"],Q);else if(typeof oA==="object")oA.cytoscapeFcose=Q(le());else J.cytoscapeFcose=Q(J.coseBase)})(oA,function(Z){return(()=>{var J={658:(U)=>{U.exports=Object.assign!=null?Object.assign.bind(Object):function(Y){for(var q=arguments.length,W=Array(q>1?q-1:0),G=1;G<q;G++)W[G-1]=arguments[G];return W.forEach(function(z){Object.keys(z).forEach(function(H){return Y[H]=z[H]})}),Y}},548:(U,Y,q)=>{var W=function(){function H(F,M){var B=[],O=!0,R=!1,D=void 0;try{for(var L=F[Symbol.iterator](),A;!(O=(A=L.next()).done);O=!0)if(B.push(A.value),M&&B.length===M)break}catch(V){R=!0,D=V}finally{try{if(!O&&L.return)L.return()}finally{if(R)throw D}}return B}return function(F,M){if(Array.isArray(F))return F;else if(Symbol.iterator in Object(F))return H(F,M);else throw TypeError("Invalid attempt to destructure non-iterable instance")}}(),G=q(140).layoutBase.LinkedList,z={};z.getTopMostNodes=function(H){var F={};for(var M=0;M<H.length;M++)F[H[M].id()]=!0;var B=H.filter(function(O,R){if(typeof O==="number")O=R;var D=O.parent()[0];while(D!=null){if(F[D.id()])return!1;D=D.parent()[0]}return!0});return B},z.connectComponents=function(H,F,M,B){var O=new G,R=new Set,D=[],L=void 0,A=void 0,V=void 0,N=!1,E=1,j=[],C=[],$=function(){var w=H.collection();C.push(w);var P=M[0],T=H.collection();T.merge(P).merge(P.descendants().intersection(F)),D.push(P),T.forEach(function(v){O.push(v),R.add(v),w.merge(v)});var S=function(){P=O.shift();var x=H.collection();P.neighborhood().nodes().forEach(function(h){if(F.intersection(P.edgesWith(h)).length>0)x.merge(h)});for(var b=0;b<x.length;b++){var y=x[b];if(L=M.intersection(y.union(y.ancestors())),L!=null&&!R.has(L[0])){var u=L.union(L.descendants());u.forEach(function(h){if(O.push(h),R.add(h),w.merge(h),M.has(h))D.push(h)})}}};while(O.length!=0)S();if(w.forEach(function(v){F.intersection(v.connectedEdges()).forEach(function(x){if(w.has(x.source())&&w.has(x.target()))w.merge(x)})}),D.length==M.length)N=!0;if(!N||N&&E>1){A=D[0],V=A.connectedEdges().length,D.forEach(function(v){if(v.connectedEdges().length<V)V=v.connectedEdges().length,A=v}),j.push(A.id());var f=H.collection();f.merge(D[0]),D.forEach(function(v){f.merge(v)}),D=[],M=M.difference(f),E++}};do $();while(!N);if(B){if(j.length>0)B.set("dummy"+(B.size+1),j)}return C},z.relocateComponent=function(H,F,M){if(!M.fixedNodeConstraint){var{POSITIVE_INFINITY:B,NEGATIVE_INFINITY:O,POSITIVE_INFINITY:R,NEGATIVE_INFINITY:D}=Number;if(M.quality=="draft"){var L=!0,A=!1,V=void 0;try{for(var N=F.nodeIndexes[Symbol.iterator](),E;!(L=(E=N.next()).done);L=!0){var j=E.value,C=W(j,2),$=C[0],k=C[1],w=M.cy.getElementById($);if(w){var P=w.boundingBox(),T=F.xCoords[k]-P.w/2,S=F.xCoords[k]+P.w/2,f=F.yCoords[k]-P.h/2,v=F.yCoords[k]+P.h/2;if(T<B)B=T;if(S>O)O=S;if(f<R)R=f;if(v>D)D=v}}}catch(h){A=!0,V=h}finally{try{if(!L&&N.return)N.return()}finally{if(A)throw V}}var x=H.x-(O+B)/2,b=H.y-(D+R)/2;F.xCoords=F.xCoords.map(function(h){return h+x}),F.yCoords=F.yCoords.map(function(h){return h+b})}else{Object.keys(F).forEach(function(h){var p=F[h],r=p.getRect().x,e=p.getRect().x+p.getRect().width,i=p.getRect().y,U0=p.getRect().y+p.getRect().height;if(r<B)B=r;if(e>O)O=e;if(i<R)R=i;if(U0>D)D=U0});var y=H.x-(O+B)/2,u=H.y-(D+R)/2;Object.keys(F).forEach(function(h){var p=F[h];p.setCenter(p.getCenterX()+y,p.getCenterY()+u)})}}},z.calcBoundingBox=function(H,F,M,B){var{MAX_SAFE_INTEGER:O,MIN_SAFE_INTEGER:R,MAX_SAFE_INTEGER:D,MIN_SAFE_INTEGER:L}=Number,A=void 0,V=void 0,N=void 0,E=void 0,j=H.descendants().not(":parent"),C=j.length;for(var $=0;$<C;$++){var k=j[$];if(A=F[B.get(k.id())]-k.width()/2,V=F[B.get(k.id())]+k.width()/2,N=M[B.get(k.id())]-k.height()/2,E=M[B.get(k.id())]+k.height()/2,O>A)O=A;if(R<V)R=V;if(D>N)D=N;if(L<E)L=E}var w={};return w.topLeftX=O,w.topLeftY=D,w.width=R-O,w.height=L-D,w},z.calcParentsWithoutChildren=function(H,F){var M=H.collection();return F.nodes(":parent").forEach(function(B){var O=!1;if(B.children().forEach(function(R){if(R.css("display")!="none")O=!0}),!O)M.merge(B)}),M},U.exports=z},816:(U,Y,q)=>{var W=q(548),G=q(140).CoSELayout,z=q(140).CoSENode,H=q(140).layoutBase.PointD,F=q(140).layoutBase.DimensionD,M=q(140).layoutBase.LayoutConstants,B=q(140).layoutBase.FDLayoutConstants,O=q(140).CoSEConstants,R=function(L,A){var{cy:V,eles:N}=L,E=N.nodes(),j=N.edges(),C=void 0,$=void 0,k=void 0,w={};if(L.randomize)C=A.nodeIndexes,$=A.xCoords,k=A.yCoords;var P=function(h){return typeof h==="function"},T=function(h,p){if(P(h))return h(p);else return h},S=W.calcParentsWithoutChildren(V,N),f=function u(h,p,r,e){var i=p.length;for(var U0=0;U0<i;U0++){var a=p[U0],z0=null;if(a.intersection(S).length==0)z0=a.children();var J0=void 0,Q0=a.layoutDimensions({nodeDimensionsIncludeLabels:e.nodeDimensionsIncludeLabels});if(a.outerWidth()!=null&&a.outerHeight()!=null)if(e.randomize)if(!a.isParent())J0=h.add(new z(r.graphManager,new H($[C.get(a.id())]-Q0.w/2,k[C.get(a.id())]-Q0.h/2),new F(parseFloat(Q0.w),parseFloat(Q0.h))));else{var t=W.calcBoundingBox(a,$,k,C);if(a.intersection(S).length==0)J0=h.add(new z(r.graphManager,new H(t.topLeftX,t.topLeftY),new F(t.width,t.height)));else J0=h.add(new z(r.graphManager,new H(t.topLeftX,t.topLeftY),new F(parseFloat(Q0.w),parseFloat(Q0.h))))}else J0=h.add(new z(r.graphManager,new H(a.position("x")-Q0.w/2,a.position("y")-Q0.h/2),new F(parseFloat(Q0.w),parseFloat(Q0.h))));else J0=h.add(new z(this.graphManager));if(J0.id=a.data("id"),J0.nodeRepulsion=T(e.nodeRepulsion,a),J0.paddingLeft=parseInt(a.css("padding")),J0.paddingTop=parseInt(a.css("padding")),J0.paddingRight=parseInt(a.css("padding")),J0.paddingBottom=parseInt(a.css("padding")),e.nodeDimensionsIncludeLabels)J0.labelWidth=a.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,J0.labelHeight=a.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,J0.labelPosVertical=a.css("text-valign"),J0.labelPosHorizontal=a.css("text-halign");if(w[a.data("id")]=J0,isNaN(J0.rect.x))J0.rect.x=0;if(isNaN(J0.rect.y))J0.rect.y=0;if(z0!=null&&z0.length>0){var n=void 0;n=r.getGraphManager().add(r.newGraph(),J0),u(n,z0,r,e)}}},v=function(h,p,r){var e=0,i=0;for(var U0=0;U0<r.length;U0++){var a=r[U0],z0=w[a.data("source")],J0=w[a.data("target")];if(z0&&J0&&z0!==J0&&z0.getEdgesBetween(J0).length==0){var Q0=p.add(h.newEdge(),z0,J0);Q0.id=a.id(),Q0.idealLength=T(L.idealEdgeLength,a),Q0.edgeElasticity=T(L.edgeElasticity,a),e+=Q0.idealLength,i++}}if(L.idealEdgeLength!=null){if(i>0)O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=e/i;else if(!P(L.idealEdgeLength))O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=L.idealEdgeLength;else O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=50;O.MIN_REPULSION_DIST=B.MIN_REPULSION_DIST=B.DEFAULT_EDGE_LENGTH/10,O.DEFAULT_RADIAL_SEPARATION=B.DEFAULT_EDGE_LENGTH}},x=function(h,p){if(p.fixedNodeConstraint)h.constraints.fixedNodeConstraint=p.fixedNodeConstraint;if(p.alignmentConstraint)h.constraints.alignmentConstraint=p.alignmentConstraint;if(p.relativePlacementConstraint)h.constraints.relativePlacementConstraint=p.relativePlacementConstraint};if(L.nestingFactor!=null)O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=B.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=L.nestingFactor;if(L.gravity!=null)O.DEFAULT_GRAVITY_STRENGTH=B.DEFAULT_GRAVITY_STRENGTH=L.gravity;if(L.numIter!=null)O.MAX_ITERATIONS=B.MAX_ITERATIONS=L.numIter;if(L.gravityRange!=null)O.DEFAULT_GRAVITY_RANGE_FACTOR=B.DEFAULT_GRAVITY_RANGE_FACTOR=L.gravityRange;if(L.gravityCompound!=null)O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=B.DEFAULT_COMPOUND_GRAVITY_STRENGTH=L.gravityCompound;if(L.gravityRangeCompound!=null)O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=B.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=L.gravityRangeCompound;if(L.initialEnergyOnIncremental!=null)O.DEFAULT_COOLING_FACTOR_INCREMENTAL=B.DEFAULT_COOLING_FACTOR_INCREMENTAL=L.initialEnergyOnIncremental;if(L.tilingCompareBy!=null)O.TILING_COMPARE_BY=L.tilingCompareBy;if(L.quality=="proof")M.QUALITY=2;else M.QUALITY=0;if(O.NODE_DIMENSIONS_INCLUDE_LABELS=B.NODE_DIMENSIONS_INCLUDE_LABELS=M.NODE_DIMENSIONS_INCLUDE_LABELS=L.nodeDimensionsIncludeLabels,O.DEFAULT_INCREMENTAL=B.DEFAULT_INCREMENTAL=M.DEFAULT_INCREMENTAL=!L.randomize,O.ANIMATE=B.ANIMATE=M.ANIMATE=L.animate,O.TILE=L.tile,O.TILING_PADDING_VERTICAL=typeof L.tilingPaddingVertical==="function"?L.tilingPaddingVertical.call():L.tilingPaddingVertical,O.TILING_PADDING_HORIZONTAL=typeof L.tilingPaddingHorizontal==="function"?L.tilingPaddingHorizontal.call():L.tilingPaddingHorizontal,O.DEFAULT_INCREMENTAL=B.DEFAULT_INCREMENTAL=M.DEFAULT_INCREMENTAL=!0,O.PURE_INCREMENTAL=!L.randomize,M.DEFAULT_UNIFORM_LEAF_NODE_SIZES=L.uniformNodeDimensions,L.step=="transformed")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,O.ENFORCE_CONSTRAINTS=!1,O.APPLY_LAYOUT=!1;if(L.step=="enforced")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,O.ENFORCE_CONSTRAINTS=!0,O.APPLY_LAYOUT=!1;if(L.step=="cose")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,O.ENFORCE_CONSTRAINTS=!1,O.APPLY_LAYOUT=!0;if(L.step=="all"){if(L.randomize)O.TRANSFORM_ON_CONSTRAINT_HANDLING=!0;else O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1;O.ENFORCE_CONSTRAINTS=!0,O.APPLY_LAYOUT=!0}if(L.fixedNodeConstraint||L.alignmentConstraint||L.relativePlacementConstraint)O.TREE_REDUCTION_ON_INCREMENTAL=!1;else O.TREE_REDUCTION_ON_INCREMENTAL=!0;var b=new G,y=b.newGraphManager();return f(y.addRoot(),W.getTopMostNodes(E),b,L),v(b,y,j),x(b,L),b.runLayout(),w};U.exports={coseLayout:R}},212:(U,Y,q)=>{var W=function(){function L(A,V){for(var N=0;N<V.length;N++){var E=V[N];if(E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E)E.writable=!0;Object.defineProperty(A,E.key,E)}}return function(A,V,N){if(V)L(A.prototype,V);if(N)L(A,N);return A}}();function G(L,A){if(!(L instanceof A))throw TypeError("Cannot call a class as a function")}var z=q(658),H=q(548),F=q(657),M=F.spectralLayout,B=q(816),O=B.coseLayout,R=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1000,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:0.0000001,nodeRepulsion:function(A){return 4500},idealEdgeLength:function(A){return 50},edgeElasticity:function(A){return 0.45},nestingFactor:0.1,gravity:0.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),D=function(){function L(A){G(this,L),this.options=z({},R,A)}return W(L,[{key:"run",value:function(){var V=this,N=this.options,E=N.cy,j=N.eles,C=[],$=void 0,k=void 0,w=[],P=void 0,T=[];if(N.fixedNodeConstraint&&(!Array.isArray(N.fixedNodeConstraint)||N.fixedNodeConstraint.length==0))N.fixedNodeConstraint=void 0;if(N.alignmentConstraint){if(N.alignmentConstraint.vertical&&(!Array.isArray(N.alignmentConstraint.vertical)||N.alignmentConstraint.vertical.length==0))N.alignmentConstraint.vertical=void 0;if(N.alignmentConstraint.horizontal&&(!Array.isArray(N.alignmentConstraint.horizontal)||N.alignmentConstraint.horizontal.length==0))N.alignmentConstraint.horizontal=void 0}if(N.relativePlacementConstraint&&(!Array.isArray(N.relativePlacementConstraint)||N.relativePlacementConstraint.length==0))N.relativePlacementConstraint=void 0;var S=N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint;if(S)N.tile=!1,N.packComponents=!1;var f=void 0,v=!1;if(E.layoutUtilities&&N.packComponents){if(f=E.layoutUtilities("get"),!f)f=E.layoutUtilities();v=!0}if(j.nodes().length>0)if(!v){var x=N.eles.boundingBox();if(T.push({x:x.x1+x.w/2,y:x.y1+x.h/2}),N.randomize){var b=M(N);C.push(b)}if(N.quality=="default"||N.quality=="proof")w.push(O(N,C[0])),H.relocateComponent(T[0],w[0],N);else H.relocateComponent(T[0],C[0],N)}else{var y=H.getTopMostNodes(N.eles.nodes());if(P=H.connectComponents(E,N.eles,y),P.forEach(function(E0){var d=E0.boundingBox();T.push({x:d.x1+d.w/2,y:d.y1+d.h/2})}),N.randomize)P.forEach(function(E0){N.eles=E0,C.push(M(N))});if(N.quality=="default"||N.quality=="proof"){var u=E.collection();if(N.tile){var h=new Map,p=[],r=[],e=0,i={nodeIndexes:h,xCoords:p,yCoords:r},U0=[];if(P.forEach(function(E0,d){if(E0.edges().length==0)E0.nodes().forEach(function(c0,B0){if(u.merge(E0.nodes()[B0]),!c0.isParent())i.nodeIndexes.set(E0.nodes()[B0].id(),e++),i.xCoords.push(E0.nodes()[0].position().x),i.yCoords.push(E0.nodes()[0].position().y)}),U0.push(d)}),u.length>1){var a=u.boundingBox();T.push({x:a.x1+a.w/2,y:a.y1+a.h/2}),P.push(u),C.push(i);for(var z0=U0.length-1;z0>=0;z0--)P.splice(U0[z0],1),C.splice(U0[z0],1),T.splice(U0[z0],1)}}P.forEach(function(E0,d){N.eles=E0,w.push(O(N,C[d])),H.relocateComponent(T[d],w[d],N)})}else P.forEach(function(E0,d){H.relocateComponent(T[d],C[d],N)});var J0=new Set;if(P.length>1){var Q0=[],t=j.filter(function(E0){return E0.css("display")=="none"});P.forEach(function(E0,d){var c0=void 0;if(N.quality=="draft")c0=C[d].nodeIndexes;if(E0.nodes().not(t).length>0){var B0={};B0.edges=[],B0.nodes=[];var y0=void 0;if(E0.nodes().not(t).forEach(function(n0){if(N.quality=="draft")if(!n0.isParent())y0=c0.get(n0.id()),B0.nodes.push({x:C[d].xCoords[y0]-n0.boundingbox().w/2,y:C[d].yCoords[y0]-n0.boundingbox().h/2,width:n0.boundingbox().w,height:n0.boundingbox().h});else{var s0=H.calcBoundingBox(n0,C[d].xCoords,C[d].yCoords,c0);B0.nodes.push({x:s0.topLeftX,y:s0.topLeftY,width:s0.width,height:s0.height})}else if(w[d][n0.id()])B0.nodes.push({x:w[d][n0.id()].getLeft(),y:w[d][n0.id()].getTop(),width:w[d][n0.id()].getWidth(),height:w[d][n0.id()].getHeight()})}),E0.edges().forEach(function(n0){var s0=n0.source(),k0=n0.target();if(s0.css("display")!="none"&&k0.css("display")!="none"){if(N.quality=="draft"){var x0=c0.get(s0.id()),f0=c0.get(k0.id()),C0=[],h0=[];if(s0.isParent()){var F0=H.calcBoundingBox(s0,C[d].xCoords,C[d].yCoords,c0);C0.push(F0.topLeftX+F0.width/2),C0.push(F0.topLeftY+F0.height/2)}else C0.push(C[d].xCoords[x0]),C0.push(C[d].yCoords[x0]);if(k0.isParent()){var I0=H.calcBoundingBox(k0,C[d].xCoords,C[d].yCoords,c0);h0.push(I0.topLeftX+I0.width/2),h0.push(I0.topLeftY+I0.height/2)}else h0.push(C[d].xCoords[f0]),h0.push(C[d].yCoords[f0]);B0.edges.push({startX:C0[0],startY:C0[1],endX:h0[0],endY:h0[1]})}else if(w[d][s0.id()]&&w[d][k0.id()])B0.edges.push({startX:w[d][s0.id()].getCenterX(),startY:w[d][s0.id()].getCenterY(),endX:w[d][k0.id()].getCenterX(),endY:w[d][k0.id()].getCenterY()})}}),B0.nodes.length>0)Q0.push(B0),J0.add(d)}});var n=f.packComponents(Q0,N.randomize).shifts;if(N.quality=="draft")C.forEach(function(E0,d){var c0=E0.xCoords.map(function(y0){return y0+n[d].dx}),B0=E0.yCoords.map(function(y0){return y0+n[d].dy});E0.xCoords=c0,E0.yCoords=B0});else{var Y0=0;J0.forEach(function(E0){Object.keys(w[E0]).forEach(function(d){var c0=w[E0][d];c0.setCenter(c0.getCenterX()+n[Y0].dx,c0.getCenterY()+n[Y0].dy)}),Y0++})}}}var o=function(d,c0){if(N.quality=="default"||N.quality=="proof"){if(typeof d==="number")d=c0;var B0=void 0,y0=void 0,n0=d.data("id");if(w.forEach(function(k0){if(n0 in k0)B0={x:k0[n0].getRect().getCenterX(),y:k0[n0].getRect().getCenterY()},y0=k0[n0]}),N.nodeDimensionsIncludeLabels){if(y0.labelWidth){if(y0.labelPosHorizontal=="left")B0.x+=y0.labelWidth/2;else if(y0.labelPosHorizontal=="right")B0.x-=y0.labelWidth/2}if(y0.labelHeight){if(y0.labelPosVertical=="top")B0.y+=y0.labelHeight/2;else if(y0.labelPosVertical=="bottom")B0.y-=y0.labelHeight/2}}if(B0==null)B0={x:d.position("x"),y:d.position("y")};return{x:B0.x,y:B0.y}}else{var s0=void 0;if(C.forEach(function(k0){var x0=k0.nodeIndexes.get(d.id());if(x0!=null)s0={x:k0.xCoords[x0],y:k0.yCoords[x0]}}),s0==null)s0={x:d.position("x"),y:d.position("y")};return{x:s0.x,y:s0.y}}};if(N.quality=="default"||N.quality=="proof"||N.randomize){var M0=H.calcParentsWithoutChildren(E,j),X0=j.filter(function(E0){return E0.css("display")=="none"});if(N.eles=j.not(X0),j.nodes().not(":parent").not(X0).layoutPositions(V,N,o),M0.length>0)M0.forEach(function(E0){E0.position(o(E0))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),L}();U.exports=D},657:(U,Y,q)=>{var W=q(548),G=q(140).layoutBase.Matrix,z=q(140).layoutBase.SVD,H=function(M){var{cy:B,eles:O}=M,R=O.nodes(),D=O.nodes(":parent"),L=new Map,A=new Map,V=new Map,N=[],E=[],j=[],C=[],$=[],k=[],w=[],P=[],T=void 0,S=void 0,f=1e8,v=0.000000001,x=M.piTol,b=M.samplingType,y=M.nodeSeparation,u=void 0,h=function(){var H0=0,m=0,q0=!1;while(m<u){H0=Math.floor(Math.random()*S),q0=!1;for(var W0=0;W0<m;W0++)if(C[W0]==H0){q0=!0;break}if(!q0)C[m]=H0,m++;else continue}},p=function(H0,m,q0){var W0=[],V0=0,L0=0,D0=0,_0=void 0,T0=[],m0=0,t0=1;for(var H8=0;H8<S;H8++)T0[H8]=f;W0[L0]=H0,T0[H0]=0;while(L0>=V0){D0=W0[V0++];var r0=N[D0];for(var u0=0;u0<r0.length;u0++)if(_0=A.get(r0[u0]),T0[_0]==f)T0[_0]=T0[D0]+1,W0[++L0]=_0;k[D0][m]=T0[D0]*y}if(q0){for(var o0=0;o0<S;o0++)if(k[o0][m]<$[o0])$[o0]=k[o0][m];for(var d0=0;d0<S;d0++)if($[d0]>m0)m0=$[d0],t0=d0}return t0},r=function(H0){var m=void 0;if(!H0){h();for(var q0=0;q0<u;q0++)p(C[q0],q0,H0,!1)}else{m=Math.floor(Math.random()*S),T=m;for(var W0=0;W0<S;W0++)$[W0]=f;for(var V0=0;V0<u;V0++)C[V0]=m,m=p(m,V0,H0)}for(var L0=0;L0<S;L0++)for(var D0=0;D0<u;D0++)k[L0][D0]*=k[L0][D0];for(var _0=0;_0<u;_0++)w[_0]=[];for(var T0=0;T0<u;T0++)for(var m0=0;m0<u;m0++)w[T0][m0]=k[C[m0]][T0]},e=function(){var H0=z.svd(w),m=H0.S,q0=H0.U,W0=H0.V,V0=m[0]*m[0]*m[0],L0=[];for(var D0=0;D0<u;D0++){L0[D0]=[];for(var _0=0;_0<u;_0++)if(L0[D0][_0]=0,D0==_0)L0[D0][_0]=m[D0]/(m[D0]*m[D0]+V0/(m[D0]*m[D0]))}P=G.multMat(G.multMat(W0,L0),G.transpose(q0))},i=function(){var H0=void 0,m=void 0,q0=[],W0=[],V0=[],L0=[];for(var D0=0;D0<S;D0++)q0[D0]=Math.random(),W0[D0]=Math.random();q0=G.normalize(q0),W0=G.normalize(W0);var _0=0,T0=v,m0=v,t0=void 0;while(!0){_0++;for(var H8=0;H8<S;H8++)V0[H8]=q0[H8];if(q0=G.multGamma(G.multL(G.multGamma(V0),k,P)),H0=G.dotProduct(V0,q0),q0=G.normalize(q0),T0=G.dotProduct(V0,q0),t0=Math.abs(T0/m0),t0<=1+x&&t0>=1)break;m0=T0}for(var r0=0;r0<S;r0++)V0[r0]=q0[r0];_0=0,m0=v;while(!0){_0++;for(var u0=0;u0<S;u0++)L0[u0]=W0[u0];if(L0=G.minusOp(L0,G.multCons(V0,G.dotProduct(V0,L0))),W0=G.multGamma(G.multL(G.multGamma(L0),k,P)),m=G.dotProduct(L0,W0),W0=G.normalize(W0),T0=G.dotProduct(L0,W0),t0=Math.abs(T0/m0),t0<=1+x&&t0>=1)break;m0=T0}for(var o0=0;o0<S;o0++)L0[o0]=W0[o0];E=G.multCons(V0,Math.sqrt(Math.abs(H0))),j=G.multCons(L0,Math.sqrt(Math.abs(m)))};W.connectComponents(B,O,W.getTopMostNodes(R),L),D.forEach(function(s){W.connectComponents(B,O,W.getTopMostNodes(s.descendants().intersection(O)),L)});var U0=0;for(var a=0;a<R.length;a++)if(!R[a].isParent())A.set(R[a].id(),U0++);var z0=!0,J0=!1,Q0=void 0;try{for(var t=L.keys()[Symbol.iterator](),n;!(z0=(n=t.next()).done);z0=!0){var Y0=n.value;A.set(Y0,U0++)}}catch(s){J0=!0,Q0=s}finally{try{if(!z0&&t.return)t.return()}finally{if(J0)throw Q0}}for(var o=0;o<A.size;o++)N[o]=[];D.forEach(function(s){var H0=s.children().intersection(O);while(H0.nodes(":childless").length==0)H0=H0.nodes()[0].children().intersection(O);var m=0,q0=H0.nodes(":childless")[0].connectedEdges().length;H0.nodes(":childless").forEach(function(W0,V0){if(W0.connectedEdges().length<q0)q0=W0.connectedEdges().length,m=V0}),V.set(s.id(),H0.nodes(":childless")[m].id())}),R.forEach(function(s){var H0=void 0;if(s.isParent())H0=A.get(V.get(s.id()));else H0=A.get(s.id());s.neighborhood().nodes().forEach(function(m){if(O.intersection(s.edgesWith(m)).length>0)if(m.isParent())N[H0].push(V.get(m.id()));else N[H0].push(m.id())})});var M0=function(H0){var m=A.get(H0),q0=void 0;L.get(H0).forEach(function(W0){if(B.getElementById(W0).isParent())q0=V.get(W0);else q0=W0;N[m].push(q0),N[A.get(q0)].push(H0)})},X0=!0,E0=!1,d=void 0;try{for(var c0=L.keys()[Symbol.iterator](),B0;!(X0=(B0=c0.next()).done);X0=!0){var y0=B0.value;M0(y0)}}catch(s){E0=!0,d=s}finally{try{if(!X0&&c0.return)c0.return()}finally{if(E0)throw d}}S=A.size;var n0=void 0;if(S>2){u=S<M.sampleSize?S:M.sampleSize;for(var s0=0;s0<S;s0++)k[s0]=[];for(var k0=0;k0<u;k0++)P[k0]=[];if(M.quality=="draft"||M.step=="all")r(b),e(),i(),n0={nodeIndexes:A,xCoords:E,yCoords:j};else A.forEach(function(s,H0){E.push(B.getElementById(H0).position("x")),j.push(B.getElementById(H0).position("y"))}),n0={nodeIndexes:A,xCoords:E,yCoords:j};return n0}else{var x0=A.keys(),f0=B.getElementById(x0.next().value),C0=f0.position(),h0=f0.outerWidth();if(E.push(C0.x),j.push(C0.y),S==2){var F0=B.getElementById(x0.next().value),I0=F0.outerWidth();E.push(C0.x+h0/2+I0/2+M.idealEdgeLength),j.push(C0.y)}return n0={nodeIndexes:A,xCoords:E,yCoords:j},n0}};U.exports={spectralLayout:H}},579:(U,Y,q)=>{var W=q(212),G=function(H){if(!H)return;H("layout","fcose",W)};if(typeof cytoscape<"u")G(cytoscape);U.exports=G},140:(U)=>{U.exports=Z}},Q={};function K(U){var Y=Q[U];if(Y!==void 0)return Y.exports;var q=Q[U]={exports:{}};return J[U](q,q.exports,K),q.exports}var X=K(579);return X})()})});var Qp0={};z9(Qp0,{diagram:()=>Rp8});function rg0(Z,J,Q){Z.forEach((K)=>{J.add({group:"nodes",data:{type:"service",id:K.id,icon:K.icon,label:K.title,parent:K.in,width:Q.getConfigField("iconSize"),height:Q.getConfigField("iconSize")},classes:"node-service"})})}function ng0(Z,J,Q){Z.forEach((K)=>{J.add({group:"nodes",data:{type:"junction",id:K.id,parent:K.in,width:Q.getConfigField("iconSize"),height:Q.getConfigField("iconSize")},classes:"node-junction"})})}function ag0(Z,J){J.nodes().map((Q)=>{let K=VO(Q);if(K.type==="group")return;K.x=Q.position().x,K.y=Q.position().y,Z.getElementById(K.id).attr("transform","translate("+(K.x||0)+","+(K.y||0)+")")})}function og0(Z,J){Z.forEach((Q)=>{J.add({group:"nodes",data:{type:"group",id:Q.id,icon:Q.icon,label:Q.title,parent:Q.in},classes:"node-group"})})}function tg0(Z,J){Z.forEach((Q)=>{let{lhsId:K,rhsId:X,lhsInto:U,lhsGroup:Y,rhsInto:q,lhsDir:W,rhsDir:G,rhsGroup:z,title:H}=Q,F=se(Q.lhsDir,Q.rhsDir)?"segments":"straight",M={id:`${K}-${X}`,label:H,source:K,sourceDir:W,sourceArrow:U,sourceGroup:Y,sourceEndpoint:W==="L"?"0 50%":W==="R"?"100% 50%":W==="T"?"50% 0":"50% 100%",target:X,targetDir:G,targetArrow:q,targetGroup:z,targetEndpoint:G==="L"?"0 50%":G==="R"?"100% 50%":G==="T"?"50% 0":"50% 100%"};J.add({group:"edges",data:M,classes:F})})}function eg0(Z,J,Q){let K=I((q,W)=>{return Object.entries(q).reduce((G,[z,H])=>{let F=0,M=Object.entries(H);if(M.length===1)return G[z]=M[0][1],G;for(let B=0;B<M.length-1;B++)for(let O=B+1;O<M.length;O++){let[R,D]=M[B],[L,A]=M[O];if(Q[R]?.[L]===W)G[z]??=[],G[z]=[...G[z],...D,...A];else if(R==="default"||L==="default")G[z]??=[],G[z]=[...G[z],...D,...A];else{let N=`${z}-${F++}`;G[N]=D;let E=`${z}-${F++}`;G[E]=A}}return G},{})},"flattenAlignments"),X=J.map((q)=>{let W={},G={};return Object.entries(q).forEach(([z,[H,F]])=>{let M=Z.getNode(z)?.in??"default";W[F]??={},W[F][M]??=[],W[F][M].push(z),G[H]??={},G[H][M]??=[],G[H][M].push(z)}),{horiz:Object.values(K(W,"horizontal")).filter((z)=>z.length>1),vert:Object.values(K(G,"vertical")).filter((z)=>z.length>1)}}),[U,Y]=X.reduce(([q,W],{horiz:G,vert:z})=>{return[[...q,...G],[...W,...z]]},[[],[]]);return{horizontal:U,vertical:Y}}function Zp0(Z,J){let Q=[],K=I((U)=>`${U[0]},${U[1]}`,"posToStr"),X=I((U)=>U.split(",").map((Y)=>parseInt(Y)),"strToPos");return Z.forEach((U)=>{let Y=Object.fromEntries(Object.entries(U).map(([z,H])=>[K(H),z])),q=[K([0,0])],W={},G={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};while(q.length>0){let z=q.shift();if(z){W[z]=1;let H=Y[z];if(H){let F=X(z);Object.entries(G).forEach(([M,B])=>{let O=K([F[0]+B[0],F[1]+B[1]]),R=Y[O];if(R&&!W[O])q.push(O),Q.push({[gg0[M]]:R,[gg0[tg8(M)]]:H,gap:1.5*J.getConfigField("iconSize")})})}}}}),Q}function Jp0(Z,J,Q,K,X,{spatialMaps:U,groupAlignments:Y}){return new Promise((q)=>{let W=i0("body").append("div").attr("id","cy").attr("style","display:none"),G=NK({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[0.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${X.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${X.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});W.remove(),og0(Q,G),rg0(Z,G,X),ng0(J,G,X),tg0(K,G);let z=eg0(X,U,Y),H=Zp0(U,X),F=G.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(M){let[B,O]=M.connectedNodes(),{parent:R}=VO(B),{parent:D}=VO(O);return R===D?1.5*X.getConfigField("iconSize"):0.5*X.getConfigField("iconSize")},edgeElasticity(M){let[B,O]=M.connectedNodes(),{parent:R}=VO(B),{parent:D}=VO(O);return R===D?0.45:0.001},alignmentConstraint:z,relativePlacementConstraint:H});F.one("layoutstop",()=>{function M(B,O,R,D){let L,A,{x:V,y:N}=B,{x:E,y:j}=O;A=(D-N+(V-R)*(N-j)/(V-E))/Math.sqrt(1+Math.pow((N-j)/(V-E),2)),L=Math.sqrt(Math.pow(D-N,2)+Math.pow(R-V,2)-Math.pow(A,2));let C=Math.sqrt(Math.pow(E-V,2)+Math.pow(j-N,2));L=L/C;let $=(E-V)*(D-N)-(j-N)*(R-V);switch(!0){case $>=0:$=1;break;case $<0:$=-1;break}let k=(E-V)*(R-V)+(j-N)*(D-N);switch(!0){case k>=0:k=1;break;case k<0:k=-1;break}return A=Math.abs(A)*$,L=L*k,{distances:A,weights:L}}I(M,"getSegmentWeights"),G.startBatch();for(let B of Object.values(G.edges()))if(B.data?.()){let{x:O,y:R}=B.source().position(),{x:D,y:L}=B.target().position();if(O!==D&&R!==L){let A=B.sourceEndpoint(),V=B.targetEndpoint(),{sourceDir:N}=lg0(B),[E,j]=gW(N)?[A.x,V.y]:[V.x,A.y],{weights:C,distances:$}=M(A,V,E,j);B.style("segment-distances",$),B.style("segment-weights",C)}}G.endBatch(),F.run()}),F.run(),G.ready((M)=>{Z0.info("Ready",M),q(G)})})}var sg0,gg0,pg0,If,tg8,cg0,j6,gW,se,eg8,Zp8,ie,Jp8,Qp8,Kp8,Xp8,Up8,lg0,VO,Yp8,dg0,qp8,ig0,Wp8,Gp8,EO,tA,zp8,Hp8,Fp8,Mp8,Bp8,Op8,Rp8;var Kp0=_(()=>{VX();YQ();Nz();jZ();T9();M9();_W();ii();A9();sg0=d7(ug0(),1),gg0={L:"left",R:"right",T:"top",B:"bottom"},pg0={L:I((Z)=>`${Z},${Z/2} 0,${Z} 0,0`,"L"),R:I((Z)=>`0,${Z/2} ${Z},0 ${Z},${Z}`,"R"),T:I((Z)=>`0,0 ${Z},0 ${Z/2},${Z}`,"T"),B:I((Z)=>`${Z/2},0 ${Z},${Z} 0,${Z}`,"B")},If={L:I((Z,J)=>Z-J+2,"L"),R:I((Z,J)=>Z-2,"R"),T:I((Z,J)=>Z-J+2,"T"),B:I((Z,J)=>Z-2,"B")},tg8=I(function(Z){if(j6(Z))return Z==="L"?"R":"L";else return Z==="T"?"B":"T"},"getOppositeArchitectureDirection"),cg0=I(function(Z){let J=Z;return J==="L"||J==="R"||J==="T"||J==="B"},"isArchitectureDirection"),j6=I(function(Z){let J=Z;return J==="L"||J==="R"},"isArchitectureDirectionX"),gW=I(function(Z){let J=Z;return J==="T"||J==="B"},"isArchitectureDirectionY"),se=I(function(Z,J){let Q=j6(Z)&&gW(J),K=gW(Z)&&j6(J);return Q||K},"isArchitectureDirectionXY"),eg8=I(function(Z){let J=Z[0],Q=Z[1],K=j6(J)&&gW(Q),X=gW(J)&&j6(Q);return K||X},"isArchitecturePairXY"),Zp8=I(function(Z){return Z!=="LL"&&Z!=="RR"&&Z!=="TT"&&Z!=="BB"},"isValidArchitectureDirectionPair"),ie=I(function(Z,J){let Q=`${Z}${J}`;return Zp8(Q)?Q:void 0},"getArchitectureDirectionPair"),Jp8=I(function([Z,J],Q){let K=Q[0],X=Q[1];if(j6(K))if(gW(X))return[Z+(K==="L"?-1:1),J+(X==="T"?1:-1)];else return[Z+(K==="L"?-1:1),J];else if(j6(X))return[Z+(X==="L"?1:-1),J+(K==="T"?1:-1)];else return[Z,J+(K==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Qp8=I(function(Z){if(Z==="LT"||Z==="TL")return[1,1];else if(Z==="BL"||Z==="LB")return[1,-1];else if(Z==="BR"||Z==="RB")return[-1,-1];else return[-1,1]},"getArchitectureDirectionXYFactors"),Kp8=I(function(Z,J){if(se(Z,J))return"bend";else if(j6(Z))return"horizontal";return"vertical"},"getArchitectureDirectionAlignment"),Xp8=I(function(Z){return Z.type==="service"},"isArchitectureService"),Up8=I(function(Z){return Z.type==="junction"},"isArchitectureJunction"),lg0=I((Z)=>{return Z.data()},"edgeData"),VO=I((Z)=>{return Z.data()},"nodeData"),Yp8=D9.architecture,dg0=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=v9,this.getAccTitle=y9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getAccDescription=m9,this.setAccDescription=h9,this.clear()}static{I(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},S9()}addService({id:Z,icon:J,in:Q,title:K,iconText:X}){if(this.registeredIds[Z]!==void 0)throw Error(`The service id [${Z}] is already in use by another ${this.registeredIds[Z]}`);if(Q!==void 0){if(Z===Q)throw Error(`The service [${Z}] cannot be placed within itself`);if(this.registeredIds[Q]===void 0)throw Error(`The service [${Z}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[Q]==="node")throw Error(`The service [${Z}]'s parent is not a group`)}this.registeredIds[Z]="node",this.nodes[Z]={id:Z,type:"service",icon:J,iconText:X,title:K,edges:[],in:Q}}getServices(){return Object.values(this.nodes).filter(Xp8)}addJunction({id:Z,in:J}){this.registeredIds[Z]="node",this.nodes[Z]={id:Z,type:"junction",edges:[],in:J}}getJunctions(){return Object.values(this.nodes).filter(Up8)}getNodes(){return Object.values(this.nodes)}getNode(Z){return this.nodes[Z]??null}addGroup({id:Z,icon:J,in:Q,title:K}){if(this.registeredIds?.[Z]!==void 0)throw Error(`The group id [${Z}] is already in use by another ${this.registeredIds[Z]}`);if(Q!==void 0){if(Z===Q)throw Error(`The group [${Z}] cannot be placed within itself`);if(this.registeredIds?.[Q]===void 0)throw Error(`The group [${Z}]'s parent does not exist. Please make sure the parent is created before this group`);if(this.registeredIds?.[Q]==="node")throw Error(`The group [${Z}]'s parent is not a group`)}this.registeredIds[Z]="group",this.groups[Z]={id:Z,icon:J,title:K,in:Q}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:Z,rhsId:J,lhsDir:Q,rhsDir:K,lhsInto:X,rhsInto:U,lhsGroup:Y,rhsGroup:q,title:W}){if(!cg0(Q))throw Error(`Invalid direction given for left hand side of edge ${Z}--${J}. Expected (L,R,T,B) got ${String(Q)}`);if(!cg0(K))throw Error(`Invalid direction given for right hand side of edge ${Z}--${J}. Expected (L,R,T,B) got ${String(K)}`);if(this.nodes[Z]===void 0&&this.groups[Z]===void 0)throw Error(`The left-hand id [${Z}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[J]===void 0&&this.groups[J]===void 0)throw Error(`The right-hand id [${J}] does not yet exist. Please create the service/group before declaring an edge to it.`);let G=this.nodes[Z].in,z=this.nodes[J].in;if(Y&&G&&z&&G==z)throw Error(`The left-hand id [${Z}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(q&&G&&z&&G==z)throw Error(`The right-hand id [${J}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let H={lhsId:Z,lhsDir:Q,lhsInto:X,lhsGroup:Y,rhsId:J,rhsDir:K,rhsInto:U,rhsGroup:q,title:W};if(this.edges.push(H),this.nodes[Z]&&this.nodes[J])this.nodes[Z].edges.push(this.edges[this.edges.length-1]),this.nodes[J].edges.push(this.edges[this.edges.length-1])}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let Z={},J=Object.entries(this.nodes).reduce((q,[W,G])=>{return q[W]=G.edges.reduce((z,H)=>{let F=this.getNode(H.lhsId)?.in,M=this.getNode(H.rhsId)?.in;if(F&&M&&F!==M){let B=Kp8(H.lhsDir,H.rhsDir);if(B!=="bend")Z[F]??={},Z[F][M]=B,Z[M]??={},Z[M][F]=B}if(H.lhsId===W){let B=ie(H.lhsDir,H.rhsDir);if(B)z[B]=H.rhsId}else{let B=ie(H.rhsDir,H.lhsDir);if(B)z[B]=H.lhsId}return z},{}),q},{}),Q=Object.keys(J)[0],K={[Q]:1},X=Object.keys(J).reduce((q,W)=>W===Q?q:{...q,[W]:1},{}),U=I((q)=>{let W={[q]:[0,0]},G=[q];while(G.length>0){let z=G.shift();if(z){K[z]=1,delete X[z];let H=J[z],[F,M]=W[z];Object.entries(H).forEach(([B,O])=>{if(!K[O])W[O]=Jp8([F,M],B),G.push(O)})}}return W},"BFS"),Y=[U(Q)];while(Object.keys(X).length>0)Y.push(U(Object.keys(X)[0]));this.dataStructures={adjList:J,spatialMaps:Y,groupAlignments:Z}}return this.dataStructures}setElementForId(Z,J){this.elements[Z]=J}getElementById(Z){return this.elements[Z]}getConfig(){return TJ({...Yp8,...L9().architecture})}getConfigField(Z){return this.getConfig()[Z]}},qp8=I((Z,J)=>{m4(Z,J),Z.groups.map((Q)=>J.addGroup(Q)),Z.services.map((Q)=>J.addService({...Q,type:"service"})),Z.junctions.map((Q)=>J.addJunction({...Q,type:"junction"})),Z.edges.map((Q)=>J.addEdge(Q))},"populateDb"),ig0={parser:{yy:void 0},parse:I(async(Z)=>{let J=await E6("architecture",Z);Z0.debug(J);let Q=ig0.parser?.yy;if(!(Q instanceof dg0))throw Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");qp8(J,Q)},"parse")},Wp8=I((Z)=>`
  .edge {
    stroke-width: ${Z.archEdgeWidth};
    stroke: ${Z.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${Z.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${Z.archGroupBorderColor};
    stroke-width: ${Z.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Gp8=Wp8,EO=I((Z)=>{return`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${Z}</g>`},"wrapIcon"),tA={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:EO('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:EO('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:EO('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:EO('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:EO('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:rp,blank:{body:EO("")}}},zp8=I(async function(Z,J,Q){let K=Q.getConfigField("padding"),X=Q.getConfigField("iconSize"),U=X/2,Y=X/6,q=Y/2;await Promise.all(J.edges().map(async(W)=>{let{source:G,sourceDir:z,sourceArrow:H,sourceGroup:F,target:M,targetDir:B,targetArrow:O,targetGroup:R,label:D}=lg0(W),{x:L,y:A}=W[0].sourceEndpoint(),{x:V,y:N}=W[0].midpoint(),{x:E,y:j}=W[0].targetEndpoint(),C=K+4;if(F)if(j6(z))L+=z==="L"?-C:C;else A+=z==="T"?-C:C+18;if(R)if(j6(B))E+=B==="L"?-C:C;else j+=B==="T"?-C:C+18;if(!F&&Q.getNode(G)?.type==="junction")if(j6(z))L+=z==="L"?U:-U;else A+=z==="T"?U:-U;if(!R&&Q.getNode(M)?.type==="junction")if(j6(B))E+=B==="L"?U:-U;else j+=B==="T"?U:-U;if(W[0]._private.rscratch){let $=Z.insert("g");if($.insert("path").attr("d",`M ${L},${A} L ${V},${N} L${E},${j} `).attr("class","edge").attr("id",kX(G,M,{prefix:"L"})),H){let k=j6(z)?If[z](L,Y):L-q,w=gW(z)?If[z](A,Y):A-q;$.insert("polygon").attr("points",pg0[z](Y)).attr("transform",`translate(${k},${w})`).attr("class","arrow")}if(O){let k=j6(B)?If[B](E,Y):E-q,w=gW(B)?If[B](j,Y):j-q;$.insert("polygon").attr("points",pg0[B](Y)).attr("transform",`translate(${k},${w})`).attr("class","arrow")}if(D){let k=!se(z,B)?j6(z)?"X":"Y":"XY",w=0;if(k==="X")w=Math.abs(L-E);else if(k==="Y")w=Math.abs(A-j)/1.5;else w=Math.abs(L-E)/2;let P=$.append("g");if(await UQ(P,D,{useHtmlLabels:!1,width:w,classes:"architecture-service-label"},N0()),P.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),k==="X")P.attr("transform","translate("+V+", "+N+")");else if(k==="Y")P.attr("transform","translate("+V+", "+N+") rotate(-90)");else if(k==="XY"){let T=ie(z,B);if(T&&eg8(T)){let S=P.node().getBoundingClientRect(),[f,v]=Qp8(T);P.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*f*v*45})`);let x=P.node().getBoundingClientRect();P.attr("transform",`
                translate(${V}, ${N-S.height/2})
                translate(${f*x.width/2}, ${v*x.height/2})
                rotate(${-1*f*v*45}, 0, ${S.height/2})
              `)}}}}}))},"drawEdges"),Hp8=I(async function(Z,J,Q){let X=Q.getConfigField("padding")*0.75,U=Q.getConfigField("fontSize"),q=Q.getConfigField("iconSize")/2;await Promise.all(J.nodes().map(async(W)=>{let G=VO(W);if(G.type==="group"){let{h:z,w:H,x1:F,y1:M}=W.boundingBox(),B=Z.append("rect");B.attr("id",`group-${G.id}`).attr("x",F+q).attr("y",M+q).attr("width",H).attr("height",z).attr("class","node-bkg");let O=Z.append("g"),R=F,D=M;if(G.icon){let L=O.append("g");L.html(`<g>${await fX(G.icon,{height:X,width:X,fallbackPrefix:tA.prefix})}</g>`),L.attr("transform","translate("+(R+q+1)+", "+(D+q+1)+")"),R+=X,D+=U/2-1-2}if(G.label){let L=O.append("g");await UQ(L,G.label,{useHtmlLabels:!1,width:H,classes:"architecture-service-label"},N0()),L.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),L.attr("transform","translate("+(R+q+4)+", "+(D+q+2)+")")}Q.setElementForId(G.id,B)}}))},"drawGroups"),Fp8=I(async function(Z,J,Q){let K=N0();for(let X of Q){let U=J.append("g"),Y=Z.getConfigField("iconSize");if(X.title){let z=U.append("g");await UQ(z,X.title,{useHtmlLabels:!1,width:Y*1.5,classes:"architecture-service-label"},K),z.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),z.attr("transform","translate("+Y/2+", "+Y+")")}let q=U.append("g");if(X.icon)q.html(`<g>${await fX(X.icon,{height:Y,width:Y,fallbackPrefix:tA.prefix})}</g>`);else if(X.iconText){q.html(`<g>${await fX("blank",{height:Y,width:Y,fallbackPrefix:tA.prefix})}</g>`);let F=q.append("g").append("foreignObject").attr("width",Y).attr("height",Y).append("div").attr("class","node-icon-text").attr("style",`height: ${Y}px;`).append("div").html(R9(X.iconText,K)),M=parseInt(window.getComputedStyle(F.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;F.attr("style",`-webkit-line-clamp: ${Math.floor((Y-2)/M)};`)}else q.append("path").attr("class","node-bkg").attr("id","node-"+X.id).attr("d",`M0 ${Y} v${-Y} q0,-5 5,-5 h${Y} q5,0 5,5 v${Y} H0 Z`);U.attr("id",`service-${X.id}`).attr("class","architecture-service");let{width:W,height:G}=U.node().getBBox();X.width=W,X.height=G,Z.setElementForId(X.id,U)}return 0},"drawServices"),Mp8=I(function(Z,J,Q){Q.forEach((K)=>{let X=J.append("g"),U=Z.getConfigField("iconSize");X.append("g").append("rect").attr("id","node-"+K.id).attr("fill-opacity","0").attr("width",U).attr("height",U),X.attr("class","architecture-junction");let{width:q,height:W}=X._groups[0][0].getBBox();X.width=q,X.height=W,Z.setElementForId(K.id,X)})},"drawJunctions");mj([{name:tA.prefix,icons:tA}]);NK.use(sg0.default);I(rg0,"addServices");I(ng0,"addJunctions");I(ag0,"positionNodes");I(og0,"addGroups");I(tg0,"addEdges");I(eg0,"getAlignments");I(Zp0,"getRelativeConstraints");I(Jp0,"layoutArchitecture");Bp8=I(async(Z,J,Q,K)=>{let X=K.db,U=X.getServices(),Y=X.getJunctions(),q=X.getGroups(),W=X.getEdges(),G=X.getDataStructures(),z=_7(J),H=z.append("g");H.attr("class","architecture-edges");let F=z.append("g");F.attr("class","architecture-services");let M=z.append("g");M.attr("class","architecture-groups"),await Fp8(X,F,U),Mp8(X,F,Y);let B=await Jp0(U,Y,q,W,X,G);await zp8(H,B,X),await Hp8(M,B,X),ag0(X,B),tU(void 0,z,X.getConfigField("padding"),X.getConfigField("useMaxWidth"))},"draw"),Op8={draw:Bp8},Rp8={parser:ig0,get db(){return new dg0},renderer:Op8,styles:Gp8}});var qp0={};z9(qp0,{diagram:()=>Cp8});function Up0(Z){if(!Z.length)return[];let J=[],Q=[];return Z.forEach((K)=>{let X={name:K.name,children:K.type==="Leaf"?void 0:[]};if(X.classSelector=K?.classSelector,K?.cssCompiledStyles)X.cssCompiledStyles=[K.cssCompiledStyles];if(K.type==="Leaf"&&K.value!==void 0)X.value=K.value;while(Q.length>0&&Q[Q.length-1].level>=K.level)Q.pop();if(Q.length===0)J.push(X);else{let U=Q[Q.length-1].node;if(U.children)U.children.push(X);else U.children=[X]}if(K.type!=="Leaf")Q.push({node:X,level:K.level})}),J}var Xp0,Dp8,Lp8,Yp0,Ip8=10,PO=10,eA=25,Ap8,Np8,Ep8,Vp8,Pp8,jp8,Cp8;var Wp0=_(()=>{VX();wK();K6();Nz();jZ();T9();M9();_W();A9();Xp0=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=v9,this.getAccTitle=y9,this.setDiagramTitle=s9,this.getDiagramTitle=u9,this.getAccDescription=m9,this.setAccDescription=h9}static{I(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){let Z=D9,J=L9();return TJ({...Z.treemap,...J.treemap??{}})}addNode(Z,J){if(this.nodes.push(Z),this.levels.set(Z,J),J===0)this.outerNodes.push(Z),this.root??=Z}getRoot(){return{name:"",children:this.outerNodes}}addClass(Z,J){let Q=this.classes.get(Z)??{id:Z,styles:[],textStyles:[]},K=J.replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");if(K)K.forEach((X)=>{if(qD(X))if(Q?.textStyles)Q.textStyles.push(X);else Q.textStyles=[X];if(Q?.styles)Q.styles.push(X);else Q.styles=[X]});this.classes.set(Z,Q)}getClasses(){return this.classes}getStylesForClass(Z){return this.classes.get(Z)?.styles??[]}clear(){S9(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}};I(Up0,"buildHierarchy");Dp8=I((Z,J)=>{m4(Z,J);let Q=[];for(let U of Z.TreemapRows??[])if(U.$type==="ClassDefStatement")J.addClass(U.className??"",U.styleText??"");for(let U of Z.TreemapRows??[]){let Y=U.item;if(!Y)continue;let q=U.indent?parseInt(U.indent):0,W=Lp8(Y),G=Y.classSelector?J.getStylesForClass(Y.classSelector):[],z=G.length>0?G.join(";"):void 0,H={level:q,name:W,type:Y.$type,value:Y.value,classSelector:Y.classSelector,cssCompiledStyles:z};Q.push(H)}let K=Up0(Q),X=I((U,Y)=>{for(let q of U)if(J.addNode(q,Y),q.children&&q.children.length>0)X(q.children,Y+1)},"addNodesRecursively");X(K,0)},"populate"),Lp8=I((Z)=>{return Z.name?String(Z.name):""},"getItemName"),Yp0={parser:{yy:void 0},parse:I(async(Z)=>{try{let Q=await E6("treemap",Z);Z0.debug("Treemap AST:",Q);let K=Yp0.parser?.yy;if(!(K instanceof Xp0))throw Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Dp8(Q,K)}catch(J){throw Z0.error("Error parsing treemap:",J),J}},"parse")},Ap8=I((Z,J,Q,K)=>{let X=K.db,U=X.getConfig(),Y=U.padding??Ip8,q=X.getDiagramTitle(),W=X.getRoot(),{themeVariables:G}=L9();if(!W)return;let z=q?30:0,H=_7(J),F=U.nodeWidth?U.nodeWidth*PO:960,M=U.nodeHeight?U.nodeHeight*PO:500,B=F,O=M+z;H.attr("viewBox",`0 0 ${B} ${O}`),PZ(H,O,B,U.useMaxWidth);let R;try{let S=U.valueFormat||",";if(S==="$0,0")R=I((f)=>"$"+IX(",")(f),"valueFormat");else if(S.startsWith("$")&&S.includes(",")){let f=/\.\d+/.exec(S),v=f?f[0]:"";R=I((x)=>"$"+IX(","+v)(x),"valueFormat")}else if(S.startsWith("$")){let f=S.substring(1);R=I((v)=>"$"+IX(f||"")(v),"valueFormat")}else R=IX(S)}catch(S){Z0.error("Error creating format function:",S),R=IX(",")}let D=S4().range(["transparent",G.cScale0,G.cScale1,G.cScale2,G.cScale3,G.cScale4,G.cScale5,G.cScale6,G.cScale7,G.cScale8,G.cScale9,G.cScale10,G.cScale11]),L=S4().range(["transparent",G.cScalePeer0,G.cScalePeer1,G.cScalePeer2,G.cScalePeer3,G.cScalePeer4,G.cScalePeer5,G.cScalePeer6,G.cScalePeer7,G.cScalePeer8,G.cScalePeer9,G.cScalePeer10,G.cScalePeer11]),A=S4().range([G.cScaleLabel0,G.cScaleLabel1,G.cScaleLabel2,G.cScaleLabel3,G.cScaleLabel4,G.cScaleLabel5,G.cScaleLabel6,G.cScaleLabel7,G.cScaleLabel8,G.cScaleLabel9,G.cScaleLabel10,G.cScaleLabel11]);if(q)H.append("text").attr("x",B/2).attr("y",z/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(q);let V=H.append("g").attr("transform",`translate(0, ${z})`).attr("class","treemapContainer"),N=F2(W).sum((S)=>S.value??0).sort((S,f)=>(f.value??0)-(S.value??0)),j=DP().size([F,M]).paddingTop((S)=>S.children&&S.children.length>0?eA+PO:0).paddingInner(Y).paddingLeft((S)=>S.children&&S.children.length>0?PO:0).paddingRight((S)=>S.children&&S.children.length>0?PO:0).paddingBottom((S)=>S.children&&S.children.length>0?PO:0).round(!0)(N),C=j.descendants().filter((S)=>S.children&&S.children.length>0),$=V.selectAll(".treemapSection").data(C).enter().append("g").attr("class","treemapSection").attr("transform",(S)=>`translate(${S.x0},${S.y0})`);if($.append("rect").attr("width",(S)=>S.x1-S.x0).attr("height",eA).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",0.6).attr("stroke-width",0.6).attr("style",(S)=>{if(S.depth===0)return"display: none;";return""}),$.append("clipPath").attr("id",(S,f)=>`clip-section-${J}-${f}`).append("rect").attr("width",(S)=>Math.max(0,S.x1-S.x0-12)).attr("height",eA),$.append("rect").attr("width",(S)=>S.x1-S.x0).attr("height",(S)=>S.y1-S.y0).attr("class",(S,f)=>{return`treemapSection section${f}`}).attr("fill",(S)=>D(S.data.name)).attr("fill-opacity",0.6).attr("stroke",(S)=>L(S.data.name)).attr("stroke-width",2).attr("stroke-opacity",0.4).attr("style",(S)=>{if(S.depth===0)return"display: none;";let f=_8({cssCompiledStyles:S.data.cssCompiledStyles});return f.nodeStyles+";"+f.borderStyles.join(";")}),$.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",eA/2).attr("dominant-baseline","middle").text((S)=>S.depth===0?"":S.data.name).attr("font-weight","bold").attr("style",(S)=>{if(S.depth===0)return"display: none;";let f="dominant-baseline: middle; font-size: 12px; fill:"+A(S.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",v=_8({cssCompiledStyles:S.data.cssCompiledStyles});return f+v.labelStyles.replace("color:","fill:")}).each(function(S){if(S.depth===0)return;let f=i0(this),v=S.data.name;f.text(v);let x=S.x1-S.x0,b=6,y;if(U.showValues!==!1&&S.value){let e=x-10,i=30,U0=10;y=e-30-10-b}else y=x-b-6;let h=Math.max(15,y),p=f.node();if(p.getComputedTextLength()>h){let i=v;while(i.length>0){if(i=v.substring(0,i.length-1),i.length===0){if(f.text("..."),p.getComputedTextLength()>h)f.text("");break}if(f.text(i+"..."),p.getComputedTextLength()<=h)break}}}),U.showValues!==!1)$.append("text").attr("class","treemapSectionValue").attr("x",(S)=>S.x1-S.x0-10).attr("y",eA/2).attr("text-anchor","end").attr("dominant-baseline","middle").text((S)=>S.value?R(S.value):"").attr("font-style","italic").attr("style",(S)=>{if(S.depth===0)return"display: none;";let f="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+A(S.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",v=_8({cssCompiledStyles:S.data.cssCompiledStyles});return f+v.labelStyles.replace("color:","fill:")});let k=j.leaves(),w=V.selectAll(".treemapLeafGroup").data(k).enter().append("g").attr("class",(S,f)=>{return`treemapNode treemapLeafGroup leaf${f}${S.data.classSelector?` ${S.data.classSelector}`:""}x`}).attr("transform",(S)=>`translate(${S.x0},${S.y0})`);if(w.append("rect").attr("width",(S)=>S.x1-S.x0).attr("height",(S)=>S.y1-S.y0).attr("class","treemapLeaf").attr("fill",(S)=>{return S.parent?D(S.parent.data.name):D(S.data.name)}).attr("style",(S)=>{return _8({cssCompiledStyles:S.data.cssCompiledStyles}).nodeStyles}).attr("fill-opacity",0.3).attr("stroke",(S)=>{return S.parent?D(S.parent.data.name):D(S.data.name)}).attr("stroke-width",3),w.append("clipPath").attr("id",(S,f)=>`clip-${J}-${f}`).append("rect").attr("width",(S)=>Math.max(0,S.x1-S.x0-4)).attr("height",(S)=>Math.max(0,S.y1-S.y0-4)),w.append("text").attr("class","treemapLabel").attr("x",(S)=>(S.x1-S.x0)/2).attr("y",(S)=>(S.y1-S.y0)/2).attr("style",(S)=>{let f="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+A(S.data.name)+";",v=_8({cssCompiledStyles:S.data.cssCompiledStyles});return f+v.labelStyles.replace("color:","fill:")}).attr("clip-path",(S,f)=>`url(#clip-${J}-${f})`).text((S)=>S.data.name).each(function(S){let f=i0(this),v=S.x1-S.x0,x=S.y1-S.y0,b=f.node(),y=4,u=v-8,h=x-8;if(u<10||h<10){f.style("display","none");return}let p=parseInt(f.style("font-size"),10),r=8,e=28,i=0.6,U0=6,a=2;while(b.getComputedTextLength()>u&&p>r)p--,f.style("font-size",`${p}px`);let z0=Math.max(U0,Math.min(e,Math.round(p*i))),J0=p+a+z0;while(J0>h&&p>r){if(p--,z0=Math.max(U0,Math.min(e,Math.round(p*i))),z0<U0&&p===r)break;if(f.style("font-size",`${p}px`),J0=p+a+z0,z0<=U0&&J0>h);}if(f.style("font-size",`${p}px`),b.getComputedTextLength()>u||p<r||h<p)f.style("display","none")}),U.showValues!==!1)w.append("text").attr("class","treemapValue").attr("x",(f)=>(f.x1-f.x0)/2).attr("y",function(f){return(f.y1-f.y0)/2}).attr("style",(f)=>{let v="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+A(f.data.name)+";",x=_8({cssCompiledStyles:f.data.cssCompiledStyles});return v+x.labelStyles.replace("color:","fill:")}).attr("clip-path",(f,v)=>`url(#clip-${J}-${v})`).text((f)=>f.value?R(f.value):"").each(function(f){let v=i0(this),x=this.parentNode;if(!x){v.style("display","none");return}let b=i0(x).select(".treemapLabel");if(b.empty()||b.style("display")==="none"){v.style("display","none");return}let y=parseFloat(b.style("font-size")),u=28,h=0.6,p=6,r=2,e=Math.max(p,Math.min(u,Math.round(y*h)));v.style("font-size",`${e}px`);let U0=(f.y1-f.y0)/2+y/2+r;v.attr("y",U0);let a=f.x1-f.x0,Q0=f.y1-f.y0-4,t=a-8;if(v.node().getComputedTextLength()>t||U0+e>Q0||e<p)v.style("display","none");else v.style("display",null)});let T=U.diagramPadding??8;e6(H,T,"flowchart",U?.useMaxWidth||!1)},"draw"),Np8=I(function(Z,J){return J.db.getClasses()},"getClasses"),Ep8={draw:Ap8,getClasses:Np8},Vp8={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},Pp8=I(({treemap:Z}={})=>{let J=TJ(Vp8,Z);return`
  .treemapNode.section {
    stroke: ${J.sectionStrokeColor};
    stroke-width: ${J.sectionStrokeWidth};
    fill: ${J.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${J.leafStrokeColor};
    stroke-width: ${J.leafStrokeWidth};
    fill: ${J.leafFillColor};
  }
  .treemapLabel {
    fill: ${J.labelColor};
    font-size: ${J.labelFontSize};
  }
  .treemapValue {
    fill: ${J.valueColor};
    font-size: ${J.valueFontSize};
  }
  .treemapTitle {
    fill: ${J.titleColor};
    font-size: ${J.titleFontSize};
  }
  `},"getStyles"),jp8=Pp8,Cp8={parser:Yp0,get db(){return new Xp0},renderer:Ep8,styles:jp8}});var Jc0=HJ((_8Z,Zc0)=>{Zc0.exports=function(){var Z="",J,Q,K,X=[],U={passive:!0},Y={passive:!1};if(window.addEventListener)J="addEventListener",Q="removeEventListener";else J="attachEvent",Q="detachEvent",Z="on";K="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function q(B,O){var R=function(D){!D&&(D=window.event);var L={originalEvent:D,target:D.target||D.srcElement,type:"wheel",deltaMode:D.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){D.preventDefault?D.preventDefault():D.returnValue=!1}};if(K=="mousewheel")L.deltaY=-0.025*D.wheelDelta,D.wheelDeltaX&&(L.deltaX=-0.025*D.wheelDeltaX);else L.deltaY=D.detail;return O(L)};return X.push({element:B,fn:R}),R}function W(B){for(var O=0;O<X.length;O++)if(X[O].element===B)return X[O].fn;return function(){}}function G(B){for(var O=0;O<X.length;O++)if(X[O].element===B)return X.splice(O,1)}function z(B,O,R,D){var L;if(K==="wheel")L=R;else L=q(B,R);B[J](Z+O,L,D?U:Y)}function H(B,O,R,D){var L;if(K==="wheel")L=R;else L=W(B);B[Q](Z+O,L,D?U:Y),G(B)}function F(B,O,R){if(z(B,K,O,R),K=="DOMMouseScroll")z(B,"MozMousePixelScroll",O,R)}function M(B,O,R){if(H(B,K,O,R),K=="DOMMouseScroll")H(B,"MozMousePixelScroll",O,R)}return{on:F,off:M}}()});var Vf=HJ((f8Z,Kc0)=>{Kc0.exports={extend:function(Z,J){Z=Z||{};for(var Q in J)if(this.isObject(J[Q]))Z[Q]=this.extend(Z[Q],J[Q]);else Z[Q]=J[Q];return Z},isElement:function(Z){return Z instanceof HTMLElement||Z instanceof SVGElement||Z instanceof SVGSVGElement||Z&&typeof Z==="object"&&Z!==null&&Z.nodeType===1&&typeof Z.nodeName==="string"},isObject:function(Z){return Object.prototype.toString.call(Z)==="[object Object]"},isNumber:function(Z){return!isNaN(parseFloat(Z))&&isFinite(Z)},getSvg:function(Z){var J,Q;if(!this.isElement(Z))if(typeof Z==="string"||Z instanceof String){if(J=document.querySelector(Z),!J)throw Error("Provided selector did not find any elements. Selector: "+Z)}else throw Error("Provided selector is not an HTML object nor String");else J=Z;if(J.tagName.toLowerCase()==="svg")Q=J;else if(J.tagName.toLowerCase()==="object")Q=J.contentDocument.documentElement;else if(J.tagName.toLowerCase()==="embed")Q=J.getSVGDocument().documentElement;else{if(J.tagName.toLowerCase()==="img")throw Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.');else throw Error("Cannot get SVG.");return null}return Q},proxy:function(Z,J){return function(){return Z.apply(J,arguments)}},getType:function(Z){return Object.prototype.toString.apply(Z).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(Z,J){if(Z.clientX===void 0||Z.clientX===null){if(Z.clientX=0,Z.clientY=0,Z.touches!==void 0&&Z.touches.length){if(Z.touches[0].clientX!==void 0)Z.clientX=Z.touches[0].clientX,Z.clientY=Z.touches[0].clientY;else if(Z.touches[0].pageX!==void 0){var Q=J.getBoundingClientRect();Z.clientX=Z.touches[0].pageX-Q.left,Z.clientY=Z.touches[0].pageY-Q.top}}else if(Z.originalEvent!==void 0){if(Z.originalEvent.clientX!==void 0)Z.clientX=Z.originalEvent.clientX,Z.clientY=Z.originalEvent.clientY}}},isDblClick:function(Z,J){if(Z.detail===2)return!0;else if(J!==void 0&&J!==null){var Q=Z.timeStamp-J.timeStamp,K=Math.sqrt(Math.pow(Z.clientX-J.clientX,2)+Math.pow(Z.clientY-J.clientY,2));return Q<250&&K<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(Z,J,Q){var K=this,X,U,Y,q=null,W=0;if(!Q)Q={};var G=function(){if(W=Q.leading===!1?0:K.now(),q=null,Y=Z.apply(X,U),!q)X=U=null};return function(){var z=K.now();if(!W&&Q.leading===!1)W=z;var H=J-(z-W);if(X=this,U=arguments,H<=0||H>J){if(clearTimeout(q),q=null,W=z,Y=Z.apply(X,U),!q)X=U=null}else if(!q&&Q.trailing!==!1)q=setTimeout(G,H);return Y}},createRequestAnimationFrame:function(Z){var J=null;if(Z!=="auto"&&Z<60&&Z>1)J=Math.floor(1000/Z);if(J===null)return window.requestAnimationFrame||Qc0(33);else return Qc0(J)}};function Qc0(Z){return function(J){window.setTimeout(J,Z)}}});var Pf=HJ((Z00,Uc0)=>{var ee=Vf(),Xc0="unknown";if(document.documentMode)Xc0="ie";Uc0.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(Z){if(Z.clientWidth&&Z.clientHeight)return{width:Z.clientWidth,height:Z.clientHeight};else if(Z.getBoundingClientRect())return Z.getBoundingClientRect();else throw Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(Z,J){var Q=null;if(ee.isElement(J))Q=J;else Q=Z.querySelector(J);if(!Q){var K=Array.prototype.slice.call(Z.childNodes||Z.children).filter(function(W){return W.nodeName!=="defs"&&W.nodeName!=="#text"});if(K.length===1&&K[0].nodeName==="g"&&K[0].getAttribute("transform")===null)Q=K[0]}if(!Q){var X="viewport-"+new Date().toISOString().replace(/\D/g,"");Q=document.createElementNS(this.svgNS,"g"),Q.setAttribute("id",X);var U=Z.childNodes||Z.children;if(!!U&&U.length>0){for(var Y=U.length;Y>0;Y--)if(U[U.length-Y].nodeName!=="defs")Q.appendChild(U[U.length-Y])}Z.appendChild(Q)}var q=[];if(Q.getAttribute("class"))q=Q.getAttribute("class").split(" ");if(!~q.indexOf("svg-pan-zoom_viewport"))q.push("svg-pan-zoom_viewport"),Q.setAttribute("class",q.join(" "));return Q},setupSvgAttributes:function(Z){if(Z.setAttribute("xmlns",this.svgNS),Z.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),Z.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),Z.parentNode!==null){var J=Z.getAttribute("style")||"";if(J.toLowerCase().indexOf("overflow")===-1)Z.setAttribute("style","overflow: hidden; "+J)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:ee.throttle(function(){var Z=document.querySelectorAll("defs"),J=Z.length;for(var Q=0;Q<J;Q++){var K=Z[Q];K.parentNode.insertBefore(K,K)}},Z00?Z00.internetExplorerRedisplayInterval:null),setCTM:function(Z,J,Q){var K=this,X="matrix("+J.a+","+J.b+","+J.c+","+J.d+","+J.e+","+J.f+")";if(Z.setAttributeNS(null,"transform",X),"transform"in Z.style)Z.style.transform=X;else if("-ms-transform"in Z.style)Z.style["-ms-transform"]=X;else if("-webkit-transform"in Z.style)Z.style["-webkit-transform"]=X;if(Xc0==="ie"&&!!Q)Q.parentNode.insertBefore(Q,Q),window.setTimeout(function(){K.refreshDefsGlobal()},K.internetExplorerRedisplayInterval)},getEventPoint:function(Z,J){var Q=J.createSVGPoint();return ee.mouseAndTouchNormalize(Z,J),Q.x=Z.clientX,Q.y=Z.clientY,Q},getSvgCenterPoint:function(Z,J,Q){return this.createSVGPoint(Z,J/2,Q/2)},createSVGPoint:function(Z,J,Q){var K=Z.createSVGPoint();return K.x=J,K.y=Q,K}}});var qc0=HJ((v8Z,Yc0)=>{var s4=Pf();Yc0.exports={enable:function(Z){var J=Z.svg.querySelector("defs");if(!J)J=document.createElementNS(s4.svgNS,"defs"),Z.svg.appendChild(J);var Q=J.querySelector("style#svg-pan-zoom-controls-styles");if(!Q){var K=document.createElementNS(s4.svgNS,"style");K.setAttribute("id","svg-pan-zoom-controls-styles"),K.setAttribute("type","text/css"),K.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",J.appendChild(K)}var X=document.createElementNS(s4.svgNS,"g");X.setAttribute("id","svg-pan-zoom-controls"),X.setAttribute("transform","translate("+(Z.width-70)+" "+(Z.height-76)+") scale(0.75)"),X.setAttribute("class","svg-pan-zoom-control"),X.appendChild(this._createZoomIn(Z)),X.appendChild(this._createZoomReset(Z)),X.appendChild(this._createZoomOut(Z)),Z.svg.appendChild(X),Z.controlIcons=X},_createZoomIn:function(Z){var J=document.createElementNS(s4.svgNS,"g");J.setAttribute("id","svg-pan-zoom-zoom-in"),J.setAttribute("transform","translate(30.5 5) scale(0.015)"),J.setAttribute("class","svg-pan-zoom-control"),J.addEventListener("click",function(){Z.getPublicInstance().zoomIn()},!1),J.addEventListener("touchstart",function(){Z.getPublicInstance().zoomIn()},!1);var Q=document.createElementNS(s4.svgNS,"rect");Q.setAttribute("x","0"),Q.setAttribute("y","0"),Q.setAttribute("width","1500"),Q.setAttribute("height","1400"),Q.setAttribute("class","svg-pan-zoom-control-background"),J.appendChild(Q);var K=document.createElementNS(s4.svgNS,"path");return K.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),K.setAttribute("class","svg-pan-zoom-control-element"),J.appendChild(K),J},_createZoomReset:function(Z){var J=document.createElementNS(s4.svgNS,"g");J.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),J.setAttribute("transform","translate(5 35) scale(0.4)"),J.setAttribute("class","svg-pan-zoom-control"),J.addEventListener("click",function(){Z.getPublicInstance().reset()},!1),J.addEventListener("touchstart",function(){Z.getPublicInstance().reset()},!1);var Q=document.createElementNS(s4.svgNS,"rect");Q.setAttribute("x","2"),Q.setAttribute("y","2"),Q.setAttribute("width","182"),Q.setAttribute("height","58"),Q.setAttribute("class","svg-pan-zoom-control-background"),J.appendChild(Q);var K=document.createElementNS(s4.svgNS,"path");K.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),K.setAttribute("class","svg-pan-zoom-control-element"),J.appendChild(K);var X=document.createElementNS(s4.svgNS,"path");return X.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),X.setAttribute("class","svg-pan-zoom-control-element"),J.appendChild(X),J},_createZoomOut:function(Z){var J=document.createElementNS(s4.svgNS,"g");J.setAttribute("id","svg-pan-zoom-zoom-out"),J.setAttribute("transform","translate(30.5 70) scale(0.015)"),J.setAttribute("class","svg-pan-zoom-control"),J.addEventListener("click",function(){Z.getPublicInstance().zoomOut()},!1),J.addEventListener("touchstart",function(){Z.getPublicInstance().zoomOut()},!1);var Q=document.createElementNS(s4.svgNS,"rect");Q.setAttribute("x","0"),Q.setAttribute("y","0"),Q.setAttribute("width","1500"),Q.setAttribute("height","1400"),Q.setAttribute("class","svg-pan-zoom-control-background"),J.appendChild(Q);var K=document.createElementNS(s4.svgNS,"path");return K.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),K.setAttribute("class","svg-pan-zoom-control-element"),J.appendChild(K),J},disable:function(Z){if(Z.controlIcons)Z.controlIcons.parentNode.removeChild(Z.controlIcons),Z.controlIcons=null}}});var Gc0=HJ((x8Z,Wc0)=>{var qd8=Pf(),pW=Vf(),F7=function(Z,J){this.init(Z,J)};F7.prototype.init=function(Z,J){this.viewport=Z,this.options=J,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=pW.proxy(this.updateCTM,this),this.requestAnimationFrame=pW.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var Q=this.processCTM();this.setCTM(Q),this.updateCTM()};F7.prototype.cacheViewBox=function(){var Z=this.options.svg.getAttribute("viewBox");if(Z){var J=Z.split(/[\s\,]/).filter(function(K){return K}).map(parseFloat);this.viewBox.x=J[0],this.viewBox.y=J[1],this.viewBox.width=J[2],this.viewBox.height=J[3];var Q=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=Q,this.activeState.x=(this.options.width-this.viewBox.width*Q)/2,this.activeState.y=(this.options.height-this.viewBox.height*Q)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};F7.prototype.simpleViewBoxCache=function(){var Z=this.viewport.getBBox();this.viewBox.x=Z.x,this.viewBox.y=Z.y,this.viewBox.width=Z.width,this.viewBox.height=Z.height};F7.prototype.getViewBox=function(){return pW.extend({},this.viewBox)};F7.prototype.processCTM=function(){var Z=this.getCTM();if(this.options.fit||this.options.contain){var J;if(this.options.fit)J=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);else J=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);Z.a=J,Z.d=J,Z.e=-this.viewBox.x*J,Z.f=-this.viewBox.y*J}if(this.options.center){var Q=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*Z.a)*0.5,K=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*Z.a)*0.5;Z.e=Q,Z.f=K}return this.originalState.zoom=Z.a,this.originalState.x=Z.e,this.originalState.y=Z.f,Z};F7.prototype.getOriginalState=function(){return pW.extend({},this.originalState)};F7.prototype.getState=function(){return pW.extend({},this.activeState)};F7.prototype.getZoom=function(){return this.activeState.zoom};F7.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};F7.prototype.computeRelativeZoom=function(Z){return Z/this.originalState.zoom};F7.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};F7.prototype.getCTM=function(){var Z=this.options.svg.createSVGMatrix();return Z.a=this.activeState.zoom,Z.b=0,Z.c=0,Z.d=this.activeState.zoom,Z.e=this.activeState.x,Z.f=this.activeState.y,Z};F7.prototype.setCTM=function(Z){var J=this.isZoomDifferent(Z),Q=this.isPanDifferent(Z);if(J||Q){if(J)if(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(Z.a))===!1)Z.a=Z.d=this.activeState.zoom,J=!1;else this.updateCache(Z),this.options.onZoom(this.getRelativeZoom());if(Q){var K=this.options.beforePan(this.getPan(),{x:Z.e,y:Z.f}),X=!1,U=!1;if(K===!1)Z.e=this.getPan().x,Z.f=this.getPan().y,X=U=!0;else if(pW.isObject(K)){if(K.x===!1)Z.e=this.getPan().x,X=!0;else if(pW.isNumber(K.x))Z.e=K.x;if(K.y===!1)Z.f=this.getPan().y,U=!0;else if(pW.isNumber(K.y))Z.f=K.y}if(X&&U||!this.isPanDifferent(Z))Q=!1;else this.updateCache(Z),this.options.onPan(this.getPan())}if(J||Q)this.updateCTMOnNextFrame()}};F7.prototype.isZoomDifferent=function(Z){return this.activeState.zoom!==Z.a};F7.prototype.isPanDifferent=function(Z){return this.activeState.x!==Z.e||this.activeState.y!==Z.f};F7.prototype.updateCache=function(Z){this.activeState.zoom=Z.a,this.activeState.x=Z.e,this.activeState.y=Z.f};F7.prototype.pendingUpdate=!1;F7.prototype.updateCTMOnNextFrame=function(){if(!this.pendingUpdate)this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached)};F7.prototype.updateCTM=function(){var Z=this.getCTM();if(qd8.setCTM(this.viewport,Z,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM)this.options.onUpdatedCTM(Z)};Wc0.exports=function(Z,J){return new F7(Z,J)}});var Mc0=HJ((b8Z,Fc0)=>{var zc0=Jc0(),J00=qc0(),d5=Vf(),TU=Pf(),Wd8=Gc0(),VZ=function(Z,J){this.init(Z,J)},Gd8={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:0.1,minZoom:0.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},Hc0={passive:!0};VZ.prototype.init=function(Z,J){var Q=this;this.svg=Z,this.defs=Z.querySelector("defs"),TU.setupSvgAttributes(this.svg),this.options=d5.extend(d5.extend({},Gd8),J),this.state="none";var K=TU.getBoundingClientRectNormalized(Z);this.width=K.width,this.height=K.height,this.viewport=Wd8(TU.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(U,Y){if(Q.viewport&&Q.options.beforeZoom)return Q.options.beforeZoom(U,Y)},onZoom:function(U){if(Q.viewport&&Q.options.onZoom)return Q.options.onZoom(U)},beforePan:function(U,Y){if(Q.viewport&&Q.options.beforePan)return Q.options.beforePan(U,Y)},onPan:function(U){if(Q.viewport&&Q.options.onPan)return Q.options.onPan(U)},onUpdatedCTM:function(U){if(Q.viewport&&Q.options.onUpdatedCTM)return Q.options.onUpdatedCTM(U)}});var X=this.getPublicInstance();if(X.setBeforeZoom(this.options.beforeZoom),X.setOnZoom(this.options.onZoom),X.setBeforePan(this.options.beforePan),X.setOnPan(this.options.onPan),X.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled)J00.enable(this);this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};VZ.prototype.setupHandlers=function(){var Z=this,J=null;if(this.eventListeners={mousedown:function(U){var Y=Z.handleMouseDown(U,J);return J=U,Y},touchstart:function(U){var Y=Z.handleMouseDown(U,J);return J=U,Y},mouseup:function(U){return Z.handleMouseUp(U)},touchend:function(U){return Z.handleMouseUp(U)},mousemove:function(U){return Z.handleMouseMove(U)},touchmove:function(U){return Z.handleMouseMove(U)},mouseleave:function(U){return Z.handleMouseUp(U)},touchleave:function(U){return Z.handleMouseUp(U)},touchcancel:function(U){return Z.handleMouseUp(U)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var Q=this.options.customEventsHandler.haltEventListeners;if(Q&&Q.length){for(var K=Q.length-1;K>=0;K--)if(this.eventListeners.hasOwnProperty(Q[K]))delete this.eventListeners[Q[K]]}}for(var X in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(X,this.eventListeners[X],!this.options.preventMouseEventsDefault?Hc0:!1);if(this.options.mouseWheelZoomEnabled)this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom()};VZ.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var Z=this;this.wheelListener=function(Q){return Z.handleMouseWheel(Q)};var J=!this.options.preventMouseEventsDefault;zc0.on(this.options.eventsListenerElement||this.svg,this.wheelListener,J),this.options.mouseWheelZoomEnabled=!0}};VZ.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var Z=!this.options.preventMouseEventsDefault;zc0.off(this.options.eventsListenerElement||this.svg,this.wheelListener,Z),this.options.mouseWheelZoomEnabled=!1}};VZ.prototype.handleMouseWheel=function(Z){if(!this.options.zoomEnabled||this.state!=="none")return;if(this.options.preventMouseEventsDefault)if(Z.preventDefault)Z.preventDefault();else Z.returnValue=!1;var J=Z.deltaY||1,Q=Date.now()-this.lastMouseWheelEventTime,K=3+Math.max(0,30-Q);if(this.lastMouseWheelEventTime=Date.now(),"deltaMode"in Z&&Z.deltaMode===0&&Z.wheelDelta)J=Z.deltaY===0?0:Math.abs(Z.wheelDelta)/Z.deltaY;J=-0.3<J&&J<0.3?J:(J>0?1:-1)*Math.log(Math.abs(J)+10)/K;var X=this.svg.getScreenCTM().inverse(),U=TU.getEventPoint(Z,this.svg).matrixTransform(X),Y=Math.pow(1+this.options.zoomScaleSensitivity,-1*J);this.zoomAtPoint(Y,U)};VZ.prototype.zoomAtPoint=function(Z,J,Q){var K=this.viewport.getOriginalState();if(!Q){if(this.getZoom()*Z<this.options.minZoom*K.zoom)Z=this.options.minZoom*K.zoom/this.getZoom();else if(this.getZoom()*Z>this.options.maxZoom*K.zoom)Z=this.options.maxZoom*K.zoom/this.getZoom()}else Z=Math.max(this.options.minZoom*K.zoom,Math.min(this.options.maxZoom*K.zoom,Z)),Z=Z/this.getZoom();var X=this.viewport.getCTM(),U=J.matrixTransform(X.inverse()),Y=this.svg.createSVGMatrix().translate(U.x,U.y).scale(Z).translate(-U.x,-U.y),q=X.multiply(Y);if(q.a!==X.a)this.viewport.setCTM(q)};VZ.prototype.zoom=function(Z,J){this.zoomAtPoint(Z,TU.getSvgCenterPoint(this.svg,this.width,this.height),J)};VZ.prototype.publicZoom=function(Z,J){if(J)Z=this.computeFromRelativeZoom(Z);this.zoom(Z,J)};VZ.prototype.publicZoomAtPoint=function(Z,J,Q){if(Q)Z=this.computeFromRelativeZoom(Z);if(d5.getType(J)!=="SVGPoint")if("x"in J&&"y"in J)J=TU.createSVGPoint(this.svg,J.x,J.y);else throw Error("Given point is invalid");this.zoomAtPoint(Z,J,Q)};VZ.prototype.getZoom=function(){return this.viewport.getZoom()};VZ.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};VZ.prototype.computeFromRelativeZoom=function(Z){return Z*this.viewport.getOriginalState().zoom};VZ.prototype.resetZoom=function(){var Z=this.viewport.getOriginalState();this.zoom(Z.zoom,!0)};VZ.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};VZ.prototype.reset=function(){this.resetZoom(),this.resetPan()};VZ.prototype.handleDblClick=function(Z){if(this.options.preventMouseEventsDefault)if(Z.preventDefault)Z.preventDefault();else Z.returnValue=!1;if(this.options.controlIconsEnabled){var J=Z.target.getAttribute("class")||"";if(J.indexOf("svg-pan-zoom-control")>-1)return!1}var Q;if(Z.shiftKey)Q=1/((1+this.options.zoomScaleSensitivity)*2);else Q=(1+this.options.zoomScaleSensitivity)*2;var K=TU.getEventPoint(Z,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(Q,K)};VZ.prototype.handleMouseDown=function(Z,J){if(this.options.preventMouseEventsDefault)if(Z.preventDefault)Z.preventDefault();else Z.returnValue=!1;if(d5.mouseAndTouchNormalize(Z,this.svg),this.options.dblClickZoomEnabled&&d5.isDblClick(Z,J))this.handleDblClick(Z);else this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=TU.getEventPoint(Z,this.svg).matrixTransform(this.firstEventCTM.inverse())};VZ.prototype.handleMouseMove=function(Z){if(this.options.preventMouseEventsDefault)if(Z.preventDefault)Z.preventDefault();else Z.returnValue=!1;if(this.state==="pan"&&this.options.panEnabled){var J=TU.getEventPoint(Z,this.svg).matrixTransform(this.firstEventCTM.inverse()),Q=this.firstEventCTM.translate(J.x-this.stateOrigin.x,J.y-this.stateOrigin.y);this.viewport.setCTM(Q)}};VZ.prototype.handleMouseUp=function(Z){if(this.options.preventMouseEventsDefault)if(Z.preventDefault)Z.preventDefault();else Z.returnValue=!1;if(this.state==="pan")this.state="none"};VZ.prototype.fit=function(){var Z=this.viewport.getViewBox(),J=Math.min(this.width/Z.width,this.height/Z.height);this.zoom(J,!0)};VZ.prototype.contain=function(){var Z=this.viewport.getViewBox(),J=Math.max(this.width/Z.width,this.height/Z.height);this.zoom(J,!0)};VZ.prototype.center=function(){var Z=this.viewport.getViewBox(),J=(this.width-(Z.width+Z.x*2)*this.getZoom())*0.5,Q=(this.height-(Z.height+Z.y*2)*this.getZoom())*0.5;this.getPublicInstance().pan({x:J,y:Q})};VZ.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};VZ.prototype.pan=function(Z){var J=this.viewport.getCTM();J.e=Z.x,J.f=Z.y,this.viewport.setCTM(J)};VZ.prototype.panBy=function(Z){var J=this.viewport.getCTM();J.e+=Z.x,J.f+=Z.y,this.viewport.setCTM(J)};VZ.prototype.getPan=function(){var Z=this.viewport.getState();return{x:Z.x,y:Z.y}};VZ.prototype.resize=function(){var Z=TU.getBoundingClientRectNormalized(this.svg);this.width=Z.width,this.height=Z.height;var J=this.viewport;if(J.options.width=this.width,J.options.height=this.height,J.processCTM(),this.options.controlIconsEnabled)this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons()};VZ.prototype.destroy=function(){var Z=this;if(this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null)this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var J in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(J,this.eventListeners[J],!this.options.preventMouseEventsDefault?Hc0:!1);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),cW=cW.filter(function(Q){return Q.svg!==Z.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};VZ.prototype.getPublicInstance=function(){var Z=this;if(!this.publicInstance)this.publicInstance=this.pi={enablePan:function(){return Z.options.panEnabled=!0,Z.pi},disablePan:function(){return Z.options.panEnabled=!1,Z.pi},isPanEnabled:function(){return!!Z.options.panEnabled},pan:function(J){return Z.pan(J),Z.pi},panBy:function(J){return Z.panBy(J),Z.pi},getPan:function(){return Z.getPan()},setBeforePan:function(J){return Z.options.beforePan=J===null?null:d5.proxy(J,Z.publicInstance),Z.pi},setOnPan:function(J){return Z.options.onPan=J===null?null:d5.proxy(J,Z.publicInstance),Z.pi},enableZoom:function(){return Z.options.zoomEnabled=!0,Z.pi},disableZoom:function(){return Z.options.zoomEnabled=!1,Z.pi},isZoomEnabled:function(){return!!Z.options.zoomEnabled},enableControlIcons:function(){if(!Z.options.controlIconsEnabled)Z.options.controlIconsEnabled=!0,J00.enable(Z);return Z.pi},disableControlIcons:function(){if(Z.options.controlIconsEnabled)Z.options.controlIconsEnabled=!1,J00.disable(Z);return Z.pi},isControlIconsEnabled:function(){return!!Z.options.controlIconsEnabled},enableDblClickZoom:function(){return Z.options.dblClickZoomEnabled=!0,Z.pi},disableDblClickZoom:function(){return Z.options.dblClickZoomEnabled=!1,Z.pi},isDblClickZoomEnabled:function(){return!!Z.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return Z.enableMouseWheelZoom(),Z.pi},disableMouseWheelZoom:function(){return Z.disableMouseWheelZoom(),Z.pi},isMouseWheelZoomEnabled:function(){return!!Z.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(J){return Z.options.zoomScaleSensitivity=J,Z.pi},setMinZoom:function(J){return Z.options.minZoom=J,Z.pi},setMaxZoom:function(J){return Z.options.maxZoom=J,Z.pi},setBeforeZoom:function(J){return Z.options.beforeZoom=J===null?null:d5.proxy(J,Z.publicInstance),Z.pi},setOnZoom:function(J){return Z.options.onZoom=J===null?null:d5.proxy(J,Z.publicInstance),Z.pi},zoom:function(J){return Z.publicZoom(J,!0),Z.pi},zoomBy:function(J){return Z.publicZoom(J,!1),Z.pi},zoomAtPoint:function(J,Q){return Z.publicZoomAtPoint(J,Q,!0),Z.pi},zoomAtPointBy:function(J,Q){return Z.publicZoomAtPoint(J,Q,!1),Z.pi},zoomIn:function(){return this.zoomBy(1+Z.options.zoomScaleSensitivity),Z.pi},zoomOut:function(){return this.zoomBy(1/(1+Z.options.zoomScaleSensitivity)),Z.pi},getZoom:function(){return Z.getRelativeZoom()},setOnUpdatedCTM:function(J){return Z.options.onUpdatedCTM=J===null?null:d5.proxy(J,Z.publicInstance),Z.pi},resetZoom:function(){return Z.resetZoom(),Z.pi},resetPan:function(){return Z.resetPan(),Z.pi},reset:function(){return Z.reset(),Z.pi},fit:function(){return Z.fit(),Z.pi},contain:function(){return Z.contain(),Z.pi},center:function(){return Z.center(),Z.pi},updateBBox:function(){return Z.updateBBox(),Z.pi},resize:function(){return Z.resize(),Z.pi},getSizes:function(){return{width:Z.width,height:Z.height,realZoom:Z.getZoom(),viewBox:Z.viewport.getViewBox()}},destroy:function(){return Z.destroy(),Z.pi}};return this.publicInstance};var cW=[],zd8=function(Z,J){var Q=d5.getSvg(Z);if(Q===null)return null;else{for(var K=cW.length-1;K>=0;K--)if(cW[K].svg===Q)return cW[K].instance.getPublicInstance();return cW.push({svg:Q,instance:new VZ(Q,J)}),cW[cW.length-1].instance.getPublicInstance()}};Fc0.exports=zd8});var Oc0=HJ((y8Z,Bc0)=>{var Hd8=Mc0();Bc0.exports=Hd8});var mf=[],I00=[];(()=>{let Z="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((J)=>J?parseInt(J,36):1);for(let J=0,Q=0;J<Z.length;J++)(J%2?I00:mf).push(Q=Q+Z[J])})();function nc0(Z){if(Z<768)return!1;for(let J=0,Q=mf.length;;){let K=J+Q>>1;if(Z<mf[K])Q=K;else if(Z>=I00[K])J=K+1;else return!0;if(J==Q)return!1}}function R00(Z){return Z>=127462&&Z<=127487}var D00=8205;function A00(Z,J,Q=!0,K=!0){return(Q?N00:ac0)(Z,J,K)}function N00(Z,J,Q){if(J==Z.length)return J;if(J&&E00(Z.charCodeAt(J))&&V00(Z.charCodeAt(J-1)))J--;let K=hf(Z,J);J+=L00(K);while(J<Z.length){let X=hf(Z,J);if(K==D00||X==D00||Q&&nc0(X))J+=L00(X),K=X;else if(R00(X)){let U=0,Y=J-2;while(Y>=0&&R00(hf(Z,Y)))U++,Y-=2;if(U%2==0)break;else J+=2}else break}return J}function ac0(Z,J,Q){while(J>0){let K=N00(Z,J-2,Q);if(K<J)return K;J--}return 0}function hf(Z,J){let Q=Z.charCodeAt(J);if(!V00(Q)||J+1==Z.length)return Q;let K=Z.charCodeAt(J+1);if(!E00(K))return Q;return(Q-55296<<10)+(K-56320)+65536}function E00(Z){return Z>=56320&&Z<57344}function V00(Z){return Z>=55296&&Z<56320}function L00(Z){return Z<65536?1:2}class l9{lineAt(Z){if(Z<0||Z>this.length)throw RangeError(`Invalid position ${Z} in document of length ${this.length}`);return this.lineInner(Z,!1,1,0)}line(Z){if(Z<1||Z>this.lines)throw RangeError(`Invalid line number ${Z} in ${this.lines}-line document`);return this.lineInner(Z,!0,1,0)}replace(Z,J,Q){[Z,J]=GH(this,Z,J);let K=[];if(this.decompose(0,Z,K,2),Q.length)Q.decompose(0,Q.length,K,3);return this.decompose(J,this.length,K,1),s5.from(K,this.length-(J-Z)+Q.length)}append(Z){return this.replace(this.length,this.length,Z)}slice(Z,J=this.length){[Z,J]=GH(this,Z,J);let Q=[];return this.decompose(Z,J,Q,0),s5.from(Q,J-Z)}eq(Z){if(Z==this)return!0;if(Z.length!=this.length||Z.lines!=this.lines)return!1;let J=this.scanIdentical(Z,1),Q=this.length-this.scanIdentical(Z,-1),K=new qH(this),X=new qH(Z);for(let U=J,Y=J;;){if(K.next(U),X.next(U),U=0,K.lineBreak!=X.lineBreak||K.done!=X.done||K.value!=X.value)return!1;if(Y+=K.value.length,K.done||Y>=Q)return!0}}iter(Z=1){return new qH(this,Z)}iterRange(Z,J=this.length){return new of(this,Z,J)}iterLines(Z,J){let Q;if(Z==null)Q=this.iter();else{if(J==null)J=this.lines+1;let K=this.line(Z).from;Q=this.iterRange(K,Math.max(K,J==this.lines+1?this.length:J<=1?0:this.line(J-1).to))}return new tf(Q)}toString(){return this.sliceString(0)}toJSON(){let Z=[];return this.flatten(Z),Z}constructor(){}static of(Z){if(Z.length==0)throw RangeError("A document must have at least one line");if(Z.length==1&&!Z[0])return l9.empty;return Z.length<=32?new cJ(Z):s5.from(cJ.split(Z,[]))}}class cJ extends l9{constructor(Z,J=oc0(Z)){super();this.text=Z,this.length=J}get lines(){return this.text.length}get children(){return null}lineInner(Z,J,Q,K){for(let X=0;;X++){let U=this.text[X],Y=K+U.length;if((J?Q:Y)>=Z)return new w00(K,Y,Q,U);K=Y+1,Q++}}decompose(Z,J,Q,K){let X=Z<=0&&J>=this.length?this:new cJ(P00(this.text,Z,J),Math.min(J,this.length)-Math.max(0,Z));if(K&1){let U=Q.pop(),Y=WN(X.text,U.text.slice(),0,X.length);if(Y.length<=32)Q.push(new cJ(Y,U.length+X.length));else{let q=Y.length>>1;Q.push(new cJ(Y.slice(0,q)),new cJ(Y.slice(q)))}}else Q.push(X)}replace(Z,J,Q){if(!(Q instanceof cJ))return super.replace(Z,J,Q);[Z,J]=GH(this,Z,J);let K=WN(this.text,WN(Q.text,P00(this.text,0,Z)),J),X=this.length+Q.length-(J-Z);if(K.length<=32)return new cJ(K,X);return s5.from(cJ.split(K,[]),X)}sliceString(Z,J=this.length,Q=`
`){[Z,J]=GH(this,Z,J);let K="";for(let X=0,U=0;X<=J&&U<this.text.length;U++){let Y=this.text[U],q=X+Y.length;if(X>Z&&U)K+=Q;if(Z<q&&J>X)K+=Y.slice(Math.max(0,Z-X),J-X);X=q+1}return K}flatten(Z){for(let J of this.text)Z.push(J)}scanIdentical(){return 0}static split(Z,J){let Q=[],K=-1;for(let X of Z)if(Q.push(X),K+=X.length+1,Q.length==32)J.push(new cJ(Q,K)),Q=[],K=-1;if(K>-1)J.push(new cJ(Q,K));return J}}class s5 extends l9{constructor(Z,J){super();this.children=Z,this.length=J,this.lines=0;for(let Q of Z)this.lines+=Q.lines}lineInner(Z,J,Q,K){for(let X=0;;X++){let U=this.children[X],Y=K+U.length,q=Q+U.lines-1;if((J?q:Y)>=Z)return U.lineInner(Z,J,Q,K);K=Y+1,Q=q+1}}decompose(Z,J,Q,K){for(let X=0,U=0;U<=J&&X<this.children.length;X++){let Y=this.children[X],q=U+Y.length;if(Z<=q&&J>=U){let W=K&((U<=Z?1:0)|(q>=J?2:0));if(U>=Z&&q<=J&&!W)Q.push(Y);else Y.decompose(Z-U,J-U,Q,W)}U=q+1}}replace(Z,J,Q){if([Z,J]=GH(this,Z,J),Q.lines<this.lines)for(let K=0,X=0;K<this.children.length;K++){let U=this.children[K],Y=X+U.length;if(Z>=X&&J<=Y){let q=U.replace(Z-X,J-X,Q),W=this.lines-U.lines+q.lines;if(q.lines<W>>4&&q.lines>W>>6){let G=this.children.slice();return G[K]=q,new s5(G,this.length-(J-Z)+Q.length)}return super.replace(X,Y,q)}X=Y+1}return super.replace(Z,J,Q)}sliceString(Z,J=this.length,Q=`
`){[Z,J]=GH(this,Z,J);let K="";for(let X=0,U=0;X<this.children.length&&U<=J;X++){let Y=this.children[X],q=U+Y.length;if(U>Z&&X)K+=Q;if(Z<q&&J>U)K+=Y.sliceString(Z-U,J-U,Q);U=q+1}return K}flatten(Z){for(let J of this.children)J.flatten(Z)}scanIdentical(Z,J){if(!(Z instanceof s5))return 0;let Q=0,[K,X,U,Y]=J>0?[0,0,this.children.length,Z.children.length]:[this.children.length-1,Z.children.length-1,-1,-1];for(;;K+=J,X+=J){if(K==U||X==Y)return Q;let q=this.children[K],W=Z.children[X];if(q!=W)return Q+q.scanIdentical(W,J);Q+=q.length+1}}static from(Z,J=Z.reduce((Q,K)=>Q+K.length+1,-1)){let Q=0;for(let F of Z)Q+=F.lines;if(Q<32){let F=[];for(let M of Z)M.flatten(F);return new cJ(F,J)}let K=Math.max(32,Q>>5),X=K<<1,U=K>>1,Y=[],q=0,W=-1,G=[];function z(F){let M;if(F.lines>X&&F instanceof s5)for(let B of F.children)z(B);else if(F.lines>U&&(q>U||!q))H(),Y.push(F);else if(F instanceof cJ&&q&&(M=G[G.length-1])instanceof cJ&&F.lines+M.lines<=32)q+=F.lines,W+=F.length+1,G[G.length-1]=new cJ(M.text.concat(F.text),M.length+1+F.length);else{if(q+F.lines>K)H();q+=F.lines,W+=F.length+1,G.push(F)}}function H(){if(q==0)return;Y.push(G.length==1?G[0]:s5.from(G,W)),W=-1,q=G.length=0}for(let F of Z)z(F);return H(),Y.length==1?Y[0]:new s5(Y,J)}}l9.empty=new cJ([""],0);function oc0(Z){let J=-1;for(let Q of Z)J+=Q.length+1;return J}function WN(Z,J,Q=0,K=1e9){for(let X=0,U=0,Y=!0;U<Z.length&&X<=K;U++){let q=Z[U],W=X+q.length;if(W>=Q){if(W>K)q=q.slice(0,K-X);if(X<Q)q=q.slice(Q-X);if(Y)J[J.length-1]+=q,Y=!1;else J.push(q)}X=W+1}return J}function P00(Z,J,Q){return WN(Z,[""],J,Q)}class qH{constructor(Z,J=1){this.dir=J,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Z],this.offsets=[J>0?1:(Z instanceof cJ?Z.text.length:Z.children.length)<<1]}nextInner(Z,J){this.done=this.lineBreak=!1;for(;;){let Q=this.nodes.length-1,K=this.nodes[Q],X=this.offsets[Q],U=X>>1,Y=K instanceof cJ?K.text.length:K.children.length;if(U==(J>0?Y:0)){if(Q==0)return this.done=!0,this.value="",this;if(J>0)this.offsets[Q-1]++;this.nodes.pop(),this.offsets.pop()}else if((X&1)==(J>0?0:1)){if(this.offsets[Q]+=J,Z==0)return this.lineBreak=!0,this.value=`
`,this;Z--}else if(K instanceof cJ){let q=K.text[U+(J<0?-1:0)];if(this.offsets[Q]+=J,q.length>Math.max(0,Z))return this.value=Z==0?q:J>0?q.slice(Z):q.slice(0,q.length-Z),this;Z-=q.length}else{let q=K.children[U+(J<0?-1:0)];if(Z>q.length)Z-=q.length,this.offsets[Q]+=J;else{if(J<0)this.offsets[Q]--;this.nodes.push(q),this.offsets.push(J>0?1:(q instanceof cJ?q.text.length:q.children.length)<<1)}}}}next(Z=0){if(Z<0)this.nextInner(-Z,-this.dir),Z=this.value.length;return this.nextInner(Z,this.dir)}}class of{constructor(Z,J,Q){this.value="",this.done=!1,this.cursor=new qH(Z,J>Q?-1:1),this.pos=J>Q?Z.length:0,this.from=Math.min(J,Q),this.to=Math.max(J,Q)}nextInner(Z,J){if(J<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Z+=Math.max(0,J<0?this.pos-this.to:this.from-this.pos);let Q=J<0?this.pos-this.from:this.to-this.pos;if(Z>Q)Z=Q;Q-=Z;let{value:K}=this.cursor.next(Z);return this.pos+=(K.length+Z)*J,this.value=K.length<=Q?K:J<0?K.slice(K.length-Q):K.slice(0,Q),this.done=!this.value,this}next(Z=0){if(Z<0)Z=Math.max(Z,this.from-this.pos);else if(Z>0)Z=Math.min(Z,this.to-this.pos);return this.nextInner(Z,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class tf{constructor(Z){this.inner=Z,this.afterBreak=!0,this.value="",this.done=!1}next(Z=0){let{done:J,lineBreak:Q,value:K}=this.inner.next(Z);if(J&&this.afterBreak)this.value="",this.afterBreak=!1;else if(J)this.done=!0,this.value="";else if(Q)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=K,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol<"u")l9.prototype[Symbol.iterator]=function(){return this.iter()},qH.prototype[Symbol.iterator]=of.prototype[Symbol.iterator]=tf.prototype[Symbol.iterator]=function(){return this};class w00{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.number=Q,this.text=K}get length(){return this.to-this.from}}function GH(Z,J,Q){return J=Math.max(0,Math.min(Z.length,J)),[J,Math.max(J,Math.min(Z.length,Q))]}function vJ(Z,J,Q=!0,K=!0){return A00(Z,J,Q,K)}function tc0(Z){return Z>=56320&&Z<57344}function ec0(Z){return Z>=55296&&Z<56320}function i7(Z,J){let Q=Z.charCodeAt(J);if(!ec0(Q)||J+1==Z.length)return Q;let K=Z.charCodeAt(J+1);if(!tc0(K))return Q;return(Q-55296<<10)+(K-56320)+65536}function vO(Z){if(Z<=65535)return String.fromCharCode(Z);return Z-=65536,String.fromCharCode((Z>>10)+55296,(Z&1023)+56320)}function O4(Z){return Z<65536?1:2}var gf=/\r\n?|\n/,M7=function(Z){return Z[Z.Simple=0]="Simple",Z[Z.TrackDel=1]="TrackDel",Z[Z.TrackBefore=2]="TrackBefore",Z[Z.TrackAfter=3]="TrackAfter",Z}(M7||(M7={}));class lK{constructor(Z){this.sections=Z}get length(){let Z=0;for(let J=0;J<this.sections.length;J+=2)Z+=this.sections[J];return Z}get newLength(){let Z=0;for(let J=0;J<this.sections.length;J+=2){let Q=this.sections[J+1];Z+=Q<0?this.sections[J]:Q}return Z}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Z){for(let J=0,Q=0,K=0;J<this.sections.length;){let X=this.sections[J++],U=this.sections[J++];if(U<0)Z(Q,K,X),K+=X;else K+=U;Q+=X}}iterChangedRanges(Z,J=!1){pf(this,Z,J)}get invertedDesc(){let Z=[];for(let J=0;J<this.sections.length;){let Q=this.sections[J++],K=this.sections[J++];if(K<0)Z.push(Q,K);else Z.push(K,Q)}return new lK(Z)}composeDesc(Z){return this.empty?Z:Z.empty?this:$00(this,Z)}mapDesc(Z,J=!1){return Z.empty?this:cf(this,Z,J)}mapPos(Z,J=-1,Q=M7.Simple){let K=0,X=0;for(let U=0;U<this.sections.length;){let Y=this.sections[U++],q=this.sections[U++],W=K+Y;if(q<0){if(W>Z)return X+(Z-K);X+=Y}else{if(Q!=M7.Simple&&W>=Z&&(Q==M7.TrackDel&&K<Z&&W>Z||Q==M7.TrackBefore&&K<Z||Q==M7.TrackAfter&&W>Z))return null;if(W>Z||W==Z&&J<0&&!Y)return Z==K||J<0?X:X+q;X+=q}K=W}if(Z>K)throw RangeError(`Position ${Z} is out of range for changeset of length ${K}`);return X}touchesRange(Z,J=Z){for(let Q=0,K=0;Q<this.sections.length&&K<=J;){let X=this.sections[Q++],U=this.sections[Q++],Y=K+X;if(U>=0&&K<=J&&Y>=Z)return K<Z&&Y>J?"cover":!0;K=Y}return!1}toString(){let Z="";for(let J=0;J<this.sections.length;){let Q=this.sections[J++],K=this.sections[J++];Z+=(Z?" ":"")+Q+(K>=0?":"+K:"")}return Z}toJSON(){return this.sections}static fromJSON(Z){if(!Array.isArray(Z)||Z.length%2||Z.some((J)=>typeof J!="number"))throw RangeError("Invalid JSON representation of ChangeDesc");return new lK(Z)}static create(Z){return new lK(Z)}}class lJ extends lK{constructor(Z,J){super(Z);this.inserted=J}apply(Z){if(this.length!=Z.length)throw RangeError("Applying change set to a document with the wrong length");return pf(this,(J,Q,K,X,U)=>Z=Z.replace(K,K+(Q-J),U),!1),Z}mapDesc(Z,J=!1){return cf(this,Z,J,!0)}invert(Z){let J=this.sections.slice(),Q=[];for(let K=0,X=0;K<J.length;K+=2){let U=J[K],Y=J[K+1];if(Y>=0){J[K]=Y,J[K+1]=U;let q=K>>1;while(Q.length<q)Q.push(l9.empty);Q.push(U?Z.slice(X,X+U):l9.empty)}X+=U}return new lJ(J,Q)}compose(Z){return this.empty?Z:Z.empty?this:$00(this,Z,!0)}map(Z,J=!1){return Z.empty?this:cf(this,Z,J,!0)}iterChanges(Z,J=!1){pf(this,Z,J)}get desc(){return lK.create(this.sections)}filter(Z){let J=[],Q=[],K=[],X=new zH(this);Z:for(let U=0,Y=0;;){let q=U==Z.length?1e9:Z[U++];while(Y<q||Y==q&&X.len==0){if(X.done)break Z;let G=Math.min(X.len,q-Y);NQ(K,G,-1);let z=X.ins==-1?-1:X.off==0?X.ins:0;if(NQ(J,G,z),z>0)oY(Q,J,X.text);X.forward(G),Y+=G}let W=Z[U++];while(Y<W){if(X.done)break Z;let G=Math.min(X.len,W-Y);NQ(J,G,-1),NQ(K,G,X.ins==-1?-1:X.off==0?X.ins:0),X.forward(G),Y+=G}}return{changes:new lJ(J,Q),filtered:lK.create(K)}}toJSON(){let Z=[];for(let J=0;J<this.sections.length;J+=2){let Q=this.sections[J],K=this.sections[J+1];if(K<0)Z.push(Q);else if(K==0)Z.push([Q]);else Z.push([Q].concat(this.inserted[J>>1].toJSON()))}return Z}static of(Z,J,Q){let K=[],X=[],U=0,Y=null;function q(G=!1){if(!G&&!K.length)return;if(U<J)NQ(K,J-U,-1);let z=new lJ(K,X);Y=Y?Y.compose(z.map(Y)):z,K=[],X=[],U=0}function W(G){if(Array.isArray(G))for(let z of G)W(z);else if(G instanceof lJ){if(G.length!=J)throw RangeError(`Mismatched change set length (got ${G.length}, expected ${J})`);q(),Y=Y?Y.compose(G.map(Y)):G}else{let{from:z,to:H=z,insert:F}=G;if(z>H||z<0||H>J)throw RangeError(`Invalid change range ${z} to ${H} (in doc of length ${J})`);let M=!F?l9.empty:typeof F=="string"?l9.of(F.split(Q||gf)):F,B=M.length;if(z==H&&B==0)return;if(z<U)q();if(z>U)NQ(K,z-U,-1);NQ(K,H-z,B),oY(X,K,M),U=H}}return W(Z),q(!Y),Y}static empty(Z){return new lJ(Z?[Z,-1]:[],[])}static fromJSON(Z){if(!Array.isArray(Z))throw RangeError("Invalid JSON representation of ChangeSet");let J=[],Q=[];for(let K=0;K<Z.length;K++){let X=Z[K];if(typeof X=="number")J.push(X,-1);else if(!Array.isArray(X)||typeof X[0]!="number"||X.some((U,Y)=>Y&&typeof U!="string"))throw RangeError("Invalid JSON representation of ChangeSet");else if(X.length==1)J.push(X[0],0);else{while(Q.length<K)Q.push(l9.empty);Q[K]=l9.of(X.slice(1)),J.push(X[0],Q[K].length)}}return new lJ(J,Q)}static createSet(Z,J){return new lJ(Z,J)}}function NQ(Z,J,Q,K=!1){if(J==0&&Q<=0)return;let X=Z.length-2;if(X>=0&&Q<=0&&Q==Z[X+1])Z[X]+=J;else if(X>=0&&J==0&&Z[X]==0)Z[X+1]+=Q;else if(K)Z[X]+=J,Z[X+1]+=Q;else Z.push(J,Q)}function oY(Z,J,Q){if(Q.length==0)return;let K=J.length-2>>1;if(K<Z.length)Z[Z.length-1]=Z[Z.length-1].append(Q);else{while(Z.length<K)Z.push(l9.empty);Z.push(Q)}}function pf(Z,J,Q){let K=Z.inserted;for(let X=0,U=0,Y=0;Y<Z.sections.length;){let q=Z.sections[Y++],W=Z.sections[Y++];if(W<0)X+=q,U+=q;else{let G=X,z=U,H=l9.empty;for(;;){if(G+=q,z+=W,W&&K)H=H.append(K[Y-2>>1]);if(Q||Y==Z.sections.length||Z.sections[Y+1]<0)break;q=Z.sections[Y++],W=Z.sections[Y++]}J(X,G,U,z,H),X=G,U=z}}}function cf(Z,J,Q,K=!1){let X=[],U=K?[]:null,Y=new zH(Z),q=new zH(J);for(let W=-1;;)if(Y.done&&q.len||q.done&&Y.len)throw Error("Mismatched change set lengths");else if(Y.ins==-1&&q.ins==-1){let G=Math.min(Y.len,q.len);NQ(X,G,-1),Y.forward(G),q.forward(G)}else if(q.ins>=0&&(Y.ins<0||W==Y.i||Y.off==0&&(q.len<Y.len||q.len==Y.len&&!Q))){let G=q.len;NQ(X,q.ins,-1);while(G){let z=Math.min(Y.len,G);if(Y.ins>=0&&W<Y.i&&Y.len<=z){if(NQ(X,0,Y.ins),U)oY(U,X,Y.text);W=Y.i}Y.forward(z),G-=z}q.next()}else if(Y.ins>=0){let G=0,z=Y.len;while(z)if(q.ins==-1){let H=Math.min(z,q.len);G+=H,z-=H,q.forward(H)}else if(q.ins==0&&q.len<z)z-=q.len,q.next();else break;if(NQ(X,G,W<Y.i?Y.ins:0),U&&W<Y.i)oY(U,X,Y.text);W=Y.i,Y.forward(Y.len-z)}else if(Y.done&&q.done)return U?lJ.createSet(X,U):lK.create(X);else throw Error("Mismatched change set lengths")}function $00(Z,J,Q=!1){let K=[],X=Q?[]:null,U=new zH(Z),Y=new zH(J);for(let q=!1;;)if(U.done&&Y.done)return X?lJ.createSet(K,X):lK.create(K);else if(U.ins==0)NQ(K,U.len,0,q),U.next();else if(Y.len==0&&!Y.done){if(NQ(K,0,Y.ins,q),X)oY(X,K,Y.text);Y.next()}else if(U.done||Y.done)throw Error("Mismatched change set lengths");else{let W=Math.min(U.len2,Y.len),G=K.length;if(U.ins==-1){let z=Y.ins==-1?-1:Y.off?0:Y.ins;if(NQ(K,W,z,q),X&&z)oY(X,K,Y.text)}else if(Y.ins==-1){if(NQ(K,U.off?0:U.len,W,q),X)oY(X,K,U.textBit(W))}else if(NQ(K,U.off?0:U.len,Y.off?0:Y.ins,q),X&&!Y.off)oY(X,K,Y.text);q=(U.ins>W||Y.ins>=0&&Y.len>W)&&(q||K.length>G),U.forward2(W),Y.forward(W)}}class zH{constructor(Z){this.set=Z,this.i=0,this.next()}next(){let{sections:Z}=this.set;if(this.i<Z.length)this.len=Z[this.i++],this.ins=Z[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Z}=this.set,J=this.i-2>>1;return J>=Z.length?l9.empty:Z[J]}textBit(Z){let{inserted:J}=this.set,Q=this.i-2>>1;return Q>=J.length&&!Z?l9.empty:J[Q].slice(this.off,Z==null?void 0:this.off+Z)}forward(Z){if(Z==this.len)this.next();else this.len-=Z,this.off+=Z}forward2(Z){if(this.ins==-1)this.forward(Z);else if(Z==this.ins)this.next();else this.ins-=Z,this.off+=Z}}class nW{constructor(Z,J,Q){this.from=Z,this.to=J,this.flags=Q}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Z=this.flags&7;return Z==7?null:Z}get goalColumn(){let Z=this.flags>>6;return Z==16777215?void 0:Z}map(Z,J=-1){let Q,K;if(this.empty)Q=K=Z.mapPos(this.from,J);else Q=Z.mapPos(this.from,1),K=Z.mapPos(this.to,-1);return Q==this.from&&K==this.to?this:new nW(Q,K,this.flags)}extend(Z,J=Z){if(Z<=this.anchor&&J>=this.anchor)return a0.range(Z,J);let Q=Math.abs(Z-this.anchor)>Math.abs(J-this.anchor)?Z:J;return a0.range(this.anchor,Q)}eq(Z,J=!1){return this.anchor==Z.anchor&&this.head==Z.head&&this.goalColumn==Z.goalColumn&&(!J||!this.empty||this.assoc==Z.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Z){if(!Z||typeof Z.anchor!="number"||typeof Z.head!="number")throw RangeError("Invalid JSON representation for SelectionRange");return a0.range(Z.anchor,Z.head)}static create(Z,J,Q){return new nW(Z,J,Q)}}class a0{constructor(Z,J){this.ranges=Z,this.mainIndex=J}map(Z,J=-1){if(Z.empty)return this;return a0.create(this.ranges.map((Q)=>Q.map(Z,J)),this.mainIndex)}eq(Z,J=!1){if(this.ranges.length!=Z.ranges.length||this.mainIndex!=Z.mainIndex)return!1;for(let Q=0;Q<this.ranges.length;Q++)if(!this.ranges[Q].eq(Z.ranges[Q],J))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new a0([this.main],0)}addRange(Z,J=!0){return a0.create([Z].concat(this.ranges),J?0:this.mainIndex+1)}replaceRange(Z,J=this.mainIndex){let Q=this.ranges.slice();return Q[J]=Z,a0.create(Q,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((Z)=>Z.toJSON()),main:this.mainIndex}}static fromJSON(Z){if(!Z||!Array.isArray(Z.ranges)||typeof Z.main!="number"||Z.main>=Z.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new a0(Z.ranges.map((J)=>nW.fromJSON(J)),Z.main)}static single(Z,J=Z){return new a0([a0.range(Z,J)],0)}static create(Z,J=0){if(Z.length==0)throw RangeError("A selection needs at least one range");for(let Q=0,K=0;K<Z.length;K++){let X=Z[K];if(X.empty?X.from<=Q:X.from<Q)return a0.normalized(Z.slice(),J);Q=X.to}return new a0(Z,J)}static cursor(Z,J=0,Q,K){return nW.create(Z,Z,(J==0?0:J<0?8:16)|(Q==null?7:Math.min(6,Q))|(K!==null&&K!==void 0?K:16777215)<<6)}static range(Z,J,Q,K){let X=(Q!==null&&Q!==void 0?Q:16777215)<<6|(K==null?7:Math.min(6,K));return J<Z?nW.create(J,Z,48|X):nW.create(Z,J,(J>Z?8:0)|X)}static normalized(Z,J=0){let Q=Z[J];Z.sort((K,X)=>K.from-X.from),J=Z.indexOf(Q);for(let K=1;K<Z.length;K++){let X=Z[K],U=Z[K-1];if(X.empty?X.from<=U.to:X.from<U.to){let Y=U.from,q=Math.max(X.to,U.to);if(K<=J)J--;Z.splice(--K,2,X.anchor>X.head?a0.range(q,Y):a0.range(Y,q))}}return new a0(Z,J)}}function k00(Z,J){for(let Q of Z.ranges)if(Q.to>J)throw RangeError("Selection points outside of document")}var ef=0;class w8{constructor(Z,J,Q,K,X){this.combine=Z,this.compareInput=J,this.compare=Q,this.isStatic=K,this.id=ef++,this.default=Z([]),this.extensions=typeof X=="function"?X(this):X}get reader(){return this}static define(Z={}){return new w8(Z.combine||((J)=>J),Z.compareInput||((J,Q)=>J===Q),Z.compare||(!Z.combine?Zv:(J,Q)=>J===Q),!!Z.static,Z.enables)}of(Z){return new $O([],this,0,Z)}compute(Z,J){if(this.isStatic)throw Error("Can't compute a static facet");return new $O(Z,this,1,J)}computeN(Z,J){if(this.isStatic)throw Error("Can't compute a static facet");return new $O(Z,this,2,J)}from(Z,J){if(!J)J=(Q)=>Q;return this.compute([Z],(Q)=>J(Q.field(Z)))}}function Zv(Z,J){return Z==J||Z.length==J.length&&Z.every((Q,K)=>Q===J[K])}class $O{constructor(Z,J,Q,K){this.dependencies=Z,this.facet=J,this.type=Q,this.value=K,this.id=ef++}dynamicSlot(Z){var J;let Q=this.value,K=this.facet.compareInput,X=this.id,U=Z[X]>>1,Y=this.type==2,q=!1,W=!1,G=[];for(let z of this.dependencies)if(z=="doc")q=!0;else if(z=="selection")W=!0;else if((((J=Z[z.id])!==null&&J!==void 0?J:1)&1)==0)G.push(Z[z.id]);return{create(z){return z.values[U]=Q(z),1},update(z,H){if(q&&H.docChanged||W&&(H.docChanged||H.selection)||lf(z,G)){let F=Q(z);if(Y?!j00(F,z.values[U],K):!K(F,z.values[U]))return z.values[U]=F,1}return 0},reconfigure:(z,H)=>{let F,M=H.config.address[X];if(M!=null){let B=HN(H,M);if(this.dependencies.every((O)=>{return O instanceof w8?H.facet(O)===z.facet(O):O instanceof FJ?H.field(O,!1)==z.field(O,!1):!0})||(Y?j00(F=Q(z),B,K):K(F=Q(z),B)))return z.values[U]=B,0}else F=Q(z);return z.values[U]=F,1}}}}function j00(Z,J,Q){if(Z.length!=J.length)return!1;for(let K=0;K<Z.length;K++)if(!Q(Z[K],J[K]))return!1;return!0}function lf(Z,J){let Q=!1;for(let K of J)if(kO(Z,K)&1)Q=!0;return Q}function Zl0(Z,J,Q){let K=Q.map((W)=>Z[W.id]),X=Q.map((W)=>W.type),U=K.filter((W)=>!(W&1)),Y=Z[J.id]>>1;function q(W){let G=[];for(let z=0;z<K.length;z++){let H=HN(W,K[z]);if(X[z]==2)for(let F of H)G.push(F);else G.push(H)}return J.combine(G)}return{create(W){for(let G of K)kO(W,G);return W.values[Y]=q(W),1},update(W,G){if(!lf(W,U))return 0;let z=q(W);if(J.compare(z,W.values[Y]))return 0;return W.values[Y]=z,1},reconfigure(W,G){let z=lf(W,K),H=G.config.facets[J.id],F=G.facet(J);if(H&&!z&&Zv(Q,H))return W.values[Y]=F,0;let M=q(W);if(J.compare(M,F))return W.values[Y]=F,0;return W.values[Y]=M,1}}}var UN=w8.define({static:!0});class FJ{constructor(Z,J,Q,K,X){this.id=Z,this.createF=J,this.updateF=Q,this.compareF=K,this.spec=X,this.provides=void 0}static define(Z){let J=new FJ(ef++,Z.create,Z.update,Z.compare||((Q,K)=>Q===K),Z);if(Z.provide)J.provides=Z.provide(J);return J}create(Z){let J=Z.facet(UN).find((Q)=>Q.field==this);return((J===null||J===void 0?void 0:J.create)||this.createF)(Z)}slot(Z){let J=Z[this.id]>>1;return{create:(Q)=>{return Q.values[J]=this.create(Q),1},update:(Q,K)=>{let X=Q.values[J],U=this.updateF(X,K);if(this.compareF(X,U))return 0;return Q.values[J]=U,1},reconfigure:(Q,K)=>{let X=Q.facet(UN),U=K.facet(UN),Y;if((Y=X.find((q)=>q.field==this))&&Y!=U.find((q)=>q.field==this))return Q.values[J]=Y.create(Q),1;if(K.config.address[this.id]!=null)return Q.values[J]=K.field(this),0;return Q.values[J]=this.create(Q),1}}}init(Z){return[this,UN.of({field:this,create:Z})]}get extension(){return this}}var rW={lowest:4,low:3,default:2,high:1,highest:0};function wO(Z){return(J)=>new Jv(J,Z)}var C6={highest:wO(rW.highest),high:wO(rW.high),default:wO(rW.default),low:wO(rW.low),lowest:wO(rW.lowest)};class Jv{constructor(Z,J){this.inner=Z,this.prec=J}}class FN{of(Z){return new GN(this,Z)}reconfigure(Z){return FN.reconfigure.of({compartment:this,extension:Z})}get(Z){return Z.config.compartments.get(this)}}class GN{constructor(Z,J){this.compartment=Z,this.inner=J}}class zN{constructor(Z,J,Q,K,X,U){this.base=Z,this.compartments=J,this.dynamicSlots=Q,this.address=K,this.staticValues=X,this.facets=U,this.statusTemplate=[];while(this.statusTemplate.length<Q.length)this.statusTemplate.push(0)}staticFacet(Z){let J=this.address[Z.id];return J==null?Z.default:this.staticValues[J>>1]}static resolve(Z,J,Q){let K=[],X=Object.create(null),U=new Map;for(let H of Jl0(Z,J,U))if(H instanceof FJ)K.push(H);else(X[H.facet.id]||(X[H.facet.id]=[])).push(H);let Y=Object.create(null),q=[],W=[];for(let H of K)Y[H.id]=W.length<<1,W.push((F)=>H.slot(F));let G=Q===null||Q===void 0?void 0:Q.config.facets;for(let H in X){let F=X[H],M=F[0].facet,B=G&&G[H]||[];if(F.every((O)=>O.type==0))if(Y[M.id]=q.length<<1|1,Zv(B,F))q.push(Q.facet(M));else{let O=M.combine(F.map((R)=>R.value));q.push(Q&&M.compare(O,Q.facet(M))?Q.facet(M):O)}else{for(let O of F)if(O.type==0)Y[O.id]=q.length<<1|1,q.push(O.value);else Y[O.id]=W.length<<1,W.push((R)=>O.dynamicSlot(R));Y[M.id]=W.length<<1,W.push((O)=>Zl0(O,M,F))}}let z=W.map((H)=>H(Y));return new zN(Z,U,z,Y,q,X)}}function Jl0(Z,J,Q){let K=[[],[],[],[],[]],X=new Map;function U(Y,q){let W=X.get(Y);if(W!=null){if(W<=q)return;let G=K[W].indexOf(Y);if(G>-1)K[W].splice(G,1);if(Y instanceof GN)Q.delete(Y.compartment)}if(X.set(Y,q),Array.isArray(Y))for(let G of Y)U(G,q);else if(Y instanceof GN){if(Q.has(Y.compartment))throw RangeError("Duplicate use of compartment in extensions");let G=J.get(Y.compartment)||Y.inner;Q.set(Y.compartment,G),U(G,q)}else if(Y instanceof Jv)U(Y.inner,Y.prec);else if(Y instanceof FJ){if(K[q].push(Y),Y.provides)U(Y.provides,q)}else if(Y instanceof $O){if(K[q].push(Y),Y.facet.extensions)U(Y.facet.extensions,rW.default)}else{let G=Y.extension;if(!G)throw Error(`Unrecognized extension value in extension set (${Y}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);U(G,q)}}return U(Z,rW.default),K.reduce((Y,q)=>Y.concat(q))}function kO(Z,J){if(J&1)return 2;let Q=J>>1,K=Z.status[Q];if(K==4)throw Error("Cyclic dependency between fields and/or facets");if(K&2)return K;Z.status[Q]=4;let X=Z.computeSlot(Z,Z.config.dynamicSlots[Q]);return Z.status[Q]=2|X}function HN(Z,J){return J&1?Z.config.staticValues[J>>1]:Z.values[J>>1]}var _00=w8.define(),df=w8.define({combine:(Z)=>Z.some((J)=>J),static:!0}),f00=w8.define({combine:(Z)=>Z.length?Z[0]:void 0,static:!0}),v00=w8.define(),x00=w8.define(),b00=w8.define(),y00=w8.define({combine:(Z)=>Z.length?Z[0]:!1});class R4{constructor(Z,J){this.type=Z,this.value=J}static define(){return new h00}}class h00{of(Z){return new R4(this,Z)}}class m00{constructor(Z){this.map=Z}of(Z){return new q9(this,Z)}}class q9{constructor(Z,J){this.type=Z,this.value=J}map(Z){let J=this.type.map(this.value,Z);return J===void 0?void 0:J==this.value?this:new q9(this.type,J)}is(Z){return this.type==Z}static define(Z={}){return new m00(Z.map||((J)=>J))}static mapEffects(Z,J){if(!Z.length)return Z;let Q=[];for(let K of Z){let X=K.map(J);if(X)Q.push(X)}return Q}}q9.reconfigure=q9.define();q9.appendConfig=q9.define();class PJ{constructor(Z,J,Q,K,X,U){if(this.startState=Z,this.changes=J,this.selection=Q,this.effects=K,this.annotations=X,this.scrollIntoView=U,this._doc=null,this._state=null,Q)k00(Q,J.newLength);if(!X.some((Y)=>Y.type==PJ.time))this.annotations=X.concat(PJ.time.of(Date.now()))}static create(Z,J,Q,K,X,U){return new PJ(Z,J,Q,K,X,U)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(Z){for(let J of this.annotations)if(J.type==Z)return J.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Z){let J=this.annotation(PJ.userEvent);return!!(J&&(J==Z||J.length>Z.length&&J.slice(0,Z.length)==Z&&J[Z.length]=="."))}}PJ.time=R4.define();PJ.userEvent=R4.define();PJ.addToHistory=R4.define();PJ.remote=R4.define();function Ql0(Z,J){let Q=[];for(let K=0,X=0;;){let U,Y;if(K<Z.length&&(X==J.length||J[X]>=Z[K]))U=Z[K++],Y=Z[K++];else if(X<J.length)U=J[X++],Y=J[X++];else return Q;if(!Q.length||Q[Q.length-1]<U)Q.push(U,Y);else if(Q[Q.length-1]<Y)Q[Q.length-1]=Y}}function u00(Z,J,Q){var K;let X,U,Y;if(Q)X=J.changes,U=lJ.empty(J.changes.length),Y=Z.changes.compose(J.changes);else X=J.changes.map(Z.changes),U=Z.changes.mapDesc(J.changes,!0),Y=Z.changes.compose(X);return{changes:Y,selection:J.selection?J.selection.map(U):(K=Z.selection)===null||K===void 0?void 0:K.map(X),effects:q9.mapEffects(Z.effects,X).concat(q9.mapEffects(J.effects,U)),annotations:Z.annotations.length?Z.annotations.concat(J.annotations):J.annotations,scrollIntoView:Z.scrollIntoView||J.scrollIntoView}}function sf(Z,J,Q){let K=J.selection,X=WH(J.annotations);if(J.userEvent)X=X.concat(PJ.userEvent.of(J.userEvent));return{changes:J.changes instanceof lJ?J.changes:lJ.of(J.changes||[],Q,Z.facet(f00)),selection:K&&(K instanceof a0?K:a0.single(K.anchor,K.head)),effects:WH(J.effects),annotations:X,scrollIntoView:!!J.scrollIntoView}}function g00(Z,J,Q){let K=sf(Z,J.length?J[0]:{},Z.doc.length);if(J.length&&J[0].filter===!1)Q=!1;for(let U=1;U<J.length;U++){if(J[U].filter===!1)Q=!1;let Y=!!J[U].sequential;K=u00(K,sf(Z,J[U],Y?K.changes.newLength:Z.doc.length),Y)}let X=PJ.create(Z,K.changes,K.selection,K.effects,K.annotations,K.scrollIntoView);return Xl0(Q?Kl0(X):X)}function Kl0(Z){let J=Z.startState,Q=!0;for(let X of J.facet(v00)){let U=X(Z);if(U===!1){Q=!1;break}if(Array.isArray(U))Q=Q===!0?U:Ql0(Q,U)}if(Q!==!0){let X,U;if(Q===!1)U=Z.changes.invertedDesc,X=lJ.empty(J.doc.length);else{let Y=Z.changes.filter(Q);X=Y.changes,U=Y.filtered.mapDesc(Y.changes).invertedDesc}Z=PJ.create(J,X,Z.selection&&Z.selection.map(U),q9.mapEffects(Z.effects,U),Z.annotations,Z.scrollIntoView)}let K=J.facet(x00);for(let X=K.length-1;X>=0;X--){let U=K[X](Z);if(U instanceof PJ)Z=U;else if(Array.isArray(U)&&U.length==1&&U[0]instanceof PJ)Z=U[0];else Z=g00(J,WH(U),!1)}return Z}function Xl0(Z){let J=Z.startState,Q=J.facet(b00),K=Z;for(let X=Q.length-1;X>=0;X--){let U=Q[X](Z);if(U&&Object.keys(U).length)K=u00(K,sf(J,U,Z.changes.newLength),!0)}return K==Z?Z:PJ.create(J,Z.changes,Z.selection,K.effects,K.annotations,K.scrollIntoView)}var Ul0=[];function WH(Z){return Z==null?Ul0:Array.isArray(Z)?Z:[Z]}var _Z=function(Z){return Z[Z.Word=0]="Word",Z[Z.Space=1]="Space",Z[Z.Other=2]="Other",Z}(_Z||(_Z={})),Yl0=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,rf;try{rf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Z){}function ql0(Z){if(rf)return rf.test(Z);for(let J=0;J<Z.length;J++){let Q=Z[J];if(/\w/.test(Q)||Q>""&&(Q.toUpperCase()!=Q.toLowerCase()||Yl0.test(Q)))return!0}return!1}function Wl0(Z){return(J)=>{if(!/\S/.test(J))return _Z.Space;if(ql0(J))return _Z.Word;for(let Q=0;Q<Z.length;Q++)if(J.indexOf(Z[Q])>-1)return _Z.Word;return _Z.Other}}class j9{constructor(Z,J,Q,K,X,U){if(this.config=Z,this.doc=J,this.selection=Q,this.values=K,this.status=Z.statusTemplate.slice(),this.computeSlot=X,U)U._state=this;for(let Y=0;Y<this.config.dynamicSlots.length;Y++)kO(this,Y<<1);this.computeSlot=null}field(Z,J=!0){let Q=this.config.address[Z.id];if(Q==null){if(J)throw RangeError("Field is not present in this state");return}return kO(this,Q),HN(this,Q)}update(...Z){return g00(this,Z,!0)}applyTransaction(Z){let J=this.config,{base:Q,compartments:K}=J;for(let Y of Z.effects)if(Y.is(FN.reconfigure)){if(J)K=new Map,J.compartments.forEach((q,W)=>K.set(W,q)),J=null;K.set(Y.value.compartment,Y.value.extension)}else if(Y.is(q9.reconfigure))J=null,Q=Y.value;else if(Y.is(q9.appendConfig))J=null,Q=WH(Q).concat(Y.value);let X;if(!J)J=zN.resolve(Q,K,this),X=new j9(J,this.doc,this.selection,J.dynamicSlots.map(()=>null),(q,W)=>W.reconfigure(q,this),null).values;else X=Z.startState.values.slice();let U=Z.startState.facet(df)?Z.newSelection:Z.newSelection.asSingle();new j9(J,Z.newDoc,U,X,(Y,q)=>q.update(Y,Z),Z)}replaceSelection(Z){if(typeof Z=="string")Z=this.toText(Z);return this.changeByRange((J)=>({changes:{from:J.from,to:J.to,insert:Z},range:a0.cursor(J.from+Z.length)}))}changeByRange(Z){let J=this.selection,Q=Z(J.ranges[0]),K=this.changes(Q.changes),X=[Q.range],U=WH(Q.effects);for(let Y=1;Y<J.ranges.length;Y++){let q=Z(J.ranges[Y]),W=this.changes(q.changes),G=W.map(K);for(let H=0;H<Y;H++)X[H]=X[H].map(G);let z=K.mapDesc(W,!0);X.push(q.range.map(z)),K=K.compose(G),U=q9.mapEffects(U,G).concat(q9.mapEffects(WH(q.effects),z))}return{changes:K,selection:a0.create(X,J.mainIndex),effects:U}}changes(Z=[]){if(Z instanceof lJ)return Z;return lJ.of(Z,this.doc.length,this.facet(j9.lineSeparator))}toText(Z){return l9.of(Z.split(this.facet(j9.lineSeparator)||gf))}sliceDoc(Z=0,J=this.doc.length){return this.doc.sliceString(Z,J,this.lineBreak)}facet(Z){let J=this.config.address[Z.id];if(J==null)return Z.default;return kO(this,J),HN(this,J)}toJSON(Z){let J={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Z)for(let Q in Z){let K=Z[Q];if(K instanceof FJ&&this.config.address[K.id]!=null)J[Q]=K.spec.toJSON(this.field(Z[Q]),this)}return J}static fromJSON(Z,J={},Q){if(!Z||typeof Z.doc!="string")throw RangeError("Invalid JSON representation for EditorState");let K=[];if(Q){for(let X in Q)if(Object.prototype.hasOwnProperty.call(Z,X)){let U=Q[X],Y=Z[X];K.push(U.init((q)=>U.spec.fromJSON(Y,q)))}}return j9.create({doc:Z.doc,selection:a0.fromJSON(Z.selection),extensions:J.extensions?K.concat([J.extensions]):K})}static create(Z={}){let J=zN.resolve(Z.extensions||[],new Map),Q=Z.doc instanceof l9?Z.doc:l9.of((Z.doc||"").split(J.staticFacet(j9.lineSeparator)||gf)),K=!Z.selection?a0.single(0):Z.selection instanceof a0?Z.selection:a0.single(Z.selection.anchor,Z.selection.head);if(k00(K,Q.length),!J.staticFacet(df))K=K.asSingle();return new j9(J,Q,K,J.dynamicSlots.map(()=>null),(X,U)=>U.create(X),null)}get tabSize(){return this.facet(j9.tabSize)}get lineBreak(){return this.facet(j9.lineSeparator)||`
`}get readOnly(){return this.facet(y00)}phrase(Z,...J){for(let Q of this.facet(j9.phrases))if(Object.prototype.hasOwnProperty.call(Q,Z)){Z=Q[Z];break}if(J.length)Z=Z.replace(/\$(\$|\d*)/g,(Q,K)=>{if(K=="$")return"$";let X=+(K||1);return!X||X>J.length?Q:J[X-1]});return Z}languageDataAt(Z,J,Q=-1){let K=[];for(let X of this.facet(_00))for(let U of X(this,J,Q))if(Object.prototype.hasOwnProperty.call(U,Z))K.push(U[Z]);return K}charCategorizer(Z){let J=this.languageDataAt("wordChars",Z);return Wl0(J.length?J[0]:"")}wordAt(Z){let{text:J,from:Q,length:K}=this.doc.lineAt(Z),X=this.charCategorizer(Z),U=Z-Q,Y=Z-Q;while(U>0){let q=vJ(J,U,!1);if(X(J.slice(q,U))!=_Z.Word)break;U=q}while(Y<K){let q=vJ(J,Y);if(X(J.slice(Y,q))!=_Z.Word)break;Y=q}return U==Y?null:a0.range(U+Q,Y+Q)}}j9.allowMultipleSelections=df;j9.tabSize=w8.define({combine:(Z)=>Z.length?Z[0]:4});j9.lineSeparator=f00;j9.readOnly=y00;j9.phrases=w8.define({compare(Z,J){let Q=Object.keys(Z),K=Object.keys(J);return Q.length==K.length&&Q.every((X)=>Z[X]==J[X])}});j9.languageData=_00;j9.changeFilter=v00;j9.transactionFilter=x00;j9.transactionExtender=b00;FN.reconfigure=q9.define();function EQ(Z,J,Q={}){let K={};for(let X of Z)for(let U of Object.keys(X)){let Y=X[U],q=K[U];if(q===void 0)K[U]=Y;else if(q===Y||Y===void 0);else if(Object.hasOwnProperty.call(Q,U))K[U]=Q[U](q,Y);else throw Error("Config merge conflict for field "+U)}for(let X in J)if(K[X]===void 0)K[X]=J[X];return K}class dK{eq(Z){return this==Z}range(Z,J=Z){return _O.create(Z,J,this)}}dK.prototype.startSide=dK.prototype.endSide=0;dK.prototype.point=!1;dK.prototype.mapMode=M7.TrackDel;function Qv(Z,J){return Z==J||Z.constructor==J.constructor&&Z.eq(J)}class _O{constructor(Z,J,Q){this.from=Z,this.to=J,this.value=Q}static create(Z,J,Q){return new _O(Z,J,Q)}}function nf(Z,J){return Z.from-J.from||Z.value.startSide-J.value.startSide}class Kv{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.value=Q,this.maxPoint=K}get length(){return this.to[this.to.length-1]}findIndex(Z,J,Q,K=0){let X=Q?this.to:this.from;for(let U=K,Y=X.length;;){if(U==Y)return U;let q=U+Y>>1,W=X[q]-Z||(Q?this.value[q].endSide:this.value[q].startSide)-J;if(q==U)return W>=0?U:Y;if(W>=0)Y=q;else U=q+1}}between(Z,J,Q,K){for(let X=this.findIndex(J,-1e9,!0),U=this.findIndex(Q,1e9,!1,X);X<U;X++)if(K(this.from[X]+Z,this.to[X]+Z,this.value[X])===!1)return!1}map(Z,J){let Q=[],K=[],X=[],U=-1,Y=-1;for(let q=0;q<this.value.length;q++){let W=this.value[q],G=this.from[q]+Z,z=this.to[q]+Z,H,F;if(G==z){let M=J.mapPos(G,W.startSide,W.mapMode);if(M==null)continue;if(H=F=M,W.startSide!=W.endSide){if(F=J.mapPos(G,W.endSide),F<H)continue}}else if(H=J.mapPos(G,W.startSide),F=J.mapPos(z,W.endSide),H>F||H==F&&W.startSide>0&&W.endSide<=0)continue;if((F-H||W.endSide-W.startSide)<0)continue;if(U<0)U=H;if(W.point)Y=Math.max(Y,F-H);Q.push(W),K.push(H-U),X.push(F-U)}return{mapped:Q.length?new Kv(K,X,Q,Y):null,pos:U}}}class E9{constructor(Z,J,Q,K){this.chunkPos=Z,this.chunk=J,this.nextLayer=Q,this.maxPoint=K}static create(Z,J,Q,K){return new E9(Z,J,Q,K)}get length(){let Z=this.chunk.length-1;return Z<0?0:Math.max(this.chunkEnd(Z),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Z=this.nextLayer.size;for(let J of this.chunk)Z+=J.value.length;return Z}chunkEnd(Z){return this.chunkPos[Z]+this.chunk[Z].length}update(Z){let{add:J=[],sort:Q=!1,filterFrom:K=0,filterTo:X=this.length}=Z,U=Z.filter;if(J.length==0&&!U)return this;if(Q)J=J.slice().sort(nf);if(this.isEmpty)return J.length?E9.of(J):this;let Y=new Xv(this,null,-1).goto(0),q=0,W=[],G=new B4;while(Y.value||q<J.length)if(q<J.length&&(Y.from-J[q].from||Y.startSide-J[q].value.startSide)>=0){let z=J[q++];if(!G.addInner(z.from,z.to,z.value))W.push(z)}else if(Y.rangeIndex==1&&Y.chunkIndex<this.chunk.length&&(q==J.length||this.chunkEnd(Y.chunkIndex)<J[q].from)&&(!U||K>this.chunkEnd(Y.chunkIndex)||X<this.chunkPos[Y.chunkIndex])&&G.addChunk(this.chunkPos[Y.chunkIndex],this.chunk[Y.chunkIndex]))Y.nextChunk();else{if(!U||K>Y.to||X<Y.from||U(Y.from,Y.to,Y.value)){if(!G.addInner(Y.from,Y.to,Y.value))W.push(_O.create(Y.from,Y.to,Y.value))}Y.next()}return G.finishInner(this.nextLayer.isEmpty&&!W.length?E9.empty:this.nextLayer.update({add:W,filter:U,filterFrom:K,filterTo:X}))}map(Z){if(Z.empty||this.isEmpty)return this;let J=[],Q=[],K=-1;for(let U=0;U<this.chunk.length;U++){let Y=this.chunkPos[U],q=this.chunk[U],W=Z.touchesRange(Y,Y+q.length);if(W===!1)K=Math.max(K,q.maxPoint),J.push(q),Q.push(Z.mapPos(Y));else if(W===!0){let{mapped:G,pos:z}=q.map(Y,Z);if(G)K=Math.max(K,G.maxPoint),J.push(G),Q.push(z)}}let X=this.nextLayer.map(Z);return J.length==0?X:new E9(Q,J,X||E9.empty,K)}between(Z,J,Q){if(this.isEmpty)return;for(let K=0;K<this.chunk.length;K++){let X=this.chunkPos[K],U=this.chunk[K];if(J>=X&&Z<=X+U.length&&U.between(X,Z-X,J-X,Q)===!1)return}this.nextLayer.between(Z,J,Q)}iter(Z=0){return fO.from([this]).goto(Z)}get isEmpty(){return this.nextLayer==this}static iter(Z,J=0){return fO.from(Z).goto(J)}static compare(Z,J,Q,K,X=-1){let U=Z.filter((z)=>z.maxPoint>0||!z.isEmpty&&z.maxPoint>=X),Y=J.filter((z)=>z.maxPoint>0||!z.isEmpty&&z.maxPoint>=X),q=C00(U,Y,Q),W=new YH(U,q,X),G=new YH(Y,q,X);if(Q.iterGaps((z,H,F)=>S00(W,z,G,H,F,K)),Q.empty&&Q.length==0)S00(W,0,G,0,0,K)}static eq(Z,J,Q=0,K){if(K==null)K=999999999;let X=Z.filter((G)=>!G.isEmpty&&J.indexOf(G)<0),U=J.filter((G)=>!G.isEmpty&&Z.indexOf(G)<0);if(X.length!=U.length)return!1;if(!X.length)return!0;let Y=C00(X,U),q=new YH(X,Y,0).goto(Q),W=new YH(U,Y,0).goto(Q);for(;;){if(q.to!=W.to||!af(q.active,W.active)||q.point&&(!W.point||!Qv(q.point,W.point)))return!1;if(q.to>K)return!0;q.next(),W.next()}}static spans(Z,J,Q,K,X=-1){let U=new YH(Z,null,X).goto(J),Y=J,q=U.openStart;for(;;){let W=Math.min(U.to,Q);if(U.point){let G=U.activeForPoint(U.to),z=U.pointFrom<J?G.length+1:U.point.startSide<0?G.length:Math.min(G.length,q);K.point(Y,W,U.point,G,z,U.pointRank),q=Math.min(U.openEnd(W),G.length)}else if(W>Y)K.span(Y,W,U.active,q),q=U.openEnd(W);if(U.to>Q)return q+(U.point&&U.to>Q?1:0);Y=U.to,U.next()}}static of(Z,J=!1){let Q=new B4;for(let K of Z instanceof _O?[Z]:J?Gl0(Z):Z)Q.add(K.from,K.to,K.value);return Q.finish()}static join(Z){if(!Z.length)return E9.empty;let J=Z[Z.length-1];for(let Q=Z.length-2;Q>=0;Q--)for(let K=Z[Q];K!=E9.empty;K=K.nextLayer)J=new E9(K.chunkPos,K.chunk,J,Math.max(K.maxPoint,J.maxPoint));return J}}E9.empty=new E9([],[],null,-1);function Gl0(Z){if(Z.length>1)for(let J=Z[0],Q=1;Q<Z.length;Q++){let K=Z[Q];if(nf(J,K)>0)return Z.slice().sort(nf);J=K}return Z}E9.empty.nextLayer=E9.empty;class B4{finishChunk(Z){if(this.chunks.push(new Kv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Z)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Z,J,Q){if(!this.addInner(Z,J,Q))(this.nextLayer||(this.nextLayer=new B4)).add(Z,J,Q)}addInner(Z,J,Q){let K=Z-this.lastTo||Q.startSide-this.last.endSide;if(K<=0&&(Z-this.lastFrom||Q.startSide-this.last.startSide)<0)throw Error("Ranges must be added sorted by `from` position and `startSide`");if(K<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=Z;if(this.from.push(Z-this.chunkStart),this.to.push(J-this.chunkStart),this.last=Q,this.lastFrom=Z,this.lastTo=J,this.value.push(Q),Q.point)this.maxPoint=Math.max(this.maxPoint,J-Z);return!0}addChunk(Z,J){if((Z-this.lastTo||J.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,J.maxPoint),this.chunks.push(J),this.chunkPos.push(Z);let Q=J.value.length-1;return this.last=J.value[Q],this.lastFrom=J.from[Q]+Z,this.lastTo=J.to[Q]+Z,!0}finish(){return this.finishInner(E9.empty)}finishInner(Z){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return Z;let J=E9.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Z):Z,this.setMaxPoint);return this.from=null,J}}function C00(Z,J,Q){let K=new Map;for(let U of Z)for(let Y=0;Y<U.chunk.length;Y++)if(U.chunk[Y].maxPoint<=0)K.set(U.chunk[Y],U.chunkPos[Y]);let X=new Set;for(let U of J)for(let Y=0;Y<U.chunk.length;Y++){let q=K.get(U.chunk[Y]);if(q!=null&&(Q?Q.mapPos(q):q)==U.chunkPos[Y]&&!(Q===null||Q===void 0?void 0:Q.touchesRange(q,q+U.chunk[Y].length)))X.add(U.chunk[Y])}return X}class Xv{constructor(Z,J,Q,K=0){this.layer=Z,this.skip=J,this.minPoint=Q,this.rank=K}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Z,J=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Z,J,!1),this}gotoInner(Z,J,Q){while(this.chunkIndex<this.layer.chunk.length){let K=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(K)||this.layer.chunkEnd(this.chunkIndex)<Z||K.maxPoint<this.minPoint))break;this.chunkIndex++,Q=!1}if(this.chunkIndex<this.layer.chunk.length){let K=this.layer.chunk[this.chunkIndex].findIndex(Z-this.layer.chunkPos[this.chunkIndex],J,!0);if(!Q||this.rangeIndex<K)this.setRangeIndex(K)}this.next()}forward(Z,J){if((this.to-Z||this.endSide-J)<0)this.gotoInner(Z,J,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Z=this.layer.chunkPos[this.chunkIndex],J=this.layer.chunk[this.chunkIndex],Q=Z+J.from[this.rangeIndex];if(this.from=Q,this.to=Z+J.to[this.rangeIndex],this.value=J.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Z){if(Z==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Z}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Z){return this.from-Z.from||this.startSide-Z.startSide||this.rank-Z.rank||this.to-Z.to||this.endSide-Z.endSide}}class fO{constructor(Z){this.heap=Z}static from(Z,J=null,Q=-1){let K=[];for(let X=0;X<Z.length;X++)for(let U=Z[X];!U.isEmpty;U=U.nextLayer)if(U.maxPoint>=Q)K.push(new Xv(U,J,Q,X));return K.length==1?K[0]:new fO(K)}get startSide(){return this.value?this.value.startSide:0}goto(Z,J=-1e9){for(let Q of this.heap)Q.goto(Z,J);for(let Q=this.heap.length>>1;Q>=0;Q--)uf(this.heap,Q);return this.next(),this}forward(Z,J){for(let Q of this.heap)Q.forward(Z,J);for(let Q=this.heap.length>>1;Q>=0;Q--)uf(this.heap,Q);if((this.to-Z||this.value.endSide-J)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Z=this.heap[0];if(this.from=Z.from,this.to=Z.to,this.value=Z.value,this.rank=Z.rank,Z.value)Z.next();uf(this.heap,0)}}}function uf(Z,J){for(let Q=Z[J];;){let K=(J<<1)+1;if(K>=Z.length)break;let X=Z[K];if(K+1<Z.length&&X.compare(Z[K+1])>=0)X=Z[K+1],K++;if(Q.compare(X)<0)break;Z[K]=Q,Z[J]=X,J=K}}class YH{constructor(Z,J,Q){this.minPoint=Q,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fO.from(Z,J,Q)}goto(Z,J=-1e9){return this.cursor.goto(Z,J),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Z,this.endSide=J,this.openStart=-1,this.next(),this}forward(Z,J){while(this.minActive>-1&&(this.activeTo[this.minActive]-Z||this.active[this.minActive].endSide-J)<0)this.removeActive(this.minActive);this.cursor.forward(Z,J)}removeActive(Z){YN(this.active,Z),YN(this.activeTo,Z),YN(this.activeRank,Z),this.minActive=T00(this.active,this.activeTo)}addActive(Z){let J=0,{value:Q,to:K,rank:X}=this.cursor;while(J<this.activeRank.length&&(X-this.activeRank[J]||K-this.activeTo[J])>0)J++;if(qN(this.active,J,Q),qN(this.activeTo,J,K),qN(this.activeRank,J,X),Z)qN(Z,J,this.cursor.from);this.minActive=T00(this.active,this.activeTo)}next(){let Z=this.to,J=this.point;this.point=null;let Q=this.openStart<0?[]:null;for(;;){let K=this.minActive;if(K>-1&&(this.activeTo[K]-this.cursor.from||this.active[K].endSide-this.cursor.startSide)<0){if(this.activeTo[K]>Z){this.to=this.activeTo[K],this.endSide=this.active[K].endSide;break}if(this.removeActive(K),Q)YN(Q,K)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>Z){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let X=this.cursor.value;if(!X.point)this.addActive(Q),this.cursor.next();else if(J&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=X,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=X.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(Q){this.openStart=0;for(let K=Q.length-1;K>=0&&Q[K]<Z;K--)this.openStart++}}activeForPoint(Z){if(!this.active.length)return this.active;let J=[];for(let Q=this.active.length-1;Q>=0;Q--){if(this.activeRank[Q]<this.pointRank)break;if(this.activeTo[Q]>Z||this.activeTo[Q]==Z&&this.active[Q].endSide>=this.point.endSide)J.push(this.active[Q])}return J.reverse()}openEnd(Z){let J=0;for(let Q=this.activeTo.length-1;Q>=0&&this.activeTo[Q]>Z;Q--)J++;return J}}function S00(Z,J,Q,K,X,U){Z.goto(J),Q.goto(K);let Y=K+X,q=K,W=K-J,G=!!U.boundChange;for(let z=!1;;){let H=Z.to+W-Q.to,F=H||Z.endSide-Q.endSide,M=F<0?Z.to+W:Q.to,B=Math.min(M,Y);if(Z.point||Q.point){if(!(Z.point&&Q.point&&Qv(Z.point,Q.point)&&af(Z.activeForPoint(Z.to),Q.activeForPoint(Q.to))))U.comparePoint(q,B,Z.point,Q.point);z=!1}else{if(z)U.boundChange(q);if(B>q&&!af(Z.active,Q.active))U.compareRange(q,B,Z.active,Q.active);if(G&&B<Y&&(H||Z.openEnd(M)!=Q.openEnd(M)))z=!0}if(M>Y)break;if(q=M,F<=0)Z.next();if(F>=0)Q.next()}}function af(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++)if(Z[Q]!=J[Q]&&!Qv(Z[Q],J[Q]))return!1;return!0}function YN(Z,J){for(let Q=J,K=Z.length-1;Q<K;Q++)Z[Q]=Z[Q+1];Z.pop()}function qN(Z,J,Q){for(let K=Z.length-1;K>=J;K--)Z[K+1]=Z[K];Z[J]=Q}function T00(Z,J){let Q=-1,K=1e9;for(let X=0;X<J.length;X++)if((J[X]-K||Z[X].endSide-Z[Q].endSide)<0)Q=X,K=J[X];return Q}function cQ(Z,J,Q=Z.length){let K=0;for(let X=0;X<Q&&X<Z.length;)if(Z.charCodeAt(X)==9)K+=J-K%J,X++;else K++,X=vJ(Z,X);return K}function MN(Z,J,Q,K){for(let X=0,U=0;;){if(U>=J)return X;if(X==Z.length)break;U+=Z.charCodeAt(X)==9?Q-U%Q:1,X=vJ(Z,X)}return K===!0?-1:Z.length}var p00=typeof Symbol>"u"?"__"+"":Symbol.for(""),Uv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),c00=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class iK{constructor(Z,J){this.rules=[];let{finish:Q}=J||{};function K(U){return/^@/.test(U)?[U]:U.split(/,\s*/)}function X(U,Y,q,W){let G=[],z=/^@(\w+)\b/.exec(U[0]),H=z&&z[1]=="keyframes";if(z&&Y==null)return q.push(U[0]+";");for(let F in Y){let M=Y[F];if(/&/.test(F))X(F.split(/,\s*/).map((B)=>U.map((O)=>B.replace(/&/,O))).reduce((B,O)=>B.concat(O)),M,q);else if(M&&typeof M=="object"){if(!z)throw RangeError("The value of a property ("+F+") should be a primitive value.");X(K(F),M,G,H)}else if(M!=null)G.push(F.replace(/_.*/,"").replace(/[A-Z]/g,(B)=>"-"+B.toLowerCase())+": "+M+";")}if(G.length||H)q.push((Q&&!z&&!W?U.map(Q):U).join(", ")+" {"+G.join(" ")+"}")}for(let U in Z)X(K(U),Z[U],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Z=c00[p00]||1;return c00[p00]=Z+1,""+Z.toString(36)}static mount(Z,J,Q){let K=Z[Uv],X=Q&&Q.nonce;if(!K)K=new d00(Z,X);else if(X)K.setNonce(X);K.mount(Array.isArray(J)?J:[J],Z)}}var l00=new Map;class d00{constructor(Z,J){let Q=Z.ownerDocument||Z,K=Q.defaultView;if(!Z.head&&Z.adoptedStyleSheets&&K.CSSStyleSheet){let X=l00.get(Q);if(X)return Z[Uv]=X;this.sheet=new K.CSSStyleSheet,l00.set(Q,this)}else if(this.styleTag=Q.createElement("style"),J)this.styleTag.setAttribute("nonce",J);this.modules=[],Z[Uv]=this}mount(Z,J){let Q=this.sheet,K=0,X=0;for(let U=0;U<Z.length;U++){let Y=Z[U],q=this.modules.indexOf(Y);if(q<X&&q>-1)this.modules.splice(q,1),X--,q=-1;if(q==-1){if(this.modules.splice(X++,0,Y),Q)for(let W=0;W<Y.rules.length;W++)Q.insertRule(Y.rules[W],K++)}else{while(X<q)K+=this.modules[X++].rules.length;K+=Y.rules.length,X++}}if(Q){if(J.adoptedStyleSheets.indexOf(this.sheet)<0)J.adoptedStyleSheets=[this.sheet,...J.adoptedStyleSheets]}else{let U="";for(let q=0;q<this.modules.length;q++)U+=this.modules[q].getRules()+`
`;this.styleTag.textContent=U;let Y=J.head||J;if(this.styleTag.parentNode!=Y)Y.insertBefore(this.styleTag,Y.firstChild)}}setNonce(Z){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=Z)this.styleTag.setAttribute("nonce",Z)}}var kU={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},HH={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zl0=typeof navigator<"u"&&/Mac/.test(navigator.platform),Hl0=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(jJ=0;jJ<10;jJ++)kU[48+jJ]=kU[96+jJ]=String(jJ);var jJ;for(jJ=1;jJ<=24;jJ++)kU[jJ+111]="F"+jJ;var jJ;for(jJ=65;jJ<=90;jJ++)kU[jJ]=String.fromCharCode(jJ+32),HH[jJ]=String.fromCharCode(jJ);var jJ;for(xO in kU)if(!HH.hasOwnProperty(xO))HH[xO]=kU[xO];var xO;function i00(Z){var J=zl0&&Z.metaKey&&Z.shiftKey&&!Z.ctrlKey&&!Z.altKey||Hl0&&Z.shiftKey&&Z.key&&Z.key.length==1||Z.key=="Unidentified",Q=!J&&Z.key||(Z.shiftKey?HH:kU)[Z.keyCode]||Z.key||"Unidentified";if(Q=="Esc")Q="Escape";if(Q=="Del")Q="Delete";if(Q=="Left")Q="ArrowLeft";if(Q=="Up")Q="ArrowUp";if(Q=="Right")Q="ArrowRight";if(Q=="Down")Q="ArrowDown";return Q}function zZ(){var Z=arguments[0];if(typeof Z=="string")Z=document.createElement(Z);var J=1,Q=arguments[1];if(Q&&typeof Q=="object"&&Q.nodeType==null&&!Array.isArray(Q)){for(var K in Q)if(Object.prototype.hasOwnProperty.call(Q,K)){var X=Q[K];if(typeof X=="string")Z.setAttribute(K,X);else if(X!=null)Z[K]=X}J++}for(;J<arguments.length;J++)s00(Z,arguments[J]);return Z}function s00(Z,J){if(typeof J=="string")Z.appendChild(document.createTextNode(J));else if(J==null);else if(J.nodeType!=null)Z.appendChild(J);else if(Array.isArray(J))for(var Q=0;Q<J.length;Q++)s00(Z,J[Q]);else throw RangeError("Unsupported child node: "+J)}var lQ=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ov=typeof document<"u"?document:{documentElement:{style:{}}},Rv=/Edge\/(\d+)/.exec(lQ.userAgent),f80=/MSIE \d/.test(lQ.userAgent),Dv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lQ.userAgent),gN=!!(f80||Dv||Rv),r00=!gN&&/gecko\/(\d+)/i.test(lQ.userAgent),Yv=!gN&&/Chrome\/(\d+)/.exec(lQ.userAgent),n00="webkitFontSmoothing"in Ov.documentElement.style,Lv=!gN&&/Apple Computer/.test(lQ.vendor),a00=Lv&&(/Mobile\/\w+/.test(lQ.userAgent)||lQ.maxTouchPoints>2),x8={mac:a00||/Mac/.test(lQ.platform),windows:/Win/.test(lQ.platform),linux:/Linux|X11/.test(lQ.platform),ie:gN,ie_version:f80?Ov.documentMode||6:Dv?+Dv[1]:Rv?+Rv[1]:0,gecko:r00,gecko_version:r00?+(/Firefox\/(\d+)/.exec(lQ.userAgent)||[0,0])[1]:0,chrome:!!Yv,chrome_version:Yv?+Yv[1]:0,ios:a00,android:/Android\b/.test(lQ.userAgent),webkit:n00,webkit_version:n00?+(/\bAppleWebKit\/(\d+)/.exec(lQ.userAgent)||[0,0])[1]:0,safari:Lv,safari_version:Lv?+(/\bVersion\/(\d+(\.\d+)?)/.exec(lQ.userAgent)||[0,0])[1]:0,tabSize:Ov.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function uv(Z,J){for(let Q in Z)if(Q=="class"&&J.class)J.class+=" "+Z.class;else if(Q=="style"&&J.style)J.style+=";"+Z.style;else J[Q]=Z[Q];return J}var _N=Object.create(null);function gv(Z,J,Q){if(Z==J)return!0;if(!Z)Z=_N;if(!J)J=_N;let K=Object.keys(Z),X=Object.keys(J);if(K.length-(Q&&K.indexOf(Q)>-1?1:0)!=X.length-(Q&&X.indexOf(Q)>-1?1:0))return!1;for(let U of K)if(U!=Q&&(X.indexOf(U)==-1||Z[U]!==J[U]))return!1;return!0}function Fl0(Z,J){for(let Q=Z.attributes.length-1;Q>=0;Q--){let K=Z.attributes[Q].name;if(J[K]==null)Z.removeAttribute(K)}for(let Q in J){let K=J[Q];if(Q=="style")Z.style.cssText=K;else if(Z.getAttribute(Q)!=K)Z.setAttribute(Q,K)}}function o00(Z,J,Q){let K=!1;if(J){for(let X in J)if(!(Q&&(X in Q)))if(K=!0,X=="style")Z.style.cssText="";else Z.removeAttribute(X)}if(Q){for(let X in Q)if(!(J&&J[X]==Q[X]))if(K=!0,X=="style")Z.style.cssText=Q[X];else Z.setAttribute(X,Q[X])}return K}function Ml0(Z){let J=Object.create(null);for(let Q=0;Q<Z.attributes.length;Q++){let K=Z.attributes[Q];J[K.name]=K.value}return J}class T6{eq(Z){return!1}updateDOM(Z,J){return!1}compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Z){return!0}coordsAt(Z,J,Q){return null}get isHidden(){return!1}get editable(){return!1}destroy(Z){}}var n7=function(Z){return Z[Z.Text=0]="Text",Z[Z.WidgetBefore=1]="WidgetBefore",Z[Z.WidgetAfter=2]="WidgetAfter",Z[Z.WidgetRange=3]="WidgetRange",Z}(n7||(n7={}));class r8 extends dK{constructor(Z,J,Q,K){super();this.startSide=Z,this.endSide=J,this.widget=Q,this.spec=K}get heightRelevant(){return!1}static mark(Z){return new aO(Z)}static widget(Z){let J=Math.max(-1e4,Math.min(1e4,Z.side||0)),Q=!!Z.block;return J+=Q&&!Z.inlineOrder?J>0?300000000:-400000000:J>0?1e8:-1e8,new tW(Z,J,J,Q,Z.widget||null,!1)}static replace(Z){let J=!!Z.block,Q,K;if(Z.isBlockGap)Q=-500000000,K=400000000;else{let{start:X,end:U}=v80(Z,J);Q=(X?J?-300000000:-1:500000000)-1,K=(U?J?200000000:1:-600000000)+1}return new tW(Z,Q,K,J,Z.widget||null,!0)}static line(Z){return new oO(Z)}static set(Z,J=!1){return E9.of(Z,J)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}r8.none=E9.empty;class aO extends r8{constructor(Z){let{start:J,end:Q}=v80(Z);super(J?-1:500000000,Q?1:-600000000,null,Z);this.tagName=Z.tagName||"span",this.attrs=Z.class&&Z.attributes?uv(Z.attributes,{class:Z.class}):Z.class?{class:Z.class}:Z.attributes||_N}eq(Z){return this==Z||Z instanceof aO&&this.tagName==Z.tagName&&gv(this.attrs,Z.attrs)}range(Z,J=Z){if(Z>=J)throw RangeError("Mark decorations may not be empty");return super.range(Z,J)}}aO.prototype.point=!1;class oO extends r8{constructor(Z){super(-200000000,-200000000,null,Z)}eq(Z){return Z instanceof oO&&this.spec.class==Z.spec.class&&gv(this.spec.attributes,Z.spec.attributes)}range(Z,J=Z){if(J!=Z)throw RangeError("Line decoration ranges must be zero-length");return super.range(Z,J)}}oO.prototype.mapMode=M7.TrackBefore;oO.prototype.point=!0;class tW extends r8{constructor(Z,J,Q,K,X,U){super(J,Q,X,Z);this.block=K,this.isReplace=U,this.mapMode=!K?M7.TrackDel:J<=0?M7.TrackBefore:M7.TrackAfter}get type(){return this.startSide!=this.endSide?n7.WidgetRange:this.startSide<=0?n7.WidgetBefore:n7.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Z){return Z instanceof tW&&Bl0(this.widget,Z.widget)&&this.block==Z.block&&this.startSide==Z.startSide&&this.endSide==Z.endSide}range(Z,J=Z){if(this.isReplace&&(Z>J||Z==J&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&J!=Z)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(Z,J)}}tW.prototype.point=!0;function v80(Z,J=!1){let{inclusiveStart:Q,inclusiveEnd:K}=Z;if(Q==null)Q=Z.inclusive;if(K==null)K=Z.inclusive;return{start:Q!==null&&Q!==void 0?Q:J,end:K!==null&&K!==void 0?K:J}}function Bl0(Z,J){return Z==J||!!(Z&&J&&Z.compare(J))}function BH(Z,J,Q,K=0){let X=Q.length-1;if(X>=0&&Q[X]+K>=Z)Q[X]=Math.max(Q[X],J);else Q.push(Z,J)}class iO extends dK{constructor(Z,J){super();this.tagName=Z,this.attributes=J}eq(Z){return Z==this||Z instanceof iO&&this.tagName==Z.tagName&&gv(this.attributes,Z.attributes)}static create(Z){return new iO(Z.tagName,Z.attributes||_N)}static set(Z,J=!1){return E9.of(Z,J)}}iO.prototype.startSide=iO.prototype.endSide=-1;function DH(Z){let J;if(Z.nodeType==11)J=Z.getSelection?Z:Z.ownerDocument;else J=Z;return J.getSelection()}function Iv(Z,J){return J?Z==J||Z.contains(J.nodeType!=1?J.parentNode:J):!1}function pO(Z,J){if(!J.anchorNode)return!1;try{return Iv(Z,J.anchorNode)}catch(Q){return!1}}function VN(Z){if(Z.nodeType==3)return sO(Z,0,Z.nodeValue.length).getClientRects();else if(Z.nodeType==1)return Z.getClientRects();else return[]}function cO(Z,J,Q,K){return Q?t00(Z,J,Q,K,-1)||t00(Z,J,Q,K,1):!1}function Z1(Z){for(var J=0;;J++)if(Z=Z.previousSibling,!Z)return J}function fN(Z){return Z.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(Z.nodeName)}function t00(Z,J,Q,K,X){for(;;){if(Z==Q&&J==K)return!0;if(J==(X<0?0:fU(Z))){if(Z.nodeName=="DIV")return!1;let U=Z.parentNode;if(!U||U.nodeType!=1)return!1;J=Z1(Z)+(X<0?0:1),Z=U}else if(Z.nodeType==1){if(Z=Z.childNodes[J+(X<0?-1:0)],Z.nodeType==1&&Z.contentEditable=="false")return!1;J=X<0?fU(Z):0}else return!1}}function fU(Z){return Z.nodeType==3?Z.nodeValue.length:Z.childNodes.length}function vN(Z,J){let Q=J?Z.left:Z.right;return{left:Q,right:Q,top:Z.top,bottom:Z.bottom}}function Ol0(Z){let J=Z.visualViewport;if(J)return{left:0,right:J.width,top:0,bottom:J.height};return{left:0,right:Z.innerWidth,top:0,bottom:Z.innerHeight}}function x80(Z,J){let Q=J.width/Z.offsetWidth,K=J.height/Z.offsetHeight;if(Q>0.995&&Q<1.005||!isFinite(Q)||Math.abs(J.width-Z.offsetWidth)<1)Q=1;if(K>0.995&&K<1.005||!isFinite(K)||Math.abs(J.height-Z.offsetHeight)<1)K=1;return{scaleX:Q,scaleY:K}}function Rl0(Z,J,Q,K,X,U,Y,q){let W=Z.ownerDocument,G=W.defaultView||window;for(let z=Z,H=!1;z&&!H;)if(z.nodeType==1){let F,M=z==W.body,B=1,O=1;if(M)F=Ol0(G);else{if(/^(fixed|sticky)$/.test(getComputedStyle(z).position))H=!0;if(z.scrollHeight<=z.clientHeight&&z.scrollWidth<=z.clientWidth){z=z.assignedSlot||z.parentNode;continue}let L=z.getBoundingClientRect();({scaleX:B,scaleY:O}=x80(z,L)),F={left:L.left,right:L.left+z.clientWidth*B,top:L.top,bottom:L.top+z.clientHeight*O}}let R=0,D=0;if(X=="nearest"){if(J.top<F.top){if(D=J.top-(F.top+Y),Q>0&&J.bottom>F.bottom+D)D=J.bottom-F.bottom+Y}else if(J.bottom>F.bottom){if(D=J.bottom-F.bottom+Y,Q<0&&J.top-D<F.top)D=J.top-(F.top+Y)}}else{let L=J.bottom-J.top,A=F.bottom-F.top;D=(X=="center"&&L<=A?J.top+L/2-A/2:X=="start"||X=="center"&&Q<0?J.top-Y:J.bottom-A+Y)-F.top}if(K=="nearest"){if(J.left<F.left){if(R=J.left-(F.left+U),Q>0&&J.right>F.right+R)R=J.right-F.right+U}else if(J.right>F.right){if(R=J.right-F.right+U,Q<0&&J.left<F.left+R)R=J.left-(F.left+U)}}else R=(K=="center"?J.left+(J.right-J.left)/2-(F.right-F.left)/2:K=="start"==q?J.left-U:J.right-(F.right-F.left)+U)-F.left;if(R||D)if(M)G.scrollBy(R,D);else{let L=0,A=0;if(D){let V=z.scrollTop;z.scrollTop+=D/O,A=(z.scrollTop-V)*O}if(R){let V=z.scrollLeft;z.scrollLeft+=R/B,L=(z.scrollLeft-V)*B}if(J={left:J.left-L,top:J.top-A,right:J.right-L,bottom:J.bottom-A},L&&Math.abs(L-R)<1)K="nearest";if(A&&Math.abs(A-D)<1)X="nearest"}if(M)break;if(J.top<F.top||J.bottom>F.bottom||J.left<F.left||J.right>F.right)J={left:Math.max(J.left,F.left),right:Math.min(J.right,F.right),top:Math.max(J.top,F.top),bottom:Math.min(J.bottom,F.bottom)};z=z.assignedSlot||z.parentNode}else if(z.nodeType==11)z=z.host;else break}function Dl0(Z){let J=Z.ownerDocument,Q,K;for(let X=Z.parentNode;X;)if(X==J.body||Q&&K)break;else if(X.nodeType==1){if(!K&&X.scrollHeight>X.clientHeight)K=X;if(!Q&&X.scrollWidth>X.clientWidth)Q=X;X=X.assignedSlot||X.parentNode}else if(X.nodeType==11)X=X.host;else break;return{x:Q,y:K}}class b80{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Z){return this.anchorNode==Z.anchorNode&&this.anchorOffset==Z.anchorOffset&&this.focusNode==Z.focusNode&&this.focusOffset==Z.focusOffset}setRange(Z){let{anchorNode:J,focusNode:Q}=Z;this.set(J,Math.min(Z.anchorOffset,J?fU(J):0),Q,Math.min(Z.focusOffset,Q?fU(Q):0))}set(Z,J,Q,K){this.anchorNode=Z,this.anchorOffset=J,this.focusNode=Q,this.focusOffset=K}}var aW=null;if(x8.safari&&x8.safari_version>=26)aW=!1;function y80(Z){if(Z.setActive)return Z.setActive();if(aW)return Z.focus(aW);let J=[];for(let Q=Z;Q;Q=Q.parentNode)if(J.push(Q,Q.scrollTop,Q.scrollLeft),Q==Q.ownerDocument)break;if(Z.focus(aW==null?{get preventScroll(){return aW={preventScroll:!0},!0}}:void 0),!aW){aW=!1;for(let Q=0;Q<J.length;){let K=J[Q++],X=J[Q++],U=J[Q++];if(K.scrollTop!=X)K.scrollTop=X;if(K.scrollLeft!=U)K.scrollLeft=U}}}var e00;function sO(Z,J,Q=J){let K=e00||(e00=document.createRange());return K.setEnd(Z,Q),K.setStart(Z,J),K}function OH(Z,J,Q,K){let X={key:J,code:J,keyCode:Q,which:Q,cancelable:!0};if(K)({altKey:X.altKey,ctrlKey:X.ctrlKey,shiftKey:X.shiftKey,metaKey:X.metaKey}=K);let U=new KeyboardEvent("keydown",X);U.synthetic=!0,Z.dispatchEvent(U);let Y=new KeyboardEvent("keyup",X);return Y.synthetic=!0,Z.dispatchEvent(Y),U.defaultPrevented||Y.defaultPrevented}function Ll0(Z){while(Z){if(Z&&(Z.nodeType==9||Z.nodeType==11&&Z.host))return Z;Z=Z.assignedSlot||Z.parentNode}return null}function Il0(Z,J){let{focusNode:Q,focusOffset:K}=J;if(!Q||J.anchorNode!=Q||J.anchorOffset!=K)return!1;K=Math.min(K,fU(Q));for(;;)if(K){if(Q.nodeType!=1)return!1;let X=Q.childNodes[K-1];if(X.contentEditable=="false")K--;else Q=X,K=fU(Q)}else if(Q==Z)return!0;else K=Z1(Q),Q=Q.parentNode}function h80(Z){return Z.scrollTop>Math.max(1,Z.scrollHeight-Z.clientHeight-4)}function m80(Z,J){for(let Q=Z,K=J;;)if(Q.nodeType==3&&K>0)return{node:Q,offset:K};else if(Q.nodeType==1&&K>0){if(Q.contentEditable=="false")return null;Q=Q.childNodes[K-1],K=fU(Q)}else if(Q.parentNode&&!fN(Q))K=Z1(Q),Q=Q.parentNode;else return null}function u80(Z,J){for(let Q=Z,K=J;;)if(Q.nodeType==3&&K<Q.nodeValue.length)return{node:Q,offset:K};else if(Q.nodeType==1&&K<Q.childNodes.length){if(Q.contentEditable=="false")return null;Q=Q.childNodes[K],K=0}else if(Q.parentNode&&!fN(Q))K=Z1(Q)+1,Q=Q.parentNode;else return null}class nK{constructor(Z,J,Q=!0){this.node=Z,this.offset=J,this.precise=Q}static before(Z,J){return new nK(Z.parentNode,Z1(Z),J)}static after(Z,J){return new nK(Z.parentNode,Z1(Z)+1,J)}}var LZ=function(Z){return Z[Z.LTR=0]="LTR",Z[Z.RTL=1]="RTL",Z}(LZ||(LZ={})),eW=LZ.LTR,pv=LZ.RTL;function g80(Z){let J=[];for(let Q=0;Q<Z.length;Q++)J.push(1<<+Z[Q]);return J}var Al0=g80("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Nl0=g80("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Av=Object.create(null),r5=[];for(let Z of["()","[]","{}"]){let J=Z.charCodeAt(0),Q=Z.charCodeAt(1);Av[J]=Q,Av[Q]=-J}function p80(Z){return Z<=247?Al0[Z]:1424<=Z&&Z<=1524?2:1536<=Z&&Z<=1785?Nl0[Z-1536]:1774<=Z&&Z<=2220?4:8192<=Z&&Z<=8204?256:64336<=Z&&Z<=65023?4:1}var El0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class n5{get dir(){return this.level%2?pv:eW}constructor(Z,J,Q){this.from=Z,this.to=J,this.level=Q}side(Z,J){return this.dir==J==Z?this.to:this.from}forward(Z,J){return Z==(this.dir==J)}static find(Z,J,Q,K){let X=-1;for(let U=0;U<Z.length;U++){let Y=Z[U];if(Y.from<=J&&Y.to>=J){if(Y.level==Q)return U;if(X<0||(K!=0?K<0?Y.from<J:Y.to>J:Z[X].level>Y.level))X=U}}if(X<0)throw RangeError("Index out of range");return X}}function c80(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q],X=J[Q];if(K.from!=X.from||K.to!=X.to||K.direction!=X.direction||!c80(K.inner,X.inner))return!1}return!0}var yZ=[];function Vl0(Z,J,Q,K,X){for(let U=0;U<=K.length;U++){let Y=U?K[U-1].to:J,q=U<K.length?K[U].from:Q,W=U?256:X;for(let G=Y,z=W,H=W;G<q;G++){let F=p80(Z.charCodeAt(G));if(F==512)F=z;else if(F==8&&H==4)F=16;if(yZ[G]=F==4?2:F,F&7)H=F;z=F}for(let G=Y,z=W,H=W;G<q;G++){let F=yZ[G];if(F==128)if(G<q-1&&z==yZ[G+1]&&z&24)F=yZ[G]=z;else yZ[G]=256;else if(F==64){let M=G+1;while(M<q&&yZ[M]==64)M++;let B=G&&z==8||M<Q&&yZ[M]==8?H==1?1:8:256;for(let O=G;O<M;O++)yZ[O]=B;G=M-1}else if(F==8&&H==1)yZ[G]=1;if(z=F,F&7)H=F}}}function Pl0(Z,J,Q,K,X){let U=X==1?2:1;for(let Y=0,q=0,W=0;Y<=K.length;Y++){let G=Y?K[Y-1].to:J,z=Y<K.length?K[Y].from:Q;for(let H=G,F,M,B;H<z;H++)if(M=Av[F=Z.charCodeAt(H)])if(M<0){for(let O=q-3;O>=0;O-=3)if(r5[O+1]==-M){let R=r5[O+2],D=R&2?X:!(R&4)?0:R&1?U:X;if(D)yZ[H]=yZ[r5[O]]=D;q=O;break}}else if(r5.length==189)break;else r5[q++]=H,r5[q++]=F,r5[q++]=W;else if((B=yZ[H])==2||B==1){let O=B==X;W=O?0:1;for(let R=q-3;R>=0;R-=3){let D=r5[R+2];if(D&2)break;if(O)r5[R+2]|=2;else{if(D&4)break;r5[R+2]|=4}}}}}function jl0(Z,J,Q,K){for(let X=0,U=K;X<=Q.length;X++){let Y=X?Q[X-1].to:Z,q=X<Q.length?Q[X].from:J;for(let W=Y;W<q;){let G=yZ[W];if(G==256){let z=W+1;for(;;)if(z==q){if(X==Q.length)break;z=Q[X++].to,q=X<Q.length?Q[X].from:J}else if(yZ[z]==256)z++;else break;let H=U==1,F=(z<J?yZ[z]:K)==1,M=H==F?H?1:2:K;for(let B=z,O=X,R=O?Q[O-1].to:Z;B>W;){if(B==R)B=Q[--O].from,R=O?Q[O-1].to:Z;yZ[--B]=M}W=z}else U=G,W++}}}function Nv(Z,J,Q,K,X,U,Y){let q=K%2?2:1;if(K%2==X%2)for(let W=J,G=0;W<Q;){let z=!0,H=!1;if(G==U.length||W<U[G].from){let O=yZ[W];if(O!=q)z=!1,H=O==16}let F=!z&&q==1?[]:null,M=z?K:K+1,B=W;Z:for(;;)if(G<U.length&&B==U[G].from){if(H)break Z;let O=U[G];if(!z)for(let R=O.to,D=G+1;;){if(R==Q)break Z;if(D<U.length&&U[D].from==R)R=U[D++].to;else if(yZ[R]==q)break Z;else break}if(G++,F)F.push(O);else{if(O.from>W)Y.push(new n5(W,O.from,M));let R=O.direction==eW!=!(M%2);Ev(Z,R?K+1:K,X,O.inner,O.from,O.to,Y),W=O.to}B=O.to}else if(B==Q||(z?yZ[B]!=q:yZ[B]==q))break;else B++;if(F)Nv(Z,W,B,K+1,X,F,Y);else if(W<B)Y.push(new n5(W,B,M));W=B}else for(let W=Q,G=U.length;W>J;){let z=!0,H=!1;if(!G||W>U[G-1].to){let O=yZ[W-1];if(O!=q)z=!1,H=O==16}let F=!z&&q==1?[]:null,M=z?K:K+1,B=W;Z:for(;;)if(G&&B==U[G-1].to){if(H)break Z;let O=U[--G];if(!z)for(let R=O.from,D=G;;){if(R==J)break Z;if(D&&U[D-1].to==R)R=U[--D].from;else if(yZ[R-1]==q)break Z;else break}if(F)F.push(O);else{if(O.to<W)Y.push(new n5(O.to,W,M));let R=O.direction==eW!=!(M%2);Ev(Z,R?K+1:K,X,O.inner,O.from,O.to,Y),W=O.from}B=O.from}else if(B==J||(z?yZ[B-1]!=q:yZ[B-1]==q))break;else B--;if(F)Nv(Z,B,W,K+1,X,F,Y);else if(B<W)Y.push(new n5(B,W,M));W=B}}function Ev(Z,J,Q,K,X,U,Y){let q=J%2?2:1;Vl0(Z,X,U,K,q),Pl0(Z,X,U,K,q),jl0(X,U,K,q),Nv(Z,X,U,J,Q,K,Y)}function Cl0(Z,J,Q){if(!Z)return[new n5(0,0,J==pv?1:0)];if(J==eW&&!Q.length&&!El0.test(Z))return l80(Z.length);if(Q.length)while(Z.length>yZ.length)yZ[yZ.length]=256;let K=[],X=J==eW?0:1;return Ev(Z,X,X,Q,0,Z.length,K),K}function l80(Z){return[new n5(0,Z,0)]}var d80="";function Sl0(Z,J,Q,K,X){var U;let Y=K.head-Z.from,q=n5.find(J,Y,(U=K.bidiLevel)!==null&&U!==void 0?U:-1,K.assoc),W=J[q],G=W.side(X,Q);if(Y==G){let F=q+=X?1:-1;if(F<0||F>=J.length)return null;W=J[q=F],Y=W.side(!X,Q),G=W.side(X,Q)}let z=vJ(Z.text,Y,W.forward(X,Q));if(z<W.from||z>W.to)z=G;d80=Z.text.slice(Math.min(Y,z),Math.max(Y,z));let H=q==(X?J.length-1:0)?null:J[q+(X?1:-1)];if(H&&z==G&&H.level+(X?0:1)<W.level)return a0.cursor(H.side(!X,Q)+Z.from,H.forward(X,Q)?1:-1,H.level);return a0.cursor(z+Z.from,W.forward(X,Q)?-1:1,W.level)}function Tl0(Z,J,Q){for(let K=J;K<Q;K++){let X=p80(Z.charCodeAt(K));if(X==1)return eW;if(X==2||X==4)return pv}return eW}var i80=w8.define(),s80=w8.define(),r80=w8.define(),n80=w8.define(),Vv=w8.define(),a80=w8.define(),o80=w8.define(),cv=w8.define(),lv=w8.define(),t80=w8.define({combine:(Z)=>Z.some((J)=>J)}),e80=w8.define({combine:(Z)=>Z.some((J)=>J)}),Z90=w8.define();class RH{constructor(Z,J="nearest",Q="nearest",K=5,X=5,U=!1){this.range=Z,this.y=J,this.x=Q,this.yMargin=K,this.xMargin=X,this.isSnapshot=U}map(Z){return Z.empty?this:new RH(this.range.map(Z),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Z){return this.range.to<=Z.doc.length?this:new RH(a0.cursor(Z.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var BN=q9.define({map:(Z,J)=>Z.map(J)}),J90=q9.define();function r7(Z,J,Q){let K=Z.facet(n80);if(K.length)K[0](J);else if(window.onerror&&window.onerror(String(J),Q,void 0,void 0,J));else if(Q)console.error(Q+":",J);else console.error(J)}var _U=w8.define({combine:(Z)=>Z.length?Z[0]:!0}),wl0=0,FH=w8.define({combine(Z){return Z.filter((J,Q)=>{for(let K=0;K<Q;K++)if(Z[K].plugin==J.plugin)return!1;return!0})}});class MJ{constructor(Z,J,Q,K,X){this.id=Z,this.create=J,this.domEventHandlers=Q,this.domEventObservers=K,this.baseExtensions=X(this),this.extension=this.baseExtensions.concat(FH.of({plugin:this,arg:void 0}))}of(Z){return this.baseExtensions.concat(FH.of({plugin:this,arg:Z}))}static define(Z,J){let{eventHandlers:Q,eventObservers:K,provide:X,decorations:U}=J||{};return new MJ(wl0++,Z,Q,K,(Y)=>{let q=[];if(U)q.push(pN.of((W)=>{let G=W.plugin(Y);return G?U(G):r8.none}));if(X)q.push(X(Y));return q})}static fromClass(Z,J){return MJ.define((Q,K)=>new Z(Q,K),J)}}class PN{constructor(Z){this.spec=Z,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(Z){if(!this.value){if(this.spec)try{this.value=this.spec.plugin.create(Z,this.spec.arg)}catch(J){r7(Z.state,J,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let J=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(J)}catch(Q){if(r7(J.state,Q,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(K){}this.deactivate()}}return this}destroy(Z){var J;if((J=this.value)===null||J===void 0?void 0:J.destroy)try{this.value.destroy()}catch(Q){r7(Z.state,Q,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var Q90=w8.define(),dv=w8.define(),pN=w8.define(),K90=w8.define(),iv=w8.define(),tO=w8.define(),X90=w8.define();function Z80(Z,J){let Q=Z.state.facet(X90);if(!Q.length)return Q;let K=Q.map((U)=>U instanceof Function?U(Z):U),X=[];return E9.spans(K,J.from,J.to,{point(){},span(U,Y,q,W){let G=U-J.from,z=Y-J.from,H=X;for(let F=q.length-1;F>=0;F--,W--){let M=q[F].spec.bidiIsolate,B;if(M==null)M=Tl0(J.text,G,z);if(W>0&&H.length&&(B=H[H.length-1]).to==G&&B.direction==M)B.to=z,H=B.inner;else{let O={from:G,to:z,direction:M,inner:[]};H.push(O),H=O.inner}}}}),X}var U90=w8.define();function sv(Z){let J=0,Q=0,K=0,X=0;for(let U of Z.state.facet(U90)){let Y=U(Z);if(Y){if(Y.left!=null)J=Math.max(J,Y.left);if(Y.right!=null)Q=Math.max(Q,Y.right);if(Y.top!=null)K=Math.max(K,Y.top);if(Y.bottom!=null)X=Math.max(X,Y.bottom)}}return{left:J,right:Q,top:K,bottom:X}}var bO=w8.define();class a4{constructor(Z,J,Q,K){this.fromA=Z,this.toA=J,this.fromB=Q,this.toB=K}join(Z){return new a4(Math.min(this.fromA,Z.fromA),Math.max(this.toA,Z.toA),Math.min(this.fromB,Z.fromB),Math.max(this.toB,Z.toB))}addToSet(Z){let J=Z.length,Q=this;for(;J>0;J--){let K=Z[J-1];if(K.fromA>Q.toA)continue;if(K.toA<Q.fromA)break;Q=Q.join(K),Z.splice(J-1,1)}return Z.splice(J,0,Q),Z}static extendWithRanges(Z,J){if(J.length==0)return Z;let Q=[];for(let K=0,X=0,U=0;;){let Y=K<Z.length?Z[K].fromB:1e9,q=X<J.length?J[X]:1e9,W=Math.min(Y,q);if(W==1e9)break;let G=W+U,z=W,H=G;for(;;)if(X<J.length&&J[X]<=z){let F=J[X+1];X+=2,z=Math.max(z,F);for(let M=K;M<Z.length&&Z[M].fromB<=z;M++)U=Z[M].toA-Z[M].toB;H=Math.max(H,F+U)}else if(K<Z.length&&Z[K].fromB<=z){let F=Z[K++];z=Math.max(z,F.toB),H=Math.max(H,F.toA),U=F.toA-F.toB}else break;Q.push(new a4(G,H,W,z))}return Q}}class xN{constructor(Z,J,Q){this.view=Z,this.state=J,this.transactions=Q,this.flags=0,this.startState=Z.state,this.changes=lJ.empty(this.startState.doc.length);for(let X of Q)this.changes=this.changes.compose(X.changes);let K=[];this.changes.iterChangedRanges((X,U,Y,q)=>K.push(new a4(X,U,Y,q))),this.changedRanges=K}static create(Z,J,Q){return new xN(Z,J,Q)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((Z)=>Z.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var $l0=[];class dJ{constructor(Z,J,Q=0){this.dom=Z,this.length=J,this.flags=Q,this.parent=null,Z.cmTile=this}get breakAfter(){return this.flags&1}get children(){return $l0}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(Z){if(this.flags|=2,this.flags&4){this.flags&=-5;let J=this.domAttrs;if(J)Fl0(this.dom,J)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(Z){this.dom=Z,Z.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Z,J=this.posAtStart){let Q=J;for(let K of this.children){if(K==Z)return Q;Q+=K.length+K.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(Z){return this.posBefore(Z)+Z.length}covers(Z){return!0}coordsIn(Z,J){return null}domPosFor(Z,J){let Q=Z1(this.dom),K=this.length?Z>0:J>0;return new nK(this.parent.dom,Q+(K?1:0),Z==0||Z==this.length)}markDirty(Z){if(this.flags&=-3,Z)this.flags|=4;if(this.parent&&this.parent.flags&2)this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let Z=this;Z;Z=Z.parent)if(Z instanceof ZR)return Z;return null}static get(Z){return Z.cmTile}}class eO extends dJ{constructor(Z){super(Z,0);this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(Z){this.children.push(Z),Z.parent=this}sync(Z){if(this.flags&2)return;super.sync(Z);let J=this.dom,Q=null,K,X=(Z===null||Z===void 0?void 0:Z.node)==J?Z:null,U=0;for(let Y of this.children){if(Y.sync(Z),U+=Y.length+Y.breakAfter,K=Q?Q.nextSibling:J.firstChild,X&&K!=Y.dom)X.written=!0;if(Y.dom.parentNode==J)while(K&&K!=Y.dom)K=J80(K);else J.insertBefore(Y.dom,K);Q=Y.dom}if(K=Q?Q.nextSibling:J.firstChild,X&&K)X.written=!0;while(K)K=J80(K);this.length=U}}function J80(Z){let J=Z.nextSibling;return Z.parentNode.removeChild(Z),J}class ZR extends eO{constructor(Z,J){super(J);this.view=Z}owns(Z){for(;Z;Z=Z.parent)if(Z==this)return!0;return!1}isBlock(){return!0}nearest(Z){for(;;){if(!Z)return null;let J=dJ.get(Z);if(J&&this.owns(J))return J;Z=Z.parentNode}}blockTiles(Z){for(let J=[],Q=this,K=0,X=0;;)if(K==Q.children.length){if(!J.length)return;if(Q=Q.parent,Q.breakAfter)X++;K=J.pop()}else{let U=Q.children[K++];if(U instanceof eY)J.push(K),Q=U,K=0;else{let Y=X+U.length,q=Z(U,X);if(q!==void 0)return q;X=Y+U.breakAfter}}}resolveBlock(Z,J){let Q,K=-1,X,U=-1;if(this.blockTiles((Y,q)=>{let W=q+Y.length;if(Z>=q&&Z<=W){if(Y.isWidget()&&J>=-1&&J<=1){if(Y.flags&32)return!0;if(Y.flags&16)Q=void 0}if((q<Z||Z==W&&(J<-1?Y.length:Y.covers(1)))&&(!Q||!Y.isWidget()&&Q.isWidget()))Q=Y,K=Z-q;if((W>Z||Z==q&&(J>1?Y.length:Y.covers(-1)))&&(!X||!Y.isWidget()&&X.isWidget()))X=Y,U=Z-q}}),!Q&&!X)throw Error("No tile at position "+Z);return Q&&J<0||!X?{tile:Q,offset:K}:{tile:X,offset:U}}}class eY extends eO{constructor(Z,J){super(Z);this.wrapper=J}isBlock(){return!0}covers(Z){if(!this.children.length)return!1;return Z<0?this.children[0].covers(-1):this.lastChild.covers(1)}get domAttrs(){return this.wrapper.attributes}static of(Z,J){let Q=new eY(J||document.createElement(Z.tagName),Z);if(!J)Q.flags|=4;return Q}}class LH extends eO{constructor(Z,J){super(Z);this.attrs=J}isLine(){return!0}static start(Z,J,Q){let K=new LH(J||document.createElement("div"),Z);if(!J||!Q)K.flags|=4;return K}get domAttrs(){return this.attrs}resolveInline(Z,J,Q){let K=null,X=-1,U=null,Y=-1;function q(G,z){for(let H=0,F=0;H<G.children.length&&F<=z;H++){let M=G.children[H],B=F+M.length;if(B>=z){if(M.isComposite())q(M,z-F);else if((!U||U.isHidden&&(J>0||Q&&_l0(U,M)))&&(B>z||M.flags&32))U=M,Y=z-F;else if(F<z||M.flags&16&&!M.isHidden)K=M,X=z-F}F=B}}q(this,Z);let W=(J<0?K:U)||K||U;return W?{tile:W,offset:W==K?X:Y}:null}coordsIn(Z,J){let Q=this.resolveInline(Z,J,!0);if(!Q)return kl0(this);return Q.tile.coordsIn(Math.max(0,Q.offset),J)}domIn(Z,J){let Q=this.resolveInline(Z,J);if(Q){let{tile:K,offset:X}=Q;if(this.dom.contains(K.dom)){if(K.isText())return new nK(K.dom,Math.min(K.dom.nodeValue.length,X));return K.domPosFor(X,K.flags&16?1:K.flags&32?-1:J)}let U=Q.tile.parent,Y=!1;for(let q of U.children){if(Y)return new nK(q.dom,0);if(q==Q.tile)Y=!0}}return new nK(this.dom,0)}}function kl0(Z){let J=Z.dom.lastChild;if(!J)return Z.dom.getBoundingClientRect();let Q=VN(J);return Q[Q.length-1]||null}function _l0(Z,J){let Q=Z.coordsIn(0,1),K=J.coordsIn(0,1);return Q&&K&&K.top<Q.bottom}class S6 extends eO{constructor(Z,J){super(Z);this.mark=J}get domAttrs(){return this.mark.attrs}static of(Z,J){let Q=new S6(J||document.createElement(Z.tagName),Z);if(!J)Q.flags|=4;return Q}}class oW extends dJ{constructor(Z,J){super(Z,J.length);this.text=J}sync(Z){if(this.flags&2)return;if(super.sync(Z),this.dom.nodeValue!=this.text){if(Z&&Z.node==this.dom)Z.written=!0;this.dom.nodeValue=this.text}}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(Z,J){let Q=this.dom.nodeValue.length;if(Z>Q)Z=Q;let K=Z,X=Z,U=0;if(Z==0&&J<0||Z==Q&&J>=0){if(!(x8.chrome||x8.gecko)){if(Z)K--,U=1;else if(X<Q)X++,U=-1}}else if(J<0)K--;else if(X<Q)X++;let Y=sO(this.dom,K,X).getClientRects();if(!Y.length)return null;let q=Y[(U?U<0:J>=0)?0:Y.length-1];if(x8.safari&&!U&&q.width==0)q=Array.prototype.find.call(Y,(W)=>W.width)||q;return U?vN(q,U<0):q||null}static of(Z,J){let Q=new oW(J||document.createTextNode(Z),Z);if(!J)Q.flags|=2;return Q}}class ZG extends dJ{constructor(Z,J,Q,K){super(Z,J,K);this.widget=Q}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(Z){if(this.flags&48)return!1;return(this.flags&(Z<0?64:128))>0}coordsIn(Z,J){return this.coordsInWidget(Z,J,!1)}coordsInWidget(Z,J,Q){let K=this.widget.coordsAt(this.dom,Z,J);if(K)return K;if(Q)return vN(this.dom.getBoundingClientRect(),this.length?Z==0:J<=0);else{let X=this.dom.getClientRects(),U=null;if(!X.length)return null;let Y=this.flags&16?!0:this.flags&32?!1:Z>0;for(let q=Y?X.length-1:0;;q+=Y?-1:1)if(U=X[q],Z>0?q==0:q==X.length-1||U.top<U.bottom)break;return vN(U,!Y)}}get overrideDOMText(){if(!this.length)return l9.empty;let{root:Z}=this;if(!Z)return l9.empty;let J=this.posAtStart;return Z.view.state.doc.slice(J,J+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(Z,J,Q,K,X){if(!X){if(X=Z.toDOM(J),!Z.editable)X.contentEditable="false"}return new ZG(X,Q,Z,K)}}class rO extends dJ{constructor(Z){let J=document.createElement("img");J.className="cm-widgetBuffer",J.setAttribute("aria-hidden","true");super(J,0,Z)}get isHidden(){return!0}get overrideDOMText(){return l9.empty}coordsIn(Z){return this.dom.getBoundingClientRect()}}class Y90{constructor(Z){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=Z}advance(Z,J,Q){let{tile:K,index:X,beforeBreak:U,parents:Y}=this;while(Z||J>0)if(!K.isComposite())if(X==K.length)U=!!K.breakAfter,{tile:K,index:X}=Y.pop(),X++;else if(!Z)break;else{let q=Math.min(Z,K.length-X);if(Q)Q.skip(K,X,X+q);Z-=q,X+=q}else if(U){if(!Z)break;if(Q)Q.break();Z--,U=!1}else if(X==K.children.length){if(!Z&&!Y.length)break;if(Q)Q.leave(K);U=!!K.breakAfter,{tile:K,index:X}=Y.pop(),X++}else{let q=K.children[X],W=q.breakAfter;if((J>0?q.length<=Z:q.length<Z)&&(!Q||Q.skip(q,0,q.length)!==!1||!q.isComposite))U=!!W,X++,Z-=q.length;else if(Y.push({tile:K,index:X}),K=q,X=0,Q&&q.isComposite())Q.enter(q)}return this.tile=K,this.index=X,this.beforeBreak=U,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class q90{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.wrapper=Q,this.rank=K}}class W90{constructor(Z,J,Q){this.cache=Z,this.root=J,this.blockWrappers=Q,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(Z,J,Q,K){var X;this.flushBuffer();let U=this.ensureMarks(J,Q),Y=U.lastChild;if(Y&&Y.isText()&&!(Y.flags&8)&&Y.length+Z.length<512){this.cache.reused.set(Y,2);let q=U.children[U.children.length-1]=new oW(Y.dom,Y.text+Z);q.parent=U}else U.append(K||oW.of(Z,(X=this.cache.find(oW))===null||X===void 0?void 0:X.dom));this.pos+=Z.length,this.afterWidget=null}addComposition(Z,J){let Q=this.curLine;if(Q.dom!=J.line.dom)Q.setDOM(this.cache.reused.has(J.line)?qv(J.line.dom):J.line.dom),this.cache.reused.set(J.line,2);let K=Q;for(let Y=J.marks.length-1;Y>=0;Y--){let q=J.marks[Y],W=K.lastChild;if(W instanceof S6&&W.mark.eq(q.mark)){if(W.dom!=q.dom)W.setDOM(qv(q.dom));K=W}else{if(this.cache.reused.get(q)){let z=dJ.get(q.dom);if(z)z.setDOM(qv(q.dom))}let G=S6.of(q.mark,q.dom);K.append(G),K=G}this.cache.reused.set(q,2)}let X=dJ.get(Z.text);if(X)this.cache.reused.set(X,2);let U=new oW(Z.text,Z.text.nodeValue);U.flags|=8,K.append(U)}addInlineWidget(Z,J,Q){let K=this.afterWidget&&Z.flags&48&&(this.afterWidget.flags&48)==(Z.flags&48);if(!K)this.flushBuffer();let X=this.ensureMarks(J,Q);if(!K&&!(Z.flags&16))X.append(this.getBuffer(1));X.append(Z),this.pos+=Z.length,this.afterWidget=Z}addMark(Z,J,Q){this.flushBuffer(),this.ensureMarks(J,Q).append(Z),this.pos+=Z.length,this.afterWidget=null}addBlockWidget(Z){this.getBlockPos().append(Z),this.pos+=Z.length,this.lastBlock=Z,this.endLine()}continueWidget(Z){let J=this.afterWidget||this.lastBlock;J.length+=Z,this.pos+=Z}addLineStart(Z,J){var Q;if(!Z)Z=F90;let K=LH.start(Z,J||((Q=this.cache.find(LH))===null||Q===void 0?void 0:Q.dom),!!J);this.getBlockPos().append(this.lastBlock=this.curLine=K)}addLine(Z){this.getBlockPos().append(Z),this.pos+=Z.length,this.lastBlock=Z,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(Z){if(!this.blockPosCovered())this.addLineStart(Z)}ensureLine(Z){if(!this.curLine)this.addLineStart(Z)}ensureMarks(Z,J){var Q;let K=this.curLine;for(let X=Z.length-1;X>=0;X--){let U=Z[X],Y;if(J>0&&(Y=K.lastChild)&&Y instanceof S6&&Y.mark.eq(U))K=Y,J--;else{let q=S6.of(U,(Q=this.cache.find(S6,(W)=>W.mark.eq(U)))===null||Q===void 0?void 0:Q.dom);K.append(q),K=q,J=0}}return K}endLine(){if(this.curLine){this.flushBuffer();let Z=this.curLine.lastChild;if(!Z||!Q80(this.curLine,!1)||Z.dom.nodeName!="BR"&&Z.isWidget()&&!(x8.ios&&Q80(this.curLine,!0)))this.curLine.append(this.cache.findWidget(Wv,0,32)||new ZG(Wv.toDOM(),0,Wv,32));this.curLine=this.afterWidget=null}}updateBlockWrappers(){if(this.wrapperPos>this.pos+1e4)this.blockWrappers.goto(this.pos),this.wrappers.length=0;for(let Z=this.wrappers.length-1;Z>=0;Z--)if(this.wrappers[Z].to<this.pos)this.wrappers.splice(Z,1);for(let Z=this.blockWrappers;Z.value&&Z.from<=this.pos;Z.next())if(Z.to>=this.pos){let J=new q90(Z.from,Z.to,Z.value,Z.rank),Q=this.wrappers.length;while(Q>0&&(this.wrappers[Q-1].rank-J.rank||this.wrappers[Q-1].to-J.to)<0)Q--;this.wrappers.splice(Q,0,J)}this.wrapperPos=this.pos}getBlockPos(){var Z;this.updateBlockWrappers();let J=this.root;for(let Q of this.wrappers){let K=J.lastChild;if(Q.from<this.pos&&K instanceof eY&&K.wrapper.eq(Q.wrapper))J=K;else{let X=eY.of(Q.wrapper,(Z=this.cache.find(eY,(U)=>U.wrapper.eq(Q.wrapper)))===null||Z===void 0?void 0:Z.dom);J.append(X),J=X}}return J}blockPosCovered(){let Z=this.lastBlock;return Z!=null&&!Z.breakAfter&&(!Z.isWidget()||(Z.flags&160)>0)}getBuffer(Z){let J=2|(Z<0?16:32),Q=this.cache.find(rO,void 0,1);if(Q)Q.flags=J;return Q||new rO(J)}flushBuffer(){if(this.afterWidget&&!(this.afterWidget.flags&32))this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null}}class G90{constructor(Z){this.skipCount=0,this.text="",this.textOff=0,this.cursor=Z.iter()}skip(Z){if(this.textOff+Z<=this.text.length)this.textOff+=Z;else this.skipCount+=Z-(this.text.length-this.textOff),this.text="",this.textOff=0}next(Z){if(this.textOff==this.text.length){let{value:K,lineBreak:X,done:U}=this.cursor.next(this.skipCount);if(this.skipCount=0,U)throw Error("Ran out of text content when drawing inline views");this.text=K;let Y=this.textOff=Math.min(Z,K.length);return X?null:K.slice(0,Y)}let J=Math.min(this.text.length,this.textOff+Z),Q=this.text.slice(this.textOff,J);return this.textOff=J,Q}}var bN=[ZG,LH,oW,S6,rO,eY,ZR];for(let Z=0;Z<bN.length;Z++)bN[Z].bucket=Z;class z90{constructor(Z){this.view=Z,this.buckets=bN.map(()=>[]),this.index=bN.map(()=>0),this.reused=new Map}add(Z){let J=Z.constructor.bucket,Q=this.buckets[J];if(Q.length<6)Q.push(Z);else Q[this.index[J]=(this.index[J]+1)%6]=Z}find(Z,J,Q=2){let K=Z.bucket,X=this.buckets[K],U=this.index[K];for(let Y=X.length-1;Y>=0;Y--){let q=(Y+U)%X.length,W=X[q];if((!J||J(W))&&!this.reused.has(W)){if(X.splice(q,1),q<U)this.index[K]--;return this.reused.set(W,Q),W}}return null}findWidget(Z,J,Q){let K=this.buckets[0];if(K.length)for(let X=0,U=0;;X++){if(X==K.length){if(U)return null;U=1,X=0}let Y=K[X];if(!this.reused.has(Y)&&(U==0?Y.widget.compare(Z):Y.widget.constructor==Z.constructor&&Z.updateDOM(Y.dom,this.view))){if(K.splice(X,1),X<this.index[0])this.index[0]--;if(Y.widget==Z&&Y.length==J&&(Y.flags&497)==Q)return this.reused.set(Y,1),Y;else return this.reused.set(Y,2),new ZG(Y.dom,J,Z,Y.flags&-498|Q)}}}reuse(Z){return this.reused.set(Z,1),Z}maybeReuse(Z,J=2){if(this.reused.has(Z))return;return this.reused.set(Z,J),Z.dom}clear(){for(let Z=0;Z<this.buckets.length;Z++)this.buckets[Z].length=this.index[Z]=0}}class H90{constructor(Z,J,Q,K,X){this.view=Z,this.decorations=K,this.disallowBlockEffectsFor=X,this.openWidget=!1,this.openMarks=0,this.cache=new z90(Z),this.text=new G90(Z.state.doc),this.builder=new W90(this.cache,new ZR(Z,Z.contentDOM),E9.iter(Q)),this.cache.reused.set(J,2),this.old=new Y90(J),this.reuseWalker={skip:(U,Y,q)=>{if(this.cache.add(U),U.isComposite())return!1},enter:(U)=>this.cache.add(U),leave:()=>{},break:()=>{}}}run(Z,J){let Q=J&&this.getCompositionContext(J.text);for(let K=0,X=0,U=0;;){let Y=U<Z.length?Z[U++]:null,q=Y?Y.fromA:this.old.root.length;if(q>K){let W=q-K;this.preserve(W,!U,!Y),K=q,X+=W}if(!Y)break;if(J&&Y.fromA<=J.range.fromA&&Y.toA>=J.range.toA)this.forward(Y.fromA,J.range.fromA,J.range.fromA<J.range.toA?1:-1),this.emit(X,J.range.fromB),this.cache.clear(),this.builder.addComposition(J,Q),this.text.skip(J.range.toB-J.range.fromB),this.forward(J.range.fromA,Y.toA),this.emit(J.range.toB,Y.toB);else this.forward(Y.fromA,Y.toA),this.emit(X,Y.toB);X=Y.toB,K=Y.toA}if(this.builder.curLine)this.builder.endLine();return this.builder.root}preserve(Z,J,Q){let K=xl0(this.old),X=this.openMarks;this.old.advance(Z,Q?1:-1,{skip:(U,Y,q)=>{if(U.isWidget())if(this.openWidget)this.builder.continueWidget(q-Y);else{let W=q>0||Y<U.length?ZG.of(U.widget,this.view,q-Y,U.flags&496,this.cache.maybeReuse(U)):this.cache.reuse(U);if(W.flags&256)W.flags&=-2,this.builder.addBlockWidget(W);else this.builder.ensureLine(null),this.builder.addInlineWidget(W,K,X),X=K.length}else if(U.isText()){if(this.builder.ensureLine(null),!Y&&q==U.length)this.builder.addText(U.text,K,X,this.cache.reuse(U));else this.cache.add(U),this.builder.addText(U.text.slice(Y,q),K,X);X=K.length}else if(U.isLine())U.flags&=-2,this.cache.reused.set(U,1),this.builder.addLine(U);else if(U instanceof rO)this.cache.add(U);else if(U instanceof S6)this.builder.ensureLine(null),this.builder.addMark(U,K,X),this.cache.reused.set(U,1),X=K.length;else return!1;this.openWidget=!1},enter:(U)=>{if(U.isLine())this.builder.addLineStart(U.attrs,this.cache.maybeReuse(U));else if(this.cache.add(U),U instanceof S6)K.unshift(U.mark);this.openWidget=!1},leave:(U)=>{if(U.isLine()){if(K.length)K.length=X=0}else if(U instanceof S6)K.shift(),X=Math.min(X,K.length)},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(Z)}emit(Z,J){let Q=null,K=this.builder,X=0,U=E9.spans(this.decorations,Z,J,{point:(Y,q,W,G,z,H)=>{if(W instanceof tW){if(this.disallowBlockEffectsFor[H]){if(W.block)throw RangeError("Block decorations may not be specified via plugins");if(q>this.view.state.doc.lineAt(Y).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}if(X=G.length,z>G.length)K.continueWidget(q-Y);else{let F=W.widget||(W.block?JG.block:JG.inline),M=fl0(W),B=this.cache.findWidget(F,q-Y,M)||ZG.of(F,this.view,q-Y,M);if(W.block){if(W.startSide>0)K.addLineStartIfNotCovered(Q);K.addBlockWidget(B)}else K.ensureLine(Q),K.addInlineWidget(B,G,z)}Q=null}else Q=vl0(Q,W);if(q>Y)this.text.skip(q-Y)},span:(Y,q,W,G)=>{for(let z=Y;z<q;){let H=this.text.next(Math.min(512,q-z));if(H==null)K.addLineStartIfNotCovered(Q),K.addBreak(),z++;else K.ensureLine(Q),K.addText(H,W,z==Y?G:W.length),z+=H.length;Q=null}}});K.addLineStartIfNotCovered(Q),this.openWidget=U>X,this.openMarks=U}forward(Z,J,Q=1){if(J-Z<=10)this.old.advance(J-Z,Q,this.reuseWalker);else this.old.advance(5,-1,this.reuseWalker),this.old.advance(J-Z-10,-1),this.old.advance(5,Q,this.reuseWalker)}getCompositionContext(Z){let J=[],Q=null;for(let K=Z.parentNode;;K=K.parentNode){let X=dJ.get(K);if(K==this.view.contentDOM)break;if(X instanceof S6)J.push(X);else if(X===null||X===void 0?void 0:X.isLine())Q=X;else if(K.nodeName=="DIV"&&!Q&&K!=this.view.contentDOM)Q=new LH(K,F90);else J.push(S6.of(new aO({tagName:K.nodeName.toLowerCase(),attributes:Ml0(K)}),K))}return{line:Q,marks:J}}}function Q80(Z,J){let Q=(K)=>{for(let X of K.children)if((J?X.isText():X.length)||Q(X))return!0;return!1};return Q(Z)}function fl0(Z){let J=Z.isReplace?(Z.startSide<0?64:0)|(Z.endSide>0?128:0):Z.startSide>0?32:16;if(Z.block)J|=256;return J}var F90={class:"cm-line"};function vl0(Z,J){let Q=J.spec.attributes,K=J.spec.class;if(!Q&&!K)return Z;if(!Z)Z={class:"cm-line"};if(Q)uv(Q,Z);if(K)Z.class+=" "+K;return Z}function xl0(Z){let J=[];for(let Q=Z.parents.length;Q>1;Q--){let K=Q==Z.parents.length?Z.tile:Z.parents[Q].tile;if(K instanceof S6)J.push(K.mark)}return J}function qv(Z){let J=dJ.get(Z);if(J)J.setDOM(Z.cloneNode());return Z}class JG extends T6{constructor(Z){super();this.tag=Z}eq(Z){return Z.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Z){return Z.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}JG.inline=new JG("span");JG.block=new JG("div");var Wv=new class extends T6{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Pv{constructor(Z){this.view=Z,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=r8.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new ZR(Z,Z.contentDOM),this.updateInner([new a4(0,0,0,Z.state.doc.length)],null)}update(Z){var J;let Q=Z.changedRanges;if(this.minWidth>0&&Q.length)if(!Q.every(({fromA:G,toA:z})=>z<this.minWidthFrom||G>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=Z.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Z.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(Z);let K=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if((J=this.domChanged)===null||J===void 0?void 0:J.newSel)K=this.domChanged.newSel.head;else if(!cl0(Z.changes,this.hasComposition)&&!Z.selectionSet)K=Z.state.selection.main.head}let X=K>-1?yl0(this.view,Z.changes,K):null;if(this.domChanged=null,this.hasComposition){let{from:G,to:z}=this.hasComposition;Q=new a4(G,z,Z.changes.mapPos(G,-1),Z.changes.mapPos(z,1)).addToSet(Q.slice())}if(this.hasComposition=X?{from:X.range.fromB,to:X.range.toB}:null,(x8.ie||x8.chrome)&&!X&&Z&&Z.state.doc.lines!=Z.startState.doc.lines)this.forceSelection=!0;let U=this.decorations,Y=this.blockWrappers;this.updateDeco();let q=ul0(U,this.decorations,Z.changes);if(q.length)Q=a4.extendWithRanges(Q,q);let W=gl0(Y,this.blockWrappers,Z.changes);if(W.length)Q=a4.extendWithRanges(Q,W);if(X&&!Q.some((G)=>G.fromA<=X.range.fromA&&G.toA>=X.range.toA))Q=X.range.addToSet(Q.slice());if(this.tile.flags&2&&Q.length==0)return!1;else{if(this.updateInner(Q,X),Z.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(Z,J){this.view.viewState.mustMeasureContent=!0;let{observer:Q}=this.view;Q.ignore(()=>{if(J||Z.length){let U=this.tile,Y=new H90(this.view,U,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=Y.run(Z,J),jv(U,Y.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let X=x8.chrome||x8.ios?{node:Q.selectionRange.focusNode,written:!1}:void 0;if(this.tile.sync(X),X&&(X.written||Q.selectionRange.focusNode!=X.node||!this.tile.dom.contains(X.node)))this.forceSelection=!0;this.tile.dom.style.height=""});let K=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let X of this.tile.children)if(X.isWidget()&&X.widget instanceof jN)K.push(X.dom)}Q.updateGaps(K)}updateEditContextFormatting(Z){this.editContextFormatting=this.editContextFormatting.map(Z.changes);for(let J of Z.transactions)for(let Q of J.effects)if(Q.is(J90))this.editContextFormatting=Q.value}updateSelection(Z=!1,J=!1){if(Z||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let{dom:Q}=this.tile,K=this.view.root.activeElement,X=K==Q,U=!X&&!(this.view.state.facet(_U)||Q.tabIndex>-1)&&pO(Q,this.view.observer.selectionRange)&&!(K&&Q.contains(K));if(!(X||J||U))return;let Y=this.forceSelection;this.forceSelection=!1;let q=this.view.state.selection.main,W,G;if(q.empty)G=W=this.inlineDOMNearPos(q.anchor,q.assoc||1);else G=this.inlineDOMNearPos(q.head,q.head==q.from?1:-1),W=this.inlineDOMNearPos(q.anchor,q.anchor==q.from?1:-1);if(x8.gecko&&q.empty&&!this.hasComposition&&bl0(W)){let H=document.createTextNode("");this.view.observer.ignore(()=>W.node.insertBefore(H,W.node.childNodes[W.offset]||null)),W=G=new nK(H,0),Y=!0}let z=this.view.observer.selectionRange;if(Y||!z.focusNode||(!cO(W.node,W.offset,z.anchorNode,z.anchorOffset)||!cO(G.node,G.offset,z.focusNode,z.focusOffset))&&!this.suppressWidgetCursorChange(z,q))this.view.observer.ignore(()=>{if(x8.android&&x8.chrome&&Q.contains(z.focusNode)&&pl0(z.focusNode,Q))Q.blur(),Q.focus({preventScroll:!0});let H=DH(this.view.root);if(!H);else if(q.empty){if(x8.gecko){let F=hl0(W.node,W.offset);if(F&&F!=3){let M=(F==1?m80:u80)(W.node,W.offset);if(M)W=new nK(M.node,M.offset)}}if(H.collapse(W.node,W.offset),q.bidiLevel!=null&&H.caretBidiLevel!==void 0)H.caretBidiLevel=q.bidiLevel}else if(H.extend){H.collapse(W.node,W.offset);try{H.extend(G.node,G.offset)}catch(F){}}else{let F=document.createRange();if(q.anchor>q.head)[W,G]=[G,W];F.setEnd(G.node,G.offset),F.setStart(W.node,W.offset),H.removeAllRanges(),H.addRange(F)}if(U&&this.view.root.activeElement==Q){if(Q.blur(),K)K.focus()}}),this.view.observer.setSelectionRange(W,G);this.impreciseAnchor=W.precise?null:new nK(z.anchorNode,z.anchorOffset),this.impreciseHead=G.precise?null:new nK(z.focusNode,z.focusOffset)}suppressWidgetCursorChange(Z,J){return this.hasComposition&&J.empty&&cO(Z.focusNode,Z.focusOffset,Z.anchorNode,Z.anchorOffset)&&this.posFromDOM(Z.focusNode,Z.focusOffset)==J.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Z}=this,J=Z.state.selection.main,Q=DH(Z.root),{anchorNode:K,anchorOffset:X}=Z.observer.selectionRange;if(!Q||!J.empty||!J.assoc||!Q.modify)return;let U=this.lineAt(J.head,J.assoc);if(!U)return;let Y=U.posAtStart;if(J.head==Y||J.head==Y+U.length)return;let q=this.coordsAt(J.head,-1),W=this.coordsAt(J.head,1);if(!q||!W||q.bottom>W.top)return;let G=this.domAtPos(J.head+J.assoc,J.assoc);Q.collapse(G.node,G.offset),Q.modify("move",J.assoc<0?"forward":"backward","lineboundary"),Z.observer.readSelectionRange();let z=Z.observer.selectionRange;if(Z.docView.posFromDOM(z.anchorNode,z.anchorOffset)!=J.from)Q.collapse(K,X)}posFromDOM(Z,J){let Q=this.tile.nearest(Z);if(!Q)return this.tile.dom.compareDocumentPosition(Z)&2?0:this.view.state.doc.length;let K=Q.posAtStart;if(Q.isComposite()){let X;if(Z==Q.dom)X=Q.dom.childNodes[J];else{let U=fU(Z)==0?0:J==0?-1:1;for(;;){let Y=Z.parentNode;if(Y==Q.dom)break;if(U==0&&Y.firstChild!=Y.lastChild)if(Z==Y.firstChild)U=-1;else U=1;Z=Y}if(U<0)X=Z;else X=Z.nextSibling}if(X==Q.dom.firstChild)return K;while(X&&!dJ.get(X))X=X.nextSibling;if(!X)return K+Q.length;for(let U=0,Y=K;;U++){let q=Q.children[U];if(q.dom==X)return Y;Y+=q.length+q.breakAfter}}else if(Q.isText())return Z==Q.dom?K+J:K+(J?Q.length:0);else return K}domAtPos(Z,J){let{tile:Q,offset:K}=this.tile.resolveBlock(Z,J);if(Q.isWidget())return Q.domPosFor(Z,J);return Q.domIn(K,J)}inlineDOMNearPos(Z,J){let Q,K=-1,X=!1,U,Y=-1,q=!1;if(this.tile.blockTiles((W,G)=>{if(W.isWidget()){if(W.flags&32&&G>=Z)return!0;if(W.flags&16)X=!0}else{let z=G+W.length;if(G<=Z)Q=W,K=Z-G,X=z<Z;if(z>=Z&&!U)U=W,Y=Z-G,q=G>Z;if(G>Z&&U)return!0}}),!Q&&!U)return this.domAtPos(Z,J);if(X&&U)Q=null;else if(q&&Q)U=null;return Q&&J<0||!U?Q.domIn(K,J):U.domIn(Y,J)}coordsAt(Z,J){let{tile:Q,offset:K}=this.tile.resolveBlock(Z,J);if(Q.isWidget()){if(Q.widget instanceof jN)return null;return Q.coordsInWidget(K,J,!0)}return Q.coordsIn(K,J)}lineAt(Z,J){let{tile:Q}=this.tile.resolveBlock(Z,J);return Q.isLine()?Q:null}coordsForChar(Z){let{tile:J,offset:Q}=this.tile.resolveBlock(Z,1);if(!J.isLine())return null;function K(X,U){if(X.isComposite())for(let Y of X.children){if(Y.length>=U){let q=K(Y,U);if(q)return q}if(U-=Y.length,U<0)break}else if(X.isText()&&U<X.length){let Y=vJ(X.text,U);if(Y==U)return null;let q=sO(X.dom,U,Y).getClientRects();for(let W=0;W<q.length;W++){let G=q[W];if(W==q.length-1||G.top<G.bottom&&G.left<G.right)return G}}return null}return K(J,Q)}measureVisibleLineHeights(Z){let J=[],{from:Q,to:K}=Z,X=this.view.contentDOM.clientWidth,U=X>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Y=-1,q=this.view.textDirection==LZ.LTR,W=0,G=(z,H,F)=>{for(let M=0;M<z.children.length;M++){if(H>K)break;let B=z.children[M],O=H+B.length,R=B.dom.getBoundingClientRect(),{height:D}=R;if(F&&!M)W+=R.top-F.top;if(B instanceof eY){if(O>Q)G(B,H,R)}else if(H>=Q){if(W>0)J.push(-W);if(J.push(D+W),W=0,U){let L=B.dom.lastChild,A=L?VN(L):[];if(A.length){let V=A[A.length-1],N=q?V.right-R.left:R.right-V.left;if(N>Y)Y=N,this.minWidth=X,this.minWidthFrom=H,this.minWidthTo=O}}}if(F&&M==z.children.length-1)W+=F.bottom-R.bottom;H=O+B.breakAfter}};return G(this.tile,0,null),J}textDirectionAt(Z){let{tile:J}=this.tile.resolveBlock(Z,1);return getComputedStyle(J.dom).direction=="rtl"?LZ.RTL:LZ.LTR}measureTextSize(){let Z=this.tile.blockTiles((U)=>{if(U.isLine()&&U.children.length&&U.length<=20){let Y=0,q;for(let W of U.children){if(!W.isText()||/[^ -~]/.test(W.text))return;let G=VN(W.dom);if(G.length!=1)return;Y+=G[0].width,q=G[0].height}if(Y)return{lineHeight:U.dom.getBoundingClientRect().height,charWidth:Y/U.length,textHeight:q}}});if(Z)return Z;let J=document.createElement("div"),Q,K,X;return J.className="cm-line",J.style.width="99999px",J.style.position="absolute",J.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(J);let U=VN(J.firstChild)[0];Q=J.getBoundingClientRect().height,K=U&&U.width?U.width/27:7,X=U&&U.height?U.height:Q,J.remove()}),{lineHeight:Q,charWidth:K,textHeight:X}}computeBlockGapDeco(){let Z=[],J=this.view.viewState;for(let Q=0,K=0;;K++){let X=K==J.viewports.length?null:J.viewports[K],U=X?X.from-1:this.view.state.doc.length;if(U>Q){let Y=(J.lineBlockAt(U).bottom-J.lineBlockAt(Q).top)/this.view.scaleY;Z.push(r8.replace({widget:new jN(Y),block:!0,inclusive:!0,isBlockGap:!0}).range(Q,U))}if(!X)break;Q=X.to+1}return r8.set(Z)}updateDeco(){let Z=1,J=this.view.state.facet(pN).map((X)=>{return(this.dynamicDecorationMap[Z++]=typeof X=="function")?X(this.view):X}),Q=!1,K=this.view.state.facet(iv).map((X,U)=>{let Y=typeof X=="function";if(Y)Q=!0;return Y?X(this.view):X});if(K.length)this.dynamicDecorationMap[Z++]=Q,J.push(E9.join(K));this.decorations=[this.editContextFormatting,...J,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(Z<this.decorations.length)this.dynamicDecorationMap[Z++]=!1;this.blockWrappers=this.view.state.facet(K90).map((X)=>typeof X=="function"?X(this.view):X)}scrollIntoView(Z){if(Z.isSnapshot){let W=this.view.viewState.lineBlockAt(Z.range.head);this.view.scrollDOM.scrollTop=W.top-Z.yMargin,this.view.scrollDOM.scrollLeft=Z.xMargin;return}for(let W of this.view.state.facet(Z90))try{if(W(this.view,Z.range,Z))return!0}catch(G){r7(this.view.state,G,"scroll handler")}let{range:J}=Z,Q=this.coordsAt(J.head,J.empty?J.assoc:J.head>J.anchor?-1:1),K;if(!Q)return;if(!J.empty&&(K=this.coordsAt(J.anchor,J.anchor>J.head?-1:1)))Q={left:Math.min(Q.left,K.left),top:Math.min(Q.top,K.top),right:Math.max(Q.right,K.right),bottom:Math.max(Q.bottom,K.bottom)};let X=sv(this.view),U={left:Q.left-X.left,top:Q.top-X.top,right:Q.right+X.right,bottom:Q.bottom+X.bottom},{offsetWidth:Y,offsetHeight:q}=this.view.scrollDOM;Rl0(this.view.scrollDOM,U,J.head<J.anchor?-1:1,Z.x,Z.y,Math.max(Math.min(Z.xMargin,Y),-Y),Math.max(Math.min(Z.yMargin,q),-q),this.view.textDirection==LZ.LTR)}lineHasWidget(Z){let J=(Q)=>Q.isWidget()||Q.children.some(J);return J(this.tile.resolveBlock(Z,1).tile)}destroy(){jv(this.tile)}}function jv(Z,J){let Q=J===null||J===void 0?void 0:J.get(Z);if(Q!=1){if(Q==null)Z.destroy();for(let K of Z.children)jv(K,J)}}function bl0(Z){return Z.node.nodeType==1&&Z.node.firstChild&&(Z.offset==0||Z.node.childNodes[Z.offset-1].contentEditable=="false")&&(Z.offset==Z.node.childNodes.length||Z.node.childNodes[Z.offset].contentEditable=="false")}function M90(Z,J){let Q=Z.observer.selectionRange;if(!Q.focusNode)return null;let K=m80(Q.focusNode,Q.focusOffset),X=u80(Q.focusNode,Q.focusOffset),U=K||X;if(X&&K&&X.node!=K.node){let q=dJ.get(X.node);if(!q||q.isText()&&q.text!=X.node.nodeValue)U=X;else if(Z.docView.lastCompositionAfterCursor){let W=dJ.get(K.node);if(!(!W||W.isText()&&W.text!=K.node.nodeValue))U=X}}if(Z.docView.lastCompositionAfterCursor=U!=K,!U)return null;let Y=J-U.offset;return{from:Y,to:Y+U.node.nodeValue.length,node:U.node}}function yl0(Z,J,Q){let K=M90(Z,Q);if(!K)return null;let{node:X,from:U,to:Y}=K,q=X.nodeValue;if(/[\n\r]/.test(q))return null;if(Z.state.doc.sliceString(K.from,K.to)!=q)return null;let W=J.invertedDesc;return{range:new a4(W.mapPos(U),W.mapPos(Y),U,Y),text:X}}function hl0(Z,J){if(Z.nodeType!=1)return 0;return(J&&Z.childNodes[J-1].contentEditable=="false"?1:0)|(J<Z.childNodes.length&&Z.childNodes[J].contentEditable=="false"?2:0)}var ml0=class{constructor(){this.changes=[]}compareRange(J,Q){BH(J,Q,this.changes)}comparePoint(J,Q){BH(J,Q,this.changes)}boundChange(J){BH(J,J,this.changes)}};function ul0(Z,J,Q){let K=new ml0;return E9.compare(Z,J,Q,K),K.changes}class B90{constructor(){this.changes=[]}compareRange(Z,J){BH(Z,J,this.changes)}comparePoint(){}boundChange(Z){BH(Z,Z,this.changes)}}function gl0(Z,J,Q){let K=new B90;return E9.compare(Z,J,Q,K),K.changes}function pl0(Z,J){for(let Q=Z;Q&&Q!=J;Q=Q.assignedSlot||Q.parentNode)if(Q.nodeType==1&&Q.contentEditable=="false")return!0;return!1}function cl0(Z,J){let Q=!1;if(J)Z.iterChangedRanges((K,X)=>{if(K<J.to&&X>J.from)Q=!0});return Q}class jN extends T6{constructor(Z){super();this.height=Z}toDOM(){let Z=document.createElement("div");return Z.className="cm-gap",this.updateDOM(Z),Z}eq(Z){return Z.height==this.height}updateDOM(Z){return Z.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function ll0(Z,J,Q=1){let K=Z.charCategorizer(J),X=Z.doc.lineAt(J),U=J-X.from;if(X.length==0)return a0.cursor(J);if(U==0)Q=1;else if(U==X.length)Q=-1;let Y=U,q=U;if(Q<0)Y=vJ(X.text,U,!1);else q=vJ(X.text,U);let W=K(X.text.slice(Y,q));while(Y>0){let G=vJ(X.text,Y,!1);if(K(X.text.slice(G,Y))!=W)break;Y=G}while(q<X.length){let G=vJ(X.text,q);if(K(X.text.slice(q,G))!=W)break;q=G}return a0.range(Y+X.from,q+X.from)}function dl0(Z,J,Q,K,X){let U=Math.round((K-J.left)*Z.defaultCharacterWidth);if(Z.lineWrapping&&Q.height>Z.defaultLineHeight*1.5){let q=Z.viewState.heightOracle.textHeight,W=Math.floor((X-Q.top-(Z.defaultLineHeight-q)*0.5)/q);U+=W*Z.viewState.heightOracle.lineLength}let Y=Z.state.sliceDoc(Q.from,Q.to);return Q.from+MN(Y,U,Z.state.tabSize)}function Cv(Z,J,Q){let K=Z.lineBlockAt(J);if(Array.isArray(K.type)){let X;for(let U of K.type){if(U.from>J)break;if(U.to<J)continue;if(U.from<J&&U.to>J)return U;if(!X||U.type==n7.Text&&(X.type!=U.type||(Q<0?U.from<J:U.to>J)))X=U}return X||K}return K}function il0(Z,J,Q,K){let X=Cv(Z,J.head,J.assoc||-1),U=!K||X.type!=n7.Text||!(Z.lineWrapping||X.widgetLineBreaks)?null:Z.coordsAtPos(J.assoc<0&&J.head>X.from?J.head-1:J.head);if(U){let Y=Z.dom.getBoundingClientRect(),q=Z.textDirectionAt(X.from),W=Z.posAtCoords({x:Q==(q==LZ.LTR)?Y.right-1:Y.left+1,y:(U.top+U.bottom)/2});if(W!=null)return a0.cursor(W,Q?-1:1)}return a0.cursor(Q?X.to:X.from,Q?-1:1)}function K80(Z,J,Q,K){let X=Z.state.doc.lineAt(J.head),U=Z.bidiSpans(X),Y=Z.textDirectionAt(X.from);for(let q=J,W=null;;){let G=Sl0(X,U,Y,q,Q),z=d80;if(!G){if(X.number==(Q?Z.state.doc.lines:1))return q;z=`
`,X=Z.state.doc.line(X.number+(Q?1:-1)),U=Z.bidiSpans(X),G=Z.visualLineSide(X,!Q)}if(!W){if(!K)return G;W=K(z)}else if(!W(z))return q;q=G}}function sl0(Z,J,Q){let K=Z.state.charCategorizer(J),X=K(Q);return(U)=>{let Y=K(U);if(X==_Z.Space)X=Y;return X==Y}}function rl0(Z,J,Q,K){let X=J.head,U=Q?1:-1;if(X==(Q?Z.state.doc.length:0))return a0.cursor(X,J.assoc);let Y=J.goalColumn,q,W=Z.contentDOM.getBoundingClientRect(),G=Z.coordsAtPos(X,J.assoc||-1),z=Z.documentTop;if(G){if(Y==null)Y=G.left-W.left;q=U<0?G.top:G.bottom}else{let B=Z.viewState.lineBlockAt(X);if(Y==null)Y=Math.min(W.right-W.left,Z.defaultCharacterWidth*(X-B.from));q=(U<0?B.top:B.bottom)+z}let H=W.left+Y,F=K!==null&&K!==void 0?K:Z.viewState.heightOracle.textHeight>>1,M=Sv(Z,{x:H,y:q+F*U},!1,U);return a0.cursor(M.pos,M.assoc,void 0,Y)}function lO(Z,J,Q){for(;;){let K=0;for(let X of Z)X.between(J-1,J+1,(U,Y,q)=>{if(J>U&&J<Y){let W=K||Q||(J-U<Y-J?-1:1);J=W<0?U:Y,K=W}});if(!K)return J}}function O90(Z,J){let Q=null;for(let K=0;K<J.ranges.length;K++){let X=J.ranges[K],U=null;if(X.empty){let Y=lO(Z,X.from,0);if(Y!=X.from)U=a0.cursor(Y,-1)}else{let Y=lO(Z,X.from,-1),q=lO(Z,X.to,1);if(Y!=X.from||q!=X.to)U=a0.range(X.from==X.anchor?Y:q,X.from==X.head?Y:q)}if(U){if(!Q)Q=J.ranges.slice();Q[K]=U}}return Q?a0.create(Q,J.mainIndex):J}function Gv(Z,J,Q){let K=lO(Z.state.facet(tO).map((X)=>X(Z)),Q.from,J.head>Q.from?-1:1);return K==Q.from?Q:a0.cursor(K,K<Q.from?1:-1)}class sK{constructor(Z,J){this.pos=Z,this.assoc=J}}function Sv(Z,J,Q,K){let X=Z.contentDOM.getBoundingClientRect(),U=X.top+Z.viewState.paddingTop,{x:Y,y:q}=J,W=q-U,G;for(;;){if(W<0)return new sK(0,1);if(W>Z.viewState.docHeight)return new sK(Z.state.doc.length,-1);if(G=Z.elementAtHeight(W),K==null)break;if(G.type==n7.Text){if(K<0?G.to<Z.viewport.from:G.from>Z.viewport.to)break;let F=Z.docView.coordsAt(K<0?G.from:G.to,K);if(F&&(K<0?F.top<=W+U:F.bottom>=W+U))break}let H=Z.viewState.heightOracle.textHeight/2;W=K>0?G.bottom+H:G.top-H}if(Z.viewport.from>=G.to||Z.viewport.to<=G.from){if(Q)return null;if(G.type==n7.Text){let H=dl0(Z,X,G,Y,q);return new sK(H,H==G.from?1:-1)}}if(G.type!=n7.Text)return W<(G.top+G.bottom)/2?new sK(G.from,1):new sK(G.to,-1);let z=Z.docView.lineAt(G.from,2);if(!z||z.length!=G.length)z=Z.docView.lineAt(G.from,-2);return R90(Z,z,G.from,Y,q)}function R90(Z,J,Q,K,X){let U=-1,Y=null,q=1e9,W=1e9,G=X,z=X,H=(F,M)=>{for(let B=0;B<F.length;B++){let O=F[B];if(O.top==O.bottom)continue;let R=O.left>K?O.left-K:O.right<K?K-O.right:0,D=O.top>X?O.top-X:O.bottom<X?X-O.bottom:0;if(O.top<=z&&O.bottom>=G)G=Math.min(O.top,G),z=Math.max(O.bottom,z),D=0;if(U<0||(D-W||R-q)<0)if(U>=0&&W&&q<R&&Y.top<=z-2&&Y.bottom>=G+2)W=0;else U=M,q=R,W=D,Y=O}};if(J.isText()){for(let M=0;M<J.length;){let B=vJ(J.text,M);if(H(sO(J.dom,M,B).getClientRects(),M),!q&&!W)break;M=B}return K>(Y.left+Y.right)/2==(X80(Z,U+Q)==LZ.LTR)?new sK(Q+vJ(J.text,U),-1):new sK(Q+U,1)}else{if(!J.length)return new sK(Q,1);for(let O=0;O<J.children.length;O++){let R=J.children[O];if(R.flags&48)continue;let D=(R.dom.nodeType==1?R.dom:sO(R.dom,0,R.length)).getClientRects();if(H(D,O),!q&&!W)break}let F=J.children[U],M=J.posBefore(F,Q);if(F.isComposite()||F.isText())return R90(Z,F,M,Math.max(Y.left,Math.min(Y.right,K)),X);return K>(Y.left+Y.right)/2==(X80(Z,U+Q)==LZ.LTR)?new sK(M+F.length,-1):new sK(M,1)}}function X80(Z,J){let Q=Z.state.doc.lineAt(J);return Z.bidiSpans(Q)[n5.find(Z.bidiSpans(Q),J-Q.from,-1,1)].dir}var yO="";class D90{constructor(Z,J){this.points=Z,this.view=J,this.text="",this.lineSeparator=J.state.facet(j9.lineSeparator)}append(Z){this.text+=Z}lineBreak(){this.text+=yO}readRange(Z,J){if(!Z)return this;let Q=Z.parentNode;for(let K=Z;;){this.findPointBefore(Q,K);let X=this.text.length;this.readNode(K);let U=dJ.get(K),Y=K.nextSibling;if(Y==J){if((U===null||U===void 0?void 0:U.breakAfter)&&!Y&&Q!=this.view.contentDOM)this.lineBreak();break}let q=dJ.get(Y);if((U&&q?U.breakAfter:(U?U.breakAfter:fN(K))||fN(Y)&&(K.nodeName!="BR"||(U===null||U===void 0?void 0:U.isWidget()))&&this.text.length>X)&&!al0(Y,J))this.lineBreak();K=Y}return this.findPointBefore(Q,J),this}readTextNode(Z){let J=Z.nodeValue;for(let Q of this.points)if(Q.node==Z)Q.pos=this.text.length+Math.min(Q.offset,J.length);for(let Q=0,K=this.lineSeparator?null:/\r\n?|\n/g;;){let X=-1,U=1,Y;if(this.lineSeparator)X=J.indexOf(this.lineSeparator,Q),U=this.lineSeparator.length;else if(Y=K.exec(J))X=Y.index,U=Y[0].length;if(this.append(J.slice(Q,X<0?J.length:X)),X<0)break;if(this.lineBreak(),U>1){for(let q of this.points)if(q.node==Z&&q.pos>this.text.length)q.pos-=U-1}Q=X+U}}readNode(Z){let J=dJ.get(Z),Q=J&&J.overrideDOMText;if(Q!=null){this.findPointInside(Z,Q.length);for(let K=Q.iter();!K.next().done;)if(K.lineBreak)this.lineBreak();else this.append(K.value)}else if(Z.nodeType==3)this.readTextNode(Z);else if(Z.nodeName=="BR"){if(Z.nextSibling)this.lineBreak()}else if(Z.nodeType==1)this.readRange(Z.firstChild,null)}findPointBefore(Z,J){for(let Q of this.points)if(Q.node==Z&&Z.childNodes[Q.offset]==J)Q.pos=this.text.length}findPointInside(Z,J){for(let Q of this.points)if(Z.nodeType==3?Q.node==Z:Z.contains(Q.node))Q.pos=this.text.length+(nl0(Z,Q.node,Q.offset)?J:0)}}function nl0(Z,J,Q){for(;;){if(!J||Q<fU(J))return!1;if(J==Z)return!0;Q=Z1(J)+1,J=J.parentNode}}function al0(Z,J){let Q;for(;;Z=Z.nextSibling){if(Z==J||!Z)break;let K=dJ.get(Z);if(!(K===null||K===void 0?void 0:K.isWidget()))return!1;if(K)(Q||(Q=[])).push(K)}if(Q)for(let K of Q){let X=K.overrideDOMText;if(X===null||X===void 0?void 0:X.length)return!1}return!0}class Tv{constructor(Z,J){this.node=Z,this.offset=J,this.pos=-1}}class L90{constructor(Z,J,Q,K){this.typeOver=K,this.bounds=null,this.text="",this.domChanged=J>-1;let{impreciseHead:X,impreciseAnchor:U}=Z.docView;if(Z.state.readOnly&&J>-1)this.newSel=null;else if(J>-1&&(this.bounds=I90(Z.docView.tile,J,Q,0))){let Y=X||U?[]:tl0(Z),q=new D90(Y,Z);q.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=q.text,this.newSel=el0(Y,this.bounds.from)}else{let Y=Z.observer.selectionRange,q=X&&X.node==Y.focusNode&&X.offset==Y.focusOffset||!Iv(Z.contentDOM,Y.focusNode)?Z.state.selection.main.head:Z.docView.posFromDOM(Y.focusNode,Y.focusOffset),W=U&&U.node==Y.anchorNode&&U.offset==Y.anchorOffset||!Iv(Z.contentDOM,Y.anchorNode)?Z.state.selection.main.anchor:Z.docView.posFromDOM(Y.anchorNode,Y.anchorOffset),G=Z.viewport;if((x8.ios||x8.chrome)&&Z.state.selection.main.empty&&q!=W&&(G.from>0||G.to<Z.state.doc.length)){let z=Math.min(q,W),H=Math.max(q,W),F=G.from-z,M=G.to-H;if((F==0||F==1||z==0)&&(M==0||M==-1||H==Z.state.doc.length))q=0,W=Z.state.doc.length}if(Z.inputState.composing>-1&&Z.state.selection.ranges.length>1)this.newSel=Z.state.selection.replaceRange(a0.range(W,q));else this.newSel=a0.single(W,q)}}}function I90(Z,J,Q,K){if(Z.isComposite()){let X=-1,U=-1,Y=-1,q=-1;for(let W=0,G=K,z=K;W<Z.children.length;W++){let H=Z.children[W],F=G+H.length;if(G<J&&F>Q)return I90(H,J,Q,G);if(F>=J&&X==-1)X=W,U=G;if(G>Q&&H.dom.parentNode==Z.dom){Y=W,q=z;break}z=F,G=F+H.breakAfter}return{from:U,to:q<0?K+Z.length:q,startDOM:(X?Z.children[X-1].dom.nextSibling:null)||Z.dom.firstChild,endDOM:Y<Z.children.length&&Y>=0?Z.children[Y].dom:null}}else if(Z.isText())return{from:K,to:K+Z.length,startDOM:Z.dom,endDOM:Z.dom.nextSibling};else return null}function A90(Z,J){let Q,{newSel:K}=J,X=Z.state.selection.main,U=Z.inputState.lastKeyTime>Date.now()-100?Z.inputState.lastKeyCode:-1;if(J.bounds){let{from:Y,to:q}=J.bounds,W=X.from,G=null;if(U===8||x8.android&&J.text.length<q-Y)W=X.to,G="end";let z=N90(Z.state.doc.sliceString(Y,q,yO),J.text,W-Y,G);if(z){if(x8.chrome&&U==13&&z.toB==z.from+2&&J.text.slice(z.from,z.toB)==yO+yO)z.toB--;Q={from:Y+z.from,to:Y+z.toA,insert:l9.of(J.text.slice(z.from,z.toB).split(yO))}}}else if(K&&(!Z.hasFocus&&Z.state.facet(_U)||yN(K,X)))K=null;if(!Q&&!K)return!1;if(!Q&&J.typeOver&&!X.empty&&K&&K.main.empty)Q={from:X.from,to:X.to,insert:Z.state.doc.slice(X.from,X.to)};else if((x8.mac||x8.android)&&Q&&Q.from==Q.to&&Q.from==X.head-1&&/^\. ?$/.test(Q.insert.toString())&&Z.contentDOM.getAttribute("autocorrect")=="off"){if(K&&Q.insert.length==2)K=a0.single(K.main.anchor-1,K.main.head-1);Q={from:Q.from,to:Q.to,insert:l9.of([Q.insert.toString().replace("."," ")])}}else if(Q&&Q.from>=X.from&&Q.to<=X.to&&(Q.from!=X.from||Q.to!=X.to)&&X.to-X.from-(Q.to-Q.from)<=4)Q={from:X.from,to:X.to,insert:Z.state.doc.slice(X.from,Q.from).append(Q.insert).append(Z.state.doc.slice(Q.to,X.to))};else if(Z.state.doc.lineAt(X.from).to<X.to&&Z.docView.lineHasWidget(X.to)&&Z.inputState.insertingTextAt>Date.now()-50)Q={from:X.from,to:X.to,insert:Z.state.toText(Z.inputState.insertingText)};else if(x8.chrome&&Q&&Q.from==Q.to&&Q.from==X.head&&Q.insert.toString()==`
 `&&Z.lineWrapping){if(K)K=a0.single(K.main.anchor-1,K.main.head-1);Q={from:X.from,to:X.to,insert:l9.of([" "])}}if(Q)return rv(Z,Q,K,U);else if(K&&!yN(K,X)){let Y=!1,q="select";if(Z.inputState.lastSelectionTime>Date.now()-50){if(Z.inputState.lastSelectionOrigin=="select")Y=!0;if(q=Z.inputState.lastSelectionOrigin,q=="select.pointer")K=O90(Z.state.facet(tO).map((W)=>W(Z)),K)}return Z.dispatch({selection:K,scrollIntoView:Y,userEvent:q}),!0}else return!1}function rv(Z,J,Q,K=-1){if(x8.ios&&Z.inputState.flushIOSKey(J))return!0;let X=Z.state.selection.main;if(x8.android&&(J.to==X.to&&(J.from==X.from||J.from==X.from-1&&Z.state.sliceDoc(J.from,X.from)==" ")&&J.insert.length==1&&J.insert.lines==2&&OH(Z.contentDOM,"Enter",13)||(J.from==X.from-1&&J.to==X.to&&J.insert.length==0||K==8&&J.insert.length<J.to-J.from&&J.to>X.head)&&OH(Z.contentDOM,"Backspace",8)||J.from==X.from&&J.to==X.to+1&&J.insert.length==0&&OH(Z.contentDOM,"Delete",46)))return!0;let U=J.insert.toString();if(Z.inputState.composing>=0)Z.inputState.composing++;let Y,q=()=>Y||(Y=ol0(Z,J,Q));if(!Z.state.facet(a80).some((W)=>W(Z,J.from,J.to,U,q)))Z.dispatch(q());return!0}function ol0(Z,J,Q){let K,X=Z.state,U=X.selection.main,Y=-1;if(J.from==J.to&&J.from<U.from||J.from>U.to){let W=J.from<U.from?-1:1,G=W<0?U.from:U.to,z=lO(X.facet(tO).map((H)=>H(Z)),G,W);if(J.from==z)Y=z}if(Y>-1)K={changes:J,selection:a0.cursor(J.from+J.insert.length,-1)};else if(J.from>=U.from&&J.to<=U.to&&J.to-J.from>=(U.to-U.from)/3&&(!Q||Q.main.empty&&Q.main.from==J.from+J.insert.length)&&Z.inputState.composing<0){let W=U.from<J.from?X.sliceDoc(U.from,J.from):"",G=U.to>J.to?X.sliceDoc(J.to,U.to):"";K=X.replaceSelection(Z.state.toText(W+J.insert.sliceString(0,void 0,Z.state.lineBreak)+G))}else{let W=X.changes(J),G=Q&&Q.main.to<=W.newLength?Q.main:void 0;if(X.selection.ranges.length>1&&(Z.inputState.composing>=0||Z.inputState.compositionPendingChange)&&J.to<=U.to+10&&J.to>=U.to-10){let z=Z.state.sliceDoc(J.from,J.to),H,F=Q&&M90(Z,Q.main.head);if(F){let B=J.insert.length-(J.to-J.from);H={from:F.from,to:F.to-B}}else H=Z.state.doc.lineAt(U.head);let M=U.to-J.to;K=X.changeByRange((B)=>{if(B.from==U.from&&B.to==U.to)return{changes:W,range:G||B.map(W)};let O=B.to-M,R=O-z.length;if(Z.state.sliceDoc(R,O)!=z||O>=H.from&&R<=H.to)return{range:B};let D=X.changes({from:R,to:O,insert:J.insert}),L=B.to-U.to;return{changes:D,range:!G?B.map(D):a0.range(Math.max(0,G.anchor+L),Math.max(0,G.head+L))}})}else K={changes:W,selection:G&&X.selection.replaceRange(G)}}let q="input.type";if(Z.composing||Z.inputState.compositionPendingChange&&Z.inputState.compositionEndedAt>Date.now()-50){if(Z.inputState.compositionPendingChange=!1,q+=".compose",Z.inputState.compositionFirstChange)q+=".start",Z.inputState.compositionFirstChange=!1}return X.update(K,{userEvent:q,scrollIntoView:!0})}function N90(Z,J,Q,K){let X=Math.min(Z.length,J.length),U=0;while(U<X&&Z.charCodeAt(U)==J.charCodeAt(U))U++;if(U==X&&Z.length==J.length)return null;let Y=Z.length,q=J.length;while(Y>0&&q>0&&Z.charCodeAt(Y-1)==J.charCodeAt(q-1))Y--,q--;if(K=="end"){let W=Math.max(0,U-Math.min(Y,q));Q-=Y+W-U}if(Y<U&&Z.length<J.length){let W=Q<=U&&Q>=Y?U-Q:0;U-=W,q=U+(q-Y),Y=U}else if(q<U){let W=Q<=U&&Q>=q?U-Q:0;U-=W,Y=U+(Y-q),q=U}return{from:U,toA:Y,toB:q}}function tl0(Z){let J=[];if(Z.root.activeElement!=Z.contentDOM)return J;let{anchorNode:Q,anchorOffset:K,focusNode:X,focusOffset:U}=Z.observer.selectionRange;if(Q){if(J.push(new Tv(Q,K)),X!=Q||U!=K)J.push(new Tv(X,U))}return J}function el0(Z,J){if(Z.length==0)return null;let Q=Z[0].pos,K=Z.length==2?Z[1].pos:Q;return Q>-1&&K>-1?a0.single(Q+J,K+J):null}function yN(Z,J){return J.head==Z.main.head&&J.anchor==Z.main.anchor}class E90{setSelectionOrigin(Z){this.lastSelectionOrigin=Z,this.lastSelectionTime=Date.now()}constructor(Z){if(this.view=Z,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Z.hasFocus,x8.safari)Z.contentDOM.addEventListener("input",()=>null);if(x8.gecko)Md0(Z.contentDOM.ownerDocument)}handleEvent(Z){if(!Yd0(this.view,Z)||this.ignoreDuringComposition(Z))return;if(Z.type=="keydown"&&this.keydown(Z))return;if(this.view.updateState!=0)Promise.resolve().then(()=>this.runHandlers(Z.type,Z));else this.runHandlers(Z.type,Z)}runHandlers(Z,J){let Q=this.handlers[Z];if(Q){for(let K of Q.observers)K(this.view,J);for(let K of Q.handlers){if(J.defaultPrevented)break;if(K(this.view,J)){J.preventDefault();break}}}}ensureHandlers(Z){let J=Zd0(Z),Q=this.handlers,K=this.view.contentDOM;for(let X in J)if(X!="scroll"){let U=!J[X].handlers.length,Y=Q[X];if(Y&&U!=!Y.handlers.length)K.removeEventListener(X,this.handleEvent),Y=null;if(!Y)K.addEventListener(X,this.handleEvent,{passive:U})}for(let X in Q)if(X!="scroll"&&!J[X])K.removeEventListener(X,this.handleEvent);this.handlers=J}keydown(Z){if(this.lastKeyCode=Z.keyCode,this.lastKeyTime=Date.now(),Z.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Z.keyCode!=27&&P90.indexOf(Z.keyCode)<0)this.tabFocusMode=-1;if(x8.android&&x8.chrome&&!Z.synthetic&&(Z.keyCode==13||Z.keyCode==8))return this.view.observer.delayAndroidKey(Z.key,Z.keyCode),!0;let J;if(x8.ios&&!Z.synthetic&&!Z.altKey&&!Z.metaKey&&((J=V90.find((Q)=>Q.keyCode==Z.keyCode))&&!Z.ctrlKey||Jd0.indexOf(Z.key)>-1&&Z.ctrlKey&&!Z.shiftKey))return this.pendingIOSKey=J||Z,setTimeout(()=>this.flushIOSKey(),250),!0;if(Z.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(Z){let J=this.pendingIOSKey;if(!J)return!1;if(J.key=="Enter"&&Z&&Z.from<Z.to&&/^\S+$/.test(Z.insert.toString()))return!1;return this.pendingIOSKey=void 0,OH(this.view.contentDOM,J.key,J.keyCode,J instanceof KeyboardEvent?J:void 0)}ignoreDuringComposition(Z){if(!/^key/.test(Z.type)||Z.synthetic)return!1;if(this.composing>0)return!0;if(x8.safari&&!x8.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(Z){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=Z}update(Z){if(this.view.observer.update(Z),this.mouseSelection)this.mouseSelection.update(Z);if(this.draggedContent&&Z.docChanged)this.draggedContent=this.draggedContent.map(Z.changes);if(Z.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}function U80(Z,J){return(Q,K)=>{try{return J.call(Z,K,Q)}catch(X){r7(Q.state,X)}}}function Zd0(Z){let J=Object.create(null);function Q(K){return J[K]||(J[K]={observers:[],handlers:[]})}for(let K of Z){let X=K.spec,U=X&&X.plugin.domEventHandlers,Y=X&&X.plugin.domEventObservers;if(U)for(let q in U){let W=U[q];if(W)Q(q).handlers.push(U80(K.value,W))}if(Y)for(let q in Y){let W=Y[q];if(W)Q(q).observers.push(U80(K.value,W))}}for(let K in aK)Q(K).handlers.push(aK[K]);for(let K in o4)Q(K).observers.push(o4[K]);return J}var V90=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Jd0="dthko",P90=[16,17,18,20,91,92,224,225],ON=6;function RN(Z){return Math.max(0,Z)*0.7+8}function Qd0(Z,J){return Math.max(Math.abs(Z.clientX-J.clientX),Math.abs(Z.clientY-J.clientY))}class j90{constructor(Z,J,Q,K){this.view=Z,this.startEvent=J,this.style=Q,this.mustSelect=K,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=J,this.scrollParents=Dl0(Z.contentDOM),this.atoms=Z.state.facet(tO).map((U)=>U(Z));let X=Z.contentDOM.ownerDocument;X.addEventListener("mousemove",this.move=this.move.bind(this)),X.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=J.shiftKey,this.multiple=Z.state.facet(j9.allowMultipleSelections)&&Kd0(Z,J),this.dragging=Ud0(Z,J)&&T90(J)==1?null:!1}start(Z){if(this.dragging===!1)this.select(Z)}move(Z){if(Z.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Qd0(this.startEvent,Z)<10)return;this.select(this.lastEvent=Z);let J=0,Q=0,K=0,X=0,U=this.view.win.innerWidth,Y=this.view.win.innerHeight;if(this.scrollParents.x)({left:K,right:U}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:X,bottom:Y}=this.scrollParents.y.getBoundingClientRect());let q=sv(this.view);if(Z.clientX-q.left<=K+ON)J=-RN(K-Z.clientX);else if(Z.clientX+q.right>=U-ON)J=RN(Z.clientX-U);if(Z.clientY-q.top<=X+ON)Q=-RN(X-Z.clientY);else if(Z.clientY+q.bottom>=Y-ON)Q=RN(Z.clientY-Y);this.setScrollSpeed(J,Q)}up(Z){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)Z.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let Z=this.view.contentDOM.ownerDocument;Z.removeEventListener("mousemove",this.move),Z.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Z,J){if(this.scrollSpeed={x:Z,y:J},Z||J){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:Z,y:J}=this.scrollSpeed;if(Z&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=Z,Z=0;if(J&&this.scrollParents.y)this.scrollParents.y.scrollTop+=J,J=0;if(Z||J)this.view.win.scrollBy(Z,J);if(this.dragging===!1)this.select(this.lastEvent)}select(Z){let{view:J}=this,Q=O90(this.atoms,this.style.get(Z,this.extend,this.multiple));if(this.mustSelect||!Q.eq(J.state.selection,this.dragging===!1))this.view.dispatch({selection:Q,userEvent:"select.pointer"});this.mustSelect=!1}update(Z){if(Z.transactions.some((J)=>J.isUserEvent("input.type")))this.destroy();else if(this.style.update(Z))setTimeout(()=>this.select(this.lastEvent),20)}}function Kd0(Z,J){let Q=Z.state.facet(i80);return Q.length?Q[0](J):x8.mac?J.metaKey:J.ctrlKey}function Xd0(Z,J){let Q=Z.state.facet(s80);return Q.length?Q[0](J):x8.mac?!J.altKey:!J.ctrlKey}function Ud0(Z,J){let{main:Q}=Z.state.selection;if(Q.empty)return!1;let K=DH(Z.root);if(!K||K.rangeCount==0)return!0;let X=K.getRangeAt(0).getClientRects();for(let U=0;U<X.length;U++){let Y=X[U];if(Y.left<=J.clientX&&Y.right>=J.clientX&&Y.top<=J.clientY&&Y.bottom>=J.clientY)return!0}return!1}function Yd0(Z,J){if(!J.bubbles)return!0;if(J.defaultPrevented)return!1;for(let Q=J.target,K;Q!=Z.contentDOM;Q=Q.parentNode)if(!Q||Q.nodeType==11||(K=dJ.get(Q))&&K.isWidget()&&!K.isHidden&&K.widget.ignoreEvent(J))return!1;return!0}var aK=Object.create(null),o4=Object.create(null),C90=x8.ie&&x8.ie_version<15||x8.ios&&x8.webkit_version<604;function qd0(Z){let J=Z.dom.parentNode;if(!J)return;let Q=J.appendChild(document.createElement("textarea"));Q.style.cssText="position: fixed; left: -10000px; top: 10px",Q.focus(),setTimeout(()=>{Z.focus(),Q.remove(),S90(Z,Q.value)},50)}function cN(Z,J,Q){for(let K of Z.facet(J))Q=K(Q,Z);return Q}function S90(Z,J){J=cN(Z.state,cv,J);let{state:Q}=Z,K,X=1,U=Q.toText(J),Y=U.lines==Q.selection.ranges.length;if(wv!=null&&Q.selection.ranges.every((W)=>W.empty)&&wv==U.toString()){let W=-1;K=Q.changeByRange((G)=>{let z=Q.doc.lineAt(G.from);if(z.from==W)return{range:G};W=z.from;let H=Q.toText((Y?U.line(X++).text:J)+Q.lineBreak);return{changes:{from:z.from,insert:H},range:a0.cursor(G.from+H.length)}})}else if(Y)K=Q.changeByRange((W)=>{let G=U.line(X++);return{changes:{from:W.from,to:W.to,insert:G.text},range:a0.cursor(W.from+G.length)}});else K=Q.replaceSelection(U);Z.dispatch(K,{userEvent:"input.paste",scrollIntoView:!0})}o4.scroll=(Z)=>{Z.inputState.lastScrollTop=Z.scrollDOM.scrollTop,Z.inputState.lastScrollLeft=Z.scrollDOM.scrollLeft};aK.keydown=(Z,J)=>{if(Z.inputState.setSelectionOrigin("select"),J.keyCode==27&&Z.inputState.tabFocusMode!=0)Z.inputState.tabFocusMode=Date.now()+2000;return!1};o4.touchstart=(Z,J)=>{Z.inputState.lastTouchTime=Date.now(),Z.inputState.setSelectionOrigin("select.pointer")};o4.touchmove=(Z)=>{Z.inputState.setSelectionOrigin("select.pointer")};aK.mousedown=(Z,J)=>{if(Z.observer.flush(),Z.inputState.lastTouchTime>Date.now()-2000)return!1;let Q=null;for(let K of Z.state.facet(r80))if(Q=K(Z,J),Q)break;if(!Q&&J.button==0)Q=Gd0(Z,J);if(Q){let K=!Z.hasFocus;if(Z.inputState.startMouseSelection(new j90(Z,J,Q,K)),K)Z.observer.ignore(()=>{y80(Z.contentDOM);let U=Z.root.activeElement;if(U&&!U.contains(Z.contentDOM))U.blur()});let X=Z.inputState.mouseSelection;if(X)return X.start(J),X.dragging===!1}else Z.inputState.setSelectionOrigin("select.pointer");return!1};function Y80(Z,J,Q,K){if(K==1)return a0.cursor(J,Q);else if(K==2)return ll0(Z.state,J,Q);else{let X=Z.docView.lineAt(J,Q),U=Z.state.doc.lineAt(X?X.posAtEnd:J),Y=X?X.posAtStart:U.from,q=X?X.posAtEnd:U.to;if(q<Z.state.doc.length&&q==U.to)q++;return a0.range(Y,q)}}var Wd0=x8.ie&&x8.ie_version<=11,q80=null,W80=0,G80=0;function T90(Z){if(!Wd0)return Z.detail;let J=q80,Q=G80;return q80=Z,G80=Date.now(),W80=!J||Q>Date.now()-400&&Math.abs(J.clientX-Z.clientX)<2&&Math.abs(J.clientY-Z.clientY)<2?(W80+1)%3:1}function Gd0(Z,J){let Q=Z.posAndSideAtCoords({x:J.clientX,y:J.clientY},!1),K=T90(J),X=Z.state.selection;return{update(U){if(U.docChanged)Q.pos=U.changes.mapPos(Q.pos),X=X.map(U.changes)},get(U,Y,q){let W=Z.posAndSideAtCoords({x:U.clientX,y:U.clientY},!1),G,z=Y80(Z,W.pos,W.assoc,K);if(Q.pos!=W.pos&&!Y){let H=Y80(Z,Q.pos,Q.assoc,K),F=Math.min(H.from,z.from),M=Math.max(H.to,z.to);z=F<z.from?a0.range(F,M):a0.range(M,F)}if(Y)return X.replaceRange(X.main.extend(z.from,z.to));else if(q&&K==1&&X.ranges.length>1&&(G=zd0(X,W.pos)))return G;else if(q)return X.addRange(z);else return a0.create([z])}}}function zd0(Z,J){for(let Q=0;Q<Z.ranges.length;Q++){let{from:K,to:X}=Z.ranges[Q];if(K<=J&&X>=J)return a0.create(Z.ranges.slice(0,Q).concat(Z.ranges.slice(Q+1)),Z.mainIndex==Q?0:Z.mainIndex-(Z.mainIndex>Q?1:0))}return null}aK.dragstart=(Z,J)=>{let{selection:{main:Q}}=Z.state;if(J.target.draggable){let X=Z.docView.tile.nearest(J.target);if(X&&X.isWidget()){let U=X.posAtStart,Y=U+X.length;if(U>=Q.to||Y<=Q.from)Q=a0.range(U,Y)}}let{inputState:K}=Z;if(K.mouseSelection)K.mouseSelection.dragging=!0;if(K.draggedContent=Q,J.dataTransfer)J.dataTransfer.setData("Text",cN(Z.state,lv,Z.state.sliceDoc(Q.from,Q.to))),J.dataTransfer.effectAllowed="copyMove";return!1};aK.dragend=(Z)=>{return Z.inputState.draggedContent=null,!1};function z80(Z,J,Q,K){if(Q=cN(Z.state,cv,Q),!Q)return;let X=Z.posAtCoords({x:J.clientX,y:J.clientY},!1),{draggedContent:U}=Z.inputState,Y=K&&U&&Xd0(Z,J)?{from:U.from,to:U.to}:null,q={from:X,insert:Q},W=Z.state.changes(Y?[Y,q]:q);Z.focus(),Z.dispatch({changes:W,selection:{anchor:W.mapPos(X,-1),head:W.mapPos(X,1)},userEvent:Y?"move.drop":"input.drop"}),Z.inputState.draggedContent=null}aK.drop=(Z,J)=>{if(!J.dataTransfer)return!1;if(Z.state.readOnly)return!0;let Q=J.dataTransfer.files;if(Q&&Q.length){let K=Array(Q.length),X=0,U=()=>{if(++X==Q.length)z80(Z,J,K.filter((Y)=>Y!=null).join(Z.state.lineBreak),!1)};for(let Y=0;Y<Q.length;Y++){let q=new FileReader;q.onerror=U,q.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test(q.result))K[Y]=q.result;U()},q.readAsText(Q[Y])}return!0}else{let K=J.dataTransfer.getData("Text");if(K)return z80(Z,J,K,!0),!0}return!1};aK.paste=(Z,J)=>{if(Z.state.readOnly)return!0;Z.observer.flush();let Q=C90?null:J.clipboardData;if(Q)return S90(Z,Q.getData("text/plain")||Q.getData("text/uri-list")),!0;else return qd0(Z),!1};function Hd0(Z,J){let Q=Z.dom.parentNode;if(!Q)return;let K=Q.appendChild(document.createElement("textarea"));K.style.cssText="position: fixed; left: -10000px; top: 10px",K.value=J,K.focus(),K.selectionEnd=J.length,K.selectionStart=0,setTimeout(()=>{K.remove(),Z.focus()},50)}function Fd0(Z){let J=[],Q=[],K=!1;for(let X of Z.selection.ranges)if(!X.empty)J.push(Z.sliceDoc(X.from,X.to)),Q.push(X);if(!J.length){let X=-1;for(let{from:U}of Z.selection.ranges){let Y=Z.doc.lineAt(U);if(Y.number>X)J.push(Y.text),Q.push({from:Y.from,to:Math.min(Z.doc.length,Y.to+1)});X=Y.number}K=!0}return{text:cN(Z,lv,J.join(Z.lineBreak)),ranges:Q,linewise:K}}var wv=null;aK.copy=aK.cut=(Z,J)=>{let Q=DH(Z.root);if(Q&&!pO(Z.contentDOM,Q))return!1;let{text:K,ranges:X,linewise:U}=Fd0(Z.state);if(!K&&!U)return!1;if(wv=U?K:null,J.type=="cut"&&!Z.state.readOnly)Z.dispatch({changes:X,scrollIntoView:!0,userEvent:"delete.cut"});let Y=C90?null:J.clipboardData;if(Y)return Y.clearData(),Y.setData("text/plain",K),!0;else return Hd0(Z,K),!1};var w90=R4.define();function $90(Z,J){let Q=[];for(let K of Z.facet(o80)){let X=K(Z,J);if(X)Q.push(X)}return Q.length?Z.update({effects:Q,annotations:w90.of(!0)}):null}function k90(Z){setTimeout(()=>{let J=Z.hasFocus;if(J!=Z.inputState.notifiedFocused){let Q=$90(Z.state,J);if(Q)Z.dispatch(Q);else Z.update([])}},10)}o4.focus=(Z)=>{if(Z.inputState.lastFocusTime=Date.now(),!Z.scrollDOM.scrollTop&&(Z.inputState.lastScrollTop||Z.inputState.lastScrollLeft))Z.scrollDOM.scrollTop=Z.inputState.lastScrollTop,Z.scrollDOM.scrollLeft=Z.inputState.lastScrollLeft;k90(Z)};o4.blur=(Z)=>{Z.observer.clearSelectionRange(),k90(Z)};o4.compositionstart=o4.compositionupdate=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.compositionFirstChange==null)Z.inputState.compositionFirstChange=!0;if(Z.inputState.composing<0)Z.inputState.composing=0};o4.compositionend=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.composing=-1,Z.inputState.compositionEndedAt=Date.now(),Z.inputState.compositionPendingKey=!0,Z.inputState.compositionPendingChange=Z.observer.pendingRecords().length>0,Z.inputState.compositionFirstChange=null,x8.chrome&&x8.android)Z.observer.flushSoon();else if(Z.inputState.compositionPendingChange)Promise.resolve().then(()=>Z.observer.flush());else setTimeout(()=>{if(Z.inputState.composing<0&&Z.docView.hasComposition)Z.update([])},50)};o4.contextmenu=(Z)=>{Z.inputState.lastContextMenu=Date.now()};aK.beforeinput=(Z,J)=>{var Q,K;if(J.inputType=="insertText"||J.inputType=="insertCompositionText")Z.inputState.insertingText=J.data,Z.inputState.insertingTextAt=Date.now();if(J.inputType=="insertReplacementText"&&Z.observer.editContext){let U=(Q=J.dataTransfer)===null||Q===void 0?void 0:Q.getData("text/plain"),Y=J.getTargetRanges();if(U&&Y.length){let q=Y[0],W=Z.posAtDOM(q.startContainer,q.startOffset),G=Z.posAtDOM(q.endContainer,q.endOffset);return rv(Z,{from:W,to:G,insert:Z.state.toText(U)},null),!0}}let X;if(x8.chrome&&x8.android&&(X=V90.find((U)=>U.inputType==J.inputType))){if(Z.observer.delayAndroidKey(X.key,X.keyCode),X.key=="Backspace"||X.key=="Delete"){let U=((K=window.visualViewport)===null||K===void 0?void 0:K.height)||0;setTimeout(()=>{var Y;if((((Y=window.visualViewport)===null||Y===void 0?void 0:Y.height)||0)>U+10&&Z.hasFocus)Z.contentDOM.blur(),Z.focus()},100)}}if(x8.ios&&J.inputType=="deleteContentForward")Z.observer.flushSoon();if(x8.safari&&J.inputType=="insertText"&&Z.inputState.composing>=0)setTimeout(()=>o4.compositionend(Z,J),20);return!1};var H80=new Set;function Md0(Z){if(!H80.has(Z))H80.add(Z),Z.addEventListener("copy",()=>{}),Z.addEventListener("cut",()=>{})}var F80=["pre-wrap","normal","pre-line","break-spaces"],IH=!1;function M80(){IH=!1}class _90{constructor(Z){this.lineWrapping=Z,this.doc=l9.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(Z,J){let Q=this.doc.lineAt(J).number-this.doc.lineAt(Z).number+1;if(this.lineWrapping)Q+=Math.max(0,Math.ceil((J-Z-Q*this.lineLength*0.5)/this.lineLength));return this.lineHeight*Q}heightForLine(Z){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((Z-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(Z){return this.doc=Z,this}mustRefreshForWrapping(Z){return F80.indexOf(Z)>-1!=this.lineWrapping}mustRefreshForHeights(Z){let J=!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q];if(K<0)Q++;else if(!this.heightSamples[Math.floor(K*10)])J=!0,this.heightSamples[Math.floor(K*10)]=!0}return J}refresh(Z,J,Q,K,X,U){let Y=F80.indexOf(Z)>-1,q=Math.abs(J-this.lineHeight)>0.3||this.lineWrapping!=Y||Math.abs(Q-this.charWidth)>0.1;if(this.lineWrapping=Y,this.lineHeight=J,this.charWidth=Q,this.textHeight=K,this.lineLength=X,q){this.heightSamples={};for(let W=0;W<U.length;W++){let G=U[W];if(G<0)W++;else this.heightSamples[Math.floor(G*10)]=!0}}return q}}class f90{constructor(Z,J){this.from=Z,this.heights=J,this.index=0}get more(){return this.index<this.heights.length}}class rK{constructor(Z,J,Q,K,X){this.from=Z,this.length=J,this.top=Q,this.height=K,this._content=X}get type(){return typeof this._content=="number"?n7.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof tW?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Z){let J=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Z._content)?Z._content:[Z]);return new rK(this.from,this.length+Z.length,this.top,this.height+Z.height,J)}}var cZ=function(Z){return Z[Z.ByPos=0]="ByPos",Z[Z.ByHeight=1]="ByHeight",Z[Z.ByPosNoHeight=2]="ByPosNoHeight",Z}(cZ||(cZ={})),CN=0.001;class dQ{constructor(Z,J,Q=2){this.length=Z,this.height=J,this.flags=Q}get outdated(){return(this.flags&2)>0}set outdated(Z){this.flags=(Z?2:0)|this.flags&-3}setHeight(Z){if(this.height!=Z){if(Math.abs(this.height-Z)>CN)IH=!0;this.height=Z}}replace(Z,J,Q){return dQ.of(Q)}decomposeLeft(Z,J){J.push(this)}decomposeRight(Z,J){J.push(this)}applyChanges(Z,J,Q,K){let X=this,U=Q.doc;for(let Y=K.length-1;Y>=0;Y--){let{fromA:q,toA:W,fromB:G,toB:z}=K[Y],H=X.lineAt(q,cZ.ByPosNoHeight,Q.setDoc(J),0,0),F=H.to>=W?H:X.lineAt(W,cZ.ByPosNoHeight,Q,0,0);z+=F.to-W,W=F.to;while(Y>0&&H.from<=K[Y-1].toA)if(q=K[Y-1].fromA,G=K[Y-1].fromB,Y--,q<H.from)H=X.lineAt(q,cZ.ByPosNoHeight,Q,0,0);G+=H.from-q,q=H.from;let M=av.build(Q.setDoc(U),Z,G,z);X=hN(X,X.replace(q,W,M))}return X.updateHeight(Q,0)}static empty(){return new D4(0,0,0)}static of(Z){if(Z.length==1)return Z[0];let J=0,Q=Z.length,K=0,X=0;for(;;)if(J==Q)if(K>X*2){let Y=Z[J-1];if(Y.break)Z.splice(--J,1,Y.left,null,Y.right);else Z.splice(--J,1,Y.left,Y.right);Q+=1+Y.break,K-=Y.size}else if(X>K*2){let Y=Z[Q];if(Y.break)Z.splice(Q,1,Y.left,null,Y.right);else Z.splice(Q,1,Y.left,Y.right);Q+=2+Y.break,X-=Y.size}else break;else if(K<X){let Y=Z[J++];if(Y)K+=Y.size}else{let Y=Z[--Q];if(Y)X+=Y.size}let U=0;if(Z[J-1]==null)U=1,J--;else if(Z[J]==null)U=1,Q++;return new v90(dQ.of(Z.slice(0,J)),U,dQ.of(Z.slice(Q)))}}function hN(Z,J){if(Z==J)return Z;if(Z.constructor!=J.constructor)IH=!0;return J}dQ.prototype.size=1;var Bd0=r8.replace({});class nv extends dQ{constructor(Z,J,Q){super(Z,J);this.deco=Q,this.spaceAbove=0}mainBlock(Z,J){return new rK(J,this.length,Z+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(Z,J,Q,K){return this.spaceAbove&&Z<Q+this.spaceAbove?new rK(K,0,Q,this.spaceAbove,Bd0):this.mainBlock(Q,K)}lineAt(Z,J,Q,K,X){let U=this.mainBlock(K,X);return this.spaceAbove?this.blockAt(0,Q,K,X).join(U):U}forEachLine(Z,J,Q,K,X,U){if(Z<=X+this.length&&J>=X)U(this.lineAt(0,cZ.ByPos,Q,K,X))}setMeasuredHeight(Z){let J=Z.heights[Z.index++];if(J<0)this.spaceAbove=-J,J=Z.heights[Z.index++];else this.spaceAbove=0;this.setHeight(J)}updateHeight(Z,J=0,Q=!1,K){if(K&&K.from<=J&&K.more)this.setMeasuredHeight(K);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class D4 extends nv{constructor(Z,J,Q){super(Z,J,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=Q}mainBlock(Z,J){return new rK(J,this.length,Z+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(Z,J,Q){let K=Q[0];if(Q.length==1&&(K instanceof D4||K instanceof s7&&K.flags&4)&&Math.abs(this.length-K.length)<10){if(K instanceof s7)K=new D4(K.length,this.height,this.spaceAbove);else K.height=this.height;if(!this.outdated)K.outdated=!1;return K}else return dQ.of(Q)}updateHeight(Z,J=0,Q=!1,K){if(K&&K.from<=J&&K.more)this.setMeasuredHeight(K);else if(Q||this.outdated)this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,Z.heightForLine(this.length-this.collapsed))+this.breaks*Z.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class s7 extends dQ{constructor(Z){super(Z,0)}heightMetrics(Z,J){let Q=Z.doc.lineAt(J).number,K=Z.doc.lineAt(J+this.length).number,X=K-Q+1,U,Y=0;if(Z.lineWrapping){let q=Math.min(this.height,Z.lineHeight*X);if(U=q/X,this.length>X+1)Y=(this.height-q)/(this.length-X-1)}else U=this.height/X;return{firstLine:Q,lastLine:K,perLine:U,perChar:Y}}blockAt(Z,J,Q,K){let{firstLine:X,lastLine:U,perLine:Y,perChar:q}=this.heightMetrics(J,K);if(J.lineWrapping){let W=K+(Z<J.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Z-Q)/this.height))*this.length)),G=J.doc.lineAt(W),z=Y+G.length*q,H=Math.max(Q,Z-z/2);return new rK(G.from,G.length,H,z,0)}else{let W=Math.max(0,Math.min(U-X,Math.floor((Z-Q)/Y))),{from:G,length:z}=J.doc.line(X+W);return new rK(G,z,Q+Y*W,Y,0)}}lineAt(Z,J,Q,K,X){if(J==cZ.ByHeight)return this.blockAt(Z,Q,K,X);if(J==cZ.ByPosNoHeight){let{from:F,to:M}=Q.doc.lineAt(Z);return new rK(F,M-F,0,0,0)}let{firstLine:U,perLine:Y,perChar:q}=this.heightMetrics(Q,X),W=Q.doc.lineAt(Z),G=Y+W.length*q,z=W.number-U,H=K+Y*z+q*(W.from-X-z);return new rK(W.from,W.length,Math.max(K,Math.min(H,K+this.height-G)),G,0)}forEachLine(Z,J,Q,K,X,U){Z=Math.max(Z,X),J=Math.min(J,X+this.length);let{firstLine:Y,perLine:q,perChar:W}=this.heightMetrics(Q,X);for(let G=Z,z=K;G<=J;){let H=Q.doc.lineAt(G);if(G==Z){let M=H.number-Y;z+=q*M+W*(Z-X-M)}let F=q+W*H.length;U(new rK(H.from,H.length,z,F,0)),z+=F,G=H.to+1}}replace(Z,J,Q){let K=this.length-J;if(K>0){let X=Q[Q.length-1];if(X instanceof s7)Q[Q.length-1]=new s7(X.length+K);else Q.push(null,new s7(K-1))}if(Z>0){let X=Q[0];if(X instanceof s7)Q[0]=new s7(Z+X.length);else Q.unshift(new s7(Z-1),null)}return dQ.of(Q)}decomposeLeft(Z,J){J.push(new s7(Z-1),null)}decomposeRight(Z,J){J.push(null,new s7(this.length-Z-1))}updateHeight(Z,J=0,Q=!1,K){let X=J+this.length;if(K&&K.from<=J+this.length&&K.more){let U=[],Y=Math.max(J,K.from),q=-1;if(K.from>J)U.push(new s7(K.from-J-1).updateHeight(Z,J));while(Y<=X&&K.more){let G=Z.doc.lineAt(Y).length;if(U.length)U.push(null);let z=K.heights[K.index++],H=0;if(z<0)H=-z,z=K.heights[K.index++];if(q==-1)q=z;else if(Math.abs(z-q)>=CN)q=-2;let F=new D4(G,z,H);F.outdated=!1,U.push(F),Y+=G+1}if(Y<=X)U.push(null,new s7(X-Y).updateHeight(Z,Y));let W=dQ.of(U);if(q<0||Math.abs(W.height-this.height)>=CN||Math.abs(q-this.heightMetrics(Z,J).perLine)>=CN)IH=!0;return hN(this,W)}else if(Q||this.outdated)this.setHeight(Z.heightForGap(J,J+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class v90 extends dQ{constructor(Z,J,Q){super(Z.length+J+Q.length,Z.height+Q.height,J|(Z.outdated||Q.outdated?2:0));this.left=Z,this.right=Q,this.size=Z.size+Q.size}get break(){return this.flags&1}blockAt(Z,J,Q,K){let X=Q+this.left.height;return Z<X?this.left.blockAt(Z,J,Q,K):this.right.blockAt(Z,J,X,K+this.left.length+this.break)}lineAt(Z,J,Q,K,X){let U=K+this.left.height,Y=X+this.left.length+this.break,q=J==cZ.ByHeight?Z<U:Z<Y,W=q?this.left.lineAt(Z,J,Q,K,X):this.right.lineAt(Z,J,Q,U,Y);if(this.break||(q?W.to<Y:W.from>Y))return W;let G=J==cZ.ByPosNoHeight?cZ.ByPosNoHeight:cZ.ByPos;if(q)return W.join(this.right.lineAt(Y,G,Q,U,Y));else return this.left.lineAt(Y,G,Q,K,X).join(W)}forEachLine(Z,J,Q,K,X,U){let Y=K+this.left.height,q=X+this.left.length+this.break;if(this.break){if(Z<q)this.left.forEachLine(Z,J,Q,K,X,U);if(J>=q)this.right.forEachLine(Z,J,Q,Y,q,U)}else{let W=this.lineAt(q,cZ.ByPos,Q,K,X);if(Z<W.from)this.left.forEachLine(Z,W.from-1,Q,K,X,U);if(W.to>=Z&&W.from<=J)U(W);if(J>W.to)this.right.forEachLine(W.to+1,J,Q,Y,q,U)}}replace(Z,J,Q){let K=this.left.length+this.break;if(J<K)return this.balanced(this.left.replace(Z,J,Q),this.right);if(Z>this.left.length)return this.balanced(this.left,this.right.replace(Z-K,J-K,Q));let X=[];if(Z>0)this.decomposeLeft(Z,X);let U=X.length;for(let Y of Q)X.push(Y);if(Z>0)B80(X,U-1);if(J<this.length){let Y=X.length;this.decomposeRight(J,X),B80(X,Y)}return dQ.of(X)}decomposeLeft(Z,J){let Q=this.left.length;if(Z<=Q)return this.left.decomposeLeft(Z,J);if(J.push(this.left),this.break){if(Q++,Z>=Q)J.push(null)}if(Z>Q)this.right.decomposeLeft(Z-Q,J)}decomposeRight(Z,J){let Q=this.left.length,K=Q+this.break;if(Z>=K)return this.right.decomposeRight(Z-K,J);if(Z<Q)this.left.decomposeRight(Z,J);if(this.break&&Z<K)J.push(null);J.push(this.right)}balanced(Z,J){if(Z.size>2*J.size||J.size>2*Z.size)return dQ.of(this.break?[Z,null,J]:[Z,J]);return this.left=hN(this.left,Z),this.right=hN(this.right,J),this.setHeight(Z.height+J.height),this.outdated=Z.outdated||J.outdated,this.size=Z.size+J.size,this.length=Z.length+this.break+J.length,this}updateHeight(Z,J=0,Q=!1,K){let{left:X,right:U}=this,Y=J+X.length+this.break,q=null;if(K&&K.from<=J+X.length&&K.more)q=X=X.updateHeight(Z,J,Q,K);else X.updateHeight(Z,J,Q);if(K&&K.from<=Y+U.length&&K.more)q=U=U.updateHeight(Z,Y,Q,K);else U.updateHeight(Z,Y,Q);if(q)return this.balanced(X,U);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}function B80(Z,J){let Q,K;if(Z[J]==null&&(Q=Z[J-1])instanceof s7&&(K=Z[J+1])instanceof s7)Z.splice(J-1,3,new s7(Q.length+1+K.length))}var Od0=5;class av{constructor(Z,J){this.pos=Z,this.oracle=J,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Z}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Z,J){if(this.lineStart>-1){let Q=Math.min(J,this.lineEnd),K=this.nodes[this.nodes.length-1];if(K instanceof D4)K.length+=Q-this.pos;else if(Q>this.pos||!this.isCovered)this.nodes.push(new D4(Q-this.pos,-1,0));if(this.writtenTo=Q,J>Q)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=J}point(Z,J,Q){if(Z<J||Q.heightRelevant){let K=Q.widget?Q.widget.estimatedHeight:0,X=Q.widget?Q.widget.lineBreaks:0;if(K<0)K=this.oracle.lineHeight;let U=J-Z;if(Q.block)this.addBlock(new nv(U,K,Q));else if(U||X||K>=Od0)this.addLineDeco(K,X,U)}else if(J>Z)this.span(Z,J);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:Z,to:J}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=Z,this.lineEnd=J,this.writtenTo<Z){if(this.writtenTo<Z-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,Z-1));this.nodes.push(null)}if(this.pos>Z)this.nodes.push(new D4(this.pos-Z,-1,0));this.writtenTo=this.pos}blankContent(Z,J){let Q=new s7(J-Z);if(this.oracle.doc.lineAt(Z).to==J)Q.flags|=4;return Q}ensureLine(){this.enterLine();let Z=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Z instanceof D4)return Z;let J=new D4(0,-1,0);return this.nodes.push(J),J}addBlock(Z){this.enterLine();let J=Z.deco;if(J&&J.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(Z),this.writtenTo=this.pos=this.pos+Z.length,J&&J.endSide>0)this.covering=Z}addLineDeco(Z,J,Q){let K=this.ensureLine();K.length+=Q,K.collapsed+=Q,K.widgetHeight=Math.max(K.widgetHeight,Z),K.breaks+=J,this.writtenTo=this.pos=this.pos+Q}finish(Z){let J=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(J instanceof D4)&&!this.isCovered)this.nodes.push(new D4(0,-1,0));else if(this.writtenTo<this.pos||J==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let Q=Z;for(let K of this.nodes){if(K instanceof D4)K.updateHeight(this.oracle,Q);Q+=K?K.length:1}return this.nodes}static build(Z,J,Q,K){let X=new av(Q,Z);return E9.spans(J,Q,K,X,0),X.finish(Q)}}function Rd0(Z,J,Q){let K=new x90;return E9.compare(Z,J,Q,K,0),K.changes}class x90{constructor(){this.changes=[]}compareRange(){}comparePoint(Z,J,Q,K){if(Z<J||Q&&Q.heightRelevant||K&&K.heightRelevant)BH(Z,J,this.changes,5)}}function Dd0(Z,J){let Q=Z.getBoundingClientRect(),K=Z.ownerDocument,X=K.defaultView||window,U=Math.max(0,Q.left),Y=Math.min(X.innerWidth,Q.right),q=Math.max(0,Q.top),W=Math.min(X.innerHeight,Q.bottom);for(let G=Z.parentNode;G&&G!=K.body;)if(G.nodeType==1){let z=G,H=window.getComputedStyle(z);if((z.scrollHeight>z.clientHeight||z.scrollWidth>z.clientWidth)&&H.overflow!="visible"){let F=z.getBoundingClientRect();U=Math.max(U,F.left),Y=Math.min(Y,F.right),q=Math.max(q,F.top),W=Math.min(G==Z.parentNode?X.innerHeight:W,F.bottom)}G=H.position=="absolute"||H.position=="fixed"?z.offsetParent:z.parentNode}else if(G.nodeType==11)G=G.host;else break;return{left:U-Q.left,right:Math.max(U,Y)-Q.left,top:q-(Q.top+J),bottom:Math.max(q,W)-(Q.top+J)}}function Ld0(Z){let J=Z.getBoundingClientRect(),Q=Z.ownerDocument.defaultView||window;return J.left<Q.innerWidth&&J.right>0&&J.top<Q.innerHeight&&J.bottom>0}function Id0(Z,J){let Q=Z.getBoundingClientRect();return{left:0,right:Q.right-Q.left,top:J,bottom:Q.bottom-(Q.top+J)}}class SN{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.size=Q,this.displaySize=K}static same(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q],X=J[Q];if(K.from!=X.from||K.to!=X.to||K.size!=X.size)return!1}return!0}draw(Z,J){return r8.replace({widget:new b90(this.displaySize*(J?Z.scaleY:Z.scaleX),J)}).range(this.from,this.to)}}class b90 extends T6{constructor(Z,J){super();this.size=Z,this.vertical=J}eq(Z){return Z.size==this.size&&Z.vertical==this.vertical}toDOM(){let Z=document.createElement("div");if(this.vertical)Z.style.height=this.size+"px";else Z.style.width=this.size+"px",Z.style.height="2px",Z.style.display="inline-block";return Z}get estimatedHeight(){return this.vertical?this.size:-1}}class $v{constructor(Z){this.state=Z,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=O80,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=LZ.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let J=Z.facet(dv).some((Q)=>typeof Q!="function"&&Q.class=="cm-lineWrapping");this.heightOracle=new _90(J),this.stateDeco=R80(Z),this.heightMap=dQ.empty().applyChanges(this.stateDeco,l9.empty,this.heightOracle.setDoc(Z.doc),[new a4(0,0,0,Z.doc.length)]);for(let Q=0;Q<2;Q++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=r8.set(this.lineGaps.map((Q)=>Q.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Z=[this.viewport],{main:J}=this.state.selection;for(let Q=0;Q<=1;Q++){let K=Q?J.head:J.anchor;if(!Z.some(({from:X,to:U})=>K>=X&&K<=U)){let{from:X,to:U}=this.lineBlockAt(K);Z.push(new hO(X,U))}}return this.viewports=Z.sort((Q,K)=>Q.from-K.from),this.updateScaler()}updateScaler(){let Z=this.scaler;return this.scaler=this.heightMap.height<=7000000?O80:new ov(this.heightOracle,this.heightMap,this.viewports),Z.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(Z)=>{this.viewportLines.push(mO(Z,this.scaler))})}update(Z,J=null){this.state=Z.state;let Q=this.stateDeco;this.stateDeco=R80(this.state);let K=Z.changedRanges,X=a4.extendWithRanges(K,Rd0(Q,this.stateDeco,Z?Z.changes:lJ.empty(this.state.doc.length))),U=this.heightMap.height,Y=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(M80(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,Z.startState.doc,this.heightOracle.setDoc(this.state.doc),X),this.heightMap.height!=U||IH)Z.flags|=2;if(Y)this.scrollAnchorPos=Z.changes.mapPos(Y.from,-1),this.scrollAnchorHeight=Y.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=U;let q=X.length?this.mapViewport(this.viewport,Z.changes):this.viewport;if(J&&(J.range.head<q.from||J.range.head>q.to)||!this.viewportIsAppropriate(q))q=this.getViewport(0,J);let W=q.from!=this.viewport.from||q.to!=this.viewport.to;if(this.viewport=q,Z.flags|=this.updateForViewport(),W||!Z.changes.empty||Z.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Z.changes)));if(Z.flags|=this.computeVisibleRanges(Z.changes),J)this.scrollTarget=J;if(!this.mustEnforceCursorAssoc&&(Z.selectionSet||Z.focusChanged)&&Z.view.lineWrapping&&Z.state.selection.main.empty&&Z.state.selection.main.assoc&&!Z.state.facet(e80))this.mustEnforceCursorAssoc=!0}measure(Z){let J=Z.contentDOM,Q=window.getComputedStyle(J),K=this.heightOracle,X=Q.whiteSpace;this.defaultTextDirection=Q.direction=="rtl"?LZ.RTL:LZ.LTR;let U=this.heightOracle.mustRefreshForWrapping(X)||this.mustMeasureContent,Y=J.getBoundingClientRect(),q=U||this.mustMeasureContent||this.contentDOMHeight!=Y.height;this.contentDOMHeight=Y.height,this.mustMeasureContent=!1;let W=0,G=0;if(Y.width&&Y.height){let{scaleX:A,scaleY:V}=x80(J,Y);if(A>0.005&&Math.abs(this.scaleX-A)>0.005||V>0.005&&Math.abs(this.scaleY-V)>0.005)this.scaleX=A,this.scaleY=V,W|=16,U=q=!0}let z=(parseInt(Q.paddingTop)||0)*this.scaleY,H=(parseInt(Q.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=z||this.paddingBottom!=H)this.paddingTop=z,this.paddingBottom=H,W|=18;if(this.editorWidth!=Z.scrollDOM.clientWidth){if(K.lineWrapping)q=!0;this.editorWidth=Z.scrollDOM.clientWidth,W|=16}let F=Z.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=F)this.scrollAnchorHeight=-1,this.scrollTop=F;this.scrolledToBottom=h80(Z.scrollDOM);let M=(this.printing?Id0:Dd0)(J,this.paddingTop),B=M.top-this.pixelViewport.top,O=M.bottom-this.pixelViewport.bottom;this.pixelViewport=M;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView){if(this.inView=R,R)q=!0}if(!this.inView&&!this.scrollTarget&&!Ld0(Z.dom))return 0;let D=Y.width;if(this.contentDOMWidth!=D||this.editorHeight!=Z.scrollDOM.clientHeight)this.contentDOMWidth=Y.width,this.editorHeight=Z.scrollDOM.clientHeight,W|=16;if(q){let A=Z.docView.measureVisibleLineHeights(this.viewport);if(K.mustRefreshForHeights(A))U=!0;if(U||K.lineWrapping&&Math.abs(D-this.contentDOMWidth)>K.charWidth){let{lineHeight:V,charWidth:N,textHeight:E}=Z.docView.measureTextSize();if(U=V>0&&K.refresh(X,V,N,E,Math.max(5,D/N),A),U)Z.docView.minWidth=0,W|=16}if(B>0&&O>0)G=Math.max(B,O);else if(B<0&&O<0)G=Math.min(B,O);M80();for(let V of this.viewports){let N=V.from==this.viewport.from?A:Z.docView.measureVisibleLineHeights(V);this.heightMap=(U?dQ.empty().applyChanges(this.stateDeco,l9.empty,this.heightOracle,[new a4(0,0,0,Z.state.doc.length)]):this.heightMap).updateHeight(K,0,U,new f90(V.from,N))}if(IH)W|=2}let L=!this.viewportIsAppropriate(this.viewport,G)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(L){if(W&2)W|=this.updateScaler();this.viewport=this.getViewport(G,this.scrollTarget),W|=this.updateForViewport()}if(W&2||L)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(U?[]:this.lineGaps,Z));if(W|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,Z.docView.enforceCursorAssoc();return W}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Z,J){let Q=0.5-Math.max(-0.5,Math.min(0.5,Z/1000/2)),K=this.heightMap,X=this.heightOracle,{visibleTop:U,visibleBottom:Y}=this,q=new hO(K.lineAt(U-Q*1000,cZ.ByHeight,X,0,0).from,K.lineAt(Y+(1-Q)*1000,cZ.ByHeight,X,0,0).to);if(J){let{head:W}=J.range;if(W<q.from||W>q.to){let G=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),z=K.lineAt(W,cZ.ByPos,X,0,0),H;if(J.y=="center")H=(z.top+z.bottom)/2-G/2;else if(J.y=="start"||J.y=="nearest"&&W<q.from)H=z.top;else H=z.bottom-G;q=new hO(K.lineAt(H-500,cZ.ByHeight,X,0,0).from,K.lineAt(H+G+500,cZ.ByHeight,X,0,0).to)}}return q}mapViewport(Z,J){let Q=J.mapPos(Z.from,-1),K=J.mapPos(Z.to,1);return new hO(this.heightMap.lineAt(Q,cZ.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(K,cZ.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Z,to:J},Q=0){if(!this.inView)return!0;let{top:K}=this.heightMap.lineAt(Z,cZ.ByPos,this.heightOracle,0,0),{bottom:X}=this.heightMap.lineAt(J,cZ.ByPos,this.heightOracle,0,0),{visibleTop:U,visibleBottom:Y}=this;return(Z==0||K<=U-Math.max(10,Math.min(-Q,250)))&&(J==this.state.doc.length||X>=Y+Math.max(10,Math.min(Q,250)))&&(K>U-2000&&X<Y+2000)}mapLineGaps(Z,J){if(!Z.length||J.empty)return Z;let Q=[];for(let K of Z)if(!J.touchesRange(K.from,K.to))Q.push(new SN(J.mapPos(K.from),J.mapPos(K.to),K.size,K.displaySize));return Q}ensureLineGaps(Z,J){let Q=this.heightOracle.lineWrapping,K=Q?1e4:2000,X=K>>1,U=K<<1;if(this.defaultTextDirection!=LZ.LTR&&!Q)return[];let Y=[],q=(G,z,H,F)=>{if(z-G<X)return;let M=this.state.selection.main,B=[M.from];if(!M.empty)B.push(M.to);for(let R of B)if(R>G&&R<z){q(G,R-10,H,F),q(R+10,z,H,F);return}let O=Nd0(Z,(R)=>R.from>=H.from&&R.to<=H.to&&Math.abs(R.from-G)<X&&Math.abs(R.to-z)<X&&!B.some((D)=>R.from<D&&R.to>D));if(!O){if(z<H.to&&J&&Q&&J.visibleRanges.some((L)=>L.from<=z&&L.to>=z)){let L=J.moveToLineBoundary(a0.cursor(z),!1,!0).head;if(L>G)z=L}let R=this.gapSize(H,G,z,F),D=Q||R<2000000?R:2000000;O=new SN(G,z,R,D)}Y.push(O)},W=(G)=>{if(G.length<U||G.type!=n7.Text)return;let z=Ad0(G.from,G.to,this.stateDeco);if(z.total<U)return;let H=this.scrollTarget?this.scrollTarget.range.head:null,F,M;if(Q){let B=K/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,R;if(H!=null){let D=LN(z,H),L=((this.visibleBottom-this.visibleTop)/2+B)/G.height;O=D-L,R=D+L}else O=(this.visibleTop-G.top-B)/G.height,R=(this.visibleBottom-G.top+B)/G.height;F=DN(z,O),M=DN(z,R)}else{let B=z.total*this.heightOracle.charWidth,O=K*this.heightOracle.charWidth,R=0;if(B>2000000){for(let N of Z)if(N.from>=G.from&&N.from<G.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+R<this.pixelViewport.left)R=N.size-N.displaySize}let D=this.pixelViewport.left+R,L=this.pixelViewport.right+R,A,V;if(H!=null){let N=LN(z,H),E=((L-D)/2+O)/B;A=N-E,V=N+E}else A=(D-O)/B,V=(L+O)/B;F=DN(z,A),M=DN(z,V)}if(F>G.from)q(G.from,F,G,z);if(M<G.to)q(M,G.to,G,z)};for(let G of this.viewportLines)if(Array.isArray(G.type))G.type.forEach(W);else W(G);return Y}gapSize(Z,J,Q,K){let X=LN(K,Q)-LN(K,J);if(this.heightOracle.lineWrapping)return Z.height*X;else return K.total*this.heightOracle.charWidth*X}updateLineGaps(Z){if(!SN.same(Z,this.lineGaps))this.lineGaps=Z,this.lineGapDeco=r8.set(Z.map((J)=>J.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(Z){let J=this.stateDeco;if(this.lineGaps.length)J=J.concat(this.lineGapDeco);let Q=[];E9.spans(J,this.viewport.from,this.viewport.to,{span(X,U){Q.push({from:X,to:U})},point(){}},20);let K=0;if(Q.length!=this.visibleRanges.length)K=12;else for(let X=0;X<Q.length&&!(K&8);X++){let U=this.visibleRanges[X],Y=Q[X];if(U.from!=Y.from||U.to!=Y.to){if(K|=4,!(Z&&Z.mapPos(U.from,-1)==Y.from&&Z.mapPos(U.to,1)==Y.to))K|=8}}return this.visibleRanges=Q,K}lineBlockAt(Z){return Z>=this.viewport.from&&Z<=this.viewport.to&&this.viewportLines.find((J)=>J.from<=Z&&J.to>=Z)||mO(this.heightMap.lineAt(Z,cZ.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Z){return Z>=this.viewportLines[0].top&&Z<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((J)=>J.top<=Z&&J.bottom>=Z)||mO(this.heightMap.lineAt(this.scaler.fromDOM(Z),cZ.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Z){let J=this.lineBlockAtHeight(Z+8);return J.from>=this.viewport.from||this.viewportLines[0].top-Z>200?J:this.viewportLines[0]}elementAtHeight(Z){return mO(this.heightMap.blockAt(this.scaler.fromDOM(Z),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class hO{constructor(Z,J){this.from=Z,this.to=J}}function Ad0(Z,J,Q){let K=[],X=Z,U=0;if(E9.spans(Q,Z,J,{span(){},point(Y,q){if(Y>X)K.push({from:X,to:Y}),U+=Y-X;X=q}},20),X<J)K.push({from:X,to:J}),U+=J-X;return{total:U,ranges:K}}function DN({total:Z,ranges:J},Q){if(Q<=0)return J[0].from;if(Q>=1)return J[J.length-1].to;let K=Math.floor(Z*Q);for(let X=0;;X++){let{from:U,to:Y}=J[X],q=Y-U;if(K<=q)return U+K;K-=q}}function LN(Z,J){let Q=0;for(let{from:K,to:X}of Z.ranges){if(J<=X){Q+=J-K;break}Q+=X-K}return Q/Z.total}function Nd0(Z,J){for(let Q of Z)if(J(Q))return Q;return}var O80={toDOM(Z){return Z},fromDOM(Z){return Z},scale:1,eq(Z){return Z==this}};function R80(Z){let J=Z.facet(pN).filter((K)=>typeof K!="function"),Q=Z.facet(iv).filter((K)=>typeof K!="function");if(Q.length)J.push(E9.join(Q));return J}class ov{constructor(Z,J,Q){let K=0,X=0,U=0;this.viewports=Q.map(({from:Y,to:q})=>{let W=J.lineAt(Y,cZ.ByPos,Z,0,0).top,G=J.lineAt(q,cZ.ByPos,Z,0,0).bottom;return K+=G-W,{from:Y,to:q,top:W,bottom:G,domTop:0,domBottom:0}}),this.scale=(7000000-K)/(J.height-K);for(let Y of this.viewports)Y.domTop=U+(Y.top-X)*this.scale,U=Y.domBottom=Y.domTop+(Y.bottom-Y.top),X=Y.bottom}toDOM(Z){for(let J=0,Q=0,K=0;;J++){let X=J<this.viewports.length?this.viewports[J]:null;if(!X||Z<X.top)return K+(Z-Q)*this.scale;if(Z<=X.bottom)return X.domTop+(Z-X.top);Q=X.bottom,K=X.domBottom}}fromDOM(Z){for(let J=0,Q=0,K=0;;J++){let X=J<this.viewports.length?this.viewports[J]:null;if(!X||Z<X.domTop)return Q+(Z-K)/this.scale;if(Z<=X.domBottom)return X.top+(Z-X.domTop);Q=X.bottom,K=X.domBottom}}eq(Z){if(!(Z instanceof ov))return!1;return this.scale==Z.scale&&this.viewports.length==Z.viewports.length&&this.viewports.every((J,Q)=>J.from==Z.viewports[Q].from&&J.to==Z.viewports[Q].to)}}function mO(Z,J){if(J.scale==1)return Z;let Q=J.toDOM(Z.top),K=J.toDOM(Z.bottom);return new rK(Z.from,Z.length,Q,K-Q,Array.isArray(Z._content)?Z._content.map((X)=>mO(X,J)):Z._content)}var IN=w8.define({combine:(Z)=>Z.join(" ")}),kv=w8.define({combine:(Z)=>Z.indexOf(!0)>-1}),_v=iK.newName(),y90=iK.newName(),h90=iK.newName(),m90={"&light":"."+y90,"&dark":"."+h90};function fv(Z,J,Q){return new iK(J,{finish(K){return/&/.test(K)?K.replace(/&\w*/,(X)=>{if(X=="&")return Z;if(!Q||!Q[X])throw RangeError(`Unsupported selector: ${X}`);return Q[X]}):Z+" "+K}})}var Ed0=fv("."+_v,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},m90),Vd0={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},zv=x8.ie&&x8.ie_version<=11;class u90{constructor(Z){if(this.view=Z,this.active=!1,this.editContext=null,this.selectionRange=new b80,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Z.contentDOM,this.observer=new MutationObserver((J)=>{for(let Q of J)this.queue.push(Q);if((x8.ie&&x8.ie_version<=11||x8.ios&&Z.composing)&&J.some((Q)=>Q.type=="childList"&&Q.removedNodes.length||Q.type=="characterData"&&Q.oldValue.length>Q.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&x8.android&&Z.constructor.EDIT_CONTEXT!==!1&&!(x8.chrome&&x8.chrome_version<126)){if(this.editContext=new g90(Z),Z.state.facet(_U))Z.contentDOM.editContext=this.editContext.editContext}if(zv)this.onCharData=(J)=>{this.queue.push({target:J.target,type:"characterData",oldValue:J.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var J;if(((J=this.view.docView)===null||J===void 0?void 0:J.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(Z.scrollDOM);if(this.addWindowListeners(this.win=Z.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver((J)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if(J.length>0&&J[J.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((J)=>{if(J.length>0&&J[J.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Z){if(this.view.inputState.runHandlers("scroll",Z),this.intersecting)this.view.measure()}onScroll(Z){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(Z)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(Z){if((Z.type=="change"||!Z.type)&&!Z.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(Z){if(this.gapIntersection&&(Z.length!=this.gaps.length||this.gaps.some((J,Q)=>J!=Z[Q]))){this.gapIntersection.disconnect();for(let J of Z)this.gapIntersection.observe(J);this.gaps=Z}}onSelectionChange(Z){let J=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:Q}=this,K=this.selectionRange;if(Q.state.facet(_U)?Q.root.activeElement!=this.dom:!pO(this.dom,K))return;let X=K.anchorNode&&Q.docView.tile.nearest(K.anchorNode);if(X&&X.isWidget()&&X.widget.ignoreEvent(Z)){if(!J)this.selectionChanged=!1;return}if((x8.ie&&x8.ie_version<=11||x8.android&&x8.chrome)&&!Q.state.selection.main.empty&&K.focusNode&&cO(K.focusNode,K.focusOffset,K.anchorNode,K.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:Z}=this,J=DH(Z.root);if(!J)return!1;let Q=x8.safari&&Z.root.nodeType==11&&Z.root.activeElement==this.dom&&Pd0(this.view,J)||J;if(!Q||this.selectionRange.eq(Q))return!1;let K=pO(this.dom,Q);if(K&&!this.selectionChanged&&Z.inputState.lastFocusTime>Date.now()-200&&Z.inputState.lastTouchTime<Date.now()-300&&Il0(this.dom,Q))return this.view.inputState.lastFocusTime=0,Z.docView.updateSelection(),!1;if(this.selectionRange.setRange(Q),K)this.selectionChanged=!0;return!0}setSelectionRange(Z,J){this.selectionRange.set(Z.node,Z.offset,J.node,J.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Z=0,J=null;for(let Q=this.dom;Q;)if(Q.nodeType==1){if(!J&&Z<this.scrollTargets.length&&this.scrollTargets[Z]==Q)Z++;else if(!J)J=this.scrollTargets.slice(0,Z);if(J)J.push(Q);Q=Q.assignedSlot||Q.parentNode}else if(Q.nodeType==11)Q=Q.host;else break;if(Z<this.scrollTargets.length&&!J)J=this.scrollTargets.slice(0,Z);if(J){for(let Q of this.scrollTargets)Q.removeEventListener("scroll",this.onScroll);for(let Q of this.scrollTargets=J)Q.addEventListener("scroll",this.onScroll)}}ignore(Z){if(!this.active)return Z();try{return this.stop(),Z()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,Vd0),zv)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),zv)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Z,J){var Q;if(!this.delayedAndroidKey){let K=()=>{let X=this.delayedAndroidKey;if(X){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=X.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&X.force)OH(this.dom,X.key,X.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(K)}if(!this.delayedAndroidKey||Z=="Enter")this.delayedAndroidKey={key:Z,keyCode:J,force:this.lastChange<Date.now()-50||!!((Q=this.delayedAndroidKey)===null||Q===void 0?void 0:Q.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let Z of this.observer.takeRecords())this.queue.push(Z);return this.queue}processRecords(){let Z=this.pendingRecords();if(Z.length)this.queue=[];let J=-1,Q=-1,K=!1;for(let X of Z){let U=this.readMutation(X);if(!U)continue;if(U.typeOver)K=!0;if(J==-1)({from:J,to:Q}=U);else J=Math.min(U.from,J),Q=Math.max(U.to,Q)}return{from:J,to:Q,typeOver:K}}readChange(){let{from:Z,to:J,typeOver:Q}=this.processRecords(),K=this.selectionChanged&&pO(this.dom,this.selectionRange);if(Z<0&&!K)return null;if(Z>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let X=new L90(this.view,Z,J,Q);return this.view.docView.domChanged={newSel:X.newSel?X.newSel.main:null},X}flush(Z=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(Z)this.readSelectionRange();let J=this.readChange();if(!J)return this.view.requestMeasure(),!1;let Q=this.view.state,K=A90(this.view,J);if(this.view.state==Q&&(J.domChanged||J.newSel&&!yN(this.view.state.selection,J.newSel.main)))this.view.update([]);return K}readMutation(Z){let J=this.view.docView.tile.nearest(Z.target);if(!J||J.isWidget())return null;if(J.markDirty(Z.type=="attributes"),Z.type=="childList"){let Q=D80(J,Z.previousSibling||Z.target.previousSibling,-1),K=D80(J,Z.nextSibling||Z.target.nextSibling,1);return{from:Q?J.posAfter(Q):J.posAtStart,to:K?J.posBefore(K):J.posAtEnd,typeOver:!1}}else if(Z.type=="characterData")return{from:J.posAtStart,to:J.posAtEnd,typeOver:Z.target.nodeValue==Z.oldValue};else return null}setWindow(Z){if(Z!=this.win)this.removeWindowListeners(this.win),this.win=Z,this.addWindowListeners(this.win)}addWindowListeners(Z){if(Z.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else Z.addEventListener("beforeprint",this.onPrint);Z.addEventListener("scroll",this.onScroll),Z.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Z){if(Z.removeEventListener("scroll",this.onScroll),Z.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else Z.removeEventListener("beforeprint",this.onPrint);Z.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Z){if(this.editContext){if(this.editContext.update(Z),Z.startState.facet(_U)!=Z.state.facet(_U))Z.view.contentDOM.editContext=Z.state.facet(_U)?this.editContext.editContext:null}}destroy(){var Z,J,Q;this.stop(),(Z=this.intersection)===null||Z===void 0||Z.disconnect(),(J=this.gapIntersection)===null||J===void 0||J.disconnect(),(Q=this.resizeScroll)===null||Q===void 0||Q.disconnect();for(let K of this.scrollTargets)K.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}function D80(Z,J,Q){while(J){let K=dJ.get(J);if(K&&K.parent==Z)return K;let X=J.parentNode;J=X!=Z.dom?X:Q>0?J.nextSibling:J.previousSibling}return null}function L80(Z,J){let{startContainer:Q,startOffset:K,endContainer:X,endOffset:U}=J,Y=Z.docView.domAtPos(Z.state.selection.main.anchor,1);if(cO(Y.node,Y.offset,X,U))[Q,K,X,U]=[X,U,Q,K];return{anchorNode:Q,anchorOffset:K,focusNode:X,focusOffset:U}}function Pd0(Z,J){if(J.getComposedRanges){let X=J.getComposedRanges(Z.root)[0];if(X)return L80(Z,X)}let Q=null;function K(X){X.preventDefault(),X.stopImmediatePropagation(),Q=X.getTargetRanges()[0]}return Z.contentDOM.addEventListener("beforeinput",K,!0),Z.dom.ownerDocument.execCommand("indent"),Z.contentDOM.removeEventListener("beforeinput",K,!0),Q?L80(Z,Q):null}class g90{constructor(Z){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(Z.state);let J=this.editContext=new window.EditContext({text:Z.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Z.state.selection.main.anchor))),selectionEnd:this.toContextPos(Z.state.selection.main.head)});this.handlers.textupdate=(Q)=>{let K=Z.state.selection.main,{anchor:X,head:U}=K,Y=this.toEditorPos(Q.updateRangeStart),q=this.toEditorPos(Q.updateRangeEnd);if(Z.inputState.composing>=0&&!this.composing)this.composing={contextBase:Q.updateRangeStart,editorBase:Y,drifted:!1};let W=q-Y>Q.text.length;if(Y==this.from&&X<this.from)Y=X;else if(q==this.to&&X>this.to)q=X;let G=N90(Z.state.sliceDoc(Y,q),Q.text,(W?K.from:K.to)-Y,W?"end":null);if(!G){let H=a0.single(this.toEditorPos(Q.selectionStart),this.toEditorPos(Q.selectionEnd));if(!yN(H,K))Z.dispatch({selection:H,userEvent:"select"});return}let z={from:G.from+Y,to:G.toA+Y,insert:l9.of(Q.text.slice(G.from,G.toB).split(`
`))};if((x8.mac||x8.android)&&z.from==U-1&&/^\. ?$/.test(Q.text)&&Z.contentDOM.getAttribute("autocorrect")=="off")z={from:Y,to:q,insert:l9.of([Q.text.replace("."," ")])};if(this.pendingContextChange=z,!Z.state.readOnly){let H=this.to-this.from+(z.to-z.from+z.insert.length);rv(Z,z,a0.single(this.toEditorPos(Q.selectionStart,H),this.toEditorPos(Q.selectionEnd,H)))}if(this.pendingContextChange)this.revertPending(Z.state),this.setSelection(Z.state);if(z.from<z.to&&!z.insert.length&&Z.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(J.text.slice(Math.max(0,Q.updateRangeStart-1),Math.min(J.text.length,Q.updateRangeStart+1))))this.handlers.compositionend(Q)},this.handlers.characterboundsupdate=(Q)=>{let K=[],X=null;for(let U=this.toEditorPos(Q.rangeStart),Y=this.toEditorPos(Q.rangeEnd);U<Y;U++){let q=Z.coordsForChar(U);X=q&&new DOMRect(q.left,q.top,q.right-q.left,q.bottom-q.top)||X||new DOMRect,K.push(X)}J.updateCharacterBounds(Q.rangeStart,K)},this.handlers.textformatupdate=(Q)=>{let K=[];for(let X of Q.getTextFormats()){let{underlineStyle:U,underlineThickness:Y}=X;if(!/none/i.test(U)&&!/none/i.test(Y)){let q=this.toEditorPos(X.rangeStart),W=this.toEditorPos(X.rangeEnd);if(q<W){let G=`text-decoration: underline ${/^[a-z]/.test(U)?U+" ":U=="Dashed"?"dashed ":U=="Squiggle"?"wavy ":""}${/thin/i.test(Y)?1:2}px`;K.push(r8.mark({attributes:{style:G}}).range(q,W))}}}Z.dispatch({effects:J90.of(r8.set(K))})},this.handlers.compositionstart=()=>{if(Z.inputState.composing<0)Z.inputState.composing=0,Z.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{if(Z.inputState.composing=-1,Z.inputState.compositionFirstChange=null,this.composing){let{drifted:Q}=this.composing;if(this.composing=null,Q)this.reset(Z.state)}};for(let Q in this.handlers)J.addEventListener(Q,this.handlers[Q]);this.measureReq={read:(Q)=>{this.editContext.updateControlBounds(Q.contentDOM.getBoundingClientRect());let K=DH(Q.root);if(K&&K.rangeCount)this.editContext.updateSelectionBounds(K.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Z){let J=0,Q=!1,K=this.pendingContextChange;if(Z.changes.iterChanges((X,U,Y,q,W)=>{if(Q)return;let G=W.length-(U-X);if(K&&U>=K.to)if(K.from==X&&K.to==U&&K.insert.eq(W)){K=this.pendingContextChange=null,J+=G,this.to+=G;return}else K=null,this.revertPending(Z.state);if(X+=J,U+=J,U<=this.from)this.from+=G,this.to+=G;else if(X<this.to){if(X<this.from||U>this.to||this.to-this.from+W.length>30000){Q=!0;return}this.editContext.updateText(this.toContextPos(X),this.toContextPos(U),W.toString()),this.to+=G}J+=G}),K&&!Q)this.revertPending(Z.state);return!Q}update(Z){let J=this.pendingContextChange,Q=Z.startState.selection.main;if(this.composing&&(this.composing.drifted||!Z.changes.touchesRange(Q.from,Q.to)&&Z.transactions.some((K)=>!K.isUserEvent("input.type")&&K.changes.touchesRange(this.from,this.to))))this.composing.drifted=!0,this.composing.editorBase=Z.changes.mapPos(this.composing.editorBase);else if(!this.applyEdits(Z)||!this.rangeIsValid(Z.state))this.pendingContextChange=null,this.reset(Z.state);else if(Z.docChanged||Z.selectionSet||J)this.setSelection(Z.state);if(Z.geometryChanged||Z.docChanged||Z.selectionSet)Z.view.requestMeasure(this.measureReq)}resetRange(Z){let{head:J}=Z.selection.main;this.from=Math.max(0,J-1e4),this.to=Math.min(Z.doc.length,J+1e4)}reset(Z){this.resetRange(Z),this.editContext.updateText(0,this.editContext.text.length,Z.doc.sliceString(this.from,this.to)),this.setSelection(Z)}revertPending(Z){let J=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(J.from),this.toContextPos(J.from+J.insert.length),Z.doc.sliceString(J.from,J.to))}setSelection(Z){let{main:J}=Z.selection,Q=this.toContextPos(Math.max(this.from,Math.min(this.to,J.anchor))),K=this.toContextPos(J.head);if(this.editContext.selectionStart!=Q||this.editContext.selectionEnd!=K)this.editContext.updateSelection(Q,K)}rangeIsValid(Z){let{head:J}=Z.selection.main;return!(this.from>0&&J-this.from<500||this.to<Z.doc.length&&this.to-J<500||this.to-this.from>30000)}toEditorPos(Z,J=this.to-this.from){Z=Math.min(Z,J);let Q=this.composing;return Q&&Q.drifted?Q.editorBase+(Z-Q.contextBase):Z+this.from}toContextPos(Z){let J=this.composing;return J&&J.drifted?J.contextBase+(Z-J.editorBase):Z-this.from}destroy(){for(let Z in this.handlers)this.editContext.removeEventListener(Z,this.handlers[Z])}}class N8{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Z={}){var J;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Z.parent)Z.parent.appendChild(this.dom);let{dispatch:Q}=Z;if(this.dispatchTransactions=Z.dispatchTransactions||Q&&((K)=>K.forEach((X)=>Q(X,this)))||((K)=>this.update(K)),this.dispatch=this.dispatch.bind(this),this._root=Z.root||Ll0(Z.parent)||document,this.viewState=new $v(Z.state||j9.create(Z)),Z.scrollTo&&Z.scrollTo.is(BN))this.viewState.scrollTarget=Z.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(FH).map((K)=>new PN(K));for(let K of this.plugins)K.update(this);if(this.observer=new u90(this),this.inputState=new E90(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Pv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(J=document.fonts)===null||J===void 0?void 0:J.ready)document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...Z){let J=Z.length==1&&Z[0]instanceof PJ?Z:Z.length==1&&Array.isArray(Z[0])?Z[0]:[this.state.update(...Z)];this.dispatchTransactions(J,this)}update(Z){if(this.updateState!=0)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let J=!1,Q=!1,K,X=this.state;for(let H of Z){if(H.startState!=X)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");X=H.state}if(this.destroyed){this.viewState.state=X;return}let U=this.hasFocus,Y=0,q=null;if(Z.some((H)=>H.annotation(w90)))this.inputState.notifiedFocused=U,Y=1;else if(U!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=U,q=$90(X,U),!q)Y=1}let W=this.observer.delayedAndroidKey,G=null;if(W){if(this.observer.clearDelayedAndroidKey(),G=this.observer.readChange(),G&&!this.state.doc.eq(X.doc)||!this.state.selection.eq(X.selection))G=null}else this.observer.clear();if(X.facet(j9.phrases)!=this.state.facet(j9.phrases))return this.setState(X);K=xN.create(this,X,Z),K.flags|=Y;let z=this.viewState.scrollTarget;try{this.updateState=2;for(let H of Z){if(z)z=z.map(H.changes);if(H.scrollIntoView){let{main:F}=H.state.selection;z=new RH(F.empty?F:a0.cursor(F.head,F.head>F.anchor?-1:1))}for(let F of H.effects)if(F.is(BN))z=F.value.clip(this.state)}if(this.viewState.update(K,z),this.bidiCache=mN.update(this.bidiCache,K.changes),!K.empty)this.updatePlugins(K),this.inputState.update(K);if(J=this.docView.update(K),this.state.facet(bO)!=this.styleModules)this.mountStyles();Q=this.updateAttrs(),this.showAnnouncements(Z),this.docView.updateSelection(J,Z.some((H)=>H.isUserEvent("select.pointer")))}finally{this.updateState=0}if(K.startState.facet(IN)!=K.state.facet(IN))this.viewState.mustMeasureContent=!0;if(J||Q||z||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(J)this.docViewUpdate();if(!K.empty)for(let H of this.state.facet(Vv))try{H(K)}catch(F){r7(this.state,F,"update listener")}if(q||G)Promise.resolve().then(()=>{if(q&&this.state==q.startState)this.dispatch(q);if(G){if(!A90(this,G)&&W.force)OH(this.contentDOM,W.key,W.keyCode)}})}setState(Z){if(this.updateState!=0)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Z;return}this.updateState=2;let J=this.hasFocus;try{for(let Q of this.plugins)Q.destroy(this);this.viewState=new $v(Z),this.plugins=Z.facet(FH).map((Q)=>new PN(Q)),this.pluginMap.clear();for(let Q of this.plugins)Q.update(this);this.docView.destroy(),this.docView=new Pv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if(J)this.focus();this.requestMeasure()}updatePlugins(Z){let J=Z.startState.facet(FH),Q=Z.state.facet(FH);if(J!=Q){let K=[];for(let X of Q){let U=J.indexOf(X);if(U<0)K.push(new PN(X));else{let Y=this.plugins[U];Y.mustUpdate=Z,K.push(Y)}}for(let X of this.plugins)if(X.mustUpdate!=Z)X.destroy(this);this.plugins=K,this.pluginMap.clear()}else for(let K of this.plugins)K.mustUpdate=Z;for(let K=0;K<this.plugins.length;K++)this.plugins[K].update(this);if(J!=Q)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Z of this.plugins){let J=Z.value;if(J&&J.docViewUpdate)try{J.docViewUpdate(this)}catch(Q){r7(this.state,Q,"doc view update listener")}}}measure(Z=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,Z)this.observer.forceFlush();let J=null,Q=this.scrollDOM,K=Q.scrollTop*this.scaleY,{scrollAnchorPos:X,scrollAnchorHeight:U}=this.viewState;if(Math.abs(K-this.viewState.scrollTop)>1)U=-1;this.viewState.scrollAnchorHeight=-1;try{for(let Y=0;;Y++){if(U<0)if(h80(Q))X=-1,U=this.viewState.heightMap.height;else{let F=this.viewState.scrollAnchorAt(K);X=F.from,U=F.top}this.updateState=1;let q=this.viewState.measure(this);if(!q&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Y>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let W=[];if(!(q&4))[this.measureRequests,W]=[W,this.measureRequests];let G=W.map((F)=>{try{return F.read(this)}catch(M){return r7(this.state,M),I80}}),z=xN.create(this,this.state,[]),H=!1;if(z.flags|=q,!J)J=z;else J.flags|=q;if(this.updateState=2,!z.empty){if(this.updatePlugins(z),this.inputState.update(z),this.updateAttrs(),H=this.docView.update(z),H)this.docViewUpdate()}for(let F=0;F<W.length;F++)if(G[F]!=I80)try{let M=W[F];if(M.write)M.write(G[F],this)}catch(M){r7(this.state,M)}if(H)this.docView.updateSelection(!0);if(!z.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,U=-1;continue}else{let M=(X<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(X).top)-U;if(M>1||M<-1){K=K+M,Q.scrollTop=K/this.scaleY,U=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(J&&!J.empty)for(let Y of this.state.facet(Vv))Y(J)}get themeClasses(){return _v+" "+(this.state.facet(kv)?h90:y90)+" "+this.state.facet(IN)}updateAttrs(){let Z=A80(this,Q90,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),J={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:!this.state.facet(_U)?"false":"true",class:"cm-content",style:`${x8.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)J["aria-readonly"]="true";A80(this,dv,J);let Q=this.observer.ignore(()=>{let K=o00(this.contentDOM,this.contentAttrs,J),X=o00(this.dom,this.editorAttrs,Z);return K||X});return this.editorAttrs=Z,this.contentAttrs=J,Q}showAnnouncements(Z){let J=!0;for(let Q of Z)for(let K of Q.effects)if(K.is(N8.announce)){if(J)this.announceDOM.textContent="";J=!1;let X=this.announceDOM.appendChild(document.createElement("div"));X.textContent=K.value}}mountStyles(){this.styleModules=this.state.facet(bO);let Z=this.state.facet(N8.cspNonce);iK.mount(this.root,this.styleModules.concat(Ed0).reverse(),Z?{nonce:Z}:void 0)}readMeasured(){if(this.updateState==2)throw Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(Z){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(Z){if(this.measureRequests.indexOf(Z)>-1)return;if(Z.key!=null){for(let J=0;J<this.measureRequests.length;J++)if(this.measureRequests[J].key===Z.key){this.measureRequests[J]=Z;return}}this.measureRequests.push(Z)}}plugin(Z){let J=this.pluginMap.get(Z);if(J===void 0||J&&J.plugin!=Z)this.pluginMap.set(Z,J=this.plugins.find((Q)=>Q.plugin==Z)||null);return J&&J.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Z){return this.readMeasured(),this.viewState.elementAtHeight(Z)}lineBlockAtHeight(Z){return this.readMeasured(),this.viewState.lineBlockAtHeight(Z)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Z){return this.viewState.lineBlockAt(Z)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Z,J,Q){return Gv(this,Z,K80(this,Z,J,Q))}moveByGroup(Z,J){return Gv(this,Z,K80(this,Z,J,(Q)=>sl0(this,Z.head,Q)))}visualLineSide(Z,J){let Q=this.bidiSpans(Z),K=this.textDirectionAt(Z.from),X=Q[J?Q.length-1:0];return a0.cursor(X.side(J,K)+Z.from,X.forward(!J,K)?1:-1)}moveToLineBoundary(Z,J,Q=!0){return il0(this,Z,J,Q)}moveVertically(Z,J,Q){return Gv(this,Z,rl0(this,Z,J,Q))}domAtPos(Z,J=1){return this.docView.domAtPos(Z,J)}posAtDOM(Z,J=0){return this.docView.posFromDOM(Z,J)}posAtCoords(Z,J=!0){this.readMeasured();let Q=Sv(this,Z,J);return Q&&Q.pos}posAndSideAtCoords(Z,J=!0){return this.readMeasured(),Sv(this,Z,J)}coordsAtPos(Z,J=1){this.readMeasured();let Q=this.docView.coordsAt(Z,J);if(!Q||Q.left==Q.right)return Q;let K=this.state.doc.lineAt(Z),X=this.bidiSpans(K),U=X[n5.find(X,Z-K.from,-1,J)];return vN(Q,U.dir==LZ.LTR==J>0)}coordsForChar(Z){return this.readMeasured(),this.docView.coordsForChar(Z)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Z){if(!this.state.facet(t80)||Z<this.viewport.from||Z>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(Z)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Z){if(Z.length>jd0)return l80(Z.length);let J=this.textDirectionAt(Z.from),Q;for(let X of this.bidiCache)if(X.from==Z.from&&X.dir==J&&(X.fresh||c80(X.isolates,Q=Z80(this,Z))))return X.order;if(!Q)Q=Z80(this,Z);let K=Cl0(Z.text,J,Q);return this.bidiCache.push(new mN(Z.from,Z.to,J,Q,!0,K)),K}get hasFocus(){var Z;return(this.dom.ownerDocument.hasFocus()||x8.safari&&((Z=this.inputState)===null||Z===void 0?void 0:Z.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{y80(this.contentDOM),this.docView.updateSelection()})}setRoot(Z){if(this._root!=Z)this._root=Z,this.observer.setWindow((Z.nodeType==9?Z:Z.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let Z of this.plugins)Z.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(Z,J={}){return BN.of(new RH(typeof Z=="number"?a0.cursor(Z):Z,J.y,J.x,J.yMargin,J.xMargin))}scrollSnapshot(){let{scrollTop:Z,scrollLeft:J}=this.scrollDOM,Q=this.viewState.scrollAnchorAt(Z);return BN.of(new RH(a0.cursor(Q.from),"start","start",Q.top-Z,J,!0))}setTabFocusMode(Z){if(Z==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof Z=="boolean")this.inputState.tabFocusMode=Z?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+Z}static domEventHandlers(Z){return MJ.define(()=>({}),{eventHandlers:Z})}static domEventObservers(Z){return MJ.define(()=>({}),{eventObservers:Z})}static theme(Z,J){let Q=iK.newName(),K=[IN.of(Q),bO.of(fv(`.${Q}`,Z))];if(J&&J.dark)K.push(kv.of(!0));return K}static baseTheme(Z){return C6.lowest(bO.of(fv("."+_v,Z,m90)))}static findFromDOM(Z){var J;let Q=Z.querySelector(".cm-content"),K=Q&&dJ.get(Q)||dJ.get(Z);return((J=K===null||K===void 0?void 0:K.root)===null||J===void 0?void 0:J.view)||null}}N8.styleModule=bO;N8.inputHandler=a80;N8.clipboardInputFilter=cv;N8.clipboardOutputFilter=lv;N8.scrollHandler=Z90;N8.focusChangeEffect=o80;N8.perLineTextDirection=t80;N8.exceptionSink=n80;N8.updateListener=Vv;N8.editable=_U;N8.mouseSelectionStyle=r80;N8.dragMovesSelection=s80;N8.clickAddsSelectionRange=i80;N8.decorations=pN;N8.blockWrappers=K90;N8.outerDecorations=iv;N8.atomicRanges=tO;N8.bidiIsolatedRanges=X90;N8.scrollMargins=U90;N8.darkTheme=kv;N8.cspNonce=w8.define({combine:(Z)=>Z.length?Z[0]:""});N8.contentAttributes=dv;N8.editorAttributes=Q90;N8.lineWrapping=N8.contentAttributes.of({class:"cm-lineWrapping"});N8.announce=q9.define();var jd0=4096,I80={};class mN{constructor(Z,J,Q,K,X,U){this.from=Z,this.to=J,this.dir=Q,this.isolates=K,this.fresh=X,this.order=U}static update(Z,J){if(J.empty&&!Z.some((X)=>X.fresh))return Z;let Q=[],K=Z.length?Z[Z.length-1].dir:LZ.LTR;for(let X=Math.max(0,Z.length-10);X<Z.length;X++){let U=Z[X];if(U.dir==K&&!J.touchesRange(U.from,U.to))Q.push(new mN(J.mapPos(U.from,1),J.mapPos(U.to,-1),U.dir,U.isolates,!1,U.order))}return Q}}function A80(Z,J,Q){for(let K=Z.state.facet(J),X=K.length-1;X>=0;X--){let U=K[X],Y=typeof U=="function"?U(Z):U;if(Y)uv(Y,Q)}return Q}var Cd0=x8.mac?"mac":x8.windows?"win":x8.linux?"linux":"key";function Sd0(Z,J){let Q=Z.split(/-(?!$)/),K=Q[Q.length-1];if(K=="Space")K=" ";let X,U,Y,q;for(let W=0;W<Q.length-1;++W){let G=Q[W];if(/^(cmd|meta|m)$/i.test(G))q=!0;else if(/^a(lt)?$/i.test(G))X=!0;else if(/^(c|ctrl|control)$/i.test(G))U=!0;else if(/^s(hift)?$/i.test(G))Y=!0;else if(/^mod$/i.test(G))if(J=="mac")q=!0;else U=!0;else throw Error("Unrecognized modifier name: "+G)}if(X)K="Alt-"+K;if(U)K="Ctrl-"+K;if(q)K="Meta-"+K;if(Y)K="Shift-"+K;return K}function AN(Z,J,Q){if(J.altKey)Z="Alt-"+Z;if(J.ctrlKey)Z="Ctrl-"+Z;if(J.metaKey)Z="Meta-"+Z;if(Q!==!1&&J.shiftKey)Z="Shift-"+Z;return Z}var Td0=C6.default(N8.domEventHandlers({keydown(Z,J){return l90(p90(J.state),Z,J,"editor")}})),J1=w8.define({enables:Td0}),N80=new WeakMap;function p90(Z){let J=Z.facet(J1),Q=N80.get(J);if(!Q)N80.set(J,Q=$d0(J.reduce((K,X)=>K.concat(X),[])));return Q}function c90(Z,J,Q){return l90(p90(Z.state),J,Z,Q)}var tY=null,wd0=4000;function $d0(Z,J=Cd0){let Q=Object.create(null),K=Object.create(null),X=(Y,q)=>{let W=K[Y];if(W==null)K[Y]=q;else if(W!=q)throw Error("Key binding "+Y+" is used both as a regular binding and as a multi-stroke prefix")},U=(Y,q,W,G,z)=>{var H,F;let M=Q[Y]||(Q[Y]=Object.create(null)),B=q.split(/ (?!$)/).map((D)=>Sd0(D,J));for(let D=1;D<B.length;D++){let L=B.slice(0,D).join(" ");if(X(L,!0),!M[L])M[L]={preventDefault:!0,stopPropagation:!1,run:[(A)=>{let V=tY={view:A,prefix:L,scope:Y};return setTimeout(()=>{if(tY==V)tY=null},wd0),!0}]}}let O=B.join(" ");X(O,!1);let R=M[O]||(M[O]={preventDefault:!1,stopPropagation:!1,run:((F=(H=M._any)===null||H===void 0?void 0:H.run)===null||F===void 0?void 0:F.slice())||[]});if(W)R.run.push(W);if(G)R.preventDefault=!0;if(z)R.stopPropagation=!0};for(let Y of Z){let q=Y.scope?Y.scope.split(" "):["editor"];if(Y.any)for(let G of q){let z=Q[G]||(Q[G]=Object.create(null));if(!z._any)z._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:H}=Y;for(let F in z)z[F].run.push((M)=>H(M,vv))}let W=Y[J]||Y.key;if(!W)continue;for(let G of q)if(U(G,W,Y.run,Y.preventDefault,Y.stopPropagation),Y.shift)U(G,"Shift-"+W,Y.shift,Y.preventDefault,Y.stopPropagation)}return Q}var vv=null;function l90(Z,J,Q,K){vv=J;let X=i00(J),U=i7(X,0),Y=O4(U)==X.length&&X!=" ",q="",W=!1,G=!1,z=!1;if(tY&&tY.view==Q&&tY.scope==K){if(q=tY.prefix+" ",P90.indexOf(J.keyCode)<0)G=!0,tY=null}let H=new Set,F=(R)=>{if(R){for(let D of R.run)if(!H.has(D)){if(H.add(D),D(Q)){if(R.stopPropagation)z=!0;return!0}}if(R.preventDefault){if(R.stopPropagation)z=!0;G=!0}}return!1},M=Z[K],B,O;if(M){if(F(M[q+AN(X,J,!Y)]))W=!0;else if(Y&&(J.altKey||J.metaKey||J.ctrlKey)&&!(x8.windows&&J.ctrlKey&&J.altKey)&&!(x8.mac&&J.altKey&&!(J.ctrlKey||J.metaKey))&&(B=kU[J.keyCode])&&B!=X){if(F(M[q+AN(B,J,!0)]))W=!0;else if(J.shiftKey&&(O=HH[J.keyCode])!=X&&O!=B&&F(M[q+AN(O,J,!1)]))W=!0}else if(Y&&J.shiftKey&&F(M[q+AN(X,J,!0)]))W=!0;if(!W&&F(M._any))W=!0}if(G)W=!0;if(W&&z)J.stopPropagation();return vv=null,W}class JR{constructor(Z,J,Q,K,X){this.className=Z,this.left=J,this.top=Q,this.width=K,this.height=X}draw(){let Z=document.createElement("div");return Z.className=this.className,this.adjust(Z),Z}update(Z,J){if(J.className!=this.className)return!1;return this.adjust(Z),!0}adjust(Z){if(Z.style.left=this.left+"px",Z.style.top=this.top+"px",this.width!=null)Z.style.width=this.width+"px";Z.style.height=this.height+"px"}eq(Z){return this.left==Z.left&&this.top==Z.top&&this.width==Z.width&&this.height==Z.height&&this.className==Z.className}static forRange(Z,J,Q){if(Q.empty){let K=Z.coordsAtPos(Q.head,Q.assoc||1);if(!K)return[];let X=d90(Z);return[new JR(J,K.left-X.left,K.top-X.top,null,K.bottom-K.top)]}else return kd0(Z,J,Q)}}function d90(Z){let J=Z.scrollDOM.getBoundingClientRect();return{left:(Z.textDirection==LZ.LTR?J.left:J.right-Z.scrollDOM.clientWidth*Z.scaleX)-Z.scrollDOM.scrollLeft*Z.scaleX,top:J.top-Z.scrollDOM.scrollTop*Z.scaleY}}function E80(Z,J,Q,K){let X=Z.coordsAtPos(J,Q*2);if(!X)return K;let U=Z.dom.getBoundingClientRect(),Y=(X.top+X.bottom)/2,q=Z.posAtCoords({x:U.left+1,y:Y}),W=Z.posAtCoords({x:U.right-1,y:Y});if(q==null||W==null)return K;return{from:Math.max(K.from,Math.min(q,W)),to:Math.min(K.to,Math.max(q,W))}}function kd0(Z,J,Q){if(Q.to<=Z.viewport.from||Q.from>=Z.viewport.to)return[];let K=Math.max(Q.from,Z.viewport.from),X=Math.min(Q.to,Z.viewport.to),U=Z.textDirection==LZ.LTR,Y=Z.contentDOM,q=Y.getBoundingClientRect(),W=d90(Z),G=Y.querySelector(".cm-line"),z=G&&window.getComputedStyle(G),H=q.left+(z?parseInt(z.paddingLeft)+Math.min(0,parseInt(z.textIndent)):0),F=q.right-(z?parseInt(z.paddingRight):0),M=Cv(Z,K,1),B=Cv(Z,X,-1),O=M.type==n7.Text?M:null,R=B.type==n7.Text?B:null;if(O&&(Z.lineWrapping||M.widgetLineBreaks))O=E80(Z,K,1,O);if(R&&(Z.lineWrapping||B.widgetLineBreaks))R=E80(Z,X,-1,R);if(O&&R&&O.from==R.from&&O.to==R.to)return L(A(Q.from,Q.to,O));else{let N=O?A(Q.from,null,O):V(M,!1),E=R?A(null,Q.to,R):V(B,!0),j=[];if((O||M).to<(R||B).from-(O&&R?1:0)||M.widgetLineBreaks>1&&N.bottom+Z.defaultLineHeight/2<E.top)j.push(D(H,N.bottom,F,E.top));else if(N.bottom<E.top&&Z.elementAtHeight((N.bottom+E.top)/2).type==n7.Text)N.bottom=E.top=(N.bottom+E.top)/2;return L(N).concat(j).concat(L(E))}function D(N,E,j,C){return new JR(J,N-W.left,E-W.top,Math.max(0,j-N),C-E)}function L({top:N,bottom:E,horizontal:j}){let C=[];for(let $=0;$<j.length;$+=2)C.push(D(j[$],N,j[$+1],E));return C}function A(N,E,j){let C=1e9,$=-1e9,k=[];function w(S,f,v,x,b){let y=Z.coordsAtPos(S,S==j.to?-2:2),u=Z.coordsAtPos(v,v==j.from?2:-2);if(!y||!u)return;if(C=Math.min(y.top,u.top,C),$=Math.max(y.bottom,u.bottom,$),b==LZ.LTR)k.push(U&&f?H:y.left,U&&x?F:u.right);else k.push(!U&&x?H:u.left,!U&&f?F:y.right)}let P=N!==null&&N!==void 0?N:j.from,T=E!==null&&E!==void 0?E:j.to;for(let S of Z.visibleRanges)if(S.to>P&&S.from<T)for(let f=Math.max(S.from,P),v=Math.min(S.to,T);;){let x=Z.state.doc.lineAt(f);for(let b of Z.bidiSpans(x)){let y=b.from+x.from,u=b.to+x.from;if(y>=v)break;if(u>f)w(Math.max(y,f),N==null&&y<=P,Math.min(u,v),E==null&&u>=T,b.dir)}if(f=x.to+1,f>=v)break}if(k.length==0)w(P,N==null,T,E==null,Z.textDirection);return{top:C,bottom:$,horizontal:k}}function V(N,E){let j=q.top+(E?N.top:N.bottom);return{top:j,bottom:j,horizontal:[]}}}function _d0(Z,J){return Z.constructor==J.constructor&&Z.eq(J)}class i90{constructor(Z,J){if(this.view=Z,this.layer=J,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=Z.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),J.above)this.dom.classList.add("cm-layer-above");if(J.class)this.dom.classList.add(J.class);if(this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(Z.state),Z.requestMeasure(this.measureReq),J.mount)J.mount(this.dom,Z)}update(Z){if(Z.startState.facet(TN)!=Z.state.facet(TN))this.setOrder(Z.state);if(this.layer.update(Z,this.dom)||Z.geometryChanged)this.scale(),Z.view.requestMeasure(this.measureReq)}docViewUpdate(Z){if(this.layer.updateOnDocViewUpdate!==!1)Z.requestMeasure(this.measureReq)}setOrder(Z){let J=0,Q=Z.facet(TN);while(J<Q.length&&Q[J]!=this.layer)J++;this.dom.style.zIndex=String((this.layer.above?150:-1)-J)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:Z,scaleY:J}=this.view;if(Z!=this.scaleX||J!=this.scaleY)this.scaleX=Z,this.scaleY=J,this.dom.style.transform=`scale(${1/Z}, ${1/J})`}draw(Z){if(Z.length!=this.drawn.length||Z.some((J,Q)=>!_d0(J,this.drawn[Q]))){let J=this.dom.firstChild,Q=0;for(let K of Z)if(K.update&&J&&K.constructor&&this.drawn[Q].constructor&&K.update(J,this.drawn[Q]))J=J.nextSibling,Q++;else this.dom.insertBefore(K.draw(),J);while(J){let K=J.nextSibling;J.remove(),J=K}if(this.drawn=Z,x8.safari&&x8.safari_version>=26)this.dom.style.display=this.dom.firstChild?"":"none"}}destroy(){if(this.layer.destroy)this.layer.destroy(this.dom,this.view);this.dom.remove()}}var TN=w8.define();function s90(Z){return[MJ.define((J)=>new i90(J,Z)),TN.of(Z)]}var nO=w8.define({combine(Z){return EQ(Z,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(J,Q)=>Math.min(J,Q),drawRangeCursor:(J,Q)=>J||Q})}});function r90(Z={}){return[nO.of(Z),fd0,vd0,xd0,e80.of(!0)]}function n90(Z){return Z.startState.facet(nO)!=Z.state.facet(nO)}var fd0=s90({above:!0,markers(Z){let{state:J}=Z,Q=J.facet(nO),K=[];for(let X of J.selection.ranges){let U=X==J.selection.main;if(X.empty||Q.drawRangeCursor){let Y=U?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",q=X.empty?X:a0.cursor(X.head,X.head>X.anchor?-1:1);for(let W of JR.forRange(Z,Y,q))K.push(W)}}return K},update(Z,J){if(Z.transactions.some((K)=>K.selection))J.style.animationName=J.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let Q=n90(Z);if(Q)V80(Z.state,J);return Z.docChanged||Z.selectionSet||Q},mount(Z,J){V80(J.state,Z)},class:"cm-cursorLayer"});function V80(Z,J){J.style.animationDuration=Z.facet(nO).cursorBlinkRate+"ms"}var vd0=s90({above:!1,markers(Z){return Z.state.selection.ranges.map((J)=>J.empty?[]:JR.forRange(Z,"cm-selectionBackground",J)).reduce((J,Q)=>J.concat(Q))},update(Z,J){return Z.docChanged||Z.selectionSet||Z.viewportChanged||n90(Z)},class:"cm-selectionLayer"}),xd0=C6.highest(N8.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),a90=q9.define({map(Z,J){return Z==null?null:J.mapPos(Z)}}),uO=FJ.define({create(){return null},update(Z,J){if(Z!=null)Z=J.changes.mapPos(Z);return J.effects.reduce((Q,K)=>K.is(a90)?K.value:Q,Z)}}),bd0=MJ.fromClass(class{constructor(Z){this.view=Z,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(Z){var J;let Q=Z.state.field(uO);if(Q==null){if(this.cursor!=null)(J=this.cursor)===null||J===void 0||J.remove(),this.cursor=null}else{if(!this.cursor)this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor";if(Z.startState.field(uO)!=Q||Z.docChanged||Z.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let{view:Z}=this,J=Z.state.field(uO),Q=J!=null&&Z.coordsAtPos(J);if(!Q)return null;let K=Z.scrollDOM.getBoundingClientRect();return{left:Q.left-K.left+Z.scrollDOM.scrollLeft*Z.scaleX,top:Q.top-K.top+Z.scrollDOM.scrollTop*Z.scaleY,height:Q.bottom-Q.top}}drawCursor(Z){if(this.cursor){let{scaleX:J,scaleY:Q}=this.view;if(Z)this.cursor.style.left=Z.left/J+"px",this.cursor.style.top=Z.top/Q+"px",this.cursor.style.height=Z.height/Q+"px";else this.cursor.style.left="-100000px"}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(Z){if(this.view.state.field(uO)!=Z)this.view.dispatch({effects:a90.of(Z)})}},{eventObservers:{dragover(Z){this.setDropPos(this.view.posAtCoords({x:Z.clientX,y:Z.clientY}))},dragleave(Z){if(Z.target==this.view.contentDOM||!this.view.contentDOM.contains(Z.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function o90(){return[uO,bd0]}function P80(Z,J,Q,K,X){J.lastIndex=0;for(let U=Z.iterRange(Q,K),Y=Q,q;!U.next().done;Y+=U.value.length)if(!U.lineBreak)while(q=J.exec(U.value))X(Y+q.index,q)}function yd0(Z,J){let Q=Z.visibleRanges;if(Q.length==1&&Q[0].from==Z.viewport.from&&Q[0].to==Z.viewport.to)return Q;let K=[];for(let{from:X,to:U}of Q)if(X=Math.max(Z.state.doc.lineAt(X).from,X-J),U=Math.min(Z.state.doc.lineAt(U).to,U+J),K.length&&K[K.length-1].to>=X)K[K.length-1].to=U;else K.push({from:X,to:U});return K}class t90{constructor(Z){let{regexp:J,decoration:Q,decorate:K,boundary:X,maxLength:U=1000}=Z;if(!J.global)throw RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=J,K)this.addMatch=(Y,q,W,G)=>K(G,W,W+Y[0].length,Y,q);else if(typeof Q=="function")this.addMatch=(Y,q,W,G)=>{let z=Q(Y,q,W);if(z)G(W,W+Y[0].length,z)};else if(Q)this.addMatch=(Y,q,W,G)=>G(W,W+Y[0].length,Q);else throw RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=X,this.maxLength=U}createDeco(Z){let J=new B4,Q=J.add.bind(J);for(let{from:K,to:X}of yd0(Z,this.maxLength))P80(Z.state.doc,this.regexp,K,X,(U,Y)=>this.addMatch(Y,Z,U,Q));return J.finish()}updateDeco(Z,J){let Q=1e9,K=-1;if(Z.docChanged)Z.changes.iterChanges((X,U,Y,q)=>{if(q>=Z.view.viewport.from&&Y<=Z.view.viewport.to)Q=Math.min(Y,Q),K=Math.max(q,K)});if(Z.viewportMoved||K-Q>1000)return this.createDeco(Z.view);if(K>-1)return this.updateRange(Z.view,J.map(Z.changes),Q,K);return J}updateRange(Z,J,Q,K){for(let X of Z.visibleRanges){let U=Math.max(X.from,Q),Y=Math.min(X.to,K);if(Y>=U){let q=Z.state.doc.lineAt(U),W=q.to<Y?Z.state.doc.lineAt(Y):q,G=Math.max(X.from,q.from),z=Math.min(X.to,W.to);if(this.boundary){for(;U>q.from;U--)if(this.boundary.test(q.text[U-1-q.from])){G=U;break}for(;Y<W.to;Y++)if(this.boundary.test(W.text[Y-W.from])){z=Y;break}}let H=[],F,M=(B,O,R)=>H.push(R.range(B,O));if(q==W){this.regexp.lastIndex=G-q.from;while((F=this.regexp.exec(q.text))&&F.index<z-q.from)this.addMatch(F,Z,F.index+q.from,M)}else P80(Z.state.doc,this.regexp,G,z,(B,O)=>this.addMatch(O,Z,B,M));J=J.update({filterFrom:G,filterTo:z,filter:(B,O)=>B<G||O>z,add:H})}}return J}}var xv=/x/.unicode!=null?"gu":"g",hd0=new RegExp(`[\x00-\b
-\x1F-\u2028\u2029\uFEFF-]`,xv),md0={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},Hv=null;function ud0(){var Z;if(Hv==null&&typeof document<"u"&&document.body){let J=document.body.style;Hv=((Z=J.tabSize)!==null&&Z!==void 0?Z:J.MozTabSize)!=null}return Hv||!1}var wN=w8.define({combine(Z){let J=EQ(Z,{render:null,specialChars:hd0,addSpecialChars:null});if(J.replaceTabs=!ud0())J.specialChars=new RegExp("\t|"+J.specialChars.source,xv);if(J.addSpecialChars)J.specialChars=new RegExp(J.specialChars.source+"|"+J.addSpecialChars.source,xv);return J}});function e90(Z={}){return[wN.of(Z),gd0()]}var j80=null;function gd0(){return j80||(j80=MJ.fromClass(class{constructor(Z){this.view=Z,this.decorations=r8.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(Z.state.facet(wN)),this.decorations=this.decorator.createDeco(Z)}makeDecorator(Z){return new t90({regexp:Z.specialChars,decoration:(J,Q,K)=>{let{doc:X}=Q.state,U=i7(J[0],0);if(U==9){let Y=X.lineAt(K),q=Q.state.tabSize,W=cQ(Y.text,q,K-Y.from);return r8.replace({widget:new JZ0((q-W%q)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[U]||(this.decorationCache[U]=r8.replace({widget:new ZZ0(Z,U)}))},boundary:Z.replaceTabs?void 0:/[^]/})}update(Z){let J=Z.state.facet(wN);if(Z.startState.facet(wN)!=J)this.decorator=this.makeDecorator(J),this.decorations=this.decorator.createDeco(Z.view);else this.decorations=this.decorator.updateDeco(Z,this.decorations)}},{decorations:(Z)=>Z.decorations}))}var pd0="";function cd0(Z){if(Z>=32)return pd0;if(Z==10)return"";return String.fromCharCode(9216+Z)}class ZZ0 extends T6{constructor(Z,J){super();this.options=Z,this.code=J}eq(Z){return Z.code==this.code}toDOM(Z){let J=cd0(this.code),Q=Z.state.phrase("Control character")+" "+(md0[this.code]||"0x"+this.code.toString(16)),K=this.options.render&&this.options.render(this.code,Q,J);if(K)return K;let X=document.createElement("span");return X.textContent=J,X.title=Q,X.setAttribute("aria-label",Q),X.className="cm-specialChar",X}ignoreEvent(){return!1}}class JZ0 extends T6{constructor(Z){super();this.width=Z}eq(Z){return Z.width==this.width}toDOM(){let Z=document.createElement("span");return Z.textContent="\t",Z.className="cm-tab",Z.style.width=this.width+"px",Z}ignoreEvent(){return!1}}function QZ0(){return dd0}var ld0=r8.line({class:"cm-activeLine"}),dd0=MJ.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.docChanged||Z.selectionSet)this.decorations=this.getDeco(Z.view)}getDeco(Z){let J=-1,Q=[];for(let K of Z.state.selection.ranges){let X=Z.lineBlockAt(K.head);if(X.from>J)Q.push(ld0.range(X.from)),J=X.from}return r8.set(Q)}},{decorations:(Z)=>Z.decorations});var bv=2000;function id0(Z,J,Q){let K=Math.min(J.line,Q.line),X=Math.max(J.line,Q.line),U=[];if(J.off>bv||Q.off>bv||J.col<0||Q.col<0){let Y=Math.min(J.off,Q.off),q=Math.max(J.off,Q.off);for(let W=K;W<=X;W++){let G=Z.doc.line(W);if(G.length<=q)U.push(a0.range(G.from+Y,G.to+q))}}else{let Y=Math.min(J.col,Q.col),q=Math.max(J.col,Q.col);for(let W=K;W<=X;W++){let G=Z.doc.line(W),z=MN(G.text,Y,Z.tabSize,!0);if(z<0)U.push(a0.cursor(G.to));else{let H=MN(G.text,q,Z.tabSize);U.push(a0.range(G.from+z,G.from+H))}}}return U}function sd0(Z,J){let Q=Z.coordsAtPos(Z.viewport.from);return Q?Math.round(Math.abs((Q.left-J)/Z.defaultCharacterWidth)):-1}function C80(Z,J){let Q=Z.posAtCoords({x:J.clientX,y:J.clientY},!1),K=Z.state.doc.lineAt(Q),X=Q-K.from,U=X>bv?-1:X==K.length?sd0(Z,J.clientX):cQ(K.text,Z.state.tabSize,Q-K.from);return{line:K.number,col:U,off:X}}function rd0(Z,J){let Q=C80(Z,J),K=Z.state.selection;if(!Q)return null;return{update(X){if(X.docChanged){let U=X.changes.mapPos(X.startState.doc.line(Q.line).from),Y=X.state.doc.lineAt(U);Q={line:Y.number,col:Q.col,off:Math.min(Q.off,Y.length)},K=K.map(X.changes)}},get(X,U,Y){let q=C80(Z,X);if(!q)return K;let W=id0(Z.state,Q,q);if(!W.length)return K;if(Y)return a0.create(W.concat(K.ranges));else return a0.create(W)}}}function KZ0(Z){let J=(Z===null||Z===void 0?void 0:Z.eventFilter)||((Q)=>Q.altKey&&Q.button==0);return N8.mouseSelectionStyle.of((Q,K)=>J(K)?rd0(Q,K):null)}var nd0={Alt:[18,(Z)=>!!Z.altKey],Control:[17,(Z)=>!!Z.ctrlKey],Shift:[16,(Z)=>!!Z.shiftKey],Meta:[91,(Z)=>!!Z.metaKey]},ad0={style:"cursor: crosshair"};function XZ0(Z={}){let[J,Q]=nd0[Z.key||"Alt"],K=MJ.fromClass(class{constructor(X){this.view=X,this.isDown=!1}set(X){if(this.isDown!=X)this.isDown=X,this.view.update([])}},{eventObservers:{keydown(X){this.set(X.keyCode==J||Q(X))},keyup(X){if(X.keyCode==J||!Q(X))this.set(!1)},mousemove(X){this.set(Q(X))}}});return[K,N8.contentAttributes.of((X)=>{var U;return((U=X.plugin(K))===null||U===void 0?void 0:U.isDown)?ad0:null})]}var NN="-10000px";class tv{constructor(Z,J,Q,K){this.facet=J,this.createTooltipView=Q,this.removeTooltipView=K,this.input=Z.state.facet(J),this.tooltips=this.input.filter((U)=>U);let X=null;this.tooltipViews=this.tooltips.map((U)=>X=Q(U,X))}update(Z,J){var Q;let K=Z.state.facet(this.facet),X=K.filter((q)=>q);if(K===this.input){for(let q of this.tooltipViews)if(q.update)q.update(Z);return!1}let U=[],Y=J?[]:null;for(let q=0;q<X.length;q++){let W=X[q],G=-1;if(!W)continue;for(let z=0;z<this.tooltips.length;z++){let H=this.tooltips[z];if(H&&H.create==W.create)G=z}if(G<0){if(U[q]=this.createTooltipView(W,q?U[q-1]:null),Y)Y[q]=!!W.above}else{let z=U[q]=this.tooltipViews[G];if(Y)Y[q]=J[G];if(z.update)z.update(Z)}}for(let q of this.tooltipViews)if(U.indexOf(q)<0)this.removeTooltipView(q),(Q=q.destroy)===null||Q===void 0||Q.call(q);if(J)Y.forEach((q,W)=>J[W]=q),J.length=Y.length;return this.input=K,this.tooltips=X,this.tooltipViews=U,!0}}function od0(Z){let J=Z.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:J.clientHeight,right:J.clientWidth}}var Fv=w8.define({combine:(Z)=>{var J,Q,K;return{position:x8.ios?"absolute":((J=Z.find((X)=>X.position))===null||J===void 0?void 0:J.position)||"fixed",parent:((Q=Z.find((X)=>X.parent))===null||Q===void 0?void 0:Q.parent)||null,tooltipSpace:((K=Z.find((X)=>X.tooltipSpace))===null||K===void 0?void 0:K.tooltipSpace)||od0}}}),S80=new WeakMap,ev=MJ.fromClass(class{constructor(Z){this.view=Z,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let J=Z.state.facet(Fv);this.position=J.position,this.parent=J.parent,this.classes=Z.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tv(Z,QR,(Q,K)=>this.createTooltip(Q,K),(Q)=>{if(this.resizeObserver)this.resizeObserver.unobserve(Q.dom);Q.dom.remove()}),this.above=this.manager.tooltips.map((Q)=>!!Q.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((Q)=>{if(Date.now()>this.lastTransaction-50&&Q.length>0&&Q[Q.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),Z.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let Z of this.manager.tooltipViews)this.intersectionObserver.observe(Z.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(Z){if(Z.transactions.length)this.lastTransaction=Date.now();let J=this.manager.update(Z,this.above);if(J)this.observeIntersection();let Q=J||Z.geometryChanged,K=Z.state.facet(Fv);if(K.position!=this.position&&!this.madeAbsolute){this.position=K.position;for(let X of this.manager.tooltipViews)X.dom.style.position=this.position;Q=!0}if(K.parent!=this.parent){if(this.parent)this.container.remove();this.parent=K.parent,this.createContainer();for(let X of this.manager.tooltipViews)this.container.appendChild(X.dom);Q=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(Q)this.maybeMeasure()}createTooltip(Z,J){let Q=Z.create(this.view),K=J?J.dom:null;if(Q.dom.classList.add("cm-tooltip"),Z.arrow&&!Q.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let X=document.createElement("div");X.className="cm-tooltip-arrow",Q.dom.appendChild(X)}if(Q.dom.style.position=this.position,Q.dom.style.top=NN,Q.dom.style.left="0px",this.container.insertBefore(Q.dom,K),Q.mount)Q.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(Q.dom);return Q}destroy(){var Z,J,Q;this.view.win.removeEventListener("resize",this.measureSoon);for(let K of this.manager.tooltipViews)K.dom.remove(),(Z=K.destroy)===null||Z===void 0||Z.call(K);if(this.parent)this.container.remove();(J=this.resizeObserver)===null||J===void 0||J.disconnect(),(Q=this.intersectionObserver)===null||Q===void 0||Q.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let Z=1,J=1,Q=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:U}=this.manager.tooltipViews[0];if(x8.safari){let Y=U.getBoundingClientRect();Q=Math.abs(Y.top+1e4)>1||Math.abs(Y.left)>1}else Q=!!U.offsetParent&&U.offsetParent!=this.container.ownerDocument.body}if(Q||this.position=="absolute")if(this.parent){let U=this.parent.getBoundingClientRect();if(U.width&&U.height)Z=U.width/this.parent.offsetWidth,J=U.height/this.parent.offsetHeight}else({scaleX:Z,scaleY:J}=this.view.viewState);let K=this.view.scrollDOM.getBoundingClientRect(),X=sv(this.view);return{visible:{left:K.left+X.left,top:K.top+X.top,right:K.right-X.right,bottom:K.bottom-X.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((U,Y)=>{let q=this.manager.tooltipViews[Y];return q.getCoords?q.getCoords(U.pos):this.view.coordsAtPos(U.pos)}),size:this.manager.tooltipViews.map(({dom:U})=>U.getBoundingClientRect()),space:this.view.state.facet(Fv).tooltipSpace(this.view),scaleX:Z,scaleY:J,makeAbsolute:Q}}writeMeasure(Z){var J;if(Z.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let q of this.manager.tooltipViews)q.dom.style.position="absolute"}let{visible:Q,space:K,scaleX:X,scaleY:U}=Z,Y=[];for(let q=0;q<this.manager.tooltips.length;q++){let W=this.manager.tooltips[q],G=this.manager.tooltipViews[q],{dom:z}=G,H=Z.pos[q],F=Z.size[q];if(!H||W.clip!==!1&&(H.bottom<=Math.max(Q.top,K.top)||H.top>=Math.min(Q.bottom,K.bottom)||H.right<Math.max(Q.left,K.left)-0.1||H.left>Math.min(Q.right,K.right)+0.1)){z.style.top=NN;continue}let M=W.arrow?G.dom.querySelector(".cm-tooltip-arrow"):null,B=M?7:0,O=F.right-F.left,R=(J=S80.get(G))!==null&&J!==void 0?J:F.bottom-F.top,D=G.offset||ed0,L=this.view.textDirection==LZ.LTR,A=F.width>K.right-K.left?L?K.left:K.right-F.width:L?Math.max(K.left,Math.min(H.left-(M?14:0)+D.x,K.right-O)):Math.min(Math.max(K.left,H.left-O+(M?14:0)-D.x),K.right-O),V=this.above[q];if(!W.strictSide&&(V?H.top-R-B-D.y<K.top:H.bottom+R+B+D.y>K.bottom)&&V==K.bottom-H.bottom>H.top-K.top)V=this.above[q]=!V;let N=(V?H.top-K.top:K.bottom-H.bottom)-B;if(N<R&&G.resize!==!1){if(N<this.view.defaultLineHeight){z.style.top=NN;continue}S80.set(G,R),z.style.height=(R=N)/U+"px"}else if(z.style.height)z.style.height="";let E=V?H.top-R-B-D.y:H.bottom+B+D.y,j=A+O;if(G.overlap!==!0){for(let C of Y)if(C.left<j&&C.right>A&&C.top<E+R&&C.bottom>E)E=V?C.top-R-2-B:C.bottom+B+2}if(this.position=="absolute")z.style.top=(E-Z.parent.top)/U+"px",T80(z,(A-Z.parent.left)/X);else z.style.top=E/U+"px",T80(z,A/X);if(M){let C=H.left+(L?D.x:-D.x)-(A+14-7);M.style.left=C/X+"px"}if(G.overlap!==!0)Y.push({left:A,top:E,right:j,bottom:E+R});if(z.classList.toggle("cm-tooltip-above",V),z.classList.toggle("cm-tooltip-below",!V),G.positioned)G.positioned(Z.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let Z of this.manager.tooltipViews)Z.dom.style.top=NN}}}},{eventObservers:{scroll(){this.maybeMeasure()}}});function T80(Z,J){let Q=parseInt(Z.style.left,10);if(isNaN(Q)||Math.abs(J-Q)>1)Z.style.left=J+"px"}var td0=N8.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ed0={x:0,y:0},QR=w8.define({enables:[ev,td0]}),uN=w8.define({combine:(Z)=>Z.reduce((J,Q)=>J.concat(Q),[])});class lN{static create(Z){return new lN(Z)}constructor(Z){this.view=Z,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tv(Z,uN,(J,Q)=>this.createHostedView(J,Q),(J)=>J.dom.remove())}createHostedView(Z,J){let Q=Z.create(this.view);if(Q.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(Q.dom,J?J.dom.nextSibling:this.dom.firstChild),this.mounted&&Q.mount)Q.mount(this.view);return Q}mount(Z){for(let J of this.manager.tooltipViews)if(J.mount)J.mount(Z);this.mounted=!0}positioned(Z){for(let J of this.manager.tooltipViews)if(J.positioned)J.positioned(Z)}update(Z){this.manager.update(Z)}destroy(){var Z;for(let J of this.manager.tooltipViews)(Z=J.destroy)===null||Z===void 0||Z.call(J)}passProp(Z){let J=void 0;for(let Q of this.manager.tooltipViews){let K=Q[Z];if(K!==void 0){if(J===void 0)J=K;else if(J!==K)return}}return J}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}var Zi0=QR.compute([uN],(Z)=>{let J=Z.facet(uN);if(J.length===0)return null;return{pos:Math.min(...J.map((Q)=>Q.pos)),end:Math.max(...J.map((Q)=>{var K;return(K=Q.end)!==null&&K!==void 0?K:Q.pos})),create:lN.create,above:J[0].above,arrow:J.some((Q)=>Q.arrow)}});class UZ0{constructor(Z,J,Q,K,X){this.view=Z,this.source=J,this.field=Q,this.setHover=K,this.hoverTime=X,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Z.dom,time:0},this.checkHover=this.checkHover.bind(this),Z.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Z.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending)this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20)}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let Z=Date.now()-this.lastMove.time;if(Z<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Z);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:Z,lastMove:J}=this,Q=Z.docView.tile.nearest(J.target);if(!Q)return;let K,X=1;if(Q.isWidget())K=Q.posAtStart;else{if(K=Z.posAtCoords(J),K==null)return;let Y=Z.coordsAtPos(K);if(!Y||J.y<Y.top||J.y>Y.bottom||J.x<Y.left-Z.defaultCharacterWidth||J.x>Y.right+Z.defaultCharacterWidth)return;let q=Z.bidiSpans(Z.state.doc.lineAt(K)).find((G)=>G.from<=K&&G.to>=K),W=q&&q.dir==LZ.RTL?-1:1;X=J.x<Y.left?-W:W}let U=this.source(Z,K,X);if(U===null||U===void 0?void 0:U.then){let Y=this.pending={pos:K};U.then((q)=>{if(this.pending==Y){if(this.pending=null,q&&!(Array.isArray(q)&&!q.length))Z.dispatch({effects:this.setHover.of(Array.isArray(q)?q:[q])})}},(q)=>r7(Z.state,q,"hover tooltip"))}else if(U&&!(Array.isArray(U)&&!U.length))Z.dispatch({effects:this.setHover.of(Array.isArray(U)?U:[U])})}get tooltip(){let Z=this.view.plugin(ev),J=Z?Z.manager.tooltips.findIndex((Q)=>Q.create==lN.create):-1;return J>-1?Z.manager.tooltipViews[J]:null}mousemove(Z){var J,Q;if(this.lastMove={x:Z.clientX,y:Z.clientY,target:Z.target,time:Date.now()},this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let{active:K,tooltip:X}=this;if(K.length&&X&&!Ji0(X.dom,Z)||this.pending){let{pos:U}=K[0]||this.pending,Y=(Q=(J=K[0])===null||J===void 0?void 0:J.end)!==null&&Q!==void 0?Q:U;if(U==Y?this.view.posAtCoords(this.lastMove)!=U:!Qi0(this.view,U,Y,Z.clientX,Z.clientY))this.view.dispatch({effects:this.setHover.of([])}),this.pending=null}}mouseleave(Z){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:J}=this;if(J.length){let{tooltip:Q}=this;if(!(Q&&Q.dom.contains(Z.relatedTarget)))this.view.dispatch({effects:this.setHover.of([])});else this.watchTooltipLeave(Q.dom)}}watchTooltipLeave(Z){let J=(Q)=>{if(Z.removeEventListener("mouseleave",J),this.active.length&&!this.view.dom.contains(Q.relatedTarget))this.view.dispatch({effects:this.setHover.of([])})};Z.addEventListener("mouseleave",J)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}var EN=4;function Ji0(Z,J){let{left:Q,right:K,top:X,bottom:U}=Z.getBoundingClientRect(),Y;if(Y=Z.querySelector(".cm-tooltip-arrow")){let q=Y.getBoundingClientRect();X=Math.min(q.top,X),U=Math.max(q.bottom,U)}return J.clientX>=Q-EN&&J.clientX<=K+EN&&J.clientY>=X-EN&&J.clientY<=U+EN}function Qi0(Z,J,Q,K,X,U){let Y=Z.scrollDOM.getBoundingClientRect(),q=Z.documentTop+Z.documentPadding.top+Z.contentHeight;if(Y.left>K||Y.right<K||Y.top>X||Math.min(Y.bottom,q)<X)return!1;let W=Z.posAtCoords({x:K,y:X},!1);return W>=J&&W<=Q}function YZ0(Z,J={}){let Q=q9.define(),K=FJ.define({create(){return[]},update(X,U){if(X.length){if(J.hideOnChange&&(U.docChanged||U.selection))X=[];else if(J.hideOn)X=X.filter((Y)=>!J.hideOn(U,Y));if(U.docChanged){let Y=[];for(let q of X){let W=U.changes.mapPos(q.pos,-1,M7.TrackDel);if(W!=null){let G=Object.assign(Object.create(null),q);if(G.pos=W,G.end!=null)G.end=U.changes.mapPos(G.end);Y.push(G)}}X=Y}}for(let Y of U.effects){if(Y.is(Q))X=Y.value;if(Y.is(Ki0))X=[]}return X},provide:(X)=>uN.from(X)});return{active:K,extension:[K,MJ.define((X)=>new UZ0(X,Z,K,Q,J.hoverTime||300)),Zi0]}}function Zx(Z,J){let Q=Z.plugin(ev);if(!Q)return null;let K=Q.manager.tooltips.indexOf(J);return K<0?null:Q.manager.tooltipViews[K]}var Ki0=q9.define();var w80=w8.define({combine(Z){let J,Q;for(let K of Z)J=J||K.topContainer,Q=Q||K.bottomContainer;return{topContainer:J,bottomContainer:Q}}});function KR(Z,J){let Q=Z.plugin(qZ0),K=Q?Q.specs.indexOf(J):-1;return K>-1?Q.panels[K]:null}var qZ0=MJ.fromClass(class{constructor(Z){this.input=Z.state.facet(QG),this.specs=this.input.filter((Q)=>Q),this.panels=this.specs.map((Q)=>Q(Z));let J=Z.state.facet(w80);this.top=new gO(Z,!0,J.topContainer),this.bottom=new gO(Z,!1,J.bottomContainer),this.top.sync(this.panels.filter((Q)=>Q.top)),this.bottom.sync(this.panels.filter((Q)=>!Q.top));for(let Q of this.panels)if(Q.dom.classList.add("cm-panel"),Q.mount)Q.mount()}update(Z){let J=Z.state.facet(w80);if(this.top.container!=J.topContainer)this.top.sync([]),this.top=new gO(Z.view,!0,J.topContainer);if(this.bottom.container!=J.bottomContainer)this.bottom.sync([]),this.bottom=new gO(Z.view,!1,J.bottomContainer);this.top.syncClasses(),this.bottom.syncClasses();let Q=Z.state.facet(QG);if(Q!=this.input){let K=Q.filter((W)=>W),X=[],U=[],Y=[],q=[];for(let W of K){let G=this.specs.indexOf(W),z;if(G<0)z=W(Z.view),q.push(z);else if(z=this.panels[G],z.update)z.update(Z);X.push(z),(z.top?U:Y).push(z)}this.specs=K,this.panels=X,this.top.sync(U),this.bottom.sync(Y);for(let W of q)if(W.dom.classList.add("cm-panel"),W.mount)W.mount()}else for(let K of this.panels)if(K.update)K.update(Z)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:(Z)=>N8.scrollMargins.of((J)=>{let Q=J.plugin(Z);return Q&&{top:Q.top.scrollMargin(),bottom:Q.bottom.scrollMargin()}})});class gO{constructor(Z,J,Q){this.view=Z,this.top=J,this.container=Q,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Z){for(let J of this.panels)if(J.destroy&&Z.indexOf(J)<0)J.destroy();this.panels=Z,this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom)this.dom.remove(),this.dom=void 0;return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let J=this.container||this.view.dom;J.insertBefore(this.dom,this.top?J.firstChild:null)}let Z=this.dom.firstChild;for(let J of this.panels)if(J.dom.parentNode==this.dom){while(Z!=J.dom)Z=$80(Z);Z=Z.nextSibling}else this.dom.insertBefore(J.dom,Z);while(Z)Z=$80(Z)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let Z of this.classes.split(" "))if(Z)this.container.classList.remove(Z);for(let Z of(this.classes=this.view.themeClasses).split(" "))if(Z)this.container.classList.add(Z)}}function $80(Z){let J=Z.nextSibling;return Z.remove(),J}var QG=w8.define({enables:qZ0});function WZ0(Z,J){let Q,K=new Promise((Y)=>Q=Y),X=(Y)=>Xi0(Y,J,Q);if(Z.state.field(Mv,!1))Z.dispatch({effects:GZ0.of(X)});else Z.dispatch({effects:q9.appendConfig.of(Mv.init(()=>[X]))});let U=zZ0.of(X);return{close:U,result:K.then((Y)=>{return(Z.win.queueMicrotask||((W)=>Z.win.setTimeout(W,10)))(()=>{if(Z.state.field(Mv).indexOf(X)>-1)Z.dispatch({effects:U})}),Y})}}var Mv=FJ.define({create(){return[]},update(Z,J){for(let Q of J.effects)if(Q.is(GZ0))Z=[Q.value].concat(Z);else if(Q.is(zZ0))Z=Z.filter((K)=>K!=Q.value);return Z},provide:(Z)=>QG.computeN([Z],(J)=>J.field(Z))}),GZ0=q9.define(),zZ0=q9.define();function Xi0(Z,J,Q){let K=J.content?J.content(Z,()=>Y(null)):null;if(!K){if(K=zZ("form"),J.input){let q=zZ("input",J.input);if(/^(text|password|number|email|tel|url)$/.test(q.type))q.classList.add("cm-textfield");if(!q.name)q.name="input";K.appendChild(zZ("label",(J.label||"")+": ",q))}else K.appendChild(document.createTextNode(J.label||""));K.appendChild(document.createTextNode(" ")),K.appendChild(zZ("button",{class:"cm-button",type:"submit"},J.submitLabel||"OK"))}let X=K.nodeName=="FORM"?[K]:K.querySelectorAll("form");for(let q=0;q<X.length;q++){let W=X[q];W.addEventListener("keydown",(G)=>{if(G.keyCode==27)G.preventDefault(),Y(null);else if(G.keyCode==13)G.preventDefault(),Y(W)}),W.addEventListener("submit",(G)=>{G.preventDefault(),Y(W)})}let U=zZ("div",K,zZ("button",{onclick:()=>Y(null),"aria-label":Z.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));if(J.class)U.className=J.class;U.classList.add("cm-dialog");function Y(q){if(U.contains(U.ownerDocument.activeElement))Z.focus();Q(q)}return{dom:U,top:J.top,mount:()=>{if(J.focus){let q;if(typeof J.focus=="string")q=K.querySelector(J.focus);else q=K.querySelector("input")||K.querySelector("button");if(q&&"select"in q)q.select();else if(q&&"focus"in q)q.focus()}}}}class t4 extends dK{compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}eq(Z){return!1}destroy(Z){}}t4.prototype.elementClass="";t4.prototype.toDOM=void 0;t4.prototype.mapMode=M7.TrackBefore;t4.prototype.startSide=t4.prototype.endSide=-1;t4.prototype.point=!0;var $N=w8.define(),Ui0=w8.define(),Yi0={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>E9.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},dO=w8.define();function Jx(Z){return[HZ0(),dO.of({...Yi0,...Z})]}var yv=w8.define({combine:(Z)=>Z.some((J)=>J)});function HZ0(Z){let J=[qi0];if(Z&&Z.fixed===!1)J.push(yv.of(!0));return J}var qi0=MJ.fromClass(class{constructor(Z){this.view=Z,this.domAfter=null,this.prevViewport=Z.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=Z.state.facet(dO).map((J)=>new mv(Z,J)),this.fixed=!Z.state.facet(yv);for(let J of this.gutters)if(J.config.side=="after")this.getDOMAfter().appendChild(J.dom);else this.dom.appendChild(J.dom);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),Z.scrollDOM.insertBefore(this.dom,Z.contentDOM)}getDOMAfter(){if(!this.domAfter)this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter);return this.domAfter}update(Z){if(this.updateGutters(Z)){let J=this.prevViewport,Q=Z.view.viewport,K=Math.min(J.to,Q.to)-Math.max(J.from,Q.from);this.syncGutters(K<(Q.to-Q.from)*0.8)}if(Z.geometryChanged){let J=this.view.contentHeight/this.view.scaleY+"px";if(this.dom.style.minHeight=J,this.domAfter)this.domAfter.style.minHeight=J}if(this.view.state.facet(yv)!=!this.fixed){if(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter)this.domAfter.style.position=this.fixed?"sticky":""}this.prevViewport=Z.view.viewport}syncGutters(Z){let J=this.dom.nextSibling;if(Z){if(this.dom.remove(),this.domAfter)this.domAfter.remove()}let Q=E9.iter(this.view.state.facet($N),this.view.viewport.from),K=[],X=this.gutters.map((U)=>new FZ0(U,this.view.viewport,-this.view.documentPadding.top));for(let U of this.view.viewportLineBlocks){if(K.length)K=[];if(Array.isArray(U.type)){let Y=!0;for(let q of U.type)if(q.type==n7.Text&&Y){hv(Q,K,q.from);for(let W of X)W.line(this.view,q,K);Y=!1}else if(q.widget)for(let W of X)W.widget(this.view,q)}else if(U.type==n7.Text){hv(Q,K,U.from);for(let Y of X)Y.line(this.view,U,K)}else if(U.widget)for(let Y of X)Y.widget(this.view,U)}for(let U of X)U.finish();if(Z){if(this.view.scrollDOM.insertBefore(this.dom,J),this.domAfter)this.view.scrollDOM.appendChild(this.domAfter)}}updateGutters(Z){let J=Z.startState.facet(dO),Q=Z.state.facet(dO),K=Z.docChanged||Z.heightChanged||Z.viewportChanged||!E9.eq(Z.startState.facet($N),Z.state.facet($N),Z.view.viewport.from,Z.view.viewport.to);if(J==Q){for(let X of this.gutters)if(X.update(Z))K=!0}else{K=!0;let X=[];for(let U of Q){let Y=J.indexOf(U);if(Y<0)X.push(new mv(this.view,U));else this.gutters[Y].update(Z),X.push(this.gutters[Y])}for(let U of this.gutters)if(U.dom.remove(),X.indexOf(U)<0)U.destroy();for(let U of X)if(U.config.side=="after")this.getDOMAfter().appendChild(U.dom);else this.dom.appendChild(U.dom);this.gutters=X}return K}destroy(){for(let Z of this.gutters)Z.destroy();if(this.dom.remove(),this.domAfter)this.domAfter.remove()}},{provide:(Z)=>N8.scrollMargins.of((J)=>{let Q=J.plugin(Z);if(!Q||Q.gutters.length==0||!Q.fixed)return null;let K=Q.dom.offsetWidth*J.scaleX,X=Q.domAfter?Q.domAfter.offsetWidth*J.scaleX:0;return J.textDirection==LZ.LTR?{left:K,right:X}:{right:K,left:X}})});function k80(Z){return Array.isArray(Z)?Z:[Z]}function hv(Z,J,Q){while(Z.value&&Z.from<=Q){if(Z.from==Q)J.push(Z.value);Z.next()}}class FZ0{constructor(Z,J,Q){this.gutter=Z,this.height=Q,this.i=0,this.cursor=E9.iter(Z.markers,J.from)}addElement(Z,J,Q){let{gutter:K}=this,X=(J.top-this.height)/Z.scaleY,U=J.height/Z.scaleY;if(this.i==K.elements.length){let Y=new Qx(Z,U,X,Q);K.elements.push(Y),K.dom.appendChild(Y.dom)}else K.elements[this.i].update(Z,U,X,Q);this.height=J.bottom,this.i++}line(Z,J,Q){let K=[];if(hv(this.cursor,K,J.from),Q.length)K=K.concat(Q);let X=this.gutter.config.lineMarker(Z,J,K);if(X)K.unshift(X);let U=this.gutter;if(K.length==0&&!U.config.renderEmptyElements)return;this.addElement(Z,J,K)}widget(Z,J){let Q=this.gutter.config.widgetMarker(Z,J.widget,J),K=Q?[Q]:null;for(let X of Z.state.facet(Ui0)){let U=X(Z,J.widget,J);if(U)(K||(K=[])).push(U)}if(K)this.addElement(Z,J,K)}finish(){let Z=this.gutter;while(Z.elements.length>this.i){let J=Z.elements.pop();Z.dom.removeChild(J.dom),J.destroy()}}}class mv{constructor(Z,J){this.view=Z,this.config=J,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let Q in J.domEventHandlers)this.dom.addEventListener(Q,(K)=>{let X=K.target,U;if(X!=this.dom&&this.dom.contains(X)){while(X.parentNode!=this.dom)X=X.parentNode;let q=X.getBoundingClientRect();U=(q.top+q.bottom)/2}else U=K.clientY;let Y=Z.lineBlockAtHeight(U-Z.documentTop);if(J.domEventHandlers[Q](Z,Y,K))K.preventDefault()});if(this.markers=k80(J.markers(Z)),J.initialSpacer)this.spacer=new Qx(Z,0,0,[J.initialSpacer(Z)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(Z){let J=this.markers;if(this.markers=k80(this.config.markers(Z.view)),this.spacer&&this.config.updateSpacer){let K=this.config.updateSpacer(this.spacer.markers[0],Z);if(K!=this.spacer.markers[0])this.spacer.update(Z.view,0,0,[K])}let Q=Z.view.viewport;return!E9.eq(this.markers,J,Q.from,Q.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Z):!1)}destroy(){for(let Z of this.elements)Z.destroy()}}class Qx{constructor(Z,J,Q,K){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Z,J,Q,K)}update(Z,J,Q,K){if(this.height!=J)this.height=J,this.dom.style.height=J+"px";if(this.above!=Q)this.dom.style.marginTop=(this.above=Q)?Q+"px":"";if(!Wi0(this.markers,K))this.setMarkers(Z,K)}setMarkers(Z,J){let Q="cm-gutterElement",K=this.dom.firstChild;for(let X=0,U=0;;){let Y=U,q=X<J.length?J[X++]:null,W=!1;if(q){let G=q.elementClass;if(G)Q+=" "+G;for(let z=U;z<this.markers.length;z++)if(this.markers[z].compare(q)){Y=z,W=!0;break}}else Y=this.markers.length;while(U<Y){let G=this.markers[U++];if(G.toDOM){G.destroy(K);let z=K.nextSibling;K.remove(),K=z}}if(!q)break;if(q.toDOM)if(W)K=K.nextSibling;else this.dom.insertBefore(q.toDOM(Z),K);if(W)U++}this.dom.className=Q,this.markers=J}destroy(){this.setMarkers(null,[])}}function Wi0(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++)if(!Z[Q].compare(J[Q]))return!1;return!0}var Gi0=w8.define(),zi0=w8.define(),MH=w8.define({combine(Z){return EQ(Z,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(J,Q){let K=Object.assign({},J);for(let X in Q){let U=K[X],Y=Q[X];K[X]=U?(q,W,G)=>U(q,W,G)||Y(q,W,G):Y}return K}})}});class kN extends t4{constructor(Z){super();this.number=Z}eq(Z){return this.number==Z.number}toDOM(){return document.createTextNode(this.number)}}function Bv(Z,J){return Z.state.facet(MH).formatNumber(J,Z.state)}var Hi0=dO.compute([MH],(Z)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(J){return J.state.facet(Gi0)},lineMarker(J,Q,K){if(K.some((X)=>X.toDOM))return null;return new kN(Bv(J,J.state.doc.lineAt(Q.from).number))},widgetMarker:(J,Q,K)=>{for(let X of J.state.facet(zi0)){let U=X(J,Q,K);if(U)return U}return null},lineMarkerChange:(J)=>J.startState.facet(MH)!=J.state.facet(MH),initialSpacer(J){return new kN(Bv(J,_80(J.state.doc.lines)))},updateSpacer(J,Q){let K=Bv(Q.view,_80(Q.view.state.doc.lines));return K==J.number?J:new kN(K)},domEventHandlers:Z.facet(MH).domEventHandlers,side:"before"}));function MZ0(Z={}){return[MH.of(Z),HZ0(),Hi0]}function _80(Z){let J=9;while(J<Z)J=J*10+9;return J}var Fi0=new class extends t4{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},Mi0=$N.compute(["selection"],(Z)=>{let J=[],Q=-1;for(let K of Z.selection.ranges){let X=Z.doc.lineAt(K.head).from;if(X>Q)Q=X,J.push(Fi0.range(X))}return E9.of(J)});function BZ0(){return Mi0}var EZ0=1024,Bi0=0;class L4{constructor(Z,J){this.from=Z,this.to=J}}class J9{constructor(Z={}){this.id=Bi0++,this.perNode=!!Z.perNode,this.deserialize=Z.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")}),this.combine=Z.combine||null}add(Z){if(this.perNode)throw RangeError("Can't add per-node props to node types");if(typeof Z!="function")Z=xJ.match(Z);return(J)=>{let Q=Z(J);return Q===void 0?null:[this,Q]}}}J9.closedBy=new J9({deserialize:(Z)=>Z.split(" ")});J9.openedBy=new J9({deserialize:(Z)=>Z.split(" ")});J9.group=new J9({deserialize:(Z)=>Z.split(" ")});J9.isolate=new J9({deserialize:(Z)=>{if(Z&&Z!="rtl"&&Z!="ltr"&&Z!="auto")throw RangeError("Invalid value for isolate: "+Z);return Z||"auto"}});J9.contextHash=new J9({perNode:!0});J9.lookAhead=new J9({perNode:!0});J9.mounted=new J9({perNode:!0});class KG{constructor(Z,J,Q,K=!1){this.tree=Z,this.overlay=J,this.parser=Q,this.bracketed=K}static get(Z){return Z&&Z.props&&Z.props[J9.mounted.id]}}var Oi0=Object.create(null);class xJ{constructor(Z,J,Q,K=0){this.name=Z,this.props=J,this.id=Q,this.flags=K}static define(Z){let J=Z.props&&Z.props.length?Object.create(null):Oi0,Q=(Z.top?1:0)|(Z.skipped?2:0)|(Z.error?4:0)|(Z.name==null?8:0),K=new xJ(Z.name||"",J,Z.id,Q);if(Z.props)for(let X of Z.props){if(!Array.isArray(X))X=X(K);if(X){if(X[0].perNode)throw RangeError("Can't store a per-node prop on a node type");J[X[0].id]=X[1]}}return K}prop(Z){return this.props[Z.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Z){if(typeof Z=="string"){if(this.name==Z)return!0;let J=this.prop(J9.group);return J?J.indexOf(Z)>-1:!1}return this.id==Z}static match(Z){let J=Object.create(null);for(let Q in Z)for(let K of Q.split(" "))J[K]=Z[Q];return(Q)=>{for(let K=Q.prop(J9.group),X=-1;X<(K?K.length:0);X++){let U=J[X<0?Q.name:K[X]];if(U)return U}}}}xJ.none=new xJ("",Object.create(null),0,8);class K1{constructor(Z){this.types=Z;for(let J=0;J<Z.length;J++)if(Z[J].id!=J)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Z){let J=[];for(let Q of this.types){let K=null;for(let X of Z){let U=X(Q);if(U){if(!K)K=Object.assign({},Q.props);let Y=U[1],q=U[0];if(q.combine&&q.id in K)Y=q.combine(K[q.id],Y);K[q.id]=Y}}J.push(K?new xJ(Q.name,K,Q.id,Q.flags):Q)}return new K1(J)}}var dN=new WeakMap,OZ0=new WeakMap,e9;(function(Z){Z[Z.ExcludeBuffers=1]="ExcludeBuffers",Z[Z.IncludeAnonymous=2]="IncludeAnonymous",Z[Z.IgnoreMounts=4]="IgnoreMounts",Z[Z.IgnoreOverlays=8]="IgnoreOverlays",Z[Z.EnterBracketed=16]="EnterBracketed"})(e9||(e9={}));class ZZ{constructor(Z,J,Q,K,X){if(this.type=Z,this.children=J,this.positions=Q,this.length=K,this.props=null,X&&X.length){this.props=Object.create(null);for(let[U,Y]of X)this.props[typeof U=="number"?U:U.id]=Y}}toString(){let Z=KG.get(this);if(Z&&!Z.overlay)return Z.tree.toString();let J="";for(let Q of this.children){let K=Q.toString();if(K){if(J)J+=",";J+=K}}return!this.type.name?J:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(J.length?"("+J+")":"")}cursor(Z=0){return new UR(this.topNode,Z)}cursorAt(Z,J=0,Q=0){let K=dN.get(this)||this.topNode,X=new UR(K);return X.moveTo(Z,J),dN.set(this,X._tree),X}get topNode(){return new VQ(this,0,0,null)}resolve(Z,J=0){let Q=XR(dN.get(this)||this.topNode,Z,J,!1);return dN.set(this,Q),Q}resolveInner(Z,J=0){let Q=XR(OZ0.get(this)||this.topNode,Z,J,!0);return OZ0.set(this,Q),Q}resolveStack(Z,J=0){return Ri0(this,Z,J)}iterate(Z){let{enter:J,leave:Q,from:K=0,to:X=this.length}=Z,U=Z.mode||0,Y=(U&e9.IncludeAnonymous)>0;for(let q=this.cursor(U|e9.IncludeAnonymous);;){let W=!1;if(q.from<=X&&q.to>=K&&(!Y&&q.type.isAnonymous||J(q)!==!1)){if(q.firstChild())continue;W=!0}for(;;){if(W&&Q&&(Y||!q.type.isAnonymous))Q(q);if(q.nextSibling())break;if(!q.parent())return;W=!0}}}prop(Z){return!Z.perNode?this.type.prop(Z):this.props?this.props[Z.id]:void 0}get propValues(){let Z=[];if(this.props)for(let J in this.props)Z.push([+J,this.props[J]]);return Z}balance(Z={}){return this.children.length<=8?this:zx(xJ.none,this.children,this.positions,0,this.children.length,0,this.length,(J,Q,K)=>new ZZ(this.type,J,Q,K,this.propValues),Z.makeTree||((J,Q,K)=>new ZZ(xJ.none,J,Q,K)))}static build(Z){return Di0(Z)}}ZZ.empty=new ZZ(xJ.none,[],[],0);class qx{constructor(Z,J){this.buffer=Z,this.index=J}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new qx(this.buffer,this.index)}}class Q1{constructor(Z,J,Q){this.buffer=Z,this.length=J,this.set=Q}get type(){return xJ.none}toString(){let Z=[];for(let J=0;J<this.buffer.length;)Z.push(this.childString(J)),J=this.buffer[J+3];return Z.join(",")}childString(Z){let J=this.buffer[Z],Q=this.buffer[Z+3],K=this.set.types[J],X=K.name;if(/\W/.test(X)&&!K.isError)X=JSON.stringify(X);if(Z+=4,Q==Z)return X;let U=[];while(Z<Q)U.push(this.childString(Z)),Z=this.buffer[Z+3];return X+"("+U.join(",")+")"}findChild(Z,J,Q,K,X){let{buffer:U}=this,Y=-1;for(let q=Z;q!=J;q=U[q+3])if(VZ0(X,K,U[q+1],U[q+2])){if(Y=q,Q>0)break}return Y}slice(Z,J,Q){let K=this.buffer,X=new Uint16Array(J-Z),U=0;for(let Y=Z,q=0;Y<J;){X[q++]=K[Y++],X[q++]=K[Y++]-Q;let W=X[q++]=K[Y++]-Q;X[q++]=K[Y++]-Z,U=Math.max(U,W)}return new Q1(X,U,this.set)}}function VZ0(Z,J,Q,K){switch(Z){case-2:return Q<J;case-1:return K>=J&&Q<J;case 0:return Q<J&&K>J;case 1:return Q<=J&&K>J;case 2:return K>J;case 4:return!0}}function XR(Z,J,Q,K){var X;while(Z.from==Z.to||(Q<1?Z.from>=J:Z.from>J)||(Q>-1?Z.to<=J:Z.to<J)){let Y=!K&&Z instanceof VQ&&Z.index<0?null:Z.parent;if(!Y)return Z;Z=Y}let U=K?0:e9.IgnoreOverlays;if(K){for(let Y=Z,q=Y.parent;q;Y=q,q=Y.parent)if(Y instanceof VQ&&Y.index<0&&((X=q.enter(J,Q,U))===null||X===void 0?void 0:X.from)!=Y.from)Z=q}for(;;){let Y=Z.enter(J,Q,U);if(!Y)return Z;Z=Y}}class Wx{cursor(Z=0){return new UR(this,Z)}getChild(Z,J=null,Q=null){let K=RZ0(this,Z,J,Q);return K.length?K[0]:null}getChildren(Z,J=null,Q=null){return RZ0(this,Z,J,Q)}resolve(Z,J=0){return XR(this,Z,J,!1)}resolveInner(Z,J=0){return XR(this,Z,J,!0)}matchContext(Z){return Kx(this.parent,Z)}enterUnfinishedNodesBefore(Z){let J=this.childBefore(Z),Q=this;while(J){let K=J.lastChild;if(!K||K.to!=J.to)break;if(K.type.isError&&K.from==K.to)Q=J,J=K.prevSibling;else J=K}return Q}get node(){return this}get next(){return this.parent}}class VQ extends Wx{constructor(Z,J,Q,K){super();this._tree=Z,this.from=J,this.index=Q,this._parent=K}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Z,J,Q,K,X=0){for(let U=this;;){for(let{children:Y,positions:q}=U._tree,W=J>0?Y.length:-1;Z!=W;Z+=J){let G=Y[Z],z=q[Z]+U.from,H;if(!(X&e9.EnterBracketed&&G instanceof ZZ&&(H=KG.get(G))&&!H.overlay&&H.bracketed&&Q>=z&&Q<=z+G.length)&&!VZ0(K,Q,z,z+G.length))continue;if(G instanceof Q1){if(X&e9.ExcludeBuffers)continue;let F=G.findChild(0,G.buffer.length,J,Q-z,K);if(F>-1)return new a5(new PZ0(U,G,Z,z),null,F)}else if(X&e9.IncludeAnonymous||(!G.type.isAnonymous||Gx(G))){let F;if(!(X&e9.IgnoreMounts)&&(F=KG.get(G))&&!F.overlay)return new VQ(F.tree,z,Z,U);let M=new VQ(G,z,Z,U);return X&e9.IncludeAnonymous||!M.type.isAnonymous?M:M.nextChild(J<0?G.children.length-1:0,J,Q,K,X)}}if(X&e9.IncludeAnonymous||!U.type.isAnonymous)return null;if(U.index>=0)Z=U.index+J;else Z=J<0?-1:U._parent._tree.children.length;if(U=U._parent,!U)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Z){return this.nextChild(0,1,Z,2)}childBefore(Z){return this.nextChild(this._tree.children.length-1,-1,Z,-2)}prop(Z){return this._tree.prop(Z)}enter(Z,J,Q=0){let K;if(!(Q&e9.IgnoreOverlays)&&(K=KG.get(this._tree))&&K.overlay){let X=Z-this.from,U=Q&e9.EnterBracketed&&K.bracketed;for(let{from:Y,to:q}of K.overlay)if((J>0||U?Y<=X:Y<X)&&(J<0||U?q>=X:q>X))return new VQ(K.tree,K.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Z,J,Q)}nextSignificantParent(){let Z=this;while(Z.type.isAnonymous&&Z._parent)Z=Z._parent;return Z}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function RZ0(Z,J,Q,K){let X=Z.cursor(),U=[];if(!X.firstChild())return U;if(Q!=null){for(let Y=!1;!Y;)if(Y=X.type.is(Q),!X.nextSibling())return U}for(;;){if(K!=null&&X.type.is(K))return U;if(X.type.is(J))U.push(X.node);if(!X.nextSibling())return K==null?U:[]}}function Kx(Z,J,Q=J.length-1){for(let K=Z;Q>=0;K=K.parent){if(!K)return!1;if(!K.type.isAnonymous){if(J[Q]&&J[Q]!=K.name)return!1;Q--}}return!0}class PZ0{constructor(Z,J,Q,K){this.parent=Z,this.buffer=J,this.index=Q,this.start=K}}class a5 extends Wx{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Z,J,Q){super();this.context=Z,this._parent=J,this.index=Q,this.type=Z.buffer.set.types[Z.buffer.buffer[Q]]}child(Z,J,Q){let{buffer:K}=this.context,X=K.findChild(this.index+4,K.buffer[this.index+3],Z,J-this.context.start,Q);return X<0?null:new a5(this.context,this,X)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Z){return this.child(1,Z,2)}childBefore(Z){return this.child(-1,Z,-2)}prop(Z){return this.type.prop(Z)}enter(Z,J,Q=0){if(Q&e9.ExcludeBuffers)return null;let{buffer:K}=this.context,X=K.findChild(this.index+4,K.buffer[this.index+3],J>0?1:-1,Z-this.context.start,J);return X<0?null:new a5(this.context,this,X)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Z){return this._parent?null:this.context.parent.nextChild(this.context.index+Z,Z,0,4)}get nextSibling(){let{buffer:Z}=this.context,J=Z.buffer[this.index+3];if(J<(this._parent?Z.buffer[this._parent.index+3]:Z.buffer.length))return new a5(this.context,this._parent,J);return this.externalSibling(1)}get prevSibling(){let{buffer:Z}=this.context,J=this._parent?this._parent.index+4:0;if(this.index==J)return this.externalSibling(-1);return new a5(this.context,this._parent,Z.findChild(J,this.index,-1,0,4))}get tree(){return null}toTree(){let Z=[],J=[],{buffer:Q}=this.context,K=this.index+4,X=Q.buffer[this.index+3];if(X>K){let U=Q.buffer[this.index+1];Z.push(Q.slice(K,X,U)),J.push(0)}return new ZZ(this.type,Z,J,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function jZ0(Z){if(!Z.length)return null;let J=0,Q=Z[0];for(let U=1;U<Z.length;U++){let Y=Z[U];if(Y.from>Q.from||Y.to<Q.to)Q=Y,J=U}let K=Q instanceof VQ&&Q.index<0?null:Q.parent,X=Z.slice();if(K)X[J]=K;else X.splice(J,1);return new CZ0(X,Q)}class CZ0{constructor(Z,J){this.heads=Z,this.node=J}get next(){return jZ0(this.heads)}}function Ri0(Z,J,Q){let K=Z.resolveInner(J,Q),X=null;for(let U=K instanceof VQ?K:K.context.parent;U;U=U.parent)if(U.index<0){let Y=U.parent;(X||(X=[K])).push(Y.resolve(J,Q)),U=Y}else{let Y=KG.get(U.tree);if(Y&&Y.overlay&&Y.overlay[0].from<=J&&Y.overlay[Y.overlay.length-1].to>=J){let q=new VQ(Y.tree,Y.overlay[0].from+U.from,-1,U);(X||(X=[K])).push(XR(q,J,Q,!1))}}return X?jZ0(X):K}class UR{get name(){return this.type.name}constructor(Z,J=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=J&~e9.EnterBracketed,Z instanceof VQ)this.yieldNode(Z);else{this._tree=Z.context.parent,this.buffer=Z.context;for(let Q=Z._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=Z,this.yieldBuf(Z.index)}}yieldNode(Z){if(!Z)return!1;return this._tree=Z,this.type=Z.type,this.from=Z.from,this.to=Z.to,!0}yieldBuf(Z,J){this.index=Z;let{start:Q,buffer:K}=this.buffer;return this.type=J||K.set.types[K.buffer[Z]],this.from=Q+K.buffer[Z+1],this.to=Q+K.buffer[Z+2],!0}yield(Z){if(!Z)return!1;if(Z instanceof VQ)return this.buffer=null,this.yieldNode(Z);return this.buffer=Z.context,this.yieldBuf(Z.index,Z.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Z,J,Q){if(!this.buffer)return this.yield(this._tree.nextChild(Z<0?this._tree._tree.children.length-1:0,Z,J,Q,this.mode));let{buffer:K}=this.buffer,X=K.findChild(this.index+4,K.buffer[this.index+3],Z,J-this.buffer.start,Q);if(X<0)return!1;return this.stack.push(this.index),this.yieldBuf(X)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Z){return this.enterChild(1,Z,2)}childBefore(Z){return this.enterChild(-1,Z,-2)}enter(Z,J,Q=this.mode){if(!this.buffer)return this.yield(this._tree.enter(Z,J,Q));return Q&e9.ExcludeBuffers?!1:this.enterChild(1,Z,J)}parent(){if(!this.buffer)return this.yieldNode(this.mode&e9.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Z=this.mode&e9.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Z)}sibling(Z){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Z,Z,0,4,this.mode));let{buffer:J}=this.buffer,Q=this.stack.length-1;if(Z<0){let K=Q<0?0:this.stack[Q]+4;if(this.index!=K)return this.yieldBuf(J.findChild(K,this.index,-1,0,4))}else{let K=J.buffer[this.index+3];if(K<(Q<0?J.buffer.length:J.buffer[this.stack[Q]+3]))return this.yieldBuf(K)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Z,Z,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Z){let J,Q,{buffer:K}=this;if(K){if(Z>0){if(this.index<K.buffer.buffer.length)return!1}else for(let X=0;X<this.index;X++)if(K.buffer.buffer[X+3]<this.index)return!1;({index:J,parent:Q}=K)}else({index:J,_parent:Q}=this._tree);for(;Q;{index:J,_parent:Q}=Q)if(J>-1)for(let X=J+Z,U=Z<0?-1:Q._tree.children.length;X!=U;X+=Z){let Y=Q._tree.children[X];if(this.mode&e9.IncludeAnonymous||Y instanceof Q1||!Y.type.isAnonymous||Gx(Y))return!1}return!0}move(Z,J){if(J&&this.enterChild(Z,0,4))return!0;for(;;){if(this.sibling(Z))return!0;if(this.atLastNode(Z)||!this.parent())return!1}}next(Z=!0){return this.move(1,Z)}prev(Z=!0){return this.move(-1,Z)}moveTo(Z,J=0){while(this.from==this.to||(J<1?this.from>=Z:this.from>Z)||(J>-1?this.to<=Z:this.to<Z))if(!this.parent())break;while(this.enterChild(1,Z,J));return this}get node(){if(!this.buffer)return this._tree;let Z=this.bufferNode,J=null,Q=0;if(Z&&Z.context==this.buffer)Z:for(let K=this.index,X=this.stack.length;X>=0;){for(let U=Z;U;U=U._parent)if(U.index==K){if(K==this.index)return U;J=U,Q=X+1;break Z}K=this.stack[--X]}for(let K=Q;K<this.stack.length;K++)J=new a5(this.buffer,J,this.stack[K]);return this.bufferNode=new a5(this.buffer,J,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Z,J){for(let Q=0;;){let K=!1;if(this.type.isAnonymous||Z(this)!==!1){if(this.firstChild()){Q++;continue}if(!this.type.isAnonymous)K=!0}for(;;){if(K&&J)J(this);if(K=this.type.isAnonymous,!Q)return;if(this.nextSibling())break;this.parent(),Q--,K=!0}}}matchContext(Z){if(!this.buffer)return Kx(this.node.parent,Z);let{buffer:J}=this.buffer,{types:Q}=J.set;for(let K=Z.length-1,X=this.stack.length-1;K>=0;X--){if(X<0)return Kx(this._tree,Z,K);let U=Q[J.buffer[this.stack[X]]];if(!U.isAnonymous){if(Z[K]&&Z[K]!=U.name)return!1;K--}}return!0}}function Gx(Z){return Z.children.some((J)=>J instanceof Q1||!J.type.isAnonymous||Gx(J))}function Di0(Z){var J;let{buffer:Q,nodeSet:K,maxBufferLength:X=1024,reused:U=[],minRepeatType:Y=K.types.length}=Z,q=Array.isArray(Q)?new qx(Q,Q.length):Q,W=K.types,G=0,z=0;function H(N,E,j,C,$,k){let{id:w,start:P,end:T,size:S}=q,f=z,v=G;if(S<0)if(q.next(),S==-1){let h=U[w];j.push(h),C.push(P-N);return}else if(S==-3){G=w;return}else if(S==-4){z=w;return}else throw RangeError(`Unrecognized record size: ${S}`);let x=W[w],b,y,u=P-N;if(T-P<=X&&(y=R(q.pos-E,$))){let h=new Uint16Array(y.size-y.skip),p=q.pos-y.size,r=h.length;while(q.pos>p)r=D(y.start,h,r);b=new Q1(h,T-y.start,K),u=y.start-N}else{let h=q.pos-S;q.next();let p=[],r=[],e=w>=Y?w:-1,i=0,U0=T;while(q.pos>h)if(e>=0&&q.id==e&&q.size>=0){if(q.end<=U0-X)B(p,r,P,i,q.end,U0,e,f,v),i=p.length,U0=q.end;q.next()}else if(k>2500)F(P,h,p,r);else H(P,h,p,r,e,k+1);if(e>=0&&i>0&&i<p.length)B(p,r,P,i,P,U0,e,f,v);if(p.reverse(),r.reverse(),e>-1&&i>0){let a=M(x,v);b=zx(x,p,r,0,p.length,0,T-P,a,a)}else b=O(x,p,r,T-P,f-T,v)}j.push(b),C.push(u)}function F(N,E,j,C){let $=[],k=0,w=-1;while(q.pos>E){let{id:P,start:T,end:S,size:f}=q;if(f>4)q.next();else if(w>-1&&T<w)break;else{if(w<0)w=S-X;$.push(P,T,S),k++,q.next()}}if(k){let P=new Uint16Array(k*4),T=$[$.length-2];for(let S=$.length-3,f=0;S>=0;S-=3)P[f++]=$[S],P[f++]=$[S+1]-T,P[f++]=$[S+2]-T,P[f++]=f;j.push(new Q1(P,$[2]-T,K)),C.push(T-N)}}function M(N,E){return(j,C,$)=>{let k=0,w=j.length-1,P,T;if(w>=0&&(P=j[w])instanceof ZZ){if(!w&&P.type==N&&P.length==$)return P;if(T=P.prop(J9.lookAhead))k=C[w]+P.length+T}return O(N,j,C,$,k,E)}}function B(N,E,j,C,$,k,w,P,T){let S=[],f=[];while(N.length>C)S.push(N.pop()),f.push(E.pop()+j-$);N.push(O(K.types[w],S,f,k-$,P-k,T)),E.push($-j)}function O(N,E,j,C,$,k,w){if(k){let P=[J9.contextHash,k];w=w?[P].concat(w):[P]}if($>25){let P=[J9.lookAhead,$];w=w?[P].concat(w):[P]}return new ZZ(N,E,j,C,w)}function R(N,E){let j=q.fork(),C=0,$=0,k=0,w=j.end-X,P={size:0,start:0,skip:0};Z:for(let T=j.pos-N;j.pos>T;){let S=j.size;if(j.id==E&&S>=0){P.size=C,P.start=$,P.skip=k,k+=4,C+=4,j.next();continue}let f=j.pos-S;if(S<0||f<T||j.start<w)break;let v=j.id>=Y?4:0,x=j.start;j.next();while(j.pos>f){if(j.size<0)if(j.size==-3||j.size==-4)v+=4;else break Z;else if(j.id>=Y)v+=4;j.next()}$=x,C+=S,k+=v}if(E<0||C==N)P.size=C,P.start=$,P.skip=k;return P.size>4?P:void 0}function D(N,E,j){let{id:C,start:$,end:k,size:w}=q;if(q.next(),w>=0&&C<Y){let P=j;if(w>4){let T=q.pos-(w-4);while(q.pos>T)j=D(N,E,j)}E[--j]=P,E[--j]=k-N,E[--j]=$-N,E[--j]=C}else if(w==-3)G=C;else if(w==-4)z=C;return j}let L=[],A=[];while(q.pos>0)H(Z.start||0,Z.bufferStart||0,L,A,-1,0);let V=(J=Z.length)!==null&&J!==void 0?J:L.length?A[0]+L[0].length:0;return new ZZ(W[Z.topID],L.reverse(),A.reverse(),V)}var DZ0=new WeakMap;function iN(Z,J){if(!Z.isAnonymous||J instanceof Q1||J.type!=Z)return 1;let Q=DZ0.get(J);if(Q==null){Q=1;for(let K of J.children){if(K.type!=Z||!(K instanceof ZZ)){Q=1;break}Q+=iN(Z,K)}DZ0.set(J,Q)}return Q}function zx(Z,J,Q,K,X,U,Y,q,W){let G=0;for(let B=K;B<X;B++)G+=iN(Z,J[B]);let z=Math.ceil(G*1.5/8),H=[],F=[];function M(B,O,R,D,L){for(let A=R;A<D;){let V=A,N=O[A],E=iN(Z,B[A]);A++;for(;A<D;A++){let j=iN(Z,B[A]);if(E+j>=z)break;E+=j}if(A==V+1){if(E>z){let j=B[V];M(j.children,j.positions,0,j.children.length,O[V]+L);continue}H.push(B[V])}else{let j=O[A-1]+B[A-1].length-N;H.push(zx(Z,B,O,V,A,N,j,null,W))}F.push(N+L-U)}}return M(J,Q,K,X,0),(q||W)(H,F,Y)}class YR{constructor(){this.map=new WeakMap}setBuffer(Z,J,Q){let K=this.map.get(Z);if(!K)this.map.set(Z,K=new Map);K.set(J,Q)}getBuffer(Z,J){let Q=this.map.get(Z);return Q&&Q.get(J)}set(Z,J){if(Z instanceof a5)this.setBuffer(Z.context.buffer,Z.index,J);else if(Z instanceof VQ)this.map.set(Z.tree,J)}get(Z){return Z instanceof a5?this.getBuffer(Z.context.buffer,Z.index):Z instanceof VQ?this.map.get(Z.tree):void 0}cursorSet(Z,J){if(Z.buffer)this.setBuffer(Z.buffer.buffer,Z.index,J);else this.map.set(Z.tree,J)}cursorGet(Z){return Z.buffer?this.getBuffer(Z.buffer.buffer,Z.index):this.map.get(Z.tree)}}class o5{constructor(Z,J,Q,K,X=!1,U=!1){this.from=Z,this.to=J,this.tree=Q,this.offset=K,this.open=(X?1:0)|(U?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Z,J=[],Q=!1){let K=[new o5(0,Z.length,Z,0,!1,Q)];for(let X of J)if(X.to>Z.length)K.push(X);return K}static applyChanges(Z,J,Q=128){if(!J.length)return Z;let K=[],X=1,U=Z.length?Z[0]:null;for(let Y=0,q=0,W=0;;Y++){let G=Y<J.length?J[Y]:null,z=G?G.fromA:1e9;if(z-q>=Q)while(U&&U.from<z){let H=U;if(q>=H.from||z<=H.to||W){let F=Math.max(H.from,q)-W,M=Math.min(H.to,z)-W;H=F>=M?null:new o5(F,M,H.tree,H.offset+W,Y>0,!!G)}if(H)K.push(H);if(U.to>z)break;U=X<Z.length?Z[X++]:null}if(!G)break;q=G.toA,W=G.toA-G.toB}return K}}class XG{startParse(Z,J,Q){if(typeof Z=="string")Z=new SZ0(Z);return Q=!Q?[new L4(0,Z.length)]:Q.length?Q.map((K)=>new L4(K.from,K.to)):[new L4(0,0)],this.createParse(Z,J||[],Q)}parse(Z,J,Q){let K=this.startParse(Z,J,Q);for(;;){let X=K.advance();if(X)return X}}}class SZ0{constructor(Z){this.string=Z}get length(){return this.string.length}chunk(Z){return this.string.slice(Z)}get lineChunks(){return!1}read(Z,J){return this.string.slice(Z,J)}}function sN(Z){return(J,Q,K,X)=>new wZ0(J,Z,Q,K,X)}class Xx{constructor(Z,J,Q,K,X,U){this.parser=Z,this.parse=J,this.overlay=Q,this.bracketed=K,this.target=X,this.from=U}}function LZ0(Z){if(!Z.length||Z.some((J)=>J.from>=J.to))throw RangeError("Invalid inner parse ranges given: "+JSON.stringify(Z))}class TZ0{constructor(Z,J,Q,K,X,U,Y,q){this.parser=Z,this.predicate=J,this.mounts=Q,this.index=K,this.start=X,this.bracketed=U,this.target=Y,this.prev=q,this.depth=0,this.ranges=[]}}var Ux=new J9({perNode:!0});class wZ0{constructor(Z,J,Q,K,X){this.nest=J,this.input=Q,this.fragments=K,this.ranges=X,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=Z}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let K of this.inner)K.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;if(this.stoppedAt!=null)Q=new ZZ(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[Ux,this.stoppedAt]]));return Q}let Z=this.inner[this.innerDone],J=Z.parse.advance();if(J){this.innerDone++;let Q=Object.assign(Object.create(null),Z.target.props);Q[J9.mounted.id]=new KG(J,Z.overlay,Z.parser,Z.bracketed),Z.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let Z=this.input.length;for(let J=this.innerDone;J<this.inner.length;J++)if(this.inner[J].from<Z)Z=Math.min(Z,this.inner[J].parse.parsedPos);return Z}stopAt(Z){if(this.stoppedAt=Z,this.baseParse)this.baseParse.stopAt(Z);else for(let J=this.innerDone;J<this.inner.length;J++)this.inner[J].parse.stopAt(Z)}startInner(){let Z=new $Z0(this.fragments),J=null,Q=null,K=new UR(new VQ(this.baseTree,this.ranges[0].from,0,null),e9.IncludeAnonymous|e9.IgnoreMounts);Z:for(let X,U;;){let Y=!0,q;if(this.stoppedAt!=null&&K.from>=this.stoppedAt)Y=!1;else if(Z.hasNode(K)){if(J){let W=J.mounts.find((G)=>G.frag.from<=K.from&&G.frag.to>=K.to&&G.mount.overlay);if(W)for(let G of W.mount.overlay){let z=G.from+W.pos,H=G.to+W.pos;if(z>=K.from&&H<=K.to&&!J.ranges.some((F)=>F.from<H&&F.to>z))J.ranges.push({from:z,to:H})}}Y=!1}else if(Q&&(U=Li0(Q.ranges,K.from,K.to)))Y=U!=2;else if(!K.type.isAnonymous&&(X=this.nest(K,this.input))&&(K.from<K.to||!X.overlay)){if(!K.tree){if(Ii0(K),J)J.depth++;if(Q)Q.depth++}let W=Z.findMounts(K.from,X.parser);if(typeof X.overlay=="function")J=new TZ0(X.parser,X.overlay,W,this.inner.length,K.from,!!X.bracketed,K.tree,J);else{let G=AZ0(this.ranges,X.overlay||(K.from<K.to?[new L4(K.from,K.to)]:[]));if(G.length)LZ0(G);if(G.length||!X.overlay)this.inner.push(new Xx(X.parser,G.length?X.parser.startParse(this.input,NZ0(W,G),G):X.parser.startParse(""),X.overlay?X.overlay.map((z)=>new L4(z.from-K.from,z.to-K.from)):null,!!X.bracketed,K.tree,G.length?G[0].from:K.from));if(!X.overlay)Y=!1;else if(G.length)Q={ranges:G,depth:0,prev:Q}}}else if(J&&(q=J.predicate(K))){if(q===!0)q=new L4(K.from,K.to);if(q.from<q.to){let W=J.ranges.length-1;if(W>=0&&J.ranges[W].to==q.from)J.ranges[W]={from:J.ranges[W].from,to:q.to};else J.ranges.push(q)}}if(Y&&K.firstChild()){if(J)J.depth++;if(Q)Q.depth++}else for(;;){if(K.nextSibling())break;if(!K.parent())break Z;if(J&&!--J.depth){let W=AZ0(this.ranges,J.ranges);if(W.length)LZ0(W),this.inner.splice(J.index,0,new Xx(J.parser,J.parser.startParse(this.input,NZ0(J.mounts,W),W),J.ranges.map((G)=>new L4(G.from-J.start,G.to-J.start)),J.bracketed,J.target,W[0].from));J=J.prev}if(Q&&!--Q.depth)Q=Q.prev}}}}function Li0(Z,J,Q){for(let K of Z){if(K.from>=Q)break;if(K.to>J)return K.from<=J&&K.to>=Q?2:1}return 0}function IZ0(Z,J,Q,K,X,U){if(J<Q){let Y=Z.buffer[J+1];K.push(Z.slice(J,Q,Y)),X.push(Y-U)}}function Ii0(Z){let{node:J}=Z,Q=[],K=J.context.buffer;do Q.push(Z.index),Z.parent();while(!Z.tree);let X=Z.tree,U=X.children.indexOf(K),Y=X.children[U],q=Y.buffer,W=[U];function G(z,H,F,M,B,O){let R=Q[O],D=[],L=[];IZ0(Y,z,R,D,L,M);let A=q[R+1],V=q[R+2];W.push(D.length);let N=O?G(R+4,q[R+3],Y.set.types[q[R]],A,V-A,O-1):J.toTree();return D.push(N),L.push(A-M),IZ0(Y,q[R+3],H,D,L,M),new ZZ(F,D,L,B)}X.children[U]=G(0,q.length,xJ.none,0,Y.length,Q.length-1);for(let z of W){let H=Z.tree.children[z],F=Z.tree.positions[z];Z.yield(new VQ(H,F+Z.from,z,Z._tree))}}class Yx{constructor(Z,J){this.offset=J,this.done=!1,this.cursor=Z.cursor(e9.IncludeAnonymous|e9.IgnoreMounts)}moveTo(Z){let{cursor:J}=this,Q=Z-this.offset;while(!this.done&&J.from<Q)if(J.to>=Z&&J.enter(Q,1,e9.IgnoreOverlays|e9.ExcludeBuffers));else if(!J.next(!1))this.done=!0}hasNode(Z){if(this.moveTo(Z.from),!this.done&&this.cursor.from+this.offset==Z.from&&this.cursor.tree)for(let J=this.cursor.tree;;){if(J==Z.tree)return!0;if(J.children.length&&J.positions[0]==0&&J.children[0]instanceof ZZ)J=J.children[0];else break}return!1}}class $Z0{constructor(Z){var J;if(this.fragments=Z,this.curTo=0,this.fragI=0,Z.length){let Q=this.curFrag=Z[0];this.curTo=(J=Q.tree.prop(Ux))!==null&&J!==void 0?J:Q.to,this.inner=new Yx(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(Z){while(this.curFrag&&Z.from>=this.curTo)this.nextFrag();return this.curFrag&&this.curFrag.from<=Z.from&&this.curTo>=Z.to&&this.inner.hasNode(Z)}nextFrag(){var Z;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let J=this.curFrag=this.fragments[this.fragI];this.curTo=(Z=J.tree.prop(Ux))!==null&&Z!==void 0?Z:J.to,this.inner=new Yx(J.tree,-J.offset)}}findMounts(Z,J){var Q;let K=[];if(this.inner){this.inner.cursor.moveTo(Z,1);for(let X=this.inner.cursor.node;X;X=X.parent){let U=(Q=X.tree)===null||Q===void 0?void 0:Q.prop(J9.mounted);if(U&&U.parser==J)for(let Y=this.fragI;Y<this.fragments.length;Y++){let q=this.fragments[Y];if(q.from>=X.to)break;if(q.tree==this.curFrag.tree)K.push({frag:q,pos:X.from-q.offset,mount:U})}}}return K}}function AZ0(Z,J){let Q=null,K=J;for(let X=1,U=0;X<Z.length;X++){let Y=Z[X-1].to,q=Z[X].from;for(;U<K.length;U++){let W=K[U];if(W.from>=q)break;if(W.to<=Y)continue;if(!Q)K=Q=J.slice();if(W.from<Y){if(Q[U]=new L4(W.from,Y),W.to>q)Q.splice(U+1,0,new L4(q,W.to))}else if(W.to>q)Q[U--]=new L4(q,W.to);else Q.splice(U--,1)}}return K}function Ai0(Z,J,Q,K){let X=0,U=0,Y=!1,q=!1,W=-1e9,G=[];for(;;){let z=X==Z.length?1e9:Y?Z[X].to:Z[X].from,H=U==J.length?1e9:q?J[U].to:J[U].from;if(Y!=q){let F=Math.max(W,Q),M=Math.min(z,H,K);if(F<M)G.push(new L4(F,M))}if(W=Math.min(z,H),W==1e9)break;if(z==W)if(!Y)Y=!0;else Y=!1,X++;if(H==W)if(!q)q=!0;else q=!1,U++}return G}function NZ0(Z,J){let Q=[];for(let{pos:K,mount:X,frag:U}of Z){let Y=K+(X.overlay?X.overlay[0].from:0),q=Y+X.tree.length,W=Math.max(U.from,Y),G=Math.min(U.to,q);if(X.overlay){let z=X.overlay.map((F)=>new L4(F.from+K,F.to+K)),H=Ai0(J,z,W,G);for(let F=0,M=W;;F++){let B=F==H.length,O=B?G:H[F].from;if(O>M)Q.push(new o5(M,O,X.tree,-Y,U.from>=M||U.openStart,U.to<=O||U.openEnd));if(B)break;M=H[F].to}}else Q.push(new o5(W,G,X.tree,-Y,U.from>=Y||U.openStart,U.to<=q||U.openEnd))}return Q}var Ni0=0;class w6{constructor(Z,J,Q,K){this.name=Z,this.set=J,this.base=Q,this.modified=K,this.id=Ni0++}toString(){let{name:Z}=this;for(let J of this.modified)if(J.name)Z=`${J.name}(${Z})`;return Z}static define(Z,J){let Q=typeof Z=="string"?Z:"?";if(Z instanceof w6)J=Z;if(J===null||J===void 0?void 0:J.base)throw Error("Can not derive from a modified tag");let K=new w6(Q,[],null,[]);if(K.set.push(K),J)for(let X of J.set)K.set.push(X);return K}static defineModifier(Z){let J=new oN(Z);return(Q)=>{if(Q.modified.indexOf(J)>-1)return Q;return oN.get(Q.base||Q,Q.modified.concat(J).sort((K,X)=>K.id-X.id))}}}var Ei0=0;class oN{constructor(Z){this.name=Z,this.instances=[],this.id=Ei0++}static get(Z,J){if(!J.length)return Z;let Q=J[0].instances.find((Y)=>Y.base==Z&&Vi0(J,Y.modified));if(Q)return Q;let K=[],X=new w6(Z.name,K,Z,J);for(let Y of J)Y.instances.push(X);let U=Pi0(J);for(let Y of Z.set)if(!Y.modified.length)for(let q of U)K.push(oN.get(Y,q));return X}}function Vi0(Z,J){return Z.length==J.length&&Z.every((Q,K)=>Q==J[K])}function Pi0(Z){let J=[[]];for(let Q=0;Q<Z.length;Q++)for(let K=0,X=J.length;K<X;K++)J.push(J[K].concat(Z[Q]));return J.sort((Q,K)=>K.length-Q.length)}function oK(Z){let J=Object.create(null);for(let Q in Z){let K=Z[Q];if(!Array.isArray(K))K=[K];for(let X of Q.split(" "))if(X){let U=[],Y=2,q=X;for(let H=0;;){if(q=="..."&&H>0&&H+3==X.length){Y=1;break}let F=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(q);if(!F)throw RangeError("Invalid path: "+X);if(U.push(F[0]=="*"?"":F[0][0]=='"'?JSON.parse(F[0]):F[0]),H+=F[0].length,H==X.length)break;let M=X[H++];if(H==X.length&&M=="!"){Y=0;break}if(M!="/")throw RangeError("Invalid path: "+X);q=X.slice(H)}let W=U.length-1,G=U[W];if(!G)throw RangeError("Invalid path: "+X);let z=new AH(K,Y,W>0?U.slice(0,W):null);J[G]=z.sort(J[G])}}return fZ0.add(J)}var fZ0=new J9({combine(Z,J){let Q,K,X;while(Z||J){if(!Z||J&&Z.depth>=J.depth)X=J,J=J.next;else X=Z,Z=Z.next;if(Q&&Q.mode==X.mode&&!X.context&&!Q.context)continue;let U=new AH(X.tags,X.mode,X.context);if(Q)Q.next=U;else K=U;Q=U}return K}});class AH{constructor(Z,J,Q,K){this.tags=Z,this.mode=J,this.context=Q,this.next=K}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Z){if(!Z||Z.depth<this.depth)return this.next=Z,this;return Z.next=this.sort(Z.next),Z}get depth(){return this.context?this.context.length:0}}AH.empty=new AH([],2,null);function Mx(Z,J){let Q=Object.create(null);for(let U of Z)if(!Array.isArray(U.tag))Q[U.tag.id]=U.class;else for(let Y of U.tag)Q[Y.id]=U.class;let{scope:K,all:X=null}=J||{};return{style:(U)=>{let Y=X;for(let q of U)for(let W of q.set){let G=Q[W.id];if(G){Y=Y?Y+" "+G:G;break}}return Y},scope:K}}function ji0(Z,J){let Q=null;for(let K of Z){let X=K.style(J);if(X)Q=Q?Q+" "+X:X}return Q}function vZ0(Z,J,Q,K=0,X=Z.length){let U=new xZ0(K,Array.isArray(J)?J:[J],Q);U.highlightRange(Z.cursor(),K,X,"",U.highlighters),U.flush(X)}class xZ0{constructor(Z,J,Q){this.at=Z,this.highlighters=J,this.span=Q,this.class=""}startSpan(Z,J){if(J!=this.class){if(this.flush(Z),Z>this.at)this.at=Z;this.class=J}}flush(Z){if(Z>this.at&&this.class)this.span(this.at,Z,this.class)}highlightRange(Z,J,Q,K,X){let{type:U,from:Y,to:q}=Z;if(Y>=Q||q<=J)return;if(U.isTop)X=this.highlighters.filter((F)=>!F.scope||F.scope(U));let W=K,G=Ci0(Z)||AH.empty,z=ji0(X,G.tags);if(z){if(W)W+=" ";if(W+=z,G.mode==1)K+=(K?" ":"")+z}if(this.startSpan(Math.max(J,Y),W),G.opaque)return;let H=Z.tree&&Z.tree.prop(J9.mounted);if(H&&H.overlay){let F=Z.node.enter(H.overlay[0].from+Y,1),M=this.highlighters.filter((O)=>!O.scope||O.scope(H.tree.type)),B=Z.firstChild();for(let O=0,R=Y;;O++){let D=O<H.overlay.length?H.overlay[O]:null,L=D?D.from+Y:q,A=Math.max(J,R),V=Math.min(Q,L);if(A<V&&B){while(Z.from<V)if(this.highlightRange(Z,A,V,K,X),this.startSpan(Math.min(V,Z.to),W),Z.to>=L||!Z.nextSibling())break}if(!D||L>Q)break;if(R=D.to+Y,R>J)this.highlightRange(F.cursor(),Math.max(J,D.from+Y),Math.min(Q,R),"",M),this.startSpan(Math.min(Q,R),W)}if(B)Z.parent()}else if(Z.firstChild()){if(H)K="";do{if(Z.to<=J)continue;if(Z.from>=Q)break;this.highlightRange(Z,J,Q,K,X),this.startSpan(Math.min(Q,Z.to),W)}while(Z.nextSibling());Z.parent()}}}function Ci0(Z){let J=Z.type.prop(fZ0);while(J&&J.context&&!Z.matchContext(J.context))J=J.next;return J||null}var C8=w6.define,rN=C8(),X1=C8(),kZ0=C8(X1),_Z0=C8(X1),U1=C8(),nN=C8(U1),Hx=C8(U1),ZX=C8(),UG=C8(ZX),t5=C8(),e5=C8(),Fx=C8(),qR=C8(Fx),aN=C8(),R0={comment:rN,lineComment:C8(rN),blockComment:C8(rN),docComment:C8(rN),name:X1,variableName:C8(X1),typeName:kZ0,tagName:C8(kZ0),propertyName:_Z0,attributeName:C8(_Z0),className:C8(X1),labelName:C8(X1),namespace:C8(X1),macroName:C8(X1),literal:U1,string:nN,docString:C8(nN),character:C8(nN),attributeValue:C8(nN),number:Hx,integer:C8(Hx),float:C8(Hx),bool:C8(U1),regexp:C8(U1),escape:C8(U1),color:C8(U1),url:C8(U1),keyword:t5,self:C8(t5),null:C8(t5),atom:C8(t5),unit:C8(t5),modifier:C8(t5),operatorKeyword:C8(t5),controlKeyword:C8(t5),definitionKeyword:C8(t5),moduleKeyword:C8(t5),operator:e5,derefOperator:C8(e5),arithmeticOperator:C8(e5),logicOperator:C8(e5),bitwiseOperator:C8(e5),compareOperator:C8(e5),updateOperator:C8(e5),definitionOperator:C8(e5),typeOperator:C8(e5),controlOperator:C8(e5),punctuation:Fx,separator:C8(Fx),bracket:qR,angleBracket:C8(qR),squareBracket:C8(qR),paren:C8(qR),brace:C8(qR),content:ZX,heading:UG,heading1:C8(UG),heading2:C8(UG),heading3:C8(UG),heading4:C8(UG),heading5:C8(UG),heading6:C8(UG),contentSeparator:C8(ZX),list:C8(ZX),quote:C8(ZX),emphasis:C8(ZX),strong:C8(ZX),link:C8(ZX),monospace:C8(ZX),strikethrough:C8(ZX),inserted:C8(),deleted:C8(),changed:C8(),invalid:C8(),meta:aN,documentMeta:C8(aN),annotation:C8(aN),processingInstruction:C8(aN),definition:w6.defineModifier("definition"),constant:w6.defineModifier("constant"),function:w6.defineModifier("function"),standard:w6.defineModifier("standard"),local:w6.defineModifier("local"),special:w6.defineModifier("special")};for(let Z in R0){let J=R0[Z];if(J instanceof w6)J.name=Z}var ed8=Mx([{tag:R0.link,class:"tok-link"},{tag:R0.heading,class:"tok-heading"},{tag:R0.emphasis,class:"tok-emphasis"},{tag:R0.strong,class:"tok-strong"},{tag:R0.keyword,class:"tok-keyword"},{tag:R0.atom,class:"tok-atom"},{tag:R0.bool,class:"tok-bool"},{tag:R0.url,class:"tok-url"},{tag:R0.labelName,class:"tok-labelName"},{tag:R0.inserted,class:"tok-inserted"},{tag:R0.deleted,class:"tok-deleted"},{tag:R0.literal,class:"tok-literal"},{tag:R0.string,class:"tok-string"},{tag:R0.number,class:"tok-number"},{tag:[R0.regexp,R0.escape,R0.special(R0.string)],class:"tok-string2"},{tag:R0.variableName,class:"tok-variableName"},{tag:R0.local(R0.variableName),class:"tok-variableName tok-local"},{tag:R0.definition(R0.variableName),class:"tok-variableName tok-definition"},{tag:R0.special(R0.variableName),class:"tok-variableName2"},{tag:R0.definition(R0.propertyName),class:"tok-propertyName tok-definition"},{tag:R0.typeName,class:"tok-typeName"},{tag:R0.namespace,class:"tok-namespace"},{tag:R0.className,class:"tok-className"},{tag:R0.macroName,class:"tok-macroName"},{tag:R0.propertyName,class:"tok-propertyName"},{tag:R0.operator,class:"tok-operator"},{tag:R0.comment,class:"tok-comment"},{tag:R0.meta,class:"tok-meta"},{tag:R0.invalid,class:"tok-invalid"},{tag:R0.punctuation,class:"tok-punctuation"}]);var Bx,Y1=new J9;function GR(Z){return w8.define({combine:Z?(J)=>J.concat(Z):void 0})}var JE=new J9;class $6{constructor(Z,J,Q=[],K=""){if(this.data=Z,this.name=K,!j9.prototype.hasOwnProperty("tree"))Object.defineProperty(j9.prototype,"tree",{get(){return KZ(this)}});this.parser=J,this.extension=[q1.of(this),j9.languageData.of((X,U,Y)=>{let q=bZ0(X,U,Y),W=q.type.prop(Y1);if(!W)return[];let G=X.facet(W),z=q.type.prop(JE);if(z){let H=q.resolve(U-q.from,Y);for(let F of z)if(F.test(H,X)){let M=X.facet(F.facet);return F.type=="replace"?M:M.concat(G)}}return G})].concat(Q)}isActiveAt(Z,J,Q=-1){return bZ0(Z,J,Q).type.prop(Y1)==this.data}findRegions(Z){let J=Z.facet(q1);if((J===null||J===void 0?void 0:J.data)==this.data)return[{from:0,to:Z.doc.length}];if(!J||!J.allowsNesting)return[];let Q=[],K=(X,U)=>{if(X.prop(Y1)==this.data){Q.push({from:U,to:U+X.length});return}let Y=X.prop(J9.mounted);if(Y){if(Y.tree.prop(Y1)==this.data){if(Y.overlay)for(let q of Y.overlay)Q.push({from:q.from+U,to:q.to+U});else Q.push({from:U,to:U+X.length});return}else if(Y.overlay){let q=Q.length;if(K(Y.tree,Y.overlay[0].from+U),Q.length>q)return}}for(let q=0;q<X.children.length;q++){let W=X.children[q];if(W instanceof ZZ)K(W,X.positions[q]+U)}};return K(KZ(Z),0),Q}get allowsNesting(){return!0}}$6.setState=q9.define();function bZ0(Z,J,Q){let K=Z.facet(q1),X=KZ(Z).topNode;if(!K||K.allowsNesting){for(let U=X;U;U=U.enter(J,Q,e9.ExcludeBuffers|e9.EnterBracketed))if(U.type.isTop)X=U}return X}class vU extends $6{constructor(Z,J,Q){super(Z,J,[],Q);this.parser=J}static define(Z){let J=GR(Z.languageData);return new vU(J,Z.parser.configure({props:[Y1.add((Q)=>Q.isTop?J:void 0)]}),Z.name)}configure(Z,J){return new vU(this.data,this.parser.configure(Z),J||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function KZ(Z){let J=Z.field($6.state,!1);return J?J.tree:ZZ.empty}class cZ0{constructor(Z){this.doc=Z,this.cursorPos=0,this.string="",this.cursor=Z.iter()}get length(){return this.doc.length}syncTo(Z){return this.string=this.cursor.next(Z-this.cursorPos).value,this.cursorPos=Z+this.string.length,this.cursorPos-this.string.length}chunk(Z){return this.syncTo(Z),this.string}get lineChunks(){return!0}read(Z,J){let Q=this.cursorPos-this.string.length;if(Z<Q||J>=this.cursorPos)return this.doc.sliceString(Z,J);else return this.string.slice(Z-Q,J-Q)}}var WR=null;class NH{constructor(Z,J,Q=[],K,X,U,Y,q){this.parser=Z,this.state=J,this.fragments=Q,this.tree=K,this.treeLen=X,this.viewport=U,this.skipped=Y,this.scheduleOn=q,this.parse=null,this.tempSkipped=[]}static create(Z,J,Q){return new NH(Z,J,[],ZZ.empty,0,Q,[],null)}startParse(){return this.parser.startParse(new cZ0(this.state.doc),this.fragments)}work(Z,J){if(J!=null&&J>=this.state.doc.length)J=void 0;if(this.tree!=ZZ.empty&&this.isDone(J!==null&&J!==void 0?J:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var Q;if(typeof Z=="number"){let K=Date.now()+Z;Z=()=>Date.now()>K}if(!this.parse)this.parse=this.startParse();if(J!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>J)&&J<this.state.doc.length)this.parse.stopAt(J);for(;;){let K=this.parse.advance();if(K)if(this.fragments=this.withoutTempSkipped(o5.addTree(K,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Q=this.parse.stoppedAt)!==null&&Q!==void 0?Q:this.state.doc.length,this.tree=K,this.parse=null,this.treeLen<(J!==null&&J!==void 0?J:this.state.doc.length))this.parse=this.startParse();else return!0;if(Z())return!1}})}takeTree(){let Z,J;if(this.parse&&(Z=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)this.parse.stopAt(Z);this.withContext(()=>{while(!(J=this.parse.advance()));}),this.treeLen=Z,this.tree=J,this.fragments=this.withoutTempSkipped(o5.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(Z){let J=WR;WR=this;try{return Z()}finally{WR=J}}withoutTempSkipped(Z){for(let J;J=this.tempSkipped.pop();)Z=yZ0(Z,J.from,J.to);return Z}changes(Z,J){let{fragments:Q,tree:K,treeLen:X,viewport:U,skipped:Y}=this;if(this.takeTree(),!Z.empty){let q=[];if(Z.iterChangedRanges((W,G,z,H)=>q.push({fromA:W,toA:G,fromB:z,toB:H})),Q=o5.applyChanges(Q,q),K=ZZ.empty,X=0,U={from:Z.mapPos(U.from,-1),to:Z.mapPos(U.to,1)},this.skipped.length){Y=[];for(let W of this.skipped){let G=Z.mapPos(W.from,1),z=Z.mapPos(W.to,-1);if(G<z)Y.push({from:G,to:z})}}}return new NH(this.parser,J,Q,K,X,U,Y,this.scheduleOn)}updateViewport(Z){if(this.viewport.from==Z.from&&this.viewport.to==Z.to)return!1;this.viewport=Z;let J=this.skipped.length;for(let Q=0;Q<this.skipped.length;Q++){let{from:K,to:X}=this.skipped[Q];if(K<Z.to&&X>Z.from)this.fragments=yZ0(this.fragments,K,X),this.skipped.splice(Q--,1)}if(this.skipped.length>=J)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(Z,J){this.skipped.push({from:Z,to:J})}static getSkippingParser(Z){return new class extends XG{createParse(J,Q,K){let X=K[0].from,U=K[K.length-1].to;return{parsedPos:X,advance(){let q=WR;if(q){for(let W of K)q.tempSkipped.push(W);if(Z)q.scheduleOn=q.scheduleOn?Promise.all([q.scheduleOn,Z]):Z}return this.parsedPos=U,new ZZ(xJ.none,[],[],U-X)},stoppedAt:null,stopAt(){}}}}}isDone(Z){Z=Math.min(Z,this.state.doc.length);let J=this.fragments;return this.treeLen>=Z&&J.length&&J[0].from==0&&J[0].to>=Z}static get(){return WR}}function yZ0(Z,J,Q){return o5.applyChanges(Z,[{fromA:J,toA:Q,fromB:J,toB:Q}])}class EH{constructor(Z){this.context=Z,this.tree=Z.tree}apply(Z){if(!Z.docChanged&&this.tree==this.context.tree)return this;let J=this.context.changes(Z.changes,Z.state),Q=this.context.treeLen==Z.startState.doc.length?void 0:Math.max(Z.changes.mapPos(this.context.treeLen),J.viewport.to);if(!J.work(20,Q))J.takeTree();return new EH(J)}static init(Z){let J=Math.min(3000,Z.doc.length),Q=NH.create(Z.facet(q1).parser,Z,{from:0,to:J});if(!Q.work(20,J))Q.takeTree();return new EH(Q)}}$6.state=FJ.define({create:EH.init,update(Z,J){for(let Q of J.effects)if(Q.is($6.setState))return Q.value;if(J.startState.facet(q1)!=J.state.facet(q1))return EH.init(J.state);return Z.apply(J)}});var lZ0=(Z)=>{let J=setTimeout(()=>Z(),500);return()=>clearTimeout(J)};if(typeof requestIdleCallback<"u")lZ0=(Z)=>{let J=-1,Q=setTimeout(()=>{J=requestIdleCallback(Z,{timeout:400})},100);return()=>J<0?clearTimeout(Q):cancelIdleCallback(J)};var Ox=typeof navigator<"u"&&((Bx=navigator.scheduling)===null||Bx===void 0?void 0:Bx.isInputPending)?()=>navigator.scheduling.isInputPending():null,Si0=MJ.fromClass(class{constructor(J){this.view=J,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(J){let Q=this.view.state.field($6.state).context;if(Q.updateViewport(J.view.viewport)||this.view.viewport.to>Q.treeLen)this.scheduleWork();if(J.docChanged||J.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(Q)}scheduleWork(){if(this.working)return;let{state:J}=this.view,Q=J.field($6.state);if(Q.tree!=Q.context.tree||!Q.context.isDone(J.doc.length))this.working=lZ0(this.work)}work(J){this.working=null;let Q=Date.now();if(this.chunkEnd<Q&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=Q+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:K,viewport:{to:X}}=this.view,U=K.field($6.state);if(U.tree==U.context.tree&&U.context.isDone(X+1e5))return;let Y=Date.now()+Math.min(this.chunkBudget,100,J&&!Ox?Math.max(25,J.timeRemaining()-5):1e9),q=U.context.treeLen<X&&K.doc.length>X+1000,W=U.context.work(()=>{return Ox&&Ox()||Date.now()>Y},X+(q?0:1e5));if(this.chunkBudget-=Date.now()-Q,W||this.chunkBudget<=0)U.context.takeTree(),this.view.dispatch({effects:$6.setState.of(new EH(U.context))});if(this.chunkBudget>0&&!(W&&!q))this.scheduleWork();this.checkAsyncSchedule(U.context)}checkAsyncSchedule(J){if(J.scheduleOn)this.workScheduled++,J.scheduleOn.then(()=>this.scheduleWork()).catch((Q)=>r7(this.view.state,Q)).then(()=>this.workScheduled--),J.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),q1=w8.define({combine(Z){return Z.length?Z[0]:null},enables:(Z)=>[$6.state,Si0,N8.contentAttributes.compute([Z],(J)=>{let Q=J.facet(Z);return Q&&Q.name?{"data-language":Q.name}:{}})]});class JX{constructor(Z,J=[]){this.language=Z,this.support=J,this.extension=[Z,J]}}class zR{constructor(Z,J,Q,K,X,U=void 0){this.name=Z,this.alias=J,this.extensions=Q,this.filename=K,this.loadFunc=X,this.support=U,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((Z)=>this.support=Z,(Z)=>{throw this.loading=null,Z}))}static of(Z){let{load:J,support:Q}=Z;if(!J){if(!Q)throw RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");J=()=>Promise.resolve(Q)}return new zR(Z.name,(Z.alias||[]).concat(Z.name).map((K)=>K.toLowerCase()),Z.extensions||[],Z.filename,J,Q)}static matchFilename(Z,J){for(let K of Z)if(K.filename&&K.filename.test(J))return K;let Q=/\.([^.]+)$/.exec(J);if(Q){for(let K of Z)if(K.extensions.indexOf(Q[1])>-1)return K}return null}static matchLanguageName(Z,J,Q=!0){J=J.toLowerCase();for(let K of Z)if(K.alias.some((X)=>X==J))return K;if(Q)for(let K of Z)for(let X of K.alias){let U=J.indexOf(X);if(U>-1&&(X.length>2||!/\w/.test(J[U-1])&&!/\w/.test(J[U+X.length])))return K}return null}}var Ti0=w8.define(),W1=w8.define({combine:(Z)=>{if(!Z.length)return"  ";let J=Z[0];if(!J||/\S/.test(J)||Array.from(J).some((Q)=>Q!=J[0]))throw Error("Invalid indent unit: "+JSON.stringify(Z[0]));return J}});function HR(Z){let J=Z.facet(W1);return J.charCodeAt(0)==9?Z.tabSize*J.length:J.length}function VH(Z,J){let Q="",K=Z.tabSize,X=Z.facet(W1)[0];if(X=="\t"){while(J>=K)Q+="\t",J-=K;X=" "}for(let U=0;U<J;U++)Q+=X;return Q}function QE(Z,J){if(Z instanceof j9)Z=new PH(Z);for(let K of Z.state.facet(Ti0)){let X=K(Z,J);if(X!==void 0)return X}let Q=KZ(Z.state);return Q.length>=J?wi0(Z,Q,J):null}class PH{constructor(Z,J={}){this.state=Z,this.options=J,this.unit=HR(Z)}lineAt(Z,J=1){let Q=this.state.doc.lineAt(Z),{simulateBreak:K,simulateDoubleBreak:X}=this.options;if(K!=null&&K>=Q.from&&K<=Q.to)if(X&&K==Z)return{text:"",from:Z};else if(J<0?K<Z:K<=Z)return{text:Q.text.slice(K-Q.from),from:K};else return{text:Q.text.slice(0,K-Q.from),from:Q.from};return Q}textAfterPos(Z,J=1){if(this.options.simulateDoubleBreak&&Z==this.options.simulateBreak)return"";let{text:Q,from:K}=this.lineAt(Z,J);return Q.slice(Z-K,Math.min(Q.length,Z+100-K))}column(Z,J=1){let{text:Q,from:K}=this.lineAt(Z,J),X=this.countColumn(Q,Z-K),U=this.options.overrideIndentation?this.options.overrideIndentation(K):-1;if(U>-1)X+=U-this.countColumn(Q,Q.search(/\S|$/));return X}countColumn(Z,J=Z.length){return cQ(Z,this.state.tabSize,J)}lineIndent(Z,J=1){let{text:Q,from:K}=this.lineAt(Z,J),X=this.options.overrideIndentation;if(X){let U=X(K);if(U>-1)return U}return this.countColumn(Q,Q.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var xU=new J9;function wi0(Z,J,Q){let K=J.resolveStack(Q),X=J.resolveInner(Q,-1).resolve(Q,0).enterUnfinishedNodesBefore(Q);if(X!=K.node){let U=[];for(let Y=X;Y&&!(Y.from<K.node.from||Y.to>K.node.to||Y.from==K.node.from&&Y.type==K.node.type);Y=Y.parent)U.push(Y);for(let Y=U.length-1;Y>=0;Y--)K={node:U[Y],next:K}}return dZ0(K,Z,Q)}function dZ0(Z,J,Q){for(let K=Z;K;K=K.next){let X=ki0(K.node);if(X)return X(Nx.create(J,Q,K))}return 0}function $i0(Z){return Z.pos==Z.options.simulateBreak&&Z.options.simulateDoubleBreak}function ki0(Z){let J=Z.type.prop(xU);if(J)return J;let Q=Z.firstChild,K;if(Q&&(K=Q.type.prop(J9.closedBy))){let X=Z.lastChild,U=X&&K.indexOf(X.name)>-1;return(Y)=>sZ0(Y,!0,1,void 0,U&&!$i0(Y)?X.from:void 0)}return Z.parent==null?_i0:null}function _i0(){return 0}class Nx extends PH{constructor(Z,J,Q){super(Z.state,Z.options);this.base=Z,this.pos=J,this.context=Q}get node(){return this.context.node}static create(Z,J,Q){return new Nx(Z,J,Q)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Z){let J=this.state.doc.lineAt(Z.from);for(;;){let Q=Z.resolve(J.from);while(Q.parent&&Q.parent.from==Q.from)Q=Q.parent;if(fi0(Q,Z))break;J=this.state.doc.lineAt(Q.from)}return this.lineIndent(J.from)}continue(){return dZ0(this.context.next,this.base,this.pos)}}function fi0(Z,J){for(let Q=J;Q;Q=Q.parent)if(Z==Q)return!0;return!1}function vi0(Z){let J=Z.node,Q=J.childAfter(J.from),K=J.lastChild;if(!Q)return null;let X=Z.options.simulateBreak,U=Z.state.doc.lineAt(Q.from),Y=X==null||X<=U.from?U.to:Math.min(U.to,X);for(let q=Q.to;;){let W=J.childAfter(q);if(!W||W==K)return null;if(!W.type.isSkipped){if(W.from>=Y)return null;let G=/^ */.exec(U.text.slice(Q.to-U.from))[0].length;return{from:Q.from,to:Q.to+G}}q=W.to}}function iZ0({closing:Z,align:J=!0,units:Q=1}){return(K)=>sZ0(K,J,Q,Z)}function sZ0(Z,J,Q,K,X){let U=Z.textAfter,Y=U.match(/^\s*/)[0].length,q=K&&U.slice(Y,Y+K.length)==K||X==Z.pos+Y,W=J?vi0(Z):null;if(W)return q?Z.column(W.from):Z.column(W.to);return Z.baseIndent+(q?0:Z.unit*Q)}var rZ0=(Z)=>Z.baseIndent;function jH({except:Z,units:J=1}={}){return(Q)=>{let K=Z&&Z.test(Q.textAfter);return Q.baseIndent+(K?0:J*Q.unit)}}var xi0=200;function nZ0(){return j9.transactionFilter.of((Z)=>{if(!Z.docChanged||!Z.isUserEvent("input.type")&&!Z.isUserEvent("input.complete"))return Z;let J=Z.startState.languageDataAt("indentOnInput",Z.startState.selection.main.head);if(!J.length)return Z;let Q=Z.newDoc,{head:K}=Z.newSelection.main,X=Q.lineAt(K);if(K>X.from+xi0)return Z;let U=Q.sliceString(X.from,K);if(!J.some((G)=>G.test(U)))return Z;let{state:Y}=Z,q=-1,W=[];for(let{head:G}of Y.selection.ranges){let z=Y.doc.lineAt(G);if(z.from==q)continue;q=z.from;let H=QE(Y,z.from);if(H==null)continue;let F=/^\s*/.exec(z.text)[0],M=VH(Y,H);if(F!=M)W.push({from:z.from,to:z.from+F.length,insert:M})}return W.length?[Z,{changes:W,sequential:!0}]:Z})}var Ex=w8.define(),QX=new J9;function KE(Z){let{firstChild:J,lastChild:Q}=Z;return J&&J.to<Q.from?{from:J.to,to:Q.type.isError?Z.to:Q.from}:null}function bi0(Z,J,Q){let K=KZ(Z);if(K.length<Q)return null;let X=K.resolveStack(Q,1),U=null;for(let Y=X;Y;Y=Y.next){let q=Y.node;if(q.to<=Q||q.from>Q)continue;if(U&&q.from<J)break;let W=q.type.prop(QX);if(W&&(q.to<K.length-50||K.length==Z.doc.length||!yi0(q))){let G=W(q,Z);if(G&&G.from<=Q&&G.from>=J&&G.to>Q)U=G}}return U}function yi0(Z){let J=Z.lastChild;return J&&J.to==Z.to&&J.type.isError}function eN(Z,J,Q){for(let K of Z.facet(Ex)){let X=K(Z,J,Q);if(X)return X}return bi0(Z,J,Q)}function aZ0(Z,J){let Q=J.mapPos(Z.from,1),K=J.mapPos(Z.to,-1);return Q>=K?void 0:{from:Q,to:K}}var XE=q9.define({map:aZ0}),FR=q9.define({map:aZ0});function oZ0(Z){let J=[];for(let{head:Q}of Z.state.selection.ranges){if(J.some((K)=>K.from<=Q&&K.to>=Q))continue;J.push(Z.lineBlockAt(Q))}return J}var YG=FJ.define({create(){return r8.none},update(Z,J){if(J.isUserEvent("delete"))J.changes.iterChangedRanges((Q,K)=>Z=hZ0(Z,Q,K));Z=Z.map(J.changes);for(let Q of J.effects)if(Q.is(XE)&&!hi0(Z,Q.value.from,Q.value.to)){let{preparePlaceholder:K}=J.state.facet(Vx),X=!K?mZ0:r8.replace({widget:new KJ0(K(J.state,Q.value))});Z=Z.update({add:[X.range(Q.value.from,Q.value.to)]})}else if(Q.is(FR))Z=Z.update({filter:(K,X)=>Q.value.from!=K||Q.value.to!=X,filterFrom:Q.value.from,filterTo:Q.value.to});if(J.selection)Z=hZ0(Z,J.selection.main.head);return Z},provide:(Z)=>N8.decorations.from(Z),toJSON(Z,J){let Q=[];return Z.between(0,J.doc.length,(K,X)=>{Q.push(K,X)}),Q},fromJSON(Z){if(!Array.isArray(Z)||Z.length%2)throw RangeError("Invalid JSON for fold state");let J=[];for(let Q=0;Q<Z.length;){let K=Z[Q++],X=Z[Q++];if(typeof K!="number"||typeof X!="number")throw RangeError("Invalid JSON for fold state");J.push(mZ0.range(K,X))}return r8.set(J,!0)}});function hZ0(Z,J,Q=J){let K=!1;return Z.between(J,Q,(X,U)=>{if(X<Q&&U>J)K=!0}),!K?Z:Z.update({filterFrom:J,filterTo:Q,filter:(X,U)=>X>=Q||U<=J})}function ZE(Z,J,Q){var K;let X=null;return(K=Z.field(YG,!1))===null||K===void 0||K.between(J,Q,(U,Y)=>{if(!X||X.from>U)X={from:U,to:Y}}),X}function hi0(Z,J,Q){let K=!1;return Z.between(J,J,(X,U)=>{if(X==J&&U==Q)K=!0}),K}function tZ0(Z,J){return Z.field(YG,!1)?J:J.concat(q9.appendConfig.of(JJ0()))}var mi0=(Z)=>{for(let J of oZ0(Z)){let Q=eN(Z.state,J.from,J.to);if(Q)return Z.dispatch({effects:tZ0(Z.state,[XE.of(Q),eZ0(Z,Q)])}),!0}return!1},ui0=(Z)=>{if(!Z.state.field(YG,!1))return!1;let J=[];for(let Q of oZ0(Z)){let K=ZE(Z.state,Q.from,Q.to);if(K)J.push(FR.of(K),eZ0(Z,K,!1))}if(J.length)Z.dispatch({effects:J});return J.length>0};function eZ0(Z,J,Q=!0){let K=Z.state.doc.lineAt(J.from).number,X=Z.state.doc.lineAt(J.to).number;return N8.announce.of(`${Z.state.phrase(Q?"Folded lines":"Unfolded lines")} ${K} ${Z.state.phrase("to")} ${X}.`)}var gi0=(Z)=>{let{state:J}=Z,Q=[];for(let K=0;K<J.doc.length;){let X=Z.lineBlockAt(K),U=eN(J,X.from,X.to);if(U)Q.push(XE.of(U));K=(U?Z.lineBlockAt(U.to):X).to+1}if(Q.length)Z.dispatch({effects:tZ0(Z.state,Q)});return!!Q.length},pi0=(Z)=>{let J=Z.state.field(YG,!1);if(!J||!J.size)return!1;let Q=[];return J.between(0,Z.state.doc.length,(K,X)=>{Q.push(FR.of({from:K,to:X}))}),Z.dispatch({effects:Q}),!0};var ZJ0=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:mi0},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ui0},{key:"Ctrl-Alt-[",run:gi0},{key:"Ctrl-Alt-]",run:pi0}],ci0={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Vx=w8.define({combine(Z){return EQ(Z,ci0)}});function JJ0(Z){let J=[YG,di0];if(Z)J.push(Vx.of(Z));return J}function QJ0(Z,J){let{state:Q}=Z,K=Q.facet(Vx),X=(Y)=>{let q=Z.lineBlockAt(Z.posAtDOM(Y.target)),W=ZE(Z.state,q.from,q.to);if(W)Z.dispatch({effects:FR.of(W)});Y.preventDefault()};if(K.placeholderDOM)return K.placeholderDOM(Z,X,J);let U=document.createElement("span");return U.textContent=K.placeholderText,U.setAttribute("aria-label",Q.phrase("folded code")),U.title=Q.phrase("unfold"),U.className="cm-foldPlaceholder",U.onclick=X,U}var mZ0=r8.replace({widget:new class extends T6{toDOM(Z){return QJ0(Z,null)}}});class KJ0 extends T6{constructor(Z){super();this.value=Z}eq(Z){return this.value==Z.value}toDOM(Z){return QJ0(Z,this.value)}}var li0={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class tN extends t4{constructor(Z,J){super();this.config=Z,this.open=J}eq(Z){return this.config==Z.config&&this.open==Z.open}toDOM(Z){if(this.config.markerDOM)return this.config.markerDOM(this.open);let J=document.createElement("span");return J.textContent=this.open?this.config.openText:this.config.closedText,J.title=Z.state.phrase(this.open?"Fold line":"Unfold line"),J}}function XJ0(Z={}){let J={...li0,...Z},Q=new tN(J,!0),K=new tN(J,!1),X=MJ.fromClass(class{constructor(Y){this.from=Y.viewport.from,this.markers=this.buildMarkers(Y)}update(Y){if(Y.docChanged||Y.viewportChanged||Y.startState.facet(q1)!=Y.state.facet(q1)||Y.startState.field(YG,!1)!=Y.state.field(YG,!1)||KZ(Y.startState)!=KZ(Y.state)||J.foldingChanged(Y))this.markers=this.buildMarkers(Y.view)}buildMarkers(Y){let q=new B4;for(let W of Y.viewportLineBlocks){let G=ZE(Y.state,W.from,W.to)?K:eN(Y.state,W.from,W.to)?Q:null;if(G)q.add(W.from,W.from,G)}return q.finish()}}),{domEventHandlers:U}=J;return[X,Jx({class:"cm-foldGutter",markers(Y){var q;return((q=Y.plugin(X))===null||q===void 0?void 0:q.markers)||E9.empty},initialSpacer(){return new tN(J,!1)},domEventHandlers:{...U,click:(Y,q,W)=>{if(U.click&&U.click(Y,q,W))return!0;let G=ZE(Y.state,q.from,q.to);if(G)return Y.dispatch({effects:FR.of(G)}),!0;let z=eN(Y.state,q.from,q.to);if(z)return Y.dispatch({effects:XE.of(z)}),!0;return!1}}}),JJ0()]}var di0=N8.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class CH{constructor(Z,J){this.specs=Z;let Q;function K(Y){let q=iK.newName();return(Q||(Q=Object.create(null)))["."+q]=Y,q}let X=typeof J.all=="string"?J.all:J.all?K(J.all):void 0,U=J.scope;this.scope=U instanceof $6?(Y)=>Y.prop(Y1)==U.data:U?(Y)=>Y==U:void 0,this.style=Mx(Z.map((Y)=>({tag:Y.tag,class:Y.class||K(Object.assign({},Y,{tag:null}))})),{all:X}).style,this.module=Q?new iK(Q):null,this.themeType=J.themeType}static define(Z,J){return new CH(Z,J||{})}}var Lx=w8.define(),UJ0=w8.define({combine(Z){return Z.length?[Z[0]]:null}});function Rx(Z){let J=Z.facet(Lx);return J.length?J:Z.facet(UJ0)}function UE(Z,J){let Q=[ii0],K;if(Z instanceof CH){if(Z.module)Q.push(N8.styleModule.of(Z.module));K=Z.themeType}if(J===null||J===void 0?void 0:J.fallback)Q.push(UJ0.of(Z));else if(K)Q.push(Lx.computeN([N8.darkTheme],(X)=>{return X.facet(N8.darkTheme)==(K=="dark")?[Z]:[]}));else Q.push(Lx.of(Z));return Q}class YJ0{constructor(Z){this.markCache=Object.create(null),this.tree=KZ(Z.state),this.decorations=this.buildDeco(Z,Rx(Z.state)),this.decoratedTo=Z.viewport.to}update(Z){let J=KZ(Z.state),Q=Rx(Z.state),K=Q!=Rx(Z.startState),{viewport:X}=Z.view,U=Z.changes.mapPos(this.decoratedTo,1);if(J.length<X.to&&!K&&J.type==this.tree.type&&U>=X.to)this.decorations=this.decorations.map(Z.changes),this.decoratedTo=U;else if(J!=this.tree||Z.viewportChanged||K)this.tree=J,this.decorations=this.buildDeco(Z.view,Q),this.decoratedTo=X.to}buildDeco(Z,J){if(!J||!this.tree.length)return r8.none;let Q=new B4;for(let{from:K,to:X}of Z.visibleRanges)vZ0(this.tree,J,(U,Y,q)=>{Q.add(U,Y,this.markCache[q]||(this.markCache[q]=r8.mark({class:q})))},K,X);return Q.finish()}}var ii0=C6.high(MJ.fromClass(YJ0,{decorations:(Z)=>Z.decorations})),qJ0=CH.define([{tag:R0.meta,color:"#404740"},{tag:R0.link,textDecoration:"underline"},{tag:R0.heading,textDecoration:"underline",fontWeight:"bold"},{tag:R0.emphasis,fontStyle:"italic"},{tag:R0.strong,fontWeight:"bold"},{tag:R0.strikethrough,textDecoration:"line-through"},{tag:R0.keyword,color:"#708"},{tag:[R0.atom,R0.bool,R0.url,R0.contentSeparator,R0.labelName],color:"#219"},{tag:[R0.literal,R0.inserted],color:"#164"},{tag:[R0.string,R0.deleted],color:"#a11"},{tag:[R0.regexp,R0.escape,R0.special(R0.string)],color:"#e40"},{tag:R0.definition(R0.variableName),color:"#00f"},{tag:R0.local(R0.variableName),color:"#30a"},{tag:[R0.typeName,R0.namespace],color:"#085"},{tag:R0.className,color:"#167"},{tag:[R0.special(R0.variableName),R0.macroName],color:"#256"},{tag:R0.definition(R0.propertyName),color:"#00c"},{tag:R0.comment,color:"#940"},{tag:R0.invalid,color:"#f00"}]),si0=N8.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),WJ0=1e4,GJ0="()[]{}",zJ0=w8.define({combine(Z){return EQ(Z,{afterCursor:!0,brackets:GJ0,maxScanDistance:WJ0,renderMatch:ai0})}}),ri0=r8.mark({class:"cm-matchingBracket"}),ni0=r8.mark({class:"cm-nonmatchingBracket"});function ai0(Z){let J=[],Q=Z.matched?ri0:ni0;if(J.push(Q.range(Z.start.from,Z.start.to)),Z.end)J.push(Q.range(Z.end.from,Z.end.to));return J}var oi0=FJ.define({create(){return r8.none},update(Z,J){if(!J.docChanged&&!J.selection)return Z;let Q=[],K=J.state.facet(zJ0);for(let X of J.state.selection.ranges){if(!X.empty)continue;let U=tK(J.state,X.head,-1,K)||X.head>0&&tK(J.state,X.head-1,1,K)||K.afterCursor&&(tK(J.state,X.head,1,K)||X.head<J.state.doc.length&&tK(J.state,X.head+1,-1,K));if(U)Q=Q.concat(K.renderMatch(U,J.state))}return r8.set(Q,!0)},provide:(Z)=>N8.decorations.from(Z)}),ti0=[oi0,si0];function HJ0(Z={}){return[zJ0.of(Z),ti0]}var Px=new J9;function Ix(Z,J,Q){let K=Z.prop(J<0?J9.openedBy:J9.closedBy);if(K)return K;if(Z.name.length==1){let X=Q.indexOf(Z.name);if(X>-1&&X%2==(J<0?1:0))return[Q[X+J]]}return null}function Ax(Z){let J=Z.type.prop(Px);return J?J(Z.node):Z}function tK(Z,J,Q,K={}){let X=K.maxScanDistance||WJ0,U=K.brackets||GJ0,Y=KZ(Z),q=Y.resolveInner(J,Q);for(let W=q;W;W=W.parent){let G=Ix(W.type,Q,U);if(G&&W.from<W.to){let z=Ax(W);if(z&&(Q>0?J>=z.from&&J<z.to:J>z.from&&J<=z.to))return ei0(Z,J,Q,W,z,G,U)}}return Zs0(Z,J,Q,Y,q.type,X,U)}function ei0(Z,J,Q,K,X,U,Y){let q=K.parent,W={from:X.from,to:X.to},G=0,z=q===null||q===void 0?void 0:q.cursor();if(z&&(Q<0?z.childBefore(K.from):z.childAfter(K.to)))do if(Q<0?z.to<=K.from:z.from>=K.to){if(G==0&&U.indexOf(z.type.name)>-1&&z.from<z.to){let H=Ax(z);return{start:W,end:H?{from:H.from,to:H.to}:void 0,matched:!0}}else if(Ix(z.type,Q,Y))G++;else if(Ix(z.type,-Q,Y)){if(G==0){let H=Ax(z);return{start:W,end:H&&H.from<H.to?{from:H.from,to:H.to}:void 0,matched:!1}}G--}}while(Q<0?z.prevSibling():z.nextSibling());return{start:W,matched:!1}}function Zs0(Z,J,Q,K,X,U,Y){let q=Q<0?Z.sliceDoc(J-1,J):Z.sliceDoc(J,J+1),W=Y.indexOf(q);if(W<0||W%2==0!=Q>0)return null;let G={from:Q<0?J-1:J,to:Q>0?J+1:J},z=Z.doc.iterRange(J,Q>0?Z.doc.length:0),H=0;for(let F=0;!z.next().done&&F<=U;){let M=z.value;if(Q<0)F+=M.length;let B=J+F*Q;for(let O=Q>0?0:M.length-1,R=Q>0?M.length:-1;O!=R;O+=Q){let D=Y.indexOf(M[O]);if(D<0||K.resolveInner(B+O,1).type!=X)continue;if(D%2==0==Q>0)H++;else if(H==1)return{start:G,end:{from:B+O,to:B+O+1},matched:D>>1==W>>1};else H--}if(Q>0)F+=M.length}return z.done?{start:G,matched:!1}:null}var Js0=Object.create(null),uZ0=[xJ.none];var gZ0=[],pZ0=Object.create(null),Qs0=Object.create(null);for(let[Z,J]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Qs0[Z]=Ks0(Js0,J);function Dx(Z,J){if(gZ0.indexOf(Z)>-1)return;gZ0.push(Z),console.warn(J)}function Ks0(Z,J){let Q=[];for(let q of J.split(" ")){let W=[];for(let G of q.split(".")){let z=Z[G]||R0[G];if(!z)Dx(G,`Unknown highlighting tag ${G}`);else if(typeof z=="function")if(!W.length)Dx(G,`Modifier ${G} used at start of tag`);else W=W.map(z);else if(W.length)Dx(G,`Tag ${G} used as modifier`);else W=Array.isArray(z)?z:[z]}for(let G of W)Q.push(G)}if(!Q.length)return 0;let K=J.replace(/ /g,"_"),X=K+" "+Q.map((q)=>q.id),U=pZ0[X];if(U)return U.id;let Y=pZ0[X]=xJ.define({id:uZ0.length,name:K,props:[oK({[K]:Q})]});return uZ0.push(Y),Y.id}var Yi8={rtl:r8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:LZ.RTL}),ltr:r8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:LZ.LTR}),auto:r8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var Xs0=(Z)=>{let{state:J}=Z,Q=J.doc.lineAt(J.selection.main.from),K=kx(Z.state,Q.from);return K.line?Us0(Z):K.block?qs0(Z):!1};function $x(Z,J){return({state:Q,dispatch:K})=>{if(Q.readOnly)return!1;let X=Z(J,Q);if(!X)return!1;return K(Q.update(X)),!0}}var Us0=$x(zs0,0);var Ys0=$x(AJ0,0);var qs0=$x((Z,J)=>AJ0(Z,J,Gs0(J)),0);function kx(Z,J){let Q=Z.languageDataAt("commentTokens",J,1);return Q.length?Q[0]:{}}var MR=50;function Ws0(Z,{open:J,close:Q},K,X){let U=Z.sliceDoc(K-MR,K),Y=Z.sliceDoc(X,X+MR),q=/\s*$/.exec(U)[0].length,W=/^\s*/.exec(Y)[0].length,G=U.length-q;if(U.slice(G-J.length,G)==J&&Y.slice(W,W+Q.length)==Q)return{open:{pos:K-q,margin:q&&1},close:{pos:X+W,margin:W&&1}};let z,H;if(X-K<=2*MR)z=H=Z.sliceDoc(K,X);else z=Z.sliceDoc(K,K+MR),H=Z.sliceDoc(X-MR,X);let F=/^\s*/.exec(z)[0].length,M=/\s*$/.exec(H)[0].length,B=H.length-M-Q.length;if(z.slice(F,F+J.length)==J&&H.slice(B,B+Q.length)==Q)return{open:{pos:K+F+J.length,margin:/\s/.test(z.charAt(F+J.length))?1:0},close:{pos:X-M-Q.length,margin:/\s/.test(H.charAt(B-1))?1:0}};return null}function Gs0(Z){let J=[];for(let Q of Z.selection.ranges){let K=Z.doc.lineAt(Q.from),X=Q.to<=K.to?K:Z.doc.lineAt(Q.to);if(X.from>K.from&&X.from==Q.to)X=Q.to==K.to+1?K:Z.doc.lineAt(Q.to-1);let U=J.length-1;if(U>=0&&J[U].to>K.from)J[U].to=X.to;else J.push({from:K.from+/^\s*/.exec(K.text)[0].length,to:X.to})}return J}function AJ0(Z,J,Q=J.selection.ranges){let K=Q.map((U)=>kx(J,U.from).block);if(!K.every((U)=>U))return null;let X=Q.map((U,Y)=>Ws0(J,K[Y],U.from,U.to));if(Z!=2&&!X.every((U)=>U))return{changes:J.changes(Q.map((U,Y)=>{if(X[Y])return[];return[{from:U.from,insert:K[Y].open+" "},{from:U.to,insert:" "+K[Y].close}]}))};else if(Z!=1&&X.some((U)=>U)){let U=[];for(let Y=0,q;Y<X.length;Y++)if(q=X[Y]){let W=K[Y],{open:G,close:z}=q;U.push({from:G.pos-W.open.length,to:G.pos+G.margin},{from:z.pos-z.margin,to:z.pos+W.close.length})}return{changes:U}}return null}function zs0(Z,J,Q=J.selection.ranges){let K=[],X=-1;for(let{from:U,to:Y}of Q){let q=K.length,W=1e9,G=kx(J,U).line;if(!G)continue;for(let z=U;z<=Y;){let H=J.doc.lineAt(z);if(H.from>X&&(U==Y||Y>H.from)){X=H.from;let F=/^\s*/.exec(H.text)[0].length,M=F==H.length,B=H.text.slice(F,F+G.length)==G?F:-1;if(F<H.text.length&&F<W)W=F;K.push({line:H,comment:B,token:G,indent:F,empty:M,single:!1})}z=H.to+1}if(W<1e9){for(let z=q;z<K.length;z++)if(K[z].indent<K[z].line.text.length)K[z].indent=W}if(K.length==q+1)K[q].single=!0}if(Z!=2&&K.some((U)=>U.comment<0&&(!U.empty||U.single))){let U=[];for(let{line:q,token:W,indent:G,empty:z,single:H}of K)if(H||!z)U.push({from:q.from+G,insert:W+" "});let Y=J.changes(U);return{changes:Y,selection:J.selection.map(Y,1)}}else if(Z!=1&&K.some((U)=>U.comment>=0)){let U=[];for(let{line:Y,comment:q,token:W}of K)if(q>=0){let G=Y.from+q,z=G+W.length;if(Y.text[z-Y.from]==" ")z++;U.push({from:G,to:z})}return{changes:U}}return null}var Cx=R4.define(),Hs0=R4.define(),Fs0=w8.define(),NJ0=w8.define({combine(Z){return EQ(Z,{minDepth:100,newGroupDelay:500,joinToEvent:(J,Q)=>Q},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(J,Q)=>(K,X)=>J(K,X)||Q(K,X)})}}),EJ0=FJ.define({create(){return KX.empty},update(Z,J){let Q=J.state.facet(NJ0),K=J.annotation(Cx);if(K){let W=k6.fromTransaction(J,K.selection),G=K.side,z=G==0?Z.undone:Z.done;if(W)z=qE(z,z.length,Q.minDepth,W);else z=CJ0(z,J.startState.selection);return new KX(G==0?K.rest:z,G==0?z:K.rest)}let X=J.annotation(Hs0);if(X=="full"||X=="before")Z=Z.isolate();if(J.annotation(PJ.addToHistory)===!1)return!J.changes.empty?Z.addMapping(J.changes.desc):Z;let U=k6.fromTransaction(J),Y=J.annotation(PJ.time),q=J.annotation(PJ.userEvent);if(U)Z=Z.addChanges(U,Y,q,Q,J);else if(J.selection)Z=Z.addSelection(J.startState.selection,Y,q,Q.newGroupDelay);if(X=="full"||X=="after")Z=Z.isolate();return Z},toJSON(Z){return{done:Z.done.map((J)=>J.toJSON()),undone:Z.undone.map((J)=>J.toJSON())}},fromJSON(Z){return new KX(Z.done.map(k6.fromJSON),Z.undone.map(k6.fromJSON))}});function VJ0(Z={}){return[EJ0,NJ0.of(Z),N8.domEventHandlers({beforeinput(J,Q){let K=J.inputType=="historyUndo"?PJ0:J.inputType=="historyRedo"?Sx:null;if(!K)return!1;return J.preventDefault(),K(Q)}})]}function WE(Z,J){return function({state:Q,dispatch:K}){if(!J&&Q.readOnly)return!1;let X=Q.field(EJ0,!1);if(!X)return!1;let U=X.pop(Z,Q,J);if(!U)return!1;return K(U),!0}}var PJ0=WE(0,!1),Sx=WE(1,!1),Ms0=WE(0,!0),Bs0=WE(1,!0);class k6{constructor(Z,J,Q,K,X){this.changes=Z,this.effects=J,this.mapped=Q,this.startSelection=K,this.selectionsAfter=X}setSelAfter(Z){return new k6(this.changes,this.effects,this.mapped,this.startSelection,Z)}toJSON(){var Z,J,Q;return{changes:(Z=this.changes)===null||Z===void 0?void 0:Z.toJSON(),mapped:(J=this.mapped)===null||J===void 0?void 0:J.toJSON(),startSelection:(Q=this.startSelection)===null||Q===void 0?void 0:Q.toJSON(),selectionsAfter:this.selectionsAfter.map((K)=>K.toJSON())}}static fromJSON(Z){return new k6(Z.changes&&lJ.fromJSON(Z.changes),[],Z.mapped&&lK.fromJSON(Z.mapped),Z.startSelection&&a0.fromJSON(Z.startSelection),Z.selectionsAfter.map(a0.fromJSON))}static fromTransaction(Z,J){let Q=e4;for(let K of Z.startState.facet(Fs0)){let X=K(Z);if(X.length)Q=Q.concat(X)}if(!Q.length&&Z.changes.empty)return null;return new k6(Z.changes.invert(Z.startState.doc),Q,void 0,J||Z.startState.selection,e4)}static selection(Z){return new k6(void 0,e4,void 0,void 0,Z)}}function qE(Z,J,Q,K){let X=J+1>Q+20?J-Q-1:0,U=Z.slice(X,J);return U.push(K),U}function Os0(Z,J){let Q=[],K=!1;return Z.iterChangedRanges((X,U)=>Q.push(X,U)),J.iterChangedRanges((X,U,Y,q)=>{for(let W=0;W<Q.length;){let G=Q[W++],z=Q[W++];if(q>=G&&Y<=z)K=!0}}),K}function Rs0(Z,J){return Z.ranges.length==J.ranges.length&&Z.ranges.filter((Q,K)=>Q.empty!=J.ranges[K].empty).length===0}function jJ0(Z,J){return!Z.length?J:!J.length?Z:Z.concat(J)}var e4=[],Ds0=200;function CJ0(Z,J){if(!Z.length)return[k6.selection([J])];else{let Q=Z[Z.length-1],K=Q.selectionsAfter.slice(Math.max(0,Q.selectionsAfter.length-Ds0));if(K.length&&K[K.length-1].eq(J))return Z;return K.push(J),qE(Z,Z.length-1,1e9,Q.setSelAfter(K))}}function Ls0(Z){let J=Z[Z.length-1],Q=Z.slice();return Q[Z.length-1]=J.setSelAfter(J.selectionsAfter.slice(0,J.selectionsAfter.length-1)),Q}function jx(Z,J){if(!Z.length)return Z;let Q=Z.length,K=e4;while(Q){let X=Is0(Z[Q-1],J,K);if(X.changes&&!X.changes.empty||X.effects.length){let U=Z.slice(0,Q);return U[Q-1]=X,U}else J=X.mapped,Q--,K=X.selectionsAfter}return K.length?[k6.selection(K)]:e4}function Is0(Z,J,Q){let K=jJ0(Z.selectionsAfter.length?Z.selectionsAfter.map((q)=>q.map(J)):e4,Q);if(!Z.changes)return k6.selection(K);let X=Z.changes.map(J),U=J.mapDesc(Z.changes,!0),Y=Z.mapped?Z.mapped.composeDesc(U):U;return new k6(X,q9.mapEffects(Z.effects,J),Y,Z.startSelection.map(U),K)}var As0=/^(input\.type|delete)($|\.)/;class KX{constructor(Z,J,Q=0,K=void 0){this.done=Z,this.undone=J,this.prevTime=Q,this.prevUserEvent=K}isolate(){return this.prevTime?new KX(this.done,this.undone):this}addChanges(Z,J,Q,K,X){let U=this.done,Y=U[U.length-1];if(Y&&Y.changes&&!Y.changes.empty&&Z.changes&&(!Q||As0.test(Q))&&(!Y.selectionsAfter.length&&J-this.prevTime<K.newGroupDelay&&K.joinToEvent(X,Os0(Y.changes,Z.changes))||Q=="input.type.compose"))U=qE(U,U.length-1,K.minDepth,new k6(Z.changes.compose(Y.changes),jJ0(q9.mapEffects(Z.effects,Y.changes),Y.effects),Y.mapped,Y.startSelection,e4));else U=qE(U,U.length,K.minDepth,Z);return new KX(U,e4,J,Q)}addSelection(Z,J,Q,K){let X=this.done.length?this.done[this.done.length-1].selectionsAfter:e4;if(X.length>0&&J-this.prevTime<K&&Q==this.prevUserEvent&&Q&&/^select($|\.)/.test(Q)&&Rs0(X[X.length-1],Z))return this;return new KX(CJ0(this.done,Z),this.undone,J,Q)}addMapping(Z){return new KX(jx(this.done,Z),jx(this.undone,Z),this.prevTime,this.prevUserEvent)}pop(Z,J,Q){let K=Z==0?this.done:this.undone;if(K.length==0)return null;let X=K[K.length-1],U=X.selectionsAfter[0]||J.selection;if(Q&&X.selectionsAfter.length)return J.update({selection:X.selectionsAfter[X.selectionsAfter.length-1],annotations:Cx.of({side:Z,rest:Ls0(K),selection:U}),userEvent:Z==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!X.changes)return null;else{let Y=K.length==1?e4:K.slice(0,K.length-1);if(X.mapped)Y=jx(Y,X.mapped);return J.update({changes:X.changes,selection:X.startSelection,effects:X.effects,annotations:Cx.of({side:Z,rest:Y,selection:U}),filter:!1,userEvent:Z==0?"undo":"redo",scrollIntoView:!0})}}}KX.empty=new KX(e4,e4);var SJ0=[{key:"Mod-z",run:PJ0,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sx,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Sx,preventDefault:!0},{key:"Mod-u",run:Ms0,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Bs0,preventDefault:!0}];function SH(Z,J){return a0.create(Z.ranges.map(J),Z.mainIndex)}function eK(Z,J){return Z.update({selection:J,scrollIntoView:!0,userEvent:"select"})}function Z5({state:Z,dispatch:J},Q){let K=SH(Z.selection,Q);if(K.eq(Z.selection,!0))return!1;return J(eK(Z,K)),!0}function GE(Z,J){return a0.cursor(J?Z.to:Z.from)}function TJ0(Z,J){return Z5(Z,(Q)=>Q.empty?Z.moveByChar(Q,J):GE(Q,J))}function PQ(Z){return Z.textDirectionAt(Z.state.selection.main.head)==LZ.LTR}var wJ0=(Z)=>TJ0(Z,!PQ(Z)),$J0=(Z)=>TJ0(Z,PQ(Z));function kJ0(Z,J){return Z5(Z,(Q)=>Q.empty?Z.moveByGroup(Q,J):GE(Q,J))}var Ns0=(Z)=>kJ0(Z,!PQ(Z)),Es0=(Z)=>kJ0(Z,PQ(Z));var Oi8=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function Vs0(Z,J,Q){if(J.type.prop(Q))return!0;let K=J.to-J.from;return K&&(K>2||/[^\s,.;:]/.test(Z.sliceDoc(J.from,J.to)))||J.firstChild}function zE(Z,J,Q){let K=KZ(Z).resolveInner(J.head),X=Q?J9.closedBy:J9.openedBy;for(let W=J.head;;){let G=Q?K.childAfter(W):K.childBefore(W);if(!G)break;if(Vs0(Z,G,X))K=G;else W=Q?G.to:G.from}let U=K.type.prop(X),Y,q;if(U&&(Y=Q?tK(Z,K.from,1):tK(Z,K.to,-1))&&Y.matched)q=Q?Y.end.to:Y.end.from;else q=Q?K.to:K.from;return a0.cursor(q,Q?-1:1)}var Ps0=(Z)=>Z5(Z,(J)=>zE(Z.state,J,!PQ(Z))),js0=(Z)=>Z5(Z,(J)=>zE(Z.state,J,PQ(Z)));function _J0(Z,J){return Z5(Z,(Q)=>{if(!Q.empty)return GE(Q,J);let K=Z.moveVertically(Q,J);return K.head!=Q.head?K:Z.moveToLineBoundary(Q,J)})}var fJ0=(Z)=>_J0(Z,!1),vJ0=(Z)=>_J0(Z,!0);function xJ0(Z){let J=Z.scrollDOM.clientHeight<Z.scrollDOM.scrollHeight-2,Q=0,K=0,X;if(J){for(let U of Z.state.facet(N8.scrollMargins)){let Y=U(Z);if(Y===null||Y===void 0?void 0:Y.top)Q=Math.max(Y===null||Y===void 0?void 0:Y.top,Q);if(Y===null||Y===void 0?void 0:Y.bottom)K=Math.max(Y===null||Y===void 0?void 0:Y.bottom,K)}X=Z.scrollDOM.clientHeight-Q-K}else X=(Z.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:Q,marginBottom:K,selfScroll:J,height:Math.max(Z.defaultLineHeight,X-5)}}function bJ0(Z,J){let Q=xJ0(Z),{state:K}=Z,X=SH(K.selection,(Y)=>{return Y.empty?Z.moveVertically(Y,J,Q.height):GE(Y,J)});if(X.eq(K.selection))return!1;let U;if(Q.selfScroll){let Y=Z.coordsAtPos(K.selection.main.head),q=Z.scrollDOM.getBoundingClientRect(),W=q.top+Q.marginTop,G=q.bottom-Q.marginBottom;if(Y&&Y.top>W&&Y.bottom<G)U=N8.scrollIntoView(X.main.head,{y:"start",yMargin:Y.top-W})}return Z.dispatch(eK(K,X),{effects:U}),!0}var FJ0=(Z)=>bJ0(Z,!1),Tx=(Z)=>bJ0(Z,!0);function G1(Z,J,Q){let K=Z.lineBlockAt(J.head),X=Z.moveToLineBoundary(J,Q);if(X.head==J.head&&X.head!=(Q?K.to:K.from))X=Z.moveToLineBoundary(J,Q,!1);if(!Q&&X.head==K.from&&K.length){let U=/^\s*/.exec(Z.state.sliceDoc(K.from,Math.min(K.from+100,K.to)))[0].length;if(U&&J.head!=K.from+U)X=a0.cursor(K.from+U)}return X}var Cs0=(Z)=>Z5(Z,(J)=>G1(Z,J,!0)),Ss0=(Z)=>Z5(Z,(J)=>G1(Z,J,!1)),Ts0=(Z)=>Z5(Z,(J)=>G1(Z,J,!PQ(Z))),ws0=(Z)=>Z5(Z,(J)=>G1(Z,J,PQ(Z))),$s0=(Z)=>Z5(Z,(J)=>a0.cursor(Z.lineBlockAt(J.head).from,1)),ks0=(Z)=>Z5(Z,(J)=>a0.cursor(Z.lineBlockAt(J.head).to,-1));function _s0(Z,J,Q){let K=!1,X=SH(Z.selection,(U)=>{let Y=tK(Z,U.head,-1)||tK(Z,U.head,1)||U.head>0&&tK(Z,U.head-1,1)||U.head<Z.doc.length&&tK(Z,U.head+1,-1);if(!Y||!Y.end)return U;K=!0;let q=Y.start.from==U.head?Y.end.to:Y.end.from;return Q?a0.range(U.anchor,q):a0.cursor(q)});if(!K)return!1;return J(eK(Z,X)),!0}var fs0=({state:Z,dispatch:J})=>_s0(Z,J,!1);function ZK(Z,J){let Q=SH(Z.state.selection,(K)=>{let X=J(K);return a0.range(K.anchor,X.head,X.goalColumn,X.bidiLevel||void 0)});if(Q.eq(Z.state.selection))return!1;return Z.dispatch(eK(Z.state,Q)),!0}function yJ0(Z,J){return ZK(Z,(Q)=>Z.moveByChar(Q,J))}var hJ0=(Z)=>yJ0(Z,!PQ(Z)),mJ0=(Z)=>yJ0(Z,PQ(Z));function uJ0(Z,J){return ZK(Z,(Q)=>Z.moveByGroup(Q,J))}var vs0=(Z)=>uJ0(Z,!PQ(Z)),xs0=(Z)=>uJ0(Z,PQ(Z));var bs0=(Z)=>ZK(Z,(J)=>zE(Z.state,J,!PQ(Z))),ys0=(Z)=>ZK(Z,(J)=>zE(Z.state,J,PQ(Z)));function gJ0(Z,J){return ZK(Z,(Q)=>Z.moveVertically(Q,J))}var pJ0=(Z)=>gJ0(Z,!1),cJ0=(Z)=>gJ0(Z,!0);function lJ0(Z,J){return ZK(Z,(Q)=>Z.moveVertically(Q,J,xJ0(Z).height))}var MJ0=(Z)=>lJ0(Z,!1),BJ0=(Z)=>lJ0(Z,!0),hs0=(Z)=>ZK(Z,(J)=>G1(Z,J,!0)),ms0=(Z)=>ZK(Z,(J)=>G1(Z,J,!1)),us0=(Z)=>ZK(Z,(J)=>G1(Z,J,!PQ(Z))),gs0=(Z)=>ZK(Z,(J)=>G1(Z,J,PQ(Z))),ps0=(Z)=>ZK(Z,(J)=>a0.cursor(Z.lineBlockAt(J.head).from)),cs0=(Z)=>ZK(Z,(J)=>a0.cursor(Z.lineBlockAt(J.head).to)),OJ0=({state:Z,dispatch:J})=>{return J(eK(Z,{anchor:0})),!0},RJ0=({state:Z,dispatch:J})=>{return J(eK(Z,{anchor:Z.doc.length})),!0},DJ0=({state:Z,dispatch:J})=>{return J(eK(Z,{anchor:Z.selection.main.anchor,head:0})),!0},LJ0=({state:Z,dispatch:J})=>{return J(eK(Z,{anchor:Z.selection.main.anchor,head:Z.doc.length})),!0},ls0=({state:Z,dispatch:J})=>{return J(Z.update({selection:{anchor:0,head:Z.doc.length},userEvent:"select"})),!0},ds0=({state:Z,dispatch:J})=>{let Q=HE(Z).map(({from:K,to:X})=>a0.range(K,Math.min(X+1,Z.doc.length)));return J(Z.update({selection:a0.create(Q),userEvent:"select"})),!0},is0=({state:Z,dispatch:J})=>{let Q=SH(Z.selection,(K)=>{let X=KZ(Z),U=X.resolveStack(K.from,1);if(K.empty){let Y=X.resolveStack(K.from,-1);if(Y.node.from>=U.node.from&&Y.node.to<=U.node.to)U=Y}for(let Y=U;Y;Y=Y.next){let{node:q}=Y;if((q.from<K.from&&q.to>=K.to||q.to>K.to&&q.from<=K.from)&&Y.next)return a0.range(q.to,q.from)}return K});if(Q.eq(Z.selection))return!1;return J(eK(Z,Q)),!0};function dJ0(Z,J){let{state:Q}=Z,K=Q.selection,X=Q.selection.ranges.slice();for(let U of Q.selection.ranges){let Y=Q.doc.lineAt(U.head);if(J?Y.to<Z.state.doc.length:Y.from>0)for(let q=U;;){let W=Z.moveVertically(q,J);if(W.head<Y.from||W.head>Y.to){if(!X.some((G)=>G.head==W.head))X.push(W);break}else if(W.head==q.head)break;else q=W}}if(X.length==K.ranges.length)return!1;return Z.dispatch(eK(Q,a0.create(X,X.length-1))),!0}var ss0=(Z)=>dJ0(Z,!1),rs0=(Z)=>dJ0(Z,!0),ns0=({state:Z,dispatch:J})=>{let Q=Z.selection,K=null;if(Q.ranges.length>1)K=a0.create([Q.main]);else if(!Q.main.empty)K=a0.create([a0.cursor(Q.main.head)]);if(!K)return!1;return J(eK(Z,K)),!0};function BR(Z,J){if(Z.state.readOnly)return!1;let Q="delete.selection",{state:K}=Z,X=K.changeByRange((U)=>{let{from:Y,to:q}=U;if(Y==q){let W=J(U);if(W<Y)Q="delete.backward",W=YE(Z,W,!1);else if(W>Y)Q="delete.forward",W=YE(Z,W,!0);Y=Math.min(Y,W),q=Math.max(q,W)}else Y=YE(Z,Y,!1),q=YE(Z,q,!0);return Y==q?{range:U}:{changes:{from:Y,to:q},range:a0.cursor(Y,Y<U.head?-1:1)}});if(X.changes.empty)return!1;return Z.dispatch(K.update(X,{scrollIntoView:!0,userEvent:Q,effects:Q=="delete.selection"?N8.announce.of(K.phrase("Selection deleted")):void 0})),!0}function YE(Z,J,Q){if(Z instanceof N8)for(let K of Z.state.facet(N8.atomicRanges).map((X)=>X(Z)))K.between(J,J,(X,U)=>{if(X<J&&U>J)J=Q?U:X});return J}var iJ0=(Z,J,Q)=>BR(Z,(K)=>{let X=K.from,{state:U}=Z,Y=U.doc.lineAt(X),q,W;if(Q&&!J&&X>Y.from&&X<Y.from+200&&!/[^ \t]/.test(q=Y.text.slice(0,X-Y.from))){if(q[q.length-1]=="\t")return X-1;let G=cQ(q,U.tabSize),z=G%HR(U)||HR(U);for(let H=0;H<z&&q[q.length-1-H]==" ";H++)X--;W=X}else if(W=vJ(Y.text,X-Y.from,J,J)+Y.from,W==X&&Y.number!=(J?U.doc.lines:1))W+=J?1:-1;else if(!J&&/[\ufe00-\ufe0f]/.test(Y.text.slice(W-Y.from,X-Y.from)))W=vJ(Y.text,W-Y.from,!1,!1)+Y.from;return W}),wx=(Z)=>iJ0(Z,!1,!0);var sJ0=(Z)=>iJ0(Z,!0,!1),rJ0=(Z,J)=>BR(Z,(Q)=>{let K=Q.head,{state:X}=Z,U=X.doc.lineAt(K),Y=X.charCategorizer(K);for(let q=null;;){if(K==(J?U.to:U.from)){if(K==Q.head&&U.number!=(J?X.doc.lines:1))K+=J?1:-1;break}let W=vJ(U.text,K-U.from,J)+U.from,G=U.text.slice(Math.min(K,W)-U.from,Math.max(K,W)-U.from),z=Y(G);if(q!=null&&z!=q)break;if(G!=" "||K!=Q.head)q=z;K=W}return K}),nJ0=(Z)=>rJ0(Z,!1),as0=(Z)=>rJ0(Z,!0);var os0=(Z)=>BR(Z,(J)=>{let Q=Z.lineBlockAt(J.head).to;return J.head<Q?Q:Math.min(Z.state.doc.length,J.head+1)});var ts0=(Z)=>BR(Z,(J)=>{let Q=Z.moveToLineBoundary(J,!1).head;return J.head>Q?Q:Math.max(0,J.head-1)}),es0=(Z)=>BR(Z,(J)=>{let Q=Z.moveToLineBoundary(J,!0).head;return J.head<Q?Q:Math.min(Z.state.doc.length,J.head+1)});var Zr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Z.changeByRange((K)=>{return{changes:{from:K.from,to:K.to,insert:l9.of(["",""])},range:a0.cursor(K.from)}});return J(Z.update(Q,{scrollIntoView:!0,userEvent:"input"})),!0},Jr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Z.changeByRange((K)=>{if(!K.empty||K.from==0||K.from==Z.doc.length)return{range:K};let X=K.from,U=Z.doc.lineAt(X),Y=X==U.from?X-1:vJ(U.text,X-U.from,!1)+U.from,q=X==U.to?X+1:vJ(U.text,X-U.from,!0)+U.from;return{changes:{from:Y,to:q,insert:Z.doc.slice(X,q).append(Z.doc.slice(Y,X))},range:a0.cursor(q)}});if(Q.changes.empty)return!1;return J(Z.update(Q,{scrollIntoView:!0,userEvent:"move.character"})),!0};function HE(Z){let J=[],Q=-1;for(let K of Z.selection.ranges){let X=Z.doc.lineAt(K.from),U=Z.doc.lineAt(K.to);if(!K.empty&&K.to==U.from)U=Z.doc.lineAt(K.to-1);if(Q>=X.number){let Y=J[J.length-1];Y.to=U.to,Y.ranges.push(K)}else J.push({from:X.from,to:U.to,ranges:[K]});Q=U.number+1}return J}function aJ0(Z,J,Q){if(Z.readOnly)return!1;let K=[],X=[];for(let U of HE(Z)){if(Q?U.to==Z.doc.length:U.from==0)continue;let Y=Z.doc.lineAt(Q?U.to+1:U.from-1),q=Y.length+1;if(Q){K.push({from:U.to,to:Y.to},{from:U.from,insert:Y.text+Z.lineBreak});for(let W of U.ranges)X.push(a0.range(Math.min(Z.doc.length,W.anchor+q),Math.min(Z.doc.length,W.head+q)))}else{K.push({from:Y.from,to:U.from},{from:U.to,insert:Z.lineBreak+Y.text});for(let W of U.ranges)X.push(a0.range(W.anchor-q,W.head-q))}}if(!K.length)return!1;return J(Z.update({changes:K,scrollIntoView:!0,selection:a0.create(X,Z.selection.mainIndex),userEvent:"move.line"})),!0}var Qr0=({state:Z,dispatch:J})=>aJ0(Z,J,!1),Kr0=({state:Z,dispatch:J})=>aJ0(Z,J,!0);function oJ0(Z,J,Q){if(Z.readOnly)return!1;let K=[];for(let U of HE(Z))if(Q)K.push({from:U.from,insert:Z.doc.slice(U.from,U.to)+Z.lineBreak});else K.push({from:U.to,insert:Z.lineBreak+Z.doc.slice(U.from,U.to)});let X=Z.changes(K);return J(Z.update({changes:X,selection:Z.selection.map(X,Q?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}var Xr0=({state:Z,dispatch:J})=>oJ0(Z,J,!1),Ur0=({state:Z,dispatch:J})=>oJ0(Z,J,!0),Yr0=(Z)=>{if(Z.state.readOnly)return!1;let{state:J}=Z,Q=J.changes(HE(J).map(({from:X,to:U})=>{if(X>0)X--;else if(U<J.doc.length)U++;return{from:X,to:U}})),K=SH(J.selection,(X)=>{let U=void 0;if(Z.lineWrapping){let Y=Z.lineBlockAt(X.head),q=Z.coordsAtPos(X.head,X.assoc||1);if(q)U=Y.bottom+Z.documentTop-q.bottom+Z.defaultLineHeight/2}return Z.moveVertically(X,!0,U)}).map(Q);return Z.dispatch({changes:Q,selection:K,scrollIntoView:!0,userEvent:"delete.line"}),!0};function qr0(Z,J){if(/\(\)|\[\]|\{\}/.test(Z.sliceDoc(J-1,J+1)))return{from:J,to:J};let Q=KZ(Z).resolveInner(J),K=Q.childBefore(J),X=Q.childAfter(J),U;if(K&&X&&K.to<=J&&X.from>=J&&(U=K.type.prop(J9.closedBy))&&U.indexOf(X.name)>-1&&Z.doc.lineAt(K.to).from==Z.doc.lineAt(X.from).from&&!/\S/.test(Z.sliceDoc(K.to,X.from)))return{from:K.to,to:X.from};return null}var IJ0=tJ0(!1),Wr0=tJ0(!0);function tJ0(Z){return({state:J,dispatch:Q})=>{if(J.readOnly)return!1;let K=J.changeByRange((X)=>{let{from:U,to:Y}=X,q=J.doc.lineAt(U),W=!Z&&U==Y&&qr0(J,U);if(Z)U=Y=(Y<=q.to?q:J.doc.lineAt(Y)).to;let G=new PH(J,{simulateBreak:U,simulateDoubleBreak:!!W}),z=QE(G,U);if(z==null)z=cQ(/^\s*/.exec(J.doc.lineAt(U).text)[0],J.tabSize);while(Y<q.to&&/\s/.test(q.text[Y-q.from]))Y++;if(W)({from:U,to:Y}=W);else if(U>q.from&&U<q.from+100&&!/\S/.test(q.text.slice(0,U)))U=q.from;let H=["",VH(J,z)];if(W)H.push(VH(J,G.lineIndent(q.from,-1)));return{changes:{from:U,to:Y,insert:l9.of(H)},range:a0.cursor(U+1+H[1].length)}});return Q(J.update(K,{scrollIntoView:!0,userEvent:"input"})),!0}}function _x(Z,J){let Q=-1;return Z.changeByRange((K)=>{let X=[];for(let Y=K.from;Y<=K.to;){let q=Z.doc.lineAt(Y);if(q.number>Q&&(K.empty||K.to>q.from))J(q,X,K),Q=q.number;Y=q.to+1}let U=Z.changes(X);return{changes:X,range:a0.range(U.mapPos(K.anchor,1),U.mapPos(K.head,1))}})}var Gr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Object.create(null),K=new PH(Z,{overrideIndentation:(U)=>{let Y=Q[U];return Y==null?-1:Y}}),X=_x(Z,(U,Y,q)=>{let W=QE(K,U.from);if(W==null)return;if(!/\S/.test(U.text))W=0;let G=/^\s*/.exec(U.text)[0],z=VH(Z,W);if(G!=z||q.from<U.from+G.length)Q[U.from]=W,Y.push({from:U.from,to:U.from+G.length,insert:z})});if(!X.changes.empty)J(Z.update(X,{userEvent:"indent"}));return!0},zr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;return J(Z.update(_x(Z,(Q,K)=>{K.push({from:Q.from,insert:Z.facet(W1)})}),{userEvent:"input.indent"})),!0},Hr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;return J(Z.update(_x(Z,(Q,K)=>{let X=/^\s*/.exec(Q.text)[0];if(!X)return;let U=cQ(X,Z.tabSize),Y=0,q=VH(Z,Math.max(0,U-HR(Z)));while(Y<X.length&&Y<q.length&&X.charCodeAt(Y)==q.charCodeAt(Y))Y++;K.push({from:Q.from+Y,to:Q.from+X.length,insert:q.slice(Y)})}),{userEvent:"delete.dedent"})),!0},Fr0=(Z)=>{return Z.setTabFocusMode(),!0};var Mr0=[{key:"Ctrl-b",run:wJ0,shift:hJ0,preventDefault:!0},{key:"Ctrl-f",run:$J0,shift:mJ0},{key:"Ctrl-p",run:fJ0,shift:pJ0},{key:"Ctrl-n",run:vJ0,shift:cJ0},{key:"Ctrl-a",run:$s0,shift:ps0},{key:"Ctrl-e",run:ks0,shift:cs0},{key:"Ctrl-d",run:sJ0},{key:"Ctrl-h",run:wx},{key:"Ctrl-k",run:os0},{key:"Ctrl-Alt-h",run:nJ0},{key:"Ctrl-o",run:Zr0},{key:"Ctrl-t",run:Jr0},{key:"Ctrl-v",run:Tx}],Br0=[{key:"ArrowLeft",run:wJ0,shift:hJ0,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Ns0,shift:vs0,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ts0,shift:us0,preventDefault:!0},{key:"ArrowRight",run:$J0,shift:mJ0,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Es0,shift:xs0,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ws0,shift:gs0,preventDefault:!0},{key:"ArrowUp",run:fJ0,shift:pJ0,preventDefault:!0},{mac:"Cmd-ArrowUp",run:OJ0,shift:DJ0},{mac:"Ctrl-ArrowUp",run:FJ0,shift:MJ0},{key:"ArrowDown",run:vJ0,shift:cJ0,preventDefault:!0},{mac:"Cmd-ArrowDown",run:RJ0,shift:LJ0},{mac:"Ctrl-ArrowDown",run:Tx,shift:BJ0},{key:"PageUp",run:FJ0,shift:MJ0},{key:"PageDown",run:Tx,shift:BJ0},{key:"Home",run:Ss0,shift:ms0,preventDefault:!0},{key:"Mod-Home",run:OJ0,shift:DJ0},{key:"End",run:Cs0,shift:hs0,preventDefault:!0},{key:"Mod-End",run:RJ0,shift:LJ0},{key:"Enter",run:IJ0,shift:IJ0},{key:"Mod-a",run:ls0},{key:"Backspace",run:wx,shift:wx,preventDefault:!0},{key:"Delete",run:sJ0,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:nJ0,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:as0,preventDefault:!0},{mac:"Mod-Backspace",run:ts0,preventDefault:!0},{mac:"Mod-Delete",run:es0,preventDefault:!0}].concat(Mr0.map((Z)=>({mac:Z.key,run:Z.run,shift:Z.shift}))),eJ0=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ps0,shift:bs0},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:js0,shift:ys0},{key:"Alt-ArrowUp",run:Qr0},{key:"Shift-Alt-ArrowUp",run:Xr0},{key:"Alt-ArrowDown",run:Kr0},{key:"Shift-Alt-ArrowDown",run:Ur0},{key:"Mod-Alt-ArrowUp",run:ss0},{key:"Mod-Alt-ArrowDown",run:rs0},{key:"Escape",run:ns0},{key:"Mod-Enter",run:Wr0},{key:"Alt-l",mac:"Ctrl-l",run:ds0},{key:"Mod-i",run:is0,preventDefault:!0},{key:"Mod-[",run:Hr0},{key:"Mod-]",run:zr0},{key:"Mod-Alt-\\",run:Gr0},{key:"Shift-Mod-k",run:Yr0},{key:"Shift-Mod-\\",run:fs0},{key:"Mod-/",run:Xs0},{key:"Alt-A",run:Ys0},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Fr0}].concat(Br0);var Z70=typeof String.prototype.normalize=="function"?(Z)=>Z.normalize("NFKD"):(Z)=>Z;class qG{constructor(Z,J,Q=0,K=Z.length,X,U){this.test=U,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Z.iterRange(Q,K),this.bufferStart=Q,this.normalize=X?(Y)=>X(Z70(Y)):Z70,this.query=this.normalize(J)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return i7(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Z=this.peek();if(Z<0)return this.done=!0,this;let J=vO(Z),Q=this.bufferStart+this.bufferPos;this.bufferPos+=O4(Z);let K=this.normalize(J);if(K.length)for(let X=0,U=Q;;X++){let Y=K.charCodeAt(X),q=this.match(Y,U,this.bufferPos+this.bufferStart);if(X==K.length-1){if(q)return this.value=q,this;break}if(U==Q&&X<J.length&&J.charCodeAt(X)==Y)U++}}}match(Z,J,Q){let K=null;for(let X=0;X<this.matches.length;X+=2){let U=this.matches[X],Y=!1;if(this.query.charCodeAt(U)==Z)if(U==this.query.length-1)K={from:this.matches[X+1],to:Q};else this.matches[X]++,Y=!0;if(!Y)this.matches.splice(X,2),X-=2}if(this.query.charCodeAt(0)==Z)if(this.query.length==1)K={from:J,to:Q};else this.matches.push(1,J);if(K&&this.test&&!this.test(K.from,K.to,this.buffer,this.bufferStart))K=null;return K}}if(typeof Symbol<"u")qG.prototype[Symbol.iterator]=function(){return this};var K70={from:-1,to:-1,match:/.*/.exec("")},xx="gm"+(/x/.unicode==null?"":"u");class bx{constructor(Z,J,Q,K=0,X=Z.length){if(this.text=Z,this.to=X,this.curLine="",this.done=!1,this.value=K70,/\\[sWDnr]|\n|\r|\[\^/.test(J))return new yx(Z,J,Q,K,X);this.re=new RegExp(J,xx+((Q===null||Q===void 0?void 0:Q.ignoreCase)?"i":"")),this.test=Q===null||Q===void 0?void 0:Q.test,this.iter=Z.iter();let U=Z.lineAt(K);this.curLineStart=U.from,this.matchPos=OE(Z,K),this.getLine(this.curLineStart)}getLine(Z){if(this.iter.next(Z),this.iter.lineBreak)this.curLine="";else{if(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){if(this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let Z=this.matchPos-this.curLineStart;;){this.re.lastIndex=Z;let J=this.matchPos<=this.to&&this.re.exec(this.curLine);if(J){let Q=this.curLineStart+J.index,K=Q+J[0].length;if(this.matchPos=OE(this.text,K+(Q==K?1:0)),Q==this.curLineStart+this.curLine.length)this.nextLine();if((Q<K||Q>this.value.to)&&(!this.test||this.test(Q,K,J)))return this.value={from:Q,to:K,match:J},this;Z=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Z=0;else return this.done=!0,this}}}var fx=new WeakMap;class $H{constructor(Z,J){this.from=Z,this.text=J}get to(){return this.from+this.text.length}static get(Z,J,Q){let K=fx.get(Z);if(!K||K.from>=Q||K.to<=J){let Y=new $H(J,Z.sliceString(J,Q));return fx.set(Z,Y),Y}if(K.from==J&&K.to==Q)return K;let{text:X,from:U}=K;if(U>J)X=Z.sliceString(J,U)+X,U=J;if(K.to<Q)X+=Z.sliceString(K.to,Q);return fx.set(Z,new $H(U,X)),new $H(J,X.slice(J-U,Q-U))}}class yx{constructor(Z,J,Q,K,X){this.text=Z,this.to=X,this.done=!1,this.value=K70,this.matchPos=OE(Z,K),this.re=new RegExp(J,xx+((Q===null||Q===void 0?void 0:Q.ignoreCase)?"i":"")),this.test=Q===null||Q===void 0?void 0:Q.test,this.flat=$H.get(Z,K,this.chunkEnd(K+5000))}chunkEnd(Z){return Z>=this.to?this.to:this.text.lineAt(Z).to}next(){for(;;){let Z=this.re.lastIndex=this.matchPos-this.flat.from,J=this.re.exec(this.flat.text);if(J&&!J[0]&&J.index==Z)this.re.lastIndex=Z+1,J=this.re.exec(this.flat.text);if(J){let Q=this.flat.from+J.index,K=Q+J[0].length;if((this.flat.to>=this.to||J.index+J[0].length<=this.flat.text.length-10)&&(!this.test||this.test(Q,K,J)))return this.value={from:Q,to:K,match:J},this.matchPos=OE(this.text,K+(Q==K?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=$H.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol<"u")bx.prototype[Symbol.iterator]=yx.prototype[Symbol.iterator]=function(){return this};function Or0(Z){try{return new RegExp(Z,xx),!0}catch(J){return!1}}function OE(Z,J){if(J>=Z.length)return J;let Q=Z.lineAt(J),K;while(J<Q.to&&(K=Q.text.charCodeAt(J-Q.from))>=56320&&K<57344)J++;return J}var Rr0=(Z)=>{let{state:J}=Z,Q=String(J.doc.lineAt(Z.state.selection.main.head).number),{close:K,result:X}=WZ0(Z,{label:J.phrase("Go to line"),input:{type:"text",name:"line",value:Q},focus:!0,submitLabel:J.phrase("go")});return X.then((U)=>{let Y=U&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(U.elements.line.value);if(!Y){Z.dispatch({effects:K});return}let q=J.doc.lineAt(J.selection.main.head),[,W,G,z,H]=Y,F=z?+z.slice(1):0,M=G?+G:q.number;if(G&&H){let R=M/100;if(W)R=R*(W=="-"?-1:1)+q.number/J.doc.lines;M=Math.round(J.doc.lines*R)}else if(G&&W)M=M*(W=="-"?-1:1)+q.number;let B=J.doc.line(Math.max(1,Math.min(J.doc.lines,M))),O=a0.cursor(B.from+Math.max(0,Math.min(F,B.length)));Z.dispatch({effects:[K,N8.scrollIntoView(O.from,{y:"center"})],selection:O})}),!0},Dr0={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},X70=w8.define({combine(Z){return EQ(Z,Dr0,{highlightWordAroundCursor:(J,Q)=>J||Q,minSelectionLength:Math.min,maxMatches:Math.min})}});function U70(Z){let J=[Er0,Nr0];if(Z)J.push(X70.of(Z));return J}var Lr0=r8.mark({class:"cm-selectionMatch"}),Ir0=r8.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function J70(Z,J,Q,K){return(Q==0||Z(J.sliceDoc(Q-1,Q))!=_Z.Word)&&(K==J.doc.length||Z(J.sliceDoc(K,K+1))!=_Z.Word)}function Ar0(Z,J,Q,K){return Z(J.sliceDoc(Q,Q+1))==_Z.Word&&Z(J.sliceDoc(K-1,K))==_Z.Word}var Nr0=MJ.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.selectionSet||Z.docChanged||Z.viewportChanged)this.decorations=this.getDeco(Z.view)}getDeco(Z){let J=Z.state.facet(X70),{state:Q}=Z,K=Q.selection;if(K.ranges.length>1)return r8.none;let X=K.main,U,Y=null;if(X.empty){if(!J.highlightWordAroundCursor)return r8.none;let W=Q.wordAt(X.head);if(!W)return r8.none;Y=Q.charCategorizer(X.head),U=Q.sliceDoc(W.from,W.to)}else{let W=X.to-X.from;if(W<J.minSelectionLength||W>200)return r8.none;if(J.wholeWords){if(U=Q.sliceDoc(X.from,X.to),Y=Q.charCategorizer(X.head),!(J70(Y,Q,X.from,X.to)&&Ar0(Y,Q,X.from,X.to)))return r8.none}else if(U=Q.sliceDoc(X.from,X.to),!U)return r8.none}let q=[];for(let W of Z.visibleRanges){let G=new qG(Q.doc,U,W.from,W.to);while(!G.next().done){let{from:z,to:H}=G.value;if(!Y||J70(Y,Q,z,H)){if(X.empty&&z<=X.from&&H>=X.to)q.push(Ir0.range(z,H));else if(z>=X.to||H<=X.from)q.push(Lr0.range(z,H));if(q.length>J.maxMatches)return r8.none}}}return r8.set(q)}},{decorations:(Z)=>Z.decorations}),Er0=N8.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Vr0=({state:Z,dispatch:J})=>{let{selection:Q}=Z,K=a0.create(Q.ranges.map((X)=>Z.wordAt(X.head)||a0.cursor(X.head)),Q.mainIndex);if(K.eq(Q))return!1;return J(Z.update({selection:K})),!0};function Pr0(Z,J){let{main:Q,ranges:K}=Z.selection,X=Z.wordAt(Q.head),U=X&&X.from==Q.from&&X.to==Q.to;for(let Y=!1,q=new qG(Z.doc,J,K[K.length-1].to);;)if(q.next(),q.done){if(Y)return null;q=new qG(Z.doc,J,0,Math.max(0,K[K.length-1].from-1)),Y=!0}else{if(Y&&K.some((W)=>W.from==q.value.from))continue;if(U){let W=Z.wordAt(q.value.from);if(!W||W.from!=q.value.from||W.to!=q.value.to)continue}return q.value}}var jr0=({state:Z,dispatch:J})=>{let{ranges:Q}=Z.selection;if(Q.some((U)=>U.from===U.to))return Vr0({state:Z,dispatch:J});let K=Z.sliceDoc(Q[0].from,Q[0].to);if(Z.selection.ranges.some((U)=>Z.sliceDoc(U.from,U.to)!=K))return!1;let X=Pr0(Z,K);if(!X)return!1;return J(Z.update({selection:Z.selection.addRange(a0.range(X.from,X.to),!1),effects:N8.scrollIntoView(X.to)})),!0},kH=w8.define({combine(Z){return EQ(Z,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:(J)=>new M70(J),scrollToMatch:(J)=>N8.scrollIntoView(J)})}});class hx{constructor(Z){this.search=Z.search,this.caseSensitive=!!Z.caseSensitive,this.literal=!!Z.literal,this.regexp=!!Z.regexp,this.replace=Z.replace||"",this.valid=!!this.search&&(!this.regexp||Or0(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!Z.wholeWord,this.test=Z.test}unquote(Z){return this.literal?Z:Z.replace(/\\([nrt\\])/g,(J,Q)=>Q=="n"?`
`:Q=="r"?"\r":Q=="t"?"\t":"\\")}eq(Z){return this.search==Z.search&&this.replace==Z.replace&&this.caseSensitive==Z.caseSensitive&&this.regexp==Z.regexp&&this.wholeWord==Z.wholeWord&&this.test==Z.test}create(){return this.regexp?new q70(this):new Y70(this)}getCursor(Z,J=0,Q){let K=Z.doc?Z:j9.create({doc:Z});if(Q==null)Q=K.doc.length;return this.regexp?wH(this,K,J,Q):TH(this,K,J,Q)}}class mx{constructor(Z){this.spec=Z}}function Cr0(Z,J,Q){return(K,X,U,Y)=>{if(Q&&!Q(K,X,U,Y))return!1;let q=K>=Y&&X<=Y+U.length?U.slice(K-Y,X-Y):J.doc.sliceString(K,X);return Z(q,J,K,X)}}function TH(Z,J,Q,K){let X;if(Z.wholeWord)X=Sr0(J.doc,J.charCategorizer(J.selection.main.head));if(Z.test)X=Cr0(Z.test,J,X);return new qG(J.doc,Z.unquoted,Q,K,Z.caseSensitive?void 0:(U)=>U.toLowerCase(),X)}function Sr0(Z,J){return(Q,K,X,U)=>{if(U>Q||U+X.length<K)U=Math.max(0,Q-2),X=Z.sliceString(U,Math.min(Z.length,K+2));return(J(RE(X,Q-U))!=_Z.Word||J(DE(X,Q-U))!=_Z.Word)&&(J(DE(X,K-U))!=_Z.Word||J(RE(X,K-U))!=_Z.Word)}}class Y70 extends mx{constructor(Z){super(Z)}nextMatch(Z,J,Q){let K=TH(this.spec,Z,Q,Z.doc.length).nextOverlapping();if(K.done){let X=Math.min(Z.doc.length,J+this.spec.unquoted.length);K=TH(this.spec,Z,0,X).nextOverlapping()}return K.done||K.value.from==J&&K.value.to==Q?null:K.value}prevMatchInRange(Z,J,Q){for(let K=Q;;){let X=Math.max(J,K-1e4-this.spec.unquoted.length),U=TH(this.spec,Z,X,K),Y=null;while(!U.nextOverlapping().done)Y=U.value;if(Y)return Y;if(X==J)return null;K-=1e4}}prevMatch(Z,J,Q){let K=this.prevMatchInRange(Z,0,J);if(!K)K=this.prevMatchInRange(Z,Math.max(0,Q-this.spec.unquoted.length),Z.doc.length);return K&&(K.from!=J||K.to!=Q)?K:null}getReplacement(Z){return this.spec.unquote(this.spec.replace)}matchAll(Z,J){let Q=TH(this.spec,Z,0,Z.doc.length),K=[];while(!Q.next().done){if(K.length>=J)return null;K.push(Q.value)}return K}highlight(Z,J,Q,K){let X=TH(this.spec,Z,Math.max(0,J-this.spec.unquoted.length),Math.min(Q+this.spec.unquoted.length,Z.doc.length));while(!X.next().done)K(X.value.from,X.value.to)}}function Tr0(Z,J,Q){return(K,X,U)=>{return(!Q||Q(K,X,U))&&Z(U[0],J,K,X)}}function wH(Z,J,Q,K){let X;if(Z.wholeWord)X=wr0(J.charCategorizer(J.selection.main.head));if(Z.test)X=Tr0(Z.test,J,X);return new bx(J.doc,Z.search,{ignoreCase:!Z.caseSensitive,test:X},Q,K)}function RE(Z,J){return Z.slice(vJ(Z,J,!1),J)}function DE(Z,J){return Z.slice(J,vJ(Z,J))}function wr0(Z){return(J,Q,K)=>!K[0].length||(Z(RE(K.input,K.index))!=_Z.Word||Z(DE(K.input,K.index))!=_Z.Word)&&(Z(DE(K.input,K.index+K[0].length))!=_Z.Word||Z(RE(K.input,K.index+K[0].length))!=_Z.Word)}class q70 extends mx{nextMatch(Z,J,Q){let K=wH(this.spec,Z,Q,Z.doc.length).next();if(K.done)K=wH(this.spec,Z,0,J).next();return K.done?null:K.value}prevMatchInRange(Z,J,Q){for(let K=1;;K++){let X=Math.max(J,Q-K*1e4),U=wH(this.spec,Z,X,Q),Y=null;while(!U.next().done)Y=U.value;if(Y&&(X==J||Y.from>X+10))return Y;if(X==J)return null}}prevMatch(Z,J,Q){return this.prevMatchInRange(Z,0,J)||this.prevMatchInRange(Z,Q,Z.doc.length)}getReplacement(Z){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(J,Q)=>{if(Q=="&")return Z.match[0];if(Q=="$")return"$";for(let K=Q.length;K>0;K--){let X=+Q.slice(0,K);if(X>0&&X<Z.match.length)return Z.match[X]+Q.slice(K)}return J})}matchAll(Z,J){let Q=wH(this.spec,Z,0,Z.doc.length),K=[];while(!Q.next().done){if(K.length>=J)return null;K.push(Q.value)}return K}highlight(Z,J,Q,K){let X=wH(this.spec,Z,Math.max(0,J-250),Math.min(Q+250,Z.doc.length));while(!X.next().done)K(X.value.from,X.value.to)}}var OR=q9.define(),ux=q9.define(),z1=FJ.define({create(Z){return new BE(vx(Z).create(),null)},update(Z,J){for(let Q of J.effects)if(Q.is(OR))Z=new BE(Q.value.create(),Z.panel);else if(Q.is(ux))Z=new BE(Z.query,Q.value?gx:null);return Z},provide:(Z)=>QG.from(Z,(J)=>J.panel)});class BE{constructor(Z,J){this.query=Z,this.panel=J}}var $r0=r8.mark({class:"cm-searchMatch"}),kr0=r8.mark({class:"cm-searchMatch cm-searchMatch-selected"}),_r0=MJ.fromClass(class{constructor(Z){this.view=Z,this.decorations=this.highlight(Z.state.field(z1))}update(Z){let J=Z.state.field(z1);if(J!=Z.startState.field(z1)||Z.docChanged||Z.selectionSet||Z.viewportChanged)this.decorations=this.highlight(J)}highlight({query:Z,panel:J}){if(!J||!Z.spec.valid)return r8.none;let{view:Q}=this,K=new B4;for(let X=0,U=Q.visibleRanges,Y=U.length;X<Y;X++){let{from:q,to:W}=U[X];while(X<Y-1&&W>U[X+1].from-500)W=U[++X].to;Z.highlight(Q.state,q,W,(G,z)=>{let H=Q.state.selection.ranges.some((F)=>F.from==G&&F.to==z);K.add(G,z,H?kr0:$r0)})}return K.finish()}},{decorations:(Z)=>Z.decorations});function RR(Z){return(J)=>{let Q=J.state.field(z1,!1);return Q&&Q.query.spec.valid?Z(J,Q):z70(J)}}var LE=RR((Z,{query:J})=>{let{to:Q}=Z.state.selection.main,K=J.nextMatch(Z.state,Q,Q);if(!K)return!1;let X=a0.single(K.from,K.to),U=Z.state.facet(kH);return Z.dispatch({selection:X,effects:[px(Z,K),U.scrollToMatch(X.main,Z)],userEvent:"select.search"}),G70(Z),!0}),IE=RR((Z,{query:J})=>{let{state:Q}=Z,{from:K}=Q.selection.main,X=J.prevMatch(Q,K,K);if(!X)return!1;let U=a0.single(X.from,X.to),Y=Z.state.facet(kH);return Z.dispatch({selection:U,effects:[px(Z,X),Y.scrollToMatch(U.main,Z)],userEvent:"select.search"}),G70(Z),!0}),fr0=RR((Z,{query:J})=>{let Q=J.matchAll(Z.state,1000);if(!Q||!Q.length)return!1;return Z.dispatch({selection:a0.create(Q.map((K)=>a0.range(K.from,K.to))),userEvent:"select.search.matches"}),!0}),vr0=({state:Z,dispatch:J})=>{let Q=Z.selection;if(Q.ranges.length>1||Q.main.empty)return!1;let{from:K,to:X}=Q.main,U=[],Y=0;for(let q=new qG(Z.doc,Z.sliceDoc(K,X));!q.next().done;){if(U.length>1000)return!1;if(q.value.from==K)Y=U.length;U.push(a0.range(q.value.from,q.value.to))}return J(Z.update({selection:a0.create(U,Y),userEvent:"select.search.matches"})),!0},Q70=RR((Z,{query:J})=>{let{state:Q}=Z,{from:K,to:X}=Q.selection.main;if(Q.readOnly)return!1;let U=J.nextMatch(Q,K,K);if(!U)return!1;let Y=U,q=[],W,G,z=[];if(Y.from==K&&Y.to==X)G=Q.toText(J.getReplacement(Y)),q.push({from:Y.from,to:Y.to,insert:G}),Y=J.nextMatch(Q,Y.from,Y.to),z.push(N8.announce.of(Q.phrase("replaced match on line $",Q.doc.lineAt(K).number)+"."));let H=Z.state.changes(q);if(Y)W=a0.single(Y.from,Y.to).map(H),z.push(px(Z,Y)),z.push(Q.facet(kH).scrollToMatch(W.main,Z));return Z.dispatch({changes:H,selection:W,effects:z,userEvent:"input.replace"}),!0}),xr0=RR((Z,{query:J})=>{if(Z.state.readOnly)return!1;let Q=J.matchAll(Z.state,1e9).map((X)=>{let{from:U,to:Y}=X;return{from:U,to:Y,insert:J.getReplacement(X)}});if(!Q.length)return!1;let K=Z.state.phrase("replaced $ matches",Q.length)+".";return Z.dispatch({changes:Q,effects:N8.announce.of(K),userEvent:"input.replace.all"}),!0});function gx(Z){return Z.state.facet(kH).createPanel(Z)}function vx(Z,J){var Q,K,X,U,Y;let q=Z.selection.main,W=q.empty||q.to>q.from+100?"":Z.sliceDoc(q.from,q.to);if(J&&!W)return J;let G=Z.facet(kH);return new hx({search:((Q=J===null||J===void 0?void 0:J.literal)!==null&&Q!==void 0?Q:G.literal)?W:W.replace(/\n/g,"\\n"),caseSensitive:(K=J===null||J===void 0?void 0:J.caseSensitive)!==null&&K!==void 0?K:G.caseSensitive,literal:(X=J===null||J===void 0?void 0:J.literal)!==null&&X!==void 0?X:G.literal,regexp:(U=J===null||J===void 0?void 0:J.regexp)!==null&&U!==void 0?U:G.regexp,wholeWord:(Y=J===null||J===void 0?void 0:J.wholeWord)!==null&&Y!==void 0?Y:G.wholeWord})}function W70(Z){let J=KR(Z,gx);return J&&J.dom.querySelector("[main-field]")}function G70(Z){let J=W70(Z);if(J&&J==Z.root.activeElement)J.select()}var z70=(Z)=>{let J=Z.state.field(z1,!1);if(J&&J.panel){let Q=W70(Z);if(Q&&Q!=Z.root.activeElement){let K=vx(Z.state,J.query.spec);if(K.valid)Z.dispatch({effects:OR.of(K)});Q.focus(),Q.select()}}else Z.dispatch({effects:[ux.of(!0),J?OR.of(vx(Z.state,J.query.spec)):q9.appendConfig.of(yr0)]});return!0},H70=(Z)=>{let J=Z.state.field(z1,!1);if(!J||!J.panel)return!1;let Q=KR(Z,gx);if(Q&&Q.dom.contains(Z.root.activeElement))Z.focus();return Z.dispatch({effects:ux.of(!1)}),!0},F70=[{key:"Mod-f",run:z70,scope:"editor search-panel"},{key:"F3",run:LE,shift:IE,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:LE,shift:IE,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:H70,scope:"editor search-panel"},{key:"Mod-Shift-l",run:vr0},{key:"Mod-Alt-g",run:Rr0},{key:"Mod-d",run:jr0,preventDefault:!0}];class M70{constructor(Z){this.view=Z;let J=this.query=Z.state.field(z1).query.spec;this.commit=this.commit.bind(this),this.searchField=zZ("input",{value:J.search,placeholder:I4(Z,"Find"),"aria-label":I4(Z,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=zZ("input",{value:J.replace,placeholder:I4(Z,"Replace"),"aria-label":I4(Z,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=zZ("input",{type:"checkbox",name:"case",form:"",checked:J.caseSensitive,onchange:this.commit}),this.reField=zZ("input",{type:"checkbox",name:"re",form:"",checked:J.regexp,onchange:this.commit}),this.wordField=zZ("input",{type:"checkbox",name:"word",form:"",checked:J.wholeWord,onchange:this.commit});function Q(K,X,U){return zZ("button",{class:"cm-button",name:K,onclick:X,type:"button"},U)}this.dom=zZ("div",{onkeydown:(K)=>this.keydown(K),class:"cm-search"},[this.searchField,Q("next",()=>LE(Z),[I4(Z,"next")]),Q("prev",()=>IE(Z),[I4(Z,"previous")]),Q("select",()=>fr0(Z),[I4(Z,"all")]),zZ("label",null,[this.caseField,I4(Z,"match case")]),zZ("label",null,[this.reField,I4(Z,"regexp")]),zZ("label",null,[this.wordField,I4(Z,"by word")]),...Z.state.readOnly?[]:[zZ("br"),this.replaceField,Q("replace",()=>Q70(Z),[I4(Z,"replace")]),Q("replaceAll",()=>xr0(Z),[I4(Z,"replace all")])],zZ("button",{name:"close",onclick:()=>H70(Z),"aria-label":I4(Z,"close"),type:"button"},[""])])}commit(){let Z=new hx({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!Z.eq(this.query))this.query=Z,this.view.dispatch({effects:OR.of(Z)})}keydown(Z){if(c90(this.view,Z,"search-panel"))Z.preventDefault();else if(Z.keyCode==13&&Z.target==this.searchField)Z.preventDefault(),(Z.shiftKey?IE:LE)(this.view);else if(Z.keyCode==13&&Z.target==this.replaceField)Z.preventDefault(),Q70(this.view)}update(Z){for(let J of Z.transactions)for(let Q of J.effects)if(Q.is(OR)&&!Q.value.eq(this.query))this.setQuery(Q.value)}setQuery(Z){this.query=Z,this.searchField.value=Z.search,this.replaceField.value=Z.replace,this.caseField.checked=Z.caseSensitive,this.reField.checked=Z.regexp,this.wordField.checked=Z.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(kH).top}}function I4(Z,J){return Z.state.phrase(J)}var FE=30,ME=/[\s\.,:;?!]/;function px(Z,{from:J,to:Q}){let K=Z.state.doc.lineAt(J),X=Z.state.doc.lineAt(Q).to,U=Math.max(K.from,J-FE),Y=Math.min(X,Q+FE),q=Z.state.sliceDoc(U,Y);if(U!=K.from){for(let W=0;W<FE;W++)if(!ME.test(q[W+1])&&ME.test(q[W])){q=q.slice(W);break}}if(Y!=X){for(let W=q.length-1;W>q.length-FE;W--)if(!ME.test(q[W-1])&&ME.test(q[W])){q=q.slice(0,W);break}}return N8.announce.of(`${Z.state.phrase("current match")}. ${q} ${Z.state.phrase("on line")} ${K.number}.`)}var br0=N8.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),yr0=[z1,C6.low(_r0),br0];class AR{constructor(Z,J,Q,K){this.state=Z,this.pos=J,this.explicit=Q,this.view=K,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(Z){let J=KZ(this.state).resolveInner(this.pos,-1);while(J&&Z.indexOf(J.name)<0)J=J.parent;return J?{from:J.from,to:this.pos,text:this.state.sliceDoc(J.from,this.pos),type:J.type}:null}matchBefore(Z){let J=this.state.doc.lineAt(this.pos),Q=Math.max(J.from,this.pos-250),K=J.text.slice(Q-J.from,this.pos-J.from),X=K.search(V70(Z,!1));return X<0?null:{from:Q+X,to:this.pos,text:K.slice(X)}}get aborted(){return this.abortListeners==null}addEventListener(Z,J,Q){if(Z=="abort"&&this.abortListeners){if(this.abortListeners.push(J),Q&&Q.onDocChange)this.abortOnDocChange=!0}}}function B70(Z){let J=Object.keys(Z).join(""),Q=/\w/.test(J);if(Q)J=J.replace(/\w/g,"");return`[${Q?"\\w":""}${J.replace(/[^\w\s]/g,"\\$&")}]`}function hr0(Z){let J=Object.create(null),Q=Object.create(null);for(let{label:X}of Z){J[X[0]]=!0;for(let U=1;U<X.length;U++)Q[X[U]]=!0}let K=B70(J)+B70(Q)+"*$";return[new RegExp("^"+K),new RegExp(K)]}function sx(Z){let J=Z.map((X)=>typeof X=="string"?{label:X}:X),[Q,K]=J.every((X)=>/^\w+$/.test(X.label))?[/\w*$/,/\w+$/]:hr0(J);return(X)=>{let U=X.matchBefore(K);return U||X.explicit?{from:U?U.from:X.pos,options:J,validFor:Q}:null}}function E70(Z,J){return(Q)=>{for(let K=KZ(Q.state).resolveInner(Q.pos,-1);K;K=K.parent){if(Z.indexOf(K.name)>-1)return null;if(K.type.isTop)break}return J(Q)}}class ix{constructor(Z,J,Q,K){this.completion=Z,this.source=J,this.match=Q,this.score=K}}function GG(Z){return Z.selection.main.from}function V70(Z,J){var Q;let{source:K}=Z,X=J&&K[0]!="^",U=K[K.length-1]!="$";if(!X&&!U)return Z;return new RegExp(`${X?"^":""}(?:${K})${U?"$":""}`,(Q=Z.flags)!==null&&Q!==void 0?Q:Z.ignoreCase?"i":"")}var rx=R4.define();function mr0(Z,J,Q,K){let{main:X}=Z.selection,U=Q-X.from,Y=K-X.from;return{...Z.changeByRange((q)=>{if(q!=X&&Q!=K&&Z.sliceDoc(q.from+U,q.from+Y)!=Z.sliceDoc(Q,K))return{range:q};let W=Z.toText(J);return{changes:{from:q.from+U,to:K==X.from?q.to:q.from+Y,insert:W},range:a0.cursor(q.from+U+W.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var O70=new WeakMap;function ur0(Z){if(!Array.isArray(Z))return Z;let J=O70.get(Z);if(!J)O70.set(Z,J=sx(Z));return J}var NE=q9.define(),DR=q9.define();class P70{constructor(Z){this.pattern=Z,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let J=0;J<Z.length;){let Q=i7(Z,J),K=O4(Q);this.chars.push(Q);let X=Z.slice(J,J+K),U=X.toUpperCase();this.folded.push(i7(U==X?X.toLowerCase():U,0)),J+=K}this.astral=Z.length!=this.chars.length}ret(Z,J){return this.score=Z,this.matched=J,this}match(Z){if(this.pattern.length==0)return this.ret(-100,[]);if(Z.length<this.pattern.length)return null;let{chars:J,folded:Q,any:K,precise:X,byWord:U}=this;if(J.length==1){let D=i7(Z,0),L=O4(D),A=L==Z.length?0:-100;if(D==J[0]);else if(D==Q[0])A+=-200;else return null;return this.ret(A,[0,L])}let Y=Z.indexOf(this.pattern);if(Y==0)return this.ret(Z.length==this.pattern.length?0:-100,[0,this.pattern.length]);let q=J.length,W=0;if(Y<0){for(let D=0,L=Math.min(Z.length,200);D<L&&W<q;){let A=i7(Z,D);if(A==J[W]||A==Q[W])K[W++]=D;D+=O4(A)}if(W<q)return null}let G=0,z=0,H=!1,F=0,M=-1,B=-1,O=/[a-z]/.test(Z),R=!0;for(let D=0,L=Math.min(Z.length,200),A=0;D<L&&z<q;){let V=i7(Z,D);if(Y<0){if(G<q&&V==J[G])X[G++]=D;if(F<q)if(V==J[F]||V==Q[F]){if(F==0)M=D;B=D+1,F++}else F=0}let N,E=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(N=vO(V))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;if(!D||E==1&&O||A==0&&E!=0){if(J[z]==V||Q[z]==V&&(H=!0))U[z++]=D;else if(U.length)R=!1}A=E,D+=O4(V)}if(z==q&&U[0]==0&&R)return this.result(-100+(H?-200:0),U,Z);if(F==q&&M==0)return this.ret(-200-Z.length+(B==Z.length?0:-100),[0,B]);if(Y>-1)return this.ret(-700-Z.length,[Y,Y+this.pattern.length]);if(F==q)return this.ret(-900-Z.length,[M,B]);if(z==q)return this.result(-100+(H?-200:0)+-700+(R?0:-1100),U,Z);return J.length==2?null:this.result((K[0]?-700:0)+-200+-1100,K,Z)}result(Z,J,Q){let K=[],X=0;for(let U of J){let Y=U+(this.astral?O4(i7(Q,U)):1);if(X&&K[X-1]==U)K[X-1]=Y;else K[X++]=U,K[X++]=Y}return this.ret(Z-Q.length,K)}}class j70{constructor(Z){this.pattern=Z,this.matched=[],this.score=0,this.folded=Z.toLowerCase()}match(Z){if(Z.length<this.pattern.length)return null;let J=Z.slice(0,this.pattern.length),Q=J==this.pattern?0:J.toLowerCase()==this.folded?-200:null;if(Q==null)return null;return this.matched=[0,J.length],this.score=Q+(Z.length==this.pattern.length?0:-100),this}}var T7=w8.define({combine(Z){return EQ(Z,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:gr0,filterStrict:!1,compareCompletions:(J,Q)=>(J.sortText||J.label).localeCompare(Q.sortText||Q.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(J,Q)=>J&&Q,closeOnBlur:(J,Q)=>J&&Q,icons:(J,Q)=>J&&Q,tooltipClass:(J,Q)=>(K)=>R70(J(K),Q(K)),optionClass:(J,Q)=>(K)=>R70(J(K),Q(K)),addToOptions:(J,Q)=>J.concat(Q),filterStrict:(J,Q)=>J||Q})}});function R70(Z,J){return Z?J?Z+" "+J:Z:J}function gr0(Z,J,Q,K,X,U){let Y=Z.textDirection==LZ.RTL,q=Y,W=!1,G="top",z,H,F=J.left-X.left,M=X.right-J.right,B=K.right-K.left,O=K.bottom-K.top;if(q&&F<Math.min(B,M))q=!1;else if(!q&&M<Math.min(B,F))q=!0;if(B<=(q?F:M))z=Math.max(X.top,Math.min(Q.top,X.bottom-O))-J.top,H=Math.min(400,q?F:M);else{W=!0,H=Math.min(400,(Y?J.right:X.right-J.left)-30);let L=X.bottom-J.bottom;if(L>=O||L>J.top)z=Q.bottom-J.top;else G="bottom",z=J.bottom-Q.top}let R=(J.bottom-J.top)/U.offsetHeight,D=(J.right-J.left)/U.offsetWidth;return{style:`${G}: ${z/R}px; max-width: ${H/D}px`,class:"cm-completionInfo-"+(W?Y?"left-narrow":"right-narrow":q?"left":"right")}}function pr0(Z){let J=Z.addToOptions.slice();if(Z.icons)J.push({render(Q){let K=document.createElement("div");if(K.classList.add("cm-completionIcon"),Q.type)K.classList.add(...Q.type.split(/\s+/g).map((X)=>"cm-completionIcon-"+X));return K.setAttribute("aria-hidden","true"),K},position:20});return J.push({render(Q,K,X,U){let Y=document.createElement("span");Y.className="cm-completionLabel";let q=Q.displayLabel||Q.label,W=0;for(let G=0;G<U.length;){let z=U[G++],H=U[G++];if(z>W)Y.appendChild(document.createTextNode(q.slice(W,z)));let F=Y.appendChild(document.createElement("span"));F.appendChild(document.createTextNode(q.slice(z,H))),F.className="cm-completionMatchedText",W=H}if(W<q.length)Y.appendChild(document.createTextNode(q.slice(W)));return Y},position:50},{render(Q){if(!Q.detail)return null;let K=document.createElement("span");return K.className="cm-completionDetail",K.textContent=Q.detail,K},position:80}),J.sort((Q,K)=>Q.position-K.position).map((Q)=>Q.render)}function cx(Z,J,Q){if(Z<=Q)return{from:0,to:Z};if(J<0)J=0;if(J<=Z>>1){let X=Math.floor(J/Q);return{from:X*Q,to:(X+1)*Q}}let K=Math.floor((Z-J)/Q);return{from:Z-(K+1)*Q,to:Z-K*Q}}class C70{constructor(Z,J,Q){this.view=Z,this.stateField=J,this.applyCompletion=Q,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:(q)=>this.placeInfo(q),key:this},this.space=null,this.currentClass="";let K=Z.state.field(J),{options:X,selected:U}=K.open,Y=Z.state.facet(T7);this.optionContent=pr0(Y),this.optionClass=Y.optionClass,this.tooltipClass=Y.tooltipClass,this.range=cx(X.length,U,Y.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Z.state),this.dom.addEventListener("mousedown",(q)=>{let{options:W}=Z.state.field(J).open;for(let G=q.target,z;G&&G!=this.dom;G=G.parentNode)if(G.nodeName=="LI"&&(z=/-(\d+)$/.exec(G.id))&&+z[1]<W.length){this.applyCompletion(Z,W[+z[1]]),q.preventDefault();return}}),this.dom.addEventListener("focusout",(q)=>{let W=Z.state.field(this.stateField,!1);if(W&&W.tooltip&&Z.state.facet(T7).closeOnBlur&&q.relatedTarget!=Z.contentDOM)Z.dispatch({effects:DR.of(null)})}),this.showOptions(X,K.id)}mount(){this.updateSel()}showOptions(Z,J){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(Z,J,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(Z){var J;let Q=Z.state.field(this.stateField),K=Z.startState.field(this.stateField);if(this.updateTooltipClass(Z.state),Q!=K){let{options:X,selected:U,disabled:Y}=Q.open;if(!K.open||K.open.options!=X)this.range=cx(X.length,U,Z.state.facet(T7).maxRenderedOptions),this.showOptions(X,Q.id);if(this.updateSel(),Y!=((J=K.open)===null||J===void 0?void 0:J.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Y)}}updateTooltipClass(Z){let J=this.tooltipClass(Z);if(J!=this.currentClass){for(let Q of this.currentClass.split(" "))if(Q)this.dom.classList.remove(Q);for(let Q of J.split(" "))if(Q)this.dom.classList.add(Q);this.currentClass=J}}positioned(Z){if(this.space=Z,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Z=this.view.state.field(this.stateField),J=Z.open;if(J.selected>-1&&J.selected<this.range.from||J.selected>=this.range.to)this.range=cx(J.options.length,J.selected,this.view.state.facet(T7).maxRenderedOptions),this.showOptions(J.options,Z.id);let Q=this.updateSelectedOption(J.selected);if(Q){this.destroyInfo();let{completion:K}=J.options[J.selected],{info:X}=K;if(!X)return;let U=typeof X==="string"?document.createTextNode(X):X(K);if(!U)return;if("then"in U)U.then((Y)=>{if(Y&&this.view.state.field(this.stateField,!1)==Z)this.addInfoPane(Y,K)}).catch((Y)=>r7(this.view.state,Y,"completion info"));else this.addInfoPane(U,K),Q.setAttribute("aria-describedby",this.info.id)}}addInfoPane(Z,J){this.destroyInfo();let Q=this.info=document.createElement("div");if(Q.className="cm-tooltip cm-completionInfo",Q.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),Z.nodeType!=null)Q.appendChild(Z),this.infoDestroy=null;else{let{dom:K,destroy:X}=Z;Q.appendChild(K),this.infoDestroy=X||null}this.dom.appendChild(Q),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Z){let J=null;for(let Q=this.list.firstChild,K=this.range.from;Q;Q=Q.nextSibling,K++)if(Q.nodeName!="LI"||!Q.id)K--;else if(K==Z){if(!Q.hasAttribute("aria-selected"))Q.setAttribute("aria-selected","true"),J=Q}else if(Q.hasAttribute("aria-selected"))Q.removeAttribute("aria-selected"),Q.removeAttribute("aria-describedby");if(J)lr0(this.list,J);return J}measureInfo(){let Z=this.dom.querySelector("[aria-selected]");if(!Z||!this.info)return null;let J=this.dom.getBoundingClientRect(),Q=this.info.getBoundingClientRect(),K=Z.getBoundingClientRect(),X=this.space;if(!X){let U=this.dom.ownerDocument.documentElement;X={left:0,top:0,right:U.clientWidth,bottom:U.clientHeight}}if(K.top>Math.min(X.bottom,J.bottom)-10||K.bottom<Math.max(X.top,J.top)+10)return null;return this.view.state.facet(T7).positionInfo(this.view,J,K,Q,X,this.dom)}placeInfo(Z){if(this.info)if(Z){if(Z.style)this.info.style.cssText=Z.style;this.info.className="cm-tooltip cm-completionInfo "+(Z.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(Z,J,Q){let K=document.createElement("ul");K.id=J,K.setAttribute("role","listbox"),K.setAttribute("aria-expanded","true"),K.setAttribute("aria-label",this.view.state.phrase("Completions")),K.addEventListener("mousedown",(U)=>{if(U.target==K)U.preventDefault()});let X=null;for(let U=Q.from;U<Q.to;U++){let{completion:Y,match:q}=Z[U],{section:W}=Y;if(W){let H=typeof W=="string"?W:W.name;if(H!=X&&(U>Q.from||Q.from==0))if(X=H,typeof W!="string"&&W.header)K.appendChild(W.header(W));else{let F=K.appendChild(document.createElement("completion-section"));F.textContent=H}}let G=K.appendChild(document.createElement("li"));G.id=J+"-"+U,G.setAttribute("role","option");let z=this.optionClass(Y);if(z)G.className=z;for(let H of this.optionContent){let F=H(Y,this.view.state,this.view,q);if(F)G.appendChild(F)}}if(Q.from)K.classList.add("cm-completionListIncompleteTop");if(Q.to<Z.length)K.classList.add("cm-completionListIncompleteBottom");return K}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}function cr0(Z,J){return(Q)=>new C70(Q,Z,J)}function lr0(Z,J){let Q=Z.getBoundingClientRect(),K=J.getBoundingClientRect(),X=Q.height/Z.offsetHeight;if(K.top<Q.top)Z.scrollTop-=(Q.top-K.top)/X;else if(K.bottom>Q.bottom)Z.scrollTop+=(K.bottom-Q.bottom)/X}function D70(Z){return(Z.boost||0)*100+(Z.apply?10:0)+(Z.info?5:0)+(Z.type?1:0)}function dr0(Z,J){let Q=[],K=null,X=null,U=(z)=>{Q.push(z);let{section:H}=z.completion;if(H){if(!K)K=[];let F=typeof H=="string"?H:H.name;if(!K.some((M)=>M.name==F))K.push(typeof H=="string"?{name:F}:H)}},Y=J.facet(T7);for(let z of Z)if(z.hasResult()){let H=z.result.getMatch;if(z.result.filter===!1)for(let F of z.result.options)U(new ix(F,z.source,H?H(F):[],1e9-Q.length));else{let F=J.sliceDoc(z.from,z.to),M,B=Y.filterStrict?new j70(F):new P70(F);for(let O of z.result.options)if(M=B.match(O.label)){let R=!O.displayLabel?M.matched:H?H(O,M.matched):[],D=M.score+(O.boost||0);if(U(new ix(O,z.source,R,D)),typeof O.section=="object"&&O.section.rank==="dynamic"){let{name:L}=O.section;if(!X)X=Object.create(null);X[L]=Math.max(D,X[L]||-1e9)}}}}if(K){let z=Object.create(null),H=0,F=(M,B)=>{return(M.rank==="dynamic"&&B.rank==="dynamic"?X[B.name]-X[M.name]:0)||(typeof M.rank=="number"?M.rank:1e9)-(typeof B.rank=="number"?B.rank:1e9)||(M.name<B.name?-1:1)};for(let M of K.sort(F))H-=1e5,z[M.name]=H;for(let M of Q){let{section:B}=M.completion;if(B)M.score+=z[typeof B=="string"?B:B.name]}}let q=[],W=null,G=Y.compareCompletions;for(let z of Q.sort((H,F)=>F.score-H.score||G(H.completion,F.completion))){let H=z.completion;if(!W||W.label!=H.label||W.detail!=H.detail||W.type!=null&&H.type!=null&&W.type!=H.type||W.apply!=H.apply||W.boost!=H.boost)q.push(z);else if(D70(z.completion)>D70(W))q[q.length-1]=z;W=z.completion}return q}class _H{constructor(Z,J,Q,K,X,U){this.options=Z,this.attrs=J,this.tooltip=Q,this.timestamp=K,this.selected=X,this.disabled=U}setSelected(Z,J){return Z==this.selected||Z>=this.options.length?this:new _H(this.options,L70(J,Z),this.tooltip,this.timestamp,Z,this.disabled)}static build(Z,J,Q,K,X,U){if(K&&!U&&Z.some((W)=>W.isPending))return K.setDisabled();let Y=dr0(Z,J);if(!Y.length)return K&&Z.some((W)=>W.isPending)?K.setDisabled():null;let q=J.facet(T7).selectOnOpen?0:-1;if(K&&K.selected!=q&&K.selected!=-1){let W=K.options[K.selected].completion;for(let G=0;G<Y.length;G++)if(Y[G].completion==W){q=G;break}}return new _H(Y,L70(Q,q),{pos:Z.reduce((W,G)=>G.hasResult()?Math.min(W,G.from):W,1e8),create:or0,above:X.aboveCursor},K?K.timestamp:Date.now(),q,!1)}map(Z){return new _H(this.options,this.attrs,{...this.tooltip,pos:Z.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new _H(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class EE{constructor(Z,J,Q){this.active=Z,this.id=J,this.open=Q}static start(){return new EE(nr0,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(Z){let{state:J}=Z,Q=J.facet(T7),X=(Q.override||J.languageDataAt("autocomplete",GG(J)).map(ur0)).map((q)=>{return(this.active.find((G)=>G.source==q)||new JK(q,this.active.some((G)=>G.state!=0)?1:0)).update(Z,Q)});if(X.length==this.active.length&&X.every((q,W)=>q==this.active[W]))X=this.active;let U=this.open,Y=Z.effects.some((q)=>q.is(nx));if(U&&Z.docChanged)U=U.map(Z.changes);if(Z.selection||X.some((q)=>q.hasResult()&&Z.changes.touchesRange(q.from,q.to))||!ir0(X,this.active)||Y)U=_H.build(X,J,this.id,U,Q,Y);else if(U&&U.disabled&&!X.some((q)=>q.isPending))U=null;if(!U&&X.every((q)=>!q.isPending)&&X.some((q)=>q.hasResult()))X=X.map((q)=>q.hasResult()?new JK(q.source,0):q);for(let q of Z.effects)if(q.is(T70))U=U&&U.setSelected(q.value,this.id);return X==this.active&&U==this.open?this:new EE(X,this.id,U)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?sr0:rr0}}function ir0(Z,J){if(Z==J)return!0;for(let Q=0,K=0;;){while(Q<Z.length&&!Z[Q].hasResult())Q++;while(K<J.length&&!J[K].hasResult())K++;let X=Q==Z.length,U=K==J.length;if(X||U)return X==U;if(Z[Q++].result!=J[K++].result)return!1}}var sr0={"aria-autocomplete":"list"},rr0={};function L70(Z,J){let Q={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":Z};if(J>-1)Q["aria-activedescendant"]=Z+"-"+J;return Q}var nr0=[];function S70(Z,J){if(Z.isUserEvent("input.complete")){let K=Z.annotation(rx);if(K&&J.activateOnCompletion(K))return 12}let Q=Z.isUserEvent("input.type");return Q&&J.activateOnTyping?5:Q?1:Z.isUserEvent("delete.backward")?2:Z.selection?8:Z.docChanged?16:0}class JK{constructor(Z,J,Q=!1){this.source=Z,this.state=J,this.explicit=Q}hasResult(){return!1}get isPending(){return this.state==1}update(Z,J){let Q=S70(Z,J),K=this;if(Q&8||Q&16&&this.touches(Z))K=new JK(K.source,0);if(Q&4&&K.state==0)K=new JK(this.source,1);K=K.updateFor(Z,Q);for(let X of Z.effects)if(X.is(NE))K=new JK(K.source,1,X.value);else if(X.is(DR))K=new JK(K.source,0);else if(X.is(nx)){for(let U of X.value)if(U.source==K.source)K=U}return K}updateFor(Z,J){return this.map(Z.changes)}map(Z){return this}touches(Z){return Z.changes.touchesRange(GG(Z.state))}}class fH extends JK{constructor(Z,J,Q,K,X,U){super(Z,3,J);this.limit=Q,this.result=K,this.from=X,this.to=U}hasResult(){return!0}updateFor(Z,J){var Q;if(!(J&3))return this.map(Z.changes);let K=this.result;if(K.map&&!Z.changes.empty)K=K.map(K,Z.changes);let X=Z.changes.mapPos(this.from),U=Z.changes.mapPos(this.to,1),Y=GG(Z.state);if(Y>U||!K||J&2&&(GG(Z.startState)==this.from||Y<this.limit))return new JK(this.source,J&4?1:0);let q=Z.changes.mapPos(this.limit);if(ar0(K.validFor,Z.state,X,U))return new fH(this.source,this.explicit,q,K,X,U);if(K.update&&(K=K.update(K,X,U,new AR(Z.state,Y,!1))))return new fH(this.source,this.explicit,q,K,K.from,(Q=K.to)!==null&&Q!==void 0?Q:GG(Z.state));return new JK(this.source,1,this.explicit)}map(Z){if(Z.empty)return this;if(!(this.result.map?this.result.map(this.result,Z):this.result))return new JK(this.source,0);return new fH(this.source,this.explicit,Z.mapPos(this.limit),this.result,Z.mapPos(this.from),Z.mapPos(this.to,1))}touches(Z){return Z.changes.touchesRange(this.from,this.to)}}function ar0(Z,J,Q,K){if(!Z)return!1;let X=J.sliceDoc(Q,K);return typeof Z=="function"?Z(X,Q,K,J):V70(Z,!0).test(X)}var nx=q9.define({map(Z,J){return Z.map((Q)=>Q.map(J))}}),T70=q9.define(),_6=FJ.define({create(){return EE.start()},update(Z,J){return Z.update(J)},provide:(Z)=>[QR.from(Z,(J)=>J.tooltip),N8.contentAttributes.from(Z,(J)=>J.attrs)]});function ax(Z,J){let Q=J.completion.apply||J.completion.label,K=Z.state.field(_6).active.find((X)=>X.source==J.source);if(!(K instanceof fH))return!1;if(typeof Q=="string")Z.dispatch({...mr0(Z.state,Q,K.from,K.to),annotations:rx.of(J.completion)});else Q(Z,J.completion,K.from,K.to);return!0}var or0=cr0(_6,ax);function AE(Z,J="option"){return(Q)=>{let K=Q.state.field(_6,!1);if(!K||!K.open||K.open.disabled||Date.now()-K.open.timestamp<Q.state.facet(T7).interactionDelay)return!1;let X=1,U;if(J=="page"&&(U=Zx(Q,K.open.tooltip)))X=Math.max(2,Math.floor(U.dom.offsetHeight/U.dom.querySelector("li").offsetHeight)-1);let{length:Y}=K.open.options,q=K.open.selected>-1?K.open.selected+X*(Z?1:-1):Z?0:Y-1;if(q<0)q=J=="page"?0:Y-1;else if(q>=Y)q=J=="page"?Y-1:0;return Q.dispatch({effects:T70.of(q)}),!0}}var tr0=(Z)=>{let J=Z.state.field(_6,!1);if(Z.state.readOnly||!J||!J.open||J.open.selected<0||J.open.disabled||Date.now()-J.open.timestamp<Z.state.facet(T7).interactionDelay)return!1;return ax(Z,J.open.options[J.open.selected])},lx=(Z)=>{if(!Z.state.field(_6,!1))return!1;return Z.dispatch({effects:NE.of(!0)}),!0},er0=(Z)=>{let J=Z.state.field(_6,!1);if(!J||!J.active.some((Q)=>Q.state!=0))return!1;return Z.dispatch({effects:DR.of(null)}),!0};class w70{constructor(Z,J){this.active=Z,this.context=J,this.time=Date.now(),this.updates=[],this.done=void 0}}var Zn0=50,Jn0=1000,Qn0=MJ.fromClass(class{constructor(Z){this.view=Z,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let J of Z.state.field(_6).active)if(J.isPending)this.startQuery(J)}update(Z){let J=Z.state.field(_6),Q=Z.state.facet(T7);if(!Z.selectionSet&&!Z.docChanged&&Z.startState.field(_6)==J)return;let K=Z.transactions.some((U)=>{let Y=S70(U,Q);return Y&8||(U.selection||U.docChanged)&&!(Y&3)});for(let U=0;U<this.running.length;U++){let Y=this.running[U];if(K||Y.context.abortOnDocChange&&Z.docChanged||Y.updates.length+Z.transactions.length>Zn0&&Date.now()-Y.time>Jn0){for(let q of Y.context.abortListeners)try{q()}catch(W){r7(this.view.state,W)}Y.context.abortListeners=null,this.running.splice(U--,1)}else Y.updates.push(...Z.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(Z.transactions.some((U)=>U.effects.some((Y)=>Y.is(NE))))this.pendingStart=!0;let X=this.pendingStart?50:Q.activateOnTypingDelay;if(this.debounceUpdate=J.active.some((U)=>U.isPending&&!this.running.some((Y)=>Y.active.source==U.source))?setTimeout(()=>this.startUpdate(),X):-1,this.composing!=0){for(let U of Z.transactions)if(U.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&U.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:Z}=this.view,J=Z.field(_6);for(let Q of J.active)if(Q.isPending&&!this.running.some((K)=>K.active.source==Q.source))this.startQuery(Q);if(this.running.length&&J.open&&J.open.disabled)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(T7).updateSyncTime)}startQuery(Z){let{state:J}=this.view,Q=GG(J),K=new AR(J,Q,Z.explicit,this.view),X=new w70(Z,K);this.running.push(X),Promise.resolve(Z.source(K)).then((U)=>{if(!X.context.aborted)X.done=U||null,this.scheduleAccept()},(U)=>{this.view.dispatch({effects:DR.of(null)}),r7(this.view.state,U)})}scheduleAccept(){if(this.running.every((Z)=>Z.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(T7).updateSyncTime)}accept(){var Z;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let J=[],Q=this.view.state.facet(T7),K=this.view.state.field(_6);for(let X=0;X<this.running.length;X++){let U=this.running[X];if(U.done===void 0)continue;if(this.running.splice(X--,1),U.done){let q=GG(U.updates.length?U.updates[0].startState:this.view.state),W=Math.min(q,U.done.from+(U.active.explicit?0:1)),G=new fH(U.active.source,U.active.explicit,W,U.done,U.done.from,(Z=U.done.to)!==null&&Z!==void 0?Z:q);for(let z of U.updates)G=G.update(z,Q);if(G.hasResult()){J.push(G);continue}}let Y=K.active.find((q)=>q.source==U.active.source);if(Y&&Y.isPending)if(U.done==null){let q=new JK(U.active.source,0);for(let W of U.updates)q=q.update(W,Q);if(!q.isPending)J.push(q)}else this.startQuery(Y)}if(J.length||K.open&&K.open.disabled)this.view.dispatch({effects:nx.of(J)})}},{eventHandlers:{blur(Z){let J=this.view.state.field(_6,!1);if(J&&J.tooltip&&this.view.state.facet(T7).closeOnBlur){let Q=J.open&&Zx(this.view,J.open.tooltip);if(!Q||!Q.dom.contains(Z.relatedTarget))setTimeout(()=>this.view.dispatch({effects:DR.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:NE.of(!1)}),20);this.composing=0}}}),Kn0=typeof navigator=="object"&&/Win/.test(navigator.platform),Xn0=C6.highest(N8.domEventHandlers({keydown(Z,J){let Q=J.state.field(_6,!1);if(!Q||!Q.open||Q.open.disabled||Q.open.selected<0||Z.key.length>1||Z.ctrlKey&&!(Kn0&&Z.altKey)||Z.metaKey)return!1;let K=Q.open.options[Q.open.selected],X=Q.active.find((Y)=>Y.source==K.source),U=K.completion.commitCharacters||X.result.commitCharacters;if(U&&U.indexOf(Z.key)>-1)ax(J,K);return!1}})),$70=N8.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11'"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class k70{constructor(Z,J,Q,K){this.field=Z,this.line=J,this.from=Q,this.to=K}}class ox{constructor(Z,J,Q){this.field=Z,this.from=J,this.to=Q}map(Z){let J=Z.mapPos(this.from,-1,M7.TrackDel),Q=Z.mapPos(this.to,1,M7.TrackDel);return J==null||Q==null?null:new ox(this.field,J,Q)}}class tx{constructor(Z,J){this.lines=Z,this.fieldPositions=J}instantiate(Z,J){let Q=[],K=[J],X=Z.doc.lineAt(J),U=/^\s*/.exec(X.text)[0];for(let q of this.lines){if(Q.length){let W=U,G=/^\t*/.exec(q)[0].length;for(let z=0;z<G;z++)W+=Z.facet(W1);K.push(J+W.length-G),q=W+q.slice(G)}Q.push(q),J+=q.length+1}let Y=this.fieldPositions.map((q)=>new ox(q.field,K[q.line]+q.from,K[q.line]+q.to));return{text:Q,ranges:Y}}static parse(Z){let J=[],Q=[],K=[],X;for(let U of Z.split(/\r\n?|\n/)){while(X=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(U)){let Y=X[1]?+X[1]:null,q=X[2]||X[3]||"",W=-1,G=q.replace(/\\[{}]/g,(z)=>z[1]);for(let z=0;z<J.length;z++)if(Y!=null?J[z].seq==Y:G?J[z].name==G:!1)W=z;if(W<0){let z=0;while(z<J.length&&(Y==null||J[z].seq!=null&&J[z].seq<Y))z++;J.splice(z,0,{seq:Y,name:G}),W=z;for(let H of K)if(H.field>=W)H.field++}for(let z of K)if(z.line==Q.length&&z.from>X.index){let H=X[2]?3+(X[1]||"").length:2;z.from-=H,z.to-=H}K.push(new k70(W,Q.length,X.index,X.index+G.length)),U=U.slice(0,X.index)+q+U.slice(X.index+X[0].length)}U=U.replace(/\\([{}])/g,(Y,q,W)=>{for(let G of K)if(G.line==Q.length&&G.from>W)G.from--,G.to--;return q}),Q.push(U)}return new tx(Q,K)}}var Un0=r8.widget({widget:new class extends T6{toDOM(){let Z=document.createElement("span");return Z.className="cm-snippetFieldPosition",Z}ignoreEvent(){return!1}}}),Yn0=r8.mark({class:"cm-snippetField"});class vH{constructor(Z,J){this.ranges=Z,this.active=J,this.deco=r8.set(Z.map((Q)=>(Q.from==Q.to?Un0:Yn0).range(Q.from,Q.to)),!0)}map(Z){let J=[];for(let Q of this.ranges){let K=Q.map(Z);if(!K)return null;J.push(K)}return new vH(J,this.active)}selectionInsideField(Z){return Z.ranges.every((J)=>this.ranges.some((Q)=>Q.field==this.active&&Q.from<=J.from&&Q.to>=J.to))}}var NR=q9.define({map(Z,J){return Z&&Z.map(J)}}),qn0=q9.define(),LR=FJ.define({create(){return null},update(Z,J){for(let Q of J.effects){if(Q.is(NR))return Q.value;if(Q.is(qn0)&&Z)return new vH(Z.ranges,Q.value)}if(Z&&J.docChanged)Z=Z.map(J.changes);if(Z&&J.selection&&!Z.selectionInsideField(J.selection))Z=null;return Z},provide:(Z)=>N8.decorations.from(Z,(J)=>J?J.deco:r8.none)});function ex(Z,J){return a0.create(Z.filter((Q)=>Q.field==J).map((Q)=>a0.range(Q.from,Q.to)))}function Wn0(Z){let J=tx.parse(Z);return(Q,K,X,U)=>{let{text:Y,ranges:q}=J.instantiate(Q.state,X),{main:W}=Q.state.selection,G={changes:{from:X,to:U==W.from?W.to:U,insert:l9.of(Y)},scrollIntoView:!0,annotations:K?[rx.of(K),PJ.userEvent.of("input.complete")]:void 0};if(q.length)G.selection=ex(q,0);if(q.some((z)=>z.field>0)){let z=new vH(q,0),H=G.effects=[NR.of(z)];if(Q.state.field(LR,!1)===void 0)H.push(q9.appendConfig.of([LR,Mn0,Bn0,$70]))}Q.dispatch(Q.state.update(G))}}function _70(Z){return({state:J,dispatch:Q})=>{let K=J.field(LR,!1);if(!K||Z<0&&K.active==0)return!1;let X=K.active+Z,U=Z>0&&!K.ranges.some((Y)=>Y.field==X+Z);return Q(J.update({selection:ex(K.ranges,X),effects:NR.of(U?null:new vH(K.ranges,X)),scrollIntoView:!0})),!0}}var Gn0=({state:Z,dispatch:J})=>{if(!Z.field(LR,!1))return!1;return J(Z.update({effects:NR.of(null)})),!0},zn0=_70(1),Hn0=_70(-1);var Fn0=[{key:"Tab",run:zn0,shift:Hn0},{key:"Escape",run:Gn0}],I70=w8.define({combine(Z){return Z.length?Z[0]:Fn0}}),Mn0=C6.highest(J1.compute([I70],(Z)=>Z.facet(I70)));function iQ(Z,J){return{...J,apply:Wn0(Z)}}var Bn0=N8.domEventHandlers({mousedown(Z,J){let Q=J.state.field(LR,!1),K;if(!Q||(K=J.posAtCoords({x:Z.clientX,y:Z.clientY}))==null)return!1;let X=Q.ranges.find((U)=>U.from<=K&&U.to>=K);if(!X||X.field==Q.active)return!1;return J.dispatch({selection:ex(Q.ranges,X.field),effects:NR.of(Q.ranges.some((U)=>U.field>X.field)?new vH(Q.ranges,X.field):null),scrollIntoView:!0}),!0}});var IR={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},WG=q9.define({map(Z,J){let Q=J.mapPos(Z,-1,M7.TrackAfter);return Q==null?void 0:Q}}),Zb=new class extends dK{};Zb.startSide=1;Zb.endSide=-1;var f70=FJ.define({create(){return E9.empty},update(Z,J){if(Z=Z.map(J.changes),J.selection){let Q=J.state.doc.lineAt(J.selection.main.head);Z=Z.update({filter:(K)=>K>=Q.from&&K<=Q.to})}for(let Q of J.effects)if(Q.is(WG))Z=Z.update({add:[Zb.range(Q.value,Q.value+1)]});return Z}});function v70(){return[Rn0,f70]}var dx="()[]{}<>";function x70(Z){for(let J=0;J<dx.length;J+=2)if(dx.charCodeAt(J)==Z)return dx.charAt(J+1);return vO(Z<128?Z:Z+1)}function b70(Z,J){return Z.languageDataAt("closeBrackets",J)[0]||IR}var On0=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Rn0=N8.inputHandler.of((Z,J,Q,K)=>{if((On0?Z.composing:Z.compositionStarted)||Z.state.readOnly)return!1;let X=Z.state.selection.main;if(K.length>2||K.length==2&&O4(i7(K,0))==1||J!=X.from||Q!=X.to)return!1;let U=Ln0(Z.state,K);if(!U)return!1;return Z.dispatch(U),!0}),Dn0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let K=b70(Z,Z.selection.main.head).brackets||IR.brackets,X=null,U=Z.changeByRange((Y)=>{if(Y.empty){let q=In0(Z.doc,Y.head);for(let W of K)if(W==q&&VE(Z.doc,Y.head)==x70(i7(W,0)))return{changes:{from:Y.head-W.length,to:Y.head+W.length},range:a0.cursor(Y.head-W.length)}}return{range:X=Y}});if(!X)J(Z.update(U,{scrollIntoView:!0,userEvent:"delete.backward"}));return!X},y70=[{key:"Backspace",run:Dn0}];function Ln0(Z,J){let Q=b70(Z,Z.selection.main.head),K=Q.brackets||IR.brackets;for(let X of K){let U=x70(i7(X,0));if(J==X)return U==X?En0(Z,X,K.indexOf(X+X+X)>-1,Q):An0(Z,X,U,Q.before||IR.before);if(J==U&&h70(Z,Z.selection.main.from))return Nn0(Z,X,U)}return null}function h70(Z,J){let Q=!1;return Z.field(f70).between(0,Z.doc.length,(K)=>{if(K==J)Q=!0}),Q}function VE(Z,J){let Q=Z.sliceString(J,J+2);return Q.slice(0,O4(i7(Q,0)))}function In0(Z,J){let Q=Z.sliceString(J-2,J);return O4(i7(Q,0))==Q.length?Q:Q.slice(1)}function An0(Z,J,Q,K){let X=null,U=Z.changeByRange((Y)=>{if(!Y.empty)return{changes:[{insert:J,from:Y.from},{insert:Q,from:Y.to}],effects:WG.of(Y.to+J.length),range:a0.range(Y.anchor+J.length,Y.head+J.length)};let q=VE(Z.doc,Y.head);if(!q||/\s/.test(q)||K.indexOf(q)>-1)return{changes:{insert:J+Q,from:Y.head},effects:WG.of(Y.head+J.length),range:a0.cursor(Y.head+J.length)};return{range:X=Y}});return X?null:Z.update(U,{scrollIntoView:!0,userEvent:"input.type"})}function Nn0(Z,J,Q){let K=null,X=Z.changeByRange((U)=>{if(U.empty&&VE(Z.doc,U.head)==Q)return{changes:{from:U.head,to:U.head+Q.length,insert:Q},range:a0.cursor(U.head+Q.length)};return K={range:U}});return K?null:Z.update(X,{scrollIntoView:!0,userEvent:"input.type"})}function En0(Z,J,Q,K){let X=K.stringPrefixes||IR.stringPrefixes,U=null,Y=Z.changeByRange((q)=>{if(!q.empty)return{changes:[{insert:J,from:q.from},{insert:J,from:q.to}],effects:WG.of(q.to+J.length),range:a0.range(q.anchor+J.length,q.head+J.length)};let W=q.head,G=VE(Z.doc,W),z;if(G==J){if(A70(Z,W))return{changes:{insert:J+J,from:W},effects:WG.of(W+J.length),range:a0.cursor(W+J.length)};else if(h70(Z,W)){let F=Q&&Z.sliceDoc(W,W+J.length*3)==J+J+J?J+J+J:J;return{changes:{from:W,to:W+F.length,insert:F},range:a0.cursor(W+F.length)}}}else if(Q&&Z.sliceDoc(W-2*J.length,W)==J+J&&(z=N70(Z,W-2*J.length,X))>-1&&A70(Z,z))return{changes:{insert:J+J+J+J,from:W},effects:WG.of(W+J.length),range:a0.cursor(W+J.length)};else if(Z.charCategorizer(W)(G)!=_Z.Word){if(N70(Z,W,X)>-1&&!Vn0(Z,W,J,X))return{changes:{insert:J+J,from:W},effects:WG.of(W+J.length),range:a0.cursor(W+J.length)}}return{range:U=q}});return U?null:Z.update(Y,{scrollIntoView:!0,userEvent:"input.type"})}function A70(Z,J){let Q=KZ(Z).resolveInner(J+1);return Q.parent&&Q.from==J}function Vn0(Z,J,Q,K){let X=KZ(Z).resolveInner(J,-1),U=K.reduce((Y,q)=>Math.max(Y,q.length),0);for(let Y=0;Y<5;Y++){let q=Z.sliceDoc(X.from,Math.min(X.to,X.from+Q.length+U)),W=q.indexOf(Q);if(!W||W>-1&&K.indexOf(q.slice(0,W))>-1){let z=X.firstChild;while(z&&z.from==X.from&&z.to-z.from>Q.length+W){if(Z.sliceDoc(z.to-Q.length,z.to)==Q)return!1;z=z.firstChild}return!0}let G=X.to==J&&X.parent;if(!G)break;X=G}return!1}function N70(Z,J,Q){let K=Z.charCategorizer(J);if(K(Z.sliceDoc(J-1,J))!=_Z.Word)return J;for(let X of Q){let U=J-X.length;if(Z.sliceDoc(U,J)==X&&K(Z.sliceDoc(U-1,U))!=_Z.Word)return U}return-1}function m70(Z={}){return[Xn0,_6,T7.of(Z),Qn0,Pn0,$70]}var Jb=[{key:"Ctrl-Space",run:lx},{mac:"Alt-`",run:lx},{mac:"Alt-i",run:lx},{key:"Escape",run:er0},{key:"ArrowDown",run:AE(!0)},{key:"ArrowUp",run:AE(!1)},{key:"PageDown",run:AE(!0,"page")},{key:"PageUp",run:AE(!1,"page")},{key:"Enter",run:tr0}],Pn0=C6.highest(J1.computeN([T7],(Z)=>Z.facet(T7).defaultKeymap?[Jb]:[]));class Qb{constructor(Z,J,Q){this.from=Z,this.to=J,this.diagnostic=Q}}class zG{constructor(Z,J,Q){this.diagnostics=Z,this.panel=J,this.selected=Q}static init(Z,J,Q){let K=Q.facet(ER).markerFilter;if(K)Z=K(Z,Q);let X=Z.slice().sort((F,M)=>F.from-M.from||F.to-M.to),U=new B4,Y=[],q=0,W=Q.doc.iter(),G=0,z=Q.doc.length;for(let F=0;;){let M=F==X.length?null:X[F];if(!M&&!Y.length)break;let B,O;if(Y.length)B=q,O=Y.reduce((L,A)=>Math.min(L,A.to),M&&M.from>B?M.from:1e8);else{if(B=M.from,B>z)break;O=M.to,Y.push(M),F++}while(F<X.length){let L=X[F];if(L.from==B&&(L.to>L.from||L.to==B))Y.push(L),F++,O=Math.min(L.to,O);else{O=Math.min(L.from,O);break}}O=Math.min(O,z);let R=!1;if(Y.some((L)=>L.from==B&&(L.to==O||O==z))){if(R=B==O,!R&&O-B<10){let L=B-(G+W.value.length);if(L>0)W.next(L),G=B;for(let A=B;;){if(A>=O){R=!0;break}if(!W.lineBreak&&G+W.value.length>A)break;A=G+W.value.length,G+=W.value.length,W.next()}}}let D=xn0(Y);if(R)U.add(B,B,r8.widget({widget:new s70(D),diagnostics:Y.slice()}));else{let L=Y.reduce((A,V)=>V.markClass?A+" "+V.markClass:A,"");U.add(B,O,r8.mark({class:"cm-lintRange cm-lintRange-"+D+L,diagnostics:Y.slice(),inclusiveEnd:Y.some((A)=>A.to>O)}))}if(q=O,q==z)break;for(let L=0;L<Y.length;L++)if(Y[L].to<=q)Y.splice(L--,1)}let H=U.finish();return new zG(H,J,xH(H))}}function xH(Z,J=null,Q=0){let K=null;return Z.between(Q,1e9,(X,U,{spec:Y})=>{if(J&&Y.diagnostics.indexOf(J)<0)return;if(!K)K=new Qb(X,U,J||Y.diagnostics[0]);else if(Y.diagnostics.indexOf(K.diagnostic)<0)return!1;else K=new Qb(K.from,U,K.diagnostic)}),K}function jn0(Z,J){let Q=J.pos,K=J.end||Q,X=Z.state.facet(ER).hideOn(Z,Q,K);if(X!=null)return X;let U=Z.startState.doc.lineAt(J.pos);return!!(Z.effects.some((Y)=>Y.is(p70))||Z.changes.touchesRange(U.from,Math.max(U.to,K)))}function Cn0(Z,J){return Z.field(A4,!1)?J:J.concat(q9.appendConfig.of(bn0))}var p70=q9.define(),Xb=q9.define(),c70=q9.define(),A4=FJ.define({create(){return new zG(r8.none,null,null)},update(Z,J){if(J.docChanged&&Z.diagnostics.size){let Q=Z.diagnostics.map(J.changes),K=null,X=Z.panel;if(Z.selected){let U=J.changes.mapPos(Z.selected.from,1);K=xH(Q,Z.selected.diagnostic,U)||xH(Q,null,U)}if(!Q.size&&X&&J.state.facet(ER).autoPanel)X=null;Z=new zG(Q,X,K)}for(let Q of J.effects)if(Q.is(p70)){let K=!J.state.facet(ER).autoPanel?Z.panel:Q.value.length?VR.open:null;Z=zG.init(Q.value,K,J.state)}else if(Q.is(Xb))Z=new zG(Z.diagnostics,Q.value?VR.open:null,Z.selected);else if(Q.is(c70))Z=new zG(Z.diagnostics,Z.panel,Q.value);return Z},provide:(Z)=>[QG.from(Z,(J)=>J.panel),N8.decorations.from(Z,(J)=>J.diagnostics)]});var Sn0=r8.mark({class:"cm-lintRange cm-lintRange-active"});function Tn0(Z,J,Q){let{diagnostics:K}=Z.state.field(A4),X,U=-1,Y=-1;K.between(J-(Q<0?1:0),J+(Q>0?1:0),(W,G,{spec:z})=>{if(J>=W&&J<=G&&(W==G||(J>W||Q>0)&&(J<G||Q<0)))return X=z.diagnostics,U=W,Y=G,!1});let q=Z.state.facet(ER).tooltipFilter;if(X&&q)X=q(X,Z.state);if(!X)return null;return{pos:U,end:Y,above:Z.state.doc.lineAt(U).to<Y,create(){return{dom:wn0(Z,X)}}}}function wn0(Z,J){return zZ("ul",{class:"cm-tooltip-lint"},J.map((Q)=>i70(Z,Q,!1)))}var $n0=(Z)=>{let J=Z.state.field(A4,!1);if(!J||!J.panel)Z.dispatch({effects:Cn0(Z.state,[Xb.of(!0)])});let Q=KR(Z,VR.open);if(Q)Q.dom.querySelector(".cm-panel-lint ul").focus();return!0},u70=(Z)=>{let J=Z.state.field(A4,!1);if(!J||!J.panel)return!1;return Z.dispatch({effects:Xb.of(!1)}),!0},kn0=(Z)=>{let J=Z.state.field(A4,!1);if(!J)return!1;let Q=Z.state.selection.main,K=J.diagnostics.iter(Q.to+1);if(!K.value){if(K=J.diagnostics.iter(0),!K.value||K.from==Q.from&&K.to==Q.to)return!1}return Z.dispatch({selection:{anchor:K.from,head:K.to},scrollIntoView:!0}),!0};var l70=[{key:"Mod-Shift-m",run:$n0,preventDefault:!0},{key:"F8",run:kn0}];var ER=w8.define({combine(Z){return{sources:Z.map((J)=>J.source).filter((J)=>J!=null),...EQ(Z.map((J)=>J.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:g70,tooltipFilter:g70,needsRefresh:(J,Q)=>!J?Q:!Q?J:(K)=>J(K)||Q(K),hideOn:(J,Q)=>!J?Q:!Q?J:(K,X,U)=>J(K,X,U)||Q(K,X,U),autoPanel:(J,Q)=>J||Q})}}});function g70(Z,J){return!Z?J:!J?Z:(Q,K)=>J(Z(Q,K),K)}function d70(Z){let J=[];if(Z)Z:for(let{name:Q}of Z){for(let K=0;K<Q.length;K++){let X=Q[K];if(/[a-zA-Z]/.test(X)&&!J.some((U)=>U.toLowerCase()==X.toLowerCase())){J.push(X);continue Z}}J.push("")}return J}function i70(Z,J,Q){var K;let X=Q?d70(J.actions):[];return zZ("li",{class:"cm-diagnostic cm-diagnostic-"+J.severity},zZ("span",{class:"cm-diagnosticText"},J.renderMessage?J.renderMessage(Z):J.message),(K=J.actions)===null||K===void 0?void 0:K.map((U,Y)=>{let q=!1,W=(M)=>{if(M.preventDefault(),q)return;q=!0;let B=xH(Z.state.field(A4).diagnostics,J);if(B)U.apply(Z,B.from,B.to)},{name:G}=U,z=X[Y]?G.indexOf(X[Y]):-1,H=z<0?G:[G.slice(0,z),zZ("u",G.slice(z,z+1)),G.slice(z+1)],F=U.markClass?" "+U.markClass:"";return zZ("button",{type:"button",class:"cm-diagnosticAction"+F,onclick:W,onmousedown:W,"aria-label":` Action: ${G}${z<0?"":` (access key "${X[Y]})"`}.`},H)}),J.source&&zZ("div",{class:"cm-diagnosticSource"},J.source))}class s70 extends T6{constructor(Z){super();this.sev=Z}eq(Z){return Z.sev==this.sev}toDOM(){return zZ("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Kb{constructor(Z,J){this.diagnostic=J,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=i70(Z,J,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class VR{constructor(Z){this.view=Z,this.items=[];let J=(K)=>{if(K.ctrlKey||K.altKey||K.metaKey)return;if(K.keyCode==27)u70(this.view),this.view.focus();else if(K.keyCode==38||K.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(K.keyCode==40||K.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(K.keyCode==36)this.moveSelection(0);else if(K.keyCode==35)this.moveSelection(this.items.length-1);else if(K.keyCode==13)this.view.focus();else if(K.keyCode>=65&&K.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:X}=this.items[this.selectedIndex],U=d70(X.actions);for(let Y=0;Y<U.length;Y++)if(U[Y].toUpperCase().charCodeAt(0)==K.keyCode){let q=xH(this.view.state.field(A4).diagnostics,X);if(q)X.actions[Y].apply(Z,q.from,q.to)}}else return;K.preventDefault()},Q=(K)=>{for(let X=0;X<this.items.length;X++)if(this.items[X].dom.contains(K.target))this.moveSelection(X)};this.list=zZ("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:J,onclick:Q}),this.dom=zZ("div",{class:"cm-panel-lint"},this.list,zZ("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>u70(this.view)},"")),this.update()}get selectedIndex(){let Z=this.view.state.field(A4).selected;if(!Z)return-1;for(let J=0;J<this.items.length;J++)if(this.items[J].diagnostic==Z.diagnostic)return J;return-1}update(){let{diagnostics:Z,selected:J}=this.view.state.field(A4),Q=0,K=!1,X=null,U=new Set;Z.between(0,this.view.state.doc.length,(Y,q,{spec:W})=>{for(let G of W.diagnostics){if(U.has(G))continue;U.add(G);let z=-1,H;for(let F=Q;F<this.items.length;F++)if(this.items[F].diagnostic==G){z=F;break}if(z<0)H=new Kb(this.view,G),this.items.splice(Q,0,H),K=!0;else if(H=this.items[z],z>Q)this.items.splice(Q,z-Q),K=!0;if(J&&H.diagnostic==J.diagnostic){if(!H.dom.hasAttribute("aria-selected"))H.dom.setAttribute("aria-selected","true"),X=H}else if(H.dom.hasAttribute("aria-selected"))H.dom.removeAttribute("aria-selected");Q++}});while(Q<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0))K=!0,this.items.pop();if(this.items.length==0)this.items.push(new Kb(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),K=!0;if(X)this.list.setAttribute("aria-activedescendant",X.id),this.view.requestMeasure({key:this,read:()=>({sel:X.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Y,panel:q})=>{let W=q.height/this.list.offsetHeight;if(Y.top<q.top)this.list.scrollTop-=(q.top-Y.top)/W;else if(Y.bottom>q.bottom)this.list.scrollTop+=(Y.bottom-q.bottom)/W}});else if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(K)this.sync()}sync(){let Z=this.list.firstChild;function J(){let Q=Z;Z=Q.nextSibling,Q.remove()}for(let Q of this.items)if(Q.dom.parentNode==this.list){while(Z!=Q.dom)J();Z=Q.dom.nextSibling}else this.list.insertBefore(Q.dom,Z);while(Z)J()}moveSelection(Z){if(this.selectedIndex<0)return;let J=this.view.state.field(A4),Q=xH(J.diagnostics,this.items[Z].diagnostic);if(!Q)return;this.view.dispatch({selection:{anchor:Q.from,head:Q.to},scrollIntoView:!0,effects:c70.of(Q)})}static open(Z){return new VR(Z)}}function _n0(Z,J='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${J}>${encodeURIComponent(Z)}</svg>')`}function PE(Z){return _n0(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${Z}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var fn0=N8.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:PE("#d11")},".cm-lintRange-warning":{backgroundImage:PE("orange")},".cm-lintRange-info":{backgroundImage:PE("#999")},".cm-lintRange-hint":{backgroundImage:PE("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function vn0(Z){return Z=="error"?4:Z=="warning"?3:Z=="info"?2:1}function xn0(Z){let J="hint",Q=1;for(let K of Z){let X=vn0(K.severity);if(X>Q)Q=X,J=K.severity}return J}var bn0=[A4,N8.decorations.compute([A4],(Z)=>{let{selected:J,panel:Q}=Z.field(A4);return!J||!Q||J.from==J.to?r8.none:r8.set([Sn0.range(J.from,J.to)])}),YZ0(Tn0,{hideOn:jn0}),fn0];var r70=(()=>[MZ0(),BZ0(),e90(),VJ0(),XJ0(),r90(),o90(),j9.allowMultipleSelections.of(!0),nZ0(),UE(qJ0,{fallback:!0}),HJ0(),v70(),m70(),KZ0(),XZ0(),QZ0(),U70(),J1.of([...y70,...eJ0,...F70,...SJ0,...ZJ0,...Jb,...l70])])();class SE{static create(Z,J,Q,K,X){let U=K+(K<<8)+Z+(J<<4)|0;return new SE(Z,J,Q,U,X,[],[])}constructor(Z,J,Q,K,X,U,Y){this.type=Z,this.value=J,this.from=Q,this.hash=K,this.end=X,this.children=U,this.positions=Y,this.hashProp=[[J9.contextHash,K]]}addChild(Z,J){if(Z.prop(J9.contextHash)!=this.hash)Z=new ZZ(Z.type,Z.children,Z.positions,Z.length,this.hashProp);this.children.push(Z),this.positions.push(J)}toTree(Z,J=this.end){let Q=this.children.length-1;if(Q>=0)J=Math.max(J,this.positions[Q]+this.children[Q].length+this.from);return new ZZ(Z.types[this.type],this.children,this.positions,J-this.from).balance({makeTree:(K,X,U)=>new ZZ(xJ.none,K,X,U,this.hashProp)})}}var L8;(function(Z){Z[Z.Document=1]="Document",Z[Z.CodeBlock=2]="CodeBlock",Z[Z.FencedCode=3]="FencedCode",Z[Z.Blockquote=4]="Blockquote",Z[Z.HorizontalRule=5]="HorizontalRule",Z[Z.BulletList=6]="BulletList",Z[Z.OrderedList=7]="OrderedList",Z[Z.ListItem=8]="ListItem",Z[Z.ATXHeading1=9]="ATXHeading1",Z[Z.ATXHeading2=10]="ATXHeading2",Z[Z.ATXHeading3=11]="ATXHeading3",Z[Z.ATXHeading4=12]="ATXHeading4",Z[Z.ATXHeading5=13]="ATXHeading5",Z[Z.ATXHeading6=14]="ATXHeading6",Z[Z.SetextHeading1=15]="SetextHeading1",Z[Z.SetextHeading2=16]="SetextHeading2",Z[Z.HTMLBlock=17]="HTMLBlock",Z[Z.LinkReference=18]="LinkReference",Z[Z.Paragraph=19]="Paragraph",Z[Z.CommentBlock=20]="CommentBlock",Z[Z.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",Z[Z.Escape=22]="Escape",Z[Z.Entity=23]="Entity",Z[Z.HardBreak=24]="HardBreak",Z[Z.Emphasis=25]="Emphasis",Z[Z.StrongEmphasis=26]="StrongEmphasis",Z[Z.Link=27]="Link",Z[Z.Image=28]="Image",Z[Z.InlineCode=29]="InlineCode",Z[Z.HTMLTag=30]="HTMLTag",Z[Z.Comment=31]="Comment",Z[Z.ProcessingInstruction=32]="ProcessingInstruction",Z[Z.Autolink=33]="Autolink",Z[Z.HeaderMark=34]="HeaderMark",Z[Z.QuoteMark=35]="QuoteMark",Z[Z.ListMark=36]="ListMark",Z[Z.LinkMark=37]="LinkMark",Z[Z.EmphasisMark=38]="EmphasisMark",Z[Z.CodeMark=39]="CodeMark",Z[Z.CodeText=40]="CodeText",Z[Z.CodeInfo=41]="CodeInfo",Z[Z.LinkTitle=42]="LinkTitle",Z[Z.LinkLabel=43]="LinkLabel",Z[Z.URL=44]="URL"})(L8||(L8={}));class YQ0{constructor(Z,J){this.start=Z,this.content=J,this.marks=[],this.parsers=[]}}class qQ0{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){if(this.basePos>this.pos)this.forwardInner()}forwardInner(){let Z=this.skipSpace(this.basePos);this.indent=this.countIndent(Z,this.pos,this.indent),this.pos=Z,this.next=Z==this.text.length?-1:this.text.charCodeAt(Z)}skipSpace(Z){return jR(this.text,Z)}reset(Z){this.text=Z,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;while(this.markers.length)this.markers.pop()}moveBase(Z){this.basePos=Z,this.baseIndent=this.countIndent(Z,this.pos,this.indent)}moveBaseColumn(Z){this.baseIndent=Z,this.basePos=this.findColumn(Z)}addMarker(Z){this.markers.push(Z)}countIndent(Z,J=0,Q=0){for(let K=J;K<Z;K++)Q+=this.text.charCodeAt(K)==9?4-Q%4:1;return Q}findColumn(Z){let J=0;for(let Q=0;J<this.text.length&&Q<Z;J++)Q+=this.text.charCodeAt(J)==9?4-Q%4:1;return J}scrub(){if(!this.baseIndent)return this.text;let Z="";for(let J=0;J<this.basePos;J++)Z+=" ";return Z+this.text.slice(this.basePos)}}function n70(Z,J,Q){if(Q.pos==Q.text.length||Z!=J.block&&Q.indent>=J.stack[Q.depth+1].value+Q.baseIndent)return!0;if(Q.indent>=Q.baseIndent+4)return!1;let K=(Z.type==L8.OrderedList?Bb:Mb)(Q,J,!1);return K>0&&(Z.type!=L8.BulletList||Fb(Q,J,!1)<0)&&Q.text.charCodeAt(Q.pos+K-1)==Z.value}var WQ0={[L8.Blockquote](Z,J,Q){if(Q.next!=62)return!1;return Q.markers.push(JZ(L8.QuoteMark,J.lineStart+Q.pos,J.lineStart+Q.pos+1)),Q.moveBase(Q.pos+(QK(Q.text.charCodeAt(Q.pos+1))?2:1)),Z.end=J.lineStart+Q.text.length,!0},[L8.ListItem](Z,J,Q){if(Q.indent<Q.baseIndent+Z.value&&Q.next>-1)return!1;return Q.moveBaseColumn(Q.baseIndent+Z.value),!0},[L8.OrderedList]:n70,[L8.BulletList]:n70,[L8.Document](){return!0}};function QK(Z){return Z==32||Z==9||Z==10||Z==13}function jR(Z,J=0){while(J<Z.length&&QK(Z.charCodeAt(J)))J++;return J}function a70(Z,J,Q){while(J>Q&&QK(Z.charCodeAt(J-1)))J--;return J}function GQ0(Z){if(Z.next!=96&&Z.next!=126)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==Z.next)J++;if(J<Z.pos+3)return-1;if(Z.next==96){for(let Q=J;Q<Z.text.length;Q++)if(Z.text.charCodeAt(Q)==96)return-1}return J}function zQ0(Z){return Z.next!=62?-1:Z.text.charCodeAt(Z.pos+1)==32?2:1}function Fb(Z,J,Q){if(Z.next!=42&&Z.next!=45&&Z.next!=95)return-1;let K=1;for(let X=Z.pos+1;X<Z.text.length;X++){let U=Z.text.charCodeAt(X);if(U==Z.next)K++;else if(!QK(U))return-1}if(Q&&Z.next==45&&MQ0(Z)>-1&&Z.depth==J.stack.length&&J.parser.leafBlockParsers.indexOf(IQ0.SetextHeading)>-1)return-1;return K<3?-1:1}function HQ0(Z,J){for(let Q=Z.stack.length-1;Q>=0;Q--)if(Z.stack[Q].type==J)return!0;return!1}function Mb(Z,J,Q){return(Z.next==45||Z.next==43||Z.next==42)&&(Z.pos==Z.text.length-1||QK(Z.text.charCodeAt(Z.pos+1)))&&(!Q||HQ0(J,L8.BulletList)||Z.skipSpace(Z.pos+2)<Z.text.length)?1:-1}function Bb(Z,J,Q){let{pos:K,next:X}=Z;for(;;){if(X>=48&&X<=57)K++;else break;if(K==Z.text.length)return-1;X=Z.text.charCodeAt(K)}if(K==Z.pos||K>Z.pos+9||X!=46&&X!=41||K<Z.text.length-1&&!QK(Z.text.charCodeAt(K+1))||Q&&!HQ0(J,L8.OrderedList)&&(Z.skipSpace(K+1)==Z.text.length||K>Z.pos+1||Z.next!=49))return-1;return K+1-Z.pos}function FQ0(Z){if(Z.next!=35)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==35)J++;if(J<Z.text.length&&Z.text.charCodeAt(J)!=32)return-1;let Q=J-Z.pos;return Q>6?-1:Q}function MQ0(Z){if(Z.next!=45&&Z.next!=61||Z.indent>=Z.baseIndent+4)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==Z.next)J++;let Q=J;while(J<Z.text.length&&QK(Z.text.charCodeAt(J)))J++;return J==Z.text.length?Q:-1}var qb=/^[ \t]*$/,BQ0=/-->/,OQ0=/\?>/,Wb=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,BQ0],[/^\s*<\?/,OQ0],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,qb],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,qb]];function RQ0(Z,J,Q){if(Z.next!=60)return-1;let K=Z.text.slice(Z.pos);for(let X=0,U=Wb.length-(Q?1:0);X<U;X++)if(Wb[X][0].test(K))return X;return-1}function o70(Z,J){let Q=Z.countIndent(J,Z.pos,Z.indent),K=Z.countIndent(Z.skipSpace(J),J,Q);return K>=Q+5?Q+1:K}function H1(Z,J,Q){let K=Z.length-1;if(K>=0&&Z[K].to==J&&Z[K].type==L8.CodeText)Z[K].to=Q;else Z.push(JZ(L8.CodeText,J,Q))}var jE={LinkReference:void 0,IndentedCode(Z,J){let Q=J.baseIndent+4;if(J.indent<Q)return!1;let K=J.findColumn(Q),X=Z.lineStart+K,U=Z.lineStart+J.text.length,Y=[],q=[];H1(Y,X,U);while(Z.nextLine()&&J.depth>=Z.stack.length)if(J.pos==J.text.length){H1(q,Z.lineStart-1,Z.lineStart);for(let W of J.markers)q.push(W)}else if(J.indent<Q)break;else{if(q.length){for(let G of q)if(G.type==L8.CodeText)H1(Y,G.from,G.to);else Y.push(G);q=[]}H1(Y,Z.lineStart-1,Z.lineStart);for(let G of J.markers)Y.push(G);U=Z.lineStart+J.text.length;let W=Z.lineStart+J.findColumn(J.baseIndent+4);if(W<U)H1(Y,W,U)}if(q.length){if(q=q.filter((W)=>W.type!=L8.CodeText),q.length)J.markers=q.concat(J.markers)}return Z.addNode(Z.buffer.writeElements(Y,-X).finish(L8.CodeBlock,U-X),X),!0},FencedCode(Z,J){let Q=GQ0(J);if(Q<0)return!1;let K=Z.lineStart+J.pos,X=J.next,U=Q-J.pos,Y=J.skipSpace(Q),q=a70(J.text,J.text.length,Y),W=[JZ(L8.CodeMark,K,K+U)];if(Y<q)W.push(JZ(L8.CodeInfo,Z.lineStart+Y,Z.lineStart+q));for(let G=!0,z=!0,H=!1;Z.nextLine()&&J.depth>=Z.stack.length;G=!1){let F=J.pos;if(J.indent-J.baseIndent<4)while(F<J.text.length&&J.text.charCodeAt(F)==X)F++;if(F-J.pos>=U&&J.skipSpace(F)==J.text.length){for(let M of J.markers)W.push(M);if(z&&H)H1(W,Z.lineStart-1,Z.lineStart);W.push(JZ(L8.CodeMark,Z.lineStart+J.pos,Z.lineStart+F)),Z.nextLine();break}else{if(H=!0,!G)H1(W,Z.lineStart-1,Z.lineStart),z=!1;for(let O of J.markers)W.push(O);let M=Z.lineStart+J.basePos,B=Z.lineStart+J.text.length;if(M<B)H1(W,M,B),z=!1}}return Z.addNode(Z.buffer.writeElements(W,-K).finish(L8.FencedCode,Z.prevLineEnd()-K),K),!0},Blockquote(Z,J){let Q=zQ0(J);if(Q<0)return!1;return Z.startContext(L8.Blockquote,J.pos),Z.addNode(L8.QuoteMark,Z.lineStart+J.pos,Z.lineStart+J.pos+1),J.moveBase(J.pos+Q),null},HorizontalRule(Z,J){if(Fb(J,Z,!1)<0)return!1;let Q=Z.lineStart+J.pos;return Z.nextLine(),Z.addNode(L8.HorizontalRule,Q),!0},BulletList(Z,J){let Q=Mb(J,Z,!1);if(Q<0)return!1;if(Z.block.type!=L8.BulletList)Z.startContext(L8.BulletList,J.basePos,J.next);let K=o70(J,J.pos+1);return Z.startContext(L8.ListItem,J.basePos,K-J.baseIndent),Z.addNode(L8.ListMark,Z.lineStart+J.pos,Z.lineStart+J.pos+Q),J.moveBaseColumn(K),null},OrderedList(Z,J){let Q=Bb(J,Z,!1);if(Q<0)return!1;if(Z.block.type!=L8.OrderedList)Z.startContext(L8.OrderedList,J.basePos,J.text.charCodeAt(J.pos+Q-1));let K=o70(J,J.pos+Q);return Z.startContext(L8.ListItem,J.basePos,K-J.baseIndent),Z.addNode(L8.ListMark,Z.lineStart+J.pos,Z.lineStart+J.pos+Q),J.moveBaseColumn(K),null},ATXHeading(Z,J){let Q=FQ0(J);if(Q<0)return!1;let K=J.pos,X=Z.lineStart+K,U=a70(J.text,J.text.length,K),Y=U;while(Y>K&&J.text.charCodeAt(Y-1)==J.next)Y--;if(Y==U||Y==K||!QK(J.text.charCodeAt(Y-1)))Y=J.text.length;let q=Z.buffer.write(L8.HeaderMark,0,Q).writeElements(Z.parser.parseInline(J.text.slice(K+Q+1,Y),X+Q+1),-X);if(Y<J.text.length)q.write(L8.HeaderMark,Y-K,U-K);let W=q.finish(L8.ATXHeading1-1+Q,J.text.length-K);return Z.nextLine(),Z.addNode(W,X),!0},HTMLBlock(Z,J){let Q=RQ0(J,Z,!1);if(Q<0)return!1;let K=Z.lineStart+J.pos,X=Wb[Q][1],U=[],Y=X!=qb;while(!X.test(J.text)&&Z.nextLine()){if(J.depth<Z.stack.length){Y=!1;break}for(let G of J.markers)U.push(G)}if(Y)Z.nextLine();let q=X==BQ0?L8.CommentBlock:X==OQ0?L8.ProcessingInstructionBlock:L8.HTMLBlock,W=Z.prevLineEnd();return Z.addNode(Z.buffer.writeElements(U,-K).finish(q,W-K),K),!0},SetextHeading:void 0};class DQ0{constructor(Z){this.stage=0,this.elts=[],this.pos=0,this.start=Z.start,this.advance(Z.content)}nextLine(Z,J,Q){if(this.stage==-1)return!1;let K=Q.content+`
`+J.scrub(),X=this.advance(K);if(X>-1&&X<K.length)return this.complete(Z,Q,X);return!1}finish(Z,J){if((this.stage==2||this.stage==3)&&jR(J.content,this.pos)==J.content.length)return this.complete(Z,J,J.content.length);return!1}complete(Z,J,Q){return Z.addLeafElement(J,JZ(L8.LinkReference,this.start,this.start+Q,this.elts)),!0}nextStage(Z){if(Z)return this.pos=Z.to-this.start,this.elts.push(Z),this.stage++,!0;if(Z===!1)this.stage=-1;return!1}advance(Z){for(;;)if(this.stage==-1)return-1;else if(this.stage==0){if(!this.nextStage(SQ0(Z,this.pos,this.start,!0)))return-1;if(Z.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(JZ(L8.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(jQ0(Z,jR(Z,this.pos),this.start)))return-1}else if(this.stage==2){let J=jR(Z,this.pos),Q=0;if(J>this.pos){let K=CQ0(Z,J,this.start);if(K){let X=Ub(Z,K.to-this.start);if(X>0)this.nextStage(K),Q=X}}if(!Q)Q=Ub(Z,this.pos);return Q>0&&Q<Z.length?Q:-1}else return Ub(Z,this.pos)}}function Ub(Z,J){for(;J<Z.length;J++){let Q=Z.charCodeAt(J);if(Q==10)break;if(!QK(Q))return-1}return J}class LQ0{nextLine(Z,J,Q){let K=J.depth<Z.stack.length?-1:MQ0(J),X=J.next;if(K<0)return!1;let U=JZ(L8.HeaderMark,Z.lineStart+J.pos,Z.lineStart+K);return Z.nextLine(),Z.addLeafElement(Q,JZ(X==61?L8.SetextHeading1:L8.SetextHeading2,Q.start,Z.prevLineEnd(),[...Z.parser.parseInline(Q.content,Q.start),U])),!0}finish(){return!1}}var IQ0={LinkReference(Z,J){return J.content.charCodeAt(0)==91?new DQ0(J):null},SetextHeading(){return new LQ0}},yn0=[(Z,J)=>FQ0(J)>=0,(Z,J)=>GQ0(J)>=0,(Z,J)=>zQ0(J)>=0,(Z,J)=>Mb(J,Z,!0)>=0,(Z,J)=>Bb(J,Z,!0)>=0,(Z,J)=>Fb(J,Z,!0)>=0,(Z,J)=>RQ0(J,Z,!0)>=0],hn0={text:"",end:0};class AQ0{constructor(Z,J,Q,K){this.parser=Z,this.input=J,this.ranges=K,this.line=new qQ0,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=K[K.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=K[0].from,this.block=SE.create(L8.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=Q.length?new TQ0(Q,J):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:Z}=this;for(;;){for(let Q=0;;){let K=Z.depth<this.stack.length?this.stack[this.stack.length-1]:null;while(Q<Z.markers.length&&(!K||Z.markers[Q].from<K.end)){let X=Z.markers[Q++];this.addNode(X.type,X.from,X.to)}if(!K)break;this.finishContext()}if(Z.pos<Z.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(Z.basePos))return null;Z:for(;;){for(let Q of this.parser.blockParsers)if(Q){let K=Q(this,Z);if(K!=!1){if(K==!0)return null;Z.forward();continue Z}}break}let J=new YQ0(this.lineStart+Z.pos,Z.text.slice(Z.pos));for(let Q of this.parser.leafBlockParsers)if(Q){let K=Q(this,J);if(K)J.parsers.push(K)}Z:while(this.nextLine()){if(Z.pos==Z.text.length)break;if(Z.indent<Z.baseIndent+4){for(let Q of this.parser.endLeafBlock)if(Q(this,Z,J))break Z}for(let Q of J.parsers)if(Q.nextLine(this,Z,J))return null;J.content+=`
`+Z.scrub();for(let Q of Z.markers)J.marks.push(Q)}return this.finishLeaf(J),null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}reuseFragment(Z){if(!this.fragments.moveTo(this.absoluteLineStart+Z,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let J=this.fragments.takeNodes(this);if(!J)return!1;if(this.absoluteLineStart+=J,this.lineStart=wQ0(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to)this.lineStart++,this.absoluteLineStart++,this.readLine();else this.atEnd=!0,this.readLine();return!0}get depth(){return this.stack.length}parentType(Z=this.depth-1){return this.parser.nodeSet.types[this.stack[Z].type]}nextLine(){if(this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to)return this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1;else return this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){while(this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(Z){let J=hn0;if(J.end=Z,Z>=this.to)J.text="";else if(J.text=this.lineChunkAt(Z),J.end+=J.text.length,this.ranges.length>1){let Q=this.absoluteLineStart,K=this.rangeI;while(this.ranges[K].to<J.end){K++;let X=this.ranges[K].from,U=this.lineChunkAt(X);J.end=X+U.length,J.text=J.text.slice(0,this.ranges[K-1].to-Q)+U,Q=J.end-J.text.length}}return J}readLine(){let{line:Z}=this,{text:J,end:Q}=this.scanLine(this.absoluteLineStart);this.absoluteLineEnd=Q,Z.reset(J);for(;Z.depth<this.stack.length;Z.depth++){let K=this.stack[Z.depth],X=this.parser.skipContextMarkup[K.type];if(!X)throw Error("Unhandled block context "+L8[K.type]);let U=this.line.markers.length;if(!X(K,this,Z)){if(this.line.markers.length>U)K.end=this.line.markers[this.line.markers.length-1].to;Z.forward();break}Z.forward()}}lineChunkAt(Z){let J=this.input.chunk(Z),Q;if(!this.input.lineChunks){let K=J.indexOf(`
`);Q=K<0?J:J.slice(0,K)}else Q=J==`
`?"":J;return Z+Q.length>this.to?Q.slice(0,this.to-Z):Q}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(Z,J,Q=0){this.block=SE.create(Z,Q,this.lineStart+J,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(Z,J,Q=0){this.startContext(this.parser.getNodeType(Z),J,Q)}addNode(Z,J,Q){if(typeof Z=="number")Z=new ZZ(this.parser.nodeSet.types[Z],bH,bH,(Q!==null&&Q!==void 0?Q:this.prevLineEnd())-J);this.block.addChild(Z,J-this.block.from)}addElement(Z){this.block.addChild(Z.toTree(this.parser.nodeSet),Z.from-this.block.from)}addLeafElement(Z,J){this.addNode(this.buffer.writeElements(zb(J.children,Z.marks),-J.from).finish(J.type,J.to-J.from),J.from)}finishContext(){let Z=this.stack.pop(),J=this.stack[this.stack.length-1];J.addChild(Z.toTree(this.parser.nodeSet),Z.from-J.from),this.block=J}finish(){while(this.stack.length>1)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(Z){return this.ranges.length>1?NQ0(this.ranges,0,Z.topNode,this.ranges[0].from,this.reusePlaceholders):Z}finishLeaf(Z){for(let Q of Z.parsers)if(Q.finish(this,Z))return;let J=zb(this.parser.parseInline(Z.content,Z.start),Z.marks);this.addNode(this.buffer.writeElements(J,-Z.start).finish(L8.Paragraph,Z.content.length),Z.start)}elt(Z,J,Q,K){if(typeof Z=="string")return JZ(this.parser.getNodeType(Z),J,Q,K);return new Rb(Z,J)}get buffer(){return new Ob(this.parser.nodeSet)}}function NQ0(Z,J,Q,K,X){let U=Z[J].to,Y=[],q=[],W=Q.from+K;function G(z,H){while(H?z>=U:z>U){let F=Z[J+1].from-U;K+=F,z+=F,J++,U=Z[J].to}}for(let z=Q.firstChild;z;z=z.nextSibling){G(z.from+K,!0);let H=z.from+K,F,M=X.get(z.tree);if(M)F=M;else if(z.to+K>U)F=NQ0(Z,J,z,K,X),G(z.to+K,!1);else F=z.toTree();Y.push(F),q.push(H-W)}return G(Q.to+K,!1),new ZZ(Q.type,Y,q,Q.to+K-W,Q.tree?Q.tree.propValues:void 0)}class TR extends XG{constructor(Z,J,Q,K,X,U,Y,q,W){super();this.nodeSet=Z,this.blockParsers=J,this.leafBlockParsers=Q,this.blockNames=K,this.endLeafBlock=X,this.skipContextMarkup=U,this.inlineParsers=Y,this.inlineNames=q,this.wrappers=W,this.nodeTypes=Object.create(null);for(let G of Z.types)this.nodeTypes[G.name]=G.id}createParse(Z,J,Q){let K=new AQ0(this,Z,J,Q);for(let X of this.wrappers)K=X(K,Z,J,Q);return K}configure(Z){let J=Gb(Z);if(!J)return this;let{nodeSet:Q,skipContextMarkup:K}=this,X=this.blockParsers.slice(),U=this.leafBlockParsers.slice(),Y=this.blockNames.slice(),q=this.inlineParsers.slice(),W=this.inlineNames.slice(),G=this.endLeafBlock.slice(),z=this.wrappers;if(PR(J.defineNodes)){K=Object.assign({},K);let H=Q.types.slice(),F;for(let M of J.defineNodes){let{name:B,block:O,composite:R,style:D}=typeof M=="string"?{name:M}:M;if(H.some((V)=>V.name==B))continue;if(R)K[H.length]=(V,N,E)=>R(N,E,V.value);let L=H.length,A=R?["Block","BlockContext"]:!O?void 0:L>=L8.ATXHeading1&&L<=L8.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"];if(H.push(xJ.define({id:L,name:B,props:A&&[[J9.group,A]]})),D){if(!F)F={};if(Array.isArray(D)||D instanceof w6)F[B]=D;else Object.assign(F,D)}}if(Q=new K1(H),F)Q=Q.extend(oK(F))}if(PR(J.props))Q=Q.extend(...J.props);if(PR(J.remove))for(let H of J.remove){let F=this.blockNames.indexOf(H),M=this.inlineNames.indexOf(H);if(F>-1)X[F]=U[F]=void 0;if(M>-1)q[M]=void 0}if(PR(J.parseBlock))for(let H of J.parseBlock){let F=Y.indexOf(H.name);if(F>-1)X[F]=H.parse,U[F]=H.leaf;else{let M=H.before?CE(Y,H.before):H.after?CE(Y,H.after)+1:Y.length-1;X.splice(M,0,H.parse),U.splice(M,0,H.leaf),Y.splice(M,0,H.name)}if(H.endLeaf)G.push(H.endLeaf)}if(PR(J.parseInline))for(let H of J.parseInline){let F=W.indexOf(H.name);if(F>-1)q[F]=H.parse;else{let M=H.before?CE(W,H.before):H.after?CE(W,H.after)+1:W.length-1;q.splice(M,0,H.parse),W.splice(M,0,H.name)}}if(J.wrap)z=z.concat(J.wrap);return new TR(Q,X,U,Y,G,K,q,W,z)}getNodeType(Z){let J=this.nodeTypes[Z];if(J==null)throw RangeError(`Unknown node type '${Z}'`);return J}parseInline(Z,J){let Q=new wE(this,Z,J);Z:for(let K=J;K<Q.end;){let X=Q.char(K);for(let U of this.inlineParsers)if(U){let Y=U(Q,X,K);if(Y>=0){K=Y;continue Z}}K++}return Q.resolveMarkers(0)}}function PR(Z){return Z!=null&&Z.length>0}function Gb(Z){if(!Array.isArray(Z))return Z;if(Z.length==0)return null;let J=Gb(Z[0]);if(Z.length==1)return J;let Q=Gb(Z.slice(1));if(!Q||!J)return J||Q;let K=(Y,q)=>(Y||bH).concat(q||bH),X=J.wrap,U=Q.wrap;return{props:K(J.props,Q.props),defineNodes:K(J.defineNodes,Q.defineNodes),parseBlock:K(J.parseBlock,Q.parseBlock),parseInline:K(J.parseInline,Q.parseInline),remove:K(J.remove,Q.remove),wrap:!X?U:!U?X:(Y,q,W,G)=>X(U(Y,q,W,G),q,W,G)}}function CE(Z,J){let Q=Z.indexOf(J);if(Q<0)throw RangeError(`Position specified relative to unknown parser ${J}`);return Q}var EQ0=[xJ.none];for(let Z=1,J;J=L8[Z];Z++)EQ0[Z]=xJ.define({id:Z,name:J,props:Z>=L8.Escape?[]:[[J9.group,Z in WQ0?["Block","BlockContext"]:["Block","LeafBlock"]]],top:J=="Document"});var bH=[];class Ob{constructor(Z){this.nodeSet=Z,this.content=[],this.nodes=[]}write(Z,J,Q,K=0){return this.content.push(Z,J,Q,4+K*4),this}writeElements(Z,J=0){for(let Q of Z)Q.writeTo(this,J);return this}finish(Z,J){return ZZ.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:Z,length:J})}}class yH{constructor(Z,J,Q,K=bH){this.type=Z,this.from=J,this.to=Q,this.children=K}writeTo(Z,J){let Q=Z.content.length;Z.writeElements(this.children,J),Z.content.push(this.type,this.from+J,this.to+J,Z.content.length+4-Q)}toTree(Z){return new Ob(Z).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class Rb{constructor(Z,J){this.tree=Z,this.from=J}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return bH}writeTo(Z,J){Z.nodes.push(this.tree),Z.content.push(Z.nodes.length-1,this.from+J,this.to+J,-1)}toTree(){return this.tree}}function JZ(Z,J,Q,K){return new yH(Z,J,Q,K)}var VQ0={resolve:"Emphasis",mark:"EmphasisMark"},PQ0={resolve:"Emphasis",mark:"EmphasisMark"},HG={},TE={};class f6{constructor(Z,J,Q,K){this.type=Z,this.from=J,this.to=Q,this.side=K}}var t70="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",SR=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{SR=new RegExp("[\\p{S}|\\p{P}]","u")}catch(Z){}var Yb={Escape(Z,J,Q){if(J!=92||Q==Z.end-1)return-1;let K=Z.char(Q+1);for(let X=0;X<t70.length;X++)if(t70.charCodeAt(X)==K)return Z.append(JZ(L8.Escape,Q,Q+2));return-1},Entity(Z,J,Q){if(J!=38)return-1;let K=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(Z.slice(Q+1,Q+31));return K?Z.append(JZ(L8.Entity,Q,Q+1+K[0].length)):-1},InlineCode(Z,J,Q){if(J!=96||Q&&Z.char(Q-1)==96)return-1;let K=Q+1;while(K<Z.end&&Z.char(K)==96)K++;let X=K-Q,U=0;for(;K<Z.end;K++)if(Z.char(K)==96){if(U++,U==X&&Z.char(K+1)!=96)return Z.append(JZ(L8.InlineCode,Q,K+1,[JZ(L8.CodeMark,Q,Q+X),JZ(L8.CodeMark,K+1-X,K+1)]))}else U=0;return-1},HTMLTag(Z,J,Q){if(J!=60||Q==Z.end-1)return-1;let K=Z.slice(Q+1,Z.end),X=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(K);if(X)return Z.append(JZ(L8.Autolink,Q,Q+1+X[0].length,[JZ(L8.LinkMark,Q,Q+1),JZ(L8.URL,Q+1,Q+X[0].length),JZ(L8.LinkMark,Q+X[0].length,Q+1+X[0].length)]));let U=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(K);if(U)return Z.append(JZ(L8.Comment,Q,Q+1+U[0].length));let Y=/^\?[^]*?\?>/.exec(K);if(Y)return Z.append(JZ(L8.ProcessingInstruction,Q,Q+1+Y[0].length));let q=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(K);if(!q)return-1;return Z.append(JZ(L8.HTMLTag,Q,Q+1+q[0].length))},Emphasis(Z,J,Q){if(J!=95&&J!=42)return-1;let K=Q+1;while(Z.char(K)==J)K++;let X=Z.slice(Q-1,Q),U=Z.slice(K,K+1),Y=SR.test(X),q=SR.test(U),W=/\s|^$/.test(X),G=/\s|^$/.test(U),z=!G&&(!q||W||Y),H=!W&&(!Y||G||q),F=z&&(J==42||!H||Y),M=H&&(J==42||!z||q);return Z.append(new f6(J==95?VQ0:PQ0,Q,K,(F?1:0)|(M?2:0)))},HardBreak(Z,J,Q){if(J==92&&Z.char(Q+1)==10)return Z.append(JZ(L8.HardBreak,Q,Q+2));if(J==32){let K=Q+1;while(Z.char(K)==32)K++;if(Z.char(K)==10&&K>=Q+2)return Z.append(JZ(L8.HardBreak,Q,K+1))}return-1},Link(Z,J,Q){return J==91?Z.append(new f6(HG,Q,Q+1,1)):-1},Image(Z,J,Q){return J==33&&Z.char(Q+1)==91?Z.append(new f6(TE,Q,Q+2,1)):-1},LinkEnd(Z,J,Q){if(J!=93)return-1;for(let K=Z.parts.length-1;K>=0;K--){let X=Z.parts[K];if(X instanceof f6&&(X.type==HG||X.type==TE)){if(!X.side||Z.skipSpace(X.to)==Q&&!/[(\[]/.test(Z.slice(Q+1,Q+2)))return Z.parts[K]=null,-1;let U=Z.takeContent(K),Y=Z.parts[K]=mn0(Z,U,X.type==HG?L8.Link:L8.Image,X.from,Q+1);if(X.type==HG)for(let q=0;q<K;q++){let W=Z.parts[q];if(W instanceof f6&&W.type==HG)W.side=0}return Y.to}}return-1}};function mn0(Z,J,Q,K,X){let{text:U}=Z,Y=Z.char(X),q=X;if(J.unshift(JZ(L8.LinkMark,K,K+(Q==L8.Image?2:1))),J.push(JZ(L8.LinkMark,X-1,X)),Y==40){let W=Z.skipSpace(X+1),G=jQ0(U,W-Z.offset,Z.offset),z;if(G){if(W=Z.skipSpace(G.to),W!=G.to){if(z=CQ0(U,W-Z.offset,Z.offset),z)W=Z.skipSpace(z.to)}}if(Z.char(W)==41){if(J.push(JZ(L8.LinkMark,X,X+1)),q=W+1,G)J.push(G);if(z)J.push(z);J.push(JZ(L8.LinkMark,W,q))}}else if(Y==91){let W=SQ0(U,X-Z.offset,Z.offset,!1);if(W)J.push(W),q=W.to}return JZ(Q,K,q,J)}function jQ0(Z,J,Q){if(Z.charCodeAt(J)==60){for(let X=J+1;X<Z.length;X++){let U=Z.charCodeAt(X);if(U==62)return JZ(L8.URL,J+Q,X+1+Q);if(U==60||U==10)return!1}return null}else{let X=0,U=J;for(let Y=!1;U<Z.length;U++){let q=Z.charCodeAt(U);if(QK(q))break;else if(Y)Y=!1;else if(q==40)X++;else if(q==41){if(!X)break;X--}else if(q==92)Y=!0}return U>J?JZ(L8.URL,J+Q,U+Q):U==Z.length?null:!1}}function CQ0(Z,J,Q){let K=Z.charCodeAt(J);if(K!=39&&K!=34&&K!=40)return!1;let X=K==40?41:K;for(let U=J+1,Y=!1;U<Z.length;U++){let q=Z.charCodeAt(U);if(Y)Y=!1;else if(q==X)return JZ(L8.LinkTitle,J+Q,U+1+Q);else if(q==92)Y=!0}return null}function SQ0(Z,J,Q,K){for(let X=!1,U=J+1,Y=Math.min(Z.length,U+999);U<Y;U++){let q=Z.charCodeAt(U);if(X)X=!1;else if(q==93)return K?!1:JZ(L8.LinkLabel,J+Q,U+1+Q);else{if(K&&!QK(q))K=!1;if(q==91)return!1;else if(q==92)X=!0}}return null}class wE{constructor(Z,J,Q){this.parser=Z,this.text=J,this.offset=Q,this.parts=[]}char(Z){return Z>=this.end?-1:this.text.charCodeAt(Z-this.offset)}get end(){return this.offset+this.text.length}slice(Z,J){return this.text.slice(Z-this.offset,J-this.offset)}append(Z){return this.parts.push(Z),Z.to}addDelimiter(Z,J,Q,K,X){return this.append(new f6(Z,J,Q,(K?1:0)|(X?2:0)))}get hasOpenLink(){for(let Z=this.parts.length-1;Z>=0;Z--){let J=this.parts[Z];if(J instanceof f6&&(J.type==HG||J.type==TE))return!0}return!1}addElement(Z){return this.append(Z)}resolveMarkers(Z){for(let Q=Z;Q<this.parts.length;Q++){let K=this.parts[Q];if(!(K instanceof f6&&K.type.resolve&&K.side&2))continue;let X=K.type==VQ0||K.type==PQ0,U=K.to-K.from,Y,q=Q-1;for(;q>=Z;q--){let B=this.parts[q];if(B instanceof f6&&B.side&1&&B.type==K.type&&!(X&&(K.side&1||B.side&2)&&(B.to-B.from+U)%3==0&&((B.to-B.from)%3||U%3))){Y=B;break}}if(!Y)continue;let W=K.type.resolve,G=[],z=Y.from,H=K.to;if(X){let B=Math.min(2,Y.to-Y.from,U);z=Y.to-B,H=K.from+B,W=B==1?"Emphasis":"StrongEmphasis"}if(Y.type.mark)G.push(this.elt(Y.type.mark,z,Y.to));for(let B=q+1;B<Q;B++){if(this.parts[B]instanceof yH)G.push(this.parts[B]);this.parts[B]=null}if(K.type.mark)G.push(this.elt(K.type.mark,K.from,H));let F=this.elt(W,z,H,G);if(this.parts[q]=X&&Y.from!=z?new f6(Y.type,Y.from,z,Y.side):null,this.parts[Q]=X&&K.to!=H?new f6(K.type,H,K.to,K.side):null)this.parts.splice(Q,0,F);else this.parts[Q]=F}let J=[];for(let Q=Z;Q<this.parts.length;Q++){let K=this.parts[Q];if(K instanceof yH)J.push(K)}return J}findOpeningDelimiter(Z){for(let J=this.parts.length-1;J>=0;J--){let Q=this.parts[J];if(Q instanceof f6&&Q.type==Z&&Q.side&1)return J}return null}takeContent(Z){let J=this.resolveMarkers(Z);return this.parts.length=Z,J}getDelimiterAt(Z){let J=this.parts[Z];return J instanceof f6?J:null}skipSpace(Z){return jR(this.text,Z-this.offset)+this.offset}elt(Z,J,Q,K){if(typeof Z=="string")return JZ(this.parser.getNodeType(Z),J,Q,K);return new Rb(Z,J)}}wE.linkStart=HG;wE.imageStart=TE;function zb(Z,J){if(!J.length)return Z;if(!Z.length)return J;let Q=Z.slice(),K=0;for(let X of J){while(K<Q.length&&Q[K].to<X.to)K++;if(K<Q.length&&Q[K].from<X.from){let U=Q[K];if(U instanceof yH)Q[K]=new yH(U.type,U.from,U.to,zb(U.children,[X]))}else Q.splice(K++,0,X)}return Q}var un0=[L8.CodeBlock,L8.ListItem,L8.OrderedList,L8.BulletList];class TQ0{constructor(Z,J){if(this.fragments=Z,this.input=J,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,Z.length)this.fragment=Z[this.i++]}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(Z,J){while(this.fragment&&this.fragment.to<=Z)this.nextFragment();if(!this.fragment||this.fragment.from>(Z?Z-1:0))return!1;if(this.fragmentEnd<0){let X=this.fragment.to;while(X>0&&this.input.read(X-1,X)!=`
`)X--;this.fragmentEnd=X?X-1:0}let Q=this.cursor;if(!Q)Q=this.cursor=this.fragment.tree.cursor(),Q.firstChild();let K=Z+this.fragment.offset;while(Q.to<=K)if(!Q.parent())return!1;for(;;){if(Q.from>=K)return this.fragment.from<=J;if(!Q.childAfter(K))return!1}}matches(Z){let J=this.cursor.tree;return J&&J.prop(J9.contextHash)==Z}takeNodes(Z){let J=this.cursor,Q=this.fragment.offset,K=this.fragmentEnd-(this.fragment.openEnd?1:0),X=Z.absoluteLineStart,U=X,Y=Z.block.children.length,q=U,W=Y;for(;;){if(J.to-Q>K){if(J.type.isAnonymous&&J.firstChild())continue;break}let G=wQ0(J.from-Q,Z.ranges);if(J.to-Q<=Z.ranges[Z.rangeI].to)Z.addNode(J.tree,G);else{let z=new ZZ(Z.parser.nodeSet.types[L8.Paragraph],[],[],0,Z.block.hashProp);Z.reusePlaceholders.set(z,J.tree),Z.addNode(z,G)}if(J.type.is("Block")){if(un0.indexOf(J.type.id)<0)U=J.to-Q,Y=Z.block.children.length;else U=q,Y=W;q=J.to-Q,W=Z.block.children.length}if(!J.nextSibling())break}while(Z.block.children.length>Y)Z.block.children.pop(),Z.block.positions.pop();return U-X}}function wQ0(Z,J){let Q=Z;for(let K=1;K<J.length;K++){let X=J[K-1].to,U=J[K].from;if(X<Z)Q-=U-X}return Q}var gn0=oK({"Blockquote/...":R0.quote,HorizontalRule:R0.contentSeparator,"ATXHeading1/... SetextHeading1/...":R0.heading1,"ATXHeading2/... SetextHeading2/...":R0.heading2,"ATXHeading3/...":R0.heading3,"ATXHeading4/...":R0.heading4,"ATXHeading5/...":R0.heading5,"ATXHeading6/...":R0.heading6,"Comment CommentBlock":R0.comment,Escape:R0.escape,Entity:R0.character,"Emphasis/...":R0.emphasis,"StrongEmphasis/...":R0.strong,"Link/... Image/...":R0.link,"OrderedList/... BulletList/...":R0.list,"BlockQuote/...":R0.quote,"InlineCode CodeText":R0.monospace,"URL Autolink":R0.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":R0.processingInstruction,"CodeInfo LinkLabel":R0.labelName,LinkTitle:R0.string,Paragraph:R0.content}),$Q0=new TR(new K1(EQ0).extend(gn0),Object.keys(jE).map((Z)=>jE[Z]),Object.keys(jE).map((Z)=>IQ0[Z]),Object.keys(jE),yn0,WQ0,Object.keys(Yb).map((Z)=>Yb[Z]),Object.keys(Yb),[]);function pn0(Z,J,Q){let K=[];for(let X=Z.firstChild,U=J;;X=X.nextSibling){let Y=X?X.from:Q;if(Y>U)K.push({from:U,to:Y});if(!X)break;U=X.to}return K}function kQ0(Z){let{codeParser:J,htmlParser:Q}=Z;return{wrap:sN((X,U)=>{let Y=X.type.id;if(J&&(Y==L8.CodeBlock||Y==L8.FencedCode)){let q="";if(Y==L8.FencedCode){let G=X.node.getChild(L8.CodeInfo);if(G)q=U.read(G.from,G.to)}let W=J(q);if(W)return{parser:W,overlay:(G)=>G.type.id==L8.CodeText,bracketed:Y==L8.FencedCode}}else if(Q&&(Y==L8.HTMLBlock||Y==L8.HTMLTag||Y==L8.CommentBlock))return{parser:Q,overlay:pn0(X.node,X.from,X.to)};return null})}}var cn0={resolve:"Strikethrough",mark:"StrikethroughMark"},ln0={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":R0.strikethrough}},{name:"StrikethroughMark",style:R0.processingInstruction}],parseInline:[{name:"Strikethrough",parse(Z,J,Q){if(J!=126||Z.char(Q+1)!=126||Z.char(Q+2)==126)return-1;let K=Z.slice(Q-1,Q),X=Z.slice(Q+2,Q+3),U=/\s|^$/.test(K),Y=/\s|^$/.test(X),q=SR.test(K),W=SR.test(X);return Z.addDelimiter(cn0,Q,Q+2,!Y&&(!W||U||q),!U&&(!q||Y||W))},after:"Emphasis"}]};function CR(Z,J,Q=0,K,X=0){let U=0,Y=!0,q=-1,W=-1,G=!1,z=()=>{K.push(Z.elt("TableCell",X+q,X+W,Z.parser.parseInline(J.slice(q,W),X+q)))};for(let H=Q;H<J.length;H++){let F=J.charCodeAt(H);if(F==124&&!G){if(!Y||q>-1)U++;if(Y=!1,K){if(q>-1)z();K.push(Z.elt("TableDelimiter",H+X,H+X+1))}q=W=-1}else if(G||F!=32&&F!=9){if(q<0)q=H;W=H+1}G=!G&&F==92}if(q>-1){if(U++,K)z()}return U}function e70(Z,J){for(let Q=J;Q<Z.length;Q++){let K=Z.charCodeAt(Q);if(K==124)return!0;if(K==92)Q++}return!1}var _Q0=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class Hb{constructor(){this.rows=null}nextLine(Z,J,Q){if(this.rows==null){this.rows=!1;let K;if((J.next==45||J.next==58||J.next==124)&&_Q0.test(K=J.text.slice(J.pos))){let X=[];if(CR(Z,Q.content,0,X,Q.start)==CR(Z,K,J.pos))this.rows=[Z.elt("TableHeader",Q.start,Q.start+Q.content.length,X),Z.elt("TableDelimiter",Z.lineStart+J.pos,Z.lineStart+J.text.length)]}}else if(this.rows){let K=[];CR(Z,J.text,J.pos,K,Z.lineStart),this.rows.push(Z.elt("TableRow",Z.lineStart+J.pos,Z.lineStart+J.text.length,K))}return!1}finish(Z,J){if(!this.rows)return!1;return Z.addLeafElement(J,Z.elt("Table",J.start,J.start+J.content.length,this.rows)),!0}}var dn0={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":R0.heading}},"TableRow",{name:"TableCell",style:R0.content},{name:"TableDelimiter",style:R0.processingInstruction}],parseBlock:[{name:"Table",leaf(Z,J){return e70(J.content,0)?new Hb:null},endLeaf(Z,J,Q){if(Q.parsers.some((X)=>X instanceof Hb)||!e70(J.text,J.basePos))return!1;let K=Z.peekLine();return _Q0.test(K)&&CR(Z,J.text,J.basePos)==CR(Z,K,J.basePos)},before:"SetextHeading"}]};class fQ0{nextLine(){return!1}finish(Z,J){return Z.addLeafElement(J,Z.elt("Task",J.start,J.start+J.content.length,[Z.elt("TaskMarker",J.start,J.start+3),...Z.parser.parseInline(J.content.slice(3),J.start+3)])),!0}}var in0={defineNodes:[{name:"Task",block:!0,style:R0.list},{name:"TaskMarker",style:R0.atom}],parseBlock:[{name:"TaskList",leaf(Z,J){return/^\[[ xX]\][ \t]/.test(J.content)&&Z.parentType().name=="ListItem"?new fQ0:null},after:"SetextHeading"}]},ZQ0=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,JQ0=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,sn0=/[\w-]+\.[\w-]+($|\/)/,QQ0=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,KQ0=/\/[a-zA-Z\d@.]+/gy;function XQ0(Z,J,Q,K){let X=0;for(let U=J;U<Q;U++)if(Z[U]==K)X++;return X}function rn0(Z,J){JQ0.lastIndex=J;let Q=JQ0.exec(Z);if(!Q||sn0.exec(Q[0])[0].indexOf("_")>-1)return-1;let K=J+Q[0].length;for(;;){let X=Z[K-1],U;if(/[?!.,:*_~]/.test(X)||X==")"&&XQ0(Z,J,K,")")>XQ0(Z,J,K,"("))K--;else if(X==";"&&(U=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(Z.slice(J,K))))K=J+U.index;else break}return K}function UQ0(Z,J){QQ0.lastIndex=J;let Q=QQ0.exec(Z);if(!Q)return-1;let K=Q[0][Q[0].length-1];return K=="_"||K=="-"?-1:J+Q[0].length-(K=="."?1:0)}var nn0={parseInline:[{name:"Autolink",parse(Z,J,Q){let K=Q-Z.offset;if(K&&/\w/.test(Z.text[K-1]))return-1;ZQ0.lastIndex=K;let X=ZQ0.exec(Z.text),U=-1;if(!X)return-1;if(X[1]||X[2]){if(U=rn0(Z.text,K+X[0].length),U>-1&&Z.hasOpenLink){let Y=/([^\[\]]|\[[^\]]*\])*/.exec(Z.text.slice(K,U));U=K+Y[0].length}}else if(X[3])U=UQ0(Z.text,K);else if(U=UQ0(Z.text,K+X[0].length),U>-1&&X[0]=="xmpp:"){if(KQ0.lastIndex=U,X=KQ0.exec(Z.text),X)U=X.index+X[0].length}if(U<0)return-1;return Z.addElement(Z.elt("URL",Q,U+Z.offset)),U+Z.offset}}]},vQ0=[dn0,in0,ln0,nn0];function xQ0(Z,J,Q){return(K,X,U)=>{if(X!=Z||K.char(U+1)==Z)return-1;let Y=[K.elt(Q,U,U+1)];for(let q=U+1;q<K.end;q++){let W=K.char(q);if(W==Z)return K.addElement(K.elt(J,U,q+1,Y.concat(K.elt(Q,q,q+1))));if(W==92)Y.push(K.elt("Escape",q,q+++2));if(QK(W))break}return-1}}var bQ0={defineNodes:[{name:"Superscript",style:R0.special(R0.content)},{name:"SuperscriptMark",style:R0.processingInstruction}],parseInline:[{name:"Superscript",parse:xQ0(94,"Superscript","SuperscriptMark")}]},yQ0={defineNodes:[{name:"Subscript",style:R0.special(R0.content)},{name:"SubscriptMark",style:R0.processingInstruction}],parseInline:[{name:"Subscript",parse:xQ0(126,"Subscript","SubscriptMark")}]},hQ0={defineNodes:[{name:"Emoji",style:R0.character}],parseInline:[{name:"Emoji",parse(Z,J,Q){let K;if(J!=58||!(K=/^[a-zA-Z_0-9]+:/.exec(Z.slice(Q+1,Z.end))))return-1;return Z.addElement(Z.elt("Emoji",Q,Q+1+K[0].length))}}]};class $E{constructor(Z,J,Q,K,X,U,Y,q,W,G=0,z){this.p=Z,this.stack=J,this.state=Q,this.reducePos=K,this.pos=X,this.score=U,this.buffer=Y,this.bufferBase=q,this.curContext=W,this.lookAhead=G,this.parent=z}toString(){return`[${this.stack.filter((Z,J)=>J%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Z,J,Q=0){let K=Z.parser.context;return new $E(Z,[],J,Q,Q,0,[],0,K?new Ib(K,K.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Z,J){this.stack.push(this.state,J,this.bufferBase+this.buffer.length),this.state=Z}reduce(Z){var J;let Q=Z>>19,K=Z&65535,{parser:X}=this.p,U=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),Y=X.dynamicPrecedence(K);if(Y)this.score+=Y;if(Q==0){if(this.pushState(X.getGoto(this.state,K,!0),this.reducePos),K<X.minRepeatTerm)this.storeNode(K,this.reducePos,this.reducePos,U?8:4,!0);this.reduceContext(K,this.reducePos);return}let q=this.stack.length-(Q-1)*3-(Z&262144?6:0),W=q?this.stack[q-2]:this.p.ranges[0].from,G=this.reducePos-W;if(G>=2000&&!((J=this.p.parser.nodeSet.types[K])===null||J===void 0?void 0:J.isAnonymous)){if(W==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=G;else if(this.p.lastBigReductionSize<G)this.p.bigReductionCount=1,this.p.lastBigReductionStart=W,this.p.lastBigReductionSize=G}let z=q?this.stack[q-1]:0,H=this.bufferBase+this.buffer.length-z;if(K<X.minRepeatTerm||Z&131072){let F=X.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(K,W,F,H+4,!0)}if(Z&262144)this.state=this.stack[q];else{let F=this.stack[q-3];this.state=X.getGoto(F,K,!0)}while(this.stack.length>q)this.stack.pop();this.reduceContext(K,W)}storeNode(Z,J,Q,K=4,X=!1){if(Z==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let U=this,Y=this.buffer.length;if(Y==0&&U.parent)Y=U.bufferBase-U.parent.bufferBase,U=U.parent;if(Y>0&&U.buffer[Y-4]==0&&U.buffer[Y-1]>-1){if(J==Q)return;if(U.buffer[Y-2]>=J){U.buffer[Y-2]=Q;return}}}if(!X||this.pos==Q)this.buffer.push(Z,J,Q,K);else{let U=this.buffer.length;if(U>0&&(this.buffer[U-4]!=0||this.buffer[U-1]<0)){let Y=!1;for(let q=U;q>0&&this.buffer[q-2]>Q;q-=4)if(this.buffer[q-1]>=0){Y=!0;break}if(Y){while(U>0&&this.buffer[U-2]>Q)if(this.buffer[U]=this.buffer[U-4],this.buffer[U+1]=this.buffer[U-3],this.buffer[U+2]=this.buffer[U-2],this.buffer[U+3]=this.buffer[U-1],U-=4,K>4)K-=4}}this.buffer[U]=Z,this.buffer[U+1]=J,this.buffer[U+2]=Q,this.buffer[U+3]=K}}shift(Z,J,Q,K){if(Z&131072)this.pushState(Z&65535,this.pos);else if((Z&262144)==0){let X=Z,{parser:U}=this.p;this.pos=K;let Y=U.stateFlag(X,1);if(!Y&&(K>Q||J<=U.maxNode))this.reducePos=K;if(this.pushState(X,Y?Q:Math.min(Q,this.reducePos)),this.shiftContext(J,Q),J<=U.maxNode)this.buffer.push(J,Q,K,4)}else if(this.pos=K,this.shiftContext(J,Q),J<=this.p.parser.maxNode)this.buffer.push(J,Q,K,4)}apply(Z,J,Q,K){if(Z&65536)this.reduce(Z);else this.shift(Z,J,Q,K)}useNode(Z,J){let Q=this.p.reused.length-1;if(Q<0||this.p.reused[Q]!=Z)this.p.reused.push(Z),Q++;let K=this.pos;if(this.reducePos=this.pos=K+Z.length,this.pushState(J,K),this.buffer.push(Q,K,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Z,this,this.p.stream.reset(this.pos-Z.length)))}split(){let Z=this,J=Z.buffer.length;while(J>0&&Z.buffer[J-2]>Z.reducePos)J-=4;let Q=Z.buffer.slice(J),K=Z.bufferBase+J;while(Z&&K==Z.bufferBase)Z=Z.parent;return new $E(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,Q,K,this.curContext,this.lookAhead,Z)}recoverByDelete(Z,J){let Q=Z<=this.p.parser.maxNode;if(Q)this.storeNode(Z,this.pos,J,4);this.storeNode(0,this.pos,J,Q?8:4),this.pos=this.reducePos=J,this.score-=190}canShift(Z){for(let J=new lQ0(this);;){let Q=this.p.parser.stateSlot(J.state,4)||this.p.parser.hasAction(J.state,Z);if(Q==0)return!1;if((Q&65536)==0)return!0;J.reduce(Q)}}recoverByInsert(Z){if(this.stack.length>=300)return[];let J=this.p.parser.nextStates(this.state);if(J.length>8||this.stack.length>=120){let K=[];for(let X=0,U;X<J.length;X+=2)if((U=J[X+1])!=this.state&&this.p.parser.hasAction(U,Z))K.push(J[X],U);if(this.stack.length<120)for(let X=0;K.length<8&&X<J.length;X+=2){let U=J[X+1];if(!K.some((Y,q)=>q&1&&Y==U))K.push(J[X],U)}J=K}let Q=[];for(let K=0;K<J.length&&Q.length<4;K+=2){let X=J[K+1];if(X==this.state)continue;let U=this.split();U.pushState(X,this.pos),U.storeNode(0,U.pos,U.pos,4,!0),U.shiftContext(J[K],this.pos),U.reducePos=this.pos,U.score-=200,Q.push(U)}return Q}forceReduce(){let{parser:Z}=this.p,J=Z.stateSlot(this.state,5);if((J&65536)==0)return!1;if(!Z.validAction(this.state,J)){let Q=J>>19,K=J&65535,X=this.stack.length-Q*3;if(X<0||Z.getGoto(this.stack[X],K,!1)<0){let U=this.findForcedReduction();if(U==null)return!1;J=U}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(J),!0}findForcedReduction(){let{parser:Z}=this.p,J=[],Q=(K,X)=>{if(J.includes(K))return;return J.push(K),Z.allActions(K,(U)=>{if(U&393216);else if(U&65536){let Y=(U>>19)-X;if(Y>1){let q=U&65535,W=this.stack.length-Y*3;if(W>=0&&Z.getGoto(this.stack[W],q,!1)>=0)return Y<<19|65536|q}}else{let Y=Q(U,X+1);if(Y!=null)return Y}})};return Q(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Z}=this.p;return Z.data[Z.stateSlot(this.state,1)]==65535&&!Z.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Z){if(this.state!=Z.state||this.stack.length!=Z.stack.length)return!1;for(let J=0;J<this.stack.length;J+=3)if(this.stack[J]!=Z.stack[J])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Z){return this.p.parser.dialect.flags[Z]}shiftContext(Z,J){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,Z,this,this.p.stream.reset(J)))}reduceContext(Z,J){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Z,this,this.p.stream.reset(J)))}emitContext(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Z){if(Z!=this.curContext.context){let J=new Ib(this.curContext.tracker,Z);if(J.hash!=this.curContext.hash)this.emitContext();this.curContext=J}}setLookAhead(Z){if(Z<=this.lookAhead)return!1;return this.emitLookAhead(),this.lookAhead=Z,!0}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class Ib{constructor(Z,J){this.tracker=Z,this.context=J,this.hash=Z.strict?Z.hash(J):0}}class lQ0{constructor(Z){this.start=Z,this.state=Z.state,this.stack=Z.stack,this.base=this.stack.length}reduce(Z){let J=Z&65535,Q=Z>>19;if(Q==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(Q-1)*3;let K=this.start.p.parser.getGoto(this.stack[this.base-3],J,!0);this.state=K}}class kE{constructor(Z,J,Q){if(this.stack=Z,this.pos=J,this.index=Q,this.buffer=Z.buffer,this.index==0)this.maybeNext()}static create(Z,J=Z.bufferBase+Z.buffer.length){return new kE(Z,J,J-Z.bufferBase)}maybeNext(){let Z=this.stack.parent;if(Z!=null)this.index=this.stack.bufferBase-Z.bufferBase,this.stack=Z,this.buffer=Z.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new kE(this.stack,this.pos,this.index)}}function wR(Z,J=Uint16Array){if(typeof Z!="string")return Z;let Q=null;for(let K=0,X=0;K<Z.length;){let U=0;for(;;){let Y=Z.charCodeAt(K++),q=!1;if(Y==126){U=65535;break}if(Y>=92)Y--;if(Y>=34)Y--;let W=Y-32;if(W>=46)W-=46,q=!0;if(U+=W,q)break;U*=46}if(Q)Q[X++]=U;else Q=new J(U)}return Q}class $R{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var mQ0=new $R;class dQ0{constructor(Z,J){this.input=Z,this.ranges=J,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=mQ0,this.rangeIndex=0,this.pos=this.chunkPos=J[0].from,this.range=J[0],this.end=J[J.length-1].to,this.readNext()}resolveOffset(Z,J){let Q=this.range,K=this.rangeIndex,X=this.pos+Z;while(X<Q.from){if(!K)return null;let U=this.ranges[--K];X-=Q.from-U.to,Q=U}while(J<0?X>Q.to:X>=Q.to){if(K==this.ranges.length-1)return null;let U=this.ranges[++K];X+=U.from-Q.to,Q=U}return X}clipPos(Z){if(Z>=this.range.from&&Z<this.range.to)return Z;for(let J of this.ranges)if(J.to>Z)return Math.max(Z,J.from);return this.end}peek(Z){let J=this.chunkOff+Z,Q,K;if(J>=0&&J<this.chunk.length)Q=this.pos+Z,K=this.chunk.charCodeAt(J);else{let X=this.resolveOffset(Z,1);if(X==null)return-1;if(Q=X,Q>=this.chunk2Pos&&Q<this.chunk2Pos+this.chunk2.length)K=this.chunk2.charCodeAt(Q-this.chunk2Pos);else{let U=this.rangeIndex,Y=this.range;while(Y.to<=Q)Y=this.ranges[++U];if(this.chunk2=this.input.chunk(this.chunk2Pos=Q),Q+this.chunk2.length>Y.to)this.chunk2=this.chunk2.slice(0,Y.to-Q);K=this.chunk2.charCodeAt(0)}}if(Q>=this.token.lookAhead)this.token.lookAhead=Q+1;return K}acceptToken(Z,J=0){let Q=J?this.resolveOffset(J,-1):this.pos;if(Q==null||Q<this.token.start)throw RangeError("Token end out of bounds");this.token.value=Z,this.token.end=Q}acceptTokenTo(Z,J){this.token.value=Z,this.token.end=J}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Z,chunkPos:J}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Z,this.chunk2Pos=J,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Z=this.input.chunk(this.pos),J=this.pos+Z.length;this.chunk=J>this.range.to?Z.slice(0,this.range.to-this.pos):Z,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Z=1){this.chunkOff+=Z;while(this.pos+Z>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Z-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=Z,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Z,J){if(J)this.token=J,J.start=Z,J.lookAhead=Z+1,J.value=J.extended=-1;else this.token=mQ0;if(this.pos!=Z){if(this.pos=Z,Z==this.end)return this.setDone(),this;while(Z<this.range.from)this.range=this.ranges[--this.rangeIndex];while(Z>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(Z>=this.chunkPos&&Z<this.chunkPos+this.chunk.length)this.chunkOff=Z-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(Z,J){if(Z>=this.chunkPos&&J<=this.chunkPos+this.chunk.length)return this.chunk.slice(Z-this.chunkPos,J-this.chunkPos);if(Z>=this.chunk2Pos&&J<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Z-this.chunk2Pos,J-this.chunk2Pos);if(Z>=this.range.from&&J<=this.range.to)return this.input.read(Z,J);let Q="";for(let K of this.ranges){if(K.from>=J)break;if(K.to>Z)Q+=this.input.read(Math.max(K.from,Z),Math.min(K.to,J))}return Q}}class FG{constructor(Z,J){this.data=Z,this.id=J}token(Z,J){let{parser:Q}=J.p;iQ0(this.data,Z,J,this.id,Q.data,Q.tokenPrecTable)}}FG.prototype.contextual=FG.prototype.fallback=FG.prototype.extend=!1;class MG{constructor(Z,J,Q){this.precTable=J,this.elseToken=Q,this.data=typeof Z=="string"?wR(Z):Z}token(Z,J){let Q=Z.pos,K=0;for(;;){let X=Z.next<0,U=Z.resolveOffset(1,1);if(iQ0(this.data,Z,J,0,this.data,this.precTable),Z.token.value>-1)break;if(this.elseToken==null)return;if(!X)K++;if(U==null)break;Z.reset(U,Z.token)}if(K)Z.reset(Q,Z.token),Z.acceptToken(this.elseToken,K)}}MG.prototype.contextual=FG.prototype.fallback=FG.prototype.extend=!1;class a7{constructor(Z,J={}){this.token=Z,this.contextual=!!J.contextual,this.fallback=!!J.fallback,this.extend=!!J.extend}}function iQ0(Z,J,Q,K,X,U){let Y=0,q=1<<K,{dialect:W}=Q.p.parser;Z:for(;;){if((q&Z[Y])==0)break;let G=Z[Y+1];for(let M=Y+3;M<G;M+=2)if((Z[M+1]&q)>0){let B=Z[M];if(W.allows(B)&&(J.token.value==-1||J.token.value==B||an0(B,J.token.value,X,U))){J.acceptToken(B);break}}let z=J.next,H=0,F=Z[Y+2];if(J.next<0&&F>H&&Z[G+F*3-3]==65535){Y=Z[G+F*3-1];continue Z}for(;H<F;){let M=H+F>>1,B=G+M+(M<<1),O=Z[B],R=Z[B+1]||65536;if(z<O)F=M;else if(z>=R)H=M+1;else{Y=Z[B+2],J.advance();continue Z}}break}}function uQ0(Z,J,Q){for(let K=J,X;(X=Z[K])!=65535;K++)if(X==Q)return K-J;return-1}function an0(Z,J,Q,K){let X=uQ0(Q,K,J);return X<0||uQ0(Q,K,Z)<X}var N4=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),Db=null;function gQ0(Z,J,Q){let K=Z.cursor(e9.IncludeAnonymous);K.moveTo(J);for(;;)if(!(Q<0?K.childBefore(J):K.childAfter(J)))for(;;){if((Q<0?K.to<J:K.from>J)&&!K.type.isError)return Q<0?Math.max(0,Math.min(K.to-1,J-25)):Math.min(Z.length,Math.max(K.from+1,J+25));if(Q<0?K.prevSibling():K.nextSibling())break;if(!K.parent())return Q<0?0:Z.length}}class sQ0{constructor(Z,J){this.fragments=Z,this.nodeSet=J,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Z=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Z){this.safeFrom=Z.openStart?gQ0(Z.tree,Z.from+Z.offset,1)-Z.offset:Z.from,this.safeTo=Z.openEnd?gQ0(Z.tree,Z.to+Z.offset,-1)-Z.offset:Z.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Z.tree),this.start.push(-Z.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Z){if(Z<this.nextStart)return null;while(this.fragment&&this.safeTo<=Z)this.nextFragment();if(!this.fragment)return null;for(;;){let J=this.trees.length-1;if(J<0)return this.nextFragment(),null;let Q=this.trees[J],K=this.index[J];if(K==Q.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let X=Q.children[K],U=this.start[J]+Q.positions[K];if(U>Z)return this.nextStart=U,null;if(X instanceof ZZ){if(U==Z){if(U<this.safeFrom)return null;let Y=U+X.length;if(Y<=this.safeTo){let q=X.prop(J9.lookAhead);if(!q||Y+q<this.fragment.to)return X}}if(this.index[J]++,U+X.length>=Math.max(this.safeFrom,Z))this.trees.push(X),this.start.push(U),this.index.push(0)}else this.index[J]++,this.nextStart=U+X.length}}}class rQ0{constructor(Z,J){this.stream=J,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Z.tokenizers.map((Q)=>new $R)}getActions(Z){let J=0,Q=null,{parser:K}=Z.p,{tokenizers:X}=K,U=K.stateSlot(Z.state,3),Y=Z.curContext?Z.curContext.hash:0,q=0;for(let W=0;W<X.length;W++){if((1<<W&U)==0)continue;let G=X[W],z=this.tokens[W];if(Q&&!G.fallback)continue;if(G.contextual||z.start!=Z.pos||z.mask!=U||z.context!=Y)this.updateCachedToken(z,G,Z),z.mask=U,z.context=Y;if(z.lookAhead>z.end+25)q=Math.max(z.lookAhead,q);if(z.value!=0){let H=J;if(z.extended>-1)J=this.addActions(Z,z.extended,z.end,J);if(J=this.addActions(Z,z.value,z.end,J),!G.extend){if(Q=z,J>H)break}}}while(this.actions.length>J)this.actions.pop();if(q)Z.setLookAhead(q);if(!Q&&Z.pos==this.stream.end)Q=new $R,Q.value=Z.p.parser.eofTerm,Q.start=Q.end=Z.pos,J=this.addActions(Z,Q.value,Q.end,J);return this.mainToken=Q,this.actions}getMainToken(Z){if(this.mainToken)return this.mainToken;let J=new $R,{pos:Q,p:K}=Z;return J.start=Q,J.end=Math.min(Q+1,K.stream.end),J.value=Q==K.stream.end?K.parser.eofTerm:0,J}updateCachedToken(Z,J,Q){let K=this.stream.clipPos(Q.pos);if(J.token(this.stream.reset(K,Z),Q),Z.value>-1){let{parser:X}=Q.p;for(let U=0;U<X.specialized.length;U++)if(X.specialized[U]==Z.value){let Y=X.specializers[U](this.stream.read(Z.start,Z.end),Q);if(Y>=0&&Q.p.parser.dialect.allows(Y>>1)){if((Y&1)==0)Z.value=Y>>1;else Z.extended=Y>>1;break}}}else Z.value=0,Z.end=this.stream.clipPos(K+1)}putAction(Z,J,Q,K){for(let X=0;X<K;X+=3)if(this.actions[X]==Z)return K;return this.actions[K++]=Z,this.actions[K++]=J,this.actions[K++]=Q,K}addActions(Z,J,Q,K){let{state:X}=Z,{parser:U}=Z.p,{data:Y}=U;for(let q=0;q<2;q++)for(let W=U.stateSlot(X,q?2:1);;W+=3){if(Y[W]==65535)if(Y[W+1]==1)W=bU(Y,W+2);else{if(K==0&&Y[W+1]==2)K=this.putAction(bU(Y,W+2),J,Q,K);break}if(Y[W]==J)K=this.putAction(bU(Y,W+1),J,Q,K)}return K}}class nQ0{constructor(Z,J,Q,K){this.parser=Z,this.input=J,this.ranges=K,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new dQ0(J,K),this.tokens=new rQ0(Z,this.stream),this.topTerm=Z.top[1];let{from:X}=K[0];this.stacks=[$E.start(this,Z.top[0],X)],this.fragments=Q.length&&this.stream.end-X>Z.bufferLength*4?new sQ0(Q,Z.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Z=this.stacks,J=this.minStackPos,Q=this.stacks=[],K,X;if(this.bigReductionCount>300&&Z.length==1){let[U]=Z;while(U.forceReduce()&&U.stack.length&&U.stack[U.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let U=0;U<Z.length;U++){let Y=Z[U];for(;;){if(this.tokens.mainToken=null,Y.pos>J)Q.push(Y);else if(this.advanceStack(Y,Q,Z))continue;else{if(!K)K=[],X=[];K.push(Y);let q=this.tokens.getMainToken(Y);X.push(q.value,q.end)}break}}if(!Q.length){let U=K&&on0(K);if(U){if(N4)console.log("Finish with "+this.stackID(U));return this.stackToTree(U)}if(this.parser.strict){if(N4&&K)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw SyntaxError("No parse at "+J)}if(!this.recovering)this.recovering=5}if(this.recovering&&K){let U=this.stoppedAt!=null&&K[0].pos>this.stoppedAt?K[0]:this.runRecovery(K,X,Q);if(U){if(N4)console.log("Force-finish "+this.stackID(U));return this.stackToTree(U.forceAll())}}if(this.recovering){let U=this.recovering==1?1:this.recovering*3;if(Q.length>U){Q.sort((Y,q)=>q.score-Y.score);while(Q.length>U)Q.pop()}if(Q.some((Y)=>Y.reducePos>J))this.recovering--}else if(Q.length>1){Z:for(let U=0;U<Q.length-1;U++){let Y=Q[U];for(let q=U+1;q<Q.length;q++){let W=Q[q];if(Y.sameState(W)||Y.buffer.length>500&&W.buffer.length>500)if((Y.score-W.score||Y.buffer.length-W.buffer.length)>0)Q.splice(q--,1);else{Q.splice(U--,1);continue Z}}}if(Q.length>12)Q.sort((U,Y)=>Y.score-U.score),Q.splice(12,Q.length-12)}this.minStackPos=Q[0].pos;for(let U=1;U<Q.length;U++)if(Q[U].pos<this.minStackPos)this.minStackPos=Q[U].pos;return null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}advanceStack(Z,J,Q){let K=Z.pos,{parser:X}=this,U=N4?this.stackID(Z)+" -> ":"";if(this.stoppedAt!=null&&K>this.stoppedAt)return Z.forceReduce()?Z:null;if(this.fragments){let W=Z.curContext&&Z.curContext.tracker.strict,G=W?Z.curContext.hash:0;for(let z=this.fragments.nodeAt(K);z;){let H=this.parser.nodeSet.types[z.type.id]==z.type?X.getGoto(Z.state,z.type.id):-1;if(H>-1&&z.length&&(!W||(z.prop(J9.contextHash)||0)==G)){if(Z.useNode(z,H),N4)console.log(U+this.stackID(Z)+` (via reuse of ${X.getName(z.type.id)})`);return!0}if(!(z instanceof ZZ)||z.children.length==0||z.positions[0]>0)break;let F=z.children[0];if(F instanceof ZZ&&z.positions[0]==0)z=F;else break}}let Y=X.stateSlot(Z.state,4);if(Y>0){if(Z.reduce(Y),N4)console.log(U+this.stackID(Z)+` (via always-reduce ${X.getName(Y&65535)})`);return!0}if(Z.stack.length>=8400)while(Z.stack.length>6000&&Z.forceReduce());let q=this.tokens.getActions(Z);for(let W=0;W<q.length;){let G=q[W++],z=q[W++],H=q[W++],F=W==q.length||!Q,M=F?Z:Z.split(),B=this.tokens.mainToken;if(M.apply(G,z,B?B.start:M.pos,H),N4)console.log(U+this.stackID(M)+` (via ${(G&65536)==0?"shift":`reduce of ${X.getName(G&65535)}`} for ${X.getName(z)} @ ${K}${M==Z?"":", split"})`);if(F)return!0;else if(M.pos>K)J.push(M);else Q.push(M)}return!1}advanceFully(Z,J){let Q=Z.pos;for(;;){if(!this.advanceStack(Z,null,null))return!1;if(Z.pos>Q)return pQ0(Z,J),!0}}runRecovery(Z,J,Q){let K=null,X=!1;for(let U=0;U<Z.length;U++){let Y=Z[U],q=J[U<<1],W=J[(U<<1)+1],G=N4?this.stackID(Y)+" -> ":"";if(Y.deadEnd){if(X)continue;if(X=!0,Y.restart(),N4)console.log(G+this.stackID(Y)+" (restarted)");if(this.advanceFully(Y,Q))continue}let z=Y.split(),H=G;for(let F=0;F<10&&z.forceReduce();F++){if(N4)console.log(H+this.stackID(z)+" (via force-reduce)");if(this.advanceFully(z,Q))break;if(N4)H=this.stackID(z)+" -> "}for(let F of Y.recoverByInsert(q)){if(N4)console.log(G+this.stackID(F)+" (via recover-insert)");this.advanceFully(F,Q)}if(this.stream.end>Y.pos){if(W==Y.pos)W++,q=0;if(Y.recoverByDelete(q,W),N4)console.log(G+this.stackID(Y)+` (via recover-delete ${this.parser.getName(q)})`);pQ0(Y,Q)}else if(!K||K.score<z.score)K=z}return K}stackToTree(Z){return Z.close(),ZZ.build({buffer:kE.create(Z),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Z.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Z){let J=(Db||(Db=new WeakMap)).get(Z);if(!J)Db.set(Z,J=String.fromCodePoint(this.nextStackID++));return J+Z}}function pQ0(Z,J){for(let Q=0;Q<J.length;Q++){let K=J[Q];if(K.pos==Z.pos&&K.sameState(Z)){if(J[Q].score<Z.score)J[Q]=Z;return}}J.push(Z)}class aQ0{constructor(Z,J,Q){this.source=Z,this.flags=J,this.disabled=Q}allows(Z){return!this.disabled||this.disabled[Z]==0}}var Lb=(Z)=>Z;class kR{constructor(Z){this.start=Z.start,this.shift=Z.shift||Lb,this.reduce=Z.reduce||Lb,this.reuse=Z.reuse||Lb,this.hash=Z.hash||(()=>0),this.strict=Z.strict!==!1}}class yU extends XG{constructor(Z){super();if(this.wrappers=[],Z.version!=14)throw RangeError(`Parser version (${Z.version}) doesn't match runtime version (14)`);let J=Z.nodeNames.split(" ");this.minRepeatTerm=J.length;for(let Y=0;Y<Z.repeatNodeCount;Y++)J.push("");let Q=Object.keys(Z.topRules).map((Y)=>Z.topRules[Y][1]),K=[];for(let Y=0;Y<J.length;Y++)K.push([]);function X(Y,q,W){K[Y].push([q,q.deserialize(String(W))])}if(Z.nodeProps)for(let Y of Z.nodeProps){let q=Y[0];if(typeof q=="string")q=J9[q];for(let W=1;W<Y.length;){let G=Y[W++];if(G>=0)X(G,q,Y[W++]);else{let z=Y[W+-G];for(let H=-G;H>0;H--)X(Y[W++],q,z);W++}}}if(this.nodeSet=new K1(J.map((Y,q)=>xJ.define({name:q>=this.minRepeatTerm?void 0:Y,id:q,props:K[q],top:Q.indexOf(q)>-1,error:q==0,skipped:Z.skippedNodes&&Z.skippedNodes.indexOf(q)>-1}))),Z.propSources)this.nodeSet=this.nodeSet.extend(...Z.propSources);this.strict=!1,this.bufferLength=EZ0;let U=wR(Z.tokenData);this.context=Z.context,this.specializerSpecs=Z.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Y=0;Y<this.specializerSpecs.length;Y++)this.specialized[Y]=this.specializerSpecs[Y].term;this.specializers=this.specializerSpecs.map(cQ0),this.states=wR(Z.states,Uint32Array),this.data=wR(Z.stateData),this.goto=wR(Z.goto),this.maxTerm=Z.maxTerm,this.tokenizers=Z.tokenizers.map((Y)=>typeof Y=="number"?new FG(U,Y):Y),this.topRules=Z.topRules,this.dialects=Z.dialects||{},this.dynamicPrecedences=Z.dynamicPrecedences||null,this.tokenPrecTable=Z.tokenPrec,this.termNames=Z.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Z,J,Q){let K=new nQ0(this,Z,J,Q);for(let X of this.wrappers)K=X(K,Z,J,Q);return K}getGoto(Z,J,Q=!1){let K=this.goto;if(J>=K[0])return-1;for(let X=K[J+1];;){let U=K[X++],Y=U&1,q=K[X++];if(Y&&Q)return q;for(let W=X+(U>>1);X<W;X++)if(K[X]==Z)return q;if(Y)return-1}}hasAction(Z,J){let Q=this.data;for(let K=0;K<2;K++)for(let X=this.stateSlot(Z,K?2:1),U;;X+=3){if((U=Q[X])==65535)if(Q[X+1]==1)U=Q[X=bU(Q,X+2)];else if(Q[X+1]==2)return bU(Q,X+2);else break;if(U==J||U==0)return bU(Q,X+1)}return 0}stateSlot(Z,J){return this.states[Z*6+J]}stateFlag(Z,J){return(this.stateSlot(Z,0)&J)>0}validAction(Z,J){return!!this.allActions(Z,(Q)=>Q==J?!0:null)}allActions(Z,J){let Q=this.stateSlot(Z,4),K=Q?J(Q):void 0;for(let X=this.stateSlot(Z,1);K==null;X+=3){if(this.data[X]==65535)if(this.data[X+1]==1)X=bU(this.data,X+2);else break;K=J(bU(this.data,X+1))}return K}nextStates(Z){let J=[];for(let Q=this.stateSlot(Z,1);;Q+=3){if(this.data[Q]==65535)if(this.data[Q+1]==1)Q=bU(this.data,Q+2);else break;if((this.data[Q+2]&1)==0){let K=this.data[Q+1];if(!J.some((X,U)=>U&1&&X==K))J.push(this.data[Q],K)}}return J}configure(Z){let J=Object.assign(Object.create(yU.prototype),this);if(Z.props)J.nodeSet=this.nodeSet.extend(...Z.props);if(Z.top){let Q=this.topRules[Z.top];if(!Q)throw RangeError(`Invalid top rule name ${Z.top}`);J.top=Q}if(Z.tokenizers)J.tokenizers=this.tokenizers.map((Q)=>{let K=Z.tokenizers.find((X)=>X.from==Q);return K?K.to:Q});if(Z.specializers)J.specializers=this.specializers.slice(),J.specializerSpecs=this.specializerSpecs.map((Q,K)=>{let X=Z.specializers.find((Y)=>Y.from==Q.external);if(!X)return Q;let U=Object.assign(Object.assign({},Q),{external:X.to});return J.specializers[K]=cQ0(U),U});if(Z.contextTracker)J.context=Z.contextTracker;if(Z.dialect)J.dialect=this.parseDialect(Z.dialect);if(Z.strict!=null)J.strict=Z.strict;if(Z.wrap)J.wrappers=J.wrappers.concat(Z.wrap);if(Z.bufferLength!=null)J.bufferLength=Z.bufferLength;return J}hasWrappers(){return this.wrappers.length>0}getName(Z){return this.termNames?this.termNames[Z]:String(Z<=this.maxNode&&this.nodeSet.types[Z].name||Z)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Z){let J=this.dynamicPrecedences;return J==null?0:J[Z]||0}parseDialect(Z){let J=Object.keys(this.dialects),Q=J.map(()=>!1);if(Z)for(let X of Z.split(" ")){let U=J.indexOf(X);if(U>=0)Q[U]=!0}let K=null;for(let X=0;X<J.length;X++)if(!Q[X])for(let U=this.dialects[J[X]],Y;(Y=this.data[U++])!=65535;)(K||(K=new Uint8Array(this.maxTerm+1)))[Y]=1;return new aQ0(Z,Q,K)}static deserialize(Z){return new yU(Z)}}function bU(Z,J){return Z[J]|Z[J+1]<<16}function on0(Z){let J=null;for(let Q of Z){let K=Q.p.stoppedAt;if((Q.pos==Q.p.stream.end||K!=null&&Q.pos>K)&&Q.p.parser.stateFlag(Q.state,2)&&(!J||J.score<Q.score))J=Q}return J}function cQ0(Z){if(Z.external){let J=Z.extend?1:0;return(Q,K)=>Z.external(Q,K)<<1|J}return Z.get}var tn0=55,en0=1,Za0=56,Ja0=2,Qa0=57,Ka0=3,oQ0=4,Xa0=5,Pb=6,U60=7,Y60=8,q60=9,W60=10,Ua0=11,Ya0=12,qa0=13,Ab=58,Wa0=14,Ga0=15,tQ0=59,G60=21,za0=23,z60=24,Ha0=25,Eb=27,H60=28,Fa0=29,Ma0=32,Ba0=35,Oa0=37,Ra0=38,Da0=0,La0=1,Ia0={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Aa0={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},eQ0={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Na0(Z){return Z==45||Z==46||Z==58||Z>=65&&Z<=90||Z==95||Z>=97&&Z<=122||Z>=161}var Z60=null,J60=null,Q60=0;function Vb(Z,J){let Q=Z.pos+J;if(Q60==Q&&J60==Z)return Z60;let K=Z.peek(J),X="";for(;;){if(!Na0(K))break;X+=String.fromCharCode(K),K=Z.peek(++J)}return J60=Z,Q60=Q,Z60=X?X.toLowerCase():K==Ea0||K==Va0?void 0:null}var F60=60,_E=62,jb=47,Ea0=63,Va0=33,Pa0=45;function K60(Z,J){this.name=Z,this.parent=J}var ja0=[Pb,W60,U60,Y60,q60],Ca0=new kR({start:null,shift(Z,J,Q,K){return ja0.indexOf(J)>-1?new K60(Vb(K,1)||"",Z):Z},reduce(Z,J){return J==G60&&Z?Z.parent:Z},reuse(Z,J,Q,K){let X=J.type.id;return X==Pb||X==Oa0?new K60(Vb(K,1)||"",Z):Z},strict:!1}),Sa0=new a7((Z,J)=>{if(Z.next!=F60){if(Z.next<0&&J.context)Z.acceptToken(Ab);return}Z.advance();let Q=Z.next==jb;if(Q)Z.advance();let K=Vb(Z,0);if(K===void 0)return;if(!K)return Z.acceptToken(Q?Ga0:Wa0);let X=J.context?J.context.name:null;if(Q){if(K==X)return Z.acceptToken(Ua0);if(X&&Aa0[X])return Z.acceptToken(Ab,-2);if(J.dialectEnabled(Da0))return Z.acceptToken(Ya0);for(let U=J.context;U;U=U.parent)if(U.name==K)return;Z.acceptToken(qa0)}else{if(K=="script")return Z.acceptToken(U60);if(K=="style")return Z.acceptToken(Y60);if(K=="textarea")return Z.acceptToken(q60);if(Ia0.hasOwnProperty(K))return Z.acceptToken(W60);if(X&&eQ0[X]&&eQ0[X][K])Z.acceptToken(Ab,-1);else Z.acceptToken(Pb)}},{contextual:!0}),Ta0=new a7((Z)=>{for(let J=0,Q=0;;Q++){if(Z.next<0){if(Q)Z.acceptToken(tQ0);break}if(Z.next==Pa0)J++;else if(Z.next==_E&&J>=2){if(Q>=3)Z.acceptToken(tQ0,-2);break}else J=0;Z.advance()}});function wa0(Z){for(;Z;Z=Z.parent)if(Z.name=="svg"||Z.name=="math")return!0;return!1}var $a0=new a7((Z,J)=>{if(Z.next==jb&&Z.peek(1)==_E){let Q=J.dialectEnabled(La0)||wa0(J.context);Z.acceptToken(Q?Xa0:oQ0,2)}else if(Z.next==_E)Z.acceptToken(oQ0,1)});function Cb(Z,J,Q){let K=2+Z.length;return new a7((X)=>{for(let U=0,Y=0,q=0;;q++){if(X.next<0){if(q)X.acceptToken(J);break}if(U==0&&X.next==F60||U==1&&X.next==jb||U>=2&&U<K&&X.next==Z.charCodeAt(U-2))U++,Y++;else if(U==K&&X.next==_E){if(q>Y)X.acceptToken(J,-Y);else X.acceptToken(Q,-(Y-2));break}else if((X.next==10||X.next==13)&&q){X.acceptToken(J,1);break}else U=Y=0;X.advance()}})}var ka0=Cb("script",tn0,en0),_a0=Cb("style",Za0,Ja0),fa0=Cb("textarea",Qa0,Ka0),va0=oK({"Text RawText IncompleteTag IncompleteCloseTag":R0.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":R0.angleBracket,TagName:R0.tagName,"MismatchedCloseTag/TagName":[R0.tagName,R0.invalid],AttributeName:R0.attributeName,"AttributeValue UnquotedAttributeValue":R0.attributeValue,Is:R0.definitionOperator,"EntityReference CharacterReference":R0.character,Comment:R0.blockComment,ProcessingInst:R0.processingInstruction,DoctypeDecl:R0.documentMeta}),M60=yU.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:Ca0,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[va0],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[ka0,_a0,fa0,$a0,Sa0,Ta0,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function B60(Z,J){let Q=Object.create(null);for(let K of Z.getChildren(z60)){let X=K.getChild(Ha0),U=K.getChild(Eb)||K.getChild(H60);if(X)Q[J.read(X.from,X.to)]=!U?"":U.type.id==Eb?J.read(U.from+1,U.to-1):J.read(U.from,U.to)}return Q}function X60(Z,J){let Q=Z.getChild(za0);return Q?J.read(Q.from,Q.to):" "}function Nb(Z,J,Q){let K;for(let X of Q)if(!X.attrs||X.attrs(K||(K=B60(Z.node.parent.firstChild,J))))return{parser:X.parser,bracketed:!0};return null}function Sb(Z=[],J=[]){let Q=[],K=[],X=[],U=[];for(let q of Z)(q.tag=="script"?Q:q.tag=="style"?K:q.tag=="textarea"?X:U).push(q);let Y=J.length?Object.create(null):null;for(let q of J)(Y[q.name]||(Y[q.name]=[])).push(q);return sN((q,W)=>{let G=q.type.id;if(G==Fa0)return Nb(q,W,Q);if(G==Ma0)return Nb(q,W,K);if(G==Ba0)return Nb(q,W,X);if(G==G60&&U.length){let z=q.node,H=z.firstChild,F=H&&X60(H,W),M;if(F){for(let B of U)if(B.tag==F&&(!B.attrs||B.attrs(M||(M=B60(H,W))))){let O=z.lastChild,R=O.type.id==Ra0?O.from:z.to;if(R>H.to)return{parser:B.parser,overlay:[{from:H.to,to:R}]}}}}if(Y&&G==z60){let z=q.node,H;if(H=z.firstChild){let F=Y[W.read(H.from,H.to)];if(F)for(let M of F){if(M.tagName&&M.tagName!=X60(z.parent,W))continue;let B=z.lastChild;if(B.type.id==Eb){let O=B.from+1,R=B.lastChild,D=B.to-(R&&R.isError?0:1);if(D>O)return{parser:M.parser,overlay:[{from:O,to:D}],bracketed:!0}}else if(B.type.id==H60)return{parser:M.parser,overlay:[{from:B.from,to:B.to}]}}}}return null})}var xa0=122,O60=1,ba0=123,ya0=124,D60=2,ha0=125,ma0=3,ua0=4,L60=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ga0=58,pa0=40,I60=95,ca0=91,fE=45,la0=46,da0=35,ia0=37,sa0=38,ra0=92,na0=10,aa0=42;function _R(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z>=161}function Tb(Z){return Z>=48&&Z<=57}function R60(Z){return Tb(Z)||Z>=97&&Z<=102||Z>=65&&Z<=70}var A60=(Z,J,Q)=>(K,X)=>{for(let U=!1,Y=0,q=0;;q++){let{next:W}=K;if(_R(W)||W==fE||W==I60||U&&Tb(W)){if(!U&&(W!=fE||q>0))U=!0;if(Y===q&&W==fE)Y++;K.advance()}else if(W==ra0&&K.peek(1)!=na0){if(K.advance(),R60(K.next)){do K.advance();while(R60(K.next));if(K.next==32)K.advance()}else if(K.next>-1)K.advance();U=!0}else{if(U)K.acceptToken(Y==2&&X.canShift(D60)?J:W==pa0?Q:Z);break}}},oa0=new a7(A60(ba0,D60,ya0)),ta0=new a7(A60(ha0,ma0,ua0)),ea0=new a7((Z)=>{if(L60.includes(Z.peek(-1))){let{next:J}=Z;if(_R(J)||J==I60||J==da0||J==la0||J==aa0||J==ca0||J==ga0&&_R(Z.peek(1))||J==fE||J==sa0)Z.acceptToken(xa0)}}),Zo0=new a7((Z)=>{if(!L60.includes(Z.peek(-1))){let{next:J}=Z;if(J==ia0)Z.advance(),Z.acceptToken(O60);if(_R(J)){do Z.advance();while(_R(Z.next)||Tb(Z.next));Z.acceptToken(O60)}}}),Jo0=oK({"AtKeyword import charset namespace keyframes media supports":R0.definitionKeyword,"from to selector":R0.keyword,NamespaceName:R0.namespace,KeyframeName:R0.labelName,KeyframeRangeName:R0.operatorKeyword,TagName:R0.tagName,ClassName:R0.className,PseudoClassName:R0.constant(R0.className),IdName:R0.labelName,"FeatureName PropertyName":R0.propertyName,AttributeName:R0.attributeName,NumberLiteral:R0.number,KeywordQuery:R0.keyword,UnaryQueryOp:R0.operatorKeyword,"CallTag ValueName":R0.atom,VariableName:R0.variableName,Callee:R0.operatorKeyword,Unit:R0.unit,"UniversalSelector NestingSelector":R0.definitionOperator,"MatchOp CompareOp":R0.compareOperator,"ChildOp SiblingOp, LogicOp":R0.logicOperator,BinOp:R0.arithmeticOperator,Important:R0.modifier,Comment:R0.blockComment,ColorLiteral:R0.color,"ParenthesizedContent StringLiteral":R0.string,":":R0.punctuation,"PseudoOp #":R0.derefOperator,"; ,":R0.separator,"( )":R0.paren,"[ ]":R0.squareBracket,"{ }":R0.brace}),Qo0={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},Ko0={__proto__:null,or:98,and:98,not:106,only:106,layer:170},Xo0={__proto__:null,selector:112,layer:166},Uo0={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},Yo0={__proto__:null,to:207},N60=yU.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[Jo0],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[ea0,Zo0,oa0,ta0,1,2,3,4,new MG("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:(Z)=>Qo0[Z]||-1},{term:125,get:(Z)=>Ko0[Z]||-1},{term:4,get:(Z)=>Xo0[Z]||-1},{term:25,get:(Z)=>Uo0[Z]||-1},{term:123,get:(Z)=>Yo0[Z]||-1}],tokenPrec:1963});var wb=null;function $b(){if(!wb&&typeof document=="object"&&document.body){let{style:Z}=document.body,J=[],Q=new Set;for(let K in Z)if(K!="cssText"&&K!="cssFloat"){if(typeof Z[K]=="string"){if(/[A-Z]/.test(K))K=K.replace(/[A-Z]/g,(X)=>"-"+X.toLowerCase());if(!Q.has(K))J.push(K),Q.add(K)}}wb=J.sort().map((K)=>({type:"property",label:K,apply:K+": "}))}return wb||[]}var E60=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((Z)=>({type:"class",label:Z})),V60=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((Z)=>({type:"keyword",label:Z})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((Z)=>({type:"constant",label:Z}))),qo0=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((Z)=>({type:"type",label:Z})),Wo0=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map((Z)=>({type:"keyword",label:Z})),hU=/^(\w[\w-]*|-\w[\w-]*|)$/,Go0=/^-(-[\w-]*)?$/;function zo0(Z,J){var Q;if(Z.name=="("||Z.type.isError)Z=Z.parent||Z;if(Z.name!="ArgList")return!1;let K=(Q=Z.parent)===null||Q===void 0?void 0:Q.firstChild;if((K===null||K===void 0?void 0:K.name)!="Callee")return!1;return J.sliceString(K.from,K.to)=="var"}var P60=new YR,Ho0=["Declaration"];function Fo0(Z){for(let J=Z;;){if(J.type.isTop)return J;if(!(J=J.parent))return Z}}function j60(Z,J,Q){if(J.to-J.from>4096){let K=P60.get(J);if(K)return K;let X=[],U=new Set,Y=J.cursor(e9.IncludeAnonymous);if(Y.firstChild())do for(let q of j60(Z,Y.node,Q))if(!U.has(q.label))U.add(q.label),X.push(q);while(Y.nextSibling());return P60.set(J,X),X}else{let K=[],X=new Set;return J.cursor().iterate((U)=>{var Y;if(Q(U)&&U.matchContext(Ho0)&&((Y=U.node.nextSibling)===null||Y===void 0?void 0:Y.name)==":"){let q=Z.sliceString(U.from,U.to);if(!X.has(q))X.add(q),K.push({label:q,type:"variable"})}}),K}}var Mo0=(Z)=>(J)=>{let{state:Q,pos:K}=J,X=KZ(Q).resolveInner(K,-1),U=X.type.isError&&X.from==X.to-1&&Q.doc.sliceString(X.from,X.to)=="-";if(X.name=="PropertyName"||(U||X.name=="TagName")&&/^(Block|Styles)$/.test(X.resolve(X.to).name))return{from:X.from,options:$b(),validFor:hU};if(X.name=="ValueName")return{from:X.from,options:V60,validFor:hU};if(X.name=="PseudoClassName")return{from:X.from,options:E60,validFor:hU};if(Z(X)||(J.explicit||U)&&zo0(X,Q.doc))return{from:Z(X)||U?X.from:K,options:j60(Q.doc,Fo0(X),Z),validFor:Go0};if(X.name=="TagName"){for(let{parent:W}=X;W;W=W.parent)if(W.name=="Block")return{from:X.from,options:$b(),validFor:hU};return{from:X.from,options:qo0,validFor:hU}}if(X.name=="AtKeyword")return{from:X.from,options:Wo0,validFor:hU};if(!J.explicit)return null;let Y=X.resolve(K),q=Y.childBefore(K);if(q&&q.name==":"&&Y.name=="PseudoClassSelector")return{from:K,options:E60,validFor:hU};if(q&&q.name==":"&&Y.name=="Declaration"||Y.name=="ArgList")return{from:K,options:V60,validFor:hU};if(Y.name=="Block"||Y.name=="Styles")return{from:K,options:$b(),validFor:hU};return null},Bo0=Mo0((Z)=>Z.name=="VariableName"),fR=vU.define({name:"css",parser:N60.configure({props:[xU.add({Declaration:jH()}),QX.add({"Block KeyframeList":KE})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function C60(){return new JX(fR,fR.data.of({autocomplete:Bo0}))}var Oo0=316,Ro0=317,S60=1,Do0=2,Lo0=3,Io0=4,Ao0=318,No0=320,Eo0=321,Vo0=5,Po0=6,jo0=0,_b=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],T60=125,Co0=59,fb=47,So0=42,To0=43,wo0=45,$o0=60,ko0=44,_o0=63,fo0=46,vo0=91,xo0=new kR({start:!1,shift(Z,J){return J==Vo0||J==Po0||J==No0?Z:J==Eo0},strict:!1}),bo0=new a7((Z,J)=>{let{next:Q}=Z;if(Q==T60||Q==-1||J.context)Z.acceptToken(Ao0)},{contextual:!0,fallback:!0}),yo0=new a7((Z,J)=>{let{next:Q}=Z,K;if(_b.indexOf(Q)>-1)return;if(Q==fb&&((K=Z.peek(1))==fb||K==So0))return;if(Q!=T60&&Q!=Co0&&Q!=-1&&!J.context)Z.acceptToken(Oo0)},{contextual:!0}),ho0=new a7((Z,J)=>{if(Z.next==vo0&&!J.context)Z.acceptToken(Ro0)},{contextual:!0}),mo0=new a7((Z,J)=>{let{next:Q}=Z;if(Q==To0||Q==wo0){if(Z.advance(),Q==Z.next){Z.advance();let K=!J.context&&J.canShift(S60);Z.acceptToken(K?S60:Do0)}}else if(Q==_o0&&Z.peek(1)==fo0){if(Z.advance(),Z.advance(),Z.next<48||Z.next>57)Z.acceptToken(Lo0)}},{contextual:!0});function kb(Z,J){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z==95||Z>=192||!J&&Z>=48&&Z<=57}var uo0=new a7((Z,J)=>{if(Z.next!=$o0||!J.dialectEnabled(jo0))return;if(Z.advance(),Z.next==fb)return;let Q=0;while(_b.indexOf(Z.next)>-1)Z.advance(),Q++;if(kb(Z.next,!0)){Z.advance(),Q++;while(kb(Z.next,!1))Z.advance(),Q++;while(_b.indexOf(Z.next)>-1)Z.advance(),Q++;if(Z.next==ko0)return;for(let K=0;;K++){if(K==7){if(!kb(Z.next,!0))return;break}if(Z.next!="extends".charCodeAt(K))break;Z.advance(),Q++}}Z.acceptToken(Io0,-Q)}),go0=oK({"get set async static":R0.modifier,"for while do if else switch try catch finally return throw break continue default case defer":R0.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":R0.operatorKeyword,"let var const using function class extends":R0.definitionKeyword,"import export from":R0.moduleKeyword,"with debugger new":R0.keyword,TemplateString:R0.special(R0.string),super:R0.atom,BooleanLiteral:R0.bool,this:R0.self,null:R0.null,Star:R0.modifier,VariableName:R0.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":R0.function(R0.variableName),VariableDefinition:R0.definition(R0.variableName),Label:R0.labelName,PropertyName:R0.propertyName,PrivatePropertyName:R0.special(R0.propertyName),"CallExpression/MemberExpression/PropertyName":R0.function(R0.propertyName),"FunctionDeclaration/VariableDefinition":R0.function(R0.definition(R0.variableName)),"ClassDeclaration/VariableDefinition":R0.definition(R0.className),"NewExpression/VariableName":R0.className,PropertyDefinition:R0.definition(R0.propertyName),PrivatePropertyDefinition:R0.definition(R0.special(R0.propertyName)),UpdateOp:R0.updateOperator,"LineComment Hashbang":R0.lineComment,BlockComment:R0.blockComment,Number:R0.number,String:R0.string,Escape:R0.escape,ArithOp:R0.arithmeticOperator,LogicOp:R0.logicOperator,BitOp:R0.bitwiseOperator,CompareOp:R0.compareOperator,RegExp:R0.regexp,Equals:R0.definitionOperator,Arrow:R0.function(R0.punctuation),": Spread":R0.punctuation,"( )":R0.paren,"[ ]":R0.squareBracket,"{ }":R0.brace,"InterpolationStart InterpolationEnd":R0.special(R0.brace),".":R0.derefOperator,", ;":R0.separator,"@":R0.meta,TypeName:R0.typeName,TypeDefinition:R0.definition(R0.typeName),"type enum interface implements namespace module declare":R0.definitionKeyword,"abstract global Privacy readonly override":R0.modifier,"is keyof unique infer asserts":R0.operatorKeyword,JSXAttributeValue:R0.attributeValue,JSXText:R0.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":R0.angleBracket,"JSXIdentifier JSXNameSpacedName":R0.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":R0.attributeName,"JSXBuiltin/JSXIdentifier":R0.standard(R0.tagName)}),po0={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},co0={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},lo0={__proto__:null,"<":193},w60=yU.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:xo0,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[go0],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[yo0,ho0,mo0,uo0,2,3,4,5,6,7,8,9,10,11,12,13,14,bo0,new MG("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new MG("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{"80":1,"82":1,"94":1,"169":1,"199":1},specialized:[{term:327,get:(Z)=>po0[Z]||-1},{term:343,get:(Z)=>co0[Z]||-1},{term:95,get:(Z)=>lo0[Z]||-1}],tokenPrec:15201});var f60=[iQ("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),iQ("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),iQ("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),iQ("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),iQ("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),iQ(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),iQ("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),iQ(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),iQ(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),iQ('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),iQ('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],do0=f60.concat([iQ("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),iQ("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),iQ("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),$60=new YR,v60=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function vR(Z){return(J,Q)=>{let K=J.node.getChild("VariableDefinition");if(K)Q(K,Z);return!0}}var io0=["FunctionDeclaration"],so0={FunctionDeclaration:vR("function"),ClassDeclaration:vR("class"),ClassExpression:()=>!0,EnumDeclaration:vR("constant"),TypeAliasDeclaration:vR("type"),NamespaceDeclaration:vR("namespace"),VariableDefinition(Z,J){if(!Z.matchContext(io0))J(Z,"variable")},TypeDefinition(Z,J){J(Z,"type")},__proto__:null};function x60(Z,J){let Q=$60.get(J);if(Q)return Q;let K=[],X=!0;function U(Y,q){let W=Z.sliceString(Y.from,Y.to);K.push({label:W,type:q})}return J.cursor(e9.IncludeAnonymous).iterate((Y)=>{if(X)X=!1;else if(Y.name){let q=so0[Y.name];if(q&&q(Y,U)||v60.has(Y.name))return!1}else if(Y.to-Y.from>8192){for(let q of x60(Z,Y.node))K.push(q);return!1}}),$60.set(J,K),K}var k60=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,b60=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function ro0(Z){let J=KZ(Z.state).resolveInner(Z.pos,-1);if(b60.indexOf(J.name)>-1)return null;let Q=J.name=="VariableName"||J.to-J.from<20&&k60.test(Z.state.sliceDoc(J.from,J.to));if(!Q&&!Z.explicit)return null;let K=[];for(let X=J;X;X=X.parent)if(v60.has(X.name))K=K.concat(x60(Z.state.doc,X));return{options:K,from:Q?J.from:Z.pos,validFor:k60}}var J5=vU.define({name:"javascript",parser:w60.configure({props:[xU.add({IfStatement:jH({except:/^\s*({|else\b)/}),TryStatement:jH({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:rZ0,SwitchBody:(Z)=>{let J=Z.textAfter,Q=/^\s*\}/.test(J),K=/^\s*(case|default)\b/.test(J);return Z.baseIndent+(Q?0:K?1:2)*Z.unit},Block:iZ0({closing:"}"}),ArrowFunction:(Z)=>Z.baseIndent+Z.unit,"TemplateString BlockComment":()=>null,"Statement Property":jH({except:/^\s*{/}),JSXElement(Z){let J=/^\s*<\//.test(Z.textAfter);return Z.lineIndent(Z.node.from)+(J?0:Z.unit)},JSXEscape(Z){let J=/\s*\}/.test(Z.textAfter);return Z.lineIndent(Z.node.from)+(J?0:Z.unit)},"JSXOpenTag JSXSelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit}}),QX.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":KE,BlockComment(Z){return{from:Z.from+2,to:Z.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),y60={test:(Z)=>/^JSX/.test(Z.name),facet:GR({commentTokens:{block:{open:"{/*",close:"*/}"}}})},vb=J5.configure({dialect:"ts"},"typescript"),xb=J5.configure({dialect:"jsx",props:[JE.add((Z)=>Z.isTop?[y60]:void 0)]}),bb=J5.configure({dialect:"jsx ts",props:[JE.add((Z)=>Z.isTop?[y60]:void 0)]},"typescript"),h60=(Z)=>({label:Z,type:"keyword"}),m60="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(h60),no0=m60.concat(["declare","implements","private","protected","public"].map(h60));function u60(Z={}){let J=Z.jsx?Z.typescript?bb:xb:Z.typescript?vb:J5,Q=Z.typescript?do0.concat(no0):f60.concat(m60);return new JX(J,[J5.data.of({autocomplete:E70(b60,sx(Q))}),J5.data.of({autocomplete:ro0}),Z.jsx?to0:[]])}function ao0(Z){for(;;){if(Z.name=="JSXOpenTag"||Z.name=="JSXSelfClosingTag"||Z.name=="JSXFragmentTag")return Z;if(Z.name=="JSXEscape"||!Z.parent)return null;Z=Z.parent}}function _60(Z,J,Q=Z.length){for(let K=J===null||J===void 0?void 0:J.firstChild;K;K=K.nextSibling)if(K.name=="JSXIdentifier"||K.name=="JSXBuiltin"||K.name=="JSXNamespacedName"||K.name=="JSXMemberExpression")return Z.sliceString(K.from,Math.min(K.to,Q));return""}var oo0=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),to0=N8.inputHandler.of((Z,J,Q,K,X)=>{if((oo0?Z.composing:Z.compositionStarted)||Z.state.readOnly||J!=Q||K!=">"&&K!="/"||!J5.isActiveAt(Z.state,J,-1))return!1;let U=X(),{state:Y}=U,q=Y.changeByRange((W)=>{var G;let{head:z}=W,H=KZ(Y).resolveInner(z-1,-1),F;if(H.name=="JSXStartTag")H=H.parent;if(Y.doc.sliceString(z-1,z)!=K||H.name=="JSXAttributeValue"&&H.to>z);else if(K==">"&&H.name=="JSXFragmentTag")return{range:W,changes:{from:z,insert:"</>"}};else if(K=="/"&&H.name=="JSXStartCloseTag"){let M=H.parent,B=M.parent;if(B&&M.from==z-2&&((F=_60(Y.doc,B.firstChild,z))||((G=B.firstChild)===null||G===void 0?void 0:G.name)=="JSXFragmentTag")){let O=`${F}>`;return{range:a0.cursor(z+O.length,-1),changes:{from:z,insert:O}}}}else if(K==">"){let M=ao0(H);if(M&&M.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(Y.doc.sliceString(z,z+2))&&(F=_60(Y.doc,M,z)))return{range:W,changes:{from:z,insert:`</${F}>`}}}return{range:W}});if(q.changes.empty)return!1;return Z.dispatch([U,Y.update(q,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var xR=["_blank","_self","_top","_parent"],yb=["ascii","utf-8","utf-16","latin1","latin1"],hb=["get","post","put","delete"],mb=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],E4=["true","false"],o8={},eo0={a:{attrs:{href:null,ping:null,type:null,media:null,target:xR,hreflang:null}},abbr:o8,address:o8,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:o8,aside:o8,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:o8,base:{attrs:{href:null,target:xR}},bdi:o8,bdo:o8,blockquote:{attrs:{cite:null}},body:o8,br:o8,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:mb,formmethod:hb,formnovalidate:["novalidate"],formtarget:xR,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:o8,center:o8,cite:o8,code:o8,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:o8,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:o8,div:o8,dl:o8,dt:o8,em:o8,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:o8,figure:o8,footer:o8,form:{attrs:{action:null,name:null,"accept-charset":yb,autocomplete:["on","off"],enctype:mb,method:hb,novalidate:["novalidate"],target:xR}},h1:o8,h2:o8,h3:o8,h4:o8,h5:o8,h6:o8,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:o8,hgroup:o8,hr:o8,html:{attrs:{manifest:null}},i:o8,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:mb,formmethod:hb,formnovalidate:["novalidate"],formtarget:xR,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:o8,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:o8,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:o8,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:yb,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:o8,noscript:o8,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:o8,param:{attrs:{name:null,value:null}},pre:o8,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:o8,rt:o8,ruby:o8,samp:o8,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:yb}},section:o8,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:o8,source:{attrs:{src:null,type:null,media:null}},span:o8,strong:o8,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:o8,summary:o8,sup:o8,table:o8,tbody:o8,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:o8,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:o8,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:o8,time:{attrs:{datetime:null}},title:o8,tr:o8,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:o8,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:o8},l60={accesskey:null,class:null,contenteditable:E4,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:E4,autocorrect:E4,autocapitalize:E4,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":E4,"aria-autocomplete":["inline","list","both","none"],"aria-busy":E4,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":E4,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":E4,"aria-hidden":E4,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":E4,"aria-multiselectable":E4,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":E4,"aria-relevant":null,"aria-required":E4,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},d60="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((Z)=>"on"+Z);for(let Z of d60)l60[Z]=null;class hH{constructor(Z,J){this.tags={...eo0,...Z},this.globalAttrs={...l60,...J},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}hH.default=new hH;function mH(Z,J,Q=Z.length){if(!J)return"";let K=J.firstChild,X=K&&K.getChild("TagName");return X?Z.sliceString(X.from,Math.min(X.to,Q)):""}function uH(Z,J=!1){for(;Z;Z=Z.parent)if(Z.name=="Element")if(J)J=!1;else return Z;return null}function i60(Z,J,Q){let K=Q.tags[mH(Z,uH(J))];return(K===null||K===void 0?void 0:K.children)||Q.allTags}function ub(Z,J){let Q=[];for(let K=uH(J);K&&!K.type.isTop;K=uH(K.parent)){let X=mH(Z,K);if(X&&K.lastChild.name=="CloseTag")break;if(X&&Q.indexOf(X)<0&&(J.name=="EndTag"||J.from>=K.firstChild.to))Q.push(X)}return Q}var s60=/^[:\-\.\w\u00b7-\uffff]*$/;function g60(Z,J,Q,K,X){let U=/\s*>/.test(Z.sliceDoc(X,X+5))?"":">",Y=uH(Q,Q.name=="StartTag"||Q.name=="TagName");return{from:K,to:X,options:i60(Z.doc,Y,J).map((q)=>({label:q,type:"type"})).concat(ub(Z.doc,Q).map((q,W)=>({label:"/"+q,apply:"/"+q+U,type:"type",boost:99-W}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function p60(Z,J,Q,K){let X=/\s*>/.test(Z.sliceDoc(K,K+5))?"":">";return{from:Q,to:K,options:ub(Z.doc,J).map((U,Y)=>({label:U,apply:U+X,type:"type",boost:99-Y})),validFor:s60}}function Zt0(Z,J,Q,K){let X=[],U=0;for(let Y of i60(Z.doc,Q,J))X.push({label:"<"+Y,type:"type"});for(let Y of ub(Z.doc,Q))X.push({label:"</"+Y+">",type:"type",boost:99-U++});return{from:K,to:K,options:X,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Jt0(Z,J,Q,K,X){let U=uH(Q),Y=U?J.tags[mH(Z.doc,U)]:null,q=Y&&Y.attrs?Object.keys(Y.attrs):[],W=Y&&Y.globalAttrs===!1?q:q.length?q.concat(J.globalAttrNames):J.globalAttrNames;return{from:K,to:X,options:W.map((G)=>({label:G,type:"property"})),validFor:s60}}function Qt0(Z,J,Q,K,X){var U;let Y=(U=Q.parent)===null||U===void 0?void 0:U.getChild("AttributeName"),q=[],W=void 0;if(Y){let G=Z.sliceDoc(Y.from,Y.to),z=J.globalAttrs[G];if(!z){let H=uH(Q),F=H?J.tags[mH(Z.doc,H)]:null;z=(F===null||F===void 0?void 0:F.attrs)&&F.attrs[G]}if(z){let H=Z.sliceDoc(K,X).toLowerCase(),F='"',M='"';if(/^['"]/.test(H))W=H[0]=='"'?/^[^"]*$/:/^[^']*$/,F="",M=Z.sliceDoc(X,X+1)==H[0]?"":H[0],H=H.slice(1),K++;else W=/^[^\s<>='"]*$/;for(let B of z)q.push({label:B,apply:F+B+M,type:"constant"})}}return{from:K,to:X,options:q,validFor:W}}function r60(Z,J){let{state:Q,pos:K}=J,X=KZ(Q).resolveInner(K,-1),U=X.resolve(K);for(let Y=K,q;U==X&&(q=X.childBefore(Y));){let W=q.lastChild;if(!W||!W.type.isError||W.from<W.to)break;U=X=q,Y=W.from}if(X.name=="TagName")return X.parent&&/CloseTag$/.test(X.parent.name)?p60(Q,X,X.from,K):g60(Q,Z,X,X.from,K);else if(X.name=="StartTag"||X.name=="IncompleteTag")return g60(Q,Z,X,K,K);else if(X.name=="StartCloseTag"||X.name=="IncompleteCloseTag")return p60(Q,X,K,K);else if(X.name=="OpenTag"||X.name=="SelfClosingTag"||X.name=="AttributeName")return Jt0(Q,Z,X,X.name=="AttributeName"?X.from:K,K);else if(X.name=="Is"||X.name=="AttributeValue"||X.name=="UnquotedAttributeValue")return Qt0(Q,Z,X,X.name=="Is"?K:X.from,K);else if(J.explicit&&(U.name=="Element"||U.name=="Text"||U.name=="Document"))return Zt0(Q,Z,X,K);else return null}function n60(Z){return r60(hH.default,Z)}function Kt0(Z){let{extraTags:J,extraGlobalAttributes:Q}=Z,K=Q||J?new hH(J,Q):hH.default;return(X)=>r60(K,X)}var Xt0=J5.parser.configure({top:"SingleExpression"}),a60=[{tag:"script",attrs:(Z)=>Z.type=="text/typescript"||Z.lang=="ts",parser:vb.parser},{tag:"script",attrs:(Z)=>Z.type=="text/babel"||Z.type=="text/jsx",parser:xb.parser},{tag:"script",attrs:(Z)=>Z.type=="text/typescript-jsx",parser:bb.parser},{tag:"script",attrs(Z){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(Z.type)},parser:Xt0},{tag:"script",attrs(Z){return!Z.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(Z.type)},parser:J5.parser},{tag:"style",attrs(Z){return(!Z.lang||Z.lang=="css")&&(!Z.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(Z.type))},parser:fR.parser}],o60=[{name:"style",parser:fR.parser.configure({top:"Styles"})}].concat(d60.map((Z)=>({name:Z,parser:J5.parser}))),t60=vU.define({name:"html",parser:M60.configure({props:[xU.add({Element(Z){let J=/^(\s*)(<\/)?/.exec(Z.textAfter);if(Z.node.to<=Z.pos+J[0].length)return Z.continue();return Z.lineIndent(Z.node.from)+(J[2]?0:Z.unit)},"OpenTag CloseTag SelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit},Document(Z){if(Z.pos+/\s*/.exec(Z.textAfter)[0].length<Z.node.to)return Z.continue();let J=null,Q;for(let K=Z.node;;){let X=K.lastChild;if(!X||X.name!="Element"||X.to!=K.to)break;J=K=X}if(J&&!((Q=J.lastChild)&&(Q.name=="CloseTag"||Q.name=="SelfClosingTag")))return Z.lineIndent(J.from)+Z.unit;return null}}),QX.add({Element(Z){let{firstChild:J,lastChild:Q}=Z;if(!J||J.name!="OpenTag")return null;return{from:J.to,to:Q.name=="CloseTag"?Q.from:Z.to}}}),Px.add({"OpenTag CloseTag":(Z)=>Z.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),vE=t60.configure({wrap:Sb(a60,o60)});function e60(Z={}){let J="",Q;if(Z.matchClosingTags===!1)J="noMatch";if(Z.selfClosingTags===!0)J=(J?J+" ":"")+"selfClosing";if(Z.nestedLanguages&&Z.nestedLanguages.length||Z.nestedAttributes&&Z.nestedAttributes.length)Q=Sb((Z.nestedLanguages||[]).concat(a60),(Z.nestedAttributes||[]).concat(o60));let K=Q?t60.configure({wrap:Q,dialect:J}):J?vE.configure({dialect:J}):vE;return new JX(K,[vE.data.of({autocomplete:Kt0(Z)}),Z.autoCloseTags!==!1?Ut0:[],u60().support,C60().support])}var c60=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Ut0=N8.inputHandler.of((Z,J,Q,K,X)=>{if(Z.composing||Z.state.readOnly||J!=Q||K!=">"&&K!="/"||!vE.isActiveAt(Z.state,J,-1))return!1;let U=X(),{state:Y}=U,q=Y.changeByRange((W)=>{var G,z,H;let F=Y.doc.sliceString(W.from-1,W.to)==K,{head:M}=W,B=KZ(Y).resolveInner(M,-1),O;if(F&&K==">"&&B.name=="EndTag"){let R=B.parent;if(((z=(G=R.parent)===null||G===void 0?void 0:G.lastChild)===null||z===void 0?void 0:z.name)!="CloseTag"&&(O=mH(Y.doc,R.parent,M))&&!c60.has(O)){let D=M+(Y.doc.sliceString(M,M+1)===">"?1:0),L=`</${O}>`;return{range:W,changes:{from:M,to:D,insert:L}}}}else if(F&&K=="/"&&B.name=="IncompleteCloseTag"){let R=B.parent;if(B.from==M-2&&((H=R.lastChild)===null||H===void 0?void 0:H.name)!="CloseTag"&&(O=mH(Y.doc,R,M))&&!c60.has(O)){let D=M+(Y.doc.sliceString(M,M+1)===">"?1:0),L=`${O}>`;return{range:a0.cursor(M+L.length,-1),changes:{from:M,to:D,insert:L}}}}return{range:W}});if(q.changes.empty)return!1;return Z.dispatch([U,Y.update(q,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var Q40=GR({commentTokens:{block:{open:"<!--",close:"-->"}}}),K40=new J9,X40=$Q0.configure({props:[QX.add((Z)=>{return!Z.is("Block")||Z.is("Document")||cb(Z)!=null||Yt0(Z)?void 0:(J,Q)=>({from:Q.doc.lineAt(J.from).to,to:J.to})}),K40.add(cb),xU.add({Document:()=>null}),Y1.add({Document:Q40})]});function cb(Z){let J=/^(?:ATX|Setext)Heading(\d)$/.exec(Z.name);return J?+J[1]:void 0}function Yt0(Z){return Z.name=="OrderedList"||Z.name=="BulletList"}function qt0(Z,J){let Q=Z;for(;;){let K=Q.nextSibling,X;if(!K||(X=cb(K.type))!=null&&X<=J)break;Q=K}return Q.to}var Wt0=Ex.of((Z,J,Q)=>{for(let K=KZ(Z).resolveInner(Q,-1);K;K=K.parent){if(K.from<J)break;let X=K.type.prop(K40);if(X==null)continue;let U=qt0(K,X);if(U>Q)return{from:Q,to:U}}return null});function lb(Z){return new $6(Q40,Z,[],"markdown")}var Gt0=lb(X40),zt0=X40.configure([vQ0,yQ0,bQ0,hQ0,{props:[QX.add({Table:(Z,J)=>({from:J.doc.lineAt(Z.from).to,to:Z.to})})]}]),bE=lb(zt0);function Ht0(Z,J){return(Q)=>{if(Q&&Z){let K=null;if(Q=/\S*/.exec(Q)[0],typeof Z=="function")K=Z(Q);else K=zR.matchLanguageName(Z,Q,!0);if(K instanceof zR)return K.support?K.support.language.parser:NH.getSkippingParser(K.load());else if(K)return K.parser}return J?J.parser:null}}class xE{constructor(Z,J,Q,K,X,U,Y){this.node=Z,this.from=J,this.to=Q,this.spaceBefore=K,this.spaceAfter=X,this.type=U,this.item=Y}blank(Z,J=!0){let Q=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(Z!=null){while(Q.length<Z)Q+=" ";return Q}else{for(let K=this.to-this.from-Q.length-this.spaceAfter.length;K>0;K--)Q+=" ";return Q+(J?this.spaceAfter:"")}}marker(Z,J){let Q=this.node.name=="OrderedList"?String(+Y40(this.item,Z)[2]+J):"";return this.spaceBefore+Q+this.type+this.spaceAfter}}function U40(Z,J){let Q=[],K=[];for(let X=Z;X;X=X.parent){if(X.name=="FencedCode")return K;if(X.name=="ListItem"||X.name=="Blockquote")Q.push(X)}for(let X=Q.length-1;X>=0;X--){let U=Q[X],Y,q=J.lineAt(U.from),W=U.from-q.from;if(U.name=="Blockquote"&&(Y=/^ *>( ?)/.exec(q.text.slice(W))))K.push(new xE(U,W,W+Y[0].length,"",Y[1],">",null));else if(U.name=="ListItem"&&U.parent.name=="OrderedList"&&(Y=/^( *)\d+([.)])( *)/.exec(q.text.slice(W)))){let G=Y[3],z=Y[0].length;if(G.length>=4)G=G.slice(0,G.length-4),z-=4;K.push(new xE(U.parent,W,W+z,Y[1],G,Y[2],U))}else if(U.name=="ListItem"&&U.parent.name=="BulletList"&&(Y=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(q.text.slice(W)))){let G=Y[4],z=Y[0].length;if(G.length>4)G=G.slice(0,G.length-4),z-=4;let H=Y[2];if(Y[3])H+=Y[3].replace(/[xX]/," ");K.push(new xE(U.parent,W,W+z,Y[1],G,H,U))}}return K}function Y40(Z,J){return/^(\s*)(\d+)(?=[.)])/.exec(J.sliceString(Z.from,Z.from+10))}function gb(Z,J,Q,K=0){for(let X=-1,U=Z;;){if(U.name=="ListItem"){let q=Y40(U,J),W=+q[2];if(X>=0){if(W!=X+1)return;Q.push({from:U.from+q[1].length,to:U.from+q[0].length,insert:String(X+2+K)})}X=W}let Y=U.nextSibling;if(!Y)break;U=Y}}function db(Z,J){let Q=/^[ \t]*/.exec(Z)[0].length;if(!Q||J.facet(W1)!="\t")return Z;let K=cQ(Z,4,Q),X="";for(let U=K;U>0;)if(U>=4)X+="\t",U-=4;else X+=" ",U--;return X+Z.slice(Q)}var Ft0=(Z={})=>({state:J,dispatch:Q})=>{let K=KZ(J),{doc:X}=J,U=null,Y=J.changeByRange((q)=>{if(!q.empty||!bE.isActiveAt(J,q.from,-1)&&!bE.isActiveAt(J,q.from,1))return U={range:q};let W=q.from,G=X.lineAt(W),z=U40(K.resolveInner(W,-1),X);while(z.length&&z[z.length-1].from>W-G.from)z.pop();if(!z.length)return U={range:q};let H=z[z.length-1];if(H.to-H.spaceAfter.length>W-G.from)return U={range:q};let F=W>=H.to-H.spaceAfter.length&&!/\S/.test(G.text.slice(H.to));if(H.item&&F){let D=H.node.firstChild,L=H.node.getChild("ListItem","ListItem");if(D.to>=W||L&&L.to<W||G.from>0&&!/[^\s>]/.test(X.lineAt(G.from-1).text)||Z.nonTightLists===!1){let A=z.length>1?z[z.length-2]:null,V,N="";if(A&&A.item)V=G.from+A.from,N=A.marker(X,1);else V=G.from+(A?A.to:0);let E=[{from:V,to:W,insert:N}];if(H.node.name=="OrderedList")gb(H.item,X,E,-2);if(A&&A.node.name=="OrderedList")gb(A.item,X,E);return{range:a0.cursor(V+N.length),changes:E}}else{let A=J40(z,J,G);return{range:a0.cursor(W+A.length+1),changes:{from:G.from,insert:A+J.lineBreak}}}}if(H.node.name=="Blockquote"&&F&&G.from){let D=X.lineAt(G.from-1),L=/>\s*$/.exec(D.text);if(L&&L.index==H.from){let A=J.changes([{from:D.from+L.index,to:D.to},{from:G.from+H.from,to:G.to}]);return{range:q.map(A),changes:A}}}let M=[];if(H.node.name=="OrderedList")gb(H.item,X,M);let B=H.item&&H.item.from<G.from,O="";if(!B||/^[\s\d.)\-+*>]*/.exec(G.text)[0].length>=H.to)for(let D=0,L=z.length-1;D<=L;D++)O+=D==L&&!B?z[D].marker(X,1):z[D].blank(D<L?cQ(G.text,4,z[D+1].from)-O.length:null);let R=W;while(R>G.from&&/\s/.test(G.text.charAt(R-G.from-1)))R--;if(O=db(O,J),Bt0(H.node,J.doc))O=J40(z,J,G)+J.lineBreak+O;return M.push({from:R,to:W,insert:J.lineBreak+O}),{range:a0.cursor(R+O.length+1),changes:M}});if(U)return!1;return Q(J.update(Y,{scrollIntoView:!0,userEvent:"input"})),!0},Mt0=Ft0();function Z40(Z){return Z.name=="QuoteMark"||Z.name=="ListMark"}function Bt0(Z,J){if(Z.name!="OrderedList"&&Z.name!="BulletList")return!1;let Q=Z.firstChild,K=Z.getChild("ListItem","ListItem");if(!K)return!1;let X=J.lineAt(Q.to),U=J.lineAt(K.from),Y=/^[\s>]*$/.test(X.text);return X.number+(Y?0:1)<U.number}function J40(Z,J,Q){let K="";for(let X=0,U=Z.length-2;X<=U;X++)K+=Z[X].blank(X<U?cQ(Q.text,4,Z[X+1].from)-K.length:null,X<U);return db(K,J)}function Ot0(Z,J){let Q=Z.resolveInner(J,-1),K=J;if(Z40(Q))K=Q.from,Q=Q.parent;for(let X;X=Q.childBefore(K);)if(Z40(X))K=X.from;else if(X.name=="OrderedList"||X.name=="BulletList")Q=X.lastChild,K=Q.to;else break;return Q}var Rt0=({state:Z,dispatch:J})=>{let Q=KZ(Z),K=null,X=Z.changeByRange((U)=>{let Y=U.from,{doc:q}=Z;if(U.empty&&bE.isActiveAt(Z,U.from)){let W=q.lineAt(Y),G=U40(Ot0(Q,Y),q);if(G.length){let z=G[G.length-1],H=z.to-z.spaceAfter.length+(z.spaceAfter?1:0);if(Y-W.from>H&&!/\S/.test(W.text.slice(H,Y-W.from)))return{range:a0.cursor(W.from+H),changes:{from:W.from+H,to:Y}};if(Y-W.from==H&&(!z.item||W.from<=z.item.from||!/\S/.test(W.text.slice(0,z.to)))){let F=W.from+z.from;if(z.item&&z.node.from<z.item.from&&/\S/.test(W.text.slice(z.from,z.to))){let M=z.blank(cQ(W.text,4,z.to)-cQ(W.text,4,z.from));if(F==W.from)M=db(M,Z);return{range:a0.cursor(F+M.length),changes:{from:F,to:W.from+z.to,insert:M}}}if(F<Y)return{range:a0.cursor(F),changes:{from:F,to:Y}}}}}return K={range:U}});if(K)return!1;return J(Z.update(X,{scrollIntoView:!0,userEvent:"delete"})),!0},Dt0=[{key:"Enter",run:Mt0},{key:"Backspace",run:Rt0}],q40=e60({matchClosingTags:!1});function W40(Z={}){let{codeLanguages:J,defaultCodeLanguage:Q,addKeymap:K=!0,base:{parser:X}=Gt0,completeHTMLTags:U=!0,pasteURLAsLink:Y=!0,htmlTagLanguage:q=q40}=Z;if(!(X instanceof TR))throw RangeError("Base parser provided to `markdown` should be a Markdown parser");let W=Z.extensions?[Z.extensions]:[],G=[q.support,Wt0],z;if(Y)G.push(Nt0);if(Q instanceof JX)G.push(Q.support),z=Q.language;else if(Q)z=Q;let H=J||z?Ht0(J,z):void 0;if(W.push(kQ0({codeParser:H,htmlParser:q.language.parser})),K)G.push(C6.high(J1.of(Dt0)));let F=lb(X.configure(W));if(U)G.push(F.data.of({autocomplete:Lt0}));return new JX(F,G)}function Lt0(Z){let{state:J,pos:Q}=Z,K=/<[:\-\.\w\u00b7-\uffff]*$/.exec(J.sliceDoc(Q-25,Q));if(!K)return null;let X=KZ(J).resolveInner(Q,-1);while(X&&!X.type.isTop){if(X.name=="CodeBlock"||X.name=="FencedCode"||X.name=="ProcessingInstructionBlock"||X.name=="CommentBlock"||X.name=="Link"||X.name=="Image")return null;X=X.parent}return{from:Q-K[0].length,to:Q,options:It0(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}var pb=null;function It0(){if(pb)return pb;let Z=n60(new AR(j9.create({extensions:q40}),0,!0));return pb=Z?Z.options:[]}var At0=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,Nt0=N8.domEventHandlers({paste:(Z,J)=>{var Q;let{main:K}=J.state.selection;if(K.empty)return!1;let X=(Q=Z.clipboardData)===null||Q===void 0?void 0:Q.getData("text/plain");if(!X||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(X))return!1;if(/^www\./.test(X))X="https://"+X;if(!bE.isActiveAt(J.state,K.from,1))return!1;let U=KZ(J.state),Y=!1;if(U.iterate({from:K.from,to:K.to,enter:(q)=>{if(q.from>K.from||At0.test(q.name))Y=!0},leave:(q)=>{if(q.to<K.to)Y=!0}}),Y)return!1;return J.dispatch({changes:[{from:K.from,insert:"["},{from:K.to,insert:`](${X})`}],userEvent:"input.paste",scrollIntoView:!0}),!0}});var Et0="#e5c07b",G40="#e06c75",Vt0="#56b6c2",Pt0="#ffffff",yE="#abb2bf",sb="#7d8799",jt0="#61afef",Ct0="#98c379",z40="#d19a66",St0="#c678dd",Tt0="#21252b",H40="#2c313a",F40="#282c34",ib="#353a42",wt0="#3E4451",M40="#528bff";var $t0=N8.theme({"&":{color:yE,backgroundColor:F40},".cm-content":{caretColor:M40},".cm-cursor, .cm-dropCursor":{borderLeftColor:M40},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:wt0},".cm-panels":{backgroundColor:Tt0,color:yE},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:F40,color:sb,border:"none"},".cm-activeLineGutter":{backgroundColor:H40},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ib},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ib,borderBottomColor:ib},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:H40,color:yE}}},{dark:!0}),kt0=CH.define([{tag:R0.keyword,color:St0},{tag:[R0.name,R0.deleted,R0.character,R0.propertyName,R0.macroName],color:G40},{tag:[R0.function(R0.variableName),R0.labelName],color:jt0},{tag:[R0.color,R0.constant(R0.name),R0.standard(R0.name)],color:z40},{tag:[R0.definition(R0.name),R0.separator],color:yE},{tag:[R0.typeName,R0.className,R0.number,R0.changed,R0.annotation,R0.modifier,R0.self,R0.namespace],color:Et0},{tag:[R0.operator,R0.operatorKeyword,R0.url,R0.escape,R0.regexp,R0.link,R0.special(R0.string)],color:Vt0},{tag:[R0.meta,R0.comment],color:sb},{tag:R0.strong,fontWeight:"bold"},{tag:R0.emphasis,fontStyle:"italic"},{tag:R0.strikethrough,textDecoration:"line-through"},{tag:R0.link,color:sb,textDecoration:"underline"},{tag:R0.heading,fontWeight:"bold",color:G40},{tag:[R0.atom,R0.bool,R0.special(R0.variableName)],color:z40},{tag:[R0.processingInstruction,R0.string,R0.inserted],color:Ct0},{tag:R0.invalid,color:Pt0}]),B40=[$t0,UE(kt0)];var bR=null,rb=null,nb=!1;function O40(Z){let J=j9.create({doc:"",extensions:[r70,W40(),B40,N8.updateListener.of((Q)=>{if(Q.docChanged&&!nb&&rb)rb(Q.state.doc.toString())}),N8.theme({"&":{height:"100%"},".cm-scroller":{overflow:"auto"}})]});return bR=new N8({state:J,parent:Z}),bR}function BG(Z){if(!bR)return;nb=!0,bR.dispatch({changes:{from:0,to:bR.state.doc.length,insert:Z}}),nb=!1}function R40(Z){rb=Z}ab();VX();UD();VK();BK();k4();s6();Q6();K6();YQ();jZ();T9();M9();dp();A9();var JT="comm",QT="rule",KT="decl";var uN0="@import";var gN0="@namespace",pN0="@keyframes";var cN0="@layer";var ei=Math.abs,uL=String.fromCharCode;function XT(Z){return Z.trim()}function gL(Z,J,Q){return Z.replace(J,Q)}function lN0(Z,J,Q){return Z.indexOf(J,Q)}function vq(Z,J){return Z.charCodeAt(J)|0}function xq(Z,J,Q){return Z.slice(J,Q)}function h4(Z){return Z.length}function dN0(Z){return Z.length}function $F(Z,J){return J.push(Z),Z}var UT=1,kF=1,iN0=0,PK=0,U7=0,fF="";function YT(Z,J,Q,K,X,U,Y,q){return{value:Z,root:J,parent:Q,type:K,props:X,children:U,line:UT,column:kF,length:Y,return:"",siblings:q}}function sN0(){return U7}function rN0(){if(U7=PK>0?vq(fF,--PK):0,kF--,U7===10)kF=1,UT--;return U7}function jK(){if(U7=PK<iN0?vq(fF,PK++):0,kF++,U7===10)kF=1,UT++;return U7}function jY(){return vq(fF,PK)}function pL(){return PK}function qT(Z,J){return xq(fF,Z,J)}function _F(Z){switch(Z){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nN0(Z){return UT=kF=1,iN0=h4(fF=Z),PK=0,[]}function aN0(Z){return fF="",Z}function WT(Z){return XT(qT(PK-1,Zs(Z===91?Z+2:Z===40?Z+1:Z)))}function oN0(Z){while(U7=jY())if(U7<33)jK();else break;return _F(Z)>2||_F(U7)>3?"":" "}function tN0(Z,J){while(--J&&jK())if(U7<48||U7>102||U7>57&&U7<65||U7>70&&U7<97)break;return qT(Z,pL()+(J<6&&jY()==32&&jK()==32))}function Zs(Z){while(jK())switch(U7){case Z:return PK;case 34:case 39:if(Z!==34&&Z!==39)Zs(U7);break;case 40:if(Z===41)Zs(Z);break;case 92:jK();break}return PK}function eN0(Z,J){while(jK())if(Z+U7===57)break;else if(Z+U7===84&&jY()===47)break;return"/*"+qT(J,PK-1)+"*"+uL(Z===47?Z:jK())}function ZE0(Z){while(!_F(jY()))jK();return qT(Z,PK)}function KE0(Z){return aN0(GT("",null,null,null,[""],Z=nN0(Z),0,[0],Z))}function GT(Z,J,Q,K,X,U,Y,q,W){var G=0,z=0,H=Y,F=0,M=0,B=0,O=1,R=1,D=1,L=0,A="",V=X,N=U,E=K,j=A;while(R)switch(B=L,L=jK()){case 40:if(B!=108&&vq(j,H-1)==58){if(lN0(j+=gL(WT(L),"&","&\f"),"&\f",ei(G?q[G-1]:0))!=-1)D=-1;break}case 34:case 39:case 91:j+=WT(L);break;case 9:case 10:case 13:case 32:j+=oN0(B);break;case 92:j+=tN0(pL()-1,7);continue;case 47:switch(jY()){case 42:case 47:if($F(lR8(eN0(jK(),pL()),J,Q,W),W),(_F(B||1)==5||_F(jY()||1)==5)&&h4(j)&&xq(j,-1,void 0)!==" ")j+=" ";break;default:j+="/"}break;case 123*O:q[G++]=h4(j)*D;case 125*O:case 59:case 0:switch(L){case 0:case 125:R=0;case 59+z:if(D==-1)j=gL(j,/\f/g,"");if(M>0&&(h4(j)-H||O===0&&B===47))$F(M>32?QE0(j+";",K,Q,H-1,W):QE0(gL(j," ","")+";",K,Q,H-2,W),W);break;case 59:j+=";";default:if($F(E=JE0(j,J,Q,G,z,X,q,A,V=[],N=[],H,U),U),L===123)if(z===0)GT(j,J,E,E,V,U,H,q,N);else{switch(F){case 99:if(vq(j,3)===110)break;case 108:if(vq(j,2)===97)break;default:z=0;case 100:case 109:case 115:}if(z)GT(Z,E,E,K&&$F(JE0(Z,E,E,0,0,X,q,A,X,V=[],H,N),N),X,N,H,q,K?V:N);else GT(j,E,E,E,[""],N,0,q,N)}}G=z=M=0,O=D=1,A=j="",H=Y;break;case 58:H=1+h4(j),M=B;default:if(O<1){if(L==123)--O;else if(L==125&&O++==0&&rN0()==125)continue}switch(j+=uL(L),L*O){case 38:D=z>0?1:(j+="\f",-1);break;case 44:q[G++]=(h4(j)-1)*D,D=1;break;case 64:if(jY()===45)j+=WT(jK());F=jY(),z=H=h4(A=j+=ZE0(pL())),L++;break;case 45:if(B===45&&h4(j)==2)O=0}}return U}function JE0(Z,J,Q,K,X,U,Y,q,W,G,z,H){var F=X-1,M=X===0?U:[""],B=dN0(M);for(var O=0,R=0,D=0;O<K;++O)for(var L=0,A=xq(Z,F+1,F=ei(R=Y[O])),V=Z;L<B;++L)if(V=XT(R>0?M[L]+" "+A:gL(A,/&\f/g,M[L])))W[D++]=V;return YT(Z,J,Q,X===0?QT:q,W,G,z,H)}function lR8(Z,J,Q,K){return YT(Z,J,Q,JT,uL(sN0()),xq(Z,2,-2),0,K)}function QE0(Z,J,Q,K,X){return YT(Z,J,Q,KT,xq(Z,0,K),xq(Z,K+1,-1),K,X)}function zT(Z,J){var Q="";for(var K=0;K<Z.length;K++)Q+=J(Z[K],K,Z,J)||"";return Q}function XE0(Z,J,Q,K){switch(Z.type){case cN0:if(Z.children.length)break;case uN0:case gN0:case KT:return Z.return=Z.return||Z.value;case JT:return"";case pN0:return Z.return=Z.value+"{"+zT(Z.children,K)+"}";case QT:if(!h4(Z.value=Z.props.join(",")))return""}return h4(Q=zT(Z.children,K))?Z.return=Z.value+"{"+Q+"}":""}By();gC();var Mp0="c4",Sp8=I((Z)=>{return/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(Z)},"detector"),Tp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (LE0(),DE0));return{id:Mp0,diagram:Z}},"loader"),wp8={id:Mp0,detector:Sp8,loader:Tp8},$p8=wp8,Bp0="flowchart",kp8=I((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-wrapper"||J?.flowchart?.defaultRenderer==="elk")return!1;return/^\s*graph/.test(Z)},"detector"),_p8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (VT(),ET));return{id:Bp0,diagram:Z}},"loader"),fp8={id:Bp0,detector:kp8,loader:_p8},vp8=fp8,Op0="flowchart-v2",xp8=I((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-d3")return!1;if(J?.flowchart?.defaultRenderer==="elk")J.layout="elk";if(/^\s*graph/.test(Z)&&J?.flowchart?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*flowchart/.test(Z)},"detector"),bp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (VT(),ET));return{id:Op0,diagram:Z}},"loader"),yp8={id:Op0,detector:xp8,loader:bp8},hp8=yp8,Rp0="er",mp8=I((Z)=>{return/^\s*erDiagram/.test(Z)},"detector"),up8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (VE0(),EE0));return{id:Rp0,diagram:Z}},"loader"),gp8={id:Rp0,detector:mp8,loader:up8},pp8=gp8,Dp0="gitGraph",cp8=I((Z)=>{return/^\s*gitGraph/.test(Z)},"detector"),lp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (by0(),xy0));return{id:Dp0,diagram:Z}},"loader"),dp8={id:Dp0,detector:cp8,loader:lp8},ip8=dp8,Lp0="gantt",sp8=I((Z)=>{return/^\s*gantt/.test(Z)},"detector"),rp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Xh0(),Kh0));return{id:Lp0,diagram:Z}},"loader"),np8={id:Lp0,detector:sp8,loader:rp8},ap8=np8,Ip0="info",op8=I((Z)=>{return/^\s*info/.test(Z)},"detector"),tp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Yh0(),Uh0));return{id:Ip0,diagram:Z}},"loader"),ep8={id:Ip0,detector:op8,loader:tp8},Ap0="pie",Zc8=I((Z)=>{return/^\s*pie/.test(Z)},"detector"),Jc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (zh0(),Gh0));return{id:Ap0,diagram:Z}},"loader"),Qc8={id:Ap0,detector:Zc8,loader:Jc8},Np0="quadrantChart",Kc8=I((Z)=>{return/^\s*quadrantChart/.test(Z)},"detector"),Xc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Sh0(),Ch0));return{id:Np0,diagram:Z}},"loader"),Uc8={id:Np0,detector:Kc8,loader:Xc8},Yc8=Uc8,Ep0="xychart",qc8=I((Z)=>{return/^\s*xychart(-beta)?/.test(Z)},"detector"),Wc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (nh0(),rh0));return{id:Ep0,diagram:Z}},"loader"),Gc8={id:Ep0,detector:qc8,loader:Wc8},zc8=Gc8,Vp0="requirement",Hc8=I((Z)=>{return/^\s*requirement(Diagram)?/.test(Z)},"detector"),Fc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (th0(),oh0));return{id:Vp0,diagram:Z}},"loader"),Mc8={id:Vp0,detector:Hc8,loader:Fc8},Bc8=Mc8,Pp0="sequence",Oc8=I((Z)=>{return/^\s*sequenceDiagram/.test(Z)},"detector"),Rc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Hm0(),zm0));return{id:Pp0,diagram:Z}},"loader"),Dc8={id:Pp0,detector:Oc8,loader:Rc8},Lc8=Dc8,jp0="class",Ic8=I((Z,J)=>{if(J?.class?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*classDiagram/.test(Z)},"detector"),Ac8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Rm0(),Om0));return{id:jp0,diagram:Z}},"loader"),Nc8={id:jp0,detector:Ic8,loader:Ac8},Ec8=Nc8,Cp0="classDiagram",Vc8=I((Z,J)=>{if(/^\s*classDiagram/.test(Z)&&J?.class?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*classDiagram-v2/.test(Z)},"detector"),Pc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Lm0(),Dm0));return{id:Cp0,diagram:Z}},"loader"),jc8={id:Cp0,detector:Vc8,loader:Pc8},Cc8=jc8,Sp0="state",Sc8=I((Z,J)=>{if(J?.state?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*stateDiagram/.test(Z)},"detector"),Tc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (lm0(),cm0));return{id:Sp0,diagram:Z}},"loader"),wc8={id:Sp0,detector:Sc8,loader:Tc8},$c8=wc8,Tp0="stateDiagram",kc8=I((Z,J)=>{if(/^\s*stateDiagram-v2/.test(Z))return!0;if(/^\s*stateDiagram/.test(Z)&&J?.state?.defaultRenderer==="dagre-wrapper")return!0;return!1},"detector"),_c8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (im0(),dm0));return{id:Tp0,diagram:Z}},"loader"),fc8={id:Tp0,detector:kc8,loader:_c8},vc8=fc8,wp0="journey",xc8=I((Z)=>{return/^\s*journey/.test(Z)},"detector"),bc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Ku0(),Qu0));return{id:wp0,diagram:Z}},"loader"),yc8={id:wp0,detector:xc8,loader:bc8},hc8=yc8,mc8=I((Z,J,Q)=>{Z0.debug(`rendering svg for syntax error
`);let K=_7(J),X=K.append("g");K.attr("viewBox","0 0 2412 512"),PZ(K,100,512,!0),X.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),X.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),X.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),X.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),X.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),X.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),X.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),X.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${Q}`)},"draw"),$p0={draw:mc8},uc8=$p0,gc8={db:{},renderer:$p0,parser:{parse:I(()=>{return},"parse")}},pc8=gc8,kp0="flowchart-elk",cc8=I((Z,J={})=>{if(/^\s*flowchart-elk/.test(Z)||/^\s*(flowchart|graph)/.test(Z)&&J?.flowchart?.defaultRenderer==="elk")return J.layout="elk",!0;return!1},"detector"),lc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (VT(),ET));return{id:kp0,diagram:Z}},"loader"),dc8={id:kp0,detector:cc8,loader:lc8},ic8=dc8,_p0="timeline",sc8=I((Z)=>{return/^\s*timeline/.test(Z)},"detector"),rc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Au0(),Iu0));return{id:_p0,diagram:Z}},"loader"),nc8={id:_p0,detector:sc8,loader:rc8},ac8=nc8,fp0="mindmap",oc8=I((Z)=>{return/^\s*mindmap/.test(Z)},"detector"),tc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Tu0(),Su0));return{id:fp0,diagram:Z}},"loader"),ec8={id:fp0,detector:oc8,loader:tc8},Zl8=ec8,vp0="kanban",Jl8=I((Z)=>{return/^\s*kanban/.test(Z)},"detector"),Ql8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (ku0(),$u0));return{id:vp0,diagram:Z}},"loader"),Kl8={id:vp0,detector:Jl8,loader:Ql8},Xl8=Kl8,xp0="sankey",Ul8=I((Z)=>{return/^\s*sankey(-beta)?/.test(Z)},"detector"),Yl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (au0(),nu0));return{id:xp0,diagram:Z}},"loader"),ql8={id:xp0,detector:Ul8,loader:Yl8},Wl8=ql8,bp0="packet",Gl8=I((Z)=>{return/^\s*packet(-beta)?/.test(Z)},"detector"),zl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Zg0(),eu0));return{id:bp0,diagram:Z}},"loader"),Hl8={id:bp0,detector:Gl8,loader:zl8},yp0="radar",Fl8=I((Z)=>{return/^\s*radar-beta/.test(Z)},"detector"),Ml8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Wg0(),qg0));return{id:yp0,diagram:Z}},"loader"),Bl8={id:yp0,detector:Fl8,loader:Ml8},hp0="block",Ol8=I((Z)=>{return/^\s*block(-beta)?/.test(Z)},"detector"),Rl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (mg0(),hg0));return{id:hp0,diagram:Z}},"loader"),Dl8={id:hp0,detector:Ol8,loader:Rl8},Ll8=Dl8,mp0="architecture",Il8=I((Z)=>{return/^\s*architecture/.test(Z)},"detector"),Al8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Kp0(),Qp0));return{id:mp0,diagram:Z}},"loader"),Nl8={id:mp0,detector:Il8,loader:Al8},El8=Nl8,up0="treemap",Vl8=I((Z)=>{return/^\s*treemap/.test(Z)},"detector"),Pl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Wp0(),qp0));return{id:up0,diagram:Z}},"loader"),jl8={id:up0,detector:Vl8,loader:Pl8},Gp0=!1,Nf=I(()=>{if(Gp0)return;Gp0=!0,G3("error",pc8,(Z)=>{return Z.toLowerCase().trim()==="error"}),G3("---",{db:{clear:I(()=>{},"clear")},styles:{},renderer:{draw:I(()=>{},"draw")},parser:{parse:I(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:I(()=>null,"init")},(Z)=>{return Z.toLowerCase().trimStart().startsWith("---")}),VV(ic8,Zl8,El8),VV($p8,Xl8,Cc8,Ec8,pp8,ap8,ep8,Qc8,Bc8,Lc8,hp8,vp8,ac8,ip8,vc8,$c8,hc8,Yc8,Wl8,Hl8,zc8,Ll8,Bl8,jl8)},"addDiagrams"),Cl8=I(async()=>{Z0.debug("Loading registered diagrams");let J=(await Promise.allSettled(Object.entries(I1).map(async([Q,{detector:K,loader:X}])=>{if(!X)return;try{$V(Q)}catch{try{let{diagram:U,id:Y}=await X();G3(Y,U,K)}catch(U){throw Z0.error(`Failed to load external diagram with key ${Q}. Removing from detectors.`),delete I1[Q],U}}}))).filter((Q)=>Q.status==="rejected");if(J.length>0){Z0.error(`Failed to load ${J.length} external diagrams`);for(let Q of J)Z0.error(Q);throw Error(`Failed to load ${J.length} external diagrams`)}},"loadRegisteredDiagrams"),Sl8="graphics-document document";function gp0(Z,J){if(Z.attr("role",Sl8),J!=="")Z.attr("aria-roledescription",J)}I(gp0,"setA11yDiagramInfo");function pp0(Z,J,Q,K){if(Z.insert===void 0)return;if(Q){let X=`chart-desc-${K}`;Z.attr("aria-describedby",X),Z.insert("desc",":first-child").attr("id",X).text(Q)}if(J){let X=`chart-title-${K}`;Z.attr("aria-labelledby",X),Z.insert("title",":first-child").attr("id",X).text(J)}}I(pp0,"addSVGa11yTitleDescription");var ne=class Z{constructor(J,Q,K,X,U){this.type=J,this.text=Q,this.db=K,this.parser=X,this.renderer=U}static{I(this,"Diagram")}static async fromText(J,Q={}){let K=L9(),X=Y3(J,K);J=oz0(J)+`
`;try{$V(X)}catch{let G=n50(X);if(!G)throw new Qh(`Diagram ${X} not found.`);let{id:z,diagram:H}=await G();G3(z,H)}let{db:U,parser:Y,renderer:q,init:W}=$V(X);if(Y.parser)Y.parser.yy=U;if(U.clear?.(),W?.(K),Q.title)U.setDiagramTitle?.(Q.title);return await Y.parse(J),new Z(X,J,U,Y,q)}async render(J,Q){await this.renderer.draw(this.text,J,Q,this)}getParser(){return this.parser}getType(){return this.type}},zp0=[],Tl8=I(()=>{zp0.forEach((Z)=>{Z()}),zp0=[]},"attachFunctions"),wl8=I((Z)=>{return Z.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()},"cleanupComments");function cp0(Z){let J=Z.match(Jh);if(!J)return{text:Z,metadata:{}};let Q=y1(J[1],{schema:b1})??{};Q=typeof Q==="object"&&!Array.isArray(Q)?Q:{};let K={};if(Q.displayMode)K.displayMode=Q.displayMode.toString();if(Q.title)K.title=Q.title.toString();if(Q.config)K.config=Q.config;return{text:Z.slice(J[0].length),metadata:K}}I(cp0,"extractFrontMatter");var $l8=I((Z)=>{return Z.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(J,Q,K)=>"<"+Q+K.replace(/="([^"]*)"/g,"='$1'")+">")},"cleanupText"),kl8=I((Z)=>{let{text:J,metadata:Q}=cp0(Z),{displayMode:K,title:X,config:U={}}=Q;if(K){if(!U.gantt)U.gantt={};U.gantt.displayMode=K}return{title:X,config:U,text:J}},"processFrontmatter"),_l8=I((Z)=>{let J=n8.detectInit(Z)??{},Q=n8.detectDirective(Z,"wrap");if(Array.isArray(Q))J.wrap=Q.some(({type:K})=>K==="wrap");else if(Q?.type==="wrap")J.wrap=!0;return{text:dz0(Z),directive:J}},"processDirectives");function oe(Z){let J=$l8(Z),Q=kl8(J),K=_l8(Q.text),X=TJ(Q.config,K.directive);return Z=wl8(K.text),{code:Z,title:Q.title,config:X}}I(oe,"preprocessDiagram");function lp0(Z){let J=new TextEncoder().encode(Z),Q=Array.from(J,(K)=>String.fromCodePoint(K)).join("");return btoa(Q)}I(lp0,"toBase64");var fl8=50000,vl8="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xl8="sandbox",bl8="loose",yl8="http://www.w3.org/2000/svg",hl8="http://www.w3.org/1999/xlink",ml8="http://www.w3.org/1999/xhtml",ul8="100%",gl8="100%",pl8="border:0;margin:0;",cl8="margin:0",ll8="allow-top-navigation-by-user-activation allow-popups",dl8='The "iframe" tag is not supported by your browser.',il8=["foreignobject"],sl8=["dominant-baseline"];function te(Z){let J=oe(Z);return q3(),QX0(J.config??{}),J}I(te,"processAndSetConfigs");async function dp0(Z,J){Nf();try{let{code:Q,config:K}=te(Z);return{diagramType:(await sp0(Q)).type,config:K}}catch(Q){if(J?.suppressErrors)return!1;throw Q}}I(dp0,"parse");var Hp0=I((Z,J,Q=[])=>{return`
.${Z} ${J} { ${Q.join(" !important; ")} !important; }`},"cssImportantStyles"),rl8=I((Z,J=new Map)=>{let Q="";if(Z.themeCSS!==void 0)Q+=`
${Z.themeCSS}`;if(Z.fontFamily!==void 0)Q+=`
:root { --mermaid-font-family: ${Z.fontFamily}}`;if(Z.altFontFamily!==void 0)Q+=`
:root { --mermaid-alt-font-family: ${Z.altFontFamily}}`;if(J instanceof Map){let Y=Z.htmlLabels??Z.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];J.forEach((q)=>{if(!DY(q.styles))Y.forEach((W)=>{Q+=Hp0(q.id,W,q.styles)});if(!DY(q.textStyles))Q+=Hp0(q.id,"tspan",(q?.textStyles||[]).map((W)=>W.replace("color","fill")))})}return Q},"createCssStyles"),nl8=I((Z,J,Q,K)=>{let X=rl8(Z,Q),U=WX0(J,X,Z.themeVariables);return zT(KE0(`${K}{${U}}`),XE0)},"createUserStyles"),al8=I((Z="",J,Q)=>{let K=Z;if(!Q&&!J)K=K.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#');return K=d6(K),K=K.replace(/<br>/g,"<br/>"),K},"cleanUpSvgCode"),ol8=I((Z="",J)=>{let Q=J?.viewBox?.baseVal?.height?J.viewBox.baseVal.height+"px":gl8,K=lp0(`<body style="${cl8}">${Z}</body>`);return`<iframe style="width:${ul8};height:${Q};${pl8}" src="data:text/html;charset=UTF-8;base64,${K}" sandbox="${ll8}">
  ${dl8}
</iframe>`},"putIntoIFrame"),Fp0=I((Z,J,Q,K,X)=>{let U=Z.append("div");if(U.attr("id",Q),K)U.attr("style",K);let Y=U.append("svg").attr("id",J).attr("width","100%").attr("xmlns",yl8);if(X)Y.attr("xmlns:xlink",X);return Y.append("g"),Z},"appendDivSvgG");function ae(Z,J){return Z.append("iframe").attr("id",J).attr("style","width: 100%; height: 100%;").attr("sandbox","")}I(ae,"sandboxedIframe");var tl8=I((Z,J,Q,K)=>{Z.getElementById(J)?.remove(),Z.getElementById(Q)?.remove(),Z.getElementById(K)?.remove()},"removeExistingElements"),el8=I(async function(Z,J,Q){Nf();let K=te(J);J=K.code;let X=L9();if(Z0.debug(X),J.length>(X?.maxTextSize??fl8))J=vl8;let U="#"+Z,Y="i"+Z,q="#"+Y,W="d"+Z,G="#"+W,z=I(()=>{let T=i0(F?q:G).node();if(T&&"remove"in T)T.remove()},"removeTempElements"),H=i0("body"),F=X.securityLevel===xl8,M=X.securityLevel===bl8,B=X.fontFamily;if(Q!==void 0){if(Q)Q.innerHTML="";if(F){let P=ae(i0(Q),Y);H=i0(P.nodes()[0].contentDocument.body),H.node().style.margin=0}else H=i0(Q);Fp0(H,Z,W,`font-family: ${B}`,hl8)}else{if(tl8(document,Z,W,Y),F){let P=ae(i0("body"),Y);H=i0(P.nodes()[0].contentDocument.body),H.node().style.margin=0}else H=i0("body");Fp0(H,Z,W)}let O,R;try{O=await ne.fromText(J,{title:K.title})}catch(P){if(X.suppressErrorRendering)throw z(),P;O=await ne.fromText("error"),R=P}let D=H.select(G).node(),L=O.type,A=D.firstChild,V=A.firstChild,N=O.renderer.getClasses?.(J,O),E=nl8(X,L,N,U),j=document.createElement("style");j.innerHTML=E,A.insertBefore(j,V);try{await O.renderer.draw(J,Z,yR.version,O)}catch(P){if(X.suppressErrorRendering)z();else uc8.draw(J,Z,yR.version);throw P}let C=H.select(`${G} svg`),$=O.db.getAccTitle?.(),k=O.db.getAccDescription?.();rp0(L,C,$,k),H.select(`[id="${Z}"]`).selectAll("foreignobject > *").attr("xmlns",ml8);let w=H.select(G).node().innerHTML;if(Z0.debug("config.arrowMarkerAbsolute",X.arrowMarkerAbsolute),w=al8(w,F,UZ(X.arrowMarkerAbsolute)),F){let P=H.select(G+" svg").node();w=ol8(w,P)}else if(!M)w=B1.sanitize(w,{ADD_TAGS:il8,ADD_ATTR:sl8,HTML_INTEGRATION_POINTS:{foreignobject:!0}});if(Tl8(),R)throw R;return z(),{diagramType:L,svg:w,bindFunctions:O.db.bindFunctions}},"render");function ip0(Z={}){let J=ZJ({},Z);if(J?.fontFamily&&!J.themeVariables?.fontFamily){if(!J.themeVariables)J.themeVariables={};J.themeVariables.fontFamily=J.fontFamily}if(e50(J),J?.theme&&J.theme in BX)J.themeVariables=BX[J.theme].getThemeVariables(J.themeVariables);else if(J)J.themeVariables=BX.default.getThemeVariables(J.themeVariables);let Q=typeof J==="object"?t50(J):Kh();hR(Q.logLevel),Nf()}I(ip0,"initialize");var sp0=I((Z,J={})=>{let{code:Q}=oe(Z);return ne.fromText(Q,J)},"getDiagramFromText");function rp0(Z,J,Q,K){gp0(J,Z),pp0(J,Q,K,J.attr("id"))}I(rp0,"addA11yInfo");var KH=Object.freeze({render:el8,parse:dp0,getDiagramFromText:sp0,initialize:ip0,getConfig:L9,setConfig:Xh,getSiteConfig:Kh,updateSiteConfig:ZX0,reset:I(()=>{q3()},"reset"),globalReset:I(()=>{q3(NG)},"globalReset"),defaultConfig:NG});hR(L9().logLevel);q3(L9());var Zd8=I((Z,J,Q)=>{if(Z0.warn(Z),Tj(Z)){if(Q)Q(Z.str,Z.hash);J.push({...Z,message:Z.str,error:Z})}else{if(Q)Q(Z);if(Z instanceof Error)J.push({str:Z.message,message:Z.message,hash:Z.name,error:Z})}},"handleError"),np0=I(async function(Z={querySelector:".mermaid"}){try{await Jd8(Z)}catch(J){if(Tj(J))Z0.error(J.str);if(aY.parseError)aY.parseError(J);if(!Z.suppressErrors)throw Z0.error("Use the suppressErrors option to suppress these errors"),J}},"run"),Jd8=I(async function({postRenderCallback:Z,querySelector:J,nodes:Q}={querySelector:".mermaid"}){let K=KH.getConfig();Z0.debug(`${!Z?"No ":""}Callback function found`);let X;if(Q)X=Q;else if(J)X=document.querySelectorAll(J);else throw Error("Nodes and querySelector are both undefined");if(Z0.debug(`Found ${X.length} diagrams`),K?.startOnLoad!==void 0)Z0.debug("Start On Load: "+K?.startOnLoad),KH.updateSiteConfig({startOnLoad:K?.startOnLoad});let U=new n8.InitIDGenerator(K.deterministicIds,K.deterministicIDSeed),Y,q=[];for(let W of Array.from(X)){if(Z0.info("Rendering diagram: "+W.id),W.getAttribute("data-processed"))continue;W.setAttribute("data-processed","true");let G=`mermaid-${U.next()}`;Y=W.innerHTML,Y=yj(n8.entityDecode(Y)).trim().replace(/<br\s*\/?>/gi,"<br/>");let z=n8.detectInit(Y);if(z)Z0.debug("Detected early reinit: ",z);try{let{svg:H,bindFunctions:F}=await ep0(G,Y,W);if(W.innerHTML=H,Z)await Z(G);if(F)F(W)}catch(H){Zd8(H,q,aY.parseError)}}if(q.length>0)throw q[0]},"runThrowsErrors"),ap0=I(function(Z){KH.initialize(Z)},"initialize"),Qd8=I(async function(Z,J,Q){if(Z0.warn("mermaid.init is deprecated. Please use run instead."),Z)ap0(Z);let K={postRenderCallback:Q,querySelector:".mermaid"};if(typeof J==="string")K.querySelector=J;else if(J)if(J instanceof HTMLElement)K.nodes=[J];else K.nodes=J;await np0(K)},"init"),Kd8=I(async(Z,{lazyLoad:J=!0}={})=>{if(Nf(),VV(...Z),J===!1)await Cl8()},"registerExternalDiagrams"),op0=I(function(){if(aY.startOnLoad){let{startOnLoad:Z}=KH.getConfig();if(Z)aY.run().catch((J)=>Z0.error("Mermaid failed to initialize",J))}},"contentLoaded");if(typeof document<"u")window.addEventListener("load",op0,!1);var Xd8=I(function(Z){aY.parseError=Z},"setParseErrorHandler"),Af=[],re=!1,tp0=I(async()=>{if(re)return;re=!0;while(Af.length>0){let Z=Af.shift();if(Z)try{await Z()}catch(J){Z0.error("Error executing queue",J)}}re=!1},"executeQueue"),Ud8=I(async(Z,J)=>{return new Promise((Q,K)=>{let X=I(()=>new Promise((U,Y)=>{KH.parse(Z,J).then((q)=>{U(q),Q(q)},(q)=>{Z0.error("Error parsing",q),aY.parseError?.(q),Y(q),K(q)})}),"performCall");Af.push(X),tp0().catch(K)})},"parse"),ep0=I((Z,J,Q)=>{return new Promise((K,X)=>{let U=I(()=>new Promise((Y,q)=>{KH.render(Z,J,Q).then((W)=>{Y(W),K(W)},(W)=>{Z0.error("Error parsing",W),aY.parseError?.(W),q(W),X(W)})}),"performCall");Af.push(U),tp0().catch(X)})},"render"),Yd8=I(()=>{return Object.keys(I1).map((Z)=>({id:Z}))},"getRegisteredDiagramsMetadata"),aY={startOnLoad:!0,mermaidAPI:KH,parse:Ud8,render:ep0,init:Qd8,run:np0,registerExternalDiagrams:Kd8,registerLayoutLoaders:ti,initialize:ap0,parseError:void 0,contentLoaded:op0,setParseErrorHandler:Xd8,detectType:Y3,registerIconPacks:mj,getRegisteredDiagramsMetadata:Yd8},Ef=aY;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */var X00=d7(Oc0(),1),K00="dark";Ef.initialize({startOnLoad:!1,theme:K00,securityLevel:"loose",fontFamily:"inherit"});function Rc0(Z){K00=Z==="dark"?"dark":"default",Ef.initialize({startOnLoad:!1,theme:K00,securityLevel:"loose",fontFamily:"inherit"})}function Fd8(){return document.documentElement.getAttribute("data-theme")==="light"?"#ffffff":"#1e1e1e"}var Q00=new Map,Md8=0;function Bd8(Z){let J=Z,Q=[];J=J.replace(/```mermaid\n([\s\S]*?)```/g,(q,W)=>{let G=`mermaid-${++Md8}`;return Q.push({id:G,code:W.trim()}),`%%%MERMAID_${G}%%%`});let K=[],X=0;J=J.replace(/```(\w+)?\n([\s\S]*?)```/g,(q,W,G)=>{let z=`code-${++X}`;return K.push({id:z,lang:W||"",code:G.trim()}),`%%%CODE_${z}%%%`});let U=[],Y=0;J=J.replace(/`([^`]+)`/g,(q,W)=>{let G=`inline-${++Y}`;return U.push({id:G,code:W}),`%%%INLINE_${G}%%%`}),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(let{id:q}of Q)J=J.replace(`%%%MERMAID_${q}%%%`,`<div class="mermaid-placeholder" data-id="${q}"></div>`);for(let{id:q,lang:W,code:G}of K){let z=G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");J=J.replace(`%%%CODE_${q}%%%`,`<pre><code class="language-${W}">${z}</code></pre>`)}for(let{id:q,code:W}of U){let G=W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");J=J.replace(`%%%INLINE_${q}%%%`,`<code>${G}</code>`)}return J=J.replace(/^######\s+(.*)$/gm,"<h6>$1</h6>"),J=J.replace(/^#####\s+(.*)$/gm,"<h5>$1</h5>"),J=J.replace(/^####\s+(.*)$/gm,"<h4>$1</h4>"),J=J.replace(/^###\s+(.*)$/gm,"<h3>$1</h3>"),J=J.replace(/^##\s+(.*)$/gm,"<h2>$1</h2>"),J=J.replace(/^#\s+(.*)$/gm,"<h1>$1</h1>"),J=J.replace(/\*\*\*([^*]+)\*\*\*/g,"<strong><em>$1</em></strong>"),J=J.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),J=J.replace(/\*([^*]+)\*/g,"<em>$1</em>"),J=J.replace(/___([^_]+)___/g,"<strong><em>$1</em></strong>"),J=J.replace(/__([^_]+)__/g,"<strong>$1</strong>"),J=J.replace(/_([^_]+)_/g,"<em>$1</em>"),J=J.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),J=J.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1">'),J=J.replace(/^---+$/gm,"<hr>"),J=J.replace(/^>\s+(.*)$/gm,"<blockquote>$1</blockquote>"),J=J.replace(/^(\s*)-\s+(.*)$/gm,(q,W,G)=>{return`<li data-level="${Math.floor(W.length/2)}">${G}</li>`}),J=J.replace(/(<li[^>]*>.*<\/li>\n?)+/g,(q)=>{return`<ul>${q}</ul>`}),J=J.replace(/^(\s*)\d+\.\s+(.*)$/gm,(q,W,G)=>{return`<oli data-level="${Math.floor(W.length/2)}">${G}</oli>`}),J=J.replace(/(<oli[^>]*>.*<\/oli>\n?)+/g,(q)=>{return`<ol>${q.replace(/oli>/g,"li>")}</ol>`}),J=J.replace(/^\|(.+)\|$/gm,(q,W)=>{let G=W.split("|").map((H)=>H.trim());if(G.every((H)=>/^-+$/.test(H)))return"<!-- table-separator -->";return`<tr>${G.map((H)=>`<td>${H}</td>`).join("")}</tr>`}),J=J.replace(/(<tr>.*<\/tr>\n?)+/g,(q)=>{let W=q.split("<!-- table-separator -->");if(W.length===2&&W[0]!==void 0&&W[1]!==void 0)return`<table><thead>${W[0].replace(/<td>/g,"<th>").replace(/<\/td>/g,"</th>")}</thead><tbody>${W[1]}</tbody></table>`;return`<table>${q.replace(/<!-- table-separator -->/g,"")}</table>`}),J=J.split(`

`).map((q)=>{if(q=q.trim(),!q)return"";if(q.startsWith("<")&&(q.startsWith("<h")||q.startsWith("<ul")||q.startsWith("<ol")||q.startsWith("<table")||q.startsWith("<pre")||q.startsWith("<blockquote")||q.startsWith("<hr")||q.startsWith("<div")))return q;return`<p>${q.replace(/\n/g,"<br>")}</p>`}).join(`
`),{html:J,mermaidBlocks:Q}}async function lW(Z){let J=document.getElementById("preview");if(!J)return;for(let X of Q00.values())X.destroy();Q00.clear();let{html:Q,mermaidBlocks:K}=Bd8(Z);J.innerHTML=Q;for(let{id:X,code:U}of K){let Y=J.querySelector(`[data-id="${X}"]`);if(!Y)continue;let q=document.createElement("div");q.className="mermaid-container",q.innerHTML=`
      <div class="mermaid-toolbar">
        <button class="zoom-in" title="Zoom In">+</button>
        <button class="zoom-out" title="Zoom Out"></button>
        <button class="zoom-reset" title="Reset">Reset</button>
        <span class="toolbar-sep"></span>
        <button class="copy-svg" title="Copy SVG to clipboard">Copy</button>
        <button class="download-png" title="Download as PNG">PNG</button>
        <span class="toolbar-sep"></span>
        <button class="fullscreen-btn" title="Full Screen">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
          </svg>
        </button>
      </div>
      <div class="mermaid-viewport"></div>
    `;let W=q.querySelector(".mermaid-viewport");try{let{svg:G}=await Ef.render(X,U),z=document.createElement("div");z.innerHTML=G;let H=z.querySelector("svg");if(H){H.setAttribute("height","100%"),H.style.maxWidth="100%",W.appendChild(H),Y.replaceWith(q);let F=X00.default(H,{fit:!0,center:!0,controlIconsEnabled:!1,maxZoom:5,minZoom:0.1,zoomScaleSensitivity:0.3,panEnabled:!0,zoomEnabled:!0});Q00.set(X,F),q.querySelector(".zoom-in")?.addEventListener("click",()=>{F.zoomIn()}),q.querySelector(".zoom-out")?.addEventListener("click",()=>{F.zoomOut()}),q.querySelector(".zoom-reset")?.addEventListener("click",()=>{F.resetZoom(),F.resetPan(),F.fit(),F.center()});let M=q.querySelector(".copy-svg");M?.addEventListener("click",async()=>{await Dc0(H,M)}),q.querySelector(".download-png")?.addEventListener("click",async()=>{await Lc0(H,X)}),q.querySelector(".fullscreen-btn")?.addEventListener("click",()=>{Od8(H,X)});continue}}catch(G){W.innerHTML=`<div class="mermaid-error">Error rendering diagram:
${G.message||G}</div>`}Y.replaceWith(q)}}function U00(Z){let J=Z.cloneNode(!0),Q=J.querySelector(".svg-pan-zoom_viewport");if(Q)Q.removeAttribute("transform"),Q.style.transform="";let K=J.getElementById("svg-pan-zoom-controls");if(K)K.remove();return J.style.transform="",J}async function Dc0(Z,J){try{let Q=U00(Z);await navigator.clipboard.writeText(Q.outerHTML);let K=J.textContent;J.textContent="Copied!",setTimeout(()=>{J.textContent=K},1500)}catch(Q){console.error("Failed to copy SVG:",Q),alert("Failed to copy to clipboard")}}async function Lc0(Z,J){try{let Q=U00(Z),K=Z.getBBox(),X=Math.ceil(K.width+40),U=Math.ceil(K.height+40);Q.setAttribute("width",String(X)),Q.setAttribute("height",String(U));let q=new XMLSerializer().serializeToString(Q),W=new Blob([q],{type:"image/svg+xml;charset=utf-8"}),G=URL.createObjectURL(W),z=document.createElement("canvas"),H=z.getContext("2d"),F=new Image;await new Promise((M,B)=>{F.onload=()=>{z.width=X*2,z.height=U*2,H.scale(2,2),H.fillStyle=Fd8(),H.fillRect(0,0,X,U),H.drawImage(F,0,0),M()},F.onerror=B,F.src=G}),z.toBlob((M)=>{if(!M)throw Error("Failed to create PNG");let B=URL.createObjectURL(M),O=document.createElement("a");O.href=B,O.download=`${J}.png`,O.click(),URL.revokeObjectURL(G),URL.revokeObjectURL(B)},"image/png")}catch(Q){console.error("Failed to download PNG:",Q),alert("Failed to download PNG")}}function Od8(Z,J){let Q=U00(Z);Q.setAttribute("height","100%"),Q.style.maxWidth="100%";let K=document.createElement("div");K.className="diagram-fullscreen-overlay",K.innerHTML=`
    <div class="fullscreen-header">
      <div class="fullscreen-toolbar">
        <button class="zoom-in" title="Zoom In">+</button>
        <button class="zoom-out" title="Zoom Out"></button>
        <button class="zoom-reset" title="Reset">Reset</button>
        <span class="toolbar-sep"></span>
        <button class="copy-svg" title="Copy SVG">Copy</button>
        <button class="download-png" title="Download PNG">PNG</button>
      </div>
      <button class="fullscreen-close" title="Close (Esc)">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="fullscreen-viewport"></div>
  `,K.querySelector(".fullscreen-viewport").appendChild(Q),document.body.appendChild(K),document.body.style.overflow="hidden";let U=X00.default(Q,{fit:!0,center:!0,controlIconsEnabled:!1,maxZoom:10,minZoom:0.1,zoomScaleSensitivity:0.3,panEnabled:!0,zoomEnabled:!0});K.querySelector(".zoom-in")?.addEventListener("click",()=>{U.zoomIn()}),K.querySelector(".zoom-out")?.addEventListener("click",()=>{U.zoomOut()}),K.querySelector(".zoom-reset")?.addEventListener("click",()=>{U.resetZoom(),U.resetPan(),U.fit(),U.center()});let Y=K.querySelector(".copy-svg");Y?.addEventListener("click",async()=>{await Dc0(Q,Y)}),K.querySelector(".download-png")?.addEventListener("click",async()=>{await Lc0(Q,J)});let W=()=>{U.destroy(),K.remove(),document.body.style.overflow="",document.removeEventListener("keydown",G)};K.querySelector(".fullscreen-close")?.addEventListener("click",W);let G=(z)=>{if(z.key==="Escape")W()};document.addEventListener("keydown",G)}class Y00{tabs=[];activeTabId=null;tabSwitchCallback=null;allTabsClosedCallback=null;nextId=1;constructor(){this.loadRecentFiles(),this.renderTabs()}addTab(Z,J,Q){let K={id:`tab-${this.nextId++}`,path:Z,content:J,dirty:!1,mtime:Q};return this.tabs.push(K),this.activeTabId=K.id,this.saveRecentFiles(),this.renderTabs(),K}removeTab(Z,J=!1){let Q=this.tabs.findIndex((X)=>X.id===Z);if(Q===-1)return;let K=this.tabs[Q];if(!K)return;if(K.dirty&&!J){this.showCloseConfirmDialog(K,()=>{this.removeTab(Z,!0)});return}if(this.tabs.splice(Q,1),this.activeTabId===Z){if(this.tabs.length>0){let X=Math.min(Q,this.tabs.length-1),U=this.tabs[X];if(U)this.switchToTab(U.id)}else if(this.activeTabId=null,this.allTabsClosedCallback)this.allTabsClosedCallback()}this.saveRecentFiles(),this.renderTabs()}showCloseConfirmDialog(Z,J){let Q=document.createElement("div");Q.className="confirm-dialog",Q.innerHTML=`
      <div class="confirm-content">
        <h3>Unsaved Changes</h3>
        <p>"${this.getTabName(Z.path)}" has unsaved changes. Close anyway?</p>
        <div class="confirm-actions">
          <button class="btn" id="confirm-cancel">Cancel</button>
          <button class="btn btn-danger" id="confirm-close">Close Without Saving</button>
        </div>
      </div>
    `,document.body.appendChild(Q),Q.querySelector("#confirm-cancel")?.addEventListener("click",()=>{Q.remove()}),Q.querySelector("#confirm-close")?.addEventListener("click",()=>{Q.remove(),J()}),Q.addEventListener("click",(K)=>{if(K.target===Q)Q.remove()})}switchToTab(Z){let J=this.tabs.find((Q)=>Q.id===Z);if(!J)return;if(this.activeTabId=Z,this.renderTabs(),this.tabSwitchCallback)this.tabSwitchCallback(J)}getActiveTab(){return this.tabs.find((Z)=>Z.id===this.activeTabId)||null}findTabByPath(Z){return this.tabs.find((J)=>J.path===Z)}onTabSwitch(Z){this.tabSwitchCallback=Z}onAllTabsClosed(Z){this.allTabsClosedCallback=Z}hasDirtyTabs(){return this.tabs.some((Z)=>Z.dirty)}updateTabDisplay(){this.renderTabs()}getTabName(Z){return Z.split("/").pop()||Z}renderTabs(){let Z=document.getElementById("tabs");if(!Z)return;Z.innerHTML="";for(let J of this.tabs){let Q=document.createElement("div");Q.className=`tab${J.id===this.activeTabId?" active":""}${J.dirty?" dirty":""}`,Q.innerHTML=`
        <span class="tab-title" title="${J.path}">${this.getTabName(J.path)}</span>
        <span class="tab-close" title="Close">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </span>
      `,Q.addEventListener("click",(K)=>{if(K.target.closest(".tab-close"))this.removeTab(J.id);else this.switchToTab(J.id)}),Q.addEventListener("auxclick",(K)=>{if(K.button===1)this.removeTab(J.id)}),Z.appendChild(Q)}}saveRecentFiles(){let Z=this.tabs.map((J)=>J.path).slice(-10);localStorage.setItem("mermaid-editor-recent",JSON.stringify(Z))}loadRecentFiles(){try{let Z=localStorage.getItem("mermaid-editor-recent");if(Z)JSON.parse(Z)}catch{}}}var jf=null;function Ac0(Z){jf=Z;let J=document.getElementById("open-file"),Q=document.getElementById("file-input");J?.addEventListener("click",()=>{Q?.click()}),Q?.addEventListener("change",async()=>{let Y=Q.files;if(!Y||Y.length===0)return;for(let q of Array.from(Y))await Ic0(q);Q.value=""}),document.getElementById("save-file")?.addEventListener("click",()=>{jf?.onFileSave()});let X=document.getElementById("drop-overlay"),U=0;document.addEventListener("dragenter",(Y)=>{Y.preventDefault(),U++,X.classList.add("visible")}),document.addEventListener("dragleave",(Y)=>{if(Y.preventDefault(),U--,U===0)X.classList.remove("visible")}),document.addEventListener("dragover",(Y)=>{Y.preventDefault()}),document.addEventListener("drop",async(Y)=>{Y.preventDefault(),U=0,X.classList.remove("visible");let q=Y.dataTransfer?.files;if(!q||q.length===0)return;for(let W of Array.from(q))if(W.name.endsWith(".md")||W.name.endsWith(".markdown"))await Ic0(W)})}async function Ic0(Z){if(!jf)return;try{let J=await Z.text();jf.onFileOpen(Z.name,J,Z.lastModified)}catch(J){console.error("Error reading file:",J),alert("Failed to read file")}}var jO=null,W00=null,q00=null,Cf=0,Rd8=10,Dd8=2000;function Nc0(Z){W00=Z,Ec0()}function Ec0(){if(jO?.readyState===WebSocket.OPEN)return;let J=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;jO=new WebSocket(J),jO.onopen=()=>{console.log("WebSocket connected"),Cf=0},jO.onmessage=(Q)=>{try{let K=JSON.parse(Q.data);if(K.type==="file-change"&&W00)W00.onFileChange(K.path,K.content)}catch(K){console.error("Error processing WebSocket message:",K)}},jO.onclose=()=>{console.log("WebSocket disconnected"),Ld8()},jO.onerror=(Q)=>{console.error("WebSocket error:",Q)}}function Ld8(){if(q00)return;if(Cf>=Rd8){console.log("Max reconnection attempts reached");return}Cf++;let Z=Dd8*Math.min(Cf,5);q00=window.setTimeout(()=>{q00=null,Ec0()},Z)}function Vc0(){let Z=document.getElementById("divider"),J=document.getElementById("editor-pane"),Q=document.getElementById("preview-pane"),K=document.getElementById("split-pane");if(!Z||!J||!Q||!K)return;let X=!1,U=0,Y=0;Z.addEventListener("mousedown",(q)=>{X=!0,U=q.clientX,Y=J.offsetWidth,Z.classList.add("dragging"),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}),document.addEventListener("mousemove",(q)=>{if(!X)return;let W=q.clientX-U,G=Y+W,z=K.offsetWidth,H=200,F=z-H-4;if(G>=H&&G<=F){let M=G/z*100,B=100-M-4/z*100;J.style.flex="none",J.style.width=`${M}%`,Q.style.flex="none",Q.style.width=`${B}%`}}),document.addEventListener("mouseup",()=>{if(X)X=!1,Z.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""}),Z.addEventListener("dblclick",()=>{J.style.flex="1",J.style.width="",Q.style.flex="1",Q.style.width=""})}var Cc0=null,ZN=[],JN=null,Pc0=typeof window.showDirectoryPicker==="function",G00=null;function Sc0(Z){G00=Z}async function Tc0(){Ad8(),vc0()}async function XH(){if(Pc0&&window.showDirectoryPicker)try{JN=await window.showDirectoryPicker({mode:"readwrite"}),await $c0(),wc0()}catch(Z){if(Z.name==="AbortError")return;console.warn("showDirectoryPicker failed, using fallback:",Z),Pc0=!1,jc0()}else jc0()}function jc0(){let Z=document.getElementById("folder-input");if(Z)Z.click()}function wc0(){let Z=document.getElementById("refresh-files");if(Z)Z.style.display=""}async function $c0(){let Z=document.getElementById("file-tree");if(!Z)return;if(!JN&&ZN.length===0){vc0();return}try{if(Z.innerHTML='<div class="file-tree-loading">Loading...</div>',JN)ZN=await kc0(JN,"");z00(Z,ZN)}catch(J){console.error("Failed to load file tree:",J),Z.innerHTML='<div class="file-tree-empty">Failed to load files</div>'}}async function kc0(Z,J){let Q=[];for await(let K of Z.values()){let X=J?`${J}/${K.name}`:K.name;if(K.kind==="directory"){let U=await kc0(K,X);if(U.length>0)Q.push({name:K.name,path:X,type:"folder",children:U,expanded:!0})}else if(K.kind==="file"&&(K.name.endsWith(".md")||K.name.endsWith(".markdown")))Q.push({name:K.name,path:X,type:"file",handle:K})}return _c0(Q),Q}function Id8(Z){let J=[];for(let Q of Array.from(Z)){if(!Q.name.endsWith(".md")&&!Q.name.endsWith(".markdown"))continue;let U=Q.webkitRelativePath.split("/").slice(1);if(U.length===0)continue;let Y=J;for(let q=0;q<U.length;q++){let W=U[q];if(!W)continue;let G=q===U.length-1,z=U.slice(0,q+1).join("/"),H=Y.find((F)=>F.name===W);if(!H)H={name:W,path:z,type:G?"file":"folder",children:G?void 0:[],expanded:!0,file:G?Q:void 0},Y.push(H);if(!G&&H.children)Y=H.children}}return fc0(J),J}function _c0(Z){Z.sort((J,Q)=>{if(J.type!==Q.type)return J.type==="folder"?-1:1;return J.name.localeCompare(Q.name)})}function fc0(Z){_c0(Z);for(let J of Z)if(J.children)fc0(J.children)}function vc0(){let Z=document.getElementById("file-tree");if(!Z)return;Z.innerHTML=`
    <div class="file-tree-empty">
      <p>No folder open</p>
      <button class="file-tree-open-btn" id="file-tree-open-folder">Open Folder</button>
    </div>
  `,document.getElementById("file-tree-open-folder")?.addEventListener("click",XH)}function z00(Z,J,Q=0){if(J.length===0){Z.innerHTML='<div class="file-tree-empty">No markdown files found</div>';return}if(Q===0)Z.innerHTML="";for(let K of J){let X=document.createElement("div");X.className=`file-tree-item ${K.type}${K.path===Cc0?" active":""}`,X.style.paddingLeft=`${12+Q*16}px`,X.dataset.path=K.path;let U=document.createElement("span");if(U.className="file-tree-icon",K.type==="folder")U.innerHTML=K.expanded?'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>';else U.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>';let Y=document.createElement("span");if(Y.className="file-tree-name",Y.textContent=K.name,X.appendChild(U),X.appendChild(Y),Z.appendChild(X),K.type==="folder"){if(X.addEventListener("click",(q)=>{q.stopPropagation(),K.expanded=!K.expanded;let W=X.nextElementSibling;if(W?.classList.contains("file-tree-children"))W.classList.toggle("expanded",K.expanded);U.innerHTML=K.expanded?'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>'}),K.children&&K.children.length>0){let q=document.createElement("div");q.className=`file-tree-children${K.expanded?" expanded":""}`,Z.appendChild(q),z00(q,K.children,Q+1)}}else X.addEventListener("click",async()=>{try{let q;if(K.handle)q=await(await K.handle.getFile()).text();else if(K.file)q=await K.file.text();else throw Error("No file source available");if(G00)G00(K.path,q,K.handle);dW(K.path)}catch(q){console.error("Failed to read file:",q),alert("Failed to read file")}})}}function dW(Z){Cc0=Z;let J=document.getElementById("file-tree");if(!J)return;J.querySelectorAll(".file-tree-item.active").forEach((K)=>{K.classList.remove("active")});let Q=J.querySelector(`[data-path="${Z}"]`);if(Q)Q.classList.add("active")}function Ad8(){let Z=document.getElementById("sidebar"),J=document.getElementById("sidebar-divider"),Q=document.getElementById("refresh-files"),K=document.getElementById("open-folder"),X=document.getElementById("folder-input");if(K?.addEventListener("click",XH),X?.addEventListener("change",()=>{let U=X.files;if(!U||U.length===0)return;ZN=Id8(U);let Y=document.getElementById("file-tree");if(Y)z00(Y,ZN);wc0(),X.value=""}),Q?.addEventListener("click",()=>{if(JN)$c0();else XH()}),J&&Z){let U=!1;J.addEventListener("mousedown",()=>{U=!0,J.classList.add("dragging"),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}),document.addEventListener("mousemove",(Y)=>{if(!U)return;let q=Y.clientX;if(q>=180&&q<=400)Z.style.width=`${q}px`}),document.addEventListener("mouseup",()=>{if(U)U=!1,J.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""})}}var xc0=new Map;function bc0(Z){return xc0.get(Z)}function yc0(Z,J){xc0.set(Z,J)}async function hc0(){let Z=document.getElementById("editor"),J=O40(Z),Q=new Y00;R40((K)=>{let X=Q.getActiveTab();if(X)X.content=K,X.dirty=!0,Q.updateTabDisplay(),wU("dirty");H00(K),lW(K)}),Q.onTabSwitch((K)=>{BG(K.content),H00(K.content),lW(K.content),wU(K.dirty?"dirty":"saved"),dW(K.path)}),Q.onAllTabsClosed(()=>{BG(""),H00(""),mc0(),wU("saved"),dW("")}),Ac0({onFileOpen:(K,X)=>{let U=Q.findTabByPath(K);if(U){Q.switchToTab(U.id),dW(K),Tf();return}let Y=Q.addTab(K,X);BG(X),lW(X),wU("saved"),dW(K),Tf()},onFileSave:async()=>{let K=Q.getActiveTab();if(!K)return;try{wU("syncing");let X=bc0(K.path);if(X){let U=await X.createWritable();await U.write(K.content),await U.close(),K.dirty=!1,Q.updateTabDisplay(),wU("saved")}else{let U=await fetch("/api/file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:K.path,content:K.content})});if(U.ok){let Y=await U.json();K.dirty=!1,K.mtime=Y.mtime,Q.updateTabDisplay(),wU("saved")}else throw Error("Failed to save")}}catch(X){console.error("Save failed:",X),wU("dirty"),alert("Failed to save file")}}}),Nc0({onFileChange:(K,X)=>{let U=Q.findTabByPath(K);if(!U)return;if(U.dirty)Pd8(U,X,()=>{},()=>{if(U.content=X,U.dirty=!1,Q.updateTabDisplay(),Q.getActiveTab()?.id===U.id)BG(X),lW(X),wU("saved")});else if(U.content=X,Q.updateTabDisplay(),Q.getActiveTab()?.id===U.id)BG(X),lW(X)}}),Vc0(),document.addEventListener("keydown",(K)=>{if((K.ctrlKey||K.metaKey)&&K.key==="s")K.preventDefault(),document.getElementById("save-file")?.click();if((K.ctrlKey||K.metaKey)&&K.key==="o"&&!K.shiftKey)K.preventDefault(),document.getElementById("file-input")?.click();if((K.ctrlKey||K.metaKey)&&K.shiftKey&&K.key==="O")K.preventDefault(),XH();if((K.ctrlKey||K.metaKey)&&K.key==="b")K.preventDefault(),uc0()}),Nd8(),Vd8(),Ed8(),jd8(),Td8(),Sc0((K,X,U)=>{let Y=Q.findTabByPath(K);if(Y){Q.switchToTab(Y.id),dW(K),Tf();return}if(U)yc0(K,U);let q=Q.addTab(K,X);BG(X),lW(X),wU("saved"),dW(K),Tf()}),Tc0(),mc0()}function wU(Z){let J=document.getElementById("file-status");switch(J.className="file-status "+Z,Z){case"dirty":J.textContent="Unsaved changes";break;case"saved":J.textContent="Saved";break;case"syncing":J.textContent="Saving...";break}}function mc0(){let Z=document.getElementById("preview");Z.innerHTML=`
    <div class="empty-state">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="16" y1="13" x2="8" y2="13"/>
        <line x1="16" y1="17" x2="8" y2="17"/>
        <polyline points="10 9 9 9 8 9"/>
      </svg>
      <h2>No file open</h2>
      <p>Open a markdown file to get started</p>
      <div class="empty-state-actions">
        <button class="btn" id="empty-open-file">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
          </svg>
          Open File
        </button>
        <button class="btn" id="empty-open-folder">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
          </svg>
          Open Folder
        </button>
      </div>
    </div>
  `,CO("preview"),pc0(!1),document.getElementById("empty-open-file")?.addEventListener("click",()=>{document.getElementById("file-input")?.click()}),document.getElementById("empty-open-folder")?.addEventListener("click",()=>{XH()})}var Sf=!0;function uc0(){let Z=document.getElementById("sidebar"),J=document.getElementById("toggle-sidebar");Sf=!Sf,Z?.classList.toggle("hidden",!Sf),J?.classList.toggle("active",Sf)}function Nd8(){document.getElementById("toggle-sidebar")?.addEventListener("click",uc0)}function Ed8(){let Z=document.getElementById("open-dropdown"),J=document.getElementById("open-menu-btn"),Q=document.getElementById("menu-open-file"),K=document.getElementById("menu-open-folder");J?.addEventListener("click",(X)=>{X.stopPropagation(),Z?.classList.toggle("open")}),document.addEventListener("click",()=>{Z?.classList.remove("open")}),Q?.addEventListener("click",()=>{Z?.classList.remove("open"),document.getElementById("file-input")?.click()}),K?.addEventListener("click",()=>{Z?.classList.remove("open"),XH()})}var gc0="split",SO=null;function CO(Z){if(!SO)return;let{splitPane:J,editorPane:Q,previewPane:K,splitBtn:X,editorBtn:U,previewBtn:Y}=SO;if(gc0=Z,J.classList.remove("editor-only","preview-only"),Q.style.flex="",Q.style.width="",K.style.flex="",K.style.width="",Z==="editor")J.classList.add("editor-only");else if(Z==="preview")J.classList.add("preview-only");X.classList.toggle("active",Z==="split"),U.classList.toggle("active",Z==="editor"),Y.classList.toggle("active",Z==="preview")}function pc0(Z){if(!SO)return;let{splitBtn:J,editorBtn:Q,previewBtn:K}=SO;J.classList.toggle("disabled",!Z),Q.classList.toggle("disabled",!Z),K.classList.toggle("disabled",!Z),J.disabled=!Z,Q.disabled=!Z,K.disabled=!Z}function Tf(){pc0(!0),CO("split")}function Vd8(){SO={splitPane:document.getElementById("split-pane"),editorPane:document.getElementById("editor-pane"),previewPane:document.getElementById("preview-pane"),splitBtn:document.getElementById("view-split"),editorBtn:document.getElementById("view-editor"),previewBtn:document.getElementById("view-preview")};let{splitBtn:Z,editorBtn:J,previewBtn:Q}=SO;Z.addEventListener("click",()=>CO("split")),J.addEventListener("click",()=>CO("editor")),Q.addEventListener("click",()=>CO("preview")),document.addEventListener("keydown",(K)=>{if((K.ctrlKey||K.metaKey)&&K.key==="\\"){K.preventDefault();let X=["split","editor","preview"],U=(X.indexOf(gc0)+1)%X.length,Y=X[U]??"split";CO(Y)}})}function Pd8(Z,J,Q,K){let X=document.createElement("div");X.className="conflict-dialog",X.innerHTML=`
    <div class="conflict-content">
      <h3>File Changed Externally</h3>
      <p>The file "${Z.path}" has been modified outside the editor. What would you like to do?</p>
      <div class="conflict-actions">
        <button class="btn" id="keep-local">Keep My Changes</button>
        <button class="btn btn-primary" id="use-remote">Load External Changes</button>
      </div>
    </div>
  `,document.body.appendChild(X),X.querySelector("#keep-local")?.addEventListener("click",()=>{Q(),X.remove()}),X.querySelector("#use-remote")?.addEventListener("click",()=>{K(),X.remove()})}var F00="";function jd8(){let Z=localStorage.getItem("theme"),J=window.matchMedia("(prefers-color-scheme: dark)").matches;cc0(Z||(J?"dark":"light"),!1)}function cc0(Z,J=!0){if(document.documentElement.setAttribute("data-theme",Z),localStorage.setItem("theme",Z),Rc0(Z),Sd8(Z),J&&F00)lW(F00)}function Cd8(){let Z=document.documentElement.getAttribute("data-theme");cc0(Z==="dark"?"light":"dark")}function Sd8(Z){let J=document.querySelector(".theme-icon-dark"),Q=document.querySelector(".theme-icon-light");if(J&&Q)J.style.display=Z==="dark"?"inline-block":"none",Q.style.display=Z==="light"?"inline-block":"none"}function Td8(){document.getElementById("theme-toggle")?.addEventListener("click",Cd8)}function H00(Z){F00=Z}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",hc0);else hc0();

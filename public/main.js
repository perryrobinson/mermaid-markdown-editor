var Ml0=Object.create;var{getPrototypeOf:Bl0,defineProperty:VO,getOwnPropertyNames:xf}=Object;var bf=Object.prototype.hasOwnProperty,gZ=(Z,J,Q)=>{for(let K of xf(J))if(!bf.call(Z,K)&&K!=="default")VO(Z,K,{get:()=>J[K],enumerable:!0});if(Q){for(let K of xf(J))if(!bf.call(Q,K)&&K!=="default")VO(Q,K,{get:()=>J[K],enumerable:!0});return Q}},c7=(Z,J,Q)=>{Q=Z!=null?Ml0(Bl0(Z)):{};let K=J||!Z||!Z.__esModule?VO(Q,"default",{value:Z,enumerable:!0}):Q;for(let U of xf(Z))if(!bf.call(K,U))VO(K,U,{get:()=>Z[U],enumerable:!0});return K};var u9=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var LZ=(Z,J)=>{for(var Q in J)VO(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(K)=>J[Q]=()=>K})};var f=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var _R;var nb=f(()=>{_R={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}});var xE=u9((ab,ob)=>{(function(Z,J){typeof ab=="object"&&typeof ob<"u"?ob.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs=J()})(ab,function(){var Z=1000,J=60000,Q=3600000,K="millisecond",U="second",X="minute",Y="hour",q="day",W="week",G="month",z="quarter",H="year",F="date",M="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var S=["th","st","nd","rd"],T=P%100;return"["+P+(S[(T-20)%10]||S[T]||S[0])+"]"}},L=function(P,S,T){var _=String(P);return!_||_.length>=S?P:""+Array(S+1-_.length).join(T)+P},D={s:L,z:function(P){var S=-P.utcOffset(),T=Math.abs(S),_=Math.floor(T/60),v=T%60;return(S<=0?"+":"-")+L(_,2,"0")+":"+L(v,2,"0")},m:function P(S,T){if(S.date()<T.date())return-P(T,S);var _=12*(T.year()-S.year())+(T.month()-S.month()),v=S.clone().add(_,G),x=T-v<0,b=S.clone().add(_+(x?-1:1),G);return+(-(_+(T-v)/(x?v-b:b-v))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:G,y:H,w:W,d:q,D:F,h:Y,m:X,s:U,ms:K,Q:z}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},A="en",V={};V[A]=R;var N="$isDayjsObject",E=function(P){return P instanceof k||!(!P||!P[N])},C=function P(S,T,_){var v;if(!S)return A;if(typeof S=="string"){var x=S.toLowerCase();V[x]&&(v=x),T&&(V[x]=T,v=x);var b=S.split("-");if(!v&&b.length>1)return P(b[0])}else{var y=S.name;V[y]=S,v=y}return!_&&v&&(A=v),v||!_&&A},j=function(P,S){if(E(P))return P.clone();var T=typeof S=="object"?S:{};return T.date=P,T.args=arguments,new k(T)},$=D;$.l=C,$.i=E,$.w=function(P,S){return j(P,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var k=function(){function P(T){this.$L=C(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[N]=!0}var S=P.prototype;return S.parse=function(T){this.$d=function(_){var{date:v,utc:x}=_;if(v===null)return new Date(NaN);if($.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var b=v.match(B);if(b){var y=b[2]-1||0,u=(b[7]||"0").substring(0,3);return x?new Date(Date.UTC(b[1],y,b[3]||1,b[4]||0,b[5]||0,b[6]||0,u)):new Date(b[1],y,b[3]||1,b[4]||0,b[5]||0,b[6]||0,u)}}return new Date(v)}(T),this.init()},S.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},S.$utils=function(){return $},S.isValid=function(){return this.$d.toString()!==M},S.isSame=function(T,_){var v=j(T);return this.startOf(_)<=v&&v<=this.endOf(_)},S.isAfter=function(T,_){return j(T)<this.startOf(_)},S.isBefore=function(T,_){return this.endOf(_)<j(T)},S.$g=function(T,_,v){return $.u(T)?this[_]:this.set(v,T)},S.unix=function(){return Math.floor(this.valueOf()/1000)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(T,_){var v=this,x=!!$.u(_)||_,b=$.p(T),y=function(a,z0){var J0=$.w(v.$u?Date.UTC(v.$y,z0,a):new Date(v.$y,z0,a),v);return x?J0:J0.endOf(q)},u=function(a,z0){return $.w(v.toDate()[a].apply(v.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(z0)),v)},h=this.$W,p=this.$M,r=this.$D,t="set"+(this.$u?"UTC":"");switch(b){case H:return x?y(1,0):y(31,11);case G:return x?y(1,p):y(0,p+1);case W:var d=this.$locale().weekStart||0,X0=(h<d?h+7:h)-d;return y(x?r-X0:r+(6-X0),p);case q:case F:return u(t+"Hours",0);case Y:return u(t+"Minutes",1);case X:return u(t+"Seconds",2);case U:return u(t+"Milliseconds",3);default:return this.clone()}},S.endOf=function(T){return this.startOf(T,!1)},S.$set=function(T,_){var v,x=$.p(T),b="set"+(this.$u?"UTC":""),y=(v={},v[q]=b+"Date",v[F]=b+"Date",v[G]=b+"Month",v[H]=b+"FullYear",v[Y]=b+"Hours",v[X]=b+"Minutes",v[U]=b+"Seconds",v[K]=b+"Milliseconds",v)[x],u=x===q?this.$D+(_-this.$W):_;if(x===G||x===H){var h=this.clone().set(F,1);h.$d[y](u),h.init(),this.$d=h.set(F,Math.min(this.$D,h.daysInMonth())).$d}else y&&this.$d[y](u);return this.init(),this},S.set=function(T,_){return this.clone().$set(T,_)},S.get=function(T){return this[$.p(T)]()},S.add=function(T,_){var v,x=this;T=Number(T);var b=$.p(_),y=function(p){var r=j(x);return $.w(r.date(r.date()+Math.round(p*T)),x)};if(b===G)return this.set(G,this.$M+T);if(b===H)return this.set(H,this.$y+T);if(b===q)return y(1);if(b===W)return y(7);var u=(v={},v[X]=J,v[Y]=Q,v[U]=Z,v)[b]||1,h=this.$d.getTime()+T*u;return $.w(h,this)},S.subtract=function(T,_){return this.add(-1*T,_)},S.format=function(T){var _=this,v=this.$locale();if(!this.isValid())return v.invalidDate||M;var x=T||"YYYY-MM-DDTHH:mm:ssZ",b=$.z(this),y=this.$H,u=this.$m,h=this.$M,p=v.weekdays,r=v.months,t=v.meridiem,d=function(z0,J0,Q0,e){return z0&&(z0[J0]||z0(_,x))||Q0[J0].slice(0,e)},X0=function(z0){return $.s(y%12||12,z0,"0")},a=t||function(z0,J0,Q0){var e=z0<12?"AM":"PM";return Q0?e.toLowerCase():e};return x.replace(O,function(z0,J0){return J0||function(Q0){switch(Q0){case"YY":return String(_.$y).slice(-2);case"YYYY":return $.s(_.$y,4,"0");case"M":return h+1;case"MM":return $.s(h+1,2,"0");case"MMM":return d(v.monthsShort,h,r,3);case"MMMM":return d(r,h);case"D":return _.$D;case"DD":return $.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return d(v.weekdaysMin,_.$W,p,2);case"ddd":return d(v.weekdaysShort,_.$W,p,3);case"dddd":return p[_.$W];case"H":return String(y);case"HH":return $.s(y,2,"0");case"h":return X0(1);case"hh":return X0(2);case"a":return a(y,u,!0);case"A":return a(y,u,!1);case"m":return String(u);case"mm":return $.s(u,2,"0");case"s":return String(_.$s);case"ss":return $.s(_.$s,2,"0");case"SSS":return $.s(_.$ms,3,"0");case"Z":return b}return null}(z0)||b.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(T,_,v){var x,b=this,y=$.p(_),u=j(T),h=(u.utcOffset()-this.utcOffset())*J,p=this-u,r=function(){return $.m(b,u)};switch(y){case H:x=r()/12;break;case G:x=r();break;case z:x=r()/3;break;case W:x=(p-h)/604800000;break;case q:x=(p-h)/86400000;break;case Y:x=p/Q;break;case X:x=p/J;break;case U:x=p/Z;break;default:x=p}return v?x:$.a(x)},S.daysInMonth=function(){return this.endOf(G).$D},S.$locale=function(){return V[this.$L]},S.locale=function(T,_){if(!T)return this.$L;var v=this.clone(),x=C(T,_,!0);return x&&(v.$L=x),v},S.clone=function(){return $.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},P}(),w=k.prototype;return j.prototype=w,[["$ms",K],["$s",U],["$m",X],["$H",Y],["$W",q],["$M",G],["$y",H],["$D",F]].forEach(function(P){w[P[1]]=function(S){return this.$g(S,P[0],P[1])}}),j.extend=function(P,S){return P.$i||(P(S,k,j),P.$i=!0),j},j.locale=C,j.isDayjs=E,j.unix=function(P){return j(1000*P)},j.en=V[A],j.Ls=V,j.p={},j})});var L40,R40,I=(Z,J)=>R40(Z,"name",{value:J,configurable:!0}),q1=(Z,J)=>{for(var Q in J)R40(Z,Q,{get:J[Q],enumerable:!0})},vX,Z0,fR,ZK;var AZ=f(()=>{L40=c7(xE(),1),R40=Object.defineProperty,vX={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Z0={trace:I((...Z)=>{},"trace"),debug:I((...Z)=>{},"debug"),info:I((...Z)=>{},"info"),warn:I((...Z)=>{},"warn"),error:I((...Z)=>{},"error"),fatal:I((...Z)=>{},"fatal")},fR=I(function(Z="fatal"){let J=vX.fatal;if(typeof Z==="string"){if(Z.toLowerCase()in vX)J=vX[Z]}else if(typeof Z==="number")J=Z;if(Z0.trace=()=>{},Z0.debug=()=>{},Z0.info=()=>{},Z0.warn=()=>{},Z0.error=()=>{},Z0.fatal=()=>{},J<=vX.fatal)Z0.fatal=console.error?console.error.bind(console,ZK("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ZK("FATAL"));if(J<=vX.error)Z0.error=console.error?console.error.bind(console,ZK("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ZK("ERROR"));if(J<=vX.warn)Z0.warn=console.warn?console.warn.bind(console,ZK("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ZK("WARN"));if(J<=vX.info)Z0.info=console.info?console.info.bind(console,ZK("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ZK("INFO"));if(J<=vX.debug)Z0.debug=console.debug?console.debug.bind(console,ZK("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ZK("DEBUG"));if(J<=vX.trace)Z0.trace=console.debug?console.debug.bind(console,ZK("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ZK("TRACE"))},"setLogLevel"),ZK=I((Z)=>{return`%c${L40.default().format("ss.SSS")} : ${Z} : `},"format")});var bE,D40;var I40=f(()=>{bE={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:(Z)=>Z>=255?255:Z<0?0:Z,g:(Z)=>Z>=255?255:Z<0?0:Z,b:(Z)=>Z>=255?255:Z<0?0:Z,h:(Z)=>Z%360,s:(Z)=>Z>=100?100:Z<0?0:Z,l:(Z)=>Z>=100?100:Z<0?0:Z,a:(Z)=>Z>=1?1:Z<0?0:Z},toLinear:(Z)=>{let J=Z/255;return Z>0.03928?Math.pow((J+0.055)/1.055,2.4):J/12.92},hue2rgb:(Z,J,Q)=>{if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<0.16666666666666666)return Z+(J-Z)*6*Q;if(Q<0.5)return J;if(Q<0.6666666666666666)return Z+(J-Z)*(0.6666666666666666-Q)*6;return Z},hsl2rgb:({h:Z,s:J,l:Q},K)=>{if(!J)return Q*2.55;Z/=360,J/=100,Q/=100;let U=Q<0.5?Q*(1+J):Q+J-Q*J,X=2*Q-U;switch(K){case"r":return bE.hue2rgb(X,U,Z+0.3333333333333333)*255;case"g":return bE.hue2rgb(X,U,Z)*255;case"b":return bE.hue2rgb(X,U,Z-0.3333333333333333)*255}},rgb2hsl:({r:Z,g:J,b:Q},K)=>{Z/=255,J/=255,Q/=255;let U=Math.max(Z,J,Q),X=Math.min(Z,J,Q),Y=(U+X)/2;if(K==="l")return Y*100;if(U===X)return 0;let q=U-X,W=Y>0.5?q/(2-U-X):q/(U+X);if(K==="s")return W*100;switch(U){case Z:return((J-Q)/q+(J<Q?6:0))*60;case J:return((Q-Z)/q+2)*60;case Q:return((Z-J)/q+4)*60;default:return-1}}},D40=bE});var tt0,A40;var N40=f(()=>{tt0={clamp:(Z,J,Q)=>{if(J>Q)return Math.min(J,Math.max(Q,Z));return Math.min(Q,Math.max(J,Z))},round:(Z)=>{return Math.round(Z*10000000000)/10000000000}},A40=tt0});var et0,E40;var V40=f(()=>{et0={dec2hex:(Z)=>{let J=Math.round(Z).toString(16);return J.length>1?J:`0${J}`}},E40=et0});var Ze0,KZ;var ZU=f(()=>{I40();N40();V40();Ze0={channel:D40,lang:A40,unit:E40},KZ=Ze0});var xX,M7;var vR=f(()=>{ZU();xX={};for(let Z=0;Z<=255;Z++)xX[Z]=KZ.unit.dec2hex(Z);M7={ALL:0,RGB:1,HSL:2}});class P40{constructor(){this.type=M7.ALL}get(){return this.type}set(Z){if(this.type&&this.type!==Z)throw Error("Cannot change both RGB and HSL channels at the same time");this.type=Z}reset(){this.type=M7.ALL}is(Z){return this.type===Z}}var C40;var j40=f(()=>{vR();C40=P40});class S40{constructor(Z,J){this.color=J,this.changed=!1,this.data=Z,this.type=new C40}set(Z,J){return this.color=J,this.changed=!1,this.data=Z,this.type.type=M7.ALL,this}_ensureHSL(){let Z=this.data,{h:J,s:Q,l:K}=Z;if(J===void 0)Z.h=KZ.channel.rgb2hsl(Z,"h");if(Q===void 0)Z.s=KZ.channel.rgb2hsl(Z,"s");if(K===void 0)Z.l=KZ.channel.rgb2hsl(Z,"l")}_ensureRGB(){let Z=this.data,{r:J,g:Q,b:K}=Z;if(J===void 0)Z.r=KZ.channel.hsl2rgb(Z,"r");if(Q===void 0)Z.g=KZ.channel.hsl2rgb(Z,"g");if(K===void 0)Z.b=KZ.channel.hsl2rgb(Z,"b")}get r(){let Z=this.data,J=Z.r;if(!this.type.is(M7.HSL)&&J!==void 0)return J;return this._ensureHSL(),KZ.channel.hsl2rgb(Z,"r")}get g(){let Z=this.data,J=Z.g;if(!this.type.is(M7.HSL)&&J!==void 0)return J;return this._ensureHSL(),KZ.channel.hsl2rgb(Z,"g")}get b(){let Z=this.data,J=Z.b;if(!this.type.is(M7.HSL)&&J!==void 0)return J;return this._ensureHSL(),KZ.channel.hsl2rgb(Z,"b")}get h(){let Z=this.data,J=Z.h;if(!this.type.is(M7.RGB)&&J!==void 0)return J;return this._ensureRGB(),KZ.channel.rgb2hsl(Z,"h")}get s(){let Z=this.data,J=Z.s;if(!this.type.is(M7.RGB)&&J!==void 0)return J;return this._ensureRGB(),KZ.channel.rgb2hsl(Z,"s")}get l(){let Z=this.data,J=Z.l;if(!this.type.is(M7.RGB)&&J!==void 0)return J;return this._ensureRGB(),KZ.channel.rgb2hsl(Z,"l")}get a(){return this.data.a}set r(Z){this.type.set(M7.RGB),this.changed=!0,this.data.r=Z}set g(Z){this.type.set(M7.RGB),this.changed=!0,this.data.g=Z}set b(Z){this.type.set(M7.RGB),this.changed=!0,this.data.b=Z}set h(Z){this.type.set(M7.HSL),this.changed=!0,this.data.h=Z}set s(Z){this.type.set(M7.HSL),this.changed=!0,this.data.s=Z}set l(Z){this.type.set(M7.HSL),this.changed=!0,this.data.l=Z}set a(Z){this.changed=!0,this.data.a=Z}}var T40;var w40=f(()=>{ZU();j40();vR();T40=S40});var Je0,W1;var xR=f(()=>{w40();Je0=new T40({r:0,g:0,b:0,a:0},"transparent"),W1=Je0});var $40,WG;var tb=f(()=>{xR();vR();$40={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:(Z)=>{if(Z.charCodeAt(0)!==35)return;let J=Z.match($40.re);if(!J)return;let Q=J[1],K=parseInt(Q,16),U=Q.length,X=U%4===0,Y=U>4,q=Y?1:17,W=Y?8:4,G=X?0:-1,z=Y?255:15;return W1.set({r:(K>>W*(G+3)&z)*q,g:(K>>W*(G+2)&z)*q,b:(K>>W*(G+1)&z)*q,a:X?(K&z)*q/255:1},Z)},stringify:(Z)=>{let{r:J,g:Q,b:K,a:U}=Z;if(U<1)return`#${xX[Math.round(J)]}${xX[Math.round(Q)]}${xX[Math.round(K)]}${xX[Math.round(U*255)]}`;else return`#${xX[Math.round(J)]}${xX[Math.round(Q)]}${xX[Math.round(K)]}`}},WG=$40});var yE,bR;var k40=f(()=>{ZU();xR();yE={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:(Z)=>{let J=Z.match(yE.hueRe);if(J){let[,Q,K]=J;switch(K){case"grad":return KZ.channel.clamp.h(parseFloat(Q)*0.9);case"rad":return KZ.channel.clamp.h(parseFloat(Q)*180/Math.PI);case"turn":return KZ.channel.clamp.h(parseFloat(Q)*360)}}return KZ.channel.clamp.h(parseFloat(Z))},parse:(Z)=>{let J=Z.charCodeAt(0);if(J!==104&&J!==72)return;let Q=Z.match(yE.re);if(!Q)return;let[,K,U,X,Y,q]=Q;return W1.set({h:yE._hue2deg(K),s:KZ.channel.clamp.s(parseFloat(U)),l:KZ.channel.clamp.l(parseFloat(X)),a:Y?KZ.channel.clamp.a(q?parseFloat(Y)/100:parseFloat(Y)):1},Z)},stringify:(Z)=>{let{h:J,s:Q,l:K,a:U}=Z;if(U<1)return`hsla(${KZ.lang.round(J)}, ${KZ.lang.round(Q)}%, ${KZ.lang.round(K)}%, ${U})`;else return`hsl(${KZ.lang.round(J)}, ${KZ.lang.round(Q)}%, ${KZ.lang.round(K)}%)`}},bR=yE});var hE,eb;var _40=f(()=>{tb();hE={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:(Z)=>{Z=Z.toLowerCase();let J=hE.colors[Z];if(!J)return;return WG.parse(J)},stringify:(Z)=>{let J=WG.stringify(Z);for(let Q in hE.colors)if(hE.colors[Q]===J)return Q;return}},eb=hE});var f40,yR;var v40=f(()=>{ZU();xR();f40={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:(Z)=>{let J=Z.charCodeAt(0);if(J!==114&&J!==82)return;let Q=Z.match(f40.re);if(!Q)return;let[,K,U,X,Y,q,W,G,z]=Q;return W1.set({r:KZ.channel.clamp.r(U?parseFloat(K)*2.55:parseFloat(K)),g:KZ.channel.clamp.g(Y?parseFloat(X)*2.55:parseFloat(X)),b:KZ.channel.clamp.b(W?parseFloat(q)*2.55:parseFloat(q)),a:G?KZ.channel.clamp.a(z?parseFloat(G)/100:parseFloat(G)):1},Z)},stringify:(Z)=>{let{r:J,g:Q,b:K,a:U}=Z;if(U<1)return`rgba(${KZ.lang.round(J)}, ${KZ.lang.round(Q)}, ${KZ.lang.round(K)}, ${KZ.lang.round(U)})`;else return`rgb(${KZ.lang.round(J)}, ${KZ.lang.round(Q)}, ${KZ.lang.round(K)})`}},yR=f40});var Qe0,B7;var bX=f(()=>{tb();k40();_40();v40();vR();Qe0={format:{keyword:eb,hex:WG,rgb:yR,rgba:yR,hsl:bR,hsla:bR},parse:(Z)=>{if(typeof Z!=="string")return Z;let J=WG.parse(Z)||yR.parse(Z)||bR.parse(Z)||eb.parse(Z);if(J)return J;throw Error(`Unsupported color format: "${Z}"`)},stringify:(Z)=>{if(!Z.changed&&Z.color)return Z.color;if(Z.type.is(M7.HSL)||Z.data.r===void 0)return bR.stringify(Z);else if(Z.a<1||!Number.isInteger(Z.r)||!Number.isInteger(Z.g)||!Number.isInteger(Z.b))return yR.stringify(Z);else return WG.stringify(Z)}},B7=Qe0});var Ke0=(Z,J)=>{let Q=B7.parse(Z);for(let K in J)Q[K]=KZ.channel.clamp[K](J[K]);return B7.stringify(Q)},mE;var Zy=f(()=>{ZU();bX();mE=Ke0});var Ue0=(Z,J,Q=0,K=1)=>{if(typeof Z!=="number")return mE(Z,{a:J});let U=W1.set({r:KZ.channel.clamp.r(Z),g:KZ.channel.clamp.g(J),b:KZ.channel.clamp.b(Q),a:KZ.channel.clamp.a(K)});return B7.stringify(U)},dQ;var Jy=f(()=>{ZU();xR();bX();Zy();dQ=Ue0});var Xe0=(Z,J)=>{return KZ.lang.round(B7.parse(Z)[J])},GG;var x40=f(()=>{ZU();bX();GG=Xe0});var Ye0=(Z)=>{let{r:J,g:Q,b:K}=B7.parse(Z),U=0.2126*KZ.channel.toLinear(J)+0.7152*KZ.channel.toLinear(Q)+0.0722*KZ.channel.toLinear(K);return KZ.lang.round(U)},b40;var y40=f(()=>{ZU();bX();b40=Ye0});var qe0=(Z)=>{return b40(Z)>=0.5},h40;var m40=f(()=>{y40();h40=qe0});var We0=(Z)=>{return!h40(Z)},n7;var u40=f(()=>{m40();n7=We0});var Ge0=(Z,J,Q)=>{let K=B7.parse(Z),U=K[J],X=KZ.channel.clamp[J](U+Q);if(U!==X)K[J]=X;return B7.stringify(K)},uE;var Qy=f(()=>{ZU();bX();uE=Ge0});var ze0=(Z,J)=>{return uE(Z,"l",J)},x8;var g40=f(()=>{Qy();x8=ze0});var He0=(Z,J)=>{return uE(Z,"l",-J)},c8;var p40=f(()=>{Qy();c8=He0});var Fe0=(Z,J)=>{let Q=B7.parse(Z),K={};for(let U in J){if(!J[U])continue;K[U]=Q[U]+J[U]}return mE(Z,K)},y0;var c40=f(()=>{bX();Zy();y0=Fe0});var Me0=(Z,J,Q=50)=>{let{r:K,g:U,b:X,a:Y}=B7.parse(Z),{r:q,g:W,b:G,a:z}=B7.parse(J),H=Q/100,F=H*2-1,M=Y-z,O=((F*M===-1?F:(F+M)/(1+F*M))+1)/2,R=1-O,L=K*O+q*R,D=U*O+W*R,A=X*O+G*R,V=Y*H+z*(1-H);return dQ(L,D,A,V)},l40;var d40=f(()=>{bX();Jy();l40=Me0});var Be0=(Z,J=100)=>{let Q=B7.parse(Z);return Q.r=255-Q.r,Q.g=255-Q.g,Q.b=255-Q.b,l40(Q,Z,J)},S8;var i40=f(()=>{bX();d40();S8=Be0});var s40=f(()=>{Jy();x40();u40();g40();p40();c40();i40()});var N4=f(()=>{s40()});function rQ(Z){return function(J){if(J instanceof RegExp)J.lastIndex=0;for(var Q=arguments.length,K=Array(Q>1?Q-1:0),U=1;U<Q;U++)K[U-1]=arguments[U];return Hy(Z,J,K)}}function Ee0(Z){return function(){for(var J=arguments.length,Q=Array(J),K=0;K<J;K++)Q[K]=arguments[K];return Fy(Z,Q)}}function pZ(Z,J){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cE;if(r40)r40(Z,null);let K=J.length;while(K--){let U=J[K];if(typeof U==="string"){let X=Q(U);if(X!==U){if(!Oe0(J))J[K]=X;U=X}}Z[U]=!0}return Z}function Ve0(Z){for(let J=0;J<Z.length;J++)if(!eK(Z,J))Z[J]=null;return Z}function JU(Z){let J=zy(null);for(let[Q,K]of QK0(Z))if(eK(Z,Q))if(Array.isArray(K))J[Q]=Ve0(K);else if(K&&typeof K==="object"&&K.constructor===Object)J[Q]=JU(K);else J[Q]=K;return J}function gR(Z,J){while(Z!==null){let K=Le0(Z,J);if(K){if(K.get)return rQ(K.get);if(typeof K.value==="function")return rQ(K.value)}Z=Re0(Z)}function Q(){return null}return Q}function XK0(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve0(),J=(R8)=>XK0(R8);if(J.version="3.3.1",J.removed=[],!Z||!Z.document||Z.document.nodeType!==pR.document||!Z.Element)return J.isSupported=!1,J;let{document:Q}=Z,K=Q,U=K.currentScript,{DocumentFragment:X,HTMLTemplateElement:Y,Node:q,Element:W,NodeFilter:G,NamedNodeMap:z=Z.NamedNodeMap||Z.MozNamedAttrMap,HTMLFormElement:H,DOMParser:F,trustedTypes:M}=Z,B=W.prototype,O=gR(B,"cloneNode"),R=gR(B,"remove"),L=gR(B,"nextSibling"),D=gR(B,"childNodes"),A=gR(B,"parentNode");if(typeof Y==="function"){let R8=Q.createElement("template");if(R8.content&&R8.content.ownerDocument)Q=R8.content.ownerDocument}let V,N="",{implementation:E,createNodeIterator:C,createDocumentFragment:j,getElementsByTagName:$}=Q,{importNode:k}=K,w=JK0();J.isSupported=typeof QK0==="function"&&typeof A==="function"&&E&&E.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:P,ERB_EXPR:S,TMPLIT_EXPR:T,DATA_ATTR:_,ARIA_ATTR:v,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:b,CUSTOM_ELEMENT:y}=ZK0,{IS_ALLOWED_URI:u}=ZK0,h=null,p=pZ({},[...a40,...Yy,...qy,...Wy,...o40]),r=null,t=pZ({},[...t40,...Gy,...e40,...pE]),d=Object.seal(zy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),X0=null,a=null,z0=Object.seal(zy(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),J0=!0,Q0=!0,e=!1,n=!0,Y0=!1,o=!0,M0=!1,K0=!1,V0=!1,i=!1,p0=!1,B0=!1,h0=!0,a0=!1,s0="user-content-",$0=!0,x0=!1,f0={},C0=null,m0=pZ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),F0=null,I0=pZ({},["audio","video","img","source","image","track"]),s=null,H0=pZ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),m="http://www.w3.org/1998/Math/MathML",q0="http://www.w3.org/2000/svg",W0="http://www.w3.org/1999/xhtml",N0=W0,D0=!1,L0=null,_0=pZ({},[m,q0,W0],Uy),T0=pZ({},["mi","mo","mn","ms","mtext"]),u0=pZ({},["annotation-xml"]),Z8=pZ({},["title","style","font","a","script"]),B8=null,r0=["application/xhtml+xml","text/html"],g0="text/html",t0=null,d0=null,X8=Q.createElement("form"),g8=function(S0){return S0 instanceof RegExp||S0 instanceof Function},M8=function(){let S0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(d0&&d0===S0)return;if(!S0||typeof S0!=="object")S0={};if(S0=JU(S0),B8=r0.indexOf(S0.PARSER_MEDIA_TYPE)===-1?g0:S0.PARSER_MEDIA_TYPE,t0=B8==="application/xhtml+xml"?Uy:cE,h=eK(S0,"ALLOWED_TAGS")?pZ({},S0.ALLOWED_TAGS,t0):p,r=eK(S0,"ALLOWED_ATTR")?pZ({},S0.ALLOWED_ATTR,t0):t,L0=eK(S0,"ALLOWED_NAMESPACES")?pZ({},S0.ALLOWED_NAMESPACES,Uy):_0,s=eK(S0,"ADD_URI_SAFE_ATTR")?pZ(JU(H0),S0.ADD_URI_SAFE_ATTR,t0):H0,F0=eK(S0,"ADD_DATA_URI_TAGS")?pZ(JU(I0),S0.ADD_DATA_URI_TAGS,t0):I0,C0=eK(S0,"FORBID_CONTENTS")?pZ({},S0.FORBID_CONTENTS,t0):m0,X0=eK(S0,"FORBID_TAGS")?pZ({},S0.FORBID_TAGS,t0):JU({}),a=eK(S0,"FORBID_ATTR")?pZ({},S0.FORBID_ATTR,t0):JU({}),f0=eK(S0,"USE_PROFILES")?S0.USE_PROFILES:!1,J0=S0.ALLOW_ARIA_ATTR!==!1,Q0=S0.ALLOW_DATA_ATTR!==!1,e=S0.ALLOW_UNKNOWN_PROTOCOLS||!1,n=S0.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y0=S0.SAFE_FOR_TEMPLATES||!1,o=S0.SAFE_FOR_XML!==!1,M0=S0.WHOLE_DOCUMENT||!1,i=S0.RETURN_DOM||!1,p0=S0.RETURN_DOM_FRAGMENT||!1,B0=S0.RETURN_TRUSTED_TYPE||!1,V0=S0.FORCE_BODY||!1,h0=S0.SANITIZE_DOM!==!1,a0=S0.SANITIZE_NAMED_PROPS||!1,$0=S0.KEEP_CONTENT!==!1,x0=S0.IN_PLACE||!1,u=S0.ALLOWED_URI_REGEXP||KK0,N0=S0.NAMESPACE||W0,T0=S0.MATHML_TEXT_INTEGRATION_POINTS||T0,u0=S0.HTML_INTEGRATION_POINTS||u0,d=S0.CUSTOM_ELEMENT_HANDLING||{},S0.CUSTOM_ELEMENT_HANDLING&&g8(S0.CUSTOM_ELEMENT_HANDLING.tagNameCheck))d.tagNameCheck=S0.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(S0.CUSTOM_ELEMENT_HANDLING&&g8(S0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))d.attributeNameCheck=S0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(S0.CUSTOM_ELEMENT_HANDLING&&typeof S0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")d.allowCustomizedBuiltInElements=S0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(Y0)Q0=!1;if(p0)i=!0;if(f0){if(h=pZ({},o40),r=[],f0.html===!0)pZ(h,a40),pZ(r,t40);if(f0.svg===!0)pZ(h,Yy),pZ(r,Gy),pZ(r,pE);if(f0.svgFilters===!0)pZ(h,qy),pZ(r,Gy),pZ(r,pE);if(f0.mathMl===!0)pZ(h,Wy),pZ(r,e40),pZ(r,pE)}if(S0.ADD_TAGS)if(typeof S0.ADD_TAGS==="function")z0.tagCheck=S0.ADD_TAGS;else{if(h===p)h=JU(h);pZ(h,S0.ADD_TAGS,t0)}if(S0.ADD_ATTR)if(typeof S0.ADD_ATTR==="function")z0.attributeCheck=S0.ADD_ATTR;else{if(r===t)r=JU(r);pZ(r,S0.ADD_ATTR,t0)}if(S0.ADD_URI_SAFE_ATTR)pZ(s,S0.ADD_URI_SAFE_ATTR,t0);if(S0.FORBID_CONTENTS){if(C0===m0)C0=JU(C0);pZ(C0,S0.FORBID_CONTENTS,t0)}if(S0.ADD_FORBID_CONTENTS){if(C0===m0)C0=JU(C0);pZ(C0,S0.ADD_FORBID_CONTENTS,t0)}if($0)h["#text"]=!0;if(M0)pZ(h,["html","head","body"]);if(h.table)pZ(h,["tbody"]),delete X0.tbody;if(S0.TRUSTED_TYPES_POLICY){if(typeof S0.TRUSTED_TYPES_POLICY.createHTML!=="function")throw uR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S0.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw uR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');V=S0.TRUSTED_TYPES_POLICY,N=V.createHTML("")}else{if(V===void 0)V=xe0(M,U);if(V!==null&&typeof N==="string")N=V.createHTML("")}if(sQ)sQ(S0);d0=S0},$8=pZ({},[...Yy,...qy,...Pe0]),H8=pZ({},[...Wy,...Ce0]),G8=function(S0){let Y8=A(S0);if(!Y8||!Y8.tagName)Y8={namespaceURI:N0,tagName:"template"};let j8=cE(S0.tagName),b0=cE(Y8.tagName);if(!L0[S0.namespaceURI])return!1;if(S0.namespaceURI===q0){if(Y8.namespaceURI===W0)return j8==="svg";if(Y8.namespaceURI===m)return j8==="svg"&&(b0==="annotation-xml"||T0[b0]);return Boolean($8[j8])}if(S0.namespaceURI===m){if(Y8.namespaceURI===W0)return j8==="math";if(Y8.namespaceURI===q0)return j8==="math"&&u0[b0];return Boolean(H8[j8])}if(S0.namespaceURI===W0){if(Y8.namespaceURI===q0&&!u0[b0])return!1;if(Y8.namespaceURI===m&&!T0[b0])return!1;return!H8[j8]&&(Z8[j8]||!$8[j8])}if(B8==="application/xhtml+xml"&&L0[S0.namespaceURI])return!0;return!1},O8=function(S0){hR(J.removed,{element:S0});try{A(S0).removeChild(S0)}catch(Y8){R(S0)}},L8=function(S0,Y8){try{hR(J.removed,{attribute:Y8.getAttributeNode(S0),from:Y8})}catch(j8){hR(J.removed,{attribute:null,from:Y8})}if(Y8.removeAttribute(S0),S0==="is")if(i||p0)try{O8(Y8)}catch(j8){}else try{Y8.setAttribute(S0,"")}catch(j8){}},I8=function(S0){let Y8=null,j8=null;if(V0)S0="<remove></remove>"+S0;else{let Q8=Xy(S0,/^[\r\n\t ]+/);j8=Q8&&Q8[0]}if(B8==="application/xhtml+xml"&&N0===W0)S0='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S0+"</body></html>";let b0=V?V.createHTML(S0):S0;if(N0===W0)try{Y8=new F().parseFromString(b0,B8)}catch(Q8){}if(!Y8||!Y8.documentElement){Y8=E.createDocument(N0,"template",null);try{Y8.documentElement.innerHTML=D0?N:b0}catch(Q8){}}let K8=Y8.body||Y8.documentElement;if(S0&&j8)K8.insertBefore(Q.createTextNode(j8),K8.childNodes[0]||null);if(N0===W0)return $.call(Y8,M0?"html":"body")[0];return M0?Y8.documentElement:K8},F8=function(S0){return C.call(S0.ownerDocument||S0,S0,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},iZ=function(S0){return S0 instanceof H&&(typeof S0.nodeName!=="string"||typeof S0.textContent!=="string"||typeof S0.removeChild!=="function"||!(S0.attributes instanceof z)||typeof S0.removeAttribute!=="function"||typeof S0.setAttribute!=="function"||typeof S0.namespaceURI!=="string"||typeof S0.insertBefore!=="function"||typeof S0.hasChildNodes!=="function")},w8=function(S0){return typeof q==="function"&&S0 instanceof q};function xZ(R8,S0,Y8){gE(R8,(j8)=>{j8.call(J,S0,Y8,d0)})}let uZ=function(S0){let Y8=null;if(xZ(w.beforeSanitizeElements,S0,null),iZ(S0))return O8(S0),!0;let j8=t0(S0.nodeName);if(xZ(w.uponSanitizeElement,S0,{tagName:j8,allowedTags:h}),o&&S0.hasChildNodes()&&!w8(S0.firstElementChild)&&iQ(/<[/\w!]/g,S0.innerHTML)&&iQ(/<[/\w!]/g,S0.textContent))return O8(S0),!0;if(S0.nodeType===pR.progressingInstruction)return O8(S0),!0;if(o&&S0.nodeType===pR.comment&&iQ(/<[/\w]/g,S0.data))return O8(S0),!0;if(!(z0.tagCheck instanceof Function&&z0.tagCheck(j8))&&(!h[j8]||X0[j8])){if(!X0[j8]&&qZ(j8)){if(d.tagNameCheck instanceof RegExp&&iQ(d.tagNameCheck,j8))return!1;if(d.tagNameCheck instanceof Function&&d.tagNameCheck(j8))return!1}if($0&&!C0[j8]){let b0=A(S0)||S0.parentNode,K8=D(S0)||S0.childNodes;if(K8&&b0){let Q8=K8.length;for(let E8=Q8-1;E8>=0;--E8){let zZ=O(K8[E8],!0);zZ.__removalCount=(S0.__removalCount||0)+1,b0.insertBefore(zZ,L(S0))}}}return O8(S0),!0}if(S0 instanceof W&&!G8(S0))return O8(S0),!0;if((j8==="noscript"||j8==="noembed"||j8==="noframes")&&iQ(/<\/no(script|embed|frames)/i,S0.innerHTML))return O8(S0),!0;if(Y0&&S0.nodeType===pR.text){if(Y8=S0.textContent,gE([P,S,T],(b0)=>{Y8=mR(Y8,b0," ")}),S0.textContent!==Y8)hR(J.removed,{element:S0.cloneNode()}),S0.textContent=Y8}return xZ(w.afterSanitizeElements,S0,null),!1},YZ=function(S0,Y8,j8){if(h0&&(Y8==="id"||Y8==="name")&&((j8 in Q)||(j8 in X8)))return!1;if(Q0&&!a[Y8]&&iQ(_,Y8));else if(J0&&iQ(v,Y8));else if(z0.attributeCheck instanceof Function&&z0.attributeCheck(Y8,S0));else if(!r[Y8]||a[Y8])if(qZ(S0)&&(d.tagNameCheck instanceof RegExp&&iQ(d.tagNameCheck,S0)||d.tagNameCheck instanceof Function&&d.tagNameCheck(S0))&&(d.attributeNameCheck instanceof RegExp&&iQ(d.attributeNameCheck,Y8)||d.attributeNameCheck instanceof Function&&d.attributeNameCheck(Y8,S0))||Y8==="is"&&d.allowCustomizedBuiltInElements&&(d.tagNameCheck instanceof RegExp&&iQ(d.tagNameCheck,j8)||d.tagNameCheck instanceof Function&&d.tagNameCheck(j8)));else return!1;else if(s[Y8]);else if(iQ(u,mR(j8,b,"")));else if((Y8==="src"||Y8==="xlink:href"||Y8==="href")&&S0!=="script"&&Ae0(j8,"data:")===0&&F0[S0]);else if(e&&!iQ(x,mR(j8,b,"")));else if(j8)return!1;return!0},qZ=function(S0){return S0!=="annotation-xml"&&Xy(S0,y)},SZ=function(S0){xZ(w.beforeSanitizeAttributes,S0,null);let{attributes:Y8}=S0;if(!Y8||iZ(S0))return;let j8={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:r,forceKeepAttr:void 0},b0=Y8.length;while(b0--){let K8=Y8[b0],{name:Q8,namespaceURI:E8,value:zZ}=K8,IZ=t0(Q8),a8=zZ,o0=Q8==="value"?a8:Ne0(a8);if(j8.attrName=IZ,j8.attrValue=o0,j8.keepAttr=!0,j8.forceKeepAttr=void 0,xZ(w.uponSanitizeAttribute,S0,j8),o0=j8.attrValue,a0&&(IZ==="id"||IZ==="name"))L8(Q8,S0),o0=s0+o0;if(o&&iQ(/((--!?|])>)|<\/(style|title|textarea)/i,o0)){L8(Q8,S0);continue}if(IZ==="attributename"&&Xy(o0,"href")){L8(Q8,S0);continue}if(j8.forceKeepAttr)continue;if(!j8.keepAttr){L8(Q8,S0);continue}if(!n&&iQ(/\/>/i,o0)){L8(Q8,S0);continue}if(Y0)gE([P,S,T],(p8)=>{o0=mR(o0,p8," ")});let A8=t0(S0.nodeName);if(!YZ(A8,IZ,o0)){L8(Q8,S0);continue}if(V&&typeof M==="object"&&typeof M.getAttributeType==="function")if(E8);else switch(M.getAttributeType(A8,IZ)){case"TrustedHTML":{o0=V.createHTML(o0);break}case"TrustedScriptURL":{o0=V.createScriptURL(o0);break}}if(o0!==a8)try{if(E8)S0.setAttributeNS(E8,Q8,o0);else S0.setAttribute(Q8,o0);if(iZ(S0))O8(S0);else n40(J.removed)}catch(p8){L8(Q8,S0)}}xZ(w.afterSanitizeAttributes,S0,null)},A9=function R8(S0){let Y8=null,j8=F8(S0);xZ(w.beforeSanitizeShadowDOM,S0,null);while(Y8=j8.nextNode())if(xZ(w.uponSanitizeShadowNode,Y8,null),uZ(Y8),SZ(Y8),Y8.content instanceof X)R8(Y8.content);xZ(w.afterSanitizeShadowDOM,S0,null)};return J.sanitize=function(R8){let S0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y8=null,j8=null,b0=null,K8=null;if(D0=!R8,D0)R8="<!-->";if(typeof R8!=="string"&&!w8(R8))if(typeof R8.toString==="function"){if(R8=R8.toString(),typeof R8!=="string")throw uR("dirty is not a string, aborting")}else throw uR("toString is not a function");if(!J.isSupported)return R8;if(!K0)M8(S0);if(J.removed=[],typeof R8==="string")x0=!1;if(x0){if(R8.nodeName){let zZ=t0(R8.nodeName);if(!h[zZ]||X0[zZ])throw uR("root node is forbidden and cannot be sanitized in-place")}}else if(R8 instanceof q)if(Y8=I8("<!---->"),j8=Y8.ownerDocument.importNode(R8,!0),j8.nodeType===pR.element&&j8.nodeName==="BODY")Y8=j8;else if(j8.nodeName==="HTML")Y8=j8;else Y8.appendChild(j8);else{if(!i&&!Y0&&!M0&&R8.indexOf("<")===-1)return V&&B0?V.createHTML(R8):R8;if(Y8=I8(R8),!Y8)return i?null:B0?N:""}if(Y8&&V0)O8(Y8.firstChild);let Q8=F8(x0?R8:Y8);while(b0=Q8.nextNode())if(uZ(b0),SZ(b0),b0.content instanceof X)A9(b0.content);if(x0)return R8;if(i){if(p0){K8=j.call(Y8.ownerDocument);while(Y8.firstChild)K8.appendChild(Y8.firstChild)}else K8=Y8;if(r.shadowroot||r.shadowrootmode)K8=k.call(K,K8,!0);return K8}let E8=M0?Y8.outerHTML:Y8.innerHTML;if(M0&&h["!doctype"]&&Y8.ownerDocument&&Y8.ownerDocument.doctype&&Y8.ownerDocument.doctype.name&&iQ(UK0,Y8.ownerDocument.doctype.name))E8="<!DOCTYPE "+Y8.ownerDocument.doctype.name+`>
`+E8;if(Y0)gE([P,S,T],(zZ)=>{E8=mR(E8,zZ," ")});return V&&B0?V.createHTML(E8):E8},J.setConfig=function(){let R8=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M8(R8),K0=!0},J.clearConfig=function(){d0=null,K0=!1},J.isValidAttribute=function(R8,S0,Y8){if(!d0)M8({});let j8=t0(R8),b0=t0(S0);return YZ(j8,b0,Y8)},J.addHook=function(R8,S0){if(typeof S0!=="function")return;hR(w[R8],S0)},J.removeHook=function(R8,S0){if(S0!==void 0){let Y8=De0(w[R8],S0);return Y8===-1?void 0:Ie0(w[R8],Y8,1)[0]}return n40(w[R8])},J.removeHooks=function(R8){w[R8]=[]},J.removeAllHooks=function(){w=JK0()},J}var QK0,r40,Oe0,Re0,Le0,sQ,JK,zy,Hy,Fy,gE,De0,n40,hR,Ie0,cE,Uy,Xy,mR,Ae0,Ne0,eK,iQ,uR,a40,Yy,qy,Pe0,Wy,Ce0,o40,t40,Gy,e40,pE,je0,Se0,Te0,we0,$e0,KK0,ke0,_e0,UK0,fe0,ZK0,pR,ve0=function(){return typeof window>"u"?null:window},xe0=function(J,Q){if(typeof J!=="object"||typeof J.createPolicy!=="function")return null;let K=null,U="data-tt-policy-suffix";if(Q&&Q.hasAttribute(U))K=Q.getAttribute(U);let X="dompurify"+(K?"#"+K:"");try{return J.createPolicy(X,{createHTML(Y){return Y},createScriptURL(Y){return Y}})}catch(Y){return console.warn("TrustedTypes policy "+X+" could not be created."),null}},JK0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},G1;var My=f(()=>{/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */({entries:QK0,setPrototypeOf:r40,isFrozen:Oe0,getPrototypeOf:Re0,getOwnPropertyDescriptor:Le0}=Object),{freeze:sQ,seal:JK,create:zy}=Object,{apply:Hy,construct:Fy}=typeof Reflect<"u"&&Reflect;if(!sQ)sQ=function(J){return J};if(!JK)JK=function(J){return J};if(!Hy)Hy=function(J,Q){for(var K=arguments.length,U=Array(K>2?K-2:0),X=2;X<K;X++)U[X-2]=arguments[X];return J.apply(Q,U)};if(!Fy)Fy=function(J){for(var Q=arguments.length,K=Array(Q>1?Q-1:0),U=1;U<Q;U++)K[U-1]=arguments[U];return new J(...K)};gE=rQ(Array.prototype.forEach),De0=rQ(Array.prototype.lastIndexOf),n40=rQ(Array.prototype.pop),hR=rQ(Array.prototype.push),Ie0=rQ(Array.prototype.splice),cE=rQ(String.prototype.toLowerCase),Uy=rQ(String.prototype.toString),Xy=rQ(String.prototype.match),mR=rQ(String.prototype.replace),Ae0=rQ(String.prototype.indexOf),Ne0=rQ(String.prototype.trim),eK=rQ(Object.prototype.hasOwnProperty),iQ=rQ(RegExp.prototype.test),uR=Ee0(TypeError);a40=sQ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yy=sQ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qy=sQ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pe0=sQ(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wy=sQ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ce0=sQ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),o40=sQ(["#text"]),t40=sQ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gy=sQ(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),e40=sQ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pE=sQ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),je0=JK(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Se0=JK(/<%[\w\W]*|[\w\W]*%>/gm),Te0=JK(/\$\{[\w\W]*/gm),we0=JK(/^data-[\-\w.\u00B7-\uFFFF]+$/),$e0=JK(/^aria-[\-\w]+$/),KK0=JK(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ke0=JK(/^(?:\w+script|data):/i),_e0=JK(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UK0=JK(/^html$/i),fe0=JK(/^[a-z][.\w]*(-[.\w]+)+$/i),ZK0=Object.freeze({__proto__:null,ARIA_ATTR:$e0,ATTR_WHITESPACE:_e0,CUSTOM_ELEMENT:fe0,DATA_ATTR:we0,DOCTYPE_NAME:UK0,ERB_EXPR:Se0,IS_ALLOWED_URI:KK0,IS_SCRIPT_OR_DATA:ke0,MUSTACHE_EXPR:je0,TMPLIT_EXPR:Te0}),pR={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};G1=XK0()});var g50={};LZ(g50,{version:()=>m50,renderToString:()=>x50,render:()=>oy,default:()=>C88,__setFontMetrics:()=>mK0,__renderToHTMLTree:()=>h50,__renderToDomTree:()=>OV,__parse:()=>b50,__domTree:()=>u50,__defineSymbol:()=>g,__defineMacro:()=>G0,__defineFunction:()=>b8,SETTINGS_SCHEMA:()=>rR,ParseError:()=>N8});class f6{constructor(Z,J,Q){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=Z,this.start=J,this.end=Q}static range(Z,J){if(!J)return Z&&Z.loc;else if(!Z||!Z.loc||!J.loc||Z.loc.lexer!==J.loc.lexer)return null;else return new f6(Z.loc.lexer,Z.loc.start,J.loc.end)}}class E4{constructor(Z,J){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=Z,this.loc=J}range(Z,J){return new E4(J,f6.range(this,Z))}}class N8{constructor(Z,J){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var Q="KaTeX parse error: "+Z,K,U,X=J&&J.loc;if(X&&X.start<=X.end){var Y=X.lexer.input;if(K=X.start,U=X.end,K===Y.length)Q+=" at end of input: ";else Q+=" at position "+(K+1)+": ";var q=Y.slice(K,U).replace(/[^]/g,"$&"),W;if(K>15)W=""+Y.slice(K-15,K);else W=Y.slice(0,K);var G;if(U+15<Y.length)G=Y.slice(U,U+15)+"";else G=Y.slice(U);Q+=W+q+G}var z=Error(Q);if(z.name="ParseError",z.__proto__=N8.prototype,z.position=K,K!=null&&U!=null)z.length=U-K;return z.rawMessage=Z,z}}function ge0(Z){return String(Z).replace(ue0,(J)=>me0[J])}function de0(Z){if(Z.default)return Z.default;var J=Z.type,Q=Array.isArray(J)?J[0]:J;if(typeof Q!=="string")return Q.enum[0];switch(Q){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class YV{constructor(Z){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,Z=Z||{};for(var J in rR)if(rR.hasOwnProperty(J)){var Q=rR[J];this[J]=Z[J]!==void 0?Q.processor?Q.processor(Z[J]):Z[J]:de0(Q)}}reportNonstrict(Z,J,Q){var K=this.strict;if(typeof K==="function")K=K(Z,J,Q);if(!K||K==="ignore")return;else if(K===!0||K==="error")throw new N8("LaTeX-incompatible input and strict mode is set to 'error': "+(J+" ["+Z+"]"),Q);else if(K==="warn")typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]"));else typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]"))}useStrictBehavior(Z,J,Q){var K=this.strict;if(typeof K==="function")try{K=K(Z,J,Q)}catch(U){K="error"}if(!K||K==="ignore")return!1;else if(K===!0||K==="error")return!0;else if(K==="warn")return typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]")),!1;else return typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]")),!1}isTrusted(Z){if(Z.url&&!Z.protocol){var J=O9.protocolFromUrl(Z.url);if(J==null)return!1;Z.protocol=J}var Q=typeof this.trust==="function"?this.trust(Z):this.trust;return Boolean(Q)}}class hX{constructor(Z,J,Q){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=Z,this.size=J,this.cramped=Q}sup(){return KU[ie0[this.id]]}sub(){return KU[se0[this.id]]}fracNum(){return KU[re0[this.id]]}fracDen(){return KU[ne0[this.id]]}cramp(){return KU[ae0[this.id]]}text(){return KU[oe0[this.id]]}isTight(){return this.size>=2}}function te0(Z){for(var J=0;J<Cy.length;J++){var Q=Cy[J];for(var K=0;K<Q.blocks.length;K++){var U=Q.blocks[K];if(Z>=U[0]&&Z<=U[1])return Q.name}}return null}function hK0(Z){for(var J=0;J<oE.length;J+=2)if(Z>=oE[J]&&Z<=oE[J+1])return!0;return!1}class mH{constructor(Z){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=Z,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createDocumentFragment();for(var J=0;J<this.children.length;J++)Z.appendChild(this.children[J].toNode());return Z}toMarkup(){var Z="";for(var J=0;J<this.children.length;J++)Z+=this.children[J].toMarkup();return Z}toText(){var Z=(J)=>J.toText();return this.children.map(Z).join("")}}function mK0(Z,J){UU[Z]=J}function xy(Z,J,Q){if(!UU[J])throw Error("Font metrics not found for font: "+J+".");var K=Z.charCodeAt(0),U=UU[J][K];if(!U&&Z[0]in qK0)K=qK0[Z[0]].charCodeAt(0),U=UU[J][K];if(!U&&Q==="text"){if(hK0(K))U=UU[J][77]}if(U)return{depth:U[0],height:U[1],italic:U[2],skew:U[3],width:U[4]}}function G08(Z){var J;if(Z>=5)J=0;else if(Z>=3)J=1;else J=2;if(!By[J]){var Q=By[J]={cssEmPerMu:lE.quad[J]/18};for(var K in lE)if(lE.hasOwnProperty(K))Q[K]=lE[K][J]}return By[J]}class uX{constructor(Z){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=Z.style,this.color=Z.color,this.size=Z.size||uX.BASESIZE,this.textSize=Z.textSize||this.size,this.phantom=!!Z.phantom,this.font=Z.font||"",this.fontFamily=Z.fontFamily||"",this.fontWeight=Z.fontWeight||"",this.fontShape=Z.fontShape||"",this.sizeMultiplier=WK0[this.size-1],this.maxSize=Z.maxSize,this.minRuleThickness=Z.minRuleThickness,this._fontMetrics=void 0}extend(Z){var J={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var Q in Z)if(Z.hasOwnProperty(Q))J[Q]=Z[Q];return new uX(J)}havingStyle(Z){if(this.style===Z)return this;else return this.extend({style:Z,size:GK0(this.textSize,Z)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(Z){if(this.size===Z&&this.textSize===Z)return this;else return this.extend({style:this.style.text(),size:Z,textSize:Z,sizeMultiplier:WK0[Z-1]})}havingBaseStyle(Z){Z=Z||this.style.text();var J=GK0(uX.BASESIZE,Z);if(this.size===J&&this.textSize===uX.BASESIZE&&this.style===Z)return this;else return this.extend({style:Z,size:J})}havingBaseSizing(){var Z;switch(this.style.id){case 4:case 5:Z=3;break;case 6:case 7:Z=1;break;default:Z=6}return this.extend({style:this.style.text(),size:Z})}withColor(Z){return this.extend({color:Z})}withPhantom(){return this.extend({phantom:!0})}withFont(Z){return this.extend({font:Z})}withTextFontFamily(Z){return this.extend({fontFamily:Z,font:""})}withTextFontWeight(Z){return this.extend({fontWeight:Z,font:""})}withTextFontShape(Z){return this.extend({fontShape:Z,font:""})}sizingClasses(Z){if(Z.size!==this.size)return["sizing","reset-size"+Z.size,"size"+this.size];else return[]}baseSizingClasses(){if(this.size!==uX.BASESIZE)return["sizing","reset-size"+this.size,"size"+uX.BASESIZE];else return[]}fontMetrics(){if(!this._fontMetrics)this._fontMetrics=G08(this.size);return this._fontMetrics}getColor(){if(this.phantom)return"transparent";else return this.color}}class uH{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,gK0.call(this,Z,Q,K),this.children=J||[]}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return this.classes.includes(Z)}toNode(){return pK0.call(this,"span")}toMarkup(){return cK0.call(this,"span")}}class qV{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,gK0.call(this,J,K),this.children=Q||[],this.setAttribute("href",Z)}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return this.classes.includes(Z)}toNode(){return pK0.call(this,"a")}toMarkup(){return cK0.call(this,"a")}}class lK0{constructor(Z,J,Q){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=J,this.src=Z,this.classes=["mord"],this.style=Q}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createElement("img");Z.src=this.src,Z.alt=this.alt,Z.className="mord";for(var J in this.style)if(this.style.hasOwnProperty(J))Z.style[J]=this.style[J];return Z}toMarkup(){var Z='<img src="'+O9.escape(this.src)+'"'+(' alt="'+O9.escape(this.alt)+'"'),J="";for(var Q in this.style)if(this.style.hasOwnProperty(Q))J+=O9.hyphenate(Q)+":"+this.style[Q]+";";if(J)Z+=' style="'+O9.escape(J)+'"';return Z+="'/>",Z}}class V4{constructor(Z,J,Q,K,U,X,Y,q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=Z,this.height=J||0,this.depth=Q||0,this.italic=K||0,this.skew=U||0,this.width=X||0,this.classes=Y||[],this.style=q||{},this.maxFontSize=0;var W=te0(this.text.charCodeAt(0));if(W)this.classes.push(W+"_fallback");if(/[]/.test(this.text))this.text=M08[this.text]}hasClass(Z){return this.classes.includes(Z)}toNode(){var Z=document.createTextNode(this.text),J=null;if(this.italic>0)J=document.createElement("span"),J.style.marginRight=T8(this.italic);if(this.classes.length>0)J=J||document.createElement("span"),J.className=H1(this.classes);for(var Q in this.style)if(this.style.hasOwnProperty(Q))J=J||document.createElement("span"),J.style[Q]=this.style[Q];if(J)return J.appendChild(Z),J;else return Z}toMarkup(){var Z=!1,J="<span";if(this.classes.length)Z=!0,J+=' class="',J+=O9.escape(H1(this.classes)),J+='"';var Q="";if(this.italic>0)Q+="margin-right:"+this.italic+"em;";for(var K in this.style)if(this.style.hasOwnProperty(K))Q+=O9.hyphenate(K)+":"+this.style[K]+";";if(Q)Z=!0,J+=' style="'+O9.escape(Q)+'"';var U=O9.escape(this.text);if(Z)return J+=">",J+=U,J+="</span>",J;else return U}}class XU{constructor(Z,J){this.children=void 0,this.attributes=void 0,this.children=Z||[],this.attributes=J||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"svg");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);for(var K=0;K<this.children.length;K++)J.appendChild(this.children[K].toNode());return J}toMarkup(){var Z='<svg xmlns="http://www.w3.org/2000/svg"';for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="'+O9.escape(this.attributes[J])+'"';Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</svg>",Z}}class cX{constructor(Z,J){this.pathName=void 0,this.alternate=void 0,this.pathName=Z,this.alternate=J}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"path");if(this.alternate)J.setAttribute("d",this.alternate);else J.setAttribute("d",YK0[this.pathName]);return J}toMarkup(){if(this.alternate)return'<path d="'+O9.escape(this.alternate)+'"/>';else return'<path d="'+O9.escape(YK0[this.pathName])+'"/>'}}class JV{constructor(Z){this.attributes=void 0,this.attributes=Z||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"line");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);return J}toMarkup(){var Z="<line";for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="'+O9.escape(this.attributes[J])+'"';return Z+="/>",Z}}function zK0(Z){if(Z instanceof V4)return Z;else throw Error("Expected symbolNode but got "+String(Z)+".")}function B08(Z){if(Z instanceof uH)return Z;else throw Error("Expected span<HtmlDomNode> but got "+String(Z)+".")}function g(Z,J,Q,K,U,X){if(r9[Z][U]={font:J,group:Q,replace:K},X&&K)r9[Z][K]=r9[Z][U]}function b8(Z){var{type:J,names:Q,props:K,handler:U,htmlBuilder:X,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs,argTypes:K.argTypes,allowedInArgument:!!K.allowedInArgument,allowedInText:!!K.allowedInText,allowedInMath:K.allowedInMath===void 0?!0:K.allowedInMath,numOptionalArgs:K.numOptionalArgs||0,infix:!!K.infix,primitive:!!K.primitive,handler:U};for(var W=0;W<Q.length;++W)aK0[Q[W]]=q;if(J){if(X)KV[J]=X;if(Y)UV[J]=Y}}function HG(Z){var{type:J,htmlBuilder:Q,mathmlBuilder:K}=Z;b8({type:J,names:[],props:{numArgs:0},handler(){throw Error("Should never be called.")},htmlBuilder:Q,mathmlBuilder:K})}function sE(Z,J){var Q=lX(["base"],Z,J),K=lX(["strut"]);if(K.style.height=T8(Q.height+Q.depth),Q.depth)K.style.verticalAlign=T8(-Q.depth);return Q.children.unshift(K),Q}function wy(Z,J){var Q=null;if(Z.length===1&&Z[0].type==="tag")Q=Z[0].tag,Z=Z[0].body;var K=O7(Z,J,"root"),U;if(K.length===2&&K[1].hasClass("tag"))U=K.pop();var X=[],Y=[];for(var q=0;q<K.length;q++)if(Y.push(K[q]),K[q].hasClass("mbin")||K[q].hasClass("mrel")||K[q].hasClass("allowbreak")){var W=!1;while(q<K.length-1&&K[q+1].hasClass("mspace")&&!K[q+1].hasClass("newline"))if(q++,Y.push(K[q]),K[q].hasClass("nobreak"))W=!0;if(!W)X.push(sE(Y,J)),Y=[]}else if(K[q].hasClass("newline")){if(Y.pop(),Y.length>0)X.push(sE(Y,J)),Y=[];X.push(K[q])}if(Y.length>0)X.push(sE(Y,J));var G;if(Q)G=sE(O7(Q,J,!0)),G.classes=["tag"],X.push(G);else if(U)X.push(U);var z=lX(["katex-html"],X);if(z.setAttribute("aria-hidden","true"),G){var H=G.children[0];if(H.style.height=T8(z.height+z.depth),z.depth)H.style.verticalAlign=T8(-z.depth)}return z}function tK0(Z){return new mH(Z)}class v6{constructor(Z,J,Q){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=Z,this.attributes={},this.children=J||[],this.classes=Q||[]}setAttribute(Z,J){this.attributes[Z]=J}getAttribute(Z){return this.attributes[Z]}toNode(){var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z.setAttribute(J,this.attributes[J]);if(this.classes.length>0)Z.className=H1(this.classes);for(var Q=0;Q<this.children.length;Q++)if(this.children[Q]instanceof J5&&this.children[Q+1]instanceof J5){var K=this.children[Q].toText()+this.children[++Q].toText();while(this.children[Q+1]instanceof J5)K+=this.children[++Q].toText();Z.appendChild(new J5(K).toNode())}else Z.appendChild(this.children[Q].toNode());return Z}toMarkup(){var Z="<"+this.type;for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+'="',Z+=O9.escape(this.attributes[J]),Z+='"';if(this.classes.length>0)Z+=' class ="'+O9.escape(H1(this.classes))+'"';Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</"+this.type+">",Z}toText(){return this.children.map((Z)=>Z.toText()).join("")}}class J5{constructor(Z){this.text=void 0,this.text=Z}toNode(){return document.createTextNode(this.text)}toMarkup(){return O9.escape(this.toText())}toText(){return this.text}}class eK0{constructor(Z){if(this.width=void 0,this.character=void 0,this.width=Z,Z>=0.05555&&Z<=0.05556)this.character="";else if(Z>=0.1666&&Z<=0.1667)this.character="";else if(Z>=0.2222&&Z<=0.2223)this.character="";else if(Z>=0.2777&&Z<=0.2778)this.character="";else if(Z>=-0.05556&&Z<=-0.05555)this.character="";else if(Z>=-0.1667&&Z<=-0.1666)this.character="";else if(Z>=-0.2223&&Z<=-0.2222)this.character="";else if(Z>=-0.2778&&Z<=-0.2777)this.character="";else this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);else{var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return Z.setAttribute("width",T8(this.width)),Z}}toMarkup(){if(this.character)return"<mtext>"+this.character+"</mtext>";else return'<mspace width="'+T8(this.width)+'"/>'}toText(){if(this.character)return this.character;else return" "}}function Oy(Z){if(!Z)return!1;if(Z.type==="mi"&&Z.children.length===1){var J=Z.children[0];return J instanceof J5&&J.text==="."}else if(Z.type==="mo"&&Z.children.length===1&&Z.getAttribute("separator")==="true"&&Z.getAttribute("lspace")==="0em"&&Z.getAttribute("rspace")==="0em"){var Q=Z.children[0];return Q instanceof J5&&Q.text===","}else return!1}function OK0(Z,J,Q,K,U){var X=x6(Z,Q),Y;if(X.length===1&&X[0]instanceof v6&&["mrow","mtable"].includes(X[0].type))Y=X[0];else Y=new D8.MathNode("mrow",X);var q=new D8.MathNode("annotation",[new D8.TextNode(J)]);q.setAttribute("encoding","application/x-tex");var W=new D8.MathNode("semantics",[Y,q]),G=new D8.MathNode("math",[W]);if(G.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),K)G.setAttribute("display","block");var z=U?"katex":"katex-mathml";return c0.makeSpan([z],[G])}function _Z(Z,J){if(!Z||Z.type!==J)throw Error("Expected node of type "+J+", but got "+(Z?"node of type "+Z.type:String(Z)));return Z}function my(Z){var J=zV(Z);if(!J)throw Error("Expected node of symbol group type, but got "+(Z?"node of type "+Z.type:String(Z)));return J}function zV(Z){if(Z&&(Z.type==="atom"||R08.hasOwnProperty(Z.type)))return Z;return null}function K50(Z,J){var Q=O7(Z.body,J,!0);return i08([Z.mclass],Q,J)}function U50(Z,J){var Q,K=x6(Z.body,J);if(Z.mclass==="minner")Q=new D8.MathNode("mpadded",K);else if(Z.mclass==="mord")if(Z.isCharacterBox)Q=K[0],Q.type="mi";else Q=new D8.MathNode("mi",K);else{if(Z.isCharacterBox)Q=K[0],Q.type="mo";else Q=new D8.MathNode("mo",K);if(Z.mclass==="mbin")Q.attributes.lspace="0.22em",Q.attributes.rspace="0.22em";else if(Z.mclass==="mpunct")Q.attributes.lspace="0em",Q.attributes.rspace="0.17em";else if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.attributes.lspace="0em",Q.attributes.rspace="0em";else if(Z.mclass==="minner")Q.attributes.lspace="0.0556em",Q.attributes.width="+0.1111em"}return Q}function n08(Z,J,Q){var K=s08[Z];switch(K){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return Q.callFunction(K,[J[0]],[J[1]]);case"\\uparrow":case"\\downarrow":{var U=Q.callFunction("\\\\cdleft",[J[0]],[]),X={type:"atom",text:K,mode:"math",family:"rel"},Y=Q.callFunction("\\Big",[X],[]),q=Q.callFunction("\\\\cdright",[J[1]],[]),W={type:"ordgroup",mode:"math",body:[U,Y,q]};return Q.callFunction("\\\\cdparent",[W],[])}case"\\\\cdlongequal":return Q.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var G={type:"textord",text:"\\Vert",mode:"math"};return Q.callFunction("\\Big",[G],[])}default:return{type:"textord",text:" ",mode:"math"}}}function a08(Z){var J=[];Z.gullet.beginGroup(),Z.gullet.macros.set("\\cr","\\\\\\relax"),Z.gullet.beginGroup();while(!0){J.push(Z.parseExpression(!1,"\\\\")),Z.gullet.endGroup(),Z.gullet.beginGroup();var Q=Z.fetch().text;if(Q==="&"||Q==="\\\\")Z.consume();else if(Q==="\\end"){if(J[J.length-1].length===0)J.pop();break}else throw new N8("Expected \\\\ or \\cr or \\end",Z.nextToken)}var K=[],U=[K];for(var X=0;X<J.length;X++){var Y=J[X],q=RK0();for(var W=0;W<Y.length;W++)if(!LK0(Y[W]))q.body.push(Y[W]);else{K.push(q),W+=1;var G=my(Y[W]).text,z=[,,];if(z[0]={type:"ordgroup",mode:"math",body:[]},z[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(G)>-1);else if("<>AV".indexOf(G)>-1)for(var H=0;H<2;H++){var F=!0;for(var M=W+1;M<Y.length;M++){if(r08(Y[M],G)){F=!1,W=M;break}if(LK0(Y[M]))throw new N8("Missing a "+G+" character to complete a CD arrow.",Y[M]);z[H].body.push(Y[M])}if(F)throw new N8("Missing a "+G+" character to complete a CD arrow.",Y[W])}else throw new N8('Expected one of "<>AV=|." after @',Y[W]);var B=n08(G,z,Z),O={type:"styling",body:[B],mode:"math",style:"display"};K.push(O),q=RK0()}if(X%2===0)K.push(q);else K.shift();K=[],U.push(K)}Z.gullet.endGroup(),Z.gullet.endGroup();var R=Array(U[0].length).fill({type:"align",align:"c",pregap:0.25,postgap:0.25});return{type:"array",mode:"math",body:U,arraystretch:1,addJot:!0,rowGaps:[null],cols:R,colSeparationType:"CD",hLinesBeforeRow:Array(U.length+1).fill([])}}function FV(Z,J){var Q=zV(Z);if(Q&&G88.includes(Q.text))return Q;else if(Q)throw new N8("Invalid delimiter '"+Q.text+"' after '"+J.funcName+"'",Z);else throw new N8("Invalid delimiter type '"+Z.type+"'",Z)}function IK0(Z){if(!Z.body)throw Error("Bug: The leftright ParseNode wasn't fully parsed.")}function YU(Z){var{type:J,names:Q,props:K,handler:U,htmlBuilder:X,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:U};for(var W=0;W<Q.length;++W)L50[Q[W]]=q;if(X)KV[J]=X;if(Y)UV[J]=Y}function G0(Z,J){D50[Z]=J}function AK0(Z){var J=[];Z.consumeSpaces();var Q=Z.fetch().text;if(Q==="\\relax")Z.consume(),Z.consumeSpaces(),Q=Z.fetch().text;while(Q==="\\hline"||Q==="\\hdashline")Z.consume(),J.push(Q==="\\hdashline"),Z.consumeSpaces(),Q=Z.fetch().text;return J}function ly(Z){if(Z.indexOf("ed")===-1)return Z.indexOf("*")===-1}function M1(Z,J,Q){var{hskipBeforeAndAfter:K,addJot:U,cols:X,arraystretch:Y,colSeparationType:q,autoTag:W,singleRow:G,emptySingleRow:z,maxNumCols:H,leqno:F}=J;if(Z.gullet.beginGroup(),!G)Z.gullet.macros.set("\\cr","\\\\\\relax");if(!Y){var M=Z.gullet.expandMacroAsText("\\arraystretch");if(M==null)Y=1;else if(Y=parseFloat(M),!Y||Y<0)throw new N8("Invalid \\arraystretch: "+M)}Z.gullet.beginGroup();var B=[],O=[B],R=[],L=[],D=W!=null?[]:void 0;function A(){if(W)Z.gullet.macros.set("\\@eqnsw","1",!0)}function V(){if(D)if(Z.gullet.macros.get("\\df@tag"))D.push(Z.subparse([new E4("\\df@tag")])),Z.gullet.macros.set("\\df@tag",void 0,!0);else D.push(Boolean(W)&&Z.gullet.macros.get("\\@eqnsw")==="1")}A(),L.push(AK0(Z));while(!0){var N=Z.parseExpression(!1,G?"\\end":"\\\\");if(Z.gullet.endGroup(),Z.gullet.beginGroup(),N={type:"ordgroup",mode:Z.mode,body:N},Q)N={type:"styling",mode:Z.mode,style:Q,body:[N]};B.push(N);var E=Z.fetch().text;if(E==="&"){if(H&&B.length===H)if(G||q)throw new N8("Too many tab characters: &",Z.nextToken);else Z.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.");Z.consume()}else if(E==="\\end"){if(V(),B.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(O.length>1||!z))O.pop();if(L.length<O.length+1)L.push([]);break}else if(E==="\\\\"){Z.consume();var C=void 0;if(Z.gullet.future().text!==" ")C=Z.parseSizeGroup(!0);R.push(C?C.value:null),V(),L.push(AK0(Z)),B=[],O.push(B),A()}else throw new N8("Expected & or \\\\ or \\cr or \\end",Z.nextToken)}return Z.gullet.endGroup(),Z.gullet.endGroup(),{type:"array",mode:Z.mode,addJot:U,arraystretch:Y,body:O,cols:X,rowGaps:R,hskipBeforeAndAfter:K,hLinesBeforeRow:L,colSeparationType:q,tags:D,leqno:F}}function dy(Z){if(Z.slice(0,1)==="d")return"display";else return"text"}function S50(Z,J,Q){var K=O7(Z,J,!1),U=J.sizeMultiplier/Q.sizeMultiplier;for(var X=0;X<K.length;X++){var Y=K[X].classes.indexOf("sizing");if(Y<0)Array.prototype.push.apply(K[X].classes,J.sizingClasses(Q));else if(K[X].classes[Y+1]==="reset-size"+J.size)K[X].classes[Y+1]="reset-size"+Q.size;K[X].height*=U,K[X].depth*=U}return c0.makeFragment(K)}class fy{constructor(Z,J){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=Z,this.settings=J,this.tokenRegex=new RegExp(V88,"g"),this.catcodes={"%":14,"~":13}}setCatcode(Z,J){this.catcodes[Z]=J}lex(){var Z=this.input,J=this.tokenRegex.lastIndex;if(J===Z.length)return new E4("EOF",new f6(this,J,J));var Q=this.tokenRegex.exec(Z);if(Q===null||Q.index!==J)throw new N8("Unexpected character: '"+Z[J]+"'",new E4(Z[J],new f6(this,J,J+1)));var K=Q[6]||Q[3]||(Q[2]?"\\ ":" ");if(this.catcodes[K]===14){var U=Z.indexOf(`
`,this.tokenRegex.lastIndex);if(U===-1)this.tokenRegex.lastIndex=Z.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)");else this.tokenRegex.lastIndex=U+1;return this.lex()}return new E4(K,new f6(this,J,this.tokenRegex.lastIndex))}}class $50{constructor(Z,J){if(Z===void 0)Z={};if(J===void 0)J={};this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=J,this.builtins=Z,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new N8("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var Z=this.undefStack.pop();for(var J in Z)if(Z.hasOwnProperty(J))if(Z[J]==null)delete this.current[J];else this.current[J]=Z[J]}endGroups(){while(this.undefStack.length>0)this.endGroup()}has(Z){return this.current.hasOwnProperty(Z)||this.builtins.hasOwnProperty(Z)}get(Z){if(this.current.hasOwnProperty(Z))return this.current[Z];else return this.builtins[Z]}set(Z,J,Q){if(Q===void 0)Q=!1;if(Q){for(var K=0;K<this.undefStack.length;K++)delete this.undefStack[K][Z];if(this.undefStack.length>0)this.undefStack[this.undefStack.length-1][Z]=J}else{var U=this.undefStack[this.undefStack.length-1];if(U&&!U.hasOwnProperty(Z))U[Z]=this.current[Z]}if(J==null)delete this.current[Z];else this.current[Z]=J}}class v50{constructor(Z,J,Q){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=J,this.expansionCount=0,this.feed(Z),this.macros=new $50(P88,J.macros),this.mode=Q,this.stack=[]}feed(Z){this.lexer=new fy(Z,this.settings)}switchMode(Z){this.mode=Z}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){if(this.stack.length===0)this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(Z){this.stack.push(Z)}pushTokens(Z){this.stack.push(...Z)}scanArgument(Z){var J,Q,K;if(Z){if(this.consumeSpaces(),this.future().text!=="[")return null;J=this.popToken(),{tokens:K,end:Q}=this.consumeArg(["]"])}else({tokens:K,start:J,end:Q}=this.consumeArg());return this.pushToken(new E4("EOF",Q.loc)),this.pushTokens(K),new E4("",f6.range(J,Q))}consumeSpaces(){for(;;){var Z=this.future();if(Z.text===" ")this.stack.pop();else break}}consumeArg(Z){var J=[],Q=Z&&Z.length>0;if(!Q)this.consumeSpaces();var K=this.future(),U,X=0,Y=0;do{if(U=this.popToken(),J.push(U),U.text==="{")++X;else if(U.text==="}"){if(--X,X===-1)throw new N8("Extra }",U)}else if(U.text==="EOF")throw new N8("Unexpected end of input in a macro argument, expected '"+(Z&&Q?Z[Y]:"}")+"'",U);if(Z&&Q)if((X===0||X===1&&Z[Y]==="{")&&U.text===Z[Y]){if(++Y,Y===Z.length){J.splice(-Y,Y);break}}else Y=0}while(X!==0||Q);if(K.text==="{"&&J[J.length-1].text==="}")J.pop(),J.shift();return J.reverse(),{tokens:J,start:K,end:U}}consumeArgs(Z,J){if(J){if(J.length!==Z+1)throw new N8("The length of delimiters doesn't match the number of args!");var Q=J[0];for(var K=0;K<Q.length;K++){var U=this.popToken();if(Q[K]!==U.text)throw new N8("Use of the macro doesn't match its definition",U)}}var X=[];for(var Y=0;Y<Z;Y++)X.push(this.consumeArg(J&&J[Y+1]).tokens);return X}countExpansion(Z){if(this.expansionCount+=Z,this.expansionCount>this.settings.maxExpand)throw new N8("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(Z){var J=this.popToken(),Q=J.text,K=!J.noexpand?this._getExpansion(Q):null;if(K==null||Z&&K.unexpandable){if(Z&&K==null&&Q[0]==="\\"&&!this.isDefined(Q))throw new N8("Undefined control sequence: "+Q);return this.pushToken(J),!1}this.countExpansion(1);var U=K.tokens,X=this.consumeArgs(K.numArgs,K.delimiters);if(K.numArgs){U=U.slice();for(var Y=U.length-1;Y>=0;--Y){var q=U[Y];if(q.text==="#"){if(Y===0)throw new N8("Incomplete placeholder at end of macro body",q);if(q=U[--Y],q.text==="#")U.splice(Y+1,1);else if(/^[1-9]$/.test(q.text))U.splice(Y,2,...X[+q.text-1]);else throw new N8("Not a valid argument number",q)}}}return this.pushTokens(U),U.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var Z=this.stack.pop();if(Z.treatAsRelax)Z.text="\\relax";return Z}throw Error()}expandMacro(Z){return this.macros.has(Z)?this.expandTokens([new E4(Z)]):void 0}expandTokens(Z){var J=[],Q=this.stack.length;this.pushTokens(Z);while(this.stack.length>Q)if(this.expandOnce(!0)===!1){var K=this.stack.pop();if(K.treatAsRelax)K.noexpand=!1,K.treatAsRelax=!1;J.push(K)}return this.countExpansion(J.length),J}expandMacroAsText(Z){var J=this.expandMacro(Z);if(J)return J.map((Q)=>Q.text).join("");else return J}_getExpansion(Z){var J=this.macros.get(Z);if(J==null)return J;if(Z.length===1){var Q=this.lexer.catcodes[Z];if(Q!=null&&Q!==13)return}var K=typeof J==="function"?J(this):J;if(typeof K==="string"){var U=0;if(K.indexOf("#")!==-1){var X=K.replace(/##/g,"");while(X.indexOf("#"+(U+1))!==-1)++U}var Y=new fy(K,this.settings),q=[],W=Y.lex();while(W.text!=="EOF")q.push(W),W=Y.lex();q.reverse();var G={tokens:q,numArgs:U};return G}return K}isDefined(Z){return this.macros.has(Z)||z1.hasOwnProperty(Z)||r9.math.hasOwnProperty(Z)||r9.text.hasOwnProperty(Z)||f50.hasOwnProperty(Z)}isExpandable(Z){var J=this.macros.get(Z);return J!=null?typeof J==="string"||typeof J==="function"||!J.unexpandable:z1.hasOwnProperty(Z)&&!z1[Z].primitive}}class BV{constructor(Z,J){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new v50(Z,J,this.mode),this.settings=J,this.leftrightDepth=0}expect(Z,J){if(J===void 0)J=!0;if(this.fetch().text!==Z)throw new N8("Expected '"+Z+"', got '"+this.fetch().text+"'",this.fetch());if(J)this.consume()}consume(){this.nextToken=null}fetch(){if(this.nextToken==null)this.nextToken=this.gullet.expandNextToken();return this.nextToken}switchMode(Z){this.mode=Z,this.gullet.switchMode(Z)}parse(){if(!this.settings.globalGroup)this.gullet.beginGroup();if(this.settings.colorIsTextColor)this.gullet.macros.set("\\color","\\textcolor");try{var Z=this.parseExpression(!1);if(this.expect("EOF"),!this.settings.globalGroup)this.gullet.endGroup();return Z}finally{this.gullet.endGroups()}}subparse(Z){var J=this.nextToken;this.consume(),this.gullet.pushToken(new E4("}")),this.gullet.pushTokens(Z);var Q=this.parseExpression(!1);return this.expect("}"),this.nextToken=J,Q}parseExpression(Z,J){var Q=[];while(!0){if(this.mode==="math")this.consumeSpaces();var K=this.fetch();if(BV.endOfExpression.indexOf(K.text)!==-1)break;if(J&&K.text===J)break;if(Z&&z1[K.text]&&z1[K.text].infix)break;var U=this.parseAtom(J);if(!U)break;else if(U.type==="internal")continue;Q.push(U)}if(this.mode==="text")this.formLigatures(Q);return this.handleInfixNodes(Q)}handleInfixNodes(Z){var J=-1,Q;for(var K=0;K<Z.length;K++)if(Z[K].type==="infix"){if(J!==-1)throw new N8("only one infix operator per group",Z[K].token);J=K,Q=Z[K].replaceWith}if(J!==-1&&Q){var U,X,Y=Z.slice(0,J),q=Z.slice(J+1);if(Y.length===1&&Y[0].type==="ordgroup")U=Y[0];else U={type:"ordgroup",mode:this.mode,body:Y};if(q.length===1&&q[0].type==="ordgroup")X=q[0];else X={type:"ordgroup",mode:this.mode,body:q};var W;if(Q==="\\\\abovefrac")W=this.callFunction(Q,[U,Z[J],X],[]);else W=this.callFunction(Q,[U,X],[]);return[W]}else return Z}handleSupSubscript(Z){var J=this.fetch(),Q=J.text;this.consume(),this.consumeSpaces();var K;do{var U;K=this.parseGroup(Z)}while(((U=K)==null?void 0:U.type)==="internal");if(!K)throw new N8("Expected group after '"+Q+"'",J);return K}formatUnsupportedCmd(Z){var J=[];for(var Q=0;Q<Z.length;Q++)J.push({type:"textord",mode:"text",text:Z[Q]});var K={type:"text",mode:this.mode,body:J},U={type:"color",mode:this.mode,color:this.settings.errorColor,body:[K]};return U}parseAtom(Z){var J=this.parseGroup("atom",Z);if((J==null?void 0:J.type)==="internal")return J;if(this.mode==="text")return J;var Q,K;while(!0){this.consumeSpaces();var U=this.fetch();if(U.text==="\\limits"||U.text==="\\nolimits"){if(J&&J.type==="op"){var X=U.text==="\\limits";J.limits=X,J.alwaysHandleSupSub=!0}else if(J&&J.type==="operatorname"){if(J.alwaysHandleSupSub)J.limits=U.text==="\\limits"}else throw new N8("Limit controls must follow a math operator",U);this.consume()}else if(U.text==="^"){if(Q)throw new N8("Double superscript",U);Q=this.handleSupSubscript("superscript")}else if(U.text==="_"){if(K)throw new N8("Double subscript",U);K=this.handleSupSubscript("subscript")}else if(U.text==="'"){if(Q)throw new N8("Double superscript",U);var Y={type:"textord",mode:this.mode,text:"\\prime"},q=[Y];this.consume();while(this.fetch().text==="'")q.push(Y),this.consume();if(this.fetch().text==="^")q.push(this.handleSupSubscript("superscript"));Q={type:"ordgroup",mode:this.mode,body:q}}else if(aE[U.text]){var W=xK0.test(U.text),G=[];G.push(new E4(aE[U.text])),this.consume();while(!0){var z=this.fetch().text;if(!aE[z])break;if(xK0.test(z)!==W)break;G.unshift(new E4(aE[z])),this.consume()}var H=this.subparse(G);if(W)K={type:"ordgroup",mode:"math",body:H};else Q={type:"ordgroup",mode:"math",body:H}}else break}if(Q||K)return{type:"supsub",mode:this.mode,base:J,sup:Q,sub:K};else return J}parseFunction(Z,J){var Q=this.fetch(),K=Q.text,U=z1[K];if(!U)return null;if(this.consume(),J&&J!=="atom"&&!U.allowedInArgument)throw new N8("Got function '"+K+"' with no arguments"+(J?" as "+J:""),Q);else if(this.mode==="text"&&!U.allowedInText)throw new N8("Can't use function '"+K+"' in text mode",Q);else if(this.mode==="math"&&U.allowedInMath===!1)throw new N8("Can't use function '"+K+"' in math mode",Q);var{args:X,optArgs:Y}=this.parseArguments(K,U);return this.callFunction(K,X,Y,Q,Z)}callFunction(Z,J,Q,K,U){var X={funcName:Z,parser:this,token:K,breakOnTokenText:U},Y=z1[Z];if(Y&&Y.handler)return Y.handler(X,J,Q);else throw new N8("No function handler for "+Z)}parseArguments(Z,J){var Q=J.numArgs+J.numOptionalArgs;if(Q===0)return{args:[],optArgs:[]};var K=[],U=[];for(var X=0;X<Q;X++){var Y=J.argTypes&&J.argTypes[X],q=X<J.numOptionalArgs;if(J.primitive&&Y==null||J.type==="sqrt"&&X===1&&U[0]==null)Y="primitive";var W=this.parseGroupOfType("argument to '"+Z+"'",Y,q);if(q)U.push(W);else if(W!=null)K.push(W);else throw new N8("Null argument, please report this as a bug")}return{args:K,optArgs:U}}parseGroupOfType(Z,J,Q){switch(J){case"color":return this.parseColorGroup(Q);case"size":return this.parseSizeGroup(Q);case"url":return this.parseUrlGroup(Q);case"math":case"text":return this.parseArgumentGroup(Q,J);case"hbox":{var K=this.parseArgumentGroup(Q,"text");return K!=null?{type:"styling",mode:K.mode,body:[K],style:"text"}:null}case"raw":{var U=this.parseStringGroup("raw",Q);return U!=null?{type:"raw",mode:"text",string:U.text}:null}case"primitive":{if(Q)throw new N8("A primitive argument cannot be optional");var X=this.parseGroup(Z);if(X==null)throw new N8("Expected group as "+Z,this.fetch());return X}case"original":case null:case void 0:return this.parseArgumentGroup(Q);default:throw new N8("Unknown group type as "+Z,this.fetch())}}consumeSpaces(){while(this.fetch().text===" ")this.consume()}parseStringGroup(Z,J){var Q=this.gullet.scanArgument(J);if(Q==null)return null;var K="",U;while((U=this.fetch()).text!=="EOF")K+=U.text,this.consume();return this.consume(),Q.text=K,Q}parseRegexGroup(Z,J){var Q=this.fetch(),K=Q,U="",X;while((X=this.fetch()).text!=="EOF"&&Z.test(U+X.text))K=X,U+=K.text,this.consume();if(U==="")throw new N8("Invalid "+J+": '"+Q.text+"'",Q);return Q.range(K,U)}parseColorGroup(Z){var J=this.parseStringGroup("color",Z);if(J==null)return null;var Q=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(J.text);if(!Q)throw new N8("Invalid color: '"+J.text+"'",J);var K=Q[0];if(/^[0-9a-f]{6}$/i.test(K))K="#"+K;return{type:"color-token",mode:this.mode,color:K}}parseSizeGroup(Z){var J,Q=!1;if(this.gullet.consumeSpaces(),!Z&&this.gullet.future().text!=="{")J=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");else J=this.parseStringGroup("size",Z);if(!J)return null;if(!Z&&J.text.length===0)J.text="0pt",Q=!0;var K=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J.text);if(!K)throw new N8("Invalid size: '"+J.text+"'",J);var U={number:+(K[1]+K[2]),unit:K[3]};if(!uK0(U))throw new N8("Invalid unit: '"+U.unit+"'",J);return{type:"size",mode:this.mode,value:U,isBlank:Q}}parseUrlGroup(Z){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var J=this.parseStringGroup("url",Z);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),J==null)return null;var Q=J.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:Q}}parseArgumentGroup(Z,J){var Q=this.gullet.scanArgument(Z);if(Q==null)return null;var K=this.mode;if(J)this.switchMode(J);this.gullet.beginGroup();var U=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var X={type:"ordgroup",mode:this.mode,loc:Q.loc,body:U};if(J)this.switchMode(K);return X}parseGroup(Z,J){var Q=this.fetch(),K=Q.text,U;if(K==="{"||K==="\\begingroup"){this.consume();var X=K==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Y=this.parseExpression(!1,X),q=this.fetch();this.expect(X),this.gullet.endGroup(),U={type:"ordgroup",mode:this.mode,loc:f6.range(Q,q),body:Y,semisimple:K==="\\begingroup"||void 0}}else if(U=this.parseFunction(J,Z)||this.parseSymbol(),U==null&&K[0]==="\\"&&!f50.hasOwnProperty(K)){if(this.settings.throwOnError)throw new N8("Undefined control sequence: "+K,Q);U=this.formatUnsupportedCmd(K),this.consume()}return U}formLigatures(Z){var J=Z.length-1;for(var Q=0;Q<J;++Q){var K=Z[Q],U=K.text;if(U==="-"&&Z[Q+1].text==="-")if(Q+1<J&&Z[Q+2].text==="-")Z.splice(Q,3,{type:"textord",mode:"text",loc:f6.range(K,Z[Q+2]),text:"---"}),J-=2;else Z.splice(Q,2,{type:"textord",mode:"text",loc:f6.range(K,Z[Q+1]),text:"--"}),J-=1;if((U==="'"||U==="`")&&Z[Q+1].text===U)Z.splice(Q,2,{type:"textord",mode:"text",loc:f6.range(K,Z[Q+1]),text:U+U}),J-=1}}parseSymbol(){var Z=this.fetch(),J=Z.text;if(/^\\verb[^a-zA-Z]/.test(J)){this.consume();var Q=J.slice(5),K=Q.charAt(0)==="*";if(K)Q=Q.slice(1);if(Q.length<2||Q.charAt(0)!==Q.slice(-1))throw new N8(`\\verb assertion failed --
                    please report what input caused this bug`);return Q=Q.slice(1,-1),{type:"verb",mode:"text",body:Q,star:K}}if(bK0.hasOwnProperty(J[0])&&!r9[this.mode][J[0]]){if(this.settings.strict&&this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+J[0]+'" used in math mode',Z);J=bK0[J[0]]+J.slice(1)}var U=E88.exec(J);if(U){if(J=J.substring(0,U.index),J==="i")J="";else if(J==="j")J=""}var X;if(r9[this.mode][J]){if(this.settings.strict&&this.mode==="math"&&Sy.indexOf(J)>=0)this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+J[0]+'" used in math mode',Z);var Y=r9[this.mode][J].group,q=f6.range(Z),W;if(O08.hasOwnProperty(Y)){var G=Y;W={type:"atom",mode:this.mode,family:G,loc:q,text:J}}else W={type:Y,mode:this.mode,loc:q,text:J};X=W}else if(J.charCodeAt(0)>=128){if(this.settings.strict){if(!hK0(J.charCodeAt(0)))this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+J[0]+'"'+(" ("+J.charCodeAt(0)+")"),Z);else if(this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+J[0]+'" used in math mode',Z)}X={type:"textord",mode:"text",loc:f6.range(Z),text:J}}else return null;if(this.consume(),U)for(var z=0;z<U[0].length;z++){var H=U[0][z];if(!Py[H])throw new N8("Unknown accent ' "+H+"'",Z);var F=Py[H][this.mode]||Py[H].text;if(!F)throw new N8("Accent "+H+" unsupported in "+this.mode+" mode",Z);X={type:"accent",mode:this.mode,loc:f6.range(Z),label:F,isStretchy:!1,isShifty:!0,base:X}}return X}}var be0=function(J,Q){return J===void 0?Q:J},ye0,he0=function(J){return J.replace(ye0,"-$1").toLowerCase()},me0,ue0,yK0=function Z(J){if(J.type==="ordgroup")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="color")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="font")return Z(J.body);else return J},pe0=function(J){var Q=yK0(J);return Q.type==="mathord"||Q.type==="textord"||Q.type==="atom"},ce0=function(J){if(!J)throw Error("Expected non-null, but got "+String(J));return J},le0=function(J){var Q=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(J);if(!Q)return"_relative";if(Q[2]!==":")return null;if(!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(Q[1]))return null;return Q[1].toLowerCase()},O9,rR,vy=0,ZV=1,yH=2,gX=3,aR=4,QK=5,hH=6,nQ=7,KU,ie0,se0,re0,ne0,ae0,oe0,FZ,Cy,oE,vH=80,ee0=function(J,Q){return"M95,"+(622+J+Q)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+J/2.075+" -"+J+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+J)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},Z08=function(J,Q){return"M263,"+(601+J+Q)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+J/2.084+" -"+J+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+J)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},J08=function(J,Q){return"M983 "+(10+J+Q)+`
l`+J/3.13+" -"+J+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+J)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},Q08=function(J,Q){return"M424,"+(2398+J+Q)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+J/4.223+" -"+J+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+J)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+J)+" "+Q+`
h400000v`+(40+J)+"h-400000z"},K08=function(J,Q){return"M473,"+(2713+J+Q)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+J/5.298+" -"+J+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+J)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+J)+" "+Q+"h400000v"+(40+J)+"H1017.7z"},U08=function(J){var Q=J/2;return"M400000 "+J+" H0 L"+Q+" 0 l65 45 L145 "+(J-80)+" H400000z"},X08=function(J,Q,K){var U=K-54-Q-J;return"M702 "+(J+Q)+"H400000"+(40+J)+`
H742v`+U+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+Q+"H400000v"+(40+J)+"H742z"},Y08=function(J,Q,K){Q=1000*Q;var U="";switch(J){case"sqrtMain":U=ee0(Q,vH);break;case"sqrtSize1":U=Z08(Q,vH);break;case"sqrtSize2":U=J08(Q,vH);break;case"sqrtSize3":U=Q08(Q,vH);break;case"sqrtSize4":U=K08(Q,vH);break;case"sqrtTall":U=X08(Q,vH,K)}return U},q08=function(J,Q){switch(J){case"":return"M291 0 H417 V"+Q+" H291z M291 0 H417 V"+Q+" H291z";case"":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z";case"":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z"+("M367 0 H410 V"+Q+" H367z M367 0 H410 V"+Q+" H367z");case"":return"M457 0 H583 V"+Q+" H457z M457 0 H583 V"+Q+" H457z";case"":return"M319 0 H403 V"+Q+" H319z M319 0 H403 V"+Q+" H319z";case"":return"M263 0 H347 V"+Q+" H263z M263 0 H347 V"+Q+" H263z";case"":return"M384 0 H504 V"+Q+" H384z M384 0 H504 V"+Q+" H384z";case"":return"M312 0 H355 V"+Q+" H312z M312 0 H355 V"+Q+" H312z";case"":return"M257 0 H300 V"+Q+" H257z M257 0 H300 V"+Q+" H257z"+("M478 0 H521 V"+Q+" H478z M478 0 H521 V"+Q+" H478z");default:return""}},YK0,W08=function(J,Q){switch(J){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+Q+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+Q+" v1759 h84z";case"vert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+` v585 h43z
M367 15 v585 v`+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+Q+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Q+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Q+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v602 h84z
M403 1759 V0 H319 V1759 v`+Q+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v602 h84z
M347 1759 V0 h-84 V1759 v`+Q+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(Q+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(Q+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(Q+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(Q+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw Error("Unknown stretchy delimiter.")}},UU,lE,qK0,By,z08,WK0,GK0=function(J,Q){return Q.size<2?J:z08[J-1][Q.size-1]},jy,H08,uK0=function(J){if(typeof J!=="string")J=J.unit;return J in jy||J in H08||J==="ex"},TJ=function(J,Q){var K;if(J.unit in jy)K=jy[J.unit]/Q.fontMetrics().ptPerEm/Q.sizeMultiplier;else if(J.unit==="mu")K=Q.fontMetrics().cssEmPerMu;else{var U;if(Q.style.isTight())U=Q.havingStyle(Q.style.text());else U=Q;if(J.unit==="ex")K=U.fontMetrics().xHeight;else if(J.unit==="em")K=U.fontMetrics().quad;else throw new N8("Invalid unit: '"+J.unit+"'");if(U!==Q)K*=U.sizeMultiplier/Q.sizeMultiplier}return Math.min(J.number*K,Q.maxSize)},T8=function(J){return+J.toFixed(4)+"em"},H1=function(J){return J.filter((Q)=>Q).join(" ")},gK0=function(J,Q,K){if(this.classes=J||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=K||{},Q){if(Q.style.isTight())this.classes.push("mtight");var U=Q.getColor();if(U)this.style.color=U}},pK0=function(J){var Q=document.createElement(J);Q.className=H1(this.classes);for(var K in this.style)if(this.style.hasOwnProperty(K))Q.style[K]=this.style[K];for(var U in this.attributes)if(this.attributes.hasOwnProperty(U))Q.setAttribute(U,this.attributes[U]);for(var X=0;X<this.children.length;X++)Q.appendChild(this.children[X].toNode());return Q},F08,cK0=function(J){var Q="<"+J;if(this.classes.length)Q+=' class="'+O9.escape(H1(this.classes))+'"';var K="";for(var U in this.style)if(this.style.hasOwnProperty(U))K+=O9.hyphenate(U)+":"+this.style[U]+";";if(K)Q+=' style="'+O9.escape(K)+'"';for(var X in this.attributes)if(this.attributes.hasOwnProperty(X)){if(F08.test(X))throw new N8("Invalid attribute name '"+X+"'");Q+=" "+X+'="'+O9.escape(this.attributes[X])+'"'}Q+=">";for(var Y=0;Y<this.children.length;Y++)Q+=this.children[Y].toMarkup();return Q+="</"+J+">",Q},M08,O08,R08,r9,l="math",z8="text",U0="main",P0="ams",LJ="accent-token",u8="bin",aQ="close",gH="inner",HZ="mathord",J7="op-token",P4="open",WV="punct",j0="rel",iX="spacing",k0="textord",dK0,HK0='0123456789/@."',tE,cR,FK0='0123456789!@*()-=+";:?/.,',eE,lR,QV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",xH,dR,NZ="",RJ,a7,QU,mX,Sy="",bH,iR,dE,MK0,L08=function(J,Q){var K=J.charCodeAt(0),U=J.charCodeAt(1),X=(K-55296)*1024+(U-56320)+65536,Y=Q==="math"?0:1;if(119808<=X&&X<120484){var q=Math.floor((X-119808)/26);return[dE[q][2],dE[q][Y]]}else if(120782<=X&&X<=120831){var W=Math.floor((X-120782)/10);return[MK0[W][2],MK0[W][Y]]}else if(X===120485||X===120486)return[dE[0][2],dE[0][Y]];else if(120486<X&&X<120782)return["",""];else throw new N8("Unsupported character: "+J)},GV=function(J,Q,K){if(r9[K][J]&&r9[K][J].replace)J=r9[K][J].replace;return{value:J,metrics:xy(J,Q,K)}},Z5=function(J,Q,K,U,X){var Y=GV(J,Q,K),q=Y.metrics;J=Y.value;var W;if(q){var G=q.italic;if(K==="text"||U&&U.font==="mathit")G=0;W=new V4(J,q.height,q.depth,G,q.skew,q.width,X)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+J+"' in style '"+Q+"' and mode '"+K+"'")),W=new V4(J,0,0,0,0,0,X);if(U){if(W.maxFontSize=U.sizeMultiplier,U.style.isTight())W.classes.push("mtight");var z=U.getColor();if(z)W.style.color=z}return W},D08=function(J,Q,K,U){if(U===void 0)U=[];if(K.font==="boldsymbol"&&GV(J,"Main-Bold",Q).metrics)return Z5(J,"Main-Bold",Q,K,U.concat(["mathbf"]));else if(J==="\\"||r9[Q][J].font==="main")return Z5(J,"Main-Regular",Q,K,U);else return Z5(J,"AMS-Regular",Q,K,U.concat(["amsrm"]))},I08=function(J,Q,K,U,X){if(X!=="textord"&&GV(J,"Math-BoldItalic",Q).metrics)return{fontName:"Math-BoldItalic",fontClass:"boldsymbol"};else return{fontName:"Main-Bold",fontClass:"mathbf"}},A08=function(J,Q,K){var{mode:U,text:X}=J,Y=["mord"],q=U==="math"||U==="text"&&Q.font,W=q?Q.font:Q.fontFamily,G="",z="";if(X.charCodeAt(0)===55349)[G,z]=L08(X,U);if(G.length>0)return Z5(X,G,U,Q,Y.concat(z));else if(W){var H,F;if(W==="boldsymbol"){var M=I08(X,U,Q,Y,K);H=M.fontName,F=[M.fontClass]}else if(q)H=rK0[W].fontName,F=[W];else H=iE(W,Q.fontWeight,Q.fontShape),F=[W,Q.fontWeight,Q.fontShape];if(GV(X,H,U).metrics)return Z5(X,H,U,Q,Y.concat(F));else if(dK0.hasOwnProperty(X)&&H.slice(0,10)==="Typewriter"){var B=[];for(var O=0;O<X.length;O++)B.push(Z5(X[O],H,U,Q,Y.concat(F)));return sK0(B)}}if(K==="mathord")return Z5(X,"Math-Italic",U,Q,Y.concat(["mathnormal"]));else if(K==="textord"){var R=r9[U][X]&&r9[U][X].font;if(R==="ams"){var L=iE("amsrm",Q.fontWeight,Q.fontShape);return Z5(X,L,U,Q,Y.concat("amsrm",Q.fontWeight,Q.fontShape))}else if(R==="main"||!R){var D=iE("textrm",Q.fontWeight,Q.fontShape);return Z5(X,D,U,Q,Y.concat(Q.fontWeight,Q.fontShape))}else{var A=iE(R,Q.fontWeight,Q.fontShape);return Z5(X,A,U,Q,Y.concat(A,Q.fontWeight,Q.fontShape))}}else throw Error("unexpected type: "+K+" in makeOrd")},N08=(Z,J)=>{if(H1(Z.classes)!==H1(J.classes)||Z.skew!==J.skew||Z.maxFontSize!==J.maxFontSize)return!1;if(Z.classes.length===1){var Q=Z.classes[0];if(Q==="mbin"||Q==="mord")return!1}for(var K in Z.style)if(Z.style.hasOwnProperty(K)&&Z.style[K]!==J.style[K])return!1;for(var U in J.style)if(J.style.hasOwnProperty(U)&&Z.style[U]!==J.style[U])return!1;return!0},E08=(Z)=>{for(var J=0;J<Z.length-1;J++){var Q=Z[J],K=Z[J+1];if(Q instanceof V4&&K instanceof V4&&N08(Q,K))Q.text+=K.text,Q.height=Math.max(Q.height,K.height),Q.depth=Math.max(Q.depth,K.depth),Q.italic=K.italic,Z.splice(J+1,1),J--}return Z},by=function(J){var Q=0,K=0,U=0;for(var X=0;X<J.children.length;X++){var Y=J.children[X];if(Y.height>Q)Q=Y.height;if(Y.depth>K)K=Y.depth;if(Y.maxFontSize>U)U=Y.maxFontSize}J.height=Q,J.depth=K,J.maxFontSize=U},_6=function(J,Q,K,U){var X=new uH(J,Q,K,U);return by(X),X},iK0=(Z,J,Q,K)=>new uH(Z,J,Q,K),V08=function(J,Q,K){var U=_6([J],[],Q);return U.height=Math.max(K||Q.fontMetrics().defaultRuleThickness,Q.minRuleThickness),U.style.borderBottomWidth=T8(U.height),U.maxFontSize=1,U},P08=function(J,Q,K,U){var X=new qV(J,Q,K,U);return by(X),X},sK0=function(J){var Q=new mH(J);return by(Q),Q},C08=function(J,Q){if(J instanceof mH)return _6([],[J],Q);return J},j08=function(J){if(J.positionType==="individualShift"){var Q=J.children,K=[Q[0]],U=-Q[0].shift-Q[0].elem.depth,X=U;for(var Y=1;Y<Q.length;Y++){var q=-Q[Y].shift-X-Q[Y].elem.depth,W=q-(Q[Y-1].elem.height+Q[Y-1].elem.depth);X=X+q,K.push({type:"kern",size:W}),K.push(Q[Y])}return{children:K,depth:U}}var G;if(J.positionType==="top"){var z=J.positionData;for(var H=0;H<J.children.length;H++){var F=J.children[H];z-=F.type==="kern"?F.size:F.elem.height+F.elem.depth}G=z}else if(J.positionType==="bottom")G=-J.positionData;else{var M=J.children[0];if(M.type!=="elem")throw Error('First child must have type "elem".');if(J.positionType==="shift")G=-M.elem.depth-J.positionData;else if(J.positionType==="firstBaseline")G=-M.elem.depth;else throw Error("Invalid positionType "+J.positionType+".")}return{children:J.children,depth:G}},S08=function(J,Q){var{children:K,depth:U}=j08(J),X=0;for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q.type==="elem"){var W=q.elem;X=Math.max(X,W.maxFontSize,W.height)}}X+=2;var G=_6(["pstrut"],[]);G.style.height=T8(X);var z=[],H=U,F=U,M=U;for(var B=0;B<K.length;B++){var O=K[B];if(O.type==="kern")M+=O.size;else{var R=O.elem,L=O.wrapperClasses||[],D=O.wrapperStyle||{},A=_6(L,[G,R],void 0,D);if(A.style.top=T8(-X-M-R.depth),O.marginLeft)A.style.marginLeft=O.marginLeft;if(O.marginRight)A.style.marginRight=O.marginRight;z.push(A),M+=R.height+R.depth}H=Math.min(H,M),F=Math.max(F,M)}var V=_6(["vlist"],z);V.style.height=T8(F);var N;if(H<0){var E=_6([],[]),C=_6(["vlist"],[E]);C.style.height=T8(-H);var j=_6(["vlist-s"],[new V4("")]);N=[_6(["vlist-r"],[V,j]),_6(["vlist-r"],[C])]}else N=[_6(["vlist-r"],[V])];var $=_6(["vlist-t"],N);if(N.length===2)$.classes.push("vlist-t2");return $.height=F,$.depth=-H,$},T08=(Z,J)=>{var Q=_6(["mspace"],[],J),K=TJ(Z,J);return Q.style.marginRight=T8(K),Q},iE=function(J,Q,K){var U="";switch(J){case"amsrm":U="AMS";break;case"textrm":U="Main";break;case"textsf":U="SansSerif";break;case"texttt":U="Typewriter";break;default:U=J}var X;if(Q==="textbf"&&K==="textit")X="BoldItalic";else if(Q==="textbf")X="Bold";else if(Q==="textit")X="Italic";else X="Regular";return U+"-"+X},rK0,nK0,w08=function(J,Q){var[K,U,X]=nK0[J],Y=new cX(K),q=new XU([Y],{width:T8(U),height:T8(X),style:"width:"+T8(U),viewBox:"0 0 "+1000*U+" "+1000*X,preserveAspectRatio:"xMinYMin"}),W=iK0(["overlay"],[q],Q);return W.height=X,W.style.height=T8(X),W.style.width=T8(U),W},c0,SJ,zG,yX,$08,k08,aK0,KV,UV,XV=function(J){return J.type==="ordgroup"&&J.body.length===1?J.body[0]:J},sJ=function(J){return J.type==="ordgroup"?J.body:[J]},lX,_08,f08,v08,x08,O7=function(J,Q,K,U){if(U===void 0)U=[null,null];var X=[];for(var Y=0;Y<J.length;Y++){var q=W9(J[Y],Q);if(q instanceof mH){var W=q.children;X.push(...W)}else X.push(q)}if(c0.tryCombineChars(X),!K)return X;var G=Q;if(J.length===1){var z=J[0];if(z.type==="sizing")G=Q.havingSize(z.size);else if(z.type==="styling")G=Q.havingStyle(v08[z.style])}var H=lX([U[0]||"leftmost"],[],Q),F=lX([U[1]||"rightmost"],[],Q),M=K==="root";return BK0(X,(B,O)=>{var R=O.classes[0],L=B.classes[0];if(R==="mbin"&&f08.includes(L))O.classes[0]="mord";else if(L==="mbin"&&_08.includes(R))B.classes[0]="mord"},{node:H},F,M),BK0(X,(B,O)=>{var R=Ty(O),L=Ty(B),D=R&&L?B.hasClass("mtight")?k08[R][L]:$08[R][L]:null;if(D)return c0.makeGlue(D,G)},{node:H},F,M),X},BK0=function Z(J,Q,K,U,X){if(U)J.push(U);var Y=0;for(;Y<J.length;Y++){var q=J[Y],W=oK0(q);if(W){Z(W.children,Q,K,null,X);continue}var G=!q.hasClass("mspace");if(G){var z=Q(q,K.node);if(z)if(K.insertAfter)K.insertAfter(z);else J.unshift(z),Y++}if(G)K.node=q;else if(X&&q.hasClass("newline"))K.node=lX(["leftmost"]);K.insertAfter=((H)=>(F)=>{J.splice(H+1,0,F),Y++})(Y)}if(U)J.pop()},oK0=function(J){if(J instanceof mH||J instanceof qV||J instanceof uH&&J.hasClass("enclosing"))return J;return null},b08=function Z(J,Q){var K=oK0(J);if(K){var U=K.children;if(U.length){if(Q==="right")return Z(U[U.length-1],"right");else if(Q==="left")return Z(U[0],"left")}}return J},Ty=function(J,Q){if(!J)return null;if(Q)J=b08(J,Q);return x08[J.classes[0]]||null},oR=function(J,Q){var K=["nulldelimiter"].concat(J.baseSizingClasses());return lX(Q.concat(K))},W9=function(J,Q,K){if(!J)return lX();if(KV[J.type]){var U=KV[J.type](J,Q);if(K&&Q.size!==K.size){U=lX(Q.sizingClasses(K),[U],Q);var X=Q.sizeMultiplier/K.sizeMultiplier;U.height*=X,U.depth*=X}return U}else throw new N8("Got group of unknown type: '"+J.type+"'")},D8,KK=function(J,Q,K){if(r9[Q][J]&&r9[Q][J].replace&&J.charCodeAt(0)!==55349&&!(dK0.hasOwnProperty(J)&&K&&(K.fontFamily&&K.fontFamily.slice(4,6)==="tt"||K.font&&K.font.slice(4,6)==="tt")))J=r9[Q][J].replace;return new D8.TextNode(J)},yy=function(J){if(J.length===1)return J[0];else return new D8.MathNode("mrow",J)},hy=function(J,Q){if(Q.fontFamily==="texttt")return"monospace";else if(Q.fontFamily==="textsf")if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"sans-serif-bold-italic";else if(Q.fontShape==="textit")return"sans-serif-italic";else if(Q.fontWeight==="textbf")return"bold-sans-serif";else return"sans-serif";else if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"bold-italic";else if(Q.fontShape==="textit")return"italic";else if(Q.fontWeight==="textbf")return"bold";var K=Q.font;if(!K||K==="mathnormal")return null;var U=J.mode;if(K==="mathit")return"italic";else if(K==="boldsymbol")return J.type==="textord"?"bold":"bold-italic";else if(K==="mathbf")return"bold";else if(K==="mathbb")return"double-struck";else if(K==="mathsfit")return"sans-serif-italic";else if(K==="mathfrak")return"fraktur";else if(K==="mathscr"||K==="mathcal")return"script";else if(K==="mathsf")return"sans-serif";else if(K==="mathtt")return"monospace";var X=J.text;if(["\\imath","\\jmath"].includes(X))return null;if(r9[U][X]&&r9[U][X].replace)X=r9[U][X].replace;var Y=c0.fontMap[K].fontName;if(xy(X,Y,U))return c0.fontMap[K].variant;return null},x6=function(J,Q,K){if(J.length===1){var U=p9(J[0],Q);if(K&&U instanceof v6&&U.type==="mo")U.setAttribute("lspace","0em"),U.setAttribute("rspace","0em");return[U]}var X=[],Y;for(var q=0;q<J.length;q++){var W=p9(J[q],Q);if(W instanceof v6&&Y instanceof v6){if(W.type==="mtext"&&Y.type==="mtext"&&W.getAttribute("mathvariant")===Y.getAttribute("mathvariant")){Y.children.push(...W.children);continue}else if(W.type==="mn"&&Y.type==="mn"){Y.children.push(...W.children);continue}else if(Oy(W)&&Y.type==="mn"){Y.children.push(...W.children);continue}else if(W.type==="mn"&&Oy(Y))W.children=[...Y.children,...W.children],X.pop();else if((W.type==="msup"||W.type==="msub")&&W.children.length>=1&&(Y.type==="mn"||Oy(Y))){var G=W.children[0];if(G instanceof v6&&G.type==="mn")G.children=[...Y.children,...G.children],X.pop()}else if(Y.type==="mi"&&Y.children.length===1){var z=Y.children[0];if(z instanceof J5&&z.text===""&&(W.type==="mo"||W.type==="mi"||W.type==="mn")){var H=W.children[0];if(H instanceof J5&&H.text.length>0)H.text=H.text.slice(0,1)+""+H.text.slice(1),X.pop()}}}X.push(W),Y=W}return X},F1=function(J,Q,K){return yy(x6(J,Q,K))},p9=function(J,Q){if(!J)return new D8.MathNode("mrow");if(UV[J.type]){var K=UV[J.type](J,Q);return K}else throw new N8("Got group of unknown type: '"+J.type+"'")},Z50=function(J){return new uX({style:J.displayMode?FZ.DISPLAY:FZ.TEXT,maxSize:J.maxSize,minRuleThickness:J.minRuleThickness})},J50=function(J,Q){if(Q.displayMode){var K=["katex-display"];if(Q.leqno)K.push("leqno");if(Q.fleqn)K.push("fleqn");J=c0.makeSpan(K,[J])}return J},y08=function(J,Q,K){var U=Z50(K),X;if(K.output==="mathml")return OK0(J,Q,U,K.displayMode,!0);else if(K.output==="html"){var Y=wy(J,U);X=c0.makeSpan(["katex"],[Y])}else{var q=OK0(J,Q,U,K.displayMode,!1),W=wy(J,U);X=c0.makeSpan(["katex"],[q,W])}return J50(X,K)},h08=function(J,Q,K){var U=Z50(K),X=wy(J,U),Y=c0.makeSpan(["katex"],[X]);return J50(Y,K)},m08,u08=function(J){var Q=new D8.MathNode("mo",[new D8.TextNode(m08[J.replace(/^\\/,"")])]);return Q.setAttribute("stretchy","true"),Q},g08,p08=function(J){if(J.type==="ordgroup")return J.body.length;else return 1},c08=function(J,Q){function K(){var q=400000,W=J.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(W)){var G=J,z=p08(G.base),H,F,M;if(z>5)if(W==="widehat"||W==="widecheck")H=420,q=2364,M=0.42,F=W+"4";else H=312,q=2340,M=0.34,F="tilde4";else{var B=[1,1,2,2,3,3][z];if(W==="widehat"||W==="widecheck")q=[0,1062,2364,2364,2364][B],H=[0,239,300,360,420][B],M=[0,0.24,0.3,0.3,0.36,0.42][B],F=W+B;else q=[0,600,1033,2339,2340][B],H=[0,260,286,306,312][B],M=[0,0.26,0.286,0.3,0.306,0.34][B],F="tilde"+B}var O=new cX(F),R=new XU([O],{width:"100%",height:T8(M),viewBox:"0 0 "+q+" "+H,preserveAspectRatio:"none"});return{span:c0.makeSvgSpan([],[R],Q),minWidth:0,height:M}}else{var L=[],D=g08[W],[A,V,N]=D,E=N/1000,C=A.length,j,$;if(C===1){var k=D[3];j=["hide-tail"],$=[k]}else if(C===2)j=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(C===3)j=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var w=0;w<C;w++){var P=new cX(A[w]),S=new XU([P],{width:"400em",height:T8(E),viewBox:"0 0 "+q+" "+N,preserveAspectRatio:$[w]+" slice"}),T=c0.makeSvgSpan([j[w]],[S],Q);if(C===1)return{span:T,minWidth:V,height:E};else T.style.height=T8(E),L.push(T)}return{span:c0.makeSpan(["stretchy"],L,Q),minWidth:V,height:E}}}var{span:U,minWidth:X,height:Y}=K();if(U.height=Y,U.style.height=T8(Y),X>0)U.style.minWidth=T8(X);return U},l08=function(J,Q,K,U,X){var Y,q=J.height+J.depth+K+U;if(/fbox|color|angl/.test(Q)){if(Y=c0.makeSpan(["stretchy",Q],[],X),Q==="fbox"){var W=X.color&&X.getColor();if(W)Y.style.borderColor=W}}else{var G=[];if(/^[bx]cancel$/.test(Q))G.push(new JV({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"}));if(/^x?cancel$/.test(Q))G.push(new JV({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var z=new XU(G,{width:"100%",height:T8(q)});Y=c0.makeSvgSpan([],[z],X)}return Y.height=q,Y.style.height=T8(q),Y},dX,uy=(Z,J)=>{var Q,K,U;if(Z&&Z.type==="supsub")K=_Z(Z.base,"accent"),Q=K.base,Z.base=Q,U=B08(W9(Z,J)),Z.base=K;else K=_Z(Z,"accent"),Q=K.base;var X=W9(Q,J.havingCrampedStyle()),Y=K.isShifty&&O9.isCharacterBox(Q),q=0;if(Y){var W=O9.getBaseElem(Q),G=W9(W,J.havingCrampedStyle());q=zK0(G).skew}var z=K.label==="\\c",H=z?X.height+X.depth:Math.min(X.height,J.fontMetrics().xHeight),F;if(!K.isStretchy){var M,B;if(K.label==="\\vec")M=c0.staticSvg("vec",J),B=c0.svgData.vec[1];else if(M=c0.makeOrd({mode:K.mode,text:K.label},J,"textord"),M=zK0(M),M.italic=0,B=M.width,z)H+=M.depth;F=c0.makeSpan(["accent-body"],[M]);var O=K.label==="\\textcircled";if(O)F.classes.push("accent-full"),H=X.height;var R=q;if(!O)R-=B/2;if(F.style.left=T8(R),K.label==="\\textcircled")F.style.top=".2em";F=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:X},{type:"kern",size:-H},{type:"elem",elem:F}]},J)}else F=dX.svgSpan(K,J),F=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:X},{type:"elem",elem:F,wrapperClasses:["svg-align"],wrapperStyle:q>0?{width:"calc(100% - "+T8(2*q)+")",marginLeft:T8(2*q)}:void 0}]},J);var L=c0.makeSpan(["mord","accent"],[F],J);if(U)return U.children[0]=L,U.height=Math.max(L.height,U.height),U.classes[0]="mord",U;else return L},Q50=(Z,J)=>{var Q=Z.isStretchy?dX.mathMLnode(Z.label):new D8.MathNode("mo",[KK(Z.label,Z.mode)]),K=new D8.MathNode("mover",[p9(Z.base,J),Q]);return K.setAttribute("accent","true"),K},d08,rE=(Z)=>{var J=new D8.MathNode("mpadded",Z?[Z]:[]);return J.setAttribute("width","+0.6em"),J.setAttribute("lspace","0.3em"),J},i08,HV=(Z)=>{var J=Z.type==="ordgroup"&&Z.body.length?Z.body[0]:Z;if(J.type==="atom"&&(J.family==="bin"||J.family==="rel"))return"m"+J.family;else return"mord"},s08,RK0=()=>{return{type:"styling",body:[],mode:"math",style:"display"}},LK0=(Z)=>{return Z.type==="textord"&&Z.text==="@"},r08=(Z,J)=>{return(Z.type==="mathord"||Z.type==="atom")&&Z.text===J},X50=(Z,J)=>{var Q=O7(Z.body,J.withColor(Z.color),!1);return c0.makeFragment(Q)},Y50=(Z,J)=>{var Q=x6(Z.body,J.withColor(Z.color)),K=new D8.MathNode("mstyle",Q);return K.setAttribute("mathcolor",Z.color),K},$y,q50=(Z)=>{var J=Z.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(J))throw new N8("Expected a control sequence",Z);return J},o08=(Z)=>{var J=Z.gullet.popToken();if(J.text==="="){if(J=Z.gullet.popToken(),J.text===" ")J=Z.gullet.popToken()}return J},W50=(Z,J,Q,K)=>{var U=Z.gullet.macros.get(Q.text);if(U==null)Q.noexpand=!0,U={tokens:[Q],numArgs:0,unexpandable:!Z.gullet.isExpandable(Q.text)};Z.gullet.macros.set(J,U,K)},sR=function(J,Q,K){var U=r9.math[J]&&r9.math[J].replace,X=xy(U||J,Q,K);if(!X)throw Error("Unsupported symbol "+J+" and font size "+Q+".");return X},gy=function(J,Q,K,U){var X=K.havingBaseStyle(Q),Y=c0.makeSpan(U.concat(X.sizingClasses(K)),[J],K),q=X.sizeMultiplier/K.sizeMultiplier;return Y.height*=q,Y.depth*=q,Y.maxFontSize=X.sizeMultiplier,Y},G50=function(J,Q,K){var U=Q.havingBaseStyle(K),X=(1-Q.sizeMultiplier/U.sizeMultiplier)*Q.fontMetrics().axisHeight;J.classes.push("delimcenter"),J.style.top=T8(X),J.height-=X,J.depth+=X},t08=function(J,Q,K,U,X,Y){var q=c0.makeSymbol(J,"Main-Regular",X,U),W=gy(q,Q,U,Y);if(K)G50(W,U,Q);return W},e08=function(J,Q,K,U){return c0.makeSymbol(J,"Size"+Q+"-Regular",K,U)},z50=function(J,Q,K,U,X,Y){var q=e08(J,Q,X,U),W=gy(c0.makeSpan(["delimsizing","size"+Q],[q],U),FZ.TEXT,U,Y);if(K)G50(W,U,FZ.TEXT);return W},Ry=function(J,Q,K){var U;if(Q==="Size1-Regular")U="delim-size1";else U="delim-size4";var X=c0.makeSpan(["delimsizinginner",U],[c0.makeSpan([],[c0.makeSymbol(J,Q,K)])]);return{type:"elem",elem:X}},Ly=function(J,Q,K){var U=UU["Size4-Regular"][J.charCodeAt(0)]?UU["Size4-Regular"][J.charCodeAt(0)][4]:UU["Size1-Regular"][J.charCodeAt(0)][4],X=new cX("inner",q08(J,Math.round(1000*Q))),Y=new XU([X],{width:T8(U),height:T8(Q),style:"width:"+T8(U),viewBox:"0 0 "+1000*U+" "+Math.round(1000*Q),preserveAspectRatio:"xMinYMin"}),q=c0.makeSvgSpan([],[Y],K);return q.height=Q,q.style.height=T8(Q),q.style.width=T8(U),{type:"elem",elem:q}},ky=0.008,nE,Z88,J88,H50=function(J,Q,K,U,X,Y){var q,W,G,z,H="",F=0;q=G=z=J,W=null;var M="Size1-Regular";if(J==="\\uparrow")G=z="";else if(J==="\\Uparrow")G=z="";else if(J==="\\downarrow")q=G="";else if(J==="\\Downarrow")q=G="";else if(J==="\\updownarrow")q="\\uparrow",G="",z="\\downarrow";else if(J==="\\Updownarrow")q="\\Uparrow",G="",z="\\Downarrow";else if(Z88.includes(J))G="",H="vert",F=333;else if(J88.includes(J))G="",H="doublevert",F=556;else if(J==="["||J==="\\lbrack")q="",G="",z="",M="Size4-Regular",H="lbrack",F=667;else if(J==="]"||J==="\\rbrack")q="",G="",z="",M="Size4-Regular",H="rbrack",F=667;else if(J==="\\lfloor"||J==="")G=q="",z="",M="Size4-Regular",H="lfloor",F=667;else if(J==="\\lceil"||J==="")q="",G=z="",M="Size4-Regular",H="lceil",F=667;else if(J==="\\rfloor"||J==="")G=q="",z="",M="Size4-Regular",H="rfloor",F=667;else if(J==="\\rceil"||J==="")q="",G=z="",M="Size4-Regular",H="rceil",F=667;else if(J==="("||J==="\\lparen")q="",G="",z="",M="Size4-Regular",H="lparen",F=875;else if(J===")"||J==="\\rparen")q="",G="",z="",M="Size4-Regular",H="rparen",F=875;else if(J==="\\{"||J==="\\lbrace")q="",W="",z="",G="",M="Size4-Regular";else if(J==="\\}"||J==="\\rbrace")q="",W="",z="",G="",M="Size4-Regular";else if(J==="\\lgroup"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\rgroup"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\lmoustache"||J==="")q="",z="",G="",M="Size4-Regular";else if(J==="\\rmoustache"||J==="")q="",z="",G="",M="Size4-Regular";var B=sR(q,M,X),O=B.height+B.depth,R=sR(G,M,X),L=R.height+R.depth,D=sR(z,M,X),A=D.height+D.depth,V=0,N=1;if(W!==null){var E=sR(W,M,X);V=E.height+E.depth,N=2}var C=O+A+V,j=Math.max(0,Math.ceil((Q-C)/(N*L))),$=C+j*N*L,k=U.fontMetrics().axisHeight;if(K)k*=U.sizeMultiplier;var w=$/2-k,P=[];if(H.length>0){var S=$-O-A,T=Math.round($*1000),_=W08(H,Math.round(S*1000)),v=new cX(H,_),x=(F/1000).toFixed(3)+"em",b=(T/1000).toFixed(3)+"em",y=new XU([v],{width:x,height:b,viewBox:"0 0 "+F+" "+T}),u=c0.makeSvgSpan([],[y],U);u.height=T/1000,u.style.width=x,u.style.height=b,P.push({type:"elem",elem:u})}else{if(P.push(Ry(z,M,X)),P.push(nE),W===null){var h=$-O-A+2*ky;P.push(Ly(G,h,U))}else{var p=($-O-A-V)/2+2*ky;P.push(Ly(G,p,U)),P.push(nE),P.push(Ry(W,M,X)),P.push(nE),P.push(Ly(G,p,U))}P.push(nE),P.push(Ry(q,M,X))}var r=U.havingBaseStyle(FZ.TEXT),t=c0.makeVList({positionType:"bottom",positionData:w,children:P},r);return gy(c0.makeSpan(["delimsizing","mult"],[t],r),FZ.TEXT,U,Y)},Dy=80,Iy=0.08,Ay=function(J,Q,K,U,X){var Y=Y08(J,U,K),q=new cX(J,Y),W=new XU([q],{width:"400em",height:T8(Q),viewBox:"0 0 400000 "+K,preserveAspectRatio:"xMinYMin slice"});return c0.makeSvgSpan(["hide-tail"],[W],X)},Q88=function(J,Q){var K=Q.havingBaseSizing(),U=O50("\\surd",J*K.sizeMultiplier,B50,K),X=K.sizeMultiplier,Y=Math.max(0,Q.minRuleThickness-Q.fontMetrics().sqrtRuleThickness),q,W=0,G=0,z=0,H;if(U.type==="small"){if(z=1000+1000*Y+Dy,J<1)X=1;else if(J<1.4)X=0.7;W=(1+Y+Iy)/X,G=(1+Y)/X,q=Ay("sqrtMain",W,z,Y,Q),q.style.minWidth="0.853em",H=0.833/X}else if(U.type==="large")z=(1000+Dy)*nR[U.size],G=(nR[U.size]+Y)/X,W=(nR[U.size]+Y+Iy)/X,q=Ay("sqrtSize"+U.size,W,z,Y,Q),q.style.minWidth="1.02em",H=1/X;else W=J+Y+Iy,G=J+Y,z=Math.floor(1000*J+Y)+Dy,q=Ay("sqrtTall",W,z,Y,Q),q.style.minWidth="0.742em",H=1.056;return q.height=G,q.style.height=T8(W),{span:q,advanceWidth:H,ruleWidth:(Q.fontMetrics().sqrtRuleThickness+Y)*X}},F50,K88,M50,nR,U88=function(J,Q,K,U,X){if(J==="<"||J==="\\lt"||J==="")J="\\langle";else if(J===">"||J==="\\gt"||J==="")J="\\rangle";if(F50.includes(J)||M50.includes(J))return z50(J,Q,!1,K,U,X);else if(K88.includes(J))return H50(J,nR[Q],!1,K,U,X);else throw new N8("Illegal delimiter: '"+J+"'")},X88,Y88,B50,q88=function(J){if(J.type==="small")return"Main-Regular";else if(J.type==="large")return"Size"+J.size+"-Regular";else if(J.type==="stack")return"Size4-Regular";else throw Error("Add support for delim type '"+J.type+"' here.")},O50=function(J,Q,K,U){var X=Math.min(2,3-U.style.size);for(var Y=X;Y<K.length;Y++){if(K[Y].type==="stack")break;var q=sR(J,q88(K[Y]),"math"),W=q.height+q.depth;if(K[Y].type==="small"){var G=U.havingBaseStyle(K[Y].style);W*=G.sizeMultiplier}if(W>Q)return K[Y]}return K[K.length-1]},R50=function(J,Q,K,U,X,Y){if(J==="<"||J==="\\lt"||J==="")J="\\langle";else if(J===">"||J==="\\gt"||J==="")J="\\rangle";var q;if(M50.includes(J))q=X88;else if(F50.includes(J))q=B50;else q=Y88;var W=O50(J,Q,q,U);if(W.type==="small")return t08(J,W.style,K,U,X,Y);else if(W.type==="large")return z50(J,W.size,K,U,X,Y);else return H50(J,Q,K,U,X,Y)},W88=function(J,Q,K,U,X,Y){var q=U.fontMetrics().axisHeight*U.sizeMultiplier,W=901,G=5/U.fontMetrics().ptPerEm,z=Math.max(Q-q,K+q),H=Math.max(z/500*W,2*z-G);return R50(J,H,!0,U,X,Y)},pX,DK0,G88,py=(Z,J)=>{var Q=c0.wrapFragment(W9(Z.body,J),J),K=Z.label.slice(1),U=J.sizeMultiplier,X,Y=0,q=O9.isCharacterBox(Z.body);if(K==="sout")X=c0.makeSpan(["stretchy","sout"]),X.height=J.fontMetrics().defaultRuleThickness/U,Y=-0.5*J.fontMetrics().xHeight;else if(K==="phase"){var W=TJ({number:0.6,unit:"pt"},J),G=TJ({number:0.35,unit:"ex"},J),z=J.havingBaseSizing();U=U/z.sizeMultiplier;var H=Q.height+Q.depth+W+G;Q.style.paddingLeft=T8(H/2+W);var F=Math.floor(1000*H*U),M=U08(F),B=new XU([new cX("phase",M)],{width:"400em",height:T8(F/1000),viewBox:"0 0 400000 "+F,preserveAspectRatio:"xMinYMin slice"});X=c0.makeSvgSpan(["hide-tail"],[B],J),X.style.height=T8(H),Y=Q.depth+W+G}else{if(/cancel/.test(K)){if(!q)Q.classes.push("cancel-pad")}else if(K==="angl")Q.classes.push("anglpad");else Q.classes.push("boxpad");var O=0,R=0,L=0;if(/box/.test(K))L=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness),O=J.fontMetrics().fboxsep+(K==="colorbox"?0:L),R=O;else if(K==="angl")L=Math.max(J.fontMetrics().defaultRuleThickness,J.minRuleThickness),O=4*L,R=Math.max(0,0.25-Q.depth);else O=q?0.2:0,R=O;if(X=dX.encloseSpan(Q,K,O,R,J),/fbox|boxed|fcolorbox/.test(K))X.style.borderStyle="solid",X.style.borderWidth=T8(L);else if(K==="angl"&&L!==0.049)X.style.borderTopWidth=T8(L),X.style.borderRightWidth=T8(L);if(Y=Q.depth+R,Z.backgroundColor){if(X.style.backgroundColor=Z.backgroundColor,Z.borderColor)X.style.borderColor=Z.borderColor}}var D;if(Z.backgroundColor)D=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:X,shift:Y},{type:"elem",elem:Q,shift:0}]},J);else{var A=/cancel|phase/.test(K)?["svg-align"]:[];D=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Q,shift:0},{type:"elem",elem:X,shift:Y,wrapperClasses:A}]},J)}if(/cancel/.test(K))D.height=Q.height,D.depth=Q.depth;if(/cancel/.test(K)&&!q)return c0.makeSpan(["mord","cancel-lap"],[D],J);else return c0.makeSpan(["mord"],[D],J)},cy=(Z,J)=>{var Q=0,K=new D8.MathNode(Z.label.indexOf("colorbox")>-1?"mpadded":"menclose",[p9(Z.body,J)]);switch(Z.label){case"\\cancel":K.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":K.setAttribute("notation","downdiagonalstrike");break;case"\\phase":K.setAttribute("notation","phasorangle");break;case"\\sout":K.setAttribute("notation","horizontalstrike");break;case"\\fbox":K.setAttribute("notation","box");break;case"\\angl":K.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(Q=J.fontMetrics().fboxsep*J.fontMetrics().ptPerEm,K.setAttribute("width","+"+2*Q+"pt"),K.setAttribute("height","+"+2*Q+"pt"),K.setAttribute("lspace",Q+"pt"),K.setAttribute("voffset",Q+"pt"),Z.label==="\\fcolorbox"){var U=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness);K.setAttribute("style","border: "+U+"em solid "+String(Z.borderColor))}break;case"\\xcancel":K.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}if(Z.backgroundColor)K.setAttribute("mathbackground",Z.backgroundColor);return K},L50,D50,MV=(Z)=>{var J=Z.parser.settings;if(!J.displayMode)throw new N8("{"+Z.envName+"} can be used only in display mode.")},qU=function(J,Q){var K,U,X=J.body.length,Y=J.hLinesBeforeRow,q=0,W=Array(X),G=[],z=Math.max(Q.fontMetrics().arrayRuleWidth,Q.minRuleThickness),H=1/Q.fontMetrics().ptPerEm,F=5*H;if(J.colSeparationType&&J.colSeparationType==="small"){var M=Q.havingStyle(FZ.SCRIPT).sizeMultiplier;F=0.2778*(M/Q.sizeMultiplier)}var B=J.colSeparationType==="CD"?TJ({number:3,unit:"ex"},Q):12*H,O=3*H,R=J.arraystretch*B,L=0.7*R,D=0.3*R,A=0;function V(i){for(var p0=0;p0<i.length;++p0){if(p0>0)A+=0.25;G.push({pos:A,isDashed:i[p0]})}}V(Y[0]);for(K=0;K<J.body.length;++K){var N=J.body[K],E=L,C=D;if(q<N.length)q=N.length;var j=Array(N.length);for(U=0;U<N.length;++U){var $=W9(N[U],Q);if(C<$.depth)C=$.depth;if(E<$.height)E=$.height;j[U]=$}var k=J.rowGaps[K],w=0;if(k){if(w=TJ(k,Q),w>0){if(w+=D,C<w)C=w;w=0}}if(J.addJot)C+=O;j.height=E,j.depth=C,A+=E,j.pos=A,A+=C+w,W[K]=j,V(Y[K+1])}var P=A/2+Q.fontMetrics().axisHeight,S=J.cols||[],T=[],_,v,x=[];if(J.tags&&J.tags.some((i)=>i))for(K=0;K<X;++K){var b=W[K],y=b.pos-P,u=J.tags[K],h=void 0;if(u===!0)h=c0.makeSpan(["eqn-num"],[],Q);else if(u===!1)h=c0.makeSpan([],[],Q);else h=c0.makeSpan([],O7(u,Q,!0),Q);h.depth=b.depth,h.height=b.height,x.push({type:"elem",elem:h,shift:y})}for(U=0,v=0;U<q||v<S.length;++U,++v){var p=S[v]||{},r=!0;while(p.type==="separator"){if(!r)_=c0.makeSpan(["arraycolsep"],[]),_.style.width=T8(Q.fontMetrics().doubleRuleSep),T.push(_);if(p.separator==="|"||p.separator===":"){var t=p.separator==="|"?"solid":"dashed",d=c0.makeSpan(["vertical-separator"],[],Q);d.style.height=T8(A),d.style.borderRightWidth=T8(z),d.style.borderRightStyle=t,d.style.margin="0 "+T8(-z/2);var X0=A-P;if(X0)d.style.verticalAlign=T8(-X0);T.push(d)}else throw new N8("Invalid separator type: "+p.separator);v++,p=S[v]||{},r=!1}if(U>=q)continue;var a=void 0;if(U>0||J.hskipBeforeAndAfter){if(a=O9.deflt(p.pregap,F),a!==0)_=c0.makeSpan(["arraycolsep"],[]),_.style.width=T8(a),T.push(_)}var z0=[];for(K=0;K<X;++K){var J0=W[K],Q0=J0[U];if(!Q0)continue;var e=J0.pos-P;Q0.depth=J0.depth,Q0.height=J0.height,z0.push({type:"elem",elem:Q0,shift:e})}if(z0=c0.makeVList({positionType:"individualShift",children:z0},Q),z0=c0.makeSpan(["col-align-"+(p.align||"c")],[z0]),T.push(z0),U<q-1||J.hskipBeforeAndAfter){if(a=O9.deflt(p.postgap,F),a!==0)_=c0.makeSpan(["arraycolsep"],[]),_.style.width=T8(a),T.push(_)}}if(W=c0.makeSpan(["mtable"],T),G.length>0){var n=c0.makeLineSpan("hline",Q,z),Y0=c0.makeLineSpan("hdashline",Q,z),o=[{type:"elem",elem:W,shift:0}];while(G.length>0){var M0=G.pop(),K0=M0.pos-P;if(M0.isDashed)o.push({type:"elem",elem:Y0,shift:K0});else o.push({type:"elem",elem:n,shift:K0})}W=c0.makeVList({positionType:"individualShift",children:o},Q)}if(x.length===0)return c0.makeSpan(["mord"],[W],Q);else{var V0=c0.makeVList({positionType:"individualShift",children:x},Q);return V0=c0.makeSpan(["tag"],[V0],Q),c0.makeFragment([W,V0])}},z88,WU=function(J,Q){var K=[],U=new D8.MathNode("mtd",[],["mtr-glue"]),X=new D8.MathNode("mtd",[],["mml-eqn-num"]);for(var Y=0;Y<J.body.length;Y++){var q=J.body[Y],W=[];for(var G=0;G<q.length;G++)W.push(new D8.MathNode("mtd",[p9(q[G],Q)]));if(J.tags&&J.tags[Y])if(W.unshift(U),W.push(U),J.leqno)W.unshift(X);else W.push(X);K.push(new D8.MathNode("mtr",W))}var z=new D8.MathNode("mtable",K),H=J.arraystretch===0.5?0.1:0.16+J.arraystretch-1+(J.addJot?0.09:0);z.setAttribute("rowspacing",T8(H));var F="",M="";if(J.cols&&J.cols.length>0){var B=J.cols,O="",R=!1,L=0,D=B.length;if(B[0].type==="separator")F+="top ",L=1;if(B[B.length-1].type==="separator")F+="bottom ",D-=1;for(var A=L;A<D;A++)if(B[A].type==="align"){if(M+=z88[B[A].align],R)O+="none ";R=!0}else if(B[A].type==="separator"){if(R)O+=B[A].separator==="|"?"solid ":"dashed ",R=!1}if(z.setAttribute("columnalign",M.trim()),/[sd]/.test(O))z.setAttribute("columnlines",O.trim())}if(J.colSeparationType==="align"){var V=J.cols||[],N="";for(var E=1;E<V.length;E++)N+=E%2?"0em ":"1em ";z.setAttribute("columnspacing",N.trim())}else if(J.colSeparationType==="alignat"||J.colSeparationType==="gather")z.setAttribute("columnspacing","0em");else if(J.colSeparationType==="small")z.setAttribute("columnspacing","0.2778em");else if(J.colSeparationType==="CD")z.setAttribute("columnspacing","0.5em");else z.setAttribute("columnspacing","1em");var C="",j=J.hLinesBeforeRow;F+=j[0].length>0?"left ":"",F+=j[j.length-1].length>0?"right ":"";for(var $=1;$<j.length-1;$++)C+=j[$].length===0?"none ":j[$][0]?"dashed ":"solid ";if(/[sd]/.test(C))z.setAttribute("rowlines",C.trim());if(F!=="")z=new D8.MathNode("menclose",[z]),z.setAttribute("notation",F.trim());if(J.arraystretch&&J.arraystretch<1)z=new D8.MathNode("mstyle",[z]),z.setAttribute("scriptlevel","1");return z},I50=function(J,Q){if(J.envName.indexOf("ed")===-1)MV(J);var K=[],U=J.envName.indexOf("at")>-1?"alignat":"align",X=J.envName==="split",Y=M1(J.parser,{cols:K,addJot:!0,autoTag:X?void 0:ly(J.envName),emptySingleRow:!0,colSeparationType:U,maxNumCols:X?2:void 0,leqno:J.parser.settings.leqno},"display"),q,W=0,G={type:"ordgroup",mode:J.mode,body:[]};if(Q[0]&&Q[0].type==="ordgroup"){var z="";for(var H=0;H<Q[0].body.length;H++){var F=_Z(Q[0].body[H],"textord");z+=F.text}q=Number(z),W=q*2}var M=!W;Y.body.forEach(function(L){for(var D=1;D<L.length;D+=2){var A=_Z(L[D],"styling"),V=_Z(A.body[0],"ordgroup");V.body.unshift(G)}if(!M){var N=L.length/2;if(q<N)throw new N8("Too many math in a row: "+("expected "+q+", but got "+N),L[0])}else if(W<L.length)W=L.length});for(var B=0;B<W;++B){var O="r",R=0;if(B%2===1)O="l";else if(B>0&&M)R=1;K[B]={type:"align",align:O,pregap:R,postgap:0}}return Y.colSeparationType=M?"align":"alignat",Y},NK0,A50=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return W9(Z.body,K)},N50=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return p9(Z.body,K)},EK0,E50=(Z,J)=>{var Q=J;if(Z==="display")Q=Q.id>=FZ.SCRIPT.id?Q.text():FZ.DISPLAY;else if(Z==="text"&&Q.size===FZ.DISPLAY.size)Q=FZ.TEXT;else if(Z==="script")Q=FZ.SCRIPT;else if(Z==="scriptscript")Q=FZ.SCRIPTSCRIPT;return Q},iy=(Z,J)=>{var Q=E50(Z.size,J.style),K=Q.fracNum(),U=Q.fracDen(),X;X=J.havingStyle(K);var Y=W9(Z.numer,X,J);if(Z.continued){var q=8.5/J.fontMetrics().ptPerEm,W=3.5/J.fontMetrics().ptPerEm;Y.height=Y.height<q?q:Y.height,Y.depth=Y.depth<W?W:Y.depth}X=J.havingStyle(U);var G=W9(Z.denom,X,J),z,H,F;if(Z.hasBarLine){if(Z.barSize)H=TJ(Z.barSize,J),z=c0.makeLineSpan("frac-line",J,H);else z=c0.makeLineSpan("frac-line",J);H=z.height,F=z.height}else z=null,H=0,F=J.fontMetrics().defaultRuleThickness;var M,B,O;if(Q.size===FZ.DISPLAY.size||Z.size==="display"){if(M=J.fontMetrics().num1,H>0)B=3*F;else B=7*F;O=J.fontMetrics().denom1}else{if(H>0)M=J.fontMetrics().num2,B=F;else M=J.fontMetrics().num3,B=3*F;O=J.fontMetrics().denom2}var R;if(!z){var L=M-Y.depth-(G.height-O);if(L<B)M+=0.5*(B-L),O+=0.5*(B-L);R=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:Y,shift:-M}]},J)}else{var D=J.fontMetrics().axisHeight;if(M-Y.depth-(D+0.5*H)<B)M+=B-(M-Y.depth-(D+0.5*H));if(D-0.5*H-(G.height-O)<B)O+=B-(D-0.5*H-(G.height-O));var A=-(D-0.5*H);R=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:z,shift:A},{type:"elem",elem:Y,shift:-M}]},J)}X=J.havingStyle(Q),R.height*=X.sizeMultiplier/J.sizeMultiplier,R.depth*=X.sizeMultiplier/J.sizeMultiplier;var V;if(Q.size===FZ.DISPLAY.size)V=J.fontMetrics().delim1;else if(Q.size===FZ.SCRIPTSCRIPT.size)V=J.havingStyle(FZ.SCRIPT).fontMetrics().delim2;else V=J.fontMetrics().delim2;var N,E;if(Z.leftDelim==null)N=oR(J,["mopen"]);else N=pX.customSizedDelim(Z.leftDelim,V,!0,J.havingStyle(Q),Z.mode,["mopen"]);if(Z.continued)E=c0.makeSpan([]);else if(Z.rightDelim==null)E=oR(J,["mclose"]);else E=pX.customSizedDelim(Z.rightDelim,V,!0,J.havingStyle(Q),Z.mode,["mclose"]);return c0.makeSpan(["mord"].concat(X.sizingClasses(J)),[N,c0.makeSpan(["mfrac"],[R]),E],J)},sy=(Z,J)=>{var Q=new D8.MathNode("mfrac",[p9(Z.numer,J),p9(Z.denom,J)]);if(!Z.hasBarLine)Q.setAttribute("linethickness","0px");else if(Z.barSize){var K=TJ(Z.barSize,J);Q.setAttribute("linethickness",T8(K))}var U=E50(Z.size,J.style);if(U.size!==J.style.size){Q=new D8.MathNode("mstyle",[Q]);var X=U.size===FZ.DISPLAY.size?"true":"false";Q.setAttribute("displaystyle",X),Q.setAttribute("scriptlevel","0")}if(Z.leftDelim!=null||Z.rightDelim!=null){var Y=[];if(Z.leftDelim!=null){var q=new D8.MathNode("mo",[new D8.TextNode(Z.leftDelim.replace("\\",""))]);q.setAttribute("fence","true"),Y.push(q)}if(Y.push(Q),Z.rightDelim!=null){var W=new D8.MathNode("mo",[new D8.TextNode(Z.rightDelim.replace("\\",""))]);W.setAttribute("fence","true"),Y.push(W)}return yy(Y)}return Q},VK0,PK0=function(J){var Q=null;if(J.length>0)Q=J,Q=Q==="."?null:Q;return Q},V50=(Z,J)=>{var Q=J.style,K,U;if(Z.type==="supsub")K=Z.sup?W9(Z.sup,J.havingStyle(Q.sup()),J):W9(Z.sub,J.havingStyle(Q.sub()),J),U=_Z(Z.base,"horizBrace");else U=_Z(Z,"horizBrace");var X=W9(U.base,J.havingBaseStyle(FZ.DISPLAY)),Y=dX.svgSpan(U,J),q;if(U.isOver)q=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:X},{type:"kern",size:0.1},{type:"elem",elem:Y}]},J),q.children[0].children[0].children[1].classes.push("svg-align");else q=c0.makeVList({positionType:"bottom",positionData:X.depth+0.1+Y.height,children:[{type:"elem",elem:Y},{type:"kern",size:0.1},{type:"elem",elem:X}]},J),q.children[0].children[0].children[0].classes.push("svg-align");if(K){var W=c0.makeSpan(["mord",U.isOver?"mover":"munder"],[q],J);if(U.isOver)q=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:W},{type:"kern",size:0.2},{type:"elem",elem:K}]},J);else q=c0.makeVList({positionType:"bottom",positionData:W.depth+0.2+K.height+K.depth,children:[{type:"elem",elem:K},{type:"kern",size:0.2},{type:"elem",elem:W}]},J)}return c0.makeSpan(["mord",U.isOver?"mover":"munder"],[q],J)},H88=(Z,J)=>{var Q=dX.mathMLnode(Z.label);return new D8.MathNode(Z.isOver?"mover":"munder",[p9(Z.base,J),Q])},Ny=function(J){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(J))return{number:+J,unit:"bp"};else{var Q=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J);if(!Q)throw new N8("Invalid size: '"+J+"' in \\includegraphics");var K={number:+(Q[1]+Q[2]),unit:Q[3]};if(!uK0(K))throw new N8("Invalid unit: '"+K.unit+"' in \\includegraphics.");return K}},CK0=(Z,J)=>{switch(J.style.size){case FZ.DISPLAY.size:return Z.display;case FZ.TEXT.size:return Z.text;case FZ.SCRIPT.size:return Z.script;case FZ.SCRIPTSCRIPT.size:return Z.scriptscript;default:return Z.text}},P50=(Z,J,Q,K,U,X,Y)=>{Z=c0.makeSpan([],[Z]);var q=Q&&O9.isCharacterBox(Q),W,G;if(J){var z=W9(J,K.havingStyle(U.sup()),K);G={elem:z,kern:Math.max(K.fontMetrics().bigOpSpacing1,K.fontMetrics().bigOpSpacing3-z.depth)}}if(Q){var H=W9(Q,K.havingStyle(U.sub()),K);W={elem:H,kern:Math.max(K.fontMetrics().bigOpSpacing2,K.fontMetrics().bigOpSpacing4-H.height)}}var F;if(G&&W){var M=K.fontMetrics().bigOpSpacing5+W.elem.height+W.elem.depth+W.kern+Z.depth+Y;F=c0.makeVList({positionType:"bottom",positionData:M,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:W.elem,marginLeft:T8(-X)},{type:"kern",size:W.kern},{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:T8(X)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else if(W){var B=Z.height-Y;F=c0.makeVList({positionType:"top",positionData:B,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:W.elem,marginLeft:T8(-X)},{type:"kern",size:W.kern},{type:"elem",elem:Z}]},K)}else if(G){var O=Z.depth+Y;F=c0.makeVList({positionType:"bottom",positionData:O,children:[{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:T8(X)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else return Z;var R=[F];if(W&&X!==0&&!q){var L=c0.makeSpan(["mspace"],[],K);L.style.marginRight=T8(X),R.unshift(L)}return c0.makeSpan(["mop","op-limits"],R,K)},C50,pH=(Z,J)=>{var Q,K,U=!1,X;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,X=_Z(Z.base,"op"),U=!0;else X=_Z(Z,"op");var Y=J.style,q=!1;if(Y.size===FZ.DISPLAY.size&&X.symbol&&!C50.includes(X.name))q=!0;var W;if(X.symbol){var G=q?"Size2-Regular":"Size1-Regular",z="";if(X.name==="\\oiint"||X.name==="\\oiiint")z=X.name.slice(1),X.name=z==="oiint"?"\\iint":"\\iiint";if(W=c0.makeSymbol(X.name,G,"math",J,["mop","op-symbol",q?"large-op":"small-op"]),z.length>0){var H=W.italic,F=c0.staticSvg(z+"Size"+(q?"2":"1"),J);W=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:W,shift:0},{type:"elem",elem:F,shift:q?0.08:0}]},J),X.name="\\"+z,W.classes.unshift("mop"),W.italic=H}}else if(X.body){var M=O7(X.body,J,!0);if(M.length===1&&M[0]instanceof V4)W=M[0],W.classes[0]="mop";else W=c0.makeSpan(["mop"],M,J)}else{var B=[];for(var O=1;O<X.name.length;O++)B.push(c0.mathsym(X.name[O],X.mode,J));W=c0.makeSpan(["mop"],B,J)}var R=0,L=0;if((W instanceof V4||X.name==="\\oiint"||X.name==="\\oiiint")&&!X.suppressBaseShift)R=(W.height-W.depth)/2-J.fontMetrics().axisHeight,L=W.italic;if(U)return P50(W,Q,K,J,Y,L,R);else{if(R)W.style.position="relative",W.style.top=T8(R);return W}},tR=(Z,J)=>{var Q;if(Z.symbol){if(Q=new v6("mo",[KK(Z.name,Z.mode)]),C50.includes(Z.name))Q.setAttribute("largeop","false")}else if(Z.body)Q=new v6("mo",x6(Z.body,J));else{Q=new v6("mi",[new J5(Z.name.slice(1))]);var K=new v6("mo",[KK("","text")]);if(Z.parentIsSupSub)Q=new v6("mrow",[Q,K]);else Q=tK0([Q,K])}return Q},F88,M88,j50=(Z,J)=>{var Q,K,U=!1,X;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,X=_Z(Z.base,"operatorname"),U=!0;else X=_Z(Z,"operatorname");var Y;if(X.body.length>0){var q=X.body.map((H)=>{var F=H.text;if(typeof F==="string")return{type:"textord",mode:H.mode,text:F};else return H}),W=O7(q,J.withFont("mathrm"),!0);for(var G=0;G<W.length;G++){var z=W[G];if(z instanceof V4)z.text=z.text.replace(/\u2212/,"-").replace(/\u2217/,"*")}Y=c0.makeSpan(["mop"],W,J)}else Y=c0.makeSpan(["mop"],[],J);if(U)return P50(Y,Q,K,J,J.style,0,0);else return Y},B88=(Z,J)=>{var Q=x6(Z.body,J.withFont("mathrm")),K=!0;for(var U=0;U<Q.length;U++){var X=Q[U];if(X instanceof D8.SpaceNode);else if(X instanceof D8.MathNode)switch(X.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var Y=X.children[0];if(X.children.length===1&&Y instanceof D8.TextNode)Y.text=Y.text.replace(/\u2212/,"-").replace(/\u2217/,"*");else K=!1;break}default:K=!1}else K=!1}if(K){var q=Q.map((z)=>z.toText()).join("");Q=[new D8.TextNode(q)]}var W=new D8.MathNode("mi",Q);W.setAttribute("mathvariant","normal");var G=new D8.MathNode("mo",[KK("","text")]);if(Z.parentIsSupSub)return new D8.MathNode("mrow",[W,G]);else return D8.newDocumentFragment([W,G])},jK0,O88=(Z,J)=>{var Q=J.havingSize(Z.size);return S50(Z.body,Q,J)},SK0,R88=function(J,Q){var K=J.base;if(!K)return null;else if(K.type==="op"){var U=K.limits&&(Q.style.size===FZ.DISPLAY.size||K.alwaysHandleSupSub);return U?pH:null}else if(K.type==="operatorname"){var X=K.alwaysHandleSupSub&&(Q.style.size===FZ.DISPLAY.size||K.limits);return X?j50:null}else if(K.type==="accent")return O9.isCharacterBox(K.base)?uy:null;else if(K.type==="horizBrace"){var Y=!J.sub;return Y===K.isOver?V50:null}else return null},T50,Ey,Vy,TK0=()=>{var Z=new D8.MathNode("mtd",[]);return Z.setAttribute("width","50%"),Z},wK0,$K0,L88,kK0=(Z,J)=>{var Q=Z.font;if(!Q)return J;else if(wK0[Q])return J.withTextFontFamily(wK0[Q]);else if($K0[Q])return J.withTextFontWeight($K0[Q]);else if(Q==="\\emph")return J.fontShape==="textit"?J.withTextFontShape("textup"):J.withTextFontShape("textit");return J.withTextFontShape(L88[Q])},_K0=(Z)=>Z.body.replace(/ /g,Z.star?"":""),z1,w50=`[ \r
	]`,D88="\\\\[a-zA-Z@]+",I88="\\\\[^\uD800-\uDFFF]",A88,N88=`\\\\(
|[ \r	]+
?)[ \r	]*`,_y="[-]",E88,V88,P88,fK0,ry=(Z,J,Q,K)=>{var U=Z.consumeArg().tokens;if(U.length!==1)throw new N8("\\newcommand's first argument must be a macro name");var X=U[0].text,Y=Z.isDefined(X);if(Y&&!J)throw new N8("\\newcommand{"+X+"} attempting to redefine "+(X+"; use \\renewcommand"));if(!Y&&!Q)throw new N8("\\renewcommand{"+X+"} when command "+X+" does not yet exist; use \\newcommand");var q=0;if(U=Z.consumeArg().tokens,U.length===1&&U[0].text==="["){var W="",G=Z.expandNextToken();while(G.text!=="]"&&G.text!=="EOF")W+=G.text,G=Z.expandNextToken();if(!W.match(/^\s*[0-9]+\s*$/))throw new N8("Invalid number of arguments: "+W);q=parseInt(W),U=Z.consumeArg().tokens}if(!(Y&&K))Z.macros.set(X,{tokens:U,numArgs:q});return""},vK0,ny,k50,_50=(Z)=>(J)=>{var Q=J.consumeArg().tokens,K=J.consumeArg().tokens,U=J.consumeArg().tokens,X=J.consumeArg().tokens,Y=J.macros.get("|"),q=J.macros.get("\\|");J.macros.beginGroup();var W=(H)=>(F)=>{if(Z){if(F.macros.set("|",Y),U.length)F.macros.set("\\|",q)}var M=H;if(!H&&U.length){var B=F.future();if(B.text==="|")F.popToken(),M=!0}return{tokens:M?U:K,numArgs:0}};if(J.macros.set("|",W(!1)),U.length)J.macros.set("\\|",W(!0));var G=J.consumeArg().tokens,z=J.expandTokens([...X,...G,...Q]);return J.macros.endGroup(),{tokens:z.reverse(),numArgs:0}},f50,xK0,aE,Py,bK0,ay=function(J,Q){if(!(typeof J==="string"||J instanceof String))throw TypeError("KaTeX can only parse string typed expression");var K=new BV(J,Q);delete K.gullet.macros.current["\\df@tag"];var U=K.parse();if(delete K.gullet.macros.current["\\current@color"],delete K.gullet.macros.current["\\color"],K.gullet.macros.get("\\df@tag")){if(!Q.displayMode)throw new N8("\\tag works only in display equations");U=[{type:"tag",mode:"text",body:U,tag:K.subparse([new E4("\\df@tag")])}]}return U},oy=function(J,Q,K){Q.textContent="";var U=OV(J,K).toNode();Q.appendChild(U)},x50=function(J,Q){var K=OV(J,Q).toMarkup();return K},b50=function(J,Q){var K=new YV(Q);return ay(J,K)},y50=function(J,Q,K){if(K.throwOnError||!(J instanceof N8))throw J;var U=c0.makeSpan(["katex-error"],[new V4(Q)]);return U.setAttribute("title",J.toString()),U.setAttribute("style","color:"+K.errorColor),U},OV=function(J,Q){var K=new YV(Q);try{var U=ay(J,K);return y08(U,J,K)}catch(X){return y50(X,J,K)}},h50=function(J,Q){var K=new YV(Q);try{var U=ay(J,K);return h08(U,J,K)}catch(X){return y50(X,J,K)}},m50="0.16.28",u50,C88;var p50=f(()=>{N8.prototype.__proto__=Error.prototype;ye0=/([A-Z])/g,me0={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ue0=/[&><"']/g;O9={deflt:be0,escape:ge0,hyphenate:he0,getBaseElem:yK0,isCharacterBox:pe0,protocolFromUrl:le0},rR={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:(Z)=>"#"+Z},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(Z,J)=>{return J.push(Z),J}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:(Z)=>Math.max(0,Z),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:(Z)=>Math.max(0,Z),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1000,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:(Z)=>Math.max(0,Z),cli:"-e, --max-expand <n>",cliProcessor:(Z)=>Z==="Infinity"?1/0:parseInt(Z)},globalGroup:{type:"boolean",cli:!1}};KU=[new hX(vy,0,!1),new hX(ZV,0,!0),new hX(yH,1,!1),new hX(gX,1,!0),new hX(aR,2,!1),new hX(QK,2,!0),new hX(hH,3,!1),new hX(nQ,3,!0)],ie0=[aR,QK,aR,QK,hH,nQ,hH,nQ],se0=[QK,QK,QK,QK,nQ,nQ,nQ,nQ],re0=[yH,gX,aR,QK,hH,nQ,hH,nQ],ne0=[gX,gX,QK,QK,nQ,nQ,nQ,nQ],ae0=[ZV,ZV,gX,gX,QK,QK,nQ,nQ],oe0=[vy,ZV,yH,gX,yH,gX,yH,gX],FZ={DISPLAY:KU[vy],TEXT:KU[yH],SCRIPT:KU[aR],SCRIPTSCRIPT:KU[hH]},Cy=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];oE=[];Cy.forEach((Z)=>Z.blocks.forEach((J)=>oE.push(...J)));YK0={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};UU={"AMS-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68889,0,0,0.72222],"66":[0,0.68889,0,0,0.66667],"67":[0,0.68889,0,0,0.72222],"68":[0,0.68889,0,0,0.72222],"69":[0,0.68889,0,0,0.66667],"70":[0,0.68889,0,0,0.61111],"71":[0,0.68889,0,0,0.77778],"72":[0,0.68889,0,0,0.77778],"73":[0,0.68889,0,0,0.38889],"74":[0.16667,0.68889,0,0,0.5],"75":[0,0.68889,0,0,0.77778],"76":[0,0.68889,0,0,0.66667],"77":[0,0.68889,0,0,0.94445],"78":[0,0.68889,0,0,0.72222],"79":[0.16667,0.68889,0,0,0.77778],"80":[0,0.68889,0,0,0.61111],"81":[0.16667,0.68889,0,0,0.77778],"82":[0,0.68889,0,0,0.72222],"83":[0,0.68889,0,0,0.55556],"84":[0,0.68889,0,0,0.66667],"85":[0,0.68889,0,0,0.72222],"86":[0,0.68889,0,0,0.72222],"87":[0,0.68889,0,0,1],"88":[0,0.68889,0,0,0.72222],"89":[0,0.68889,0,0,0.72222],"90":[0,0.68889,0,0,0.66667],"107":[0,0.68889,0,0,0.55556],"160":[0,0,0,0,0.25],"165":[0,0.675,0.025,0,0.75],"174":[0.15559,0.69224,0,0,0.94666],"240":[0,0.68889,0,0,0.55556],"295":[0,0.68889,0,0,0.54028],"710":[0,0.825,0,0,2.33334],"732":[0,0.9,0,0,2.33334],"770":[0,0.825,0,0,2.33334],"771":[0,0.9,0,0,2.33334],"989":[0.08167,0.58167,0,0,0.77778],"1008":[0,0.43056,0.04028,0,0.66667],"8245":[0,0.54986,0,0,0.275],"8463":[0,0.68889,0,0,0.54028],"8487":[0,0.68889,0,0,0.72222],"8498":[0,0.68889,0,0,0.55556],"8502":[0,0.68889,0,0,0.66667],"8503":[0,0.68889,0,0,0.44445],"8504":[0,0.68889,0,0,0.66667],"8513":[0,0.68889,0,0,0.63889],"8592":[-0.03598,0.46402,0,0,0.5],"8594":[-0.03598,0.46402,0,0,0.5],"8602":[-0.13313,0.36687,0,0,1],"8603":[-0.13313,0.36687,0,0,1],"8606":[0.01354,0.52239,0,0,1],"8608":[0.01354,0.52239,0,0,1],"8610":[0.01354,0.52239,0,0,1.11111],"8611":[0.01354,0.52239,0,0,1.11111],"8619":[0,0.54986,0,0,1],"8620":[0,0.54986,0,0,1],"8621":[-0.13313,0.37788,0,0,1.38889],"8622":[-0.13313,0.36687,0,0,1],"8624":[0,0.69224,0,0,0.5],"8625":[0,0.69224,0,0,0.5],"8630":[0,0.43056,0,0,1],"8631":[0,0.43056,0,0,1],"8634":[0.08198,0.58198,0,0,0.77778],"8635":[0.08198,0.58198,0,0,0.77778],"8638":[0.19444,0.69224,0,0,0.41667],"8639":[0.19444,0.69224,0,0,0.41667],"8642":[0.19444,0.69224,0,0,0.41667],"8643":[0.19444,0.69224,0,0,0.41667],"8644":[0.1808,0.675,0,0,1],"8646":[0.1808,0.675,0,0,1],"8647":[0.1808,0.675,0,0,1],"8648":[0.19444,0.69224,0,0,0.83334],"8649":[0.1808,0.675,0,0,1],"8650":[0.19444,0.69224,0,0,0.83334],"8651":[0.01354,0.52239,0,0,1],"8652":[0.01354,0.52239,0,0,1],"8653":[-0.13313,0.36687,0,0,1],"8654":[-0.13313,0.36687,0,0,1],"8655":[-0.13313,0.36687,0,0,1],"8666":[0.13667,0.63667,0,0,1],"8667":[0.13667,0.63667,0,0,1],"8669":[-0.13313,0.37788,0,0,1],"8672":[-0.064,0.437,0,0,1.334],"8674":[-0.064,0.437,0,0,1.334],"8705":[0,0.825,0,0,0.5],"8708":[0,0.68889,0,0,0.55556],"8709":[0.08167,0.58167,0,0,0.77778],"8717":[0,0.43056,0,0,0.42917],"8722":[-0.03598,0.46402,0,0,0.5],"8724":[0.08198,0.69224,0,0,0.77778],"8726":[0.08167,0.58167,0,0,0.77778],"8733":[0,0.69224,0,0,0.77778],"8736":[0,0.69224,0,0,0.72222],"8737":[0,0.69224,0,0,0.72222],"8738":[0.03517,0.52239,0,0,0.72222],"8739":[0.08167,0.58167,0,0,0.22222],"8740":[0.25142,0.74111,0,0,0.27778],"8741":[0.08167,0.58167,0,0,0.38889],"8742":[0.25142,0.74111,0,0,0.5],"8756":[0,0.69224,0,0,0.66667],"8757":[0,0.69224,0,0,0.66667],"8764":[-0.13313,0.36687,0,0,0.77778],"8765":[-0.13313,0.37788,0,0,0.77778],"8769":[-0.13313,0.36687,0,0,0.77778],"8770":[-0.03625,0.46375,0,0,0.77778],"8774":[0.30274,0.79383,0,0,0.77778],"8776":[-0.01688,0.48312,0,0,0.77778],"8778":[0.08167,0.58167,0,0,0.77778],"8782":[0.06062,0.54986,0,0,0.77778],"8783":[0.06062,0.54986,0,0,0.77778],"8785":[0.08198,0.58198,0,0,0.77778],"8786":[0.08198,0.58198,0,0,0.77778],"8787":[0.08198,0.58198,0,0,0.77778],"8790":[0,0.69224,0,0,0.77778],"8791":[0.22958,0.72958,0,0,0.77778],"8796":[0.08198,0.91667,0,0,0.77778],"8806":[0.25583,0.75583,0,0,0.77778],"8807":[0.25583,0.75583,0,0,0.77778],"8808":[0.25142,0.75726,0,0,0.77778],"8809":[0.25142,0.75726,0,0,0.77778],"8812":[0.25583,0.75583,0,0,0.5],"8814":[0.20576,0.70576,0,0,0.77778],"8815":[0.20576,0.70576,0,0,0.77778],"8816":[0.30274,0.79383,0,0,0.77778],"8817":[0.30274,0.79383,0,0,0.77778],"8818":[0.22958,0.72958,0,0,0.77778],"8819":[0.22958,0.72958,0,0,0.77778],"8822":[0.1808,0.675,0,0,0.77778],"8823":[0.1808,0.675,0,0,0.77778],"8828":[0.13667,0.63667,0,0,0.77778],"8829":[0.13667,0.63667,0,0,0.77778],"8830":[0.22958,0.72958,0,0,0.77778],"8831":[0.22958,0.72958,0,0,0.77778],"8832":[0.20576,0.70576,0,0,0.77778],"8833":[0.20576,0.70576,0,0,0.77778],"8840":[0.30274,0.79383,0,0,0.77778],"8841":[0.30274,0.79383,0,0,0.77778],"8842":[0.13597,0.63597,0,0,0.77778],"8843":[0.13597,0.63597,0,0,0.77778],"8847":[0.03517,0.54986,0,0,0.77778],"8848":[0.03517,0.54986,0,0,0.77778],"8858":[0.08198,0.58198,0,0,0.77778],"8859":[0.08198,0.58198,0,0,0.77778],"8861":[0.08198,0.58198,0,0,0.77778],"8862":[0,0.675,0,0,0.77778],"8863":[0,0.675,0,0,0.77778],"8864":[0,0.675,0,0,0.77778],"8865":[0,0.675,0,0,0.77778],"8872":[0,0.69224,0,0,0.61111],"8873":[0,0.69224,0,0,0.72222],"8874":[0,0.69224,0,0,0.88889],"8876":[0,0.68889,0,0,0.61111],"8877":[0,0.68889,0,0,0.61111],"8878":[0,0.68889,0,0,0.72222],"8879":[0,0.68889,0,0,0.72222],"8882":[0.03517,0.54986,0,0,0.77778],"8883":[0.03517,0.54986,0,0,0.77778],"8884":[0.13667,0.63667,0,0,0.77778],"8885":[0.13667,0.63667,0,0,0.77778],"8888":[0,0.54986,0,0,1.11111],"8890":[0.19444,0.43056,0,0,0.55556],"8891":[0.19444,0.69224,0,0,0.61111],"8892":[0.19444,0.69224,0,0,0.61111],"8901":[0,0.54986,0,0,0.27778],"8903":[0.08167,0.58167,0,0,0.77778],"8905":[0.08167,0.58167,0,0,0.77778],"8906":[0.08167,0.58167,0,0,0.77778],"8907":[0,0.69224,0,0,0.77778],"8908":[0,0.69224,0,0,0.77778],"8909":[-0.03598,0.46402,0,0,0.77778],"8910":[0,0.54986,0,0,0.76042],"8911":[0,0.54986,0,0,0.76042],"8912":[0.03517,0.54986,0,0,0.77778],"8913":[0.03517,0.54986,0,0,0.77778],"8914":[0,0.54986,0,0,0.66667],"8915":[0,0.54986,0,0,0.66667],"8916":[0,0.69224,0,0,0.66667],"8918":[0.0391,0.5391,0,0,0.77778],"8919":[0.0391,0.5391,0,0,0.77778],"8920":[0.03517,0.54986,0,0,1.33334],"8921":[0.03517,0.54986,0,0,1.33334],"8922":[0.38569,0.88569,0,0,0.77778],"8923":[0.38569,0.88569,0,0,0.77778],"8926":[0.13667,0.63667,0,0,0.77778],"8927":[0.13667,0.63667,0,0,0.77778],"8928":[0.30274,0.79383,0,0,0.77778],"8929":[0.30274,0.79383,0,0,0.77778],"8934":[0.23222,0.74111,0,0,0.77778],"8935":[0.23222,0.74111,0,0,0.77778],"8936":[0.23222,0.74111,0,0,0.77778],"8937":[0.23222,0.74111,0,0,0.77778],"8938":[0.20576,0.70576,0,0,0.77778],"8939":[0.20576,0.70576,0,0,0.77778],"8940":[0.30274,0.79383,0,0,0.77778],"8941":[0.30274,0.79383,0,0,0.77778],"8994":[0.19444,0.69224,0,0,0.77778],"8995":[0.19444,0.69224,0,0,0.77778],"9416":[0.15559,0.69224,0,0,0.90222],"9484":[0,0.69224,0,0,0.5],"9488":[0,0.69224,0,0,0.5],"9492":[0,0.37788,0,0,0.5],"9496":[0,0.37788,0,0,0.5],"9585":[0.19444,0.68889,0,0,0.88889],"9586":[0.19444,0.74111,0,0,0.88889],"9632":[0,0.675,0,0,0.77778],"9633":[0,0.675,0,0,0.77778],"9650":[0,0.54986,0,0,0.72222],"9651":[0,0.54986,0,0,0.72222],"9654":[0.03517,0.54986,0,0,0.77778],"9660":[0,0.54986,0,0,0.72222],"9661":[0,0.54986,0,0,0.72222],"9664":[0.03517,0.54986,0,0,0.77778],"9674":[0.11111,0.69224,0,0,0.66667],"9733":[0.19444,0.69224,0,0,0.94445],"10003":[0,0.69224,0,0,0.83334],"10016":[0,0.69224,0,0,0.83334],"10731":[0.11111,0.69224,0,0,0.66667],"10846":[0.19444,0.75583,0,0,0.61111],"10877":[0.13667,0.63667,0,0,0.77778],"10878":[0.13667,0.63667,0,0,0.77778],"10885":[0.25583,0.75583,0,0,0.77778],"10886":[0.25583,0.75583,0,0,0.77778],"10887":[0.13597,0.63597,0,0,0.77778],"10888":[0.13597,0.63597,0,0,0.77778],"10889":[0.26167,0.75726,0,0,0.77778],"10890":[0.26167,0.75726,0,0,0.77778],"10891":[0.48256,0.98256,0,0,0.77778],"10892":[0.48256,0.98256,0,0,0.77778],"10901":[0.13667,0.63667,0,0,0.77778],"10902":[0.13667,0.63667,0,0,0.77778],"10933":[0.25142,0.75726,0,0,0.77778],"10934":[0.25142,0.75726,0,0,0.77778],"10935":[0.26167,0.75726,0,0,0.77778],"10936":[0.26167,0.75726,0,0,0.77778],"10937":[0.26167,0.75726,0,0,0.77778],"10938":[0.26167,0.75726,0,0,0.77778],"10949":[0.25583,0.75583,0,0,0.77778],"10950":[0.25583,0.75583,0,0,0.77778],"10955":[0.28481,0.79383,0,0,0.77778],"10956":[0.28481,0.79383,0,0,0.77778],"57350":[0.08167,0.58167,0,0,0.22222],"57351":[0.08167,0.58167,0,0,0.38889],"57352":[0.08167,0.58167,0,0,0.77778],"57353":[0,0.43056,0.04028,0,0.66667],"57356":[0.25142,0.75726,0,0,0.77778],"57357":[0.25142,0.75726,0,0,0.77778],"57358":[0.41951,0.91951,0,0,0.77778],"57359":[0.30274,0.79383,0,0,0.77778],"57360":[0.30274,0.79383,0,0,0.77778],"57361":[0.41951,0.91951,0,0,0.77778],"57366":[0.25142,0.75726,0,0,0.77778],"57367":[0.25142,0.75726,0,0,0.77778],"57368":[0.25142,0.75726,0,0,0.77778],"57369":[0.25142,0.75726,0,0,0.77778],"57370":[0.13597,0.63597,0,0,0.77778],"57371":[0.13597,0.63597,0,0,0.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68333,0,0.19445,0.79847],"66":[0,0.68333,0.03041,0.13889,0.65681],"67":[0,0.68333,0.05834,0.13889,0.52653],"68":[0,0.68333,0.02778,0.08334,0.77139],"69":[0,0.68333,0.08944,0.11111,0.52778],"70":[0,0.68333,0.09931,0.11111,0.71875],"71":[0.09722,0.68333,0.0593,0.11111,0.59487],"72":[0,0.68333,0.00965,0.11111,0.84452],"73":[0,0.68333,0.07382,0,0.54452],"74":[0.09722,0.68333,0.18472,0.16667,0.67778],"75":[0,0.68333,0.01445,0.05556,0.76195],"76":[0,0.68333,0,0.13889,0.68972],"77":[0,0.68333,0,0.13889,1.2009],"78":[0,0.68333,0.14736,0.08334,0.82049],"79":[0,0.68333,0.02778,0.11111,0.79611],"80":[0,0.68333,0.08222,0.08334,0.69556],"81":[0.09722,0.68333,0,0.11111,0.81667],"82":[0,0.68333,0,0.08334,0.8475],"83":[0,0.68333,0.075,0.13889,0.60556],"84":[0,0.68333,0.25417,0,0.54464],"85":[0,0.68333,0.09931,0.08334,0.62583],"86":[0,0.68333,0.08222,0,0.61278],"87":[0,0.68333,0.08222,0.08334,0.98778],"88":[0,0.68333,0.14643,0.13889,0.7133],"89":[0.09722,0.68333,0.08222,0.08334,0.66834],"90":[0,0.68333,0.07944,0.13889,0.72473],"160":[0,0,0,0,0.25]},"Fraktur-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69141,0,0,0.29574],"34":[0,0.69141,0,0,0.21471],"38":[0,0.69141,0,0,0.73786],"39":[0,0.69141,0,0,0.21201],"40":[0.24982,0.74947,0,0,0.38865],"41":[0.24982,0.74947,0,0,0.38865],"42":[0,0.62119,0,0,0.27764],"43":[0.08319,0.58283,0,0,0.75623],"44":[0,0.10803,0,0,0.27764],"45":[0.08319,0.58283,0,0,0.75623],"46":[0,0.10803,0,0,0.27764],"47":[0.24982,0.74947,0,0,0.50181],"48":[0,0.47534,0,0,0.50181],"49":[0,0.47534,0,0,0.50181],"50":[0,0.47534,0,0,0.50181],"51":[0.18906,0.47534,0,0,0.50181],"52":[0.18906,0.47534,0,0,0.50181],"53":[0.18906,0.47534,0,0,0.50181],"54":[0,0.69141,0,0,0.50181],"55":[0.18906,0.47534,0,0,0.50181],"56":[0,0.69141,0,0,0.50181],"57":[0.18906,0.47534,0,0,0.50181],"58":[0,0.47534,0,0,0.21606],"59":[0.12604,0.47534,0,0,0.21606],"61":[-0.13099,0.36866,0,0,0.75623],"63":[0,0.69141,0,0,0.36245],"65":[0,0.69141,0,0,0.7176],"66":[0,0.69141,0,0,0.88397],"67":[0,0.69141,0,0,0.61254],"68":[0,0.69141,0,0,0.83158],"69":[0,0.69141,0,0,0.66278],"70":[0.12604,0.69141,0,0,0.61119],"71":[0,0.69141,0,0,0.78539],"72":[0.06302,0.69141,0,0,0.7203],"73":[0,0.69141,0,0,0.55448],"74":[0.12604,0.69141,0,0,0.55231],"75":[0,0.69141,0,0,0.66845],"76":[0,0.69141,0,0,0.66602],"77":[0,0.69141,0,0,1.04953],"78":[0,0.69141,0,0,0.83212],"79":[0,0.69141,0,0,0.82699],"80":[0.18906,0.69141,0,0,0.82753],"81":[0.03781,0.69141,0,0,0.82699],"82":[0,0.69141,0,0,0.82807],"83":[0,0.69141,0,0,0.82861],"84":[0,0.69141,0,0,0.66899],"85":[0,0.69141,0,0,0.64576],"86":[0,0.69141,0,0,0.83131],"87":[0,0.69141,0,0,1.04602],"88":[0,0.69141,0,0,0.71922],"89":[0.18906,0.69141,0,0,0.83293],"90":[0.12604,0.69141,0,0,0.60201],"91":[0.24982,0.74947,0,0,0.27764],"93":[0.24982,0.74947,0,0,0.27764],"94":[0,0.69141,0,0,0.49965],"97":[0,0.47534,0,0,0.50046],"98":[0,0.69141,0,0,0.51315],"99":[0,0.47534,0,0,0.38946],"100":[0,0.62119,0,0,0.49857],"101":[0,0.47534,0,0,0.40053],"102":[0.18906,0.69141,0,0,0.32626],"103":[0.18906,0.47534,0,0,0.5037],"104":[0.18906,0.69141,0,0,0.52126],"105":[0,0.69141,0,0,0.27899],"106":[0,0.69141,0,0,0.28088],"107":[0,0.69141,0,0,0.38946],"108":[0,0.69141,0,0,0.27953],"109":[0,0.47534,0,0,0.76676],"110":[0,0.47534,0,0,0.52666],"111":[0,0.47534,0,0,0.48885],"112":[0.18906,0.52396,0,0,0.50046],"113":[0.18906,0.47534,0,0,0.48912],"114":[0,0.47534,0,0,0.38919],"115":[0,0.47534,0,0,0.44266],"116":[0,0.62119,0,0,0.33301],"117":[0,0.47534,0,0,0.5172],"118":[0,0.52396,0,0,0.5118],"119":[0,0.52396,0,0,0.77351],"120":[0.18906,0.47534,0,0,0.38865],"121":[0.18906,0.47534,0,0,0.49884],"122":[0.18906,0.47534,0,0,0.39054],"160":[0,0,0,0,0.25],"8216":[0,0.69141,0,0,0.21471],"8217":[0,0.69141,0,0,0.21471],"58112":[0,0.62119,0,0,0.49749],"58113":[0,0.62119,0,0,0.4983],"58114":[0.18906,0.69141,0,0,0.33328],"58115":[0.18906,0.69141,0,0,0.32923],"58116":[0.18906,0.47534,0,0,0.50343],"58117":[0,0.69141,0,0,0.33301],"58118":[0,0.62119,0,0,0.33409],"58119":[0,0.47534,0,0,0.50073]},"Main-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.35],"34":[0,0.69444,0,0,0.60278],"35":[0.19444,0.69444,0,0,0.95833],"36":[0.05556,0.75,0,0,0.575],"37":[0.05556,0.75,0,0,0.95833],"38":[0,0.69444,0,0,0.89444],"39":[0,0.69444,0,0,0.31944],"40":[0.25,0.75,0,0,0.44722],"41":[0.25,0.75,0,0,0.44722],"42":[0,0.75,0,0,0.575],"43":[0.13333,0.63333,0,0,0.89444],"44":[0.19444,0.15556,0,0,0.31944],"45":[0,0.44444,0,0,0.38333],"46":[0,0.15556,0,0,0.31944],"47":[0.25,0.75,0,0,0.575],"48":[0,0.64444,0,0,0.575],"49":[0,0.64444,0,0,0.575],"50":[0,0.64444,0,0,0.575],"51":[0,0.64444,0,0,0.575],"52":[0,0.64444,0,0,0.575],"53":[0,0.64444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0,0.64444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0,0.64444,0,0,0.575],"58":[0,0.44444,0,0,0.31944],"59":[0.19444,0.44444,0,0,0.31944],"60":[0.08556,0.58556,0,0,0.89444],"61":[-0.10889,0.39111,0,0,0.89444],"62":[0.08556,0.58556,0,0,0.89444],"63":[0,0.69444,0,0,0.54305],"64":[0,0.69444,0,0,0.89444],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0,0,0.81805],"67":[0,0.68611,0,0,0.83055],"68":[0,0.68611,0,0,0.88194],"69":[0,0.68611,0,0,0.75555],"70":[0,0.68611,0,0,0.72361],"71":[0,0.68611,0,0,0.90416],"72":[0,0.68611,0,0,0.9],"73":[0,0.68611,0,0,0.43611],"74":[0,0.68611,0,0,0.59444],"75":[0,0.68611,0,0,0.90138],"76":[0,0.68611,0,0,0.69166],"77":[0,0.68611,0,0,1.09166],"78":[0,0.68611,0,0,0.9],"79":[0,0.68611,0,0,0.86388],"80":[0,0.68611,0,0,0.78611],"81":[0.19444,0.68611,0,0,0.86388],"82":[0,0.68611,0,0,0.8625],"83":[0,0.68611,0,0,0.63889],"84":[0,0.68611,0,0,0.8],"85":[0,0.68611,0,0,0.88472],"86":[0,0.68611,0.01597,0,0.86944],"87":[0,0.68611,0.01597,0,1.18888],"88":[0,0.68611,0,0,0.86944],"89":[0,0.68611,0.02875,0,0.86944],"90":[0,0.68611,0,0,0.70277],"91":[0.25,0.75,0,0,0.31944],"92":[0.25,0.75,0,0,0.575],"93":[0.25,0.75,0,0,0.31944],"94":[0,0.69444,0,0,0.575],"95":[0.31,0.13444,0.03194,0,0.575],"97":[0,0.44444,0,0,0.55902],"98":[0,0.69444,0,0,0.63889],"99":[0,0.44444,0,0,0.51111],"100":[0,0.69444,0,0,0.63889],"101":[0,0.44444,0,0,0.52708],"102":[0,0.69444,0.10903,0,0.35139],"103":[0.19444,0.44444,0.01597,0,0.575],"104":[0,0.69444,0,0,0.63889],"105":[0,0.69444,0,0,0.31944],"106":[0.19444,0.69444,0,0,0.35139],"107":[0,0.69444,0,0,0.60694],"108":[0,0.69444,0,0,0.31944],"109":[0,0.44444,0,0,0.95833],"110":[0,0.44444,0,0,0.63889],"111":[0,0.44444,0,0,0.575],"112":[0.19444,0.44444,0,0,0.63889],"113":[0.19444,0.44444,0,0,0.60694],"114":[0,0.44444,0,0,0.47361],"115":[0,0.44444,0,0,0.45361],"116":[0,0.63492,0,0,0.44722],"117":[0,0.44444,0,0,0.63889],"118":[0,0.44444,0.01597,0,0.60694],"119":[0,0.44444,0.01597,0,0.83055],"120":[0,0.44444,0,0,0.60694],"121":[0.19444,0.44444,0.01597,0,0.60694],"122":[0,0.44444,0,0,0.51111],"123":[0.25,0.75,0,0,0.575],"124":[0.25,0.75,0,0,0.31944],"125":[0.25,0.75,0,0,0.575],"126":[0.35,0.34444,0,0,0.575],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.86853],"168":[0,0.69444,0,0,0.575],"172":[0,0.44444,0,0,0.76666],"176":[0,0.69444,0,0,0.86944],"177":[0.13333,0.63333,0,0,0.89444],"184":[0.17014,0,0,0,0.51111],"198":[0,0.68611,0,0,1.04166],"215":[0.13333,0.63333,0,0,0.89444],"216":[0.04861,0.73472,0,0,0.89444],"223":[0,0.69444,0,0,0.59722],"230":[0,0.44444,0,0,0.83055],"247":[0.13333,0.63333,0,0,0.89444],"248":[0.09722,0.54167,0,0,0.575],"305":[0,0.44444,0,0,0.31944],"338":[0,0.68611,0,0,1.16944],"339":[0,0.44444,0,0,0.89444],"567":[0.19444,0.44444,0,0,0.35139],"710":[0,0.69444,0,0,0.575],"711":[0,0.63194,0,0,0.575],"713":[0,0.59611,0,0,0.575],"714":[0,0.69444,0,0,0.575],"715":[0,0.69444,0,0,0.575],"728":[0,0.69444,0,0,0.575],"729":[0,0.69444,0,0,0.31944],"730":[0,0.69444,0,0,0.86944],"732":[0,0.69444,0,0,0.575],"733":[0,0.69444,0,0,0.575],"915":[0,0.68611,0,0,0.69166],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0,0,0.89444],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0,0,0.76666],"928":[0,0.68611,0,0,0.9],"931":[0,0.68611,0,0,0.83055],"933":[0,0.68611,0,0,0.89444],"934":[0,0.68611,0,0,0.83055],"936":[0,0.68611,0,0,0.89444],"937":[0,0.68611,0,0,0.83055],"8211":[0,0.44444,0.03194,0,0.575],"8212":[0,0.44444,0.03194,0,1.14999],"8216":[0,0.69444,0,0,0.31944],"8217":[0,0.69444,0,0,0.31944],"8220":[0,0.69444,0,0,0.60278],"8221":[0,0.69444,0,0,0.60278],"8224":[0.19444,0.69444,0,0,0.51111],"8225":[0.19444,0.69444,0,0,0.51111],"8242":[0,0.55556,0,0,0.34444],"8407":[0,0.72444,0.15486,0,0.575],"8463":[0,0.69444,0,0,0.66759],"8465":[0,0.69444,0,0,0.83055],"8467":[0,0.69444,0,0,0.47361],"8472":[0.19444,0.44444,0,0,0.74027],"8476":[0,0.69444,0,0,0.83055],"8501":[0,0.69444,0,0,0.70277],"8592":[-0.10889,0.39111,0,0,1.14999],"8593":[0.19444,0.69444,0,0,0.575],"8594":[-0.10889,0.39111,0,0,1.14999],"8595":[0.19444,0.69444,0,0,0.575],"8596":[-0.10889,0.39111,0,0,1.14999],"8597":[0.25,0.75,0,0,0.575],"8598":[0.19444,0.69444,0,0,1.14999],"8599":[0.19444,0.69444,0,0,1.14999],"8600":[0.19444,0.69444,0,0,1.14999],"8601":[0.19444,0.69444,0,0,1.14999],"8636":[-0.10889,0.39111,0,0,1.14999],"8637":[-0.10889,0.39111,0,0,1.14999],"8640":[-0.10889,0.39111,0,0,1.14999],"8641":[-0.10889,0.39111,0,0,1.14999],"8656":[-0.10889,0.39111,0,0,1.14999],"8657":[0.19444,0.69444,0,0,0.70277],"8658":[-0.10889,0.39111,0,0,1.14999],"8659":[0.19444,0.69444,0,0,0.70277],"8660":[-0.10889,0.39111,0,0,1.14999],"8661":[0.25,0.75,0,0,0.70277],"8704":[0,0.69444,0,0,0.63889],"8706":[0,0.69444,0.06389,0,0.62847],"8707":[0,0.69444,0,0,0.63889],"8709":[0.05556,0.75,0,0,0.575],"8711":[0,0.68611,0,0,0.95833],"8712":[0.08556,0.58556,0,0,0.76666],"8715":[0.08556,0.58556,0,0,0.76666],"8722":[0.13333,0.63333,0,0,0.89444],"8723":[0.13333,0.63333,0,0,0.89444],"8725":[0.25,0.75,0,0,0.575],"8726":[0.25,0.75,0,0,0.575],"8727":[-0.02778,0.47222,0,0,0.575],"8728":[-0.02639,0.47361,0,0,0.575],"8729":[-0.02639,0.47361,0,0,0.575],"8730":[0.18,0.82,0,0,0.95833],"8733":[0,0.44444,0,0,0.89444],"8734":[0,0.44444,0,0,1.14999],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.31944],"8741":[0.25,0.75,0,0,0.575],"8743":[0,0.55556,0,0,0.76666],"8744":[0,0.55556,0,0,0.76666],"8745":[0,0.55556,0,0,0.76666],"8746":[0,0.55556,0,0,0.76666],"8747":[0.19444,0.69444,0.12778,0,0.56875],"8764":[-0.10889,0.39111,0,0,0.89444],"8768":[0.19444,0.69444,0,0,0.31944],"8771":[0.00222,0.50222,0,0,0.89444],"8773":[0.027,0.638,0,0,0.894],"8776":[0.02444,0.52444,0,0,0.89444],"8781":[0.00222,0.50222,0,0,0.89444],"8801":[0.00222,0.50222,0,0,0.89444],"8804":[0.19667,0.69667,0,0,0.89444],"8805":[0.19667,0.69667,0,0,0.89444],"8810":[0.08556,0.58556,0,0,1.14999],"8811":[0.08556,0.58556,0,0,1.14999],"8826":[0.08556,0.58556,0,0,0.89444],"8827":[0.08556,0.58556,0,0,0.89444],"8834":[0.08556,0.58556,0,0,0.89444],"8835":[0.08556,0.58556,0,0,0.89444],"8838":[0.19667,0.69667,0,0,0.89444],"8839":[0.19667,0.69667,0,0,0.89444],"8846":[0,0.55556,0,0,0.76666],"8849":[0.19667,0.69667,0,0,0.89444],"8850":[0.19667,0.69667,0,0,0.89444],"8851":[0,0.55556,0,0,0.76666],"8852":[0,0.55556,0,0,0.76666],"8853":[0.13333,0.63333,0,0,0.89444],"8854":[0.13333,0.63333,0,0,0.89444],"8855":[0.13333,0.63333,0,0,0.89444],"8856":[0.13333,0.63333,0,0,0.89444],"8857":[0.13333,0.63333,0,0,0.89444],"8866":[0,0.69444,0,0,0.70277],"8867":[0,0.69444,0,0,0.70277],"8868":[0,0.69444,0,0,0.89444],"8869":[0,0.69444,0,0,0.89444],"8900":[-0.02639,0.47361,0,0,0.575],"8901":[-0.02639,0.47361,0,0,0.31944],"8902":[-0.02778,0.47222,0,0,0.575],"8968":[0.25,0.75,0,0,0.51111],"8969":[0.25,0.75,0,0,0.51111],"8970":[0.25,0.75,0,0,0.51111],"8971":[0.25,0.75,0,0,0.51111],"8994":[-0.13889,0.36111,0,0,1.14999],"8995":[-0.13889,0.36111,0,0,1.14999],"9651":[0.19444,0.69444,0,0,1.02222],"9657":[-0.02778,0.47222,0,0,0.575],"9661":[0.19444,0.69444,0,0,1.02222],"9667":[-0.02778,0.47222,0,0,0.575],"9711":[0.19444,0.69444,0,0,1.14999],"9824":[0.12963,0.69444,0,0,0.89444],"9825":[0.12963,0.69444,0,0,0.89444],"9826":[0.12963,0.69444,0,0,0.89444],"9827":[0.12963,0.69444,0,0,0.89444],"9837":[0,0.75,0,0,0.44722],"9838":[0.19444,0.69444,0,0,0.44722],"9839":[0.19444,0.69444,0,0,0.44722],"10216":[0.25,0.75,0,0,0.44722],"10217":[0.25,0.75,0,0,0.44722],"10815":[0,0.68611,0,0,0.9],"10927":[0.19667,0.69667,0,0,0.89444],"10928":[0.19667,0.69667,0,0,0.89444],"57376":[0.19444,0.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.11417,0,0.38611],"34":[0,0.69444,0.07939,0,0.62055],"35":[0.19444,0.69444,0.06833,0,0.94444],"37":[0.05556,0.75,0.12861,0,0.94444],"38":[0,0.69444,0.08528,0,0.88555],"39":[0,0.69444,0.12945,0,0.35555],"40":[0.25,0.75,0.15806,0,0.47333],"41":[0.25,0.75,0.03306,0,0.47333],"42":[0,0.75,0.14333,0,0.59111],"43":[0.10333,0.60333,0.03306,0,0.88555],"44":[0.19444,0.14722,0,0,0.35555],"45":[0,0.44444,0.02611,0,0.41444],"46":[0,0.14722,0,0,0.35555],"47":[0.25,0.75,0.15806,0,0.59111],"48":[0,0.64444,0.13167,0,0.59111],"49":[0,0.64444,0.13167,0,0.59111],"50":[0,0.64444,0.13167,0,0.59111],"51":[0,0.64444,0.13167,0,0.59111],"52":[0.19444,0.64444,0.13167,0,0.59111],"53":[0,0.64444,0.13167,0,0.59111],"54":[0,0.64444,0.13167,0,0.59111],"55":[0.19444,0.64444,0.13167,0,0.59111],"56":[0,0.64444,0.13167,0,0.59111],"57":[0,0.64444,0.13167,0,0.59111],"58":[0,0.44444,0.06695,0,0.35555],"59":[0.19444,0.44444,0.06695,0,0.35555],"61":[-0.10889,0.39111,0.06833,0,0.88555],"63":[0,0.69444,0.11472,0,0.59111],"64":[0,0.69444,0.09208,0,0.88555],"65":[0,0.68611,0,0,0.86555],"66":[0,0.68611,0.0992,0,0.81666],"67":[0,0.68611,0.14208,0,0.82666],"68":[0,0.68611,0.09062,0,0.87555],"69":[0,0.68611,0.11431,0,0.75666],"70":[0,0.68611,0.12903,0,0.72722],"71":[0,0.68611,0.07347,0,0.89527],"72":[0,0.68611,0.17208,0,0.8961],"73":[0,0.68611,0.15681,0,0.47166],"74":[0,0.68611,0.145,0,0.61055],"75":[0,0.68611,0.14208,0,0.89499],"76":[0,0.68611,0,0,0.69777],"77":[0,0.68611,0.17208,0,1.07277],"78":[0,0.68611,0.17208,0,0.8961],"79":[0,0.68611,0.09062,0,0.85499],"80":[0,0.68611,0.0992,0,0.78721],"81":[0.19444,0.68611,0.09062,0,0.85499],"82":[0,0.68611,0.02559,0,0.85944],"83":[0,0.68611,0.11264,0,0.64999],"84":[0,0.68611,0.12903,0,0.7961],"85":[0,0.68611,0.17208,0,0.88083],"86":[0,0.68611,0.18625,0,0.86555],"87":[0,0.68611,0.18625,0,1.15999],"88":[0,0.68611,0.15681,0,0.86555],"89":[0,0.68611,0.19803,0,0.86555],"90":[0,0.68611,0.14208,0,0.70888],"91":[0.25,0.75,0.1875,0,0.35611],"93":[0.25,0.75,0.09972,0,0.35611],"94":[0,0.69444,0.06709,0,0.59111],"95":[0.31,0.13444,0.09811,0,0.59111],"97":[0,0.44444,0.09426,0,0.59111],"98":[0,0.69444,0.07861,0,0.53222],"99":[0,0.44444,0.05222,0,0.53222],"100":[0,0.69444,0.10861,0,0.59111],"101":[0,0.44444,0.085,0,0.53222],"102":[0.19444,0.69444,0.21778,0,0.4],"103":[0.19444,0.44444,0.105,0,0.53222],"104":[0,0.69444,0.09426,0,0.59111],"105":[0,0.69326,0.11387,0,0.35555],"106":[0.19444,0.69326,0.1672,0,0.35555],"107":[0,0.69444,0.11111,0,0.53222],"108":[0,0.69444,0.10861,0,0.29666],"109":[0,0.44444,0.09426,0,0.94444],"110":[0,0.44444,0.09426,0,0.64999],"111":[0,0.44444,0.07861,0,0.59111],"112":[0.19444,0.44444,0.07861,0,0.59111],"113":[0.19444,0.44444,0.105,0,0.53222],"114":[0,0.44444,0.11111,0,0.50167],"115":[0,0.44444,0.08167,0,0.48694],"116":[0,0.63492,0.09639,0,0.385],"117":[0,0.44444,0.09426,0,0.62055],"118":[0,0.44444,0.11111,0,0.53222],"119":[0,0.44444,0.11111,0,0.76777],"120":[0,0.44444,0.12583,0,0.56055],"121":[0.19444,0.44444,0.105,0,0.56166],"122":[0,0.44444,0.13889,0,0.49055],"126":[0.35,0.34444,0.11472,0,0.59111],"160":[0,0,0,0,0.25],"168":[0,0.69444,0.11473,0,0.59111],"176":[0,0.69444,0,0,0.94888],"184":[0.17014,0,0,0,0.53222],"198":[0,0.68611,0.11431,0,1.02277],"216":[0.04861,0.73472,0.09062,0,0.88555],"223":[0.19444,0.69444,0.09736,0,0.665],"230":[0,0.44444,0.085,0,0.82666],"248":[0.09722,0.54167,0.09458,0,0.59111],"305":[0,0.44444,0.09426,0,0.35555],"338":[0,0.68611,0.11431,0,1.14054],"339":[0,0.44444,0.085,0,0.82666],"567":[0.19444,0.44444,0.04611,0,0.385],"710":[0,0.69444,0.06709,0,0.59111],"711":[0,0.63194,0.08271,0,0.59111],"713":[0,0.59444,0.10444,0,0.59111],"714":[0,0.69444,0.08528,0,0.59111],"715":[0,0.69444,0,0,0.59111],"728":[0,0.69444,0.10333,0,0.59111],"729":[0,0.69444,0.12945,0,0.35555],"730":[0,0.69444,0,0,0.94888],"732":[0,0.69444,0.11472,0,0.59111],"733":[0,0.69444,0.11472,0,0.59111],"915":[0,0.68611,0.12903,0,0.69777],"916":[0,0.68611,0,0,0.94444],"920":[0,0.68611,0.09062,0,0.88555],"923":[0,0.68611,0,0,0.80666],"926":[0,0.68611,0.15092,0,0.76777],"928":[0,0.68611,0.17208,0,0.8961],"931":[0,0.68611,0.11431,0,0.82666],"933":[0,0.68611,0.10778,0,0.88555],"934":[0,0.68611,0.05632,0,0.82666],"936":[0,0.68611,0.10778,0,0.88555],"937":[0,0.68611,0.0992,0,0.82666],"8211":[0,0.44444,0.09811,0,0.59111],"8212":[0,0.44444,0.09811,0,1.18221],"8216":[0,0.69444,0.12945,0,0.35555],"8217":[0,0.69444,0.12945,0,0.35555],"8220":[0,0.69444,0.16772,0,0.62055],"8221":[0,0.69444,0.07939,0,0.62055]},"Main-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.12417,0,0.30667],"34":[0,0.69444,0.06961,0,0.51444],"35":[0.19444,0.69444,0.06616,0,0.81777],"37":[0.05556,0.75,0.13639,0,0.81777],"38":[0,0.69444,0.09694,0,0.76666],"39":[0,0.69444,0.12417,0,0.30667],"40":[0.25,0.75,0.16194,0,0.40889],"41":[0.25,0.75,0.03694,0,0.40889],"42":[0,0.75,0.14917,0,0.51111],"43":[0.05667,0.56167,0.03694,0,0.76666],"44":[0.19444,0.10556,0,0,0.30667],"45":[0,0.43056,0.02826,0,0.35778],"46":[0,0.10556,0,0,0.30667],"47":[0.25,0.75,0.16194,0,0.51111],"48":[0,0.64444,0.13556,0,0.51111],"49":[0,0.64444,0.13556,0,0.51111],"50":[0,0.64444,0.13556,0,0.51111],"51":[0,0.64444,0.13556,0,0.51111],"52":[0.19444,0.64444,0.13556,0,0.51111],"53":[0,0.64444,0.13556,0,0.51111],"54":[0,0.64444,0.13556,0,0.51111],"55":[0.19444,0.64444,0.13556,0,0.51111],"56":[0,0.64444,0.13556,0,0.51111],"57":[0,0.64444,0.13556,0,0.51111],"58":[0,0.43056,0.0582,0,0.30667],"59":[0.19444,0.43056,0.0582,0,0.30667],"61":[-0.13313,0.36687,0.06616,0,0.76666],"63":[0,0.69444,0.1225,0,0.51111],"64":[0,0.69444,0.09597,0,0.76666],"65":[0,0.68333,0,0,0.74333],"66":[0,0.68333,0.10257,0,0.70389],"67":[0,0.68333,0.14528,0,0.71555],"68":[0,0.68333,0.09403,0,0.755],"69":[0,0.68333,0.12028,0,0.67833],"70":[0,0.68333,0.13305,0,0.65277],"71":[0,0.68333,0.08722,0,0.77361],"72":[0,0.68333,0.16389,0,0.74333],"73":[0,0.68333,0.15806,0,0.38555],"74":[0,0.68333,0.14028,0,0.525],"75":[0,0.68333,0.14528,0,0.76888],"76":[0,0.68333,0,0,0.62722],"77":[0,0.68333,0.16389,0,0.89666],"78":[0,0.68333,0.16389,0,0.74333],"79":[0,0.68333,0.09403,0,0.76666],"80":[0,0.68333,0.10257,0,0.67833],"81":[0.19444,0.68333,0.09403,0,0.76666],"82":[0,0.68333,0.03868,0,0.72944],"83":[0,0.68333,0.11972,0,0.56222],"84":[0,0.68333,0.13305,0,0.71555],"85":[0,0.68333,0.16389,0,0.74333],"86":[0,0.68333,0.18361,0,0.74333],"87":[0,0.68333,0.18361,0,0.99888],"88":[0,0.68333,0.15806,0,0.74333],"89":[0,0.68333,0.19383,0,0.74333],"90":[0,0.68333,0.14528,0,0.61333],"91":[0.25,0.75,0.1875,0,0.30667],"93":[0.25,0.75,0.10528,0,0.30667],"94":[0,0.69444,0.06646,0,0.51111],"95":[0.31,0.12056,0.09208,0,0.51111],"97":[0,0.43056,0.07671,0,0.51111],"98":[0,0.69444,0.06312,0,0.46],"99":[0,0.43056,0.05653,0,0.46],"100":[0,0.69444,0.10333,0,0.51111],"101":[0,0.43056,0.07514,0,0.46],"102":[0.19444,0.69444,0.21194,0,0.30667],"103":[0.19444,0.43056,0.08847,0,0.46],"104":[0,0.69444,0.07671,0,0.51111],"105":[0,0.65536,0.1019,0,0.30667],"106":[0.19444,0.65536,0.14467,0,0.30667],"107":[0,0.69444,0.10764,0,0.46],"108":[0,0.69444,0.10333,0,0.25555],"109":[0,0.43056,0.07671,0,0.81777],"110":[0,0.43056,0.07671,0,0.56222],"111":[0,0.43056,0.06312,0,0.51111],"112":[0.19444,0.43056,0.06312,0,0.51111],"113":[0.19444,0.43056,0.08847,0,0.46],"114":[0,0.43056,0.10764,0,0.42166],"115":[0,0.43056,0.08208,0,0.40889],"116":[0,0.61508,0.09486,0,0.33222],"117":[0,0.43056,0.07671,0,0.53666],"118":[0,0.43056,0.10764,0,0.46],"119":[0,0.43056,0.10764,0,0.66444],"120":[0,0.43056,0.12042,0,0.46389],"121":[0.19444,0.43056,0.08847,0,0.48555],"122":[0,0.43056,0.12292,0,0.40889],"126":[0.35,0.31786,0.11585,0,0.51111],"160":[0,0,0,0,0.25],"168":[0,0.66786,0.10474,0,0.51111],"176":[0,0.69444,0,0,0.83129],"184":[0.17014,0,0,0,0.46],"198":[0,0.68333,0.12028,0,0.88277],"216":[0.04861,0.73194,0.09403,0,0.76666],"223":[0.19444,0.69444,0.10514,0,0.53666],"230":[0,0.43056,0.07514,0,0.71555],"248":[0.09722,0.52778,0.09194,0,0.51111],"338":[0,0.68333,0.12028,0,0.98499],"339":[0,0.43056,0.07514,0,0.71555],"710":[0,0.69444,0.06646,0,0.51111],"711":[0,0.62847,0.08295,0,0.51111],"713":[0,0.56167,0.10333,0,0.51111],"714":[0,0.69444,0.09694,0,0.51111],"715":[0,0.69444,0,0,0.51111],"728":[0,0.69444,0.10806,0,0.51111],"729":[0,0.66786,0.11752,0,0.30667],"730":[0,0.69444,0,0,0.83129],"732":[0,0.66786,0.11585,0,0.51111],"733":[0,0.69444,0.1225,0,0.51111],"915":[0,0.68333,0.13305,0,0.62722],"916":[0,0.68333,0,0,0.81777],"920":[0,0.68333,0.09403,0,0.76666],"923":[0,0.68333,0,0,0.69222],"926":[0,0.68333,0.15294,0,0.66444],"928":[0,0.68333,0.16389,0,0.74333],"931":[0,0.68333,0.12028,0,0.71555],"933":[0,0.68333,0.11111,0,0.76666],"934":[0,0.68333,0.05986,0,0.71555],"936":[0,0.68333,0.11111,0,0.76666],"937":[0,0.68333,0.10257,0,0.71555],"8211":[0,0.43056,0.09208,0,0.51111],"8212":[0,0.43056,0.09208,0,1.02222],"8216":[0,0.69444,0.12417,0,0.30667],"8217":[0,0.69444,0.12417,0,0.30667],"8220":[0,0.69444,0.1685,0,0.51444],"8221":[0,0.69444,0.06961,0,0.51444],"8463":[0,0.68889,0,0,0.54028]},"Main-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.27778],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.77778],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.19444,0.10556,0,0,0.27778],"45":[0,0.43056,0,0,0.33333],"46":[0,0.10556,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.64444,0,0,0.5],"49":[0,0.64444,0,0,0.5],"50":[0,0.64444,0,0,0.5],"51":[0,0.64444,0,0,0.5],"52":[0,0.64444,0,0,0.5],"53":[0,0.64444,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0,0.64444,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0,0.64444,0,0,0.5],"58":[0,0.43056,0,0,0.27778],"59":[0.19444,0.43056,0,0,0.27778],"60":[0.0391,0.5391,0,0,0.77778],"61":[-0.13313,0.36687,0,0,0.77778],"62":[0.0391,0.5391,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.77778],"65":[0,0.68333,0,0,0.75],"66":[0,0.68333,0,0,0.70834],"67":[0,0.68333,0,0,0.72222],"68":[0,0.68333,0,0,0.76389],"69":[0,0.68333,0,0,0.68056],"70":[0,0.68333,0,0,0.65278],"71":[0,0.68333,0,0,0.78472],"72":[0,0.68333,0,0,0.75],"73":[0,0.68333,0,0,0.36111],"74":[0,0.68333,0,0,0.51389],"75":[0,0.68333,0,0,0.77778],"76":[0,0.68333,0,0,0.625],"77":[0,0.68333,0,0,0.91667],"78":[0,0.68333,0,0,0.75],"79":[0,0.68333,0,0,0.77778],"80":[0,0.68333,0,0,0.68056],"81":[0.19444,0.68333,0,0,0.77778],"82":[0,0.68333,0,0,0.73611],"83":[0,0.68333,0,0,0.55556],"84":[0,0.68333,0,0,0.72222],"85":[0,0.68333,0,0,0.75],"86":[0,0.68333,0.01389,0,0.75],"87":[0,0.68333,0.01389,0,1.02778],"88":[0,0.68333,0,0,0.75],"89":[0,0.68333,0.025,0,0.75],"90":[0,0.68333,0,0,0.61111],"91":[0.25,0.75,0,0,0.27778],"92":[0.25,0.75,0,0,0.5],"93":[0.25,0.75,0,0,0.27778],"94":[0,0.69444,0,0,0.5],"95":[0.31,0.12056,0.02778,0,0.5],"97":[0,0.43056,0,0,0.5],"98":[0,0.69444,0,0,0.55556],"99":[0,0.43056,0,0,0.44445],"100":[0,0.69444,0,0,0.55556],"101":[0,0.43056,0,0,0.44445],"102":[0,0.69444,0.07778,0,0.30556],"103":[0.19444,0.43056,0.01389,0,0.5],"104":[0,0.69444,0,0,0.55556],"105":[0,0.66786,0,0,0.27778],"106":[0.19444,0.66786,0,0,0.30556],"107":[0,0.69444,0,0,0.52778],"108":[0,0.69444,0,0,0.27778],"109":[0,0.43056,0,0,0.83334],"110":[0,0.43056,0,0,0.55556],"111":[0,0.43056,0,0,0.5],"112":[0.19444,0.43056,0,0,0.55556],"113":[0.19444,0.43056,0,0,0.52778],"114":[0,0.43056,0,0,0.39167],"115":[0,0.43056,0,0,0.39445],"116":[0,0.61508,0,0,0.38889],"117":[0,0.43056,0,0,0.55556],"118":[0,0.43056,0.01389,0,0.52778],"119":[0,0.43056,0.01389,0,0.72222],"120":[0,0.43056,0,0,0.52778],"121":[0.19444,0.43056,0.01389,0,0.52778],"122":[0,0.43056,0,0,0.44445],"123":[0.25,0.75,0,0,0.5],"124":[0.25,0.75,0,0,0.27778],"125":[0.25,0.75,0,0,0.5],"126":[0.35,0.31786,0,0,0.5],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.76909],"167":[0.19444,0.69444,0,0,0.44445],"168":[0,0.66786,0,0,0.5],"172":[0,0.43056,0,0,0.66667],"176":[0,0.69444,0,0,0.75],"177":[0.08333,0.58333,0,0,0.77778],"182":[0.19444,0.69444,0,0,0.61111],"184":[0.17014,0,0,0,0.44445],"198":[0,0.68333,0,0,0.90278],"215":[0.08333,0.58333,0,0,0.77778],"216":[0.04861,0.73194,0,0,0.77778],"223":[0,0.69444,0,0,0.5],"230":[0,0.43056,0,0,0.72222],"247":[0.08333,0.58333,0,0,0.77778],"248":[0.09722,0.52778,0,0,0.5],"305":[0,0.43056,0,0,0.27778],"338":[0,0.68333,0,0,1.01389],"339":[0,0.43056,0,0,0.77778],"567":[0.19444,0.43056,0,0,0.30556],"710":[0,0.69444,0,0,0.5],"711":[0,0.62847,0,0,0.5],"713":[0,0.56778,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.66786,0,0,0.27778],"730":[0,0.69444,0,0,0.75],"732":[0,0.66786,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.68333,0,0,0.625],"916":[0,0.68333,0,0,0.83334],"920":[0,0.68333,0,0,0.77778],"923":[0,0.68333,0,0,0.69445],"926":[0,0.68333,0,0,0.66667],"928":[0,0.68333,0,0,0.75],"931":[0,0.68333,0,0,0.72222],"933":[0,0.68333,0,0,0.77778],"934":[0,0.68333,0,0,0.72222],"936":[0,0.68333,0,0,0.77778],"937":[0,0.68333,0,0,0.72222],"8211":[0,0.43056,0.02778,0,0.5],"8212":[0,0.43056,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5],"8224":[0.19444,0.69444,0,0,0.44445],"8225":[0.19444,0.69444,0,0,0.44445],"8230":[0,0.123,0,0,1.172],"8242":[0,0.55556,0,0,0.275],"8407":[0,0.71444,0.15382,0,0.5],"8463":[0,0.68889,0,0,0.54028],"8465":[0,0.69444,0,0,0.72222],"8467":[0,0.69444,0,0.11111,0.41667],"8472":[0.19444,0.43056,0,0.11111,0.63646],"8476":[0,0.69444,0,0,0.72222],"8501":[0,0.69444,0,0,0.61111],"8592":[-0.13313,0.36687,0,0,1],"8593":[0.19444,0.69444,0,0,0.5],"8594":[-0.13313,0.36687,0,0,1],"8595":[0.19444,0.69444,0,0,0.5],"8596":[-0.13313,0.36687,0,0,1],"8597":[0.25,0.75,0,0,0.5],"8598":[0.19444,0.69444,0,0,1],"8599":[0.19444,0.69444,0,0,1],"8600":[0.19444,0.69444,0,0,1],"8601":[0.19444,0.69444,0,0,1],"8614":[0.011,0.511,0,0,1],"8617":[0.011,0.511,0,0,1.126],"8618":[0.011,0.511,0,0,1.126],"8636":[-0.13313,0.36687,0,0,1],"8637":[-0.13313,0.36687,0,0,1],"8640":[-0.13313,0.36687,0,0,1],"8641":[-0.13313,0.36687,0,0,1],"8652":[0.011,0.671,0,0,1],"8656":[-0.13313,0.36687,0,0,1],"8657":[0.19444,0.69444,0,0,0.61111],"8658":[-0.13313,0.36687,0,0,1],"8659":[0.19444,0.69444,0,0,0.61111],"8660":[-0.13313,0.36687,0,0,1],"8661":[0.25,0.75,0,0,0.61111],"8704":[0,0.69444,0,0,0.55556],"8706":[0,0.69444,0.05556,0.08334,0.5309],"8707":[0,0.69444,0,0,0.55556],"8709":[0.05556,0.75,0,0,0.5],"8711":[0,0.68333,0,0,0.83334],"8712":[0.0391,0.5391,0,0,0.66667],"8715":[0.0391,0.5391,0,0,0.66667],"8722":[0.08333,0.58333,0,0,0.77778],"8723":[0.08333,0.58333,0,0,0.77778],"8725":[0.25,0.75,0,0,0.5],"8726":[0.25,0.75,0,0,0.5],"8727":[-0.03472,0.46528,0,0,0.5],"8728":[-0.05555,0.44445,0,0,0.5],"8729":[-0.05555,0.44445,0,0,0.5],"8730":[0.2,0.8,0,0,0.83334],"8733":[0,0.43056,0,0,0.77778],"8734":[0,0.43056,0,0,1],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.27778],"8741":[0.25,0.75,0,0,0.5],"8743":[0,0.55556,0,0,0.66667],"8744":[0,0.55556,0,0,0.66667],"8745":[0,0.55556,0,0,0.66667],"8746":[0,0.55556,0,0,0.66667],"8747":[0.19444,0.69444,0.11111,0,0.41667],"8764":[-0.13313,0.36687,0,0,0.77778],"8768":[0.19444,0.69444,0,0,0.27778],"8771":[-0.03625,0.46375,0,0,0.77778],"8773":[-0.022,0.589,0,0,0.778],"8776":[-0.01688,0.48312,0,0,0.77778],"8781":[-0.03625,0.46375,0,0,0.77778],"8784":[-0.133,0.673,0,0,0.778],"8801":[-0.03625,0.46375,0,0,0.77778],"8804":[0.13597,0.63597,0,0,0.77778],"8805":[0.13597,0.63597,0,0,0.77778],"8810":[0.0391,0.5391,0,0,1],"8811":[0.0391,0.5391,0,0,1],"8826":[0.0391,0.5391,0,0,0.77778],"8827":[0.0391,0.5391,0,0,0.77778],"8834":[0.0391,0.5391,0,0,0.77778],"8835":[0.0391,0.5391,0,0,0.77778],"8838":[0.13597,0.63597,0,0,0.77778],"8839":[0.13597,0.63597,0,0,0.77778],"8846":[0,0.55556,0,0,0.66667],"8849":[0.13597,0.63597,0,0,0.77778],"8850":[0.13597,0.63597,0,0,0.77778],"8851":[0,0.55556,0,0,0.66667],"8852":[0,0.55556,0,0,0.66667],"8853":[0.08333,0.58333,0,0,0.77778],"8854":[0.08333,0.58333,0,0,0.77778],"8855":[0.08333,0.58333,0,0,0.77778],"8856":[0.08333,0.58333,0,0,0.77778],"8857":[0.08333,0.58333,0,0,0.77778],"8866":[0,0.69444,0,0,0.61111],"8867":[0,0.69444,0,0,0.61111],"8868":[0,0.69444,0,0,0.77778],"8869":[0,0.69444,0,0,0.77778],"8872":[0.249,0.75,0,0,0.867],"8900":[-0.05555,0.44445,0,0,0.5],"8901":[-0.05555,0.44445,0,0,0.27778],"8902":[-0.03472,0.46528,0,0,0.5],"8904":[0.005,0.505,0,0,0.9],"8942":[0.03,0.903,0,0,0.278],"8943":[-0.19,0.313,0,0,1.172],"8945":[-0.1,0.823,0,0,1.282],"8968":[0.25,0.75,0,0,0.44445],"8969":[0.25,0.75,0,0,0.44445],"8970":[0.25,0.75,0,0,0.44445],"8971":[0.25,0.75,0,0,0.44445],"8994":[-0.14236,0.35764,0,0,1],"8995":[-0.14236,0.35764,0,0,1],"9136":[0.244,0.744,0,0,0.412],"9137":[0.244,0.745,0,0,0.412],"9651":[0.19444,0.69444,0,0,0.88889],"9657":[-0.03472,0.46528,0,0,0.5],"9661":[0.19444,0.69444,0,0,0.88889],"9667":[-0.03472,0.46528,0,0,0.5],"9711":[0.19444,0.69444,0,0,1],"9824":[0.12963,0.69444,0,0,0.77778],"9825":[0.12963,0.69444,0,0,0.77778],"9826":[0.12963,0.69444,0,0,0.77778],"9827":[0.12963,0.69444,0,0,0.77778],"9837":[0,0.75,0,0,0.38889],"9838":[0.19444,0.69444,0,0,0.38889],"9839":[0.19444,0.69444,0,0,0.38889],"10216":[0.25,0.75,0,0,0.38889],"10217":[0.25,0.75,0,0,0.38889],"10222":[0.244,0.744,0,0,0.412],"10223":[0.244,0.745,0,0,0.412],"10229":[0.011,0.511,0,0,1.609],"10230":[0.011,0.511,0,0,1.638],"10231":[0.011,0.511,0,0,1.859],"10232":[0.024,0.525,0,0,1.609],"10233":[0.024,0.525,0,0,1.638],"10234":[0.024,0.525,0,0,1.858],"10236":[0.011,0.511,0,0,1.638],"10815":[0,0.68333,0,0,0.75],"10927":[0.13597,0.63597,0,0,0.77778],"10928":[0.13597,0.63597,0,0,0.77778],"57376":[0.19444,0.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,0.25],"48":[0,0.44444,0,0,0.575],"49":[0,0.44444,0,0,0.575],"50":[0,0.44444,0,0,0.575],"51":[0.19444,0.44444,0,0,0.575],"52":[0.19444,0.44444,0,0,0.575],"53":[0.19444,0.44444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0.19444,0.44444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0.19444,0.44444,0,0,0.575],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0.04835,0,0.8664],"67":[0,0.68611,0.06979,0,0.81694],"68":[0,0.68611,0.03194,0,0.93812],"69":[0,0.68611,0.05451,0,0.81007],"70":[0,0.68611,0.15972,0,0.68889],"71":[0,0.68611,0,0,0.88673],"72":[0,0.68611,0.08229,0,0.98229],"73":[0,0.68611,0.07778,0,0.51111],"74":[0,0.68611,0.10069,0,0.63125],"75":[0,0.68611,0.06979,0,0.97118],"76":[0,0.68611,0,0,0.75555],"77":[0,0.68611,0.11424,0,1.14201],"78":[0,0.68611,0.11424,0,0.95034],"79":[0,0.68611,0.03194,0,0.83666],"80":[0,0.68611,0.15972,0,0.72309],"81":[0.19444,0.68611,0,0,0.86861],"82":[0,0.68611,0.00421,0,0.87235],"83":[0,0.68611,0.05382,0,0.69271],"84":[0,0.68611,0.15972,0,0.63663],"85":[0,0.68611,0.11424,0,0.80027],"86":[0,0.68611,0.25555,0,0.67778],"87":[0,0.68611,0.15972,0,1.09305],"88":[0,0.68611,0.07778,0,0.94722],"89":[0,0.68611,0.25555,0,0.67458],"90":[0,0.68611,0.06979,0,0.77257],"97":[0,0.44444,0,0,0.63287],"98":[0,0.69444,0,0,0.52083],"99":[0,0.44444,0,0,0.51342],"100":[0,0.69444,0,0,0.60972],"101":[0,0.44444,0,0,0.55361],"102":[0.19444,0.69444,0.11042,0,0.56806],"103":[0.19444,0.44444,0.03704,0,0.5449],"104":[0,0.69444,0,0,0.66759],"105":[0,0.69326,0,0,0.4048],"106":[0.19444,0.69326,0.0622,0,0.47083],"107":[0,0.69444,0.01852,0,0.6037],"108":[0,0.69444,0.0088,0,0.34815],"109":[0,0.44444,0,0,1.0324],"110":[0,0.44444,0,0,0.71296],"111":[0,0.44444,0,0,0.58472],"112":[0.19444,0.44444,0,0,0.60092],"113":[0.19444,0.44444,0.03704,0,0.54213],"114":[0,0.44444,0.03194,0,0.5287],"115":[0,0.44444,0,0,0.53125],"116":[0,0.63492,0,0,0.41528],"117":[0,0.44444,0,0,0.68102],"118":[0,0.44444,0.03704,0,0.56666],"119":[0,0.44444,0.02778,0,0.83148],"120":[0,0.44444,0,0,0.65903],"121":[0.19444,0.44444,0.03704,0,0.59028],"122":[0,0.44444,0.04213,0,0.55509],"160":[0,0,0,0,0.25],"915":[0,0.68611,0.15972,0,0.65694],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0.03194,0,0.86722],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0.07458,0,0.84125],"928":[0,0.68611,0.08229,0,0.98229],"931":[0,0.68611,0.05451,0,0.88507],"933":[0,0.68611,0.15972,0,0.67083],"934":[0,0.68611,0,0,0.76666],"936":[0,0.68611,0.11653,0,0.71402],"937":[0,0.68611,0.04835,0,0.8789],"945":[0,0.44444,0,0,0.76064],"946":[0.19444,0.69444,0.03403,0,0.65972],"947":[0.19444,0.44444,0.06389,0,0.59003],"948":[0,0.69444,0.03819,0,0.52222],"949":[0,0.44444,0,0,0.52882],"950":[0.19444,0.69444,0.06215,0,0.50833],"951":[0.19444,0.44444,0.03704,0,0.6],"952":[0,0.69444,0.03194,0,0.5618],"953":[0,0.44444,0,0,0.41204],"954":[0,0.44444,0,0,0.66759],"955":[0,0.69444,0,0,0.67083],"956":[0.19444,0.44444,0,0,0.70787],"957":[0,0.44444,0.06898,0,0.57685],"958":[0.19444,0.69444,0.03021,0,0.50833],"959":[0,0.44444,0,0,0.58472],"960":[0,0.44444,0.03704,0,0.68241],"961":[0.19444,0.44444,0,0,0.6118],"962":[0.09722,0.44444,0.07917,0,0.42361],"963":[0,0.44444,0.03704,0,0.68588],"964":[0,0.44444,0.13472,0,0.52083],"965":[0,0.44444,0.03704,0,0.63055],"966":[0.19444,0.44444,0,0,0.74722],"967":[0.19444,0.44444,0,0,0.71805],"968":[0.19444,0.69444,0.03704,0,0.75833],"969":[0,0.44444,0.03704,0,0.71782],"977":[0,0.69444,0,0,0.69155],"981":[0.19444,0.69444,0,0,0.7125],"982":[0,0.44444,0.03194,0,0.975],"1009":[0.19444,0.44444,0,0,0.6118],"1013":[0,0.44444,0,0,0.48333],"57649":[0,0.44444,0,0,0.39352],"57911":[0.19444,0.44444,0,0,0.43889]},"Math-Italic":{"32":[0,0,0,0,0.25],"48":[0,0.43056,0,0,0.5],"49":[0,0.43056,0,0,0.5],"50":[0,0.43056,0,0,0.5],"51":[0.19444,0.43056,0,0,0.5],"52":[0.19444,0.43056,0,0,0.5],"53":[0.19444,0.43056,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0.19444,0.43056,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0.19444,0.43056,0,0,0.5],"65":[0,0.68333,0,0.13889,0.75],"66":[0,0.68333,0.05017,0.08334,0.75851],"67":[0,0.68333,0.07153,0.08334,0.71472],"68":[0,0.68333,0.02778,0.05556,0.82792],"69":[0,0.68333,0.05764,0.08334,0.7382],"70":[0,0.68333,0.13889,0.08334,0.64306],"71":[0,0.68333,0,0.08334,0.78625],"72":[0,0.68333,0.08125,0.05556,0.83125],"73":[0,0.68333,0.07847,0.11111,0.43958],"74":[0,0.68333,0.09618,0.16667,0.55451],"75":[0,0.68333,0.07153,0.05556,0.84931],"76":[0,0.68333,0,0.02778,0.68056],"77":[0,0.68333,0.10903,0.08334,0.97014],"78":[0,0.68333,0.10903,0.08334,0.80347],"79":[0,0.68333,0.02778,0.08334,0.76278],"80":[0,0.68333,0.13889,0.08334,0.64201],"81":[0.19444,0.68333,0,0.08334,0.79056],"82":[0,0.68333,0.00773,0.08334,0.75929],"83":[0,0.68333,0.05764,0.08334,0.6132],"84":[0,0.68333,0.13889,0.08334,0.58438],"85":[0,0.68333,0.10903,0.02778,0.68278],"86":[0,0.68333,0.22222,0,0.58333],"87":[0,0.68333,0.13889,0,0.94445],"88":[0,0.68333,0.07847,0.08334,0.82847],"89":[0,0.68333,0.22222,0,0.58056],"90":[0,0.68333,0.07153,0.08334,0.68264],"97":[0,0.43056,0,0,0.52859],"98":[0,0.69444,0,0,0.42917],"99":[0,0.43056,0,0.05556,0.43276],"100":[0,0.69444,0,0.16667,0.52049],"101":[0,0.43056,0,0.05556,0.46563],"102":[0.19444,0.69444,0.10764,0.16667,0.48959],"103":[0.19444,0.43056,0.03588,0.02778,0.47697],"104":[0,0.69444,0,0,0.57616],"105":[0,0.65952,0,0,0.34451],"106":[0.19444,0.65952,0.05724,0,0.41181],"107":[0,0.69444,0.03148,0,0.5206],"108":[0,0.69444,0.01968,0.08334,0.29838],"109":[0,0.43056,0,0,0.87801],"110":[0,0.43056,0,0,0.60023],"111":[0,0.43056,0,0.05556,0.48472],"112":[0.19444,0.43056,0,0.08334,0.50313],"113":[0.19444,0.43056,0.03588,0.08334,0.44641],"114":[0,0.43056,0.02778,0.05556,0.45116],"115":[0,0.43056,0,0.05556,0.46875],"116":[0,0.61508,0,0.08334,0.36111],"117":[0,0.43056,0,0.02778,0.57246],"118":[0,0.43056,0.03588,0.02778,0.48472],"119":[0,0.43056,0.02691,0.08334,0.71592],"120":[0,0.43056,0,0.02778,0.57153],"121":[0.19444,0.43056,0.03588,0.05556,0.49028],"122":[0,0.43056,0.04398,0.05556,0.46505],"160":[0,0,0,0,0.25],"915":[0,0.68333,0.13889,0.08334,0.61528],"916":[0,0.68333,0,0.16667,0.83334],"920":[0,0.68333,0.02778,0.08334,0.76278],"923":[0,0.68333,0,0.16667,0.69445],"926":[0,0.68333,0.07569,0.08334,0.74236],"928":[0,0.68333,0.08125,0.05556,0.83125],"931":[0,0.68333,0.05764,0.08334,0.77986],"933":[0,0.68333,0.13889,0.05556,0.58333],"934":[0,0.68333,0,0.08334,0.66667],"936":[0,0.68333,0.11,0.05556,0.61222],"937":[0,0.68333,0.05017,0.08334,0.7724],"945":[0,0.43056,0.0037,0.02778,0.6397],"946":[0.19444,0.69444,0.05278,0.08334,0.56563],"947":[0.19444,0.43056,0.05556,0,0.51773],"948":[0,0.69444,0.03785,0.05556,0.44444],"949":[0,0.43056,0,0.08334,0.46632],"950":[0.19444,0.69444,0.07378,0.08334,0.4375],"951":[0.19444,0.43056,0.03588,0.05556,0.49653],"952":[0,0.69444,0.02778,0.08334,0.46944],"953":[0,0.43056,0,0.05556,0.35394],"954":[0,0.43056,0,0,0.57616],"955":[0,0.69444,0,0,0.58334],"956":[0.19444,0.43056,0,0.02778,0.60255],"957":[0,0.43056,0.06366,0.02778,0.49398],"958":[0.19444,0.69444,0.04601,0.11111,0.4375],"959":[0,0.43056,0,0.05556,0.48472],"960":[0,0.43056,0.03588,0,0.57003],"961":[0.19444,0.43056,0,0.08334,0.51702],"962":[0.09722,0.43056,0.07986,0.08334,0.36285],"963":[0,0.43056,0.03588,0,0.57141],"964":[0,0.43056,0.1132,0.02778,0.43715],"965":[0,0.43056,0.03588,0.02778,0.54028],"966":[0.19444,0.43056,0,0.08334,0.65417],"967":[0.19444,0.43056,0,0.05556,0.62569],"968":[0.19444,0.69444,0.03588,0.11111,0.65139],"969":[0,0.43056,0.03588,0,0.62245],"977":[0,0.69444,0,0.08334,0.59144],"981":[0.19444,0.69444,0,0.08334,0.59583],"982":[0,0.43056,0.02778,0,0.82813],"1009":[0.19444,0.43056,0,0.08334,0.51702],"1013":[0,0.43056,0,0.05556,0.4059],"57649":[0,0.43056,0,0.02778,0.32246],"57911":[0.19444,0.43056,0,0.08334,0.38403]},"SansSerif-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.36667],"34":[0,0.69444,0,0,0.55834],"35":[0.19444,0.69444,0,0,0.91667],"36":[0.05556,0.75,0,0,0.55],"37":[0.05556,0.75,0,0,1.02912],"38":[0,0.69444,0,0,0.83056],"39":[0,0.69444,0,0,0.30556],"40":[0.25,0.75,0,0,0.42778],"41":[0.25,0.75,0,0,0.42778],"42":[0,0.75,0,0,0.55],"43":[0.11667,0.61667,0,0,0.85556],"44":[0.10556,0.13056,0,0,0.30556],"45":[0,0.45833,0,0,0.36667],"46":[0,0.13056,0,0,0.30556],"47":[0.25,0.75,0,0,0.55],"48":[0,0.69444,0,0,0.55],"49":[0,0.69444,0,0,0.55],"50":[0,0.69444,0,0,0.55],"51":[0,0.69444,0,0,0.55],"52":[0,0.69444,0,0,0.55],"53":[0,0.69444,0,0,0.55],"54":[0,0.69444,0,0,0.55],"55":[0,0.69444,0,0,0.55],"56":[0,0.69444,0,0,0.55],"57":[0,0.69444,0,0,0.55],"58":[0,0.45833,0,0,0.30556],"59":[0.10556,0.45833,0,0,0.30556],"61":[-0.09375,0.40625,0,0,0.85556],"63":[0,0.69444,0,0,0.51945],"64":[0,0.69444,0,0,0.73334],"65":[0,0.69444,0,0,0.73334],"66":[0,0.69444,0,0,0.73334],"67":[0,0.69444,0,0,0.70278],"68":[0,0.69444,0,0,0.79445],"69":[0,0.69444,0,0,0.64167],"70":[0,0.69444,0,0,0.61111],"71":[0,0.69444,0,0,0.73334],"72":[0,0.69444,0,0,0.79445],"73":[0,0.69444,0,0,0.33056],"74":[0,0.69444,0,0,0.51945],"75":[0,0.69444,0,0,0.76389],"76":[0,0.69444,0,0,0.58056],"77":[0,0.69444,0,0,0.97778],"78":[0,0.69444,0,0,0.79445],"79":[0,0.69444,0,0,0.79445],"80":[0,0.69444,0,0,0.70278],"81":[0.10556,0.69444,0,0,0.79445],"82":[0,0.69444,0,0,0.70278],"83":[0,0.69444,0,0,0.61111],"84":[0,0.69444,0,0,0.73334],"85":[0,0.69444,0,0,0.76389],"86":[0,0.69444,0.01528,0,0.73334],"87":[0,0.69444,0.01528,0,1.03889],"88":[0,0.69444,0,0,0.73334],"89":[0,0.69444,0.0275,0,0.73334],"90":[0,0.69444,0,0,0.67223],"91":[0.25,0.75,0,0,0.34306],"93":[0.25,0.75,0,0,0.34306],"94":[0,0.69444,0,0,0.55],"95":[0.35,0.10833,0.03056,0,0.55],"97":[0,0.45833,0,0,0.525],"98":[0,0.69444,0,0,0.56111],"99":[0,0.45833,0,0,0.48889],"100":[0,0.69444,0,0,0.56111],"101":[0,0.45833,0,0,0.51111],"102":[0,0.69444,0.07639,0,0.33611],"103":[0.19444,0.45833,0.01528,0,0.55],"104":[0,0.69444,0,0,0.56111],"105":[0,0.69444,0,0,0.25556],"106":[0.19444,0.69444,0,0,0.28611],"107":[0,0.69444,0,0,0.53056],"108":[0,0.69444,0,0,0.25556],"109":[0,0.45833,0,0,0.86667],"110":[0,0.45833,0,0,0.56111],"111":[0,0.45833,0,0,0.55],"112":[0.19444,0.45833,0,0,0.56111],"113":[0.19444,0.45833,0,0,0.56111],"114":[0,0.45833,0.01528,0,0.37222],"115":[0,0.45833,0,0,0.42167],"116":[0,0.58929,0,0,0.40417],"117":[0,0.45833,0,0,0.56111],"118":[0,0.45833,0.01528,0,0.5],"119":[0,0.45833,0.01528,0,0.74445],"120":[0,0.45833,0,0,0.5],"121":[0.19444,0.45833,0.01528,0,0.5],"122":[0,0.45833,0,0,0.47639],"126":[0.35,0.34444,0,0,0.55],"160":[0,0,0,0,0.25],"168":[0,0.69444,0,0,0.55],"176":[0,0.69444,0,0,0.73334],"180":[0,0.69444,0,0,0.55],"184":[0.17014,0,0,0,0.48889],"305":[0,0.45833,0,0,0.25556],"567":[0.19444,0.45833,0,0,0.28611],"710":[0,0.69444,0,0,0.55],"711":[0,0.63542,0,0,0.55],"713":[0,0.63778,0,0,0.55],"728":[0,0.69444,0,0,0.55],"729":[0,0.69444,0,0,0.30556],"730":[0,0.69444,0,0,0.73334],"732":[0,0.69444,0,0,0.55],"733":[0,0.69444,0,0,0.55],"915":[0,0.69444,0,0,0.58056],"916":[0,0.69444,0,0,0.91667],"920":[0,0.69444,0,0,0.85556],"923":[0,0.69444,0,0,0.67223],"926":[0,0.69444,0,0,0.73334],"928":[0,0.69444,0,0,0.79445],"931":[0,0.69444,0,0,0.79445],"933":[0,0.69444,0,0,0.85556],"934":[0,0.69444,0,0,0.79445],"936":[0,0.69444,0,0,0.85556],"937":[0,0.69444,0,0,0.79445],"8211":[0,0.45833,0.03056,0,0.55],"8212":[0,0.45833,0.03056,0,1.10001],"8216":[0,0.69444,0,0,0.30556],"8217":[0,0.69444,0,0,0.30556],"8220":[0,0.69444,0,0,0.55834],"8221":[0,0.69444,0,0,0.55834]},"SansSerif-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.05733,0,0.31945],"34":[0,0.69444,0.00316,0,0.5],"35":[0.19444,0.69444,0.05087,0,0.83334],"36":[0.05556,0.75,0.11156,0,0.5],"37":[0.05556,0.75,0.03126,0,0.83334],"38":[0,0.69444,0.03058,0,0.75834],"39":[0,0.69444,0.07816,0,0.27778],"40":[0.25,0.75,0.13164,0,0.38889],"41":[0.25,0.75,0.02536,0,0.38889],"42":[0,0.75,0.11775,0,0.5],"43":[0.08333,0.58333,0.02536,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0.01946,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0.13164,0,0.5],"48":[0,0.65556,0.11156,0,0.5],"49":[0,0.65556,0.11156,0,0.5],"50":[0,0.65556,0.11156,0,0.5],"51":[0,0.65556,0.11156,0,0.5],"52":[0,0.65556,0.11156,0,0.5],"53":[0,0.65556,0.11156,0,0.5],"54":[0,0.65556,0.11156,0,0.5],"55":[0,0.65556,0.11156,0,0.5],"56":[0,0.65556,0.11156,0,0.5],"57":[0,0.65556,0.11156,0,0.5],"58":[0,0.44444,0.02502,0,0.27778],"59":[0.125,0.44444,0.02502,0,0.27778],"61":[-0.13,0.37,0.05087,0,0.77778],"63":[0,0.69444,0.11809,0,0.47222],"64":[0,0.69444,0.07555,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0.08293,0,0.66667],"67":[0,0.69444,0.11983,0,0.63889],"68":[0,0.69444,0.07555,0,0.72223],"69":[0,0.69444,0.11983,0,0.59722],"70":[0,0.69444,0.13372,0,0.56945],"71":[0,0.69444,0.11983,0,0.66667],"72":[0,0.69444,0.08094,0,0.70834],"73":[0,0.69444,0.13372,0,0.27778],"74":[0,0.69444,0.08094,0,0.47222],"75":[0,0.69444,0.11983,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0.08094,0,0.875],"78":[0,0.69444,0.08094,0,0.70834],"79":[0,0.69444,0.07555,0,0.73611],"80":[0,0.69444,0.08293,0,0.63889],"81":[0.125,0.69444,0.07555,0,0.73611],"82":[0,0.69444,0.08293,0,0.64584],"83":[0,0.69444,0.09205,0,0.55556],"84":[0,0.69444,0.13372,0,0.68056],"85":[0,0.69444,0.08094,0,0.6875],"86":[0,0.69444,0.1615,0,0.66667],"87":[0,0.69444,0.1615,0,0.94445],"88":[0,0.69444,0.13372,0,0.66667],"89":[0,0.69444,0.17261,0,0.66667],"90":[0,0.69444,0.11983,0,0.61111],"91":[0.25,0.75,0.15942,0,0.28889],"93":[0.25,0.75,0.08719,0,0.28889],"94":[0,0.69444,0.0799,0,0.5],"95":[0.35,0.09444,0.08616,0,0.5],"97":[0,0.44444,0.00981,0,0.48056],"98":[0,0.69444,0.03057,0,0.51667],"99":[0,0.44444,0.08336,0,0.44445],"100":[0,0.69444,0.09483,0,0.51667],"101":[0,0.44444,0.06778,0,0.44445],"102":[0,0.69444,0.21705,0,0.30556],"103":[0.19444,0.44444,0.10836,0,0.5],"104":[0,0.69444,0.01778,0,0.51667],"105":[0,0.67937,0.09718,0,0.23889],"106":[0.19444,0.67937,0.09162,0,0.26667],"107":[0,0.69444,0.08336,0,0.48889],"108":[0,0.69444,0.09483,0,0.23889],"109":[0,0.44444,0.01778,0,0.79445],"110":[0,0.44444,0.01778,0,0.51667],"111":[0,0.44444,0.06613,0,0.5],"112":[0.19444,0.44444,0.0389,0,0.51667],"113":[0.19444,0.44444,0.04169,0,0.51667],"114":[0,0.44444,0.10836,0,0.34167],"115":[0,0.44444,0.0778,0,0.38333],"116":[0,0.57143,0.07225,0,0.36111],"117":[0,0.44444,0.04169,0,0.51667],"118":[0,0.44444,0.10836,0,0.46111],"119":[0,0.44444,0.10836,0,0.68334],"120":[0,0.44444,0.09169,0,0.46111],"121":[0.19444,0.44444,0.10836,0,0.46111],"122":[0,0.44444,0.08752,0,0.43472],"126":[0.35,0.32659,0.08826,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0.06385,0,0.5],"176":[0,0.69444,0,0,0.73752],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0.04169,0,0.23889],"567":[0.19444,0.44444,0.04169,0,0.26667],"710":[0,0.69444,0.0799,0,0.5],"711":[0,0.63194,0.08432,0,0.5],"713":[0,0.60889,0.08776,0,0.5],"714":[0,0.69444,0.09205,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0.09483,0,0.5],"729":[0,0.67937,0.07774,0,0.27778],"730":[0,0.69444,0,0,0.73752],"732":[0,0.67659,0.08826,0,0.5],"733":[0,0.69444,0.09205,0,0.5],"915":[0,0.69444,0.13372,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0.07555,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0.12816,0,0.66667],"928":[0,0.69444,0.08094,0,0.70834],"931":[0,0.69444,0.11983,0,0.72222],"933":[0,0.69444,0.09031,0,0.77778],"934":[0,0.69444,0.04603,0,0.72222],"936":[0,0.69444,0.09031,0,0.77778],"937":[0,0.69444,0.08293,0,0.72222],"8211":[0,0.44444,0.08616,0,0.5],"8212":[0,0.44444,0.08616,0,1],"8216":[0,0.69444,0.07816,0,0.27778],"8217":[0,0.69444,0.07816,0,0.27778],"8220":[0,0.69444,0.14205,0,0.5],"8221":[0,0.69444,0.00316,0,0.5]},"SansSerif-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.31945],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.75834],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.65556,0,0,0.5],"49":[0,0.65556,0,0,0.5],"50":[0,0.65556,0,0,0.5],"51":[0,0.65556,0,0,0.5],"52":[0,0.65556,0,0,0.5],"53":[0,0.65556,0,0,0.5],"54":[0,0.65556,0,0,0.5],"55":[0,0.65556,0,0,0.5],"56":[0,0.65556,0,0,0.5],"57":[0,0.65556,0,0,0.5],"58":[0,0.44444,0,0,0.27778],"59":[0.125,0.44444,0,0,0.27778],"61":[-0.13,0.37,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0,0,0.66667],"67":[0,0.69444,0,0,0.63889],"68":[0,0.69444,0,0,0.72223],"69":[0,0.69444,0,0,0.59722],"70":[0,0.69444,0,0,0.56945],"71":[0,0.69444,0,0,0.66667],"72":[0,0.69444,0,0,0.70834],"73":[0,0.69444,0,0,0.27778],"74":[0,0.69444,0,0,0.47222],"75":[0,0.69444,0,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0,0,0.875],"78":[0,0.69444,0,0,0.70834],"79":[0,0.69444,0,0,0.73611],"80":[0,0.69444,0,0,0.63889],"81":[0.125,0.69444,0,0,0.73611],"82":[0,0.69444,0,0,0.64584],"83":[0,0.69444,0,0,0.55556],"84":[0,0.69444,0,0,0.68056],"85":[0,0.69444,0,0,0.6875],"86":[0,0.69444,0.01389,0,0.66667],"87":[0,0.69444,0.01389,0,0.94445],"88":[0,0.69444,0,0,0.66667],"89":[0,0.69444,0.025,0,0.66667],"90":[0,0.69444,0,0,0.61111],"91":[0.25,0.75,0,0,0.28889],"93":[0.25,0.75,0,0,0.28889],"94":[0,0.69444,0,0,0.5],"95":[0.35,0.09444,0.02778,0,0.5],"97":[0,0.44444,0,0,0.48056],"98":[0,0.69444,0,0,0.51667],"99":[0,0.44444,0,0,0.44445],"100":[0,0.69444,0,0,0.51667],"101":[0,0.44444,0,0,0.44445],"102":[0,0.69444,0.06944,0,0.30556],"103":[0.19444,0.44444,0.01389,0,0.5],"104":[0,0.69444,0,0,0.51667],"105":[0,0.67937,0,0,0.23889],"106":[0.19444,0.67937,0,0,0.26667],"107":[0,0.69444,0,0,0.48889],"108":[0,0.69444,0,0,0.23889],"109":[0,0.44444,0,0,0.79445],"110":[0,0.44444,0,0,0.51667],"111":[0,0.44444,0,0,0.5],"112":[0.19444,0.44444,0,0,0.51667],"113":[0.19444,0.44444,0,0,0.51667],"114":[0,0.44444,0.01389,0,0.34167],"115":[0,0.44444,0,0,0.38333],"116":[0,0.57143,0,0,0.36111],"117":[0,0.44444,0,0,0.51667],"118":[0,0.44444,0.01389,0,0.46111],"119":[0,0.44444,0.01389,0,0.68334],"120":[0,0.44444,0,0,0.46111],"121":[0.19444,0.44444,0.01389,0,0.46111],"122":[0,0.44444,0,0,0.43472],"126":[0.35,0.32659,0,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0,0,0.5],"176":[0,0.69444,0,0,0.66667],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0,0,0.23889],"567":[0.19444,0.44444,0,0,0.26667],"710":[0,0.69444,0,0,0.5],"711":[0,0.63194,0,0,0.5],"713":[0,0.60889,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.67937,0,0,0.27778],"730":[0,0.69444,0,0,0.66667],"732":[0,0.67659,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.69444,0,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0,0,0.66667],"928":[0,0.69444,0,0,0.70834],"931":[0,0.69444,0,0,0.72222],"933":[0,0.69444,0,0,0.77778],"934":[0,0.69444,0,0,0.72222],"936":[0,0.69444,0,0,0.77778],"937":[0,0.69444,0,0,0.72222],"8211":[0,0.44444,0.02778,0,0.5],"8212":[0,0.44444,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5]},"Script-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.7,0.22925,0,0.80253],"66":[0,0.7,0.04087,0,0.90757],"67":[0,0.7,0.1689,0,0.66619],"68":[0,0.7,0.09371,0,0.77443],"69":[0,0.7,0.18583,0,0.56162],"70":[0,0.7,0.13634,0,0.89544],"71":[0,0.7,0.17322,0,0.60961],"72":[0,0.7,0.29694,0,0.96919],"73":[0,0.7,0.19189,0,0.80907],"74":[0.27778,0.7,0.19189,0,1.05159],"75":[0,0.7,0.31259,0,0.91364],"76":[0,0.7,0.19189,0,0.87373],"77":[0,0.7,0.15981,0,1.08031],"78":[0,0.7,0.3525,0,0.9015],"79":[0,0.7,0.08078,0,0.73787],"80":[0,0.7,0.08078,0,1.01262],"81":[0,0.7,0.03305,0,0.88282],"82":[0,0.7,0.06259,0,0.85],"83":[0,0.7,0.19189,0,0.86767],"84":[0,0.7,0.29087,0,0.74697],"85":[0,0.7,0.25815,0,0.79996],"86":[0,0.7,0.27523,0,0.62204],"87":[0,0.7,0.27523,0,0.80532],"88":[0,0.7,0.26006,0,0.94445],"89":[0,0.7,0.2939,0,0.70961],"90":[0,0.7,0.24037,0,0.8212],"160":[0,0,0,0,0.25]},"Size1-Regular":{"32":[0,0,0,0,0.25],"40":[0.35001,0.85,0,0,0.45834],"41":[0.35001,0.85,0,0,0.45834],"47":[0.35001,0.85,0,0,0.57778],"91":[0.35001,0.85,0,0,0.41667],"92":[0.35001,0.85,0,0,0.57778],"93":[0.35001,0.85,0,0,0.41667],"123":[0.35001,0.85,0,0,0.58334],"125":[0.35001,0.85,0,0,0.58334],"160":[0,0,0,0,0.25],"710":[0,0.72222,0,0,0.55556],"732":[0,0.72222,0,0,0.55556],"770":[0,0.72222,0,0,0.55556],"771":[0,0.72222,0,0,0.55556],"8214":[-0.00099,0.601,0,0,0.77778],"8593":[0.00001,0.6,0,0,0.66667],"8595":[0.00001,0.6,0,0,0.66667],"8657":[0.00001,0.6,0,0,0.77778],"8659":[0.00001,0.6,0,0,0.77778],"8719":[0.25001,0.75,0,0,0.94445],"8720":[0.25001,0.75,0,0,0.94445],"8721":[0.25001,0.75,0,0,1.05556],"8730":[0.35001,0.85,0,0,1],"8739":[-0.00599,0.606,0,0,0.33333],"8741":[-0.00599,0.606,0,0,0.55556],"8747":[0.30612,0.805,0.19445,0,0.47222],"8748":[0.306,0.805,0.19445,0,0.47222],"8749":[0.306,0.805,0.19445,0,0.47222],"8750":[0.30612,0.805,0.19445,0,0.47222],"8896":[0.25001,0.75,0,0,0.83334],"8897":[0.25001,0.75,0,0,0.83334],"8898":[0.25001,0.75,0,0,0.83334],"8899":[0.25001,0.75,0,0,0.83334],"8968":[0.35001,0.85,0,0,0.47222],"8969":[0.35001,0.85,0,0,0.47222],"8970":[0.35001,0.85,0,0,0.47222],"8971":[0.35001,0.85,0,0,0.47222],"9168":[-0.00099,0.601,0,0,0.66667],"10216":[0.35001,0.85,0,0,0.47222],"10217":[0.35001,0.85,0,0,0.47222],"10752":[0.25001,0.75,0,0,1.11111],"10753":[0.25001,0.75,0,0,1.11111],"10754":[0.25001,0.75,0,0,1.11111],"10756":[0.25001,0.75,0,0,0.83334],"10758":[0.25001,0.75,0,0,0.83334]},"Size2-Regular":{"32":[0,0,0,0,0.25],"40":[0.65002,1.15,0,0,0.59722],"41":[0.65002,1.15,0,0,0.59722],"47":[0.65002,1.15,0,0,0.81111],"91":[0.65002,1.15,0,0,0.47222],"92":[0.65002,1.15,0,0,0.81111],"93":[0.65002,1.15,0,0,0.47222],"123":[0.65002,1.15,0,0,0.66667],"125":[0.65002,1.15,0,0,0.66667],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1],"732":[0,0.75,0,0,1],"770":[0,0.75,0,0,1],"771":[0,0.75,0,0,1],"8719":[0.55001,1.05,0,0,1.27778],"8720":[0.55001,1.05,0,0,1.27778],"8721":[0.55001,1.05,0,0,1.44445],"8730":[0.65002,1.15,0,0,1],"8747":[0.86225,1.36,0.44445,0,0.55556],"8748":[0.862,1.36,0.44445,0,0.55556],"8749":[0.862,1.36,0.44445,0,0.55556],"8750":[0.86225,1.36,0.44445,0,0.55556],"8896":[0.55001,1.05,0,0,1.11111],"8897":[0.55001,1.05,0,0,1.11111],"8898":[0.55001,1.05,0,0,1.11111],"8899":[0.55001,1.05,0,0,1.11111],"8968":[0.65002,1.15,0,0,0.52778],"8969":[0.65002,1.15,0,0,0.52778],"8970":[0.65002,1.15,0,0,0.52778],"8971":[0.65002,1.15,0,0,0.52778],"10216":[0.65002,1.15,0,0,0.61111],"10217":[0.65002,1.15,0,0,0.61111],"10752":[0.55001,1.05,0,0,1.51112],"10753":[0.55001,1.05,0,0,1.51112],"10754":[0.55001,1.05,0,0,1.51112],"10756":[0.55001,1.05,0,0,1.11111],"10758":[0.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,0.25],"40":[0.95003,1.45,0,0,0.73611],"41":[0.95003,1.45,0,0,0.73611],"47":[0.95003,1.45,0,0,1.04445],"91":[0.95003,1.45,0,0,0.52778],"92":[0.95003,1.45,0,0,1.04445],"93":[0.95003,1.45,0,0,0.52778],"123":[0.95003,1.45,0,0,0.75],"125":[0.95003,1.45,0,0,0.75],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1.44445],"732":[0,0.75,0,0,1.44445],"770":[0,0.75,0,0,1.44445],"771":[0,0.75,0,0,1.44445],"8730":[0.95003,1.45,0,0,1],"8968":[0.95003,1.45,0,0,0.58334],"8969":[0.95003,1.45,0,0,0.58334],"8970":[0.95003,1.45,0,0,0.58334],"8971":[0.95003,1.45,0,0,0.58334],"10216":[0.95003,1.45,0,0,0.75],"10217":[0.95003,1.45,0,0,0.75]},"Size4-Regular":{"32":[0,0,0,0,0.25],"40":[1.25003,1.75,0,0,0.79167],"41":[1.25003,1.75,0,0,0.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,0.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,0.58334],"123":[1.25003,1.75,0,0,0.80556],"125":[1.25003,1.75,0,0,0.80556],"160":[0,0,0,0,0.25],"710":[0,0.825,0,0,1.8889],"732":[0,0.825,0,0,1.8889],"770":[0,0.825,0,0,1.8889],"771":[0,0.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,0.63889],"8969":[1.25003,1.75,0,0,0.63889],"8970":[1.25003,1.75,0,0,0.63889],"8971":[1.25003,1.75,0,0,0.63889],"9115":[0.64502,1.155,0,0,0.875],"9116":[0.00001,0.6,0,0,0.875],"9117":[0.64502,1.155,0,0,0.875],"9118":[0.64502,1.155,0,0,0.875],"9119":[0.00001,0.6,0,0,0.875],"9120":[0.64502,1.155,0,0,0.875],"9121":[0.64502,1.155,0,0,0.66667],"9122":[-0.00099,0.601,0,0,0.66667],"9123":[0.64502,1.155,0,0,0.66667],"9124":[0.64502,1.155,0,0,0.66667],"9125":[-0.00099,0.601,0,0,0.66667],"9126":[0.64502,1.155,0,0,0.66667],"9127":[0.00001,0.9,0,0,0.88889],"9128":[0.65002,1.15,0,0,0.88889],"9129":[0.90001,0,0,0,0.88889],"9130":[0,0.3,0,0,0.88889],"9131":[0.00001,0.9,0,0,0.88889],"9132":[0.65002,1.15,0,0,0.88889],"9133":[0.90001,0,0,0,0.88889],"9143":[0.88502,0.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,0.80556],"10217":[1.25003,1.75,0,0,0.80556],"57344":[-0.00499,0.605,0,0,1.05556],"57345":[-0.00499,0.605,0,0,1.05556],"57680":[0,0.12,0,0,0.45],"57681":[0,0.12,0,0,0.45],"57682":[0,0.12,0,0,0.45],"57683":[0,0.12,0,0,0.45]},"Typewriter-Regular":{"32":[0,0,0,0,0.525],"33":[0,0.61111,0,0,0.525],"34":[0,0.61111,0,0,0.525],"35":[0,0.61111,0,0,0.525],"36":[0.08333,0.69444,0,0,0.525],"37":[0.08333,0.69444,0,0,0.525],"38":[0,0.61111,0,0,0.525],"39":[0,0.61111,0,0,0.525],"40":[0.08333,0.69444,0,0,0.525],"41":[0.08333,0.69444,0,0,0.525],"42":[0,0.52083,0,0,0.525],"43":[-0.08056,0.53055,0,0,0.525],"44":[0.13889,0.125,0,0,0.525],"45":[-0.08056,0.53055,0,0,0.525],"46":[0,0.125,0,0,0.525],"47":[0.08333,0.69444,0,0,0.525],"48":[0,0.61111,0,0,0.525],"49":[0,0.61111,0,0,0.525],"50":[0,0.61111,0,0,0.525],"51":[0,0.61111,0,0,0.525],"52":[0,0.61111,0,0,0.525],"53":[0,0.61111,0,0,0.525],"54":[0,0.61111,0,0,0.525],"55":[0,0.61111,0,0,0.525],"56":[0,0.61111,0,0,0.525],"57":[0,0.61111,0,0,0.525],"58":[0,0.43056,0,0,0.525],"59":[0.13889,0.43056,0,0,0.525],"60":[-0.05556,0.55556,0,0,0.525],"61":[-0.19549,0.41562,0,0,0.525],"62":[-0.05556,0.55556,0,0,0.525],"63":[0,0.61111,0,0,0.525],"64":[0,0.61111,0,0,0.525],"65":[0,0.61111,0,0,0.525],"66":[0,0.61111,0,0,0.525],"67":[0,0.61111,0,0,0.525],"68":[0,0.61111,0,0,0.525],"69":[0,0.61111,0,0,0.525],"70":[0,0.61111,0,0,0.525],"71":[0,0.61111,0,0,0.525],"72":[0,0.61111,0,0,0.525],"73":[0,0.61111,0,0,0.525],"74":[0,0.61111,0,0,0.525],"75":[0,0.61111,0,0,0.525],"76":[0,0.61111,0,0,0.525],"77":[0,0.61111,0,0,0.525],"78":[0,0.61111,0,0,0.525],"79":[0,0.61111,0,0,0.525],"80":[0,0.61111,0,0,0.525],"81":[0.13889,0.61111,0,0,0.525],"82":[0,0.61111,0,0,0.525],"83":[0,0.61111,0,0,0.525],"84":[0,0.61111,0,0,0.525],"85":[0,0.61111,0,0,0.525],"86":[0,0.61111,0,0,0.525],"87":[0,0.61111,0,0,0.525],"88":[0,0.61111,0,0,0.525],"89":[0,0.61111,0,0,0.525],"90":[0,0.61111,0,0,0.525],"91":[0.08333,0.69444,0,0,0.525],"92":[0.08333,0.69444,0,0,0.525],"93":[0.08333,0.69444,0,0,0.525],"94":[0,0.61111,0,0,0.525],"95":[0.09514,0,0,0,0.525],"96":[0,0.61111,0,0,0.525],"97":[0,0.43056,0,0,0.525],"98":[0,0.61111,0,0,0.525],"99":[0,0.43056,0,0,0.525],"100":[0,0.61111,0,0,0.525],"101":[0,0.43056,0,0,0.525],"102":[0,0.61111,0,0,0.525],"103":[0.22222,0.43056,0,0,0.525],"104":[0,0.61111,0,0,0.525],"105":[0,0.61111,0,0,0.525],"106":[0.22222,0.61111,0,0,0.525],"107":[0,0.61111,0,0,0.525],"108":[0,0.61111,0,0,0.525],"109":[0,0.43056,0,0,0.525],"110":[0,0.43056,0,0,0.525],"111":[0,0.43056,0,0,0.525],"112":[0.22222,0.43056,0,0,0.525],"113":[0.22222,0.43056,0,0,0.525],"114":[0,0.43056,0,0,0.525],"115":[0,0.43056,0,0,0.525],"116":[0,0.55358,0,0,0.525],"117":[0,0.43056,0,0,0.525],"118":[0,0.43056,0,0,0.525],"119":[0,0.43056,0,0,0.525],"120":[0,0.43056,0,0,0.525],"121":[0.22222,0.43056,0,0,0.525],"122":[0,0.43056,0,0,0.525],"123":[0.08333,0.69444,0,0,0.525],"124":[0.08333,0.69444,0,0,0.525],"125":[0.08333,0.69444,0,0,0.525],"126":[0,0.61111,0,0,0.525],"127":[0,0.61111,0,0,0.525],"160":[0,0,0,0,0.525],"176":[0,0.61111,0,0,0.525],"184":[0.19445,0,0,0,0.525],"305":[0,0.43056,0,0,0.525],"567":[0.22222,0.43056,0,0,0.525],"711":[0,0.56597,0,0,0.525],"713":[0,0.56555,0,0,0.525],"714":[0,0.61111,0,0,0.525],"715":[0,0.61111,0,0,0.525],"728":[0,0.61111,0,0,0.525],"730":[0,0.61111,0,0,0.525],"770":[0,0.61111,0,0,0.525],"771":[0,0.61111,0,0,0.525],"776":[0,0.61111,0,0,0.525],"915":[0,0.61111,0,0,0.525],"916":[0,0.61111,0,0,0.525],"920":[0,0.61111,0,0,0.525],"923":[0,0.61111,0,0,0.525],"926":[0,0.61111,0,0,0.525],"928":[0,0.61111,0,0,0.525],"931":[0,0.61111,0,0,0.525],"933":[0,0.61111,0,0,0.525],"934":[0,0.61111,0,0,0.525],"936":[0,0.61111,0,0,0.525],"937":[0,0.61111,0,0,0.525],"8216":[0,0.61111,0,0,0.525],"8217":[0,0.61111,0,0,0.525],"8242":[0,0.61111,0,0,0.525],"9251":[0.11111,0.21944,0,0,0.525]}},lE={slant:[0.25,0.25,0.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[0.431,0.431,0.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[0.677,0.732,0.925],num2:[0.394,0.384,0.387],num3:[0.444,0.471,0.504],denom1:[0.686,0.752,1.025],denom2:[0.345,0.344,0.532],sup1:[0.413,0.503,0.504],sup2:[0.363,0.431,0.404],sup3:[0.289,0.286,0.294],sub1:[0.15,0.143,0.2],sub2:[0.247,0.286,0.4],supDrop:[0.386,0.353,0.494],subDrop:[0.05,0.071,0.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[0.25,0.25,0.25],defaultRuleThickness:[0.04,0.049,0.049],bigOpSpacing1:[0.111,0.111,0.111],bigOpSpacing2:[0.166,0.166,0.166],bigOpSpacing3:[0.2,0.2,0.2],bigOpSpacing4:[0.6,0.611,0.611],bigOpSpacing5:[0.1,0.143,0.143],sqrtRuleThickness:[0.04,0.04,0.04],ptPerEm:[10,10,10],doubleRuleSep:[0.2,0.2,0.2],arrayRuleWidth:[0.04,0.04,0.04],fboxsep:[0.3,0.3,0.3],fboxrule:[0.04,0.04,0.04]},qK0={"":"A","":"D","":"o","":"a","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};By={};z08=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],WK0=[0.5,0.6,0.7,0.8,0.9,1,1.2,1.44,1.728,2.074,2.488];uX.BASESIZE=6;jy={pt:1,mm:2.8452755905511813,cm:28.45275590551181,in:72.27,bp:1.00375,pc:12,dd:1.070008643042351,cc:12.84010371650821,nd:1.0669781931464175,nc:12.80373831775701,sp:0.0000152587890625,px:1.00375},H08={ex:!0,em:!0,mu:!0},F08=/[\s"'>/=\x00-\x1f]/;M08={"":"","":"","":"","":""};O08={bin:1,close:1,inner:1,open:1,punct:1,rel:1},R08={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},r9={math:{},text:{}};g(l,U0,j0,"","\\equiv",!0);g(l,U0,j0,"","\\prec",!0);g(l,U0,j0,"","\\succ",!0);g(l,U0,j0,"","\\sim",!0);g(l,U0,j0,"","\\perp");g(l,U0,j0,"","\\preceq",!0);g(l,U0,j0,"","\\succeq",!0);g(l,U0,j0,"","\\simeq",!0);g(l,U0,j0,"","\\mid",!0);g(l,U0,j0,"","\\ll",!0);g(l,U0,j0,"","\\gg",!0);g(l,U0,j0,"","\\asymp",!0);g(l,U0,j0,"","\\parallel");g(l,U0,j0,"","\\bowtie",!0);g(l,U0,j0,"","\\smile",!0);g(l,U0,j0,"","\\sqsubseteq",!0);g(l,U0,j0,"","\\sqsupseteq",!0);g(l,U0,j0,"","\\doteq",!0);g(l,U0,j0,"","\\frown",!0);g(l,U0,j0,"","\\ni",!0);g(l,U0,j0,"","\\propto",!0);g(l,U0,j0,"","\\vdash",!0);g(l,U0,j0,"","\\dashv",!0);g(l,U0,j0,"","\\owns");g(l,U0,WV,".","\\ldotp");g(l,U0,WV,"","\\cdotp");g(l,U0,k0,"#","\\#");g(z8,U0,k0,"#","\\#");g(l,U0,k0,"&","\\&");g(z8,U0,k0,"&","\\&");g(l,U0,k0,"","\\aleph",!0);g(l,U0,k0,"","\\forall",!0);g(l,U0,k0,"","\\hbar",!0);g(l,U0,k0,"","\\exists",!0);g(l,U0,k0,"","\\nabla",!0);g(l,U0,k0,"","\\flat",!0);g(l,U0,k0,"","\\ell",!0);g(l,U0,k0,"","\\natural",!0);g(l,U0,k0,"","\\clubsuit",!0);g(l,U0,k0,"","\\wp",!0);g(l,U0,k0,"","\\sharp",!0);g(l,U0,k0,"","\\diamondsuit",!0);g(l,U0,k0,"","\\Re",!0);g(l,U0,k0,"","\\heartsuit",!0);g(l,U0,k0,"","\\Im",!0);g(l,U0,k0,"","\\spadesuit",!0);g(l,U0,k0,"","\\S",!0);g(z8,U0,k0,"","\\S");g(l,U0,k0,"","\\P",!0);g(z8,U0,k0,"","\\P");g(l,U0,k0,"","\\dag");g(z8,U0,k0,"","\\dag");g(z8,U0,k0,"","\\textdagger");g(l,U0,k0,"","\\ddag");g(z8,U0,k0,"","\\ddag");g(z8,U0,k0,"","\\textdaggerdbl");g(l,U0,aQ,"","\\rmoustache",!0);g(l,U0,P4,"","\\lmoustache",!0);g(l,U0,aQ,"","\\rgroup",!0);g(l,U0,P4,"","\\lgroup",!0);g(l,U0,u8,"","\\mp",!0);g(l,U0,u8,"","\\ominus",!0);g(l,U0,u8,"","\\uplus",!0);g(l,U0,u8,"","\\sqcap",!0);g(l,U0,u8,"","\\ast");g(l,U0,u8,"","\\sqcup",!0);g(l,U0,u8,"","\\bigcirc",!0);g(l,U0,u8,"","\\bullet",!0);g(l,U0,u8,"","\\ddagger");g(l,U0,u8,"","\\wr",!0);g(l,U0,u8,"","\\amalg");g(l,U0,u8,"&","\\And");g(l,U0,j0,"","\\longleftarrow",!0);g(l,U0,j0,"","\\Leftarrow",!0);g(l,U0,j0,"","\\Longleftarrow",!0);g(l,U0,j0,"","\\longrightarrow",!0);g(l,U0,j0,"","\\Rightarrow",!0);g(l,U0,j0,"","\\Longrightarrow",!0);g(l,U0,j0,"","\\leftrightarrow",!0);g(l,U0,j0,"","\\longleftrightarrow",!0);g(l,U0,j0,"","\\Leftrightarrow",!0);g(l,U0,j0,"","\\Longleftrightarrow",!0);g(l,U0,j0,"","\\mapsto",!0);g(l,U0,j0,"","\\longmapsto",!0);g(l,U0,j0,"","\\nearrow",!0);g(l,U0,j0,"","\\hookleftarrow",!0);g(l,U0,j0,"","\\hookrightarrow",!0);g(l,U0,j0,"","\\searrow",!0);g(l,U0,j0,"","\\leftharpoonup",!0);g(l,U0,j0,"","\\rightharpoonup",!0);g(l,U0,j0,"","\\swarrow",!0);g(l,U0,j0,"","\\leftharpoondown",!0);g(l,U0,j0,"","\\rightharpoondown",!0);g(l,U0,j0,"","\\nwarrow",!0);g(l,U0,j0,"","\\rightleftharpoons",!0);g(l,P0,j0,"","\\nless",!0);g(l,P0,j0,"","\\@nleqslant");g(l,P0,j0,"","\\@nleqq");g(l,P0,j0,"","\\lneq",!0);g(l,P0,j0,"","\\lneqq",!0);g(l,P0,j0,"","\\@lvertneqq");g(l,P0,j0,"","\\lnsim",!0);g(l,P0,j0,"","\\lnapprox",!0);g(l,P0,j0,"","\\nprec",!0);g(l,P0,j0,"","\\npreceq",!0);g(l,P0,j0,"","\\precnsim",!0);g(l,P0,j0,"","\\precnapprox",!0);g(l,P0,j0,"","\\nsim",!0);g(l,P0,j0,"","\\@nshortmid");g(l,P0,j0,"","\\nmid",!0);g(l,P0,j0,"","\\nvdash",!0);g(l,P0,j0,"","\\nvDash",!0);g(l,P0,j0,"","\\ntriangleleft");g(l,P0,j0,"","\\ntrianglelefteq",!0);g(l,P0,j0,"","\\subsetneq",!0);g(l,P0,j0,"","\\@varsubsetneq");g(l,P0,j0,"","\\subsetneqq",!0);g(l,P0,j0,"","\\@varsubsetneqq");g(l,P0,j0,"","\\ngtr",!0);g(l,P0,j0,"","\\@ngeqslant");g(l,P0,j0,"","\\@ngeqq");g(l,P0,j0,"","\\gneq",!0);g(l,P0,j0,"","\\gneqq",!0);g(l,P0,j0,"","\\@gvertneqq");g(l,P0,j0,"","\\gnsim",!0);g(l,P0,j0,"","\\gnapprox",!0);g(l,P0,j0,"","\\nsucc",!0);g(l,P0,j0,"","\\nsucceq",!0);g(l,P0,j0,"","\\succnsim",!0);g(l,P0,j0,"","\\succnapprox",!0);g(l,P0,j0,"","\\ncong",!0);g(l,P0,j0,"","\\@nshortparallel");g(l,P0,j0,"","\\nparallel",!0);g(l,P0,j0,"","\\nVDash",!0);g(l,P0,j0,"","\\ntriangleright");g(l,P0,j0,"","\\ntrianglerighteq",!0);g(l,P0,j0,"","\\@nsupseteqq");g(l,P0,j0,"","\\supsetneq",!0);g(l,P0,j0,"","\\@varsupsetneq");g(l,P0,j0,"","\\supsetneqq",!0);g(l,P0,j0,"","\\@varsupsetneqq");g(l,P0,j0,"","\\nVdash",!0);g(l,P0,j0,"","\\precneqq",!0);g(l,P0,j0,"","\\succneqq",!0);g(l,P0,j0,"","\\@nsubseteqq");g(l,P0,u8,"","\\unlhd");g(l,P0,u8,"","\\unrhd");g(l,P0,j0,"","\\nleftarrow",!0);g(l,P0,j0,"","\\nrightarrow",!0);g(l,P0,j0,"","\\nLeftarrow",!0);g(l,P0,j0,"","\\nRightarrow",!0);g(l,P0,j0,"","\\nleftrightarrow",!0);g(l,P0,j0,"","\\nLeftrightarrow",!0);g(l,P0,j0,"","\\vartriangle");g(l,P0,k0,"","\\hslash");g(l,P0,k0,"","\\triangledown");g(l,P0,k0,"","\\lozenge");g(l,P0,k0,"","\\circledS");g(l,P0,k0,"","\\circledR");g(z8,P0,k0,"","\\circledR");g(l,P0,k0,"","\\measuredangle",!0);g(l,P0,k0,"","\\nexists");g(l,P0,k0,"","\\mho");g(l,P0,k0,"","\\Finv",!0);g(l,P0,k0,"","\\Game",!0);g(l,P0,k0,"","\\backprime");g(l,P0,k0,"","\\blacktriangle");g(l,P0,k0,"","\\blacktriangledown");g(l,P0,k0,"","\\blacksquare");g(l,P0,k0,"","\\blacklozenge");g(l,P0,k0,"","\\bigstar");g(l,P0,k0,"","\\sphericalangle",!0);g(l,P0,k0,"","\\complement",!0);g(l,P0,k0,"","\\eth",!0);g(z8,U0,k0,"","");g(l,P0,k0,"","\\diagup");g(l,P0,k0,"","\\diagdown");g(l,P0,k0,"","\\square");g(l,P0,k0,"","\\Box");g(l,P0,k0,"","\\Diamond");g(l,P0,k0,"","\\yen",!0);g(z8,P0,k0,"","\\yen",!0);g(l,P0,k0,"","\\checkmark",!0);g(z8,P0,k0,"","\\checkmark");g(l,P0,k0,"","\\beth",!0);g(l,P0,k0,"","\\daleth",!0);g(l,P0,k0,"","\\gimel",!0);g(l,P0,k0,"","\\digamma",!0);g(l,P0,k0,"","\\varkappa");g(l,P0,P4,"","\\@ulcorner",!0);g(l,P0,aQ,"","\\@urcorner",!0);g(l,P0,P4,"","\\@llcorner",!0);g(l,P0,aQ,"","\\@lrcorner",!0);g(l,P0,j0,"","\\leqq",!0);g(l,P0,j0,"","\\leqslant",!0);g(l,P0,j0,"","\\eqslantless",!0);g(l,P0,j0,"","\\lesssim",!0);g(l,P0,j0,"","\\lessapprox",!0);g(l,P0,j0,"","\\approxeq",!0);g(l,P0,u8,"","\\lessdot");g(l,P0,j0,"","\\lll",!0);g(l,P0,j0,"","\\lessgtr",!0);g(l,P0,j0,"","\\lesseqgtr",!0);g(l,P0,j0,"","\\lesseqqgtr",!0);g(l,P0,j0,"","\\doteqdot");g(l,P0,j0,"","\\risingdotseq",!0);g(l,P0,j0,"","\\fallingdotseq",!0);g(l,P0,j0,"","\\backsim",!0);g(l,P0,j0,"","\\backsimeq",!0);g(l,P0,j0,"","\\subseteqq",!0);g(l,P0,j0,"","\\Subset",!0);g(l,P0,j0,"","\\sqsubset",!0);g(l,P0,j0,"","\\preccurlyeq",!0);g(l,P0,j0,"","\\curlyeqprec",!0);g(l,P0,j0,"","\\precsim",!0);g(l,P0,j0,"","\\precapprox",!0);g(l,P0,j0,"","\\vartriangleleft");g(l,P0,j0,"","\\trianglelefteq");g(l,P0,j0,"","\\vDash",!0);g(l,P0,j0,"","\\Vvdash",!0);g(l,P0,j0,"","\\smallsmile");g(l,P0,j0,"","\\smallfrown");g(l,P0,j0,"","\\bumpeq",!0);g(l,P0,j0,"","\\Bumpeq",!0);g(l,P0,j0,"","\\geqq",!0);g(l,P0,j0,"","\\geqslant",!0);g(l,P0,j0,"","\\eqslantgtr",!0);g(l,P0,j0,"","\\gtrsim",!0);g(l,P0,j0,"","\\gtrapprox",!0);g(l,P0,u8,"","\\gtrdot");g(l,P0,j0,"","\\ggg",!0);g(l,P0,j0,"","\\gtrless",!0);g(l,P0,j0,"","\\gtreqless",!0);g(l,P0,j0,"","\\gtreqqless",!0);g(l,P0,j0,"","\\eqcirc",!0);g(l,P0,j0,"","\\circeq",!0);g(l,P0,j0,"","\\triangleq",!0);g(l,P0,j0,"","\\thicksim");g(l,P0,j0,"","\\thickapprox");g(l,P0,j0,"","\\supseteqq",!0);g(l,P0,j0,"","\\Supset",!0);g(l,P0,j0,"","\\sqsupset",!0);g(l,P0,j0,"","\\succcurlyeq",!0);g(l,P0,j0,"","\\curlyeqsucc",!0);g(l,P0,j0,"","\\succsim",!0);g(l,P0,j0,"","\\succapprox",!0);g(l,P0,j0,"","\\vartriangleright");g(l,P0,j0,"","\\trianglerighteq");g(l,P0,j0,"","\\Vdash",!0);g(l,P0,j0,"","\\shortmid");g(l,P0,j0,"","\\shortparallel");g(l,P0,j0,"","\\between",!0);g(l,P0,j0,"","\\pitchfork",!0);g(l,P0,j0,"","\\varpropto");g(l,P0,j0,"","\\blacktriangleleft");g(l,P0,j0,"","\\therefore",!0);g(l,P0,j0,"","\\backepsilon");g(l,P0,j0,"","\\blacktriangleright");g(l,P0,j0,"","\\because",!0);g(l,P0,j0,"","\\llless");g(l,P0,j0,"","\\gggtr");g(l,P0,u8,"","\\lhd");g(l,P0,u8,"","\\rhd");g(l,P0,j0,"","\\eqsim",!0);g(l,U0,j0,"","\\Join");g(l,P0,j0,"","\\Doteq",!0);g(l,P0,u8,"","\\dotplus",!0);g(l,P0,u8,"","\\smallsetminus");g(l,P0,u8,"","\\Cap",!0);g(l,P0,u8,"","\\Cup",!0);g(l,P0,u8,"","\\doublebarwedge",!0);g(l,P0,u8,"","\\boxminus",!0);g(l,P0,u8,"","\\boxplus",!0);g(l,P0,u8,"","\\divideontimes",!0);g(l,P0,u8,"","\\ltimes",!0);g(l,P0,u8,"","\\rtimes",!0);g(l,P0,u8,"","\\leftthreetimes",!0);g(l,P0,u8,"","\\rightthreetimes",!0);g(l,P0,u8,"","\\curlywedge",!0);g(l,P0,u8,"","\\curlyvee",!0);g(l,P0,u8,"","\\circleddash",!0);g(l,P0,u8,"","\\circledast",!0);g(l,P0,u8,"","\\centerdot");g(l,P0,u8,"","\\intercal",!0);g(l,P0,u8,"","\\doublecap");g(l,P0,u8,"","\\doublecup");g(l,P0,u8,"","\\boxtimes",!0);g(l,P0,j0,"","\\dashrightarrow",!0);g(l,P0,j0,"","\\dashleftarrow",!0);g(l,P0,j0,"","\\leftleftarrows",!0);g(l,P0,j0,"","\\leftrightarrows",!0);g(l,P0,j0,"","\\Lleftarrow",!0);g(l,P0,j0,"","\\twoheadleftarrow",!0);g(l,P0,j0,"","\\leftarrowtail",!0);g(l,P0,j0,"","\\looparrowleft",!0);g(l,P0,j0,"","\\leftrightharpoons",!0);g(l,P0,j0,"","\\curvearrowleft",!0);g(l,P0,j0,"","\\circlearrowleft",!0);g(l,P0,j0,"","\\Lsh",!0);g(l,P0,j0,"","\\upuparrows",!0);g(l,P0,j0,"","\\upharpoonleft",!0);g(l,P0,j0,"","\\downharpoonleft",!0);g(l,U0,j0,"","\\origof",!0);g(l,U0,j0,"","\\imageof",!0);g(l,P0,j0,"","\\multimap",!0);g(l,P0,j0,"","\\leftrightsquigarrow",!0);g(l,P0,j0,"","\\rightrightarrows",!0);g(l,P0,j0,"","\\rightleftarrows",!0);g(l,P0,j0,"","\\twoheadrightarrow",!0);g(l,P0,j0,"","\\rightarrowtail",!0);g(l,P0,j0,"","\\looparrowright",!0);g(l,P0,j0,"","\\curvearrowright",!0);g(l,P0,j0,"","\\circlearrowright",!0);g(l,P0,j0,"","\\Rsh",!0);g(l,P0,j0,"","\\downdownarrows",!0);g(l,P0,j0,"","\\upharpoonright",!0);g(l,P0,j0,"","\\downharpoonright",!0);g(l,P0,j0,"","\\rightsquigarrow",!0);g(l,P0,j0,"","\\leadsto");g(l,P0,j0,"","\\Rrightarrow",!0);g(l,P0,j0,"","\\restriction");g(l,U0,k0,"","`");g(l,U0,k0,"$","\\$");g(z8,U0,k0,"$","\\$");g(z8,U0,k0,"$","\\textdollar");g(l,U0,k0,"%","\\%");g(z8,U0,k0,"%","\\%");g(l,U0,k0,"_","\\_");g(z8,U0,k0,"_","\\_");g(z8,U0,k0,"_","\\textunderscore");g(l,U0,k0,"","\\angle",!0);g(l,U0,k0,"","\\infty",!0);g(l,U0,k0,"","\\prime");g(l,U0,k0,"","\\triangle");g(l,U0,k0,"","\\Gamma",!0);g(l,U0,k0,"","\\Delta",!0);g(l,U0,k0,"","\\Theta",!0);g(l,U0,k0,"","\\Lambda",!0);g(l,U0,k0,"","\\Xi",!0);g(l,U0,k0,"","\\Pi",!0);g(l,U0,k0,"","\\Sigma",!0);g(l,U0,k0,"","\\Upsilon",!0);g(l,U0,k0,"","\\Phi",!0);g(l,U0,k0,"","\\Psi",!0);g(l,U0,k0,"","\\Omega",!0);g(l,U0,k0,"A","");g(l,U0,k0,"B","");g(l,U0,k0,"E","");g(l,U0,k0,"Z","");g(l,U0,k0,"H","");g(l,U0,k0,"I","");g(l,U0,k0,"K","");g(l,U0,k0,"M","");g(l,U0,k0,"N","");g(l,U0,k0,"O","");g(l,U0,k0,"P","");g(l,U0,k0,"T","");g(l,U0,k0,"X","");g(l,U0,k0,"","\\neg",!0);g(l,U0,k0,"","\\lnot");g(l,U0,k0,"","\\top");g(l,U0,k0,"","\\bot");g(l,U0,k0,"","\\emptyset");g(l,P0,k0,"","\\varnothing");g(l,U0,HZ,"","\\alpha",!0);g(l,U0,HZ,"","\\beta",!0);g(l,U0,HZ,"","\\gamma",!0);g(l,U0,HZ,"","\\delta",!0);g(l,U0,HZ,"","\\epsilon",!0);g(l,U0,HZ,"","\\zeta",!0);g(l,U0,HZ,"","\\eta",!0);g(l,U0,HZ,"","\\theta",!0);g(l,U0,HZ,"","\\iota",!0);g(l,U0,HZ,"","\\kappa",!0);g(l,U0,HZ,"","\\lambda",!0);g(l,U0,HZ,"","\\mu",!0);g(l,U0,HZ,"","\\nu",!0);g(l,U0,HZ,"","\\xi",!0);g(l,U0,HZ,"","\\omicron",!0);g(l,U0,HZ,"","\\pi",!0);g(l,U0,HZ,"","\\rho",!0);g(l,U0,HZ,"","\\sigma",!0);g(l,U0,HZ,"","\\tau",!0);g(l,U0,HZ,"","\\upsilon",!0);g(l,U0,HZ,"","\\phi",!0);g(l,U0,HZ,"","\\chi",!0);g(l,U0,HZ,"","\\psi",!0);g(l,U0,HZ,"","\\omega",!0);g(l,U0,HZ,"","\\varepsilon",!0);g(l,U0,HZ,"","\\vartheta",!0);g(l,U0,HZ,"","\\varpi",!0);g(l,U0,HZ,"","\\varrho",!0);g(l,U0,HZ,"","\\varsigma",!0);g(l,U0,HZ,"","\\varphi",!0);g(l,U0,u8,"","*",!0);g(l,U0,u8,"+","+");g(l,U0,u8,"","-",!0);g(l,U0,u8,"","\\cdot",!0);g(l,U0,u8,"","\\circ",!0);g(l,U0,u8,"","\\div",!0);g(l,U0,u8,"","\\pm",!0);g(l,U0,u8,"","\\times",!0);g(l,U0,u8,"","\\cap",!0);g(l,U0,u8,"","\\cup",!0);g(l,U0,u8,"","\\setminus",!0);g(l,U0,u8,"","\\land");g(l,U0,u8,"","\\lor");g(l,U0,u8,"","\\wedge",!0);g(l,U0,u8,"","\\vee",!0);g(l,U0,k0,"","\\surd");g(l,U0,P4,"","\\langle",!0);g(l,U0,P4,"","\\lvert");g(l,U0,P4,"","\\lVert");g(l,U0,aQ,"?","?");g(l,U0,aQ,"!","!");g(l,U0,aQ,"","\\rangle",!0);g(l,U0,aQ,"","\\rvert");g(l,U0,aQ,"","\\rVert");g(l,U0,j0,"=","=");g(l,U0,j0,":",":");g(l,U0,j0,"","\\approx",!0);g(l,U0,j0,"","\\cong",!0);g(l,U0,j0,"","\\ge");g(l,U0,j0,"","\\geq",!0);g(l,U0,j0,"","\\gets");g(l,U0,j0,">","\\gt",!0);g(l,U0,j0,"","\\in",!0);g(l,U0,j0,"","\\@not");g(l,U0,j0,"","\\subset",!0);g(l,U0,j0,"","\\supset",!0);g(l,U0,j0,"","\\subseteq",!0);g(l,U0,j0,"","\\supseteq",!0);g(l,P0,j0,"","\\nsubseteq",!0);g(l,P0,j0,"","\\nsupseteq",!0);g(l,U0,j0,"","\\models");g(l,U0,j0,"","\\leftarrow",!0);g(l,U0,j0,"","\\le");g(l,U0,j0,"","\\leq",!0);g(l,U0,j0,"<","\\lt",!0);g(l,U0,j0,"","\\rightarrow",!0);g(l,U0,j0,"","\\to");g(l,P0,j0,"","\\ngeq",!0);g(l,P0,j0,"","\\nleq",!0);g(l,U0,iX,"","\\ ");g(l,U0,iX,"","\\space");g(l,U0,iX,"","\\nobreakspace");g(z8,U0,iX,"","\\ ");g(z8,U0,iX,""," ");g(z8,U0,iX,"","\\space");g(z8,U0,iX,"","\\nobreakspace");g(l,U0,iX,null,"\\nobreak");g(l,U0,iX,null,"\\allowbreak");g(l,U0,WV,",",",");g(l,U0,WV,";",";");g(l,P0,u8,"","\\barwedge",!0);g(l,P0,u8,"","\\veebar",!0);g(l,U0,u8,"","\\odot",!0);g(l,U0,u8,"","\\oplus",!0);g(l,U0,u8,"","\\otimes",!0);g(l,U0,k0,"","\\partial",!0);g(l,U0,u8,"","\\oslash",!0);g(l,P0,u8,"","\\circledcirc",!0);g(l,P0,u8,"","\\boxdot",!0);g(l,U0,u8,"","\\bigtriangleup");g(l,U0,u8,"","\\bigtriangledown");g(l,U0,u8,"","\\dagger");g(l,U0,u8,"","\\diamond");g(l,U0,u8,"","\\star");g(l,U0,u8,"","\\triangleleft");g(l,U0,u8,"","\\triangleright");g(l,U0,P4,"{","\\{");g(z8,U0,k0,"{","\\{");g(z8,U0,k0,"{","\\textbraceleft");g(l,U0,aQ,"}","\\}");g(z8,U0,k0,"}","\\}");g(z8,U0,k0,"}","\\textbraceright");g(l,U0,P4,"{","\\lbrace");g(l,U0,aQ,"}","\\rbrace");g(l,U0,P4,"[","\\lbrack",!0);g(z8,U0,k0,"[","\\lbrack",!0);g(l,U0,aQ,"]","\\rbrack",!0);g(z8,U0,k0,"]","\\rbrack",!0);g(l,U0,P4,"(","\\lparen",!0);g(l,U0,aQ,")","\\rparen",!0);g(z8,U0,k0,"<","\\textless",!0);g(z8,U0,k0,">","\\textgreater",!0);g(l,U0,P4,"","\\lfloor",!0);g(l,U0,aQ,"","\\rfloor",!0);g(l,U0,P4,"","\\lceil",!0);g(l,U0,aQ,"","\\rceil",!0);g(l,U0,k0,"\\","\\backslash");g(l,U0,k0,"","|");g(l,U0,k0,"","\\vert");g(z8,U0,k0,"|","\\textbar",!0);g(l,U0,k0,"","\\|");g(l,U0,k0,"","\\Vert");g(z8,U0,k0,"","\\textbardbl");g(z8,U0,k0,"~","\\textasciitilde");g(z8,U0,k0,"\\","\\textbackslash");g(z8,U0,k0,"^","\\textasciicircum");g(l,U0,j0,"","\\uparrow",!0);g(l,U0,j0,"","\\Uparrow",!0);g(l,U0,j0,"","\\downarrow",!0);g(l,U0,j0,"","\\Downarrow",!0);g(l,U0,j0,"","\\updownarrow",!0);g(l,U0,j0,"","\\Updownarrow",!0);g(l,U0,J7,"","\\coprod");g(l,U0,J7,"","\\bigvee");g(l,U0,J7,"","\\bigwedge");g(l,U0,J7,"","\\biguplus");g(l,U0,J7,"","\\bigcap");g(l,U0,J7,"","\\bigcup");g(l,U0,J7,"","\\int");g(l,U0,J7,"","\\intop");g(l,U0,J7,"","\\iint");g(l,U0,J7,"","\\iiint");g(l,U0,J7,"","\\prod");g(l,U0,J7,"","\\sum");g(l,U0,J7,"","\\bigotimes");g(l,U0,J7,"","\\bigoplus");g(l,U0,J7,"","\\bigodot");g(l,U0,J7,"","\\oint");g(l,U0,J7,"","\\oiint");g(l,U0,J7,"","\\oiiint");g(l,U0,J7,"","\\bigsqcup");g(l,U0,J7,"","\\smallint");g(z8,U0,gH,"","\\textellipsis");g(l,U0,gH,"","\\mathellipsis");g(z8,U0,gH,"","\\ldots",!0);g(l,U0,gH,"","\\ldots",!0);g(l,U0,gH,"","\\@cdots",!0);g(l,U0,gH,"","\\ddots",!0);g(l,U0,k0,"","\\varvdots");g(z8,U0,k0,"","\\varvdots");g(l,U0,LJ,"","\\acute");g(l,U0,LJ,"","\\grave");g(l,U0,LJ,"","\\ddot");g(l,U0,LJ,"~","\\tilde");g(l,U0,LJ,"","\\bar");g(l,U0,LJ,"","\\breve");g(l,U0,LJ,"","\\check");g(l,U0,LJ,"^","\\hat");g(l,U0,LJ,"","\\vec");g(l,U0,LJ,"","\\dot");g(l,U0,LJ,"","\\mathring");g(l,U0,HZ,"","\\@imath");g(l,U0,HZ,"","\\@jmath");g(l,U0,k0,"","");g(l,U0,k0,"","");g(z8,U0,k0,"","\\i",!0);g(z8,U0,k0,"","\\j",!0);g(z8,U0,k0,"","\\ss",!0);g(z8,U0,k0,"","\\ae",!0);g(z8,U0,k0,"","\\oe",!0);g(z8,U0,k0,"","\\o",!0);g(z8,U0,k0,"","\\AE",!0);g(z8,U0,k0,"","\\OE",!0);g(z8,U0,k0,"","\\O",!0);g(z8,U0,LJ,"","\\'");g(z8,U0,LJ,"","\\`");g(z8,U0,LJ,"","\\^");g(z8,U0,LJ,"","\\~");g(z8,U0,LJ,"","\\=");g(z8,U0,LJ,"","\\u");g(z8,U0,LJ,"","\\.");g(z8,U0,LJ,"","\\c");g(z8,U0,LJ,"","\\r");g(z8,U0,LJ,"","\\v");g(z8,U0,LJ,"","\\\"");g(z8,U0,LJ,"","\\H");g(z8,U0,LJ,"","\\textcircled");dK0={"--":!0,"---":!0,"``":!0,"''":!0};g(z8,U0,k0,"","--",!0);g(z8,U0,k0,"","\\textendash");g(z8,U0,k0,"","---",!0);g(z8,U0,k0,"","\\textemdash");g(z8,U0,k0,"","`",!0);g(z8,U0,k0,"","\\textquoteleft");g(z8,U0,k0,"","'",!0);g(z8,U0,k0,"","\\textquoteright");g(z8,U0,k0,"","``",!0);g(z8,U0,k0,"","\\textquotedblleft");g(z8,U0,k0,"","''",!0);g(z8,U0,k0,"","\\textquotedblright");g(l,U0,k0,"","\\degree",!0);g(z8,U0,k0,"","\\degree");g(z8,U0,k0,"","\\textdegree",!0);g(l,U0,k0,"","\\pounds");g(l,U0,k0,"","\\mathsterling",!0);g(z8,U0,k0,"","\\pounds");g(z8,U0,k0,"","\\textsterling",!0);g(l,P0,k0,"","\\maltese");g(z8,P0,k0,"","\\maltese");for(cR=0;cR<HK0.length;cR++)tE=HK0.charAt(cR),g(l,U0,k0,tE,tE);for(lR=0;lR<FK0.length;lR++)eE=FK0.charAt(lR),g(z8,U0,k0,eE,eE);for(dR=0;dR<QV.length;dR++)xH=QV.charAt(dR),g(l,U0,HZ,xH,xH),g(z8,U0,k0,xH,xH);g(l,P0,k0,"C","");g(z8,P0,k0,"C","");g(l,P0,k0,"H","");g(z8,P0,k0,"H","");g(l,P0,k0,"N","");g(z8,P0,k0,"N","");g(l,P0,k0,"P","");g(z8,P0,k0,"P","");g(l,P0,k0,"Q","");g(z8,P0,k0,"Q","");g(l,P0,k0,"R","");g(z8,P0,k0,"R","");g(l,P0,k0,"Z","");g(z8,P0,k0,"Z","");g(l,U0,HZ,"h","");g(z8,U0,HZ,"h","");for(a7=0;a7<QV.length;a7++)if(RJ=QV.charAt(a7),NZ=String.fromCharCode(55349,56320+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56372+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56424+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56580+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56684+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56736+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56788+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56840+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56944+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),a7<26)NZ=String.fromCharCode(55349,56632+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ),NZ=String.fromCharCode(55349,56476+a7),g(l,U0,HZ,RJ,NZ),g(z8,U0,k0,RJ,NZ);NZ=String.fromCharCode(55349,56668);g(l,U0,HZ,"k",NZ);g(z8,U0,k0,"k",NZ);for(mX=0;mX<10;mX++)QU=mX.toString(),NZ=String.fromCharCode(55349,57294+mX),g(l,U0,HZ,QU,NZ),g(z8,U0,k0,QU,NZ),NZ=String.fromCharCode(55349,57314+mX),g(l,U0,HZ,QU,NZ),g(z8,U0,k0,QU,NZ),NZ=String.fromCharCode(55349,57324+mX),g(l,U0,HZ,QU,NZ),g(z8,U0,k0,QU,NZ),NZ=String.fromCharCode(55349,57334+mX),g(l,U0,HZ,QU,NZ),g(z8,U0,k0,QU,NZ);for(iR=0;iR<Sy.length;iR++)bH=Sy.charAt(iR),g(l,U0,HZ,bH,bH),g(z8,U0,k0,bH,bH);dE=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],MK0=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],rK0={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},nK0={vec:["vec",0.471,0.714],oiintSize1:["oiintSize1",0.957,0.499],oiintSize2:["oiintSize2",1.472,0.659],oiiintSize1:["oiiintSize1",1.304,0.499],oiiintSize2:["oiiintSize2",1.98,0.659]},c0={fontMap:rK0,makeSymbol:Z5,mathsym:D08,makeSpan:_6,makeSvgSpan:iK0,makeLineSpan:V08,makeAnchor:P08,makeFragment:sK0,wrapFragment:C08,makeVList:S08,makeOrd:A08,makeGlue:T08,staticSvg:w08,svgData:nK0,tryCombineChars:E08},SJ={number:3,unit:"mu"},zG={number:4,unit:"mu"},yX={number:5,unit:"mu"},$08={mord:{mop:SJ,mbin:zG,mrel:yX,minner:SJ},mop:{mord:SJ,mop:SJ,mrel:yX,minner:SJ},mbin:{mord:zG,mop:zG,mopen:zG,minner:zG},mrel:{mord:yX,mop:yX,mopen:yX,minner:yX},mopen:{},mclose:{mop:SJ,mbin:zG,mrel:yX,minner:SJ},mpunct:{mord:SJ,mop:SJ,mrel:yX,mopen:SJ,mclose:SJ,mpunct:SJ,minner:SJ},minner:{mord:SJ,mop:SJ,mbin:zG,mrel:yX,mopen:SJ,mpunct:SJ,minner:SJ}},k08={mord:{mop:SJ},mop:{mord:SJ,mop:SJ},mbin:{},mrel:{},mopen:{},mclose:{mop:SJ},mpunct:{},minner:{mop:SJ}},aK0={},KV={},UV={};lX=c0.makeSpan,_08=["leftmost","mbin","mopen","mrel","mop","mpunct"],f08=["rightmost","mrel","mclose","mpunct"],v08={display:FZ.DISPLAY,text:FZ.TEXT,script:FZ.SCRIPT,scriptscript:FZ.SCRIPTSCRIPT},x08={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"};D8={MathNode:v6,TextNode:J5,SpaceNode:eK0,newDocumentFragment:tK0};m08={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},g08={overrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],0.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],0.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],0.888,522,"xMaxYMin"],xlongequal:[["longequal"],0.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],0.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],0.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],0.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],0.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],overgroup:[["leftgroup","rightgroup"],0.888,342],undergroup:[["leftgroupunder","rightgroupunder"],0.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},dX={encloseSpan:l08,mathMLnode:u08,svgSpan:c08};d08=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((Z)=>"\\"+Z).join("|"));b8({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(Z,J)=>{var Q=XV(J[0]),K=!d08.test(Z.funcName),U=!K||Z.funcName==="\\widehat"||Z.funcName==="\\widetilde"||Z.funcName==="\\widecheck";return{type:"accent",mode:Z.parser.mode,label:Z.funcName,isStretchy:K,isShifty:U,base:Q}},htmlBuilder:uy,mathmlBuilder:Q50});b8({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.","\\\"","\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(Z,J)=>{var Q=J[0],K=Z.parser.mode;if(K==="math")Z.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+Z.funcName+" works only in text mode"),K="text";return{type:"accent",mode:K,label:Z.funcName,isStretchy:!1,isShifty:!0,base:Q}},htmlBuilder:uy,mathmlBuilder:Q50});b8({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0];return{type:"accentUnder",mode:Q.mode,label:K,base:U}},htmlBuilder:(Z,J)=>{var Q=W9(Z.base,J),K=dX.svgSpan(Z,J),U=Z.label==="\\utilde"?0.12:0,X=c0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"elem",elem:K,wrapperClasses:["svg-align"]},{type:"kern",size:U},{type:"elem",elem:Q}]},J);return c0.makeSpan(["mord","accentunder"],[X],J)},mathmlBuilder:(Z,J)=>{var Q=dX.mathMLnode(Z.label),K=new D8.MathNode("munder",[p9(Z.base,J),Q]);return K.setAttribute("accentunder","true"),K}});b8({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K,funcName:U}=Z;return{type:"xArrow",mode:K.mode,label:U,body:J[0],below:Q[0]}},htmlBuilder(Z,J){var Q=J.style,K=J.havingStyle(Q.sup()),U=c0.wrapFragment(W9(Z.body,K,J),J),X=Z.label.slice(0,2)==="\\x"?"x":"cd";U.classes.push(X+"-arrow-pad");var Y;if(Z.below)K=J.havingStyle(Q.sub()),Y=c0.wrapFragment(W9(Z.below,K,J),J),Y.classes.push(X+"-arrow-pad");var q=dX.svgSpan(Z,J),W=-J.fontMetrics().axisHeight+0.5*q.height,G=-J.fontMetrics().axisHeight-0.5*q.height-0.111;if(U.depth>0.25||Z.label==="\\xleftequilibrium")G-=U.depth;var z;if(Y){var H=-J.fontMetrics().axisHeight+Y.height+0.5*q.height+0.111;z=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:G},{type:"elem",elem:q,shift:W},{type:"elem",elem:Y,shift:H}]},J)}else z=c0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:G},{type:"elem",elem:q,shift:W}]},J);return z.children[0].children[0].children[1].classes.push("svg-align"),c0.makeSpan(["mrel","x-arrow"],[z],J)},mathmlBuilder(Z,J){var Q=dX.mathMLnode(Z.label);Q.setAttribute("minsize",Z.label.charAt(0)==="x"?"1.75em":"3.0em");var K;if(Z.body){var U=rE(p9(Z.body,J));if(Z.below){var X=rE(p9(Z.below,J));K=new D8.MathNode("munderover",[Q,X,U])}else K=new D8.MathNode("mover",[Q,U])}else if(Z.below){var Y=rE(p9(Z.below,J));K=new D8.MathNode("munder",[Q,Y])}else K=rE(),K=new D8.MathNode("mover",[Q,K]);return K}});i08=c0.makeSpan;b8({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,U=J[0];return{type:"mclass",mode:Q.mode,mclass:"m"+K.slice(5),body:sJ(U),isCharacterBox:O9.isCharacterBox(U)}},htmlBuilder:K50,mathmlBuilder:U50});b8({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(Z,J){var{parser:Q}=Z;return{type:"mclass",mode:Q.mode,mclass:HV(J[0]),body:sJ(J[1]),isCharacterBox:O9.isCharacterBox(J[1])}}});b8({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(Z,J){var{parser:Q,funcName:K}=Z,U=J[1],X=J[0],Y;if(K!=="\\stackrel")Y=HV(U);else Y="mrel";var q={type:"op",mode:U.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:K!=="\\stackrel",body:sJ(U)},W={type:"supsub",mode:X.mode,base:q,sup:K==="\\underset"?null:X,sub:K==="\\underset"?X:null};return{type:"mclass",mode:Q.mode,mclass:Y,body:[W],isCharacterBox:O9.isCharacterBox(W)}},htmlBuilder:K50,mathmlBuilder:U50});b8({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"pmb",mode:Q.mode,mclass:HV(J[0]),body:sJ(J[0])}},htmlBuilder(Z,J){var Q=O7(Z.body,J,!0),K=c0.makeSpan([Z.mclass],Q,J);return K.style.textShadow="0.02em 0.01em 0.04px",K},mathmlBuilder(Z,J){var Q=x6(Z.body,J),K=new D8.MathNode("mstyle",Q);return K.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),K}});s08={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"};b8({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"cdlabel",mode:Q.mode,side:K.slice(4),label:J[0]}},htmlBuilder(Z,J){var Q=J.havingStyle(J.style.sup()),K=c0.wrapFragment(W9(Z.label,Q,J),J);return K.classes.push("cd-label-"+Z.side),K.style.bottom=T8(0.8-K.depth),K.height=0,K.depth=0,K},mathmlBuilder(Z,J){var Q=new D8.MathNode("mrow",[p9(Z.label,J)]);if(Q=new D8.MathNode("mpadded",[Q]),Q.setAttribute("width","0"),Z.side==="left")Q.setAttribute("lspace","-1width");return Q.setAttribute("voffset","0.7em"),Q=new D8.MathNode("mstyle",[Q]),Q.setAttribute("displaystyle","false"),Q.setAttribute("scriptlevel","1"),Q}});b8({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z;return{type:"cdlabelparent",mode:Q.mode,fragment:J[0]}},htmlBuilder(Z,J){var Q=c0.wrapFragment(W9(Z.fragment,J),J);return Q.classes.push("cd-vert-arrow"),Q},mathmlBuilder(Z,J){return new D8.MathNode("mrow",[p9(Z.fragment,J)])}});b8({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=_Z(J[0],"ordgroup"),U=K.body,X="";for(var Y=0;Y<U.length;Y++){var q=_Z(U[Y],"textord");X+=q.text}var W=parseInt(X),G;if(isNaN(W))throw new N8("\\@char has non-numeric argument "+X);else if(W<0||W>=1114111)throw new N8("\\@char with invalid code point "+X);else if(W<=65535)G=String.fromCharCode(W);else W-=65536,G=String.fromCharCode((W>>10)+55296,(W&1023)+56320);return{type:"textord",mode:Q.mode,text:G}}});b8({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(Z,J){var{parser:Q}=Z,K=_Z(J[0],"color-token").color,U=J[1];return{type:"color",mode:Q.mode,color:K,body:sJ(U)}},htmlBuilder:X50,mathmlBuilder:Y50});b8({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(Z,J){var{parser:Q,breakOnTokenText:K}=Z,U=_Z(J[0],"color-token").color;Q.gullet.macros.set("\\current@color",U);var X=Q.parseExpression(!0,K);return{type:"color",mode:Q.mode,color:U,body:X}},htmlBuilder:X50,mathmlBuilder:Y50});b8({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(Z,J,Q){var{parser:K}=Z,U=K.gullet.future().text==="["?K.parseSizeGroup(!0):null,X=!K.settings.displayMode||!K.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:K.mode,newLine:X,size:U&&_Z(U,"size").value}},htmlBuilder(Z,J){var Q=c0.makeSpan(["mspace"],[],J);if(Z.newLine){if(Q.classes.push("newline"),Z.size)Q.style.marginTop=T8(TJ(Z.size,J))}return Q},mathmlBuilder(Z,J){var Q=new D8.MathNode("mspace");if(Z.newLine){if(Q.setAttribute("linebreak","newline"),Z.size)Q.setAttribute("height",T8(TJ(Z.size,J)))}return Q}});$y={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"};b8({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(Z){var{parser:J,funcName:Q}=Z;J.consumeSpaces();var K=J.fetch();if($y[K.text]){if(Q==="\\global"||Q==="\\\\globallong")K.text=$y[K.text];return _Z(J.parseFunction(),"internal")}throw new N8("Invalid token after macro prefix",K)}});b8({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=J.gullet.popToken(),U=K.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(U))throw new N8("Expected a control sequence",K);var X=0,Y,q=[[]];while(J.gullet.future().text!=="{")if(K=J.gullet.popToken(),K.text==="#"){if(J.gullet.future().text==="{"){Y=J.gullet.future(),q[X].push("{");break}if(K=J.gullet.popToken(),!/^[1-9]$/.test(K.text))throw new N8('Invalid argument number "'+K.text+'"');if(parseInt(K.text)!==X+1)throw new N8('Argument number "'+K.text+'" out of order');X++,q.push([])}else if(K.text==="EOF")throw new N8("Expected a macro definition");else q[X].push(K.text);var{tokens:W}=J.gullet.consumeArg();if(Y)W.unshift(Y);if(Q==="\\edef"||Q==="\\xdef")W=J.gullet.expandTokens(W),W.reverse();return J.gullet.macros.set(U,{tokens:W,numArgs:X,delimiters:q},Q===$y[Q]),{type:"internal",mode:J.mode}}});b8({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=q50(J.gullet.popToken());J.gullet.consumeSpaces();var U=o08(J);return W50(J,K,U,Q==="\\\\globallet"),{type:"internal",mode:J.mode}}});b8({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=q50(J.gullet.popToken()),U=J.gullet.popToken(),X=J.gullet.popToken();return W50(J,K,X,Q==="\\\\globalfuture"),J.gullet.pushToken(X),J.gullet.pushToken(U),{type:"internal",mode:J.mode}}});nE={type:"kern",size:-1*ky},Z88=["|","\\lvert","\\rvert","\\vert"],J88=["\\|","\\lVert","\\rVert","\\Vert"],F50=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],K88=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],M50=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],nR=[0,1.2,1.8,2.4,3],X88=[{type:"small",style:FZ.SCRIPTSCRIPT},{type:"small",style:FZ.SCRIPT},{type:"small",style:FZ.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Y88=[{type:"small",style:FZ.SCRIPTSCRIPT},{type:"small",style:FZ.SCRIPT},{type:"small",style:FZ.TEXT},{type:"stack"}],B50=[{type:"small",style:FZ.SCRIPTSCRIPT},{type:"small",style:FZ.SCRIPT},{type:"small",style:FZ.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],pX={sqrtImage:Q88,sizedDelim:U88,sizeToMaxHeight:nR,customSizedDelim:R50,leftRightDelim:W88},DK0={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},G88=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];b8({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(Z,J)=>{var Q=FV(J[0],Z);return{type:"delimsizing",mode:Z.parser.mode,size:DK0[Z.funcName].size,mclass:DK0[Z.funcName].mclass,delim:Q.text}},htmlBuilder:(Z,J)=>{if(Z.delim===".")return c0.makeSpan([Z.mclass]);return pX.sizedDelim(Z.delim,Z.size,J,Z.mode,[Z.mclass])},mathmlBuilder:(Z)=>{var J=[];if(Z.delim!==".")J.push(KK(Z.delim,Z.mode));var Q=new D8.MathNode("mo",J);if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.setAttribute("fence","true");else Q.setAttribute("fence","false");Q.setAttribute("stretchy","true");var K=T8(pX.sizeToMaxHeight[Z.size]);return Q.setAttribute("minsize",K),Q.setAttribute("maxsize",K),Q}});b8({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=Z.parser.gullet.macros.get("\\current@color");if(Q&&typeof Q!=="string")throw new N8("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:Z.parser.mode,delim:FV(J[0],Z).text,color:Q}}});b8({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=FV(J[0],Z),K=Z.parser;++K.leftrightDepth;var U=K.parseExpression(!1);--K.leftrightDepth,K.expect("\\right",!1);var X=_Z(K.parseFunction(),"leftright-right");return{type:"leftright",mode:K.mode,body:U,left:Q.text,right:X.delim,rightColor:X.color}},htmlBuilder:(Z,J)=>{IK0(Z);var Q=O7(Z.body,J,!0,["mopen","mclose"]),K=0,U=0,X=!1;for(var Y=0;Y<Q.length;Y++)if(Q[Y].isMiddle)X=!0;else K=Math.max(Q[Y].height,K),U=Math.max(Q[Y].depth,U);K*=J.sizeMultiplier,U*=J.sizeMultiplier;var q;if(Z.left===".")q=oR(J,["mopen"]);else q=pX.leftRightDelim(Z.left,K,U,J,Z.mode,["mopen"]);if(Q.unshift(q),X)for(var W=1;W<Q.length;W++){var G=Q[W],z=G.isMiddle;if(z)Q[W]=pX.leftRightDelim(z.delim,K,U,z.options,Z.mode,[])}var H;if(Z.right===".")H=oR(J,["mclose"]);else{var F=Z.rightColor?J.withColor(Z.rightColor):J;H=pX.leftRightDelim(Z.right,K,U,F,Z.mode,["mclose"])}return Q.push(H),c0.makeSpan(["minner"],Q,J)},mathmlBuilder:(Z,J)=>{IK0(Z);var Q=x6(Z.body,J);if(Z.left!=="."){var K=new D8.MathNode("mo",[KK(Z.left,Z.mode)]);K.setAttribute("fence","true"),Q.unshift(K)}if(Z.right!=="."){var U=new D8.MathNode("mo",[KK(Z.right,Z.mode)]);if(U.setAttribute("fence","true"),Z.rightColor)U.setAttribute("mathcolor",Z.rightColor);Q.push(U)}return yy(Q)}});b8({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=FV(J[0],Z);if(!Z.parser.leftrightDepth)throw new N8("\\middle without preceding \\left",Q);return{type:"middle",mode:Z.parser.mode,delim:Q.text}},htmlBuilder:(Z,J)=>{var Q;if(Z.delim===".")Q=oR(J,[]);else{Q=pX.sizedDelim(Z.delim,1,J,Z.mode,[]);var K={delim:Z.delim,options:J};Q.isMiddle=K}return Q},mathmlBuilder:(Z,J)=>{var Q=Z.delim==="\\vert"||Z.delim==="|"?KK("|","text"):KK(Z.delim,Z.mode),K=new D8.MathNode("mo",[Q]);return K.setAttribute("fence","true"),K.setAttribute("lspace","0.05em"),K.setAttribute("rspace","0.05em"),K}});b8({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(Z,J,Q){var{parser:K,funcName:U}=Z,X=_Z(J[0],"color-token").color,Y=J[1];return{type:"enclose",mode:K.mode,label:U,backgroundColor:X,body:Y}},htmlBuilder:py,mathmlBuilder:cy});b8({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(Z,J,Q){var{parser:K,funcName:U}=Z,X=_Z(J[0],"color-token").color,Y=_Z(J[1],"color-token").color,q=J[2];return{type:"enclose",mode:K.mode,label:U,backgroundColor:Y,borderColor:X,body:q}},htmlBuilder:py,mathmlBuilder:cy});b8({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\fbox",body:J[0]}}});b8({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z,U=J[0];return{type:"enclose",mode:Q.mode,label:K,body:U}},htmlBuilder:py,mathmlBuilder:cy});b8({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\angl",body:J[0]}}});L50={};D50={};z88={c:"center ",l:"left ",r:"right "};YU({type:"array",names:["array","darray"],props:{numArgs:1},handler(Z,J){var Q=zV(J[0]),K=Q?[J[0]]:_Z(J[0],"ordgroup").body,U=K.map(function(Y){var q=my(Y),W=q.text;if("lcr".indexOf(W)!==-1)return{type:"align",align:W};else if(W==="|")return{type:"separator",separator:"|"};else if(W===":")return{type:"separator",separator:":"};throw new N8("Unknown column alignment: "+W,Y)}),X={cols:U,hskipBeforeAndAfter:!0,maxNumCols:U.length};return M1(Z.parser,X,dy(Z.envName))},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(Z){var J={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[Z.envName.replace("*","")],Q="c",K={hskipBeforeAndAfter:!1,cols:[{type:"align",align:Q}]};if(Z.envName.charAt(Z.envName.length-1)==="*"){var U=Z.parser;if(U.consumeSpaces(),U.fetch().text==="["){if(U.consume(),U.consumeSpaces(),Q=U.fetch().text,"lcr".indexOf(Q)===-1)throw new N8("Expected l or c or r",U.nextToken);U.consume(),U.consumeSpaces(),U.expect("]"),U.consume(),K.cols=[{type:"align",align:Q}]}}var X=M1(Z.parser,K,dy(Z.envName)),Y=Math.max(0,...X.body.map((q)=>q.length));return X.cols=Array(Y).fill({type:"align",align:Q}),J?{type:"leftright",mode:Z.mode,body:[X],left:J[0],right:J[1],rightColor:void 0}:X},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(Z){var J={arraystretch:0.5},Q=M1(Z.parser,J,"script");return Q.colSeparationType="small",Q},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["subarray"],props:{numArgs:1},handler(Z,J){var Q=zV(J[0]),K=Q?[J[0]]:_Z(J[0],"ordgroup").body,U=K.map(function(Y){var q=my(Y),W=q.text;if("lc".indexOf(W)!==-1)return{type:"align",align:W};throw new N8("Unknown column alignment: "+W,Y)});if(U.length>1)throw new N8("{subarray} can contain only one column");var X={cols:U,hskipBeforeAndAfter:!1,arraystretch:0.5};if(X=M1(Z.parser,X,"script"),X.body.length>0&&X.body[0].length>1)throw new N8("{subarray} can contain only one column");return X},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(Z){var J={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Q=M1(Z.parser,J,dy(Z.envName));return{type:"leftright",mode:Z.mode,body:[Q],left:Z.envName.indexOf("r")>-1?".":"\\{",right:Z.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:I50,htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(Z){if(["gather","gather*"].includes(Z.envName))MV(Z);var J={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:ly(Z.envName),emptySingleRow:!0,leqno:Z.parser.settings.leqno};return M1(Z.parser,J,"display")},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:I50,htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(Z){MV(Z);var J={autoTag:ly(Z.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:Z.parser.settings.leqno};return M1(Z.parser,J,"display")},htmlBuilder:qU,mathmlBuilder:WU});YU({type:"array",names:["CD"],props:{numArgs:0},handler(Z){return MV(Z),a08(Z.parser)},htmlBuilder:qU,mathmlBuilder:WU});G0("\\nonumber","\\gdef\\@eqnsw{0}");G0("\\notag","\\nonumber");b8({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(Z,J){throw new N8(Z.funcName+" valid only within array environment")}});NK0=L50;b8({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(Z,J){var{parser:Q,funcName:K}=Z,U=J[0];if(U.type!=="ordgroup")throw new N8("Invalid environment name",U);var X="";for(var Y=0;Y<U.body.length;++Y)X+=_Z(U.body[Y],"textord").text;if(K==="\\begin"){if(!NK0.hasOwnProperty(X))throw new N8("No such environment: "+X,U);var q=NK0[X],{args:W,optArgs:G}=Q.parseArguments("\\begin{"+X+"}",q),z={mode:Q.mode,envName:X,parser:Q},H=q.handler(z,W,G);Q.expect("\\end",!1);var F=Q.nextToken,M=_Z(Q.parseFunction(),"environment");if(M.name!==X)throw new N8("Mismatch: \\begin{"+X+"} matched by \\end{"+M.name+"}",F);return H}return{type:"environment",mode:Q.mode,name:X,nameGroup:U}}});EK0={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};b8({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=XV(J[0]),X=K;if(X in EK0)X=EK0[X];return{type:"font",mode:Q.mode,font:X.slice(1),body:U}},htmlBuilder:A50,mathmlBuilder:N50});b8({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0],U=O9.isCharacterBox(K);return{type:"mclass",mode:Q.mode,mclass:HV(K),body:[{type:"font",mode:Q.mode,font:"boldsymbol",body:K}],isCharacterBox:U}}});b8({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,breakOnTokenText:U}=Z,{mode:X}=Q,Y=Q.parseExpression(!0,U),q="math"+K.slice(1);return{type:"font",mode:X,font:q,body:{type:"ordgroup",mode:Q.mode,body:Y}}},htmlBuilder:A50,mathmlBuilder:N50});b8({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0],X=J[1],Y,q=null,W=null,G="auto";switch(K){case"\\dfrac":case"\\frac":case"\\tfrac":Y=!0;break;case"\\\\atopfrac":Y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Y=!1,q="(",W=")";break;case"\\\\bracefrac":Y=!1,q="\\{",W="\\}";break;case"\\\\brackfrac":Y=!1,q="[",W="]";break;default:throw Error("Unrecognized genfrac command")}switch(K){case"\\dfrac":case"\\dbinom":G="display";break;case"\\tfrac":case"\\tbinom":G="text";break}return{type:"genfrac",mode:Q.mode,continued:!1,numer:U,denom:X,hasBarLine:Y,leftDelim:q,rightDelim:W,size:G,barSize:null}},htmlBuilder:iy,mathmlBuilder:sy});b8({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0],X=J[1];return{type:"genfrac",mode:Q.mode,continued:!0,numer:U,denom:X,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});b8({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(Z){var{parser:J,funcName:Q,token:K}=Z,U;switch(Q){case"\\over":U="\\frac";break;case"\\choose":U="\\binom";break;case"\\atop":U="\\\\atopfrac";break;case"\\brace":U="\\\\bracefrac";break;case"\\brack":U="\\\\brackfrac";break;default:throw Error("Unrecognized infix genfrac command")}return{type:"infix",mode:J.mode,replaceWith:U,token:K}}});VK0=["display","text","script","scriptscript"];b8({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(Z,J){var{parser:Q}=Z,K=J[4],U=J[5],X=XV(J[0]),Y=X.type==="atom"&&X.family==="open"?PK0(X.text):null,q=XV(J[1]),W=q.type==="atom"&&q.family==="close"?PK0(q.text):null,G=_Z(J[2],"size"),z,H=null;if(G.isBlank)z=!0;else H=G.value,z=H.number>0;var F="auto",M=J[3];if(M.type==="ordgroup"){if(M.body.length>0){var B=_Z(M.body[0],"textord");F=VK0[Number(B.text)]}}else M=_Z(M,"textord"),F=VK0[Number(M.text)];return{type:"genfrac",mode:Q.mode,numer:K,denom:U,continued:!1,hasBarLine:z,barSize:H,leftDelim:Y,rightDelim:W,size:F}},htmlBuilder:iy,mathmlBuilder:sy});b8({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(Z,J){var{parser:Q,funcName:K,token:U}=Z;return{type:"infix",mode:Q.mode,replaceWith:"\\\\abovefrac",size:_Z(J[0],"size").value,token:U}}});b8({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0],X=ce0(_Z(J[1],"infix").size),Y=J[2],q=X.number>0;return{type:"genfrac",mode:Q.mode,numer:U,denom:Y,continued:!1,hasBarLine:q,barSize:X,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:iy,mathmlBuilder:sy});b8({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"horizBrace",mode:Q.mode,label:K,isOver:/^\\over/.test(K),base:J[0]}},htmlBuilder:V50,mathmlBuilder:H88});b8({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[1],U=_Z(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\href",url:U}))return Q.formatUnsupportedCmd("\\href");return{type:"href",mode:Q.mode,href:U,body:sJ(K)}},htmlBuilder:(Z,J)=>{var Q=O7(Z.body,J,!1);return c0.makeAnchor(Z.href,[],Q,J)},mathmlBuilder:(Z,J)=>{var Q=F1(Z.body,J);if(!(Q instanceof v6))Q=new v6("mrow",[Q]);return Q.setAttribute("href",Z.href),Q}});b8({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=_Z(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\url",url:K}))return Q.formatUnsupportedCmd("\\url");var U=[];for(var X=0;X<K.length;X++){var Y=K[X];if(Y==="~")Y="\\textasciitilde";U.push({type:"textord",mode:"text",text:Y})}var q={type:"text",mode:Q.mode,font:"\\texttt",body:U};return{type:"href",mode:Q.mode,href:K,body:sJ(q)}}});b8({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(Z,J){var{parser:Q}=Z;return{type:"hbox",mode:Q.mode,body:sJ(J[0])}},htmlBuilder(Z,J){var Q=O7(Z.body,J,!1);return c0.makeFragment(Q)},mathmlBuilder(Z,J){return new D8.MathNode("mrow",x6(Z.body,J))}});b8({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,token:U}=Z,X=_Z(J[0],"raw").string,Y=J[1];if(Q.settings.strict)Q.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var q,W={};switch(K){case"\\htmlClass":W.class=X,q={command:"\\htmlClass",class:X};break;case"\\htmlId":W.id=X,q={command:"\\htmlId",id:X};break;case"\\htmlStyle":W.style=X,q={command:"\\htmlStyle",style:X};break;case"\\htmlData":{var G=X.split(",");for(var z=0;z<G.length;z++){var H=G[z],F=H.indexOf("=");if(F<0)throw new N8("\\htmlData key/value '"+H+"' missing equals sign");var M=H.slice(0,F),B=H.slice(F+1);W["data-"+M.trim()]=B}q={command:"\\htmlData",attributes:W};break}default:throw Error("Unrecognized html command")}if(!Q.settings.isTrusted(q))return Q.formatUnsupportedCmd(K);return{type:"html",mode:Q.mode,attributes:W,body:sJ(Y)}},htmlBuilder:(Z,J)=>{var Q=O7(Z.body,J,!1),K=["enclosing"];if(Z.attributes.class)K.push(...Z.attributes.class.trim().split(/\s+/));var U=c0.makeSpan(K,Q,J);for(var X in Z.attributes)if(X!=="class"&&Z.attributes.hasOwnProperty(X))U.setAttribute(X,Z.attributes[X]);return U},mathmlBuilder:(Z,J)=>{return F1(Z.body,J)}});b8({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"htmlmathml",mode:Q.mode,html:sJ(J[0]),mathml:sJ(J[1])}},htmlBuilder:(Z,J)=>{var Q=O7(Z.html,J,!1);return c0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{return F1(Z.mathml,J)}});b8({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(Z,J,Q)=>{var{parser:K}=Z,U={number:0,unit:"em"},X={number:0.9,unit:"em"},Y={number:0,unit:"em"},q="";if(Q[0]){var W=_Z(Q[0],"raw").string,G=W.split(",");for(var z=0;z<G.length;z++){var H=G[z].split("=");if(H.length===2){var F=H[1].trim();switch(H[0].trim()){case"alt":q=F;break;case"width":U=Ny(F);break;case"height":X=Ny(F);break;case"totalheight":Y=Ny(F);break;default:throw new N8("Invalid key: '"+H[0]+"' in \\includegraphics.")}}}}var M=_Z(J[0],"url").url;if(q==="")q=M,q=q.replace(/^.*[\\/]/,""),q=q.substring(0,q.lastIndexOf("."));if(!K.settings.isTrusted({command:"\\includegraphics",url:M}))return K.formatUnsupportedCmd("\\includegraphics");return{type:"includegraphics",mode:K.mode,alt:q,width:U,height:X,totalheight:Y,src:M}},htmlBuilder:(Z,J)=>{var Q=TJ(Z.height,J),K=0;if(Z.totalheight.number>0)K=TJ(Z.totalheight,J)-Q;var U=0;if(Z.width.number>0)U=TJ(Z.width,J);var X={height:T8(Q+K)};if(U>0)X.width=T8(U);if(K>0)X.verticalAlign=T8(-K);var Y=new lK0(Z.src,Z.alt,X);return Y.height=Q,Y.depth=K,Y},mathmlBuilder:(Z,J)=>{var Q=new D8.MathNode("mglyph",[]);Q.setAttribute("alt",Z.alt);var K=TJ(Z.height,J),U=0;if(Z.totalheight.number>0)U=TJ(Z.totalheight,J)-K,Q.setAttribute("valign",T8(-U));if(Q.setAttribute("height",T8(K+U)),Z.width.number>0){var X=TJ(Z.width,J);Q.setAttribute("width",T8(X))}return Q.setAttribute("src",Z.src),Q}});b8({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,U=_Z(J[0],"size");if(Q.settings.strict){var X=K[1]==="m",Y=U.value.unit==="mu";if(X){if(!Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" supports only mu units, "+("not "+U.value.unit+" units"));if(Q.mode!=="math")Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" works only in math mode")}else if(Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" doesn't support mu units")}return{type:"kern",mode:Q.mode,dimension:U.value}},htmlBuilder(Z,J){return c0.makeGlue(Z.dimension,J)},mathmlBuilder(Z,J){var Q=TJ(Z.dimension,J);return new D8.SpaceNode(Q)}});b8({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0];return{type:"lap",mode:Q.mode,alignment:K.slice(5),body:U}},htmlBuilder:(Z,J)=>{var Q;if(Z.alignment==="clap")Q=c0.makeSpan([],[W9(Z.body,J)]),Q=c0.makeSpan(["inner"],[Q],J);else Q=c0.makeSpan(["inner"],[W9(Z.body,J)]);var K=c0.makeSpan(["fix"],[]),U=c0.makeSpan([Z.alignment],[Q,K],J),X=c0.makeSpan(["strut"]);if(X.style.height=T8(U.height+U.depth),U.depth)X.style.verticalAlign=T8(-U.depth);return U.children.unshift(X),U=c0.makeSpan(["thinbox"],[U],J),c0.makeSpan(["mord","vbox"],[U],J)},mathmlBuilder:(Z,J)=>{var Q=new D8.MathNode("mpadded",[p9(Z.body,J)]);if(Z.alignment!=="rlap"){var K=Z.alignment==="llap"?"-1":"-0.5";Q.setAttribute("lspace",K+"width")}return Q.setAttribute("width","0px"),Q}});b8({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){var{funcName:Q,parser:K}=Z,U=K.mode;K.switchMode("math");var X=Q==="\\("?"\\)":"$",Y=K.parseExpression(!1,X);return K.expect(X),K.switchMode(U),{type:"styling",mode:K.mode,style:"text",body:Y}}});b8({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){throw new N8("Mismatched "+Z.funcName)}});b8({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"mathchoice",mode:Q.mode,display:sJ(J[0]),text:sJ(J[1]),script:sJ(J[2]),scriptscript:sJ(J[3])}},htmlBuilder:(Z,J)=>{var Q=CK0(Z,J),K=O7(Q,J,!1);return c0.makeFragment(K)},mathmlBuilder:(Z,J)=>{var Q=CK0(Z,J);return F1(Q,J)}});C50=["\\smallint"],F88={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};b8({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=K;if(U.length===1)U=F88[U];return{type:"op",mode:Q.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:U}},htmlBuilder:pH,mathmlBuilder:tR});b8({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"op",mode:Q.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:sJ(K)}},htmlBuilder:pH,mathmlBuilder:tR});M88={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};b8({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:pH,mathmlBuilder:tR});b8({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:pH,mathmlBuilder:tR});b8({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=Q;if(K.length===1)K=M88[K];return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:K}},htmlBuilder:pH,mathmlBuilder:tR});b8({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,U=J[0];return{type:"operatorname",mode:Q.mode,body:sJ(U),alwaysHandleSupSub:K==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:j50,mathmlBuilder:B88});G0("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");HG({type:"ordgroup",htmlBuilder(Z,J){if(Z.semisimple)return c0.makeFragment(O7(Z.body,J,!1));return c0.makeSpan(["mord"],O7(Z.body,J,!0),J)},mathmlBuilder(Z,J){return F1(Z.body,J,!0)}});b8({type:"overline",names:["\\overline"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z,K=J[0];return{type:"overline",mode:Q.mode,body:K}},htmlBuilder(Z,J){var Q=W9(Z.body,J.havingCrampedStyle()),K=c0.makeLineSpan("overline-line",J),U=J.fontMetrics().defaultRuleThickness,X=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q},{type:"kern",size:3*U},{type:"elem",elem:K},{type:"kern",size:U}]},J);return c0.makeSpan(["mord","overline"],[X],J)},mathmlBuilder(Z,J){var Q=new D8.MathNode("mo",[new D8.TextNode("")]);Q.setAttribute("stretchy","true");var K=new D8.MathNode("mover",[p9(Z.body,J),Q]);return K.setAttribute("accent","true"),K}});b8({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"phantom",mode:Q.mode,body:sJ(K)}},htmlBuilder:(Z,J)=>{var Q=O7(Z.body,J.withPhantom(),!1);return c0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{var Q=x6(Z.body,J);return new D8.MathNode("mphantom",Q)}});b8({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"hphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=c0.makeSpan([],[W9(Z.body,J.withPhantom())]);if(Q.height=0,Q.depth=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0,Q.children[K].depth=0;return Q=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J),c0.makeSpan(["mord"],[Q],J)},mathmlBuilder:(Z,J)=>{var Q=x6(sJ(Z.body),J),K=new D8.MathNode("mphantom",Q),U=new D8.MathNode("mpadded",[K]);return U.setAttribute("height","0px"),U.setAttribute("depth","0px"),U}});b8({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"vphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=c0.makeSpan(["inner"],[W9(Z.body,J.withPhantom())]),K=c0.makeSpan(["fix"],[]);return c0.makeSpan(["mord","rlap"],[Q,K],J)},mathmlBuilder:(Z,J)=>{var Q=x6(sJ(Z.body),J),K=new D8.MathNode("mphantom",Q),U=new D8.MathNode("mpadded",[K]);return U.setAttribute("width","0px"),U}});b8({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=_Z(J[0],"size").value,U=J[1];return{type:"raisebox",mode:Q.mode,dy:K,body:U}},htmlBuilder(Z,J){var Q=W9(Z.body,J),K=TJ(Z.dy,J);return c0.makeVList({positionType:"shift",positionData:-K,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){var Q=new D8.MathNode("mpadded",[p9(Z.body,J)]),K=Z.dy.number+Z.dy.unit;return Q.setAttribute("voffset",K),Q}});b8({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(Z){var{parser:J}=Z;return{type:"internal",mode:J.mode}}});b8({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(Z,J,Q){var{parser:K}=Z,U=Q[0],X=_Z(J[0],"size"),Y=_Z(J[1],"size");return{type:"rule",mode:K.mode,shift:U&&_Z(U,"size").value,width:X.value,height:Y.value}},htmlBuilder(Z,J){var Q=c0.makeSpan(["mord","rule"],[],J),K=TJ(Z.width,J),U=TJ(Z.height,J),X=Z.shift?TJ(Z.shift,J):0;return Q.style.borderRightWidth=T8(K),Q.style.borderTopWidth=T8(U),Q.style.bottom=T8(X),Q.width=K,Q.height=U+X,Q.depth=-X,Q.maxFontSize=U*1.125*J.sizeMultiplier,Q},mathmlBuilder(Z,J){var Q=TJ(Z.width,J),K=TJ(Z.height,J),U=Z.shift?TJ(Z.shift,J):0,X=J.color&&J.getColor()||"black",Y=new D8.MathNode("mspace");Y.setAttribute("mathbackground",X),Y.setAttribute("width",T8(Q)),Y.setAttribute("height",T8(K));var q=new D8.MathNode("mpadded",[Y]);if(U>=0)q.setAttribute("height",T8(U));else q.setAttribute("height",T8(U)),q.setAttribute("depth",T8(-U));return q.setAttribute("voffset",T8(U)),q}});jK0=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];b8({type:"sizing",names:jK0,props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{breakOnTokenText:Q,funcName:K,parser:U}=Z,X=U.parseExpression(!1,Q);return{type:"sizing",mode:U.mode,size:jK0.indexOf(K)+1,body:X}},htmlBuilder:O88,mathmlBuilder:(Z,J)=>{var Q=J.havingSize(Z.size),K=x6(Z.body,Q),U=new D8.MathNode("mstyle",K);return U.setAttribute("mathsize",T8(Q.sizeMultiplier)),U}});b8({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(Z,J,Q)=>{var{parser:K}=Z,U=!1,X=!1,Y=Q[0]&&_Z(Q[0],"ordgroup");if(Y){var q="";for(var W=0;W<Y.body.length;++W){var G=Y.body[W];if(q=G.text,q==="t")U=!0;else if(q==="b")X=!0;else{U=!1,X=!1;break}}}else U=!0,X=!0;var z=J[0];return{type:"smash",mode:K.mode,body:z,smashHeight:U,smashDepth:X}},htmlBuilder:(Z,J)=>{var Q=c0.makeSpan([],[W9(Z.body,J)]);if(!Z.smashHeight&&!Z.smashDepth)return Q;if(Z.smashHeight){if(Q.height=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0}if(Z.smashDepth){if(Q.depth=0,Q.children)for(var U=0;U<Q.children.length;U++)Q.children[U].depth=0}var X=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J);return c0.makeSpan(["mord"],[X],J)},mathmlBuilder:(Z,J)=>{var Q=new D8.MathNode("mpadded",[p9(Z.body,J)]);if(Z.smashHeight)Q.setAttribute("height","0px");if(Z.smashDepth)Q.setAttribute("depth","0px");return Q}});b8({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K}=Z,U=Q[0],X=J[0];return{type:"sqrt",mode:K.mode,body:X,index:U}},htmlBuilder(Z,J){var Q=W9(Z.body,J.havingCrampedStyle());if(Q.height===0)Q.height=J.fontMetrics().xHeight;Q=c0.wrapFragment(Q,J);var K=J.fontMetrics(),U=K.defaultRuleThickness,X=U;if(J.style.id<FZ.TEXT.id)X=J.fontMetrics().xHeight;var Y=U+X/4,q=Q.height+Q.depth+Y+U,{span:W,ruleWidth:G,advanceWidth:z}=pX.sqrtImage(q,J),H=W.height-G;if(H>Q.height+Q.depth+Y)Y=(Y+H-Q.height-Q.depth)/2;var F=W.height-Q.height-Y-G;Q.style.paddingLeft=T8(z);var M=c0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q,wrapperClasses:["svg-align"]},{type:"kern",size:-(Q.height+F)},{type:"elem",elem:W},{type:"kern",size:G}]},J);if(!Z.index)return c0.makeSpan(["mord","sqrt"],[M],J);else{var B=J.havingStyle(FZ.SCRIPTSCRIPT),O=W9(Z.index,B,J),R=0.6*(M.height-M.depth),L=c0.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:O}]},J),D=c0.makeSpan(["root"],[L]);return c0.makeSpan(["mord","sqrt"],[D,M],J)}},mathmlBuilder(Z,J){var{body:Q,index:K}=Z;return K?new D8.MathNode("mroot",[p9(Q,J),p9(K,J)]):new D8.MathNode("msqrt",[p9(Q,J)])}});SK0={display:FZ.DISPLAY,text:FZ.TEXT,script:FZ.SCRIPT,scriptscript:FZ.SCRIPTSCRIPT};b8({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z,J){var{breakOnTokenText:Q,funcName:K,parser:U}=Z,X=U.parseExpression(!0,Q),Y=K.slice(1,K.length-5);return{type:"styling",mode:U.mode,style:Y,body:X}},htmlBuilder(Z,J){var Q=SK0[Z.style],K=J.havingStyle(Q).withFont("");return S50(Z.body,K,J)},mathmlBuilder(Z,J){var Q=SK0[Z.style],K=J.havingStyle(Q),U=x6(Z.body,K),X=new D8.MathNode("mstyle",U),Y={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},q=Y[Z.style];return X.setAttribute("scriptlevel",q[0]),X.setAttribute("displaystyle",q[1]),X}});HG({type:"supsub",htmlBuilder(Z,J){var Q=R88(Z,J);if(Q)return Q(Z,J);var{base:K,sup:U,sub:X}=Z,Y=W9(K,J),q,W,G=J.fontMetrics(),z=0,H=0,F=K&&O9.isCharacterBox(K);if(U){var M=J.havingStyle(J.style.sup());if(q=W9(U,M,J),!F)z=Y.height-M.fontMetrics().supDrop*M.sizeMultiplier/J.sizeMultiplier}if(X){var B=J.havingStyle(J.style.sub());if(W=W9(X,B,J),!F)H=Y.depth+B.fontMetrics().subDrop*B.sizeMultiplier/J.sizeMultiplier}var O;if(J.style===FZ.DISPLAY)O=G.sup1;else if(J.style.cramped)O=G.sup3;else O=G.sup2;var R=J.sizeMultiplier,L=T8(0.5/G.ptPerEm/R),D=null;if(W){var A=Z.base&&Z.base.type==="op"&&Z.base.name&&(Z.base.name==="\\oiint"||Z.base.name==="\\oiiint");if(Y instanceof V4||A)D=T8(-Y.italic)}var V;if(q&&W){z=Math.max(z,O,q.depth+0.25*G.xHeight),H=Math.max(H,G.sub2);var N=G.defaultRuleThickness,E=4*N;if(z-q.depth-(W.height-H)<E){H=E-(z-q.depth)+W.height;var C=0.8*G.xHeight-(z-q.depth);if(C>0)z+=C,H-=C}var j=[{type:"elem",elem:W,shift:H,marginRight:L,marginLeft:D},{type:"elem",elem:q,shift:-z,marginRight:L}];V=c0.makeVList({positionType:"individualShift",children:j},J)}else if(W){H=Math.max(H,G.sub1,W.height-0.8*G.xHeight);var $=[{type:"elem",elem:W,marginLeft:D,marginRight:L}];V=c0.makeVList({positionType:"shift",positionData:H,children:$},J)}else if(q)z=Math.max(z,O,q.depth+0.25*G.xHeight),V=c0.makeVList({positionType:"shift",positionData:-z,children:[{type:"elem",elem:q,marginRight:L}]},J);else throw Error("supsub must have either sup or sub.");var k=Ty(Y,"right")||"mord";return c0.makeSpan([k],[Y,c0.makeSpan(["msupsub"],[V])],J)},mathmlBuilder(Z,J){var Q=!1,K,U;if(Z.base&&Z.base.type==="horizBrace"){if(U=!!Z.sup,U===Z.base.isOver)Q=!0,K=Z.base.isOver}if(Z.base&&(Z.base.type==="op"||Z.base.type==="operatorname"))Z.base.parentIsSupSub=!0;var X=[p9(Z.base,J)];if(Z.sub)X.push(p9(Z.sub,J));if(Z.sup)X.push(p9(Z.sup,J));var Y;if(Q)Y=K?"mover":"munder";else if(!Z.sub){var q=Z.base;if(q&&q.type==="op"&&q.limits&&(J.style===FZ.DISPLAY||q.alwaysHandleSupSub))Y="mover";else if(q&&q.type==="operatorname"&&q.alwaysHandleSupSub&&(q.limits||J.style===FZ.DISPLAY))Y="mover";else Y="msup"}else if(!Z.sup){var W=Z.base;if(W&&W.type==="op"&&W.limits&&(J.style===FZ.DISPLAY||W.alwaysHandleSupSub))Y="munder";else if(W&&W.type==="operatorname"&&W.alwaysHandleSupSub&&(W.limits||J.style===FZ.DISPLAY))Y="munder";else Y="msub"}else{var G=Z.base;if(G&&G.type==="op"&&G.limits&&J.style===FZ.DISPLAY)Y="munderover";else if(G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(J.style===FZ.DISPLAY||G.limits))Y="munderover";else Y="msubsup"}return new D8.MathNode(Y,X)}});HG({type:"atom",htmlBuilder(Z,J){return c0.mathsym(Z.text,Z.mode,J,["m"+Z.family])},mathmlBuilder(Z,J){var Q=new D8.MathNode("mo",[KK(Z.text,Z.mode)]);if(Z.family==="bin"){var K=hy(Z,J);if(K==="bold-italic")Q.setAttribute("mathvariant",K)}else if(Z.family==="punct")Q.setAttribute("separator","true");else if(Z.family==="open"||Z.family==="close")Q.setAttribute("stretchy","false");return Q}});T50={mi:"italic",mn:"normal",mtext:"normal"};HG({type:"mathord",htmlBuilder(Z,J){return c0.makeOrd(Z,J,"mathord")},mathmlBuilder(Z,J){var Q=new D8.MathNode("mi",[KK(Z.text,Z.mode,J)]),K=hy(Z,J)||"italic";if(K!==T50[Q.type])Q.setAttribute("mathvariant",K);return Q}});HG({type:"textord",htmlBuilder(Z,J){return c0.makeOrd(Z,J,"textord")},mathmlBuilder(Z,J){var Q=KK(Z.text,Z.mode,J),K=hy(Z,J)||"normal",U;if(Z.mode==="text")U=new D8.MathNode("mtext",[Q]);else if(/[0-9]/.test(Z.text))U=new D8.MathNode("mn",[Q]);else if(Z.text==="\\prime")U=new D8.MathNode("mo",[Q]);else U=new D8.MathNode("mi",[Q]);if(K!==T50[U.type])U.setAttribute("mathvariant",K);return U}});Ey={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Vy={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};HG({type:"spacing",htmlBuilder(Z,J){if(Vy.hasOwnProperty(Z.text)){var Q=Vy[Z.text].className||"";if(Z.mode==="text"){var K=c0.makeOrd(Z,J,"textord");return K.classes.push(Q),K}else return c0.makeSpan(["mspace",Q],[c0.mathsym(Z.text,Z.mode,J)],J)}else if(Ey.hasOwnProperty(Z.text))return c0.makeSpan(["mspace",Ey[Z.text]],[],J);else throw new N8('Unknown type of space "'+Z.text+'"')},mathmlBuilder(Z,J){var Q;if(Vy.hasOwnProperty(Z.text))Q=new D8.MathNode("mtext",[new D8.TextNode("")]);else if(Ey.hasOwnProperty(Z.text))return new D8.MathNode("mspace");else throw new N8('Unknown type of space "'+Z.text+'"');return Q}});HG({type:"tag",mathmlBuilder(Z,J){var Q=new D8.MathNode("mtable",[new D8.MathNode("mtr",[TK0(),new D8.MathNode("mtd",[F1(Z.body,J)]),TK0(),new D8.MathNode("mtd",[F1(Z.tag,J)])])]);return Q.setAttribute("width","100%"),Q}});wK0={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$K0={"\\textbf":"textbf","\\textmd":"textmd"},L88={"\\textit":"textit","\\textup":"textup"};b8({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,U=J[0];return{type:"text",mode:Q.mode,body:sJ(U),font:K}},htmlBuilder(Z,J){var Q=kK0(Z,J),K=O7(Z.body,Q,!0);return c0.makeSpan(["mord","text"],K,Q)},mathmlBuilder(Z,J){var Q=kK0(Z,J);return F1(Z.body,Q)}});b8({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"underline",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=W9(Z.body,J),K=c0.makeLineSpan("underline-line",J),U=J.fontMetrics().defaultRuleThickness,X=c0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"kern",size:U},{type:"elem",elem:K},{type:"kern",size:3*U},{type:"elem",elem:Q}]},J);return c0.makeSpan(["mord","underline"],[X],J)},mathmlBuilder(Z,J){var Q=new D8.MathNode("mo",[new D8.TextNode("")]);Q.setAttribute("stretchy","true");var K=new D8.MathNode("munder",[p9(Z.body,J),Q]);return K.setAttribute("accentunder","true"),K}});b8({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"vcenter",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=W9(Z.body,J),K=J.fontMetrics().axisHeight,U=0.5*(Q.height-K-(Q.depth+K));return c0.makeVList({positionType:"shift",positionData:U,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){return new D8.MathNode("mpadded",[p9(Z.body,J)],["vcenter"])}});b8({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(Z,J,Q){throw new N8("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(Z,J){var Q=_K0(Z),K=[],U=J.havingStyle(J.style.text());for(var X=0;X<Q.length;X++){var Y=Q[X];if(Y==="~")Y="\\textasciitilde";K.push(c0.makeSymbol(Y,"Typewriter-Regular",Z.mode,U,["mord","texttt"]))}return c0.makeSpan(["mord","text"].concat(U.sizingClasses(J)),c0.tryCombineChars(K),U)},mathmlBuilder(Z,J){var Q=new D8.TextNode(_K0(Z)),K=new D8.MathNode("mtext",[Q]);return K.setAttribute("mathvariant","monospace"),K}});z1=aK0,A88="("+D88+")"+w50+"*",E88=new RegExp(_y+"+$"),V88="("+w50+"+)|"+(N88+"|")+"([!-\\[\\]---]"+(_y+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(_y+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+A88)+("|"+I88+")");P88=D50;G0("\\noexpand",function(Z){var J=Z.popToken();if(Z.isExpandable(J.text))J.noexpand=!0,J.treatAsRelax=!0;return{tokens:[J],numArgs:0}});G0("\\expandafter",function(Z){var J=Z.popToken();return Z.expandOnce(!0),{tokens:[J],numArgs:0}});G0("\\@firstoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[0],numArgs:0}});G0("\\@secondoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[1],numArgs:0}});G0("\\@ifnextchar",function(Z){var J=Z.consumeArgs(3);Z.consumeSpaces();var Q=Z.future();if(J[0].length===1&&J[0][0].text===Q.text)return{tokens:J[1],numArgs:0};else return{tokens:J[2],numArgs:0}});G0("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G0("\\TextOrMath",function(Z){var J=Z.consumeArgs(2);if(Z.mode==="text")return{tokens:J[0],numArgs:0};else return{tokens:J[1],numArgs:0}});fK0={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G0("\\char",function(Z){var J=Z.popToken(),Q,K="";if(J.text==="'")Q=8,J=Z.popToken();else if(J.text==='"')Q=16,J=Z.popToken();else if(J.text==="`")if(J=Z.popToken(),J.text[0]==="\\")K=J.text.charCodeAt(1);else if(J.text==="EOF")throw new N8("\\char` missing argument");else K=J.text.charCodeAt(0);else Q=10;if(Q){if(K=fK0[J.text],K==null||K>=Q)throw new N8("Invalid base-"+Q+" digit "+J.text);var U;while((U=fK0[Z.future().text])!=null&&U<Q)K*=Q,K+=U,Z.popToken()}return"\\@char{"+K+"}"});G0("\\newcommand",(Z)=>ry(Z,!1,!0,!1));G0("\\renewcommand",(Z)=>ry(Z,!0,!1,!1));G0("\\providecommand",(Z)=>ry(Z,!0,!0,!0));G0("\\message",(Z)=>{var J=Z.consumeArgs(1)[0];return console.log(J.reverse().map((Q)=>Q.text).join("")),""});G0("\\errmessage",(Z)=>{var J=Z.consumeArgs(1)[0];return console.error(J.reverse().map((Q)=>Q.text).join("")),""});G0("\\show",(Z)=>{var J=Z.popToken(),Q=J.text;return console.log(J,Z.macros.get(Q),z1[Q],r9.math[Q],r9.text[Q]),""});G0("\\bgroup","{");G0("\\egroup","}");G0("~","\\nobreakspace");G0("\\lq","`");G0("\\rq","'");G0("\\aa","\\r a");G0("\\AA","\\r A");G0("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G0("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G0("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G0("","\\mathscr{B}");G0("","\\mathscr{E}");G0("","\\mathscr{F}");G0("","\\mathscr{H}");G0("","\\mathscr{I}");G0("","\\mathscr{L}");G0("","\\mathscr{M}");G0("","\\mathscr{R}");G0("","\\mathfrak{C}");G0("","\\mathfrak{H}");G0("","\\mathfrak{Z}");G0("\\Bbbk","\\Bbb{k}");G0("","\\cdotp");G0("\\llap","\\mathllap{\\textrm{#1}}");G0("\\rlap","\\mathrlap{\\textrm{#1}}");G0("\\clap","\\mathclap{\\textrm{#1}}");G0("\\mathstrut","\\vphantom{(}");G0("\\underbar","\\underline{\\text{#1}}");G0("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G0("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G0("\\ne","\\neq");G0("","\\neq");G0("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}"+"{\\mathrel{\\char`}}");G0("","\\notin");G0("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}"+"}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}"+"{\\mathrel{\\char`}}");G0("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G0("","\\perp");G0("","\\mathclose{!\\mkern-0.8mu!}");G0("","\\notni");G0("","\\ulcorner");G0("","\\urcorner");G0("","\\llcorner");G0("","\\lrcorner");G0("","\\copyright");G0("","\\textregistered");G0("","\\textregistered");G0("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G0("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G0("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G0("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G0("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G0("","\\vdots");G0("\\varGamma","\\mathit{\\Gamma}");G0("\\varDelta","\\mathit{\\Delta}");G0("\\varTheta","\\mathit{\\Theta}");G0("\\varLambda","\\mathit{\\Lambda}");G0("\\varXi","\\mathit{\\Xi}");G0("\\varPi","\\mathit{\\Pi}");G0("\\varSigma","\\mathit{\\Sigma}");G0("\\varUpsilon","\\mathit{\\Upsilon}");G0("\\varPhi","\\mathit{\\Phi}");G0("\\varPsi","\\mathit{\\Psi}");G0("\\varOmega","\\mathit{\\Omega}");G0("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G0("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G0("\\boxed","\\fbox{$\\displaystyle{#1}$}");G0("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G0("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G0("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G0("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G0("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");vK0={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G0("\\dots",function(Z){var J="\\dotso",Q=Z.expandAfterFuture().text;if(Q in vK0)J=vK0[Q];else if(Q.slice(0,4)==="\\not")J="\\dotsb";else if(Q in r9.math){if(["bin","rel"].includes(r9.math[Q].group))J="\\dotsb"}return J});ny={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G0("\\dotso",function(Z){var J=Z.future().text;if(J in ny)return"\\ldots\\,";else return"\\ldots"});G0("\\dotsc",function(Z){var J=Z.future().text;if(J in ny&&J!==",")return"\\ldots\\,";else return"\\ldots"});G0("\\cdots",function(Z){var J=Z.future().text;if(J in ny)return"\\@cdots\\,";else return"\\@cdots"});G0("\\dotsb","\\cdots");G0("\\dotsm","\\cdots");G0("\\dotsi","\\!\\cdots");G0("\\dotsx","\\ldots\\,");G0("\\DOTSI","\\relax");G0("\\DOTSB","\\relax");G0("\\DOTSX","\\relax");G0("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G0("\\,","\\tmspace+{3mu}{.1667em}");G0("\\thinspace","\\,");G0("\\>","\\mskip{4mu}");G0("\\:","\\tmspace+{4mu}{.2222em}");G0("\\medspace","\\:");G0("\\;","\\tmspace+{5mu}{.2777em}");G0("\\thickspace","\\;");G0("\\!","\\tmspace-{3mu}{.1667em}");G0("\\negthinspace","\\!");G0("\\negmedspace","\\tmspace-{4mu}{.2222em}");G0("\\negthickspace","\\tmspace-{5mu}{.277em}");G0("\\enspace","\\kern.5em ");G0("\\enskip","\\hskip.5em\\relax");G0("\\quad","\\hskip1em\\relax");G0("\\qquad","\\hskip2em\\relax");G0("\\tag","\\@ifstar\\tag@literal\\tag@paren");G0("\\tag@paren","\\tag@literal{({#1})}");G0("\\tag@literal",(Z)=>{if(Z.macros.get("\\df@tag"))throw new N8("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G0("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G0("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G0("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G0("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G0("\\newline","\\\\\\relax");G0("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");k50=T8(UU["Main-Regular"][84][1]-0.7*UU["Main-Regular"][65][1]);G0("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+k50+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G0("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+k50+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G0("\\hspace","\\@ifstar\\@hspacer\\@hspace");G0("\\@hspace","\\hskip #1\\relax");G0("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G0("\\ordinarycolon",":");G0("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G0("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G0("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G0("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G0("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G0("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G0("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G0("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G0("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G0("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G0("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G0("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G0("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G0("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G0("","\\dblcolon");G0("","\\eqcolon");G0("","\\coloneqq");G0("","\\eqqcolon");G0("","\\Coloneqq");G0("\\ratio","\\vcentcolon");G0("\\coloncolon","\\dblcolon");G0("\\colonequals","\\coloneqq");G0("\\coloncolonequals","\\Coloneqq");G0("\\equalscolon","\\eqqcolon");G0("\\equalscoloncolon","\\Eqqcolon");G0("\\colonminus","\\coloneq");G0("\\coloncolonminus","\\Coloneq");G0("\\minuscolon","\\eqcolon");G0("\\minuscoloncolon","\\Eqcolon");G0("\\coloncolonapprox","\\Colonapprox");G0("\\coloncolonsim","\\Colonsim");G0("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G0("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G0("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G0("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G0("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G0("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G0("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G0("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G0("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G0("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G0("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G0("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G0("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G0("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G0("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G0("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G0("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G0("\\nleqq","\\html@mathml{\\@nleqq}{}");G0("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G0("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G0("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G0("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G0("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G0("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G0("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G0("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G0("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G0("\\imath","\\html@mathml{\\@imath}{}");G0("\\jmath","\\html@mathml{\\@jmath}{}");G0("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}"+"{\\mathopen{\\char`}}");G0("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}"+"{\\mathclose{\\char`}}");G0("","\\llbracket");G0("","\\rrbracket");G0("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}"+"{\\mathopen{\\char`}}");G0("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}"+"{\\mathclose{\\char`}}");G0("","\\lBrace");G0("","\\rBrace");G0("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}"+"{\\char`}}");G0("","\\minuso");G0("\\darr","\\downarrow");G0("\\dArr","\\Downarrow");G0("\\Darr","\\Downarrow");G0("\\lang","\\langle");G0("\\rang","\\rangle");G0("\\uarr","\\uparrow");G0("\\uArr","\\Uparrow");G0("\\Uarr","\\Uparrow");G0("\\N","\\mathbb{N}");G0("\\R","\\mathbb{R}");G0("\\Z","\\mathbb{Z}");G0("\\alef","\\aleph");G0("\\alefsym","\\aleph");G0("\\Alpha","\\mathrm{A}");G0("\\Beta","\\mathrm{B}");G0("\\bull","\\bullet");G0("\\Chi","\\mathrm{X}");G0("\\clubs","\\clubsuit");G0("\\cnums","\\mathbb{C}");G0("\\Complex","\\mathbb{C}");G0("\\Dagger","\\ddagger");G0("\\diamonds","\\diamondsuit");G0("\\empty","\\emptyset");G0("\\Epsilon","\\mathrm{E}");G0("\\Eta","\\mathrm{H}");G0("\\exist","\\exists");G0("\\harr","\\leftrightarrow");G0("\\hArr","\\Leftrightarrow");G0("\\Harr","\\Leftrightarrow");G0("\\hearts","\\heartsuit");G0("\\image","\\Im");G0("\\infin","\\infty");G0("\\Iota","\\mathrm{I}");G0("\\isin","\\in");G0("\\Kappa","\\mathrm{K}");G0("\\larr","\\leftarrow");G0("\\lArr","\\Leftarrow");G0("\\Larr","\\Leftarrow");G0("\\lrarr","\\leftrightarrow");G0("\\lrArr","\\Leftrightarrow");G0("\\Lrarr","\\Leftrightarrow");G0("\\Mu","\\mathrm{M}");G0("\\natnums","\\mathbb{N}");G0("\\Nu","\\mathrm{N}");G0("\\Omicron","\\mathrm{O}");G0("\\plusmn","\\pm");G0("\\rarr","\\rightarrow");G0("\\rArr","\\Rightarrow");G0("\\Rarr","\\Rightarrow");G0("\\real","\\Re");G0("\\reals","\\mathbb{R}");G0("\\Reals","\\mathbb{R}");G0("\\Rho","\\mathrm{P}");G0("\\sdot","\\cdot");G0("\\sect","\\S");G0("\\spades","\\spadesuit");G0("\\sub","\\subset");G0("\\sube","\\subseteq");G0("\\supe","\\supseteq");G0("\\Tau","\\mathrm{T}");G0("\\thetasym","\\vartheta");G0("\\weierp","\\wp");G0("\\Zeta","\\mathrm{Z}");G0("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G0("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G0("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G0("\\bra","\\mathinner{\\langle{#1}|}");G0("\\ket","\\mathinner{|{#1}\\rangle}");G0("\\braket","\\mathinner{\\langle{#1}\\rangle}");G0("\\Bra","\\left\\langle#1\\right|");G0("\\Ket","\\left|#1\\right\\rangle");G0("\\bra@ket",_50(!1));G0("\\bra@set",_50(!0));G0("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G0("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G0("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G0("\\angln","{\\angl n}");G0("\\blue","\\textcolor{##6495ed}{#1}");G0("\\orange","\\textcolor{##ffa500}{#1}");G0("\\pink","\\textcolor{##ff00af}{#1}");G0("\\red","\\textcolor{##df0030}{#1}");G0("\\green","\\textcolor{##28ae7b}{#1}");G0("\\gray","\\textcolor{gray}{#1}");G0("\\purple","\\textcolor{##9d38bd}{#1}");G0("\\blueA","\\textcolor{##ccfaff}{#1}");G0("\\blueB","\\textcolor{##80f6ff}{#1}");G0("\\blueC","\\textcolor{##63d9ea}{#1}");G0("\\blueD","\\textcolor{##11accd}{#1}");G0("\\blueE","\\textcolor{##0c7f99}{#1}");G0("\\tealA","\\textcolor{##94fff5}{#1}");G0("\\tealB","\\textcolor{##26edd5}{#1}");G0("\\tealC","\\textcolor{##01d1c1}{#1}");G0("\\tealD","\\textcolor{##01a995}{#1}");G0("\\tealE","\\textcolor{##208170}{#1}");G0("\\greenA","\\textcolor{##b6ffb0}{#1}");G0("\\greenB","\\textcolor{##8af281}{#1}");G0("\\greenC","\\textcolor{##74cf70}{#1}");G0("\\greenD","\\textcolor{##1fab54}{#1}");G0("\\greenE","\\textcolor{##0d923f}{#1}");G0("\\goldA","\\textcolor{##ffd0a9}{#1}");G0("\\goldB","\\textcolor{##ffbb71}{#1}");G0("\\goldC","\\textcolor{##ff9c39}{#1}");G0("\\goldD","\\textcolor{##e07d10}{#1}");G0("\\goldE","\\textcolor{##a75a05}{#1}");G0("\\redA","\\textcolor{##fca9a9}{#1}");G0("\\redB","\\textcolor{##ff8482}{#1}");G0("\\redC","\\textcolor{##f9685d}{#1}");G0("\\redD","\\textcolor{##e84d39}{#1}");G0("\\redE","\\textcolor{##bc2612}{#1}");G0("\\maroonA","\\textcolor{##ffbde0}{#1}");G0("\\maroonB","\\textcolor{##ff92c6}{#1}");G0("\\maroonC","\\textcolor{##ed5fa6}{#1}");G0("\\maroonD","\\textcolor{##ca337c}{#1}");G0("\\maroonE","\\textcolor{##9e034e}{#1}");G0("\\purpleA","\\textcolor{##ddd7ff}{#1}");G0("\\purpleB","\\textcolor{##c6b9fc}{#1}");G0("\\purpleC","\\textcolor{##aa87ff}{#1}");G0("\\purpleD","\\textcolor{##7854ab}{#1}");G0("\\purpleE","\\textcolor{##543b78}{#1}");G0("\\mintA","\\textcolor{##f5f9e8}{#1}");G0("\\mintB","\\textcolor{##edf2df}{#1}");G0("\\mintC","\\textcolor{##e0e5cc}{#1}");G0("\\grayA","\\textcolor{##f6f7f7}{#1}");G0("\\grayB","\\textcolor{##f0f1f2}{#1}");G0("\\grayC","\\textcolor{##e3e5e6}{#1}");G0("\\grayD","\\textcolor{##d6d8da}{#1}");G0("\\grayE","\\textcolor{##babec2}{#1}");G0("\\grayF","\\textcolor{##888d93}{#1}");G0("\\grayG","\\textcolor{##626569}{#1}");G0("\\grayH","\\textcolor{##3b3e40}{#1}");G0("\\grayI","\\textcolor{##21242c}{#1}");G0("\\kaBlue","\\textcolor{##314453}{#1}");G0("\\kaGreen","\\textcolor{##71B307}{#1}");f50={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};xK0=/^[]/,aE=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"","":"","":"","":"","":"","":""}),Py={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:"\\\"",math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},bK0={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"k","":"l","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"L","":"L","":"L","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};BV.endOfExpression=["}","\\endgroup","\\end","\\right","&"];if(typeof document<"u"){if(document.compatMode!=="CSS1Compat")typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),oy=function(){throw new N8("KaTeX doesn't work in quirks mode.")}}u50={Span:uH,Anchor:qV,SymbolNode:V4,SvgNode:XU,PathNode:cX,LineNode:JV},C88={version:m50,render:oy,renderToString:x50,ParseError:N8,SETTINGS_SCHEMA:rR,__parse:b50,__renderToDomTree:OV,__renderToHTMLTree:h50,__setFontMetrics:mK0,__defineSymbol:g,__defineFunction:b8,__defineMacro:G0,__domTree:u50}});function UU0(){G1.addHook("beforeSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("target"))J.setAttribute("data-temp-href-target",J.getAttribute("target")??"")}),G1.addHook("afterSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("data-temp-href-target")){if(J.setAttribute("target",J.getAttribute("data-temp-href-target")??""),J.removeAttribute("data-temp-href-target"),J.getAttribute("target")==="_blank")J.setAttribute("rel","noopener")}})}var Zh,cH,j88,Jh,B1,J3,AV,s50,r50,ty,KJ,NV="#ffffff",EV="#f2f2f2",oQ,S88,T88,w88,$88,k88,MG,_88,f88,v88,x88,zU,GU,n50,a50,b88,PZ,Z3,y88,BG,b6,DV,FG,eR,VV,o50,t50,e50,Qh,Kh,CZ,ZU0,JU0,Q3,h88,c50,m88,QU0,KU0,OG,u88,g88,XU0,l50,VZ,p88,c88,l88,d88,YU0,RG,G9,i88,s88,HU,ey,r88,n88,d50,RV,UJ,lH,a88,O1,U8,o88,t88,T9,sX,LV,e88,ZZ8,qU0,PV,Uh="",Xh="",Yh="",qh,bZ,cZ,sZ,rZ,nZ,Z9,aZ,i50,JZ8,E0,K3,CV,jV,Wh,QZ8,IV,U3,SV,KZ8;var yZ=f(()=>{AZ();N4();N4();N4();N4();N4();N4();My();Zh=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,cH=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,j88=/\s*%%.*\n/gm,Jh=class extends Error{static{I(this,"UnknownDiagramError")}constructor(Z){super(Z);this.name="UnknownDiagramError"}},B1={},J3=I(function(Z,J){Z=Z.replace(Zh,"").replace(cH,"").replace(j88,`
`);for(let[Q,{detector:K}]of Object.entries(B1))if(K(Z,J))return Q;throw new Jh(`No diagram type detected matching given configuration for text: ${Z}`)},"detectType"),AV=I((...Z)=>{for(let{id:J,detector:Q,loader:K}of Z)s50(J,Q,K)},"registerLazyLoadedDiagrams"),s50=I((Z,J,Q)=>{if(B1[Z])Z0.warn(`Detector with key ${Z} already exists. Overwriting.`);B1[Z]={detector:J,loader:Q},Z0.debug(`Detector with key ${Z} added${Q?" with loader":""}`)},"addDetector"),r50=I((Z)=>{return B1[Z].loader},"getDiagramLoader"),ty=I((Z,J,{depth:Q=2,clobber:K=!1}={})=>{let U={depth:Q,clobber:K};if(Array.isArray(J)&&!Array.isArray(Z))return J.forEach((X)=>ty(Z,X,U)),Z;else if(Array.isArray(J)&&Array.isArray(Z))return J.forEach((X)=>{if(!Z.includes(X))Z.push(X)}),Z;if(Z===void 0||Q<=0)if(Z!==void 0&&Z!==null&&typeof Z==="object"&&typeof J==="object")return Object.assign(Z,J);else return J;if(J!==void 0&&typeof Z==="object"&&typeof J==="object")Object.keys(J).forEach((X)=>{if(typeof J[X]==="object"&&(Z[X]===void 0||typeof Z[X]==="object")){if(Z[X]===void 0)Z[X]=Array.isArray(J[X])?[]:{};Z[X]=ty(Z[X],J[X],{depth:Q-1,clobber:K})}else if(K||typeof Z[X]!=="object"&&typeof J[X]!=="object")Z[X]=J[X]});return Z},"assignWithDepth"),KJ=ty,oQ=I((Z,J)=>J?y0(Z,{s:-40,l:10}):y0(Z,{s:-40,l:-10}),"mkBorder"),S88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||y0(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||y0(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||oQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||oQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||oQ(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||oQ(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||S8(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||S8(this.tertiaryColor),this.lineColor=this.lineColor||S8(this.background),this.arrowheadColor=this.arrowheadColor||S8(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?c8(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||c8(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||S8(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||x8(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode)this.rowOdd=this.rowOdd||c8(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||c8(this.mainBkg,10);else this.rowOdd=this.rowOdd||x8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||x8(this.mainBkg,5);if(this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||y0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||y0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||y0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||y0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||y0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||y0(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||y0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||y0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||y0(this.primaryColor,{h:330}),this.darkMode)for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=c8(this["cScale"+J],75);else for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=c8(this["cScale"+J],25);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleInv"+J]=this["cScaleInv"+J]||S8(this["cScale"+J]);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)if(this.darkMode)this["cScalePeer"+J]=this["cScalePeer"+J]||x8(this["cScale"+J],10);else this["cScalePeer"+J]=this["cScalePeer"+J]||c8(this["cScale"+J],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleLabel"+J]=this["cScaleLabel"+J]||this.scaleLabelColor;let Z=this.darkMode?-4:-1;for(let J=0;J<5;J++)this["surface"+J]=this["surface"+J]||y0(this.mainBkg,{h:180,s:-15,l:Z*(5+J*3)}),this["surfacePeer"+J]=this["surfacePeer"+J]||y0(this.mainBkg,{h:180,s:-15,l:Z*(8+J*3)});if(this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||y0(this.primaryColor,{h:64}),this.fillType3=this.fillType3||y0(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||y0(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||y0(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||y0(this.primaryColor,{h:128}),this.fillType7=this.fillType7||y0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||y0(this.primaryColor,{l:-10}),this.pie5=this.pie5||y0(this.secondaryColor,{l:-10}),this.pie6=this.pie6||y0(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||y0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||y0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||y0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||y0(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||y0(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||y0(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||y0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||y0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||y0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||y0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||y0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||y0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||n7(this.quadrant1Fill)?x8(this.quadrant1Fill):c8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?c8(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||y0(this.primaryColor,{h:-30}),this.git4=this.git4||y0(this.primaryColor,{h:-60}),this.git5=this.git5||y0(this.primaryColor,{h:-90}),this.git6=this.git6||y0(this.primaryColor,{h:60}),this.git7=this.git7||y0(this.primaryColor,{h:120}),this.darkMode)this.git0=x8(this.git0,25),this.git1=x8(this.git1,25),this.git2=x8(this.git2,25),this.git3=x8(this.git3,25),this.git4=x8(this.git4,25),this.git5=x8(this.git5,25),this.git6=x8(this.git6,25),this.git7=x8(this.git7,25);else this.git0=c8(this.git0,25),this.git1=c8(this.git1,25),this.git2=c8(this.git2,25),this.git3=c8(this.git3,25),this.git4=c8(this.git4,25),this.git5=c8(this.git5,25),this.git6=c8(this.git6,25),this.git7=c8(this.git7,25);this.gitInv0=this.gitInv0||S8(this.git0),this.gitInv1=this.gitInv1||S8(this.git1),this.gitInv2=this.gitInv2||S8(this.git2),this.gitInv3=this.gitInv3||S8(this.git3),this.gitInv4=this.gitInv4||S8(this.git4),this.gitInv5=this.gitInv5||S8(this.git5),this.gitInv6=this.gitInv6||S8(this.git6),this.gitInv7=this.gitInv7||S8(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||NV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||EV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},T88=I((Z)=>{let J=new S88;return J.calculate(Z),J},"getThemeVariables"),w88=class{static{I(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=x8(this.primaryColor,16),this.tertiaryColor=y0(this.primaryColor,{h:-160}),this.primaryBorderColor=S8(this.background),this.secondaryBorderColor=oQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=S8(this.primaryColor),this.secondaryTextColor=S8(this.secondaryColor),this.tertiaryTextColor=S8(this.tertiaryColor),this.lineColor=S8(this.background),this.textColor=S8(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=x8(S8("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=dQ(255,255,255,0.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=c8("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=c8(this.sectionBkgColor,10),this.taskBorderColor=dQ(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=dQ(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||x8(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||c8(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=x8(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=x8(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=x8(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=y0(this.primaryColor,{h:64}),this.fillType3=y0(this.secondaryColor,{h:64}),this.fillType4=y0(this.primaryColor,{h:-64}),this.fillType5=y0(this.secondaryColor,{h:-64}),this.fillType6=y0(this.primaryColor,{h:128}),this.fillType7=y0(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||y0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||y0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||y0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||y0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||y0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||y0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||y0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||y0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||y0(this.primaryColor,{h:330});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||S8(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScalePeer"+Z]=this["cScalePeer"+Z]||x8(this["cScale"+Z],10);for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||y0(this.mainBkg,{h:30,s:-30,l:-(-10+Z*4)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||y0(this.mainBkg,{h:30,s:-30,l:-(-7+Z*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||y0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||y0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||y0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||y0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||y0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||y0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||n7(this.quadrant1Fill)?x8(this.quadrant1Fill):c8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?c8(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=x8(this.secondaryColor,20),this.git1=x8(this.pie2||this.secondaryColor,20),this.git2=x8(this.pie3||this.tertiaryColor,20),this.git3=x8(this.pie4||y0(this.primaryColor,{h:-30}),20),this.git4=x8(this.pie5||y0(this.primaryColor,{h:-60}),20),this.git5=x8(this.pie6||y0(this.primaryColor,{h:-90}),10),this.git6=x8(this.pie7||y0(this.primaryColor,{h:60}),10),this.git7=x8(this.pie8||y0(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||S8(this.git0),this.gitInv1=this.gitInv1||S8(this.git1),this.gitInv2=this.gitInv2||S8(this.git2),this.gitInv3=this.gitInv3||S8(this.git3),this.gitInv4=this.gitInv4||S8(this.git4),this.gitInv5=this.gitInv5||S8(this.git5),this.gitInv6=this.gitInv6||S8(this.git6),this.gitInv7=this.gitInv7||S8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||x8(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||x8(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},$88=I((Z)=>{let J=new w88;return J.calculate(Z),J},"getThemeVariables"),k88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=y0(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=y0(this.primaryColor,{h:-160}),this.primaryBorderColor=oQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=oQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=S8(this.primaryColor),this.secondaryTextColor=S8(this.secondaryColor),this.tertiaryTextColor=S8(this.tertiaryColor),this.lineColor=S8(this.background),this.textColor=S8(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=dQ(102,102,255,0.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||y0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||y0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||y0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||y0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||y0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||y0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||y0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||y0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||y0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||c8(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||c8(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=c8(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||c8(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||y0(this["cScale"+Z],{h:180});for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||y0(this.mainBkg,{h:30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||y0(this.mainBkg,{h:30,l:-(7+Z*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||S8(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||S8(this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.labelTextColor}if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=x8(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||x8(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||x8(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=y0(this.primaryColor,{h:64}),this.fillType3=y0(this.secondaryColor,{h:64}),this.fillType4=y0(this.primaryColor,{h:-64}),this.fillType5=y0(this.secondaryColor,{h:-64}),this.fillType6=y0(this.primaryColor,{h:128}),this.fillType7=y0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||y0(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||y0(this.primaryColor,{l:-10}),this.pie5=this.pie5||y0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||y0(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||y0(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||y0(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||y0(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||y0(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||y0(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||y0(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||y0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||y0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||y0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||y0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||y0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||y0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||n7(this.quadrant1Fill)?x8(this.quadrant1Fill):c8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||y0(this.primaryColor,{h:-30}),this.git4=this.git4||y0(this.primaryColor,{h:-60}),this.git5=this.git5||y0(this.primaryColor,{h:-90}),this.git6=this.git6||y0(this.primaryColor,{h:60}),this.git7=this.git7||y0(this.primaryColor,{h:120}),this.darkMode)this.git0=x8(this.git0,25),this.git1=x8(this.git1,25),this.git2=x8(this.git2,25),this.git3=x8(this.git3,25),this.git4=x8(this.git4,25),this.git5=x8(this.git5,25),this.git6=x8(this.git6,25),this.git7=x8(this.git7,25);else this.git0=c8(this.git0,25),this.git1=c8(this.git1,25),this.git2=c8(this.git2,25),this.git3=c8(this.git3,25),this.git4=c8(this.git4,25),this.git5=c8(this.git5,25),this.git6=c8(this.git6,25),this.git7=c8(this.git7,25);this.gitInv0=this.gitInv0||c8(S8(this.git0),25),this.gitInv1=this.gitInv1||S8(this.git1),this.gitInv2=this.gitInv2||S8(this.git2),this.gitInv3=this.gitInv3||S8(this.git3),this.gitInv4=this.gitInv4||S8(this.git4),this.gitInv5=this.gitInv5||S8(this.git5),this.gitInv6=this.gitInv6||S8(this.git6),this.gitInv7=this.gitInv7||S8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||NV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||EV}calculate(Z){if(Object.keys(this).forEach((Q)=>{if(this[Q]==="calculated")this[Q]=void 0}),typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},MG=I((Z)=>{let J=new k88;return J.calculate(Z),J},"getThemeVariables"),_88=class{static{I(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=x8("#cde498",10),this.primaryBorderColor=oQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=oQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=S8(this.primaryColor),this.secondaryTextColor=S8(this.secondaryColor),this.tertiaryTextColor=S8(this.primaryColor),this.lineColor=S8(this.background),this.textColor=S8(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=c8(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||y0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||y0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||y0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||y0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||y0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||y0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||y0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||y0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||y0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||c8(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||c8(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=c8(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||c8(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||y0(this["cScale"+Z],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||y0(this.mainBkg,{h:30,s:-30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||y0(this.mainBkg,{h:30,s:-30,l:-(8+Z*5)});if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||x8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||x8(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=y0(this.primaryColor,{h:64}),this.fillType3=y0(this.secondaryColor,{h:64}),this.fillType4=y0(this.primaryColor,{h:-64}),this.fillType5=y0(this.secondaryColor,{h:-64}),this.fillType6=y0(this.primaryColor,{h:128}),this.fillType7=y0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||y0(this.primaryColor,{l:-30}),this.pie5=this.pie5||y0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||y0(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||y0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||y0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||y0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||y0(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||y0(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||y0(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||y0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||y0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||y0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||y0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||y0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||y0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||n7(this.quadrant1Fill)?x8(this.quadrant1Fill):c8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||y0(this.primaryColor,{h:-30}),this.git4=this.git4||y0(this.primaryColor,{h:-60}),this.git5=this.git5||y0(this.primaryColor,{h:-90}),this.git6=this.git6||y0(this.primaryColor,{h:60}),this.git7=this.git7||y0(this.primaryColor,{h:120}),this.darkMode)this.git0=x8(this.git0,25),this.git1=x8(this.git1,25),this.git2=x8(this.git2,25),this.git3=x8(this.git3,25),this.git4=x8(this.git4,25),this.git5=x8(this.git5,25),this.git6=x8(this.git6,25),this.git7=x8(this.git7,25);else this.git0=c8(this.git0,25),this.git1=c8(this.git1,25),this.git2=c8(this.git2,25),this.git3=c8(this.git3,25),this.git4=c8(this.git4,25),this.git5=c8(this.git5,25),this.git6=c8(this.git6,25),this.git7=c8(this.git7,25);this.gitInv0=this.gitInv0||S8(this.git0),this.gitInv1=this.gitInv1||S8(this.git1),this.gitInv2=this.gitInv2||S8(this.git2),this.gitInv3=this.gitInv3||S8(this.git3),this.gitInv4=this.gitInv4||S8(this.git4),this.gitInv5=this.gitInv5||S8(this.git5),this.gitInv6=this.gitInv6||S8(this.git6),this.gitInv7=this.gitInv7||S8(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S8(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S8(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||NV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||EV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},f88=I((Z)=>{let J=new _88;return J.calculate(Z),J},"getThemeVariables"),v88=class{static{I(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=x8(this.contrast,55),this.background="#ffffff",this.tertiaryColor=y0(this.primaryColor,{h:-160}),this.primaryBorderColor=oQ(this.primaryColor,this.darkMode),this.secondaryBorderColor=oQ(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oQ(this.tertiaryColor,this.darkMode),this.primaryTextColor=S8(this.primaryColor),this.secondaryTextColor=S8(this.secondaryColor),this.tertiaryTextColor=S8(this.tertiaryColor),this.lineColor=S8(this.background),this.textColor=S8(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||x8(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=x8(this.contrast,55),this.border2=this.contrast,this.actorBorder=x8(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||S8(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)if(this.darkMode)this["cScalePeer"+Z]=this["cScalePeer"+Z]||x8(this["cScale"+Z],10);else this["cScalePeer"+Z]=this["cScalePeer"+Z]||c8(this["cScale"+Z],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||y0(this.mainBkg,{l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||y0(this.mainBkg,{l:-(8+Z*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=x8(this.contrast,30),this.sectionBkgColor2=x8(this.contrast,30),this.taskBorderColor=c8(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=x8(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=c8(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=y0(this.primaryColor,{h:64}),this.fillType3=y0(this.secondaryColor,{h:64}),this.fillType4=y0(this.primaryColor,{h:-64}),this.fillType5=y0(this.secondaryColor,{h:-64}),this.fillType6=y0(this.primaryColor,{h:128}),this.fillType7=y0(this.secondaryColor,{h:128});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||y0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||y0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||y0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||y0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||y0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||y0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||n7(this.quadrant1Fill)?x8(this.quadrant1Fill):c8(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||0.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||0.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=c8(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||y0(this.primaryColor,{h:-30}),this.git4=this.pie5||y0(this.primaryColor,{h:-60}),this.git5=this.pie6||y0(this.primaryColor,{h:-90}),this.git6=this.pie7||y0(this.primaryColor,{h:60}),this.git7=this.pie8||y0(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||S8(this.git0),this.gitInv1=this.gitInv1||S8(this.git1),this.gitInv2=this.gitInv2||S8(this.git2),this.gitInv3=this.gitInv3||S8(this.git3),this.gitInv4=this.gitInv4||S8(this.git4),this.gitInv5=this.gitInv5||S8(this.git5),this.gitInv6=this.gitInv6||S8(this.git6),this.gitInv7=this.gitInv7||S8(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||NV,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||EV}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}let J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},x88=I((Z)=>{let J=new v88;return J.calculate(Z),J},"getThemeVariables"),zU={base:{getThemeVariables:T88},dark:{getThemeVariables:$88},default:{getThemeVariables:MG},forest:{getThemeVariables:f88},neutral:{getThemeVariables:x88}},GU={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:0.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:0.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:50000,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},n50={...GU,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:zU.default.getThemeVariables(),sequence:{...GU.sequence,messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:I(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:I(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...GU.gantt,tickInterval:void 0,useWidth:void 0},c4:{...GU.c4,useWidth:void 0,personFont:I(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...GU.flowchart,inheritDir:!1},external_personFont:I(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:I(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:I(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:I(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:I(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:I(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:I(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:I(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:I(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:I(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:I(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:I(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:I(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:I(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:I(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:I(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:I(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:I(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:I(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:I(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...GU.pie,useWidth:984},xyChart:{...GU.xyChart,useWidth:void 0},requirement:{...GU.requirement,useWidth:void 0},packet:{...GU.packet},radar:{...GU.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},a50=I((Z,J="")=>Object.keys(Z).reduce((Q,K)=>{if(Array.isArray(Z[K]))return Q;else if(typeof Z[K]==="object"&&Z[K]!==null)return[...Q,J+K,...a50(Z[K],"")];return[...Q,J+K]},[]),"keyify"),b88=new Set(a50(n50,"")),PZ=n50,Z3=I((Z)=>{if(Z0.debug("sanitizeDirective called with",Z),typeof Z!=="object"||Z==null)return;if(Array.isArray(Z)){Z.forEach((J)=>Z3(J));return}for(let J of Object.keys(Z)){if(Z0.debug("Checking key",J),J.startsWith("__")||J.includes("proto")||J.includes("constr")||!b88.has(J)||Z[J]==null){Z0.debug("sanitize deleting key: ",J),delete Z[J];continue}if(typeof Z[J]==="object"){Z0.debug("sanitizing object",J),Z3(Z[J]);continue}let Q=["themeCSS","fontFamily","altFontFamily"];for(let K of Q)if(J.includes(K))Z0.debug("sanitizing css option",J),Z[J]=y88(Z[J])}if(Z.themeVariables)for(let J of Object.keys(Z.themeVariables)){let Q=Z.themeVariables[J];if(Q?.match&&!Q.match(/^[\d "#%(),.;A-Za-z]+$/))Z.themeVariables[J]=""}Z0.debug("After sanitization",Z)},"sanitizeDirective"),y88=I((Z)=>{let J=0,Q=0;for(let K of Z){if(J<Q)return"{ /* ERROR: Unbalanced CSS */ }";if(K==="{")J++;else if(K==="}")Q++}if(J!==Q)return"{ /* ERROR: Unbalanced CSS */ }";return Z},"sanitizeCss"),BG=Object.freeze(PZ),b6=KJ({},BG),FG=[],eR=KJ({},BG),VV=I((Z,J)=>{let Q=KJ({},Z),K={};for(let U of J)ZU0(U),K=KJ(K,U);if(Q=KJ(Q,K),K.theme&&K.theme in zU){let U=KJ({},DV),X=KJ(U.themeVariables||{},K.themeVariables);if(Q.theme&&Q.theme in zU)Q.themeVariables=zU[Q.theme].getThemeVariables(X)}return eR=Q,QU0(eR),eR},"updateCurrentConfig"),o50=I((Z)=>{if(b6=KJ({},BG),b6=KJ(b6,Z),Z.theme&&zU[Z.theme])b6.themeVariables=zU[Z.theme].getThemeVariables(Z.themeVariables);return VV(b6,FG),b6},"setSiteConfig"),t50=I((Z)=>{DV=KJ({},Z)},"saveConfigFromInitialize"),e50=I((Z)=>{return b6=KJ(b6,Z),VV(b6,FG),b6},"updateSiteConfig"),Qh=I(()=>{return KJ({},b6)},"getSiteConfig"),Kh=I((Z)=>{return QU0(Z),KJ(eR,Z),CZ()},"setConfig"),CZ=I(()=>{return KJ({},eR)},"getConfig"),ZU0=I((Z)=>{if(!Z)return;["secure",...b6.secure??[]].forEach((J)=>{if(Object.hasOwn(Z,J))Z0.debug(`Denied attempt to modify a secure key ${J}`,Z[J]),delete Z[J]}),Object.keys(Z).forEach((J)=>{if(J.startsWith("__"))delete Z[J]}),Object.keys(Z).forEach((J)=>{if(typeof Z[J]==="string"&&(Z[J].includes("<")||Z[J].includes(">")||Z[J].includes("url(data:")))delete Z[J];if(typeof Z[J]==="object")ZU0(Z[J])})},"sanitize"),JU0=I((Z)=>{if(Z3(Z),Z.fontFamily&&!Z.themeVariables?.fontFamily)Z.themeVariables={...Z.themeVariables,fontFamily:Z.fontFamily};FG.push(Z),VV(b6,FG)},"addDirective"),Q3=I((Z=b6)=>{FG=[],VV(Z,FG)},"reset"),h88={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},c50={},m88=I((Z)=>{if(c50[Z])return;Z0.warn(h88[Z]),c50[Z]=!0},"issueWarning"),QU0=I((Z)=>{if(!Z)return;if(Z.lazyLoadedDiagrams||Z.loadExternalDiagramsAtStartup)m88("LAZY_LOAD_DEPRECATED")},"checkConfig"),KU0=I(()=>{let Z={};if(DV)Z=KJ(Z,DV);for(let J of FG)Z=KJ(Z,J);return Z},"getUserDefinedConfig"),OG=/<br\s*\/?>/gi,u88=I((Z)=>{if(!Z)return[""];return YU0(Z).replace(/\\n/g,"#br#").split("#br#")},"getRows"),g88=(()=>{let Z=!1;return()=>{if(!Z)UU0(),Z=!0}})();I(UU0,"setupDompurifyHooks");XU0=I((Z)=>{return g88(),G1.sanitize(Z)},"removeScript"),l50=I((Z,J)=>{if(J.flowchart?.htmlLabels!==!1){let Q=J.securityLevel;if(Q==="antiscript"||Q==="strict")Z=XU0(Z);else if(Q!=="loose")Z=YU0(Z),Z=Z.replace(/</g,"&lt;").replace(/>/g,"&gt;"),Z=Z.replace(/=/g,"&equals;"),Z=d88(Z)}return Z},"sanitizeMore"),VZ=I((Z,J)=>{if(!Z)return Z;if(J.dompurifyConfig)Z=G1.sanitize(l50(Z,J),J.dompurifyConfig).toString();else Z=G1.sanitize(l50(Z,J),{FORBID_TAGS:["style"]}).toString();return Z},"sanitizeText"),p88=I((Z,J)=>{if(typeof Z==="string")return VZ(Z,J);return Z.flat().map((Q)=>VZ(Q,J))},"sanitizeTextOrArray"),c88=I((Z)=>{return OG.test(Z)},"hasBreaks"),l88=I((Z)=>{return Z.split(OG)},"splitBreaks"),d88=I((Z)=>{return Z.replace(/#br#/g,"<br/>")},"placeholderToBreak"),YU0=I((Z)=>{return Z.replace(OG,"#br#")},"breakToPlaceholder"),RG=I((Z)=>{let J="";if(Z)J=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,J=CSS.escape(J);return J},"getUrl"),G9=I((Z)=>Z===!1||["false","null","0"].includes(String(Z).trim().toLowerCase())?!1:!0,"evaluate"),i88=I(function(...Z){let J=Z.filter((Q)=>{return!isNaN(Q)});return Math.max(...J)},"getMax"),s88=I(function(...Z){let J=Z.filter((Q)=>{return!isNaN(Q)});return Math.min(...J)},"getMin"),HU=I(function(Z){let J=Z.split(/(,)/),Q=[];for(let K=0;K<J.length;K++){let U=J[K];if(U===","&&K>0&&K+1<J.length){let X=J[K-1],Y=J[K+1];if(r88(X,Y))U=X+","+Y,K++,Q.pop()}Q.push(n88(U))}return Q.join("")},"parseGenericTypes"),ey=I((Z,J)=>{return Math.max(0,Z.split(J).length-1)},"countOccurrence"),r88=I((Z,J)=>{let Q=ey(Z,"~"),K=ey(J,"~");return Q===1&&K===1},"shouldCombineSets"),n88=I((Z)=>{let J=ey(Z,"~"),Q=!1;if(J<=1)return Z;if(J%2!==0&&Z.startsWith("~"))Z=Z.substring(1),Q=!0;let K=[...Z],U=K.indexOf("~"),X=K.lastIndexOf("~");while(U!==-1&&X!==-1&&U!==X)K[U]="<",K[X]=">",U=K.indexOf("~"),X=K.lastIndexOf("~");if(Q)K.unshift("~");return K.join("")},"processSet"),d50=I(()=>window.MathMLElement!==void 0,"isMathMLSupported"),RV=/\$\$(.*)\$\$/g,UJ=I((Z)=>(Z.match(RV)?.length??0)>0,"hasKatex"),lH=I(async(Z,J)=>{let Q=document.createElement("div");Q.innerHTML=await O1(Z,J),Q.id="katex-temp",Q.style.visibility="hidden",Q.style.position="absolute",Q.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",Q);let U={width:Q.clientWidth,height:Q.clientHeight};return Q.remove(),U},"calculateMathMLDimensions"),a88=I(async(Z,J)=>{if(!UJ(Z))return Z;if(!(d50()||J.legacyMathML||J.forceLegacyMathML))return Z.replace(RV,"MathML is unsupported in this environment.");{let{default:Q}=await Promise.resolve().then(() => (p50(),g50)),K=J.forceLegacyMathML||!d50()&&J.legacyMathML?"htmlAndMathml":"mathml";return Z.split(OG).map((U)=>UJ(U)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${U}</div>`:`<div>${U}</div>`).join("").replace(RV,(U,X)=>Q.renderToString(X,{throwOnError:!0,displayMode:!0,output:K}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return Z.replace(RV,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized"),O1=I(async(Z,J)=>{return VZ(await a88(Z,J),J)},"renderKatexSanitized"),U8={getRows:u88,sanitizeText:VZ,sanitizeTextOrArray:p88,hasBreaks:c88,splitBreaks:l88,lineBreakRegex:OG,removeScript:XU0,getUrl:RG,evaluate:G9,getMax:i88,getMin:s88},o88=I(function(Z,J){for(let Q of J)Z.attr(Q[0],Q[1])},"d3Attrs"),t88=I(function(Z,J,Q){let K=new Map;if(Q)K.set("width","100%"),K.set("style",`max-width: ${J}px;`);else K.set("height",Z),K.set("width",J);return K},"calculateSvgSizeAttrs"),T9=I(function(Z,J,Q,K){let U=t88(J,Q,K);o88(Z,U)},"configureSvgSize"),sX=I(function(Z,J,Q,K){let U=J.node().getBBox(),X=U.width,Y=U.height;Z0.info(`SVG bounds: ${X}x${Y}`,U);let q=0,W=0;Z0.info(`Graph bounds: ${q}x${W}`,Z),q=X+Q*2,W=Y+Q*2,Z0.info(`Calculated bounds: ${q}x${W}`),T9(J,W,q,K);let G=`${U.x-Q} ${U.y-Q} ${U.width+2*Q} ${U.height+2*Q}`;J.attr("viewBox",G)},"setupGraphViewbox"),LV={},e88=I((Z,J,Q)=>{let K="";if(Z in LV&&LV[Z])K=LV[Z](Q);else Z0.warn(`No theme found for ${Z}`);return` & {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
    fill: ${Q.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${Q.errorBkgColor};
  }
  & .error-text {
    fill: ${Q.errorTextColor};
    stroke: ${Q.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${Q.lineColor};
    stroke: ${Q.lineColor};
  }
  & .marker.cross {
    stroke: ${Q.lineColor};
  }

  & svg {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
  }
   & p {
    margin: 0
   }

  ${K}

  ${J}
`},"getStyles"),ZZ8=I((Z,J)=>{if(J!==void 0)LV[Z]=J},"addStylesForDiagram"),qU0=e88,PV={};q1(PV,{clear:()=>bZ,getAccDescription:()=>nZ,getAccTitle:()=>sZ,getDiagramTitle:()=>aZ,setAccDescription:()=>rZ,setAccTitle:()=>cZ,setDiagramTitle:()=>Z9});qh=I((Z)=>VZ(Z,CZ()),"sanitizeText"),bZ=I(()=>{Uh="",Yh="",Xh=""},"clear"),cZ=I((Z)=>{Uh=qh(Z).replace(/^\s+/g,"")},"setAccTitle"),sZ=I(()=>Uh,"getAccTitle"),rZ=I((Z)=>{Yh=qh(Z).replace(/\n\s+/g,`
`)},"setAccDescription"),nZ=I(()=>Yh,"getAccDescription"),Z9=I((Z)=>{Xh=qh(Z)},"setDiagramTitle"),aZ=I(()=>Xh,"getDiagramTitle"),i50=Z0,JZ8=fR,E0=CZ,K3=Kh,CV=BG,jV=I((Z)=>VZ(Z,E0()),"sanitizeText"),Wh=sX,QZ8=I(()=>{return PV},"getCommonDb"),IV={},U3=I((Z,J,Q)=>{if(IV[Z])i50.warn(`Diagram with id ${Z} already registered. Overwriting.`);if(IV[Z]=J,Q)s50(Z,Q);ZZ8(Z,J.styles),J.injectUtils?.(i50,JZ8,E0,jV,Wh,QZ8(),()=>{})},"registerDiagram"),SV=I((Z)=>{if(Z in IV)return IV[Z];throw new KZ8(Z)},"getDiagram"),KZ8=class extends Error{static{I(this,"DiagramNotFoundError")}constructor(Z){super(`Diagram ${Z} not found.`)}}});function LG(Z,J){return Z==null||J==null?NaN:Z<J?-1:Z>J?1:Z>=J?0:NaN}function Gh(Z,J){return Z==null||J==null?NaN:J<Z?-1:J>Z?1:J>=Z?0:NaN}function DG(Z){let J,Q,K;if(Z.length!==2)J=LG,Q=(q,W)=>LG(Z(q),W),K=(q,W)=>Z(q)-W;else J=Z===LG||Z===Gh?Z:UZ8,Q=Z,K=Z;function U(q,W,G=0,z=q.length){if(G<z){if(J(W,W)!==0)return z;do{let H=G+z>>>1;if(Q(q[H],W)<0)G=H+1;else z=H}while(G<z)}return G}function X(q,W,G=0,z=q.length){if(G<z){if(J(W,W)!==0)return z;do{let H=G+z>>>1;if(Q(q[H],W)<=0)G=H+1;else z=H}while(G<z)}return G}function Y(q,W,G=0,z=q.length){let H=U(q,W,G,z-1);return H>G&&K(q[H-1],W)>-K(q[H],W)?H-1:H}return{left:U,center:Y,right:X}}function UZ8(){return 0}var zh=()=>{};function Hh(Z){return Z===null?NaN:+Z}var WU0,GU0,XZ8,YZ8,Fh;var zU0=f(()=>{zh();WU0=DG(LG),GU0=WU0.right,XZ8=WU0.left,YZ8=DG(Hh).center,Fh=GU0});function HU0({_intern:Z,_key:J},Q){let K=J(Q);return Z.has(K)?Z.get(K):Q}function qZ8({_intern:Z,_key:J},Q){let K=J(Q);if(Z.has(K))return Z.get(K);return Z.set(K,Q),Q}function WZ8({_intern:Z,_key:J},Q){let K=J(Q);if(Z.has(K))Q=Z.get(Q),Z.delete(K);return Q}function GZ8(Z){return Z!==null&&typeof Z==="object"?Z.valueOf():Z}var X3;var FU0=f(()=>{X3=class X3 extends Map{constructor(Z,J=GZ8){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:J}}),Z!=null)for(let[Q,K]of Z)this.set(Q,K)}get(Z){return super.get(HU0(this,Z))}has(Z){return super.has(HU0(this,Z))}set(Z,J){return super.set(qZ8(this,Z),J)}delete(Z){return super.delete(WZ8(this,Z))}}});function TV(Z,J,Q){let K=(J-Z)/Math.max(0,Q),U=Math.floor(Math.log10(K)),X=K/Math.pow(10,U),Y=X>=zZ8?10:X>=HZ8?5:X>=FZ8?2:1,q,W,G;if(U<0){if(G=Math.pow(10,-U)/Y,q=Math.round(Z*G),W=Math.round(J*G),q/G<Z)++q;if(W/G>J)--W;G=-G}else{if(G=Math.pow(10,U)*Y,q=Math.round(Z/G),W=Math.round(J/G),q*G<Z)++q;if(W*G>J)--W}if(W<q&&0.5<=Q&&Q<2)return TV(Z,J,Q*2);return[q,W,G]}function wV(Z,J,Q){if(J=+J,Z=+Z,Q=+Q,!(Q>0))return[];if(Z===J)return[Z];let K=J<Z,[U,X,Y]=K?TV(J,Z,Q):TV(Z,J,Q);if(!(X>=U))return[];let q=X-U+1,W=Array(q);if(K)if(Y<0)for(let G=0;G<q;++G)W[G]=(X-G)/-Y;else for(let G=0;G<q;++G)W[G]=(X-G)*Y;else if(Y<0)for(let G=0;G<q;++G)W[G]=(U+G)/-Y;else for(let G=0;G<q;++G)W[G]=(U+G)*Y;return W}function Y3(Z,J,Q){return J=+J,Z=+Z,Q=+Q,TV(Z,J,Q)[2]}function dH(Z,J,Q){J=+J,Z=+Z,Q=+Q;let K=J<Z,U=K?Y3(J,Z,Q):Y3(Z,J,Q);return(K?-1:1)*(U<0?1/-U:U)}var zZ8,HZ8,FZ8;var MU0=f(()=>{zZ8=Math.sqrt(50),HZ8=Math.sqrt(10),FZ8=Math.sqrt(2)});function $V(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let U of Z)if((U=J(U,++K,Z))!=null&&(Q<U||Q===void 0&&U>=U))Q=U}return Q}function kV(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let U of Z)if((U=J(U,++K,Z))!=null&&(Q>U||Q===void 0&&U>=U))Q=U}return Q}function _V(Z,J,Q){Z=+Z,J=+J,Q=(U=arguments.length)<2?(J=Z,Z=0,1):U<3?1:+Q;var K=-1,U=Math.max(0,Math.ceil((J-Z)/Q))|0,X=Array(U);while(++K<U)X[K]=Z+K*Q;return X}var R1=f(()=>{zU0();zh();MU0();FU0()});function Mh(Z){return Z}function MZ8(Z){return"translate("+Z+",0)"}function BZ8(Z){return"translate(0,"+Z+")"}function OZ8(Z){return(J)=>+Z(J)}function RZ8(Z,J){if(J=Math.max(0,Z.bandwidth()-J*2)/2,Z.round())J=Math.round(J);return(Q)=>+Z(Q)+J}function LZ8(){return!this.__axis}function OU0(Z,J){var Q=[],K=null,U=null,X=6,Y=6,q=3,W=typeof window<"u"&&window.devicePixelRatio>1?0:0.5,G=Z===vV||Z===fV?-1:1,z=Z===fV||Z===Bh?"x":"y",H=Z===vV||Z===Oh?MZ8:BZ8;function F(M){var B=K==null?J.ticks?J.ticks.apply(J,Q):J.domain():K,O=U==null?J.tickFormat?J.tickFormat.apply(J,Q):Mh:U,R=Math.max(X,0)+q,L=J.range(),D=+L[0]+W,A=+L[L.length-1]+W,V=(J.bandwidth?RZ8:OZ8)(J.copy(),W),N=M.selection?M.selection():M,E=N.selectAll(".domain").data([null]),C=N.selectAll(".tick").data(B,J).order(),j=C.exit(),$=C.enter().append("g").attr("class","tick"),k=C.select("line"),w=C.select("text");if(E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge($),k=k.merge($.append("line").attr("stroke","currentColor").attr(z+"2",G*X)),w=w.merge($.append("text").attr("fill","currentColor").attr(z,G*R).attr("dy",Z===vV?"0em":Z===Oh?"0.71em":"0.32em")),M!==N)E=E.transition(M),C=C.transition(M),k=k.transition(M),w=w.transition(M),j=j.transition(M).attr("opacity",BU0).attr("transform",function(P){return isFinite(P=V(P))?H(P+W):this.getAttribute("transform")}),$.attr("opacity",BU0).attr("transform",function(P){var S=this.parentNode.__axis;return H((S&&isFinite(S=S(P))?S:V(P))+W)});j.remove(),E.attr("d",Z===fV||Z===Bh?Y?"M"+G*Y+","+D+"H"+W+"V"+A+"H"+G*Y:"M"+W+","+D+"V"+A:Y?"M"+D+","+G*Y+"V"+W+"H"+A+"V"+G*Y:"M"+D+","+W+"H"+A),C.attr("opacity",1).attr("transform",function(P){return H(V(P)+W)}),k.attr(z+"2",G*X),w.attr(z,G*R).text(O),N.filter(LZ8).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",Z===Bh?"start":Z===fV?"end":"middle"),N.each(function(){this.__axis=V})}return F.scale=function(M){return arguments.length?(J=M,F):J},F.ticks=function(){return Q=Array.from(arguments),F},F.tickArguments=function(M){return arguments.length?(Q=M==null?[]:Array.from(M),F):Q.slice()},F.tickValues=function(M){return arguments.length?(K=M==null?null:Array.from(M),F):K&&K.slice()},F.tickFormat=function(M){return arguments.length?(U=M,F):U},F.tickSize=function(M){return arguments.length?(X=Y=+M,F):X},F.tickSizeInner=function(M){return arguments.length?(X=+M,F):X},F.tickSizeOuter=function(M){return arguments.length?(Y=+M,F):Y},F.tickPadding=function(M){return arguments.length?(q=+M,F):q},F.offset=function(M){return arguments.length?(W=+M,F):W},F}function Rh(Z){return OU0(vV,Z)}function Lh(Z){return OU0(Oh,Z)}var vV=1,Bh=2,Oh=3,fV=4,BU0=0.000001;var RU0=()=>{};var LU0=f(()=>{RU0()});function IU0(){for(var Z=0,J=arguments.length,Q={},K;Z<J;++Z){if(!(K=arguments[Z]+"")||K in Q||/[\s.]/.test(K))throw Error("illegal type: "+K);Q[K]=[]}return new xV(Q)}function xV(Z){this._=Z}function IZ8(Z,J){return Z.trim().split(/^|\s+/).map(function(Q){var K="",U=Q.indexOf(".");if(U>=0)K=Q.slice(U+1),Q=Q.slice(0,U);if(Q&&!J.hasOwnProperty(Q))throw Error("unknown type: "+Q);return{type:Q,name:K}})}function AZ8(Z,J){for(var Q=0,K=Z.length,U;Q<K;++Q)if((U=Z[Q]).name===J)return U.value}function DU0(Z,J,Q){for(var K=0,U=Z.length;K<U;++K)if(Z[K].name===J){Z[K]=DZ8,Z=Z.slice(0,K).concat(Z.slice(K+1));break}if(Q!=null)Z.push({name:J,value:Q});return Z}var DZ8,Dh;var AU0=f(()=>{DZ8={value:()=>{}};xV.prototype=IU0.prototype={constructor:xV,on:function(Z,J){var Q=this._,K=IZ8(Z+"",Q),U,X=-1,Y=K.length;if(arguments.length<2){while(++X<Y)if((U=(Z=K[X]).type)&&(U=AZ8(Q[U],Z.name)))return U;return}if(J!=null&&typeof J!=="function")throw Error("invalid callback: "+J);while(++X<Y)if(U=(Z=K[X]).type)Q[U]=DU0(Q[U],Z.name,J);else if(J==null)for(U in Q)Q[U]=DU0(Q[U],Z.name,null);return this},copy:function(){var Z={},J=this._;for(var Q in J)Z[Q]=J[Q].slice();return new xV(Z)},call:function(Z,J){if((U=arguments.length-2)>0)for(var Q=Array(U),K=0,U,X;K<U;++K)Q[K]=arguments[K+2];if(!this._.hasOwnProperty(Z))throw Error("unknown type: "+Z);for(X=this._[Z],K=0,U=X.length;K<U;++K)X[K].value.apply(J,Q)},apply:function(Z,J,Q){if(!this._.hasOwnProperty(Z))throw Error("unknown type: "+Z);for(var K=this._[Z],U=0,X=K.length;U<X;++U)K[U].value.apply(J,Q)}};Dh=IU0});var Ih=f(()=>{AU0()});var bV="http://www.w3.org/1999/xhtml",Ah;var Nh=f(()=>{Ah={svg:"http://www.w3.org/2000/svg",xhtml:bV,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function FU(Z){var J=Z+="",Q=J.indexOf(":");if(Q>=0&&(J=Z.slice(0,Q))!=="xmlns")Z=Z.slice(Q+1);return Ah.hasOwnProperty(J)?{space:Ah[J],local:Z}:Z}var yV=f(()=>{Nh()});function NZ8(Z){return function(){var J=this.ownerDocument,Q=this.namespaceURI;return Q===bV&&J.documentElement.namespaceURI===bV?J.createElement(Z):J.createElementNS(Q,Z)}}function EZ8(Z){return function(){return this.ownerDocument.createElementNS(Z.space,Z.local)}}function q3(Z){var J=FU(Z);return(J.local?EZ8:NZ8)(J)}var Eh=f(()=>{yV();Nh()});function VZ8(){}function L1(Z){return Z==null?VZ8:function(){return this.querySelector(Z)}}function Vh(Z){if(typeof Z!=="function")Z=L1(Z);for(var J=this._groups,Q=J.length,K=Array(Q),U=0;U<Q;++U)for(var X=J[U],Y=X.length,q=K[U]=Array(Y),W,G,z=0;z<Y;++z)if((W=X[z])&&(G=Z.call(W,W.__data__,z,X))){if("__data__"in W)G.__data__=W.__data__;q[z]=G}return new yJ(K,this._parents)}var NU0=f(()=>{Q5()});function Ph(Z){return Z==null?[]:Array.isArray(Z)?Z:Array.from(Z)}function PZ8(){return[]}function iH(Z){return Z==null?PZ8:function(){return this.querySelectorAll(Z)}}function CZ8(Z){return function(){return Ph(Z.apply(this,arguments))}}function Ch(Z){if(typeof Z==="function")Z=CZ8(Z);else Z=iH(Z);for(var J=this._groups,Q=J.length,K=[],U=[],X=0;X<Q;++X)for(var Y=J[X],q=Y.length,W,G=0;G<q;++G)if(W=Y[G])K.push(Z.call(W,W.__data__,G,Y)),U.push(W);return new yJ(K,U)}var EU0=f(()=>{Q5()});function sH(Z){return function(){return this.matches(Z)}}function hV(Z){return function(J){return J.matches(Z)}}function SZ8(Z){return function(){return jZ8.call(this.children,Z)}}function TZ8(){return this.firstElementChild}function jh(Z){return this.select(Z==null?TZ8:SZ8(typeof Z==="function"?Z:hV(Z)))}var jZ8;var VU0=f(()=>{jZ8=Array.prototype.find});function $Z8(){return Array.from(this.children)}function kZ8(Z){return function(){return wZ8.call(this.children,Z)}}function Sh(Z){return this.selectAll(Z==null?$Z8:kZ8(typeof Z==="function"?Z:hV(Z)))}var wZ8;var PU0=f(()=>{wZ8=Array.prototype.filter});function Th(Z){if(typeof Z!=="function")Z=sH(Z);for(var J=this._groups,Q=J.length,K=Array(Q),U=0;U<Q;++U)for(var X=J[U],Y=X.length,q=K[U]=[],W,G=0;G<Y;++G)if((W=X[G])&&Z.call(W,W.__data__,G,X))q.push(W);return new yJ(K,this._parents)}var CU0=f(()=>{Q5()});function W3(Z){return Array(Z.length)}function wh(){return new yJ(this._enter||this._groups.map(W3),this._parents)}function G3(Z,J){this.ownerDocument=Z.ownerDocument,this.namespaceURI=Z.namespaceURI,this._next=null,this._parent=Z,this.__data__=J}var $h=f(()=>{Q5();G3.prototype={constructor:G3,appendChild:function(Z){return this._parent.insertBefore(Z,this._next)},insertBefore:function(Z,J){return this._parent.insertBefore(Z,J)},querySelector:function(Z){return this._parent.querySelector(Z)},querySelectorAll:function(Z){return this._parent.querySelectorAll(Z)}}});function kh(Z){return function(){return Z}}function _Z8(Z,J,Q,K,U,X){var Y=0,q,W=J.length,G=X.length;for(;Y<G;++Y)if(q=J[Y])q.__data__=X[Y],K[Y]=q;else Q[Y]=new G3(Z,X[Y]);for(;Y<W;++Y)if(q=J[Y])U[Y]=q}function fZ8(Z,J,Q,K,U,X,Y){var q,W,G=new Map,z=J.length,H=X.length,F=Array(z),M;for(q=0;q<z;++q)if(W=J[q])if(F[q]=M=Y.call(W,W.__data__,q,J)+"",G.has(M))U[q]=W;else G.set(M,W);for(q=0;q<H;++q)if(M=Y.call(Z,X[q],q,X)+"",W=G.get(M))K[q]=W,W.__data__=X[q],G.delete(M);else Q[q]=new G3(Z,X[q]);for(q=0;q<z;++q)if((W=J[q])&&G.get(F[q])===W)U[q]=W}function vZ8(Z){return Z.__data__}function _h(Z,J){if(!arguments.length)return Array.from(this,vZ8);var Q=J?fZ8:_Z8,K=this._parents,U=this._groups;if(typeof Z!=="function")Z=kh(Z);for(var X=U.length,Y=Array(X),q=Array(X),W=Array(X),G=0;G<X;++G){var z=K[G],H=U[G],F=H.length,M=xZ8(Z.call(z,z&&z.__data__,G,K)),B=M.length,O=q[G]=Array(B),R=Y[G]=Array(B),L=W[G]=Array(F);Q(z,H,O,R,L,M,J);for(var D=0,A=0,V,N;D<B;++D)if(V=O[D]){if(D>=A)A=D+1;while(!(N=R[A])&&++A<B);V._next=N||null}}return Y=new yJ(Y,K),Y._enter=q,Y._exit=W,Y}function xZ8(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}var jU0=f(()=>{Q5();$h()});function fh(){return new yJ(this._exit||this._groups.map(W3),this._parents)}var SU0=f(()=>{Q5()});function vh(Z,J,Q){var K=this.enter(),U=this,X=this.exit();if(typeof Z==="function"){if(K=Z(K),K)K=K.selection()}else K=K.append(Z+"");if(J!=null){if(U=J(U),U)U=U.selection()}if(Q==null)X.remove();else Q(X);return K&&U?K.merge(U).order():U}function xh(Z){var J=Z.selection?Z.selection():Z;for(var Q=this._groups,K=J._groups,U=Q.length,X=K.length,Y=Math.min(U,X),q=Array(U),W=0;W<Y;++W)for(var G=Q[W],z=K[W],H=G.length,F=q[W]=Array(H),M,B=0;B<H;++B)if(M=G[B]||z[B])F[B]=M;for(;W<U;++W)q[W]=Q[W];return new yJ(q,this._parents)}var TU0=f(()=>{Q5()});function bh(){for(var Z=this._groups,J=-1,Q=Z.length;++J<Q;)for(var K=Z[J],U=K.length-1,X=K[U],Y;--U>=0;)if(Y=K[U]){if(X&&Y.compareDocumentPosition(X)^4)X.parentNode.insertBefore(Y,X);X=Y}return this}function yh(Z){if(!Z)Z=bZ8;function J(H,F){return H&&F?Z(H.__data__,F.__data__):!H-!F}for(var Q=this._groups,K=Q.length,U=Array(K),X=0;X<K;++X){for(var Y=Q[X],q=Y.length,W=U[X]=Array(q),G,z=0;z<q;++z)if(G=Y[z])W[z]=G;W.sort(J)}return new yJ(U,this._parents).order()}function bZ8(Z,J){return Z<J?-1:Z>J?1:Z>=J?0:NaN}var wU0=f(()=>{Q5()});function hh(){var Z=arguments[0];return arguments[0]=this,Z.apply(null,arguments),this}function mh(){return Array.from(this)}function uh(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],U=0,X=K.length;U<X;++U){var Y=K[U];if(Y)return Y}return null}function gh(){let Z=0;for(let J of this)++Z;return Z}function ph(){return!this.node()}function ch(Z){for(var J=this._groups,Q=0,K=J.length;Q<K;++Q)for(var U=J[Q],X=0,Y=U.length,q;X<Y;++X)if(q=U[X])Z.call(q,q.__data__,X,U);return this}function yZ8(Z){return function(){this.removeAttribute(Z)}}function hZ8(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function mZ8(Z,J){return function(){this.setAttribute(Z,J)}}function uZ8(Z,J){return function(){this.setAttributeNS(Z.space,Z.local,J)}}function gZ8(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttribute(Z);else this.setAttribute(Z,Q)}}function pZ8(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttributeNS(Z.space,Z.local);else this.setAttributeNS(Z.space,Z.local,Q)}}function lh(Z,J){var Q=FU(Z);if(arguments.length<2){var K=this.node();return Q.local?K.getAttributeNS(Q.space,Q.local):K.getAttribute(Q)}return this.each((J==null?Q.local?hZ8:yZ8:typeof J==="function"?Q.local?pZ8:gZ8:Q.local?uZ8:mZ8)(Q,J))}var $U0=f(()=>{yV()});function z3(Z){return Z.ownerDocument&&Z.ownerDocument.defaultView||Z.document&&Z||Z.defaultView}function cZ8(Z){return function(){this.style.removeProperty(Z)}}function lZ8(Z,J,Q){return function(){this.style.setProperty(Z,J,Q)}}function dZ8(Z,J,Q){return function(){var K=J.apply(this,arguments);if(K==null)this.style.removeProperty(Z);else this.style.setProperty(Z,K,Q)}}function dh(Z,J,Q){return arguments.length>1?this.each((J==null?cZ8:typeof J==="function"?dZ8:lZ8)(Z,J,Q==null?"":Q)):D1(this.node(),Z)}function D1(Z,J){return Z.style.getPropertyValue(J)||z3(Z).getComputedStyle(Z,null).getPropertyValue(J)}var ih=()=>{};function iZ8(Z){return function(){delete this[Z]}}function sZ8(Z,J){return function(){this[Z]=J}}function rZ8(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)delete this[Z];else this[Z]=Q}}function sh(Z,J){return arguments.length>1?this.each((J==null?iZ8:typeof J==="function"?rZ8:sZ8)(Z,J)):this.node()[Z]}function kU0(Z){return Z.trim().split(/^|\s+/)}function rh(Z){return Z.classList||new _U0(Z)}function _U0(Z){this._node=Z,this._names=kU0(Z.getAttribute("class")||"")}function fU0(Z,J){var Q=rh(Z),K=-1,U=J.length;while(++K<U)Q.add(J[K])}function vU0(Z,J){var Q=rh(Z),K=-1,U=J.length;while(++K<U)Q.remove(J[K])}function nZ8(Z){return function(){fU0(this,Z)}}function aZ8(Z){return function(){vU0(this,Z)}}function oZ8(Z,J){return function(){(J.apply(this,arguments)?fU0:vU0)(this,Z)}}function nh(Z,J){var Q=kU0(Z+"");if(arguments.length<2){var K=rh(this.node()),U=-1,X=Q.length;while(++U<X)if(!K.contains(Q[U]))return!1;return!0}return this.each((typeof J==="function"?oZ8:J?nZ8:aZ8)(Q,J))}var xU0=f(()=>{_U0.prototype={add:function(Z){var J=this._names.indexOf(Z);if(J<0)this._names.push(Z),this._node.setAttribute("class",this._names.join(" "))},remove:function(Z){var J=this._names.indexOf(Z);if(J>=0)this._names.splice(J,1),this._node.setAttribute("class",this._names.join(" "))},contains:function(Z){return this._names.indexOf(Z)>=0}}});function tZ8(){this.textContent=""}function eZ8(Z){return function(){this.textContent=Z}}function Z98(Z){return function(){var J=Z.apply(this,arguments);this.textContent=J==null?"":J}}function ah(Z){return arguments.length?this.each(Z==null?tZ8:(typeof Z==="function"?Z98:eZ8)(Z)):this.node().textContent}function J98(){this.innerHTML=""}function Q98(Z){return function(){this.innerHTML=Z}}function K98(Z){return function(){var J=Z.apply(this,arguments);this.innerHTML=J==null?"":J}}function oh(Z){return arguments.length?this.each(Z==null?J98:(typeof Z==="function"?K98:Q98)(Z)):this.node().innerHTML}function U98(){if(this.nextSibling)this.parentNode.appendChild(this)}function th(){return this.each(U98)}function X98(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eh(){return this.each(X98)}function Zm(Z){var J=typeof Z==="function"?Z:q3(Z);return this.select(function(){return this.appendChild(J.apply(this,arguments))})}var bU0=f(()=>{Eh()});function Y98(){return null}function Jm(Z,J){var Q=typeof Z==="function"?Z:q3(Z),K=J==null?Y98:typeof J==="function"?J:L1(J);return this.select(function(){return this.insertBefore(Q.apply(this,arguments),K.apply(this,arguments)||null)})}var yU0=f(()=>{Eh()});function q98(){var Z=this.parentNode;if(Z)Z.removeChild(this)}function Qm(){return this.each(q98)}function W98(){var Z=this.cloneNode(!1),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function G98(){var Z=this.cloneNode(!0),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function Km(Z){return this.select(Z?G98:W98)}function Um(Z){return arguments.length?this.property("__data__",Z):this.node().__data__}function z98(Z){return function(J){Z.call(this,J,this.__data__)}}function H98(Z){return Z.trim().split(/^|\s+/).map(function(J){var Q="",K=J.indexOf(".");if(K>=0)Q=J.slice(K+1),J=J.slice(0,K);return{type:J,name:Q}})}function F98(Z){return function(){var J=this.__on;if(!J)return;for(var Q=0,K=-1,U=J.length,X;Q<U;++Q)if(X=J[Q],(!Z.type||X.type===Z.type)&&X.name===Z.name)this.removeEventListener(X.type,X.listener,X.options);else J[++K]=X;if(++K)J.length=K;else delete this.__on}}function M98(Z,J,Q){return function(){var K=this.__on,U,X=z98(J);if(K){for(var Y=0,q=K.length;Y<q;++Y)if((U=K[Y]).type===Z.type&&U.name===Z.name){this.removeEventListener(U.type,U.listener,U.options),this.addEventListener(U.type,U.listener=X,U.options=Q),U.value=J;return}}if(this.addEventListener(Z.type,X,Q),U={type:Z.type,name:Z.name,value:J,listener:X,options:Q},!K)this.__on=[U];else K.push(U)}}function Xm(Z,J,Q){var K=H98(Z+""),U,X=K.length,Y;if(arguments.length<2){var q=this.node().__on;if(q){for(var W=0,G=q.length,z;W<G;++W)for(U=0,z=q[W];U<X;++U)if((Y=K[U]).type===z.type&&Y.name===z.name)return z.value}return}q=J?M98:F98;for(U=0;U<X;++U)this.each(q(K[U],J,Q));return this}function hU0(Z,J,Q){var K=z3(Z),U=K.CustomEvent;if(typeof U==="function")U=new U(J,Q);else if(U=K.document.createEvent("Event"),Q)U.initEvent(J,Q.bubbles,Q.cancelable),U.detail=Q.detail;else U.initEvent(J,!1,!1);Z.dispatchEvent(U)}function B98(Z,J){return function(){return hU0(this,Z,J)}}function O98(Z,J){return function(){return hU0(this,Z,J.apply(this,arguments))}}function Ym(Z,J){return this.each((typeof J==="function"?O98:B98)(Z,J))}var mU0=()=>{};function*qm(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],U=0,X=K.length,Y;U<X;++U)if(Y=K[U])yield Y}function yJ(Z,J){this._groups=Z,this._parents=J}function uU0(){return new yJ([[document.documentElement]],Wm)}function R98(){return this}var Wm,rX;var Q5=f(()=>{NU0();EU0();VU0();PU0();CU0();jU0();$h();SU0();TU0();wU0();$U0();ih();xU0();bU0();yU0();mU0();Wm=[null];yJ.prototype=uU0.prototype={constructor:yJ,select:Vh,selectAll:Ch,selectChild:jh,selectChildren:Sh,filter:Th,data:_h,enter:wh,exit:fh,join:vh,merge:xh,selection:R98,order:bh,sort:yh,call:hh,nodes:mh,node:uh,size:gh,empty:ph,each:ch,attr:lh,style:dh,property:sh,classed:nh,text:ah,html:oh,raise:th,lower:eh,append:Zm,insert:Jm,remove:Qm,clone:Km,datum:Um,on:Xm,dispatch:Ym,[Symbol.iterator]:qm};rX=uU0});function n0(Z){return typeof Z==="string"?new yJ([[document.querySelector(Z)]],[document.documentElement]):new yJ([[Z]],Wm)}var gU0=f(()=>{Q5()});var K5=f(()=>{yV();gU0();Q5();ih()});var pU0=()=>{};function I1(Z,J,Q){Z.prototype=J.prototype=Q,Q.constructor=Z}function rH(Z,J){var Q=Object.create(Z.prototype);for(var K in J)Q[K]=J[K];return Q}function A1(){}function lU0(){return this.rgb().formatHex()}function P98(){return this.rgb().formatHex8()}function C98(){return oU0(this).formatHsl()}function dU0(){return this.rgb().formatRgb()}function X5(Z){var J,Q;return Z=(Z+"").trim().toLowerCase(),(J=L98.exec(Z))?(Q=J[1].length,J=parseInt(J[1],16),Q===6?iU0(J):Q===3?new o7(J>>8&15|J>>4&240,J>>4&15|J&240,(J&15)<<4|J&15,1):Q===8?mV(J>>24&255,J>>16&255,J>>8&255,(J&255)/255):Q===4?mV(J>>12&15|J>>8&240,J>>8&15|J>>4&240,J>>4&15|J&240,((J&15)<<4|J&15)/255):null):(J=D98.exec(Z))?new o7(J[1],J[2],J[3],1):(J=I98.exec(Z))?new o7(J[1]*255/100,J[2]*255/100,J[3]*255/100,1):(J=A98.exec(Z))?mV(J[1],J[2],J[3],J[4]):(J=N98.exec(Z))?mV(J[1]*255/100,J[2]*255/100,J[3]*255/100,J[4]):(J=E98.exec(Z))?nU0(J[1],J[2]/100,J[3]/100,1):(J=V98.exec(Z))?nU0(J[1],J[2]/100,J[3]/100,J[4]):cU0.hasOwnProperty(Z)?iU0(cU0[Z]):Z==="transparent"?new o7(NaN,NaN,NaN,0):null}function iU0(Z){return new o7(Z>>16&255,Z>>8&255,Z&255,1)}function mV(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;return new o7(Z,J,Q,K)}function zm(Z){if(!(Z instanceof A1))Z=X5(Z);if(!Z)return new o7;return Z=Z.rgb(),new o7(Z.r,Z.g,Z.b,Z.opacity)}function aH(Z,J,Q,K){return arguments.length===1?zm(Z):new o7(Z,J,Q,K==null?1:K)}function o7(Z,J,Q,K){this.r=+Z,this.g=+J,this.b=+Q,this.opacity=+K}function sU0(){return`#${IG(this.r)}${IG(this.g)}${IG(this.b)}`}function j98(){return`#${IG(this.r)}${IG(this.g)}${IG(this.b)}${IG((isNaN(this.opacity)?1:this.opacity)*255)}`}function rU0(){let Z=pV(this.opacity);return`${Z===1?"rgb(":"rgba("}${AG(this.r)}, ${AG(this.g)}, ${AG(this.b)}${Z===1?")":`, ${Z})`}`}function pV(Z){return isNaN(Z)?1:Math.max(0,Math.min(1,Z))}function AG(Z){return Math.max(0,Math.min(255,Math.round(Z)||0))}function IG(Z){return Z=AG(Z),(Z<16?"0":"")+Z.toString(16)}function nU0(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;else if(Q<=0||Q>=1)Z=J=NaN;else if(J<=0)Z=NaN;return new U5(Z,J,Q,K)}function oU0(Z){if(Z instanceof U5)return new U5(Z.h,Z.s,Z.l,Z.opacity);if(!(Z instanceof A1))Z=X5(Z);if(!Z)return new U5;if(Z instanceof U5)return Z;Z=Z.rgb();var J=Z.r/255,Q=Z.g/255,K=Z.b/255,U=Math.min(J,Q,K),X=Math.max(J,Q,K),Y=NaN,q=X-U,W=(X+U)/2;if(q){if(J===X)Y=(Q-K)/q+(Q<K)*6;else if(Q===X)Y=(K-J)/q+2;else Y=(J-Q)/q+4;q/=W<0.5?X+U:2-X-U,Y*=60}else q=W>0&&W<1?0:Y;return new U5(Y,q,W,Z.opacity)}function tU0(Z,J,Q,K){return arguments.length===1?oU0(Z):new U5(Z,J,Q,K==null?1:K)}function U5(Z,J,Q,K){this.h=+Z,this.s=+J,this.l=+Q,this.opacity=+K}function aU0(Z){return Z=(Z||0)%360,Z<0?Z+360:Z}function uV(Z){return Math.max(0,Math.min(1,Z||0))}function Gm(Z,J,Q){return(Z<60?J+(Q-J)*Z/60:Z<180?Q:Z<240?J+(Q-J)*(240-Z)/60:J)*255}var H3=0.7,gV,nH="\\s*([+-]?\\d+)\\s*",F3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",MU="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L98,D98,I98,A98,N98,E98,V98,cU0;var Hm=f(()=>{gV=1/H3,L98=/^#([0-9a-f]{3,8})$/,D98=new RegExp(`^rgb\\(${nH},${nH},${nH}\\)$`),I98=new RegExp(`^rgb\\(${MU},${MU},${MU}\\)$`),A98=new RegExp(`^rgba\\(${nH},${nH},${nH},${F3}\\)$`),N98=new RegExp(`^rgba\\(${MU},${MU},${MU},${F3}\\)$`),E98=new RegExp(`^hsl\\(${F3},${MU},${MU}\\)$`),V98=new RegExp(`^hsla\\(${F3},${MU},${MU},${F3}\\)$`),cU0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I1(A1,X5,{copy(Z){return Object.assign(new this.constructor,this,Z)},displayable(){return this.rgb().displayable()},hex:lU0,formatHex:lU0,formatHex8:P98,formatHsl:C98,formatRgb:dU0,toString:dU0});I1(o7,aH,rH(A1,{brighter(Z){return Z=Z==null?gV:Math.pow(gV,Z),new o7(this.r*Z,this.g*Z,this.b*Z,this.opacity)},darker(Z){return Z=Z==null?H3:Math.pow(H3,Z),new o7(this.r*Z,this.g*Z,this.b*Z,this.opacity)},rgb(){return this},clamp(){return new o7(AG(this.r),AG(this.g),AG(this.b),pV(this.opacity))},displayable(){return-0.5<=this.r&&this.r<255.5&&(-0.5<=this.g&&this.g<255.5)&&(-0.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:sU0,formatHex:sU0,formatHex8:j98,formatRgb:rU0,toString:rU0}));I1(U5,tU0,rH(A1,{brighter(Z){return Z=Z==null?gV:Math.pow(gV,Z),new U5(this.h,this.s,this.l*Z,this.opacity)},darker(Z){return Z=Z==null?H3:Math.pow(H3,Z),new U5(this.h,this.s,this.l*Z,this.opacity)},rgb(){var Z=this.h%360+(this.h<0)*360,J=isNaN(Z)||isNaN(this.s)?0:this.s,Q=this.l,K=Q+(Q<0.5?Q:1-Q)*J,U=2*Q-K;return new o7(Gm(Z>=240?Z-240:Z+120,U,K),Gm(Z,U,K),Gm(Z<120?Z+240:Z-120,U,K),this.opacity)},clamp(){return new U5(aU0(this.h),uV(this.s),uV(this.l),pV(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){let Z=pV(this.opacity);return`${Z===1?"hsl(":"hsla("}${aU0(this.h)}, ${uV(this.s)*100}%, ${uV(this.l)*100}%${Z===1?")":`, ${Z})`}`}}))});var eU0,ZX0;var JX0=f(()=>{eU0=Math.PI/180,ZX0=180/Math.PI});function qX0(Z){if(Z instanceof BU)return new BU(Z.l,Z.a,Z.b,Z.opacity);if(Z instanceof nX)return WX0(Z);if(!(Z instanceof o7))Z=zm(Z);var J=Om(Z.r),Q=Om(Z.g),K=Om(Z.b),U=Fm((0.2225045*J+0.7168786*Q+0.0606169*K)/KX0),X,Y;if(J===Q&&Q===K)X=Y=U;else X=Fm((0.4360747*J+0.3850649*Q+0.1430804*K)/QX0),Y=Fm((0.0139322*J+0.0971045*Q+0.7141733*K)/UX0);return new BU(116*U-16,500*(X-U),200*(U-Y),Z.opacity)}function Rm(Z,J,Q,K){return arguments.length===1?qX0(Z):new BU(Z,J,Q,K==null?1:K)}function BU(Z,J,Q,K){this.l=+Z,this.a=+J,this.b=+Q,this.opacity=+K}function Fm(Z){return Z>S98?Math.pow(Z,0.3333333333333333):Z/YX0+XX0}function Mm(Z){return Z>oH?Z*Z*Z:YX0*(Z-XX0)}function Bm(Z){return 255*(Z<=0.0031308?12.92*Z:1.055*Math.pow(Z,0.4166666666666667)-0.055)}function Om(Z){return(Z/=255)<=0.04045?Z/12.92:Math.pow((Z+0.055)/1.055,2.4)}function T98(Z){if(Z instanceof nX)return new nX(Z.h,Z.c,Z.l,Z.opacity);if(!(Z instanceof BU))Z=qX0(Z);if(Z.a===0&&Z.b===0)return new nX(NaN,0<Z.l&&Z.l<100?0:NaN,Z.l,Z.opacity);var J=Math.atan2(Z.b,Z.a)*ZX0;return new nX(J<0?J+360:J,Math.sqrt(Z.a*Z.a+Z.b*Z.b),Z.l,Z.opacity)}function M3(Z,J,Q,K){return arguments.length===1?T98(Z):new nX(Z,J,Q,K==null?1:K)}function nX(Z,J,Q,K){this.h=+Z,this.c=+J,this.l=+Q,this.opacity=+K}function WX0(Z){if(isNaN(Z.h))return new BU(Z.l,0,0,Z.opacity);var J=Z.h*eU0;return new BU(Z.l,Math.cos(J)*Z.c,Math.sin(J)*Z.c,Z.opacity)}var cV=18,QX0=0.96422,KX0=1,UX0=0.82521,XX0=0.13793103448275862,oH=0.20689655172413793,YX0,S98;var GX0=f(()=>{Hm();JX0();YX0=3*oH*oH,S98=oH*oH*oH;I1(BU,Rm,rH(A1,{brighter(Z){return new BU(this.l+cV*(Z==null?1:Z),this.a,this.b,this.opacity)},darker(Z){return new BU(this.l-cV*(Z==null?1:Z),this.a,this.b,this.opacity)},rgb(){var Z=(this.l+16)/116,J=isNaN(this.a)?Z:Z+this.a/500,Q=isNaN(this.b)?Z:Z-this.b/200;return J=QX0*Mm(J),Z=KX0*Mm(Z),Q=UX0*Mm(Q),new o7(Bm(3.1338561*J-1.6168667*Z-0.4906146*Q),Bm(-0.9787684*J+1.9161415*Z+0.033454*Q),Bm(0.0719453*J-0.2289914*Z+1.4052427*Q),this.opacity)}}));I1(nX,M3,rH(A1,{brighter(Z){return new nX(this.h,this.c,this.l+cV*(Z==null?1:Z),this.opacity)},darker(Z){return new nX(this.h,this.c,this.l-cV*(Z==null?1:Z),this.opacity)},rgb(){return WX0(this).rgb()}}))});var tH=f(()=>{Hm();GX0()});function Lm(Z,J,Q,K,U){var X=Z*Z,Y=X*Z;return((1-3*Z+3*X-Y)*J+(4-6*X+3*Y)*Q+(1+3*Z+3*X-3*Y)*K+Y*U)/6}function Dm(Z){var J=Z.length-1;return function(Q){var K=Q<=0?Q=0:Q>=1?(Q=1,J-1):Math.floor(Q*J),U=Z[K],X=Z[K+1],Y=K>0?Z[K-1]:2*U-X,q=K<J-1?Z[K+2]:2*X-U;return Lm((Q-K/J)*J,Y,U,X,q)}}function Im(Z){var J=Z.length;return function(Q){var K=Math.floor(((Q%=1)<0?++Q:Q)*J),U=Z[(K+J-1)%J],X=Z[K%J],Y=Z[(K+1)%J],q=Z[(K+2)%J];return Lm((Q-K/J)*J,U,X,Y,q)}}var zX0=()=>{};var eH=(Z)=>()=>Z;function HX0(Z,J){return function(Q){return Z+Q*J}}function w98(Z,J,Q){return Z=Math.pow(Z,Q),J=Math.pow(J,Q)-Z,Q=1/Q,function(K){return Math.pow(Z+K*J,Q)}}function FX0(Z,J){var Q=J-Z;return Q?HX0(Z,Q>180||Q<-180?Q-360*Math.round(Q/360):Q):eH(isNaN(Z)?J:Z)}function MX0(Z){return(Z=+Z)===1?aX:function(J,Q){return Q-J?w98(J,Q,Z):eH(isNaN(J)?Q:J)}}function aX(Z,J){var Q=J-Z;return Q?HX0(Z,Q):eH(isNaN(Z)?J:Z)}var Am=()=>{};function BX0(Z){return function(J){var Q=J.length,K=Array(Q),U=Array(Q),X=Array(Q),Y,q;for(Y=0;Y<Q;++Y)q=aH(J[Y]),K[Y]=q.r||0,U[Y]=q.g||0,X[Y]=q.b||0;return K=Z(K),U=Z(U),X=Z(X),q.opacity=1,function(W){return q.r=K(W),q.g=U(W),q.b=X(W),q+""}}}var NG,$98,k98;var Nm=f(()=>{tH();zX0();Am();NG=function Z(J){var Q=MX0(J);function K(U,X){var Y=Q((U=aH(U)).r,(X=aH(X)).r),q=Q(U.g,X.g),W=Q(U.b,X.b),G=aX(U.opacity,X.opacity);return function(z){return U.r=Y(z),U.g=q(z),U.b=W(z),U.opacity=G(z),U+""}}return K.gamma=Z,K}(1);$98=BX0(Dm),k98=BX0(Im)});function Em(Z,J){if(!J)J=[];var Q=Z?Math.min(J.length,Z.length):0,K=J.slice(),U;return function(X){for(U=0;U<Q;++U)K[U]=Z[U]*(1-X)+J[U]*X;return K}}function OX0(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function RX0(Z,J){var Q=J?J.length:0,K=Z?Math.min(Q,Z.length):0,U=Array(K),X=Array(Q),Y;for(Y=0;Y<K;++Y)U[Y]=N1(Z[Y],J[Y]);for(;Y<Q;++Y)X[Y]=J[Y];return function(q){for(Y=0;Y<K;++Y)X[Y]=U[Y](q);return X}}var LX0=f(()=>{lV()});function Vm(Z,J){var Q=new Date;return Z=+Z,J=+J,function(K){return Q.setTime(Z*(1-K)+J*K),Q}}function T7(Z,J){return Z=+Z,J=+J,function(Q){return Z*(1-Q)+J*Q}}function Pm(Z,J){var Q={},K={},U;if(Z===null||typeof Z!=="object")Z={};if(J===null||typeof J!=="object")J={};for(U in J)if(U in Z)Q[U]=N1(Z[U],J[U]);else K[U]=J[U];return function(X){for(U in Q)K[U]=Q[U](X);return K}}var DX0=f(()=>{lV()});function _98(Z){return function(){return Z}}function f98(Z){return function(J){return Z(J)+""}}function Z2(Z,J){var Q=jm.lastIndex=Cm.lastIndex=0,K,U,X,Y=-1,q=[],W=[];Z=Z+"",J=J+"";while((K=jm.exec(Z))&&(U=Cm.exec(J))){if((X=U.index)>Q)if(X=J.slice(Q,X),q[Y])q[Y]+=X;else q[++Y]=X;if((K=K[0])===(U=U[0]))if(q[Y])q[Y]+=U;else q[++Y]=U;else q[++Y]=null,W.push({i:Y,x:T7(K,U)});Q=Cm.lastIndex}if(Q<J.length)if(X=J.slice(Q),q[Y])q[Y]+=X;else q[++Y]=X;return q.length<2?W[0]?f98(W[0].x):_98(J):(J=W.length,function(G){for(var z=0,H;z<J;++z)q[(H=W[z]).i]=H.x(G);return q.join("")})}var jm,Cm;var Sm=f(()=>{jm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cm=new RegExp(jm.source,"g")});function N1(Z,J){var Q=typeof J,K;return J==null||Q==="boolean"?eH(J):(Q==="number"?T7:Q==="string"?(K=X5(J))?(J=K,NG):Z2:J instanceof X5?NG:J instanceof Date?Vm:OX0(J)?Em:Array.isArray(J)?RX0:typeof J.valueOf!=="function"&&typeof J.toString!=="function"||isNaN(J)?Pm:T7)(Z,J)}var lV=f(()=>{tH();Nm();LX0();DX0();Sm()});function dV(Z,J){return Z=+Z,J=+J,function(Q){return Math.round(Z*(1-Q)+J*Q)}}function sV(Z,J,Q,K,U,X){var Y,q,W;if(Y=Math.sqrt(Z*Z+J*J))Z/=Y,J/=Y;if(W=Z*Q+J*K)Q-=Z*W,K-=J*W;if(q=Math.sqrt(Q*Q+K*K))Q/=q,K/=q,W/=q;if(Z*K<J*Q)Z=-Z,J=-J,W=-W,Y=-Y;return{translateX:U,translateY:X,rotate:Math.atan2(J,Z)*IX0,skewX:Math.atan(W)*IX0,scaleX:Y,scaleY:q}}var IX0,iV;var AX0=f(()=>{IX0=180/Math.PI,iV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function NX0(Z){let J=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(Z+"");return J.isIdentity?iV:sV(J.a,J.b,J.c,J.d,J.e,J.f)}function EX0(Z){if(Z==null)return iV;if(!rV)rV=document.createElementNS("http://www.w3.org/2000/svg","g");if(rV.setAttribute("transform",Z),!(Z=rV.transform.baseVal.consolidate()))return iV;return Z=Z.matrix,sV(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)}var rV;var VX0=f(()=>{AX0()});function PX0(Z,J,Q,K){function U(G){return G.length?G.pop()+" ":""}function X(G,z,H,F,M,B){if(G!==H||z!==F){var O=M.push("translate(",null,J,null,Q);B.push({i:O-4,x:T7(G,H)},{i:O-2,x:T7(z,F)})}else if(H||F)M.push("translate("+H+J+F+Q)}function Y(G,z,H,F){if(G!==z){if(G-z>180)z+=360;else if(z-G>180)G+=360;F.push({i:H.push(U(H)+"rotate(",null,K)-2,x:T7(G,z)})}else if(z)H.push(U(H)+"rotate("+z+K)}function q(G,z,H,F){if(G!==z)F.push({i:H.push(U(H)+"skewX(",null,K)-2,x:T7(G,z)});else if(z)H.push(U(H)+"skewX("+z+K)}function W(G,z,H,F,M,B){if(G!==H||z!==F){var O=M.push(U(M)+"scale(",null,",",null,")");B.push({i:O-4,x:T7(G,H)},{i:O-2,x:T7(z,F)})}else if(H!==1||F!==1)M.push(U(M)+"scale("+H+","+F+")")}return function(G,z){var H=[],F=[];return G=Z(G),z=Z(z),X(G.translateX,G.translateY,z.translateX,z.translateY,H,F),Y(G.rotate,z.rotate,H,F),q(G.skewX,z.skewX,H,F),W(G.scaleX,G.scaleY,z.scaleX,z.scaleY,H,F),G=z=null,function(M){var B=-1,O=F.length,R;while(++B<O)H[(R=F[B]).i]=R.x(M);return H.join("")}}}var Tm,wm;var CX0=f(()=>{VX0();Tm=PX0(NX0,"px, ","px)","deg)"),wm=PX0(EX0,", ",")",")")});function jX0(Z){return function(J,Q){var K=Z((J=M3(J)).h,(Q=M3(Q)).h),U=aX(J.c,Q.c),X=aX(J.l,Q.l),Y=aX(J.opacity,Q.opacity);return function(q){return J.h=K(q),J.c=U(q),J.l=X(q),J.opacity=Y(q),J+""}}}var $m,v98;var SX0=f(()=>{tH();Am();$m=jX0(FX0),v98=jX0(aX)});var J2=f(()=>{lV();Sm();CX0();Nm();SX0()});function I3(){return EG||($X0(x98),EG=L3.now()+oV)}function x98(){EG=0}function D3(){this._call=this._time=this._next=null}function tV(Z,J,Q){var K=new D3;return K.restart(Z,J,Q),K}function kX0(){I3(),++Q2;var Z=nV,J;while(Z){if((J=EG-Z._time)>=0)Z._call.call(void 0,J);Z=Z._next}--Q2}function TX0(){EG=(aV=L3.now())+oV,Q2=O3=0;try{kX0()}finally{Q2=0,y98(),EG=0}}function b98(){var Z=L3.now(),J=Z-aV;if(J>wX0)oV-=J,aV=Z}function y98(){var Z,J=nV,Q,K=1/0;while(J)if(J._call){if(K>J._time)K=J._time;Z=J,J=J._next}else Q=J._next,J._next=null,J=Z?Z._next=Q:nV=Q;R3=Z,km(K)}function km(Z){if(Q2)return;if(O3)O3=clearTimeout(O3);var J=Z-EG;if(J>24){if(Z<1/0)O3=setTimeout(TX0,Z-L3.now()-oV);if(B3)B3=clearInterval(B3)}else{if(!B3)aV=L3.now(),B3=setInterval(b98,wX0);Q2=1,$X0(TX0)}}var Q2=0,O3=0,B3=0,wX0=1000,nV,R3,aV=0,EG=0,oV=0,L3,$X0;var _m=f(()=>{L3=typeof performance==="object"&&performance.now?performance:Date,$X0=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Z){setTimeout(Z,17)};D3.prototype=tV.prototype={constructor:D3,restart:function(Z,J,Q){if(typeof Z!=="function")throw TypeError("callback is not a function");if(Q=(Q==null?I3():+Q)+(J==null?0:+J),!this._next&&R3!==this){if(R3)R3._next=this;else nV=this;R3=this}this._call=Z,this._time=Q,km()},stop:function(){if(this._call)this._call=null,this._time=1/0,km()}}});function A3(Z,J,Q){var K=new D3;return J=J==null?0:+J,K.restart((U)=>{K.stop(),Z(U+J)},J,Q),K}var _X0=f(()=>{_m()});var eV=f(()=>{_m();_X0()});function oX(Z,J,Q,K,U,X){var Y=Z.__transition;if(!Y)Z.__transition={};else if(Q in Y)return;u98(Z,Q,{name:J,index:K,group:U,on:h98,tween:m98,time:X.time,delay:X.delay,duration:X.duration,ease:X.ease,timer:null,state:xX0})}function E3(Z,J){var Q=R7(Z,J);if(Q.state>xX0)throw Error("too late; already scheduled");return Q}function t7(Z,J){var Q=R7(Z,J);if(Q.state>ZP)throw Error("too late; already running");return Q}function R7(Z,J){var Q=Z.__transition;if(!Q||!(Q=Q[J]))throw Error("transition not found");return Q}function u98(Z,J,Q){var K=Z.__transition,U;K[J]=Q,Q.timer=tV(X,0,Q.time);function X(G){if(Q.state=fX0,Q.timer.restart(Y,Q.delay,Q.time),Q.delay<=G)Y(G-Q.delay)}function Y(G){var z,H,F,M;if(Q.state!==fX0)return W();for(z in K){if(M=K[z],M.name!==Q.name)continue;if(M.state===ZP)return A3(Y);if(M.state===vX0)M.state=N3,M.timer.stop(),M.on.call("interrupt",Z,Z.__data__,M.index,M.group),delete K[z];else if(+z<J)M.state=N3,M.timer.stop(),M.on.call("cancel",Z,Z.__data__,M.index,M.group),delete K[z]}if(A3(function(){if(Q.state===ZP)Q.state=vX0,Q.timer.restart(q,Q.delay,Q.time),q(G)}),Q.state=JP,Q.on.call("start",Z,Z.__data__,Q.index,Q.group),Q.state!==JP)return;Q.state=ZP,U=Array(F=Q.tween.length);for(z=0,H=-1;z<F;++z)if(M=Q.tween[z].value.call(Z,Z.__data__,Q.index,Q.group))U[++H]=M;U.length=H+1}function q(G){var z=G<Q.duration?Q.ease.call(null,G/Q.duration):(Q.timer.restart(W),Q.state=QP,1),H=-1,F=U.length;while(++H<F)U[H].call(Z,z);if(Q.state===QP)Q.on.call("end",Z,Z.__data__,Q.index,Q.group),W()}function W(){Q.state=N3,Q.timer.stop(),delete K[J];for(var G in K)return;delete Z.__transition}}var h98,m98,xX0=0,fX0=1,JP=2,ZP=3,vX0=4,QP=5,N3=6;var y6=f(()=>{Ih();eV();h98=Dh("start","end","cancel","interrupt"),m98=[]});function V3(Z,J){var Q=Z.__transition,K,U,X=!0,Y;if(!Q)return;J=J==null?null:J+"";for(Y in Q){if((K=Q[Y]).name!==J){X=!1;continue}U=K.state>JP&&K.state<QP,K.state=N3,K.timer.stop(),K.on.call(U?"interrupt":"cancel",Z,Z.__data__,K.index,K.group),delete Q[Y]}if(X)delete Z.__transition}var bX0=f(()=>{y6()});function fm(Z){return this.each(function(){V3(this,Z)})}var yX0=f(()=>{bX0()});function g98(Z,J){var Q,K;return function(){var U=t7(this,Z),X=U.tween;if(X!==Q){K=Q=X;for(var Y=0,q=K.length;Y<q;++Y)if(K[Y].name===J){K=K.slice(),K.splice(Y,1);break}}U.tween=K}}function p98(Z,J,Q){var K,U;if(typeof Q!=="function")throw Error();return function(){var X=t7(this,Z),Y=X.tween;if(Y!==K){U=(K=Y).slice();for(var q={name:J,value:Q},W=0,G=U.length;W<G;++W)if(U[W].name===J){U[W]=q;break}if(W===G)U.push(q)}X.tween=U}}function vm(Z,J){var Q=this._id;if(Z+="",arguments.length<2){var K=R7(this.node(),Q).tween;for(var U=0,X=K.length,Y;U<X;++U)if((Y=K[U]).name===Z)return Y.value;return null}return this.each((J==null?g98:p98)(Q,Z,J))}function K2(Z,J,Q){var K=Z._id;return Z.each(function(){var U=t7(this,K);(U.value||(U.value={}))[J]=Q.apply(this,arguments)}),function(U){return R7(U,K).value[J]}}var P3=f(()=>{y6()});function C3(Z,J){var Q;return(typeof J==="number"?T7:J instanceof X5?NG:(Q=X5(J))?(J=Q,NG):Z2)(Z,J)}var xm=f(()=>{tH();J2()});function c98(Z){return function(){this.removeAttribute(Z)}}function l98(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function d98(Z,J,Q){var K,U=Q+"",X;return function(){var Y=this.getAttribute(Z);return Y===U?null:Y===K?X:X=J(K=Y,Q)}}function i98(Z,J,Q){var K,U=Q+"",X;return function(){var Y=this.getAttributeNS(Z.space,Z.local);return Y===U?null:Y===K?X:X=J(K=Y,Q)}}function s98(Z,J,Q){var K,U,X;return function(){var Y,q=Q(this),W;if(q==null)return void this.removeAttribute(Z);return Y=this.getAttribute(Z),W=q+"",Y===W?null:Y===K&&W===U?X:(U=W,X=J(K=Y,q))}}function r98(Z,J,Q){var K,U,X;return function(){var Y,q=Q(this),W;if(q==null)return void this.removeAttributeNS(Z.space,Z.local);return Y=this.getAttributeNS(Z.space,Z.local),W=q+"",Y===W?null:Y===K&&W===U?X:(U=W,X=J(K=Y,q))}}function bm(Z,J){var Q=FU(Z),K=Q==="transform"?wm:C3;return this.attrTween(Z,typeof J==="function"?(Q.local?r98:s98)(Q,K,K2(this,"attr."+Z,J)):J==null?(Q.local?l98:c98)(Q):(Q.local?i98:d98)(Q,K,J))}var hX0=f(()=>{J2();K5();P3();xm()});function n98(Z,J){return function(Q){this.setAttribute(Z,J.call(this,Q))}}function a98(Z,J){return function(Q){this.setAttributeNS(Z.space,Z.local,J.call(this,Q))}}function o98(Z,J){var Q,K;function U(){var X=J.apply(this,arguments);if(X!==K)Q=(K=X)&&a98(Z,X);return Q}return U._value=J,U}function t98(Z,J){var Q,K;function U(){var X=J.apply(this,arguments);if(X!==K)Q=(K=X)&&n98(Z,X);return Q}return U._value=J,U}function ym(Z,J){var Q="attr."+Z;if(arguments.length<2)return(Q=this.tween(Q))&&Q._value;if(J==null)return this.tween(Q,null);if(typeof J!=="function")throw Error();var K=FU(Z);return this.tween(Q,(K.local?o98:t98)(K,J))}var mX0=f(()=>{K5()});function e98(Z,J){return function(){E3(this,Z).delay=+J.apply(this,arguments)}}function ZJ8(Z,J){return J=+J,function(){E3(this,Z).delay=J}}function hm(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?e98:ZJ8)(J,Z)):R7(this.node(),J).delay}var uX0=f(()=>{y6()});function JJ8(Z,J){return function(){t7(this,Z).duration=+J.apply(this,arguments)}}function QJ8(Z,J){return J=+J,function(){t7(this,Z).duration=J}}function mm(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?JJ8:QJ8)(J,Z)):R7(this.node(),J).duration}var gX0=f(()=>{y6()});function KJ8(Z,J){if(typeof J!=="function")throw Error();return function(){t7(this,Z).ease=J}}function um(Z){var J=this._id;return arguments.length?this.each(KJ8(J,Z)):R7(this.node(),J).ease}var pX0=f(()=>{y6()});function UJ8(Z,J){return function(){var Q=J.apply(this,arguments);if(typeof Q!=="function")throw Error();t7(this,Z).ease=Q}}function gm(Z){if(typeof Z!=="function")throw Error();return this.each(UJ8(this._id,Z))}var cX0=f(()=>{y6()});function pm(Z){if(typeof Z!=="function")Z=sH(Z);for(var J=this._groups,Q=J.length,K=Array(Q),U=0;U<Q;++U)for(var X=J[U],Y=X.length,q=K[U]=[],W,G=0;G<Y;++G)if((W=X[G])&&Z.call(W,W.__data__,G,X))q.push(W);return new tQ(K,this._parents,this._name,this._id)}var lX0=f(()=>{K5();VG()});function cm(Z){if(Z._id!==this._id)throw Error();for(var J=this._groups,Q=Z._groups,K=J.length,U=Q.length,X=Math.min(K,U),Y=Array(K),q=0;q<X;++q)for(var W=J[q],G=Q[q],z=W.length,H=Y[q]=Array(z),F,M=0;M<z;++M)if(F=W[M]||G[M])H[M]=F;for(;q<K;++q)Y[q]=J[q];return new tQ(Y,this._parents,this._name,this._id)}var dX0=f(()=>{VG()});function XJ8(Z){return(Z+"").trim().split(/^|\s+/).every(function(J){var Q=J.indexOf(".");if(Q>=0)J=J.slice(0,Q);return!J||J==="start"})}function YJ8(Z,J,Q){var K,U,X=XJ8(J)?E3:t7;return function(){var Y=X(this,Z),q=Y.on;if(q!==K)(U=(K=q).copy()).on(J,Q);Y.on=U}}function lm(Z,J){var Q=this._id;return arguments.length<2?R7(this.node(),Q).on.on(Z):this.each(YJ8(Q,Z,J))}var iX0=f(()=>{y6()});function qJ8(Z){return function(){var J=this.parentNode;for(var Q in this.__transition)if(+Q!==Z)return;if(J)J.removeChild(this)}}function dm(){return this.on("end.remove",qJ8(this._id))}function im(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=L1(Z);for(var K=this._groups,U=K.length,X=Array(U),Y=0;Y<U;++Y)for(var q=K[Y],W=q.length,G=X[Y]=Array(W),z,H,F=0;F<W;++F)if((z=q[F])&&(H=Z.call(z,z.__data__,F,q))){if("__data__"in z)H.__data__=z.__data__;G[F]=H,oX(G[F],J,Q,F,G,R7(z,Q))}return new tQ(X,this._parents,J,Q)}var sX0=f(()=>{K5();VG();y6()});function sm(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=iH(Z);for(var K=this._groups,U=K.length,X=[],Y=[],q=0;q<U;++q)for(var W=K[q],G=W.length,z,H=0;H<G;++H)if(z=W[H]){for(var F=Z.call(z,z.__data__,H,W),M,B=R7(z,Q),O=0,R=F.length;O<R;++O)if(M=F[O])oX(M,J,Q,O,F,B);X.push(F),Y.push(z)}return new tQ(X,Y,J,Q)}var rX0=f(()=>{K5();VG();y6()});function rm(){return new WJ8(this._groups,this._parents)}var WJ8;var nX0=f(()=>{K5();WJ8=rX.prototype.constructor});function GJ8(Z,J){var Q,K,U;return function(){var X=D1(this,Z),Y=(this.style.removeProperty(Z),D1(this,Z));return X===Y?null:X===Q&&Y===K?U:U=J(Q=X,K=Y)}}function aX0(Z){return function(){this.style.removeProperty(Z)}}function zJ8(Z,J,Q){var K,U=Q+"",X;return function(){var Y=D1(this,Z);return Y===U?null:Y===K?X:X=J(K=Y,Q)}}function HJ8(Z,J,Q){var K,U,X;return function(){var Y=D1(this,Z),q=Q(this),W=q+"";if(q==null)W=q=(this.style.removeProperty(Z),D1(this,Z));return Y===W?null:Y===K&&W===U?X:(U=W,X=J(K=Y,q))}}function FJ8(Z,J){var Q,K,U,X="style."+J,Y="end."+X,q;return function(){var W=t7(this,Z),G=W.on,z=W.value[X]==null?q||(q=aX0(J)):void 0;if(G!==Q||U!==z)(K=(Q=G).copy()).on(Y,U=z);W.on=K}}function nm(Z,J,Q){var K=(Z+="")==="transform"?Tm:C3;return J==null?this.styleTween(Z,GJ8(Z,K)).on("end.style."+Z,aX0(Z)):typeof J==="function"?this.styleTween(Z,HJ8(Z,K,K2(this,"style."+Z,J))).each(FJ8(this._id,Z)):this.styleTween(Z,zJ8(Z,K,J),Q).on("end.style."+Z,null)}var oX0=f(()=>{J2();K5();y6();P3();xm()});function MJ8(Z,J,Q){return function(K){this.style.setProperty(Z,J.call(this,K),Q)}}function BJ8(Z,J,Q){var K,U;function X(){var Y=J.apply(this,arguments);if(Y!==U)K=(U=Y)&&MJ8(Z,Y,Q);return K}return X._value=J,X}function am(Z,J,Q){var K="style."+(Z+="");if(arguments.length<2)return(K=this.tween(K))&&K._value;if(J==null)return this.tween(K,null);if(typeof J!=="function")throw Error();return this.tween(K,BJ8(Z,J,Q==null?"":Q))}function OJ8(Z){return function(){this.textContent=Z}}function RJ8(Z){return function(){var J=Z(this);this.textContent=J==null?"":J}}function om(Z){return this.tween("text",typeof Z==="function"?RJ8(K2(this,"text",Z)):OJ8(Z==null?"":Z+""))}var tX0=f(()=>{P3()});function LJ8(Z){return function(J){this.textContent=Z.call(this,J)}}function DJ8(Z){var J,Q;function K(){var U=Z.apply(this,arguments);if(U!==Q)J=(Q=U)&&LJ8(U);return J}return K._value=Z,K}function tm(Z){var J="text";if(arguments.length<1)return(J=this.tween(J))&&J._value;if(Z==null)return this.tween(J,null);if(typeof Z!=="function")throw Error();return this.tween(J,DJ8(Z))}function em(){var Z=this._name,J=this._id,Q=KP();for(var K=this._groups,U=K.length,X=0;X<U;++X)for(var Y=K[X],q=Y.length,W,G=0;G<q;++G)if(W=Y[G]){var z=R7(W,J);oX(W,Z,Q,G,Y,{time:z.time+z.delay+z.duration,delay:0,duration:z.duration,ease:z.ease})}return new tQ(K,this._parents,Z,Q)}var eX0=f(()=>{VG();y6()});function Zu(){var Z,J,Q=this,K=Q._id,U=Q.size();return new Promise(function(X,Y){var q={value:Y},W={value:function(){if(--U===0)X()}};if(Q.each(function(){var G=t7(this,K),z=G.on;if(z!==Z)J=(Z=z).copy(),J._.cancel.push(q),J._.interrupt.push(q),J._.end.push(W);G.on=J}),U===0)X()})}var ZY0=f(()=>{y6()});function tQ(Z,J,Q,K){this._groups=Z,this._parents=J,this._name=Q,this._id=K}function JY0(Z){return rX().transition(Z)}function KP(){return++IJ8}var IJ8=0,tX;var VG=f(()=>{K5();hX0();mX0();uX0();gX0();pX0();cX0();lX0();dX0();iX0();sX0();rX0();nX0();oX0();tX0();eX0();P3();ZY0();tX=rX.prototype;tQ.prototype=JY0.prototype={constructor:tQ,select:im,selectAll:sm,selectChild:tX.selectChild,selectChildren:tX.selectChildren,filter:pm,merge:cm,selection:rm,transition:em,call:tX.call,nodes:tX.nodes,node:tX.node,size:tX.size,empty:tX.empty,each:tX.each,on:lm,attr:bm,attrTween:ym,style:nm,styleTween:am,text:om,textTween:tm,remove:dm,tween:vm,delay:hm,duration:mm,ease:um,easeVarying:gm,end:Zu,[Symbol.iterator]:tX[Symbol.iterator]}});function UP(Z){return((Z*=2)<=1?Z*Z*Z:(Z-=2)*Z*Z+2)/2}var Ju=()=>{};function NJ8(Z,J){var Q;while(!(Q=Z.__transition)||!(Q=Q[J]))if(!(Z=Z.parentNode))throw Error(`transition ${J} not found`);return Q}function Qu(Z){var J,Q;if(Z instanceof tQ)J=Z._id,Z=Z._name;else J=KP(),(Q=AJ8).time=I3(),Z=Z==null?null:Z+"";for(var K=this._groups,U=K.length,X=0;X<U;++X)for(var Y=K[X],q=Y.length,W,G=0;G<q;++G)if(W=Y[G])oX(W,Z,J,G,Y,Q||NJ8(W,J));return new tQ(K,this._parents,Z,J)}var AJ8;var QY0=f(()=>{VG();y6();Ju();eV();AJ8={time:null,delay:0,duration:250,ease:UP}});var KY0=f(()=>{K5();yX0();QY0();rX.prototype.interrupt=fm;rX.prototype.transition=Qu});var XP=f(()=>{KY0()});function UY0(Z){return[+Z[0],+Z[1]]}function EJ8(Z){return[UY0(Z[0]),UY0(Z[1])]}function Ku(Z){return{type:Z}}var VZZ,PZZ,CZZ;var XY0=f(()=>{XP();VZZ={name:"x",handles:["w","e"].map(Ku),input:function(Z,J){return Z==null?null:[[+Z[0],J[0][1]],[+Z[1],J[1][1]]]},output:function(Z){return Z&&[Z[0][0],Z[1][0]]}},PZZ={name:"y",handles:["n","s"].map(Ku),input:function(Z,J){return Z==null?null:[[J[0][0],+Z[0]],[J[1][0],+Z[1]]]},output:function(Z){return Z&&[Z[0][1],Z[1][1]]}},CZZ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ku),input:function(Z){return Z==null?null:EJ8(Z)},output:function(Z){return Z}}});var YY0=f(()=>{XY0()});function qY0(Z){this._+=Z[0];for(let J=1,Q=Z.length;J<Q;++J)this._+=arguments[J]+Z[J]}function PJ8(Z){let J=Math.floor(Z);if(!(J>=0))throw Error(`invalid digits: ${Z}`);if(J>15)return qY0;let Q=10**J;return function(K){this._+=K[0];for(let U=1,X=K.length;U<X;++U)this._+=Math.round(arguments[U]*Q)/Q+K[U]}}class U2{constructor(Z){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Z==null?qY0:PJ8(Z)}moveTo(Z,J){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}`}closePath(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._append`Z`}lineTo(Z,J){this._append`L${this._x1=+Z},${this._y1=+J}`}quadraticCurveTo(Z,J,Q,K){this._append`Q${+Z},${+J},${this._x1=+Q},${this._y1=+K}`}bezierCurveTo(Z,J,Q,K,U,X){this._append`C${+Z},${+J},${+Q},${+K},${this._x1=+U},${this._y1=+X}`}arcTo(Z,J,Q,K,U){if(Z=+Z,J=+J,Q=+Q,K=+K,U=+U,U<0)throw Error(`negative radius: ${U}`);let X=this._x1,Y=this._y1,q=Q-Z,W=K-J,G=X-Z,z=Y-J,H=G*G+z*z;if(this._x1===null)this._append`M${this._x1=Z},${this._y1=J}`;else if(!(H>0.000001));else if(!(Math.abs(z*q-W*G)>0.000001)||!U)this._append`L${this._x1=Z},${this._y1=J}`;else{let F=Q-X,M=K-Y,B=q*q+W*W,O=F*F+M*M,R=Math.sqrt(B),L=Math.sqrt(H),D=U*Math.tan((Uu-Math.acos((B+H-O)/(2*R*L)))/2),A=D/L,V=D/R;if(Math.abs(A-1)>0.000001)this._append`L${Z+A*G},${J+A*z}`;this._append`A${U},${U},0,0,${+(z*F>G*M)},${this._x1=Z+V*q},${this._y1=J+V*W}`}}arc(Z,J,Q,K,U,X){if(Z=+Z,J=+J,Q=+Q,X=!!X,Q<0)throw Error(`negative radius: ${Q}`);let Y=Q*Math.cos(K),q=Q*Math.sin(K),W=Z+Y,G=J+q,z=1^X,H=X?K-U:U-K;if(this._x1===null)this._append`M${W},${G}`;else if(Math.abs(this._x1-W)>0.000001||Math.abs(this._y1-G)>0.000001)this._append`L${W},${G}`;if(!Q)return;if(H<0)H=H%Xu+Xu;if(H>VJ8)this._append`A${Q},${Q},0,1,${z},${Z-Y},${J-q}A${Q},${Q},0,1,${z},${this._x1=W},${this._y1=G}`;else if(H>0.000001)this._append`A${Q},${Q},0,${+(H>=Uu)},${z},${this._x1=Z+Q*Math.cos(U)},${this._y1=J+Q*Math.sin(U)}`}rect(Z,J,Q,K){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}h${Q=+Q}v${+K}h${-Q}Z`}toString(){return this._}}function WY0(){return new U2}var Uu,Xu,VJ8;var GY0=f(()=>{Uu=Math.PI,Xu=2*Uu,VJ8=Xu-0.000001;WY0.prototype=U2.prototype});var Yu=f(()=>{GY0()});var zY0=()=>{};var HY0=()=>{};var FY0=()=>{};var MY0=()=>{};var BY0=()=>{};var OY0=()=>{};var RY0=()=>{};function qu(Z){return Math.abs(Z=Math.round(Z))>=1000000000000000000000?Z.toLocaleString("en").replace(/,/g,""):Z.toString(10)}function PG(Z,J){if(!isFinite(Z)||Z===0)return null;var Q=(Z=J?Z.toExponential(J-1):Z.toExponential()).indexOf("e"),K=Z.slice(0,Q);return[K.length>1?K[0]+K.slice(2):K,+Z.slice(Q+1)]}function Y5(Z){return Z=PG(Math.abs(Z)),Z?Z[1]:NaN}var j3=()=>{};function Wu(Z,J){return function(Q,K){var U=Q.length,X=[],Y=0,q=Z[0],W=0;while(U>0&&q>0){if(W+q+1>K)q=Math.max(1,K-W);if(X.push(Q.substring(U-=q,U+q)),(W+=q+1)>K)break;q=Z[Y=(Y+1)%Z.length]}return X.reverse().join(J)}}function Gu(Z){return function(J){return J.replace(/[0-9]/g,function(Q){return Z[+Q]})}}function E1(Z){if(!(J=CJ8.exec(Z)))throw Error("invalid format: "+Z);var J;return new YP({fill:J[1],align:J[2],sign:J[3],symbol:J[4],zero:J[5],width:J[6],comma:J[7],precision:J[8]&&J[8].slice(1),trim:J[9],type:J[10]})}function YP(Z){this.fill=Z.fill===void 0?" ":Z.fill+"",this.align=Z.align===void 0?">":Z.align+"",this.sign=Z.sign===void 0?"-":Z.sign+"",this.symbol=Z.symbol===void 0?"":Z.symbol+"",this.zero=!!Z.zero,this.width=Z.width===void 0?void 0:+Z.width,this.comma=!!Z.comma,this.precision=Z.precision===void 0?void 0:+Z.precision,this.trim=!!Z.trim,this.type=Z.type===void 0?"":Z.type+""}var CJ8;var zu=f(()=>{CJ8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;E1.prototype=YP.prototype;YP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function Hu(Z){Z:for(var J=Z.length,Q=1,K=-1,U;Q<J;++Q)switch(Z[Q]){case".":K=U=Q;break;case"0":if(K===0)K=Q;U=Q;break;default:if(!+Z[Q])break Z;if(K>0)K=0;break}return K>0?Z.slice(0,K)+Z.slice(U+1):Z}function Fu(Z,J){var Q=PG(Z,J);if(!Q)return S3=void 0,Z.toPrecision(J);var K=Q[0],U=Q[1],X=U-(S3=Math.max(-8,Math.min(8,Math.floor(U/3)))*3)+1,Y=K.length;return X===Y?K:X>Y?K+Array(X-Y+1).join("0"):X>0?K.slice(0,X)+"."+K.slice(X):"0."+Array(1-X).join("0")+PG(Z,Math.max(0,J+X-1))[0]}var S3;var Mu=()=>{};function qP(Z,J){var Q=PG(Z,J);if(!Q)return Z+"";var K=Q[0],U=Q[1];return U<0?"0."+Array(-U).join("0")+K:K.length>U+1?K.slice(0,U+1)+"."+K.slice(U+1):K+Array(U-K.length+2).join("0")}var LY0=()=>{};var Bu;var DY0=f(()=>{Mu();LY0();Bu={"%":(Z,J)=>(Z*100).toFixed(J),b:(Z)=>Math.round(Z).toString(2),c:(Z)=>Z+"",d:qu,e:(Z,J)=>Z.toExponential(J),f:(Z,J)=>Z.toFixed(J),g:(Z,J)=>Z.toPrecision(J),o:(Z)=>Math.round(Z).toString(8),p:(Z,J)=>qP(Z*100,J),r:qP,s:Fu,X:(Z)=>Math.round(Z).toString(16).toUpperCase(),x:(Z)=>Math.round(Z).toString(16)}});function WP(Z){return Z}function Ou(Z){var J=Z.grouping===void 0||Z.thousands===void 0?WP:Wu(IY0.call(Z.grouping,Number),Z.thousands+""),Q=Z.currency===void 0?"":Z.currency[0]+"",K=Z.currency===void 0?"":Z.currency[1]+"",U=Z.decimal===void 0?".":Z.decimal+"",X=Z.numerals===void 0?WP:Gu(IY0.call(Z.numerals,String)),Y=Z.percent===void 0?"%":Z.percent+"",q=Z.minus===void 0?"":Z.minus+"",W=Z.nan===void 0?"NaN":Z.nan+"";function G(H,F){H=E1(H);var{fill:M,align:B,sign:O,symbol:R,zero:L,width:D,comma:A,precision:V,trim:N,type:E}=H;if(E==="n")A=!0,E="g";else if(!Bu[E])V===void 0&&(V=12),N=!0,E="g";if(L||M==="0"&&B==="=")L=!0,M="0",B="=";var C=(F&&F.prefix!==void 0?F.prefix:"")+(R==="$"?Q:R==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),j=(R==="$"?K:/[%p]/.test(E)?Y:"")+(F&&F.suffix!==void 0?F.suffix:""),$=Bu[E],k=/[defgprs%]/.test(E);V=V===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function w(P){var S=C,T=j,_,v,x;if(E==="c")T=$(P)+T,P="";else{P=+P;var b=P<0||1/P<0;if(P=isNaN(P)?W:$(Math.abs(P),V),N)P=Hu(P);if(b&&+P===0&&O!=="+")b=!1;if(S=(b?O==="("?O:q:O==="-"||O==="("?"":O)+S,T=(E==="s"&&!isNaN(P)&&S3!==void 0?AY0[8+S3/3]:"")+T+(b&&O==="("?")":""),k){_=-1,v=P.length;while(++_<v)if(x=P.charCodeAt(_),48>x||x>57){T=(x===46?U+P.slice(_+1):P.slice(_))+T,P=P.slice(0,_);break}}}if(A&&!L)P=J(P,1/0);var y=S.length+P.length+T.length,u=y<D?Array(D-y+1).join(M):"";if(A&&L)P=J(u+P,u.length?D-T.length:1/0),u="";switch(B){case"<":P=S+P+T+u;break;case"=":P=S+u+P+T;break;case"^":P=u.slice(0,y=u.length>>1)+S+P+T+u.slice(y);break;default:P=u+S+P+T;break}return X(P)}return w.toString=function(){return H+""},w}function z(H,F){var M=Math.max(-8,Math.min(8,Math.floor(Y5(F)/3)))*3,B=Math.pow(10,-M),O=G((H=E1(H),H.type="f",H),{suffix:AY0[8+M/3]});return function(R){return O(B*R)}}return{format:G,formatPrefix:z}}var IY0,AY0;var NY0=f(()=>{j3();zu();DY0();Mu();IY0=Array.prototype.map,AY0=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"]});function Ru(Z){return GP=Ou(Z),OU=GP.format,zP=GP.formatPrefix,GP}var GP,OU,zP;var EY0=f(()=>{NY0();Ru({thousands:",",grouping:[3],currency:["$",""]})});function HP(Z){return Math.max(0,-Y5(Math.abs(Z)))}var VY0=f(()=>{j3()});function FP(Z,J){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Y5(J)/3)))*3-Y5(Math.abs(Z)))}var PY0=f(()=>{j3()});function MP(Z,J){return Z=Math.abs(Z),J=Math.abs(J)-Z,Math.max(0,Y5(J)-Y5(Z))+1}var CY0=f(()=>{j3()});var Lu=f(()=>{EY0();zu();VY0();PY0();CY0()});var jY0=()=>{};function jJ8(Z){var J=0,Q=Z.children,K=Q&&Q.length;if(!K)J=1;else while(--K>=0)J+=Q[K].value;Z.value=J}function Du(){return this.eachAfter(jJ8)}function Iu(Z,J){let Q=-1;for(let K of this)Z.call(J,K,++Q,this);return this}function Au(Z,J){var Q=this,K=[Q],U,X,Y=-1;while(Q=K.pop())if(Z.call(J,Q,++Y,this),U=Q.children)for(X=U.length-1;X>=0;--X)K.push(U[X]);return this}function Nu(Z,J){var Q=this,K=[Q],U=[],X,Y,q,W=-1;while(Q=K.pop())if(U.push(Q),X=Q.children)for(Y=0,q=X.length;Y<q;++Y)K.push(X[Y]);while(Q=U.pop())Z.call(J,Q,++W,this);return this}function Eu(Z,J){let Q=-1;for(let K of this)if(Z.call(J,K,++Q,this))return K}function Vu(Z){return this.eachAfter(function(J){var Q=+Z(J.data)||0,K=J.children,U=K&&K.length;while(--U>=0)Q+=K[U].value;J.value=Q})}function Pu(Z){return this.eachBefore(function(J){if(J.children)J.children.sort(Z)})}function Cu(Z){var J=this,Q=SJ8(J,Z),K=[J];while(J!==Q)J=J.parent,K.push(J);var U=K.length;while(Z!==Q)K.splice(U,0,Z),Z=Z.parent;return K}function SJ8(Z,J){if(Z===J)return Z;var Q=Z.ancestors(),K=J.ancestors(),U=null;Z=Q.pop(),J=K.pop();while(Z===J)U=Z,Z=Q.pop(),J=K.pop();return U}function ju(){var Z=this,J=[Z];while(Z=Z.parent)J.push(Z);return J}function Su(){return Array.from(this)}function Tu(){var Z=[];return this.eachBefore(function(J){if(!J.children)Z.push(J)}),Z}function wu(){var Z=this,J=[];return Z.each(function(Q){if(Q!==Z)J.push({source:Q.parent,target:Q})}),J}function*$u(){var Z=this,J,Q=[Z],K,U,X;do{J=Q.reverse(),Q=[];while(Z=J.pop())if(yield Z,K=Z.children)for(U=0,X=K.length;U<X;++U)Q.push(K[U])}while(Q.length)}function X2(Z,J){if(Z instanceof Map){if(Z=[void 0,Z],J===void 0)J=$J8}else if(J===void 0)J=wJ8;var Q=new T3(Z),K,U=[Q],X,Y,q,W;while(K=U.pop())if((Y=J(K.data))&&(W=(Y=Array.from(Y)).length)){K.children=Y;for(q=W-1;q>=0;--q)U.push(X=Y[q]=new T3(Y[q])),X.parent=K,X.depth=K.depth+1}return Q.eachBefore(_J8)}function TJ8(){return X2(this).eachBefore(kJ8)}function wJ8(Z){return Z.children}function $J8(Z){return Array.isArray(Z)?Z[1]:null}function kJ8(Z){if(Z.data.value!==void 0)Z.value=Z.data.value;Z.data=Z.data.data}function _J8(Z){var J=0;do Z.height=J;while((Z=Z.parent)&&Z.height<++J)}function T3(Z){this.data=Z,this.depth=this.height=0,this.parent=null}var SY0=f(()=>{T3.prototype=X2.prototype={constructor:T3,count:Du,each:Iu,eachAfter:Nu,eachBefore:Au,find:Eu,sum:Vu,sort:Pu,path:Cu,ancestors:ju,descendants:Su,leaves:Tu,links:wu,copy:TJ8,[Symbol.iterator]:$u}});function TY0(Z){if(typeof Z!=="function")throw Error();return Z}function Y2(){return 0}function CG(Z){return function(){return Z}}function ku(Z){Z.x0=Math.round(Z.x0),Z.y0=Math.round(Z.y0),Z.x1=Math.round(Z.x1),Z.y1=Math.round(Z.y1)}function _u(Z,J,Q,K,U){var X=Z.children,Y,q=-1,W=X.length,G=Z.value&&(K-J)/Z.value;while(++q<W)Y=X[q],Y.y0=Q,Y.y1=U,Y.x0=J,Y.x1=J+=Y.value*G}function fu(Z,J,Q,K,U){var X=Z.children,Y,q=-1,W=X.length,G=Z.value&&(U-Q)/Z.value;while(++q<W)Y=X[q],Y.x0=J,Y.x1=K,Y.y0=Q,Y.y1=Q+=Y.value*G}function vJ8(Z,J,Q,K,U,X){var Y=[],q=J.children,W,G,z=0,H=0,F=q.length,M,B,O=J.value,R,L,D,A,V,N,E;while(z<F){M=U-Q,B=X-K;do R=q[H++].value;while(!R&&H<F);L=D=R,N=Math.max(B/M,M/B)/(O*Z),E=R*R*N,V=Math.max(D/E,E/L);for(;H<F;++H){if(R+=G=q[H].value,G<L)L=G;if(G>D)D=G;if(E=R*R*N,A=Math.max(D/E,E/L),A>V){R-=G;break}V=A}if(Y.push(W={value:R,dice:M<B,children:q.slice(z,H)}),W.dice)_u(W,Q,K,U,O?K+=B*R/O:X);else fu(W,Q,K,O?Q+=M*R/O:U,X);O-=R,z=H}return Y}var fJ8,wY0;var $Y0=f(()=>{fJ8=(1+Math.sqrt(5))/2;wY0=function Z(J){function Q(K,U,X,Y,q){vJ8(J,K,U,X,Y,q)}return Q.ratio=function(K){return Z((K=+K)>1?K:1)},Q}(fJ8)});function BP(){var Z=wY0,J=!1,Q=1,K=1,U=[0],X=Y2,Y=Y2,q=Y2,W=Y2,G=Y2;function z(F){if(F.x0=F.y0=0,F.x1=Q,F.y1=K,F.eachBefore(H),U=[0],J)F.eachBefore(ku);return F}function H(F){var M=U[F.depth],B=F.x0+M,O=F.y0+M,R=F.x1-M,L=F.y1-M;if(R<B)B=R=(B+R)/2;if(L<O)O=L=(O+L)/2;if(F.x0=B,F.y0=O,F.x1=R,F.y1=L,F.children){if(M=U[F.depth+1]=X(F)/2,B+=G(F)-M,O+=Y(F)-M,R-=q(F)-M,L-=W(F)-M,R<B)B=R=(B+R)/2;if(L<O)O=L=(O+L)/2;Z(F,B,O,R,L)}}return z.round=function(F){return arguments.length?(J=!!F,z):J},z.size=function(F){return arguments.length?(Q=+F[0],K=+F[1],z):[Q,K]},z.tile=function(F){return arguments.length?(Z=TY0(F),z):Z},z.padding=function(F){return arguments.length?z.paddingInner(F).paddingOuter(F):z.paddingInner()},z.paddingInner=function(F){return arguments.length?(X=typeof F==="function"?F:CG(+F),z):X},z.paddingOuter=function(F){return arguments.length?z.paddingTop(F).paddingRight(F).paddingBottom(F).paddingLeft(F):z.paddingTop()},z.paddingTop=function(F){return arguments.length?(Y=typeof F==="function"?F:CG(+F),z):Y},z.paddingRight=function(F){return arguments.length?(q=typeof F==="function"?F:CG(+F),z):q},z.paddingBottom=function(F){return arguments.length?(W=typeof F==="function"?F:CG(+F),z):W},z.paddingLeft=function(F){return arguments.length?(G=typeof F==="function"?F:CG(+F),z):G},z}var kY0=f(()=>{$Y0()});var _Y0=f(()=>{SY0();kY0()});var fY0=()=>{};var vY0=()=>{};function V1(Z,J){switch(arguments.length){case 0:break;case 1:this.range(Z);break;default:this.range(J).domain(Z);break}return this}function C4(){var Z=new X3,J=[],Q=[],K=vu;function U(X){let Y=Z.get(X);if(Y===void 0){if(K!==vu)return K;Z.set(X,Y=J.push(X)-1)}return Q[Y%Q.length]}return U.domain=function(X){if(!arguments.length)return J.slice();J=[],Z=new X3;for(let Y of X){if(Z.has(Y))continue;Z.set(Y,J.push(Y)-1)}return U},U.range=function(X){return arguments.length?(Q=Array.from(X),U):Q.slice()},U.unknown=function(X){return arguments.length?(K=X,U):K},U.copy=function(){return C4(J,Q).unknown(K)},V1.apply(U,arguments),U}var vu;var xu=f(()=>{R1();vu=Symbol("implicit")});function q2(){var Z=C4().unknown(void 0),J=Z.domain,Q=Z.range,K=0,U=1,X,Y,q=!1,W=0,G=0,z=0.5;delete Z.unknown;function H(){var F=J().length,M=U<K,B=M?U:K,O=M?K:U;if(X=(O-B)/Math.max(1,F-W+G*2),q)X=Math.floor(X);if(B+=(O-B-X*(F-W))*z,Y=X*(1-W),q)B=Math.round(B),Y=Math.round(Y);var R=_V(F).map(function(L){return B+X*L});return Q(M?R.reverse():R)}return Z.domain=function(F){return arguments.length?(J(F),H()):J()},Z.range=function(F){return arguments.length?([K,U]=F,K=+K,U=+U,H()):[K,U]},Z.rangeRound=function(F){return[K,U]=F,K=+K,U=+U,q=!0,H()},Z.bandwidth=function(){return Y},Z.step=function(){return X},Z.round=function(F){return arguments.length?(q=!!F,H()):q},Z.padding=function(F){return arguments.length?(W=Math.min(1,G=+F),H()):W},Z.paddingInner=function(F){return arguments.length?(W=Math.min(1,F),H()):W},Z.paddingOuter=function(F){return arguments.length?(G=+F,H()):G},Z.align=function(F){return arguments.length?(z=Math.max(0,Math.min(1,F)),H()):z},Z.copy=function(){return q2(J(),[K,U]).round(q).paddingInner(W).paddingOuter(G).align(z)},V1.apply(H(),arguments)}var xY0=f(()=>{R1();xu()});function bu(Z){return function(){return Z}}function yu(Z){return+Z}function W2(Z){return Z}function hu(Z,J){return(J-=Z=+Z)?function(Q){return(Q-Z)/J}:bu(isNaN(J)?NaN:0.5)}function xJ8(Z,J){var Q;if(Z>J)Q=Z,Z=J,J=Q;return function(K){return Math.max(Z,Math.min(J,K))}}function bJ8(Z,J,Q){var K=Z[0],U=Z[1],X=J[0],Y=J[1];if(U<K)K=hu(U,K),X=Q(Y,X);else K=hu(K,U),X=Q(X,Y);return function(q){return X(K(q))}}function yJ8(Z,J,Q){var K=Math.min(Z.length,J.length)-1,U=Array(K),X=Array(K),Y=-1;if(Z[K]<Z[0])Z=Z.slice().reverse(),J=J.slice().reverse();while(++Y<K)U[Y]=hu(Z[Y],Z[Y+1]),X[Y]=Q(J[Y],J[Y+1]);return function(q){var W=Fh(Z,q,1,K)-1;return X[W](U[W](q))}}function OP(Z,J){return J.domain(Z.domain()).range(Z.range()).interpolate(Z.interpolate()).clamp(Z.clamp()).unknown(Z.unknown())}function hJ8(){var Z=bY0,J=bY0,Q=N1,K,U,X,Y=W2,q,W,G;function z(){var F=Math.min(Z.length,J.length);if(Y!==W2)Y=xJ8(Z[0],Z[F-1]);return q=F>2?yJ8:bJ8,W=G=null,H}function H(F){return F==null||isNaN(F=+F)?X:(W||(W=q(Z.map(K),J,Q)))(K(Y(F)))}return H.invert=function(F){return Y(U((G||(G=q(J,Z.map(K),T7)))(F)))},H.domain=function(F){return arguments.length?(Z=Array.from(F,yu),z()):Z.slice()},H.range=function(F){return arguments.length?(J=Array.from(F),z()):J.slice()},H.rangeRound=function(F){return J=Array.from(F),Q=dV,z()},H.clamp=function(F){return arguments.length?(Y=F?!0:W2,z()):Y!==W2},H.interpolate=function(F){return arguments.length?(Q=F,z()):Q},H.unknown=function(F){return arguments.length?(X=F,H):X},function(F,M){return K=F,U=M,z()}}function w3(){return hJ8()(W2,W2)}var bY0;var mu=f(()=>{R1();J2();bY0=[0,1]});function uu(Z,J,Q,K){var U=dH(Z,J,Q),X;switch(K=E1(K==null?",f":K),K.type){case"s":{var Y=Math.max(Math.abs(Z),Math.abs(J));if(K.precision==null&&!isNaN(X=FP(U,Y)))K.precision=X;return zP(K,Y)}case"":case"e":case"g":case"p":case"r":{if(K.precision==null&&!isNaN(X=MP(U,Math.max(Math.abs(Z),Math.abs(J)))))K.precision=X-(K.type==="e");break}case"f":case"%":{if(K.precision==null&&!isNaN(X=HP(U)))K.precision=X-(K.type==="%")*2;break}}return OU(K)}var yY0=f(()=>{R1();Lu()});function mJ8(Z){var J=Z.domain;return Z.ticks=function(Q){var K=J();return wV(K[0],K[K.length-1],Q==null?10:Q)},Z.tickFormat=function(Q,K){var U=J();return uu(U[0],U[U.length-1],Q==null?10:Q,K)},Z.nice=function(Q){if(Q==null)Q=10;var K=J(),U=0,X=K.length-1,Y=K[U],q=K[X],W,G,z=10;if(q<Y)G=Y,Y=q,q=G,G=U,U=X,X=G;while(z-- >0){if(G=Y3(Y,q,Q),G===W)return K[U]=Y,K[X]=q,J(K);else if(G>0)Y=Math.floor(Y/G)*G,q=Math.ceil(q/G)*G;else if(G<0)Y=Math.ceil(Y*G)/G,q=Math.floor(q*G)/G;else break;W=G}return Z},Z}function q5(){var Z=w3();return Z.copy=function(){return OP(Z,q5())},V1.apply(Z,arguments),mJ8(Z)}var hY0=f(()=>{R1();mu();yY0()});function gu(Z,J){Z=Z.slice();var Q=0,K=Z.length-1,U=Z[Q],X=Z[K],Y;if(X<U)Y=Q,Q=K,K=Y,Y=U,U=X,X=Y;return Z[Q]=J.floor(U),Z[K]=J.ceil(X),Z}function c9(Z,J,Q,K){function U(X){return Z(X=arguments.length===0?new Date:new Date(+X)),X}if(U.floor=(X)=>{return Z(X=new Date(+X)),X},U.ceil=(X)=>{return Z(X=new Date(X-1)),J(X,1),Z(X),X},U.round=(X)=>{let Y=U(X),q=U.ceil(X);return X-Y<q-X?Y:q},U.offset=(X,Y)=>{return J(X=new Date(+X),Y==null?1:Math.floor(Y)),X},U.range=(X,Y,q)=>{let W=[];if(X=U.ceil(X),q=q==null?1:Math.floor(q),!(X<Y)||!(q>0))return W;let G;do W.push(G=new Date(+X)),J(X,q),Z(X);while(G<X&&X<Y);return W},U.filter=(X)=>{return c9((Y)=>{if(Y>=Y)while(Z(Y),!X(Y))Y.setTime(Y-1)},(Y,q)=>{if(Y>=Y)if(q<0)while(++q<=0)while(J(Y,-1),!X(Y));else while(--q>=0)while(J(Y,1),!X(Y));})},Q)U.count=(X,Y)=>{return pu.setTime(+X),cu.setTime(+Y),Z(pu),Z(cu),Math.floor(Q(pu,cu))},U.every=(X)=>{return X=Math.floor(X),!isFinite(X)||!(X>0)?null:!(X>1)?U:U.filter(K?(Y)=>K(Y)%X===0:(Y)=>U.count(0,Y)%X===0)};return U}var pu,cu;var eX=f(()=>{pu=new Date,cu=new Date});var RU,mY0;var lu=f(()=>{eX();RU=c9(()=>{},(Z,J)=>{Z.setTime(+Z+J)},(Z,J)=>{return J-Z});RU.every=(Z)=>{if(Z=Math.floor(Z),!isFinite(Z)||!(Z>0))return null;if(!(Z>1))return RU;return c9((J)=>{J.setTime(Math.floor(J/Z)*Z)},(J,Q)=>{J.setTime(+J+Q*Z)},(J,Q)=>{return(Q-J)/Z})};mY0=RU.range});var UK=1000,VQ=60000,LU=3600000,P1=86400000,$3=604800000,du=2592000000,RP=31536000000;var j4,uY0;var iu=f(()=>{eX();j4=c9((Z)=>{Z.setTime(Z-Z.getMilliseconds())},(Z,J)=>{Z.setTime(+Z+J*UK)},(Z,J)=>{return(J-Z)/UK},(Z)=>{return Z.getUTCSeconds()}),uY0=j4.range});var ZY,uJ8,LP,gJ8;var su=f(()=>{eX();ZY=c9((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*UK)},(Z,J)=>{Z.setTime(+Z+J*VQ)},(Z,J)=>{return(J-Z)/VQ},(Z)=>{return Z.getMinutes()}),uJ8=ZY.range,LP=c9((Z)=>{Z.setUTCSeconds(0,0)},(Z,J)=>{Z.setTime(+Z+J*VQ)},(Z,J)=>{return(J-Z)/VQ},(Z)=>{return Z.getUTCMinutes()}),gJ8=LP.range});var JY,pJ8,DP,cJ8;var ru=f(()=>{eX();JY=c9((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*UK-Z.getMinutes()*VQ)},(Z,J)=>{Z.setTime(+Z+J*LU)},(Z,J)=>{return(J-Z)/LU},(Z)=>{return Z.getHours()}),pJ8=JY.range,DP=c9((Z)=>{Z.setUTCMinutes(0,0,0)},(Z,J)=>{Z.setTime(+Z+J*LU)},(Z,J)=>{return(J-Z)/LU},(Z)=>{return Z.getUTCHours()}),cJ8=DP.range});var XK,lJ8,k3,dJ8,IP,iJ8;var nu=f(()=>{eX();XK=c9((Z)=>Z.setHours(0,0,0,0),(Z,J)=>Z.setDate(Z.getDate()+J),(Z,J)=>(J-Z-(J.getTimezoneOffset()-Z.getTimezoneOffset())*VQ)/P1,(Z)=>Z.getDate()-1),lJ8=XK.range,k3=c9((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/P1},(Z)=>{return Z.getUTCDate()-1}),dJ8=k3.range,IP=c9((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/P1},(Z)=>{return Math.floor(Z/P1)}),iJ8=IP.range});function jG(Z){return c9((J)=>{J.setDate(J.getDate()-(J.getDay()+7-Z)%7),J.setHours(0,0,0,0)},(J,Q)=>{J.setDate(J.getDate()+Q*7)},(J,Q)=>{return(Q-J-(Q.getTimezoneOffset()-J.getTimezoneOffset())*VQ)/$3})}function SG(Z){return c9((J)=>{J.setUTCDate(J.getUTCDate()-(J.getUTCDay()+7-Z)%7),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCDate(J.getUTCDate()+Q*7)},(J,Q)=>{return(Q-J)/$3})}var W5,C1,AP,NP,DU,EP,VP,gY0,sJ8,rJ8,nJ8,aJ8,oJ8,tJ8,TG,G2,pY0,cY0,j1,lY0,dY0,iY0,eJ8,Z78,J78,Q78,K78,U78;var au=f(()=>{eX();W5=jG(0),C1=jG(1),AP=jG(2),NP=jG(3),DU=jG(4),EP=jG(5),VP=jG(6),gY0=W5.range,sJ8=C1.range,rJ8=AP.range,nJ8=NP.range,aJ8=DU.range,oJ8=EP.range,tJ8=VP.range;TG=SG(0),G2=SG(1),pY0=SG(2),cY0=SG(3),j1=SG(4),lY0=SG(5),dY0=SG(6),iY0=TG.range,eJ8=G2.range,Z78=pY0.range,J78=cY0.range,Q78=j1.range,K78=lY0.range,U78=dY0.range});var QY,X78,PP,Y78;var ou=f(()=>{eX();QY=c9((Z)=>{Z.setDate(1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setMonth(Z.getMonth()+J)},(Z,J)=>{return J.getMonth()-Z.getMonth()+(J.getFullYear()-Z.getFullYear())*12},(Z)=>{return Z.getMonth()}),X78=QY.range,PP=c9((Z)=>{Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCMonth(Z.getUTCMonth()+J)},(Z,J)=>{return J.getUTCMonth()-Z.getUTCMonth()+(J.getUTCFullYear()-Z.getUTCFullYear())*12},(Z)=>{return Z.getUTCMonth()}),Y78=PP.range});var S4,q78,G5,W78;var tu=f(()=>{eX();S4=c9((Z)=>{Z.setMonth(0,1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setFullYear(Z.getFullYear()+J)},(Z,J)=>{return J.getFullYear()-Z.getFullYear()},(Z)=>{return Z.getFullYear()});S4.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:c9((J)=>{J.setFullYear(Math.floor(J.getFullYear()/Z)*Z),J.setMonth(0,1),J.setHours(0,0,0,0)},(J,Q)=>{J.setFullYear(J.getFullYear()+Q*Z)})};q78=S4.range,G5=c9((Z)=>{Z.setUTCMonth(0,1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCFullYear(Z.getUTCFullYear()+J)},(Z,J)=>{return J.getUTCFullYear()-Z.getUTCFullYear()},(Z)=>{return Z.getUTCFullYear()});G5.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:c9((J)=>{J.setUTCFullYear(Math.floor(J.getUTCFullYear()/Z)*Z),J.setUTCMonth(0,1),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCFullYear(J.getUTCFullYear()+Q*Z)})};W78=G5.range});function sY0(Z,J,Q,K,U,X){let Y=[[j4,1,UK],[j4,5,5*UK],[j4,15,15*UK],[j4,30,30*UK],[X,1,VQ],[X,5,5*VQ],[X,15,15*VQ],[X,30,30*VQ],[U,1,LU],[U,3,3*LU],[U,6,6*LU],[U,12,12*LU],[K,1,P1],[K,2,2*P1],[Q,1,$3],[J,1,du],[J,3,3*du],[Z,1,RP]];function q(G,z,H){let F=z<G;if(F)[G,z]=[z,G];let M=H&&typeof H.range==="function"?H:W(G,z,H),B=M?M.range(G,+z+1):[];return F?B.reverse():B}function W(G,z,H){let F=Math.abs(z-G)/H,M=DG(([,,R])=>R).right(Y,F);if(M===Y.length)return Z.every(dH(G/RP,z/RP,H));if(M===0)return RU.every(Math.max(dH(G,z,H),1));let[B,O]=Y[F/Y[M-1][2]<Y[M][2]/F?M-1:M];return B.every(O)}return[q,W]}var G78,z78,eu,Zg;var rY0=f(()=>{R1();lu();iu();su();ru();nu();au();ou();tu();[G78,z78]=sY0(G5,PP,TG,IP,DP,LP),[eu,Zg]=sY0(S4,QY,W5,XK,JY,ZY)});var CP=f(()=>{lu();iu();su();ru();nu();au();ou();tu();rY0()});function Jg(Z){if(0<=Z.y&&Z.y<100){var J=new Date(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L);return J.setFullYear(Z.y),J}return new Date(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L)}function Qg(Z){if(0<=Z.y&&Z.y<100){var J=new Date(Date.UTC(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L));return J.setUTCFullYear(Z.y),J}return new Date(Date.UTC(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L))}function _3(Z,J,Q){return{y:Z,m:J,d:Q,H:0,M:0,S:0,L:0}}function Kg(Z){var{dateTime:J,date:Q,time:K,periods:U,days:X,shortDays:Y,months:q,shortMonths:W}=Z,G=f3(U),z=v3(U),H=f3(X),F=v3(X),M=f3(Y),B=v3(Y),O=f3(q),R=v3(q),L=f3(W),D=v3(W),A={a:x,A:b,b:y,B:u,c:null,d:Z10,e:Z10,f:f78,g:c78,G:d78,H:$78,I:k78,j:_78,L:X10,m:v78,M:x78,p:h,q:p,Q:K10,s:U10,S:b78,u:y78,U:h78,V:m78,w:u78,W:g78,x:null,X:null,y:p78,Y:l78,Z:i78,"%":Q10},V={a:r,A:t,b:d,B:X0,c:null,d:J10,e:J10,f:a78,g:YQ8,G:WQ8,H:s78,I:r78,j:n78,L:q10,m:o78,M:t78,p:a,q:z0,Q:K10,s:U10,S:e78,u:ZQ8,U:JQ8,V:QQ8,w:KQ8,W:UQ8,x:null,X:null,y:XQ8,Y:qQ8,Z:GQ8,"%":Q10},N={a:k,A:w,b:P,B:S,c:T,d:tY0,e:tY0,f:j78,g:oY0,G:aY0,H:eY0,I:eY0,j:E78,L:C78,m:N78,M:V78,p:$,q:A78,Q:T78,s:w78,S:P78,u:O78,U:R78,V:L78,w:B78,W:D78,x:_,X:v,y:oY0,Y:aY0,Z:I78,"%":S78};A.x=E(Q,A),A.X=E(K,A),A.c=E(J,A),V.x=E(Q,V),V.X=E(K,V),V.c=E(J,V);function E(J0,Q0){return function(e){var n=[],Y0=-1,o=0,M0=J0.length,K0,V0,i;if(!(e instanceof Date))e=new Date(+e);while(++Y0<M0)if(J0.charCodeAt(Y0)===37){if(n.push(J0.slice(o,Y0)),(V0=nY0[K0=J0.charAt(++Y0)])!=null)K0=J0.charAt(++Y0);else V0=K0==="e"?" ":"0";if(i=Q0[K0])K0=i(e,V0);n.push(K0),o=Y0+1}return n.push(J0.slice(o,Y0)),n.join("")}}function C(J0,Q0){return function(e){var n=_3(1900,void 0,1),Y0=j(n,J0,e+="",0),o,M0;if(Y0!=e.length)return null;if("Q"in n)return new Date(n.Q);if("s"in n)return new Date(n.s*1000+("L"in n?n.L:0));if(Q0&&!("Z"in n))n.Z=0;if("p"in n)n.H=n.H%12+n.p*12;if(n.m===void 0)n.m="q"in n?n.q:0;if("V"in n){if(n.V<1||n.V>53)return null;if(!("w"in n))n.w=1;if("Z"in n)o=Qg(_3(n.y,0,1)),M0=o.getUTCDay(),o=M0>4||M0===0?G2.ceil(o):G2(o),o=k3.offset(o,(n.V-1)*7),n.y=o.getUTCFullYear(),n.m=o.getUTCMonth(),n.d=o.getUTCDate()+(n.w+6)%7;else o=Jg(_3(n.y,0,1)),M0=o.getDay(),o=M0>4||M0===0?C1.ceil(o):C1(o),o=XK.offset(o,(n.V-1)*7),n.y=o.getFullYear(),n.m=o.getMonth(),n.d=o.getDate()+(n.w+6)%7}else if("W"in n||"U"in n){if(!("w"in n))n.w="u"in n?n.u%7:("W"in n)?1:0;M0="Z"in n?Qg(_3(n.y,0,1)).getUTCDay():Jg(_3(n.y,0,1)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+n.W*7-(M0+5)%7:n.w+n.U*7-(M0+6)%7}if("Z"in n)return n.H+=n.Z/100|0,n.M+=n.Z%100,Qg(n);return Jg(n)}}function j(J0,Q0,e,n){var Y0=0,o=Q0.length,M0=e.length,K0,V0;while(Y0<o){if(n>=M0)return-1;if(K0=Q0.charCodeAt(Y0++),K0===37){if(K0=Q0.charAt(Y0++),V0=N[K0 in nY0?Q0.charAt(Y0++):K0],!V0||(n=V0(J0,e,n))<0)return-1}else if(K0!=e.charCodeAt(n++))return-1}return n}function $(J0,Q0,e){var n=G.exec(Q0.slice(e));return n?(J0.p=z.get(n[0].toLowerCase()),e+n[0].length):-1}function k(J0,Q0,e){var n=M.exec(Q0.slice(e));return n?(J0.w=B.get(n[0].toLowerCase()),e+n[0].length):-1}function w(J0,Q0,e){var n=H.exec(Q0.slice(e));return n?(J0.w=F.get(n[0].toLowerCase()),e+n[0].length):-1}function P(J0,Q0,e){var n=L.exec(Q0.slice(e));return n?(J0.m=D.get(n[0].toLowerCase()),e+n[0].length):-1}function S(J0,Q0,e){var n=O.exec(Q0.slice(e));return n?(J0.m=R.get(n[0].toLowerCase()),e+n[0].length):-1}function T(J0,Q0,e){return j(J0,J,Q0,e)}function _(J0,Q0,e){return j(J0,Q,Q0,e)}function v(J0,Q0,e){return j(J0,K,Q0,e)}function x(J0){return Y[J0.getDay()]}function b(J0){return X[J0.getDay()]}function y(J0){return W[J0.getMonth()]}function u(J0){return q[J0.getMonth()]}function h(J0){return U[+(J0.getHours()>=12)]}function p(J0){return 1+~~(J0.getMonth()/3)}function r(J0){return Y[J0.getUTCDay()]}function t(J0){return X[J0.getUTCDay()]}function d(J0){return W[J0.getUTCMonth()]}function X0(J0){return q[J0.getUTCMonth()]}function a(J0){return U[+(J0.getUTCHours()>=12)]}function z0(J0){return 1+~~(J0.getUTCMonth()/3)}return{format:function(J0){var Q0=E(J0+="",A);return Q0.toString=function(){return J0},Q0},parse:function(J0){var Q0=C(J0+="",!1);return Q0.toString=function(){return J0},Q0},utcFormat:function(J0){var Q0=E(J0+="",V);return Q0.toString=function(){return J0},Q0},utcParse:function(J0){var Q0=C(J0+="",!0);return Q0.toString=function(){return J0},Q0}}}function R9(Z,J,Q){var K=Z<0?"-":"",U=(K?-Z:Z)+"",X=U.length;return K+(X<Q?Array(Q-X+1).join(J)+U:U)}function M78(Z){return Z.replace(F78,"\\$&")}function f3(Z){return new RegExp("^(?:"+Z.map(M78).join("|")+")","i")}function v3(Z){return new Map(Z.map((J,Q)=>[J.toLowerCase(),Q]))}function B78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+1));return K?(Z.w=+K[0],Q+K[0].length):-1}function O78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+1));return K?(Z.u=+K[0],Q+K[0].length):-1}function R78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.U=+K[0],Q+K[0].length):-1}function L78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.V=+K[0],Q+K[0].length):-1}function D78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.W=+K[0],Q+K[0].length):-1}function aY0(Z,J,Q){var K=w7.exec(J.slice(Q,Q+4));return K?(Z.y=+K[0],Q+K[0].length):-1}function oY0(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.y=+K[0]+(+K[0]>68?1900:2000),Q+K[0].length):-1}function I78(Z,J,Q){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(J.slice(Q,Q+6));return K?(Z.Z=K[1]?0:-(K[2]+(K[3]||"00")),Q+K[0].length):-1}function A78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+1));return K?(Z.q=K[0]*3-3,Q+K[0].length):-1}function N78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.m=K[0]-1,Q+K[0].length):-1}function tY0(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.d=+K[0],Q+K[0].length):-1}function E78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+3));return K?(Z.m=0,Z.d=+K[0],Q+K[0].length):-1}function eY0(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.H=+K[0],Q+K[0].length):-1}function V78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.M=+K[0],Q+K[0].length):-1}function P78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+2));return K?(Z.S=+K[0],Q+K[0].length):-1}function C78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+3));return K?(Z.L=+K[0],Q+K[0].length):-1}function j78(Z,J,Q){var K=w7.exec(J.slice(Q,Q+6));return K?(Z.L=Math.floor(K[0]/1000),Q+K[0].length):-1}function S78(Z,J,Q){var K=H78.exec(J.slice(Q,Q+1));return K?Q+K[0].length:-1}function T78(Z,J,Q){var K=w7.exec(J.slice(Q));return K?(Z.Q=+K[0],Q+K[0].length):-1}function w78(Z,J,Q){var K=w7.exec(J.slice(Q));return K?(Z.s=+K[0],Q+K[0].length):-1}function Z10(Z,J){return R9(Z.getDate(),J,2)}function $78(Z,J){return R9(Z.getHours(),J,2)}function k78(Z,J){return R9(Z.getHours()%12||12,J,2)}function _78(Z,J){return R9(1+XK.count(S4(Z),Z),J,3)}function X10(Z,J){return R9(Z.getMilliseconds(),J,3)}function f78(Z,J){return X10(Z,J)+"000"}function v78(Z,J){return R9(Z.getMonth()+1,J,2)}function x78(Z,J){return R9(Z.getMinutes(),J,2)}function b78(Z,J){return R9(Z.getSeconds(),J,2)}function y78(Z){var J=Z.getDay();return J===0?7:J}function h78(Z,J){return R9(W5.count(S4(Z)-1,Z),J,2)}function Y10(Z){var J=Z.getDay();return J>=4||J===0?DU(Z):DU.ceil(Z)}function m78(Z,J){return Z=Y10(Z),R9(DU.count(S4(Z),Z)+(S4(Z).getDay()===4),J,2)}function u78(Z){return Z.getDay()}function g78(Z,J){return R9(C1.count(S4(Z)-1,Z),J,2)}function p78(Z,J){return R9(Z.getFullYear()%100,J,2)}function c78(Z,J){return Z=Y10(Z),R9(Z.getFullYear()%100,J,2)}function l78(Z,J){return R9(Z.getFullYear()%1e4,J,4)}function d78(Z,J){var Q=Z.getDay();return Z=Q>=4||Q===0?DU(Z):DU.ceil(Z),R9(Z.getFullYear()%1e4,J,4)}function i78(Z){var J=Z.getTimezoneOffset();return(J>0?"-":(J*=-1,"+"))+R9(J/60|0,"0",2)+R9(J%60,"0",2)}function J10(Z,J){return R9(Z.getUTCDate(),J,2)}function s78(Z,J){return R9(Z.getUTCHours(),J,2)}function r78(Z,J){return R9(Z.getUTCHours()%12||12,J,2)}function n78(Z,J){return R9(1+k3.count(G5(Z),Z),J,3)}function q10(Z,J){return R9(Z.getUTCMilliseconds(),J,3)}function a78(Z,J){return q10(Z,J)+"000"}function o78(Z,J){return R9(Z.getUTCMonth()+1,J,2)}function t78(Z,J){return R9(Z.getUTCMinutes(),J,2)}function e78(Z,J){return R9(Z.getUTCSeconds(),J,2)}function ZQ8(Z){var J=Z.getUTCDay();return J===0?7:J}function JQ8(Z,J){return R9(TG.count(G5(Z)-1,Z),J,2)}function W10(Z){var J=Z.getUTCDay();return J>=4||J===0?j1(Z):j1.ceil(Z)}function QQ8(Z,J){return Z=W10(Z),R9(j1.count(G5(Z),Z)+(G5(Z).getUTCDay()===4),J,2)}function KQ8(Z){return Z.getUTCDay()}function UQ8(Z,J){return R9(G2.count(G5(Z)-1,Z),J,2)}function XQ8(Z,J){return R9(Z.getUTCFullYear()%100,J,2)}function YQ8(Z,J){return Z=W10(Z),R9(Z.getUTCFullYear()%100,J,2)}function qQ8(Z,J){return R9(Z.getUTCFullYear()%1e4,J,4)}function WQ8(Z,J){var Q=Z.getUTCDay();return Z=Q>=4||Q===0?j1(Z):j1.ceil(Z),R9(Z.getUTCFullYear()%1e4,J,4)}function GQ8(){return"+0000"}function Q10(){return"%"}function K10(Z){return+Z}function U10(Z){return Math.floor(+Z/1000)}var nY0,w7,H78,F78;var G10=f(()=>{CP();nY0={"-":"",_:" ","0":"0"},w7=/^\s*\d+/,H78=/^%/,F78=/[\\^$*+?|[\]().{}]/g});function Ug(Z){return z2=Kg(Z),wG=z2.format,z10=z2.parse,H10=z2.utcFormat,F10=z2.utcParse,z2}var z2,wG,z10,H10,F10;var M10=f(()=>{G10();Ug({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var Xg=f(()=>{M10()});function zQ8(Z){return new Date(Z)}function HQ8(Z){return Z instanceof Date?+Z:+new Date(+Z)}function B10(Z,J,Q,K,U,X,Y,q,W,G){var z=w3(),H=z.invert,F=z.domain,M=G(".%L"),B=G(":%S"),O=G("%I:%M"),R=G("%I %p"),L=G("%a %d"),D=G("%b %d"),A=G("%B"),V=G("%Y");function N(E){return(W(E)<E?M:q(E)<E?B:Y(E)<E?O:X(E)<E?R:K(E)<E?U(E)<E?L:D:Q(E)<E?A:V)(E)}return z.invert=function(E){return new Date(H(E))},z.domain=function(E){return arguments.length?F(Array.from(E,HQ8)):F().map(zQ8)},z.ticks=function(E){var C=F();return Z(C[0],C[C.length-1],E==null?10:E)},z.tickFormat=function(E,C){return C==null?N:G(C)},z.nice=function(E){var C=F();if(!E||typeof E.range!=="function")E=J(C[0],C[C.length-1],E==null?10:E);return E?F(gu(C,E)):z},z.copy=function(){return OP(z,B10(Z,J,Q,K,U,X,Y,q,W,G))},z}function jP(){return V1.apply(B10(eu,Zg,S4,QY,W5,XK,JY,ZY,j4,wG).domain([new Date(2000,0,1),new Date(2000,0,2)]),arguments)}var O10=f(()=>{CP();Xg();mu()});var R10=f(()=>{xY0();hY0();xu();O10()});function Yg(Z){var J=Z.length/6|0,Q=Array(J),K=0;while(K<J)Q[K]="#"+Z.slice(K*6,++K*6);return Q}var qg;var L10=f(()=>{qg=Yg("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var D10=f(()=>{L10()});function XJ(Z){return function(){return Z}}function A10(Z){return Z>1?0:Z<-1?H2:Math.acos(Z)}function Gg(Z){return Z>=1?x3:Z<=-1?-x3:Math.asin(Z)}var Wg,e7,S1,I10,SP,z5,$G,$7=0.000000000001,H2,x3,F2;var TP=f(()=>{Wg=Math.abs,e7=Math.atan2,S1=Math.cos,I10=Math.max,SP=Math.min,z5=Math.sin,$G=Math.sqrt,H2=Math.PI,x3=H2/2,F2=2*H2});function wP(Z){let J=3;return Z.digits=function(Q){if(!arguments.length)return J;if(Q==null)J=null;else{let K=Math.floor(Q);if(!(K>=0))throw RangeError(`invalid digits: ${Q}`);J=K}return Z},()=>new U2(J)}var zg=f(()=>{Yu()});function FQ8(Z){return Z.innerRadius}function MQ8(Z){return Z.outerRadius}function BQ8(Z){return Z.startAngle}function OQ8(Z){return Z.endAngle}function RQ8(Z){return Z&&Z.padAngle}function LQ8(Z,J,Q,K,U,X,Y,q){var W=Q-Z,G=K-J,z=Y-U,H=q-X,F=H*W-z*G;if(F*F<$7)return;return F=(z*(J-X)-H*(Z-U))/F,[Z+F*W,J+F*G]}function $P(Z,J,Q,K,U,X,Y){var q=Z-Q,W=J-K,G=(Y?X:-X)/$G(q*q+W*W),z=G*W,H=-G*q,F=Z+z,M=J+H,B=Q+z,O=K+H,R=(F+B)/2,L=(M+O)/2,D=B-F,A=O-M,V=D*D+A*A,N=U-X,E=F*O-B*M,C=(A<0?-1:1)*$G(I10(0,N*N*V-E*E)),j=(E*A-D*C)/V,$=(-E*D-A*C)/V,k=(E*A+D*C)/V,w=(-E*D+A*C)/V,P=j-R,S=$-L,T=k-R,_=w-L;if(P*P+S*S>T*T+_*_)j=k,$=w;return{cx:j,cy:$,x01:-z,y01:-H,x11:j*(U/N-1),y11:$*(U/N-1)}}function H5(){var Z=FQ8,J=MQ8,Q=XJ(0),K=null,U=BQ8,X=OQ8,Y=RQ8,q=null,W=wP(G);function G(){var z,H,F=+Z.apply(this,arguments),M=+J.apply(this,arguments),B=U.apply(this,arguments)-x3,O=X.apply(this,arguments)-x3,R=Wg(O-B),L=O>B;if(!q)q=z=W();if(M<F)H=M,M=F,F=H;if(!(M>$7))q.moveTo(0,0);else if(R>F2-$7){if(q.moveTo(M*S1(B),M*z5(B)),q.arc(0,0,M,B,O,!L),F>$7)q.moveTo(F*S1(O),F*z5(O)),q.arc(0,0,F,O,B,L)}else{var D=B,A=O,V=B,N=O,E=R,C=R,j=Y.apply(this,arguments)/2,$=j>$7&&(K?+K.apply(this,arguments):$G(F*F+M*M)),k=SP(Wg(M-F)/2,+Q.apply(this,arguments)),w=k,P=k,S,T;if($>$7){var _=Gg($/F*z5(j)),v=Gg($/M*z5(j));if((E-=_*2)>$7)_*=L?1:-1,V+=_,N-=_;else E=0,V=N=(B+O)/2;if((C-=v*2)>$7)v*=L?1:-1,D+=v,A-=v;else C=0,D=A=(B+O)/2}var x=M*S1(D),b=M*z5(D),y=F*S1(N),u=F*z5(N);if(k>$7){var h=M*S1(A),p=M*z5(A),r=F*S1(V),t=F*z5(V),d;if(R<H2)if(d=LQ8(x,b,r,t,h,p,y,u)){var X0=x-d[0],a=b-d[1],z0=h-d[0],J0=p-d[1],Q0=1/z5(A10((X0*z0+a*J0)/($G(X0*X0+a*a)*$G(z0*z0+J0*J0)))/2),e=$G(d[0]*d[0]+d[1]*d[1]);w=SP(k,(F-e)/(Q0-1)),P=SP(k,(M-e)/(Q0+1))}else w=P=0}if(!(C>$7))q.moveTo(x,b);else if(P>$7)if(S=$P(r,t,x,b,M,P,L),T=$P(h,p,y,u,M,P,L),q.moveTo(S.cx+S.x01,S.cy+S.y01),P<k)q.arc(S.cx,S.cy,P,e7(S.y01,S.x01),e7(T.y01,T.x01),!L);else q.arc(S.cx,S.cy,P,e7(S.y01,S.x01),e7(S.y11,S.x11),!L),q.arc(0,0,M,e7(S.cy+S.y11,S.cx+S.x11),e7(T.cy+T.y11,T.cx+T.x11),!L),q.arc(T.cx,T.cy,P,e7(T.y11,T.x11),e7(T.y01,T.x01),!L);else q.moveTo(x,b),q.arc(0,0,M,D,A,!L);if(!(F>$7)||!(E>$7))q.lineTo(y,u);else if(w>$7)if(S=$P(y,u,h,p,F,-w,L),T=$P(x,b,r,t,F,-w,L),q.lineTo(S.cx+S.x01,S.cy+S.y01),w<k)q.arc(S.cx,S.cy,w,e7(S.y01,S.x01),e7(T.y01,T.x01),!L);else q.arc(S.cx,S.cy,w,e7(S.y01,S.x01),e7(S.y11,S.x11),!L),q.arc(0,0,F,e7(S.cy+S.y11,S.cx+S.x11),e7(T.cy+T.y11,T.cx+T.x11),L),q.arc(T.cx,T.cy,w,e7(T.y11,T.x11),e7(T.y01,T.x01),!L);else q.arc(0,0,F,N,V,L)}if(q.closePath(),z)return q=null,z+""||null}return G.centroid=function(){var z=(+Z.apply(this,arguments)+ +J.apply(this,arguments))/2,H=(+U.apply(this,arguments)+ +X.apply(this,arguments))/2-H2/2;return[S1(H)*z,z5(H)*z]},G.innerRadius=function(z){return arguments.length?(Z=typeof z==="function"?z:XJ(+z),G):Z},G.outerRadius=function(z){return arguments.length?(J=typeof z==="function"?z:XJ(+z),G):J},G.cornerRadius=function(z){return arguments.length?(Q=typeof z==="function"?z:XJ(+z),G):Q},G.padRadius=function(z){return arguments.length?(K=z==null?null:typeof z==="function"?z:XJ(+z),G):K},G.startAngle=function(z){return arguments.length?(U=typeof z==="function"?z:XJ(+z),G):U},G.endAngle=function(z){return arguments.length?(X=typeof z==="function"?z:XJ(+z),G):X},G.padAngle=function(z){return arguments.length?(Y=typeof z==="function"?z:XJ(+z),G):Y},G.context=function(z){return arguments.length?(q=z==null?null:z,G):q},G}var N10=f(()=>{TP();zg()});function b3(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}var FQZ;var Hg=f(()=>{FQZ=Array.prototype.slice});function E10(Z){this._context=Z}function KY(Z){return new E10(Z)}var Fg=f(()=>{E10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:this._context.lineTo(Z,J);break}}}});function V10(Z){return Z[0]}function P10(Z){return Z[1]}function F5(Z,J){var Q=XJ(!0),K=null,U=KY,X=null,Y=wP(q);Z=typeof Z==="function"?Z:Z===void 0?V10:XJ(Z),J=typeof J==="function"?J:J===void 0?P10:XJ(J);function q(W){var G,z=(W=b3(W)).length,H,F=!1,M;if(K==null)X=U(M=Y());for(G=0;G<=z;++G){if(!(G<z&&Q(H=W[G],G,W))===F)if(F=!F)X.lineStart();else X.lineEnd();if(F)X.point(+Z(H,G,W),+J(H,G,W))}if(M)return X=null,M+""||null}return q.x=function(W){return arguments.length?(Z=typeof W==="function"?W:XJ(+W),q):Z},q.y=function(W){return arguments.length?(J=typeof W==="function"?W:XJ(+W),q):J},q.defined=function(W){return arguments.length?(Q=typeof W==="function"?W:XJ(!!W),q):Q},q.curve=function(W){return arguments.length?(U=W,K!=null&&(X=U(K)),q):U},q.context=function(W){return arguments.length?(W==null?K=X=null:X=U(K=W),q):K},q}var C10=f(()=>{Hg();Fg();zg()});function Mg(Z,J){return J<Z?-1:J>Z?1:J>=Z?0:NaN}function Bg(Z){return Z}function kP(){var Z=Bg,J=Mg,Q=null,K=XJ(0),U=XJ(F2),X=XJ(0);function Y(q){var W,G=(q=b3(q)).length,z,H,F=0,M=Array(G),B=Array(G),O=+K.apply(this,arguments),R=Math.min(F2,Math.max(-F2,U.apply(this,arguments)-O)),L,D=Math.min(Math.abs(R)/G,X.apply(this,arguments)),A=D*(R<0?-1:1),V;for(W=0;W<G;++W)if((V=B[M[W]=W]=+Z(q[W],W,q))>0)F+=V;if(J!=null)M.sort(function(N,E){return J(B[N],B[E])});else if(Q!=null)M.sort(function(N,E){return Q(q[N],q[E])});for(W=0,H=F?(R-G*A)/F:0;W<G;++W,O=L)z=M[W],V=B[z],L=O+(V>0?V*H:0)+A,B[z]={data:q[z],index:W,value:V,startAngle:O,endAngle:L,padAngle:D};return B}return Y.value=function(q){return arguments.length?(Z=typeof q==="function"?q:XJ(+q),Y):Z},Y.sortValues=function(q){return arguments.length?(J=q,Q=null,Y):J},Y.sort=function(q){return arguments.length?(Q=q,J=null,Y):Q},Y.startAngle=function(q){return arguments.length?(K=typeof q==="function"?q:XJ(+q),Y):K},Y.endAngle=function(q){return arguments.length?(U=typeof q==="function"?q:XJ(+q),Y):U},Y.padAngle=function(q){return arguments.length?(X=typeof q==="function"?q:XJ(+q),Y):X},Y}var j10=f(()=>{Hg();TP()});class Og{constructor(Z,J){this._context=Z,this._x=J}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line}point(Z,J){switch(Z=+Z,J=+J,this._point){case 0:{if(this._point=1,this._line)this._context.lineTo(Z,J);else this._context.moveTo(Z,J);break}case 1:this._point=2;default:{if(this._x)this._context.bezierCurveTo(this._x0=(this._x0+Z)/2,this._y0,this._x0,J,Z,J);else this._context.bezierCurveTo(this._x0,this._y0=(this._y0+J)/2,Z,this._y0,Z,J);break}}this._x0=Z,this._y0=J}}function y3(Z){return new Og(Z,!0)}function h3(Z){return new Og(Z,!1)}var S10=()=>{};function T4(){}function M2(Z,J,Q){Z._context.bezierCurveTo((2*Z._x0+Z._x1)/3,(2*Z._y0+Z._y1)/3,(Z._x0+2*Z._x1)/3,(Z._y0+2*Z._y1)/3,(Z._x0+4*Z._x1+J)/6,(Z._y0+4*Z._y1+Q)/6)}function m3(Z){this._context=Z}function YK(Z){return new m3(Z)}var u3=f(()=>{m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function T10(Z){this._context=Z}function _P(Z){return new T10(Z)}var w10=f(()=>{u3();T10.prototype={areaStart:T4,areaEnd:T4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x2=Z,this._y2=J;break;case 1:this._point=2,this._x3=Z,this._y3=J;break;case 2:this._point=3,this._x4=Z,this._y4=J,this._context.moveTo((this._x0+4*this._x1+Z)/6,(this._y0+4*this._y1+J)/6);break;default:M2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function $10(Z){this._context=Z}function fP(Z){return new $10(Z)}var k10=f(()=>{u3();$10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Q=(this._x0+4*this._x1+Z)/6,K=(this._y0+4*this._y1+J)/6;this._line?this._context.lineTo(Q,K):this._context.moveTo(Q,K);break;case 3:this._point=4;default:M2(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function _10(Z,J){this._basis=new m3(Z),this._beta=J}var Rg;var f10=f(()=>{u3();_10.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length-1;if(Q>0){var K=Z[0],U=J[0],X=Z[Q]-K,Y=J[Q]-U,q=-1,W;while(++q<=Q)W=q/Q,this._basis.point(this._beta*Z[q]+(1-this._beta)*(K+W*X),this._beta*J[q]+(1-this._beta)*(U+W*Y))}this._x=this._y=null,this._basis.lineEnd()},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}};Rg=function Z(J){function Q(K){return J===1?new m3(K):new _10(K,J)}return Q.beta=function(K){return Z(+K)},Q}(0.85)});function B2(Z,J,Q){Z._context.bezierCurveTo(Z._x1+Z._k*(Z._x2-Z._x0),Z._y1+Z._k*(Z._y2-Z._y0),Z._x2+Z._k*(Z._x1-J),Z._y2+Z._k*(Z._y1-Q),Z._x2,Z._y2)}function vP(Z,J){this._context=Z,this._k=(1-J)/6}var g3;var p3=f(()=>{vP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:B2(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2,this._x1=Z,this._y1=J;break;case 2:this._point=3;default:B2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};g3=function Z(J){function Q(K){return new vP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function xP(Z,J){this._context=Z,this._k=(1-J)/6}var Lg;var Dg=f(()=>{p3();xP.prototype={areaStart:T4,areaEnd:T4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:B2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Lg=function Z(J){function Q(K){return new xP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function bP(Z,J){this._context=Z,this._k=(1-J)/6}var Ig;var Ag=f(()=>{p3();bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:B2(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Ig=function Z(J){function Q(K){return new bP(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function c3(Z,J,Q){var{_x1:K,_y1:U,_x2:X,_y2:Y}=Z;if(Z._l01_a>$7){var q=2*Z._l01_2a+3*Z._l01_a*Z._l12_a+Z._l12_2a,W=3*Z._l01_a*(Z._l01_a+Z._l12_a);K=(K*q-Z._x0*Z._l12_2a+Z._x2*Z._l01_2a)/W,U=(U*q-Z._y0*Z._l12_2a+Z._y2*Z._l01_2a)/W}if(Z._l23_a>$7){var G=2*Z._l23_2a+3*Z._l23_a*Z._l12_a+Z._l12_2a,z=3*Z._l23_a*(Z._l23_a+Z._l12_a);X=(X*G+Z._x1*Z._l23_2a-J*Z._l12_2a)/z,Y=(Y*G+Z._y1*Z._l23_2a-Q*Z._l12_2a)/z}Z._context.bezierCurveTo(K,U,X,Y,Z._x2,Z._y2)}function v10(Z,J){this._context=Z,this._alpha=J}var l3;var yP=f(()=>{TP();p3();v10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3;default:c3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};l3=function Z(J){function Q(K){return J?new v10(K,J):new vP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function x10(Z,J){this._context=Z,this._alpha=J}var Ng;var b10=f(()=>{Dg();yP();x10.prototype={areaStart:T4,areaEnd:T4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:c3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Ng=function Z(J){function Q(K){return J?new x10(K,J):new xP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function y10(Z,J){this._context=Z,this._alpha=J}var Eg;var h10=f(()=>{Ag();yP();y10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:c3(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};Eg=function Z(J){function Q(K){return J?new y10(K,J):new bP(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function m10(Z){this._context=Z}function hP(Z){return new m10(Z)}var u10=f(()=>{m10.prototype={areaStart:T4,areaEnd:T4,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(Z,J){if(Z=+Z,J=+J,this._point)this._context.lineTo(Z,J);else this._point=1,this._context.moveTo(Z,J)}}});function g10(Z){return Z<0?-1:1}function p10(Z,J,Q){var K=Z._x1-Z._x0,U=J-Z._x1,X=(Z._y1-Z._y0)/(K||U<0&&-0),Y=(Q-Z._y1)/(U||K<0&&-0),q=(X*U+Y*K)/(K+U);return(g10(X)+g10(Y))*Math.min(Math.abs(X),Math.abs(Y),0.5*Math.abs(q))||0}function c10(Z,J){var Q=Z._x1-Z._x0;return Q?(3*(Z._y1-Z._y0)/Q-J)/2:J}function Vg(Z,J,Q){var{_x0:K,_y0:U,_x1:X,_y1:Y}=Z,q=(X-K)/3;Z._context.bezierCurveTo(K+q,U+q*J,X-q,Y-q*Q,X,Y)}function mP(Z){this._context=Z}function l10(Z){this._context=new d10(Z)}function d10(Z){this._context=Z}function d3(Z){return new mP(Z)}function i3(Z){return new l10(Z)}var i10=f(()=>{mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vg(this,this._t0,c10(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){var Q=NaN;if(Z=+Z,J=+J,Z===this._x1&&J===this._y1)return;switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,Vg(this,c10(this,Q=p10(this,Z,J)),Q);break;default:Vg(this,this._t0,Q=p10(this,Z,J));break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J,this._t0=Q}};(l10.prototype=Object.create(mP.prototype)).point=function(Z,J){mP.prototype.point.call(this,J,Z)};d10.prototype={moveTo:function(Z,J){this._context.moveTo(J,Z)},closePath:function(){this._context.closePath()},lineTo:function(Z,J){this._context.lineTo(J,Z)},bezierCurveTo:function(Z,J,Q,K,U,X){this._context.bezierCurveTo(J,Z,K,Q,X,U)}}});function r10(Z){this._context=Z}function s10(Z){var J,Q=Z.length-1,K,U=Array(Q),X=Array(Q),Y=Array(Q);U[0]=0,X[0]=2,Y[0]=Z[0]+2*Z[1];for(J=1;J<Q-1;++J)U[J]=1,X[J]=4,Y[J]=4*Z[J]+2*Z[J+1];U[Q-1]=2,X[Q-1]=7,Y[Q-1]=8*Z[Q-1]+Z[Q];for(J=1;J<Q;++J)K=U[J]/X[J-1],X[J]-=K,Y[J]-=K*Y[J-1];U[Q-1]=Y[Q-1]/X[Q-1];for(J=Q-2;J>=0;--J)U[J]=(Y[J]-U[J+1])/X[J];X[Q-1]=(Z[Q]+U[Q-1])/2;for(J=0;J<Q-1;++J)X[J]=2*Z[J+1]-U[J+1];return[U,X]}function O2(Z){return new r10(Z)}var n10=f(()=>{r10.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length;if(Q)if(this._line?this._context.lineTo(Z[0],J[0]):this._context.moveTo(Z[0],J[0]),Q===2)this._context.lineTo(Z[1],J[1]);else{var K=s10(Z),U=s10(J);for(var X=0,Y=1;Y<Q;++X,++Y)this._context.bezierCurveTo(K[0][X],U[0][X],K[1][X],U[1][X],Z[Y],J[Y])}if(this._line||this._line!==0&&Q===1)this._context.closePath();this._line=1-this._line,this._x=this._y=null},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}}});function uP(Z,J){this._context=Z,this._t=J}function R2(Z){return new uP(Z,0.5)}function s3(Z){return new uP(Z,0)}function r3(Z){return new uP(Z,1)}var a10=f(()=>{uP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,J),this._context.lineTo(Z,J);else{var Q=this._x*(1-this._t)+Z*this._t;this._context.lineTo(Q,this._y),this._context.lineTo(Q,J)}break}}this._x=Z,this._y=J}}});var o10=f(()=>{N10();C10();j10();w10();k10();u3();S10();f10();Dg();Ag();p3();b10();h10();yP();u10();Fg();i10();n10();a10()});function T1(Z,J,Q){this.k=Z,this.x=J,this.y=Q}function Cg(Z){while(!Z.__zoom)if(!(Z=Z.parentNode))return Pg;return Z.__zoom}var Pg;var jg=f(()=>{T1.prototype={constructor:T1,scale:function(Z){return Z===1?this:new T1(this.k*Z,this.x,this.y)},translate:function(Z,J){return Z===0&J===0?this:new T1(this.k,this.x+this.k*Z,this.y+this.k*J)},apply:function(Z){return[Z[0]*this.k+this.x,Z[1]*this.k+this.y]},applyX:function(Z){return Z*this.k+this.x},applyY:function(Z){return Z*this.k+this.y},invert:function(Z){return[(Z[0]-this.x)/this.k,(Z[1]-this.y)/this.k]},invertX:function(Z){return(Z-this.x)/this.k},invertY:function(Z){return(Z-this.y)/this.k},rescaleX:function(Z){return Z.copy().domain(Z.range().map(this.invertX,this).map(Z.invert,Z))},rescaleY:function(Z){return Z.copy().domain(Z.range().map(this.invertY,this).map(Z.invert,Z))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pg=new T1(1,0,0);Cg.prototype=T1.prototype});var t10=f(()=>{XP();jg()});var e10=f(()=>{t10();jg()});var TZ=f(()=>{R1();LU0();YY0();zY0();tH();HY0();FY0();Ih();pU0();MY0();Ju();BY0();RY0();Lu();jY0();_Y0();J2();Yu();fY0();OY0();vY0();R10();D10();K5();o10();CP();Xg();eV();XP();e10()});var k7;var IU=f(()=>{yZ();AZ();TZ();k7=I((Z)=>{let{securityLevel:J}=E0(),Q=n0("body");if(J==="sandbox"){let X=n0(`#i${Z}`).node()?.contentDocument??document;Q=n0(X.body)}return Q.select(`#${Z}`)},"selectSvgElement")});function cg(Z){return typeof Z>"u"||Z===null}function Qq0(Z){return typeof Z==="object"&&Z!==null}function Kq0(Z){if(Array.isArray(Z))return Z;else if(cg(Z))return[];return[Z]}function Uq0(Z,J){var Q,K,U,X;if(J){X=Object.keys(J);for(Q=0,K=X.length;Q<K;Q+=1)U=X[Q],Z[U]=J[U]}return Z}function Xq0(Z,J){var Q="",K;for(K=0;K<J;K+=1)Q+=Z;return Q}function Yq0(Z){return Z===0&&Number.NEGATIVE_INFINITY===1/Z}function lg(Z,J){var Q="",K=Z.reason||"(unknown reason)";if(!Z.mark)return K;if(Z.mark.name)Q+='in "'+Z.mark.name+'" ';if(Q+="("+(Z.mark.line+1)+":"+(Z.mark.column+1)+")",!J&&Z.mark.snippet)Q+=`

`+Z.mark.snippet;return K+" "+Q}function I2(Z,J){if(Error.call(this),this.name="YAMLException",this.reason=Z,this.mark=J,this.message=lg(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=Error().stack||""}function gP(Z,J,Q,K,U){var X="",Y="",q=Math.floor(U/2)-1;if(K-J>q)X=" ... ",J=K-q+X.length;if(Q-K>q)Y=" ...",Q=K+q-Y.length;return{str:X+Z.slice(J,Q).replace(/\t/g,"")+Y,pos:K-J+X.length}}function pP(Z,J){return L7.repeat(" ",J-Z.length)+Z}function qq0(Z,J){if(J=Object.create(J||null),!Z.buffer)return null;if(!J.maxLength)J.maxLength=79;if(typeof J.indent!=="number")J.indent=1;if(typeof J.linesBefore!=="number")J.linesBefore=3;if(typeof J.linesAfter!=="number")J.linesAfter=2;var Q=/\r?\n|\r|\0/g,K=[0],U=[],X,Y=-1;while(X=Q.exec(Z.buffer))if(U.push(X.index),K.push(X.index+X[0].length),Z.position<=X.index&&Y<0)Y=K.length-2;if(Y<0)Y=K.length-1;var q="",W,G,z=Math.min(Z.line+J.linesAfter,U.length).toString().length,H=J.maxLength-(J.indent+z+3);for(W=1;W<=J.linesBefore;W++){if(Y-W<0)break;G=gP(Z.buffer,K[Y-W],U[Y-W],Z.position-(K[Y]-K[Y-W]),H),q=L7.repeat(" ",J.indent)+pP((Z.line-W+1).toString(),z)+" | "+G.str+`
`+q}G=gP(Z.buffer,K[Y],U[Y],Z.position,H),q+=L7.repeat(" ",J.indent)+pP((Z.line+1).toString(),z)+" | "+G.str+`
`,q+=L7.repeat("-",J.indent+z+3+G.pos)+`^
`;for(W=1;W<=J.linesAfter;W++){if(Y+W>=U.length)break;G=gP(Z.buffer,K[Y+W],U[Y+W],Z.position-(K[Y]-K[Y+W]),H),q+=L7.repeat(" ",J.indent)+pP((Z.line+W+1).toString(),z)+" | "+G.str+`
`}return q.replace(/\n$/,"")}function Wq0(Z){var J={};if(Z!==null)Object.keys(Z).forEach(function(Q){Z[Q].forEach(function(K){J[String(K)]=Q})});return J}function Gq0(Z,J){if(J=J||{},Object.keys(J).forEach(function(Q){if(CQ8.indexOf(Q)===-1)throw new h6('Unknown option "'+Q+'" is met in definition of "'+Z+'" YAML type.')}),this.options=J,this.tag=Z,this.kind=J.kind||null,this.resolve=J.resolve||function(){return!0},this.construct=J.construct||function(Q){return Q},this.instanceOf=J.instanceOf||null,this.predicate=J.predicate||null,this.represent=J.represent||null,this.representName=J.representName||null,this.defaultStyle=J.defaultStyle||null,this.multi=J.multi||!1,this.styleAliases=Wq0(J.styleAliases||null),jQ8.indexOf(this.kind)===-1)throw new h6('Unknown kind "'+this.kind+'" is specified for "'+Z+'" YAML type.')}function Tg(Z,J){var Q=[];return Z[J].forEach(function(K){var U=Q.length;Q.forEach(function(X,Y){if(X.tag===K.tag&&X.kind===K.kind&&X.multi===K.multi)U=Y}),Q[U]=K}),Q}function zq0(){var Z={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},J,Q;function K(U){if(U.multi)Z.multi[U.kind].push(U),Z.multi.fallback.push(U);else Z[U.kind][U.tag]=Z.fallback[U.tag]=U}I(K,"collectType");for(J=0,Q=arguments.length;J<Q;J+=1)arguments[J].forEach(K);return Z}function cP(Z){return this.extend(Z)}function Hq0(Z){if(Z===null)return!0;var J=Z.length;return J===1&&Z==="~"||J===4&&(Z==="null"||Z==="Null"||Z==="NULL")}function Fq0(){return null}function Mq0(Z){return Z===null}function Bq0(Z){if(Z===null)return!1;var J=Z.length;return J===4&&(Z==="true"||Z==="True"||Z==="TRUE")||J===5&&(Z==="false"||Z==="False"||Z==="FALSE")}function Oq0(Z){return Z==="true"||Z==="True"||Z==="TRUE"}function Rq0(Z){return Object.prototype.toString.call(Z)==="[object Boolean]"}function Lq0(Z){return 48<=Z&&Z<=57||65<=Z&&Z<=70||97<=Z&&Z<=102}function Dq0(Z){return 48<=Z&&Z<=55}function Iq0(Z){return 48<=Z&&Z<=57}function Aq0(Z){if(Z===null)return!1;var J=Z.length,Q=0,K=!1,U;if(!J)return!1;if(U=Z[Q],U==="-"||U==="+")U=Z[++Q];if(U==="0"){if(Q+1===J)return!0;if(U=Z[++Q],U==="b"){Q++;for(;Q<J;Q++){if(U=Z[Q],U==="_")continue;if(U!=="0"&&U!=="1")return!1;K=!0}return K&&U!=="_"}if(U==="x"){Q++;for(;Q<J;Q++){if(U=Z[Q],U==="_")continue;if(!Lq0(Z.charCodeAt(Q)))return!1;K=!0}return K&&U!=="_"}if(U==="o"){Q++;for(;Q<J;Q++){if(U=Z[Q],U==="_")continue;if(!Dq0(Z.charCodeAt(Q)))return!1;K=!0}return K&&U!=="_"}}if(U==="_")return!1;for(;Q<J;Q++){if(U=Z[Q],U==="_")continue;if(!Iq0(Z.charCodeAt(Q)))return!1;K=!0}if(!K||U==="_")return!1;return!0}function Nq0(Z){var J=Z,Q=1,K;if(J.indexOf("_")!==-1)J=J.replace(/_/g,"");if(K=J[0],K==="-"||K==="+"){if(K==="-")Q=-1;J=J.slice(1),K=J[0]}if(J==="0")return 0;if(K==="0"){if(J[1]==="b")return Q*parseInt(J.slice(2),2);if(J[1]==="x")return Q*parseInt(J.slice(2),16);if(J[1]==="o")return Q*parseInt(J.slice(2),8)}return Q*parseInt(J,10)}function Eq0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1===0&&!L7.isNegativeZero(Z))}function Vq0(Z){if(Z===null)return!1;if(!xQ8.test(Z)||Z[Z.length-1]==="_")return!1;return!0}function Pq0(Z){var J,Q;if(J=Z.replace(/_/g,"").toLowerCase(),Q=J[0]==="-"?-1:1,"+-".indexOf(J[0])>=0)J=J.slice(1);if(J===".inf")return Q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(J===".nan")return NaN;return Q*parseFloat(J,10)}function Cq0(Z,J){var Q;if(isNaN(Z))switch(J){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Z)switch(J){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Z)switch(J){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L7.isNegativeZero(Z))return"-0.0";return Q=Z.toString(10),bQ8.test(Q)?Q.replace("e",".e"):Q}function jq0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1!==0||L7.isNegativeZero(Z))}function $q0(Z){if(Z===null)return!1;if(Tq0.exec(Z)!==null)return!0;if(wq0.exec(Z)!==null)return!0;return!1}function kq0(Z){var J,Q,K,U,X,Y,q,W=0,G=null,z,H,F;if(J=Tq0.exec(Z),J===null)J=wq0.exec(Z);if(J===null)throw Error("Date resolve error");if(Q=+J[1],K=+J[2]-1,U=+J[3],!J[4])return new Date(Date.UTC(Q,K,U));if(X=+J[4],Y=+J[5],q=+J[6],J[7]){W=J[7].slice(0,3);while(W.length<3)W+="0";W=+W}if(J[9]){if(z=+J[10],H=+(J[11]||0),G=(z*60+H)*60000,J[9]==="-")G=-G}if(F=new Date(Date.UTC(Q,K,U,X,Y,q,W)),G)F.setTime(F.getTime()-G);return F}function _q0(Z){return Z.toISOString()}function fq0(Z){return Z==="<<"||Z===null}function vq0(Z){if(Z===null)return!1;var J,Q,K=0,U=Z.length,X=dg;for(Q=0;Q<U;Q++){if(J=X.indexOf(Z.charAt(Q)),J>64)continue;if(J<0)return!1;K+=6}return K%8===0}function xq0(Z){var J,Q,K=Z.replace(/[\r\n=]/g,""),U=K.length,X=dg,Y=0,q=[];for(J=0;J<U;J++){if(J%4===0&&J)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);Y=Y<<6|X.indexOf(K.charAt(J))}if(Q=U%4*6,Q===0)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);else if(Q===18)q.push(Y>>10&255),q.push(Y>>2&255);else if(Q===12)q.push(Y>>4&255);return new Uint8Array(q)}function bq0(Z){var J="",Q=0,K,U,X=Z.length,Y=dg;for(K=0;K<X;K++){if(K%3===0&&K)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];Q=(Q<<8)+Z[K]}if(U=X%3,U===0)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];else if(U===2)J+=Y[Q>>10&63],J+=Y[Q>>4&63],J+=Y[Q<<2&63],J+=Y[64];else if(U===1)J+=Y[Q>>2&63],J+=Y[Q<<4&63],J+=Y[64],J+=Y[64];return J}function yq0(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"}function hq0(Z){if(Z===null)return!0;var J=[],Q,K,U,X,Y,q=Z;for(Q=0,K=q.length;Q<K;Q+=1){if(U=q[Q],Y=!1,cQ8.call(U)!=="[object Object]")return!1;for(X in U)if(pQ8.call(U,X))if(!Y)Y=!0;else return!1;if(!Y)return!1;if(J.indexOf(X)===-1)J.push(X);else return!1}return!0}function mq0(Z){return Z!==null?Z:[]}function uq0(Z){if(Z===null)return!0;var J,Q,K,U,X,Y=Z;X=Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1){if(K=Y[J],dQ8.call(K)!=="[object Object]")return!1;if(U=Object.keys(K),U.length!==1)return!1;X[J]=[U[0],K[U[0]]]}return!0}function gq0(Z){if(Z===null)return[];var J,Q,K,U,X,Y=Z;X=Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1)K=Y[J],U=Object.keys(K),X[J]=[U[0],K[U[0]]];return X}function pq0(Z){if(Z===null)return!0;var J,Q=Z;for(J in Q)if(sQ8.call(Q,J)){if(Q[J]!==null)return!1}return!0}function cq0(Z){return Z!==null?Z:{}}function wg(Z){return Object.prototype.toString.call(Z)}function M5(Z){return Z===10||Z===13}function w1(Z){return Z===9||Z===32}function eQ(Z){return Z===9||Z===32||Z===10||Z===13}function _G(Z){return Z===44||Z===91||Z===93||Z===123||Z===125}function nq0(Z){var J;if(48<=Z&&Z<=57)return Z-48;if(J=Z|32,97<=J&&J<=102)return J-97+10;return-1}function aq0(Z){if(Z===120)return 2;if(Z===117)return 4;if(Z===85)return 8;return 0}function oq0(Z){if(48<=Z&&Z<=57)return Z-48;return-1}function $g(Z){return Z===48?"\x00":Z===97?"\x07":Z===98?"\b":Z===116?"\t":Z===9?"\t":Z===110?`
`:Z===118?"\v":Z===102?"\f":Z===114?"\r":Z===101?"\x1B":Z===32?" ":Z===34?'"':Z===47?"/":Z===92?"\\":Z===78?"":Z===95?"":Z===76?"\u2028":Z===80?"\u2029":""}function tq0(Z){if(Z<=65535)return String.fromCharCode(Z);return String.fromCharCode((Z-65536>>10)+55296,(Z-65536&1023)+56320)}function JW0(Z,J){this.input=Z,this.filename=J.filename||null,this.schema=J.schema||lq0,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=Z.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ig(Z,J){var Q={name:Z.filename,buffer:Z.input.slice(0,-1),position:Z.position,line:Z.line,column:Z.position-Z.lineStart};return Q.snippet=PQ8(Q),new h6(J,Q)}function UZ(Z,J){throw ig(Z,J)}function n3(Z,J){if(Z.onWarning)Z.onWarning.call(null,ig(Z,J))}function UY(Z,J,Q,K){var U,X,Y,q;if(J<Q){if(q=Z.input.slice(J,Q),K){for(U=0,X=q.length;U<X;U+=1)if(Y=q.charCodeAt(U),!(Y===9||32<=Y&&Y<=1114111))UZ(Z,"expected valid JSON character")}else if(aQ8.test(q))UZ(Z,"the stream contains non-printable characters");Z.result+=q}}function kg(Z,J,Q,K){var U,X,Y,q;if(!L7.isObject(Q))UZ(Z,"cannot merge mappings; the provided source object is unacceptable");U=Object.keys(Q);for(Y=0,q=U.length;Y<q;Y+=1)if(X=U[Y],!$1.call(J,X))J[X]=Q[X],K[X]=!0}function fG(Z,J,Q,K,U,X,Y,q,W){var G,z;if(Array.isArray(U)){U=Array.prototype.slice.call(U);for(G=0,z=U.length;G<z;G+=1){if(Array.isArray(U[G]))UZ(Z,"nested arrays are not supported inside keys");if(typeof U==="object"&&wg(U[G])==="[object Object]")U[G]="[object Object]"}}if(typeof U==="object"&&wg(U)==="[object Object]")U="[object Object]";if(U=String(U),J===null)J={};if(K==="tag:yaml.org,2002:merge")if(Array.isArray(X))for(G=0,z=X.length;G<z;G+=1)kg(Z,J,X[G],Q);else kg(Z,J,X,Q);else{if(!Z.json&&!$1.call(Q,U)&&$1.call(J,U))Z.line=Y||Z.line,Z.lineStart=q||Z.lineStart,Z.position=W||Z.position,UZ(Z,"duplicated mapping key");if(U==="__proto__")Object.defineProperty(J,U,{configurable:!0,enumerable:!0,writable:!0,value:X});else J[U]=X;delete Q[U]}return J}function nP(Z){var J=Z.input.charCodeAt(Z.position);if(J===10)Z.position++;else if(J===13){if(Z.position++,Z.input.charCodeAt(Z.position)===10)Z.position++}else UZ(Z,"a line break is expected");Z.line+=1,Z.lineStart=Z.position,Z.firstTabInLine=-1}function rJ(Z,J,Q){var K=0,U=Z.input.charCodeAt(Z.position);while(U!==0){while(w1(U)){if(U===9&&Z.firstTabInLine===-1)Z.firstTabInLine=Z.position;U=Z.input.charCodeAt(++Z.position)}if(J&&U===35)do U=Z.input.charCodeAt(++Z.position);while(U!==10&&U!==13&&U!==0);if(M5(U)){nP(Z),U=Z.input.charCodeAt(Z.position),K++,Z.lineIndent=0;while(U===32)Z.lineIndent++,U=Z.input.charCodeAt(++Z.position)}else break}if(Q!==-1&&K!==0&&Z.lineIndent<Q)n3(Z,"deficient indentation");return K}function e3(Z){var J=Z.position,Q;if(Q=Z.input.charCodeAt(J),(Q===45||Q===46)&&Q===Z.input.charCodeAt(J+1)&&Q===Z.input.charCodeAt(J+2)){if(J+=3,Q=Z.input.charCodeAt(J),Q===0||eQ(Q))return!0}return!1}function aP(Z,J){if(J===1)Z.result+=" ";else if(J>1)Z.result+=L7.repeat(`
`,J-1)}function QW0(Z,J,Q){var K,U,X,Y,q,W,G,z,H=Z.kind,F=Z.result,M;if(M=Z.input.charCodeAt(Z.position),eQ(M)||_G(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96)return!1;if(M===63||M===45){if(U=Z.input.charCodeAt(Z.position+1),eQ(U)||Q&&_G(U))return!1}Z.kind="scalar",Z.result="",X=Y=Z.position,q=!1;while(M!==0){if(M===58){if(U=Z.input.charCodeAt(Z.position+1),eQ(U)||Q&&_G(U))break}else if(M===35){if(K=Z.input.charCodeAt(Z.position-1),eQ(K))break}else if(Z.position===Z.lineStart&&e3(Z)||Q&&_G(M))break;else if(M5(M))if(W=Z.line,G=Z.lineStart,z=Z.lineIndent,rJ(Z,!1,-1),Z.lineIndent>=J){q=!0,M=Z.input.charCodeAt(Z.position);continue}else{Z.position=Y,Z.line=W,Z.lineStart=G,Z.lineIndent=z;break}if(q)UY(Z,X,Y,!1),aP(Z,Z.line-W),X=Y=Z.position,q=!1;if(!w1(M))Y=Z.position+1;M=Z.input.charCodeAt(++Z.position)}if(UY(Z,X,Y,!1),Z.result)return!0;return Z.kind=H,Z.result=F,!1}function KW0(Z,J){var Q,K,U;if(Q=Z.input.charCodeAt(Z.position),Q!==39)return!1;Z.kind="scalar",Z.result="",Z.position++,K=U=Z.position;while((Q=Z.input.charCodeAt(Z.position))!==0)if(Q===39)if(UY(Z,K,Z.position,!0),Q=Z.input.charCodeAt(++Z.position),Q===39)K=Z.position,Z.position++,U=Z.position;else return!0;else if(M5(Q))UY(Z,K,U,!0),aP(Z,rJ(Z,!1,J)),K=U=Z.position;else if(Z.position===Z.lineStart&&e3(Z))UZ(Z,"unexpected end of the document within a single quoted scalar");else Z.position++,U=Z.position;UZ(Z,"unexpected end of the stream within a single quoted scalar")}function UW0(Z,J){var Q,K,U,X,Y,q;if(q=Z.input.charCodeAt(Z.position),q!==34)return!1;Z.kind="scalar",Z.result="",Z.position++,Q=K=Z.position;while((q=Z.input.charCodeAt(Z.position))!==0)if(q===34)return UY(Z,Q,Z.position,!0),Z.position++,!0;else if(q===92){if(UY(Z,Q,Z.position,!0),q=Z.input.charCodeAt(++Z.position),M5(q))rJ(Z,!1,J);else if(q<256&&eq0[q])Z.result+=ZW0[q],Z.position++;else if((Y=aq0(q))>0){U=Y,X=0;for(;U>0;U--)if(q=Z.input.charCodeAt(++Z.position),(Y=nq0(q))>=0)X=(X<<4)+Y;else UZ(Z,"expected hexadecimal character");Z.result+=tq0(X),Z.position++}else UZ(Z,"unknown escape sequence");Q=K=Z.position}else if(M5(q))UY(Z,Q,K,!0),aP(Z,rJ(Z,!1,J)),Q=K=Z.position;else if(Z.position===Z.lineStart&&e3(Z))UZ(Z,"unexpected end of the document within a double quoted scalar");else Z.position++,K=Z.position;UZ(Z,"unexpected end of the stream within a double quoted scalar")}function XW0(Z,J){var Q=!0,K,U,X,Y=Z.tag,q,W=Z.anchor,G,z,H,F,M,B=Object.create(null),O,R,L,D;if(D=Z.input.charCodeAt(Z.position),D===91)z=93,M=!1,q=[];else if(D===123)z=125,M=!0,q={};else return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=q;D=Z.input.charCodeAt(++Z.position);while(D!==0){if(rJ(Z,!0,J),D=Z.input.charCodeAt(Z.position),D===z)return Z.position++,Z.tag=Y,Z.anchor=W,Z.kind=M?"mapping":"sequence",Z.result=q,!0;else if(!Q)UZ(Z,"missed comma between flow collection entries");else if(D===44)UZ(Z,"expected the node content, but found ','");if(R=O=L=null,H=F=!1,D===63){if(G=Z.input.charCodeAt(Z.position+1),eQ(G))H=F=!0,Z.position++,rJ(Z,!0,J)}if(K=Z.line,U=Z.lineStart,X=Z.position,vG(Z,J,lP,!1,!0),R=Z.tag,O=Z.result,rJ(Z,!0,J),D=Z.input.charCodeAt(Z.position),(F||Z.line===K)&&D===58)H=!0,D=Z.input.charCodeAt(++Z.position),rJ(Z,!0,J),vG(Z,J,lP,!1,!0),L=Z.result;if(M)fG(Z,q,B,R,O,L,K,U,X);else if(H)q.push(fG(Z,null,B,R,O,L,K,U,X));else q.push(O);if(rJ(Z,!0,J),D=Z.input.charCodeAt(Z.position),D===44)Q=!0,D=Z.input.charCodeAt(++Z.position);else Q=!1}UZ(Z,"unexpected end of the stream within a flow collection")}function YW0(Z,J){var Q,K,U=Sg,X=!1,Y=!1,q=J,W=0,G=!1,z,H;if(H=Z.input.charCodeAt(Z.position),H===124)K=!1;else if(H===62)K=!0;else return!1;Z.kind="scalar",Z.result="";while(H!==0)if(H=Z.input.charCodeAt(++Z.position),H===43||H===45)if(Sg===U)U=H===43?Zq0:nQ8;else UZ(Z,"repeat of a chomping mode identifier");else if((z=oq0(H))>=0)if(z===0)UZ(Z,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!Y)q=J+z-1,Y=!0;else UZ(Z,"repeat of an indentation width identifier");else break;if(w1(H)){do H=Z.input.charCodeAt(++Z.position);while(w1(H));if(H===35)do H=Z.input.charCodeAt(++Z.position);while(!M5(H)&&H!==0)}while(H!==0){nP(Z),Z.lineIndent=0,H=Z.input.charCodeAt(Z.position);while((!Y||Z.lineIndent<q)&&H===32)Z.lineIndent++,H=Z.input.charCodeAt(++Z.position);if(!Y&&Z.lineIndent>q)q=Z.lineIndent;if(M5(H)){W++;continue}if(Z.lineIndent<q){if(U===Zq0)Z.result+=L7.repeat(`
`,X?1+W:W);else if(U===Sg){if(X)Z.result+=`
`}break}if(K)if(w1(H))G=!0,Z.result+=L7.repeat(`
`,X?1+W:W);else if(G)G=!1,Z.result+=L7.repeat(`
`,W+1);else if(W===0){if(X)Z.result+=" "}else Z.result+=L7.repeat(`
`,W);else Z.result+=L7.repeat(`
`,X?1+W:W);X=!0,Y=!0,W=0,Q=Z.position;while(!M5(H)&&H!==0)H=Z.input.charCodeAt(++Z.position);UY(Z,Q,Z.position,!1)}return!0}function _g(Z,J){var Q,K=Z.tag,U=Z.anchor,X=[],Y,q=!1,W;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=X;W=Z.input.charCodeAt(Z.position);while(W!==0){if(Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,UZ(Z,"tab characters must not be used in indentation");if(W!==45)break;if(Y=Z.input.charCodeAt(Z.position+1),!eQ(Y))break;if(q=!0,Z.position++,rJ(Z,!0,-1)){if(Z.lineIndent<=J){X.push(null),W=Z.input.charCodeAt(Z.position);continue}}if(Q=Z.line,vG(Z,J,iq0,!1,!0),X.push(Z.result),rJ(Z,!0,-1),W=Z.input.charCodeAt(Z.position),(Z.line===Q||Z.lineIndent>J)&&W!==0)UZ(Z,"bad indentation of a sequence entry");else if(Z.lineIndent<J)break}if(q)return Z.tag=K,Z.anchor=U,Z.kind="sequence",Z.result=X,!0;return!1}function qW0(Z,J,Q){var K,U,X,Y,q,W,G=Z.tag,z=Z.anchor,H={},F=Object.create(null),M=null,B=null,O=null,R=!1,L=!1,D;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=H;D=Z.input.charCodeAt(Z.position);while(D!==0){if(!R&&Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,UZ(Z,"tab characters must not be used in indentation");if(K=Z.input.charCodeAt(Z.position+1),X=Z.line,(D===63||D===58)&&eQ(K)){if(D===63){if(R)fG(Z,H,F,M,B,null,Y,q,W),M=B=O=null;L=!0,R=!0,U=!0}else if(R)R=!1,U=!0;else UZ(Z,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");Z.position+=1,D=K}else{if(Y=Z.line,q=Z.lineStart,W=Z.position,!vG(Z,Q,dq0,!1,!0))break;if(Z.line===X){D=Z.input.charCodeAt(Z.position);while(w1(D))D=Z.input.charCodeAt(++Z.position);if(D===58){if(D=Z.input.charCodeAt(++Z.position),!eQ(D))UZ(Z,"a whitespace character is expected after the key-value separator within a block mapping");if(R)fG(Z,H,F,M,B,null,Y,q,W),M=B=O=null;L=!0,R=!1,U=!1,M=Z.tag,B=Z.result}else if(L)UZ(Z,"can not read an implicit mapping pair; a colon is missed");else return Z.tag=G,Z.anchor=z,!0}else if(L)UZ(Z,"can not read a block mapping entry; a multiline key may not be an implicit key");else return Z.tag=G,Z.anchor=z,!0}if(Z.line===X||Z.lineIndent>J){if(R)Y=Z.line,q=Z.lineStart,W=Z.position;if(vG(Z,J,dP,!0,U))if(R)B=Z.result;else O=Z.result;if(!R)fG(Z,H,F,M,B,O,Y,q,W),M=B=O=null;rJ(Z,!0,-1),D=Z.input.charCodeAt(Z.position)}if((Z.line===X||Z.lineIndent>J)&&D!==0)UZ(Z,"bad indentation of a mapping entry");else if(Z.lineIndent<J)break}if(R)fG(Z,H,F,M,B,null,Y,q,W);if(L)Z.tag=G,Z.anchor=z,Z.kind="mapping",Z.result=H;return L}function WW0(Z){var J,Q=!1,K=!1,U,X,Y;if(Y=Z.input.charCodeAt(Z.position),Y!==33)return!1;if(Z.tag!==null)UZ(Z,"duplication of a tag property");if(Y=Z.input.charCodeAt(++Z.position),Y===60)Q=!0,Y=Z.input.charCodeAt(++Z.position);else if(Y===33)K=!0,U="!!",Y=Z.input.charCodeAt(++Z.position);else U="!";if(J=Z.position,Q){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&Y!==62);if(Z.position<Z.length)X=Z.input.slice(J,Z.position),Y=Z.input.charCodeAt(++Z.position);else UZ(Z,"unexpected end of the stream within a verbatim tag")}else{while(Y!==0&&!eQ(Y)){if(Y===33)if(!K){if(U=Z.input.slice(J-1,Z.position+1),!sq0.test(U))UZ(Z,"named tag handle cannot contain such characters");K=!0,J=Z.position+1}else UZ(Z,"tag suffix cannot contain exclamation marks");Y=Z.input.charCodeAt(++Z.position)}if(X=Z.input.slice(J,Z.position),tQ8.test(X))UZ(Z,"tag suffix cannot contain flow indicator characters")}if(X&&!rq0.test(X))UZ(Z,"tag name cannot contain such characters: "+X);try{X=decodeURIComponent(X)}catch(q){UZ(Z,"tag name is malformed: "+X)}if(Q)Z.tag=X;else if($1.call(Z.tagMap,U))Z.tag=Z.tagMap[U]+X;else if(U==="!")Z.tag="!"+X;else if(U==="!!")Z.tag="tag:yaml.org,2002:"+X;else UZ(Z,'undeclared tag handle "'+U+'"');return!0}function GW0(Z){var J,Q;if(Q=Z.input.charCodeAt(Z.position),Q!==38)return!1;if(Z.anchor!==null)UZ(Z,"duplication of an anchor property");Q=Z.input.charCodeAt(++Z.position),J=Z.position;while(Q!==0&&!eQ(Q)&&!_G(Q))Q=Z.input.charCodeAt(++Z.position);if(Z.position===J)UZ(Z,"name of an anchor node must contain at least one character");return Z.anchor=Z.input.slice(J,Z.position),!0}function zW0(Z){var J,Q,K;if(K=Z.input.charCodeAt(Z.position),K!==42)return!1;K=Z.input.charCodeAt(++Z.position),J=Z.position;while(K!==0&&!eQ(K)&&!_G(K))K=Z.input.charCodeAt(++Z.position);if(Z.position===J)UZ(Z,"name of an alias node must contain at least one character");if(Q=Z.input.slice(J,Z.position),!$1.call(Z.anchorMap,Q))UZ(Z,'unidentified alias "'+Q+'"');return Z.result=Z.anchorMap[Q],rJ(Z,!0,-1),!0}function vG(Z,J,Q,K,U){var X,Y,q,W=1,G=!1,z=!1,H,F,M,B,O,R;if(Z.listener!==null)Z.listener("open",Z);if(Z.tag=null,Z.anchor=null,Z.kind=null,Z.result=null,X=Y=q=dP===Q||iq0===Q,K){if(rJ(Z,!0,-1)){if(G=!0,Z.lineIndent>J)W=1;else if(Z.lineIndent===J)W=0;else if(Z.lineIndent<J)W=-1}}if(W===1)while(WW0(Z)||GW0(Z))if(rJ(Z,!0,-1)){if(G=!0,q=X,Z.lineIndent>J)W=1;else if(Z.lineIndent===J)W=0;else if(Z.lineIndent<J)W=-1}else q=!1;if(q)q=G||U;if(W===1||dP===Q){if(lP===Q||dq0===Q)O=J;else O=J+1;if(R=Z.position-Z.lineStart,W===1)if(q&&(_g(Z,R)||qW0(Z,R,O))||XW0(Z,O))z=!0;else{if(Y&&YW0(Z,O)||KW0(Z,O)||UW0(Z,O))z=!0;else if(zW0(Z)){if(z=!0,Z.tag!==null||Z.anchor!==null)UZ(Z,"alias node should not have any properties")}else if(QW0(Z,O,lP===Q)){if(z=!0,Z.tag===null)Z.tag="?"}if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(W===0)z=q&&_g(Z,R)}if(Z.tag===null){if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(Z.tag==="?"){if(Z.result!==null&&Z.kind!=="scalar")UZ(Z,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+Z.kind+'"');for(H=0,F=Z.implicitTypes.length;H<F;H+=1)if(B=Z.implicitTypes[H],B.resolve(Z.result)){if(Z.result=B.construct(Z.result),Z.tag=B.tag,Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result;break}}else if(Z.tag!=="!"){if($1.call(Z.typeMap[Z.kind||"fallback"],Z.tag))B=Z.typeMap[Z.kind||"fallback"][Z.tag];else{B=null,M=Z.typeMap.multi[Z.kind||"fallback"];for(H=0,F=M.length;H<F;H+=1)if(Z.tag.slice(0,M[H].tag.length)===M[H].tag){B=M[H];break}}if(!B)UZ(Z,"unknown tag !<"+Z.tag+">");if(Z.result!==null&&B.kind!==Z.kind)UZ(Z,"unacceptable node kind for !<"+Z.tag+'> tag; it should be "'+B.kind+'", not "'+Z.kind+'"');if(!B.resolve(Z.result,Z.tag))UZ(Z,"cannot resolve a node with !<"+Z.tag+"> explicit tag");else if(Z.result=B.construct(Z.result,Z.tag),Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}if(Z.listener!==null)Z.listener("close",Z);return Z.tag!==null||Z.anchor!==null||z}function HW0(Z){var J=Z.position,Q,K,U,X=!1,Y;Z.version=null,Z.checkLineBreaks=Z.legacy,Z.tagMap=Object.create(null),Z.anchorMap=Object.create(null);while((Y=Z.input.charCodeAt(Z.position))!==0){if(rJ(Z,!0,-1),Y=Z.input.charCodeAt(Z.position),Z.lineIndent>0||Y!==37)break;X=!0,Y=Z.input.charCodeAt(++Z.position),Q=Z.position;while(Y!==0&&!eQ(Y))Y=Z.input.charCodeAt(++Z.position);if(K=Z.input.slice(Q,Z.position),U=[],K.length<1)UZ(Z,"directive name must not be less than one character in length");while(Y!==0){while(w1(Y))Y=Z.input.charCodeAt(++Z.position);if(Y===35){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&!M5(Y));break}if(M5(Y))break;Q=Z.position;while(Y!==0&&!eQ(Y))Y=Z.input.charCodeAt(++Z.position);U.push(Z.input.slice(Q,Z.position))}if(Y!==0)nP(Z);if($1.call(Jq0,K))Jq0[K](Z,K,U);else n3(Z,'unknown document directive "'+K+'"')}if(rJ(Z,!0,-1),Z.lineIndent===0&&Z.input.charCodeAt(Z.position)===45&&Z.input.charCodeAt(Z.position+1)===45&&Z.input.charCodeAt(Z.position+2)===45)Z.position+=3,rJ(Z,!0,-1);else if(X)UZ(Z,"directives end mark is expected");if(vG(Z,Z.lineIndent-1,dP,!1,!0),rJ(Z,!0,-1),Z.checkLineBreaks&&oQ8.test(Z.input.slice(J,Z.position)))n3(Z,"non-ASCII line breaks are interpreted as content");if(Z.documents.push(Z.result),Z.position===Z.lineStart&&e3(Z)){if(Z.input.charCodeAt(Z.position)===46)Z.position+=3,rJ(Z,!0,-1);return}if(Z.position<Z.length-1)UZ(Z,"end of the stream or a document separator is expected");else return}function sg(Z,J){if(Z=String(Z),J=J||{},Z.length!==0){if(Z.charCodeAt(Z.length-1)!==10&&Z.charCodeAt(Z.length-1)!==13)Z+=`
`;if(Z.charCodeAt(0)===65279)Z=Z.slice(1)}var Q=new JW0(Z,J),K=Z.indexOf("\x00");if(K!==-1)Q.position=K,UZ(Q,"null byte is not allowed in input");Q.input+="\x00";while(Q.input.charCodeAt(Q.position)===32)Q.lineIndent+=1,Q.position+=1;while(Q.position<Q.length-1)HW0(Q);return Q.documents}function FW0(Z,J,Q){if(J!==null&&typeof J==="object"&&typeof Q>"u")Q=J,J=null;var K=sg(Z,Q);if(typeof J!=="function")return K;for(var U=0,X=K.length;U<X;U+=1)J(K[U])}function MW0(Z,J){var Q=sg(Z,J);if(Q.length===0)return;else if(Q.length===1)return Q[0];throw new h6("expected a single document in the stream, but found more")}function EW0(Z,J){var Q,K,U,X,Y,q,W;if(J===null)return{};Q={},K=Object.keys(J);for(U=0,X=K.length;U<X;U+=1){if(Y=K[U],q=String(J[Y]),Y.slice(0,2)==="!!")Y="tag:yaml.org,2002:"+Y.slice(2);if(W=Z.compiledTypeMap.fallback[Y],W&&RW0.call(W.styleAliases,q))q=W.styleAliases[q];Q[Y]=q}return Q}function VW0(Z){var J,Q,K;if(J=Z.toString(16).toUpperCase(),Z<=255)Q="x",K=2;else if(Z<=65535)Q="u",K=4;else if(Z<=4294967295)Q="U",K=8;else throw new h6("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+Q+L7.repeat("0",K-J.length)+J}function PW0(Z){this.schema=Z.schema||lq0,this.indent=Math.max(1,Z.indent||2),this.noArrayIndent=Z.noArrayIndent||!1,this.skipInvalid=Z.skipInvalid||!1,this.flowLevel=L7.isNothing(Z.flowLevel)?-1:Z.flowLevel,this.styleMap=EW0(this.schema,Z.styles||null),this.sortKeys=Z.sortKeys||!1,this.lineWidth=Z.lineWidth||80,this.noRefs=Z.noRefs||!1,this.noCompatMode=Z.noCompatMode||!1,this.condenseFlow=Z.condenseFlow||!1,this.quotingType=Z.quotingType==='"'?o3:I68,this.forceQuotes=Z.forceQuotes||!1,this.replacer=typeof Z.replacer==="function"?Z.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vg(Z,J){var Q=L7.repeat(" ",J),K=0,U=-1,X="",Y,q=Z.length;while(K<q){if(U=Z.indexOf(`
`,K),U===-1)Y=Z.slice(K),K=q;else Y=Z.slice(K,U+1),K=U+1;if(Y.length&&Y!==`
`)X+=Q;X+=Y}return X}function sP(Z,J){return`
`+L7.repeat(" ",Z.indent*J)}function CW0(Z,J){var Q,K,U;for(Q=0,K=Z.implicitTypes.length;Q<K;Q+=1)if(U=Z.implicitTypes[Q],U.resolve(J))return!0;return!1}function t3(Z){return Z===K68||Z===J68}function A2(Z){return 32<=Z&&Z<=126||161<=Z&&Z<=55295&&Z!==8232&&Z!==8233||57344<=Z&&Z<=65533&&Z!==rg||65536<=Z&&Z<=1114111}function xg(Z){return A2(Z)&&Z!==rg&&Z!==Q68&&Z!==a3}function bg(Z,J,Q){var K=xg(Z),U=K&&!t3(Z);return(Q?K:K&&Z!==LW0&&Z!==DW0&&Z!==IW0&&Z!==AW0&&Z!==NW0)&&Z!==fg&&!(J===iP&&!U)||xg(J)&&!t3(J)&&Z===fg||J===iP&&U}function jW0(Z){return A2(Z)&&Z!==rg&&!t3(Z)&&Z!==z68&&Z!==M68&&Z!==iP&&Z!==LW0&&Z!==DW0&&Z!==IW0&&Z!==AW0&&Z!==NW0&&Z!==fg&&Z!==q68&&Z!==G68&&Z!==U68&&Z!==R68&&Z!==H68&&Z!==F68&&Z!==W68&&Z!==X68&&Z!==Y68&&Z!==B68&&Z!==O68}function SW0(Z){return!t3(Z)&&Z!==iP}function D2(Z,J){var Q=Z.charCodeAt(J),K;if(Q>=55296&&Q<=56319&&J+1<Z.length){if(K=Z.charCodeAt(J+1),K>=56320&&K<=57343)return(Q-55296)*1024+K-56320+65536}return Q}function ng(Z){var J=/^\n* /;return J.test(Z)}function kW0(Z,J,Q,K,U,X,Y,q){var W,G=0,z=null,H=!1,F=!1,M=K!==-1,B=-1,O=jW0(D2(Z,0))&&SW0(D2(Z,Z.length-1));if(J||Y)for(W=0;W<Z.length;G>=65536?W+=2:W++){if(G=D2(Z,W),!A2(G))return L2;O=O&&bg(G,z,q),z=G}else{for(W=0;W<Z.length;G>=65536?W+=2:W++){if(G=D2(Z,W),G===a3){if(H=!0,M)F=F||W-B-1>K&&Z[B+1]!==" ",B=W}else if(!A2(G))return L2;O=O&&bg(G,z,q),z=G}F=F||M&&(W-B-1>K&&Z[B+1]!==" ")}if(!H&&!F){if(O&&!Y&&!U(Z))return TW0;return X===o3?L2:yg}if(Q>9&&ng(Z))return L2;if(!Y)return F?$W0:wW0;return X===o3?L2:yg}function _W0(Z,J,Q,K,U){Z.dump=function(){if(J.length===0)return Z.quotingType===o3?'""':"''";if(!Z.noCompatMode){if(L68.indexOf(J)!==-1||D68.test(J))return Z.quotingType===o3?'"'+J+'"':"'"+J+"'"}var X=Z.indent*Math.max(1,Q),Y=Z.lineWidth===-1?-1:Math.max(Math.min(Z.lineWidth,40),Z.lineWidth-X),q=K||Z.flowLevel>-1&&Q>=Z.flowLevel;function W(G){return CW0(Z,G)}switch(I(W,"testAmbiguity"),kW0(J,q,Z.indent,Y,W,Z.quotingType,Z.forceQuotes&&!K,U)){case TW0:return J;case yg:return"'"+J.replace(/'/g,"''")+"'";case wW0:return"|"+hg(J,Z.indent)+mg(vg(J,X));case $W0:return">"+hg(J,Z.indent)+mg(vg(fW0(J,Y),X));case L2:return'"'+vW0(J)+'"';default:throw new h6("impossible error: invalid scalar style")}}()}function hg(Z,J){var Q=ng(Z)?String(J):"",K=Z[Z.length-1]===`
`,U=K&&(Z[Z.length-2]===`
`||Z===`
`),X=U?"+":K?"":"-";return Q+X+`
`}function mg(Z){return Z[Z.length-1]===`
`?Z.slice(0,-1):Z}function fW0(Z,J){var Q=/(\n+)([^\n]*)/g,K=function(){var G=Z.indexOf(`
`);return G=G!==-1?G:Z.length,Q.lastIndex=G,ug(Z.slice(0,G),J)}(),U=Z[0]===`
`||Z[0]===" ",X,Y;while(Y=Q.exec(Z)){var q=Y[1],W=Y[2];X=W[0]===" ",K+=q+(!U&&!X&&W!==""?`
`:"")+ug(W,J),U=X}return K}function ug(Z,J){if(Z===""||Z[0]===" ")return Z;var Q=/ [^ ]/g,K,U=0,X,Y=0,q=0,W="";while(K=Q.exec(Z)){if(q=K.index,q-U>J)X=Y>U?Y:q,W+=`
`+Z.slice(U,X),U=X+1;Y=q}if(W+=`
`,Z.length-U>J&&Y>U)W+=Z.slice(U,Y)+`
`+Z.slice(Y+1);else W+=Z.slice(U);return W.slice(1)}function vW0(Z){var J="",Q=0,K;for(var U=0;U<Z.length;Q>=65536?U+=2:U++)if(Q=D2(Z,U),K=CQ[Q],!K&&A2(Q)){if(J+=Z[U],Q>=65536)J+=Z[U+1]}else J+=K||VW0(Q);return J}function xW0(Z,J,Q){var K="",U=Z.tag,X,Y,q;for(X=0,Y=Q.length;X<Y;X+=1){if(q=Q[X],Z.replacer)q=Z.replacer.call(Q,String(X),q);if(AU(Z,J,q,!1,!1)||typeof q>"u"&&AU(Z,J,null,!1,!1)){if(K!=="")K+=","+(!Z.condenseFlow?" ":"");K+=Z.dump}}Z.tag=U,Z.dump="["+K+"]"}function gg(Z,J,Q,K){var U="",X=Z.tag,Y,q,W;for(Y=0,q=Q.length;Y<q;Y+=1){if(W=Q[Y],Z.replacer)W=Z.replacer.call(Q,String(Y),W);if(AU(Z,J+1,W,!0,!0,!1,!0)||typeof W>"u"&&AU(Z,J+1,null,!0,!0,!1,!0)){if(!K||U!=="")U+=sP(Z,J);if(Z.dump&&a3===Z.dump.charCodeAt(0))U+="-";else U+="- ";U+=Z.dump}}Z.tag=X,Z.dump=U||"[]"}function bW0(Z,J,Q){var K="",U=Z.tag,X=Object.keys(Q),Y,q,W,G,z;for(Y=0,q=X.length;Y<q;Y+=1){if(z="",K!=="")z+=", ";if(Z.condenseFlow)z+='"';if(W=X[Y],G=Q[W],Z.replacer)G=Z.replacer.call(Q,W,G);if(!AU(Z,J,W,!1,!1))continue;if(Z.dump.length>1024)z+="? ";if(z+=Z.dump+(Z.condenseFlow?'"':"")+":"+(Z.condenseFlow?"":" "),!AU(Z,J,G,!1,!1))continue;z+=Z.dump,K+=z}Z.tag=U,Z.dump="{"+K+"}"}function yW0(Z,J,Q,K){var U="",X=Z.tag,Y=Object.keys(Q),q,W,G,z,H,F;if(Z.sortKeys===!0)Y.sort();else if(typeof Z.sortKeys==="function")Y.sort(Z.sortKeys);else if(Z.sortKeys)throw new h6("sortKeys must be a boolean or a function");for(q=0,W=Y.length;q<W;q+=1){if(F="",!K||U!=="")F+=sP(Z,J);if(G=Y[q],z=Q[G],Z.replacer)z=Z.replacer.call(Q,G,z);if(!AU(Z,J+1,G,!0,!0,!0))continue;if(H=Z.tag!==null&&Z.tag!=="?"||Z.dump&&Z.dump.length>1024,H)if(Z.dump&&a3===Z.dump.charCodeAt(0))F+="?";else F+="? ";if(F+=Z.dump,H)F+=sP(Z,J);if(!AU(Z,J+1,z,!0,H))continue;if(Z.dump&&a3===Z.dump.charCodeAt(0))F+=":";else F+=": ";F+=Z.dump,U+=F}Z.tag=X,Z.dump=U||"{}"}function pg(Z,J,Q){var K,U,X,Y,q,W;U=Q?Z.explicitTypes:Z.implicitTypes;for(X=0,Y=U.length;X<Y;X+=1)if(q=U[X],(q.instanceOf||q.predicate)&&(!q.instanceOf||typeof J==="object"&&J instanceof q.instanceOf)&&(!q.predicate||q.predicate(J))){if(Q)if(q.multi&&q.representName)Z.tag=q.representName(J);else Z.tag=q.tag;else Z.tag="?";if(q.represent){if(W=Z.styleMap[q.tag]||q.defaultStyle,OW0.call(q.represent)==="[object Function]")K=q.represent(J,W);else if(RW0.call(q.represent,W))K=q.represent[W](J,W);else throw new h6("!<"+q.tag+'> tag resolver accepts not "'+W+'" style');Z.dump=K}return!0}return!1}function AU(Z,J,Q,K,U,X,Y){if(Z.tag=null,Z.dump=Q,!pg(Z,Q,!1))pg(Z,Q,!0);var q=OW0.call(Z.dump),W=K,G;if(K)K=Z.flowLevel<0||Z.flowLevel>J;var z=q==="[object Object]"||q==="[object Array]",H,F;if(z)H=Z.duplicates.indexOf(Q),F=H!==-1;if(Z.tag!==null&&Z.tag!=="?"||F||Z.indent!==2&&J>0)U=!1;if(F&&Z.usedDuplicates[H])Z.dump="*ref_"+H;else{if(z&&F&&!Z.usedDuplicates[H])Z.usedDuplicates[H]=!0;if(q==="[object Object]"){if(K&&Object.keys(Z.dump).length!==0){if(yW0(Z,J,Z.dump,U),F)Z.dump="&ref_"+H+Z.dump}else if(bW0(Z,J,Z.dump),F)Z.dump="&ref_"+H+" "+Z.dump}else if(q==="[object Array]"){if(K&&Z.dump.length!==0){if(Z.noArrayIndent&&!Y&&J>0)gg(Z,J-1,Z.dump,U);else gg(Z,J,Z.dump,U);if(F)Z.dump="&ref_"+H+Z.dump}else if(xW0(Z,J,Z.dump),F)Z.dump="&ref_"+H+" "+Z.dump}else if(q==="[object String]"){if(Z.tag!=="?")_W0(Z,Z.dump,J,X,W)}else if(q==="[object Undefined]")return!1;else{if(Z.skipInvalid)return!1;throw new h6("unacceptable kind of an object to dump "+q)}if(Z.tag!==null&&Z.tag!=="?"){if(G=encodeURI(Z.tag[0]==="!"?Z.tag.slice(1):Z.tag).replace(/!/g,"%21"),Z.tag[0]==="!")G="!"+G;else if(G.slice(0,18)==="tag:yaml.org,2002:")G="!!"+G.slice(18);else G="!<"+G+">";Z.dump=G+" "+Z.dump}}return!0}function hW0(Z,J){var Q=[],K=[],U,X;rP(Z,Q,K);for(U=0,X=K.length;U<X;U+=1)J.duplicates.push(Q[K[U]]);J.usedDuplicates=Array(X)}function rP(Z,J,Q){var K,U,X;if(Z!==null&&typeof Z==="object")if(U=J.indexOf(Z),U!==-1){if(Q.indexOf(U)===-1)Q.push(U)}else if(J.push(Z),Array.isArray(Z))for(U=0,X=Z.length;U<X;U+=1)rP(Z[U],J,Q);else{K=Object.keys(Z);for(U=0,X=K.length;U<X;U+=1)rP(Z[K[U]],J,Q)}}function mW0(Z,J){J=J||{};var Q=new PW0(J);if(!Q.noRefs)hW0(Z,Q);var K=Z;if(Q.replacer)K=Q.replacer.call({"":K},"",K);if(AU(Q,0,K,!0,!0))return Q.dump+`
`;return""}function oP(Z,J){return function(){throw Error("Function yaml."+Z+" is removed in js-yaml 4. Use yaml."+J+" instead, which is now safe by default.")}}var DQ8,IQ8,AQ8,NQ8,EQ8,VQ8,L7,h6,PQ8,CQ8,jQ8,PQ,SQ8,TQ8,wQ8,$Q8,kQ8,_Q8,fQ8,vQ8,xQ8,bQ8,yQ8,Sq0,hQ8,Tq0,wq0,mQ8,uQ8,dg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,gQ8,pQ8,cQ8,lQ8,dQ8,iQ8,sQ8,rQ8,lq0,$1,lP=1,dq0=2,iq0=3,dP=4,Sg=1,nQ8=2,Zq0=3,aQ8,oQ8,tQ8,sq0,rq0,eq0,ZW0,kG,Jq0,eQ8,Z68,BW0,OW0,RW0,rg=65279,J68=9,a3=10,Q68=13,K68=32,U68=33,X68=34,fg=35,Y68=37,q68=38,W68=39,G68=42,LW0=44,z68=45,iP=58,H68=61,F68=62,M68=63,B68=64,DW0=91,IW0=93,O68=96,AW0=123,R68=124,NW0=125,CQ,L68,D68,I68=1,o3=2,TW0=1,yg=2,wW0=3,$W0=4,L2=5,A68,N68,k1,_1,S4Z,T4Z,w4Z,$4Z,k4Z;var ZL=f(()=>{AZ();I(cg,"isNothing");I(Qq0,"isObject");I(Kq0,"toArray");I(Uq0,"extend");I(Xq0,"repeat");I(Yq0,"isNegativeZero");DQ8=cg,IQ8=Qq0,AQ8=Kq0,NQ8=Xq0,EQ8=Yq0,VQ8=Uq0,L7={isNothing:DQ8,isObject:IQ8,toArray:AQ8,repeat:NQ8,isNegativeZero:EQ8,extend:VQ8};I(lg,"formatError");I(I2,"YAMLException$1");I2.prototype=Object.create(Error.prototype);I2.prototype.constructor=I2;I2.prototype.toString=I(function(J){return this.name+": "+lg(this,J)},"toString");h6=I2;I(gP,"getLine");I(pP,"padStart");I(qq0,"makeSnippet");PQ8=qq0,CQ8=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],jQ8=["scalar","sequence","mapping"];I(Wq0,"compileStyleAliases");I(Gq0,"Type$1");PQ=Gq0;I(Tg,"compileList");I(zq0,"compileMap");I(cP,"Schema$1");cP.prototype.extend=I(function(J){var Q=[],K=[];if(J instanceof PQ)K.push(J);else if(Array.isArray(J))K=K.concat(J);else if(J&&(Array.isArray(J.implicit)||Array.isArray(J.explicit))){if(J.implicit)Q=Q.concat(J.implicit);if(J.explicit)K=K.concat(J.explicit)}else throw new h6("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Q.forEach(function(X){if(!(X instanceof PQ))throw new h6("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(X.loadKind&&X.loadKind!=="scalar")throw new h6("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(X.multi)throw new h6("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),K.forEach(function(X){if(!(X instanceof PQ))throw new h6("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var U=Object.create(cP.prototype);return U.implicit=(this.implicit||[]).concat(Q),U.explicit=(this.explicit||[]).concat(K),U.compiledImplicit=Tg(U,"implicit"),U.compiledExplicit=Tg(U,"explicit"),U.compiledTypeMap=zq0(U.compiledImplicit,U.compiledExplicit),U},"extend");SQ8=cP,TQ8=new PQ("tag:yaml.org,2002:str",{kind:"scalar",construct:I(function(Z){return Z!==null?Z:""},"construct")}),wQ8=new PQ("tag:yaml.org,2002:seq",{kind:"sequence",construct:I(function(Z){return Z!==null?Z:[]},"construct")}),$Q8=new PQ("tag:yaml.org,2002:map",{kind:"mapping",construct:I(function(Z){return Z!==null?Z:{}},"construct")}),kQ8=new SQ8({explicit:[TQ8,wQ8,$Q8]});I(Hq0,"resolveYamlNull");I(Fq0,"constructYamlNull");I(Mq0,"isNull");_Q8=new PQ("tag:yaml.org,2002:null",{kind:"scalar",resolve:Hq0,construct:Fq0,predicate:Mq0,represent:{canonical:I(function(){return"~"},"canonical"),lowercase:I(function(){return"null"},"lowercase"),uppercase:I(function(){return"NULL"},"uppercase"),camelcase:I(function(){return"Null"},"camelcase"),empty:I(function(){return""},"empty")},defaultStyle:"lowercase"});I(Bq0,"resolveYamlBoolean");I(Oq0,"constructYamlBoolean");I(Rq0,"isBoolean");fQ8=new PQ("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Bq0,construct:Oq0,predicate:Rq0,represent:{lowercase:I(function(Z){return Z?"true":"false"},"lowercase"),uppercase:I(function(Z){return Z?"TRUE":"FALSE"},"uppercase"),camelcase:I(function(Z){return Z?"True":"False"},"camelcase")},defaultStyle:"lowercase"});I(Lq0,"isHexCode");I(Dq0,"isOctCode");I(Iq0,"isDecCode");I(Aq0,"resolveYamlInteger");I(Nq0,"constructYamlInteger");I(Eq0,"isInteger");vQ8=new PQ("tag:yaml.org,2002:int",{kind:"scalar",resolve:Aq0,construct:Nq0,predicate:Eq0,represent:{binary:I(function(Z){return Z>=0?"0b"+Z.toString(2):"-0b"+Z.toString(2).slice(1)},"binary"),octal:I(function(Z){return Z>=0?"0o"+Z.toString(8):"-0o"+Z.toString(8).slice(1)},"octal"),decimal:I(function(Z){return Z.toString(10)},"decimal"),hexadecimal:I(function(Z){return Z>=0?"0x"+Z.toString(16).toUpperCase():"-0x"+Z.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),xQ8=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");I(Vq0,"resolveYamlFloat");I(Pq0,"constructYamlFloat");bQ8=/^[-+]?[0-9]+e/;I(Cq0,"representYamlFloat");I(jq0,"isFloat");yQ8=new PQ("tag:yaml.org,2002:float",{kind:"scalar",resolve:Vq0,construct:Pq0,predicate:jq0,represent:Cq0,defaultStyle:"lowercase"}),Sq0=kQ8.extend({implicit:[_Q8,fQ8,vQ8,yQ8]}),hQ8=Sq0,Tq0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wq0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");I($q0,"resolveYamlTimestamp");I(kq0,"constructYamlTimestamp");I(_q0,"representYamlTimestamp");mQ8=new PQ("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$q0,construct:kq0,instanceOf:Date,represent:_q0});I(fq0,"resolveYamlMerge");uQ8=new PQ("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fq0});I(vq0,"resolveYamlBinary");I(xq0,"constructYamlBinary");I(bq0,"representYamlBinary");I(yq0,"isBinary");gQ8=new PQ("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vq0,construct:xq0,predicate:yq0,represent:bq0}),pQ8=Object.prototype.hasOwnProperty,cQ8=Object.prototype.toString;I(hq0,"resolveYamlOmap");I(mq0,"constructYamlOmap");lQ8=new PQ("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hq0,construct:mq0}),dQ8=Object.prototype.toString;I(uq0,"resolveYamlPairs");I(gq0,"constructYamlPairs");iQ8=new PQ("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:uq0,construct:gq0}),sQ8=Object.prototype.hasOwnProperty;I(pq0,"resolveYamlSet");I(cq0,"constructYamlSet");rQ8=new PQ("tag:yaml.org,2002:set",{kind:"mapping",resolve:pq0,construct:cq0}),lq0=hQ8.extend({implicit:[mQ8,uQ8],explicit:[gQ8,lQ8,iQ8,rQ8]}),$1=Object.prototype.hasOwnProperty,aQ8=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oQ8=/[\x85\u2028\u2029]/,tQ8=/[,\[\]\{\}]/,sq0=/^(?:!|!!|![a-z\-]+!)$/i,rq0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;I(wg,"_class");I(M5,"is_EOL");I(w1,"is_WHITE_SPACE");I(eQ,"is_WS_OR_EOL");I(_G,"is_FLOW_INDICATOR");I(nq0,"fromHexCode");I(aq0,"escapedHexLen");I(oq0,"fromDecimalCode");I($g,"simpleEscapeSequence");I(tq0,"charFromCodepoint");eq0=Array(256),ZW0=Array(256);for(kG=0;kG<256;kG++)eq0[kG]=$g(kG)?1:0,ZW0[kG]=$g(kG);I(JW0,"State$1");I(ig,"generateError");I(UZ,"throwError");I(n3,"throwWarning");Jq0={YAML:I(function(J,Q,K){var U,X,Y;if(J.version!==null)UZ(J,"duplication of %YAML directive");if(K.length!==1)UZ(J,"YAML directive accepts exactly one argument");if(U=/^([0-9]+)\.([0-9]+)$/.exec(K[0]),U===null)UZ(J,"ill-formed argument of the YAML directive");if(X=parseInt(U[1],10),Y=parseInt(U[2],10),X!==1)UZ(J,"unacceptable YAML version of the document");if(J.version=K[0],J.checkLineBreaks=Y<2,Y!==1&&Y!==2)n3(J,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:I(function(J,Q,K){var U,X;if(K.length!==2)UZ(J,"TAG directive accepts exactly two arguments");if(U=K[0],X=K[1],!sq0.test(U))UZ(J,"ill-formed tag handle (first argument) of the TAG directive");if($1.call(J.tagMap,U))UZ(J,'there is a previously declared suffix for "'+U+'" tag handle');if(!rq0.test(X))UZ(J,"ill-formed tag prefix (second argument) of the TAG directive");try{X=decodeURIComponent(X)}catch(Y){UZ(J,"tag prefix is malformed: "+X)}J.tagMap[U]=X},"handleTagDirective")};I(UY,"captureSegment");I(kg,"mergeMappings");I(fG,"storeMappingPair");I(nP,"readLineBreak");I(rJ,"skipSeparationSpace");I(e3,"testDocumentSeparator");I(aP,"writeFoldedLines");I(QW0,"readPlainScalar");I(KW0,"readSingleQuotedScalar");I(UW0,"readDoubleQuotedScalar");I(XW0,"readFlowCollection");I(YW0,"readBlockScalar");I(_g,"readBlockSequence");I(qW0,"readBlockMapping");I(WW0,"readTagProperty");I(GW0,"readAnchorProperty");I(zW0,"readAlias");I(vG,"composeNode");I(HW0,"readDocument");I(sg,"loadDocuments");I(FW0,"loadAll$1");I(MW0,"load$1");eQ8=FW0,Z68=MW0,BW0={loadAll:eQ8,load:Z68},OW0=Object.prototype.toString,RW0=Object.prototype.hasOwnProperty,CQ={};CQ[0]="\\0";CQ[7]="\\a";CQ[8]="\\b";CQ[9]="\\t";CQ[10]="\\n";CQ[11]="\\v";CQ[12]="\\f";CQ[13]="\\r";CQ[27]="\\e";CQ[34]="\\\"";CQ[92]="\\\\";CQ[133]="\\N";CQ[160]="\\_";CQ[8232]="\\L";CQ[8233]="\\P";L68=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],D68=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;I(EW0,"compileStyleMap");I(VW0,"encodeHex");I(PW0,"State");I(vg,"indentString");I(sP,"generateNextLine");I(CW0,"testImplicitResolving");I(t3,"isWhitespace");I(A2,"isPrintable");I(xg,"isNsCharOrWhitespace");I(bg,"isPlainSafe");I(jW0,"isPlainSafeFirst");I(SW0,"isPlainSafeLast");I(D2,"codePointAt");I(ng,"needIndentIndicator");I(kW0,"chooseScalarStyle");I(_W0,"writeScalar");I(hg,"blockHeader");I(mg,"dropEndingNewline");I(fW0,"foldString");I(ug,"foldLine");I(vW0,"escapeString");I(xW0,"writeFlowSequence");I(gg,"writeBlockSequence");I(bW0,"writeFlowMapping");I(yW0,"writeBlockMapping");I(pg,"detectType");I(AU,"writeNode");I(hW0,"getDuplicateReferences");I(rP,"inspectNode");I(mW0,"dump$1");A68=mW0,N68={dump:A68};I(oP,"renamed");k1=Sq0,_1=BW0.load,S4Z=BW0.loadAll,T4Z=N68.dump,w4Z=oP("safeLoad","load"),$4Z=oP("safeLoadAll","loadAll"),k4Z=oP("safeDump","dump");/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/});function JL(Z,J){if(Z===void 0||J===void 0)return{angle:0,deltaX:0,deltaY:0};Z=DJ(Z),J=DJ(J);let[Q,K]=[Z.x,Z.y],[U,X]=[J.x,J.y],Y=U-Q,q=X-K;return{angle:Math.atan(q/Y),deltaX:Y,deltaY:q}}var ZQ,ag,DJ,tP;var w4=f(()=>{AZ();ZQ={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},ag={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};I(JL,"calculateDeltaAndAngle");DJ=I((Z)=>{if(Array.isArray(Z))return{x:Z[0],y:Z[1]};return Z},"pointTransformer"),tP=I((Z)=>{return{x:I(function(J,Q,K){let U=0,X=DJ(K[0]).x<DJ(K[K.length-1]).x?"left":"right";if(Q===0&&Object.hasOwn(ZQ,Z.arrowTypeStart)){let{angle:M,deltaX:B}=JL(K[0],K[1]);U=ZQ[Z.arrowTypeStart]*Math.cos(M)*(B>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(ZQ,Z.arrowTypeEnd)){let{angle:M,deltaX:B}=JL(K[K.length-1],K[K.length-2]);U=ZQ[Z.arrowTypeEnd]*Math.cos(M)*(B>=0?1:-1)}let Y=Math.abs(DJ(J).x-DJ(K[K.length-1]).x),q=Math.abs(DJ(J).y-DJ(K[K.length-1]).y),W=Math.abs(DJ(J).x-DJ(K[0]).x),G=Math.abs(DJ(J).y-DJ(K[0]).y),z=ZQ[Z.arrowTypeStart],H=ZQ[Z.arrowTypeEnd],F=1;if(Y<H&&Y>0&&q<H){let M=H+F-Y;M*=X==="right"?-1:1,U-=M}if(W<z&&W>0&&G<z){let M=z+F-W;M*=X==="right"?-1:1,U+=M}return DJ(J).x+U},"x"),y:I(function(J,Q,K){let U=0,X=DJ(K[0]).y<DJ(K[K.length-1]).y?"down":"up";if(Q===0&&Object.hasOwn(ZQ,Z.arrowTypeStart)){let{angle:M,deltaY:B}=JL(K[0],K[1]);U=ZQ[Z.arrowTypeStart]*Math.abs(Math.sin(M))*(B>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(ZQ,Z.arrowTypeEnd)){let{angle:M,deltaY:B}=JL(K[K.length-1],K[K.length-2]);U=ZQ[Z.arrowTypeEnd]*Math.abs(Math.sin(M))*(B>=0?1:-1)}let Y=Math.abs(DJ(J).y-DJ(K[K.length-1]).y),q=Math.abs(DJ(J).x-DJ(K[K.length-1]).x),W=Math.abs(DJ(J).y-DJ(K[0]).y),G=Math.abs(DJ(J).x-DJ(K[0]).x),z=ZQ[Z.arrowTypeStart],H=ZQ[Z.arrowTypeEnd],F=1;if(Y<H&&Y>0&&q<H){let M=H+F-Y;M*=X==="up"?-1:1,U-=M}if(W<z&&W>0&&G<z){let M=z+F-W;M*=X==="up"?-1:1,U+=M}return DJ(J).y+U},"y")}},"getLineFunctionsWithOffset")});var XY;var Z6=f(()=>{AZ();XY=I(({flowchart:Z})=>{let J=Z?.subGraphTitleMargin?.top??0,Q=Z?.subGraphTitleMargin?.bottom??0,K=J+Q;return{subGraphTitleTopMargin:J,subGraphTitleBottomMargin:Q,subGraphTitleTotalMargin:K}},"getSubGraphTitleMargins")});var uW0,xG,E68,QL,y8,i8,V68;var J6=f(()=>{yZ();AZ();uW0=I((Z)=>{let{handDrawnSeed:J}=E0();return{fill:Z,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:0.7,stroke:Z,seed:J}},"solidStateFill"),xG=I((Z)=>{let J=E68([...Z.cssCompiledStyles||[],...Z.cssStyles||[],...Z.labelStyle||[]]);return{stylesMap:J,stylesArray:[...J]}},"compileStyles"),E68=I((Z)=>{let J=new Map;return Z.forEach((Q)=>{let[K,U]=Q.split(":");J.set(K.trim(),U?.trim())}),J},"styles2Map"),QL=I((Z)=>{return Z==="color"||Z==="font-size"||Z==="font-family"||Z==="font-weight"||Z==="font-style"||Z==="text-decoration"||Z==="text-align"||Z==="text-transform"||Z==="line-height"||Z==="letter-spacing"||Z==="word-spacing"||Z==="text-shadow"||Z==="text-overflow"||Z==="white-space"||Z==="word-wrap"||Z==="word-break"||Z==="overflow-wrap"||Z==="hyphens"},"isLabelStyle"),y8=I((Z)=>{let{stylesArray:J}=xG(Z),Q=[],K=[],U=[],X=[];return J.forEach((Y)=>{let q=Y[0];if(QL(q))Q.push(Y.join(":")+" !important");else{if(K.push(Y.join(":")+" !important"),q.includes("stroke"))U.push(Y.join(":")+" !important");if(q==="fill")X.push(Y.join(":")+" !important")}}),{labelStyles:Q.join(";"),nodeStyles:K.join(";"),stylesArray:J,borderStyles:U,backgroundStyles:X}},"styles2String"),i8=I((Z,J)=>{let{themeVariables:Q,handDrawnSeed:K}=E0(),{nodeBorder:U,mainBkg:X}=Q,{stylesMap:Y}=xG(Z);return Object.assign({roughness:0.7,fill:Y.get("fill")||X,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:Y.get("stroke")||U,seed:K,strokeWidth:Y.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:V68(Y.get("stroke-dasharray"))},J)},"userNodeOverrides"),V68=I((Z)=>{if(!Z)return[0,0];let J=Z.trim().split(/\s+/).map(Number);if(J.length===1){let U=isNaN(J[0])?0:J[0];return[U,U]}let Q=isNaN(J[0])?0:J[0],K=isNaN(J[1])?0:J[1];return[Q,K]},"getStrokeDashArray")});var cW0=u9((gW0)=>{Object.defineProperty(gW0,"__esModule",{value:!0});gW0.BLANK_URL=gW0.relativeFirstCharacters=gW0.whitespaceEscapeCharsRegex=gW0.urlSchemeRegex=gW0.ctrlCharactersRegex=gW0.htmlCtrlEntityRegex=gW0.htmlEntitiesRegex=gW0.invalidProtocolRegex=void 0;gW0.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;gW0.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;gW0.htmlCtrlEntityRegex=/&(newline|tab);/gi;gW0.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;gW0.urlSchemeRegex=/^.+(:|&colon;)/gim;gW0.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;gW0.relativeFirstCharacters=[".","/"];gW0.BLANK_URL="about:blank"});var N2=u9((dW0)=>{Object.defineProperty(dW0,"__esModule",{value:!0});dW0.sanitizeUrl=v68;var jQ=cW0();function k68(Z){return jQ.relativeFirstCharacters.indexOf(Z[0])>-1}function _68(Z){var J=Z.replace(jQ.ctrlCharactersRegex,"");return J.replace(jQ.htmlEntitiesRegex,function(Q,K){return String.fromCharCode(K)})}function f68(Z){return URL.canParse(Z)}function lW0(Z){try{return decodeURIComponent(Z)}catch(J){return Z}}function v68(Z){if(!Z)return jQ.BLANK_URL;var J,Q=lW0(Z.trim());do Q=_68(Q).replace(jQ.htmlCtrlEntityRegex,"").replace(jQ.ctrlCharactersRegex,"").replace(jQ.whitespaceEscapeCharsRegex,"").trim(),Q=lW0(Q),J=Q.match(jQ.ctrlCharactersRegex)||Q.match(jQ.htmlEntitiesRegex)||Q.match(jQ.htmlCtrlEntityRegex)||Q.match(jQ.whitespaceEscapeCharsRegex);while(J&&J.length>0);var K=Q;if(!K)return jQ.BLANK_URL;if(k68(K))return K;var U=K.trimStart(),X=U.match(jQ.urlSchemeRegex);if(!X)return K;var Y=X[0].toLowerCase().trim();if(jQ.invalidProtocolRegex.test(Y))return jQ.BLANK_URL;var q=U.replace(/\\/g,"/");if(Y==="mailto:"||Y.includes("://"))return q;if(Y==="http:"||Y==="https:"){if(!f68(q))return jQ.BLANK_URL;var W=new URL(q);return W.protocol=W.protocol.toLowerCase(),W.hostname=W.hostname.toLowerCase(),W.toString()}return q}});var b68,eP;var og=f(()=>{b68=typeof global=="object"&&global&&global.Object===Object&&global,eP=b68});var y68,h68,hJ;var qK=f(()=>{og();y68=typeof self=="object"&&self&&self.Object===Object&&self,h68=eP||y68||Function("return this")(),hJ=h68});var m68,_7;var bG=f(()=>{qK();m68=hJ.Symbol,_7=m68});function p68(Z){var J=u68.call(Z,KL),Q=Z[KL];try{Z[KL]=void 0;var K=!0}catch(X){}var U=g68.call(Z);if(K)if(J)Z[KL]=Q;else delete Z[KL];return U}var iW0,u68,g68,KL,sW0;var rW0=f(()=>{bG();iW0=Object.prototype,u68=iW0.hasOwnProperty,g68=iW0.toString,KL=_7?_7.toStringTag:void 0;sW0=p68});function d68(Z){return l68.call(Z)}var c68,l68,nW0;var aW0=f(()=>{c68=Object.prototype,l68=c68.toString;nW0=d68});function r68(Z){if(Z==null)return Z===void 0?s68:i68;return oW0&&oW0 in Object(Z)?sW0(Z):nW0(Z)}var i68="[object Null]",s68="[object Undefined]",oW0,Q6;var f1=f(()=>{bG();rW0();aW0();oW0=_7?_7.toStringTag:void 0;Q6=r68});function n68(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var IJ;var WK=f(()=>{IJ=n68});function Z48(Z){if(!IJ(Z))return!1;var J=Q6(Z);return J==o68||J==t68||J==a68||J==e68}var a68="[object AsyncFunction]",o68="[object Function]",t68="[object GeneratorFunction]",e68="[object Proxy]",NU;var UL=f(()=>{f1();WK();NU=Z48});var J48,ZC;var tW0=f(()=>{qK();J48=hJ["__core-js_shared__"],ZC=J48});function Q48(Z){return!!eW0&&eW0 in Z}var eW0,ZG0;var JG0=f(()=>{tW0();eW0=function(){var Z=/[^.]+$/.exec(ZC&&ZC.keys&&ZC.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();ZG0=Q48});function X48(Z){if(Z!=null){try{return U48.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var K48,U48,YY;var tg=f(()=>{K48=Function.prototype,U48=K48.toString;YY=X48});function M48(Z){if(!IJ(Z)||ZG0(Z))return!1;var J=NU(Z)?F48:q48;return J.test(YY(Z))}var Y48,q48,W48,G48,z48,H48,F48,QG0;var KG0=f(()=>{UL();JG0();WK();tg();Y48=/[\\^$.*+?()[\]{}|]/g,q48=/^\[object .+?Constructor\]$/,W48=Function.prototype,G48=Object.prototype,z48=W48.toString,H48=G48.hasOwnProperty,F48=RegExp("^"+z48.call(H48).replace(Y48,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");QG0=M48});function B48(Z,J){return Z==null?void 0:Z[J]}var UG0;var XG0=f(()=>{UG0=B48});function O48(Z,J){var Q=UG0(Z,J);return QG0(Q)?Q:void 0}var m6;var v1=f(()=>{KG0();XG0();m6=O48});var R48,qY;var XL=f(()=>{v1();R48=m6(Object,"create"),qY=R48});function L48(){this.__data__=qY?qY(null):{},this.size=0}var YG0;var qG0=f(()=>{XL();YG0=L48});function D48(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var WG0;var GG0=f(()=>{WG0=D48});function E48(Z){var J=this.__data__;if(qY){var Q=J[Z];return Q===I48?void 0:Q}return N48.call(J,Z)?J[Z]:void 0}var I48="__lodash_hash_undefined__",A48,N48,zG0;var HG0=f(()=>{XL();A48=Object.prototype,N48=A48.hasOwnProperty;zG0=E48});function C48(Z){var J=this.__data__;return qY?J[Z]!==void 0:P48.call(J,Z)}var V48,P48,FG0;var MG0=f(()=>{XL();V48=Object.prototype,P48=V48.hasOwnProperty;FG0=C48});function S48(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=qY&&J===void 0?j48:J,this}var j48="__lodash_hash_undefined__",BG0;var OG0=f(()=>{XL();BG0=S48});function E2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var eg;var RG0=f(()=>{qG0();GG0();HG0();MG0();OG0();E2.prototype.clear=YG0;E2.prototype.delete=WG0;E2.prototype.get=zG0;E2.prototype.has=FG0;E2.prototype.set=BG0;eg=E2});function T48(){this.__data__=[],this.size=0}var LG0;var DG0=f(()=>{LG0=T48});function w48(Z,J){return Z===J||Z!==Z&&J!==J}var GK;var yG=f(()=>{GK=w48});function $48(Z,J){var Q=Z.length;while(Q--)if(GK(Z[Q][0],J))return Q;return-1}var x1;var YL=f(()=>{yG();x1=$48});function f48(Z){var J=this.__data__,Q=x1(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else _48.call(J,Q,1);return--this.size,!0}var k48,_48,IG0;var AG0=f(()=>{YL();k48=Array.prototype,_48=k48.splice;IG0=f48});function v48(Z){var J=this.__data__,Q=x1(J,Z);return Q<0?void 0:J[Q][1]}var NG0;var EG0=f(()=>{YL();NG0=v48});function x48(Z){return x1(this.__data__,Z)>-1}var VG0;var PG0=f(()=>{YL();VG0=x48});function b48(Z,J){var Q=this.__data__,K=x1(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var CG0;var jG0=f(()=>{YL();CG0=b48});function V2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var b1;var qL=f(()=>{DG0();AG0();EG0();PG0();jG0();V2.prototype.clear=LG0;V2.prototype.delete=IG0;V2.prototype.get=NG0;V2.prototype.has=VG0;V2.prototype.set=CG0;b1=V2});var y48,y1;var JC=f(()=>{v1();qK();y48=m6(hJ,"Map"),y1=y48});function h48(){this.size=0,this.__data__={hash:new eg,map:new(y1||b1),string:new eg}}var SG0;var TG0=f(()=>{RG0();qL();JC();SG0=h48});function m48(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var wG0;var $G0=f(()=>{wG0=m48});function u48(Z,J){var Q=Z.__data__;return wG0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var h1;var WL=f(()=>{$G0();h1=u48});function g48(Z){var J=h1(this,Z).delete(Z);return this.size-=J?1:0,J}var kG0;var _G0=f(()=>{WL();kG0=g48});function p48(Z){return h1(this,Z).get(Z)}var fG0;var vG0=f(()=>{WL();fG0=p48});function c48(Z){return h1(this,Z).has(Z)}var xG0;var bG0=f(()=>{WL();xG0=c48});function l48(Z,J){var Q=h1(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var yG0;var hG0=f(()=>{WL();yG0=l48});function P2(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var hG;var QC=f(()=>{TG0();_G0();vG0();bG0();hG0();P2.prototype.clear=SG0;P2.prototype.delete=kG0;P2.prototype.get=fG0;P2.prototype.has=xG0;P2.prototype.set=yG0;hG=P2});function Zp(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(d48);var Q=function(){var K=arguments,U=J?J.apply(this,K):K[0],X=Q.cache;if(X.has(U))return X.get(U);var Y=Z.apply(this,K);return Q.cache=X.set(U,Y)||X,Y};return Q.cache=new(Zp.Cache||hG),Q}var d48="Expected a function",C2;var Jp=f(()=>{QC();Zp.Cache=hG;C2=Zp});function i48(){this.__data__=new b1,this.size=0}var mG0;var uG0=f(()=>{qL();mG0=i48});function s48(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var gG0;var pG0=f(()=>{gG0=s48});function r48(Z){return this.__data__.get(Z)}var cG0;var lG0=f(()=>{cG0=r48});function n48(Z){return this.__data__.has(Z)}var dG0;var iG0=f(()=>{dG0=n48});function o48(Z,J){var Q=this.__data__;if(Q instanceof b1){var K=Q.__data__;if(!y1||K.length<a48-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new hG(K)}return Q.set(Z,J),this.size=Q.size,this}var a48=200,sG0;var rG0=f(()=>{qL();JC();QC();sG0=o48});function j2(Z){var J=this.__data__=new b1(Z);this.size=J.size}var EU;var GL=f(()=>{qL();uG0();pG0();lG0();iG0();rG0();j2.prototype.clear=mG0;j2.prototype.delete=gG0;j2.prototype.get=cG0;j2.prototype.has=dG0;j2.prototype.set=sG0;EU=j2});var t48,S2;var Qp=f(()=>{v1();t48=function(){try{var Z=m6(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),S2=t48});function e48(Z,J,Q){if(J=="__proto__"&&S2)S2(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var m1;var zL=f(()=>{Qp();m1=e48});function ZK8(Z,J,Q){if(Q!==void 0&&!GK(Z[J],Q)||Q===void 0&&!(J in Z))m1(Z,J,Q)}var HL;var Kp=f(()=>{zL();yG();HL=ZK8});function JK8(Z){return function(J,Q,K){var U=-1,X=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++U];if(Q(X[W],W,X)===!1)break}return J}}var nG0;var aG0=f(()=>{nG0=JK8});var QK8,T2;var KC=f(()=>{aG0();QK8=nG0(),T2=QK8});var XC={};LZ(XC,{default:()=>FL});function UK8(Z,J){if(J)return Z.slice();var Q=Z.length,K=eG0?eG0(Q):new Z.constructor(Q);return Z.copy(K),K}var Zz0,oG0,KK8,tG0,eG0,FL;var Up=f(()=>{qK();Zz0=typeof XC=="object"&&XC&&!XC.nodeType&&XC,oG0=Zz0&&typeof UC=="object"&&UC&&!UC.nodeType&&UC,KK8=oG0&&oG0.exports===Zz0,tG0=KK8?hJ.Buffer:void 0,eG0=tG0?tG0.allocUnsafe:void 0;FL=UK8});var XK8,w2;var Xp=f(()=>{qK();XK8=hJ.Uint8Array,w2=XK8});function YK8(Z){var J=new Z.constructor(Z.byteLength);return new w2(J).set(new w2(Z)),J}var $2;var YC=f(()=>{Xp();$2=YK8});function qK8(Z,J){var Q=J?$2(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.length)}var qC;var Yp=f(()=>{YC();qC=qK8});function WK8(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}var WC;var qp=f(()=>{WC=WK8});var Jz0,GK8,Qz0;var Kz0=f(()=>{WK();Jz0=Object.create,GK8=function(){function Z(){}return function(J){if(!IJ(J))return{};if(Jz0)return Jz0(J);Z.prototype=J;var Q=new Z;return Z.prototype=void 0,Q}}(),Qz0=GK8});function zK8(Z,J){return function(Q){return Z(J(Q))}}var GC;var Wp=f(()=>{GC=zK8});var HK8,k2;var zC=f(()=>{Wp();HK8=GC(Object.getPrototypeOf,Object),k2=HK8});function MK8(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||FK8;return Z===Q}var FK8,u1;var ML=f(()=>{FK8=Object.prototype;u1=MK8});function BK8(Z){return typeof Z.constructor=="function"&&!u1(Z)?Qz0(k2(Z)):{}}var HC;var Gp=f(()=>{Kz0();zC();ML();HC=BK8});function OK8(Z){return Z!=null&&typeof Z=="object"}var nJ;var B5=f(()=>{nJ=OK8});function LK8(Z){return nJ(Z)&&Q6(Z)==RK8}var RK8="[object Arguments]",zp;var Uz0=f(()=>{f1();B5();zp=LK8});var Xz0,DK8,IK8,AK8,O5;var _2=f(()=>{Uz0();B5();Xz0=Object.prototype,DK8=Xz0.hasOwnProperty,IK8=Xz0.propertyIsEnumerable,AK8=zp(function(){return arguments}())?zp:function(Z){return nJ(Z)&&DK8.call(Z,"callee")&&!IK8.call(Z,"callee")},O5=AK8});var NK8,fZ;var Q7=f(()=>{NK8=Array.isArray,fZ=NK8});function VK8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=EK8}var EK8=9007199254740991,f2;var FC=f(()=>{f2=VK8});function PK8(Z){return Z!=null&&f2(Z.length)&&!NU(Z)}var f7;var VU=f(()=>{UL();FC();f7=PK8});function CK8(Z){return nJ(Z)&&f7(Z)}var MC;var Hp=f(()=>{VU();B5();MC=CK8});function jK8(){return!1}var Yz0;var qz0=f(()=>{Yz0=jK8});var OC={};LZ(OC,{default:()=>zK});var zz0,Wz0,SK8,Gz0,TK8,wK8,zK;var v2=f(()=>{qK();qz0();zz0=typeof OC=="object"&&OC&&!OC.nodeType&&OC,Wz0=zz0&&typeof BC=="object"&&BC&&!BC.nodeType&&BC,SK8=Wz0&&Wz0.exports===zz0,Gz0=SK8?hJ.Buffer:void 0,TK8=Gz0?Gz0.isBuffer:void 0,wK8=TK8||Yz0,zK=wK8});function xK8(Z){if(!nJ(Z)||Q6(Z)!=$K8)return!1;var J=k2(Z);if(J===null)return!0;var Q=fK8.call(J,"constructor")&&J.constructor;return typeof Q=="function"&&Q instanceof Q&&Hz0.call(Q)==vK8}var $K8="[object Object]",kK8,_K8,Hz0,fK8,vK8,Fz0;var Mz0=f(()=>{f1();zC();B5();kK8=Function.prototype,_K8=Object.prototype,Hz0=kK8.toString,fK8=_K8.hasOwnProperty,vK8=Hz0.call(Object);Fz0=xK8});function Y58(Z){return nJ(Z)&&f2(Z.length)&&!!YJ[Q6(Z)]}var bK8="[object Arguments]",yK8="[object Array]",hK8="[object Boolean]",mK8="[object Date]",uK8="[object Error]",gK8="[object Function]",pK8="[object Map]",cK8="[object Number]",lK8="[object Object]",dK8="[object RegExp]",iK8="[object Set]",sK8="[object String]",rK8="[object WeakMap]",nK8="[object ArrayBuffer]",aK8="[object DataView]",oK8="[object Float32Array]",tK8="[object Float64Array]",eK8="[object Int8Array]",Z58="[object Int16Array]",J58="[object Int32Array]",Q58="[object Uint8Array]",K58="[object Uint8ClampedArray]",U58="[object Uint16Array]",X58="[object Uint32Array]",YJ,Bz0;var Oz0=f(()=>{f1();FC();B5();YJ={};YJ[oK8]=YJ[tK8]=YJ[eK8]=YJ[Z58]=YJ[J58]=YJ[Q58]=YJ[K58]=YJ[U58]=YJ[X58]=!0;YJ[bK8]=YJ[yK8]=YJ[nK8]=YJ[hK8]=YJ[aK8]=YJ[mK8]=YJ[uK8]=YJ[gK8]=YJ[pK8]=YJ[cK8]=YJ[lK8]=YJ[dK8]=YJ[iK8]=YJ[sK8]=YJ[rK8]=!1;Bz0=Y58});function q58(Z){return function(J){return Z(J)}}var g1;var BL=f(()=>{g1=q58});var LC={};LZ(LC,{default:()=>PU});var Rz0,OL,W58,Fp,G58,PU;var DC=f(()=>{og();Rz0=typeof LC=="object"&&LC&&!LC.nodeType&&LC,OL=Rz0&&typeof RC=="object"&&RC&&!RC.nodeType&&RC,W58=OL&&OL.exports===Rz0,Fp=W58&&eP.process,G58=function(){try{var Z=OL&&OL.require&&OL.require("util").types;if(Z)return Z;return Fp&&Fp.binding&&Fp.binding("util")}catch(J){}}(),PU=G58});var Lz0,z58,p1;var RL=f(()=>{Oz0();BL();DC();Lz0=PU&&PU.isTypedArray,z58=Lz0?g1(Lz0):Bz0,p1=z58});function H58(Z,J){if(J==="constructor"&&typeof Z[J]==="function")return;if(J=="__proto__")return;return Z[J]}var LL;var Mp=f(()=>{LL=H58});function B58(Z,J,Q){var K=Z[J];if(!(M58.call(Z,J)&&GK(K,Q))||Q===void 0&&!(J in Z))m1(Z,J,Q)}var F58,M58,c1;var DL=f(()=>{zL();yG();F58=Object.prototype,M58=F58.hasOwnProperty;c1=B58});function O58(Z,J,Q,K){var U=!Q;Q||(Q={});var X=-1,Y=J.length;while(++X<Y){var q=J[X],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(U)m1(Q,q,W);else c1(Q,q,W)}return Q}var CU;var x2=f(()=>{DL();zL();CU=O58});function R58(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var Dz0;var Iz0=f(()=>{Dz0=R58});function I58(Z,J){var Q=typeof Z;return J=J==null?L58:J,!!J&&(Q=="number"||Q!="symbol"&&D58.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var L58=9007199254740991,D58,l1;var IL=f(()=>{D58=/^(?:0|[1-9]\d*)$/;l1=I58});function E58(Z,J){var Q=fZ(Z),K=!Q&&O5(Z),U=!Q&&!K&&zK(Z),X=!Q&&!K&&!U&&p1(Z),Y=Q||K||U||X,q=Y?Dz0(Z.length,String):[],W=q.length;for(var G in Z)if((J||N58.call(Z,G))&&!(Y&&(G=="length"||U&&(G=="offset"||G=="parent")||X&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||l1(G,W))))q.push(G);return q}var A58,N58,IC;var Bp=f(()=>{Iz0();_2();Q7();v2();IL();RL();A58=Object.prototype,N58=A58.hasOwnProperty;IC=E58});function V58(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var Az0;var Nz0=f(()=>{Az0=V58});function j58(Z){if(!IJ(Z))return Az0(Z);var J=u1(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!C58.call(Z,K))))Q.push(K);return Q}var P58,C58,Ez0;var Vz0=f(()=>{WK();ML();Nz0();P58=Object.prototype,C58=P58.hasOwnProperty;Ez0=j58});function S58(Z){return f7(Z)?IC(Z,!0):Ez0(Z)}var u6;var d1=f(()=>{Bp();Vz0();VU();u6=S58});function T58(Z){return CU(Z,u6(Z))}var Pz0;var Cz0=f(()=>{x2();d1();Pz0=T58});function w58(Z,J,Q,K,U,X,Y){var q=LL(Z,Q),W=LL(J,Q),G=Y.get(W);if(G){HL(Z,Q,G);return}var z=X?X(q,W,Q+"",Z,J,Y):void 0,H=z===void 0;if(H){var F=fZ(W),M=!F&&zK(W),B=!F&&!M&&p1(W);if(z=W,F||M||B)if(fZ(q))z=q;else if(MC(q))z=WC(q);else if(M)H=!1,z=FL(W,!0);else if(B)H=!1,z=qC(W,!0);else z=[];else if(Fz0(W)||O5(W)){if(z=q,O5(q))z=Pz0(q);else if(!IJ(q)||NU(q))z=HC(W)}else H=!1}if(H)Y.set(W,z),U(z,W,K,X,Y),Y.delete(W);HL(Z,Q,z)}var jz0;var Sz0=f(()=>{Kp();Up();Yp();qp();Gp();_2();Q7();Hp();v2();UL();WK();Mz0();RL();Mp();Cz0();jz0=w58});function Tz0(Z,J,Q,K,U){if(Z===J)return;T2(J,function(X,Y){if(U||(U=new EU),IJ(X))jz0(Z,J,Y,Q,Tz0,K,U);else{var q=K?K(LL(Z,Y),X,Y+"",Z,J,U):void 0;if(q===void 0)q=X;HL(Z,Y,q)}},u6)}var wz0;var $z0=f(()=>{GL();Kp();KC();Sz0();WK();d1();Mp();wz0=Tz0});function $58(Z){return Z}var g6;var i1=f(()=>{g6=$58});function k58(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var kz0;var _z0=f(()=>{kz0=k58});function _58(Z,J,Q){return J=fz0(J===void 0?Z.length-1:J,0),function(){var K=arguments,U=-1,X=fz0(K.length-J,0),Y=Array(X);while(++U<X)Y[U]=K[J+U];U=-1;var q=Array(J+1);while(++U<J)q[U]=K[U];return q[J]=Q(Y),kz0(Z,this,q)}}var fz0,AC;var Op=f(()=>{_z0();fz0=Math.max;AC=_58});function f58(Z){return function(){return Z}}var p6;var Rp=f(()=>{p6=f58});var v58,vz0;var xz0=f(()=>{Rp();Qp();i1();v58=!S2?g6:function(Z,J){return S2(Z,"toString",{configurable:!0,enumerable:!1,value:p6(J),writable:!0})},vz0=v58});function h58(Z){var J=0,Q=0;return function(){var K=y58(),U=b58-(K-Q);if(Q=K,U>0){if(++J>=x58)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var x58=800,b58=16,y58,bz0;var yz0=f(()=>{y58=Date.now;bz0=h58});var m58,NC;var Lp=f(()=>{xz0();yz0();m58=bz0(vz0),NC=m58});function u58(Z,J){return NC(AC(Z,J,g6),Z+"")}var s1;var AL=f(()=>{i1();Op();Lp();s1=u58});function g58(Z,J,Q){if(!IJ(Q))return!1;var K=typeof J;if(K=="number"?f7(Q)&&l1(J,Q.length):K=="string"&&(J in Q))return GK(Q[J],Z);return!1}var WY;var NL=f(()=>{yG();VU();IL();WK();WY=g58});function p58(Z){return s1(function(J,Q){var K=-1,U=Q.length,X=U>1?Q[U-1]:void 0,Y=U>2?Q[2]:void 0;if(X=Z.length>3&&typeof X=="function"?(U--,X):void 0,Y&&WY(Q[0],Q[1],Y))X=U<3?void 0:X,U=1;J=Object(J);while(++K<U){var q=Q[K];if(q)Z(J,q,K,X)}return J})}var hz0;var mz0=f(()=>{AL();NL();hz0=p58});var c58,r1;var Dp=f(()=>{$z0();mz0();c58=hz0(function(Z,J,Q){wz0(Z,J,Q)}),r1=c58});function VC(Z,J){if(!Z)return J;let Q=`curve${Z.charAt(0).toUpperCase()+Z.slice(1)}`;return l58[Q]??J}function dz0(Z,J){let Q=Z.trim();if(!Q)return;if(J.securityLevel!=="loose")return pz0.sanitizeUrl(Q);return Q}function Ap(Z,J){if(!Z||!J)return 0;return Math.sqrt(Math.pow(J.x-Z.x,2)+Math.pow(J.y-Z.y,2))}function iz0(Z){let J,Q=0;Z.forEach((U)=>{Q+=Ap(U,J),J=U});let K=Q/2;return Np(Z,K)}function sz0(Z){if(Z.length===1)return Z[0];return iz0(Z)}function rz0(Z,J,Q){let K=structuredClone(Q);if(Z0.info("our points",K),J!=="start_left"&&J!=="start_right")K.reverse();let U=25+Z,X=Np(K,U),Y=10+Z*0.5,q=Math.atan2(K[0].y-X.y,K[0].x-X.x),W={x:0,y:0};if(J==="start_left")W.x=Math.sin(q+Math.PI)*Y+(K[0].x+X.x)/2,W.y=-Math.cos(q+Math.PI)*Y+(K[0].y+X.y)/2;else if(J==="end_right")W.x=Math.sin(q-Math.PI)*Y+(K[0].x+X.x)/2-5,W.y=-Math.cos(q-Math.PI)*Y+(K[0].y+X.y)/2-5;else if(J==="end_left")W.x=Math.sin(q)*Y+(K[0].x+X.x)/2-5,W.y=-Math.cos(q)*Y+(K[0].y+X.y)/2-5;else W.x=Math.sin(q)*Y+(K[0].x+X.x)/2,W.y=-Math.cos(q)*Y+(K[0].y+X.y)/2;return W}function PC(Z){let J="",Q="";for(let K of Z)if(K!==void 0)if(K.startsWith("color:")||K.startsWith("text-align:"))Q=Q+K+";";else J=J+K+";";return{style:J,labelStyle:Q}}function nz0(Z){let J="",Q="0123456789abcdef",K=Q.length;for(let U=0;U<Z;U++)J+=Q.charAt(Math.floor(Math.random()*K));return J}function EL(Z,J){return Cp(Z,J).height}function JQ(Z,J){return Cp(Z,J).width}function CC(Z){return"str"in Z}function wJ(Z,J){return r1({},Z,J)}function QQ(Z){return Z??null}function oz0(Z,J){let Q=Math.round(Z.x),K=Math.round(Z.y),U=J.replace(/(\d+\.\d+)/g,(X)=>Math.round(parseFloat(X)).toString());return U.includes(Q.toString())||U.includes(K.toString())}var pz0,Ip="",l58,d58,i58,cz0,lz0,s58,r58,uz0,Np,n58,gz0=0,Ep,Vp,a58,o58,Pp,t58,Cp,e58,EC,ZU8,JU8,jU,ZZ,az0,c6,SU;var w9=f(()=>{yZ();AZ();TZ();Jp();Dp();pz0=c7(N2(),1),l58={curveBasis:YK,curveBasisClosed:_P,curveBasisOpen:fP,curveBumpX:y3,curveBumpY:h3,curveBundle:Rg,curveCardinalClosed:Lg,curveCardinalOpen:Ig,curveCardinal:g3,curveCatmullRomClosed:Ng,curveCatmullRomOpen:Eg,curveCatmullRom:l3,curveLinear:KY,curveLinearClosed:hP,curveMonotoneX:d3,curveMonotoneY:i3,curveNatural:O2,curveStep:R2,curveStepAfter:r3,curveStepBefore:s3},d58=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,i58=I(function(Z,J){let Q=cz0(Z,/(?:init\b)|(?:initialize\b)/),K={};if(Array.isArray(Q)){let Y=Q.map((q)=>q.args);Z3(Y),K=KJ(K,[...Y])}else K=Q.args;if(!K)return;let U=J3(Z,J),X="config";if(K[X]!==void 0){if(U==="flowchart-v2")U="flowchart";K[U]=K[X],delete K[X]}return K},"detectInit"),cz0=I(function(Z,J=null){try{let Q=new RegExp(`[%]{2}(?![{]${d58.source})(?=[}][%]{2}).*
`,"ig");Z=Z.trim().replace(Q,"").replace(/'/gm,'"'),Z0.debug(`Detecting diagram directive${J!==null?" type:"+J:""} based on the text:${Z}`);let K,U=[];while((K=cH.exec(Z))!==null){if(K.index===cH.lastIndex)cH.lastIndex++;if(K&&!J||J&&K[1]?.match(J)||J&&K[2]?.match(J)){let X=K[1]?K[1]:K[2],Y=K[3]?K[3].trim():K[4]?JSON.parse(K[4].trim()):null;U.push({type:X,args:Y})}}if(U.length===0)return{type:Z,args:null};return U.length===1?U[0]:U}catch(Q){return Z0.error(`ERROR: ${Q.message} - Unable to parse directive type: '${J}' based on the text: '${Z}'`),{type:void 0,args:null}}},"detectDirective"),lz0=I(function(Z){return Z.replace(cH,"")},"removeDirectives"),s58=I(function(Z,J){for(let[Q,K]of J.entries())if(K.match(Z))return Q;return-1},"isSubstringInArray");I(VC,"interpolateToCurve");I(dz0,"formatUrl");r58=I((Z,...J)=>{let Q=Z.split("."),K=Q.length-1,U=Q[K],X=window;for(let Y=0;Y<K;Y++)if(X=X[Q[Y]],!X){Z0.error(`Function name: ${Z} not found in window`);return}X[U](...J)},"runFunc");I(Ap,"distance");I(iz0,"traverseEdge");I(sz0,"calcLabelPosition");uz0=I((Z,J=2)=>{let Q=Math.pow(10,J);return Math.round(Z*Q)/Q},"roundNumber"),Np=I((Z,J)=>{let Q=void 0,K=J;for(let U of Z){if(Q){let X=Ap(U,Q);if(X===0)return Q;if(X<K)K-=X;else{let Y=K/X;if(Y<=0)return Q;if(Y>=1)return{x:U.x,y:U.y};if(Y>0&&Y<1)return{x:uz0((1-Y)*Q.x+Y*U.x,5),y:uz0((1-Y)*Q.y+Y*U.y,5)}}}Q=U}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),n58=I((Z,J,Q)=>{if(Z0.info(`our points ${JSON.stringify(J)}`),J[0]!==Q)J=J.reverse();let U=Np(J,25),X=Z?10:5,Y=Math.atan2(J[0].y-U.y,J[0].x-U.x),q={x:0,y:0};return q.x=Math.sin(Y)*X+(J[0].x+U.x)/2,q.y=-Math.cos(Y)*X+(J[0].y+U.y)/2,q},"calcCardinalityPosition");I(rz0,"calcTerminalLabelPosition");I(PC,"getStylesFromArray");Ep=I(()=>{return gz0++,"id-"+Math.random().toString(36).substr(2,12)+"-"+gz0},"generateId");I(nz0,"makeRandomHex");Vp=I((Z)=>{return nz0(Z.length)},"random"),a58=I(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),o58=I(function(Z,J){let Q=J.text.replace(U8.lineBreakRegex," "),[,K]=jU(J.fontSize),U=Z.append("text");if(U.attr("x",J.x),U.attr("y",J.y),U.style("text-anchor",J.anchor),U.style("font-family",J.fontFamily),U.style("font-size",K),U.style("font-weight",J.fontWeight),U.attr("fill",J.fill),J.class!==void 0)U.attr("class",J.class);let X=U.append("tspan");return X.attr("x",J.x+J.textMargin*2),X.attr("fill",J.fill),X.text(Q),U},"drawSimpleText"),Pp=C2((Z,J,Q)=>{if(!Z)return Z;if(Q=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},Q),U8.lineBreakRegex.test(Z))return Z;let K=Z.split(" ").filter(Boolean),U=[],X="";return K.forEach((Y,q)=>{let W=JQ(`${Y} `,Q),G=JQ(X,Q);if(W>J){let{hyphenatedStrings:F,remainingWord:M}=t58(Y,J,"-",Q);U.push(X,...F),X=M}else if(G+W>=J)U.push(X),X=Y;else X=[X,Y].filter(Boolean).join(" ");if(q+1===K.length)U.push(X)}),U.filter((Y)=>Y!=="").join(Q.joinWith)},(Z,J,Q)=>`${Z}${J}${Q.fontSize}${Q.fontWeight}${Q.fontFamily}${Q.joinWith}`),t58=C2((Z,J,Q="-",K)=>{K=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},K);let U=[...Z],X=[],Y="";return U.forEach((q,W)=>{let G=`${Y}${q}`;if(JQ(G,K)>=J){let H=W+1,F=U.length===H,M=`${G}${Q}`;X.push(F?G:M),Y=""}else Y=G}),{hyphenatedStrings:X,remainingWord:Y}},(Z,J,Q="-",K)=>`${Z}${J}${Q}${K.fontSize}${K.fontWeight}${K.fontFamily}`);I(EL,"calculateTextHeight");I(JQ,"calculateTextWidth");Cp=C2((Z,J)=>{let{fontSize:Q=12,fontFamily:K="Arial",fontWeight:U=400}=J;if(!Z)return{width:0,height:0};let[,X]=jU(Q),Y=["sans-serif",K],q=Z.split(U8.lineBreakRegex),W=[],G=n0("body");if(!G.remove)return{width:0,height:0,lineHeight:0};let z=G.append("svg");for(let F of Y){let M=0,B={width:0,height:0,lineHeight:0};for(let O of q){let R=a58();R.text=O||Ip;let L=o58(z,R).style("font-size",X).style("font-weight",U).style("font-family",F),D=(L._groups||L)[0][0].getBBox();if(D.width===0&&D.height===0)throw Error("svg element not in render tree");B.width=Math.round(Math.max(B.width,D.width)),M=Math.round(D.height),B.height+=M,B.lineHeight=Math.round(Math.max(B.lineHeight,M))}W.push(B)}z.remove();let H=isNaN(W[1].height)||isNaN(W[1].width)||isNaN(W[1].lineHeight)||W[0].height>W[1].height&&W[0].width>W[1].width&&W[0].lineHeight>W[1].lineHeight?0:1;return W[H]},(Z,J)=>`${Z}${J.fontSize}${J.fontWeight}${J.fontFamily}`),e58=class{constructor(Z=!1,J){this.count=0,this.count=J?J.length:0,this.next=Z?()=>this.count++:()=>Date.now()}static{I(this,"InitIDGenerator")}},ZU8=I(function(Z){return EC=EC||document.createElement("div"),Z=escape(Z).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),EC.innerHTML=Z,unescape(EC.textContent)},"entityDecode");I(CC,"isDetailedError");JU8=I((Z,J,Q,K)=>{if(!K)return;let U=Z.node()?.getBBox();if(!U)return;Z.append("text").text(K).attr("text-anchor","middle").attr("x",U.x+U.width/2).attr("y",-Q).attr("class",J)},"insertTitle"),jU=I((Z)=>{if(typeof Z==="number")return[Z,Z+"px"];let J=parseInt(Z??"",10);if(Number.isNaN(J))return[void 0,void 0];else if(Z===String(J))return[J,Z+"px"];else return[J,Z]},"parseFontSize");I(wJ,"cleanAndMerge");ZZ={assignWithDepth:KJ,wrapLabel:Pp,calculateTextHeight:EL,calculateTextWidth:JQ,calculateTextDimensions:Cp,cleanAndMerge:wJ,detectInit:i58,detectDirective:cz0,isSubstringInArray:s58,interpolateToCurve:VC,calcLabelPosition:sz0,calcCardinalityPosition:n58,calcTerminalLabelPosition:rz0,formatUrl:dz0,getStylesFromArray:PC,generateId:Ep,random:Vp,runFunc:r58,entityDecode:ZU8,insertTitle:JU8,isLabelCoordinateInPath:oz0,parseFontSize:jU,InitIDGenerator:e58},az0=I(function(Z){let J=Z;return J=J.replace(/style.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/classDef.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/#\w+;/g,function(Q){let K=Q.substring(1,Q.length-1);if(/^\+?\d+$/.test(K))return""+K+"";else return""+K+""}),J},"encodeEntities"),c6=I(function(Z){return Z.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),SU=I((Z,J,{counter:Q=0,prefix:K,suffix:U},X)=>{if(X)return X;return`${K?`${K}_`:""}${Z}_${J}_${Q}${U?`_${U}`:""}`},"getEdgeId");I(QQ,"handleUndefinedAttr");I(oz0,"isLabelCoordinateInPath")});var QU8,b2,jp,tz0;var jC=f(()=>{QU8=Object.freeze({left:0,top:0,width:16,height:16}),b2=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),jp=Object.freeze({...QU8,...b2}),tz0=Object.freeze({...jp,body:"",hidden:!1})});var KU8,ez0;var ZH0=f(()=>{jC();KU8=Object.freeze({width:null,height:null}),ez0=Object.freeze({...KU8,...b2})});var Sp=(Z,J,Q,K="")=>{let U=Z.split(":");if(Z.slice(0,1)==="@"){if(U.length<2||U.length>3)return null;K=U.shift().slice(1)}if(U.length>3||!U.length)return null;if(U.length>1){let q=U.pop(),W=U.pop(),G={provider:U.length>0?U[0]:K,prefix:W,name:q};return J&&!SC(G)?null:G}let X=U[0],Y=X.split("-");if(Y.length>1){let q={provider:K,prefix:Y.shift(),name:Y.join("-")};return J&&!SC(q)?null:q}if(Q&&K===""){let q={provider:K,prefix:"",name:X};return J&&!SC(q,Q)?null:q}return null},SC=(Z,J)=>{if(!Z)return!1;return!!((J&&Z.prefix===""||!!Z.prefix)&&!!Z.name)};var JH0=()=>{};function QH0(Z,J){let Q={};if(!Z.hFlip!==!J.hFlip)Q.hFlip=!0;if(!Z.vFlip!==!J.vFlip)Q.vFlip=!0;let K=((Z.rotate||0)+(J.rotate||0))%4;if(K)Q.rotate=K;return Q}var KH0=()=>{};function Tp(Z,J){let Q=QH0(Z,J);for(let K in tz0)if(K in b2){if(K in Z&&!(K in Q))Q[K]=b2[K]}else if(K in J)Q[K]=J[K];else if(K in Z)Q[K]=Z[K];return Q}var UH0=f(()=>{jC();KH0()});function XH0(Z,J){let Q=Z.icons,K=Z.aliases||Object.create(null),U=Object.create(null);function X(Y){if(Q[Y])return U[Y]=[];if(!(Y in U)){U[Y]=null;let q=K[Y]&&K[Y].parent,W=q&&X(q);if(W)U[Y]=[q].concat(W)}return U[Y]}return(J||Object.keys(Q).concat(Object.keys(K))).forEach(X),U}var YH0=()=>{};function qH0(Z,J,Q){let K=Z.icons,U=Z.aliases||Object.create(null),X={};function Y(q){X=Tp(K[q]||U[q],X)}return Y(J),Q.forEach(Y),Tp(Z,X)}function wp(Z,J){if(Z.icons[J])return qH0(Z,J,[]);let Q=XH0(Z,[J])[J];return Q?qH0(Z,J,Q):null}var WH0=f(()=>{UH0();YH0()});function $p(Z,J,Q){if(J===1)return Z;if(Q=Q||100,typeof Z==="number")return Math.ceil(Z*J*Q)/Q;if(typeof Z!=="string")return Z;let K=Z.split(UU8);if(K===null||!K.length)return Z;let U=[],X=K.shift(),Y=XU8.test(X);while(!0){if(Y){let q=parseFloat(X);if(isNaN(q))U.push(X);else U.push(Math.ceil(q*J*Q)/Q)}else U.push(X);if(X=K.shift(),X===void 0)return U.join("");Y=!Y}}var UU8,XU8;var GH0=f(()=>{UU8=/(-?[0-9.]*[0-9]+[0-9.]*)/g,XU8=/^-?[0-9.]*[0-9]+[0-9.]*$/g});function YU8(Z,J="defs"){let Q="",K=Z.indexOf("<"+J);while(K>=0){let U=Z.indexOf(">",K),X=Z.indexOf("</"+J);if(U===-1||X===-1)break;let Y=Z.indexOf(">",X);if(Y===-1)break;Q+=Z.slice(U+1,X).trim(),Z=Z.slice(0,K).trim()+Z.slice(Y+1)}return{defs:Q,content:Z}}function qU8(Z,J){return Z?"<defs>"+Z+"</defs>"+J:J}function zH0(Z,J,Q){let K=YU8(Z);return qU8(K.defs,J+K.content+Q)}var HH0=()=>{};function kp(Z,J){let Q={...jp,...Z},K={...ez0,...J},U={left:Q.left,top:Q.top,width:Q.width,height:Q.height},X=Q.body;[Q,K].forEach((O)=>{let R=[],L=O.hFlip,D=O.vFlip,A=O.rotate;if(L)if(D)A+=2;else R.push("translate("+(U.width+U.left).toString()+" "+(0-U.top).toString()+")"),R.push("scale(-1 1)"),U.top=U.left=0;else if(D)R.push("translate("+(0-U.left).toString()+" "+(U.height+U.top).toString()+")"),R.push("scale(1 -1)"),U.top=U.left=0;let V;if(A<0)A-=Math.floor(A/4)*4;switch(A=A%4,A){case 1:V=U.height/2+U.top,R.unshift("rotate(90 "+V.toString()+" "+V.toString()+")");break;case 2:R.unshift("rotate(180 "+(U.width/2+U.left).toString()+" "+(U.height/2+U.top).toString()+")");break;case 3:V=U.width/2+U.left,R.unshift("rotate(-90 "+V.toString()+" "+V.toString()+")");break}if(A%2===1){if(U.left!==U.top)V=U.left,U.left=U.top,U.top=V;if(U.width!==U.height)V=U.width,U.width=U.height,U.height=V}if(R.length)X=zH0(X,'<g transform="'+R.join(" ")+'">',"</g>")});let{width:Y,height:q}=K,W=U.width,G=U.height,z,H;if(Y===null)H=q===null?"1em":q==="auto"?G:q,z=$p(H,W/G);else z=Y==="auto"?W:Y,H=q===null?$p(z,G/W):q==="auto"?G:q;let F={},M=(O,R)=>{if(!WU8(R))F[O]=R.toString()};M("width",z),M("height",H);let B=[U.left,U.top,W,G];return F.viewBox=B.join(" "),{attributes:F,viewBox:B,body:X}}var WU8=(Z)=>Z==="unset"||Z==="undefined"||Z==="none";var FH0=f(()=>{jC();ZH0();GH0();HH0()});function zU8(Z){Z=Z.replace(/[0-9]+$/,"")||"a";let J=MH0.get(Z)||0;return MH0.set(Z,J+1),J?`${Z}${J}`:Z}function _p(Z){let J=[],Q;while(Q=GU8.exec(Z))J.push(Q[1]);if(!J.length)return Z;let K="suffix"+(Math.random()*16777216|Date.now()).toString(16);return J.forEach((U)=>{let X=zU8(U),Y=U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Z=Z.replace(new RegExp('([#;"])('+Y+')([")]|\\.[a-z])',"g"),"$1"+X+K+"$3")}),Z=Z.replace(new RegExp(K,"g"),""),Z}var GU8,MH0;var BH0=f(()=>{GU8=/\sid="(\S+)"/g,MH0=new Map});function fp(Z,J){let Q=Z.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let K in J)Q+=" "+K+'="'+J[K]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+Q+">"+Z+"</svg>"}var OH0=()=>{};var RH0=f(()=>{JH0();WH0();FH0();BH0();OH0()});function xp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function VH0(Z){uG=Z}function L9(Z,J=""){let Q=typeof Z=="string"?Z:Z.source,K={replace:(U,X)=>{let Y=typeof X=="string"?X:X.source;return Y=Y.replace(K6.caret,"$1"),Q=Q.replace(U,Y),K},getRegex:()=>new RegExp(Q,J)};return K}function TU(Z,J){if(J){if(K6.escapeTest.test(Z))return Z.replace(K6.escapeReplace,IH0)}else if(K6.escapeTestNoEncode.test(Z))return Z.replace(K6.escapeReplaceNoEncode,IH0);return Z}function AH0(Z){try{Z=encodeURI(Z).replace(K6.percentDecode,"%")}catch{return null}return Z}function NH0(Z,J){let Q=Z.replace(K6.findPipe,(X,Y,q)=>{let W=!1,G=Y;for(;--G>=0&&q[G]==="\\";)W=!W;return W?"|":" |"}),K=Q.split(K6.splitPipe),U=0;if(K[0].trim()||K.shift(),K.length>0&&!K.at(-1)?.trim()&&K.pop(),J)if(K.length>J)K.splice(J);else for(;K.length<J;)K.push("");for(;U<K.length;U++)K[U]=K[U].trim().replace(K6.slashPipe,"|");return K}function PL(Z,J,Q){let K=Z.length;if(K===0)return"";let U=0;for(;U<K;){let X=Z.charAt(K-U-1);if(X===J&&!Q)U++;else if(X!==J&&Q)U++;else break}return Z.slice(0,K-U)}function dU8(Z,J){if(Z.indexOf(J[1])===-1)return-1;let Q=0;for(let K=0;K<Z.length;K++)if(Z[K]==="\\")K++;else if(Z[K]===J[0])Q++;else if(Z[K]===J[1]&&(Q--,Q<0))return K;return Q>0?-2:-1}function EH0(Z,J,Q,K,U){let X=J.href,Y=J.title||null,q=Z[1].replace(U.other.outputLinkReplace,"$1");K.state.inLink=!0;let W={type:Z[0].charAt(0)==="!"?"image":"link",raw:Q,href:X,title:Y,text:q,tokens:K.inlineTokens(q)};return K.state.inLink=!1,W}function iU8(Z,J,Q){let K=Z.match(Q.other.indentCodeCompensation);if(K===null)return J;let U=K[1];return J.split(`
`).map((X)=>{let Y=X.match(Q.other.beginningSpace);if(Y===null)return X;let[q]=Y;return q.length>=U.length?X.slice(U.length):X}).join(`
`)}function N9(Z,J){return mG.parse(Z,J)}var uG,jL,HU8,K6,FU8,MU8,BU8,SL,OU8,bp,PH0,CH0,RU8,yp,LU8,hp,DU8,IU8,_C="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mp,AU8,jH0,NU8,up,LH0,EU8,VU8,PU8,CU8,SH0,jU8,fC,gp,TH0,SU8,wH0,TU8,wU8,$U8,$H0,kU8,_U8,kH0="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",fU8,vU8,xU8,bU8,yU8,hU8,mU8,wC,uU8,_H0,fH0,gU8,DH0,pp,pU8,vp,cU8,TC,VL,lU8,IH0=(Z)=>lU8[Z],$C=class{options;rules;lexer;constructor(Z){this.options=Z||uG}space(Z){let J=this.rules.block.newline.exec(Z);if(J&&J[0].length>0)return{type:"space",raw:J[0]}}code(Z){let J=this.rules.block.code.exec(Z);if(J){let Q=J[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:this.options.pedantic?Q:PL(Q,`
`)}}}fences(Z){let J=this.rules.block.fences.exec(Z);if(J){let Q=J[0],K=iU8(Q,J[3]||"",this.rules);return{type:"code",raw:Q,lang:J[2]?J[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):J[2],text:K}}}heading(Z){let J=this.rules.block.heading.exec(Z);if(J){let Q=J[2].trim();if(this.rules.other.endingHash.test(Q)){let K=PL(Q,"#");(this.options.pedantic||!K||this.rules.other.endingSpaceChar.test(K))&&(Q=K.trim())}return{type:"heading",raw:J[0],depth:J[1].length,text:Q,tokens:this.lexer.inline(Q)}}}hr(Z){let J=this.rules.block.hr.exec(Z);if(J)return{type:"hr",raw:PL(J[0],`
`)}}blockquote(Z){let J=this.rules.block.blockquote.exec(Z);if(J){let Q=PL(J[0],`
`).split(`
`),K="",U="",X=[];for(;Q.length>0;){let Y=!1,q=[],W;for(W=0;W<Q.length;W++)if(this.rules.other.blockquoteStart.test(Q[W]))q.push(Q[W]),Y=!0;else if(!Y)q.push(Q[W]);else break;Q=Q.slice(W);let G=q.join(`
`),z=G.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");K=K?`${K}
${G}`:G,U=U?`${U}
${z}`:z;let H=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(z,X,!0),this.lexer.state.top=H,Q.length===0)break;let F=X.at(-1);if(F?.type==="code")break;if(F?.type==="blockquote"){let M=F,B=M.raw+`
`+Q.join(`
`),O=this.blockquote(B);X[X.length-1]=O,K=K.substring(0,K.length-M.raw.length)+O.raw,U=U.substring(0,U.length-M.text.length)+O.text;break}else if(F?.type==="list"){let M=F,B=M.raw+`
`+Q.join(`
`),O=this.list(B);X[X.length-1]=O,K=K.substring(0,K.length-F.raw.length)+O.raw,U=U.substring(0,U.length-M.raw.length)+O.raw,Q=B.substring(X.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:K,tokens:X,text:U}}}list(Z){let J=this.rules.block.list.exec(Z);if(J){let Q=J[1].trim(),K=Q.length>1,U={type:"list",raw:"",ordered:K,start:K?+Q.slice(0,-1):"",loose:!1,items:[]};Q=K?`\\d{1,9}\\${Q.slice(-1)}`:`\\${Q}`,this.options.pedantic&&(Q=K?Q:"[*+-]");let X=this.rules.other.listItemRegex(Q),Y=!1;for(;Z;){let W=!1,G="",z="";if(!(J=X.exec(Z))||this.rules.block.hr.test(Z))break;G=J[0],Z=Z.substring(G.length);let H=J[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,(L)=>" ".repeat(3*L.length)),F=Z.split(`
`,1)[0],M=!H.trim(),B=0;if(this.options.pedantic?(B=2,z=H.trimStart()):M?B=J[1].length+1:(B=J[2].search(this.rules.other.nonSpaceChar),B=B>4?1:B,z=H.slice(B),B+=J[1].length),M&&this.rules.other.blankLine.test(F)&&(G+=F+`
`,Z=Z.substring(F.length+1),W=!0),!W){let L=this.rules.other.nextBulletRegex(B),D=this.rules.other.hrRegex(B),A=this.rules.other.fencesBeginRegex(B),V=this.rules.other.headingBeginRegex(B),N=this.rules.other.htmlBeginRegex(B);for(;Z;){let E=Z.split(`
`,1)[0],C;if(F=E,this.options.pedantic?(F=F.replace(this.rules.other.listReplaceNesting,"  "),C=F):C=F.replace(this.rules.other.tabCharGlobal,"    "),A.test(F)||V.test(F)||N.test(F)||L.test(F)||D.test(F))break;if(C.search(this.rules.other.nonSpaceChar)>=B||!F.trim())z+=`
`+C.slice(B);else{if(M||H.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(H)||V.test(H)||D.test(H))break;z+=`
`+F}!M&&!F.trim()&&(M=!0),G+=E+`
`,Z=Z.substring(E.length+1),H=C.slice(B)}}U.loose||(Y?U.loose=!0:this.rules.other.doubleBlankLine.test(G)&&(Y=!0));let O=null,R;this.options.gfm&&(O=this.rules.other.listIsTask.exec(z),O&&(R=O[0]!=="[ ] ",z=z.replace(this.rules.other.listReplaceTask,""))),U.items.push({type:"list_item",raw:G,task:!!O,checked:R,loose:!1,text:z,tokens:[]}),U.raw+=G}let q=U.items.at(-1);if(q)q.raw=q.raw.trimEnd(),q.text=q.text.trimEnd();else return;U.raw=U.raw.trimEnd();for(let W=0;W<U.items.length;W++)if(this.lexer.state.top=!1,U.items[W].tokens=this.lexer.blockTokens(U.items[W].text,[]),!U.loose){let G=U.items[W].tokens.filter((H)=>H.type==="space"),z=G.length>0&&G.some((H)=>this.rules.other.anyLine.test(H.raw));U.loose=z}if(U.loose)for(let W=0;W<U.items.length;W++)U.items[W].loose=!0;return U}}html(Z){let J=this.rules.block.html.exec(Z);if(J)return{type:"html",block:!0,raw:J[0],pre:J[1]==="pre"||J[1]==="script"||J[1]==="style",text:J[0]}}def(Z){let J=this.rules.block.def.exec(Z);if(J){let Q=J[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),K=J[2]?J[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",U=J[3]?J[3].substring(1,J[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):J[3];return{type:"def",tag:Q,raw:J[0],href:K,title:U}}}table(Z){let J=this.rules.block.table.exec(Z);if(!J||!this.rules.other.tableDelimiter.test(J[2]))return;let Q=NH0(J[1]),K=J[2].replace(this.rules.other.tableAlignChars,"").split("|"),U=J[3]?.trim()?J[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],X={type:"table",raw:J[0],header:[],align:[],rows:[]};if(Q.length===K.length){for(let Y of K)this.rules.other.tableAlignRight.test(Y)?X.align.push("right"):this.rules.other.tableAlignCenter.test(Y)?X.align.push("center"):this.rules.other.tableAlignLeft.test(Y)?X.align.push("left"):X.align.push(null);for(let Y=0;Y<Q.length;Y++)X.header.push({text:Q[Y],tokens:this.lexer.inline(Q[Y]),header:!0,align:X.align[Y]});for(let Y of U)X.rows.push(NH0(Y,X.header.length).map((q,W)=>({text:q,tokens:this.lexer.inline(q),header:!1,align:X.align[W]})));return X}}lheading(Z){let J=this.rules.block.lheading.exec(Z);if(J)return{type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:this.lexer.inline(J[1])}}paragraph(Z){let J=this.rules.block.paragraph.exec(Z);if(J){let Q=J[1].charAt(J[1].length-1)===`
`?J[1].slice(0,-1):J[1];return{type:"paragraph",raw:J[0],text:Q,tokens:this.lexer.inline(Q)}}}text(Z){let J=this.rules.block.text.exec(Z);if(J)return{type:"text",raw:J[0],text:J[0],tokens:this.lexer.inline(J[0])}}escape(Z){let J=this.rules.inline.escape.exec(Z);if(J)return{type:"escape",raw:J[0],text:J[1]}}tag(Z){let J=this.rules.inline.tag.exec(Z);if(J)return!this.lexer.state.inLink&&this.rules.other.startATag.test(J[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(J[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(J[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(J[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:J[0]}}link(Z){let J=this.rules.inline.link.exec(Z);if(J){let Q=J[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(Q)){if(!this.rules.other.endAngleBracket.test(Q))return;let X=PL(Q.slice(0,-1),"\\");if((Q.length-X.length)%2===0)return}else{let X=dU8(J[2],"()");if(X===-2)return;if(X>-1){let Y=(J[0].indexOf("!")===0?5:4)+J[1].length+X;J[2]=J[2].substring(0,X),J[0]=J[0].substring(0,Y).trim(),J[3]=""}}let K=J[2],U="";if(this.options.pedantic){let X=this.rules.other.pedanticHrefTitle.exec(K);X&&(K=X[1],U=X[3])}else U=J[3]?J[3].slice(1,-1):"";return K=K.trim(),this.rules.other.startAngleBracket.test(K)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(Q)?K=K.slice(1):K=K.slice(1,-1)),EH0(J,{href:K&&K.replace(this.rules.inline.anyPunctuation,"$1"),title:U&&U.replace(this.rules.inline.anyPunctuation,"$1")},J[0],this.lexer,this.rules)}}reflink(Z,J){let Q;if((Q=this.rules.inline.reflink.exec(Z))||(Q=this.rules.inline.nolink.exec(Z))){let K=(Q[2]||Q[1]).replace(this.rules.other.multipleSpaceGlobal," "),U=J[K.toLowerCase()];if(!U){let X=Q[0].charAt(0);return{type:"text",raw:X,text:X}}return EH0(Q,U,Q[0],this.lexer,this.rules)}}emStrong(Z,J,Q=""){let K=this.rules.inline.emStrongLDelim.exec(Z);if(!K||K[3]&&Q.match(this.rules.other.unicodeAlphaNumeric))return;if(!(K[1]||K[2])||!Q||this.rules.inline.punctuation.exec(Q)){let U=[...K[0]].length-1,X,Y,q=U,W=0,G=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(G.lastIndex=0,J=J.slice(-1*Z.length+U);(K=G.exec(J))!=null;){if(X=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!X)continue;if(Y=[...X].length,K[3]||K[4]){q+=Y;continue}else if((K[5]||K[6])&&U%3&&!((U+Y)%3)){W+=Y;continue}if(q-=Y,q>0)continue;Y=Math.min(Y,Y+q+W);let z=[...K[0]][0].length,H=Z.slice(0,U+K.index+z+Y);if(Math.min(U,Y)%2){let M=H.slice(1,-1);return{type:"em",raw:H,text:M,tokens:this.lexer.inlineTokens(M)}}let F=H.slice(2,-2);return{type:"strong",raw:H,text:F,tokens:this.lexer.inlineTokens(F)}}}}codespan(Z){let J=this.rules.inline.code.exec(Z);if(J){let Q=J[2].replace(this.rules.other.newLineCharGlobal," "),K=this.rules.other.nonSpaceChar.test(Q),U=this.rules.other.startingSpaceChar.test(Q)&&this.rules.other.endingSpaceChar.test(Q);return K&&U&&(Q=Q.substring(1,Q.length-1)),{type:"codespan",raw:J[0],text:Q}}}br(Z){let J=this.rules.inline.br.exec(Z);if(J)return{type:"br",raw:J[0]}}del(Z){let J=this.rules.inline.del.exec(Z);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2])}}autolink(Z){let J=this.rules.inline.autolink.exec(Z);if(J){let Q,K;return J[2]==="@"?(Q=J[1],K="mailto:"+Q):(Q=J[1],K=Q),{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}url(Z){let J;if(J=this.rules.inline.url.exec(Z)){let Q,K;if(J[2]==="@")Q=J[0],K="mailto:"+Q;else{let U;do U=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])?.[0]??"";while(U!==J[0]);Q=J[0],J[1]==="www."?K="http://"+J[0]:K=J[0]}return{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}inlineText(Z){let J=this.rules.inline.text.exec(Z);if(J){let Q=this.lexer.state.inRawBlock;return{type:"text",raw:J[0],text:J[0],escaped:Q}}}},R5=class Z{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||uG,this.options.tokenizer=this.options.tokenizer||new $C,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Q={other:K6,block:TC.normal,inline:VL.normal};this.options.pedantic?(Q.block=TC.pedantic,Q.inline=VL.pedantic):this.options.gfm&&(Q.block=TC.gfm,this.options.breaks?Q.inline=VL.breaks:Q.inline=VL.gfm),this.tokenizer.rules=Q}static get rules(){return{block:TC,inline:VL}}static lex(J,Q){return new Z(Q).lex(J)}static lexInline(J,Q){return new Z(Q).inlineTokens(J)}lex(J){J=J.replace(K6.carriageReturn,`
`),this.blockTokens(J,this.tokens);for(let Q=0;Q<this.inlineQueue.length;Q++){let K=this.inlineQueue[Q];this.inlineTokens(K.src,K.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(J,Q=[],K=!1){for(this.options.pedantic&&(J=J.replace(K6.tabCharGlobal,"    ").replace(K6.spaceLine,""));J;){let U;if(this.options.extensions?.block?.some((Y)=>(U=Y.call({lexer:this},J,Q))?(J=J.substring(U.raw.length),Q.push(U),!0):!1))continue;if(U=this.tokenizer.space(J)){J=J.substring(U.raw.length);let Y=Q.at(-1);U.raw.length===1&&Y!==void 0?Y.raw+=`
`:Q.push(U);continue}if(U=this.tokenizer.code(J)){J=J.substring(U.raw.length);let Y=Q.at(-1);Y?.type==="paragraph"||Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+U.raw,Y.text+=`
`+U.text,this.inlineQueue.at(-1).src=Y.text):Q.push(U);continue}if(U=this.tokenizer.fences(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.heading(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.hr(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.blockquote(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.list(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.html(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.def(J)){J=J.substring(U.raw.length);let Y=Q.at(-1);Y?.type==="paragraph"||Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+U.raw,Y.text+=`
`+U.raw,this.inlineQueue.at(-1).src=Y.text):this.tokens.links[U.tag]||(this.tokens.links[U.tag]={href:U.href,title:U.title},Q.push(U));continue}if(U=this.tokenizer.table(J)){J=J.substring(U.raw.length),Q.push(U);continue}if(U=this.tokenizer.lheading(J)){J=J.substring(U.raw.length),Q.push(U);continue}let X=J;if(this.options.extensions?.startBlock){let Y=1/0,q=J.slice(1),W;this.options.extensions.startBlock.forEach((G)=>{W=G.call({lexer:this},q),typeof W=="number"&&W>=0&&(Y=Math.min(Y,W))}),Y<1/0&&Y>=0&&(X=J.substring(0,Y+1))}if(this.state.top&&(U=this.tokenizer.paragraph(X))){let Y=Q.at(-1);K&&Y?.type==="paragraph"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+U.raw,Y.text+=`
`+U.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Y.text):Q.push(U),K=X.length!==J.length,J=J.substring(U.raw.length);continue}if(U=this.tokenizer.text(J)){J=J.substring(U.raw.length);let Y=Q.at(-1);Y?.type==="text"?(Y.raw+=(Y.raw.endsWith(`
`)?"":`
`)+U.raw,Y.text+=`
`+U.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Y.text):Q.push(U);continue}if(J){let Y="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw Error(Y)}}return this.state.top=!0,Q}inline(J,Q=[]){return this.inlineQueue.push({src:J,tokens:Q}),Q}inlineTokens(J,Q=[]){let K=J,U=null;if(this.tokens.links){let W=Object.keys(this.tokens.links);if(W.length>0)for(;(U=this.tokenizer.rules.inline.reflinkSearch.exec(K))!=null;)W.includes(U[0].slice(U[0].lastIndexOf("[")+1,-1))&&(K=K.slice(0,U.index)+"["+"a".repeat(U[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(U=this.tokenizer.rules.inline.anyPunctuation.exec(K))!=null;)K=K.slice(0,U.index)+"++"+K.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let X;for(;(U=this.tokenizer.rules.inline.blockSkip.exec(K))!=null;)X=U[2]?U[2].length:0,K=K.slice(0,U.index+X)+"["+"a".repeat(U[0].length-X-2)+"]"+K.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);K=this.options.hooks?.emStrongMask?.call({lexer:this},K)??K;let Y=!1,q="";for(;J;){Y||(q=""),Y=!1;let W;if(this.options.extensions?.inline?.some((z)=>(W=z.call({lexer:this},J,Q))?(J=J.substring(W.raw.length),Q.push(W),!0):!1))continue;if(W=this.tokenizer.escape(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.tag(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.link(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.reflink(J,this.tokens.links)){J=J.substring(W.raw.length);let z=Q.at(-1);W.type==="text"&&z?.type==="text"?(z.raw+=W.raw,z.text+=W.text):Q.push(W);continue}if(W=this.tokenizer.emStrong(J,K,q)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.codespan(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.br(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.del(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(W=this.tokenizer.autolink(J)){J=J.substring(W.raw.length),Q.push(W);continue}if(!this.state.inLink&&(W=this.tokenizer.url(J))){J=J.substring(W.raw.length),Q.push(W);continue}let G=J;if(this.options.extensions?.startInline){let z=1/0,H=J.slice(1),F;this.options.extensions.startInline.forEach((M)=>{F=M.call({lexer:this},H),typeof F=="number"&&F>=0&&(z=Math.min(z,F))}),z<1/0&&z>=0&&(G=J.substring(0,z+1))}if(W=this.tokenizer.inlineText(G)){J=J.substring(W.raw.length),W.raw.slice(-1)!=="_"&&(q=W.raw.slice(-1)),Y=!0;let z=Q.at(-1);z?.type==="text"?(z.raw+=W.raw,z.text+=W.text):Q.push(W);continue}if(J){let z="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw Error(z)}}return Q}},kC=class{options;parser;constructor(Z){this.options=Z||uG}space(Z){return""}code({text:Z,lang:J,escaped:Q}){let K=(J||"").match(K6.notSpaceStart)?.[0],U=Z.replace(K6.endingNewline,"")+`
`;return K?'<pre><code class="language-'+TU(K)+'">'+(Q?U:TU(U,!0))+`</code></pre>
`:"<pre><code>"+(Q?U:TU(U,!0))+`</code></pre>
`}blockquote({tokens:Z}){return`<blockquote>
${this.parser.parse(Z)}</blockquote>
`}html({text:Z}){return Z}def(Z){return""}heading({tokens:Z,depth:J}){return`<h${J}>${this.parser.parseInline(Z)}</h${J}>
`}hr(Z){return`<hr>
`}list(Z){let{ordered:J,start:Q}=Z,K="";for(let Y=0;Y<Z.items.length;Y++){let q=Z.items[Y];K+=this.listitem(q)}let U=J?"ol":"ul",X=J&&Q!==1?' start="'+Q+'"':"";return"<"+U+X+`>
`+K+"</"+U+`>
`}listitem(Z){let J="";if(Z.task){let Q=this.checkbox({checked:!!Z.checked});Z.loose?Z.tokens[0]?.type==="paragraph"?(Z.tokens[0].text=Q+" "+Z.tokens[0].text,Z.tokens[0].tokens&&Z.tokens[0].tokens.length>0&&Z.tokens[0].tokens[0].type==="text"&&(Z.tokens[0].tokens[0].text=Q+" "+TU(Z.tokens[0].tokens[0].text),Z.tokens[0].tokens[0].escaped=!0)):Z.tokens.unshift({type:"text",raw:Q+" ",text:Q+" ",escaped:!0}):J+=Q+" "}return J+=this.parser.parse(Z.tokens,!!Z.loose),`<li>${J}</li>
`}checkbox({checked:Z}){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Z}){return`<p>${this.parser.parseInline(Z)}</p>
`}table(Z){let J="",Q="";for(let U=0;U<Z.header.length;U++)Q+=this.tablecell(Z.header[U]);J+=this.tablerow({text:Q});let K="";for(let U=0;U<Z.rows.length;U++){let X=Z.rows[U];Q="";for(let Y=0;Y<X.length;Y++)Q+=this.tablecell(X[Y]);K+=this.tablerow({text:Q})}return K&&(K=`<tbody>${K}</tbody>`),`<table>
<thead>
`+J+`</thead>
`+K+`</table>
`}tablerow({text:Z}){return`<tr>
${Z}</tr>
`}tablecell(Z){let J=this.parser.parseInline(Z.tokens),Q=Z.header?"th":"td";return(Z.align?`<${Q} align="${Z.align}">`:`<${Q}>`)+J+`</${Q}>
`}strong({tokens:Z}){return`<strong>${this.parser.parseInline(Z)}</strong>`}em({tokens:Z}){return`<em>${this.parser.parseInline(Z)}</em>`}codespan({text:Z}){return`<code>${TU(Z,!0)}</code>`}br(Z){return"<br>"}del({tokens:Z}){return`<del>${this.parser.parseInline(Z)}</del>`}link({href:Z,title:J,tokens:Q}){let K=this.parser.parseInline(Q),U=AH0(Z);if(U===null)return K;Z=U;let X='<a href="'+Z+'"';return J&&(X+=' title="'+TU(J)+'"'),X+=">"+K+"</a>",X}image({href:Z,title:J,text:Q,tokens:K}){K&&(Q=this.parser.parseInline(K,this.parser.textRenderer));let U=AH0(Z);if(U===null)return TU(Q);Z=U;let X=`<img src="${Z}" alt="${Q}"`;return J&&(X+=` title="${TU(J)}"`),X+=">",X}text(Z){return"tokens"in Z&&Z.tokens?this.parser.parseInline(Z.tokens):("escaped"in Z)&&Z.escaped?Z.text:TU(Z.text)}},cp=class{strong({text:Z}){return Z}em({text:Z}){return Z}codespan({text:Z}){return Z}del({text:Z}){return Z}html({text:Z}){return Z}text({text:Z}){return Z}link({text:Z}){return""+Z}image({text:Z}){return""+Z}br(){return""}},L5=class Z{options;renderer;textRenderer;constructor(J){this.options=J||uG,this.options.renderer=this.options.renderer||new kC,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new cp}static parse(J,Q){return new Z(Q).parse(J)}static parseInline(J,Q){return new Z(Q).parseInline(J)}parse(J,Q=!0){let K="";for(let U=0;U<J.length;U++){let X=J[U];if(this.options.extensions?.renderers?.[X.type]){let q=X,W=this.options.extensions.renderers[q.type].call({parser:this},q);if(W!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(q.type)){K+=W||"";continue}}let Y=X;switch(Y.type){case"space":{K+=this.renderer.space(Y);continue}case"hr":{K+=this.renderer.hr(Y);continue}case"heading":{K+=this.renderer.heading(Y);continue}case"code":{K+=this.renderer.code(Y);continue}case"table":{K+=this.renderer.table(Y);continue}case"blockquote":{K+=this.renderer.blockquote(Y);continue}case"list":{K+=this.renderer.list(Y);continue}case"html":{K+=this.renderer.html(Y);continue}case"def":{K+=this.renderer.def(Y);continue}case"paragraph":{K+=this.renderer.paragraph(Y);continue}case"text":{let q=Y,W=this.renderer.text(q);for(;U+1<J.length&&J[U+1].type==="text";)q=J[++U],W+=`
`+this.renderer.text(q);Q?K+=this.renderer.paragraph({type:"paragraph",raw:W,text:W,tokens:[{type:"text",raw:W,text:W,escaped:!0}]}):K+=W;continue}default:{let q='Token with "'+Y.type+'" type was not found.';if(this.options.silent)return console.error(q),"";throw Error(q)}}}return K}parseInline(J,Q=this.renderer){let K="";for(let U=0;U<J.length;U++){let X=J[U];if(this.options.extensions?.renderers?.[X.type]){let q=this.options.extensions.renderers[X.type].call({parser:this},X);if(q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(X.type)){K+=q||"";continue}}let Y=X;switch(Y.type){case"escape":{K+=Q.text(Y);break}case"html":{K+=Q.html(Y);break}case"link":{K+=Q.link(Y);break}case"image":{K+=Q.image(Y);break}case"strong":{K+=Q.strong(Y);break}case"em":{K+=Q.em(Y);break}case"codespan":{K+=Q.codespan(Y);break}case"br":{K+=Q.br(Y);break}case"del":{K+=Q.del(Y);break}case"text":{K+=Q.text(Y);break}default:{let q='Token with "'+Y.type+'" type was not found.';if(this.options.silent)return console.error(q),"";throw Error(q)}}}return K}},CL,sU8=class{defaults=xp();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=L5;Renderer=kC;TextRenderer=cp;Lexer=R5;Tokenizer=$C;Hooks=CL;constructor(...Z){this.use(...Z)}walkTokens(Z,J){let Q=[];for(let K of Z)switch(Q=Q.concat(J.call(this,K)),K.type){case"table":{let U=K;for(let X of U.header)Q=Q.concat(this.walkTokens(X.tokens,J));for(let X of U.rows)for(let Y of X)Q=Q.concat(this.walkTokens(Y.tokens,J));break}case"list":{let U=K;Q=Q.concat(this.walkTokens(U.items,J));break}default:{let U=K;this.defaults.extensions?.childTokens?.[U.type]?this.defaults.extensions.childTokens[U.type].forEach((X)=>{let Y=U[X].flat(1/0);Q=Q.concat(this.walkTokens(Y,J))}):U.tokens&&(Q=Q.concat(this.walkTokens(U.tokens,J)))}}return Q}use(...Z){let J=this.defaults.extensions||{renderers:{},childTokens:{}};return Z.forEach((Q)=>{let K={...Q};if(K.async=this.defaults.async||K.async||!1,Q.extensions&&(Q.extensions.forEach((U)=>{if(!U.name)throw Error("extension name required");if("renderer"in U){let X=J.renderers[U.name];X?J.renderers[U.name]=function(...Y){let q=U.renderer.apply(this,Y);return q===!1&&(q=X.apply(this,Y)),q}:J.renderers[U.name]=U.renderer}if("tokenizer"in U){if(!U.level||U.level!=="block"&&U.level!=="inline")throw Error("extension level must be 'block' or 'inline'");let X=J[U.level];X?X.unshift(U.tokenizer):J[U.level]=[U.tokenizer],U.start&&(U.level==="block"?J.startBlock?J.startBlock.push(U.start):J.startBlock=[U.start]:U.level==="inline"&&(J.startInline?J.startInline.push(U.start):J.startInline=[U.start]))}"childTokens"in U&&U.childTokens&&(J.childTokens[U.name]=U.childTokens)}),K.extensions=J),Q.renderer){let U=this.defaults.renderer||new kC(this.defaults);for(let X in Q.renderer){if(!(X in U))throw Error(`renderer '${X}' does not exist`);if(["options","parser"].includes(X))continue;let Y=X,q=Q.renderer[Y],W=U[Y];U[Y]=(...G)=>{let z=q.apply(U,G);return z===!1&&(z=W.apply(U,G)),z||""}}K.renderer=U}if(Q.tokenizer){let U=this.defaults.tokenizer||new $C(this.defaults);for(let X in Q.tokenizer){if(!(X in U))throw Error(`tokenizer '${X}' does not exist`);if(["options","rules","lexer"].includes(X))continue;let Y=X,q=Q.tokenizer[Y],W=U[Y];U[Y]=(...G)=>{let z=q.apply(U,G);return z===!1&&(z=W.apply(U,G)),z}}K.tokenizer=U}if(Q.hooks){let U=this.defaults.hooks||new CL;for(let X in Q.hooks){if(!(X in U))throw Error(`hook '${X}' does not exist`);if(["options","block"].includes(X))continue;let Y=X,q=Q.hooks[Y],W=U[Y];CL.passThroughHooks.has(X)?U[Y]=(G)=>{if(this.defaults.async&&CL.passThroughHooksRespectAsync.has(X))return(async()=>{let H=await q.call(U,G);return W.call(U,H)})();let z=q.call(U,G);return W.call(U,z)}:U[Y]=(...G)=>{if(this.defaults.async)return(async()=>{let H=await q.apply(U,G);return H===!1&&(H=await W.apply(U,G)),H})();let z=q.apply(U,G);return z===!1&&(z=W.apply(U,G)),z}}K.hooks=U}if(Q.walkTokens){let U=this.defaults.walkTokens,X=Q.walkTokens;K.walkTokens=function(Y){let q=[];return q.push(X.call(this,Y)),U&&(q=q.concat(U.call(this,Y))),q}}this.defaults={...this.defaults,...K}}),this}setOptions(Z){return this.defaults={...this.defaults,...Z},this}lexer(Z,J){return R5.lex(Z,J??this.defaults)}parser(Z,J){return L5.parse(Z,J??this.defaults)}parseMarkdown(Z){return(J,Q)=>{let K={...Q},U={...this.defaults,...K},X=this.onError(!!U.silent,!!U.async);if(this.defaults.async===!0&&K.async===!1)return X(Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof J>"u"||J===null)return X(Error("marked(): input parameter is undefined or null"));if(typeof J!="string")return X(Error("marked(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected"));if(U.hooks&&(U.hooks.options=U,U.hooks.block=Z),U.async)return(async()=>{let Y=U.hooks?await U.hooks.preprocess(J):J,q=await(U.hooks?await U.hooks.provideLexer():Z?R5.lex:R5.lexInline)(Y,U),W=U.hooks?await U.hooks.processAllTokens(q):q;U.walkTokens&&await Promise.all(this.walkTokens(W,U.walkTokens));let G=await(U.hooks?await U.hooks.provideParser():Z?L5.parse:L5.parseInline)(W,U);return U.hooks?await U.hooks.postprocess(G):G})().catch(X);try{U.hooks&&(J=U.hooks.preprocess(J));let Y=(U.hooks?U.hooks.provideLexer():Z?R5.lex:R5.lexInline)(J,U);U.hooks&&(Y=U.hooks.processAllTokens(Y)),U.walkTokens&&this.walkTokens(Y,U.walkTokens);let q=(U.hooks?U.hooks.provideParser():Z?L5.parse:L5.parseInline)(Y,U);return U.hooks&&(q=U.hooks.postprocess(q)),q}catch(Y){return X(Y)}}}onError(Z,J){return(Q)=>{if(Q.message+=`
Please report this to https://github.com/markedjs/marked.`,Z){let K="<p>An error occurred:</p><pre>"+TU(Q.message+"",!0)+"</pre>";return J?Promise.resolve(K):K}if(J)return Promise.reject(Q);throw Q}}},mG,U1Z,X1Z,Y1Z,q1Z,W1Z,G1Z,z1Z;var vH0=f(()=>{uG=xp();jL={exec:()=>null};HU8=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),K6={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(Z)=>new RegExp(`^( {0,3}${Z})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}#`),htmlBeginRegex:(Z)=>new RegExp(`^ {0,${Math.min(3,Z-1)}}<(?:[a-z].*>|!--)`,"i")},FU8=/^(?:[ \t]*(?:\n|$))+/,MU8=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,BU8=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,SL=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,OU8=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bp=/(?:[*+-]|\d{1,9}[.)])/,PH0=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,CH0=L9(PH0).replace(/bull/g,bp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),RU8=L9(PH0).replace(/bull/g,bp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),yp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,LU8=/^[^\n]+/,hp=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,DU8=L9(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),IU8=L9(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bp).getRegex(),mp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,AU8=L9("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",mp).replace("tag",_C).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jH0=L9(yp).replace("hr",SL).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_C).getRegex(),NU8=L9(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jH0).getRegex(),up={blockquote:NU8,code:MU8,def:DU8,fences:BU8,heading:OU8,hr:SL,html:AU8,lheading:CH0,list:IU8,newline:FU8,paragraph:jH0,table:jL,text:LU8},LH0=L9("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",SL).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_C).getRegex(),EU8={...up,lheading:RU8,table:LH0,paragraph:L9(yp).replace("hr",SL).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",LH0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_C).getRegex()},VU8={...up,html:L9(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jL,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:L9(yp).replace("hr",SL).replace("heading",` *#{1,6} *[^
]`).replace("lheading",CH0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},PU8=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,CU8=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,SH0=/^( {2,}|\\)\n(?!\s*$)/,jU8=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fC=/[\p{P}\p{S}]/u,gp=/[\s\p{P}\p{S}]/u,TH0=/[^\s\p{P}\p{S}]/u,SU8=L9(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,gp).getRegex(),wH0=/(?!~)[\p{P}\p{S}]/u,TU8=/(?!~)[\s\p{P}\p{S}]/u,wU8=/(?:[^\s\p{P}\p{S}]|~)/u,$U8=L9(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",HU8?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),$H0=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,kU8=L9($H0,"u").replace(/punct/g,fC).getRegex(),_U8=L9($H0,"u").replace(/punct/g,wH0).getRegex(),fU8=L9(kH0,"gu").replace(/notPunctSpace/g,TH0).replace(/punctSpace/g,gp).replace(/punct/g,fC).getRegex(),vU8=L9(kH0,"gu").replace(/notPunctSpace/g,wU8).replace(/punctSpace/g,TU8).replace(/punct/g,wH0).getRegex(),xU8=L9("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,TH0).replace(/punctSpace/g,gp).replace(/punct/g,fC).getRegex(),bU8=L9(/\\(punct)/,"gu").replace(/punct/g,fC).getRegex(),yU8=L9(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hU8=L9(mp).replace("(?:-->|$)","-->").getRegex(),mU8=L9("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hU8).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),wC=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uU8=L9(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",wC).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_H0=L9(/^!?\[(label)\]\[(ref)\]/).replace("label",wC).replace("ref",hp).getRegex(),fH0=L9(/^!?\[(ref)\](?:\[\])?/).replace("ref",hp).getRegex(),gU8=L9("reflink|nolink(?!\\()","g").replace("reflink",_H0).replace("nolink",fH0).getRegex(),DH0=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,pp={_backpedal:jL,anyPunctuation:bU8,autolink:yU8,blockSkip:$U8,br:SH0,code:CU8,del:jL,emStrongLDelim:kU8,emStrongRDelimAst:fU8,emStrongRDelimUnd:xU8,escape:PU8,link:uU8,nolink:fH0,punctuation:SU8,reflink:_H0,reflinkSearch:gU8,tag:mU8,text:jU8,url:jL},pU8={...pp,link:L9(/^!?\[(label)\]\((.*?)\)/).replace("label",wC).getRegex(),reflink:L9(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wC).getRegex()},vp={...pp,emStrongRDelimAst:vU8,emStrongLDelim:_U8,url:L9(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",DH0).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:L9(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",DH0).getRegex()},cU8={...vp,br:L9(SH0).replace("{2,}","*").getRegex(),text:L9(vp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},TC={normal:up,gfm:EU8,pedantic:VU8},VL={normal:pp,gfm:vp,breaks:cU8,pedantic:pU8},lU8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};CL=class{options;block;constructor(Z){this.options=Z||uG}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Z){return Z}postprocess(Z){return Z}processAllTokens(Z){return Z}emStrongMask(Z){return Z}provideLexer(){return this.block?R5.lex:R5.lexInline}provideParser(){return this.block?L5.parse:L5.parseInline}},mG=new sU8;N9.options=N9.setOptions=function(Z){return mG.setOptions(Z),N9.defaults=mG.defaults,VH0(N9.defaults),N9};N9.getDefaults=xp;N9.defaults=uG;N9.use=function(...Z){return mG.use(...Z),N9.defaults=mG.defaults,VH0(N9.defaults),N9};N9.walkTokens=function(Z,J){return mG.walkTokens(Z,J)};N9.parseInline=mG.parseInline;N9.Parser=L5;N9.parser=L5.parse;N9.Renderer=kC;N9.TextRenderer=cp;N9.Lexer=R5;N9.lexer=R5.lex;N9.Tokenizer=$C;N9.Hooks=CL;N9.parse=N9;U1Z=N9.options,X1Z=N9.setOptions,Y1Z=N9.use,q1Z=N9.walkTokens,W1Z=N9.parseInline,G1Z=L5.parse,z1Z=R5.lex});function vC(Z){var J=[];for(var Q=1;Q<arguments.length;Q++)J[Q-1]=arguments[Q];var K=Array.from(typeof Z==="string"?[Z]:Z);K[K.length-1]=K[K.length-1].replace(/\r?\n([\t ]*)$/,"");var U=K.reduce(function(q,W){var G=W.match(/\n([\t ]+|(?!\s).)/g);if(G)return q.concat(G.map(function(z){var H,F;return(F=(H=z.match(/[\t ]/g))===null||H===void 0?void 0:H.length)!==null&&F!==void 0?F:0}));return q},[]);if(U.length){var X=new RegExp(`
[	 ]{`+Math.min.apply(Math,U)+"}","g");K=K.map(function(q){return q.replace(X,`
`)})}K[0]=K[0].replace(/^\r?\n/,"");var Y=K[0];return J.forEach(function(q,W){var G=Y.match(/(?:^|\n)( *)$/),z=G?G[1]:"",H=q;if(typeof q==="string"&&q.includes(`
`))H=String(q).split(`
`).map(function(F,M){return M===0?F:""+z+F}).join(`
`);Y+=H+K[W+1]}),Y}var lp=()=>{};function yH0(Z,{markdownAutoWrap:J}){let K=Z.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),U=vC(K);if(J===!1)return U.replace(/ /g,"&nbsp;");return U}function hH0(Z,J={}){let Q=yH0(Z,J),K=N9.lexer(Q),U=[[]],X=0;function Y(q,W="normal"){if(q.type==="text")q.text.split(`
`).forEach((z,H)=>{if(H!==0)X++,U.push([]);z.split(" ").forEach((F)=>{if(F=F.replace(/&#39;/g,"'"),F)U[X].push({content:F,type:W})})});else if(q.type==="strong"||q.type==="em")q.tokens.forEach((G)=>{Y(G,q.type)});else if(q.type==="html")U[X].push({content:q.text,type:"normal"})}return I(Y,"processNode"),K.forEach((q)=>{if(q.type==="paragraph")q.tokens?.forEach((W)=>{Y(W)});else if(q.type==="html")U[X].push({content:q.text,type:"normal"});else U[X].push({content:q.raw,type:"normal"})}),U}function mH0(Z,{markdownAutoWrap:J}={}){let Q=N9.lexer(Z);function K(U){if(U.type==="text"){if(J===!1)return U.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;");return U.text.replace(/\n */g,"<br/>")}else if(U.type==="strong")return`<strong>${U.tokens?.map(K).join("")}</strong>`;else if(U.type==="em")return`<em>${U.tokens?.map(K).join("")}</em>`;else if(U.type==="paragraph")return`<p>${U.tokens?.map(K).join("")}</p>`;else if(U.type==="space")return"";else if(U.type==="html")return`${U.text}`;else if(U.type==="escape")return U.text;return Z0.warn(`Unsupported markdown: ${U.type}`),U.raw}return I(K,"output"),Q.map(K).join("")}function uH0(Z){if(Intl.Segmenter)return[...new Intl.Segmenter().segment(Z)].map((J)=>J.segment);return[...Z]}function gH0(Z,J){let Q=uH0(J.content);return rp(Z,[],Q,J.type)}function rp(Z,J,Q,K){if(Q.length===0)return[{content:J.join(""),type:K},{content:"",type:K}];let[U,...X]=Q,Y=[...J,U];if(Z([{content:Y.join(""),type:K}]))return rp(Z,Y,X,K);if(J.length===0&&U)J.push(U),Q.shift();return[{content:J.join(""),type:K},{content:Q.join(""),type:K}]}function pH0(Z,J){if(Z.some(({content:Q})=>Q.includes(`
`)))throw Error("splitLineToFitWidth does not support newlines in the line");return xC(Z,J)}function xC(Z,J,Q=[],K=[]){if(Z.length===0){if(K.length>0)Q.push(K);return Q.length>0?Q:[]}let U="";if(Z[0].content===" ")U=" ",Z.shift();let X=Z.shift()??{content:" ",type:"normal"},Y=[...K];if(U!=="")Y.push({content:U,type:"normal"});if(Y.push(X),J(Y))return xC(Z,J,Q,Y);if(K.length>0)Q.push(K),Z.unshift(X);else if(X.content){let[q,W]=gH0(J,X);if(Q.push([q]),W.content)Z.unshift(W)}return xC(Z,J,Q)}function ip(Z,J){if(J)Z.attr("style",J)}async function cH0(Z,J,Q,K,U=!1,X=CZ()){let Y=Z.append("foreignObject");Y.attr("width",`${10*Q}px`),Y.attr("height",`${10*Q}px`);let q=Y.append("xhtml:div"),W=UJ(J.label)?await O1(J.label.replace(U8.lineBreakRegex,`
`),X):VZ(J.label,X),G=J.isNode?"nodeLabel":"edgeLabel",z=q.append("span");if(z.html(W),ip(z,J.labelStyle),z.attr("class",`${G} ${K}`),ip(q,J.labelStyle),q.style("display","table-cell"),q.style("white-space","nowrap"),q.style("line-height","1.5"),q.style("max-width",Q+"px"),q.style("text-align","center"),q.attr("xmlns","http://www.w3.org/1999/xhtml"),U)q.attr("class","labelBkg");let H=q.node().getBoundingClientRect();if(H.width===Q)q.style("display","table"),q.style("white-space","break-spaces"),q.style("width",Q+"px"),H=q.node().getBoundingClientRect();return Y.node()}function yC(Z,J,Q){return Z.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",J*Q-0.1+"em").attr("dy",Q+"em")}function lH0(Z,J,Q){let K=Z.append("text"),U=yC(K,1,J);hC(U,Q);let X=U.node().getComputedTextLength();return K.remove(),X}function np(Z,J,Q){let K=Z.append("text"),U=yC(K,1,J);hC(U,[{content:Q,type:"normal"}]);let X=U.node()?.getBoundingClientRect();if(X)K.remove();return X}function dH0(Z,J,Q,K=!1){let X=J.append("g"),Y=X.insert("rect").attr("class","background").attr("style","stroke: none"),q=X.append("text").attr("y","-10.1"),W=0;for(let G of Q){let z=I((F)=>lH0(X,1.1,F)<=Z,"checkWidth"),H=z(G)?[G]:pH0(G,z);for(let F of H){let M=yC(q,W,1.1);hC(M,F),W++}}if(K){let G=q.node().getBBox(),z=2;return Y.attr("x",G.x-2).attr("y",G.y-2).attr("width",G.width+4).attr("height",G.height+4),X.node()}else return q.node()}function hC(Z,J){Z.text(""),J.forEach((Q,K)=>{let U=Z.append("tspan").attr("font-style",Q.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",Q.type==="strong"?"bold":"normal");if(K===0)U.text(Q.content);else U.text(" "+Q.content)})}async function mC(Z,J={}){let Q=[];Z.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(U,X,Y)=>{return Q.push((async()=>{let q=`${X}:${Y}`;if(await rU8(q))return await wU(q,void 0,{class:"label-icon"});else return`<i class='${VZ(U,J).replace(":"," ")}'></i>`})()),U});let K=await Promise.all(Q);return Z.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>K.shift()??"")}var sp,dp,xH0,bC,bH0,rU8,wU,KQ;var UQ=f(()=>{w9();yZ();AZ();RH0();TZ();vH0();lp();sp={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},dp=new Map,xH0=new Map,bC=I((Z)=>{for(let J of Z){if(!J.name)throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Z0.debug("Registering icon pack:",J.name),"loader"in J)xH0.set(J.name,J.loader);else if("icons"in J)dp.set(J.name,J.icons);else throw Z0.error("Invalid icon loader:",J),Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),bH0=I(async(Z,J)=>{let Q=Sp(Z,!0,J!==void 0);if(!Q)throw Error(`Invalid icon name: ${Z}`);let K=Q.prefix||J;if(!K)throw Error(`Icon name must contain a prefix: ${Z}`);let U=dp.get(K);if(!U){let Y=xH0.get(K);if(!Y)throw Error(`Icon set not found: ${Q.prefix}`);try{U={...await Y(),prefix:K},dp.set(K,U)}catch(q){throw Z0.error(q),Error(`Failed to load icon set: ${Q.prefix}`)}}let X=wp(U,Q.name);if(!X)throw Error(`Icon not found: ${Z}`);return X},"getRegisteredIconData"),rU8=I(async(Z)=>{try{return await bH0(Z),!0}catch{return!1}},"isIconAvailable"),wU=I(async(Z,J,Q)=>{let K;try{K=await bH0(Z,J?.fallbackPrefix)}catch(Y){Z0.error(Y),K=sp}let U=kp(K,J),X=fp(_p(U.body),{...U.attributes,...Q});return VZ(X,CZ())},"getIconSVG");I(yH0,"preprocessMarkdown");I(hH0,"markdownToLines");I(mH0,"markdownToHTML");I(uH0,"splitTextToChars");I(gH0,"splitWordToFitWidth");I(rp,"splitWordToFitWidthRecursion");I(pH0,"splitLineToFitWidth");I(xC,"splitLineToFitWidthRecursion");I(ip,"applyStyle");I(cH0,"addHtmlSpan");I(yC,"createTspan");I(lH0,"computeWidthOfText");I(np,"computeDimensionOfText");I(dH0,"createFormattedText");I(hC,"updateTextContentAndStyles");I(mC,"replaceIconSubstring");KQ=I(async(Z,J="",{style:Q="",isTitle:K=!1,classes:U="",useHtmlLabels:X=!0,isNode:Y=!0,width:q=200,addSvgBackground:W=!1}={},G)=>{if(Z0.debug("XYZ createText",J,Q,K,U,X,Y,"addSvgBackground: ",W),X){let z=mH0(J,G),H=await mC(c6(z),G),F=J.replace(/\\\\/g,"\\"),M={isNode:Y,label:UJ(J)?F:H,labelStyle:Q.replace("fill:","color:")};return await cH0(Z,M,q,U,W,G)}else{let z=J.replace(/<br\s*\/?>/g,"<br/>"),H=hH0(z.replace("<br>","<br/>"),G),F=dH0(q,Z,H,J?W:!1);if(Y){if(/stroke:/.exec(Q))Q=Q.replace("stroke:","lineColor:");let M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");n0(F).attr("style",M)}else{let M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");n0(F).select("rect").attr("style",M.replace(/background:/g,"fill:"));let B=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");n0(F).select("text").attr("style",B)}return F}},"createText")});function ap(Z,J,Q){if(Z&&Z.length){let[K,U]=J,X=Math.PI/180*Q,Y=Math.cos(X),q=Math.sin(X);for(let W of Z){let[G,z]=W;W[0]=(G-K)*Y-(z-U)*q+K,W[1]=(G-K)*q+(z-U)*Y+U}}}function nU8(Z,J){return Z[0]===J[0]&&Z[1]===J[1]}function aU8(Z,J,Q,K=1){let U=Q,X=Math.max(J,0.1),Y=Z[0]&&Z[0][0]&&typeof Z[0][0]=="number"?[Z]:Z,q=[0,0];if(U)for(let G of Y)ap(G,q,U);let W=function(G,z,H){let F=[];for(let D of G){let A=[...D];nU8(A[0],A[A.length-1])||A.push([A[0][0],A[0][1]]),A.length>2&&F.push(A)}let M=[];z=Math.max(z,0.1);let B=[];for(let D of F)for(let A=0;A<D.length-1;A++){let V=D[A],N=D[A+1];if(V[1]!==N[1]){let E=Math.min(V[1],N[1]);B.push({ymin:E,ymax:Math.max(V[1],N[1]),x:E===V[1]?V[0]:N[0],islope:(N[0]-V[0])/(N[1]-V[1])})}}if(B.sort((D,A)=>D.ymin<A.ymin?-1:D.ymin>A.ymin?1:D.x<A.x?-1:D.x>A.x?1:D.ymax===A.ymax?0:(D.ymax-A.ymax)/Math.abs(D.ymax-A.ymax)),!B.length)return M;let O=[],R=B[0].ymin,L=0;for(;O.length||B.length;){if(B.length){let D=-1;for(let A=0;A<B.length&&!(B[A].ymin>R);A++)D=A;B.splice(0,D+1).forEach((A)=>{O.push({s:R,edge:A})})}if(O=O.filter((D)=>!(D.edge.ymax<=R)),O.sort((D,A)=>D.edge.x===A.edge.x?0:(D.edge.x-A.edge.x)/Math.abs(D.edge.x-A.edge.x)),(H!==1||L%z==0)&&O.length>1)for(let D=0;D<O.length;D+=2){let A=D+1;if(A>=O.length)break;let V=O[D].edge,N=O[A].edge;M.push([[Math.round(V.x),R],[Math.round(N.x),R]])}R+=H,O.forEach((D)=>{D.edge.x=D.edge.x+H*D.edge.islope}),L++}return M}(Y,X,K);if(U){for(let G of Y)ap(G,q,-U);(function(G,z,H){let F=[];G.forEach((M)=>F.push(...M)),ap(F,z,H)})(W,q,-U)}return W}function kL(Z,J){var Q;let K=J.hachureAngle+90,U=J.hachureGap;U<0&&(U=4*J.strokeWidth),U=Math.round(Math.max(U,0.1));let X=1;return J.roughness>=1&&(((Q=J.randomizer)===null||Q===void 0?void 0:Q.next())||Math.random())>0.7&&(X=U),aU8(Z,U,K,X||1)}class rC{constructor(Z){this.helper=Z}fillPolygons(Z,J){return this._fillPolygons(Z,J)}_fillPolygons(Z,J){let Q=kL(Z,J);return{type:"fillSketch",ops:this.renderLines(Q,J)}}renderLines(Z,J){let Q=[];for(let K of Z)Q.push(...this.helper.doubleLineOps(K[0][0],K[0][1],K[1][0],K[1][1],J));return Q}}function nC(Z){let J=Z[0],Q=Z[1];return Math.sqrt(Math.pow(J[0]-Q[0],2)+Math.pow(J[1]-Q[1],2))}class Q20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=kL(Z,J=Object.assign({},J,{hachureAngle:0}));return this.dotsOnLines(Q,J)}dotsOnLines(Z,J){let Q=[],K=J.hachureGap;K<0&&(K=4*J.strokeWidth),K=Math.max(K,0.1);let U=J.fillWeight;U<0&&(U=J.strokeWidth/2);let X=K/4;for(let Y of Z){let q=nC(Y),W=q/K,G=Math.ceil(W)-1,z=q-G*K,H=(Y[0][0]+Y[1][0])/2-K/4,F=Math.min(Y[0][1],Y[1][1]);for(let M=0;M<G;M++){let B=F+z+M*K,O=H-X+2*Math.random()*X,R=B-X+2*Math.random()*X,L=this.helper.ellipse(O,R,U,U,J);Q.push(...L.ops)}}return{type:"fillSketch",ops:Q}}}class K20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=kL(Z,J);return{type:"fillSketch",ops:this.dashedLine(Q,J)}}dashedLine(Z,J){let Q=J.dashOffset<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashOffset,K=J.dashGap<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashGap,U=[];return Z.forEach((X)=>{let Y=nC(X),q=Math.floor(Y/(Q+K)),W=(Y+K-q*(Q+K))/2,G=X[0],z=X[1];G[0]>z[0]&&(G=X[1],z=X[0]);let H=Math.atan((z[1]-G[1])/(z[0]-G[0]));for(let F=0;F<q;F++){let M=F*(Q+K),B=M+Q,O=[G[0]+M*Math.cos(H)+W*Math.cos(H),G[1]+M*Math.sin(H)+W*Math.sin(H)],R=[G[0]+B*Math.cos(H)+W*Math.cos(H),G[1]+B*Math.sin(H)+W*Math.sin(H)];U.push(...this.helper.doubleLineOps(O[0],O[1],R[0],R[1],J))}}),U}}class U20{constructor(Z){this.helper=Z}fillPolygons(Z,J){let Q=J.hachureGap<0?4*J.strokeWidth:J.hachureGap,K=J.zigzagOffset<0?Q:J.zigzagOffset,U=kL(Z,J=Object.assign({},J,{hachureGap:Q+K}));return{type:"fillSketch",ops:this.zigzagLines(U,K,J)}}zigzagLines(Z,J,Q){let K=[];return Z.forEach((U)=>{let X=nC(U),Y=Math.round(X/(2*J)),q=U[0],W=U[1];q[0]>W[0]&&(q=U[1],W=U[0]);let G=Math.atan((W[1]-q[1])/(W[0]-q[0]));for(let z=0;z<Y;z++){let H=2*z*J,F=2*(z+1)*J,M=Math.sqrt(2*Math.pow(J,2)),B=[q[0]+H*Math.cos(G),q[1]+H*Math.sin(G)],O=[q[0]+F*Math.cos(G),q[1]+F*Math.sin(G)],R=[B[0]+M*Math.cos(G+Math.PI/4),B[1]+M*Math.sin(G+Math.PI/4)];K.push(...this.helper.doubleLineOps(B[0],B[1],R[0],R[1],Q),...this.helper.doubleLineOps(R[0],R[1],O[0],O[1],Q))}}),K}}class X20{constructor(Z){this.seed=Z}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}function tp(Z,J){return Z.type===J}function Uc(Z){let J=[],Q=function(Y){let q=[];for(;Y!=="";)if(Y.match(/^([ \t\r\n,]+)/))Y=Y.substr(RegExp.$1.length);else if(Y.match(/^([aAcChHlLmMqQsStTvVzZ])/))q[q.length]={type:oU8,text:RegExp.$1},Y=Y.substr(RegExp.$1.length);else{if(!Y.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];q[q.length]={type:op,text:`${parseFloat(RegExp.$1)}`},Y=Y.substr(RegExp.$1.length)}return q[q.length]={type:iH0,text:""},q}(Z),K="BOD",U=0,X=Q[U];for(;!tp(X,iH0);){let Y=0,q=[];if(K==="BOD"){if(X.text!=="M"&&X.text!=="m")return Uc("M0,0"+Z);U++,Y=uC[X.text],K=X.text}else tp(X,op)?Y=uC[K]:(U++,Y=uC[X.text],K=X.text);if(!(U+Y<Q.length))throw Error("Path data ended short");for(let W=U;W<U+Y;W++){let G=Q[W];if(!tp(G,op))throw Error("Param not a number: "+K+","+G.text);q[q.length]=+G.text}if(typeof uC[K]!="number")throw Error("Bad segment: "+K);{let W={key:K,data:q};J.push(W),U+=Y,X=Q[U],K==="M"&&(K="L"),K==="m"&&(K="l")}}return J}function Y20(Z){let J=0,Q=0,K=0,U=0,X=[];for(let{key:Y,data:q}of Z)switch(Y){case"M":X.push({key:"M",data:[...q]}),[J,Q]=q,[K,U]=q;break;case"m":J+=q[0],Q+=q[1],X.push({key:"M",data:[J,Q]}),K=J,U=Q;break;case"L":X.push({key:"L",data:[...q]}),[J,Q]=q;break;case"l":J+=q[0],Q+=q[1],X.push({key:"L",data:[J,Q]});break;case"C":X.push({key:"C",data:[...q]}),J=q[4],Q=q[5];break;case"c":{let W=q.map((G,z)=>z%2?G+Q:G+J);X.push({key:"C",data:W}),J=W[4],Q=W[5];break}case"Q":X.push({key:"Q",data:[...q]}),J=q[2],Q=q[3];break;case"q":{let W=q.map((G,z)=>z%2?G+Q:G+J);X.push({key:"Q",data:W}),J=W[2],Q=W[3];break}case"A":X.push({key:"A",data:[...q]}),J=q[5],Q=q[6];break;case"a":J+=q[5],Q+=q[6],X.push({key:"A",data:[q[0],q[1],q[2],q[3],q[4],J,Q]});break;case"H":X.push({key:"H",data:[...q]}),J=q[0];break;case"h":J+=q[0],X.push({key:"H",data:[J]});break;case"V":X.push({key:"V",data:[...q]}),Q=q[0];break;case"v":Q+=q[0],X.push({key:"V",data:[Q]});break;case"S":X.push({key:"S",data:[...q]}),J=q[2],Q=q[3];break;case"s":{let W=q.map((G,z)=>z%2?G+Q:G+J);X.push({key:"S",data:W}),J=W[2],Q=W[3];break}case"T":X.push({key:"T",data:[...q]}),J=q[0],Q=q[1];break;case"t":J+=q[0],Q+=q[1],X.push({key:"T",data:[J,Q]});break;case"Z":case"z":X.push({key:"Z",data:[]}),J=K,Q=U}return X}function q20(Z){let J=[],Q="",K=0,U=0,X=0,Y=0,q=0,W=0;for(let{key:G,data:z}of Z){switch(G){case"M":J.push({key:"M",data:[...z]}),[K,U]=z,[X,Y]=z;break;case"C":J.push({key:"C",data:[...z]}),K=z[4],U=z[5],q=z[2],W=z[3];break;case"L":J.push({key:"L",data:[...z]}),[K,U]=z;break;case"H":K=z[0],J.push({key:"L",data:[K,U]});break;case"V":U=z[0],J.push({key:"L",data:[K,U]});break;case"S":{let H=0,F=0;Q==="C"||Q==="S"?(H=K+(K-q),F=U+(U-W)):(H=K,F=U),J.push({key:"C",data:[H,F,...z]}),q=z[0],W=z[1],K=z[2],U=z[3];break}case"T":{let[H,F]=z,M=0,B=0;Q==="Q"||Q==="T"?(M=K+(K-q),B=U+(U-W)):(M=K,B=U);let O=K+2*(M-K)/3,R=U+2*(B-U)/3,L=H+2*(M-H)/3,D=F+2*(B-F)/3;J.push({key:"C",data:[O,R,L,D,H,F]}),q=M,W=B,K=H,U=F;break}case"Q":{let[H,F,M,B]=z,O=K+2*(H-K)/3,R=U+2*(F-U)/3,L=M+2*(H-M)/3,D=B+2*(F-B)/3;J.push({key:"C",data:[O,R,L,D,M,B]}),q=H,W=F,K=M,U=B;break}case"A":{let H=Math.abs(z[0]),F=Math.abs(z[1]),M=z[2],B=z[3],O=z[4],R=z[5],L=z[6];if(H===0||F===0)J.push({key:"C",data:[K,U,R,L,R,L]}),K=R,U=L;else if(K!==R||U!==L)W20(K,U,R,L,H,F,M,B,O).forEach(function(D){J.push({key:"C",data:D})}),K=R,U=L;break}case"Z":J.push({key:"Z",data:[]}),K=X,U=Y}Q=G}return J}function TL(Z,J,Q){return[Z*Math.cos(Q)-J*Math.sin(Q),Z*Math.sin(Q)+J*Math.cos(Q)]}function W20(Z,J,Q,K,U,X,Y,q,W,G){let z=(H=Y,Math.PI*H/180);var H;let F=[],M=0,B=0,O=0,R=0;if(G)[M,B,O,R]=G;else{[Z,J]=TL(Z,J,-z),[Q,K]=TL(Q,K,-z);let S=(Z-Q)/2,T=(J-K)/2,_=S*S/(U*U)+T*T/(X*X);_>1&&(_=Math.sqrt(_),U*=_,X*=_);let v=U*U,x=X*X,b=v*x-v*T*T-x*S*S,y=v*T*T+x*S*S,u=(q===W?-1:1)*Math.sqrt(Math.abs(b/y));O=u*U*T/X+(Z+Q)/2,R=u*-X*S/U+(J+K)/2,M=Math.asin(parseFloat(((J-R)/X).toFixed(9))),B=Math.asin(parseFloat(((K-R)/X).toFixed(9))),Z<O&&(M=Math.PI-M),Q<O&&(B=Math.PI-B),M<0&&(M=2*Math.PI+M),B<0&&(B=2*Math.PI+B),W&&M>B&&(M-=2*Math.PI),!W&&B>M&&(B-=2*Math.PI)}let L=B-M;if(Math.abs(L)>120*Math.PI/180){let S=B,T=Q,_=K;B=W&&B>M?M+120*Math.PI/180*1:M+120*Math.PI/180*-1,F=W20(Q=O+U*Math.cos(B),K=R+X*Math.sin(B),T,_,U,X,Y,0,W,[B,S,O,R])}L=B-M;let D=Math.cos(M),A=Math.sin(M),V=Math.cos(B),N=Math.sin(B),E=Math.tan(L/4),C=1.3333333333333333*U*E,j=1.3333333333333333*X*E,$=[Z,J],k=[Z+C*A,J-j*D],w=[Q+C*N,K-j*V],P=[Q,K];if(k[0]=2*$[0]-k[0],k[1]=2*$[1]-k[1],G)return[k,w,P].concat(F);{F=[k,w,P].concat(F);let S=[];for(let T=0;T<F.length;T+=3){let _=TL(F[T][0],F[T][1],z),v=TL(F[T+1][0],F[T+1][1],z),x=TL(F[T+2][0],F[T+2][1],z);S.push([_[0],_[1],v[0],v[1],x[0],x[1]])}return S}}function G20(Z,J,Q,K,U){return{type:"path",ops:n1(Z,J,Q,K,U)}}function cC(Z,J,Q){let K=(Z||[]).length;if(K>2){let U=[];for(let X=0;X<K-1;X++)U.push(...n1(Z[X][0],Z[X][1],Z[X+1][0],Z[X+1][1],Q));return J&&U.push(...n1(Z[K-1][0],Z[K-1][1],Z[0][0],Z[0][1],Q)),{type:"path",ops:U}}return K===2?G20(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q):{type:"path",ops:[]}}function eU8(Z,J,Q,K,U){return function(X,Y){return cC(X,!0,Y)}([[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]],U)}function sH0(Z,J){if(Z.length){let Q=typeof Z[0][0]=="number"?[Z]:Z,K=gC(Q[0],1*(1+0.2*J.roughness),J),U=J.disableMultiStroke?[]:gC(Q[0],1.5*(1+0.22*J.roughness),aH0(J));for(let X=1;X<Q.length;X++){let Y=Q[X];if(Y.length){let q=gC(Y,1*(1+0.2*J.roughness),J),W=J.disableMultiStroke?[]:gC(Y,1.5*(1+0.22*J.roughness),aH0(J));for(let G of q)G.op!=="move"&&K.push(G);for(let G of W)G.op!=="move"&&U.push(G)}}return{type:"path",ops:K.concat(U)}}return{type:"path",ops:[]}}function z20(Z,J,Q){let K=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Z/2,2)+Math.pow(J/2,2))/2)),U=Math.ceil(Math.max(Q.curveStepCount,Q.curveStepCount/Math.sqrt(200)*K)),X=2*Math.PI/U,Y=Math.abs(Z/2),q=Math.abs(J/2),W=1-Q.curveFitting;return Y+=RZ(Y*W,Q),q+=RZ(q*W,Q),{increment:X,rx:Y,ry:q}}function Jc(Z,J,Q,K){let[U,X]=oH0(K.increment,Z,J,K.rx,K.ry,1,K.increment*dC(0.1,dC(0.4,1,Q),Q),Q),Y=iC(U,null,Q);if(!Q.disableMultiStroke&&Q.roughness!==0){let[q]=oH0(K.increment,Z,J,K.rx,K.ry,1.5,0,Q),W=iC(q,null,Q);Y=Y.concat(W)}return{estimatedPoints:X,opset:{type:"path",ops:Y}}}function rH0(Z,J,Q,K,U,X,Y,q,W){let G=Z,z=J,H=Math.abs(Q/2),F=Math.abs(K/2);H+=RZ(0.01*H,W),F+=RZ(0.01*F,W);let M=U,B=X;for(;M<0;)M+=2*Math.PI,B+=2*Math.PI;B-M>2*Math.PI&&(M=0,B=2*Math.PI);let O=2*Math.PI/W.curveStepCount,R=Math.min(O/2,(B-M)/2),L=tH0(R,G,z,H,F,M,B,1,W);if(!W.disableMultiStroke){let D=tH0(R,G,z,H,F,M,B,1.5,W);L.push(...D)}return Y&&(q?L.push(...n1(G,z,G+H*Math.cos(M),z+F*Math.sin(M),W),...n1(G,z,G+H*Math.cos(B),z+F*Math.sin(B),W)):L.push({op:"lineTo",data:[G,z]},{op:"lineTo",data:[G+H*Math.cos(M),z+F*Math.sin(M)]})),{type:"path",ops:L}}function nH0(Z,J){let Q=q20(Y20(Uc(Z))),K=[],U=[0,0],X=[0,0];for(let{key:Y,data:q}of Q)switch(Y){case"M":X=[q[0],q[1]],U=[q[0],q[1]];break;case"L":K.push(...n1(X[0],X[1],q[0],q[1],J)),X=[q[0],q[1]];break;case"C":{let[W,G,z,H,F,M]=q;K.push(...ZX8(W,G,z,H,F,M,X,J)),X=[F,M];break}case"Z":K.push(...n1(X[0],X[1],U[0],U[1],J)),X=[U[0],U[1]]}return{type:"path",ops:K}}function ep(Z,J){let Q=[];for(let K of Z)if(K.length){let U=J.maxRandomnessOffset||0,X=K.length;if(X>2){Q.push({op:"move",data:[K[0][0]+RZ(U,J),K[0][1]+RZ(U,J)]});for(let Y=1;Y<X;Y++)Q.push({op:"lineTo",data:[K[Y][0]+RZ(U,J),K[Y][1]+RZ(U,J)]})}}return{type:"fillPath",ops:Q}}function y2(Z,J){return function(Q,K){let U=Q.fillStyle||"hachure";if(!l6[U])switch(U){case"zigzag":l6[U]||(l6[U]=new Z20(K));break;case"cross-hatch":l6[U]||(l6[U]=new J20(K));break;case"dots":l6[U]||(l6[U]=new Q20(K));break;case"dashed":l6[U]||(l6[U]=new K20(K));break;case"zigzag-line":l6[U]||(l6[U]=new U20(K));break;default:U="hachure",l6[U]||(l6[U]=new rC(K))}return l6[U]}(J,tU8).fillPolygons(Z,J)}function aH0(Z){let J=Object.assign({},Z);return J.randomizer=void 0,Z.seed&&(J.seed=Z.seed+1),J}function H20(Z){return Z.randomizer||(Z.randomizer=new X20(Z.seed||0)),Z.randomizer.next()}function dC(Z,J,Q,K=1){return Q.roughness*K*(H20(Q)*(J-Z)+Z)}function RZ(Z,J,Q=1){return dC(-Z,Z,J,Q)}function n1(Z,J,Q,K,U,X=!1){let Y=X?U.disableMultiStrokeFill:U.disableMultiStroke,q=Qc(Z,J,Q,K,U,!0,!1);if(Y)return q;let W=Qc(Z,J,Q,K,U,!0,!0);return q.concat(W)}function Qc(Z,J,Q,K,U,X,Y){let q=Math.pow(Z-Q,2)+Math.pow(J-K,2),W=Math.sqrt(q),G=1;G=W<200?1:W>500?0.4:-0.0016668*W+1.233334;let z=U.maxRandomnessOffset||0;z*z*100>q&&(z=W/10);let H=z/2,F=0.2+0.2*H20(U),M=U.bowing*U.maxRandomnessOffset*(K-J)/200,B=U.bowing*U.maxRandomnessOffset*(Z-Q)/200;M=RZ(M,U,G),B=RZ(B,U,G);let O=[],R=()=>RZ(H,U,G),L=()=>RZ(z,U,G),D=U.preserveVertices;return X&&(Y?O.push({op:"move",data:[Z+(D?0:R()),J+(D?0:R())]}):O.push({op:"move",data:[Z+(D?0:RZ(z,U,G)),J+(D?0:RZ(z,U,G))]})),Y?O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+R(),B+J+(K-J)*F+R(),M+Z+2*(Q-Z)*F+R(),B+J+2*(K-J)*F+R(),Q+(D?0:R()),K+(D?0:R())]}):O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+L(),B+J+(K-J)*F+L(),M+Z+2*(Q-Z)*F+L(),B+J+2*(K-J)*F+L(),Q+(D?0:L()),K+(D?0:L())]}),O}function gC(Z,J,Q){if(!Z.length)return[];let K=[];K.push([Z[0][0]+RZ(J,Q),Z[0][1]+RZ(J,Q)]),K.push([Z[0][0]+RZ(J,Q),Z[0][1]+RZ(J,Q)]);for(let U=1;U<Z.length;U++)K.push([Z[U][0]+RZ(J,Q),Z[U][1]+RZ(J,Q)]),U===Z.length-1&&K.push([Z[U][0]+RZ(J,Q),Z[U][1]+RZ(J,Q)]);return iC(K,null,Q)}function iC(Z,J,Q){let K=Z.length,U=[];if(K>3){let X=[],Y=1-Q.curveTightness;U.push({op:"move",data:[Z[1][0],Z[1][1]]});for(let q=1;q+2<K;q++){let W=Z[q];X[0]=[W[0],W[1]],X[1]=[W[0]+(Y*Z[q+1][0]-Y*Z[q-1][0])/6,W[1]+(Y*Z[q+1][1]-Y*Z[q-1][1])/6],X[2]=[Z[q+1][0]+(Y*Z[q][0]-Y*Z[q+2][0])/6,Z[q+1][1]+(Y*Z[q][1]-Y*Z[q+2][1])/6],X[3]=[Z[q+1][0],Z[q+1][1]],U.push({op:"bcurveTo",data:[X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]]})}if(J&&J.length===2){let q=Q.maxRandomnessOffset;U.push({op:"lineTo",data:[J[0]+RZ(q,Q),J[1]+RZ(q,Q)]})}}else K===3?(U.push({op:"move",data:[Z[1][0],Z[1][1]]}),U.push({op:"bcurveTo",data:[Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[2][0],Z[2][1]]})):K===2&&U.push(...Qc(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q,!0,!0));return U}function oH0(Z,J,Q,K,U,X,Y,q){let W=[],G=[];if(q.roughness===0){Z/=4,G.push([J+K*Math.cos(-Z),Q+U*Math.sin(-Z)]);for(let z=0;z<=2*Math.PI;z+=Z){let H=[J+K*Math.cos(z),Q+U*Math.sin(z)];W.push(H),G.push(H)}G.push([J+K*Math.cos(0),Q+U*Math.sin(0)]),G.push([J+K*Math.cos(Z),Q+U*Math.sin(Z)])}else{let z=RZ(0.5,q)-Math.PI/2;G.push([RZ(X,q)+J+0.9*K*Math.cos(z-Z),RZ(X,q)+Q+0.9*U*Math.sin(z-Z)]);let H=2*Math.PI+z-0.01;for(let F=z;F<H;F+=Z){let M=[RZ(X,q)+J+K*Math.cos(F),RZ(X,q)+Q+U*Math.sin(F)];W.push(M),G.push(M)}G.push([RZ(X,q)+J+K*Math.cos(z+2*Math.PI+0.5*Y),RZ(X,q)+Q+U*Math.sin(z+2*Math.PI+0.5*Y)]),G.push([RZ(X,q)+J+0.98*K*Math.cos(z+Y),RZ(X,q)+Q+0.98*U*Math.sin(z+Y)]),G.push([RZ(X,q)+J+0.9*K*Math.cos(z+0.5*Y),RZ(X,q)+Q+0.9*U*Math.sin(z+0.5*Y)])}return[G,W]}function tH0(Z,J,Q,K,U,X,Y,q,W){let G=X+RZ(0.1,W),z=[];z.push([RZ(q,W)+J+0.9*K*Math.cos(G-Z),RZ(q,W)+Q+0.9*U*Math.sin(G-Z)]);for(let H=G;H<=Y;H+=Z)z.push([RZ(q,W)+J+K*Math.cos(H),RZ(q,W)+Q+U*Math.sin(H)]);return z.push([J+K*Math.cos(Y),Q+U*Math.sin(Y)]),z.push([J+K*Math.cos(Y),Q+U*Math.sin(Y)]),iC(z,null,W)}function ZX8(Z,J,Q,K,U,X,Y,q){let W=[],G=[q.maxRandomnessOffset||1,(q.maxRandomnessOffset||1)+0.3],z=[0,0],H=q.disableMultiStroke?1:2,F=q.preserveVertices;for(let M=0;M<H;M++)M===0?W.push({op:"move",data:[Y[0],Y[1]]}):W.push({op:"move",data:[Y[0]+(F?0:RZ(G[0],q)),Y[1]+(F?0:RZ(G[0],q))]}),z=F?[U,X]:[U+RZ(G[M],q),X+RZ(G[M],q)],W.push({op:"bcurveTo",data:[Z+RZ(G[M],q),J+RZ(G[M],q),Q+RZ(G[M],q),K+RZ(G[M],q),z[0],z[1]]});return W}function wL(Z){return[...Z]}function eH0(Z,J=0){let Q=Z.length;if(Q<3)throw Error("A curve must have at least three points.");let K=[];if(Q===3)K.push(wL(Z[0]),wL(Z[1]),wL(Z[2]),wL(Z[2]));else{let U=[];U.push(Z[0],Z[0]);for(let q=1;q<Z.length;q++)U.push(Z[q]),q===Z.length-1&&U.push(Z[q]);let X=[],Y=1-J;K.push(wL(U[0]));for(let q=1;q+2<U.length;q++){let W=U[q];X[0]=[W[0],W[1]],X[1]=[W[0]+(Y*U[q+1][0]-Y*U[q-1][0])/6,W[1]+(Y*U[q+1][1]-Y*U[q-1][1])/6],X[2]=[U[q+1][0]+(Y*U[q][0]-Y*U[q+2][0])/6,U[q+1][1]+(Y*U[q][1]-Y*U[q+2][1])/6],X[3]=[U[q+1][0],U[q+1][1]],K.push(X[1],X[2],X[3])}}return K}function lC(Z,J){return Math.pow(Z[0]-J[0],2)+Math.pow(Z[1]-J[1],2)}function JX8(Z,J,Q){let K=lC(J,Q);if(K===0)return lC(Z,J);let U=((Z[0]-J[0])*(Q[0]-J[0])+(Z[1]-J[1])*(Q[1]-J[1]))/K;return U=Math.max(0,Math.min(1,U)),lC(Z,gG(J,Q,U))}function gG(Z,J,Q){return[Z[0]+(J[0]-Z[0])*Q,Z[1]+(J[1]-Z[1])*Q]}function Kc(Z,J,Q,K){let U=K||[];if(function(q,W){let G=q[W+0],z=q[W+1],H=q[W+2],F=q[W+3],M=3*z[0]-2*G[0]-F[0];M*=M;let B=3*z[1]-2*G[1]-F[1];B*=B;let O=3*H[0]-2*F[0]-G[0];O*=O;let R=3*H[1]-2*F[1]-G[1];return R*=R,M<O&&(M=O),B<R&&(B=R),M+B}(Z,J)<Q){let q=Z[J+0];if(U.length)(X=U[U.length-1],Y=q,Math.sqrt(lC(X,Y)))>1&&U.push(q);else U.push(q);U.push(Z[J+3])}else{let W=Z[J+0],G=Z[J+1],z=Z[J+2],H=Z[J+3],F=gG(W,G,0.5),M=gG(G,z,0.5),B=gG(z,H,0.5),O=gG(F,M,0.5),R=gG(M,B,0.5),L=gG(O,R,0.5);Kc([W,F,O,L],0,Q,U),Kc([L,R,B,H],0,Q,U)}var X,Y;return U}function QX8(Z,J){return sC(Z,0,Z.length,J)}function sC(Z,J,Q,K,U){let X=U||[],Y=Z[J],q=Z[Q-1],W=0,G=1;for(let z=J+1;z<Q-1;++z){let H=JX8(Z[z],Y,q);H>W&&(W=H,G=z)}return Math.sqrt(W)>K?(sC(Z,J,G+1,K,X),sC(Z,G,Q,K,X)):(X.length||X.push(Y),X.push(q)),X}function Zc(Z,J=0.15,Q){let K=[],U=(Z.length-1)/3;for(let X=0;X<U;X++)Kc(Z,3*X,J,K);return Q&&Q>0?sC(K,0,K.length,Q):K}class $L{constructor(Z){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:0.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:0.8},this.config=Z||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(Z){return Z?Object.assign({},this.defaultOptions,Z):this.defaultOptions}_d(Z,J,Q){return{shape:Z,sets:J||[],options:Q||this.defaultOptions}}line(Z,J,Q,K,U){let X=this._o(U);return this._d("line",[G20(Z,J,Q,K,X)],X)}rectangle(Z,J,Q,K,U){let X=this._o(U),Y=[],q=eU8(Z,J,Q,K,X);if(X.fill){let W=[[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]];X.fillStyle==="solid"?Y.push(ep([W],X)):Y.push(y2([W],X))}return X.stroke!==$4&&Y.push(q),this._d("rectangle",Y,X)}ellipse(Z,J,Q,K,U){let X=this._o(U),Y=[],q=z20(Q,K,X),W=Jc(Z,J,X,q);if(X.fill)if(X.fillStyle==="solid"){let G=Jc(Z,J,X,q).opset;G.type="fillPath",Y.push(G)}else Y.push(y2([W.estimatedPoints],X));return X.stroke!==$4&&Y.push(W.opset),this._d("ellipse",Y,X)}circle(Z,J,Q,K){let U=this.ellipse(Z,J,Q,Q,K);return U.shape="circle",U}linearPath(Z,J){let Q=this._o(J);return this._d("linearPath",[cC(Z,!1,Q)],Q)}arc(Z,J,Q,K,U,X,Y=!1,q){let W=this._o(q),G=[],z=rH0(Z,J,Q,K,U,X,Y,!0,W);if(Y&&W.fill)if(W.fillStyle==="solid"){let H=Object.assign({},W);H.disableMultiStroke=!0;let F=rH0(Z,J,Q,K,U,X,!0,!1,H);F.type="fillPath",G.push(F)}else G.push(function(H,F,M,B,O,R,L){let D=H,A=F,V=Math.abs(M/2),N=Math.abs(B/2);V+=RZ(0.01*V,L),N+=RZ(0.01*N,L);let E=O,C=R;for(;E<0;)E+=2*Math.PI,C+=2*Math.PI;C-E>2*Math.PI&&(E=0,C=2*Math.PI);let j=(C-E)/L.curveStepCount,$=[];for(let k=E;k<=C;k+=j)$.push([D+V*Math.cos(k),A+N*Math.sin(k)]);return $.push([D+V*Math.cos(C),A+N*Math.sin(C)]),$.push([D,A]),y2([$],L)}(Z,J,Q,K,U,X,W));return W.stroke!==$4&&G.push(z),this._d("arc",G,W)}curve(Z,J){let Q=this._o(J),K=[],U=sH0(Z,Q);if(Q.fill&&Q.fill!==$4)if(Q.fillStyle==="solid"){let X=sH0(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(X.ops)})}else{let X=[],Y=Z;if(Y.length){let q=typeof Y[0][0]=="number"?[Y]:Y;for(let W of q)W.length<3?X.push(...W):W.length===3?X.push(...Zc(eH0([W[0],W[0],W[1],W[2]]),10,(1+Q.roughness)/2)):X.push(...Zc(eH0(W),10,(1+Q.roughness)/2))}X.length&&K.push(y2([X],Q))}return Q.stroke!==$4&&K.push(U),this._d("curve",K,Q)}polygon(Z,J){let Q=this._o(J),K=[],U=cC(Z,!0,Q);return Q.fill&&(Q.fillStyle==="solid"?K.push(ep([Z],Q)):K.push(y2([Z],Q))),Q.stroke!==$4&&K.push(U),this._d("polygon",K,Q)}path(Z,J){let Q=this._o(J),K=[];if(!Z)return this._d("path",K,Q);Z=(Z||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let U=Q.fill&&Q.fill!=="transparent"&&Q.fill!==$4,X=Q.stroke!==$4,Y=!!(Q.simplification&&Q.simplification<1),q=function(G,z,H){let F=q20(Y20(Uc(G))),M=[],B=[],O=[0,0],R=[],L=()=>{R.length>=4&&B.push(...Zc(R,z)),R=[]},D=()=>{L(),B.length&&(M.push(B),B=[])};for(let{key:V,data:N}of F)switch(V){case"M":D(),O=[N[0],N[1]],B.push(O);break;case"L":L(),B.push([N[0],N[1]]);break;case"C":if(!R.length){let E=B.length?B[B.length-1]:O;R.push([E[0],E[1]])}R.push([N[0],N[1]]),R.push([N[2],N[3]]),R.push([N[4],N[5]]);break;case"Z":L(),B.push([O[0],O[1]])}if(D(),!H)return M;let A=[];for(let V of M){let N=QX8(V,H);N.length&&A.push(N)}return A}(Z,1,Y?4-4*(Q.simplification||1):(1+Q.roughness)/2),W=nH0(Z,Q);if(U)if(Q.fillStyle==="solid")if(q.length===1){let G=nH0(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(G.ops)})}else K.push(ep(q,Q));else K.push(y2(q,Q));return X&&(Y?q.forEach((G)=>{K.push(cC(G,!1,Q))}):K.push(W)),this._d("path",K,Q)}opsToPath(Z,J){let Q="";for(let K of Z.ops){let U=typeof J=="number"&&J>=0?K.data.map((X)=>+X.toFixed(J)):K.data;switch(K.op){case"move":Q+=`M${U[0]} ${U[1]} `;break;case"bcurveTo":Q+=`C${U[0]} ${U[1]}, ${U[2]} ${U[3]}, ${U[4]} ${U[5]} `;break;case"lineTo":Q+=`L${U[0]} ${U[1]} `}}return Q.trim()}toPaths(Z){let J=Z.sets||[],Q=Z.options||this.defaultOptions,K=[];for(let U of J){let X=null;switch(U.type){case"path":X={d:this.opsToPath(U),stroke:Q.stroke,strokeWidth:Q.strokeWidth,fill:$4};break;case"fillPath":X={d:this.opsToPath(U),stroke:$4,strokeWidth:0,fill:Q.fill||$4};break;case"fillSketch":X=this.fillSketch(U,Q)}X&&K.push(X)}return K}fillSketch(Z,J){let Q=J.fillWeight;return Q<0&&(Q=J.strokeWidth/2),{d:this.opsToPath(Z),stroke:J.fill||$4,strokeWidth:Q,fill:$4}}_mergedShape(Z){return Z.filter((J,Q)=>Q===0||J.op!=="move")}}class F20{constructor(Z,J){this.canvas=Z,this.ctx=this.canvas.getContext("2d"),this.gen=new $L(J)}draw(Z){let J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.ctx,U=Z.options.fixedDecimalPlaceDigits;for(let X of J)switch(X.type){case"path":K.save(),K.strokeStyle=Q.stroke==="none"?"transparent":Q.stroke,K.lineWidth=Q.strokeWidth,Q.strokeLineDash&&K.setLineDash(Q.strokeLineDash),Q.strokeLineDashOffset&&(K.lineDashOffset=Q.strokeLineDashOffset),this._drawToContext(K,X,U),K.restore();break;case"fillPath":{K.save(),K.fillStyle=Q.fill||"";let Y=Z.shape==="curve"||Z.shape==="polygon"||Z.shape==="path"?"evenodd":"nonzero";this._drawToContext(K,X,U,Y),K.restore();break}case"fillSketch":this.fillSketch(K,X,Q)}}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2),Z.save(),Q.fillLineDash&&Z.setLineDash(Q.fillLineDash),Q.fillLineDashOffset&&(Z.lineDashOffset=Q.fillLineDashOffset),Z.strokeStyle=Q.fill||"",Z.lineWidth=K,this._drawToContext(Z,J,Q.fixedDecimalPlaceDigits),Z.restore()}_drawToContext(Z,J,Q,K="nonzero"){Z.beginPath();for(let U of J.ops){let X=typeof Q=="number"&&Q>=0?U.data.map((Y)=>+Y.toFixed(Q)):U.data;switch(U.op){case"move":Z.moveTo(X[0],X[1]);break;case"bcurveTo":Z.bezierCurveTo(X[0],X[1],X[2],X[3],X[4],X[5]);break;case"lineTo":Z.lineTo(X[0],X[1])}}J.type==="fillPath"?Z.fill(K):Z.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(Z,J,Q,K,U){let X=this.gen.line(Z,J,Q,K,U);return this.draw(X),X}rectangle(Z,J,Q,K,U){let X=this.gen.rectangle(Z,J,Q,K,U);return this.draw(X),X}ellipse(Z,J,Q,K,U){let X=this.gen.ellipse(Z,J,Q,K,U);return this.draw(X),X}circle(Z,J,Q,K){let U=this.gen.circle(Z,J,Q,K);return this.draw(U),U}linearPath(Z,J){let Q=this.gen.linearPath(Z,J);return this.draw(Q),Q}polygon(Z,J){let Q=this.gen.polygon(Z,J);return this.draw(Q),Q}arc(Z,J,Q,K,U,X,Y=!1,q){let W=this.gen.arc(Z,J,Q,K,U,X,Y,q);return this.draw(W),W}curve(Z,J){let Q=this.gen.curve(Z,J);return this.draw(Q),Q}path(Z,J){let Q=this.gen.path(Z,J);return this.draw(Q),Q}}class M20{constructor(Z,J){this.svg=Z,this.gen=new $L(J)}draw(Z){let J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.svg.ownerDocument||window.document,U=K.createElementNS(pC,"g"),X=Z.options.fixedDecimalPlaceDigits;for(let Y of J){let q=null;switch(Y.type){case"path":q=K.createElementNS(pC,"path"),q.setAttribute("d",this.opsToPath(Y,X)),q.setAttribute("stroke",Q.stroke),q.setAttribute("stroke-width",Q.strokeWidth+""),q.setAttribute("fill","none"),Q.strokeLineDash&&q.setAttribute("stroke-dasharray",Q.strokeLineDash.join(" ").trim()),Q.strokeLineDashOffset&&q.setAttribute("stroke-dashoffset",`${Q.strokeLineDashOffset}`);break;case"fillPath":q=K.createElementNS(pC,"path"),q.setAttribute("d",this.opsToPath(Y,X)),q.setAttribute("stroke","none"),q.setAttribute("stroke-width","0"),q.setAttribute("fill",Q.fill||""),Z.shape!=="curve"&&Z.shape!=="polygon"||q.setAttribute("fill-rule","evenodd");break;case"fillSketch":q=this.fillSketch(K,Y,Q)}q&&U.appendChild(q)}return U}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2);let U=Z.createElementNS(pC,"path");return U.setAttribute("d",this.opsToPath(J,Q.fixedDecimalPlaceDigits)),U.setAttribute("stroke",Q.fill||""),U.setAttribute("stroke-width",K+""),U.setAttribute("fill","none"),Q.fillLineDash&&U.setAttribute("stroke-dasharray",Q.fillLineDash.join(" ").trim()),Q.fillLineDashOffset&&U.setAttribute("stroke-dashoffset",`${Q.fillLineDashOffset}`),U}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(Z,J){return this.gen.opsToPath(Z,J)}line(Z,J,Q,K,U){let X=this.gen.line(Z,J,Q,K,U);return this.draw(X)}rectangle(Z,J,Q,K,U){let X=this.gen.rectangle(Z,J,Q,K,U);return this.draw(X)}ellipse(Z,J,Q,K,U){let X=this.gen.ellipse(Z,J,Q,K,U);return this.draw(X)}circle(Z,J,Q,K){let U=this.gen.circle(Z,J,Q,K);return this.draw(U)}linearPath(Z,J){let Q=this.gen.linearPath(Z,J);return this.draw(Q)}polygon(Z,J){let Q=this.gen.polygon(Z,J);return this.draw(Q)}arc(Z,J,Q,K,U,X,Y=!1,q){let W=this.gen.arc(Z,J,Q,K,U,X,Y,q);return this.draw(W)}curve(Z,J){let Q=this.gen.curve(Z,J);return this.draw(Q)}path(Z,J){let Q=this.gen.path(Z,J);return this.draw(Q)}}var Z20,J20,l6,oU8=0,op=1,iH0=2,uC,tU8,$4="none",pC="http://www.w3.org/2000/svg",J8;var o8=f(()=>{Z20=class Z20 extends rC{fillPolygons(Z,J){let Q=J.hachureGap;Q<0&&(Q=4*J.strokeWidth),Q=Math.max(Q,0.1);let K=kL(Z,Object.assign({},J,{hachureGap:Q})),U=Math.PI/180*J.hachureAngle,X=[],Y=0.5*Q*Math.cos(U),q=0.5*Q*Math.sin(U);for(let[W,G]of K)nC([W,G])&&X.push([[W[0]-Y,W[1]+q],[...G]],[[W[0]+Y,W[1]-q],[...G]]);return{type:"fillSketch",ops:this.renderLines(X,J)}}};J20=class J20 extends rC{fillPolygons(Z,J){let Q=this._fillPolygons(Z,J),K=Object.assign({},J,{hachureAngle:J.hachureAngle+90}),U=this._fillPolygons(Z,K);return Q.ops=Q.ops.concat(U.ops),Q}};l6={};uC={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};tU8={randOffset:function(Z,J){return RZ(Z,J)},randOffsetWithRange:function(Z,J,Q){return dC(Z,J,Q)},ellipse:function(Z,J,Q,K,U){let X=z20(Q,K,U);return Jc(Z,J,U,X).opset},doubleLineOps:function(Z,J,Q,K,U){return n1(Z,J,Q,K,U,!0)}};J8={canvas:(Z,J)=>new F20(Z,J),svg:(Z,J)=>new M20(Z,J),generator:(Z)=>new $L(Z),newSeed:()=>$L.newSeed()}});function oZ(Z){let J=Z.map((Q,K)=>`${K===0?"M":"L"}${Q.x},${Q.y}`);return J.push("Z"),J.join(" ")}function a1(Z,J,Q,K,U,X){let Y=[],q=50,W=Q-Z,G=K-J,z=W/X,H=2*Math.PI/z,F=J+G/2;for(let M=0;M<=50;M++){let B=M/50,O=Z+B*W,R=F+U*Math.sin(H*(O-Z));Y.push({x:O,y:R})}return Y}function vL(Z,J,Q,K,U,X){let Y=[],q=U*Math.PI/180,z=(X*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}function B20(Z,J){if(J)Z.attr("style",J)}async function O20(Z){let J=n0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Q=J.append("xhtml:div"),K=E0(),U=Z.label;if(Z.label&&UJ(Z.label))U=await O1(Z.label.replace(U8.lineBreakRegex,`
`),K);let Y='<span class="'+(Z.isNode?"nodeLabel":"edgeLabel")+'" '+(Z.labelStyle?'style="'+Z.labelStyle+'"':"")+">"+U+"</span>";return Q.html(VZ(Y,K)),B20(Q,Z.labelStyle),Q.style("display","inline-block"),Q.style("padding-right","1px"),Q.style("white-space","nowrap"),Q.attr("xmlns","http://www.w3.org/1999/xhtml"),J.node()}function I20(Z,J){return Z.intersect(J)}function A20(Z,J,Q,K){var{x:U,y:X}=Z,Y=U-K.x,q=X-K.y,W=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/W);if(K.x<U)G=-G;var z=Math.abs(J*Q*q/W);if(K.y<X)z=-z;return{x:U+G,y:X+z}}function E20(Z,J,Q){return N20(Z,J,J,Q)}function V20(Z,J,Q,K){{let U=J.y-Z.y,X=Z.x-J.x,Y=J.x*Z.y-Z.x*J.y,q=U*Q.x+X*Q.y+Y,W=U*K.x+X*K.y+Y,G=0.000001;if(q!==0&&W!==0&&Yc(q,W))return;let z=K.y-Q.y,H=Q.x-K.x,F=K.x*Q.y-Q.x*K.y,M=z*Z.x+H*Z.y+F,B=z*J.x+H*J.y+F;if(Math.abs(M)<0.000001&&Math.abs(B)<0.000001&&Yc(M,B))return;let O=U*H-z*X;if(O===0)return;let R=Math.abs(O/2),L=X*F-H*Y,D=L<0?(L-R)/O:(L+R)/O;L=z*Y-U*F;let A=L<0?(L-R)/O:(L+R)/O;return{x:D,y:A}}}function Yc(Z,J){return Z*J>0}function P20(Z,J,Q){let{x:K,y:U}=Z,X=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(z){Y=Math.min(Y,z.x),q=Math.min(q,z.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);let W=K-Z.width/2-Y,G=U-Z.height/2-q;for(let z=0;z<J.length;z++){let H=J[z],F=J[z<J.length-1?z+1:0],M=MX8(Z,Q,{x:W+H.x,y:G+H.y},{x:W+F.x,y:G+F.y});if(M)X.push(M)}if(!X.length)return Z;if(X.length>1)X.sort(function(z,H){let F=z.x-Q.x,M=z.y-Q.y,B=Math.sqrt(F*F+M*M),O=H.x-Q.x,R=H.y-Q.y,L=Math.sqrt(O*O+R*R);return B<L?-1:B===L?0:1});return X[0]}function C20(Z,J){let{labelStyles:Q}=y8(J);J.labelStyle=Q;let K=GZ(J),U=K;if(!K)U="anchor";let X=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),Y=1,{cssStyles:q}=J,W=J8.svg(X),G=i8(J,{fill:"black",stroke:"none",fillStyle:"solid"});if(J.look!=="handDrawn")G.roughness=0;let z=W.circle(0,0,Y*2,G),H=X.insert(()=>z,":first-child");return H.attr("class","anchor").attr("style",QQ(q)),s8(J,H),J.intersect=function(F){return Z0.info("Circle intersect",J,Y,F),h8.circle(J,Y,F)},X}function qc(Z,J,Q,K,U,X,Y){let W=(Z+Q)/2,G=(J+K)/2,z=Math.atan2(K-J,Q-Z),H=(Q-Z)/2,F=(K-J)/2,M=H/U,B=F/X,O=Math.sqrt(M**2+B**2);if(O>1)throw Error("The given radii are too small to create an arc between the points.");let R=Math.sqrt(1-O**2),L=W+R*X*Math.sin(z)*(Y?-1:1),D=G-R*U*Math.cos(z)*(Y?-1:1),A=Math.atan2((J-D)/X,(Z-L)/U),N=Math.atan2((K-D)/X,(Q-L)/U)-A;if(Y&&N<0)N+=2*Math.PI;if(!Y&&N>0)N-=2*Math.PI;let E=[];for(let C=0;C<20;C++){let j=C/19,$=A+j*N,k=L+U*Math.cos($),w=D+X*Math.sin($);E.push({x:k,y:w})}return E}async function j20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.width+J.padding+20,q=X.height+J.padding,W=q/2,G=W/(2.5+q/50),{cssStyles:z}=J,H=[{x:Y/2,y:-q/2},{x:-Y/2,y:-q/2},...qc(-Y/2,-q/2,-Y/2,q/2,G,W,!1),{x:Y/2,y:q/2},...qc(Y/2,q/2,Y/2,-q/2,G,W,!0)],F=J8.svg(U),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=oZ(H),O=F.path(B,M),R=U.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),z&&J.look!=="handDrawn")R.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")R.selectAll("path").attr("style",K);return R.attr("transform",`translate(${G/2}, 0)`),s8(J,R),J.intersect=function(L){return h8.polygon(J,H,L)},U}function e1(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(U){return U.x+","+U.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}async function S20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.height+J.padding,q=12,W=X.width+J.padding+q,G=0,z=W,H=-Y,F=0,M=[{x:G+q,y:H},{x:z,y:H},{x:z,y:F},{x:G,y:F},{x:G,y:H+q},{x:G+q,y:H}],B,{cssStyles:O}=J;if(J.look==="handDrawn"){let R=J8.svg(U),L=i8(J,{}),D=oZ(M),A=R.path(D,L);if(B=U.insert(()=>A,":first-child").attr("transform",`translate(${-W/2}, ${Y/2})`),O)B.attr("style",O)}else B=e1(U,W,Y,M);if(K)B.attr("style",K);return s8(J,B),J.intersect=function(R){return h8.polygon(J,M,R)},U}function T20(Z,J){let{nodeStyles:Q}=y8(J);J.label="";let K=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId??J.id),{cssStyles:U}=J,X=Math.max(28,J.width??0),Y=[{x:0,y:X/2},{x:X/2,y:0},{x:0,y:-X/2},{x:-X/2,y:0}],q=J8.svg(K),W=i8(J,{});if(J.look!=="handDrawn")W.roughness=0,W.fillStyle="solid";let G=oZ(Y),z=q.path(G,W),H=K.insert(()=>z,":first-child");if(U&&J.look!=="handDrawn")H.selectAll("path").attr("style",U);if(Q&&J.look!=="handDrawn")H.selectAll("path").attr("style",Q);return J.width=28,J.height=28,J.intersect=function(F){return h8.polygon(J,Y,F)},K}async function Wc(Z,J,Q){let{labelStyles:K,nodeStyles:U}=y8(J);J.labelStyle=K;let{shapeSvg:X,bbox:Y,halfPadding:q}=await MZ(Z,J,GZ(J)),W=Q?.padding??q,G=Y.width/2+W,z,{cssStyles:H}=J;if(J.look==="handDrawn"){let F=J8.svg(X),M=i8(J,{}),B=F.circle(0,0,G*2,M);z=X.insert(()=>B,":first-child"),z.attr("class","basic label-container").attr("style",QQ(H))}else z=X.insert("circle",":first-child").attr("class","basic label-container").attr("style",U).attr("r",G).attr("cx",0).attr("cy",0);return s8(J,z),J.calcIntersect=function(F,M){let B=F.width/2;return h8.circle(F,B,M)},J.intersect=function(F){return Z0.info("Circle intersect",J,G,F),h8.circle(J,G,F)},X}function w20(Z){let J=Math.cos(Math.PI/4),Q=Math.sin(Math.PI/4),K=Z*2,U={x:K/2*J,y:K/2*Q},X={x:-(K/2)*J,y:K/2*Q},Y={x:-(K/2)*J,y:-(K/2)*Q},q={x:K/2*J,y:-(K/2)*Q};return`M ${X.x},${X.y} L ${q.x},${q.y}
                   M ${U.x},${U.y} L ${Y.x},${Y.y}`}function $20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q,J.label="";let U=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId??J.id),X=Math.max(30,J?.width??0),{cssStyles:Y}=J,q=J8.svg(U),W=i8(J,{});if(J.look!=="handDrawn")W.roughness=0,W.fillStyle="solid";let G=q.circle(0,0,X*2,W),z=w20(X),H=q.path(z,W),F=U.insert(()=>G,":first-child");if(F.insert(()=>H),Y&&J.look!=="handDrawn")F.selectAll("path").attr("style",Y);if(K&&J.look!=="handDrawn")F.selectAll("path").attr("style",K);return s8(J,F),J.intersect=function(M){return Z0.info("crossedCircle intersect",J,{radius:X,point:M}),h8.circle(J,X,M)},U}function GY(Z,J,Q,K=100,U=0,X=180){let Y=[],q=U*Math.PI/180,z=(X*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}async function k20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=X.width+(J.padding??0),W=X.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...GY(q/2,-W/2,G,30,-90,0),{x:-q/2-G,y:G},...GY(q/2+G*2,-G,G,20,-180,-270),...GY(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:-W/2},...GY(q/2,W/2,G,20,0,90)],F=[{x:q/2,y:-W/2-G},{x:-q/2,y:-W/2-G},...GY(q/2,-W/2,G,20,-90,0),{x:-q/2-G,y:-G},...GY(q/2+q*0.1,-G,G,20,-180,-270),...GY(q/2+q*0.1,G,G,20,-90,-180),{x:-q/2-G,y:W/2},...GY(q/2,W/2,G,20,0,90),{x:-q/2,y:W/2+G},{x:q/2,y:W/2+G}],M=J8.svg(U),B=i8(J,{fill:"none"});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let R=oZ(H).replace("Z",""),L=M.path(R,B),D=oZ(F),A=M.path(D,{...B}),V=U.insert("g",":first-child");if(V.insert(()=>A,":first-child").attr("stroke-opacity",0),V.insert(()=>L,":first-child"),V.attr("class","text"),z&&J.look!=="handDrawn")V.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(${G}, 0)`),Y.attr("transform",`translate(${-q/2+G-(X.x-(X.left??0))},${-W/2+(J.padding??0)/2-(X.y-(X.top??0))})`),s8(J,V),J.intersect=function(N){return h8.polygon(J,F,N)},U}function zY(Z,J,Q,K=100,U=0,X=180){let Y=[],q=U*Math.PI/180,z=(X*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:M,y:B})}return Y}async function _20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=X.width+(J.padding??0),W=X.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...zY(q/2,-W/2,G,20,-90,0),{x:q/2+G,y:-G},...zY(q/2+G*2,-G,G,20,-180,-270),...zY(q/2+G*2,G,G,20,-90,-180),{x:q/2+G,y:W/2},...zY(q/2,W/2,G,20,0,90)],F=[{x:-q/2,y:-W/2-G},{x:q/2,y:-W/2-G},...zY(q/2,-W/2,G,20,-90,0),{x:q/2+G,y:-G},...zY(q/2+G*2,-G,G,20,-180,-270),...zY(q/2+G*2,G,G,20,-90,-180),{x:q/2+G,y:W/2},...zY(q/2,W/2,G,20,0,90),{x:q/2,y:W/2+G},{x:-q/2,y:W/2+G}],M=J8.svg(U),B=i8(J,{fill:"none"});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let R=oZ(H).replace("Z",""),L=M.path(R,B),D=oZ(F),A=M.path(D,{...B}),V=U.insert("g",":first-child");if(V.insert(()=>A,":first-child").attr("stroke-opacity",0),V.insert(()=>L,":first-child"),V.attr("class","text"),z&&J.look!=="handDrawn")V.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(${-G}, 0)`),Y.attr("transform",`translate(${-q/2+(J.padding??0)/2-(X.x-(X.left??0))},${-W/2+(J.padding??0)/2-(X.y-(X.top??0))})`),s8(J,V),J.intersect=function(N){return h8.polygon(J,F,N)},U}function XQ(Z,J,Q,K=100,U=0,X=180){let Y=[],q=U*Math.PI/180,z=(X*Math.PI/180-q)/(K-1);for(let H=0;H<K;H++){let F=q+H*z,M=Z+Q*Math.cos(F),B=J+Q*Math.sin(F);Y.push({x:-M,y:-B})}return Y}async function f20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=X.width+(J.padding??0),W=X.height+(J.padding??0),G=Math.max(5,W*0.1),{cssStyles:z}=J,H=[...XQ(q/2,-W/2,G,30,-90,0),{x:-q/2-G,y:G},...XQ(q/2+G*2,-G,G,20,-180,-270),...XQ(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:-W/2},...XQ(q/2,W/2,G,20,0,90)],F=[...XQ(-q/2+G+G/2,-W/2,G,20,-90,-180),{x:q/2-G/2,y:G},...XQ(-q/2-G/2,-G,G,20,0,90),...XQ(-q/2-G/2,G,G,20,-90,0),{x:q/2-G/2,y:-G},...XQ(-q/2+G+G/2,W/2,G,30,-180,-270)],M=[{x:q/2,y:-W/2-G},{x:-q/2,y:-W/2-G},...XQ(q/2,-W/2,G,20,-90,0),{x:-q/2-G,y:-G},...XQ(q/2+G*2,-G,G,20,-180,-270),...XQ(q/2+G*2,G,G,20,-90,-180),{x:-q/2-G,y:W/2},...XQ(q/2,W/2,G,20,0,90),{x:-q/2,y:W/2+G},{x:q/2-G-G/2,y:W/2+G},...XQ(-q/2+G+G/2,-W/2,G,20,-90,-180),{x:q/2-G/2,y:G},...XQ(-q/2-G/2,-G,G,20,0,90),...XQ(-q/2-G/2,G,G,20,-90,0),{x:q/2-G/2,y:-G},...XQ(-q/2+G+G/2,W/2,G,30,-180,-270)],B=J8.svg(U),O=i8(J,{fill:"none"});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let L=oZ(H).replace("Z",""),D=B.path(L,O),V=oZ(F).replace("Z",""),N=B.path(V,O),E=oZ(M),C=B.path(E,{...O}),j=U.insert("g",":first-child");if(j.insert(()=>C,":first-child").attr("stroke-opacity",0),j.insert(()=>D,":first-child"),j.insert(()=>N,":first-child"),j.attr("class","text"),z&&J.look!=="handDrawn")j.selectAll("path").attr("style",z);if(K&&J.look!=="handDrawn")j.selectAll("path").attr("style",K);return j.attr("transform",`translate(${G-G/4}, 0)`),Y.attr("transform",`translate(${-q/2+(J.padding??0)/2-(X.x-(X.left??0))},${-W/2+(J.padding??0)/2-(X.y-(X.top??0))})`),s8(J,j),J.intersect=function($){return h8.polygon(J,M,$)},U}async function v20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=80,q=20,W=Math.max(Y,(X.width+(J.padding??0)*2)*1.25,J?.width??0),G=Math.max(q,X.height+(J.padding??0)*2,J?.height??0),z=G/2,{cssStyles:H}=J,F=J8.svg(U),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=W,O=G,R=B-z,L=O/4,D=[{x:R,y:0},{x:L,y:0},{x:0,y:O/2},{x:L,y:O},{x:R,y:O},...vL(-R,-O/2,z,50,270,90)],A=oZ(D),V=F.path(A,M),N=U.insert(()=>V,":first-child");if(N.attr("class","basic label-container"),H&&J.look!=="handDrawn")N.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")N.selectChildren("path").attr("style",K);return N.attr("transform",`translate(${-W/2}, ${-G/2})`),s8(J,N),J.intersect=function(E){return h8.polygon(J,D,E)},U}async function x20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+J.padding,J.width??0),W=q/2,G=W/(2.5+q/50),z=Math.max(X.height+G+J.padding,J.height??0),H,{cssStyles:F}=J;if(J.look==="handDrawn"){let M=J8.svg(U),B=RX8(0,0,q,z,W,G),O=LX8(0,G,q,z,W,G),R=M.path(B,i8(J,{})),L=M.path(O,i8(J,{fill:"none"}));if(H=U.insert(()=>L,":first-child"),H=U.insert(()=>R,":first-child"),H.attr("class","basic label-container"),F)H.attr("style",F)}else{let M=OX8(0,0,q,z,W,G);H=U.insert("path",":first-child").attr("d",M).attr("class","basic label-container").attr("style",QQ(F)).attr("style",K)}return H.attr("label-offset-y",G),H.attr("transform",`translate(${-q/2}, ${-(z/2+G)})`),s8(J,H),Y.attr("transform",`translate(${-(X.width/2)-(X.x-(X.left??0))}, ${-(X.height/2)+(J.padding??0)/1.5-(X.y-(X.top??0))})`),J.intersect=function(M){let B=h8.rect(J,M),O=B.x-(J.x??0);if(W!=0&&(Math.abs(O)<(J.width??0)/2||Math.abs(O)==(J.width??0)/2&&Math.abs(B.y-(J.y??0))>(J.height??0)/2-G)){let R=G*G*(1-O*O/(W*W));if(R>0)R=Math.sqrt(R);if(R=G-R,M.y-(J.y??0)>0)R=-R;B.y+=R}return B},U}async function b20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=X.width+J.padding,W=X.height+J.padding,G=W*0.2,z=-q/2,H=-W/2-G/2,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:z,y:H+G},{x:-z,y:H+G},{x:-z,y:-H},{x:z,y:-H},{x:z,y:H},{x:-z,y:H},{x:-z,y:H+G}],R=M.polygon(O.map((D)=>[D.x,D.y]),B),L=U.insert(()=>R,":first-child");if(L.attr("class","basic label-container"),F&&J.look!=="handDrawn")L.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")L.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${z+(J.padding??0)/2-(X.x-(X.left??0))}, ${H+G+(J.padding??0)/2-(X.y-(X.top??0))})`),s8(J,L),J.intersect=function(D){return h8.rect(J,D)},U}async function y20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,halfPadding:Y}=await MZ(Z,J,GZ(J)),q=5,W=X.width/2+Y+q,G=X.width/2+Y,z,{cssStyles:H}=J;if(J.look==="handDrawn"){let F=J8.svg(U),M=i8(J,{roughness:0.2,strokeWidth:2.5}),B=i8(J,{roughness:0.2,strokeWidth:1.5}),O=F.circle(0,0,W*2,M),R=F.circle(0,0,G*2,B);z=U.insert("g",":first-child"),z.attr("class",QQ(J.cssClasses)).attr("style",QQ(H)),z.node()?.appendChild(O),z.node()?.appendChild(R)}else{z=U.insert("g",":first-child");let F=z.insert("circle",":first-child"),M=z.insert("circle");z.attr("class","basic label-container").attr("style",K),F.attr("class","outer-circle").attr("style",K).attr("r",W).attr("cx",0).attr("cy",0),M.attr("class","inner-circle").attr("style",K).attr("r",G).attr("cx",0).attr("cy",0)}return s8(J,z),J.intersect=function(F){return Z0.info("DoubleCircle intersect",J,W,F),h8.circle(J,W,F)},U}function h20(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:U}=y8(J);J.label="",J.labelStyle=K;let X=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId??J.id),Y=7,{cssStyles:q}=J,W=J8.svg(X),{nodeBorder:G}=Q,z=i8(J,{fillStyle:"solid"});if(J.look!=="handDrawn")z.roughness=0;let H=W.circle(0,0,Y*2,z),F=X.insert(()=>H,":first-child");if(F.selectAll("path").attr("style",`fill: ${G} !important;`),q&&q.length>0&&J.look!=="handDrawn")F.selectAll("path").attr("style",q);if(U&&J.look!=="handDrawn")F.selectAll("path").attr("style",U);return s8(J,F),J.intersect=function(M){return Z0.info("filledCircle intersect",J,{radius:Y,point:M}),h8.circle(J,Y,M)},X}async function m20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=X.width+(J.padding??0),W=q+X.height,G=q+X.height,z=[{x:0,y:-W},{x:G,y:-W},{x:G/2,y:0}],{cssStyles:H}=J,F=J8.svg(U),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=oZ(z),O=F.path(B,M),R=U.insert(()=>O,":first-child").attr("transform",`translate(${-W/2}, ${W/2})`);if(H&&J.look!=="handDrawn")R.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")R.selectChildren("path").attr("style",K);return J.width=q,J.height=W,s8(J,R),Y.attr("transform",`translate(${-X.width/2-(X.x-(X.left??0))}, ${-W/2+(J.padding??0)/2+(X.y-(X.top??0))})`),J.intersect=function(L){return Z0.info("Triangle intersect",J,z,L),h8.polygon(J,z,L)},U}function u20(Z,J,{dir:Q,config:{state:K,themeVariables:U}}){let{nodeStyles:X}=y8(J);J.label="";let Y=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId??J.id),{cssStyles:q}=J,W=Math.max(70,J?.width??0),G=Math.max(10,J?.height??0);if(Q==="LR")W=Math.max(10,J?.width??0),G=Math.max(70,J?.height??0);let z=-1*W/2,H=-1*G/2,F=J8.svg(Y),M=i8(J,{stroke:U.lineColor,fill:U.lineColor});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=F.rectangle(z,H,W,G,M),O=Y.insert(()=>B,":first-child");if(q&&J.look!=="handDrawn")O.selectAll("path").attr("style",q);if(X&&J.look!=="handDrawn")O.selectAll("path").attr("style",X);s8(J,O);let R=K?.padding??0;if(J.width&&J.height)J.width+=R/2||0,J.height+=R/2||0;return J.intersect=function(L){return h8.rect(J,L)},Y}async function g20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let U=80,X=50,{shapeSvg:Y,bbox:q}=await MZ(Z,J,GZ(J)),W=Math.max(U,q.width+(J.padding??0)*2,J?.width??0),G=Math.max(X,q.height+(J.padding??0)*2,J?.height??0),z=G/2,{cssStyles:H}=J,F=J8.svg(Y),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:-W/2,y:-G/2},{x:W/2-z,y:-G/2},...vL(-W/2+z,0,z,50,90,270),{x:W/2-z,y:G/2},{x:-W/2,y:G/2}],O=oZ(B),R=F.path(O,M),L=Y.insert(()=>R,":first-child");if(L.attr("class","basic label-container"),H&&J.look!=="handDrawn")L.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")L.selectChildren("path").attr("style",K);return s8(J,L),J.intersect=function(D){return Z0.info("Pill intersect",J,{radius:z,point:D}),h8.polygon(J,B,D)},Y}async function p20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.height+(J.padding??0),q=X.width+(J.padding??0)*2.5,{cssStyles:W}=J,G=J8.svg(U),z=i8(J,{});if(J.look!=="handDrawn")z.roughness=0,z.fillStyle="solid";let H=q/2,F=H/6;H=H+F;let M=Y/2,B=M/2,O=H-B,R=[{x:-O,y:-M},{x:0,y:-M},{x:O,y:-M},{x:H,y:0},{x:O,y:M},{x:0,y:M},{x:-O,y:M},{x:-H,y:0}],L=oZ(R),D=G.path(L,z),A=U.insert(()=>D,":first-child");if(A.attr("class","basic label-container"),W&&J.look!=="handDrawn")A.selectChildren("path").attr("style",W);if(K&&J.look!=="handDrawn")A.selectChildren("path").attr("style",K);return J.width=q,J.height=Y,s8(J,A),J.intersect=function(V){return h8.polygon(J,R,V)},U}async function c20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.label="",J.labelStyle=Q;let{shapeSvg:U}=await MZ(Z,J,GZ(J)),X=Math.max(30,J?.width??0),Y=Math.max(30,J?.height??0),{cssStyles:q}=J,W=J8.svg(U),G=i8(J,{});if(J.look!=="handDrawn")G.roughness=0,G.fillStyle="solid";let z=[{x:0,y:0},{x:X,y:0},{x:0,y:Y},{x:X,y:Y}],H=oZ(z),F=W.path(H,G),M=U.insert(()=>F,":first-child");if(M.attr("class","basic label-container"),q&&J.look!=="handDrawn")M.selectChildren("path").attr("style",q);if(K&&J.look!=="handDrawn")M.selectChildren("path").attr("style",K);return M.attr("transform",`translate(${-X/2}, ${-Y/2})`),s8(J,M),J.intersect=function(B){return Z0.info("Pill intersect",J,{points:z}),h8.polygon(J,z,B)},U}async function l20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:U}=y8(J);J.labelStyle=U;let X=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(X,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,label:H}=await MZ(Z,J,"icon-shape default"),F=J.pos==="t",M=q,B=q,{nodeBorder:O}=Q,{stylesMap:R}=xG(J),L=-B/2,D=-M/2,A=J.label?8:0,V=J8.svg(G),N=i8(J,{stroke:"none",fill:"none"});if(J.look!=="handDrawn")N.roughness=0,N.fillStyle="solid";let E=V.rectangle(L,D,B,M,N),C=Math.max(B,z.width),j=M+z.height+A,$=V.rectangle(-C/2,-j/2,C,j,{...N,fill:"transparent",stroke:"none"}),k=G.insert(()=>E,":first-child"),w=G.insert(()=>$);if(J.icon){let P=G.append("g");P.html(`<g>${await wU(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let S=P.node().getBBox(),T=S.width,_=S.height,v=S.x,x=S.y;P.attr("transform",`translate(${-T/2-v},${F?z.height/2+A/2-_/2-x:-z.height/2-A/2-_/2-x})`),P.attr("style",`color: ${R.get("stroke")??O};`)}return H.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${F?-j/2:j/2-z.height})`),k.attr("transform",`translate(0,${F?z.height/2+A/2:-z.height/2-A/2})`),s8(J,w),J.intersect=function(P){if(Z0.info("iconSquare intersect",J,P),!J.label)return h8.rect(J,P);let S=J.x??0,T=J.y??0,_=J.height??0,v=[];if(F)v=[{x:S-z.width/2,y:T-_/2},{x:S+z.width/2,y:T-_/2},{x:S+z.width/2,y:T-_/2+z.height+A},{x:S+B/2,y:T-_/2+z.height+A},{x:S+B/2,y:T+_/2},{x:S-B/2,y:T+_/2},{x:S-B/2,y:T-_/2+z.height+A},{x:S-z.width/2,y:T-_/2+z.height+A}];else v=[{x:S-B/2,y:T-_/2},{x:S+B/2,y:T-_/2},{x:S+B/2,y:T-_/2+M},{x:S+z.width/2,y:T-_/2+M},{x:S+z.width/2/2,y:T+_/2},{x:S-z.width/2,y:T+_/2},{x:S-z.width/2,y:T-_/2+M},{x:S-B/2,y:T-_/2+M}];return h8.polygon(J,v,P)},G}async function d20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:U}=y8(J);J.labelStyle=U;let X=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(X,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,label:H}=await MZ(Z,J,"icon-shape default"),F=20,M=J.label?8:0,B=J.pos==="t",{nodeBorder:O,mainBkg:R}=Q,{stylesMap:L}=xG(J),D=J8.svg(G),A=i8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=L.get("fill");A.stroke=V??R;let N=G.append("g");if(J.icon)N.html(`<g>${await wU(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let E=N.node().getBBox(),C=E.width,j=E.height,$=E.x,k=E.y,w=Math.max(C,j)*Math.SQRT2+F*2,P=D.circle(0,0,w,A),S=Math.max(w,z.width),T=w+z.height+M,_=D.rectangle(-S/2,-T/2,S,T,{...A,fill:"transparent",stroke:"none"}),v=G.insert(()=>P,":first-child"),x=G.insert(()=>_);return N.attr("transform",`translate(${-C/2-$},${B?z.height/2+M/2-j/2-k:-z.height/2-M/2-j/2-k})`),N.attr("style",`color: ${L.get("stroke")??O};`),H.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${B?-T/2:T/2-z.height})`),v.attr("transform",`translate(0,${B?z.height/2+M/2:-z.height/2-M/2})`),s8(J,x),J.intersect=function(b){return Z0.info("iconSquare intersect",J,b),h8.rect(J,b)},G}async function i20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:U}=y8(J);J.labelStyle=U;let X=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(X,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,halfPadding:H,label:F}=await MZ(Z,J,"icon-shape default"),M=J.pos==="t",B=q+H*2,O=q+H*2,{nodeBorder:R,mainBkg:L}=Q,{stylesMap:D}=xG(J),A=-O/2,V=-B/2,N=J.label?8:0,E=J8.svg(G),C=i8(J,{});if(J.look!=="handDrawn")C.roughness=0,C.fillStyle="solid";let j=D.get("fill");C.stroke=j??L;let $=E.path(t1(A,V,O,B,5),C),k=Math.max(O,z.width),w=B+z.height+N,P=E.rectangle(-k/2,-w/2,k,w,{...C,fill:"transparent",stroke:"none"}),S=G.insert(()=>$,":first-child").attr("class","icon-shape2"),T=G.insert(()=>P);if(J.icon){let _=G.append("g");_.html(`<g>${await wU(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let v=_.node().getBBox(),x=v.width,b=v.height,y=v.x,u=v.y;_.attr("transform",`translate(${-x/2-y},${M?z.height/2+N/2-b/2-u:-z.height/2-N/2-b/2-u})`),_.attr("style",`color: ${D.get("stroke")??R};`)}return F.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${M?-w/2:w/2-z.height})`),S.attr("transform",`translate(0,${M?z.height/2+N/2:-z.height/2-N/2})`),s8(J,T),J.intersect=function(_){if(Z0.info("iconSquare intersect",J,_),!J.label)return h8.rect(J,_);let v=J.x??0,x=J.y??0,b=J.height??0,y=[];if(M)y=[{x:v-z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2+z.height+N},{x:v+O/2,y:x-b/2+z.height+N},{x:v+O/2,y:x+b/2},{x:v-O/2,y:x+b/2},{x:v-O/2,y:x-b/2+z.height+N},{x:v-z.width/2,y:x-b/2+z.height+N}];else y=[{x:v-O/2,y:x-b/2},{x:v+O/2,y:x-b/2},{x:v+O/2,y:x-b/2+B},{x:v+z.width/2,y:x-b/2+B},{x:v+z.width/2/2,y:x+b/2},{x:v-z.width/2,y:x+b/2},{x:v-z.width/2,y:x-b/2+B},{x:v-O/2,y:x-b/2+B}];return h8.polygon(J,y,_)},G}async function s20(Z,J,{config:{themeVariables:Q,flowchart:K}}){let{labelStyles:U}=y8(J);J.labelStyle=U;let X=J.assetHeight??48,Y=J.assetWidth??48,q=Math.max(X,Y),W=K?.wrappingWidth;J.width=Math.max(q,W??0);let{shapeSvg:G,bbox:z,halfPadding:H,label:F}=await MZ(Z,J,"icon-shape default"),M=J.pos==="t",B=q+H*2,O=q+H*2,{nodeBorder:R,mainBkg:L}=Q,{stylesMap:D}=xG(J),A=-O/2,V=-B/2,N=J.label?8:0,E=J8.svg(G),C=i8(J,{});if(J.look!=="handDrawn")C.roughness=0,C.fillStyle="solid";let j=D.get("fill");C.stroke=j??L;let $=E.path(t1(A,V,O,B,0.1),C),k=Math.max(O,z.width),w=B+z.height+N,P=E.rectangle(-k/2,-w/2,k,w,{...C,fill:"transparent",stroke:"none"}),S=G.insert(()=>$,":first-child"),T=G.insert(()=>P);if(J.icon){let _=G.append("g");_.html(`<g>${await wU(J.icon,{height:q,width:q,fallbackPrefix:""})}</g>`);let v=_.node().getBBox(),x=v.width,b=v.height,y=v.x,u=v.y;_.attr("transform",`translate(${-x/2-y},${M?z.height/2+N/2-b/2-u:-z.height/2-N/2-b/2-u})`),_.attr("style",`color: ${D.get("stroke")??R};`)}return F.attr("transform",`translate(${-z.width/2-(z.x-(z.left??0))},${M?-w/2:w/2-z.height})`),S.attr("transform",`translate(0,${M?z.height/2+N/2:-z.height/2-N/2})`),s8(J,T),J.intersect=function(_){if(Z0.info("iconSquare intersect",J,_),!J.label)return h8.rect(J,_);let v=J.x??0,x=J.y??0,b=J.height??0,y=[];if(M)y=[{x:v-z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2},{x:v+z.width/2,y:x-b/2+z.height+N},{x:v+O/2,y:x-b/2+z.height+N},{x:v+O/2,y:x+b/2},{x:v-O/2,y:x+b/2},{x:v-O/2,y:x-b/2+z.height+N},{x:v-z.width/2,y:x-b/2+z.height+N}];else y=[{x:v-O/2,y:x-b/2},{x:v+O/2,y:x-b/2},{x:v+O/2,y:x-b/2+B},{x:v+z.width/2,y:x-b/2+B},{x:v+z.width/2/2,y:x+b/2},{x:v-z.width/2,y:x+b/2},{x:v-z.width/2,y:x-b/2+B},{x:v-O/2,y:x-b/2+B}];return h8.polygon(J,y,_)},G}async function r20(Z,J,{config:{flowchart:Q}}){let K=new Image;K.src=J?.img??"",await K.decode();let U=Number(K.naturalWidth.toString().replace("px","")),X=Number(K.naturalHeight.toString().replace("px",""));J.imageAspectRatio=U/X;let{labelStyles:Y}=y8(J);J.labelStyle=Y;let q=Q?.wrappingWidth;J.defaultWidth=Q?.wrappingWidth;let W=Math.max(J.label?q??0:0,J?.assetWidth??U),G=J.constraint==="on"?J?.assetHeight?J.assetHeight*J.imageAspectRatio:W:W,z=J.constraint==="on"?G/J.imageAspectRatio:J?.assetHeight??X;J.width=Math.max(G,q??0);let{shapeSvg:H,bbox:F,label:M}=await MZ(Z,J,"image-shape default"),B=J.pos==="t",O=-G/2,R=-z/2,L=J.label?8:0,D=J8.svg(H),A=i8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=D.rectangle(O,R,G,z,A),N=Math.max(G,F.width),E=z+F.height+L,C=D.rectangle(-N/2,-E/2,N,E,{...A,fill:"none",stroke:"none"}),j=H.insert(()=>V,":first-child"),$=H.insert(()=>C);if(J.img){let k=H.append("image");k.attr("href",J.img),k.attr("width",G),k.attr("height",z),k.attr("preserveAspectRatio","none"),k.attr("transform",`translate(${-G/2},${B?E/2-z:-E/2})`)}return M.attr("transform",`translate(${-F.width/2-(F.x-(F.left??0))},${B?-z/2-F.height/2-L/2:z/2-F.height/2+L/2})`),j.attr("transform",`translate(0,${B?F.height/2+L/2:-F.height/2-L/2})`),s8(J,$),J.intersect=function(k){if(Z0.info("iconSquare intersect",J,k),!J.label)return h8.rect(J,k);let w=J.x??0,P=J.y??0,S=J.height??0,T=[];if(B)T=[{x:w-F.width/2,y:P-S/2},{x:w+F.width/2,y:P-S/2},{x:w+F.width/2,y:P-S/2+F.height+L},{x:w+G/2,y:P-S/2+F.height+L},{x:w+G/2,y:P+S/2},{x:w-G/2,y:P+S/2},{x:w-G/2,y:P-S/2+F.height+L},{x:w-F.width/2,y:P-S/2+F.height+L}];else T=[{x:w-G/2,y:P-S/2},{x:w+G/2,y:P-S/2},{x:w+G/2,y:P-S/2+z},{x:w+F.width/2,y:P-S/2+z},{x:w+F.width/2/2,y:P+S/2},{x:w-F.width/2,y:P+S/2},{x:w-F.width/2,y:P-S/2+z},{x:w-G/2,y:P-S/2+z}];return h8.polygon(J,T,k)},H}async function n20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=Math.max(X.width+(J.padding??0)*2,J?.width??0),q=Math.max(X.height+(J.padding??0)*2,J?.height??0),W=[{x:0,y:0},{x:Y,y:0},{x:Y+3*q/6,y:-q},{x:-3*q/6,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=J8.svg(U),F=i8(J,{}),M=oZ(W),B=H.path(M,F);if(G=U.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=e1(U,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,s8(J,G),J.intersect=function(H){return h8.polygon(J,W,H)},U}async function aC(Z,J,Q){let{labelStyles:K,nodeStyles:U}=y8(J);J.labelStyle=K;let{shapeSvg:X,bbox:Y}=await MZ(Z,J,GZ(J)),q=Math.max(Y.width+Q.labelPaddingX*2,J?.width||0),W=Math.max(Y.height+Q.labelPaddingY*2,J?.height||0),G=-q/2,z=-W/2,H,{rx:F,ry:M}=J,{cssStyles:B}=J;if(Q?.rx&&Q.ry)F=Q.rx,M=Q.ry;if(J.look==="handDrawn"){let O=J8.svg(X),R=i8(J,{}),L=F||M?O.path(t1(G,z,q,W,F||0),R):O.rectangle(G,z,q,W,R);H=X.insert(()=>L,":first-child"),H.attr("class","basic label-container").attr("style",QQ(B))}else H=X.insert("rect",":first-child"),H.attr("class","basic label-container").attr("style",U).attr("rx",QQ(F)).attr("ry",QQ(M)).attr("x",G).attr("y",z).attr("width",q).attr("height",W);return s8(J,H),J.calcIntersect=function(O,R){return h8.rect(O,R)},J.intersect=function(O){return h8.rect(J,O)},X}async function a20(Z,J){let{shapeSvg:Q,bbox:K,label:U}=await MZ(Z,J,"label"),X=Q.insert("rect",":first-child"),Y=0.1,q=0.1;return X.attr("width",0.1).attr("height",0.1),Q.attr("class","label edgeLabel"),U.attr("transform",`translate(${-(K.width/2)-(K.x-(K.left??0))}, ${-(K.height/2)-(K.y-(K.top??0))})`),s8(J,X),J.intersect=function(W){return h8.rect(J,W)},Q}async function o20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=Math.max(X.width+(J.padding??0),J?.width??0),q=Math.max(X.height+(J.padding??0),J?.height??0),W=[{x:0,y:0},{x:Y+3*q/6,y:0},{x:Y,y:-q},{x:-(3*q)/6,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=J8.svg(U),F=i8(J,{}),M=oZ(W),B=H.path(M,F);if(G=U.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=e1(U,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,s8(J,G),J.intersect=function(H){return h8.polygon(J,W,H)},U}async function t20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=Math.max(X.width+(J.padding??0),J?.width??0),q=Math.max(X.height+(J.padding??0),J?.height??0),W=[{x:-3*q/6,y:0},{x:Y,y:0},{x:Y+3*q/6,y:-q},{x:0,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=J8.svg(U),F=i8(J,{}),M=oZ(W),B=H.path(M,F);if(G=U.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=e1(U,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,s8(J,G),J.intersect=function(H){return h8.polygon(J,W,H)},U}function e20(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.label="",J.labelStyle=Q;let U=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId??J.id),{cssStyles:X}=J,Y=Math.max(35,J?.width??0),q=Math.max(35,J?.height??0),W=7,G=[{x:Y,y:0},{x:0,y:q+W/2},{x:Y-2*W,y:q+W/2},{x:0,y:2*q},{x:Y,y:q-W/2},{x:2*W,y:q-W/2}],z=J8.svg(U),H=i8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=oZ(G),M=z.path(F,H),B=U.insert(()=>M,":first-child");if(X&&J.look!=="handDrawn")B.selectAll("path").attr("style",X);if(K&&J.look!=="handDrawn")B.selectAll("path").attr("style",K);return B.attr("transform",`translate(-${Y/2},${-q})`),s8(J,B),J.intersect=function(O){return Z0.info("lightningBolt intersect",J,O),h8.polygon(J,G,O)},U}async function ZF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0),J.width??0),W=q/2,G=W/(2.5+q/50),z=Math.max(X.height+G+(J.padding??0),J.height??0),H=z*0.1,F,{cssStyles:M}=J;if(J.look==="handDrawn"){let B=J8.svg(U),O=IX8(0,0,q,z,W,G,H),R=AX8(0,G,q,z,W,G),L=i8(J,{}),D=B.path(O,L),A=B.path(R,L);if(U.insert(()=>A,":first-child").attr("class","line"),F=U.insert(()=>D,":first-child"),F.attr("class","basic label-container"),M)F.attr("style",M)}else{let B=DX8(0,0,q,z,W,G,H);F=U.insert("path",":first-child").attr("d",B).attr("class","basic label-container").attr("style",QQ(M)).attr("style",K)}return F.attr("label-offset-y",G),F.attr("transform",`translate(${-q/2}, ${-(z/2+G)})`),s8(J,F),Y.attr("transform",`translate(${-(X.width/2)-(X.x-(X.left??0))}, ${-(X.height/2)+G-(X.y-(X.top??0))})`),J.intersect=function(B){let O=h8.rect(J,B),R=O.x-(J.x??0);if(W!=0&&(Math.abs(R)<(J.width??0)/2||Math.abs(R)==(J.width??0)/2&&Math.abs(O.y-(J.y??0))>(J.height??0)/2-G)){let L=G*G*(1-R*R/(W*W));if(L>0)L=Math.sqrt(L);if(L=G-L,B.y-(J.y??0)>0)L=-L;O.y+=L}return O},U}async function JF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=W/4,z=W+G,{cssStyles:H}=J,F=J8.svg(U),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:-q/2-q/2*0.1,y:-z/2},{x:-q/2-q/2*0.1,y:z/2},...a1(-q/2-q/2*0.1,z/2,q/2+q/2*0.1,z/2,G,0.8),{x:q/2+q/2*0.1,y:-z/2},{x:-q/2-q/2*0.1,y:-z/2},{x:-q/2,y:-z/2},{x:-q/2,y:z/2*1.1},{x:-q/2,y:-z/2}],O=F.polygon(B.map((L)=>[L.x,L.y]),M),R=U.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),H&&J.look!=="handDrawn")R.selectAll("path").attr("style",H);if(K&&J.look!=="handDrawn")R.selectAll("path").attr("style",K);return R.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)+q/2*0.1/2-(X.x-(X.left??0))},${-W/2+(J.padding??0)-G/2-(X.y-(X.top??0))})`),s8(J,R),J.intersect=function(L){return h8.polygon(J,B,L)},U}async function QF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=5,z=-q/2,H=-W/2,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{}),O=[{x:z-G,y:H+G},{x:z-G,y:H+W+G},{x:z+q-G,y:H+W+G},{x:z+q-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H+W-G},{x:z+q+G,y:H+W-G},{x:z+q+G,y:H-G},{x:z+G,y:H-G},{x:z+G,y:H},{x:z,y:H},{x:z,y:H+G}],R=[{x:z,y:H+G},{x:z+q-G,y:H+G},{x:z+q-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H},{x:z,y:H}];if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let L=oZ(O),D=M.path(L,B),A=oZ(R),V=M.path(A,{...B,fill:"none"}),N=U.insert(()=>V,":first-child");if(N.insert(()=>D,":first-child"),N.attr("class","basic label-container"),F&&J.look!=="handDrawn")N.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-(X.width/2)-G-(X.x-(X.left??0))}, ${-(X.height/2)+G-(X.y-(X.top??0))})`),s8(J,N),J.intersect=function(E){return h8.polygon(J,O,E)},U}async function KF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=W/4,z=W+G,H=-q/2,F=-z/2,M=5,{cssStyles:B}=J,O=a1(H-M,F+z+M,H+q-M,F+z+M,G,0.8),R=O?.[O.length-1],L=[{x:H-M,y:F+M},{x:H-M,y:F+z+M},...O,{x:H+q-M,y:R.y-M},{x:H+q,y:R.y-M},{x:H+q,y:R.y-2*M},{x:H+q+M,y:R.y-2*M},{x:H+q+M,y:F-M},{x:H+M,y:F-M},{x:H+M,y:F},{x:H,y:F},{x:H,y:F+M}],D=[{x:H,y:F+M},{x:H+q-M,y:F+M},{x:H+q-M,y:R.y-M},{x:H+q,y:R.y-M},{x:H+q,y:F},{x:H,y:F}],A=J8.svg(U),V=i8(J,{});if(J.look!=="handDrawn")V.roughness=0,V.fillStyle="solid";let N=oZ(L),E=A.path(N,V),C=oZ(D),j=A.path(C,V),$=U.insert(()=>E,":first-child");if($.insert(()=>j),$.attr("class","basic label-container"),B&&J.look!=="handDrawn")$.selectAll("path").attr("style",B);if(K&&J.look!=="handDrawn")$.selectAll("path").attr("style",K);return $.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-(X.width/2)-M-(X.x-(X.left??0))}, ${-(X.height/2)+M-G/2-(X.y-(X.top??0))})`),s8(J,$),J.intersect=function(k){return h8.polygon(J,L,k)},U}async function UF0(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:U}=y8(J);if(J.labelStyle=K,!(J.useHtmlLabels||CZ().flowchart?.htmlLabels!==!1))J.centerLabel=!0;let{shapeSvg:Y,bbox:q,label:W}=await MZ(Z,J,GZ(J)),G=Math.max(q.width+(J.padding??0)*2,J?.width??0),z=Math.max(q.height+(J.padding??0)*2,J?.height??0),H=-G/2,F=-z/2,{cssStyles:M}=J,B=J8.svg(Y),O=i8(J,{fill:Q.noteBkgColor,stroke:Q.noteBorderColor});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=B.rectangle(H,F,G,z,O),L=Y.insert(()=>R,":first-child");if(L.attr("class","basic label-container"),M&&J.look!=="handDrawn")L.selectAll("path").attr("style",M);if(U&&J.look!=="handDrawn")L.selectAll("path").attr("style",U);return W.attr("transform",`translate(${-q.width/2-(q.x-(q.left??0))}, ${-(q.height/2)-(q.y-(q.top??0))})`),s8(J,L),J.intersect=function(D){return h8.rect(J,D)},Y}async function XF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.width+J.padding,q=X.height+J.padding,W=Y+q,G=0.5,z=[{x:W/2,y:0},{x:W,y:-W/2},{x:W/2,y:-W},{x:0,y:-W/2}],H,{cssStyles:F}=J;if(J.look==="handDrawn"){let M=J8.svg(U),B=i8(J,{}),O=NX8(0,0,W),R=M.path(O,B);if(H=U.insert(()=>R,":first-child").attr("transform",`translate(${-W/2+G}, ${W/2})`),F)H.attr("style",F)}else H=e1(U,W,W,z),H.attr("transform",`translate(${-W/2+G}, ${W/2})`);if(K)H.attr("style",K);return s8(J,H),J.calcIntersect=function(M,B){let O=M.width,R=[{x:O/2,y:0},{x:O,y:-O/2},{x:O/2,y:-O},{x:0,y:-O/2}],L=h8.polygon(M,R,B);return{x:L.x-0.5,y:L.y-0.5}},J.intersect=function(M){return this.calcIntersect(J,M)},U}async function YF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0),J?.width??0),W=Math.max(X.height+(J.padding??0),J?.height??0),G=-q/2,z=-W/2,H=z/2,F=[{x:G+H,y:z},{x:G,y:0},{x:G+H,y:-z},{x:-G,y:-z},{x:-G,y:z}],{cssStyles:M}=J,B=J8.svg(U),O=i8(J,{});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=oZ(F),L=B.path(R,O),D=U.insert(()=>L,":first-child");if(D.attr("class","basic label-container"),M&&J.look!=="handDrawn")D.selectAll("path").attr("style",M);if(K&&J.look!=="handDrawn")D.selectAll("path").attr("style",K);return D.attr("transform",`translate(${-H/2},0)`),Y.attr("transform",`translate(${-H/2-X.width/2-(X.x-(X.left??0))}, ${-(X.height/2)-(X.y-(X.top??0))})`),s8(J,D),J.intersect=function(A){return h8.polygon(J,F,A)},U}async function qF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let U;if(!J.cssClasses)U="node default";else U="node "+J.cssClasses;let X=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),Y=X.insert("g"),q=X.insert("g").attr("class","label").attr("style",K),W=J.description,G=J.label,z=q.node().appendChild(await o1(G,J.labelStyle,!0,!0)),H={width:0,height:0};if(G9(E0()?.flowchart?.htmlLabels)){let j=z.children[0],$=n0(z);H=j.getBoundingClientRect(),$.attr("width",H.width),$.attr("height",H.height)}Z0.info("Text 2",W);let F=W||[],M=z.getBBox(),B=q.node().appendChild(await o1(F.join?F.join("<br/>"):F,J.labelStyle,!0,!0)),O=B.children[0],R=n0(B);H=O.getBoundingClientRect(),R.attr("width",H.width),R.attr("height",H.height);let L=(J.padding||0)/2;n0(B).attr("transform","translate( "+(H.width>M.width?0:(M.width-H.width)/2)+", "+(M.height+L+5)+")"),n0(z).attr("transform","translate( "+(H.width<M.width?0:-(M.width-H.width)/2)+", 0)"),H=q.node().getBBox(),q.attr("transform","translate("+-H.width/2+", "+(-H.height/2-L+3)+")");let D=H.width+(J.padding||0),A=H.height+(J.padding||0),V=-H.width/2-L,N=-H.height/2-L,E,C;if(J.look==="handDrawn"){let j=J8.svg(X),$=i8(J,{}),k=j.path(t1(V,N,D,A,J.rx||0),$),w=j.line(-H.width/2-L,-H.height/2-L+M.height+L,H.width/2+L,-H.height/2-L+M.height+L,$);C=X.insert(()=>{return Z0.debug("Rough node insert CXC",k),w},":first-child"),E=X.insert(()=>{return Z0.debug("Rough node insert CXC",k),k},":first-child")}else E=Y.insert("rect",":first-child"),C=Y.insert("line"),E.attr("class","outer title-state").attr("style",K).attr("x",-H.width/2-L).attr("y",-H.height/2-L).attr("width",H.width+(J.padding||0)).attr("height",H.height+(J.padding||0)),C.attr("class","divider").attr("x1",-H.width/2-L).attr("x2",H.width/2+L).attr("y1",-H.height/2-L+M.height+L).attr("y2",-H.height/2-L+M.height+L);return s8(J,E),J.intersect=function(j){return h8.rect(J,j)},X}function _L(Z,J,Q,K,U,X,Y){let W=(Z+Q)/2,G=(J+K)/2,z=Math.atan2(K-J,Q-Z),H=(Q-Z)/2,F=(K-J)/2,M=H/U,B=F/X,O=Math.sqrt(M**2+B**2);if(O>1)throw Error("The given radii are too small to create an arc between the points.");let R=Math.sqrt(1-O**2),L=W+R*X*Math.sin(z)*(Y?-1:1),D=G-R*U*Math.cos(z)*(Y?-1:1),A=Math.atan2((J-D)/X,(Z-L)/U),N=Math.atan2((K-D)/X,(Q-L)/U)-A;if(Y&&N<0)N+=2*Math.PI;if(!Y&&N>0)N-=2*Math.PI;let E=[];for(let C=0;C<20;C++){let j=C/19,$=A+j*N,k=L+U*Math.cos($),w=D+X*Math.sin($);E.push({x:k,y:w})}return E}async function WF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=J?.padding??0,q=J?.padding??0,W=(J?.width?J?.width:X.width)+Y*2,G=(J?.height?J?.height:X.height)+q*2,z=J.radius||5,H=J.taper||5,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{});if(J.stroke)B.stroke=J.stroke;if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:-W/2+H,y:-G/2},{x:W/2-H,y:-G/2},..._L(W/2-H,-G/2,W/2,-G/2+H,z,z,!0),{x:W/2,y:-G/2+H},{x:W/2,y:G/2-H},..._L(W/2,G/2-H,W/2-H,G/2,z,z,!0),{x:W/2-H,y:G/2},{x:-W/2+H,y:G/2},..._L(-W/2+H,G/2,-W/2,G/2-H,z,z,!0),{x:-W/2,y:G/2-H},{x:-W/2,y:-G/2+H},..._L(-W/2,-G/2+H,-W/2+H,-G/2,z,z,!0)],R=oZ(O),L=M.path(R,B),D=U.insert(()=>L,":first-child");if(D.attr("class","basic label-container outer-path"),F&&J.look!=="handDrawn")D.selectChildren("path").attr("style",F);if(K&&J.look!=="handDrawn")D.selectChildren("path").attr("style",K);return s8(J,D),J.intersect=function(A){return h8.polygon(J,O,A)},U}async function GF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=J?.padding??0,W=Math.max(X.width+(J.padding??0)*2,J?.width??0),G=Math.max(X.height+(J.padding??0)*2,J?.height??0),z=-X.width/2-q,H=-X.height/2-q,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=[{x:z,y:H},{x:z+W+8,y:H},{x:z+W+8,y:H+G},{x:z-8,y:H+G},{x:z-8,y:H},{x:z,y:H},{x:z,y:H+G}],R=M.polygon(O.map((D)=>[D.x,D.y]),B),L=U.insert(()=>R,":first-child");if(L.attr("class","basic label-container").attr("style",QQ(F)),K&&J.look!=="handDrawn")L.selectAll("path").attr("style",K);if(F&&J.look!=="handDrawn")L.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-W/2+4+(J.padding??0)-(X.x-(X.left??0))},${-G/2+(J.padding??0)-(X.y-(X.top??0))})`),s8(J,L),J.intersect=function(D){return h8.rect(J,D)},U}async function zF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=-q/2,z=-W/2,{cssStyles:H}=J,F=J8.svg(U),M=i8(J,{});if(J.look!=="handDrawn")M.roughness=0,M.fillStyle="solid";let B=[{x:G,y:z},{x:G,y:z+W},{x:G+q,y:z+W},{x:G+q,y:z-W/2}],O=oZ(B),R=F.path(O,M),L=U.insert(()=>R,":first-child");if(L.attr("class","basic label-container"),H&&J.look!=="handDrawn")L.selectChildren("path").attr("style",H);if(K&&J.look!=="handDrawn")L.selectChildren("path").attr("style",K);return L.attr("transform",`translate(0, ${W/4})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(X.x-(X.left??0))}, ${-W/4+(J.padding??0)-(X.y-(X.top??0))})`),s8(J,L),J.intersect=function(D){return h8.polygon(J,B,D)},U}async function HF0(Z,J){let Q={rx:0,ry:0,classes:"",labelPaddingX:J.labelPaddingX??(J?.padding||0)*2,labelPaddingY:(J?.padding||0)*1};return aC(Z,J,Q)}async function FF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.height+J.padding,q=X.width+Y/4+J.padding,W=Y/2,{cssStyles:G}=J,z=J8.svg(U),H=i8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=[{x:-q/2+W,y:-Y/2},{x:q/2-W,y:-Y/2},...vL(-q/2+W,0,W,50,90,270),{x:q/2-W,y:Y/2},...vL(q/2-W,0,W,50,270,450)],M=oZ(F),B=z.path(M,H),O=U.insert(()=>B,":first-child");if(O.attr("class","basic label-container outer-path"),G&&J.look!=="handDrawn")O.selectChildren("path").attr("style",G);if(K&&J.look!=="handDrawn")O.selectChildren("path").attr("style",K);return s8(J,O),J.intersect=function(R){return h8.polygon(J,F,R)},U}async function MF0(Z,J){return aC(Z,J,{rx:5,ry:5,classes:"flowchart-node"})}function BF0(Z,J,{config:{themeVariables:Q}}){let{labelStyles:K,nodeStyles:U}=y8(J);J.labelStyle=K;let{cssStyles:X}=J,{lineColor:Y,stateBorder:q,nodeBorder:W}=Q,G=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),z=J8.svg(G),H=i8(J,{});if(J.look!=="handDrawn")H.roughness=0,H.fillStyle="solid";let F=z.circle(0,0,14,{...H,stroke:Y,strokeWidth:2}),M=q??W,B=z.circle(0,0,5,{...H,fill:M,stroke:M,strokeWidth:2,fillStyle:"solid"}),O=G.insert(()=>F,":first-child");if(O.insert(()=>B),X)O.selectAll("path").attr("style",X);if(U)O.selectAll("path").attr("style",U);return s8(J,O),J.intersect=function(R){return h8.circle(J,7,R)},G}function OF0(Z,J,{config:{themeVariables:Q}}){let{lineColor:K}=Q,U=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),X;if(J.look==="handDrawn"){let q=J8.svg(U).circle(0,0,14,uW0(K));X=U.insert(()=>q),X.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else X=U.insert("circle",":first-child"),X.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return s8(J,X),J.intersect=function(Y){return h8.circle(J,7,Y)},U}async function RF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=(J?.padding||0)/2,q=X.width+J.padding,W=X.height+J.padding,G=-X.width/2-Y,z=-X.height/2-Y,H=[{x:0,y:0},{x:q,y:0},{x:q,y:-W},{x:0,y:-W},{x:0,y:0},{x:-8,y:0},{x:q+8,y:0},{x:q+8,y:-W},{x:-8,y:-W},{x:-8,y:0}];if(J.look==="handDrawn"){let F=J8.svg(U),M=i8(J,{}),B=F.rectangle(G-8,z,q+16,W,M),O=F.line(G,z,G,z+W,M),R=F.line(G+q,z,G+q,z+W,M);U.insert(()=>O,":first-child"),U.insert(()=>R,":first-child");let L=U.insert(()=>B,":first-child"),{cssStyles:D}=J;L.attr("class","basic label-container").attr("style",QQ(D)),s8(J,L)}else{let F=e1(U,q,W,H);if(K)F.attr("style",K);s8(J,F)}return J.intersect=function(F){return h8.polygon(J,H,F)},U}async function LF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=Math.max(X.width+(J.padding??0)*2,J?.width??0),q=Math.max(X.height+(J.padding??0)*2,J?.height??0),W=-Y/2,G=-q/2,z=0.2*q,H=0.2*q,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{}),O=[{x:W-z/2,y:G},{x:W+Y+z/2,y:G},{x:W+Y+z/2,y:G+q},{x:W-z/2,y:G+q}],R=[{x:W+Y-z/2,y:G+q},{x:W+Y+z/2,y:G+q},{x:W+Y+z/2,y:G+q-H}];if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let L=oZ(O),D=M.path(L,B),A=oZ(R),V=M.path(A,{...B,fillStyle:"solid"}),N=U.insert(()=>V,":first-child");if(N.insert(()=>D,":first-child"),N.attr("class","basic label-container"),F&&J.look!=="handDrawn")N.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return s8(J,N),J.intersect=function(E){return h8.polygon(J,O,E)},U}async function DF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=W/4,z=0.2*q,H=0.2*W,F=W+G,{cssStyles:M}=J,B=J8.svg(U),O=i8(J,{});if(J.look!=="handDrawn")O.roughness=0,O.fillStyle="solid";let R=[{x:-q/2-q/2*0.1,y:F/2},...a1(-q/2-q/2*0.1,F/2,q/2+q/2*0.1,F/2,G,0.8),{x:q/2+q/2*0.1,y:-F/2},{x:-q/2-q/2*0.1,y:-F/2}],L=-q/2+q/2*0.1,D=-F/2-H*0.4,A=[{x:L+q-z,y:(D+W)*1.4},{x:L+q,y:D+W-H},{x:L+q,y:(D+W)*0.9},...a1(L+q,(D+W)*1.3,L+q-z,(D+W)*1.5,-W*0.03,0.5)],V=oZ(R),N=B.path(V,O),E=oZ(A),C=B.path(E,{...O,fillStyle:"solid"}),j=U.insert(()=>C,":first-child");if(j.insert(()=>N,":first-child"),j.attr("class","basic label-container"),M&&J.look!=="handDrawn")j.selectAll("path").attr("style",M);if(K&&J.look!=="handDrawn")j.selectAll("path").attr("style",K);return j.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(X.x-(X.left??0))},${-W/2+(J.padding??0)-G/2-(X.y-(X.top??0))})`),s8(J,j),J.intersect=function($){return h8.polygon(J,R,$)},U}async function IF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=Math.max(X.width+J.padding,J?.width||0),q=Math.max(X.height+J.padding,J?.height||0),W=-Y/2,G=-q/2,z=U.insert("rect",":first-child");return z.attr("class","text").attr("style",K).attr("rx",0).attr("ry",0).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),s8(J,z),J.intersect=function(H){return h8.rect(J,H)},U}async function AF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y,halfPadding:q}=await MZ(Z,J,GZ(J)),W=J.look==="neo"?q*2:q,G=X.height+W,z=G/2,H=z/(2.5+G/50),F=X.width+H+W,{cssStyles:M}=J,B;if(J.look==="handDrawn"){let O=J8.svg(U),R=VX8(0,0,F,G,H,z),L=PX8(0,0,F,G,H,z),D=O.path(R,i8(J,{})),A=O.path(L,i8(J,{fill:"none"}));if(B=U.insert(()=>A,":first-child"),B=U.insert(()=>D,":first-child"),B.attr("class","basic label-container"),M)B.attr("style",M)}else{let O=EX8(0,0,F,G,H,z);if(B=U.insert("path",":first-child").attr("d",O).attr("class","basic label-container").attr("style",QQ(M)).attr("style",K),B.attr("class","basic label-container"),M)B.selectAll("path").attr("style",M);if(K)B.selectAll("path").attr("style",K)}return B.attr("label-offset-x",H),B.attr("transform",`translate(${-F/2}, ${G/2} )`),Y.attr("transform",`translate(${-(X.width/2)-H-(X.x-(X.left??0))}, ${-(X.height/2)-(X.y-(X.top??0))})`),s8(J,B),J.intersect=function(O){let R=h8.rect(J,O),L=R.y-(J.y??0);if(z!=0&&(Math.abs(L)<(J.height??0)/2||Math.abs(L)==(J.height??0)/2&&Math.abs(R.x-(J.x??0))>(J.width??0)/2-H)){let D=H*H*(1-L*L/(z*z));if(D!=0)D=Math.sqrt(Math.abs(D));if(D=H-D,O.x-(J.x??0)>0)D=-D;R.x+=D}return R},U}async function NF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=X.width+J.padding,q=X.height+J.padding,W=[{x:-3*q/6,y:0},{x:Y+3*q/6,y:0},{x:Y,y:-q},{x:0,y:-q}],G,{cssStyles:z}=J;if(J.look==="handDrawn"){let H=J8.svg(U),F=i8(J,{}),M=oZ(W),B=H.path(M,F);if(G=U.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),z)G.attr("style",z)}else G=e1(U,Y,q,W);if(K)G.attr("style",K);return J.width=Y,J.height=q,s8(J,G),J.intersect=function(H){return h8.polygon(J,W,H)},U}async function EF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=60,q=20,W=Math.max(Y,X.width+(J.padding??0)*2,J?.width??0),G=Math.max(q,X.height+(J.padding??0)*2,J?.height??0),{cssStyles:z}=J,H=J8.svg(U),F=i8(J,{});if(J.look!=="handDrawn")F.roughness=0,F.fillStyle="solid";let M=[{x:-W/2*0.8,y:-G/2},{x:W/2*0.8,y:-G/2},{x:W/2,y:-G/2*0.6},{x:W/2,y:G/2},{x:-W/2,y:G/2},{x:-W/2,y:-G/2*0.6}],B=oZ(M),O=H.path(B,F),R=U.insert(()=>O,":first-child");if(R.attr("class","basic label-container"),z&&J.look!=="handDrawn")R.selectChildren("path").attr("style",z);if(K&&J.look!=="handDrawn")R.selectChildren("path").attr("style",K);return s8(J,R),J.intersect=function(L){return h8.polygon(J,M,L)},U}async function VF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=G9(E0().flowchart?.htmlLabels),W=X.width+(J.padding??0),G=W+X.height,z=W+X.height,H=[{x:0,y:0},{x:z,y:0},{x:z/2,y:-G}],{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let O=oZ(H),R=M.path(O,B),L=U.insert(()=>R,":first-child").attr("transform",`translate(${-G/2}, ${G/2})`);if(F&&J.look!=="handDrawn")L.selectChildren("path").attr("style",F);if(K&&J.look!=="handDrawn")L.selectChildren("path").attr("style",K);return J.width=W,J.height=G,s8(J,L),Y.attr("transform",`translate(${-X.width/2-(X.x-(X.left??0))}, ${G/2-(X.height+(J.padding??0)/(q?2:1)-(X.y-(X.top??0)))})`),J.intersect=function(D){return Z0.info("Triangle intersect",J,H,D),h8.polygon(J,H,D)},U}async function PF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=W/8,z=W+G,{cssStyles:H}=J,M=70-q,B=M>0?M/2:0,O=J8.svg(U),R=i8(J,{});if(J.look!=="handDrawn")R.roughness=0,R.fillStyle="solid";let L=[{x:-q/2-B,y:z/2},...a1(-q/2-B,z/2,q/2+B,z/2,G,0.8),{x:q/2+B,y:-z/2},{x:-q/2-B,y:-z/2}],D=oZ(L),A=O.path(D,R),V=U.insert(()=>A,":first-child");if(V.attr("class","basic label-container"),H&&J.look!=="handDrawn")V.selectAll("path").attr("style",H);if(K&&J.look!=="handDrawn")V.selectAll("path").attr("style",K);return V.attr("transform",`translate(0,${-G/2})`),Y.attr("transform",`translate(${-q/2+(J.padding??0)-(X.x-(X.left??0))},${-W/2+(J.padding??0)-G-(X.y-(X.top??0))})`),s8(J,V),J.intersect=function(N){return h8.polygon(J,L,N)},U}async function CF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X}=await MZ(Z,J,GZ(J)),Y=100,q=50,W=Math.max(X.width+(J.padding??0)*2,J?.width??0),G=Math.max(X.height+(J.padding??0)*2,J?.height??0),z=W/G,H=W,F=G;if(H>F*z)F=H/z;else H=F*z;H=Math.max(H,Y),F=Math.max(F,q);let M=Math.min(F*0.2,F/4),B=F+M*2,{cssStyles:O}=J,R=J8.svg(U),L=i8(J,{});if(J.look!=="handDrawn")L.roughness=0,L.fillStyle="solid";let D=[{x:-H/2,y:B/2},...a1(-H/2,B/2,H/2,B/2,M,1),{x:H/2,y:-B/2},...a1(H/2,-B/2,-H/2,-B/2,M,-1)],A=oZ(D),V=R.path(A,L),N=U.insert(()=>V,":first-child");if(N.attr("class","basic label-container"),O&&J.look!=="handDrawn")N.selectAll("path").attr("style",O);if(K&&J.look!=="handDrawn")N.selectAll("path").attr("style",K);return s8(J,N),J.intersect=function(E){return h8.polygon(J,D,E)},U}async function jF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,label:Y}=await MZ(Z,J,GZ(J)),q=Math.max(X.width+(J.padding??0)*2,J?.width??0),W=Math.max(X.height+(J.padding??0)*2,J?.height??0),G=5,z=-q/2,H=-W/2,{cssStyles:F}=J,M=J8.svg(U),B=i8(J,{}),O=[{x:z-G,y:H-G},{x:z-G,y:H+W},{x:z+q,y:H+W},{x:z+q,y:H-G}],R=`M${z-G},${H-G} L${z+q},${H-G} L${z+q},${H+W} L${z-G},${H+W} L${z-G},${H-G}
                M${z-G},${H} L${z+q},${H}
                M${z},${H-G} L${z},${H+W}`;if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let L=M.path(R,B),D=U.insert(()=>L,":first-child");if(D.attr("transform",`translate(${G/2}, ${G/2})`),D.attr("class","basic label-container"),F&&J.look!=="handDrawn")D.selectAll("path").attr("style",F);if(K&&J.look!=="handDrawn")D.selectAll("path").attr("style",K);return Y.attr("transform",`translate(${-(X.width/2)+G/2-(X.x-(X.left??0))}, ${-(X.height/2)+G/2-(X.y-(X.top??0))})`),s8(J,D),J.intersect=function(A){return h8.polygon(J,O,A)},U}async function Gc(Z,J){let Q=J;if(Q.alias)J.label=Q.alias;if(J.look==="handDrawn"){let{themeVariables:p}=CZ(),{background:r}=p,t={...J,id:J.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${r}`]};await Gc(Z,t)}let K=CZ();J.useHtmlLabels=K.htmlLabels;let U=K.er?.diagramPadding??10,X=K.er?.entityPadding??6,{cssStyles:Y}=J,{labelStyles:q,nodeStyles:W}=y8(J);if(Q.attributes.length===0&&J.label){let p={rx:0,ry:0,labelPaddingX:U,labelPaddingY:U*1.5,classes:""};if(JQ(J.label,K)+p.labelPaddingX*2<K.er.minEntityWidth)J.width=K.er.minEntityWidth;let r=await aC(Z,J,p);if(!G9(K.htmlLabels)){let t=r.select("text"),d=t.node()?.getBBox();t.attr("transform",`translate(${-d.width/2}, 0)`)}return r}if(!K.htmlLabels)U*=1.25,X*=1.25;let G=GZ(J);if(!G)G="node default";let z=Z.insert("g").attr("class",G).attr("id",J.domId||J.id),H=await h2(z,J.label??"",K,0,0,["name"],q);H.height+=X;let F=0,M=[],B=[],O=0,R=0,L=0,D=0,A=!0,V=!0;for(let p of Q.attributes){let r=await h2(z,p.type,K,0,F,["attribute-type"],q);O=Math.max(O,r.width+U);let t=await h2(z,p.name,K,0,F,["attribute-name"],q);R=Math.max(R,t.width+U);let d=await h2(z,p.keys.join(),K,0,F,["attribute-keys"],q);L=Math.max(L,d.width+U);let X0=await h2(z,p.comment,K,0,F,["attribute-comment"],q);D=Math.max(D,X0.width+U);let a=Math.max(r.height,t.height,d.height,X0.height)+X;B.push({yOffset:F,rowHeight:a}),F+=a}let N=4;if(L<=U)A=!1,L=0,N--;if(D<=U)V=!1,D=0,N--;let E=z.node().getBBox();if(H.width+U*2-(O+R+L+D)>0){let p=H.width+U*2-(O+R+L+D);if(O+=p/N,R+=p/N,L>0)L+=p/N;if(D>0)D+=p/N}let C=O+R+L+D,j=J8.svg(z),$=i8(J,{});if(J.look!=="handDrawn")$.roughness=0,$.fillStyle="solid";let k=0;if(B.length>0)k=B.reduce((p,r)=>p+(r?.rowHeight??0),0);let w=Math.max(E.width+U*2,J?.width||0,C),P=Math.max((k??0)+H.height,J?.height||0),S=-w/2,T=-P/2;z.selectAll("g:not(:first-child)").each((p,r,t)=>{let d=n0(t[r]),X0=d.attr("transform"),a=0,z0=0;if(X0){let Q0=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(X0);if(Q0){if(a=parseFloat(Q0[1]),z0=parseFloat(Q0[2]),d.attr("class").includes("attribute-name"))a+=O;else if(d.attr("class").includes("attribute-keys"))a+=O+R;else if(d.attr("class").includes("attribute-comment"))a+=O+R+L}}d.attr("transform",`translate(${S+U/2+a}, ${z0+T+H.height+X/2})`)}),z.select(".name").attr("transform","translate("+-H.width/2+", "+(T+X/2)+")");let _=j.rectangle(S,T,w,P,$),v=z.insert(()=>_,":first-child").attr("style",Y.join("")),{themeVariables:x}=CZ(),{rowEven:b,rowOdd:y,nodeBorder:u}=x;M.push(0);for(let[p,r]of B.entries()){let d=(p+1)%2===0&&r.yOffset!==0,X0=j.rectangle(S,H.height+T+r?.yOffset,w,r?.rowHeight,{...$,fill:d?b:y,stroke:u});z.insert(()=>X0,"g.label").attr("style",Y.join("")).attr("class",`row-rect-${d?"even":"odd"}`)}let h=j.line(S,H.height+T,w+S,H.height+T,$);if(z.insert(()=>h).attr("class","divider"),h=j.line(O+S,H.height+T,O+S,P+T,$),z.insert(()=>h).attr("class","divider"),A)h=j.line(O+R+S,H.height+T,O+R+S,P+T,$),z.insert(()=>h).attr("class","divider");if(V)h=j.line(O+R+L+S,H.height+T,O+R+L+S,P+T,$),z.insert(()=>h).attr("class","divider");for(let p of M)h=j.line(S,H.height+T+p,w+S,H.height+T+p,$),z.insert(()=>h).attr("class","divider");if(s8(J,v),W&&J.look!=="handDrawn"){let r=W.split(";")?.filter((t)=>{return t.includes("stroke")})?.map((t)=>`${t}`).join("; ");z.selectAll("path").attr("style",r??""),z.selectAll(".row-rect-even path").attr("style",W)}return J.intersect=function(p){return h8.rect(J,p)},z}async function h2(Z,J,Q,K=0,U=0,X=[],Y=""){let q=Z.insert("g").attr("class",`label ${X.join(" ")}`).attr("transform",`translate(${K}, ${U})`).attr("style",Y);if(J!==HU(J))J=HU(J),J=J.replaceAll("<","&lt;").replaceAll(">","&gt;");let W=q.node().appendChild(await KQ(q,J,{width:JQ(J,Q)+100,style:Y,useHtmlLabels:Q.htmlLabels},Q));if(J.includes("&lt;")||J.includes("&gt;")){let z=W.children[0];z.textContent=z.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");while(z.childNodes[0])z=z.childNodes[0],z.textContent=z.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let G=W.getBBox();if(G9(Q.htmlLabels)){let z=W.children[0];z.style.textAlign="start";let H=n0(W);G=z.getBoundingClientRect(),H.attr("width",G.width),H.attr("height",G.height)}return G}async function SF0(Z,J,Q,K,U=Q.class.padding??12){let X=!K?3:0,Y=Z.insert("g").attr("class",GZ(J)).attr("id",J.domId||J.id),q=null,W=null,G=null,z=null,H=0,F=0,M=0;if(q=Y.insert("g").attr("class","annotation-group text"),J.annotations.length>0){let D=J.annotations[0];await fL(q,{text:`${D}`},0),H=q.node().getBBox().height}W=Y.insert("g").attr("class","label-group text"),await fL(W,J,0,["font-weight: bolder"]);let B=W.node().getBBox();F=B.height,G=Y.insert("g").attr("class","members-group text");let O=0;for(let D of J.members){let A=await fL(G,D,O,[D.parseClassifier()]);O+=A+X}if(M=G.node().getBBox().height,M<=0)M=U/2;z=Y.insert("g").attr("class","methods-group text");let R=0;for(let D of J.methods){let A=await fL(z,D,R,[D.parseClassifier()]);R+=A+X}let L=Y.node().getBBox();if(q!==null){let D=q.node().getBBox();q.attr("transform",`translate(${-D.width/2})`)}return W.attr("transform",`translate(${-B.width/2}, ${H})`),L=Y.node().getBBox(),G.attr("transform",`translate(0, ${H+F+U*2})`),L=Y.node().getBBox(),z.attr("transform",`translate(0, ${H+F+(M?M+U*4:U*2)})`),L=Y.node().getBBox(),{shapeSvg:Y,bbox:L}}async function fL(Z,J,Q,K=[]){let U=Z.insert("g").attr("class","label").attr("style",K.join("; ")),X=CZ(),Y="useHtmlLabels"in J?J.useHtmlLabels:G9(X.htmlLabels)??!0,q="";if("text"in J)q=J.text;else q=J.label;if(!Y&&q.startsWith("\\"))q=q.substring(1);if(UJ(q))Y=!0;let W=await KQ(U,jV(c6(q)),{width:JQ(q,X)+50,classes:"markdown-node-label",useHtmlLabels:Y},X),G,z=1;if(!Y){if(K.includes("font-weight: bolder"))n0(W).selectAll("tspan").attr("font-weight","");z=W.children.length;let H=W.children[0];if(W.textContent===""||W.textContent.includes("&gt")){if(H.textContent=q[0]+q.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),q[1]===" ")H.textContent=H.textContent[0]+" "+H.textContent.substring(1)}if(H.textContent==="undefined")H.textContent="";G=W.getBBox()}else{let H=W.children[0],F=n0(W);if(z=H.innerHTML.split("<br>").length,H.innerHTML.includes("</math>"))z+=H.innerHTML.split("<mrow>").length-1;let M=H.getElementsByTagName("img");if(M){let B=q.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...M].map((O)=>new Promise((R)=>{function L(){if(O.style.display="flex",O.style.flexDirection="column",B){let D=X.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,A=5,V=parseInt(D,10)*5+"px";O.style.minWidth=V,O.style.maxWidth=V}else O.style.width="100%";R(O)}I(L,"setupImage"),setTimeout(()=>{if(O.complete)L()}),O.addEventListener("error",L),O.addEventListener("load",L)})))}G=H.getBoundingClientRect(),F.attr("width",G.width),F.attr("height",G.height)}return U.attr("transform","translate(0,"+(-G.height/(2*z)+Q)+")"),G.height}async function TF0(Z,J){let Q=E0(),K=Q.class.padding??12,U=K,X=J.useHtmlLabels??G9(Q.htmlLabels)??!0,Y=J;Y.annotations=Y.annotations??[],Y.members=Y.members??[],Y.methods=Y.methods??[];let{shapeSvg:q,bbox:W}=await SF0(Z,J,Q,X,U),{labelStyles:G,nodeStyles:z}=y8(J);J.labelStyle=G,J.cssStyles=Y.styles||"";let H=Y.styles?.join(";")||z||"";if(!J.cssStyles)J.cssStyles=H.replaceAll("!important","").split(";");let F=Y.members.length===0&&Y.methods.length===0&&!Q.class?.hideEmptyMembersBox,M=J8.svg(q),B=i8(J,{});if(J.look!=="handDrawn")B.roughness=0,B.fillStyle="solid";let{width:O,height:R}=W;if(Y.members.length===0&&Y.methods.length===0)R+=U;else if(Y.members.length>0&&Y.methods.length===0)R+=U*2;let L=-O/2,D=-R/2,A=M.rectangle(L-K,D-K-(F?K:Y.members.length===0&&Y.methods.length===0?-K/2:0),O+2*K,R+2*K+(F?K*2:Y.members.length===0&&Y.methods.length===0?-K:0),B),V=q.insert(()=>A,":first-child");V.attr("class","basic label-container");let N=V.node().getBBox();q.selectAll(".text").each(($,k,w)=>{let P=n0(w[k]),S=P.attr("transform"),T=0;if(S){let b=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(S);if(b)T=parseFloat(b[2])}let _=T+D+K-(F?K:Y.members.length===0&&Y.methods.length===0?-K/2:0);if(!X)_-=4;let v=L;if(P.attr("class").includes("label-group")||P.attr("class").includes("annotation-group"))v=-P.node()?.getBBox().width/2||0,q.selectAll("text").each(function(x,b,y){if(window.getComputedStyle(y[b]).textAnchor==="middle")v=0});P.attr("transform",`translate(${v}, ${_})`)});let E=q.select(".annotation-group").node().getBBox().height-(F?K/2:0)||0,C=q.select(".label-group").node().getBBox().height-(F?K/2:0)||0,j=q.select(".members-group").node().getBBox().height-(F?K/2:0)||0;if(Y.members.length>0||Y.methods.length>0||F){let $=M.line(N.x,E+C+D+K,N.x+N.width,E+C+D+K,B);q.insert(()=>$).attr("class","divider").attr("style",H)}if(F||Y.members.length>0||Y.methods.length>0){let $=M.line(N.x,E+C+j+D+U*2+K,N.x+N.width,E+C+j+D+K+U*2,B);q.insert(()=>$).attr("class","divider").attr("style",H)}if(Y.look!=="handDrawn")q.selectAll("path").attr("style",H);if(V.select(":nth-child(2)").attr("style",H),q.selectAll(".divider").select("path").attr("style",H),J.labelStyle)q.selectAll("span").attr("style",J.labelStyle);else q.selectAll("span").attr("style",H);if(!X){let $=RegExp(/color\s*:\s*([^;]*)/),k=$.exec(H);if(k){let w=k[0].replace("color","fill");q.selectAll("tspan").attr("style",w)}else if(G){let w=$.exec(G);if(w){let P=w[0].replace("color","fill");q.selectAll("tspan").attr("style",P)}}}return s8(J,V),J.intersect=function($){return h8.rect(J,$)},q}async function wF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let U=J,X=J,Y=20,q=20,W="verifyMethod"in J,G=GZ(J),z=Z.insert("g").attr("class",G).attr("id",J.domId??J.id),H;if(W)H=await $U(z,`&lt;&lt;${U.type}&gt;&gt;`,0,J.labelStyle);else H=await $U(z,"&lt;&lt;Element&gt;&gt;",0,J.labelStyle);let F=H,M=await $U(z,U.name,F,J.labelStyle+"; font-weight: bold;");if(F+=M+q,W){let E=await $U(z,`${U.requirementId?`ID: ${U.requirementId}`:""}`,F,J.labelStyle);F+=E;let C=await $U(z,`${U.text?`Text: ${U.text}`:""}`,F,J.labelStyle);F+=C;let j=await $U(z,`${U.risk?`Risk: ${U.risk}`:""}`,F,J.labelStyle);F+=j,await $U(z,`${U.verifyMethod?`Verification: ${U.verifyMethod}`:""}`,F,J.labelStyle)}else{let E=await $U(z,`${X.type?`Type: ${X.type}`:""}`,F,J.labelStyle);F+=E,await $U(z,`${X.docRef?`Doc Ref: ${X.docRef}`:""}`,F,J.labelStyle)}let B=(z.node()?.getBBox().width??200)+Y,O=(z.node()?.getBBox().height??200)+Y,R=-B/2,L=-O/2,D=J8.svg(z),A=i8(J,{});if(J.look!=="handDrawn")A.roughness=0,A.fillStyle="solid";let V=D.rectangle(R,L,B,O,A),N=z.insert(()=>V,":first-child");if(N.attr("class","basic label-container").attr("style",K),z.selectAll(".label").each((E,C,j)=>{let $=n0(j[C]),k=$.attr("transform"),w=0,P=0;if(k){let v=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(k);if(v)w=parseFloat(v[1]),P=parseFloat(v[2])}let S=P-O/2,T=R+Y/2;if(C===0||C===1)T=w;$.attr("transform",`translate(${T}, ${S+Y})`)}),F>H+M+q){let E=D.line(R,L+H+M+q,R+B,L+H+M+q,A);z.insert(()=>E).attr("style",K)}return s8(J,N),J.intersect=function(E){return h8.rect(J,E)},z}async function $U(Z,J,Q,K=""){if(J==="")return 0;let U=Z.insert("g").attr("class","label").attr("style",K),X=E0(),Y=X.htmlLabels??!0,q=await KQ(U,jV(c6(J)),{width:JQ(J,X)+50,classes:"markdown-node-label",useHtmlLabels:Y,style:K},X),W;if(!Y){let G=q.children[0];for(let z of G.children)if(z.textContent=z.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),K)z.setAttribute("style",K);W=q.getBBox(),W.height+=6}else{let G=q.children[0],z=n0(q);W=G.getBoundingClientRect(),z.attr("width",W.width),z.attr("height",W.height)}return U.attr("transform",`translate(${-W.width/2},${-W.height/2+Q})`),W.height}async function $F0(Z,J,{config:Q}){let{labelStyles:K,nodeStyles:U}=y8(J);J.labelStyle=K||"";let X=10,Y=J.width;J.width=(J.width??200)-10;let{shapeSvg:q,bbox:W,label:G}=await MZ(Z,J,GZ(J)),z=J.padding||10,H="",F;if("ticket"in J&&J.ticket&&Q?.kanban?.ticketBaseUrl)H=Q?.kanban?.ticketBaseUrl.replace("#TICKET#",J.ticket),F=q.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",H).attr("target","_blank");let M={useHtmlLabels:J.useHtmlLabels,labelStyle:J.labelStyle||"",width:J.width,img:J.img,padding:J.padding||8,centerLabel:!1},B,O;if(F)({label:B,bbox:O}=await Xc(F,"ticket"in J&&J.ticket||"",M));else({label:B,bbox:O}=await Xc(q,"ticket"in J&&J.ticket||"",M));let{label:R,bbox:L}=await Xc(q,"assigned"in J&&J.assigned||"",M);J.width=Y;let D=10,A=J?.width||0,V=Math.max(O.height,L.height)/2,N=Math.max(W.height+D*2,J?.height||0)+V,E=-A/2,C=-N/2;G.attr("transform","translate("+(z-A/2)+", "+(-V-W.height/2)+")"),B.attr("transform","translate("+(z-A/2)+", "+(-V+W.height/2)+")"),R.attr("transform","translate("+(z+A/2-L.width-2*X)+", "+(-V+W.height/2)+")");let j,{rx:$,ry:k}=J,{cssStyles:w}=J;if(J.look==="handDrawn"){let P=J8.svg(q),S=i8(J,{}),T=$||k?P.path(t1(E,C,A,N,$||0),S):P.rectangle(E,C,A,N,S);j=q.insert(()=>T,":first-child"),j.attr("class","basic label-container").attr("style",w?w:null)}else{j=q.insert("rect",":first-child"),j.attr("class","basic label-container __APA__").attr("style",U).attr("rx",$??5).attr("ry",k??5).attr("x",E).attr("y",C).attr("width",A).attr("height",N);let P="priority"in J&&J.priority;if(P){let S=q.append("line"),T=E+2,_=C+Math.floor(($??0)/2),v=C+N-Math.floor(($??0)/2);S.attr("x1",T).attr("y1",_).attr("x2",T).attr("y2",v).attr("stroke-width","4").attr("stroke",CX8(P))}}return s8(J,j),J.height=N,J.intersect=function(P){return h8.rect(J,P)},q}async function kF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,halfPadding:Y,label:q}=await MZ(Z,J,GZ(J)),W=X.width+10*Y,G=X.height+8*Y,z=0.15*W,{cssStyles:H}=J,F=X.width+20,M=X.height+20,B=Math.max(W,F),O=Math.max(G,M);q.attr("transform",`translate(${-X.width/2}, ${-X.height/2})`);let R,L=`M0 0 
    a${z},${z} 1 0,0 ${B*0.25},${-1*O*0.1}
    a${z},${z} 1 0,0 ${B*0.25},0
    a${z},${z} 1 0,0 ${B*0.25},0
    a${z},${z} 1 0,0 ${B*0.25},${O*0.1}

    a${z},${z} 1 0,0 ${B*0.15},${O*0.33}
    a${z*0.8},${z*0.8} 1 0,0 0,${O*0.34}
    a${z},${z} 1 0,0 ${-1*B*0.15},${O*0.33}

    a${z},${z} 1 0,0 ${-1*B*0.25},${O*0.15}
    a${z},${z} 1 0,0 ${-1*B*0.25},0
    a${z},${z} 1 0,0 ${-1*B*0.25},0
    a${z},${z} 1 0,0 ${-1*B*0.25},${-1*O*0.15}

    a${z},${z} 1 0,0 ${-1*B*0.1},${-1*O*0.33}
    a${z*0.8},${z*0.8} 1 0,0 0,${-1*O*0.34}
    a${z},${z} 1 0,0 ${B*0.1},${-1*O*0.33}
  H0 V0 Z`;if(J.look==="handDrawn"){let D=J8.svg(U),A=i8(J,{}),V=D.path(L,A);R=U.insert(()=>V,":first-child"),R.attr("class","basic label-container").attr("style",QQ(H))}else R=U.insert("path",":first-child").attr("class","basic label-container").attr("style",K).attr("d",L);return R.attr("transform",`translate(${-B/2}, ${-O/2})`),s8(J,R),J.calcIntersect=function(D,A){return h8.rect(D,A)},J.intersect=function(D){return Z0.info("Bang intersect",J,D),h8.rect(J,D)},U}async function _F0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,halfPadding:Y,label:q}=await MZ(Z,J,GZ(J)),W=X.width+2*Y,G=X.height+2*Y,z=0.15*W,H=0.25*W,F=0.35*W,M=0.2*W,{cssStyles:B}=J,O,R=`M0 0 
    a${z},${z} 0 0,1 ${W*0.25},${-1*W*0.1}
    a${F},${F} 1 0,1 ${W*0.4},${-1*W*0.1}
    a${H},${H} 1 0,1 ${W*0.35},${W*0.2}

    a${z},${z} 1 0,1 ${W*0.15},${G*0.35}
    a${M},${M} 1 0,1 ${-1*W*0.15},${G*0.65}

    a${H},${z} 1 0,1 ${-1*W*0.25},${W*0.15}
    a${F},${F} 1 0,1 ${-1*W*0.5},0
    a${z},${z} 1 0,1 ${-1*W*0.25},${-1*W*0.15}

    a${z},${z} 1 0,1 ${-1*W*0.1},${-1*G*0.35}
    a${M},${M} 1 0,1 ${W*0.1},${-1*G*0.65}
  H0 V0 Z`;if(J.look==="handDrawn"){let L=J8.svg(U),D=i8(J,{}),A=L.path(R,D);O=U.insert(()=>A,":first-child"),O.attr("class","basic label-container").attr("style",QQ(B))}else O=U.insert("path",":first-child").attr("class","basic label-container").attr("style",K).attr("d",R);return q.attr("transform",`translate(${-X.width/2}, ${-X.height/2})`),O.attr("transform",`translate(${-W/2}, ${-G/2})`),s8(J,O),J.calcIntersect=function(L,D){return h8.rect(L,D)},J.intersect=function(L){return Z0.info("Cloud intersect",J,L),h8.rect(J,L)},U}async function fF0(Z,J){let{labelStyles:Q,nodeStyles:K}=y8(J);J.labelStyle=Q;let{shapeSvg:U,bbox:X,halfPadding:Y,label:q}=await MZ(Z,J,GZ(J)),W=X.width+8*Y,G=X.height+2*Y,z=5,H=`
    M${-W/2} ${G/2-z}
    v${-G+2*z}
    q0,-${z} ${z},-${z}
    h${W-2*z}
    q${z},0 ${z},${z}
    v${G-2*z}
    q0,${z} -${z},${z}
    h${-W+2*z}
    q-${z},0 -${z},-${z}
    Z
  `,F=U.append("path").attr("id","node-"+J.id).attr("class","node-bkg node-"+J.type).attr("style",K).attr("d",H);return U.append("line").attr("class","node-line-").attr("x1",-W/2).attr("y1",G/2).attr("x2",W/2).attr("y2",G/2),q.attr("transform",`translate(${-X.width/2}, ${-X.height/2})`),U.append(()=>q.node()),s8(J,F),J.calcIntersect=function(M,B){return h8.rect(M,B)},J.intersect=function(M){return h8.rect(J,M)},U}async function vF0(Z,J){let Q={padding:J.padding??0};return Wc(Z,J,Q)}function zc(Z){return Z in xF0}async function pG(Z,J,Q){let K,U;if(J.shape==="rect")if(J.rx&&J.ry)J.shape="roundedRect";else J.shape="squareRect";let X=J.shape?xF0[J.shape]:void 0;if(!X)throw Error(`No such shape: ${J.shape}. Please check your syntax.`);if(J.link){let Y;if(Q.config.securityLevel==="sandbox")Y="_top";else if(J.linkTarget)Y=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",Y??null),U=await X(K,J,Q)}else U=await X(Z,J,Q),K=U;if(J.tooltip)U.attr("title",J.tooltip);if(oC.set(J.id,K),J.haveCallback)K.attr("class",K.attr("class")+" clickable");return K}var MZ,Xc,s8,GZ,KX8,m2,UX8,o1,t1,R20,XX8,YX8,qX8,WX8,GX8,zX8,L20,u2,D20,HX8,N20,FX8,MX8,BX8,h8,OX8,RX8,LX8,DX8,IX8,AX8,NX8,EX8,VX8,PX8,CX8,jX8,SX8,xF0,oC,bF0,yF0,xL;var d6=f(()=>{Z6();J6();UQ();w9();yZ();AZ();TZ();TZ();o8();TZ();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();TZ();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();o8();TZ();TZ();o8();TZ();o8();TZ();o8();o8();o8();MZ=I(async(Z,J,Q)=>{let K,U=J.useHtmlLabels||G9(E0()?.htmlLabels);if(!Q)K="node default";else K=Q;let X=Z.insert("g").attr("class",K).attr("id",J.domId||J.id),Y=X.insert("g").attr("class","label").attr("style",QQ(J.labelStyle)),q;if(J.label===void 0)q="";else q=typeof J.label==="string"?J.label:J.label[0];let W=await KQ(Y,VZ(c6(q),E0()),{useHtmlLabels:U,width:J.width||E0().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:J.labelStyle,addSvgBackground:!!J.icon||!!J.img}),G=W.getBBox(),z=(J?.padding??0)/2;if(U){let H=W.children[0],F=n0(W),M=H.getElementsByTagName("img");if(M){let B=q.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...M].map((O)=>new Promise((R)=>{function L(){if(O.style.display="flex",O.style.flexDirection="column",B){let D=E0().fontSize?E0().fontSize:window.getComputedStyle(document.body).fontSize,A=5,[V=PZ.fontSize]=jU(D),N=V*5+"px";O.style.minWidth=N,O.style.maxWidth=N}else O.style.width="100%";R(O)}I(L,"setupImage"),setTimeout(()=>{if(O.complete)L()}),O.addEventListener("error",L),O.addEventListener("load",L)})))}G=H.getBoundingClientRect(),F.attr("width",G.width),F.attr("height",G.height)}if(U)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");else Y.attr("transform","translate(0, "+-G.height/2+")");if(J.centerLabel)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");return Y.insert("rect",":first-child"),{shapeSvg:X,bbox:G,halfPadding:z,label:Y}},"labelHelper"),Xc=I(async(Z,J,Q)=>{let K=Q.useHtmlLabels||G9(E0()?.flowchart?.htmlLabels),U=Z.insert("g").attr("class","label").attr("style",Q.labelStyle||""),X=await KQ(U,VZ(c6(J),E0()),{useHtmlLabels:K,width:Q.width||E0()?.flowchart?.wrappingWidth,style:Q.labelStyle,addSvgBackground:!!Q.icon||!!Q.img}),Y=X.getBBox(),q=Q.padding/2;if(G9(E0()?.flowchart?.htmlLabels)){let W=X.children[0],G=n0(X);Y=W.getBoundingClientRect(),G.attr("width",Y.width),G.attr("height",Y.height)}if(K)U.attr("transform","translate("+-Y.width/2+", "+-Y.height/2+")");else U.attr("transform","translate(0, "+-Y.height/2+")");if(Q.centerLabel)U.attr("transform","translate("+-Y.width/2+", "+-Y.height/2+")");return U.insert("rect",":first-child"),{shapeSvg:Z,bbox:Y,halfPadding:q,label:U}},"insertLabel"),s8=I((Z,J)=>{let Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds"),GZ=I((Z,J)=>(Z.look==="handDrawn"?"rough-node":"node")+" "+Z.cssClasses+" "+(J||""),"getNodeClasses");I(oZ,"createPathFromPoints");I(a1,"generateFullSineWavePoints");I(vL,"generateCirclePoints");KX8=I((Z,J)=>{var{x:Q,y:K}=Z,U=J.x-Q,X=J.y-K,Y=Z.width/2,q=Z.height/2,W,G;if(Math.abs(X)*Y>Math.abs(U)*q){if(X<0)q=-q;W=X===0?0:q*U/X,G=q}else{if(U<0)Y=-Y;W=Y,G=U===0?0:Y*X/U}return{x:Q+W,y:K+G}},"intersectRect"),m2=KX8;I(B20,"applyStyle");I(O20,"addHtmlLabel");UX8=I(async(Z,J,Q,K)=>{let U=Z||"";if(typeof U==="object")U=U[0];if(G9(E0().flowchart.htmlLabels)){U=U.replace(/\\n|\n/g,"<br />"),Z0.info("vertexText"+U);let X={isNode:K,label:c6(U).replace(/fa[blrs]?:fa-[\w-]+/g,(q)=>`<i class='${q.replace(":"," ")}'></i>`),labelStyle:J?J.replace("fill:","color:"):J};return await O20(X)}else{let X=document.createElementNS("http://www.w3.org/2000/svg","text");X.setAttribute("style",J.replace("color:","fill:"));let Y=[];if(typeof U==="string")Y=U.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(U))Y=U;else Y=[];for(let q of Y){let W=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(W.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),W.setAttribute("dy","1em"),W.setAttribute("x","0"),Q)W.setAttribute("class","title-row");else W.setAttribute("class","row");W.textContent=q.trim(),X.appendChild(W)}return X}},"createLabel"),o1=UX8,t1=I((Z,J,Q,K,U)=>["M",Z+U,J,"H",Z+Q-U,"A",U,U,0,0,1,Z+Q,J+U,"V",J+K-U,"A",U,U,0,0,1,Z+Q-U,J+K,"H",Z+U,"A",U,U,0,0,1,Z,J+K-U,"V",J+U,"A",U,U,0,0,1,Z+U,J,"Z"].join(" "),"createRoundedRectPathD"),R20=I(async(Z,J)=>{Z0.info("Creating subgraph rect for ",J.id,J);let Q=E0(),{themeVariables:K,handDrawnSeed:U}=Q,{clusterBkg:X,clusterBorder:Y}=K,{labelStyles:q,nodeStyles:W,borderStyles:G,backgroundStyles:z}=y8(J),H=Z.insert("g").attr("class","cluster "+J.cssClasses).attr("id",J.id).attr("data-look",J.look),F=G9(Q.flowchart.htmlLabels),M=H.insert("g").attr("class","cluster-label "),B=await KQ(M,J.label,{style:J.labelStyle,useHtmlLabels:F,isNode:!0}),O=B.getBBox();if(G9(Q.flowchart.htmlLabels)){let C=B.children[0],j=n0(B);O=C.getBoundingClientRect(),j.attr("width",O.width),j.attr("height",O.height)}let R=J.width<=O.width+J.padding?O.width+J.padding:J.width;if(J.width<=O.width+J.padding)J.diff=(R-J.width)/2-J.padding;else J.diff=-J.padding;let L=J.height,D=J.x-R/2,A=J.y-L/2;Z0.trace("Data ",J,JSON.stringify(J));let V;if(J.look==="handDrawn"){let C=J8.svg(H),j=i8(J,{roughness:0.7,fill:X,stroke:Y,fillWeight:3,seed:U}),$=C.path(t1(D,A,R,L,0),j);V=H.insert(()=>{return Z0.debug("Rough node insert CXC",$),$},":first-child"),V.select("path:nth-child(2)").attr("style",G.join(";")),V.select("path").attr("style",z.join(";").replace("fill","stroke"))}else V=H.insert("rect",":first-child"),V.attr("style",W).attr("rx",J.rx).attr("ry",J.ry).attr("x",D).attr("y",A).attr("width",R).attr("height",L);let{subGraphTitleTopMargin:N}=XY(Q);if(M.attr("transform",`translate(${J.x-O.width/2}, ${J.y-J.height/2+N})`),q){let C=M.select("span");if(C)C.attr("style",q)}let E=V.node().getBBox();return J.offsetX=0,J.width=E.width,J.height=E.height,J.offsetY=O.height-J.padding/2,J.intersect=function(C){return m2(J,C)},{cluster:H,labelBBox:O}},"rect"),XX8=I((Z,J)=>{let Q=Z.insert("g").attr("class","note-cluster").attr("id",J.id),K=Q.insert("rect",":first-child"),U=0*J.padding,X=U/2;K.attr("rx",J.rx).attr("ry",J.ry).attr("x",J.x-J.width/2-X).attr("y",J.y-J.height/2-X).attr("width",J.width+U).attr("height",J.height+U).attr("fill","none");let Y=K.node().getBBox();return J.width=Y.width,J.height=Y.height,J.intersect=function(q){return m2(J,q)},{cluster:Q,labelBBox:{width:0,height:0}}},"noteGroup"),YX8=I(async(Z,J)=>{let Q=E0(),{themeVariables:K,handDrawnSeed:U}=Q,{altBackground:X,compositeBackground:Y,compositeTitleBackground:q,nodeBorder:W}=K,G=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-id",J.id).attr("data-look",J.look),z=G.insert("g",":first-child"),H=G.insert("g").attr("class","cluster-label"),F=G.append("rect"),M=H.node().appendChild(await o1(J.label,J.labelStyle,void 0,!0)),B=M.getBBox();if(G9(Q.flowchart.htmlLabels)){let $=M.children[0],k=n0(M);B=$.getBoundingClientRect(),k.attr("width",B.width),k.attr("height",B.height)}let O=0*J.padding,R=O/2,L=(J.width<=B.width+J.padding?B.width+J.padding:J.width)+O;if(J.width<=B.width+J.padding)J.diff=(L-J.width)/2-J.padding;else J.diff=-J.padding;let D=J.height+O,A=J.height+O-B.height-6,V=J.x-L/2,N=J.y-D/2;J.width=L;let E=J.y-J.height/2-R+B.height+2,C;if(J.look==="handDrawn"){let $=J.cssClasses.includes("statediagram-cluster-alt"),k=J8.svg(G),w=J.rx||J.ry?k.path(t1(V,N,L,D,10),{roughness:0.7,fill:q,fillStyle:"solid",stroke:W,seed:U}):k.rectangle(V,N,L,D,{seed:U});C=G.insert(()=>w,":first-child");let P=k.rectangle(V,E,L,A,{fill:$?X:Y,fillStyle:$?"hachure":"solid",stroke:W,seed:U});C=G.insert(()=>w,":first-child"),F=G.insert(()=>P)}else{C=z.insert("rect",":first-child");let $="outer";C.attr("class",$).attr("x",V).attr("y",N).attr("width",L).attr("height",D).attr("data-look",J.look),F.attr("class","inner").attr("x",V).attr("y",E).attr("width",L).attr("height",A)}H.attr("transform",`translate(${J.x-B.width/2}, ${N+1-(G9(Q.flowchart.htmlLabels)?0:3)})`);let j=C.node().getBBox();return J.height=j.height,J.offsetX=0,J.offsetY=B.height-J.padding/2,J.labelBBox=B,J.intersect=function($){return m2(J,$)},{cluster:G,labelBBox:B}},"roundedWithTitle"),qX8=I(async(Z,J)=>{Z0.info("Creating subgraph rect for ",J.id,J);let Q=E0(),{themeVariables:K,handDrawnSeed:U}=Q,{clusterBkg:X,clusterBorder:Y}=K,{labelStyles:q,nodeStyles:W,borderStyles:G,backgroundStyles:z}=y8(J),H=Z.insert("g").attr("class","cluster "+J.cssClasses).attr("id",J.id).attr("data-look",J.look),F=G9(Q.flowchart.htmlLabels),M=H.insert("g").attr("class","cluster-label "),B=await KQ(M,J.label,{style:J.labelStyle,useHtmlLabels:F,isNode:!0,width:J.width}),O=B.getBBox();if(G9(Q.flowchart.htmlLabels)){let C=B.children[0],j=n0(B);O=C.getBoundingClientRect(),j.attr("width",O.width),j.attr("height",O.height)}let R=J.width<=O.width+J.padding?O.width+J.padding:J.width;if(J.width<=O.width+J.padding)J.diff=(R-J.width)/2-J.padding;else J.diff=-J.padding;let L=J.height,D=J.x-R/2,A=J.y-L/2;Z0.trace("Data ",J,JSON.stringify(J));let V;if(J.look==="handDrawn"){let C=J8.svg(H),j=i8(J,{roughness:0.7,fill:X,stroke:Y,fillWeight:4,seed:U}),$=C.path(t1(D,A,R,L,J.rx),j);V=H.insert(()=>{return Z0.debug("Rough node insert CXC",$),$},":first-child"),V.select("path:nth-child(2)").attr("style",G.join(";")),V.select("path").attr("style",z.join(";").replace("fill","stroke"))}else V=H.insert("rect",":first-child"),V.attr("style",W).attr("rx",J.rx).attr("ry",J.ry).attr("x",D).attr("y",A).attr("width",R).attr("height",L);let{subGraphTitleTopMargin:N}=XY(Q);if(M.attr("transform",`translate(${J.x-O.width/2}, ${J.y-J.height/2+N})`),q){let C=M.select("span");if(C)C.attr("style",q)}let E=V.node().getBBox();return J.offsetX=0,J.width=E.width,J.height=E.height,J.offsetY=O.height-J.padding/2,J.intersect=function(C){return m2(J,C)},{cluster:H,labelBBox:O}},"kanbanSection"),WX8=I((Z,J)=>{let Q=E0(),{themeVariables:K,handDrawnSeed:U}=Q,{nodeBorder:X}=K,Y=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-look",J.look),q=Y.insert("g",":first-child"),W=0*J.padding,G=J.width+W;J.diff=-J.padding;let z=J.height+W,H=J.x-G/2,F=J.y-z/2;J.width=G;let M;if(J.look==="handDrawn"){let R=J8.svg(Y).rectangle(H,F,G,z,{fill:"lightgrey",roughness:0.5,strokeLineDash:[5],stroke:X,seed:U});M=Y.insert(()=>R,":first-child")}else{M=q.insert("rect",":first-child");let O="divider";M.attr("class",O).attr("x",H).attr("y",F).attr("width",G).attr("height",z).attr("data-look",J.look)}let B=M.node().getBBox();return J.height=B.height,J.offsetX=0,J.offsetY=0,J.intersect=function(O){return m2(J,O)},{cluster:Y,labelBBox:{}}},"divider"),GX8=R20,zX8={rect:R20,squareRect:GX8,roundedWithTitle:YX8,noteGroup:XX8,divider:WX8,kanbanSection:qX8},L20=new Map,u2=I(async(Z,J)=>{let Q=J.shape||"rect",K=await zX8[Q](Z,J);return L20.set(J.id,K),K},"insertCluster"),D20=I(()=>{L20=new Map},"clear");I(I20,"intersectNode");HX8=I20;I(A20,"intersectEllipse");N20=A20;I(E20,"intersectCircle");FX8=E20;I(V20,"intersectLine");I(Yc,"sameSign");MX8=V20;I(P20,"intersectPolygon");BX8=P20,h8={node:HX8,circle:FX8,ellipse:N20,polygon:BX8,rect:m2};I(C20,"anchor");I(qc,"generateArcPoints");I(j20,"bowTieRect");I(e1,"insertPolygonShape");I(S20,"card");I(T20,"choice");I(Wc,"circle");I(w20,"createLine");I($20,"crossedCircle");I(GY,"generateCirclePoints");I(k20,"curlyBraceLeft");I(zY,"generateCirclePoints");I(_20,"curlyBraceRight");I(XQ,"generateCirclePoints");I(f20,"curlyBraces");I(v20,"curvedTrapezoid");OX8=I((Z,J,Q,K,U,X)=>{return[`M${Z},${J+X}`,`a${U},${X} 0,0,0 ${Q},0`,`a${U},${X} 0,0,0 ${-Q},0`,`l0,${K}`,`a${U},${X} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createCylinderPathD"),RX8=I((Z,J,Q,K,U,X)=>{return[`M${Z},${J+X}`,`M${Z+Q},${J+X}`,`a${U},${X} 0,0,0 ${-Q},0`,`l0,${K}`,`a${U},${X} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createOuterCylinderPathD"),LX8=I((Z,J,Q,K,U,X)=>{return[`M${Z-Q/2},${-K/2}`,`a${U},${X} 0,0,0 ${Q},0`].join(" ")},"createInnerCylinderPathD");I(x20,"cylinder");I(b20,"dividedRectangle");I(y20,"doublecircle");I(h20,"filledCircle");I(m20,"flippedTriangle");I(u20,"forkJoin");I(g20,"halfRoundedRectangle");I(p20,"hexagon");I(c20,"hourglass");I(l20,"icon");I(d20,"iconCircle");I(i20,"iconRounded");I(s20,"iconSquare");I(r20,"imageSquare");I(n20,"inv_trapezoid");I(aC,"drawRect");I(a20,"labelRect");I(o20,"lean_left");I(t20,"lean_right");I(e20,"lightningBolt");DX8=I((Z,J,Q,K,U,X,Y)=>{return[`M${Z},${J+X}`,`a${U},${X} 0,0,0 ${Q},0`,`a${U},${X} 0,0,0 ${-Q},0`,`l0,${K}`,`a${U},${X} 0,0,0 ${Q},0`,`l0,${-K}`,`M${Z},${J+X+Y}`,`a${U},${X} 0,0,0 ${Q},0`].join(" ")},"createCylinderPathD"),IX8=I((Z,J,Q,K,U,X,Y)=>{return[`M${Z},${J+X}`,`M${Z+Q},${J+X}`,`a${U},${X} 0,0,0 ${-Q},0`,`l0,${K}`,`a${U},${X} 0,0,0 ${Q},0`,`l0,${-K}`,`M${Z},${J+X+Y}`,`a${U},${X} 0,0,0 ${Q},0`].join(" ")},"createOuterCylinderPathD"),AX8=I((Z,J,Q,K,U,X)=>{return[`M${Z-Q/2},${-K/2}`,`a${U},${X} 0,0,0 ${Q},0`].join(" ")},"createInnerCylinderPathD");I(ZF0,"linedCylinder");I(JF0,"linedWaveEdgedRect");I(QF0,"multiRect");I(KF0,"multiWaveEdgedRectangle");I(UF0,"note");NX8=I((Z,J,Q)=>{return[`M${Z+Q/2},${J}`,`L${Z+Q},${J-Q/2}`,`L${Z+Q/2},${J-Q}`,`L${Z},${J-Q/2}`,"Z"].join(" ")},"createDecisionBoxPathD");I(XF0,"question");I(YF0,"rect_left_inv_arrow");I(qF0,"rectWithTitle");I(_L,"generateArcPoints");I(WF0,"roundedRect");I(GF0,"shadedProcess");I(zF0,"slopedRect");I(HF0,"squareRect");I(FF0,"stadium");I(MF0,"state");I(BF0,"stateEnd");I(OF0,"stateStart");I(RF0,"subroutine");I(LF0,"taggedRect");I(DF0,"taggedWaveEdgedRectangle");I(IF0,"text");EX8=I((Z,J,Q,K,U,X)=>{return`M${Z},${J}
    a${U},${X} 0,0,1 0,${-K}
    l${Q},0
    a${U},${X} 0,0,1 0,${K}
    M${Q},${-K}
    a${U},${X} 0,0,0 0,${K}
    l${-Q},0`},"createCylinderPathD"),VX8=I((Z,J,Q,K,U,X)=>{return[`M${Z},${J}`,`M${Z+Q},${J}`,`a${U},${X} 0,0,0 0,${-K}`,`l${-Q},0`,`a${U},${X} 0,0,0 0,${K}`,`l${Q},0`].join(" ")},"createOuterCylinderPathD"),PX8=I((Z,J,Q,K,U,X)=>{return[`M${Z+Q/2},${-K/2}`,`a${U},${X} 0,0,0 0,${K}`].join(" ")},"createInnerCylinderPathD");I(AF0,"tiltedCylinder");I(NF0,"trapezoid");I(EF0,"trapezoidalPentagon");I(VF0,"triangle");I(PF0,"waveEdgedRectangle");I(CF0,"waveRectangle");I(jF0,"windowPane");I(Gc,"erBox");I(h2,"addText");I(SF0,"textHelper");I(fL,"addText");I(TF0,"classBox");I(wF0,"requirementBox");I($U,"addText");CX8=I((Z)=>{switch(Z){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");I($F0,"kanbanItem");I(kF0,"bang");I(_F0,"cloud");I(fF0,"defaultMindmapNode");I(vF0,"mindmapCircle");jX8=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:HF0},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:WF0},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:FF0},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:RF0},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:x20},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Wc},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:kF0},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:_F0},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:XF0},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:p20},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:t20},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:o20},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:NF0},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:n20},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:y20},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:IF0},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:S20},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:GF0},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:OF0},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:BF0},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:u20},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:c20},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:k20},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:_20},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:f20},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:e20},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:PF0},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:g20},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:AF0},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:ZF0},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:v20},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:b20},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:VF0},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:jF0},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:h20},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:EF0},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:m20},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:zF0},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:KF0},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:QF0},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:j20},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:$20},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:DF0},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:LF0},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:CF0},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:YF0},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:JF0}],SX8=I(()=>{let J=[...Object.entries({state:MF0,choice:T20,note:UF0,rectWithTitle:qF0,labelRect:a20,iconSquare:s20,iconCircle:d20,icon:l20,iconRounded:i20,imageSquare:r20,anchor:C20,kanbanItem:$F0,mindmapCircle:vF0,defaultMindmapNode:fF0,classBox:TF0,erBox:Gc,requirementBox:wF0}),...jX8.flatMap((Q)=>{return[Q.shortName,..."aliases"in Q?Q.aliases:[],..."internalAliases"in Q?Q.internalAliases:[]].map((U)=>[U,Q.handler])})];return Object.fromEntries(J)},"generateShapeMap"),xF0=SX8();I(zc,"isValidShape");oC=new Map;I(pG,"insertNode");bF0=I((Z,J)=>{oC.set(J.id,Z)},"setNodeElem"),yF0=I(()=>{oC.clear()},"clear"),xL=I((Z)=>{let J=oC.get(Z.id);Z0.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");let Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode")});function bL(Z,J){if(E0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}function pF0(Z){let J=[],Q=[];for(let K=1;K<Z.length-1;K++){let U=Z[K-1],X=Z[K],Y=Z[K+1];if(U.x===X.x&&X.y===Y.y&&Math.abs(X.x-Y.x)>5&&Math.abs(X.y-U.y)>5)J.push(X),Q.push(K);else if(U.y===X.y&&X.x===Y.x&&Math.abs(X.x-U.x)>5&&Math.abs(X.y-Y.y)>5)J.push(X),Q.push(K)}return{cornerPoints:J,cornerPointPositions:Q}}function cF0(Z,J){if(Z.length<2)return"";let Q="",K=Z.length,U=0.00001;for(let X=0;X<K;X++){let Y=Z[X],q=Z[X-1],W=Z[X+1];if(X===0)Q+=`M${Y.x},${Y.y}`;else if(X===K-1)Q+=`L${Y.x},${Y.y}`;else{let G=Y.x-q.x,z=Y.y-q.y,H=W.x-Y.x,F=W.y-Y.y,M=Math.hypot(G,z),B=Math.hypot(H,F);if(M<U||B<U){Q+=`L${Y.x},${Y.y}`;continue}let O=G/M,R=z/M,L=H/B,D=F/B,A=O*L+R*D,V=Math.max(-1,Math.min(1,A)),N=Math.acos(V);if(N<U||Math.abs(Math.PI-N)<U){Q+=`L${Y.x},${Y.y}`;continue}let E=Math.min(J/Math.sin(N/2),M/2,B/2),C=Y.x-O*E,j=Y.y-R*E,$=Y.x+L*E,k=Y.y+D*E;Q+=`L${C},${j}`,Q+=`Q${Y.x},${Y.y} ${$},${k}`}}return Q}function Hc(Z,J){if(!Z||!J)return{angle:0,deltaX:0,deltaY:0};let Q=J.x-Z.x,K=J.y-Z.y;return{angle:Math.atan2(K,Q),deltaX:Q,deltaY:K}}function lF0(Z,J){let Q=Z.map((U)=>({...U}));if(Z.length>=2&&ZQ[J.arrowTypeStart]){let U=ZQ[J.arrowTypeStart],X=Z[0],Y=Z[1],{angle:q}=Hc(X,Y),W=U*Math.cos(q),G=U*Math.sin(q);Q[0].x=X.x+W,Q[0].y=X.y+G}let K=Z.length;if(K>=2&&ZQ[J.arrowTypeEnd]){let U=ZQ[J.arrowTypeEnd],X=Z[K-1],Y=Z[K-2],{angle:q}=Hc(Y,X),W=U*Math.cos(q),G=U*Math.sin(q);Q[K-1].x=X.x-W,Q[K-1].y=X.y-G}return Q}var TX8,wX8,hF0,eC,YQ,gF0,tC,Zj,Jj,$X8,kX8,mF0,uF0,_X8,fX8,Qj,vX8,xX8,bX8,yX8,hX8,mX8,uX8,gX8,pX8,cX8,lX8,dX8,iX8,sX8,rX8,nX8,aX8,Kj;var HK=f(()=>{w4();d6();Z6();J6();UQ();w9();yZ();AZ();TZ();o8();TX8=I((Z,J,Q,K,U,X)=>{if(J.arrowTypeStart)hF0(Z,"start",J.arrowTypeStart,Q,K,U,X);if(J.arrowTypeEnd)hF0(Z,"end",J.arrowTypeEnd,Q,K,U,X)},"addEdgeMarkers"),wX8={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},hF0=I((Z,J,Q,K,U,X,Y)=>{let q=wX8[Q];if(!q){Z0.warn(`Unknown arrow type: ${Q}`);return}let W=q.type,z=`${U}_${X}-${W}${J==="start"?"Start":"End"}`;if(Y&&Y.trim()!==""){let H=Y.replace(/[^\dA-Za-z]/g,"_"),F=`${z}_${H}`;if(!document.getElementById(F)){let M=document.getElementById(z);if(M){let B=M.cloneNode(!0);B.id=F,B.querySelectorAll("path, circle, line").forEach((R)=>{if(R.setAttribute("stroke",Y),q.fill)R.setAttribute("fill",Y)}),M.parentNode?.appendChild(B)}}Z.attr(`marker-${J}`,`url(${K}#${F})`)}else Z.attr(`marker-${J}`,`url(${K}#${z})`)},"addEdgeMarker"),eC=new Map,YQ=new Map,gF0=I(()=>{eC.clear(),YQ.clear()},"clear"),tC=I((Z)=>{return Z?Z.reduce((Q,K)=>Q+";"+K,""):""},"getLabelStyles"),Zj=I(async(Z,J)=>{let Q=G9(E0().flowchart.htmlLabels),{labelStyles:K}=y8(J);J.labelStyle=K;let U=await KQ(Z,J.label,{style:J.labelStyle,useHtmlLabels:Q,addSvgBackground:!0,isNode:!1});Z0.info("abc82",J,J.labelType);let X=Z.insert("g").attr("class","edgeLabel"),Y=X.insert("g").attr("class","label").attr("data-id",J.id);Y.node().appendChild(U);let q=U.getBBox();if(Q){let G=U.children[0],z=n0(U);q=G.getBoundingClientRect(),z.attr("width",q.width),z.attr("height",q.height)}Y.attr("transform","translate("+-q.width/2+", "+-q.height/2+")"),eC.set(J.id,X),J.width=q.width,J.height=q.height;let W;if(J.startLabelLeft){let G=await o1(J.startLabelLeft,tC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!YQ.get(J.id))YQ.set(J.id,{});YQ.get(J.id).startLeft=z,bL(W,J.startLabelLeft)}if(J.startLabelRight){let G=await o1(J.startLabelRight,tC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=z.node().appendChild(G),H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!YQ.get(J.id))YQ.set(J.id,{});YQ.get(J.id).startRight=z,bL(W,J.startLabelRight)}if(J.endLabelLeft){let G=await o1(J.endLabelLeft,tC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!YQ.get(J.id))YQ.set(J.id,{});YQ.get(J.id).endLeft=z,bL(W,J.endLabelLeft)}if(J.endLabelRight){let G=await o1(J.endLabelRight,tC(J.labelStyle)),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!YQ.get(J.id))YQ.set(J.id,{});YQ.get(J.id).endRight=z,bL(W,J.endLabelRight)}return U},"insertEdgeLabel");I(bL,"setTerminalWidth");Jj=I((Z,J)=>{Z0.debug("Moving label abc88 ",Z.id,Z.label,eC.get(Z.id),J);let Q=J.updatedPath?J.updatedPath:J.originalPath,K=E0(),{subGraphTitleTotalMargin:U}=XY(K);if(Z.label){let X=eC.get(Z.id),Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcLabelPosition(Q);if(Z0.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",W.x,",",W.y,") abc88"),J.updatedPath)Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q+U/2})`)}if(Z.startLabelLeft){let X=YQ.get(Z.id).startLeft,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){let X=YQ.get(Z.id).startRight,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){let X=YQ.get(Z.id).endLeft,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){let X=YQ.get(Z.id).endRight,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),$X8=I((Z,J)=>{let{x:Q,y:K}=Z,U=Math.abs(J.x-Q),X=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;return U>=Y||X>=q},"outsideNode"),kX8=I((Z,J,Q)=>{Z0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);let{x:K,y:U}=Z,X=Math.abs(K-Q.x),Y=Z.width/2,q=Q.x<J.x?Y-X:Y+X,W=Z.height/2,G=Math.abs(J.y-Q.y),z=Math.abs(J.x-Q.x);if(Math.abs(U-J.y)*Y>Math.abs(K-J.x)*W){let H=Q.y<J.y?J.y-W-U:U-W-J.y;q=z*H/G;let F={x:Q.x<J.x?Q.x+q:Q.x-z+q,y:Q.y<J.y?Q.y+G-H:Q.y-G+H};if(q===0)F.x=J.x,F.y=J.y;if(z===0)F.x=J.x;if(G===0)F.y=J.y;return Z0.debug(`abc89 top/bottom calc, Q ${G}, q ${H}, R ${z}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let H=G*q/z,F=Q.x<J.x?Q.x+z-q:Q.x-z+q,M=Q.y<J.y?Q.y+H:Q.y-H;if(Z0.debug(`sides calc abc89, Q ${G}, q ${H}, R ${z}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(z===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),mF0=I((Z,J)=>{Z0.warn("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],U=!1;return Z.forEach((X)=>{if(Z0.info("abc88 checking point",X,J),!$X8(J,X)&&!U){let Y=kX8(J,K,X);Z0.debug("abc88 inside",X,K,Y),Z0.debug("abc88 intersection",Y,J);let q=!1;if(Q.forEach((W)=>{q=q||W.x===Y.x&&W.y===Y.y}),!Q.some((W)=>W.x===Y.x&&W.y===Y.y))Q.push(Y);else Z0.warn("abc88 no intersect",Y,Q);U=!0}else if(Z0.warn("abc88 outside",X,K),K=X,!U)Q.push(X)}),Z0.debug("returning points",Q),Q},"cutPathAtIntersect");I(pF0,"extractCornerPoints");uF0=I(function(Z,J,Q){let K=J.x-Z.x,U=J.y-Z.y,X=Math.sqrt(K*K+U*U),Y=Q/X;return{x:J.x-Y*K,y:J.y-Y*U}},"findAdjacentPoint"),_X8=I(function(Z){let{cornerPointPositions:J}=pF0(Z),Q=[];for(let K=0;K<Z.length;K++)if(J.includes(K)){let U=Z[K-1],X=Z[K+1],Y=Z[K],q=uF0(U,Y,5),W=uF0(X,Y,5),G=W.x-q.x,z=W.y-q.y;Q.push(q);let H=Math.sqrt(2)*2,F={x:Y.x,y:Y.y};if(Math.abs(X.x-U.x)>10&&Math.abs(X.y-U.y)>=10){Z0.debug("Corner point fixing",Math.abs(X.x-U.x),Math.abs(X.y-U.y));let M=5;if(Y.x===q.x)F={x:G<0?q.x-M+H:q.x+M-H,y:z<0?q.y-H:q.y+H};else F={x:G<0?q.x-H:q.x+H,y:z<0?q.y-M+H:q.y+M-H}}else Z0.debug("Corner point skipping fixing",Math.abs(X.x-U.x),Math.abs(X.y-U.y));Q.push(F,W)}else Q.push(Z[K]);return Q},"fixCorners"),fX8=I((Z,J,Q)=>{let K=Z-J-Q,U=2,X=2,Y=4,q=Math.floor(K/4),W=Array(q).fill("2 2").join(" ");return`0 ${J} ${W} ${Q}`},"generateDashArray"),Qj=I(function(Z,J,Q,K,U,X,Y,q=!1){let{handDrawnSeed:W}=E0(),G=J.points,z=!1,H=U;var F=X;let M=[];for(let T in J.cssCompiledStyles){if(QL(T))continue;M.push(J.cssCompiledStyles[T])}if(Z0.debug("UIO intersect check",J.points,F.x,H.x),F.intersect&&H.intersect&&!q)G=G.slice(1,J.points.length-1),G.unshift(H.intersect(G[0])),Z0.debug("Last point UIO",J.start,"-->",J.end,G[G.length-1],F,F.intersect(G[G.length-1])),G.push(F.intersect(G[G.length-1]));let B=btoa(JSON.stringify(G));if(J.toCluster)Z0.info("to cluster abc88",Q.get(J.toCluster)),G=mF0(J.points,Q.get(J.toCluster).node),z=!0;if(J.fromCluster)Z0.debug("from cluster abc88",Q.get(J.fromCluster),JSON.stringify(G,null,2)),G=mF0(G.reverse(),Q.get(J.fromCluster).node).reverse(),z=!0;let O=G.filter((T)=>!Number.isNaN(T.y));O=_X8(O);let R=YK;switch(R=KY,J.curve){case"linear":R=KY;break;case"basis":R=YK;break;case"cardinal":R=g3;break;case"bumpX":R=y3;break;case"bumpY":R=h3;break;case"catmullRom":R=l3;break;case"monotoneX":R=d3;break;case"monotoneY":R=i3;break;case"natural":R=O2;break;case"step":R=R2;break;case"stepAfter":R=r3;break;case"stepBefore":R=s3;break;default:R=YK}let{x:L,y:D}=tP(J),A=F5().x(L).y(D).curve(R),V;switch(J.thickness){case"normal":V="edge-thickness-normal";break;case"thick":V="edge-thickness-thick";break;case"invisible":V="edge-thickness-invisible";break;default:V="edge-thickness-normal"}switch(J.pattern){case"solid":V+=" edge-pattern-solid";break;case"dotted":V+=" edge-pattern-dotted";break;case"dashed":V+=" edge-pattern-dashed";break;default:V+=" edge-pattern-solid"}let N,E=J.curve==="rounded"?cF0(lF0(O,J),5):A(O),C=Array.isArray(J.style)?J.style:[J.style],j=C.find((T)=>T?.startsWith("stroke:")),$=!1;if(J.look==="handDrawn"){let T=J8.svg(Z);Object.assign([],O);let _=T.path(E,{roughness:0.3,seed:W});V+=" transition",N=n0(_).select("path").attr("id",J.id).attr("class"," "+V+(J.classes?" "+J.classes:"")).attr("style",C?C.reduce((x,b)=>x+";"+b,""):"");let v=N.attr("d");N.attr("d",v),Z.node().appendChild(N.node())}else{let T=M.join(";"),_=C?C.reduce((p,r)=>p+r+";",""):"",v="";if(J.animate)v=" edge-animation-fast";if(J.animation)v=" edge-animation-"+J.animation;let x=(T?T+";"+_+";":_)+";"+(C?C.reduce((p,r)=>p+";"+r,""):"");N=Z.append("path").attr("d",E).attr("id",J.id).attr("class"," "+V+(J.classes?" "+J.classes:"")+(v??"")).attr("style",x),j=x.match(/stroke:([^;]+)/)?.[1],$=J.animate===!0||!!J.animation||T.includes("animation");let b=N.node(),y=typeof b.getTotalLength==="function"?b.getTotalLength():0,u=ag[J.arrowTypeStart]||0,h=ag[J.arrowTypeEnd]||0;if(J.look==="neo"&&!$){let r=`stroke-dasharray: ${J.pattern==="dotted"||J.pattern==="dashed"?fX8(y,u,h):`0 ${u} ${y-u-h} ${h}`}; stroke-dashoffset: 0;`;N.attr("style",r+N.attr("style"))}}if(N.attr("data-edge",!0),N.attr("data-et","edge"),N.attr("data-id",J.id),N.attr("data-points",B),J.showPoints)O.forEach((T)=>{Z.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",T.x).attr("cy",T.y)});let k="";if(E0().flowchart.arrowMarkerAbsolute||E0().state.arrowMarkerAbsolute)k=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,k=k.replace(/\(/g,"\\(").replace(/\)/g,"\\)");Z0.info("arrowTypeStart",J.arrowTypeStart),Z0.info("arrowTypeEnd",J.arrowTypeEnd),TX8(N,J,k,Y,K,j);let w=Math.floor(G.length/2),P=G[w];if(!ZZ.isLabelCoordinateInPath(P,N.attr("d")))z=!0;let S={};if(z)S.updatedPath=G;return S.originalPath=J.points,S},"insertEdge");I(cF0,"generateRoundedPath");I(Hc,"calculateDeltaAndAngle");I(lF0,"applyMarkerOffsetsToPoints");vX8=I((Z,J,Q,K)=>{J.forEach((U)=>{aX8[U](Z,Q,K)})},"insertMarkers"),xX8=I((Z,J,Q)=>{Z0.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),bX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),yX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),hX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),mX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),uX8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),gX8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),pX8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),cX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),lX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-onlyOneStart").attr("class","marker onlyOne "+J).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-onlyOneEnd").attr("class","marker onlyOne "+J).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),dX8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrOneStart").attr("class","marker zeroOrOne "+J).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");K.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),K.append("path").attr("d","M9,0 L9,18");let U=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+J).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");U.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),U.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),iX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-oneOrMoreStart").attr("class","marker oneOrMore "+J).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-oneOrMoreEnd").attr("class","marker oneOrMore "+J).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),sX8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+J).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");K.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),K.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let U=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+J).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");U.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),U.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),rX8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),nX8=I((Z,J,Q)=>{let K=Z.append("defs").append("marker").attr("id",Q+"_"+J+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");K.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),K.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),K.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),aX8={extension:xX8,composition:bX8,aggregation:yX8,dependency:hX8,lollipop:mX8,point:uX8,circle:gX8,cross:pX8,barb:cX8,only_one:lX8,zero_or_one:dX8,one_or_more:iX8,zero_or_more:sX8,requirement_arrow:rX8,requirement_contains:nX8},Kj=vX8});function tX8(Z){return typeof Z=="symbol"||nJ(Z)&&Q6(Z)==oX8}var oX8="[object Symbol]",k4;var cG=f(()=>{f1();B5();k4=tX8});function eX8(Z,J){var Q=-1,K=Z==null?0:Z.length,U=Array(K);while(++Q<K)U[Q]=J(Z[Q],Q,Z);return U}var kU;var yL=f(()=>{kU=eX8});function sF0(Z){if(typeof Z=="string")return Z;if(fZ(Z))return kU(Z,sF0)+"";if(k4(Z))return iF0?iF0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-ZY8?"-0":J}var ZY8=1/0,dF0,iF0,rF0;var nF0=f(()=>{bG();yL();Q7();cG();dF0=_7?_7.prototype:void 0,iF0=dF0?dF0.toString:void 0;rF0=sF0});function QY8(Z){var J=Z.length;while(J--&&JY8.test(Z.charAt(J)));return J}var JY8,aF0;var oF0=f(()=>{JY8=/\s/;aF0=QY8});function UY8(Z){return Z?Z.slice(0,aF0(Z)+1).replace(KY8,""):Z}var KY8,tF0;var eF0=f(()=>{oF0();KY8=/^\s+/;tF0=UY8});function GY8(Z){if(typeof Z=="number")return Z;if(k4(Z))return ZM0;if(IJ(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=IJ(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=tF0(Z);var Q=YY8.test(Z);return Q||qY8.test(Z)?WY8(Z.slice(2),Q?2:8):XY8.test(Z)?ZM0:+Z}var ZM0=NaN,XY8,YY8,qY8,WY8,JM0;var QM0=f(()=>{eF0();WK();cG();XY8=/^[-+]0x[0-9a-f]+$/i,YY8=/^0b[01]+$/i,qY8=/^0o[0-7]+$/i,WY8=parseInt;JM0=GY8});function HY8(Z){if(!Z)return Z===0?Z:0;if(Z=JM0(Z),Z===KM0||Z===-KM0){var J=Z<0?-1:1;return J*zY8}return Z===Z?Z:0}var KM0=1/0,zY8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,g2;var Fc=f(()=>{QM0();g2=HY8});function FY8(Z){var J=g2(Z),Q=J%1;return J===J?Q?J-Q:J:0}var UM0;var XM0=f(()=>{Fc();UM0=FY8});var MY8,Uj;var YM0=f(()=>{v1();qK();MY8=m6(hJ,"WeakMap"),Uj=MY8});function BY8(){}var qM0;var WM0=f(()=>{qM0=BY8});function OY8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var Xj;var Mc=f(()=>{Xj=OY8});function RY8(Z,J,Q,K){var U=Z.length,X=Q+(K?1:-1);while(K?X--:++X<U)if(J(Z[X],X,Z))return X;return-1}var Yj;var Bc=f(()=>{Yj=RY8});function LY8(Z){return Z!==Z}var GM0;var zM0=f(()=>{GM0=LY8});function DY8(Z,J,Q){var K=Q-1,U=Z.length;while(++K<U)if(Z[K]===J)return K;return-1}var HM0;var FM0=f(()=>{HM0=DY8});function IY8(Z,J,Q){return J===J?HM0(Z,J,Q):Yj(Z,GM0,Q)}var MM0;var BM0=f(()=>{Bc();zM0();FM0();MM0=IY8});function AY8(Z,J){var Q=Z==null?0:Z.length;return!!Q&&MM0(Z,J,0)>-1}var OM0;var RM0=f(()=>{BM0();OM0=AY8});var NY8,LM0;var DM0=f(()=>{Wp();NY8=GC(Object.keys,Object),LM0=NY8});function PY8(Z){if(!u1(Z))return LM0(Z);var J=[];for(var Q in Object(Z))if(VY8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var EY8,VY8,p2;var qj=f(()=>{ML();DM0();EY8=Object.prototype,VY8=EY8.hasOwnProperty;p2=PY8});function CY8(Z){return f7(Z)?IC(Z):p2(Z)}var mJ;var HY=f(()=>{Bp();qj();VU();mJ=CY8});function TY8(Z,J){if(fZ(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||k4(Z))return!0;return SY8.test(Z)||!jY8.test(Z)||J!=null&&Z in Object(J)}var jY8,SY8,c2;var Wj=f(()=>{Q7();cG();jY8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SY8=/^\w*$/;c2=TY8});function $Y8(Z){var J=C2(Z,function(K){if(Q.size===wY8)Q.clear();return K}),Q=J.cache;return J}var wY8=500,IM0;var AM0=f(()=>{Jp();IM0=$Y8});var kY8,_Y8,fY8,NM0;var EM0=f(()=>{AM0();kY8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_Y8=/\\(\\)?/g,fY8=IM0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(kY8,function(Q,K,U,X){J.push(U?X.replace(_Y8,"$1"):K||Q)}),J}),NM0=fY8});function vY8(Z){return Z==null?"":rF0(Z)}var Gj;var Oc=f(()=>{nF0();Gj=vY8});function xY8(Z,J){if(fZ(Z))return Z;return c2(Z,J)?[Z]:NM0(Gj(Z))}var Zq;var hL=f(()=>{Q7();Wj();EM0();Oc();Zq=xY8});function yY8(Z){if(typeof Z=="string"||k4(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-bY8?"-0":J}var bY8=1/0,_U;var l2=f(()=>{cG();_U=yY8});function hY8(Z,J){J=Zq(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[_U(J[Q++])];return Q&&Q==K?Z:void 0}var Jq;var mL=f(()=>{hL();l2();Jq=hY8});function mY8(Z,J,Q){var K=Z==null?void 0:Jq(Z,J);return K===void 0?Q:K}var VM0;var PM0=f(()=>{mL();VM0=mY8});function uY8(Z,J){var Q=-1,K=J.length,U=Z.length;while(++Q<K)Z[U+Q]=J[Q];return Z}var d2;var zj=f(()=>{d2=uY8});function gY8(Z){return fZ(Z)||O5(Z)||!!(CM0&&Z&&Z[CM0])}var CM0,jM0;var SM0=f(()=>{bG();_2();Q7();CM0=_7?_7.isConcatSpreadable:void 0;jM0=gY8});function TM0(Z,J,Q,K,U){var X=-1,Y=Z.length;Q||(Q=jM0),U||(U=[]);while(++X<Y){var q=Z[X];if(J>0&&Q(q))if(J>1)TM0(q,J-1,Q,K,U);else d2(U,q);else if(!K)U[U.length]=q}return U}var Qq;var uL=f(()=>{zj();SM0();Qq=TM0});function pY8(Z){var J=Z==null?0:Z.length;return J?Qq(Z,1):[]}var i6;var Hj=f(()=>{uL();i6=pY8});function cY8(Z){return NC(AC(Z,void 0,i6),Z+"")}var wM0;var $M0=f(()=>{Hj();Op();Lp();wM0=cY8});function tY8(Z){return oY8.test(Z)}var lY8="\\ud800-\\udfff",dY8="\\u0300-\\u036f",iY8="\\ufe20-\\ufe2f",sY8="\\u20d0-\\u20ff",rY8,nY8="\\ufe0e\\ufe0f",aY8="\\u200d",oY8,kM0;var _M0=f(()=>{rY8=dY8+iY8+sY8,oY8=RegExp("["+aY8+lY8+rY8+nY8+"]");kM0=tY8});function eY8(Z,J,Q,K){var U=-1,X=Z==null?0:Z.length;if(K&&X)Q=Z[++U];while(++U<X)Q=J(Q,Z[U],U,Z);return Q}var fM0;var vM0=f(()=>{fM0=eY8});function Z18(Z,J){return Z&&CU(J,mJ(J),Z)}var xM0;var bM0=f(()=>{x2();HY();xM0=Z18});function J18(Z,J){return Z&&CU(J,u6(J),Z)}var yM0;var hM0=f(()=>{x2();d1();yM0=J18});function Q18(Z,J){var Q=-1,K=Z==null?0:Z.length,U=0,X=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))X[U++]=Y}return X}var Fj;var Rc=f(()=>{Fj=Q18});function K18(){return[]}var Mj;var Lc=f(()=>{Mj=K18});var U18,X18,mM0,Y18,i2;var Bj=f(()=>{Rc();Lc();U18=Object.prototype,X18=U18.propertyIsEnumerable,mM0=Object.getOwnPropertySymbols,Y18=!mM0?Mj:function(Z){if(Z==null)return[];return Z=Object(Z),Fj(mM0(Z),function(J){return X18.call(Z,J)})},i2=Y18});function q18(Z,J){return CU(Z,i2(Z),J)}var uM0;var gM0=f(()=>{x2();Bj();uM0=q18});var W18,G18,Oj;var Dc=f(()=>{zj();zC();Bj();Lc();W18=Object.getOwnPropertySymbols,G18=!W18?Mj:function(Z){var J=[];while(Z)d2(J,i2(Z)),Z=k2(Z);return J},Oj=G18});function z18(Z,J){return CU(Z,Oj(Z),J)}var pM0;var cM0=f(()=>{x2();Dc();pM0=z18});function H18(Z,J,Q){var K=J(Z);return fZ(Z)?K:d2(K,Q(Z))}var Rj;var Ic=f(()=>{zj();Q7();Rj=H18});function F18(Z){return Rj(Z,mJ,i2)}var gL;var Ac=f(()=>{Ic();Bj();HY();gL=F18});function M18(Z){return Rj(Z,u6,Oj)}var lM0;var dM0=f(()=>{Ic();Dc();d1();lM0=M18});var B18,Lj;var iM0=f(()=>{v1();qK();B18=m6(hJ,"DataView"),Lj=B18});var O18,Dj;var sM0=f(()=>{v1();qK();O18=m6(hJ,"Promise"),Dj=O18});var R18,Kq;var Nc=f(()=>{v1();qK();R18=m6(hJ,"Set"),Kq=R18});var rM0="[object Map]",L18="[object Object]",nM0="[object Promise]",aM0="[object Set]",oM0="[object WeakMap]",tM0="[object DataView]",D18,I18,A18,N18,E18,lG,_4;var dG=f(()=>{iM0();JC();sM0();Nc();YM0();f1();tg();D18=YY(Lj),I18=YY(y1),A18=YY(Dj),N18=YY(Kq),E18=YY(Uj),lG=Q6;if(Lj&&lG(new Lj(new ArrayBuffer(1)))!=tM0||y1&&lG(new y1)!=rM0||Dj&&lG(Dj.resolve())!=nM0||Kq&&lG(new Kq)!=aM0||Uj&&lG(new Uj)!=oM0)lG=function(Z){var J=Q6(Z),Q=J==L18?Z.constructor:void 0,K=Q?YY(Q):"";if(K)switch(K){case D18:return tM0;case I18:return rM0;case A18:return nM0;case N18:return aM0;case E18:return oM0}return J};_4=lG});function C18(Z){var J=Z.length,Q=new Z.constructor(J);if(J&&typeof Z[0]=="string"&&P18.call(Z,"index"))Q.index=Z.index,Q.input=Z.input;return Q}var V18,P18,eM0;var ZB0=f(()=>{V18=Object.prototype,P18=V18.hasOwnProperty;eM0=C18});function j18(Z,J){var Q=J?$2(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.byteLength)}var JB0;var QB0=f(()=>{YC();JB0=j18});function T18(Z){var J=new Z.constructor(Z.source,S18.exec(Z));return J.lastIndex=Z.lastIndex,J}var S18,KB0;var UB0=f(()=>{S18=/\w*$/;KB0=T18});function w18(Z){return YB0?Object(YB0.call(Z)):{}}var XB0,YB0,qB0;var WB0=f(()=>{bG();XB0=_7?_7.prototype:void 0,YB0=XB0?XB0.valueOf:void 0;qB0=w18});function n18(Z,J,Q){var K=Z.constructor;switch(J){case h18:return $2(Z);case $18:case k18:return new K(+Z);case m18:return JB0(Z,Q);case u18:case g18:case p18:case c18:case l18:case d18:case i18:case s18:case r18:return qC(Z,Q);case _18:return new K;case f18:case b18:return new K(Z);case v18:return KB0(Z);case x18:return new K;case y18:return qB0(Z)}}var $18="[object Boolean]",k18="[object Date]",_18="[object Map]",f18="[object Number]",v18="[object RegExp]",x18="[object Set]",b18="[object String]",y18="[object Symbol]",h18="[object ArrayBuffer]",m18="[object DataView]",u18="[object Float32Array]",g18="[object Float64Array]",p18="[object Int8Array]",c18="[object Int16Array]",l18="[object Int32Array]",d18="[object Uint8Array]",i18="[object Uint8ClampedArray]",s18="[object Uint16Array]",r18="[object Uint32Array]",GB0;var zB0=f(()=>{YC();QB0();UB0();WB0();Yp();GB0=n18});function o18(Z){return nJ(Z)&&_4(Z)==a18}var a18="[object Map]",HB0;var FB0=f(()=>{dG();B5();HB0=o18});var MB0,t18,BB0;var OB0=f(()=>{FB0();BL();DC();MB0=PU&&PU.isMap,t18=MB0?g1(MB0):HB0,BB0=t18});function Zq8(Z){return nJ(Z)&&_4(Z)==e18}var e18="[object Set]",RB0;var LB0=f(()=>{dG();B5();RB0=Zq8});var DB0,Jq8,IB0;var AB0=f(()=>{LB0();BL();DC();DB0=PU&&PU.isSet,Jq8=DB0?g1(DB0):RB0,IB0=Jq8});function Ij(Z,J,Q,K,U,X){var Y,q=J&Qq8,W=J&Kq8,G=J&Uq8;if(Q)Y=U?Q(Z,K,U,X):Q(Z);if(Y!==void 0)return Y;if(!IJ(Z))return Z;var z=fZ(Z);if(z){if(Y=eM0(Z),!q)return WC(Z,Y)}else{var H=_4(Z),F=H==EB0||H==Gq8;if(zK(Z))return FL(Z,q);if(H==VB0||H==NB0||F&&!U){if(Y=W||F?{}:HC(Z),!q)return W?pM0(Z,yM0(Y,Z)):uM0(Z,xM0(Y,Z))}else{if(!n9[H])return U?Z:{};Y=GB0(Z,H,q)}}X||(X=new EU);var M=X.get(Z);if(M)return M;if(X.set(Z,Y),IB0(Z))Z.forEach(function(R){Y.add(Ij(R,J,Q,R,Z,X))});else if(BB0(Z))Z.forEach(function(R,L){Y.set(L,Ij(R,J,Q,L,Z,X))});var B=G?W?lM0:gL:W?u6:mJ,O=z?void 0:B(Z);return Xj(O||Z,function(R,L){if(O)L=R,R=Z[L];c1(Y,L,Ij(R,J,Q,L,Z,X))}),Y}var Qq8=1,Kq8=2,Uq8=4,NB0="[object Arguments]",Xq8="[object Array]",Yq8="[object Boolean]",qq8="[object Date]",Wq8="[object Error]",EB0="[object Function]",Gq8="[object GeneratorFunction]",zq8="[object Map]",Hq8="[object Number]",VB0="[object Object]",Fq8="[object RegExp]",Mq8="[object Set]",Bq8="[object String]",Oq8="[object Symbol]",Rq8="[object WeakMap]",Lq8="[object ArrayBuffer]",Dq8="[object DataView]",Iq8="[object Float32Array]",Aq8="[object Float64Array]",Nq8="[object Int8Array]",Eq8="[object Int16Array]",Vq8="[object Int32Array]",Pq8="[object Uint8Array]",Cq8="[object Uint8ClampedArray]",jq8="[object Uint16Array]",Sq8="[object Uint32Array]",n9,Aj;var Ec=f(()=>{GL();Mc();DL();bM0();hM0();Up();qp();gM0();cM0();Ac();dM0();dG();ZB0();zB0();Gp();Q7();v2();OB0();WK();AB0();HY();d1();n9={};n9[NB0]=n9[Xq8]=n9[Lq8]=n9[Dq8]=n9[Yq8]=n9[qq8]=n9[Iq8]=n9[Aq8]=n9[Nq8]=n9[Eq8]=n9[Vq8]=n9[zq8]=n9[Hq8]=n9[VB0]=n9[Fq8]=n9[Mq8]=n9[Bq8]=n9[Oq8]=n9[Pq8]=n9[Cq8]=n9[jq8]=n9[Sq8]=!0;n9[Wq8]=n9[EB0]=n9[Rq8]=!1;Aj=Ij});function wq8(Z){return Aj(Z,Tq8)}var Tq8=4,pL;var Vc=f(()=>{Ec();pL=wq8});function _q8(Z){return Aj(Z,$q8|kq8)}var $q8=1,kq8=4,Pc;var PB0=f(()=>{Ec();Pc=_q8});function vq8(Z){return this.__data__.set(Z,fq8),this}var fq8="__lodash_hash_undefined__",CB0;var jB0=f(()=>{CB0=vq8});function xq8(Z){return this.__data__.has(Z)}var SB0;var TB0=f(()=>{SB0=xq8});function Nj(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new hG;while(++J<Q)this.add(Z[J])}var Ej;var Cc=f(()=>{QC();jB0();TB0();Nj.prototype.add=Nj.prototype.push=CB0;Nj.prototype.has=SB0;Ej=Nj});function bq8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var wB0;var $B0=f(()=>{wB0=bq8});function yq8(Z,J){return Z.has(J)}var Vj;var jc=f(()=>{Vj=yq8});function uq8(Z,J,Q,K,U,X){var Y=Q&hq8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=X.get(Z),z=X.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&mq8?new Ej:void 0;X.set(Z,J),X.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,X):K(B,O,H,Z,J,X);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!wB0(J,function(L,D){if(!Vj(M,D)&&(B===L||U(B,L,Q,K,X)))return M.push(D)})){F=!1;break}}else if(!(B===O||U(B,O,Q,K,X))){F=!1;break}}return X.delete(Z),X.delete(J),F}var hq8=1,mq8=2,Pj;var Sc=f(()=>{Cc();$B0();jc();Pj=uq8});function gq8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,U){Q[++J]=[U,K]}),Q}var kB0;var _B0=f(()=>{kB0=gq8});function pq8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var s2;var Cj=f(()=>{s2=pq8});function QW8(Z,J,Q,K,U,X,Y){switch(Q){case JW8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case ZW8:if(Z.byteLength!=J.byteLength||!X(new w2(Z),new w2(J)))return!1;return!0;case dq8:case iq8:case nq8:return GK(+Z,+J);case sq8:return Z.name==J.name&&Z.message==J.message;case aq8:case tq8:return Z==J+"";case rq8:var q=kB0;case oq8:var W=K&cq8;if(q||(q=s2),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=lq8,Y.set(Z,J);var z=Pj(q(Z),q(J),K,U,X,Y);return Y.delete(Z),z;case eq8:if(Tc)return Tc.call(Z)==Tc.call(J)}return!1}var cq8=1,lq8=2,dq8="[object Boolean]",iq8="[object Date]",sq8="[object Error]",rq8="[object Map]",nq8="[object Number]",aq8="[object RegExp]",oq8="[object Set]",tq8="[object String]",eq8="[object Symbol]",ZW8="[object ArrayBuffer]",JW8="[object DataView]",fB0,Tc,vB0;var xB0=f(()=>{bG();Xp();yG();Sc();_B0();Cj();fB0=_7?_7.prototype:void 0,Tc=fB0?fB0.valueOf:void 0;vB0=QW8});function YW8(Z,J,Q,K,U,X){var Y=Q&KW8,q=gL(Z),W=q.length,G=gL(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:XW8.call(J,F)))return!1}var M=X.get(Z),B=X.get(J);if(M&&B)return M==J&&B==Z;var O=!0;X.set(Z,J),X.set(J,Z);var R=Y;while(++H<W){F=q[H];var L=Z[F],D=J[F];if(K)var A=Y?K(D,L,F,J,Z,X):K(L,D,F,Z,J,X);if(!(A===void 0?L===D||U(L,D,Q,K,X):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return X.delete(Z),X.delete(J),O}var KW8=1,UW8,XW8,bB0;var yB0=f(()=>{Ac();UW8=Object.prototype,XW8=UW8.hasOwnProperty;bB0=YW8});function GW8(Z,J,Q,K,U,X){var Y=fZ(Z),q=fZ(J),W=Y?mB0:_4(Z),G=q?mB0:_4(J);W=W==hB0?jj:W,G=G==hB0?jj:G;var z=W==jj,H=G==jj,F=W==G;if(F&&zK(Z)){if(!zK(J))return!1;Y=!0,z=!1}if(F&&!z)return X||(X=new EU),Y||p1(Z)?Pj(Z,J,Q,K,U,X):vB0(Z,J,W,Q,K,U,X);if(!(Q&qW8)){var M=z&&uB0.call(Z,"__wrapped__"),B=H&&uB0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return X||(X=new EU),U(O,R,Q,K,X)}}if(!F)return!1;return X||(X=new EU),bB0(Z,J,Q,K,U,X)}var qW8=1,hB0="[object Arguments]",mB0="[object Array]",jj="[object Object]",WW8,uB0,gB0;var pB0=f(()=>{GL();Sc();xB0();yB0();dG();Q7();v2();RL();WW8=Object.prototype,uB0=WW8.hasOwnProperty;gB0=GW8});function cB0(Z,J,Q,K,U){if(Z===J)return!0;if(Z==null||J==null||!nJ(Z)&&!nJ(J))return Z!==Z&&J!==J;return gB0(Z,J,Q,K,cB0,U)}var Sj;var wc=f(()=>{pB0();B5();Sj=cB0});function FW8(Z,J,Q,K){var U=Q.length,X=U,Y=!K;if(Z==null)return!X;Z=Object(Z);while(U--){var q=Q[U];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++U<X){q=Q[U];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new EU;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?Sj(z,G,zW8|HW8,K,H):F))return!1}}return!0}var zW8=1,HW8=2,lB0;var dB0=f(()=>{GL();wc();lB0=FW8});function MW8(Z){return Z===Z&&!IJ(Z)}var Tj;var $c=f(()=>{WK();Tj=MW8});function BW8(Z){var J=mJ(Z),Q=J.length;while(Q--){var K=J[Q],U=Z[K];J[Q]=[K,U,Tj(U)]}return J}var iB0;var sB0=f(()=>{$c();HY();iB0=BW8});function OW8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var wj;var kc=f(()=>{wj=OW8});function RW8(Z){var J=iB0(Z);if(J.length==1&&J[0][2])return wj(J[0][0],J[0][1]);return function(Q){return Q===Z||lB0(Q,Z,J)}}var rB0;var nB0=f(()=>{dB0();sB0();kc();rB0=RW8});function LW8(Z,J){return Z!=null&&J in Object(Z)}var aB0;var oB0=f(()=>{aB0=LW8});function DW8(Z,J,Q){J=Zq(J,Z);var K=-1,U=J.length,X=!1;while(++K<U){var Y=_U(J[K]);if(!(X=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(X||++K!=U)return X;return U=Z==null?0:Z.length,!!U&&f2(U)&&l1(Y,U)&&(fZ(Z)||O5(Z))}var $j;var _c=f(()=>{hL();_2();Q7();IL();FC();l2();$j=DW8});function IW8(Z,J){return Z!=null&&$j(Z,J,aB0)}var kj;var fc=f(()=>{oB0();_c();kj=IW8});function EW8(Z,J){if(c2(Z)&&Tj(J))return wj(_U(Z),J);return function(Q){var K=VM0(Q,Z);return K===void 0&&K===J?kj(Q,Z):Sj(J,K,AW8|NW8)}}var AW8=1,NW8=2,tB0;var eB0=f(()=>{wc();PM0();fc();Wj();$c();kc();l2();tB0=EW8});function VW8(Z){return function(J){return J==null?void 0:J[Z]}}var _j;var vc=f(()=>{_j=VW8});function PW8(Z){return function(J){return Jq(J,Z)}}var ZO0;var JO0=f(()=>{mL();ZO0=PW8});function CW8(Z){return c2(Z)?_j(_U(Z)):ZO0(Z)}var QO0;var KO0=f(()=>{vc();JO0();Wj();l2();QO0=CW8});function jW8(Z){if(typeof Z=="function")return Z;if(Z==null)return g6;if(typeof Z=="object")return fZ(Z)?tB0(Z[0],Z[1]):rB0(Z);return QO0(Z)}var v7;var fU=f(()=>{nB0();eB0();i1();Q7();KO0();v7=jW8});function SW8(Z,J){return Z&&T2(Z,J,mJ)}var r2;var fj=f(()=>{KC();HY();r2=SW8});function TW8(Z,J){return function(Q,K){if(Q==null)return Q;if(!f7(Q))return Z(Q,K);var U=Q.length,X=J?U:-1,Y=Object(Q);while(J?X--:++X<U)if(K(Y[X],X,Y)===!1)break;return Q}}var UO0;var XO0=f(()=>{VU();UO0=TW8});var wW8,Uq;var cL=f(()=>{fj();XO0();wW8=UO0(r2),Uq=wW8});var $W8=function(){return hJ.Date.now()},vj;var YO0=f(()=>{qK();vj=$W8});var qO0,kW8,_W8,xc;var WO0=f(()=>{AL();yG();NL();d1();qO0=Object.prototype,kW8=qO0.hasOwnProperty,_W8=s1(function(Z,J){Z=Object(Z);var Q=-1,K=J.length,U=K>2?J[2]:void 0;if(U&&WY(J[0],J[1],U))K=1;while(++Q<K){var X=J[Q],Y=u6(X),q=-1,W=Y.length;while(++q<W){var G=Y[q],z=Z[G];if(z===void 0||GK(z,qO0[G])&&!kW8.call(Z,G))Z[G]=X[G]}}return Z}),xc=_W8});function fW8(Z,J,Q){var K=-1,U=Z==null?0:Z.length;while(++K<U)if(Q(J,Z[K]))return!0;return!1}var GO0;var zO0=f(()=>{GO0=fW8});function vW8(Z){var J=Z==null?0:Z.length;return J?Z[J-1]:void 0}var Xq;var HO0=f(()=>{Xq=vW8});function xW8(Z){return typeof Z=="function"?Z:g6}var n2;var xj=f(()=>{i1();n2=xW8});function bW8(Z,J){var Q=fZ(Z)?Xj:Uq;return Q(Z,n2(J))}var i0;var bj=f(()=>{Mc();cL();xj();Q7();i0=bW8});var FO0=f(()=>{bj()});function yW8(Z,J){var Q=[];return Uq(Z,function(K,U,X){if(J(K,U,X))Q.push(K)}),Q}var MO0;var BO0=f(()=>{cL();MO0=yW8});function hW8(Z,J){var Q=fZ(Z)?Fj:MO0;return Q(Z,v7(J,3))}var qQ;var bc=f(()=>{Rc();BO0();fU();Q7();qQ=hW8});function mW8(Z){return function(J,Q,K){var U=Object(J);if(!f7(J)){var X=v7(Q,3);J=mJ(J),Q=function(q){return X(U[q],q,U)}}var Y=Z(J,Q,K);return Y>-1?U[X?J[Y]:Y]:void 0}}var OO0;var RO0=f(()=>{fU();VU();HY();OO0=mW8});function gW8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var U=Q==null?0:UM0(Q);if(U<0)U=uW8(K+U,0);return Yj(Z,v7(J,3),U)}var uW8,LO0;var DO0=f(()=>{Bc();fU();XM0();uW8=Math.max;LO0=gW8});var pW8,a2;var IO0=f(()=>{RO0();DO0();pW8=OO0(LO0),a2=pW8});function cW8(Z,J){var Q=-1,K=f7(Z)?Array(Z.length):[];return Uq(Z,function(U,X,Y){K[++Q]=J(U,X,Y)}),K}var yj;var yc=f(()=>{cL();VU();yj=cW8});function lW8(Z,J){var Q=fZ(Z)?kU:yj;return Q(Z,v7(J,3))}var jZ;var o2=f(()=>{yL();fU();yc();Q7();jZ=lW8});function dW8(Z,J){return Qq(jZ(Z,J),1)}var AO0;var NO0=f(()=>{uL();o2();AO0=dW8});function iW8(Z,J){return Z==null?Z:T2(Z,n2(J),u6)}var hc;var EO0=f(()=>{KC();xj();d1();hc=iW8});function sW8(Z,J){return Z&&r2(Z,n2(J))}var mc;var VO0=f(()=>{fj();xj();mc=sW8});function rW8(Z,J){return Z>J}var PO0;var CO0=f(()=>{PO0=rW8});function oW8(Z,J){return Z!=null&&aW8.call(Z,J)}var nW8,aW8,jO0;var SO0=f(()=>{nW8=Object.prototype,aW8=nW8.hasOwnProperty;jO0=oW8});function tW8(Z,J){return Z!=null&&$j(Z,J,jO0)}var lL;var TO0=f(()=>{SO0();_c();lL=tW8});function ZG8(Z){return typeof Z=="string"||!fZ(Z)&&nJ(Z)&&Q6(Z)==eW8}var eW8="[object String]",wO0;var $O0=f(()=>{f1();Q7();B5();wO0=ZG8});function JG8(Z,J){return kU(J,function(Q){return Z[Q]})}var kO0;var _O0=f(()=>{yL();kO0=JG8});function QG8(Z){return Z==null?[]:kO0(Z,mJ(Z))}var f4;var fO0=f(()=>{_O0();HY();f4=QG8});function qG8(Z){if(Z==null)return!0;if(f7(Z)&&(fZ(Z)||typeof Z=="string"||typeof Z.splice=="function"||zK(Z)||p1(Z)||O5(Z)))return!Z.length;var J=_4(Z);if(J==KG8||J==UG8)return!Z.size;if(u1(Z))return!p2(Z).length;for(var Q in Z)if(YG8.call(Z,Q))return!1;return!0}var KG8="[object Map]",UG8="[object Set]",XG8,YG8,FY;var hj=f(()=>{qj();dG();_2();Q7();VU();v2();ML();RL();XG8=Object.prototype,YG8=XG8.hasOwnProperty;FY=qG8});function WG8(Z){return Z===void 0}var b9;var vO0=f(()=>{b9=WG8});function GG8(Z,J){return Z<J}var mj;var uc=f(()=>{mj=GG8});function zG8(Z,J){var Q={};return J=v7(J,3),r2(Z,function(K,U,X){m1(Q,U,J(K,U,X))}),Q}var iG;var xO0=f(()=>{zL();fj();fU();iG=zG8});function HG8(Z,J,Q){var K=-1,U=Z.length;while(++K<U){var X=Z[K],Y=J(X);if(Y!=null&&(q===void 0?Y===Y&&!k4(Y):Q(Y,q)))var q=Y,W=X}return W}var t2;var uj=f(()=>{cG();t2=HG8});function FG8(Z){return Z&&Z.length?t2(Z,g6,PO0):void 0}var s6;var bO0=f(()=>{uj();CO0();i1();s6=FG8});function MG8(Z){return Z&&Z.length?t2(Z,g6,mj):void 0}var D5;var gc=f(()=>{uj();uc();i1();D5=MG8});function BG8(Z,J){return Z&&Z.length?t2(Z,v7(J,2),mj):void 0}var sG;var yO0=f(()=>{uj();fU();uc();sG=BG8});function OG8(Z,J,Q,K){if(!IJ(Z))return Z;J=Zq(J,Z);var U=-1,X=J.length,Y=X-1,q=Z;while(q!=null&&++U<X){var W=_U(J[U]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(U!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=IJ(z)?z:l1(J[U+1])?[]:{}}c1(q,W,G),q=q[W]}return Z}var hO0;var mO0=f(()=>{DL();hL();IL();WK();l2();hO0=OG8});function RG8(Z,J,Q){var K=-1,U=J.length,X={};while(++K<U){var Y=J[K],q=Jq(Z,Y);if(Q(q,Y))hO0(X,Zq(Y,Z),q)}return X}var uO0;var gO0=f(()=>{mL();mO0();hL();uO0=RG8});function LG8(Z,J){var Q=Z.length;Z.sort(J);while(Q--)Z[Q]=Z[Q].value;return Z}var pO0;var cO0=f(()=>{pO0=LG8});function DG8(Z,J){if(Z!==J){var Q=Z!==void 0,K=Z===null,U=Z===Z,X=k4(Z),Y=J!==void 0,q=J===null,W=J===J,G=k4(J);if(!q&&!G&&!X&&Z>J||X&&Y&&W&&!q&&!G||K&&Y&&W||!Q&&W||!U)return 1;if(!K&&!X&&!G&&Z<J||G&&Q&&U&&!K&&!X||q&&Q&&U||!Y&&U||!W)return-1}return 0}var lO0;var dO0=f(()=>{cG();lO0=DG8});function IG8(Z,J,Q){var K=-1,U=Z.criteria,X=J.criteria,Y=U.length,q=Q.length;while(++K<Y){var W=lO0(U[K],X[K]);if(W){if(K>=q)return W;var G=Q[K];return W*(G=="desc"?-1:1)}}return Z.index-J.index}var iO0;var sO0=f(()=>{dO0();iO0=IG8});function AG8(Z,J,Q){if(J.length)J=kU(J,function(X){if(fZ(X))return function(Y){return Jq(Y,X.length===1?X[0]:X)};return X});else J=[g6];var K=-1;J=kU(J,g1(v7));var U=yj(Z,function(X,Y,q){var W=kU(J,function(G){return G(X)});return{criteria:W,index:++K,value:X}});return pO0(U,function(X,Y){return iO0(X,Y,Q)})}var rO0;var nO0=f(()=>{yL();mL();fU();yc();cO0();BL();sO0();i1();Q7();rO0=AG8});var NG8,aO0;var oO0=f(()=>{vc();NG8=_j("length"),aO0=NG8});function fG8(Z){var J=tO0.lastIndex=0;while(tO0.test(Z))++J;return J}var eO0="\\ud800-\\udfff",EG8="\\u0300-\\u036f",VG8="\\ufe20-\\ufe2f",PG8="\\u20d0-\\u20ff",CG8,jG8="\\ufe0e\\ufe0f",SG8,pc,cc="\\ud83c[\\udffb-\\udfff]",TG8,ZR0,JR0="(?:\\ud83c[\\udde6-\\uddff]){2}",QR0="[\\ud800-\\udbff][\\udc00-\\udfff]",wG8="\\u200d",KR0,UR0,$G8,kG8,_G8,tO0,XR0;var YR0=f(()=>{CG8=EG8+VG8+PG8,SG8="["+eO0+"]",pc="["+CG8+"]",TG8="(?:"+pc+"|"+cc+")",ZR0="[^"+eO0+"]",KR0=TG8+"?",UR0="["+jG8+"]?",$G8="(?:"+wG8+"(?:"+[ZR0,JR0,QR0].join("|")+")"+UR0+KR0+")*",kG8=UR0+KR0+$G8,_G8="(?:"+[ZR0+pc+"?",pc,JR0,QR0,SG8].join("|")+")",tO0=RegExp(cc+"(?="+cc+")|"+_G8+kG8,"g");XR0=fG8});function vG8(Z){return kM0(Z)?XR0(Z):aO0(Z)}var qR0;var WR0=f(()=>{oO0();_M0();YR0();qR0=vG8});function xG8(Z,J){return uO0(Z,J,function(Q,K){return kj(Z,K)})}var GR0;var zR0=f(()=>{gO0();fc();GR0=xG8});var bG8,rG;var HR0=f(()=>{zR0();$M0();bG8=wM0(function(Z,J){return Z==null?{}:GR0(Z,J)}),rG=bG8});function mG8(Z,J,Q,K){var U=-1,X=hG8(yG8((J-Z)/(Q||1)),0),Y=Array(X);while(X--)Y[K?X:++U]=Z,Z+=Q;return Y}var yG8,hG8,FR0;var MR0=f(()=>{yG8=Math.ceil,hG8=Math.max;FR0=mG8});function uG8(Z){return function(J,Q,K){if(K&&typeof K!="number"&&WY(J,Q,K))Q=K=void 0;if(J=g2(J),Q===void 0)Q=J,J=0;else Q=g2(Q);return K=K===void 0?J<Q?1:-1:g2(K),FR0(J,Q,K,Z)}}var BR0;var OR0=f(()=>{MR0();NL();Fc();BR0=uG8});var gG8,FK;var RR0=f(()=>{OR0();gG8=BR0(),FK=gG8});function pG8(Z,J,Q,K,U){return U(Z,function(X,Y,q){Q=K?(K=!1,X):J(Q,X,Y,q)}),Q}var LR0;var DR0=f(()=>{LR0=pG8});function cG8(Z,J,Q){var K=fZ(Z)?fM0:LR0,U=arguments.length<3;return K(Z,v7(J,4),Q,U,Uq)}var v4;var lc=f(()=>{vM0();cL();fU();DR0();Q7();v4=cG8});function iG8(Z){if(Z==null)return 0;if(f7(Z))return wO0(Z)?qR0(Z):Z.length;var J=_4(Z);if(J==lG8||J==dG8)return Z.size;return p2(Z).length}var lG8="[object Map]",dG8="[object Set]",dc;var IR0=f(()=>{qj();dG();VU();$O0();WR0();dc=iG8});var sG8,vU;var AR0=f(()=>{uL();nO0();AL();NL();sG8=s1(function(Z,J){if(Z==null)return[];var Q=J.length;if(Q>1&&WY(Z,J[0],J[1]))J=[];else if(Q>2&&WY(J[0],J[1],J[2]))J=[J[0]];return rO0(Z,Qq(J,1),[])}),vU=sG8});var rG8=1/0,nG8,NR0;var ER0=f(()=>{Nc();WM0();Cj();nG8=!(Kq&&1/s2(new Kq([,-0]))[1]==rG8)?qM0:function(Z){return new Kq(Z)},NR0=nG8});function oG8(Z,J,Q){var K=-1,U=OM0,X=Z.length,Y=!0,q=[],W=q;if(Q)Y=!1,U=GO0;else if(X>=aG8){var G=J?null:NR0(Z);if(G)return s2(G);Y=!1,U=Vj,W=new Ej}else W=J?[]:q;Z:while(++K<X){var z=Z[K],H=J?J(z):z;if(z=Q||z!==0?z:0,Y&&H===H){var F=W.length;while(F--)if(W[F]===H)continue Z;if(J)W.push(H);q.push(z)}else if(!U(W,H,Q)){if(W!==q)W.push(H);q.push(z)}}return q}var aG8=200,gj;var ic=f(()=>{Cc();RM0();zO0();jc();ER0();Cj();gj=oG8});var tG8,sc;var VR0=f(()=>{uL();AL();ic();Hp();tG8=s1(function(Z){return gj(Qq(Z,1,MC,!0))}),sc=tG8});function eG8(Z,J){return Z&&Z.length?gj(Z,v7(J,2)):[]}var PR0;var CR0=f(()=>{fU();ic();PR0=eG8});function Jz8(Z){var J=++Zz8;return Gj(Z)+J}var Zz8=0,nG;var jR0=f(()=>{Oc();nG=Jz8});function Qz8(Z,J,Q){var K=-1,U=Z.length,X=J.length,Y={};while(++K<U){var q=K<X?J[K]:void 0;Q(Y,Z[K],q)}return Y}var SR0;var TR0=f(()=>{SR0=Qz8});function Kz8(Z,J){return SR0(Z||[],J||[],c1)}var pj;var wR0=f(()=>{DL();TR0();pj=Kz8});var P9=f(()=>{Vc();PB0();Rp();WO0();FO0();bc();IO0();Hj();bj();EO0();VO0();TO0();Q7();hj();UL();vO0();HY();HO0();o2();xO0();bO0();Dp();gc();yO0();YO0();HR0();RR0();lc();IR0();AR0();VR0();jR0();fO0();wR0()});class k9{constructor(Z={}){if(this._isDirected=Object.prototype.hasOwnProperty.call(Z,"directed")?Z.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(Z,"multigraph")?Z.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(Z,"compound")?Z.compound:!1,this._label=void 0,this._defaultNodeLabelFn=p6(void 0),this._defaultEdgeLabelFn=p6(void 0),this._nodes={},this._isCompound)this._parent={},this._children={},this._children[aG]={};this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(Z){return this._label=Z,this}graph(){return this._label}setDefaultNodeLabel(Z){if(!NU(Z))Z=p6(Z);return this._defaultNodeLabelFn=Z,this}nodeCount(){return this._nodeCount}nodes(){return mJ(this._nodes)}sources(){var Z=this;return qQ(this.nodes(),function(J){return FY(Z._in[J])})}sinks(){var Z=this;return qQ(this.nodes(),function(J){return FY(Z._out[J])})}setNodes(Z,J){var Q=arguments,K=this;return i0(Z,function(U){if(Q.length>1)K.setNode(U,J);else K.setNode(U)}),this}setNode(Z,J){if(Object.prototype.hasOwnProperty.call(this._nodes,Z)){if(arguments.length>1)this._nodes[Z]=J;return this}if(this._nodes[Z]=arguments.length>1?J:this._defaultNodeLabelFn(Z),this._isCompound)this._parent[Z]=aG,this._children[Z]={},this._children[aG][Z]=!0;return this._in[Z]={},this._preds[Z]={},this._out[Z]={},this._sucs[Z]={},++this._nodeCount,this}node(Z){return this._nodes[Z]}hasNode(Z){return Object.prototype.hasOwnProperty.call(this._nodes,Z)}removeNode(Z){if(Object.prototype.hasOwnProperty.call(this._nodes,Z)){var J=(Q)=>this.removeEdge(this._edgeObjs[Q]);if(delete this._nodes[Z],this._isCompound)this._removeFromParentsChildList(Z),delete this._parent[Z],i0(this.children(Z),(Q)=>{this.setParent(Q)}),delete this._children[Z];i0(mJ(this._in[Z]),J),delete this._in[Z],delete this._preds[Z],i0(mJ(this._out[Z]),J),delete this._out[Z],delete this._sucs[Z],--this._nodeCount}return this}setParent(Z,J){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(b9(J))J=aG;else{J+="";for(var Q=J;!b9(Q);Q=this.parent(Q))if(Q===Z)throw Error("Setting "+J+" as parent of "+Z+" would create a cycle");this.setNode(J)}return this.setNode(Z),this._removeFromParentsChildList(Z),this._parent[Z]=J,this._children[J][Z]=!0,this}_removeFromParentsChildList(Z){delete this._children[this._parent[Z]][Z]}parent(Z){if(this._isCompound){var J=this._parent[Z];if(J!==aG)return J}}children(Z){if(b9(Z))Z=aG;if(this._isCompound){var J=this._children[Z];if(J)return mJ(J)}else if(Z===aG)return this.nodes();else if(this.hasNode(Z))return[]}predecessors(Z){var J=this._preds[Z];if(J)return mJ(J)}successors(Z){var J=this._sucs[Z];if(J)return mJ(J)}neighbors(Z){var J=this.predecessors(Z);if(J)return sc(J,this.successors(Z))}isLeaf(Z){var J;if(this.isDirected())J=this.successors(Z);else J=this.neighbors(Z);return J.length===0}filterNodes(Z){var J=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});J.setGraph(this.graph());var Q=this;i0(this._nodes,function(X,Y){if(Z(Y))J.setNode(Y,X)}),i0(this._edgeObjs,function(X){if(J.hasNode(X.v)&&J.hasNode(X.w))J.setEdge(X,Q.edge(X))});var K={};function U(X){var Y=Q.parent(X);if(Y===void 0||J.hasNode(Y))return K[X]=Y,Y;else if(Y in K)return K[Y];else return U(Y)}if(this._isCompound)i0(J.nodes(),function(X){J.setParent(X,U(X))});return J}setDefaultEdgeLabel(Z){if(!NU(Z))Z=p6(Z);return this._defaultEdgeLabelFn=Z,this}edgeCount(){return this._edgeCount}edges(){return f4(this._edgeObjs)}setPath(Z,J){var Q=this,K=arguments;return v4(Z,function(U,X){if(K.length>1)Q.setEdge(U,X,J);else Q.setEdge(U,X);return X}),this}setEdge(){var Z,J,Q,K,U=!1,X=arguments[0];if(typeof X==="object"&&X!==null&&"v"in X){if(Z=X.v,J=X.w,Q=X.name,arguments.length===2)K=arguments[1],U=!0}else if(Z=X,J=arguments[1],Q=arguments[3],arguments.length>2)K=arguments[2],U=!0;if(Z=""+Z,J=""+J,!b9(Q))Q=""+Q;var Y=dL(this._isDirected,Z,J,Q);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,Y)){if(U)this._edgeLabels[Y]=K;return this}if(!b9(Q)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(Z),this.setNode(J),this._edgeLabels[Y]=U?K:this._defaultEdgeLabelFn(Z,J,Q);var q=Xz8(this._isDirected,Z,J,Q);return Z=q.v,J=q.w,Object.freeze(q),this._edgeObjs[Y]=q,kR0(this._preds[J],Z),kR0(this._sucs[Z],J),this._in[J][Y]=q,this._out[Z][Y]=q,this._edgeCount++,this}edge(Z,J,Q){var K=arguments.length===1?rc(this._isDirected,arguments[0]):dL(this._isDirected,Z,J,Q);return this._edgeLabels[K]}hasEdge(Z,J,Q){var K=arguments.length===1?rc(this._isDirected,arguments[0]):dL(this._isDirected,Z,J,Q);return Object.prototype.hasOwnProperty.call(this._edgeLabels,K)}removeEdge(Z,J,Q){var K=arguments.length===1?rc(this._isDirected,arguments[0]):dL(this._isDirected,Z,J,Q),U=this._edgeObjs[K];if(U)Z=U.v,J=U.w,delete this._edgeLabels[K],delete this._edgeObjs[K],_R0(this._preds[J],Z),_R0(this._sucs[Z],J),delete this._in[J][K],delete this._out[Z][K],this._edgeCount--;return this}inEdges(Z,J){var Q=this._in[Z];if(Q){var K=f4(Q);if(!J)return K;return qQ(K,function(U){return U.v===J})}}outEdges(Z,J){var Q=this._out[Z];if(Q){var K=f4(Q);if(!J)return K;return qQ(K,function(U){return U.w===J})}}nodeEdges(Z,J){var Q=this.inEdges(Z,J);if(Q)return Q.concat(this.outEdges(Z,J))}}function kR0(Z,J){if(Z[J])Z[J]++;else Z[J]=1}function _R0(Z,J){if(!--Z[J])delete Z[J]}function dL(Z,J,Q,K){var U=""+J,X=""+Q;if(!Z&&U>X){var Y=U;U=X,X=Y}return U+$R0+X+$R0+(b9(K)?Uz8:K)}function Xz8(Z,J,Q,K){var U=""+J,X=""+Q;if(!Z&&U>X){var Y=U;U=X,X=Y}var q={v:U,w:X};if(K)q.name=K;return q}function rc(Z,J){return dL(Z,J.v,J.w,J.name)}var Uz8="\x00",aG="\x00",$R0="\x01";var cj=f(()=>{P9();k9.prototype._nodeCount=0;k9.prototype._edgeCount=0});var MK=f(()=>{cj()});class nc{constructor(){var Z={};Z._next=Z._prev=Z,this._sentinel=Z}dequeue(){var Z=this._sentinel,J=Z._prev;if(J!==Z)return fR0(J),J}enqueue(Z){var J=this._sentinel;if(Z._prev&&Z._next)fR0(Z);Z._next=J._next,J._next._prev=Z,J._next=Z,Z._prev=J}toString(){var Z=[],J=this._sentinel,Q=J._prev;while(Q!==J)Z.push(JSON.stringify(Q,Yz8)),Q=Q._prev;return"["+Z.join(", ")+"]"}}function fR0(Z){Z._prev._next=Z._next,Z._next._prev=Z._prev,delete Z._next,delete Z._prev}function Yz8(Z,J){if(Z!=="_next"&&Z!=="_prev")return J}var vR0=()=>{};function xR0(Z,J){if(Z.nodeCount()<=1)return[];var Q=Gz8(Z,J||qz8),K=Wz8(Q.graph,Q.buckets,Q.zeroIdx);return i6(jZ(K,function(U){return Z.outEdges(U.v,U.w)}))}function Wz8(Z,J,Q){var K=[],U=J[J.length-1],X=J[0],Y;while(Z.nodeCount()){while(Y=X.dequeue())ac(Z,J,Q,Y);while(Y=U.dequeue())ac(Z,J,Q,Y);if(Z.nodeCount()){for(var q=J.length-2;q>0;--q)if(Y=J[q].dequeue(),Y){K=K.concat(ac(Z,J,Q,Y,!0));break}}}return K}function ac(Z,J,Q,K,U){var X=U?[]:void 0;return i0(Z.inEdges(K.v),function(Y){var q=Z.edge(Y),W=Z.node(Y.v);if(U)X.push({v:Y.v,w:Y.w});W.out-=q,oc(J,Q,W)}),i0(Z.outEdges(K.v),function(Y){var q=Z.edge(Y),W=Y.w,G=Z.node(W);G.in-=q,oc(J,Q,G)}),Z.removeNode(K.v),X}function Gz8(Z,J){var Q=new k9,K=0,U=0;i0(Z.nodes(),function(q){Q.setNode(q,{v:q,in:0,out:0})}),i0(Z.edges(),function(q){var W=Q.edge(q.v,q.w)||0,G=J(q),z=W+G;Q.setEdge(q.v,q.w,z),U=Math.max(U,Q.node(q.v).out+=G),K=Math.max(K,Q.node(q.w).in+=G)});var X=FK(U+K+3).map(function(){return new nc}),Y=K+1;return i0(Q.nodes(),function(q){oc(X,Y,Q.node(q))}),{graph:Q,buckets:X,zeroIdx:Y}}function oc(Z,J,Q){if(!Q.out)Z[0].enqueue(Q);else if(!Q.in)Z[Z.length-1].enqueue(Q);else Z[Q.out-Q.in+J].enqueue(Q)}var qz8;var bR0=f(()=>{P9();MK();vR0();qz8=p6(1)});function yR0(Z){var J=Z.graph().acyclicer==="greedy"?xR0(Z,Q(Z)):zz8(Z);i0(J,function(K){var U=Z.edge(K);Z.removeEdge(K),U.forwardName=K.name,U.reversed=!0,Z.setEdge(K.w,K.v,U,nG("rev"))});function Q(K){return function(U){return K.edge(U).weight}}}function zz8(Z){var J=[],Q={},K={};function U(X){if(Object.prototype.hasOwnProperty.call(K,X))return;K[X]=!0,Q[X]=!0,i0(Z.outEdges(X),function(Y){if(Object.prototype.hasOwnProperty.call(Q,Y.w))J.push(Y);else U(Y.w)}),delete Q[X]}return i0(Z.nodes(),U),J}function hR0(Z){i0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed){Z.removeEdge(J);var K=Q.forwardName;delete Q.reversed,delete Q.forwardName,Z.setEdge(J.w,J.v,Q,K)}})}var tc=f(()=>{P9();bR0()});function xU(Z,J,Q,K){var U;do U=nG(K);while(Z.hasNode(U));return Q.dummy=J,Z.setNode(U,Q),U}function uR0(Z){var J=new k9().setGraph(Z.graph());return i0(Z.nodes(),function(Q){J.setNode(Q,Z.node(Q))}),i0(Z.edges(),function(Q){var K=J.edge(Q.v,Q.w)||{weight:0,minlen:1},U=Z.edge(Q);J.setEdge(Q.v,Q.w,{weight:K.weight+U.weight,minlen:Math.max(K.minlen,U.minlen)})}),J}function dj(Z){var J=new k9({multigraph:Z.isMultigraph()}).setGraph(Z.graph());return i0(Z.nodes(),function(Q){if(!Z.children(Q).length)J.setNode(Q,Z.node(Q))}),i0(Z.edges(),function(Q){J.setEdge(Q,Z.edge(Q))}),J}function ec(Z,J){var{x:Q,y:K}=Z,U=J.x-Q,X=J.y-K,Y=Z.width/2,q=Z.height/2;if(!U&&!X)throw Error("Not possible to find intersection inside of the rectangle");var W,G;if(Math.abs(X)*Y>Math.abs(U)*q){if(X<0)q=-q;W=q*U/X,G=q}else{if(U<0)Y=-Y;W=Y,G=Y*X/U}return{x:Q+W,y:K+G}}function Yq(Z){var J=jZ(FK(Jl(Z)+1),function(){return[]});return i0(Z.nodes(),function(Q){var K=Z.node(Q),U=K.rank;if(!b9(U))J[U][K.order]=Q}),J}function gR0(Z){var J=D5(jZ(Z.nodes(),function(Q){return Z.node(Q).rank}));i0(Z.nodes(),function(Q){var K=Z.node(Q);if(lL(K,"rank"))K.rank-=J})}function pR0(Z){var J=D5(jZ(Z.nodes(),function(X){return Z.node(X).rank})),Q=[];i0(Z.nodes(),function(X){var Y=Z.node(X).rank-J;if(!Q[Y])Q[Y]=[];Q[Y].push(X)});var K=0,U=Z.graph().nodeRankFactor;i0(Q,function(X,Y){if(b9(X)&&Y%U!==0)--K;else if(K)i0(X,function(q){Z.node(q).rank+=K})})}function Zl(Z,J,Q,K){var U={width:0,height:0};if(arguments.length>=4)U.rank=Q,U.order=K;return xU(Z,"border",U,J)}function Jl(Z){return s6(jZ(Z.nodes(),function(J){var Q=Z.node(J).rank;if(!b9(Q))return Q}))}function cR0(Z,J){var Q={lhs:[],rhs:[]};return i0(Z,function(K){if(J(K))Q.lhs.push(K);else Q.rhs.push(K)}),Q}function lR0(Z,J){var Q=vj();try{return J()}finally{console.log(Z+" time: "+(vj()-Q)+"ms")}}function dR0(Z,J){return J()}var bU=f(()=>{P9();MK()});function sR0(Z){function J(Q){var K=Z.children(Q),U=Z.node(Q);if(K.length)i0(K,J);if(Object.prototype.hasOwnProperty.call(U,"minRank")){U.borderLeft=[],U.borderRight=[];for(var X=U.minRank,Y=U.maxRank+1;X<Y;++X)iR0(Z,"borderLeft","_bl",Q,U,X),iR0(Z,"borderRight","_br",Q,U,X)}}i0(Z.children(),J)}function iR0(Z,J,Q,K,U,X){var Y={width:0,height:0,rank:X,borderType:J},q=U[J][X-1],W=xU(Z,"border",Y,Q);if(U[J][X]=W,Z.setParent(W,K),q)Z.setEdge(q,W,{weight:1})}var rR0=f(()=>{P9();bU()});function aR0(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="lr"||J==="rl")tR0(Z)}function oR0(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="bt"||J==="rl")Hz8(Z);if(J==="lr"||J==="rl")Fz8(Z),tR0(Z)}function tR0(Z){i0(Z.nodes(),function(J){nR0(Z.node(J))}),i0(Z.edges(),function(J){nR0(Z.edge(J))})}function nR0(Z){var J=Z.width;Z.width=Z.height,Z.height=J}function Hz8(Z){i0(Z.nodes(),function(J){Ql(Z.node(J))}),i0(Z.edges(),function(J){var Q=Z.edge(J);if(i0(Q.points,Ql),Object.prototype.hasOwnProperty.call(Q,"y"))Ql(Q)})}function Ql(Z){Z.y=-Z.y}function Fz8(Z){i0(Z.nodes(),function(J){Kl(Z.node(J))}),i0(Z.edges(),function(J){var Q=Z.edge(J);if(i0(Q.points,Kl),Object.prototype.hasOwnProperty.call(Q,"x"))Kl(Q)})}function Kl(Z){var J=Z.x;Z.x=Z.y,Z.y=J}var eR0=f(()=>{P9()});function Z30(Z){Z.graph().dummyChains=[],i0(Z.edges(),function(J){Bz8(Z,J)})}function Bz8(Z,J){var Q=J.v,K=Z.node(Q).rank,U=J.w,X=Z.node(U).rank,Y=J.name,q=Z.edge(J),W=q.labelRank;if(X===K+1)return;Z.removeEdge(J);var G=void 0,z,H;for(H=0,++K;K<X;++H,++K){if(q.points=[],G={width:0,height:0,edgeLabel:q,edgeObj:J,rank:K},z=xU(Z,"edge",G,"_d"),K===W)G.width=q.width,G.height=q.height,G.dummy="edge-label",G.labelpos=q.labelpos;if(Z.setEdge(Q,z,{weight:q.weight},Y),H===0)Z.graph().dummyChains.push(z);Q=z}Z.setEdge(Q,U,{weight:q.weight},Y)}function J30(Z){i0(Z.graph().dummyChains,function(J){var Q=Z.node(J),K=Q.edgeLabel,U;Z.setEdge(Q.edgeObj,K);while(Q.dummy){if(U=Z.successors(J)[0],Z.removeNode(J),K.points.push({x:Q.x,y:Q.y}),Q.dummy==="edge-label")K.x=Q.x,K.y=Q.y,K.width=Q.width,K.height=Q.height;J=U,Q=Z.node(J)}})}var Ul=f(()=>{P9();bU()});function iL(Z){var J={};function Q(K){var U=Z.node(K);if(Object.prototype.hasOwnProperty.call(J,K))return U.rank;J[K]=!0;var X=D5(jZ(Z.outEdges(K),function(Y){return Q(Y.w)-Z.edge(Y).minlen}));if(X===Number.POSITIVE_INFINITY||X===void 0||X===null)X=0;return U.rank=X}i0(Z.sources(),Q)}function oG(Z,J){return Z.node(J.w).rank-Z.node(J.v).rank-Z.edge(J).minlen}var ij=f(()=>{P9()});function sj(Z){var J=new k9({directed:!1}),Q=Z.nodes()[0],K=Z.nodeCount();J.setNode(Q,{});var U,X;while(Oz8(J,Z)<K)U=Rz8(J,Z),X=J.hasNode(U.v)?oG(Z,U):-oG(Z,U),Lz8(J,Z,X);return J}function Oz8(Z,J){function Q(K){i0(J.nodeEdges(K),function(U){var X=U.v,Y=K===X?U.w:X;if(!Z.hasNode(Y)&&!oG(J,U))Z.setNode(Y,{}),Z.setEdge(K,Y,{}),Q(Y)})}return i0(Z.nodes(),Q),Z.nodeCount()}function Rz8(Z,J){return sG(J.edges(),function(Q){if(Z.hasNode(Q.v)!==Z.hasNode(Q.w))return oG(J,Q)})}function Lz8(Z,J,Q){i0(Z.nodes(),function(K){J.node(K).rank+=Q})}var Xl=f(()=>{P9();MK();ij()});var K30=()=>{};var Yl=()=>{};var jRZ;var ql=f(()=>{P9();Yl();jRZ=p6(1)});var U30=f(()=>{ql()});var Wl=()=>{};var X30=f(()=>{Wl()});var fRZ;var Y30=f(()=>{P9();fRZ=p6(1)});function Gl(Z){var J={},Q={},K=[];function U(X){if(Object.prototype.hasOwnProperty.call(Q,X))throw new sL;if(!Object.prototype.hasOwnProperty.call(J,X))Q[X]=!0,J[X]=!0,i0(Z.predecessors(X),U),delete Q[X],K.push(X)}if(i0(Z.sinks(),U),dc(J)!==Z.nodeCount())throw new sL;return K}function sL(){}var zl=f(()=>{P9();Gl.CycleException=sL;sL.prototype=Error()});var q30=f(()=>{zl()});function rj(Z,J,Q){if(!fZ(J))J=[J];var K=(Z.isDirected()?Z.successors:Z.neighbors).bind(Z),U=[],X={};return i0(J,function(Y){if(!Z.hasNode(Y))throw Error("Graph does not have node: "+Y);W30(Z,Y,Q==="post",X,K,U)}),U}function W30(Z,J,Q,K,U,X){if(!Object.prototype.hasOwnProperty.call(K,J)){if(K[J]=!0,!Q)X.push(J);if(i0(U(J),function(Y){W30(Z,Y,Q,K,U,X)}),Q)X.push(J)}}var Hl=f(()=>{P9()});function Fl(Z,J){return rj(Z,J,"post")}var G30=f(()=>{Hl()});function Ml(Z,J){return rj(Z,J,"pre")}var z30=f(()=>{Hl()});var H30=f(()=>{Yl();cj()});var F30=f(()=>{K30();ql();U30();X30();Y30();q30();G30();z30();H30();Wl();zl()});function Wq(Z){Z=uR0(Z),iL(Z);var J=sj(Z);Ol(J),Bl(J,Z);var Q,K;while(Q=R30(J))K=L30(J,Z,Q),D30(J,Z,Q,K)}function Bl(Z,J){var Q=Fl(Z,Z.nodes());Q=Q.slice(0,Q.length-1),i0(Q,function(K){Ez8(Z,J,K)})}function Ez8(Z,J,Q){var K=Z.node(Q),U=K.parent;Z.edge(Q,U).cutvalue=B30(Z,J,Q)}function B30(Z,J,Q){var K=Z.node(Q),U=K.parent,X=!0,Y=J.edge(Q,U),q=0;if(!Y)X=!1,Y=J.edge(U,Q);return q=Y.weight,i0(J.nodeEdges(Q),function(W){var G=W.v===Q,z=G?W.w:W.v;if(z!==U){var H=G===X,F=J.edge(W).weight;if(q+=H?F:-F,Pz8(Z,Q,z)){var M=Z.edge(Q,z).cutvalue;q+=H?-M:M}}}),q}function Ol(Z,J){if(arguments.length<2)J=Z.nodes()[0];O30(Z,{},1,J)}function O30(Z,J,Q,K,U){var X=Q,Y=Z.node(K);if(J[K]=!0,i0(Z.neighbors(K),function(q){if(!Object.prototype.hasOwnProperty.call(J,q))Q=O30(Z,J,Q,q,K)}),Y.low=X,Y.lim=Q++,U)Y.parent=U;else delete Y.parent;return Q}function R30(Z){return a2(Z.edges(),function(J){return Z.edge(J).cutvalue<0})}function L30(Z,J,Q){var{v:K,w:U}=Q;if(!J.hasEdge(K,U))K=Q.w,U=Q.v;var X=Z.node(K),Y=Z.node(U),q=X,W=!1;if(X.lim>Y.lim)q=Y,W=!0;var G=qQ(J.edges(),function(z){return W===M30(Z,Z.node(z.v),q)&&W!==M30(Z,Z.node(z.w),q)});return sG(G,function(z){return oG(J,z)})}function D30(Z,J,Q,K){var{v:U,w:X}=Q;Z.removeEdge(U,X),Z.setEdge(K.v,K.w,{}),Ol(Z),Bl(Z,J),Vz8(Z,J)}function Vz8(Z,J){var Q=a2(Z.nodes(),function(U){return!J.node(U).parent}),K=Ml(Z,Q);K=K.slice(1),i0(K,function(U){var X=Z.node(U).parent,Y=J.edge(U,X),q=!1;if(!Y)Y=J.edge(X,U),q=!0;J.node(U).rank=J.node(X).rank+(q?Y.minlen:-Y.minlen)})}function Pz8(Z,J,Q){return Z.hasEdge(J,Q)}function M30(Z,J,Q){return Q.low<=J.lim&&J.lim<=Q.lim}var I30=f(()=>{P9();F30();bU();Xl();ij();Wq.initLowLimValues=Ol;Wq.initCutValues=Bl;Wq.calcCutValue=B30;Wq.leaveEdge=R30;Wq.enterEdge=L30;Wq.exchangeEdges=D30});function Rl(Z){switch(Z.graph().ranker){case"network-simplex":A30(Z);break;case"tight-tree":jz8(Z);break;case"longest-path":Cz8(Z);break;default:A30(Z)}}function jz8(Z){iL(Z),sj(Z)}function A30(Z){Wq(Z)}var Cz8;var Ll=f(()=>{Xl();I30();ij();Cz8=iL});function N30(Z){var J=xU(Z,"root",{},"_root"),Q=Sz8(Z),K=s6(f4(Q))-1,U=2*K+1;Z.graph().nestingRoot=J,i0(Z.edges(),function(Y){Z.edge(Y).minlen*=U});var X=Tz8(Z)+1;i0(Z.children(),function(Y){E30(Z,J,U,X,K,Q,Y)}),Z.graph().nodeRankFactor=U}function E30(Z,J,Q,K,U,X,Y){var q=Z.children(Y);if(!q.length){if(Y!==J)Z.setEdge(J,Y,{weight:0,minlen:Q});return}var W=Zl(Z,"_bt"),G=Zl(Z,"_bb"),z=Z.node(Y);if(Z.setParent(W,Y),z.borderTop=W,Z.setParent(G,Y),z.borderBottom=G,i0(q,function(H){E30(Z,J,Q,K,U,X,H);var F=Z.node(H),M=F.borderTop?F.borderTop:H,B=F.borderBottom?F.borderBottom:H,O=F.borderTop?K:2*K,R=M!==B?1:U-X[Y]+1;Z.setEdge(W,M,{weight:O,minlen:R,nestingEdge:!0}),Z.setEdge(B,G,{weight:O,minlen:R,nestingEdge:!0})}),!Z.parent(Y))Z.setEdge(J,W,{weight:0,minlen:U+X[Y]})}function Sz8(Z){var J={};function Q(K,U){var X=Z.children(K);if(X&&X.length)i0(X,function(Y){Q(Y,U+1)});J[K]=U}return i0(Z.children(),function(K){Q(K,1)}),J}function Tz8(Z){return v4(Z.edges(),function(J,Q){return J+Z.edge(Q).weight},0)}function V30(Z){var J=Z.graph();Z.removeNode(J.nestingRoot),delete J.nestingRoot,i0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.nestingEdge)Z.removeEdge(Q)})}var P30=f(()=>{P9();bU()});function C30(Z,J,Q){var K={},U;i0(Q,function(X){var Y=Z.parent(X),q,W;while(Y){if(q=Z.parent(Y),q)W=K[q],K[q]=Y;else W=U,U=Y;if(W&&W!==Y){J.setEdge(W,Y);return}Y=q}})}var j30=f(()=>{P9()});function S30(Z,J,Q){var K=$z8(Z),U=new k9({compound:!0}).setGraph({root:K}).setDefaultNodeLabel(function(X){return Z.node(X)});return i0(Z.nodes(),function(X){var Y=Z.node(X),q=Z.parent(X);if(Y.rank===J||Y.minRank<=J&&J<=Y.maxRank){if(U.setNode(X),U.setParent(X,q||K),i0(Z[Q](X),function(W){var G=W.v===X?W.w:W.v,z=U.edge(G,X),H=!b9(z)?z.weight:0;U.setEdge(G,X,{weight:Z.edge(W).weight+H})}),Object.prototype.hasOwnProperty.call(Y,"minRank"))U.setNode(X,{borderLeft:Y.borderLeft[J],borderRight:Y.borderRight[J]})}}),U}function $z8(Z){var J;while(Z.hasNode(J=nG("_root")));return J}var T30=f(()=>{P9();MK()});function w30(Z,J){var Q=0;for(var K=1;K<J.length;++K)Q+=kz8(Z,J[K-1],J[K]);return Q}function kz8(Z,J,Q){var K=pj(Q,jZ(Q,function(G,z){return z})),U=i6(jZ(J,function(G){return vU(jZ(Z.outEdges(G),function(z){return{pos:K[z.w],weight:Z.edge(z).weight}}),"pos")})),X=1;while(X<Q.length)X<<=1;var Y=2*X-1;X-=1;var q=jZ(Array(Y),function(){return 0}),W=0;return i0(U.forEach(function(G){var z=G.pos+X;q[z]+=G.weight;var H=0;while(z>0){if(z%2)H+=q[z+1];z=z-1>>1,q[z]+=G.weight}W+=G.weight*H})),W}var $30=f(()=>{P9()});function k30(Z){var J={},Q=qQ(Z.nodes(),function(q){return!Z.children(q).length}),K=s6(jZ(Q,function(q){return Z.node(q).rank})),U=jZ(FK(K+1),function(){return[]});function X(q){if(lL(J,q))return;J[q]=!0;var W=Z.node(q);U[W.rank].push(q),i0(Z.successors(q),X)}var Y=vU(Q,function(q){return Z.node(q).rank});return i0(Y,X),U}var _30=f(()=>{P9()});function f30(Z,J){return jZ(J,function(Q){var K=Z.inEdges(Q);if(!K.length)return{v:Q};else{var U=v4(K,function(X,Y){var q=Z.edge(Y),W=Z.node(Y.v);return{sum:X.sum+q.weight*W.order,weight:X.weight+q.weight}},{sum:0,weight:0});return{v:Q,barycenter:U.sum/U.weight,weight:U.weight}}})}var v30=f(()=>{P9()});function x30(Z,J){var Q={};i0(Z,function(U,X){var Y=Q[U.v]={indegree:0,in:[],out:[],vs:[U.v],i:X};if(!b9(U.barycenter))Y.barycenter=U.barycenter,Y.weight=U.weight}),i0(J.edges(),function(U){var X=Q[U.v],Y=Q[U.w];if(!b9(X)&&!b9(Y))Y.indegree++,X.out.push(Q[U.w])});var K=qQ(Q,function(U){return!U.indegree});return _z8(K)}function _z8(Z){var J=[];function Q(X){return function(Y){if(Y.merged)return;if(b9(Y.barycenter)||b9(X.barycenter)||Y.barycenter>=X.barycenter)fz8(X,Y)}}function K(X){return function(Y){if(Y.in.push(X),--Y.indegree===0)Z.push(Y)}}while(Z.length){var U=Z.pop();J.push(U),i0(U.in.reverse(),Q(U)),i0(U.out,K(U))}return jZ(qQ(J,function(X){return!X.merged}),function(X){return rG(X,["vs","i","barycenter","weight"])})}function fz8(Z,J){var Q=0,K=0;if(Z.weight)Q+=Z.barycenter*Z.weight,K+=Z.weight;if(J.weight)Q+=J.barycenter*J.weight,K+=J.weight;Z.vs=J.vs.concat(Z.vs),Z.barycenter=Q/K,Z.weight=K,Z.i=Math.min(J.i,Z.i),J.merged=!0}var b30=f(()=>{P9()});function h30(Z,J){var Q=cR0(Z,function(z){return Object.prototype.hasOwnProperty.call(z,"barycenter")}),K=Q.lhs,U=vU(Q.rhs,function(z){return-z.i}),X=[],Y=0,q=0,W=0;K.sort(vz8(!!J)),W=y30(X,U,W),i0(K,function(z){W+=z.vs.length,X.push(z.vs),Y+=z.barycenter*z.weight,q+=z.weight,W=y30(X,U,W)});var G={vs:i6(X)};if(q)G.barycenter=Y/q,G.weight=q;return G}function y30(Z,J,Q){var K;while(J.length&&(K=Xq(J)).i<=Q)J.pop(),Z.push(K.vs),Q++;return Q}function vz8(Z){return function(J,Q){if(J.barycenter<Q.barycenter)return-1;else if(J.barycenter>Q.barycenter)return 1;return!Z?J.i-Q.i:Q.i-J.i}}var m30=f(()=>{P9();bU()});function Dl(Z,J,Q,K){var U=Z.children(J),X=Z.node(J),Y=X?X.borderLeft:void 0,q=X?X.borderRight:void 0,W={};if(Y)U=qQ(U,function(B){return B!==Y&&B!==q});var G=f30(Z,U);i0(G,function(B){if(Z.children(B.v).length){var O=Dl(Z,B.v,Q,K);if(W[B.v]=O,Object.prototype.hasOwnProperty.call(O,"barycenter"))bz8(B,O)}});var z=x30(G,Q);xz8(z,W);var H=h30(z,K);if(Y){if(H.vs=i6([Y,H.vs,q]),Z.predecessors(Y).length){var F=Z.node(Z.predecessors(Y)[0]),M=Z.node(Z.predecessors(q)[0]);if(!Object.prototype.hasOwnProperty.call(H,"barycenter"))H.barycenter=0,H.weight=0;H.barycenter=(H.barycenter*H.weight+F.order+M.order)/(H.weight+2),H.weight+=2}}return H}function xz8(Z,J){i0(Z,function(Q){Q.vs=i6(Q.vs.map(function(K){if(J[K])return J[K].vs;return K}))})}function bz8(Z,J){if(!b9(Z.barycenter))Z.barycenter=(Z.barycenter*Z.weight+J.barycenter*J.weight)/(Z.weight+J.weight),Z.weight+=J.weight;else Z.barycenter=J.barycenter,Z.weight=J.weight}var u30=f(()=>{P9();v30();b30();m30()});function c30(Z){var J=Jl(Z),Q=g30(Z,FK(1,J+1),"inEdges"),K=g30(Z,FK(J-1,-1,-1),"outEdges"),U=k30(Z);p30(Z,U);var X=Number.POSITIVE_INFINITY,Y;for(var q=0,W=0;W<4;++q,++W){yz8(q%2?Q:K,q%4>=2),U=Yq(Z);var G=w30(Z,U);if(G<X)W=0,Y=Pc(U),X=G}p30(Z,Y)}function g30(Z,J,Q){return jZ(J,function(K){return S30(Z,K,Q)})}function yz8(Z,J){var Q=new k9;i0(Z,function(K){var U=K.graph().root,X=Dl(K,U,Q,J);i0(X.vs,function(Y,q){K.node(Y).order=q}),C30(K,Q,X.vs)})}function p30(Z,J){i0(J,function(Q){i0(Q,function(K,U){Z.node(K).order=U})})}var l30=f(()=>{P9();MK();bU();j30();T30();$30();_30();u30()});function d30(Z){var J=mz8(Z);i0(Z.graph().dummyChains,function(Q){var K=Z.node(Q),U=K.edgeObj,X=hz8(Z,J,U.v,U.w),Y=X.path,q=X.lca,W=0,G=Y[W],z=!0;while(Q!==U.w){if(K=Z.node(Q),z){while((G=Y[W])!==q&&Z.node(G).maxRank<K.rank)W++;if(G===q)z=!1}if(!z){while(W<Y.length-1&&Z.node(G=Y[W+1]).minRank<=K.rank)W++;G=Y[W]}Z.setParent(Q,G),Q=Z.successors(Q)[0]}})}function hz8(Z,J,Q,K){var U=[],X=[],Y=Math.min(J[Q].low,J[K].low),q=Math.max(J[Q].lim,J[K].lim),W,G;W=Q;do W=Z.parent(W),U.push(W);while(W&&(J[W].low>Y||q>J[W].lim));G=W,W=K;while((W=Z.parent(W))!==G)X.push(W);return{path:U.concat(X.reverse()),lca:G}}function mz8(Z){var J={},Q=0;function K(U){var X=Q;i0(Z.children(U),K),J[U]={low:X,lim:Q++}}return i0(Z.children(),K),J}var i30=f(()=>{P9()});function uz8(Z,J){var Q={};function K(U,X){var Y=0,q=0,W=U.length,G=Xq(X);return i0(X,function(z,H){var F=pz8(Z,z),M=F?Z.node(F).order:W;if(F||z===G)i0(X.slice(q,H+1),function(B){i0(Z.predecessors(B),function(O){var R=Z.node(O),L=R.order;if((L<Y||M<L)&&!(R.dummy&&Z.node(B).dummy))s30(Q,O,B)})}),q=H+1,Y=M}),X}return v4(J,K),Q}function gz8(Z,J){var Q={};function K(X,Y,q,W,G){var z;i0(FK(Y,q),function(H){if(z=X[H],Z.node(z).dummy)i0(Z.predecessors(z),function(F){var M=Z.node(F);if(M.dummy&&(M.order<W||M.order>G))s30(Q,F,z)})})}function U(X,Y){var q=-1,W,G=0;return i0(Y,function(z,H){if(Z.node(z).dummy==="border"){var F=Z.predecessors(z);if(F.length)W=Z.node(F[0]).order,K(Y,G,H,q,W),G=H,q=W}K(Y,G,Y.length,W,X.length)}),Y}return v4(J,U),Q}function pz8(Z,J){if(Z.node(J).dummy)return a2(Z.predecessors(J),function(Q){return Z.node(Q).dummy})}function s30(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}if(!Object.prototype.hasOwnProperty.call(Z,J))Object.defineProperty(Z,J,{enumerable:!0,configurable:!0,value:{},writable:!0});var U=Z[J];Object.defineProperty(U,Q,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function cz8(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}return!!Z[J]&&Object.prototype.hasOwnProperty.call(Z[J],Q)}function lz8(Z,J,Q,K){var U={},X={},Y={};return i0(J,function(q){i0(q,function(W,G){U[W]=W,X[W]=W,Y[W]=G})}),i0(J,function(q){var W=-1;i0(q,function(G){var z=K(G);if(z.length){z=vU(z,function(O){return Y[O]});var H=(z.length-1)/2;for(var F=Math.floor(H),M=Math.ceil(H);F<=M;++F){var B=z[F];if(X[G]===G&&W<Y[B]&&!cz8(Q,G,B))X[B]=G,X[G]=U[G]=U[B],W=Y[B]}}})}),{root:U,align:X}}function dz8(Z,J,Q,K,U){var X={},Y=iz8(Z,J,Q,U),q=U?"borderLeft":"borderRight";function W(H,F){var M=Y.nodes(),B=M.pop(),O={};while(B){if(O[B])H(B);else O[B]=!0,M.push(B),M=M.concat(F(B));B=M.pop()}}function G(H){X[H]=Y.inEdges(H).reduce(function(F,M){return Math.max(F,X[M.v]+Y.edge(M))},0)}function z(H){var F=Y.outEdges(H).reduce(function(B,O){return Math.min(B,X[O.w]-Y.edge(O))},Number.POSITIVE_INFINITY),M=Z.node(H);if(F!==Number.POSITIVE_INFINITY&&M.borderType!==q)X[H]=Math.max(X[H],F)}return W(G,Y.predecessors.bind(Y)),W(z,Y.successors.bind(Y)),i0(K,function(H){X[H]=X[Q[H]]}),X}function iz8(Z,J,Q,K){var U=new k9,X=Z.graph(),Y=az8(X.nodesep,X.edgesep,K);return i0(J,function(q){var W;i0(q,function(G){var z=Q[G];if(U.setNode(z),W){var H=Q[W],F=U.edge(H,z);U.setEdge(H,z,Math.max(Y(Z,G,W),F||0))}W=G})}),U}function sz8(Z,J){return sG(f4(J),function(Q){var{NEGATIVE_INFINITY:K,POSITIVE_INFINITY:U}=Number;return hc(Q,function(X,Y){var q=oz8(Z,Y)/2;K=Math.max(X+q,K),U=Math.min(X-q,U)}),K-U})}function rz8(Z,J){var Q=f4(J),K=D5(Q),U=s6(Q);i0(["u","d"],function(X){i0(["l","r"],function(Y){var q=X+Y,W=Z[q],G;if(W===J)return;var z=f4(W);if(G=Y==="l"?K-D5(z):U-s6(z),G)Z[q]=iG(W,function(H){return H+G})})})}function nz8(Z,J){return iG(Z.ul,function(Q,K){if(J)return Z[J.toLowerCase()][K];else{var U=vU(jZ(Z,K));return(U[1]+U[2])/2}})}function r30(Z){var J=Yq(Z),Q=r1(uz8(Z,J),gz8(Z,J)),K={},U;i0(["u","d"],function(Y){U=Y==="u"?J:f4(J).reverse(),i0(["l","r"],function(q){if(q==="r")U=jZ(U,function(H){return f4(H).reverse()});var W=(Y==="u"?Z.predecessors:Z.successors).bind(Z),G=lz8(Z,U,Q,W),z=dz8(Z,U,G.root,G.align,q==="r");if(q==="r")z=iG(z,function(H){return-H});K[Y+q]=z})});var X=sz8(Z,K);return rz8(K,X),nz8(K,Z.graph().align)}function az8(Z,J,Q){return function(K,U,X){var Y=K.node(U),q=K.node(X),W=0,G;if(W+=Y.width/2,Object.prototype.hasOwnProperty.call(Y,"labelpos"))switch(Y.labelpos.toLowerCase()){case"l":G=-Y.width/2;break;case"r":G=Y.width/2;break}if(G)W+=Q?G:-G;if(G=0,W+=(Y.dummy?J:Z)/2,W+=(q.dummy?J:Z)/2,W+=q.width/2,Object.prototype.hasOwnProperty.call(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":G=q.width/2;break;case"r":G=-q.width/2;break}if(G)W+=Q?G:-G;return G=0,W}}function oz8(Z,J){return Z.node(J).width}var n30=f(()=>{P9();MK();bU()});function a30(Z){Z=dj(Z),tz8(Z),mc(r30(Z),function(J,Q){Z.node(Q).x=J})}function tz8(Z){var J=Yq(Z),Q=Z.graph().ranksep,K=0;i0(J,function(U){var X=s6(jZ(U,function(Y){return Z.node(Y).height}));i0(U,function(Y){Z.node(Y).y=K+X/2}),K+=X+Q})}var o30=f(()=>{P9();bU();n30()});function rL(Z,J){var Q=J&&J.debugTiming?lR0:dR0;Q("layout",()=>{var K=Q("  buildLayoutGraph",()=>GH8(Z));Q("  runLayout",()=>ez8(K,Q)),Q("  updateInputGraph",()=>ZH8(Z,K))})}function ez8(Z,J){J("    makeSpaceForEdgeLabels",()=>zH8(Z)),J("    removeSelfEdges",()=>IH8(Z)),J("    acyclic",()=>yR0(Z)),J("    nestingGraph.run",()=>N30(Z)),J("    rank",()=>Rl(dj(Z))),J("    injectEdgeLabelProxies",()=>HH8(Z)),J("    removeEmptyRanks",()=>pR0(Z)),J("    nestingGraph.cleanup",()=>V30(Z)),J("    normalizeRanks",()=>gR0(Z)),J("    assignRankMinMax",()=>FH8(Z)),J("    removeEdgeLabelProxies",()=>MH8(Z)),J("    normalize.run",()=>Z30(Z)),J("    parentDummyChains",()=>d30(Z)),J("    addBorderSegments",()=>sR0(Z)),J("    order",()=>c30(Z)),J("    insertSelfEdges",()=>AH8(Z)),J("    adjustCoordinateSystem",()=>aR0(Z)),J("    position",()=>a30(Z)),J("    positionSelfEdges",()=>NH8(Z)),J("    removeBorderNodes",()=>DH8(Z)),J("    normalize.undo",()=>J30(Z)),J("    fixupEdgeLabelCoords",()=>RH8(Z)),J("    undoCoordinateSystem",()=>oR0(Z)),J("    translateGraph",()=>BH8(Z)),J("    assignNodeIntersects",()=>OH8(Z)),J("    reversePoints",()=>LH8(Z)),J("    acyclic.undo",()=>hR0(Z))}function ZH8(Z,J){i0(Z.nodes(),function(Q){var K=Z.node(Q),U=J.node(Q);if(K){if(K.x=U.x,K.y=U.y,J.children(Q).length)K.width=U.width,K.height=U.height}}),i0(Z.edges(),function(Q){var K=Z.edge(Q),U=J.edge(Q);if(K.points=U.points,Object.prototype.hasOwnProperty.call(U,"x"))K.x=U.x,K.y=U.y}),Z.graph().width=J.graph().width,Z.graph().height=J.graph().height}function GH8(Z){var J=new k9({multigraph:!0,compound:!0}),Q=Al(Z.graph());return J.setGraph(r1({},QH8,Il(Q,JH8),rG(Q,KH8))),i0(Z.nodes(),function(K){var U=Al(Z.node(K));J.setNode(K,xc(Il(U,UH8),XH8)),J.setParent(K,Z.parent(K))}),i0(Z.edges(),function(K){var U=Al(Z.edge(K));J.setEdge(K,r1({},qH8,Il(U,YH8),rG(U,WH8)))}),J}function zH8(Z){var J=Z.graph();J.ranksep/=2,i0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.minlen*=2,K.labelpos.toLowerCase()!=="c")if(J.rankdir==="TB"||J.rankdir==="BT")K.width+=K.labeloffset;else K.height+=K.labeloffset})}function HH8(Z){i0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.width&&Q.height){var K=Z.node(J.v),U=Z.node(J.w),X={rank:(U.rank-K.rank)/2+K.rank,e:J};xU(Z,"edge-proxy",X,"_ep")}})}function FH8(Z){var J=0;i0(Z.nodes(),function(Q){var K=Z.node(Q);if(K.borderTop)K.minRank=Z.node(K.borderTop).rank,K.maxRank=Z.node(K.borderBottom).rank,J=s6(J,K.maxRank)}),Z.graph().maxRank=J}function MH8(Z){i0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="edge-proxy")Z.edge(Q.e).labelRank=Q.rank,Z.removeNode(J)})}function BH8(Z){var J=Number.POSITIVE_INFINITY,Q=0,K=Number.POSITIVE_INFINITY,U=0,X=Z.graph(),Y=X.marginx||0,q=X.marginy||0;function W(G){var{x:z,y:H,width:F,height:M}=G;J=Math.min(J,z-F/2),Q=Math.max(Q,z+F/2),K=Math.min(K,H-M/2),U=Math.max(U,H+M/2)}i0(Z.nodes(),function(G){W(Z.node(G))}),i0(Z.edges(),function(G){var z=Z.edge(G);if(Object.prototype.hasOwnProperty.call(z,"x"))W(z)}),J-=Y,K-=q,i0(Z.nodes(),function(G){var z=Z.node(G);z.x-=J,z.y-=K}),i0(Z.edges(),function(G){var z=Z.edge(G);if(i0(z.points,function(H){H.x-=J,H.y-=K}),Object.prototype.hasOwnProperty.call(z,"x"))z.x-=J;if(Object.prototype.hasOwnProperty.call(z,"y"))z.y-=K}),X.width=Q-J+Y,X.height=U-K+q}function OH8(Z){i0(Z.edges(),function(J){var Q=Z.edge(J),K=Z.node(J.v),U=Z.node(J.w),X,Y;if(!Q.points)Q.points=[],X=U,Y=K;else X=Q.points[0],Y=Q.points[Q.points.length-1];Q.points.unshift(ec(K,X)),Q.points.push(ec(U,Y))})}function RH8(Z){i0(Z.edges(),function(J){var Q=Z.edge(J);if(Object.prototype.hasOwnProperty.call(Q,"x")){if(Q.labelpos==="l"||Q.labelpos==="r")Q.width-=Q.labeloffset;switch(Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}}})}function LH8(Z){i0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed)Q.points.reverse()})}function DH8(Z){i0(Z.nodes(),function(J){if(Z.children(J).length){var Q=Z.node(J),K=Z.node(Q.borderTop),U=Z.node(Q.borderBottom),X=Z.node(Xq(Q.borderLeft)),Y=Z.node(Xq(Q.borderRight));Q.width=Math.abs(Y.x-X.x),Q.height=Math.abs(U.y-K.y),Q.x=X.x+Q.width/2,Q.y=K.y+Q.height/2}}),i0(Z.nodes(),function(J){if(Z.node(J).dummy==="border")Z.removeNode(J)})}function IH8(Z){i0(Z.edges(),function(J){if(J.v===J.w){var Q=Z.node(J.v);if(!Q.selfEdges)Q.selfEdges=[];Q.selfEdges.push({e:J,label:Z.edge(J)}),Z.removeEdge(J)}})}function AH8(Z){var J=Yq(Z);i0(J,function(Q){var K=0;i0(Q,function(U,X){var Y=Z.node(U);Y.order=X+K,i0(Y.selfEdges,function(q){xU(Z,"selfedge",{width:q.label.width,height:q.label.height,rank:Y.rank,order:X+ ++K,e:q.e,label:q.label},"_se")}),delete Y.selfEdges})})}function NH8(Z){i0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="selfedge"){var K=Z.node(Q.e.v),U=K.x+K.width/2,X=K.y,Y=Q.x-U,q=K.height/2;Z.setEdge(Q.e,Q.label),Z.removeNode(J),Q.label.points=[{x:U+2*Y/3,y:X-q},{x:U+5*Y/6,y:X-q},{x:U+Y,y:X},{x:U+5*Y/6,y:X+q},{x:U+2*Y/3,y:X+q}],Q.label.x=Q.x,Q.label.y=Q.y}})}function Il(Z,J){return iG(rG(Z,J),Number)}function Al(Z){var J={};return i0(Z,function(Q,K){J[K.toLowerCase()]=Q}),J}var JH8,QH8,KH8,UH8,XH8,YH8,qH8,WH8;var t30=f(()=>{P9();MK();rR0();eR0();tc();Ul();Ll();P30();l30();i30();o30();bU();JH8=["nodesep","edgesep","ranksep","marginx","marginy"],QH8={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},KH8=["acyclicer","ranker","rankdir","align"],UH8=["width","height"],XH8={width:0,height:0},YH8=["minlen","weight","width","height","labeloffset"],qH8={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},WH8=["labelpos"]});var Nl=f(()=>{tc();t30();Ul();Ll()});function BK(Z){var J={options:{directed:Z.isDirected(),multigraph:Z.isMultigraph(),compound:Z.isCompound()},nodes:EH8(Z),edges:VH8(Z)};if(!b9(Z.graph()))J.value=pL(Z.graph());return J}function EH8(Z){return jZ(Z.nodes(),function(J){var Q=Z.node(J),K=Z.parent(J),U={v:J};if(!b9(Q))U.value=Q;if(!b9(K))U.parent=K;return U})}function VH8(Z){return jZ(Z.edges(),function(J){var Q=Z.edge(J),K={v:J.v,w:J.w};if(!b9(J.name))K.name=J.name;if(!b9(Q))K.value=Q;return K})}var El=f(()=>{P9();cj()});var qL0={};LZ(qL0,{render:()=>wH8});var hZ,tG,JL0,PH8,nj,CH8,QL0,KL0,jH8,nL,ZL0,SH8,UL0,XL0,TH8,YL0,wH8;var WL0=f(()=>{HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();Nl();El();MK();MK();El();hZ=new Map,tG=new Map,JL0=new Map,PH8=I(()=>{tG.clear(),JL0.clear(),hZ.clear()},"clear"),nj=I((Z,J)=>{let Q=tG.get(J)||[];return Z0.trace("In isDescendant",J," ",Z," = ",Q.includes(Z)),Q.includes(Z)},"isDescendant"),CH8=I((Z,J)=>{let Q=tG.get(J)||[];if(Z0.info("Descendants of ",J," is ",Q),Z0.info("Edge is ",Z),Z.v===J||Z.w===J)return!1;if(!Q)return Z0.debug("Tilt, ",J,",not in descendants"),!1;return Q.includes(Z.v)||nj(Z.v,J)||nj(Z.w,J)||Q.includes(Z.w)},"edgeInCluster"),QL0=I((Z,J,Q,K)=>{Z0.warn("Copying children of ",Z,"root",K,"data",J.node(Z),K);let U=J.children(Z)||[];if(Z!==K)U.push(Z);Z0.warn("Copying (nodes) clusterId",Z,"nodes",U),U.forEach((X)=>{if(J.children(X).length>0)QL0(X,J,Q,K);else{let Y=J.node(X);if(Z0.info("cp ",X," to ",K," with parent ",Z),Q.setNode(X,Y),K!==J.parent(X))Z0.warn("Setting parent",X,J.parent(X)),Q.setParent(X,J.parent(X));if(Z!==K&&X!==Z)Z0.debug("Setting parent",X,Z),Q.setParent(X,Z);else Z0.info("In copy ",Z,"root",K,"data",J.node(Z),K),Z0.debug("Not Setting parent for node=",X,"cluster!==rootId",Z!==K,"node!==clusterId",X!==Z);let q=J.edges(X);Z0.debug("Copying Edges",q),q.forEach((W)=>{Z0.info("Edge",W);let G=J.edge(W.v,W.w,W.name);Z0.info("Edge data",G,K);try{if(CH8(W,K))Z0.info("Copying as ",W.v,W.w,G,W.name),Q.setEdge(W.v,W.w,G,W.name),Z0.info("newGraph edges ",Q.edges(),Q.edge(Q.edges()[0]));else Z0.info("Skipping copy of edge ",W.v,"-->",W.w," rootId: ",K," clusterId:",Z)}catch(z){Z0.error(z)}})}Z0.debug("Removing node",X),J.removeNode(X)})},"copy"),KL0=I((Z,J)=>{let Q=J.children(Z),K=[...Q];for(let U of Q)JL0.set(U,Z),K=[...K,...KL0(U,J)];return K},"extractDescendants"),jH8=I((Z,J,Q)=>{let K=Z.edges().filter((W)=>W.v===J||W.w===J),U=Z.edges().filter((W)=>W.v===Q||W.w===Q),X=K.map((W)=>{return{v:W.v===J?Q:W.v,w:W.w===J?J:W.w}}),Y=U.map((W)=>{return{v:W.v,w:W.w}});return X.filter((W)=>{return Y.some((G)=>W.v===G.v&&W.w===G.w)})},"findCommonEdges"),nL=I((Z,J,Q)=>{let K=J.children(Z);if(Z0.trace("Searching children of id ",Z,K),K.length<1)return Z;let U;for(let X of K){let Y=nL(X,J,Q),q=jH8(J,Q,Y);if(Y)if(q.length>0)U=Y;else return Y}return U},"findNonClusterChild"),ZL0=I((Z)=>{if(!hZ.has(Z))return Z;if(!hZ.get(Z).externalConnections)return Z;if(hZ.has(Z))return hZ.get(Z).id;return Z},"getAnchorId"),SH8=I((Z,J)=>{if(!Z||J>10){Z0.debug("Opting out, no graph ");return}else Z0.debug("Opting in, graph ");Z.nodes().forEach(function(Q){if(Z.children(Q).length>0)Z0.warn("Cluster identified",Q," Replacement id in edges: ",nL(Q,Z,Q)),tG.set(Q,KL0(Q,Z)),hZ.set(Q,{id:nL(Q,Z,Q),clusterData:Z.node(Q)})}),Z.nodes().forEach(function(Q){let K=Z.children(Q),U=Z.edges();if(K.length>0)Z0.debug("Cluster identified",Q,tG),U.forEach((X)=>{let Y=nj(X.v,Q),q=nj(X.w,Q);if(Y^q)Z0.warn("Edge: ",X," leaves cluster ",Q),Z0.warn("Descendants of XXX ",Q,": ",tG.get(Q)),hZ.get(Q).externalConnections=!0});else Z0.debug("Not a cluster ",Q,tG)});for(let Q of hZ.keys()){let K=hZ.get(Q).id,U=Z.parent(K);if(U!==Q&&hZ.has(U)&&!hZ.get(U).externalConnections)hZ.get(Q).id=U}Z.edges().forEach(function(Q){let K=Z.edge(Q);Z0.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Q)),Z0.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Z.edge(Q)));let{v:U,w:X}=Q;if(Z0.warn("Fix XXX",hZ,"ids:",Q.v,Q.w,"Translating: ",hZ.get(Q.v)," --- ",hZ.get(Q.w)),hZ.get(Q.v)||hZ.get(Q.w)){if(Z0.warn("Fixing and trying - removing XXX",Q.v,Q.w,Q.name),U=ZL0(Q.v),X=ZL0(Q.w),Z.removeEdge(Q.v,Q.w,Q.name),U!==Q.v){let Y=Z.parent(U);hZ.get(Y).externalConnections=!0,K.fromCluster=Q.v}if(X!==Q.w){let Y=Z.parent(X);hZ.get(Y).externalConnections=!0,K.toCluster=Q.w}Z0.warn("Fix Replacing with XXX",U,X,Q.name),Z.setEdge(U,X,K,Q.name)}}),Z0.warn("Adjusted Graph",BK(Z)),UL0(Z,0),Z0.trace(hZ)},"adjustClustersAndEdges"),UL0=I((Z,J)=>{if(Z0.warn("extractor - ",J,BK(Z),Z.children("D")),J>10){Z0.error("Bailing out");return}let Q=Z.nodes(),K=!1;for(let U of Q){let X=Z.children(U);K=K||X.length>0}if(!K){Z0.debug("Done, no node has children",Z.nodes());return}Z0.debug("Nodes = ",Q,J);for(let U of Q)if(Z0.debug("Extracting node",U,hZ,hZ.has(U)&&!hZ.get(U).externalConnections,!Z.parent(U),Z.node(U),Z.children("D")," Depth ",J),!hZ.has(U))Z0.debug("Not a cluster",U,J);else if(!hZ.get(U).externalConnections&&Z.children(U)&&Z.children(U).length>0){Z0.warn("Cluster without external connections, without a parent and with children",U,J);let Y=Z.graph().rankdir==="TB"?"LR":"TB";if(hZ.get(U)?.clusterData?.dir)Y=hZ.get(U).clusterData.dir,Z0.warn("Fixing dir",hZ.get(U).clusterData.dir,Y);let q=new k9({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Z0.warn("Old graph before copy",BK(Z)),QL0(U,Z,q,U),Z.setNode(U,{clusterNode:!0,id:U,clusterData:hZ.get(U).clusterData,label:hZ.get(U).label,graph:q}),Z0.warn("New graph after copy node: (",U,")",BK(q)),Z0.debug("Old graph after copy",BK(Z))}else Z0.warn("Cluster ** ",U," **not meeting the criteria !externalConnections:",!hZ.get(U).externalConnections," no parent: ",!Z.parent(U)," children ",Z.children(U)&&Z.children(U).length>0,Z.children("D"),J),Z0.debug(hZ);Q=Z.nodes(),Z0.warn("New list of nodes",Q);for(let U of Q){let X=Z.node(U);if(Z0.warn(" Now next level",U,X),X?.clusterNode)UL0(X.graph,J+1)}},"extractor"),XL0=I((Z,J)=>{if(J.length===0)return[];let Q=Object.assign([],J);return J.forEach((K)=>{let U=Z.children(K),X=XL0(Z,U);Q=[...Q,...X]}),Q},"sorter"),TH8=I((Z)=>XL0(Z,Z.children()),"sortNodesByHierarchy"),YL0=I(async(Z,J,Q,K,U,X)=>{Z0.warn("Graph in recursive render:XAX",BK(J),U);let Y=J.graph().rankdir;Z0.trace("Dir in recursive render - dir:",Y);let q=Z.insert("g").attr("class","root");if(!J.nodes())Z0.info("No nodes found for",J);else Z0.info("Recursive render XXX",J.nodes());if(J.edges().length>0)Z0.info("Recursive edges",J.edge(J.edges()[0]));let W=q.insert("g").attr("class","clusters"),G=q.insert("g").attr("class","edgePaths"),z=q.insert("g").attr("class","edgeLabels"),H=q.insert("g").attr("class","nodes");await Promise.all(J.nodes().map(async function(O){let R=J.node(O);if(U!==void 0){let L=JSON.parse(JSON.stringify(U.clusterData));if(Z0.trace(`Setting data for parent cluster XXX
 Node.id = `,O,`
 data=`,L.height,`
Parent cluster`,U.height),J.setNode(U.id,L),!J.parent(O))Z0.trace("Setting parent",O,U.id),J.setParent(O,U.id,L)}if(Z0.info("(Insert) Node XXX"+O+": "+JSON.stringify(J.node(O))),R?.clusterNode){Z0.info("Cluster identified XBX",O,R.width,J.node(O));let{ranksep:L,nodesep:D}=J.graph();R.graph.setGraph({...R.graph.graph(),ranksep:L+25,nodesep:D});let A=await YL0(H,R.graph,Q,K,J.node(O),X),V=A.elem;s8(R,V),R.diff=A.diff||0,Z0.info("New compound node after recursive render XAX",O,"width",R.width,"height",R.height),bF0(V,R)}else if(J.children(O).length>0)Z0.trace("Cluster - the non recursive path XBX",O,R.id,R,R.width,"Graph:",J),Z0.trace(nL(R.id,J)),hZ.set(R.id,{id:nL(R.id,J),node:R});else Z0.trace("Node - the non recursive path XAX",O,H,J.node(O),Y),await pG(H,J.node(O),{config:X,dir:Y})})),await I(async()=>{let O=J.edges().map(async function(R){let L=J.edge(R.v,R.w,R.name);Z0.info("Edge "+R.v+" -> "+R.w+": "+JSON.stringify(R)),Z0.info("Edge "+R.v+" -> "+R.w+": ",R," ",JSON.stringify(J.edge(R))),Z0.info("Fix",hZ,"ids:",R.v,R.w,"Translating: ",hZ.get(R.v),hZ.get(R.w)),await Zj(z,L)});await Promise.all(O)},"processEdges")(),Z0.info("Graph before layout:",JSON.stringify(BK(J))),Z0.info("############################################# XXX"),Z0.info("###                Layout                 ### XXX"),Z0.info("############################################# XXX"),rL(J),Z0.info("Graph after layout:",JSON.stringify(BK(J)));let M=0,{subGraphTitleTotalMargin:B}=XY(X);return await Promise.all(TH8(J).map(async function(O){let R=J.node(O);if(Z0.info("Position XBX => "+O+": ("+R.x,","+R.y,") width: ",R.width," height: ",R.height),R?.clusterNode)R.y+=B,Z0.info("A tainted cluster node XBX1",O,R.id,R.width,R.height,R.x,R.y,J.parent(O)),hZ.get(R.id).node=R,xL(R);else if(J.children(O).length>0){Z0.info("A pure cluster node XBX1",O,R.id,R.x,R.y,R.width,R.height,J.parent(O)),R.height+=B,J.node(R.parentId);let L=R?.padding/2||0,D=R?.labelBBox?.height||0,A=D-L||0;Z0.debug("OffsetY",A,"labelHeight",D,"halfPadding",L),await u2(W,R),hZ.get(R.id).node=R}else{let L=J.node(R.parentId);R.y+=B/2,Z0.info("A regular node XBX1 - using the padding",R.id,"parent",R.parentId,R.width,R.height,R.x,R.y,"offsetY",R.offsetY,"parent",L,L?.offsetY,R),xL(R)}})),J.edges().forEach(function(O){let R=J.edge(O);Z0.info("Edge "+O.v+" -> "+O.w+": "+JSON.stringify(R),R),R.points.forEach((V)=>V.y+=B/2);let L=J.node(O.v);var D=J.node(O.w);let A=Qj(G,R,hZ,Q,L,D,K);Jj(R,A)}),J.nodes().forEach(function(O){let R=J.node(O);if(Z0.info(O,R.type,R.diff),R.isGroup)M=R.diff}),Z0.warn("Returning from recursive render XAX",q,M),{elem:q,diff:M}},"recursiveRender"),wH8=I(async(Z,J)=>{let Q=new k9({multigraph:!0,compound:!0}).setGraph({rankdir:Z.direction,nodesep:Z.config?.nodeSpacing||Z.config?.flowchart?.nodeSpacing||Z.nodeSpacing,ranksep:Z.config?.rankSpacing||Z.config?.flowchart?.rankSpacing||Z.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),K=J.select("g");Kj(K,Z.markers,Z.type,Z.diagramId),yF0(),gF0(),D20(),PH8(),Z.nodes.forEach((X)=>{if(Q.setNode(X.id,{...X}),X.parentId)Q.setParent(X.id,X.parentId)}),Z0.debug("Edges:",Z.edges),Z.edges.forEach((X)=>{if(X.start===X.end){let Y=X.start,q=Y+"---"+Y+"---1",W=Y+"---"+Y+"---2",G=Q.node(Y);Q.setNode(q,{domId:q,id:q,parentId:G.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),Q.setParent(q,G.parentId),Q.setNode(W,{domId:W,id:W,parentId:G.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),Q.setParent(W,G.parentId);let z=structuredClone(X),H=structuredClone(X),F=structuredClone(X);if(z.label="",z.arrowTypeEnd="none",z.id=Y+"-cyclic-special-1",H.arrowTypeStart="none",H.arrowTypeEnd="none",H.id=Y+"-cyclic-special-mid",F.label="",G.isGroup)z.fromCluster=Y,F.toCluster=Y;F.id=Y+"-cyclic-special-2",F.arrowTypeStart="none",Q.setEdge(Y,q,z,Y+"-cyclic-special-0"),Q.setEdge(q,W,H,Y+"-cyclic-special-1"),Q.setEdge(W,Y,F,Y+"-cyc<lic-special-2")}else Q.setEdge(X.start,X.end,{...X},X.id)}),Z0.warn("Graph at first:",JSON.stringify(BK(Q))),SH8(Q),Z0.warn("Graph after XAX:",JSON.stringify(BK(Q)));let U=E0();await YL0(K,Q,Z.type,Z.diagramId,void 0,U)},"render")});function ed(Z,J){(J==null||J>Z.length)&&(J=Z.length);for(var Q=0,K=Array(J);Q<J;Q++)K[Q]=Z[Q];return K}function $H8(Z){if(Array.isArray(Z))return Z}function kH8(Z){if(Array.isArray(Z))return ed(Z)}function Pq(Z,J){if(!(Z instanceof J))throw TypeError("Cannot call a class as a function")}function _H8(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,hI0(K.key),K)}}function Cq(Z,J,Q){return J&&_H8(Z.prototype,J),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function a6(Z,J){var Q=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Q){if(Array.isArray(Z)||(Q=Ii(Z))||J){Q&&(Z=Q);var K=0,U=function(){};return{s:U,n:function(){return K>=Z.length?{done:!0}:{done:!1,value:Z[K++]}},e:function(W){throw W},f:U}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,Y=!0,q=!1;return{s:function(){Q=Q.call(Z)},n:function(){var W=Q.next();return Y=W.done,W},e:function(W){q=!0,X=W},f:function(){try{Y||Q.return==null||Q.return()}finally{if(q)throw X}}}}function yI0(Z,J,Q){return(J=hI0(J))in Z?Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[J]=Q,Z}function fH8(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}function vH8(Z,J){var Q=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(Q!=null){var K,U,X,Y,q=[],W=!0,G=!1;try{if(X=(Q=Q.call(Z)).next,J===0){if(Object(Q)!==Q)return;W=!1}else for(;!(W=(K=X.call(Q)).done)&&(q.push(K.value),q.length!==J);W=!0);}catch(z){G=!0,U=z}finally{try{if(!W&&Q.return!=null&&(Y=Q.return(),Object(Y)!==Y))return}finally{if(G)throw U}}return q}}function xH8(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH8(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(Z,J){return $H8(Z)||vH8(Z,J)||Ii(Z,J)||xH8()}function AS(Z){return kH8(Z)||fH8(Z)||Ii(Z)||bH8()}function yH8(Z,J){if(typeof Z!="object"||!Z)return Z;var Q=Z[Symbol.toPrimitive];if(Q!==void 0){var K=Q.call(Z,J);if(typeof K!="object")return K;throw TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}function hI0(Z){var J=yH8(Z,"string");return typeof J=="symbol"?J:J+""}function A7(Z){return A7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},A7(Z)}function Ii(Z,J){if(Z){if(typeof Z=="string")return ed(Z,J);var Q={}.toString.call(Z).slice(8,-1);return Q==="Object"&&Z.constructor&&(Q=Z.constructor.name),Q==="Map"||Q==="Set"?Array.from(Z):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?ed(Z,J):void 0}}function ND(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}function ED(){if(HL0)return Vl;HL0=1;function Z(J){var Q=typeof J;return J!=null&&(Q=="object"||Q=="function")}return Vl=Z,Vl}function Y28(){if(FL0)return Pl;FL0=1;var Z=typeof aj=="object"&&aj&&aj.Object===Object&&aj;return Pl=Z,Pl}function xS(){if(ML0)return Cl;ML0=1;var Z=Y28(),J=typeof self=="object"&&self&&self.Object===Object&&self,Q=Z||J||Function("return this")();return Cl=Q,Cl}function q28(){if(BL0)return jl;BL0=1;var Z=xS(),J=function(){return Z.Date.now()};return jl=J,jl}function W28(){if(OL0)return Sl;OL0=1;var Z=/\s/;function J(Q){var K=Q.length;while(K--&&Z.test(Q.charAt(K)));return K}return Sl=J,Sl}function G28(){if(RL0)return Tl;RL0=1;var Z=W28(),J=/^\s+/;function Q(K){return K?K.slice(0,Z(K)+1).replace(J,""):K}return Tl=Q,Tl}function Ei(){if(LL0)return wl;LL0=1;var Z=xS(),J=Z.Symbol;return wl=J,wl}function z28(){if(DL0)return $l;DL0=1;var Z=Ei(),J=Object.prototype,Q=J.hasOwnProperty,K=J.toString,U=Z?Z.toStringTag:void 0;function X(Y){var q=Q.call(Y,U),W=Y[U];try{Y[U]=void 0;var G=!0}catch(H){}var z=K.call(Y);if(G)if(q)Y[U]=W;else delete Y[U];return z}return $l=X,$l}function H28(){if(IL0)return kl;IL0=1;var Z=Object.prototype,J=Z.toString;function Q(K){return J.call(K)}return kl=Q,kl}function sI0(){if(AL0)return _l;AL0=1;var Z=Ei(),J=z28(),Q=H28(),K="[object Null]",U="[object Undefined]",X=Z?Z.toStringTag:void 0;function Y(q){if(q==null)return q===void 0?U:K;return X&&X in Object(q)?J(q):Q(q)}return _l=Y,_l}function F28(){if(NL0)return fl;NL0=1;function Z(J){return J!=null&&typeof J=="object"}return fl=Z,fl}function VD(){if(EL0)return vl;EL0=1;var Z=sI0(),J=F28(),Q="[object Symbol]";function K(U){return typeof U=="symbol"||J(U)&&Z(U)==Q}return vl=K,vl}function M28(){if(VL0)return xl;VL0=1;var Z=G28(),J=ED(),Q=VD(),K=NaN,U=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,q=parseInt;function W(G){if(typeof G=="number")return G;if(Q(G))return K;if(J(G)){var z=typeof G.valueOf=="function"?G.valueOf():G;G=J(z)?z+"":z}if(typeof G!="string")return G===0?G:+G;G=Z(G);var H=X.test(G);return H||Y.test(G)?q(G.slice(2),H?2:8):U.test(G)?K:+G}return xl=W,xl}function B28(){if(PL0)return bl;PL0=1;var Z=ED(),J=q28(),Q=M28(),K="Expected a function",U=Math.max,X=Math.min;function Y(q,W,G){var z,H,F,M,B,O,R=0,L=!1,D=!1,A=!0;if(typeof q!="function")throw TypeError(K);if(W=Q(W)||0,Z(G))L=!!G.leading,D="maxWait"in G,F=D?U(Q(G.maxWait)||0,W):F,A="trailing"in G?!!G.trailing:A;function V(S){var T=z,_=H;return z=H=void 0,R=S,M=q.apply(_,T),M}function N(S){return R=S,B=setTimeout(j,W),L?V(S):M}function E(S){var T=S-O,_=S-R,v=W-T;return D?X(v,F-_):v}function C(S){var T=S-O,_=S-R;return O===void 0||T>=W||T<0||D&&_>=F}function j(){var S=J();if(C(S))return $(S);B=setTimeout(j,E(S))}function $(S){if(B=void 0,A&&z)return V(S);return z=H=void 0,M}function k(){if(B!==void 0)clearTimeout(B);R=0,z=O=H=B=void 0}function w(){return B===void 0?M:$(J())}function P(){var S=J(),T=C(S);if(z=arguments,H=this,O=S,T){if(B===void 0)return N(O);if(D)return clearTimeout(B),B=setTimeout(j,W),V(O)}if(B===void 0)B=setTimeout(j,W);return M}return P.cancel=k,P.flush=w,P}return bl=Y,bl}function I28(Z,J,Q,K,U){var X=U*Math.PI/180,Y=Math.cos(X)*(Z-Q)-Math.sin(X)*(J-K)+Q,q=Math.sin(X)*(Z-Q)+Math.cos(X)*(J-K)+K;return{x:Y,y:q}}function N28(Z,J,Q){if(Q===0)return Z;var K=(J.x1+J.x2)/2,U=(J.y1+J.y2)/2,X=J.w/J.h,Y=1/X,q=I28(Z.x,Z.y,K,U,Q),W=A28(q.x,q.y,K,U,X,Y);return{x:W.x,y:W.y}}function _28(){if(wL0)return GS.exports;return wL0=1,function(Z,J){(function(){var Q,K,U,X,Y,q,W,G,z,H,F,M,B,O,R;U=Math.floor,H=Math.min,K=function(L,D){if(L<D)return-1;if(L>D)return 1;return 0},z=function(L,D,A,V,N){var E;if(A==null)A=0;if(N==null)N=K;if(A<0)throw Error("lo must be non-negative");if(V==null)V=L.length;while(A<V)if(E=U((A+V)/2),N(D,L[E])<0)V=E;else A=E+1;return[].splice.apply(L,[A,A-A].concat(D)),D},q=function(L,D,A){if(A==null)A=K;return L.push(D),O(L,0,L.length-1,A)},Y=function(L,D){var A,V;if(D==null)D=K;if(A=L.pop(),L.length)V=L[0],L[0]=A,R(L,0,D);else V=A;return V},G=function(L,D,A){var V;if(A==null)A=K;return V=L[0],L[0]=D,R(L,0,A),V},W=function(L,D,A){var V;if(A==null)A=K;if(L.length&&A(L[0],D)<0)V=[L[0],D],D=V[0],L[0]=V[1],R(L,0,A);return D},X=function(L,D){var A,V,N,E,C,j;if(D==null)D=K;E=function(){j=[];for(var $=0,k=U(L.length/2);0<=k?$<k:$>k;0<=k?$++:$--)j.push($);return j}.apply(this).reverse(),C=[];for(V=0,N=E.length;V<N;V++)A=E[V],C.push(R(L,A,D));return C},B=function(L,D,A){var V;if(A==null)A=K;if(V=L.indexOf(D),V===-1)return;return O(L,0,V,A),R(L,V,A)},F=function(L,D,A){var V,N,E,C,j;if(A==null)A=K;if(N=L.slice(0,D),!N.length)return N;X(N,A),j=L.slice(D);for(E=0,C=j.length;E<C;E++)V=j[E],W(N,V,A);return N.sort(A).reverse()},M=function(L,D,A){var V,N,E,C,j,$,k,w,P;if(A==null)A=K;if(D*10<=L.length){if(E=L.slice(0,D).sort(A),!E.length)return E;N=E[E.length-1],k=L.slice(D);for(C=0,$=k.length;C<$;C++)if(V=k[C],A(V,N)<0)z(E,V,0,null,A),E.pop(),N=E[E.length-1];return E}X(L,A),P=[];for(j=0,w=H(D,L.length);0<=w?j<w:j>w;0<=w?++j:--j)P.push(Y(L,A));return P},O=function(L,D,A,V){var N,E,C;if(V==null)V=K;N=L[A];while(A>D){if(C=A-1>>1,E=L[C],V(N,E)<0){L[A]=E,A=C;continue}break}return L[A]=N},R=function(L,D,A){var V,N,E,C,j;if(A==null)A=K;N=L.length,j=D,E=L[D],V=2*D+1;while(V<N){if(C=V+1,C<N&&!(A(L[V],L[C])<0))V=C;L[D]=L[V],D=V,V=2*D+1}return L[D]=E,O(L,j,D,A)},Q=function(){L.push=q,L.pop=Y,L.replace=G,L.pushpop=W,L.heapify=X,L.updateItem=B,L.nlargest=F,L.nsmallest=M;function L(D){this.cmp=D!=null?D:K,this.nodes=[]}return L.prototype.push=function(D){return q(this.nodes,D,this.cmp)},L.prototype.pop=function(){return Y(this.nodes,this.cmp)},L.prototype.peek=function(){return this.nodes[0]},L.prototype.contains=function(D){return this.nodes.indexOf(D)!==-1},L.prototype.replace=function(D){return G(this.nodes,D,this.cmp)},L.prototype.pushpop=function(D){return W(this.nodes,D,this.cmp)},L.prototype.heapify=function(){return X(this.nodes,this.cmp)},L.prototype.updateItem=function(D){return B(this.nodes,D,this.cmp)},L.prototype.clear=function(){return this.nodes=[]},L.prototype.empty=function(){return this.nodes.length===0},L.prototype.size=function(){return this.nodes.length},L.prototype.clone=function(){var D=new L;return D.nodes=this.nodes.slice(0),D},L.prototype.toArray=function(){return this.nodes.slice(0)},L.prototype.insert=L.prototype.push,L.prototype.top=L.prototype.peek,L.prototype.front=L.prototype.peek,L.prototype.has=L.prototype.contains,L.prototype.copy=L.prototype.clone,L}(),function(L,D){return Z.exports=D()}(this,function(){return Q})}).call(k28)}(GS),GS.exports}function f28(){if($L0)return hl;return $L0=1,hl=_28(),hl}function XF8(Z,J){if(Z.length<3)throw Error("Need at least 3 vertices");var Q=function(j,$){return{x:j.x+$.x,y:j.y+$.y}},K=function(j,$){return{x:j.x-$.x,y:j.y-$.y}},U=function(j,$){return{x:j.x*$,y:j.y*$}},X=function(j,$){return j.x*$.y-j.y*$.x},Y=function(j){var $=UF8(j.x,j.y);return $===0?{x:0,y:0}:{x:j.x/$,y:j.y/$}},q=function(j){var $=0;for(var k=0;k<j.length;k++){var w=j[k],P=j[(k+1)%j.length];$+=w.x*P.y-P.x*w.y}return $/2},W=function(j,$,k,w){var P=K($,j),S=K(w,k),T=X(P,S);if(Math.abs(T)<0.000000001)return Q(j,U(P,0.5));var _=X(K(k,j),S)/T;return Q(j,U(P,_))},G=Z.map(function(C){return{x:C.x,y:C.y}});if(q(G)<0)G.reverse();var z=G.length,H=[];for(var F=0;F<z;F++){var M=G[F],B=G[(F+1)%z],O=K(B,M),R=Y({x:O.y,y:-O.x});H.push(R)}var L=H.map(function(C,j){var $=Q(G[j],U(C,J)),k=Q(G[(j+1)%z],U(C,J));return{p1:$,p2:k}}),D=[];for(var A=0;A<z;A++){var V=L[(A-1+z)%z],N=L[A],E=W(V.p1,V.p2,N.p1,N.p2);D.push(E)}return D}function YF8(Z,J,Q,K,U,X){var Y=OF8(Z,J,Q,K,U),q=XF8(Y,X),W=X6();return q.forEach(function(G){return KA0(W,G.x,G.y)}),W}function pl(Z,J){function Q(H){var F=[];for(var M=0;M<H.length;M++){var B=H[M],O=H[(M+1)%H.length],R={x:O.x-B.x,y:O.y-B.y},L={x:-R.y,y:R.x},D=Math.sqrt(L.x*L.x+L.y*L.y);F.push({x:L.x/D,y:L.y/D})}return F}function K(H,F){var M=1/0,B=-1/0,O=a6(H),R;try{for(O.s();!(R=O.n()).done;){var L=R.value,D=L.x*F.x+L.y*F.y;M=Math.min(M,D),B=Math.max(B,D)}}catch(A){O.e(A)}finally{O.f()}return{min:M,max:B}}function U(H,F){return!(H.max<F.min||F.max<H.min)}var X=[].concat(AS(Q(Z)),AS(Q(J))),Y=a6(X),q;try{for(Y.s();!(q=Y.n()).done;){var W=q.value,G=K(Z,W),z=K(J,W);if(!U(G,z))return!1}}catch(H){Y.e(H)}finally{Y.f()}return!0}function hS(Z,J,Q,K,U,X){var Y;if($J(Z))Y=Z;else Y=OF[Z]||OF.euclidean;if(J===0&&$J(Z))return Y(U,X);else return Y(J,Q,K,U,X)}function mS(){if(rL0)return ll;rL0=1;var Z=Array.isArray;return ll=Z,ll}function WM8(){if(nL0)return dl;nL0=1;var Z=mS(),J=VD(),Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/;function U(X,Y){if(Z(X))return!1;var q=typeof X;if(q=="number"||q=="symbol"||q=="boolean"||X==null||J(X))return!0;return K.test(X)||!Q.test(X)||Y!=null&&X in Object(Y)}return dl=U,dl}function GM8(){if(aL0)return il;aL0=1;var Z=sI0(),J=ED(),Q="[object AsyncFunction]",K="[object Function]",U="[object GeneratorFunction]",X="[object Proxy]";function Y(q){if(!J(q))return!1;var W=Z(q);return W==K||W==U||W==Q||W==X}return il=Y,il}function zM8(){if(oL0)return sl;oL0=1;var Z=xS(),J=Z["__core-js_shared__"];return sl=J,sl}function HM8(){if(tL0)return rl;tL0=1;var Z=zM8(),J=function(){var K=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}();function Q(K){return!!J&&J in K}return rl=Q,rl}function FM8(){if(eL0)return nl;eL0=1;var Z=Function.prototype,J=Z.toString;function Q(K){if(K!=null){try{return J.call(K)}catch(U){}try{return K+""}catch(U){}}return""}return nl=Q,nl}function MM8(){if(ZD0)return al;ZD0=1;var Z=GM8(),J=HM8(),Q=ED(),K=FM8(),U=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Y=Function.prototype,q=Object.prototype,W=Y.toString,G=q.hasOwnProperty,z=RegExp("^"+W.call(G).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(F){if(!Q(F)||J(F))return!1;var M=Z(F)?z:X;return M.test(K(F))}return al=H,al}function BM8(){if(JD0)return ol;JD0=1;function Z(J,Q){return J==null?void 0:J[Q]}return ol=Z,ol}function ki(){if(QD0)return tl;QD0=1;var Z=MM8(),J=BM8();function Q(K,U){var X=J(K,U);return Z(X)?X:void 0}return tl=Q,tl}function uS(){if(KD0)return el;KD0=1;var Z=ki(),J=Z(Object,"create");return el=J,el}function OM8(){if(UD0)return Zd;UD0=1;var Z=uS();function J(){this.__data__=Z?Z(null):{},this.size=0}return Zd=J,Zd}function RM8(){if(XD0)return Jd;XD0=1;function Z(J){var Q=this.has(J)&&delete this.__data__[J];return this.size-=Q?1:0,Q}return Jd=Z,Jd}function LM8(){if(YD0)return Qd;YD0=1;var Z=uS(),J="__lodash_hash_undefined__",Q=Object.prototype,K=Q.hasOwnProperty;function U(X){var Y=this.__data__;if(Z){var q=Y[X];return q===J?void 0:q}return K.call(Y,X)?Y[X]:void 0}return Qd=U,Qd}function DM8(){if(qD0)return Kd;qD0=1;var Z=uS(),J=Object.prototype,Q=J.hasOwnProperty;function K(U){var X=this.__data__;return Z?X[U]!==void 0:Q.call(X,U)}return Kd=K,Kd}function IM8(){if(WD0)return Ud;WD0=1;var Z=uS(),J="__lodash_hash_undefined__";function Q(K,U){var X=this.__data__;return this.size+=this.has(K)?0:1,X[K]=Z&&U===void 0?J:U,this}return Ud=Q,Ud}function AM8(){if(GD0)return Xd;GD0=1;var Z=OM8(),J=RM8(),Q=LM8(),K=DM8(),U=IM8();function X(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return X.prototype.clear=Z,X.prototype.delete=J,X.prototype.get=Q,X.prototype.has=K,X.prototype.set=U,Xd=X,Xd}function NM8(){if(zD0)return Yd;zD0=1;function Z(){this.__data__=[],this.size=0}return Yd=Z,Yd}function DA0(){if(HD0)return qd;HD0=1;function Z(J,Q){return J===Q||J!==J&&Q!==Q}return qd=Z,qd}function gS(){if(FD0)return Wd;FD0=1;var Z=DA0();function J(Q,K){var U=Q.length;while(U--)if(Z(Q[U][0],K))return U;return-1}return Wd=J,Wd}function EM8(){if(MD0)return Gd;MD0=1;var Z=gS(),J=Array.prototype,Q=J.splice;function K(U){var X=this.__data__,Y=Z(X,U);if(Y<0)return!1;var q=X.length-1;if(Y==q)X.pop();else Q.call(X,Y,1);return--this.size,!0}return Gd=K,Gd}function VM8(){if(BD0)return zd;BD0=1;var Z=gS();function J(Q){var K=this.__data__,U=Z(K,Q);return U<0?void 0:K[U][1]}return zd=J,zd}function PM8(){if(OD0)return Hd;OD0=1;var Z=gS();function J(Q){return Z(this.__data__,Q)>-1}return Hd=J,Hd}function CM8(){if(RD0)return Fd;RD0=1;var Z=gS();function J(Q,K){var U=this.__data__,X=Z(U,Q);if(X<0)++this.size,U.push([Q,K]);else U[X][1]=K;return this}return Fd=J,Fd}function jM8(){if(LD0)return Md;LD0=1;var Z=NM8(),J=EM8(),Q=VM8(),K=PM8(),U=CM8();function X(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return X.prototype.clear=Z,X.prototype.delete=J,X.prototype.get=Q,X.prototype.has=K,X.prototype.set=U,Md=X,Md}function SM8(){if(DD0)return Bd;DD0=1;var Z=ki(),J=xS(),Q=Z(J,"Map");return Bd=Q,Bd}function TM8(){if(ID0)return Od;ID0=1;var Z=AM8(),J=jM8(),Q=SM8();function K(){this.size=0,this.__data__={hash:new Z,map:new(Q||J),string:new Z}}return Od=K,Od}function wM8(){if(AD0)return Rd;AD0=1;function Z(J){var Q=typeof J;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?J!=="__proto__":J===null}return Rd=Z,Rd}function pS(){if(ND0)return Ld;ND0=1;var Z=wM8();function J(Q,K){var U=Q.__data__;return Z(K)?U[typeof K=="string"?"string":"hash"]:U.map}return Ld=J,Ld}function $M8(){if(ED0)return Dd;ED0=1;var Z=pS();function J(Q){var K=Z(this,Q).delete(Q);return this.size-=K?1:0,K}return Dd=J,Dd}function kM8(){if(VD0)return Id;VD0=1;var Z=pS();function J(Q){return Z(this,Q).get(Q)}return Id=J,Id}function _M8(){if(PD0)return Ad;PD0=1;var Z=pS();function J(Q){return Z(this,Q).has(Q)}return Ad=J,Ad}function fM8(){if(CD0)return Nd;CD0=1;var Z=pS();function J(Q,K){var U=Z(this,Q),X=U.size;return U.set(Q,K),this.size+=U.size==X?0:1,this}return Nd=J,Nd}function vM8(){if(jD0)return Ed;jD0=1;var Z=TM8(),J=$M8(),Q=kM8(),K=_M8(),U=fM8();function X(Y){var q=-1,W=Y==null?0:Y.length;this.clear();while(++q<W){var G=Y[q];this.set(G[0],G[1])}}return X.prototype.clear=Z,X.prototype.delete=J,X.prototype.get=Q,X.prototype.has=K,X.prototype.set=U,Ed=X,Ed}function xM8(){if(SD0)return Vd;SD0=1;var Z=vM8(),J="Expected a function";function Q(K,U){if(typeof K!="function"||U!=null&&typeof U!="function")throw TypeError(J);var X=function(){var Y=arguments,q=U?U.apply(this,Y):Y[0],W=X.cache;if(W.has(q))return W.get(q);var G=K.apply(this,Y);return X.cache=W.set(q,G)||W,G};return X.cache=new(Q.Cache||Z),X}return Q.Cache=Z,Vd=Q,Vd}function bM8(){if(TD0)return Pd;TD0=1;var Z=xM8(),J=500;function Q(K){var U=Z(K,function(Y){if(X.size===J)X.clear();return Y}),X=U.cache;return U}return Pd=Q,Pd}function IA0(){if(wD0)return Cd;wD0=1;var Z=bM8(),J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/\\(\\)?/g,K=Z(function(U){var X=[];if(U.charCodeAt(0)===46)X.push("");return U.replace(J,function(Y,q,W,G){X.push(W?G.replace(Q,"$1"):q||Y)}),X});return Cd=K,Cd}function AA0(){if($D0)return jd;$D0=1;function Z(J,Q){var K=-1,U=J==null?0:J.length,X=Array(U);while(++K<U)X[K]=Q(J[K],K,J);return X}return jd=Z,jd}function yM8(){if(kD0)return Sd;kD0=1;var Z=Ei(),J=AA0(),Q=mS(),K=VD(),U=Z?Z.prototype:void 0,X=U?U.toString:void 0;function Y(q){if(typeof q=="string")return q;if(Q(q))return J(q,Y)+"";if(K(q))return X?X.call(q):"";var W=q+"";return W=="0"&&1/q==-1/0?"-0":W}return Sd=Y,Sd}function NA0(){if(_D0)return Td;_D0=1;var Z=yM8();function J(Q){return Q==null?"":Z(Q)}return Td=J,Td}function EA0(){if(fD0)return wd;fD0=1;var Z=mS(),J=WM8(),Q=IA0(),K=NA0();function U(X,Y){if(Z(X))return X;return J(X,Y)?[X]:Q(K(X))}return wd=U,wd}function _i(){if(vD0)return $d;vD0=1;var Z=VD();function J(Q){if(typeof Q=="string"||Z(Q))return Q;var K=Q+"";return K=="0"&&1/Q==-1/0?"-0":K}return $d=J,$d}function hM8(){if(xD0)return kd;xD0=1;var Z=EA0(),J=_i();function Q(K,U){U=Z(U,K);var X=0,Y=U.length;while(K!=null&&X<Y)K=K[J(U[X++])];return X&&X==Y?K:void 0}return kd=Q,kd}function mM8(){if(bD0)return _d;bD0=1;var Z=hM8();function J(Q,K,U){var X=Q==null?void 0:Z(Q,K);return X===void 0?U:X}return _d=J,_d}function pM8(){if(yD0)return fd;yD0=1;var Z=ki(),J=function(){try{var Q=Z(Object,"defineProperty");return Q({},"",{}),Q}catch(K){}}();return fd=J,fd}function cM8(){if(hD0)return vd;hD0=1;var Z=pM8();function J(Q,K,U){if(K=="__proto__"&&Z)Z(Q,K,{configurable:!0,enumerable:!0,value:U,writable:!0});else Q[K]=U}return vd=J,vd}function lM8(){if(mD0)return xd;mD0=1;var Z=cM8(),J=DA0(),Q=Object.prototype,K=Q.hasOwnProperty;function U(X,Y,q){var W=X[Y];if(!(K.call(X,Y)&&J(W,q))||q===void 0&&!(Y in X))Z(X,Y,q)}return xd=U,xd}function dM8(){if(uD0)return bd;uD0=1;var Z=9007199254740991,J=/^(?:0|[1-9]\d*)$/;function Q(K,U){var X=typeof K;return U=U==null?Z:U,!!U&&(X=="number"||X!="symbol"&&J.test(K))&&(K>-1&&K%1==0&&K<U)}return bd=Q,bd}function iM8(){if(gD0)return yd;gD0=1;var Z=lM8(),J=EA0(),Q=dM8(),K=ED(),U=_i();function X(Y,q,W,G){if(!K(Y))return Y;q=J(q,Y);var z=-1,H=q.length,F=H-1,M=Y;while(M!=null&&++z<H){var B=U(q[z]),O=W;if(B==="__proto__"||B==="constructor"||B==="prototype")return Y;if(z!=F){var R=M[B];if(O=G?G(R,B,M):void 0,O===void 0)O=K(R)?R:Q(q[z+1])?[]:{}}Z(M,B,O),M=M[B]}return Y}return yd=X,yd}function sM8(){if(pD0)return hd;pD0=1;var Z=iM8();function J(Q,K,U){return Q==null?Q:Z(Q,K,U)}return hd=J,hd}function aM8(){if(cD0)return md;cD0=1;function Z(J,Q){var K=-1,U=J.length;Q||(Q=Array(U));while(++K<U)Q[K]=J[K];return Q}return md=Z,md}function oM8(){if(lD0)return ud;lD0=1;var Z=AA0(),J=aM8(),Q=mS(),K=VD(),U=IA0(),X=_i(),Y=NA0();function q(W){if(Q(W))return Z(W,X);return K(W)?[W]:J(U(Y(W)))}return ud=q,ud}function xi(Z,J,Q,K){var U=[],X=new LF,Y=Z.cy(),q=Y.hasCompoundNodes();for(var W=0;W<Z.length;W++){var G=Z[W];if(Q)U.push(G);else if(q)K(U,X,G)}while(U.length>0){var z=U.shift();if(J(z),X.add(z.id()),q)K(U,X,z)}return Z}function PA0(Z,J,Q){if(Q.isParent()){var K=Q._private.children;for(var U=0;U<K.length;U++){var X=K[U];if(!J.has(X.id()))Z.push(X)}}}function CA0(Z,J,Q){if(Q.isChild()){var K=Q._private.parent;if(!J.has(K.id()))Z.push(K)}}function LB8(Z,J,Q){CA0(Z,J,Q),PA0(Z,J,Q)}function gd(Z){return function(J){var Q=this;if(J===void 0)J=!0;if(Q.length===0)return;if(Q.isNode()&&!Q.removed()){var K=0,U=Q[0],X=U._private.edges;for(var Y=0;Y<X.length;Y++){var q=X[Y];if(!J&&q.isLoop())continue;K+=Z(U,q)}return K}else return}}function ZF(Z,J){return function(Q){var K,U=this.nodes();for(var X=0;X<U.length;X++){var Y=U[X],q=Y[Z](Q);if(q!==void 0&&(K===void 0||J(q,K)))K=q}return K}}function tL(){return!1}function KS(){return!0}function lS(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bB8,J=arguments.length>1?arguments[1]:void 0;for(var Q=0;Q<oD0.length;Q++){var K=oD0[Q];this[K]=Z[K]||xA0[K]}this.context=J||this.context,this.listeners=[],this.emitting=0}function uA0(Z,J,Q){var K=Q._private,U=K.styleCache=K.styleCache||[],X;if((X=U[Z])!=null)return X;else return X=U[Z]=J(Q),X}function dS(Z,J){return Z=Yz(Z),function(K){return uA0(Z,J,K)}}function iS(Z,J){Z=Yz(Z);var Q=function(U){return J.call(U)};return function(){var U=this[0];if(U)return uA0(Z,Q,U)}}function cd(Z,J){var Q=Z._private,K=Q.data.parent?Z.parents():null;if(K)for(var U=0;U<K.length;U++){var X=K[U];if(!J(X))return!1}return!0}function bi(Z){var J=Z.ok,Q=Z.edgeOkViaNode||Z.ok,K=Z.parentOk||Z.ok;return function(){var U=this.cy();if(!U.styleEnabled())return!0;var X=this[0],Y=U.hasCompoundNodes();if(X){var q=X._private;if(!J(X))return!1;if(X.isNode())return!Y||cd(X,K);else{var{source:W,target:G}=q;return Q(W)&&(!Y||cd(W,Q))&&(W===G||Q(G)&&(!Y||cd(G,Q)))}}}}function eD0(Z){return function(){var J=arguments,Q=[];if(J.length===2){var K=J[0],U=J[1];this.on(Z.event,K,U)}else if(J.length===1&&$J(J[0])){var X=J[0];this.on(Z.event,X)}else if(J.length===0||J.length===1&&l9(J[0])){var Y=J.length===1?J[0]:null;for(var q=0;q<this.length;q++){var W=this[q],G=!Z.ableField||W._private[Z.ableField],z=W._private[Z.field]!=Z.value;if(Z.overrideAble){var H=Z.overrideAble(W);if(H!==void 0){if(G=H,!H)return this}}if(G){if(W._private[Z.field]=Z.value,z)Q.push(W)}}var F=this.spawn(Q);if(F.updateStyle(),F.emit(Z.event),Y)F.emit(Y)}return this}}function AF(Z){Lq[Z.field]=function(){var J=this[0];if(J){if(Z.overrideField){var Q=Z.overrideField(J);if(Q!==void 0)return Q}return J._private[Z.field]}},Lq[Z.on]=eD0({event:Z.on,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!0}),Lq[Z.off]=eD0({event:Z.off,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!1})}function KI0(Z){return function(Q){var K=[];for(var U=0;U<this.length;U++){var X=this[U],Y=X._private[Z.attr];if(Y)K.push(Y)}return this.spawn(K,!0).filter(Q)}}function UI0(Z){return function(Q){var K=[],U=this._private.cy,X=Z||{};if(XZ(Q))Q=U.$(Q);for(var Y=0;Y<Q.length;Y++){var q=Q[Y]._private.edges;for(var W=0;W<q.length;W++){var G=q[W],z=G._private.data,H=this.hasElementWithId(z.source)&&Q.hasElementWithId(z.target),F=Q.hasElementWithId(z.source)&&this.hasElementWithId(z.target),M=H||F;if(!M)continue;if(X.thisIsSrc||X.thisIsTgt){if(X.thisIsSrc&&!H)continue;if(X.thisIsTgt&&!F)continue}K.push(G)}}return this.spawn(K,!0)}}function XI0(Z){var J={codirected:!1};return Z=BZ({},J,Z),function(K){var U=[],X=this.edges(),Y=Z;for(var q=0;q<X.length;q++){var W=X[q],G=W._private,z=G.source,H=z._private.data.id,F=G.data.target,M=z._private.edges;for(var B=0;B<M.length;B++){var O=M[B],R=O._private.data,L=R.target,D=R.source,A=L===F&&D===H,V=H===L&&F===D;if(Y.codirected&&A||!Y.codirected&&(A||V))U.push(O)}}return this.spawn(U,!0).filter(K)}}function sB8(Z,J,Q,K){var U=4,X=0.001,Y=0.0000001,q=10,W=11,G=1/(W-1),z=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var H=0;H<4;++H)if(typeof arguments[H]!=="number"||isNaN(arguments[H])||!isFinite(arguments[H]))return!1;Z=Math.min(Z,1),Q=Math.min(Q,1),Z=Math.max(Z,0),Q=Math.max(Q,0);var F=z?new Float32Array(W):Array(W);function M(k,w){return 1-3*w+3*k}function B(k,w){return 3*w-6*k}function O(k){return 3*k}function R(k,w,P){return((M(w,P)*k+B(w,P))*k+O(w))*k}function L(k,w,P){return 3*M(w,P)*k*k+2*B(w,P)*k+O(w)}function D(k,w){for(var P=0;P<U;++P){var S=L(w,Z,Q);if(S===0)return w;var T=R(w,Z,Q)-k;w-=T/S}return w}function A(){for(var k=0;k<W;++k)F[k]=R(k*G,Z,Q)}function V(k,w,P){var S,T,_=0;do if(T=w+(P-w)/2,S=R(T,Z,Q)-k,S>0)P=T;else w=T;while(Math.abs(S)>Y&&++_<q);return T}function N(k){var w=0,P=1,S=W-1;for(;P!==S&&F[P]<=k;++P)w+=G;--P;var T=(k-F[P])/(F[P+1]-F[P]),_=w+T*G,v=L(_,Z,Q);if(v>=X)return D(k,_);else if(v===0)return _;else return V(k,w,w+G)}var E=!1;function C(){if(E=!0,Z!==J||Q!==K)A()}var j=function(w){if(!E)C();if(Z===J&&Q===K)return w;if(w===0)return 0;if(w===1)return 1;return R(N(w),J,K)};j.getControlPoints=function(){return[{x:Z,y:J},{x:Q,y:K}]};var $="generateBezier("+[Z,J,Q,K]+")";return j.toString=function(){return $},j}function YI0(Z,J,Q,K,U){if(K===1)return Q;if(J===Q)return Q;var X=U(J,Q,K);if(Z==null)return X;if(Z.roundValue||Z.color)X=Math.round(X);if(Z.min!==void 0)X=Math.max(X,Z.min);if(Z.max!==void 0)X=Math.min(X,Z.max);return X}function qI0(Z,J){if(Z.pfValue!=null||Z.value!=null)if(Z.pfValue!=null&&(J==null||J.type.units!=="%"))return Z.pfValue;else return Z.value;else return Z}function JF(Z,J,Q,K,U){var X=U!=null?U.type:null;if(Q<0)Q=0;else if(Q>1)Q=1;var Y=qI0(Z,U),q=qI0(J,U);if(k8(Y)&&k8(q))return YI0(X,Y,q,Q,K);else if(l9(Y)&&l9(q)){var W=[];for(var G=0;G<q.length;G++){var z=Y[G],H=q[G];if(z!=null&&H!=null){var F=YI0(X,z,H,Q,K);W.push(F)}else W.push(H)}return W}return}function nB8(Z,J,Q,K){var U=!K,X=Z._private,Y=J._private,q=Y.easing,W=Y.startTime,G=K?Z:Z.cy(),z=G.style();if(!Y.easingImpl)if(q==null)Y.easingImpl=BS.linear;else{var H;if(XZ(q)){var F=z.parse("transition-timing-function",q);H=F.value}else H=q;var M,B;if(XZ(H))M=H,B=[];else M=H[1],B=H.slice(2).map(function(y){return+y});if(B.length>0){if(M==="spring")B.push(Y.duration);Y.easingImpl=BS[M].apply(null,B)}else Y.easingImpl=BS[M]}var O=Y.easingImpl,R;if(Y.duration===0)R=1;else R=(Q-W)/Y.duration;if(Y.applying)R=Y.progress;if(R<0)R=0;else if(R>1)R=1;if(Y.delay==null){var{startPosition:L,position:D}=Y;if(D&&U&&!Z.locked()){var A={};if(eL(L.x,D.x))A.x=JF(L.x,D.x,R,O);if(eL(L.y,D.y))A.y=JF(L.y,D.y,R,O);Z.position(A)}var{startPan:V,pan:N}=Y,E=X.pan,C=N!=null&&K;if(C){if(eL(V.x,N.x))E.x=JF(V.x,N.x,R,O);if(eL(V.y,N.y))E.y=JF(V.y,N.y,R,O);Z.emit("pan")}var{startZoom:j,zoom:$}=Y,k=$!=null&&K;if(k){if(eL(j,$))X.zoom=FD(X.minZoom,JF(j,$,R,O),X.maxZoom);Z.emit("zoom")}if(C||k)Z.emit("viewport");var w=Y.style;if(w&&w.length>0&&U){for(var P=0;P<w.length;P++){var S=w[P],T=S.name,_=S,v=Y.startStyle[T],x=z.properties[v.name],b=JF(v,_,R,O,x);z.overrideBypass(Z,T,b)}Z.emit("style")}}return Y.progress=R,R}function eL(Z,J){if(Z==null||J==null)return!1;if(k8(Z)&&k8(J))return!0;else if(Z&&J)return!0;return!1}function aB8(Z,J,Q,K){var U=J._private;U.started=!0,U.startTime=Q-U.progress*U.duration}function WI0(Z,J){var Q=J._private.aniEles,K=[];function U(z,H){var F=z._private,M=F.animation.current,B=F.animation.queue,O=!1;if(M.length===0){var R=B.shift();if(R)M.push(R)}var L=function(E){for(var C=E.length-1;C>=0;C--){var j=E[C];j()}E.splice(0,E.length)};for(var D=M.length-1;D>=0;D--){var A=M[D],V=A._private;if(V.stopped){M.splice(D,1),V.hooked=!1,V.playing=!1,V.started=!1,L(V.frames);continue}if(!V.playing&&!V.applying)continue;if(V.playing&&V.applying)V.applying=!1;if(!V.started)aB8(z,A,Z);if(nB8(z,A,Z,H),V.applying)V.applying=!1;if(L(V.frames),V.step!=null)V.step(Z);if(A.completed())M.splice(D,1),V.hooked=!1,V.playing=!1,V.started=!1,L(V.completes);O=!0}if(!H&&M.length===0&&B.length===0)K.push(z);return O}var X=!1;for(var Y=0;Y<Q.length;Y++){var q=Q[Y],W=U(q);X=X||W}var G=U(J,!0);if(X||G)if(Q.length>0)J.notify("draw",Q);else J.notify("draw");Q.unmerge(K),J.emit("step")}function pA0(Z){this.options=BZ({},UO8,XO8,Z)}function cA0(Z){this.options=BZ({},YO8,Z)}function lA0(Z){this.options=BZ({},qO8,Z)}function nS(Z){this.options=BZ({},WO8,Z),this.options.layout=this;var J=this.options.eles.nodes(),Q=this.options.eles.edges(),K=Q.filter(function(U){var X=U.source().data("id"),Y=U.target().data("id"),q=J.some(function(G){return G.data("id")===X}),W=J.some(function(G){return G.data("id")===Y});return!q||!W});this.options.eles=this.options.eles.not(K)}function rA0(Z){this.options=BZ({},VO8,Z)}function mi(Z){this.options=BZ({},PO8,Z)}function nA0(Z){this.options=BZ({},CO8,Z)}function aA0(Z){this.options=BZ({},jO8,Z)}function oA0(Z){this.options=Z,this.notifications=0}function ZN0(Z,J){if(J.radius===0)Z.lineTo(J.cx,J.cy);else Z.arc(J.cx,J.cy,J.radius,J.startAngle,J.endAngle,J.counterClockwise)}function gi(Z,J,Q,K){var U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(K===0||J.radius===0)return{cx:J.x,cy:J.y,radius:0,startX:J.x,startY:J.y,stopX:J.x,stopY:J.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0};return wO8(Z,J,Q,K,U),{cx:zi,cy:Hi,radius:Qz,startX:tA0,startY:eA0,stopX:Fi,stopY:Mi,startAngle:mU.ang+Math.PI/2*Uz,endAngle:OK.ang-Math.PI/2*Uz,counterClockwise:LS}}function JN0(Z){var J=[];if(Z==null)return;for(var Q=0;Q<Z.length;Q+=2){var K=Z[Q],U=Z[Q+1];J.push({x:K,y:U})}return J}function kO8(Z,J,Q){var K=function(G,z,H,F){return x7(G,z,H,F)},U=J._private,X=U.rstyle.bezierPts;for(var Y=0;Y<Z.bezierProjPcts.length;Y++){var q=Z.bezierProjPcts[Y];X.push({x:K(Q[0],Q[2],Q[4],q),y:K(Q[1],Q[3],Q[5],q)})}}function qR8(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.lineTo(K.x,K.y)}}function WR8(Z,J,Q){var K;for(var U=0;U<J.length;U++){var X=J[U];if(U===0)K=X;Z.lineTo(X.x,X.y)}Z.quadraticCurveTo(Q.x,Q.y,K.x,K.y)}function jI0(Z,J,Q){if(Z.beginPath)Z.beginPath();var K=J;for(var U=0;U<K.length;U++){var X=K[U];Z.lineTo(X.x,X.y)}var Y=Q,q=Q[0];Z.moveTo(q.x,q.y);for(var U=1;U<Y.length;U++){var X=Y[U];Z.lineTo(X.x,X.y)}if(Z.closePath)Z.closePath()}function GR8(Z,J,Q,K,U){if(Z.beginPath)Z.beginPath();Z.arc(Q,K,U,0,Math.PI*2,!1);var X=J,Y=X[0];Z.moveTo(Y.x,Y.y);for(var q=0;q<X.length;q++){var W=X[q];Z.lineTo(W.x,W.y)}if(Z.closePath)Z.closePath()}function zR8(Z,J,Q,K){Z.arc(J,Q,K,0,Math.PI*2,!1)}function RR8(Z,J,Q,K,U){var X=Math.min(K,U),Y=X/2,q=J+K/2,W=Q+U/2;Z.beginPath(),Z.arc(q,W,Y,0,Math.PI*2),Z.closePath()}function SI0(Z,J,Q,K,U){var X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,Y=Math.min(X,K/2,U/2);Z.beginPath(),Z.moveTo(J+Y,Q),Z.lineTo(J+K-Y,Q),Z.quadraticCurveTo(J+K,Q,J+K,Q+Y),Z.lineTo(J+K,Q+U-Y),Z.quadraticCurveTo(J+K,Q+U,J+K-Y,Q+U),Z.lineTo(J+Y,Q+U),Z.quadraticCurveTo(J,Q+U,J,Q+U-Y),Z.lineTo(J,Q+Y),Z.quadraticCurveTo(J,Q,J+Y,Q),Z.closePath()}function TI0(Z,J,Q){var K=Z.createShader(J);if(Z.shaderSource(K,Q),Z.compileShader(K),!Z.getShaderParameter(K,Z.COMPILE_STATUS))throw Error(Z.getShaderInfoLog(K));return K}function DR8(Z,J,Q){var K=TI0(Z,Z.VERTEX_SHADER,J),U=TI0(Z,Z.FRAGMENT_SHADER,Q),X=Z.createProgram();if(Z.attachShader(X,K),Z.attachShader(X,U),Z.linkProgram(X),!Z.getProgramParameter(X,Z.LINK_STATUS))throw Error("Could not initialize shaders");return X}function IR8(Z,J,Q){if(Q===void 0)Q=J;var K=Z.makeOffscreenCanvas(J,Q),U=K.context=K.getContext("2d");return K.clear=function(){return U.clearRect(0,0,K.width,K.height)},K.clear(),K}function li(Z){var J=Z.pixelRatio,Q=Z.cy.zoom(),K=Z.cy.pan();return{zoom:Q*J,pan:{x:K.x*J,y:K.y*J}}}function AR8(Z){var J=Z.pixelRatio,Q=Z.cy.zoom();return Q*J}function NR8(Z,J,Q,K,U){var X=K*Q+J.x,Y=U*Q+J.y;return Y=Math.round(Z.canvasHeight-Y),[X,Y]}function ER8(Z){if(Z.pstyle("background-fill").value!=="solid")return!1;if(Z.pstyle("background-image").strValue!=="none")return!1;if(Z.pstyle("border-width").value===0)return!0;if(Z.pstyle("border-opacity").value===0)return!0;if(Z.pstyle("border-style").value!=="solid")return!1;return!0}function VR8(Z,J){if(Z.length!==J.length)return!1;for(var Q=0;Q<Z.length;Q++)if(Z[Q]!==J[Q])return!1;return!0}function Zz(Z,J,Q){var K=Z[0]/255,U=Z[1]/255,X=Z[2]/255,Y=J,q=Q||[,,,,];return q[0]=K*Y,q[1]=U*Y,q[2]=X*Y,q[3]=Y,q}function UF(Z,J){var Q=J||[,,,,];return Q[0]=(Z>>0&255)/255,Q[1]=(Z>>8&255)/255,Q[2]=(Z>>16&255)/255,Q[3]=(Z>>24&255)/255,Q}function PR8(Z){return Z[0]+(Z[1]<<8)+(Z[2]<<16)+(Z[3]<<24)}function CR8(Z,J){var Q=Z.createTexture();return Q.buffer=function(K){Z.bindTexture(Z.TEXTURE_2D,Q),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.LINEAR),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.LINEAR_MIPMAP_NEAREST),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,Z.RGBA,Z.UNSIGNED_BYTE,K),Z.generateMipmap(Z.TEXTURE_2D),Z.bindTexture(Z.TEXTURE_2D,null)},Q.deleteTexture=function(){Z.deleteTexture(Q)},Q}function BN0(Z,J){switch(J){case"float":return[1,Z.FLOAT,4];case"vec2":return[2,Z.FLOAT,4];case"vec3":return[3,Z.FLOAT,4];case"vec4":return[4,Z.FLOAT,4];case"int":return[1,Z.INT,4];case"ivec2":return[2,Z.INT,4]}}function ON0(Z,J,Q){switch(J){case Z.FLOAT:return new Float32Array(Q);case Z.INT:return new Int32Array(Q)}}function jR8(Z,J,Q,K,U,X){switch(J){case Z.FLOAT:return new Float32Array(Q.buffer,X*K,U);case Z.INT:return new Int32Array(Q.buffer,X*K,U)}}function SR8(Z,J,Q,K){var U=BN0(Z,J),X=U7(U,2),Y=X[0],q=X[1],W=ON0(Z,q,K),G=Z.createBuffer();if(Z.bindBuffer(Z.ARRAY_BUFFER,G),Z.bufferData(Z.ARRAY_BUFFER,W,Z.STATIC_DRAW),q===Z.FLOAT)Z.vertexAttribPointer(Q,Y,q,!1,0,0);else if(q===Z.INT)Z.vertexAttribIPointer(Q,Y,q,0,0);return Z.enableVertexAttribArray(Q),Z.bindBuffer(Z.ARRAY_BUFFER,null),G}function hU(Z,J,Q,K){var U=BN0(Z,Q),X=U7(U,3),Y=X[0],q=X[1],W=X[2],G=ON0(Z,q,J*Y),z=Y*W,H=Z.createBuffer();if(Z.bindBuffer(Z.ARRAY_BUFFER,H),Z.bufferData(Z.ARRAY_BUFFER,J*z,Z.DYNAMIC_DRAW),Z.enableVertexAttribArray(K),q===Z.FLOAT)Z.vertexAttribPointer(K,Y,q,!1,z,0);else if(q===Z.INT)Z.vertexAttribIPointer(K,Y,q,z,0);Z.vertexAttribDivisor(K,1),Z.bindBuffer(Z.ARRAY_BUFFER,null);var F=Array(J);for(var M=0;M<J;M++)F[M]=jR8(Z,q,G,z,Y,M);return H.dataArray=G,H.stride=z,H.size=Y,H.getView=function(B){return F[B]},H.setPoint=function(B,O,R){var L=F[B];L[0]=O,L[1]=R},H.bufferSubData=function(B){if(Z.bindBuffer(Z.ARRAY_BUFFER,H),B)Z.bufferSubData(Z.ARRAY_BUFFER,0,G,0,B*Y);else Z.bufferSubData(Z.ARRAY_BUFFER,0,G)},H}function TR8(Z,J,Q){var K=9,U=new Float32Array(J*K),X=Array(J);for(var Y=0;Y<J;Y++){var q=Y*K*4;X[Y]=new Float32Array(U.buffer,q,K)}var W=Z.createBuffer();Z.bindBuffer(Z.ARRAY_BUFFER,W),Z.bufferData(Z.ARRAY_BUFFER,U.byteLength,Z.DYNAMIC_DRAW);for(var G=0;G<3;G++){var z=Q+G;Z.enableVertexAttribArray(z),Z.vertexAttribPointer(z,3,Z.FLOAT,!1,36,G*12),Z.vertexAttribDivisor(z,1)}return Z.bindBuffer(Z.ARRAY_BUFFER,null),W.getMatrixView=function(H){return X[H]},W.setData=function(H,F){X[F].set(H,0)},W.bufferSubData=function(){Z.bindBuffer(Z.ARRAY_BUFFER,W),Z.bufferSubData(Z.ARRAY_BUFFER,0,U)},W}function wR8(Z){var J=Z.createFramebuffer();Z.bindFramebuffer(Z.FRAMEBUFFER,J);var Q=Z.createTexture();return Z.bindTexture(Z.TEXTURE_2D,Q),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.LINEAR),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE),Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Q,0),Z.bindFramebuffer(Z.FRAMEBUFFER,null),J.setFramebufferAttachmentSizes=function(K,U){Z.bindTexture(Z.TEXTURE_2D,Q),Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,K,U,0,Z.RGBA,Z.UNSIGNED_BYTE,null)},J}function sd(){var Z=new wI0(9);if(wI0!=Float32Array)Z[1]=0,Z[2]=0,Z[3]=0,Z[5]=0,Z[6]=0,Z[7]=0;return Z[0]=1,Z[4]=1,Z[8]=1,Z}function $I0(Z){return Z[0]=1,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=1,Z[5]=0,Z[6]=0,Z[7]=0,Z[8]=1,Z}function $R8(Z,J,Q){var K=J[0],U=J[1],X=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Q[0],M=Q[1],B=Q[2],O=Q[3],R=Q[4],L=Q[5],D=Q[6],A=Q[7],V=Q[8];return Z[0]=F*K+M*Y+B*G,Z[1]=F*U+M*q+B*z,Z[2]=F*X+M*W+B*H,Z[3]=O*K+R*Y+L*G,Z[4]=O*U+R*q+L*z,Z[5]=O*X+R*W+L*H,Z[6]=D*K+A*Y+V*G,Z[7]=D*U+A*q+V*z,Z[8]=D*X+A*W+V*H,Z}function IS(Z,J,Q){var K=J[0],U=J[1],X=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Q[0],M=Q[1];return Z[0]=K,Z[1]=U,Z[2]=X,Z[3]=Y,Z[4]=q,Z[5]=W,Z[6]=F*K+M*Y+G,Z[7]=F*U+M*q+z,Z[8]=F*X+M*W+H,Z}function kI0(Z,J,Q){var K=J[0],U=J[1],X=J[2],Y=J[3],q=J[4],W=J[5],G=J[6],z=J[7],H=J[8],F=Math.sin(Q),M=Math.cos(Q);return Z[0]=M*K+F*Y,Z[1]=M*U+F*q,Z[2]=M*X+F*W,Z[3]=M*Y-F*K,Z[4]=M*q-F*U,Z[5]=M*W-F*X,Z[6]=G,Z[7]=z,Z[8]=H,Z}function Oi(Z,J,Q){var K=Q[0],U=Q[1];return Z[0]=K*J[0],Z[1]=K*J[1],Z[2]=K*J[2],Z[3]=U*J[3],Z[4]=U*J[4],Z[5]=U*J[5],Z[6]=J[6],Z[7]=J[7],Z[8]=J[8],Z}function kR8(Z,J,Q){return Z[0]=2/J,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=-2/Q,Z[5]=0,Z[6]=-1,Z[7]=1,Z[8]=1,Z}function vR8(Z,J){if(Z.intersection)return Z.intersection(J);else return new Set(AS(Z).filter(function(Q){return J.has(Q)}))}function pR8(Z){var J=Z.cy.container(),Q=J&&J.style&&J.style.backgroundColor||"white";return lI0(Q)}function LN0(Z,J){var Q=Z._private.rscratch;return r6(Q,"labelWrapCachedLines",J)||[]}function cR8(Z){{var J=Z.render;Z.render=function(X){X=X||{};var Y=Z.cy;if(Z.webgl)if(Y.zoom()>GN0)lR8(Z),J.call(Z,X);else dR8(Z),IN0(Z,X,WD.SCREEN)}}{var Q=Z.matchCanvasSize;Z.matchCanvasSize=function(X){Q.call(Z,X),Z.pickingFrameBuffer.setFramebufferAttachmentSizes(Z.canvasWidth,Z.canvasHeight),Z.pickingFrameBuffer.needsDraw=!0}}Z.findNearestElements=function(X,Y,q,W){return oR8(Z,X,Y)};{var K=Z.invalidateCachedZSortedEles;Z.invalidateCachedZSortedEles=function(){K.call(Z),Z.pickingFrameBuffer.needsDraw=!0}}{var U=Z.notify;Z.notify=function(X,Y){if(U.call(Z,X,Y),X==="viewport"||X==="bounds")Z.pickingFrameBuffer.needsDraw=!0;else if(X==="background")Z.drawing.invalidate(Y,{type:"node-body"})}}}function lR8(Z){var J=Z.data.contexts[Z.WEBGL];J.clear(J.COLOR_BUFFER_BIT|J.DEPTH_BUFFER_BIT)}function dR8(Z){var J=function(K){K.save(),K.setTransform(1,0,0,1,0,0),K.clearRect(0,0,Z.canvasWidth,Z.canvasHeight),K.restore()};J(Z.data.contexts[Z.NODE]),J(Z.data.contexts[Z.DRAG])}function iR8(Z){var{canvasWidth:J,canvasHeight:Q}=Z,K=li(Z),U=K.pan,X=K.zoom,Y=sd();IS(Y,Y,[U.x,U.y]),Oi(Y,Y,[X,X]);var q=sd();kR8(q,J,Q);var W=sd();return $R8(W,q,Y),W}function DN0(Z,J){var{canvasWidth:Q,canvasHeight:K}=Z,U=li(Z),X=U.pan,Y=U.zoom;J.setTransform(1,0,0,1,0,0),J.clearRect(0,0,Q,K),J.translate(X.x,X.y),J.scale(Y,Y)}function sR8(Z,J){Z.drawSelectionRectangle(J,function(Q){return DN0(Z,Q)})}function rR8(Z){var J=Z.data.contexts[Z.NODE];J.save(),DN0(Z,J),J.strokeStyle="rgba(0, 0, 0, 0.3)",J.beginPath(),J.moveTo(-1000,0),J.lineTo(1000,0),J.stroke(),J.beginPath(),J.moveTo(0,-1000),J.lineTo(0,1000),J.stroke(),J.restore()}function nR8(Z){var J=function(U,X,Y){var q=U.atlasManager.getAtlasCollection(X),W=Z.data.contexts[Z.NODE],G=q.atlases;for(var z=0;z<G.length;z++){var H=G[z],F=H.canvas;if(F){var{width:M,height:B}=F,O=M*z,R=F.height*Y,L=0.4;W.save(),W.scale(L,L),W.drawImage(F,O,R),W.strokeStyle="black",W.rect(O,R,M,B),W.stroke(),W.restore()}}},Q=0;J(Z.drawing,"node",Q++),J(Z.drawing,"label",Q++)}function aR8(Z,J,Q,K,U){var X,Y,q,W,G=li(Z),z=G.pan,H=G.zoom;{var F=NR8(Z,z,H,J,Q),M=U7(F,2),B=M[0],O=M[1],R=6;X=B-R/2,Y=O-R/2,q=R,W=R}if(q===0||W===0)return[];var L=Z.data.contexts[Z.WEBGL];if(L.bindFramebuffer(L.FRAMEBUFFER,Z.pickingFrameBuffer),Z.pickingFrameBuffer.needsDraw)L.viewport(0,0,L.canvas.width,L.canvas.height),IN0(Z,null,WD.PICKING),Z.pickingFrameBuffer.needsDraw=!1;var D=q*W,A=new Uint8Array(D*4);L.readPixels(X,Y,q,W,L.RGBA,L.UNSIGNED_BYTE,A),L.bindFramebuffer(L.FRAMEBUFFER,null);var V=new Set;for(var N=0;N<D;N++){var E=A.slice(N*4,N*4+4),C=PR8(E)-1;if(C>=0)V.add(C)}return V}function oR8(Z,J,Q){var K=aR8(Z,J,Q),U=Z.getCachedZSortedEles(),X,Y,q=a6(K),W;try{for(q.s();!(W=q.n()).done;){var G=W.value,z=U[G];if(!X&&z.isNode())X=z;if(!Y&&z.isEdge())Y=z;if(X&&Y)break}}catch(H){q.e(H)}finally{q.f()}return[X,Y].filter(Boolean)}function td(Z,J,Q){var K=Z.drawing;if(J+=1,Q.isNode())K.drawNode(Q,J,"node-underlay"),K.drawNode(Q,J,"node-body"),K.drawTexture(Q,J,"label"),K.drawNode(Q,J,"node-overlay");else K.drawEdgeLine(Q,J),K.drawEdgeArrow(Q,J,"source"),K.drawEdgeArrow(Q,J,"target"),K.drawTexture(Q,J,"label"),K.drawTexture(Q,J,"edge-source-label"),K.drawTexture(Q,J,"edge-target-label")}function IN0(Z,J,Q){var K;if(Z.webglDebug)K=performance.now();var U=Z.drawing,X=0;if(Q.screen){if(Z.data.canvasNeedsRedraw[Z.SELECT_BOX])sR8(Z,J)}if(Z.data.canvasNeedsRedraw[Z.NODE]||Q.picking){var Y=Z.data.contexts[Z.WEBGL];if(Q.screen)Y.clearColor(0,0,0,0),Y.enable(Y.BLEND),Y.blendFunc(Y.ONE,Y.ONE_MINUS_SRC_ALPHA);else Y.disable(Y.BLEND);Y.clear(Y.COLOR_BUFFER_BIT|Y.DEPTH_BUFFER_BIT),Y.viewport(0,0,Y.canvas.width,Y.canvas.height);var q=iR8(Z),W=Z.getCachedZSortedEles();if(X=W.length,U.startFrame(q,Q),Q.screen){for(var G=0;G<W.nondrag.length;G++)td(Z,G,W.nondrag[G]);for(var z=0;z<W.drag.length;z++)td(Z,z,W.drag[z])}else if(Q.picking)for(var H=0;H<W.length;H++)td(Z,H,W[H]);if(U.endFrame(),Q.screen&&Z.webglDebugShowAtlases)rR8(Z),nR8(Z);Z.data.canvasNeedsRedraw[Z.NODE]=!1,Z.data.canvasNeedsRedraw[Z.DRAG]=!1}if(Z.webglDebug){var F=performance.now(),M=!1,B=Math.ceil(F-K),O=U.getDebugInfo(),R=["".concat(X," elements"),"".concat(O.totalInstances," instances"),"".concat(O.batchCount," batches"),"".concat(O.totalAtlases," atlases"),"".concat(O.wrappedCount," wrapped textures"),"".concat(O.simpleCount," simple shapes")].join(", ");if(M)console.log("WebGL (".concat(Q.name,") - time ").concat(B,"ms, ").concat(R));else{console.log("WebGL (".concat(Q.name,") - frame time ").concat(B,"ms")),console.log("Totals:"),console.log("  ".concat(R)),console.log("Texture Atlases Used:");var L=O.atlasInfo,D=a6(L),A;try{for(D.s();!(A=D.n()).done;){var V=A.value;console.log("  ".concat(V.type,": ").concat(V.keyCount," keys, ").concat(V.atlasCount," atlases"))}}catch(N){D.e(N)}finally{D.f()}console.log("")}}if(Z.data.gc)console.log("Garbage Collect!"),Z.data.gc=!1,U.gc()}function tR8(Z,J){var Q=atob(Z),K=new ArrayBuffer(Q.length),U=new Uint8Array(K);for(var X=0;X<Q.length;X++)U[X]=Q.charCodeAt(X);return new Blob([K],{type:J})}function bI0(Z){var J=Z.indexOf(",");return Z.substr(J+1)}function NN0(Z,J,Q){var K=function(){return J.toDataURL(Q,Z.quality)};switch(Z.output){case"blob-promise":return new DF(function(U,X){try{J.toBlob(function(Y){if(Y!=null)U(Y);else X(Error("`canvas.toBlob()` sent a null value in its callback"))},Q,Z.quality)}catch(Y){X(Y)}});case"blob":return tR8(bI0(K()),Q);case"base64":return bI0(K());case"base64uri":default:return K()}}function VN0(Z){var J=this,Q=J.cy.window(),K=Q.document;if(Z.webgl)mZ.CANVAS_LAYERS=J.CANVAS_LAYERS=4,console.log("webgl rendering enabled");J.data={canvases:Array(mZ.CANVAS_LAYERS),contexts:Array(mZ.CANVAS_LAYERS),canvasNeedsRedraw:Array(mZ.CANVAS_LAYERS),bufferCanvases:Array(mZ.BUFFER_COUNT),bufferContexts:Array(mZ.CANVAS_LAYERS)};var U="-webkit-tap-highlight-color",X="rgba(0,0,0,0)";J.data.canvasContainer=K.createElement("div");var Y=J.data.canvasContainer.style;J.data.canvasContainer.style[U]=X,Y.position="relative",Y.zIndex="0",Y.overflow="hidden";var q=Z.cy.container();q.appendChild(J.data.canvasContainer),q.style[U]=X;var W={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};if(sH8())W["-ms-touch-action"]="none",W["touch-action"]="none";for(var G=0;G<mZ.CANVAS_LAYERS;G++){var z=J.data.canvases[G]=K.createElement("canvas"),H=mZ.CANVAS_TYPES[G];if(J.data.contexts[G]=z.getContext(H),!J.data.contexts[G])AJ("Could not create canvas of type "+H);Object.keys(W).forEach(function(J0){z.style[J0]=W[J0]}),z.style.position="absolute",z.setAttribute("data-id","layer"+G),z.style.zIndex=String(mZ.CANVAS_LAYERS-G),J.data.canvasContainer.appendChild(z),J.data.canvasNeedsRedraw[G]=!1}if(J.data.topCanvas=J.data.canvases[0],J.data.canvases[mZ.NODE].setAttribute("data-id","layer"+mZ.NODE+"-node"),J.data.canvases[mZ.SELECT_BOX].setAttribute("data-id","layer"+mZ.SELECT_BOX+"-selectbox"),J.data.canvases[mZ.DRAG].setAttribute("data-id","layer"+mZ.DRAG+"-drag"),J.data.canvases[mZ.WEBGL])J.data.canvases[mZ.WEBGL].setAttribute("data-id","layer"+mZ.WEBGL+"-webgl");for(var G=0;G<mZ.BUFFER_COUNT;G++)J.data.bufferCanvases[G]=K.createElement("canvas"),J.data.bufferContexts[G]=J.data.bufferCanvases[G].getContext("2d"),J.data.bufferCanvases[G].style.position="absolute",J.data.bufferCanvases[G].setAttribute("data-id","buffer"+G),J.data.bufferCanvases[G].style.zIndex=String(-G-1),J.data.bufferCanvases[G].style.visibility="hidden";J.pathsEnabled=!0;var F=X6(),M=function(Q0){return{x:(Q0.x1+Q0.x2)/2,y:(Q0.y1+Q0.y2)/2}},B=function(Q0){return{x:-Q0.w/2,y:-Q0.h/2}},O=function(Q0){var e=Q0[0]._private,n=e.oldBackgroundTimestamp===e.backgroundTimestamp;return!n},R=function(Q0){return Q0[0]._private.nodeKey},L=function(Q0){return Q0[0]._private.labelStyleKey},D=function(Q0){return Q0[0]._private.sourceLabelStyleKey},A=function(Q0){return Q0[0]._private.targetLabelStyleKey},V=function(Q0,e,n,Y0,o){return J.drawElement(Q0,e,n,!1,!1,o)},N=function(Q0,e,n,Y0,o){return J.drawElementText(Q0,e,n,Y0,"main",o)},E=function(Q0,e,n,Y0,o){return J.drawElementText(Q0,e,n,Y0,"source",o)},C=function(Q0,e,n,Y0,o){return J.drawElementText(Q0,e,n,Y0,"target",o)},j=function(Q0){return Q0.boundingBox(),Q0[0]._private.bodyBounds},$=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.main||F},k=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.source||F},w=function(Q0){return Q0.boundingBox(),Q0[0]._private.labelBounds.target||F},P=function(Q0,e){return e},S=function(Q0){return M(j(Q0))},T=function(Q0,e,n){var Y0=Q0?Q0+"-":"";return{x:e.x+n.pstyle(Y0+"text-margin-x").pfValue,y:e.y+n.pstyle(Y0+"text-margin-y").pfValue}},_=function(Q0,e,n){var Y0=Q0[0]._private.rscratch;return{x:Y0[e],y:Y0[n]}},v=function(Q0){return T("",_(Q0,"labelX","labelY"),Q0)},x=function(Q0){return T("source",_(Q0,"sourceLabelX","sourceLabelY"),Q0)},b=function(Q0){return T("target",_(Q0,"targetLabelX","targetLabelY"),Q0)},y=function(Q0){return B(j(Q0))},u=function(Q0){return B(k(Q0))},h=function(Q0){return B(w(Q0))},p=function(Q0){var e=$(Q0),n=B($(Q0));if(Q0.isNode()){switch(Q0.pstyle("text-halign").value){case"left":n.x=-e.w-(e.leftPad||0);break;case"right":n.x=-(e.rightPad||0);break}switch(Q0.pstyle("text-valign").value){case"top":n.y=-e.h-(e.topPad||0);break;case"bottom":n.y=-(e.botPad||0);break}}return n},r=J.data.eleTxrCache=new XD(J,{getKey:R,doesEleInvalidateKey:O,drawElement:V,getBoundingBox:j,getRotationPoint:S,getRotationOffset:y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),t=J.data.lblTxrCache=new XD(J,{getKey:L,drawElement:N,getBoundingBox:$,getRotationPoint:v,getRotationOffset:p,isVisible:P}),d=J.data.slbTxrCache=new XD(J,{getKey:D,drawElement:E,getBoundingBox:k,getRotationPoint:x,getRotationOffset:u,isVisible:P}),X0=J.data.tlbTxrCache=new XD(J,{getKey:A,drawElement:C,getBoundingBox:w,getRotationPoint:b,getRotationOffset:h,isVisible:P}),a=J.data.lyrTxrCache=new zN0(J);J.onUpdateEleCalcs(function(Q0,e){r.invalidateElements(e),t.invalidateElements(e),d.invalidateElements(e),X0.invalidateElements(e),a.invalidateElements(e);for(var n=0;n<e.length;n++){var Y0=e[n]._private;Y0.oldBackgroundTimestamp=Y0.backgroundTimestamp}});var z0=function(Q0){for(var e=0;e<Q0.length;e++)a.enqueueElementRefinement(Q0[e].ele)};if(r.onDequeue(z0),t.onDequeue(z0),d.onDequeue(z0),X0.onDequeue(z0),Z.webgl)J.initWebgl(Z,{getStyleKey:R,getLabelKey:L,getSourceLabelKey:D,getTargetLabelKey:A,drawElement:V,drawLabel:N,drawSourceLabel:E,drawTargetLabel:C,getElementBox:j,getLabelBox:$,getSourceLabelBox:k,getTargetLabelBox:w,getElementRotationPoint:S,getElementRotationOffset:y,getLabelRotationPoint:v,getSourceLabelRotationPoint:x,getTargetLabelRotationPoint:b,getLabelRotationOffset:p,getSourceLabelRotationOffset:u,getTargetLabelRotationOffset:h})}function jN0(Z,J,Q){var K=Q,U=function(j){j9("Can not register `"+J+"` for `"+Z+"` since `"+j+"` already exists in the prototype and can not be overridden")};if(Z==="core")if(LD.prototype[J])return U(J);else LD.prototype[J]=Q;else if(Z==="collection")if(GQ.prototype[J])return U(J);else GQ.prototype[J]=Q;else if(Z==="layout"){var X=function(j){if(this.options=j,Q.call(this,j),!H9(this._private))this._private={};this._private.cy=j.cy,this._private.listeners=[],this.createEmitter()},Y=X.prototype=Object.create(Q.prototype),q=[];for(var W=0;W<q.length;W++){var G=q[W];Y[G]=Y[G]||function(){return this}}if(Y.start&&!Y.run)Y.run=function(){return this.start(),this};else if(!Y.start&&Y.run)Y.start=function(){return this.run(),this};var z=Q.prototype.stop;if(Y.stop=function(){var C=this.options;if(C&&C.animate){var j=this.animations;if(j)for(var $=0;$<j.length;$++)j[$].stop()}if(z)z.call(this);else this.emit("layoutstop");return this},!Y.destroy)Y.destroy=function(){return this};Y.cy=function(){return this._private.cy};var H=function(j){return j._private.cy},F={addEventFields:function(j,$){$.layout=j,$.cy=H(j),$.target=j},bubble:function(){return!0},parent:function(j){return H(j)}};BZ(Y,{createEmitter:function(){return this._private.emitter=new lS(F,this),this},emitter:function(){return this._private.emitter},on:function(j,$){return this.emitter().on(j,$),this},one:function(j,$){return this.emitter().one(j,$),this},once:function(j,$){return this.emitter().one(j,$),this},removeListener:function(j,$){return this.emitter().removeListener(j,$),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(j,$){return this.emitter().emit(j,$),this}}),C9.eventAliasesOn(Y),K=X}else if(Z==="renderer"&&J!=="null"&&J!=="base"){var M=SN0("renderer","base"),B=M.prototype,O=Q,R=Q.prototype,L=function(){M.apply(this,arguments),O.apply(this,arguments)},D=L.prototype;for(var A in B){var V=B[A],N=R[A]!=null;if(N)return U(A);D[A]=V}for(var E in R)D[E]=R[E];B.clientFunctions.forEach(function(C){D[C]=D[C]||function(){AJ("Renderer does not implement `renderer."+C+"()` on its prototype")}}),K=L}else if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return AJ(Z+" is an illegal type to be registered, possibly lead to prototype pollutions");return dI0({map:PN0,keys:[Z,J],value:K})}function SN0(Z,J){return iI0({map:PN0,keys:[Z,J]})}function K38(Z,J,Q,K,U){return dI0({map:CN0,keys:[Z,J,Q,K],value:U})}function U38(Z,J,Q,K){return iI0({map:CN0,keys:[Z,J,Q,K]})}var D7,GL0,hH8,mI0,mH8,uH8,ID=function(J){return J&&J.instanceString&&$J(J.instanceString)?J.instanceString():null},XZ=function(J){return J!=null&&A7(J)==hH8},$J=function(J){return J!=null&&A7(J)===mH8},l9=function(J){return!x4(J)&&(Array.isArray?Array.isArray(J):J!=null&&J instanceof Array)},H9=function(J){return J!=null&&A7(J)===mI0&&!l9(J)&&J.constructor===Object},gH8=function(J){return J!=null&&A7(J)===mI0},k8=function(J){return J!=null&&A7(J)===A7(1)&&!isNaN(J)},pH8=function(J){return k8(J)&&Math.floor(J)===J},NS=function(J){if(uH8==="undefined")return;else return J!=null&&J instanceof HTMLElement},x4=function(J){return AD(J)||uI0(J)},AD=function(J){return ID(J)==="collection"&&J._private.single},uI0=function(J){return ID(J)==="collection"&&!J._private.single},Ai=function(J){return ID(J)==="core"},gI0=function(J){return ID(J)==="stylesheet"},cH8=function(J){return ID(J)==="event"},Dq=function(J){if(J===void 0||J===null)return!0;else if(J===""||J.match(/^\s+$/))return!0;return!1},lH8=function(J){if(typeof HTMLElement>"u")return!1;else return J instanceof HTMLElement},dH8=function(J){return H9(J)&&k8(J.x1)&&k8(J.x2)&&k8(J.y1)&&k8(J.y2)},iH8=function(J){return gH8(J)&&$J(J.then)},sH8=function(){return GL0&&GL0.userAgent.match(/msie|trident|edge/i)},BF=function(J,Q){if(!Q)Q=function(){if(arguments.length===1)return arguments[0];else if(arguments.length===0)return"undefined";var X=[];for(var Y=0;Y<arguments.length;Y++)X.push(arguments[Y]);return X.join("$")};var K=function(){var X=this,Y=arguments,q,W=Q.apply(X,Y),G=K.cache;if(!(q=G[W]))q=G[W]=J.apply(X,Y);return q};return K.cache={},K},Ni,vS,pI0,zL0=function(J){if(Dq(J))return J;return J.charAt(0).toUpperCase()+J.substring(1)},Mq=function(J,Q){return J.slice(-1*Q.length)===Q},I7="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rH8,nH8,aH8,oH8,tH8="\\#[0-9a-fA-F]{3}",eH8="\\#[0-9a-fA-F]{6}",cI0=function(J,Q){if(J<Q)return-1;else if(J>Q)return 1;else return 0},Z28=function(J,Q){return-1*cI0(J,Q)},BZ,J28=function(J){if(!(J.length===4||J.length===7)||J[0]!=="#")return;var Q=J.length===4,K,U,X,Y=16;if(Q)K=parseInt(J[1]+J[1],Y),U=parseInt(J[2]+J[2],Y),X=parseInt(J[3]+J[3],Y);else K=parseInt(J[1]+J[2],Y),U=parseInt(J[3]+J[4],Y),X=parseInt(J[5]+J[6],Y);return[K,U,X]},Q28=function(J){var Q,K,U,X,Y,q,W,G;function z(B,O,R){if(R<0)R+=1;if(R>1)R-=1;if(R<0.16666666666666666)return B+(O-B)*6*R;if(R<0.5)return O;if(R<0.6666666666666666)return B+(O-B)*(0.6666666666666666-R)*6;return B}var H=new RegExp("^"+aH8+"$").exec(J);if(H){if(K=parseInt(H[1]),K<0)K=(360- -1*K%360)%360;else if(K>360)K=K%360;if(K/=360,U=parseFloat(H[2]),U<0||U>100)return;if(U=U/100,X=parseFloat(H[3]),X<0||X>100)return;if(X=X/100,Y=H[4],Y!==void 0){if(Y=parseFloat(Y),Y<0||Y>1)return}if(U===0)q=W=G=Math.round(X*255);else{var F=X<0.5?X*(1+U):X+U-X*U,M=2*X-F;q=Math.round(255*z(M,F,K+0.3333333333333333)),W=Math.round(255*z(M,F,K)),G=Math.round(255*z(M,F,K-0.3333333333333333))}Q=[q,W,G,Y]}return Q},K28=function(J){var Q,K=new RegExp("^"+rH8+"$").exec(J);if(K){Q=[];var U=[];for(var X=1;X<=3;X++){var Y=K[X];if(Y[Y.length-1]==="%")U[X]=!0;if(Y=parseFloat(Y),U[X])Y=Y/100*255;if(Y<0||Y>255)return;Q.push(Math.floor(Y))}var q=U[1]||U[2]||U[3],W=U[1]&&U[2]&&U[3];if(q&&!W)return;var G=K[4];if(G!==void 0){if(G=parseFloat(G),G<0||G>1)return;Q.push(G)}}return Q},U28=function(J){return X28[J.toLowerCase()]},lI0=function(J){return(l9(J)?J:null)||U28(J)||J28(J)||K28(J)||Q28(J)},X28,dI0=function(J){var{map:Q,keys:K}=J,U=K.length;for(var X=0;X<U;X++){var Y=K[X];if(H9(Y))throw Error("Tried to set map with object key");if(X<K.length-1){if(Q[Y]==null)Q[Y]={};Q=Q[Y]}else Q[Y]=J.value}},iI0=function(J){var{map:Q,keys:K}=J,U=K.length;for(var X=0;X<U;X++){var Y=K[X];if(H9(Y))throw Error("Tried to get map with object key");if(Q=Q[Y],Q==null)return Q}return Q},aj,Vl,HL0,Pl,FL0,Cl,ML0,jl,BL0,Sl,OL0,Tl,RL0,wl,LL0,$l,DL0,kl,IL0,_l,AL0,fl,NL0,vl,EL0,xl,VL0,bl,PL0,O28,PD,yl,rI0,R28,ES=function(J){return R28(J)},RY,Kz=9261,nI0=65599,YF=5381,aI0=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kz,K=Q,U;for(;;){if(U=J.next(),U.done)break;K=K*nI0+U.value|0}return K},GD=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kz;return Q*nI0+J|0},zD=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YF;return(Q<<5)+Q+J|0},L28=function(J,Q){return J*2097152+Q},Gq=function(J){return J[0]*2097152+J[1]},oj=function(J,Q){return[GD(J[0],Q[0]),zD(J[1],Q[1])]},CL0=function(J,Q){var K={value:0,done:!1},U=0,X=J.length,Y={next:function(){if(U<X)K.value=J[U++];else K.done=!0;return K}};return aI0(Y,Q)},Yz=function(J,Q){var K={value:0,done:!1},U=0,X=J.length,Y={next:function(){if(U<X)K.value=J.charCodeAt(U++);else K.done=!0;return K}};return aI0(Y,Q)},oI0=function(){return D28(arguments)},D28=function(J){var Q;for(var K=0;K<J.length;K++){var U=J[K];if(K===0)Q=Yz(U);else Q=Yz(U,Q)}return Q},A28=function(J,Q,K,U,X,Y){return{x:(J-K)*X+K,y:(Q-U)*Y+U}},jL0=!0,E28,V28,Vi,tI0=function(){return!0},VS=function(){return!1},SL0=function(){return 0},Pi=function(){},AJ=function(J){throw Error(J)},eI0=function(J){if(J!==void 0)jL0=!!J;else return jL0},j9=function(J){if(!eI0())return;if(E28)console.warn(J);else if(console.log(J),V28)console.trace()},P28=function(J){return BZ({},J)},uU=function(J){if(J==null)return J;if(l9(J))return J.slice();else if(H9(J))return P28(J);else return J},C28=function(J){return J.slice()},ZA0=function(J,Q){for(Q=J="";J++<36;Q+=J*51&52?(J^15?8^Math.random()*(J^20?16:4):4).toString(16):"-");return Q},j28,JA0=function(){return j28},zQ=function(J){var Q=Object.keys(J);return function(K){var U={};for(var X=0;X<Q.length;X++){var Y=Q[X],q=K==null?void 0:K[Y];U[Y]=q===void 0?J[Y]:q}return U}},Iq=function(J,Q,K){for(var U=J.length-1;U>=0;U--)if(J[U]===Q)J.splice(U,1)},Ci=function(J){J.splice(0,J.length)},S28=function(J,Q){for(var K=0;K<Q.length;K++){var U=Q[K];J.push(U)}},r6=function(J,Q,K){if(K)Q=pI0(K,Q);return J[Q]},BY=function(J,Q,K,U){if(K)Q=pI0(K,Q);J[Q]=U},T28,OY,w28="undefined",$28,LF,bS=function(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(J===void 0||Q===void 0||!Ai(J)){AJ("An element must have a core reference and parameters set");return}var U=Q.group;if(U==null)if(Q.data&&Q.data.source!=null&&Q.data.target!=null)U="edges";else U="nodes";if(U!=="nodes"&&U!=="edges"){AJ("An element must be of type `nodes` or `edges`; you specified `"+U+"`");return}this.length=1,this[0]=this;var X=this._private={cy:J,single:!0,data:Q.data||{},position:Q.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:U,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Q.selected?!0:!1,selectable:Q.selectable===void 0?!0:Q.selectable?!0:!1,locked:Q.locked?!0:!1,grabbed:!1,grabbable:Q.grabbable===void 0?!0:Q.grabbable?!0:!1,pannable:Q.pannable===void 0?U==="edges"?!0:!1:Q.pannable?!0:!1,active:!1,classes:new LF,animation:{current:[],queue:[]},rscratch:{},scratch:Q.scratch||{},edges:[],children:[],parent:Q.parent&&Q.parent.isNode()?Q.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(X.position.x==null)X.position.x=0;if(X.position.y==null)X.position.y=0;if(Q.renderedPosition){var Y=Q.renderedPosition,q=J.pan(),W=J.zoom();X.position={x:(Y.x-q.x)/W,y:(Y.y-q.y)/W}}var G=[];if(l9(Q.classes))G=Q.classes;else if(XZ(Q.classes))G=Q.classes.split(/\s+/);for(var z=0,H=G.length;z<H;z++){var F=G[z];if(!F||F==="")continue;X.classes.add(F)}if(this.createEmitter(),K===void 0||K)this.restore();var M=Q.style||Q.css;if(M)j9("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)},TL0=function(J){return J={bfs:J.bfs||!J.dfs,dfs:J.dfs||!J.bfs},function(K,U,X){var Y;if(H9(K)&&!x4(K))Y=K,K=Y.roots||Y.root,U=Y.visit,X=Y.directed;X=arguments.length===2&&!$J(U)?U:X,U=$J(U)?U:function(){};var q=this._private.cy,W=K=XZ(K)?this.filter(K):K,G=[],z=[],H={},F={},M={},B=0,O,R=this.byGroup(),L=R.nodes,D=R.edges;for(var A=0;A<W.length;A++){var V=W[A],N=V.id();if(V.isNode()){if(G.unshift(V),J.bfs)M[N]=!0,z.push(V);F[N]=0}}var E=function(){var S=J.bfs?G.shift():G.pop(),T=S.id();if(J.dfs){if(M[T])return 0;M[T]=!0,z.push(S)}var _=F[T],v=H[T],x=v!=null?v.source():null,b=v!=null?v.target():null,y=v==null?void 0:S.same(x)?b[0]:x[0],u;if(u=U(S,v,y,B++,_),u===!0)return O=S,1;if(u===!1)return 1;var h=S.connectedEdges().filter(function(X0){return(!X||X0.source().same(S))&&D.has(X0)});for(var p=0;p<h.length;p++){var r=h[p],t=r.connectedNodes().filter(function(X0){return!X0.same(S)&&L.has(X0)}),d=t.id();if(t.length!==0&&!M[d]){if(t=t[0],G.push(t),J.bfs)M[d]=!0,z.push(t);H[d]=r,F[d]=F[T]+1}}},C;while(G.length!==0){if(C=E(),C===0)continue;if(C===1)break}var j=q.collection();for(var $=0;$<z.length;$++){var k=z[$],w=H[k.id()];if(w!=null)j.push(w);j.push(k)}return{path:q.collection(j),found:q.collection(O)}}},HD,GS,k28,wL0,hl,$L0,v28,CD,x28,b28,y28,h28,m28,u28,g28,p28,c28,l28,d28=function(J,Q,K){if(K.length===0)AJ("Karger-Stein must be run on a connected (sub)graph");var U=K[J],X=U[1],Y=U[2],q=Q[X],W=Q[Y],G=K;for(var z=G.length-1;z>=0;z--){var H=G[z],F=H[1],M=H[2];if(Q[F]===q&&Q[M]===W||Q[F]===W&&Q[M]===q)G.splice(z,1)}for(var B=0;B<G.length;B++){var O=G[B];if(O[1]===W)G[B]=O.slice(),G[B][1]=q;else if(O[2]===W)G[B]=O.slice(),G[B][2]=q}for(var R=0;R<Q.length;R++)if(Q[R]===W)Q[R]=q;return G},ml=function(J,Q,K,U){while(K>U){var X=Math.floor(Math.random()*Q.length);Q=d28(X,J,Q),K--}return Q},i28,ul,s28=function(J){return{x:J.x,y:J.y}},yS=function(J,Q,K){return{x:J.x*Q+K.x,y:J.y*Q+K.y}},QA0=function(J,Q,K){return{x:(J.x-K.x)/Q,y:(J.y-K.y)/Q}},qF=function(J){return{x:J[0],y:J[1]}},r28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,U=1/0;for(var X=Q;X<K;X++){var Y=J[X];if(isFinite(Y))U=Math.min(Y,U)}return U},n28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,U=-1/0;for(var X=Q;X<K;X++){var Y=J[X];if(isFinite(Y))U=Math.max(Y,U)}return U},a28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,U=0,X=0;for(var Y=Q;Y<K;Y++){var q=J[Y];if(isFinite(q))U+=q,X++}return U/X},o28=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(U)J=J.slice(Q,K);else{if(K<J.length)J.splice(K,J.length-K);if(Q>0)J.splice(0,Q)}var q=0;for(var W=J.length-1;W>=0;W--){var G=J[W];if(Y){if(!isFinite(G))J[W]=-1/0,q++}else J.splice(W,1)}if(X)J.sort(function(F,M){return F-M});var z=J.length,H=Math.floor(z/2);if(z%2!==0)return J[H+1+q];else return(J[H-1+q]+J[H+q])/2},t28=function(J){return Math.PI*J/180},tj=function(J,Q){return Math.atan2(Q,J)-Math.PI/2},ji,Si=function(J){if(J>0)return 1;else if(J<0)return-1;else return 0},qz=function(J,Q){return Math.sqrt(Jz(J,Q))},Jz=function(J,Q){var K=Q.x-J.x,U=Q.y-J.y;return K*K+U*U},e28=function(J){var Q=J.length,K=0;for(var U=0;U<Q;U++)K+=J[U];for(var X=0;X<Q;X++)J[X]=J[X]/K;return J},x7=function(J,Q,K,U){return(1-U)*(1-U)*J+2*(1-U)*U*Q+U*U*K},zF=function(J,Q,K,U){return{x:x7(J.x,Q.x,K.x,U),y:x7(J.y,Q.y,K.y,U)}},ZF8=function(J,Q,K,U){var X={x:Q.x-J.x,y:Q.y-J.y},Y=qz(J,Q),q={x:X.x/Y,y:X.y/Y};return K=K==null?0:K,U=U!=null?U:K*Y,{x:J.x+q.x*U,y:J.y+q.y*U}},FD=function(J,Q,K){return Math.max(J,Math.min(K,Q))},X6=function(J){if(J==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};else if(J.x1!=null&&J.y1!=null){if(J.x2!=null&&J.y2!=null&&J.x2>=J.x1&&J.y2>=J.y1)return{x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,w:J.x2-J.x1,h:J.y2-J.y1};else if(J.w!=null&&J.h!=null&&J.w>=0&&J.h>=0)return{x1:J.x1,y1:J.y1,x2:J.x1+J.w,y2:J.y1+J.h,w:J.w,h:J.h}}},JF8=function(J){return{x1:J.x1,x2:J.x2,w:J.w,y1:J.y1,y2:J.y2,h:J.h}},QF8=function(J){J.x1=1/0,J.y1=1/0,J.x2=-1/0,J.y2=-1/0,J.w=0,J.h=0},KF8=function(J,Q){J.x1=Math.min(J.x1,Q.x1),J.x2=Math.max(J.x2,Q.x2),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,Q.y1),J.y2=Math.max(J.y2,Q.y2),J.h=J.y2-J.y1},KA0=function(J,Q,K){J.x1=Math.min(J.x1,Q),J.x2=Math.max(J.x2,Q),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,K),J.y2=Math.max(J.y2,K),J.h=J.y2-J.y1},zS=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return J.x1-=Q,J.x2+=Q,J.y1-=Q,J.y2+=Q,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},HS=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],K,U,X,Y;if(Q.length===1)K=U=X=Y=Q[0];else if(Q.length===2)K=X=Q[0],Y=U=Q[1];else if(Q.length===4){var q=U7(Q,4);K=q[0],U=q[1],X=q[2],Y=q[3]}return J.x1-=Y,J.x2+=U,J.y1-=K,J.y2+=X,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},kL0=function(J,Q){J.x1=Q.x1,J.y1=Q.y1,J.x2=Q.x2,J.y2=Q.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},Ti=function(J,Q){if(J.x1>Q.x2)return!1;if(Q.x1>J.x2)return!1;if(J.x2<Q.x1)return!1;if(Q.x2<J.x1)return!1;if(J.y2<Q.y1)return!1;if(Q.y2<J.y1)return!1;if(J.y1>Q.y2)return!1;if(Q.y1>J.y2)return!1;return!0},Bq=function(J,Q,K){return J.x1<=Q&&Q<=J.x2&&J.y1<=K&&K<=J.y2},_L0=function(J,Q){return Bq(J,Q.x,Q.y)},UA0=function(J,Q){return Bq(J,Q.x1,Q.y1)&&Bq(J,Q.x2,Q.y2)},UF8,XA0=function(J,Q,K,U,X,Y,q){var W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",G=W==="auto"?Aq(X,Y):W,z=X/2,H=Y/2;G=Math.min(G,z,H);var F=G!==z,M=G!==H,B;if(F){var O=K-z+G-q,R=U-H-q,L=K+z-G+q,D=R;if(B=Oq(J,Q,K,U,O,R,L,D,!1),B.length>0)return B}if(M){var A=K+z+q,V=U-H+G-q,N=A,E=U+H-G+q;if(B=Oq(J,Q,K,U,A,V,N,E,!1),B.length>0)return B}if(F){var C=K-z+G-q,j=U+H+q,$=K+z-G+q,k=j;if(B=Oq(J,Q,K,U,C,j,$,k,!1),B.length>0)return B}if(M){var w=K-z-q,P=U-H+G-q,S=w,T=U+H-G+q;if(B=Oq(J,Q,K,U,w,P,S,T,!1),B.length>0)return B}var _;{var v=K-z+G,x=U-H+G;if(_=KD(J,Q,K,U,v,x,G+q),_.length>0&&_[0]<=v&&_[1]<=x)return[_[0],_[1]]}{var b=K+z-G,y=U-H+G;if(_=KD(J,Q,K,U,b,y,G+q),_.length>0&&_[0]>=b&&_[1]<=y)return[_[0],_[1]]}{var u=K+z-G,h=U+H-G;if(_=KD(J,Q,K,U,u,h,G+q),_.length>0&&_[0]>=u&&_[1]>=h)return[_[0],_[1]]}{var p=K-z+G,r=U+H-G;if(_=KD(J,Q,K,U,p,r,G+q),_.length>0&&_[0]<=p&&_[1]>=r)return[_[0],_[1]]}return[]},qF8=function(J,Q,K,U,X,Y,q){var W=q,G=Math.min(K,X),z=Math.max(K,X),H=Math.min(U,Y),F=Math.max(U,Y);return G-W<=J&&J<=z+W&&H-W<=Q&&Q<=F+W},WF8=function(J,Q,K,U,X,Y,q,W,G){var z={x1:Math.min(K,q,X)-G,x2:Math.max(K,q,X)+G,y1:Math.min(U,W,Y)-G,y2:Math.max(U,W,Y)+G};if(J<z.x1||J>z.x2||Q<z.y1||Q>z.y2)return!1;else return!0},GF8=function(J,Q,K,U){K-=U;var X=Q*Q-4*J*K;if(X<0)return[];var Y=Math.sqrt(X),q=2*J,W=(-Q+Y)/q,G=(-Q-Y)/q;return[W,G]},zF8=function(J,Q,K,U,X){var Y=0.00001;if(J===0)J=Y;Q/=J,K/=J,U/=J;var q,W,G,z,H,F,M,B;if(W=(3*K-Q*Q)/9,G=-(27*U)+Q*(9*K-2*(Q*Q)),G/=54,q=W*W*W+G*G,X[1]=0,M=Q/3,q>0){H=G+Math.sqrt(q),H=H<0?-Math.pow(-H,0.3333333333333333):Math.pow(H,0.3333333333333333),F=G-Math.sqrt(q),F=F<0?-Math.pow(-F,0.3333333333333333):Math.pow(F,0.3333333333333333),X[0]=-M+H+F,M+=(H+F)/2,X[4]=X[2]=-M,M=Math.sqrt(3)*(-F+H)/2,X[3]=M,X[5]=-M;return}if(X[5]=X[3]=0,q===0){B=G<0?-Math.pow(-G,0.3333333333333333):Math.pow(G,0.3333333333333333),X[0]=-M+2*B,X[4]=X[2]=-(B+M);return}W=-W,z=W*W*W,z=Math.acos(G/Math.sqrt(z)),B=2*Math.sqrt(W),X[0]=-M+B*Math.cos(z/3),X[2]=-M+B*Math.cos((z+2*Math.PI)/3),X[4]=-M+B*Math.cos((z+4*Math.PI)/3);return},HF8=function(J,Q,K,U,X,Y,q,W){var G=1*K*K-4*K*X+2*K*q+4*X*X-4*X*q+q*q+U*U-4*U*Y+2*U*W+4*Y*Y-4*Y*W+W*W,z=9*K*X-3*K*K-3*K*q-6*X*X+3*X*q+9*U*Y-3*U*U-3*U*W-6*Y*Y+3*Y*W,H=3*K*K-6*K*X+K*q-K*J+2*X*X+2*X*J-q*J+3*U*U-6*U*Y+U*W-U*Q+2*Y*Y+2*Y*Q-W*Q,F=1*K*X-K*K+K*J-X*J+U*Y-U*U+U*Q-Y*Q,M=[];zF8(G,z,H,F,M);var B=0.0000001,O=[];for(var R=0;R<6;R+=2)if(Math.abs(M[R+1])<B&&M[R]>=0&&M[R]<=1)O.push(M[R]);O.push(1),O.push(0);var L=-1,D,A,V;for(var N=0;N<O.length;N++)if(D=Math.pow(1-O[N],2)*K+2*(1-O[N])*O[N]*X+O[N]*O[N]*q,A=Math.pow(1-O[N],2)*U+2*(1-O[N])*O[N]*Y+O[N]*O[N]*W,V=Math.pow(D-J,2)+Math.pow(A-Q,2),L>=0){if(V<L)L=V}else L=V;return L},FF8=function(J,Q,K,U,X,Y){var q=[J-K,Q-U],W=[X-K,Y-U],G=W[0]*W[0]+W[1]*W[1],z=q[0]*q[0]+q[1]*q[1],H=q[0]*W[0]+q[1]*W[1],F=H*H/G;if(H<0)return z;if(F>G)return(J-X)*(J-X)+(Q-Y)*(Q-Y);return z-F},n6=function(J,Q,K){var U,X,Y,q,W,G=0;for(var z=0;z<K.length/2;z++){if(U=K[z*2],X=K[z*2+1],z+1<K.length/2)Y=K[(z+1)*2],q=K[(z+1)*2+1];else Y=K[(z+1-K.length/2)*2],q=K[(z+1-K.length/2)*2+1];if(U==J&&Y==J);else if(U>=J&&J>=Y||U<=J&&J<=Y){if(W=(J-U)/(Y-U)*(q-X)+X,W>Q)G++}else continue}if(G%2===0)return!1;else return!0},LY=function(J,Q,K,U,X,Y,q,W,G){var z=Array(K.length),H;if(W[0]!=null)if(H=Math.atan(W[1]/W[0]),W[0]<0)H=H+Math.PI/2;else H=-H-Math.PI/2;else H=W;var F=Math.cos(-H),M=Math.sin(-H);for(var B=0;B<z.length/2;B++)z[B*2]=Y/2*(K[B*2]*F-K[B*2+1]*M),z[B*2+1]=q/2*(K[B*2+1]*F+K[B*2]*M),z[B*2]+=U,z[B*2+1]+=X;var O;if(G>0){var R=CS(z,-G);O=PS(R)}else O=z;return n6(J,Q,O)},MF8=function(J,Q,K,U,X,Y,q,W){var G=Array(K.length*2);for(var z=0;z<W.length;z++){var H=W[z];G[z*4+0]=H.startX,G[z*4+1]=H.startY,G[z*4+2]=H.stopX,G[z*4+3]=H.stopY;var F=Math.pow(H.cx-J,2)+Math.pow(H.cy-Q,2);if(F<=Math.pow(H.radius,2))return!0}return n6(J,Q,G)},PS=function(J){var Q=Array(J.length/2),K,U,X,Y,q,W,G,z;for(var H=0;H<J.length/4;H++){if(K=J[H*4],U=J[H*4+1],X=J[H*4+2],Y=J[H*4+3],H<J.length/4-1)q=J[(H+1)*4],W=J[(H+1)*4+1],G=J[(H+1)*4+2],z=J[(H+1)*4+3];else q=J[0],W=J[1],G=J[2],z=J[3];var F=Oq(K,U,X,Y,q,W,G,z,!0);Q[H*2]=F[0],Q[H*2+1]=F[1]}return Q},CS=function(J,Q){var K=Array(J.length*2),U,X,Y,q;for(var W=0;W<J.length/2;W++){if(U=J[W*2],X=J[W*2+1],W<J.length/2-1)Y=J[(W+1)*2],q=J[(W+1)*2+1];else Y=J[0],q=J[1];var G=q-X,z=-(Y-U),H=Math.sqrt(G*G+z*z),F=G/H,M=z/H;K[W*4]=U+F*Q,K[W*4+1]=X+M*Q,K[W*4+2]=Y+F*Q,K[W*4+3]=q+M*Q}return K},BF8=function(J,Q,K,U,X,Y){var q=K-J,W=U-Q;q/=X,W/=Y;var G=Math.sqrt(q*q+W*W),z=G-1;if(z<0)return[];var H=z/G;return[(K-J)*H+J,(U-Q)*H+Q]},Xz=function(J,Q,K,U,X,Y,q){return J-=X,Q-=Y,J/=K/2+q,Q/=U/2+q,J*J+Q*Q<=1},KD=function(J,Q,K,U,X,Y,q){var W=[K-J,U-Q],G=[J-X,Q-Y],z=W[0]*W[0]+W[1]*W[1],H=2*(G[0]*W[0]+G[1]*W[1]),F=G[0]*G[0]+G[1]*G[1]-q*q,M=H*H-4*z*F;if(M<0)return[];var B=(-H+Math.sqrt(M))/(2*z),O=(-H-Math.sqrt(M))/(2*z),R=Math.min(B,O),L=Math.max(B,O),D=[];if(R>=0&&R<=1)D.push(R);if(L>=0&&L<=1)D.push(L);if(D.length===0)return[];var A=D[0]*W[0]+J,V=D[0]*W[1]+Q;if(D.length>1)if(D[0]==D[1])return[A,V];else{var N=D[1]*W[0]+J,E=D[1]*W[1]+Q;return[A,V,N,E]}else return[A,V]},gl=function(J,Q,K){if(Q<=J&&J<=K||K<=J&&J<=Q)return J;else if(J<=Q&&Q<=K||K<=Q&&Q<=J)return Q;else return K},Oq=function(J,Q,K,U,X,Y,q,W,G){var z=J-X,H=K-J,F=q-X,M=Q-Y,B=U-Q,O=W-Y,R=F*M-O*z,L=H*M-B*z,D=O*H-F*B;if(D!==0){var A=R/D,V=L/D,N=0.001,E=0-N,C=1+N;if(E<=A&&A<=C&&E<=V&&V<=C)return[J+A*H,Q+A*B];else if(!G)return[];else return[J+A*H,Q+A*B]}else if(R===0||L===0){if(gl(J,K,q)===q)return[q,W];if(gl(J,K,X)===X)return[X,Y];if(gl(X,q,K)===K)return[K,U];return[]}else return[]},OF8=function(J,Q,K,U,X){var Y=[],q=U/2,W=X/2,G=Q,z=K;Y.push({x:G+q*J[0],y:z+W*J[1]});for(var H=1;H<J.length/2;H++)Y.push({x:G+q*J[H*2],y:z+W*J[H*2+1]});return Y},MD=function(J,Q,K,U,X,Y,q,W){var G=[],z,H=Array(K.length),F=!0;if(Y==null)F=!1;var M;if(F){for(var B=0;B<H.length/2;B++)H[B*2]=K[B*2]*Y+U,H[B*2+1]=K[B*2+1]*q+X;if(W>0){var O=CS(H,-W);M=PS(O)}else M=H}else M=K;var R,L,D,A;for(var V=0;V<M.length/2;V++){if(R=M[V*2],L=M[V*2+1],V<M.length/2-1)D=M[(V+1)*2],A=M[(V+1)*2+1];else D=M[0],A=M[1];if(z=Oq(J,Q,U,X,R,L,D,A),z.length!==0)G.push(z[0],z[1])}return G},RF8=function(J,Q,K,U,X,Y,q,W,G){var z=[],H,F=Array(K.length*2);G.forEach(function(D,A){if(A===0)F[F.length-2]=D.startX,F[F.length-1]=D.startY;else F[A*4-2]=D.startX,F[A*4-1]=D.startY;if(F[A*4]=D.stopX,F[A*4+1]=D.stopY,H=KD(J,Q,U,X,D.cx,D.cy,D.radius),H.length!==0)z.push(H[0],H[1])});for(var M=0;M<F.length/4;M++)if(H=Oq(J,Q,U,X,F[M*4],F[M*4+1],F[M*4+2],F[M*4+3],!1),H.length!==0)z.push(H[0],H[1]);if(z.length>2){var B=[z[0],z[1]],O=Math.pow(B[0]-J,2)+Math.pow(B[1]-Q,2);for(var R=1;R<z.length/2;R++){var L=Math.pow(z[R*2]-J,2)+Math.pow(z[R*2+1]-Q,2);if(L<=O)B[0]=z[R*2],B[1]=z[R*2+1],O=L}return B}return z},ej=function(J,Q,K){var U=[J[0]-Q[0],J[1]-Q[1]],X=Math.sqrt(U[0]*U[0]+U[1]*U[1]),Y=(X-K)/X;if(Y<0)Y=0.00001;return[Q[0]+Y*U[0],Q[1]+Y*U[1]]},U6=function(J,Q){var K=Zi(J,Q);return K=YA0(K),K},YA0=function(J){var Q,K,U=J.length/2,X=1/0,Y=1/0,q=-1/0,W=-1/0;for(var G=0;G<U;G++)Q=J[2*G],K=J[2*G+1],X=Math.min(X,Q),q=Math.max(q,Q),Y=Math.min(Y,K),W=Math.max(W,K);var z=2/(q-X),H=2/(W-Y);for(var F=0;F<U;F++)Q=J[2*F]=J[2*F]*z,K=J[2*F+1]=J[2*F+1]*H,X=Math.min(X,Q),q=Math.max(q,Q),Y=Math.min(Y,K),W=Math.max(W,K);if(Y<-1)for(var M=0;M<U;M++)K=J[2*M+1]=J[2*M+1]+(-1-Y);return J},Zi=function(J,Q){var K=1/J*2*Math.PI,U=J%2===0?Math.PI/2+K/2:Math.PI/2;U+=Q;var X=Array(J*2),Y;for(var q=0;q<J;q++)Y=q*K+U,X[2*q]=Math.cos(Y),X[2*q+1]=Math.sin(-Y);return X},Aq=function(J,Q){return Math.min(J/4,Q/4,8)},qA0=function(J,Q){return Math.min(J/10,Q/10,8)},wi=function(){return 8},LF8=function(J,Q,K){return[J-2*Q+K,2*(Q-J),J]},Ji=function(J,Q){return{heightOffset:Math.min(15,0.05*Q),widthOffset:Math.min(100,0.25*J),ctrlPtOffsetPct:0.05}},DF8,IF8,fL0,HF,vL0,FF,AF8,Qi,NF8,EF8=function(J){return NF8(J)},VF8=function(J,Q){var K=0;for(var U=0;U<Q.length;U++)K+=Q[U](J);return K},PF8=function(J,Q,K){for(var U=0;U<Q;U++)J[U*Q+U]=K},WA0=function(J,Q){var K;for(var U=0;U<Q;U++){K=0;for(var X=0;X<Q;X++)K+=J[X*Q+U];for(var Y=0;Y<Q;Y++)J[Y*Q+U]=J[Y*Q+U]/K}},CF8=function(J,Q,K){var U=Array(K*K);for(var X=0;X<K;X++){for(var Y=0;Y<K;Y++)U[X*K+Y]=0;for(var q=0;q<K;q++)for(var W=0;W<K;W++)U[X*K+W]+=J[X*K+q]*Q[q*K+W]}return U},jF8=function(J,Q,K){var U=J.slice(0);for(var X=1;X<K;X++)J=CF8(J,U,Q);return J},SF8=function(J,Q,K){var U=Array(Q*Q);for(var X=0;X<Q*Q;X++)U[X]=Math.pow(J[X],K);return WA0(U,Q),U},TF8=function(J,Q,K,U){for(var X=0;X<K;X++){var Y=Math.round(J[X]*Math.pow(10,U))/Math.pow(10,U),q=Math.round(Q[X]*Math.pow(10,U))/Math.pow(10,U);if(Y!==q)return!1}return!0},wF8=function(J,Q,K,U){var X=[];for(var Y=0;Y<Q;Y++){var q=[];for(var W=0;W<Q;W++)if(Math.round(J[Y*Q+W]*1000)/1000>0)q.push(K[W]);if(q.length!==0)X.push(U.collection(q))}return X},$F8=function(J,Q){for(var K=0;K<J.length;K++)if(!Q[K]||J[K].id()!==Q[K].id())return!1;return!0},kF8=function(J){for(var Q=0;Q<J.length;Q++)for(var K=0;K<J.length;K++)if(Q!=K&&$F8(J[Q],J[K]))J.splice(K,1);return J},xL0=function(J){var Q=this.nodes(),K=this.edges(),U=this.cy(),X=EF8(J),Y={};for(var q=0;q<Q.length;q++)Y[Q[q].id()]=q;var W=Q.length,G=W*W,z=Array(G),H;for(var F=0;F<G;F++)z[F]=0;for(var M=0;M<K.length;M++){var B=K[M],O=Y[B.source().id()],R=Y[B.target().id()],L=VF8(B,X.attributes);z[O*W+R]+=L,z[R*W+O]+=L}PF8(z,W,X.multFactor),WA0(z,W);var D=!0,A=0;while(D&&A<X.maxIterations){if(D=!1,H=jF8(z,W,X.expandFactor),z=SF8(H,W,X.inflateFactor),!TF8(z,H,G,4))D=!0;A++}var V=wF8(z,W,Q,U);return V=kF8(V),V},_F8,fF8=function(J){return J},GA0=function(J,Q){return Math.abs(Q-J)},bL0=function(J,Q,K){return J+GA0(Q,K)},yL0=function(J,Q,K){return J+Math.pow(K-Q,2)},vF8=function(J){return Math.sqrt(J)},xF8=function(J,Q,K){return Math.max(J,GA0(Q,K))},aL=function(J,Q,K,U,X){var Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:fF8,q=U,W,G;for(var z=0;z<J;z++)W=Q(z),G=K(z),q=X(q,W,G);return Y(q)},OF,bF8,$i=function(J){return bF8(J)},jS=function(J,Q,K,U,X){var Y=X!=="kMedoids",q=Y?function(H){return K[H]}:function(H){return U[H](K)},W=function(F){return U[F](Q)},G=K,z=Q;return hS(J,U.length,q,W,G,z)},cl=function(J,Q,K){var U=K.length,X=Array(U),Y=Array(U),q=Array(Q),W=null;for(var G=0;G<U;G++)X[G]=J.min(K[G]).value,Y[G]=J.max(K[G]).value;for(var z=0;z<Q;z++){W=[];for(var H=0;H<U;H++)W[H]=Math.random()*(Y[H]-X[H])+X[H];q[z]=W}return q},zA0=function(J,Q,K,U,X){var Y=1/0,q=0;for(var W=0;W<Q.length;W++){var G=jS(K,J,Q[W],U,X);if(G<Y)Y=G,q=W}return q},HA0=function(J,Q,K){var U=[],X=null;for(var Y=0;Y<Q.length;Y++)if(X=Q[Y],K[X.id()]===J)U.push(X);return U},yF8=function(J,Q,K){return Math.abs(Q-J)<=K},hF8=function(J,Q,K){for(var U=0;U<J.length;U++)for(var X=0;X<J[U].length;X++){var Y=Math.abs(J[U][X]-Q[U][X]);if(Y>K)return!1}return!0},mF8=function(J,Q,K){for(var U=0;U<K;U++)if(J===Q[U])return!0;return!1},hL0=function(J,Q){var K=Array(Q);if(J.length<50)for(var U=0;U<Q;U++){var X=J[Math.floor(Math.random()*J.length)];while(mF8(X,K,U))X=J[Math.floor(Math.random()*J.length)];K[U]=X}else for(var Y=0;Y<Q;Y++)K[Y]=J[Math.floor(Math.random()*J.length)];return K},mL0=function(J,Q,K){var U=0;for(var X=0;X<Q.length;X++)U+=jS("manhattan",Q[X],J,K,"kMedoids");return U},uF8=function(J){var Q=this.cy(),K=this.nodes(),U=null,X=$i(J),Y=Array(X.k),q={},W;if(X.testMode)if(typeof X.testCentroids==="number")X.testCentroids,W=cl(K,X.k,X.attributes);else if(A7(X.testCentroids)==="object")W=X.testCentroids;else W=cl(K,X.k,X.attributes);else W=cl(K,X.k,X.attributes);var G=!0,z=0;while(G&&z<X.maxIterations){for(var H=0;H<K.length;H++)U=K[H],q[U.id()]=zA0(U,W,X.distance,X.attributes,"kMeans");G=!1;for(var F=0;F<X.k;F++){var M=HA0(F,K,q);if(M.length===0)continue;var B=X.attributes.length,O=W[F],R=Array(B),L=Array(B);for(var D=0;D<B;D++){L[D]=0;for(var A=0;A<M.length;A++)U=M[A],L[D]+=X.attributes[D](U);if(R[D]=L[D]/M.length,!yF8(R[D],O[D],X.sensitivityThreshold))G=!0}W[F]=R,Y[F]=Q.collection(M)}z++}return Y},gF8=function(J){var Q=this.cy(),K=this.nodes(),U=null,X=$i(J),Y=Array(X.k),q,W={},G,z=Array(X.k);if(X.testMode)if(typeof X.testCentroids==="number");else if(A7(X.testCentroids)==="object")q=X.testCentroids;else q=hL0(K,X.k);else q=hL0(K,X.k);var H=!0,F=0;while(H&&F<X.maxIterations){for(var M=0;M<K.length;M++)U=K[M],W[U.id()]=zA0(U,q,X.distance,X.attributes,"kMedoids");H=!1;for(var B=0;B<q.length;B++){var O=HA0(B,K,W);if(O.length===0)continue;z[B]=mL0(q[B],O,X.attributes);for(var R=0;R<O.length;R++)if(G=mL0(O[R],O,X.attributes),G<z[B])z[B]=G,q[B]=O[R],H=!0;Y[B]=Q.collection(O)}F++}return Y},pF8=function(J,Q,K,U,X){var Y,q;for(var W=0;W<Q.length;W++)for(var G=0;G<J.length;G++)U[W][G]=Math.pow(K[W][G],X.m);for(var z=0;z<J.length;z++)for(var H=0;H<X.attributes.length;H++){Y=0,q=0;for(var F=0;F<Q.length;F++)Y+=U[F][z]*X.attributes[H](Q[F]),q+=U[F][z];J[z][H]=Y/q}},cF8=function(J,Q,K,U,X){for(var Y=0;Y<J.length;Y++)Q[Y]=J[Y].slice();var q,W,G,z=2/(X.m-1);for(var H=0;H<K.length;H++)for(var F=0;F<U.length;F++){q=0;for(var M=0;M<K.length;M++)W=jS(X.distance,U[F],K[H],X.attributes,"cmeans"),G=jS(X.distance,U[F],K[M],X.attributes,"cmeans"),q+=Math.pow(W/G,z);J[F][H]=1/q}},lF8=function(J,Q,K,U){var X=Array(K.k);for(var Y=0;Y<X.length;Y++)X[Y]=[];var q,W;for(var G=0;G<Q.length;G++){q=-1/0,W=-1;for(var z=0;z<Q[0].length;z++)if(Q[G][z]>q)q=Q[G][z],W=z;X[W].push(J[G])}for(var H=0;H<X.length;H++)X[H]=U.collection(X[H]);return X},uL0=function(J){var Q=this.cy(),K=this.nodes(),U=$i(J),X,Y,q,W,G;W=Array(K.length);for(var z=0;z<K.length;z++)W[z]=Array(U.k);q=Array(K.length);for(var H=0;H<K.length;H++)q[H]=Array(U.k);for(var F=0;F<K.length;F++){var M=0;for(var B=0;B<U.k;B++)q[F][B]=Math.random(),M+=q[F][B];for(var O=0;O<U.k;O++)q[F][O]=q[F][O]/M}Y=Array(U.k);for(var R=0;R<U.k;R++)Y[R]=Array(U.attributes.length);G=Array(K.length);for(var L=0;L<K.length;L++)G[L]=Array(U.k);var D=!0,A=0;while(D&&A<U.maxIterations){if(D=!1,pF8(Y,K,q,G,U),cF8(q,W,Y,K,U),!hF8(q,W,U.sensitivityThreshold))D=!0;A++}return X=lF8(K,q,U,Q),{clusters:X,degreeOfMembership:q}},dF8,iF8,sF8,rF8=function(J){var Q=iF8(J),K=sF8[Q.linkage];if(K!=null)Q.linkage=K;return Q},gL0=function(J,Q,K,U,X){var Y=0,q=1/0,W,G=X.attributes,z=function($,k){return hS(X.distance,G.length,function(w){return G[w]($)},function(w){return G[w](k)},$,k)};for(var H=0;H<J.length;H++){var F=J[H].key,M=K[F][U[F]];if(M<q)Y=F,q=M}if(X.mode==="threshold"&&q>=X.threshold||X.mode==="dendrogram"&&J.length===1)return!1;var B=Q[Y],O=Q[U[Y]],R;if(X.mode==="dendrogram")R={left:B,right:O,key:B.key};else R={value:B.value.concat(O.value),key:B.key};J[B.index]=R,J.splice(O.index,1),Q[B.key]=R;for(var L=0;L<J.length;L++){var D=J[L];if(B.key===D.key)W=1/0;else if(X.linkage==="min"){if(W=K[B.key][D.key],K[B.key][D.key]>K[O.key][D.key])W=K[O.key][D.key]}else if(X.linkage==="max"){if(W=K[B.key][D.key],K[B.key][D.key]<K[O.key][D.key])W=K[O.key][D.key]}else if(X.linkage==="mean")W=(K[B.key][D.key]*B.size+K[O.key][D.key]*O.size)/(B.size+O.size);else if(X.mode==="dendrogram")W=z(D.value,B.value);else W=z(D.value[0],B.value[0]);K[B.key][D.key]=K[D.key][B.key]=W}for(var A=0;A<J.length;A++){var V=J[A].key;if(U[V]===B.key||U[V]===O.key){var N=V;for(var E=0;E<J.length;E++){var C=J[E].key;if(K[V][C]<K[V][N])N=C}U[V]=N}J[A].index=A}return B.key=O.key=B.index=O.index=null,!0},WF=function(J,Q,K){if(!J)return;if(J.value)Q.push(J.value);else{if(J.left)WF(J.left,Q);if(J.right)WF(J.right,Q)}},Ki=function(J,Q){if(!J)return"";if(J.left&&J.right){var K=Ki(J.left,Q),U=Ki(J.right,Q),X=Q.add({group:"nodes",data:{id:K+","+U}});return Q.add({group:"edges",data:{source:K,target:X.id()}}),Q.add({group:"edges",data:{source:U,target:X.id()}}),X.id()}else if(J.value)return J.value.id()},Ui=function(J,Q,K){if(!J)return[];var U=[],X=[],Y=[];if(Q===0){if(J.left)WF(J.left,U);if(J.right)WF(J.right,X);return Y=U.concat(X),[K.collection(Y)]}else if(Q===1)if(J.value)return[K.collection(J.value)];else{if(J.left)WF(J.left,U);if(J.right)WF(J.right,X);return[K.collection(U),K.collection(X)]}else if(J.value)return[K.collection(J.value)];else{if(J.left)U=Ui(J.left,Q-1,K);if(J.right)X=Ui(J.right,Q-1,K);return U.concat(X)}},pL0=function(J){var Q=this.cy(),K=this.nodes(),U=rF8(J),X=U.attributes,Y=function(A,V){return hS(U.distance,X.length,function(N){return X[N](A)},function(N){return X[N](V)},A,V)},q=[],W=[],G=[],z=[];for(var H=0;H<K.length;H++){var F={value:U.mode==="dendrogram"?K[H]:[K[H]],key:H,index:H};q[H]=F,z[H]=F,W[H]=[],G[H]=0}for(var M=0;M<q.length;M++)for(var B=0;B<=M;B++){var O=void 0;if(U.mode==="dendrogram")O=M===B?1/0:Y(q[M].value,q[B].value);else O=M===B?1/0:Y(q[M].value[0],q[B].value[0]);if(W[M][B]=O,W[B][M]=O,O<W[M][G[M]])G[M]=B}var R=gL0(q,z,W,G,U);while(R)R=gL0(q,z,W,G,U);var L;if(U.mode==="dendrogram"){if(L=Ui(q[0],U.dendrogramDepth,Q),U.addDendrogram)Ki(q[0],Q)}else L=Array(q.length),q.forEach(function(D,A){D.key=D.index=null,L[A]=Q.collection(D.value)});return L},nF8,aF8,oF8=function(J){var{damping:Q,preference:K}=J;if(!(0.5<=Q&&Q<1))AJ("Damping must range on [0.5, 1).  Got: ".concat(Q));var U=["median","mean","min","max"];if(!(U.some(function(X){return X===K})||k8(K)))AJ("Preference must be one of [".concat(U.map(function(X){return"'".concat(X,"'")}).join(", "),"] or a number.  Got: ").concat(K));return aF8(J)},tF8=function(J,Q,K,U){var X=function(q,W){return U[W](q)};return-hS(J,U.length,function(Y){return X(Q,Y)},function(Y){return X(K,Y)},Q,K)},eF8=function(J,Q){var K=null;if(Q==="median")K=o28(J);else if(Q==="mean")K=a28(J);else if(Q==="min")K=r28(J);else if(Q==="max")K=n28(J);else K=Q;return K},ZM8=function(J,Q,K){var U=[];for(var X=0;X<J;X++)if(Q[X*J+X]+K[X*J+X]>0)U.push(X);return U},cL0=function(J,Q,K){var U=[];for(var X=0;X<J;X++){var Y=-1,q=-1/0;for(var W=0;W<K.length;W++){var G=K[W];if(Q[X*J+G]>q)Y=G,q=Q[X*J+G]}if(Y>0)U.push(Y)}for(var z=0;z<K.length;z++)U[K[z]]=K[z];return U},JM8=function(J,Q,K){var U=cL0(J,Q,K);for(var X=0;X<K.length;X++){var Y=[];for(var q=0;q<U.length;q++)if(U[q]===K[X])Y.push(q);var W=-1,G=-1/0;for(var z=0;z<Y.length;z++){var H=0;for(var F=0;F<Y.length;F++)H+=Q[Y[F]*J+Y[z]];if(H>G)W=z,G=H}K[X]=Y[W]}return U=cL0(J,Q,K),U},lL0=function(J){var Q=this.cy(),K=this.nodes(),U=oF8(J),X={};for(var Y=0;Y<K.length;Y++)X[K[Y].id()]=Y;var q,W,G,z,H,F;q=K.length,W=q*q,G=Array(W);for(var M=0;M<W;M++)G[M]=-1/0;for(var B=0;B<q;B++)for(var O=0;O<q;O++)if(B!==O)G[B*q+O]=tF8(U.distance,K[B],K[O],U.attributes);z=eF8(G,U.preference);for(var R=0;R<q;R++)G[R*q+R]=z;H=Array(W);for(var L=0;L<W;L++)H[L]=0;F=Array(W);for(var D=0;D<W;D++)F[D]=0;var A=Array(q),V=Array(q),N=Array(q);for(var E=0;E<q;E++)A[E]=0,V[E]=0,N[E]=0;var C=Array(q*U.minIterations);for(var j=0;j<C.length;j++)C[j]=0;var $;for($=0;$<U.maxIterations;$++){for(var k=0;k<q;k++){var w=-1/0,P=-1/0,S=-1,T=0;for(var _=0;_<q;_++)if(A[_]=H[k*q+_],T=F[k*q+_]+G[k*q+_],T>=w)P=w,w=T,S=_;else if(T>P)P=T;for(var v=0;v<q;v++)H[k*q+v]=(1-U.damping)*(G[k*q+v]-w)+U.damping*A[v];H[k*q+S]=(1-U.damping)*(G[k*q+S]-P)+U.damping*A[S]}for(var x=0;x<q;x++){var b=0;for(var y=0;y<q;y++)A[y]=F[y*q+x],V[y]=Math.max(0,H[y*q+x]),b+=V[y];b-=V[x],V[x]=H[x*q+x],b+=V[x];for(var u=0;u<q;u++)F[u*q+x]=(1-U.damping)*Math.min(0,b-V[u])+U.damping*A[u];F[x*q+x]=(1-U.damping)*(b-V[x])+U.damping*A[x]}var h=0;for(var p=0;p<q;p++){var r=F[p*q+p]+H[p*q+p]>0?1:0;C[$%U.minIterations*q+p]=r,h+=r}if(h>0&&($>=U.minIterations-1||$==U.maxIterations-1)){var t=0;for(var d=0;d<q;d++){N[d]=0;for(var X0=0;X0<U.minIterations;X0++)N[d]+=C[X0*q+d];if(N[d]===0||N[d]===U.minIterations)t++}if(t===q)break}}var a=ZM8(q,H,F),z0=JM8(q,G,a),J0={};for(var Q0=0;Q0<a.length;Q0++)J0[a[Q0]]=[];for(var e=0;e<K.length;e++){var n=X[K[e].id()],Y0=z0[n];if(Y0!=null)J0[Y0].push(K[e])}var o=Array(a.length);for(var M0=0;M0<a.length;M0++)o[M0]=Q.collection(J0[a[M0]]);return o},QM8,KM8,UM8,ZS=function(){var J=this,Q={},K=0,U=0,X=[],Y=[],q={},W=function(F,M){var B=Y.length-1,O=[],R=J.spawn();while(Y[B].x!=F||Y[B].y!=M)O.push(Y.pop().edge),B--;O.push(Y.pop().edge),O.forEach(function(L){var D=L.connectedNodes().intersection(J);R.merge(L),D.forEach(function(A){var V=A.id(),N=A.connectedEdges().intersection(J);if(R.merge(A),!Q[V].cutVertex)R.merge(N);else R.merge(N.filter(function(E){return E.isLoop()}))})}),X.push(R)},G=function(F,M,B){if(F===B)U+=1;Q[M]={id:K,low:K++,cutVertex:!1};var O=J.getElementById(M).connectedEdges().intersection(J);if(O.size()===0)X.push(J.spawn(J.getElementById(M)));else{var R,L,D,A;O.forEach(function(V){if(R=V.source().id(),L=V.target().id(),D=R===M?L:R,D!==B){if(A=V.id(),!q[A])q[A]=!0,Y.push({x:M,y:D,edge:V});if(!(D in Q)){if(G(F,D,M),Q[M].low=Math.min(Q[M].low,Q[D].low),Q[M].id<=Q[D].low)Q[M].cutVertex=!0,W(M,D)}else Q[M].low=Math.min(Q[M].low,Q[D].id)}})}};J.forEach(function(H){if(H.isNode()){var F=H.id();if(!(F in Q))U=0,G(F,F),Q[F].cutVertex=U>1}});var z=Object.keys(Q).filter(function(H){return Q[H].cutVertex}).map(function(H){return J.getElementById(H)});return{cut:J.spawn(z),components:X}},XM8,JS=function(){var J=this,Q={},K=0,U=[],X=[],Y=J.spawn(J),q=function(G){X.push(G),Q[G]={index:K,low:K++,explored:!1};var z=J.getElementById(G).connectedEdges().intersection(J);if(z.forEach(function(O){var R=O.target().id();if(R!==G){if(!(R in Q))q(R);if(!Q[R].explored)Q[G].low=Math.min(Q[G].low,Q[R].low)}}),Q[G].index===Q[G].low){var H=J.spawn();for(;;){var F=X.pop();if(H.merge(J.getElementById(F)),Q[F].low=Q[G].index,Q[F].explored=!0,F===G)break}var M=H.edgesWith(H),B=H.merge(M);U.push(B),Y=Y.difference(B)}};return J.forEach(function(W){if(W.isNode()){var G=W.id();if(!(G in Q))q(G)}}),{cut:Y,components:U}},YM8,FA0,MA0=0,BA0=1,OA0=2,N5=function(J){if(!(this instanceof N5))return new N5(J);if(this.id="Thenable/1.0.7",this.state=MA0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof J==="function")J.call(this,this.fulfill.bind(this),this.reject.bind(this))},dL0=function(J,Q,K,U){if(J.state===MA0)J.state=Q,J[K]=U,RA0(J);return J},RA0=function(J){if(J.state===BA0)iL0(J,"onFulfilled",J.fulfillValue);else if(J.state===OA0)iL0(J,"onRejected",J.rejectReason)},iL0=function(J,Q,K){if(J[Q].length===0)return;var U=J[Q];J[Q]=[];var X=function(){for(var q=0;q<U.length;q++)U[q](K)};if(typeof setImmediate==="function")setImmediate(X);else setTimeout(X,0)},sL0=function(J,Q,K){return function(U){if(typeof J!=="function")Q[K].call(Q,U);else{var X;try{X=J(U)}catch(Y){Q.reject(Y);return}LA0(Q,X)}}},LA0=function(J,Q){if(J===Q||J.proxy===Q){J.reject(TypeError("cannot resolve promise with itself"));return}var K;if(A7(Q)==="object"&&Q!==null||typeof Q==="function")try{K=Q.then}catch(X){J.reject(X);return}if(typeof K==="function"){var U=!1;try{K.call(Q,function(X){if(U)return;if(U=!0,X===Q)J.reject(TypeError("circular thenable chain"));else LA0(J,X)},function(X){if(U)return;U=!0,J.reject(X)})}catch(X){if(!U)J.reject(X)}return}J.fulfill(Q)},DF,Xi=function(J,Q,K){var U=Ai(J),X=!U,Y=this._private=BZ({duration:1000},Q,K);if(Y.target=J,Y.style=Y.style||Y.css,Y.started=!1,Y.playing=!1,Y.hooked=!1,Y.applying=!1,Y.progress=0,Y.completes=[],Y.frames=[],Y.complete&&$J(Y.complete))Y.completes.push(Y.complete);if(X){var q=J.position();Y.startPosition=Y.startPosition||{x:q.x,y:q.y},Y.startStyle=Y.startStyle||J.cy().style().getAnimationStartStyle(J,Y.style)}if(U){var W=J.pan();Y.startPan={x:W.x,y:W.y},Y.startZoom=J.zoom()}this.length=1,this[0]=this},Wz,qM8,ll,rL0,dl,nL0,il,aL0,sl,oL0,rl,tL0,nl,eL0,al,ZD0,ol,JD0,tl,QD0,el,KD0,Zd,UD0,Jd,XD0,Qd,YD0,Kd,qD0,Ud,WD0,Xd,GD0,Yd,zD0,qd,HD0,Wd,FD0,Gd,MD0,zd,BD0,Hd,OD0,Fd,RD0,Md,LD0,Bd,DD0,Od,ID0,Rd,AD0,Ld,ND0,Dd,ED0,Id,VD0,Ad,PD0,Nd,CD0,Ed,jD0,Vd,SD0,Pd,TD0,Cd,wD0,jd,$D0,Sd,kD0,Td,_D0,wd,fD0,$d,vD0,kd,xD0,_d,bD0,uM8,gM8,fd,yD0,vd,hD0,xd,mD0,bd,uD0,yd,gD0,hd,pD0,rM8,nM8,md,cD0,ud,lD0,tM8,eM8,ZB8,JB8,C9,QB8,FS,z9,y9=function(){return{checks:[]}},d8,Yi,KB8,UB8=function(J,Q){return KB8[J](Q)},XB8,e2=function(J){return J.replace(new RegExp("\\\\("+z9.metaChar+")","g"),function(Q,K){return K})},zq=function(J,Q,K){J[J.length-1]=K},qi,YB8=function(J){var Q,K,U;for(var X=0;X<qi.length;X++){var Y=qi[X],q=Y.name,W=J.match(Y.regexObj);if(W!=null){K=W,Q=Y,U=q;var G=W[0];J=J.substring(G.length);break}}return{expr:Q,match:K,name:U,remaining:J}},qB8=function(J){var Q=J.match(/^\s+/);if(Q){var K=Q[0];J=J.substring(K.length)}return J},WB8=function(J){var Q=this,K=Q.inputText=J,U=Q[0]=y9();Q.length=1,K=qB8(K);for(;;){var X=YB8(K);if(X.expr==null)return j9("The selector `"+J+"`is invalid"),!1;else{var Y=X.match.slice(1),q=X.expr.populate(Q,U,Y);if(q===!1)return!1;else if(q!=null)U=q}if(K=X.remaining,K.match(/^\s*$/))break}var W=Q[Q.length-1];if(Q.currentSubject!=null)W.subject=Q.currentSubject;W.edgeCount=Q.edgeCount,W.compoundCount=Q.compoundCount;for(var G=0;G<Q.length;G++){var z=Q[G];if(z.compoundCount>0&&z.edgeCount>0)return j9("The selector `"+J+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(z.edgeCount>1)return j9("The selector `"+J+"` is invalid because it uses multiple edge selectors"),!1;else if(z.edgeCount===1)j9("The selector `"+J+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},GB8=function(){if(this.toStringCache!=null)return this.toStringCache;var J=function(z){if(z==null)return"";else return z},Q=function(z){if(XZ(z))return'"'+z+'"';else return J(z)},K=function(z){return" "+z+" "},U=function(z,H){var{type:F,value:M}=z;switch(F){case d8.GROUP:{var B=J(M);return B.substring(0,B.length-1)}case d8.DATA_COMPARE:{var{field:O,operator:R}=z;return"["+O+K(J(R))+Q(M)+"]"}case d8.DATA_BOOL:{var{operator:L,field:D}=z;return"["+J(L)+D+"]"}case d8.DATA_EXIST:{var A=z.field;return"["+A+"]"}case d8.META_COMPARE:{var{operator:V,field:N}=z;return"[["+N+K(J(V))+Q(M)+"]]"}case d8.STATE:return M;case d8.ID:return"#"+M;case d8.CLASS:return"."+M;case d8.PARENT:case d8.CHILD:return X(z.parent,H)+K(">")+X(z.child,H);case d8.ANCESTOR:case d8.DESCENDANT:return X(z.ancestor,H)+" "+X(z.descendant,H);case d8.COMPOUND_SPLIT:{var E=X(z.left,H),C=X(z.subject,H),j=X(z.right,H);return E+(E.length>0?" ":"")+C+j}case d8.TRUE:return""}},X=function(z,H){return z.checks.reduce(function(F,M,B){return F+(H===z&&B===0?"$":"")+U(M,H)},"")},Y="";for(var q=0;q<this.length;q++){var W=this[q];if(Y+=X(W,W.subject),this.length>1&&q<this.length-1)Y+=", "}return this.toStringCache=Y,Y},zB8,VA0=function(J,Q,K){var U,X=XZ(J),Y=k8(J),q=XZ(K),W,G,z=!1,H=!1,F=!1;if(Q.indexOf("!")>=0)Q=Q.replace("!",""),H=!0;if(Q.indexOf("@")>=0)Q=Q.replace("@",""),z=!0;if(X||q||z)W=!X&&!Y?"":""+J,G=""+K;if(z)J=W=W.toLowerCase(),K=G=G.toLowerCase();switch(Q){case"*=":U=W.indexOf(G)>=0;break;case"$=":U=W.indexOf(G,W.length-G.length)>=0;break;case"^=":U=W.indexOf(G)===0;break;case"=":U=J===K;break;case">":F=!0,U=J>K;break;case">=":F=!0,U=J>=K;break;case"<":F=!0,U=J<K;break;case"<=":F=!0,U=J<=K;break;default:U=!1;break}if(H&&(J!=null||!F))U=!U;return U},HB8=function(J,Q){switch(Q){case"?":return J?!0:!1;case"!":return J?!1:!0;case"^":return J===void 0}},FB8=function(J){return J!==void 0},fi=function(J,Q){return J.data(Q)},MB8=function(J,Q){return J[Q]()},uJ,qJ=function(J,Q){return J.checks.every(function(K){return uJ[K.type](K,Q)})},BB8=function(J){var Q=this;if(Q.length===1&&Q[0].checks.length===1&&Q[0].checks[0].type===d8.ID)return J.getElementById(Q[0].checks[0].value).collection();var K=function(X){for(var Y=0;Y<Q.length;Y++){var q=Q[Y];if(qJ(q,X))return!0}return!1};if(Q.text()==null)K=function(){return!0};return J.filter(K)},OB8=function(J){var Q=this;for(var K=0;K<Q.length;K++){var U=Q[K];if(qJ(U,J))return!0}return!1},RB8,Nq=function(J){if(this.inputText=J,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,J==null||XZ(J)&&J.match(/^\s*$/));else if(x4(J))this.addQuery({checks:[{type:d8.COLLECTION,value:J.collection()}]});else if($J(J))this.addQuery({checks:[{type:d8.FILTER,value:J}]});else if(XZ(J)){if(!this.parse(J))this.invalid=!0}else AJ("A selector must be created from a string; found ")},Eq,Rq,LK=function(J,Q){return function(U,X,Y,q){var W=U,G=this,z;if(W==null)z="";else if(x4(W)&&W.length===1)z=W.id();if(G.length===1&&z){var H=G[0]._private,F=H.traversalCache=H.traversalCache||{},M=F[Q]=F[Q]||[],B=Yz(z),O=M[B];if(O)return O;else return M[B]=J.call(G,U,X,Y,q)}else return J.call(G,U,X,Y,q)}},RF,BD,jA0,DB8,cS,A5,SA0,TA0=function(J,Q,K){for(var U=0;U<J.length;U++){var X=J[U];if(!X.locked()){var Y=X._private.position,q={x:Q.x!=null?Q.x-Y.x:0,y:Q.y!=null?Q.y-Y.y:0};if(X.isParent()&&!(q.x===0&&q.y===0))X.children().shift(q,K);X.dirtyBoundingBoxCache()}}},dD0,IB8,MF,jq,RK=function(J){if(J===1/0||J===-1/0)return 0;return J},I5=function(J,Q,K,U,X){if(U-Q===0||X-K===0)return;if(Q==null||K==null||U==null||X==null)return;J.x1=Q<J.x1?Q:J.x1,J.x2=U>J.x2?U:J.x2,J.y1=K<J.y1?K:J.y1,J.y2=X>J.y2?X:J.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},Fq=function(J,Q){if(Q==null)return J;return I5(J,Q.x1,Q.y1,Q.x2,Q.y2)},oL=function(J,Q,K){return r6(J,Q,K)},QS=function(J,Q,K){if(Q.cy().headless())return;var U=Q._private,X=U.rstyle,Y=X.arrowWidth/2,q=Q.pstyle(K+"-arrow-shape").value,W,G;if(q!=="none"){if(K==="source")W=X.srcX,G=X.srcY;else if(K==="target")W=X.tgtX,G=X.tgtY;else W=X.midX,G=X.midY;var z=U.arrowBounds=U.arrowBounds||{},H=z[K]=z[K]||{};H.x1=W-Y,H.y1=G-Y,H.x2=W+Y,H.y2=G+Y,H.w=H.x2-H.x1,H.h=H.y2-H.y1,zS(H,1),I5(J,H.x1,H.y1,H.x2,H.y2)}},pd=function(J,Q,K){if(Q.cy().headless())return;var U;if(K)U=K+"-";else U="";var X=Q._private,Y=X.rstyle,q=Q.pstyle(U+"label").strValue;if(q){var W=Q.pstyle("text-halign"),G=Q.pstyle("text-valign"),z=oL(Y,"labelWidth",K),H=oL(Y,"labelHeight",K),F=oL(Y,"labelX",K),M=oL(Y,"labelY",K),B=Q.pstyle(U+"text-margin-x").pfValue,O=Q.pstyle(U+"text-margin-y").pfValue,R=Q.isEdge(),L=Q.pstyle(U+"text-rotation"),D=Q.pstyle("text-outline-width").pfValue,A=Q.pstyle("text-border-width").pfValue,V=A/2,N=Q.pstyle("text-background-padding").pfValue,E=2,C=H,j=z,$=j/2,k=C/2,w,P,S,T;if(R)w=F-$,P=F+$,S=M-k,T=M+k;else{switch(W.value){case"left":w=F-j,P=F;break;case"center":w=F-$,P=F+$;break;case"right":w=F,P=F+j;break}switch(G.value){case"top":S=M-C,T=M;break;case"center":S=M-k,T=M+k;break;case"bottom":S=M,T=M+C;break}}var _=B-Math.max(D,V)-N-E,v=B+Math.max(D,V)+N+E,x=O-Math.max(D,V)-N-E,b=O+Math.max(D,V)+N+E;w+=_,P+=v,S+=x,T+=b;var y=K||"main",u=X.labelBounds,h=u[y]=u[y]||{};h.x1=w,h.y1=S,h.x2=P,h.y2=T,h.w=P-w,h.h=T-S,h.leftPad=_,h.rightPad=v,h.topPad=x,h.botPad=b;var p=R&&L.strValue==="autorotate",r=L.pfValue!=null&&L.pfValue!==0;if(p||r){var t=p?oL(X.rstyle,"labelAngle",K):L.pfValue,d=Math.cos(t),X0=Math.sin(t),a=(w+P)/2,z0=(S+T)/2;if(!R){switch(W.value){case"left":a=P;break;case"right":a=w;break}switch(G.value){case"top":z0=T;break;case"bottom":z0=S;break}}var J0=function(V0,i){return V0=V0-a,i=i-z0,{x:V0*d-i*X0+a,y:V0*X0+i*d+z0}},Q0=J0(w,S),e=J0(w,T),n=J0(P,S),Y0=J0(P,T);w=Math.min(Q0.x,e.x,n.x,Y0.x),P=Math.max(Q0.x,e.x,n.x,Y0.x),S=Math.min(Q0.y,e.y,n.y,Y0.y),T=Math.max(Q0.y,e.y,n.y,Y0.y)}var o=y+"Rot",M0=u[o]=u[o]||{};M0.x1=w,M0.y1=S,M0.x2=P,M0.y2=T,M0.w=P-w,M0.h=T-S,I5(J,w,S,P,T),I5(X.labelBounds.all,w,S,P,T)}return J},iD0=function(J,Q){if(Q.cy().headless())return;var K=Q.pstyle("outline-opacity").value,U=Q.pstyle("outline-width").value,X=Q.pstyle("outline-offset").value,Y=U+X;wA0(J,Q,K,Y,"outside",Y/2)},wA0=function(J,Q,K,U,X,Y){if(K===0||U<=0||X==="inside")return;var q=Q.cy(),W=Q.pstyle("shape").value,G=q.renderer().nodeShapes[W],z=Q.position(),H=z.x,F=z.y,M=Q.width(),B=Q.height();if(G.hasMiterBounds){if(X==="center")U/=2;var O=G.miterBounds(H,F,M,B,U);Fq(J,O)}else if(Y!=null&&Y>0)HS(J,[Y,Y,Y,Y])},AB8=function(J,Q){if(Q.cy().headless())return;var K=Q.pstyle("border-opacity").value,U=Q.pstyle("border-width").pfValue,X=Q.pstyle("border-position").value;wA0(J,Q,K,U,X)},NB8=function(J,Q){var K=J._private.cy,U=K.styleEnabled(),X=K.headless(),Y=X6(),q=J._private,W=J.isNode(),G=J.isEdge(),z,H,F,M,B,O,R=q.rstyle,L=W&&U?J.pstyle("bounds-expansion").pfValue:[0],D=function(K0){return K0.pstyle("display").value!=="none"},A=!U||D(J)&&(!G||D(J.source())&&D(J.target()));if(A){var V=0,N=0;if(U&&Q.includeOverlays){if(V=J.pstyle("overlay-opacity").value,V!==0)N=J.pstyle("overlay-padding").value}var E=0,C=0;if(U&&Q.includeUnderlays){if(E=J.pstyle("underlay-opacity").value,E!==0)C=J.pstyle("underlay-padding").value}var j=Math.max(N,C),$=0,k=0;if(U)$=J.pstyle("width").pfValue,k=$/2;if(W&&Q.includeNodes){var w=J.position();B=w.x,O=w.y;var P=J.outerWidth(),S=P/2,T=J.outerHeight(),_=T/2;if(z=B-S,H=B+S,F=O-_,M=O+_,I5(Y,z,F,H,M),U)iD0(Y,J);if(U&&Q.includeOutlines&&!X)iD0(Y,J);if(U)AB8(Y,J)}else if(G&&Q.includeEdges)if(U&&!X){var v=J.pstyle("curve-style").strValue;if(z=Math.min(R.srcX,R.midX,R.tgtX),H=Math.max(R.srcX,R.midX,R.tgtX),F=Math.min(R.srcY,R.midY,R.tgtY),M=Math.max(R.srcY,R.midY,R.tgtY),z-=k,H+=k,F-=k,M+=k,I5(Y,z,F,H,M),v==="haystack"){var x=R.haystackPts;if(x&&x.length===2){if(z=x[0].x,F=x[0].y,H=x[1].x,M=x[1].y,z>H){var b=z;z=H,H=b}if(F>M){var y=F;F=M,M=y}I5(Y,z-k,F-k,H+k,M+k)}}else if(v==="bezier"||v==="unbundled-bezier"||Mq(v,"segments")||Mq(v,"taxi")){var u;switch(v){case"bezier":case"unbundled-bezier":u=R.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":u=R.linePts;break}if(u!=null)for(var h=0;h<u.length;h++){var p=u[h];z=p.x-k,H=p.x+k,F=p.y-k,M=p.y+k,I5(Y,z,F,H,M)}}}else{var r=J.source(),t=r.position(),d=J.target(),X0=d.position();if(z=t.x,H=X0.x,F=t.y,M=X0.y,z>H){var a=z;z=H,H=a}if(F>M){var z0=F;F=M,M=z0}z-=k,H+=k,F-=k,M+=k,I5(Y,z,F,H,M)}if(U&&Q.includeEdges&&G)QS(Y,J,"mid-source"),QS(Y,J,"mid-target"),QS(Y,J,"source"),QS(Y,J,"target");if(U){var J0=J.pstyle("ghost").value==="yes";if(J0){var Q0=J.pstyle("ghost-offset-x").pfValue,e=J.pstyle("ghost-offset-y").pfValue;I5(Y,Y.x1+Q0,Y.y1+e,Y.x2+Q0,Y.y2+e)}}var n=q.bodyBounds=q.bodyBounds||{};if(kL0(n,Y),HS(n,L),zS(n,1),U)z=Y.x1,H=Y.x2,F=Y.y1,M=Y.y2,I5(Y,z-j,F-j,H+j,M+j);var Y0=q.overlayBounds=q.overlayBounds||{};kL0(Y0,Y),HS(Y0,L),zS(Y0,1);var o=q.labelBounds=q.labelBounds||{};if(o.all!=null)QF8(o.all);else o.all=X6();if(U&&Q.includeLabels){if(Q.includeMainLabels)pd(Y,J,null);if(G){if(Q.includeSourceLabels)pd(Y,J,"source");if(Q.includeTargetLabels)pd(Y,J,"target")}}}if(Y.x1=RK(Y.x1),Y.y1=RK(Y.y1),Y.x2=RK(Y.x2),Y.y2=RK(Y.y2),Y.w=RK(Y.x2-Y.x1),Y.h=RK(Y.y2-Y.y1),Y.w>0&&Y.h>0&&A)HS(Y,L),zS(Y,1);return Y},$A0=function(J){var Q=0,K=function(Y){return(Y?1:0)<<Q++},U=0;return U+=K(J.incudeNodes),U+=K(J.includeEdges),U+=K(J.includeLabels),U+=K(J.includeMainLabels),U+=K(J.includeSourceLabels),U+=K(J.includeTargetLabels),U+=K(J.includeOverlays),U+=K(J.includeOutlines),U},kA0=function(J){var Q=function(q){return Math.round(q)};if(J.isEdge()){var K=J.source().position(),U=J.target().position();return CL0([Q(K.x),Q(K.y),Q(U.x),Q(U.y)])}else{var X=J.position();return CL0([Q(X.x),Q(X.y)])}},sD0=function(J,Q){var K=J._private,U,X=J.isEdge(),Y=Q==null?rD0:$A0(Q),q=Y===rD0;if(K.bbCache==null)U=NB8(J,OD),K.bbCache=U,K.bbCachePosKey=kA0(J);else U=K.bbCache;if(!q){var W=J.isNode();if(U=X6(),Q.includeNodes&&W||Q.includeEdges&&!W)if(Q.includeOverlays)Fq(U,K.overlayBounds);else Fq(U,K.bodyBounds);if(Q.includeLabels)if(Q.includeMainLabels&&(!X||Q.includeSourceLabels&&Q.includeTargetLabels))Fq(U,K.labelBounds.all);else{if(Q.includeMainLabels)Fq(U,K.labelBounds.mainRot);if(Q.includeSourceLabels)Fq(U,K.labelBounds.sourceRot);if(Q.includeTargetLabels)Fq(U,K.labelBounds.targetRot)}U.w=U.x2-U.x1,U.h=U.y2-U.y1}return U},OD,rD0,nD0,EB8,UD,jD,_A0=function(J){J.uppercaseName=zL0(J.name),J.autoName="auto"+J.uppercaseName,J.labelName="label"+J.uppercaseName,J.outerName="outer"+J.uppercaseName,J.uppercaseOuterName=zL0(J.outerName),UD[J.name]=function(){var K=this[0],U=K._private,X=U.cy,Y=X._private.styleEnabled;if(K)if(Y){if(K.isParent())return K.updateCompoundBounds(),U[J.autoName]||0;var q=K.pstyle(J.name);switch(q.strValue){case"label":return K.recalculateRenderedStyle(),U.rstyle[J.labelName]||0;default:return q.pfValue}}else return 1},UD["outer"+J.uppercaseName]=function(){var K=this[0],U=K._private,X=U.cy,Y=X._private.styleEnabled;if(K)if(Y){var q=K[J.name](),W=K.pstyle("border-position").value,G;if(W==="center")G=K.pstyle("border-width").pfValue;else if(W==="outside")G=2*K.pstyle("border-width").pfValue;else G=0;var z=2*K.padding();return q+G+z}else return 1},UD["rendered"+J.uppercaseName]=function(){var K=this[0];if(K){var U=K[J.name]();return U*this.cy().zoom()}},UD["rendered"+J.uppercaseOuterName]=function(){var K=this[0];if(K){var U=K[J.outerName]();return U*this.cy().zoom()}}},VB8,PB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace())return Q(J)},CB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace()){var K=J.cy();return yS(Q(J),K.zoom(),K.pan())}},jB8=function(J,Q){if(J.isEdge()&&J.takesUpSpace()){var K=J.cy(),U=K.pan(),X=K.zoom();return Q(J).map(function(Y){return yS(Y,X,U)})}},SB8=function(J){return J.renderer().getControlPoints(J)},TB8=function(J){return J.renderer().getSegmentPoints(J)},wB8=function(J){return J.renderer().getSourceEndpoint(J)},$B8=function(J){return J.renderer().getTargetEndpoint(J)},kB8=function(J){return J.renderer().getEdgeMidpoint(J)},aD0,_B8=function(J){return"rendered"+J[0].toUpperCase()+J.substr(1)},fB8,vB8,fA0=function(J,Q){this.recycle(J,Q)},vA0,xB8=".*",xA0,oD0,bB8,Vq,bA0=function(J,Q,K,U,X,Y,q){if($J(U))X=U,U=null;if(q)if(Y==null)Y=q;else Y=BZ({},Y,q);var W=l9(K)?K:K.split(/\s+/);for(var G=0;G<W.length;G++){var z=W[G];if(Dq(z))continue;var H=z.match(vA0);if(H){var F=H[1],M=H[2]?H[2]:null,B=Q(J,z,F,M,U,X,Y);if(B===!1)break}}},tD0=function(J,Q){return J.addEventFields(J.context,Q),new fA0(Q.type,Q)},yB8=function(J,Q,K){if(cH8(K)){Q(J,K);return}else if(H9(K)){Q(J,tD0(J,K));return}var U=l9(K)?K:K.split(/\s+/);for(var X=0;X<U.length;X++){var Y=U[X];if(Dq(Y))continue;var q=Y.match(vA0);if(q){var W=q[1],G=q[2]?q[2]:null,z=tD0(J,{type:W,namespace:G,target:J.context});Q(J,z)}}},hB8,US=function(J){if(XZ(J))return new Nq(J);else return J},yA0,hA0,D9,mB8,mA0=function(J,Q){var K=J.cy(),U=K.hasCompoundNodes();function X(z){var H=z.pstyle("z-compound-depth");if(H.value==="auto")return U?z.zDepth():0;else if(H.value==="bottom")return-1;else if(H.value==="top")return Vi;return 0}var Y=X(J)-X(Q);if(Y!==0)return Y;function q(z){var H=z.pstyle("z-index-compare");if(H.value==="auto")return z.isNode()?1:0;return 0}var W=q(J)-q(Q);if(W!==0)return W;var G=J.pstyle("z-index").value-Q.pstyle("z-index").value;if(G!==0)return G;return J.poolIndex()-Q.poolIndex()},SS,uB8=function(){var J="undefined",Q=(typeof Symbol>"u"?"undefined":A7(Symbol))!=J&&A7(Symbol.iterator)!=J;if(Q)SS[Symbol.iterator]=function(){var K=this,U={value:void 0,done:!1},X=0,Y=this.length;return yI0({next:function(){if(X<Y)U.value=K[X++];else U.value=void 0,U.done=!0;return U}},Symbol.iterator,function(){return this})}},gB8,MS,WQ,IF,pB8,cB8,lB8,dB8,Lq,SQ,ZI0=function(J){return function(K){var U=this,X=[];for(var Y=0;Y<U.length;Y++){var q=U[Y];if(!q.isNode())continue;var W=!1,G=q.connectedEdges();for(var z=0;z<G.length;z++){var H=G[z],F=H.source(),M=H.target();if(J.noIncomingEdges&&M===q&&F!==q||J.noOutgoingEdges&&F===q&&M!==q){W=!0;break}}if(!W)X.push(q)}return this.spawn(X,!0).filter(K)}},JI0=function(J){return function(Q){var K=this,U=[];for(var X=0;X<K.length;X++){var Y=K[X];if(!Y.isNode())continue;var q=Y.connectedEdges();for(var W=0;W<q.length;W++){var G=q[W],z=G.source(),H=G.target();if(J.outgoing&&z===Y)U.push(G),U.push(H);else if(J.incoming&&H===Y)U.push(G),U.push(z)}}return this.spawn(U,!0).filter(Q)}},QI0=function(J){return function(Q){var K=this,U=[],X={};for(;;){var Y=J.outgoing?K.outgoers():K.incomers();if(Y.length===0)break;var q=!1;for(var W=0;W<Y.length;W++){var G=Y[W],z=G.id();if(!X[z])X[z]=!0,U.push(G),q=!0}if(!q)break;K=Y}return this.spawn(U,!0).filter(Q)}},GQ=function(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(J===void 0){AJ("A collection must have a reference to the core");return}var X=new OY,Y=!1;if(!Q)Q=[];else if(Q.length>0&&H9(Q[0])&&!AD(Q[0])){Y=!0;var q=[],W=new LF;for(var G=0,z=Q.length;G<z;G++){var H=Q[G];if(H.data==null)H.data={};var F=H.data;if(F.id==null)F.id=ZA0();else if(J.hasElementWithId(F.id)||W.has(F.id))continue;var M=new bS(J,H,!1);q.push(M),W.add(F.id)}Q=q}this.length=0;for(var B=0,O=Q.length;B<O;B++){var R=Q[B][0];if(R==null)continue;var L=R._private.data.id;if(!K||!X.has(L)){if(K)X.set(L,{index:this.length,ele:R});this[this.length]=R,this.length++}}if(this._private={eles:this,cy:J,get map(){if(this.lazyMap==null)this.rebuildMap();return this.lazyMap},set map(D){this.lazyMap=D},rebuildMap:function(){var A=this.lazyMap=new OY,V=this.eles;for(var N=0;N<V.length;N++){var E=V[N];A.set(E.id(),{index:N,ele:E})}}},K)this._private.map=X;if(Y&&!U)this.restore()},o9,iB8,rB8,a9=function(J,Q,K,U){var X=sB8(J,Q,K,U);return function(Y,q,W){return Y+(q-Y)*X(W)}},BS,oB8,tB8,XS=function(J){if(XZ(J))return new Nq(J);else return J},gA0,Wi,OS,eB8,ZO8,Gi,RS,y7,YD="t",JO8="f",SD,yi,gU,sS,hi,K7,rS,b7=function(J){if(!(this instanceof b7))return new b7(J);if(!Ai(J)){AJ("A style must have a core reference");return}this._private={cy:J,coreStyle:{}},this.length=0,this.resetToDefault()},TQ,QO8,KO8="single",Gz,RD,LD=function(J){var Q=this;J=BZ({},J);var K=J.container;if(K&&!NS(K)&&NS(K[0]))K=K[0];var U=K?K._cyreg:null;if(U=U||{},U&&U.cy)U.cy.destroy(),U={};var X=U.readies=U.readies||[];if(K)K._cyreg=U;U.cy=Q;var Y=D7!==void 0&&K!==void 0&&!J.headless,q=J;q.layout=BZ({name:Y?"grid":"null"},q.layout),q.renderer=BZ({name:Y?"canvas":"null"},q.renderer);var W=function(B,O,R){if(O!==void 0)return O;else if(R!==void 0)return R;else return B},G=this._private={container:K,ready:!1,options:q,elements:new GQ(this),listeners:[],aniEles:new GQ(this),data:q.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:0.00000000000000000000000000000000000000000000000001,maxZoom:100000000000000000000000000000000000000000000000000,zoomingEnabled:W(!0,q.zoomingEnabled),userZoomingEnabled:W(!0,q.userZoomingEnabled),panningEnabled:W(!0,q.panningEnabled),userPanningEnabled:W(!0,q.userPanningEnabled),boxSelectionEnabled:W(!0,q.boxSelectionEnabled),autolock:W(!1,q.autolock,q.autolockNodes),autoungrabify:W(!1,q.autoungrabify,q.autoungrabifyNodes),autounselectify:W(!1,q.autounselectify),styleEnabled:q.styleEnabled===void 0?Y:q.styleEnabled,zoom:k8(q.zoom)?q.zoom:1,pan:{x:H9(q.pan)&&k8(q.pan.x)?q.pan.x:0,y:H9(q.pan)&&k8(q.pan.y)?q.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:W(250,q.multiClickDebounceTime)};this.createEmitter(),this.selectionType(q.selectionType),this.zoomRange({min:q.minZoom,max:q.maxZoom});var z=function(B,O){var R=B.some(iH8);if(R)return DF.all(B).then(O);else O(B)};if(G.styleEnabled)Q.setStyle([]);var H=BZ({},q,q.renderer);Q.initRenderer(H);var F=function(B,O,R){Q.notifications(!1);var L=Q.mutableElements();if(L.length>0)L.remove();if(B!=null){if(H9(B)||l9(B))Q.add(B)}Q.one("layoutready",function(A){Q.notifications(!0),Q.emit(A),Q.one("load",O),Q.emitAndNotify("load")}).one("layoutstop",function(){Q.one("done",R),Q.emit("done")});var D=BZ({},Q._private.options.layout);D.eles=Q.elements(),Q.layout(D).run()};z([q.style,q.elements],function(M){var B=M[0],O=M[1];if(G.styleEnabled)Q.style().append(B);F(O,function(){if(Q.startAnimationLoop(),G.ready=!0,$J(q.ready))Q.on("ready",q.ready);for(var R=0;R<X.length;R++){var L=X[R];Q.on("ready",L)}if(U)U.readies=[];Q.emit("ready")},q.done)})},TS,UO8,XO8,QF=function(J){return J.scratch("breadthfirst")},GI0=function(J,Q){return J.scratch("breadthfirst",Q)},YO8,qO8,ld,WO8,GO8=function(J,Q,K){var U=K.eles.edges(),X=K.eles.nodes(),Y=X6(K.boundingBox?K.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),q={isCompound:J.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:X.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:U.size(),temperature:K.initialTemp,clientWidth:Y.w,clientHeight:Y.h,boundingBox:Y},W=K.eles.components(),G={};for(var z=0;z<W.length;z++){var H=W[z];for(var F=0;F<H.length;F++){var M=H[F];G[M.id()]=z}}for(var z=0;z<q.nodeSize;z++){var B=X[z],O=B.layoutDimensions(K),R={};R.isLocked=B.locked(),R.id=B.data("id"),R.parentId=B.data("parent"),R.cmptId=G[B.id()],R.children=[],R.positionX=B.position("x"),R.positionY=B.position("y"),R.offsetX=0,R.offsetY=0,R.height=O.w,R.width=O.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(B.style("padding")),R.padRight=parseFloat(B.style("padding")),R.padTop=parseFloat(B.style("padding")),R.padBottom=parseFloat(B.style("padding")),R.nodeRepulsion=$J(K.nodeRepulsion)?K.nodeRepulsion(B):K.nodeRepulsion,q.layoutNodes.push(R),q.idToIndex[R.id]=z}var L=[],D=0,A=-1,V=[];for(var z=0;z<q.nodeSize;z++){var B=q.layoutNodes[z],N=B.parentId;if(N!=null)q.layoutNodes[q.idToIndex[N]].children.push(B.id);else L[++A]=B.id,V.push(B.id)}q.graphSet.push(V);while(D<=A){var E=L[D++],C=q.idToIndex[E],M=q.layoutNodes[C],j=M.children;if(j.length>0){q.graphSet.push(j);for(var z=0;z<j.length;z++)L[++A]=j[z]}}for(var z=0;z<q.graphSet.length;z++){var $=q.graphSet[z];for(var F=0;F<$.length;F++){var k=q.idToIndex[$[F]];q.indexToGraph[k]=z}}for(var z=0;z<q.edgeSize;z++){var w=U[z],P={};P.id=w.data("id"),P.sourceId=w.data("source"),P.targetId=w.data("target");var S=$J(K.idealEdgeLength)?K.idealEdgeLength(w):K.idealEdgeLength,T=$J(K.edgeElasticity)?K.edgeElasticity(w):K.edgeElasticity,_=q.idToIndex[P.sourceId],v=q.idToIndex[P.targetId],x=q.indexToGraph[_],b=q.indexToGraph[v];if(x!=b){var y=zO8(P.sourceId,P.targetId,q),u=q.graphSet[y],h=0,R=q.layoutNodes[_];while(u.indexOf(R.id)===-1)R=q.layoutNodes[q.idToIndex[R.parentId]],h++;R=q.layoutNodes[v];while(u.indexOf(R.id)===-1)R=q.layoutNodes[q.idToIndex[R.parentId]],h++;S*=h*K.nestingFactor}P.idealLength=S,P.elasticity=T,q.layoutEdges.push(P)}return q},zO8=function(J,Q,K){var U=dA0(J,Q,0,K);if(2>U.count)return 0;else return U.graph},dA0=function(J,Q,K,U){var X=U.graphSet[K];if(-1<X.indexOf(J)&&-1<X.indexOf(Q))return{count:2,graph:K};var Y=0;for(var q=0;q<X.length;q++){var W=X[q],G=U.idToIndex[W],z=U.layoutNodes[G].children;if(z.length===0)continue;var H=U.indexToGraph[U.idToIndex[z[0]]],F=dA0(J,Q,H,U);if(F.count===0)continue;else if(F.count===1){if(Y++,Y===2)break}else return F}return{count:Y,graph:K}},HO8,FO8=function(J,Q){var{clientWidth:K,clientHeight:U}=J;for(var X=0;X<J.nodeSize;X++){var Y=J.layoutNodes[X];if(Y.children.length===0&&!Y.isLocked)Y.positionX=Math.random()*K,Y.positionY=Math.random()*U}},iA0=function(J,Q,K){var U=J.boundingBox,X={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};if(Q.boundingBox)K.forEach(function(Y){var q=J.layoutNodes[J.idToIndex[Y.data("id")]];X.x1=Math.min(X.x1,q.positionX),X.x2=Math.max(X.x2,q.positionX),X.y1=Math.min(X.y1,q.positionY),X.y2=Math.max(X.y2,q.positionY)}),X.w=X.x2-X.x1,X.h=X.y2-X.y1;return function(Y,q){var W=J.layoutNodes[J.idToIndex[Y.data("id")]];if(Q.boundingBox){var G=X.w===0?0.5:(W.positionX-X.x1)/X.w,z=X.h===0?0.5:(W.positionY-X.y1)/X.h;return{x:U.x1+G*U.w,y:U.y1+z*U.h}}else return{x:W.positionX,y:W.positionY}}},MO8=function(J,Q,K){var U=K.layout,X=K.eles.nodes(),Y=iA0(J,K,X);if(X.positions(Y),J.ready!==!0)J.ready=!0,U.one("layoutready",K.ready),U.emit({type:"layoutready",layout:this})},BO8=function(J,Q,K){OO8(J,Q),DO8(J),IO8(J,Q),AO8(J),NO8(J)},OO8=function(J,Q){for(var K=0;K<J.graphSet.length;K++){var U=J.graphSet[K],X=U.length;for(var Y=0;Y<X;Y++){var q=J.layoutNodes[J.idToIndex[U[Y]]];for(var W=Y+1;W<X;W++){var G=J.layoutNodes[J.idToIndex[U[W]]];RO8(q,G,J,Q)}}}},zI0=function(J){return-1+2*J*Math.random()},RO8=function(J,Q,K,U){var X=J.cmptId,Y=Q.cmptId;if(X!==Y&&!K.isCompound)return;var q=Q.positionX-J.positionX,W=Q.positionY-J.positionY,G=1;if(q===0&&W===0)q=zI0(G),W=zI0(G);var z=LO8(J,Q,q,W);if(z>0)var H=U.nodeOverlap*z,F=Math.sqrt(q*q+W*W),M=H*q/F,B=H*W/F;else var O=wS(J,q,W),R=wS(Q,-1*q,-1*W),L=R.x-O.x,D=R.y-O.y,A=L*L+D*D,F=Math.sqrt(A),H=(J.nodeRepulsion+Q.nodeRepulsion)/A,M=H*L/F,B=H*D/F;if(!J.isLocked)J.offsetX-=M,J.offsetY-=B;if(!Q.isLocked)Q.offsetX+=M,Q.offsetY+=B;return},LO8=function(J,Q,K,U){if(K>0)var X=J.maxX-Q.minX;else var X=Q.maxX-J.minX;if(U>0)var Y=J.maxY-Q.minY;else var Y=Q.maxY-J.minY;if(X>=0&&Y>=0)return Math.sqrt(X*X+Y*Y);else return 0},wS=function(J,Q,K){var{positionX:U,positionY:X}=J,Y=J.height||1,q=J.width||1,W=K/Q,G=Y/q,z={};if(Q===0&&0<K)return z.x=U,z.y=X+Y/2,z;if(Q===0&&0>K)return z.x=U,z.y=X+Y/2,z;if(0<Q&&-1*G<=W&&W<=G)return z.x=U+q/2,z.y=X+q*K/2/Q,z;if(0>Q&&-1*G<=W&&W<=G)return z.x=U-q/2,z.y=X-q*K/2/Q,z;if(0<K&&(W<=-1*G||W>=G))return z.x=U+Y*Q/2/K,z.y=X+Y/2,z;if(0>K&&(W<=-1*G||W>=G))return z.x=U-Y*Q/2/K,z.y=X-Y/2,z;return z},DO8=function(J,Q){for(var K=0;K<J.edgeSize;K++){var U=J.layoutEdges[K],X=J.idToIndex[U.sourceId],Y=J.layoutNodes[X],q=J.idToIndex[U.targetId],W=J.layoutNodes[q],G=W.positionX-Y.positionX,z=W.positionY-Y.positionY;if(G===0&&z===0)continue;var H=wS(Y,G,z),F=wS(W,-1*G,-1*z),M=F.x-H.x,B=F.y-H.y,O=Math.sqrt(M*M+B*B),R=Math.pow(U.idealLength-O,2)/U.elasticity;if(O!==0)var L=R*M/O,D=R*B/O;else var L=0,D=0;if(!Y.isLocked)Y.offsetX+=L,Y.offsetY+=D;if(!W.isLocked)W.offsetX-=L,W.offsetY-=D}},IO8=function(J,Q){if(Q.gravity===0)return;var K=1;for(var U=0;U<J.graphSet.length;U++){var X=J.graphSet[U],Y=X.length;if(U===0)var q=J.clientHeight/2,W=J.clientWidth/2;else var G=J.layoutNodes[J.idToIndex[X[0]]],z=J.layoutNodes[J.idToIndex[G.parentId]],q=z.positionX,W=z.positionY;for(var H=0;H<Y;H++){var F=J.layoutNodes[J.idToIndex[X[H]]];if(F.isLocked)continue;var M=q-F.positionX,B=W-F.positionY,O=Math.sqrt(M*M+B*B);if(O>K){var R=Q.gravity*M/O,L=Q.gravity*B/O;F.offsetX+=R,F.offsetY+=L}}}},AO8=function(J,Q){var K=[],U=0,X=-1;K.push.apply(K,J.graphSet[0]),X+=J.graphSet[0].length;while(U<=X){var Y=K[U++],q=J.idToIndex[Y],W=J.layoutNodes[q],G=W.children;if(0<G.length&&!W.isLocked){var{offsetX:z,offsetY:H}=W;for(var F=0;F<G.length;F++){var M=J.layoutNodes[J.idToIndex[G[F]]];M.offsetX+=z,M.offsetY+=H,K[++X]=G[F]}W.offsetX=0,W.offsetY=0}}},NO8=function(J,Q){for(var K=0;K<J.nodeSize;K++){var U=J.layoutNodes[K];if(0<U.children.length)U.maxX=void 0,U.minX=void 0,U.maxY=void 0,U.minY=void 0}for(var K=0;K<J.nodeSize;K++){var U=J.layoutNodes[K];if(0<U.children.length||U.isLocked)continue;var X=EO8(U.offsetX,U.offsetY,J.temperature);U.positionX+=X.x,U.positionY+=X.y,U.offsetX=0,U.offsetY=0,U.minX=U.positionX-U.width,U.maxX=U.positionX+U.width,U.minY=U.positionY-U.height,U.maxY=U.positionY+U.height,sA0(U,J)}for(var K=0;K<J.nodeSize;K++){var U=J.layoutNodes[K];if(0<U.children.length&&!U.isLocked)U.positionX=(U.maxX+U.minX)/2,U.positionY=(U.maxY+U.minY)/2,U.width=U.maxX-U.minX,U.height=U.maxY-U.minY}},EO8=function(J,Q,K){var U=Math.sqrt(J*J+Q*Q);if(U>K)var X={x:K*J/U,y:K*Q/U};else var X={x:J,y:Q};return X},sA0=function(J,Q){var K=J.parentId;if(K==null)return;var U=Q.layoutNodes[Q.idToIndex[K]],X=!1;if(U.maxX==null||J.maxX+U.padRight>U.maxX)U.maxX=J.maxX+U.padRight,X=!0;if(U.minX==null||J.minX-U.padLeft<U.minX)U.minX=J.minX-U.padLeft,X=!0;if(U.maxY==null||J.maxY+U.padBottom>U.maxY)U.maxY=J.maxY+U.padBottom,X=!0;if(U.minY==null||J.minY-U.padTop<U.minY)U.minY=J.minY-U.padTop,X=!0;if(X)return sA0(U,Q);return},HI0=function(J,Q){var K=J.layoutNodes,U=[];for(var X=0;X<K.length;X++){var Y=K[X],q=Y.cmptId,W=U[q]=U[q]||[];W.push(Y)}var G=0;for(var X=0;X<U.length;X++){var z=U[X];if(!z)continue;z.x1=1/0,z.x2=-1/0,z.y1=1/0,z.y2=-1/0;for(var H=0;H<z.length;H++){var F=z[H];z.x1=Math.min(z.x1,F.positionX-F.width/2),z.x2=Math.max(z.x2,F.positionX+F.width/2),z.y1=Math.min(z.y1,F.positionY-F.height/2),z.y2=Math.max(z.y2,F.positionY+F.height/2)}z.w=z.x2-z.x1,z.h=z.y2-z.y1,G+=z.w*z.h}U.sort(function(D,A){return A.w*A.h-D.w*D.h});var M=0,B=0,O=0,R=0,L=Math.sqrt(G)*J.clientWidth/J.clientHeight;for(var X=0;X<U.length;X++){var z=U[X];if(!z)continue;for(var H=0;H<z.length;H++){var F=z[H];if(!F.isLocked)F.positionX+=M-z.x1,F.positionY+=B-z.y1}if(M+=z.w+Q.componentSpacing,O+=z.w+Q.componentSpacing,R=Math.max(R,z.h),O>L)B+=R+Q.componentSpacing,M=0,O=0,R=0}},VO8,PO8,CO8,jO8,SO8,FI0=function(){},MI0=function(){throw Error("A headless instance can not render images")},ui,Hz,$S,zi,Hi,mU,OK,BI0,OI0,Uz,LS,MY,eG,Qz,yU,KF,YS,tA0,eA0,Fi,Mi,RI0,LI0=function(J,Q,K){K.x=Q.x-J.x,K.y=Q.y-J.y,K.len=Math.sqrt(K.x*K.x+K.y*K.y),K.nx=K.x/K.len,K.ny=K.y/K.len,K.ang=Math.atan2(K.ny,K.nx)},TO8=function(J,Q){Q.x=J.x*-1,Q.y=J.y*-1,Q.nx=J.nx*-1,Q.ny=J.ny*-1,Q.ang=J.ang>0?-(Math.PI-J.ang):Math.PI+J.ang},wO8=function(J,Q,K,U,X){if(J!==RI0?LI0(Q,J,mU):TO8(OK,mU),LI0(Q,K,OK),BI0=mU.nx*OK.ny-mU.ny*OK.nx,OI0=mU.nx*OK.nx-mU.ny*-OK.ny,MY=Math.asin(Math.max(-1,Math.min(1,BI0))),Math.abs(MY)<0.000001){zi=Q.x,Hi=Q.y,Qz=KF=0;return}if(Uz=1,LS=!1,OI0<0)if(MY<0)MY=Math.PI+MY;else MY=Math.PI-MY,Uz=-1,LS=!0;else if(MY>0)Uz=-1,LS=!0;if(Q.radius!==void 0)KF=Q.radius;else KF=U;if(eG=MY/2,YS=Math.min(mU.len/2,OK.len/2),X)if(yU=Math.abs(Math.cos(eG)*KF/Math.sin(eG)),yU>YS)yU=YS,Qz=Math.abs(yU*Math.sin(eG)/Math.cos(eG));else Qz=KF;else yU=Math.min(YS,KF),Qz=Math.abs(yU*Math.sin(eG)/Math.cos(eG));Fi=Q.x+OK.nx*yU,Mi=Q.y+OK.ny*yU,zi=Fi-OK.ny*Qz*Uz,Hi=Mi+OK.nx*Qz*Uz,tA0=Q.x+mU.nx*yU,eA0=Q.y+mU.ny*yU,RI0=Q},DD=0.01,$O8,wQ,TD,pi,pU,QN0=function(J,Q){var K=Math.atan(Q/J);if(J===0&&K<0)K=K*-1;return K},KN0=function(J,Q){var K=Q.x-J.x,U=Q.y-J.y;return QN0(K,U)},_O8=function(J,Q,K,U){var X=FD(0,U-0.001,1),Y=FD(0,U+0.001,1),q=zF(J,Q,K,X),W=zF(J,Q,K,Y);return KN0(q,W)},UN0,DI0=28,II0=!1,aS,oS,XN0,YN0,NF,DY,wD,AI0=function(J,Q,K){var U=J.beforeRenderCallbacks;for(var X=0;X<U.length;X++)U[X].fn(Q,K)},fO8=function(J){this.init(J)},qN0,EF,dd=16.666666666666668,WN0,vO8,NI0=25,qS=50,DS=-4,Bi=3,GN0=7.99,xO8=8,bO8=1024,yO8=1024,hO8=1024,mO8=0.2,uO8=0.8,gO8=10,pO8=0.15,cO8=0.1,lO8=0.9,dO8=0.9,iO8=100,sO8=1,GF,rO8,XD=function(J,Q){var K=this;K.renderer=J,K.onDequeues=[];var U=rO8(Q);BZ(K,U),K.lookup=new vO8(U.getKey,U.doesEleInvalidateKey),K.setupDequeueing()},N7,nO8=1,qD=-4,kS=2,aO8=3.99,oO8=50,tO8=50,eO8=0.15,ZR8=0.1,JR8=0.9,QR8=0.9,KR8=1,EI0=250,UR8=16000000,VI0=32767,XR8=!0,zN0=function(J){var Q=this,K=Q.renderer=J,U=K.cy;Q.layersByLevel={},Q.firstGet=!0,Q.lastInvalidationTime=RY()-2*EI0,Q.skipping=!1,Q.eleTxrDeqs=U.collection(),Q.scheduleElementRefinement=PD(function(){Q.refineElementTextures(Q.eleTxrDeqs),Q.eleTxrDeqs.unmerge(Q.eleTxrDeqs)},tO8),K.beforeRender(function(Y,q){if(q-Q.lastInvalidationTime<=EI0)Q.skipping=!0;else Q.skipping=!1},K.beforeRenderPriorities.lyrTxrSkip);var X=function(q,W){return W.reqs-q.reqs};Q.layersQueue=new CD(X),Q.setupDequeueing()},HQ,PI0=0,YR8,HN0,CI0,cU,HR8=function(){return 0},FR8=function(J,Q){return J.getTextAngle(Q,null)},MR8=function(J,Q){return J.getTextAngle(Q,"source")},BR8=function(J,Q){return J.getTextAngle(Q,"target")},OR8=function(J,Q){return Q.effectiveOpacity()},id=function(J,Q){return Q.pstyle("text-opacity").pfValue*Q.effectiveOpacity()},IY,FN0=function(J){if(!["overlay","underlay"].includes(J))throw Error("Invalid state");return function(Q,K){if(!K.visible())return;var U=K.pstyle("".concat(J,"-opacity")).value;if(U===0)return;var X=this,Y=X.usePaths(),q=K._private.rscratch,W=K.pstyle("".concat(J,"-padding")).pfValue,G=2*W,z=K.pstyle("".concat(J,"-color")).value;if(Q.lineWidth=G,q.edgeType==="self"&&!Y)Q.lineCap="butt";else Q.lineCap="round";X.colorStrokeStyle(Q,z[0],z[1],z[2],U),X.drawEdgePath(K,Q,q.allpts,"solid")}},ci,Fz,Sq,MN0=function(J){if(!["overlay","underlay"].includes(J))throw Error("Invalid state");return function(Q,K,U,X,Y){var q=this;if(!K.visible())return;var W=K.pstyle("".concat(J,"-padding")).pfValue,G=K.pstyle("".concat(J,"-opacity")).value,z=K.pstyle("".concat(J,"-color")).value,H=K.pstyle("".concat(J,"-shape")).value,F=K.pstyle("".concat(J,"-corner-radius")).value;if(G>0){if(U=U||K.position(),X==null||Y==null){var M=K.padding();X=K.width()+2*M,Y=K.height()+2*M}q.colorFillStyle(Q,z[0],z[1],z[2],G),q.nodeShapes[H].draw(Q,U.x,U.y,X+W*2,Y+W*2,F),Q.fill()}}},Y6,LR8=100,ZD,wI0,_R8,fR8,xR8,bR8,yR8=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,hR8=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,mR8=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,uR8=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,WD,_S,rd=0,_I0=1,fI0=2,nd=3,XF=4,WS=5,JD=6,QD=7,gR8,RN0,ad=function(J,Q){return function(K){var U=J(K),X=LN0(K,Q);if(X.length>1)return X.map(function(Y,q){return"".concat(U,"_").concat(q)});return U}},od=function(J,Q){return function(K,U){var X=J(K);if(typeof U==="string"){var Y=U.indexOf("_");if(Y>0){var q=Number(U.substring(Y+1)),W=LN0(K,Q),G=X.h/W.length,z=G*q,H=X.y1+z;return{x1:X.x1,w:X.w,y1:H,h:G,yOffset:z}}}return X}},Tq,vI0,xI0,Ri,Li,AN0,Hq,$D,EN0,eR8,mZ,Z38,J38,Q38,PN0,CN0,Di=function(){if(arguments.length===2)return SN0.apply(null,arguments);else if(arguments.length===3)return jN0.apply(null,arguments);else if(arguments.length===4)return U38.apply(null,arguments);else if(arguments.length===5)return K38.apply(null,arguments);else AJ("Invalid extension access syntax")},fS=function(){if(!(this instanceof fS))return new fS;this.length=0},zz,X38="3.33.1",DK=function(J){if(J===void 0)J={};if(H9(J))return new LD(J);else if(XZ(J))return Di.apply(Di,arguments)};var di=f(()=>{D7=typeof window>"u"?null:window,GL0=D7?D7.navigator:null;D7&&D7.document;hH8=A7(""),mI0=A7({}),mH8=A7(function(){}),uH8=typeof HTMLElement>"u"?"undefined":A7(HTMLElement),Ni=BF(function(Z){return Z.replace(/([A-Z])/g,function(J){return"-"+J.toLowerCase()})}),vS=BF(function(Z){return Z.replace(/(-\w)/g,function(J){return J[1].toUpperCase()})}),pI0=BF(function(Z,J){return Z+J[0].toUpperCase()+J.substring(1)},function(Z,J){return Z+"$"+J}),rH8="rgb[a]?\\(("+I7+"[%]?)\\s*,\\s*("+I7+"[%]?)\\s*,\\s*("+I7+"[%]?)(?:\\s*,\\s*("+I7+"))?\\)",nH8="rgb[a]?\\((?:"+I7+"[%]?)\\s*,\\s*(?:"+I7+"[%]?)\\s*,\\s*(?:"+I7+"[%]?)(?:\\s*,\\s*(?:"+I7+"))?\\)",aH8="hsl[a]?\\(("+I7+")\\s*,\\s*("+I7+"[%])\\s*,\\s*("+I7+"[%])(?:\\s*,\\s*("+I7+"))?\\)",oH8="hsl[a]?\\((?:"+I7+")\\s*,\\s*(?:"+I7+"[%])\\s*,\\s*(?:"+I7+"[%])(?:\\s*,\\s*(?:"+I7+"))?\\)",BZ=Object.assign!=null?Object.assign.bind(Object):function(Z){var J=arguments;for(var Q=1;Q<J.length;Q++){var K=J[Q];if(K==null)continue;var U=Object.keys(K);for(var X=0;X<U.length;X++){var Y=U[X];Z[Y]=K[Y]}}return Z},X28={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},aj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};O28=B28(),PD=ND(O28),yl=D7?D7.performance:null,rI0=yl&&yl.now?function(){return yl.now()}:function(){return Date.now()},R28=function(){if(D7){if(D7.requestAnimationFrame)return function(Z){D7.requestAnimationFrame(Z)};else if(D7.mozRequestAnimationFrame)return function(Z){D7.mozRequestAnimationFrame(Z)};else if(D7.webkitRequestAnimationFrame)return function(Z){D7.webkitRequestAnimationFrame(Z)};else if(D7.msRequestAnimationFrame)return function(Z){D7.msRequestAnimationFrame(Z)}}return function(Z){if(Z)setTimeout(function(){Z(rI0())},16.666666666666668)}}(),RY=rI0;E28=console.warn!=null,V28=console.trace!=null,Vi=Number.MAX_SAFE_INTEGER||9007199254740991,j28={},T28=function(){function Z(){Pq(this,Z),this._obj={}}return Cq(Z,[{key:"set",value:function(Q,K){return this._obj[Q]=K,this}},{key:"delete",value:function(Q){return this._obj[Q]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(Q){return this._obj[Q]!==void 0}},{key:"get",value:function(Q){return this._obj[Q]}}])}(),OY=typeof Map<"u"?Map:T28,$28=function(){function Z(J){if(Pq(this,Z),this._obj=Object.create(null),this.size=0,J!=null){var Q;if(J.instanceString!=null&&J.instanceString()===this.instanceString())Q=J.toArray();else Q=J;for(var K=0;K<Q.length;K++)this.add(Q[K])}}return Cq(Z,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(Q){var K=this._obj;if(K[Q]!==1)K[Q]=1,this.size++}},{key:"delete",value:function(Q){var K=this._obj;if(K[Q]===1)K[Q]=0,this.size--}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(Q){return this._obj[Q]===1}},{key:"toArray",value:function(){var Q=this;return Object.keys(this._obj).filter(function(K){return Q.has(K)})}},{key:"forEach",value:function(Q,K){return this.toArray().forEach(Q,K)}}])}(),LF=(typeof Set>"u"?"undefined":A7(Set))!==w28?Set:$28,HD={breadthFirstSearch:TL0({bfs:!0}),depthFirstSearch:TL0({dfs:!0})};HD.bfs=HD.breadthFirstSearch;HD.dfs=HD.depthFirstSearch;GS={exports:{}},k28=GS.exports;v28=f28(),CD=ND(v28),x28=zQ({root:null,weight:function(J){return 1},directed:!1}),b28={dijkstra:function(J){if(!H9(J)){var Q=arguments;J={root:Q[0],weight:Q[1],directed:Q[2]}}var K=x28(J),U=K.root,X=K.weight,Y=K.directed,q=this,W=X,G=XZ(U)?this.filter(U)[0]:U[0],z={},H={},F={},M=this.byGroup(),B=M.nodes,O=M.edges;O.unmergeBy(function(_){return _.isLoop()});var R=function(v){return z[v.id()]},L=function(v,x){z[v.id()]=x,D.updateItem(v)},D=new CD(function(_,v){return R(_)-R(v)});for(var A=0;A<B.length;A++){var V=B[A];z[V.id()]=V.same(G)?0:1/0,D.push(V)}var N=function(v,x){var b=(Y?v.edgesTo(x):v.edgesWith(x)).intersect(O),y=1/0,u;for(var h=0;h<b.length;h++){var p=b[h],r=W(p);if(r<y||!u)y=r,u=p}return{edge:u,dist:y}};while(D.size()>0){var E=D.pop(),C=R(E),j=E.id();if(F[j]=C,C===1/0)continue;var $=E.neighborhood().intersect(B);for(var k=0;k<$.length;k++){var w=$[k],P=w.id(),S=N(E,w),T=C+S.dist;if(T<R(w))L(w,T),H[P]={node:E,edge:S.edge}}}return{distanceTo:function(v){var x=XZ(v)?B.filter(v)[0]:v[0];return F[x.id()]},pathTo:function(v){var x=XZ(v)?B.filter(v)[0]:v[0],b=[],y=x,u=y.id();if(x.length>0){b.unshift(x);while(H[u]){var h=H[u];b.unshift(h.edge),b.unshift(h.node),y=h.node,u=y.id()}}return q.spawn(b)}}}},y28={kruskal:function(J){J=J||function(A){return 1};var Q=this.byGroup(),K=Q.nodes,U=Q.edges,X=K.length,Y=Array(X),q=K,W=function(V){for(var N=0;N<Y.length;N++){var E=Y[N];if(E.has(V))return N}};for(var G=0;G<X;G++)Y[G]=this.spawn(K[G]);var z=U.sort(function(A,V){return J(A)-J(V)});for(var H=0;H<z.length;H++){var F=z[H],M=F.source()[0],B=F.target()[0],O=W(M),R=W(B),L=Y[O],D=Y[R];if(O!==R)q.merge(F),L.merge(D),Y.splice(R,1)}return q}},h28=zQ({root:null,goal:null,weight:function(J){return 1},heuristic:function(J){return 0},directed:!1}),m28={aStar:function(J){var Q=this.cy(),K=h28(J),U=K.root,X=K.goal,Y=K.heuristic,q=K.directed,W=K.weight;U=Q.collection(U)[0],X=Q.collection(X)[0];var G=U.id(),z=X.id(),H={},F={},M={},B=new CD(function(u,h){return F[u.id()]-F[h.id()]}),O=new LF,R={},L={},D=function(h,p){B.push(h),O.add(p)},A,V,N=function(){A=B.pop(),V=A.id(),O.delete(V)},E=function(h){return O.has(h)};D(U,G),H[G]=0,F[G]=Y(U);var C=0;while(B.size()>0){if(N(),C++,V===z){var j=[],$=X,k=z,w=L[k];for(;;){if(j.unshift($),w!=null)j.unshift(w);if($=R[k],$==null)break;k=$.id(),w=L[k]}return{found:!0,distance:H[V],path:this.spawn(j),steps:C}}M[V]=!0;var P=A._private.edges;for(var S=0;S<P.length;S++){var T=P[S];if(!this.hasElementWithId(T.id()))continue;if(q&&T.data("source")!==V)continue;var _=T.source(),v=T.target(),x=_.id()!==V?_:v,b=x.id();if(!this.hasElementWithId(b))continue;if(M[b])continue;var y=H[V]+W(T);if(!E(b)){H[b]=y,F[b]=y+Y(x),D(x,b),R[b]=A,L[b]=T;continue}if(y<H[b])H[b]=y,F[b]=y+Y(x),R[b]=A,L[b]=T}}return{found:!1,distance:void 0,path:void 0,steps:C}}},u28=zQ({weight:function(J){return 1},directed:!1}),g28={floydWarshall:function(J){var Q=this.cy(),K=u28(J),U=K.weight,X=K.directed,Y=U,q=this.byGroup(),W=q.nodes,G=q.edges,z=W.length,H=z*z,F=function(r){return W.indexOf(r)},M=function(r){return W[r]},B=Array(H);for(var O=0;O<H;O++){var R=O%z,L=(O-R)/z;if(L===R)B[O]=0;else B[O]=1/0}var D=Array(H),A=Array(H);for(var V=0;V<G.length;V++){var N=G[V],E=N.source()[0],C=N.target()[0];if(E===C)continue;var j=F(E),$=F(C),k=j*z+$,w=Y(N);if(B[k]>w)B[k]=w,D[k]=$,A[k]=N;if(!X){var P=$*z+j;if(!X&&B[P]>w)B[P]=w,D[P]=j,A[P]=N}}for(var S=0;S<z;S++)for(var T=0;T<z;T++){var _=T*z+S;for(var v=0;v<z;v++){var x=T*z+v,b=S*z+v;if(B[_]+B[b]<B[x])B[x]=B[_]+B[b],D[x]=D[_]}}var y=function(r){return(XZ(r)?Q.filter(r):r)[0]},u=function(r){return F(y(r))},h={distance:function(r,t){var d=u(r),X0=u(t);return B[d*z+X0]},path:function(r,t){var d=u(r),X0=u(t),a=M(d);if(d===X0)return a.collection();if(D[d*z+X0]==null)return Q.collection();var z0=Q.collection(),J0=d,Q0;z0.merge(a);while(d!==X0)J0=d,d=D[d*z+X0],Q0=A[J0*z+d],z0.merge(Q0),z0.merge(M(d));return z0}};return h}},p28=zQ({weight:function(J){return 1},directed:!1,root:null}),c28={bellmanFord:function(J){var Q=this,K=p28(J),U=K.weight,X=K.directed,Y=K.root,q=U,W=this,G=this.cy(),z=this.byGroup(),H=z.edges,F=z.nodes,M=F.length,B=new OY,O=!1,R=[];Y=G.collection(Y)[0],H.unmergeBy(function(V0){return V0.isLoop()});var L=H.length,D=function(i){var p0=B.get(i.id());if(!p0)p0={},B.set(i.id(),p0);return p0},A=function(i){return(XZ(i)?G.$(i):i)[0]},V=function(i){return D(A(i)).dist},N=function(i){var p0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,B0=A(i),h0=[],a0=B0;for(;;){if(a0==null)return Q.spawn();var s0=D(a0),$0=s0.edge,x0=s0.pred;if(h0.unshift(a0[0]),a0.same(p0)&&h0.length>0)break;if($0!=null)h0.unshift($0);a0=x0}return W.spawn(h0)};for(var E=0;E<M;E++){var C=F[E],j=D(C);if(C.same(Y))j.dist=0;else j.dist=1/0;j.pred=null,j.edge=null}var $=!1,k=function(i,p0,B0,h0,a0,s0){var $0=h0.dist+s0;if($0<a0.dist&&!B0.same(h0.edge))a0.dist=$0,a0.pred=i,a0.edge=B0,$=!0};for(var w=1;w<M;w++){$=!1;for(var P=0;P<L;P++){var S=H[P],T=S.source(),_=S.target(),v=q(S),x=D(T),b=D(_);if(k(T,_,S,x,b,v),!X)k(_,T,S,b,x,v)}if(!$)break}if($){var y=[];for(var u=0;u<L;u++){var h=H[u],p=h.source(),r=h.target(),t=q(h),d=D(p).dist,X0=D(r).dist;if(d+t<X0||!X&&X0+t<d){if(!O)j9("Graph contains a negative weight cycle for Bellman-Ford"),O=!0;if(J.findNegativeWeightCycles!==!1){var a=[];if(d+t<X0)a.push(p);if(!X&&X0+t<d)a.push(r);var z0=a.length;for(var J0=0;J0<z0;J0++){var Q0=a[J0],e=[Q0];e.push(D(Q0).edge);var n=D(Q0).pred;while(e.indexOf(n)===-1)e.push(n),e.push(D(n).edge),n=D(n).pred;e=e.slice(e.indexOf(n));var Y0=e[0].id(),o=0;for(var M0=2;M0<e.length;M0+=2)if(e[M0].id()<Y0)Y0=e[M0].id(),o=M0;e=e.slice(o).concat(e.slice(0,o)),e.push(e[0]);var K0=e.map(function(V0){return V0.id()}).join(",");if(y.indexOf(K0)===-1)R.push(W.spawn(e)),y.push(K0)}}else break}}}return{distanceTo:V,pathTo:N,hasNegativeWeightCycle:O,negativeWeightCycles:R}}},l28=Math.sqrt(2),i28={kargerStein:function(){var J=this,Q=this.byGroup(),K=Q.nodes,U=Q.edges;U.unmergeBy(function(b){return b.isLoop()});var X=K.length,Y=U.length,q=Math.ceil(Math.pow(Math.log(X)/Math.LN2,2)),W=Math.floor(X/l28);if(X<2){AJ("At least 2 nodes are required for Karger-Stein algorithm");return}var G=[];for(var z=0;z<Y;z++){var H=U[z];G.push([z,K.indexOf(H.source()),K.indexOf(H.target())])}var F=1/0,M=[],B=Array(X),O=Array(X),R=Array(X),L=function(y,u){for(var h=0;h<X;h++)u[h]=y[h]};for(var D=0;D<=q;D++){for(var A=0;A<X;A++)O[A]=A;var V=ml(O,G.slice(),X,W),N=V.slice();L(O,R);var E=ml(O,V,W,2),C=ml(R,N,W,2);if(E.length<=C.length&&E.length<F)F=E.length,M=E,L(O,B);else if(C.length<=E.length&&C.length<F)F=C.length,M=C,L(R,B)}var j=this.spawn(M.map(function(b){return U[b[0]]})),$=this.spawn(),k=this.spawn(),w=B[0];for(var P=0;P<B.length;P++){var S=B[P],T=K[P];if(S===w)$.merge(T);else k.merge(T)}var _=function(y){var u=J.spawn();return y.forEach(function(h){u.merge(h),h.connectedEdges().forEach(function(p){if(J.contains(p)&&!j.contains(p))u.merge(p)})}),u},v=[_($),_(k)],x={cut:j,components:v,partition1:$,partition2:k};return x}},ji=Math.log2||function(Z){return Math.log(Z)/Math.log(2)},UF8=(ul=Math.hypot)!==null&&ul!==void 0?ul:function(Z,J){return Math.sqrt(Z*Z+J*J)};DF8=zQ({dampingFactor:0.8,precision:0.000001,iterations:200,weight:function(J){return 1}}),IF8={pageRank:function(J){var Q=DF8(J),K=Q.dampingFactor,U=Q.precision,X=Q.iterations,Y=Q.weight,q=this._private.cy,W=this.byGroup(),G=W.nodes,z=W.edges,H=G.length,F=H*H,M=z.length,B=Array(F),O=Array(H),R=(1-K)/H;for(var L=0;L<H;L++){for(var D=0;D<H;D++){var A=L*H+D;B[A]=0}O[L]=0}for(var V=0;V<M;V++){var N=z[V],E=N.data("source"),C=N.data("target");if(E===C)continue;var j=G.indexOfId(E),$=G.indexOfId(C),k=Y(N),w=$*H+j;B[w]+=k,O[j]+=k}var P=1/H+R;for(var S=0;S<H;S++)if(O[S]===0)for(var T=0;T<H;T++){var _=T*H+S;B[_]=P}else for(var v=0;v<H;v++){var x=v*H+S;B[x]=B[x]/O[S]+R}var b=Array(H),y=Array(H),u;for(var h=0;h<H;h++)b[h]=1;for(var p=0;p<X;p++){for(var r=0;r<H;r++)y[r]=0;for(var t=0;t<H;t++)for(var d=0;d<H;d++){var X0=t*H+d;y[t]+=B[X0]*b[d]}e28(y),u=b,b=y,y=u;var a=0;for(var z0=0;z0<H;z0++){var J0=u[z0]-b[z0];a+=J0*J0}if(a<U)break}var Q0={rank:function(n){return n=q.collection(n)[0],b[G.indexOf(n)]}};return Q0}},fL0=zQ({root:null,weight:function(J){return 1},directed:!1,alpha:0}),HF={degreeCentralityNormalized:function(J){J=fL0(J);var Q=this.cy(),K=this.nodes(),U=K.length;if(!J.directed){var X={},Y=0;for(var q=0;q<U;q++){var W=K[q];J.root=W;var G=this.degreeCentrality(J);if(Y<G.degree)Y=G.degree;X[W.id()]=G.degree}return{degree:function(A){if(Y===0)return 0;if(XZ(A))A=Q.filter(A);return X[A.id()]/Y}}}else{var z={},H={},F=0,M=0;for(var B=0;B<U;B++){var O=K[B],R=O.id();J.root=O;var L=this.degreeCentrality(J);if(F<L.indegree)F=L.indegree;if(M<L.outdegree)M=L.outdegree;z[R]=L.indegree,H[R]=L.outdegree}return{indegree:function(A){if(F==0)return 0;if(XZ(A))A=Q.filter(A);return z[A.id()]/F},outdegree:function(A){if(M===0)return 0;if(XZ(A))A=Q.filter(A);return H[A.id()]/M}}}},degreeCentrality:function(J){J=fL0(J);var Q=this.cy(),K=this,U=J,X=U.root,Y=U.weight,q=U.directed,W=U.alpha;if(X=Q.collection(X)[0],!q){var G=X.connectedEdges().intersection(K),z=G.length,H=0;for(var F=0;F<G.length;F++)H+=Y(G[F]);return{degree:Math.pow(z,1-W)*Math.pow(H,W)}}else{var M=X.connectedEdges(),B=M.filter(function(E){return E.target().same(X)&&K.has(E)}),O=M.filter(function(E){return E.source().same(X)&&K.has(E)}),R=B.length,L=O.length,D=0,A=0;for(var V=0;V<B.length;V++)D+=Y(B[V]);for(var N=0;N<O.length;N++)A+=Y(O[N]);return{indegree:Math.pow(R,1-W)*Math.pow(D,W),outdegree:Math.pow(L,1-W)*Math.pow(A,W)}}}};HF.dc=HF.degreeCentrality;HF.dcn=HF.degreeCentralityNormalised=HF.degreeCentralityNormalized;vL0=zQ({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),FF={closenessCentralityNormalized:function(J){var Q=vL0(J),K=Q.harmonic,U=Q.weight,X=Q.directed,Y=this.cy(),q={},W=0,G=this.nodes(),z=this.floydWarshall({weight:U,directed:X});for(var H=0;H<G.length;H++){var F=0,M=G[H];for(var B=0;B<G.length;B++)if(H!==B){var O=z.distance(M,G[B]);if(K)F+=1/O;else F+=O}if(!K)F=1/F;if(W<F)W=F;q[M.id()]=F}return{closeness:function(L){if(W==0)return 0;if(XZ(L))L=Y.filter(L)[0].id();else L=L.id();return q[L]/W}}},closenessCentrality:function(J){var Q=vL0(J),K=Q.root,U=Q.weight,X=Q.directed,Y=Q.harmonic;K=this.filter(K)[0];var q=this.dijkstra({root:K,weight:U,directed:X}),W=0,G=this.nodes();for(var z=0;z<G.length;z++){var H=G[z];if(!H.same(K)){var F=q.distanceTo(H);if(Y)W+=1/F;else W+=F}}return Y?W:1/W}};FF.cc=FF.closenessCentrality;FF.ccn=FF.closenessCentralityNormalised=FF.closenessCentralityNormalized;AF8=zQ({weight:null,directed:!1}),Qi={betweennessCentrality:function(J){var Q=AF8(J),K=Q.directed,U=Q.weight,X=U!=null,Y=this.cy(),q=this.nodes(),W={},G={},z=0,H={set:function(A,V){if(G[A]=V,V>z)z=V},get:function(A){return G[A]}};for(var F=0;F<q.length;F++){var M=q[F],B=M.id();if(K)W[B]=M.outgoers().nodes();else W[B]=M.openNeighborhood().nodes();H.set(B,0)}var O=function(){var A=q[R].id(),V=[],N={},E={},C={},j=new CD(function(t,d){return C[t]-C[d]});for(var $=0;$<q.length;$++){var k=q[$].id();N[k]=[],E[k]=0,C[k]=1/0}E[A]=1,C[A]=0,j.push(A);while(!j.empty()){var w=j.pop();if(V.push(w),X)for(var P=0;P<W[w].length;P++){var S=W[w][P],T=Y.getElementById(w),_=void 0;if(T.edgesTo(S).length>0)_=T.edgesTo(S)[0];else _=S.edgesTo(T)[0];var v=U(_);if(S=S.id(),C[S]>C[w]+v){if(C[S]=C[w]+v,j.nodes.indexOf(S)<0)j.push(S);else j.updateItem(S);E[S]=0,N[S]=[]}if(C[S]==C[w]+v)E[S]=E[S]+E[w],N[S].push(w)}else for(var x=0;x<W[w].length;x++){var b=W[w][x].id();if(C[b]==1/0)j.push(b),C[b]=C[w]+1;if(C[b]==C[w]+1)E[b]=E[b]+E[w],N[b].push(w)}}var y={};for(var u=0;u<q.length;u++)y[q[u].id()]=0;while(V.length>0){var h=V.pop();for(var p=0;p<N[h].length;p++){var r=N[h][p];y[r]=y[r]+E[r]/E[h]*(1+y[h])}if(h!=q[R].id())H.set(h,H.get(h)+y[h])}};for(var R=0;R<q.length;R++)O();var L={betweenness:function(A){var V=Y.collection(A).id();return H.get(V)},betweennessNormalized:function(A){if(z==0)return 0;var V=Y.collection(A).id();return H.get(V)/z}};return L.betweennessNormalised=L.betweennessNormalized,L}};Qi.bc=Qi.betweennessCentrality;NF8=zQ({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(Z){return 1}]}),_F8={markovClustering:xL0,mcl:xL0},OF={euclidean:function(J,Q,K){if(J>=2)return aL(J,Q,K,0,yL0,vF8);else return aL(J,Q,K,0,bL0)},squaredEuclidean:function(J,Q,K){return aL(J,Q,K,0,yL0)},manhattan:function(J,Q,K){return aL(J,Q,K,0,bL0)},max:function(J,Q,K){return aL(J,Q,K,-1/0,xF8)}};OF["squared-euclidean"]=OF.squaredEuclidean;OF.squaredeuclidean=OF.squaredEuclidean;bF8=zQ({k:2,m:2,sensitivityThreshold:0.0001,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),dF8={kMeans:uF8,kMedoids:gF8,fuzzyCMeans:uL0,fcm:uL0},iF8=zQ({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),sF8={single:"min",complete:"max"},nF8={hierarchicalClustering:pL0,hca:pL0},aF8=zQ({distance:"euclidean",preference:"median",damping:0.8,maxIterations:1000,minIterations:100,attributes:[]}),QM8={affinityPropagation:lL0,ap:lL0},KM8=zQ({root:void 0,directed:!1}),UM8={hierholzer:function(J){if(!H9(J)){var Q=arguments;J={root:Q[0],directed:Q[1]}}var K=KM8(J),U=K.root,X=K.directed,Y=this,q=!1,W,G,z;if(U)z=XZ(U)?this.filter(U)[0].id():U[0].id();var H={},F={};if(X)Y.forEach(function(D){var A=D.id();if(D.isNode()){var V=D.indegree(!0),N=D.outdegree(!0),E=V-N,C=N-V;if(E==1)if(W)q=!0;else W=A;else if(C==1)if(G)q=!0;else G=A;else if(C>1||E>1)q=!0;H[A]=[],D.outgoers().forEach(function(j){if(j.isEdge())H[A].push(j.id())})}else F[A]=[void 0,D.target().id()]});else Y.forEach(function(D){var A=D.id();if(D.isNode()){var V=D.degree(!0);if(V%2)if(!W)W=A;else if(!G)G=A;else q=!0;H[A]=[],D.connectedEdges().forEach(function(N){return H[A].push(N.id())})}else F[A]=[D.source().id(),D.target().id()]});var M={found:!1,trail:void 0};if(q)return M;else if(G&&W){if(X){if(z&&G!=z)return M;z=G}else if(z&&G!=z&&W!=z)return M;else if(!z)z=G}else if(!z)z=Y[0].id();var B=function(A){var V=A,N=[A],E,C,j;while(H[V].length){if(E=H[V].shift(),C=F[E][0],j=F[E][1],V!=j)H[j]=H[j].filter(function($){return $!=E}),V=j;else if(!X&&V!=C)H[C]=H[C].filter(function($){return $!=E}),V=C;N.unshift(E),N.unshift(V)}return N},O=[],R=[];R=B(z);while(R.length!=1)if(H[R[0]].length==0)O.unshift(Y.getElementById(R.shift())),O.unshift(Y.getElementById(R.shift()));else R=B(R.shift()).concat(R);O.unshift(Y.getElementById(R.shift()));for(var L in H)if(H[L].length)return M;return M.found=!0,M.trail=this.spawn(O,!0),M}},XM8={hopcroftTarjanBiconnected:ZS,htbc:ZS,htb:ZS,hopcroftTarjanBiconnectedComponents:ZS},YM8={tarjanStronglyConnected:JS,tsc:JS,tscc:JS,tarjanStronglyConnectedComponents:JS},FA0={};[HD,b28,y28,m28,g28,c28,i28,IF8,HF,FF,Qi,_F8,dF8,nF8,QM8,UM8,XM8,YM8].forEach(function(Z){BZ(FA0,Z)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/N5.prototype={fulfill:function(J){return dL0(this,BA0,"fulfillValue",J)},reject:function(J){return dL0(this,OA0,"rejectReason",J)},then:function(J,Q){var K=this,U=new N5;return K.onFulfilled.push(sL0(J,U,"fulfill")),K.onRejected.push(sL0(Q,U,"reject")),RA0(K),U.proxy}};N5.all=function(Z){return new N5(function(J,Q){var K=Array(Z.length),U=0,X=function(W,G){if(K[W]=G,U++,U===Z.length)J(K)};for(var Y=0;Y<Z.length;Y++)(function(q){var W=Z[q],G=W!=null&&W.then!=null;if(G)W.then(function(H){X(q,H)},function(H){Q(H)});else{var z=W;X(q,z)}})(Y)})};N5.resolve=function(Z){return new N5(function(J,Q){J(Z)})};N5.reject=function(Z){return new N5(function(J,Q){Q(Z)})};DF=typeof Promise<"u"?Promise:N5,Wz=Xi.prototype;BZ(Wz,{instanceString:function(){return"animation"},hook:function(){var J=this._private;if(!J.hooked){var Q,K=J.target._private.animation;if(J.queue)Q=K.queue;else Q=K.current;if(Q.push(this),x4(J.target))J.target.cy().addToAnimationPool(J.target);J.hooked=!0}return this},play:function(){var J=this._private;if(J.progress===1)J.progress=0;return J.playing=!0,J.started=!1,J.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var J=this._private;return J.applying=!0,J.started=!1,J.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var J=this._private;return J.playing=!1,J.started=!1,this},stop:function(){var J=this._private;return J.playing=!1,J.started=!1,J.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(J){var Q=this._private;if(J===void 0)return Q.progress*Q.duration;else return this.progress(J/Q.duration)},progress:function(J){var Q=this._private,K=Q.playing;if(J===void 0)return Q.progress;else{if(K)this.pause();if(Q.progress=J,Q.started=!1,K)this.play()}return this},completed:function(){return this._private.progress===1},reverse:function(){var J=this._private,Q=J.playing;if(Q)this.pause();J.progress=1-J.progress,J.started=!1;var K=function(G,z){var H=J[G];if(H==null)return;J[G]=J[z],J[z]=H};if(K("zoom","startZoom"),K("pan","startPan"),K("position","startPosition"),J.style)for(var U=0;U<J.style.length;U++){var X=J.style[U],Y=X.name,q=J.startStyle[Y];J.startStyle[Y]=X,J.style[U]=q}if(Q)this.play();return this},promise:function(J){var Q=this._private,K;switch(J){case"frame":K=Q.frames;break;default:case"complete":case"completed":K=Q.completes}return new DF(function(U,X){K.push(function(){U()})})}});Wz.complete=Wz.completed;Wz.run=Wz.play;Wz.running=Wz.playing;qM8={animated:function(){return function(){var Q=this,K=Q.length!==void 0,U=K?Q:[Q],X=this._private.cy||this;if(!X.styleEnabled())return!1;var Y=U[0];if(Y)return Y._private.animation.current.length>0}},clearQueue:function(){return function(){var Q=this,K=Q.length!==void 0,U=K?Q:[Q],X=this._private.cy||this;if(!X.styleEnabled())return this;for(var Y=0;Y<U.length;Y++){var q=U[Y];q._private.animation.queue=[]}return this}},delay:function(){return function(Q,K){var U=this._private.cy||this;if(!U.styleEnabled())return this;return this.animate({delay:Q,duration:Q,complete:K})}},delayAnimation:function(){return function(Q,K){var U=this._private.cy||this;if(!U.styleEnabled())return this;return this.animation({delay:Q,duration:Q,complete:K})}},animation:function(){return function(Q,K){var U=this,X=U.length!==void 0,Y=X?U:[U],q=this._private.cy||this,W=!X,G=!W;if(!q.styleEnabled())return this;var z=q.style();Q=BZ({},Q,K);var H=Object.keys(Q).length===0;if(H)return new Xi(Y[0],Q);if(Q.duration===void 0)Q.duration=400;switch(Q.duration){case"slow":Q.duration=600;break;case"fast":Q.duration=200;break}if(G)Q.style=z.getPropsList(Q.style||Q.css),Q.css=void 0;if(G&&Q.renderedPosition!=null){var F=Q.renderedPosition,M=q.pan(),B=q.zoom();Q.position=QA0(F,B,M)}if(W&&Q.panBy!=null){var O=Q.panBy,R=q.pan();Q.pan={x:R.x+O.x,y:R.y+O.y}}var L=Q.center||Q.centre;if(W&&L!=null){var D=q.getCenterPan(L.eles,Q.zoom);if(D!=null)Q.pan=D}if(W&&Q.fit!=null){var A=Q.fit,V=q.getFitViewport(A.eles||A.boundingBox,A.padding);if(V!=null)Q.pan=V.pan,Q.zoom=V.zoom}if(W&&H9(Q.zoom)){var N=q.getZoomedViewport(Q.zoom);if(N!=null){if(N.zoomed)Q.zoom=N.zoom;if(N.panned)Q.pan=N.pan}else Q.zoom=null}return new Xi(Y[0],Q)}},animate:function(){return function(Q,K){var U=this,X=U.length!==void 0,Y=X?U:[U],q=this._private.cy||this;if(!q.styleEnabled())return this;if(K)Q=BZ({},Q,K);for(var W=0;W<Y.length;W++){var G=Y[W],z=G.animated()&&(Q.queue===void 0||Q.queue),H=G.animation(Q,z?{queue:!0}:void 0);H.play()}return this}},stop:function(){return function(Q,K){var U=this,X=U.length!==void 0,Y=X?U:[U],q=this._private.cy||this;if(!q.styleEnabled())return this;for(var W=0;W<Y.length;W++){var G=Y[W],z=G._private,H=z.animation.current;for(var F=0;F<H.length;F++){var M=H[F],B=M._private;if(K)B.duration=0}if(Q)z.animation.queue=[];if(!K)z.animation.current=[]}return q.notify("draw"),this}}};uM8=mM8(),gM8=ND(uM8);rM8=sM8(),nM8=ND(rM8);tM8=oM8(),eM8=ND(tM8),ZB8={data:function(J){var Q={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(U){},beforeSet:function(U,X){},onSet:function(U){},canSet:function(U){return!0}};return J=BZ({},Q,J),function(U,X){var Y=J,q=this,W=q.length!==void 0,G=W?q:[q],z=W?q[0]:q;if(XZ(U)){var H=U.indexOf(".")!==-1,F=H&&eM8(U);if(Y.allowGetting&&X===void 0){var M;if(z)if(Y.beforeGet(z),F&&z._private[Y.field][U]===void 0)M=gM8(z._private[Y.field],F);else M=z._private[Y.field][U];return M}else if(Y.allowSetting&&X!==void 0){var B=!Y.immutableKeys[U];if(B){var O=yI0({},U,X);Y.beforeSet(q,O);for(var R=0,L=G.length;R<L;R++){var D=G[R];if(Y.canSet(D))if(F&&z._private[Y.field][U]===void 0)nM8(D._private[Y.field],F,X);else D._private[Y.field][U]=X}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}}}else if(Y.allowSetting&&H9(U)){var A=U,V,N,E=Object.keys(A);Y.beforeSet(q,A);for(var C=0;C<E.length;C++){V=E[C],N=A[V];var j=!Y.immutableKeys[V];if(j)for(var $=0;$<G.length;$++){var k=G[$];if(Y.canSet(k))k._private[Y.field][V]=N}}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}else if(Y.allowBinding&&$J(U)){var w=U;q.on(Y.bindingEvent,w)}else if(Y.allowGetting&&U===void 0){var P;if(z)Y.beforeGet(z),P=z._private[Y.field];return P}return q}},removeData:function(J){var Q={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return J=BZ({},Q,J),function(U){var X=J,Y=this,q=Y.length!==void 0,W=q?Y:[Y];if(XZ(U)){var G=U.split(/\s+/),z=G.length;for(var H=0;H<z;H++){var F=G[H];if(Dq(F))continue;var M=!X.immutableKeys[F];if(M)for(var B=0,O=W.length;B<O;B++)W[B]._private[X.field][F]=void 0}if(X.triggerEvent)Y[X.triggerFnName](X.event)}else if(U===void 0){for(var R=0,L=W.length;R<L;R++){var D=W[R]._private[X.field],A=Object.keys(D);for(var V=0;V<A.length;V++){var N=A[V],E=!X.immutableKeys[N];if(E)D[N]=void 0}}if(X.triggerEvent)Y[X.triggerFnName](X.event)}return Y}}},JB8={eventAliasesOn:function(J){var Q=J;Q.addListener=Q.listen=Q.bind=Q.on,Q.unlisten=Q.unbind=Q.off=Q.removeListener,Q.trigger=Q.emit,Q.pon=Q.promiseOn=function(K,U){var X=this,Y=Array.prototype.slice.call(arguments,0);return new DF(function(q,W){var G=function(M){X.off.apply(X,H),q(M)},z=Y.concat([G]),H=z.concat([]);X.on.apply(X,z)})}}},C9={};[qM8,ZB8,JB8].forEach(function(Z){BZ(C9,Z)});QB8={animate:C9.animate(),animation:C9.animation(),animated:C9.animated(),clearQueue:C9.clearQueue(),delay:C9.delay(),delayAnimation:C9.delayAnimation(),stop:C9.stop()},FS={classes:function(J){var Q=this;if(J===void 0){var K=[];return Q[0]._private.classes.forEach(function(B){return K.push(B)}),K}else if(!l9(J))J=(J||"").match(/\S+/g)||[];var U=[],X=new LF(J);for(var Y=0;Y<Q.length;Y++){var q=Q[Y],W=q._private,G=W.classes,z=!1;for(var H=0;H<J.length;H++){var F=J[H],M=G.has(F);if(!M){z=!0;break}}if(!z)z=G.size!==J.length;if(z)W.classes=X,U.push(q)}if(U.length>0)this.spawn(U).updateStyle().emit("class");return Q},addClass:function(J){return this.toggleClass(J,!0)},hasClass:function(J){var Q=this[0];return Q!=null&&Q._private.classes.has(J)},toggleClass:function(J,Q){if(!l9(J))J=J.match(/\S+/g)||[];var K=this,U=Q===void 0,X=[];for(var Y=0,q=K.length;Y<q;Y++){var W=K[Y],G=W._private.classes,z=!1;for(var H=0;H<J.length;H++){var F=J[H],M=G.has(F),B=!1;if(Q||U&&!M)G.add(F),B=!0;else if(!Q||U&&M)G.delete(F),B=!0;if(!z&&B)X.push(W),z=!0}}if(X.length>0)this.spawn(X).updateStyle().emit("class");return K},removeClass:function(J){return this.toggleClass(J,!1)},flashClass:function(J,Q){var K=this;if(Q==null)Q=250;else if(Q===0)return K;return K.addClass(J),setTimeout(function(){K.removeClass(J)},Q),K}};FS.className=FS.classNames=FS.classes;z9={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:I7,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};z9.variable="(?:[\\w-.]|(?:\\\\"+z9.metaChar+"))+";z9.className="(?:[\\w-]|(?:\\\\"+z9.metaChar+"))+";z9.value=z9.string+"|"+z9.number;z9.id=z9.variable;(function(){var Z,J,Q;Z=z9.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++)J=Z[Q],z9.comparatorOp+="|@"+J;Z=z9.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++){if(J=Z[Q],J.indexOf("!")>=0)continue;if(J==="=")continue;z9.comparatorOp+="|\\!"+J}})();d8={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Yi=[{selector:":selected",matches:function(J){return J.selected()}},{selector:":unselected",matches:function(J){return!J.selected()}},{selector:":selectable",matches:function(J){return J.selectable()}},{selector:":unselectable",matches:function(J){return!J.selectable()}},{selector:":locked",matches:function(J){return J.locked()}},{selector:":unlocked",matches:function(J){return!J.locked()}},{selector:":visible",matches:function(J){return J.visible()}},{selector:":hidden",matches:function(J){return!J.visible()}},{selector:":transparent",matches:function(J){return J.transparent()}},{selector:":grabbed",matches:function(J){return J.grabbed()}},{selector:":free",matches:function(J){return!J.grabbed()}},{selector:":removed",matches:function(J){return J.removed()}},{selector:":inside",matches:function(J){return!J.removed()}},{selector:":grabbable",matches:function(J){return J.grabbable()}},{selector:":ungrabbable",matches:function(J){return!J.grabbable()}},{selector:":animated",matches:function(J){return J.animated()}},{selector:":unanimated",matches:function(J){return!J.animated()}},{selector:":parent",matches:function(J){return J.isParent()}},{selector:":childless",matches:function(J){return J.isChildless()}},{selector:":child",matches:function(J){return J.isChild()}},{selector:":orphan",matches:function(J){return J.isOrphan()}},{selector:":nonorphan",matches:function(J){return J.isChild()}},{selector:":compound",matches:function(J){if(J.isNode())return J.isParent();else return J.source().isParent()||J.target().isParent()}},{selector:":loop",matches:function(J){return J.isLoop()}},{selector:":simple",matches:function(J){return J.isSimple()}},{selector:":active",matches:function(J){return J.active()}},{selector:":inactive",matches:function(J){return!J.active()}},{selector:":backgrounding",matches:function(J){return J.backgrounding()}},{selector:":nonbackgrounding",matches:function(J){return!J.backgrounding()}}].sort(function(Z,J){return Z28(Z.selector,J.selector)}),KB8=function(){var Z={},J;for(var Q=0;Q<Yi.length;Q++)J=Yi[Q],Z[J.selector]=J.matches;return Z}(),XB8="("+Yi.map(function(Z){return Z.selector}).join("|")+")",qi=[{name:"group",query:!0,regex:"("+z9.group+")",populate:function(J,Q,K){var U=U7(K,1),X=U[0];Q.checks.push({type:d8.GROUP,value:X==="*"?X:X+"s"})}},{name:"state",query:!0,regex:XB8,populate:function(J,Q,K){var U=U7(K,1),X=U[0];Q.checks.push({type:d8.STATE,value:X})}},{name:"id",query:!0,regex:"\\#("+z9.id+")",populate:function(J,Q,K){var U=U7(K,1),X=U[0];Q.checks.push({type:d8.ID,value:e2(X)})}},{name:"className",query:!0,regex:"\\.("+z9.className+")",populate:function(J,Q,K){var U=U7(K,1),X=U[0];Q.checks.push({type:d8.CLASS,value:e2(X)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+z9.variable+")\\s*\\]",populate:function(J,Q,K){var U=U7(K,1),X=U[0];Q.checks.push({type:d8.DATA_EXIST,field:e2(X)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+z9.variable+")\\s*("+z9.comparatorOp+")\\s*("+z9.value+")\\s*\\]",populate:function(J,Q,K){var U=U7(K,3),X=U[0],Y=U[1],q=U[2],W=new RegExp("^"+z9.string+"$").exec(q)!=null;if(W)q=q.substring(1,q.length-1);else q=parseFloat(q);Q.checks.push({type:d8.DATA_COMPARE,field:e2(X),operator:Y,value:q})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+z9.boolOp+")\\s*("+z9.variable+")\\s*\\]",populate:function(J,Q,K){var U=U7(K,2),X=U[0],Y=U[1];Q.checks.push({type:d8.DATA_BOOL,field:e2(Y),operator:X})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+z9.meta+")\\s*("+z9.comparatorOp+")\\s*("+z9.number+")\\s*\\]\\]",populate:function(J,Q,K){var U=U7(K,3),X=U[0],Y=U[1],q=U[2];Q.checks.push({type:d8.META_COMPARE,field:e2(X),operator:Y,value:parseFloat(q)})}},{name:"nextQuery",separator:!0,regex:z9.separator,populate:function(J,Q){var{currentSubject:K,edgeCount:U,compoundCount:X}=J,Y=J[J.length-1];if(K!=null)Y.subject=K,J.currentSubject=null;Y.edgeCount=U,Y.compoundCount=X,J.edgeCount=0,J.compoundCount=0;var q=J[J.length++]=y9();return q}},{name:"directedEdge",separator:!0,regex:z9.directedEdge,populate:function(J,Q){if(J.currentSubject==null){var K=y9(),U=Q,X=y9();return K.checks.push({type:d8.DIRECTED_EDGE,source:U,target:X}),zq(J,Q,K),J.edgeCount++,X}else{var Y=y9(),q=Q,W=y9();return Y.checks.push({type:d8.NODE_SOURCE,source:q,target:W}),zq(J,Q,Y),J.edgeCount++,W}}},{name:"undirectedEdge",separator:!0,regex:z9.undirectedEdge,populate:function(J,Q){if(J.currentSubject==null){var K=y9(),U=Q,X=y9();return K.checks.push({type:d8.UNDIRECTED_EDGE,nodes:[U,X]}),zq(J,Q,K),J.edgeCount++,X}else{var Y=y9(),q=Q,W=y9();return Y.checks.push({type:d8.NODE_NEIGHBOR,node:q,neighbor:W}),zq(J,Q,Y),W}}},{name:"child",separator:!0,regex:z9.child,populate:function(J,Q){if(J.currentSubject==null){var K=y9(),U=y9(),X=J[J.length-1];return K.checks.push({type:d8.CHILD,parent:X,child:U}),zq(J,Q,K),J.compoundCount++,U}else if(J.currentSubject===Q){var Y=y9(),q=J[J.length-1],W=y9(),G=y9(),z=y9(),H=y9();return Y.checks.push({type:d8.COMPOUND_SPLIT,left:q,right:W,subject:G}),G.checks=Q.checks,Q.checks=[{type:d8.TRUE}],H.checks.push({type:d8.TRUE}),W.checks.push({type:d8.PARENT,parent:H,child:z}),zq(J,q,Y),J.currentSubject=G,J.compoundCount++,z}else{var F=y9(),M=y9(),B=[{type:d8.PARENT,parent:F,child:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"descendant",separator:!0,regex:z9.descendant,populate:function(J,Q){if(J.currentSubject==null){var K=y9(),U=y9(),X=J[J.length-1];return K.checks.push({type:d8.DESCENDANT,ancestor:X,descendant:U}),zq(J,Q,K),J.compoundCount++,U}else if(J.currentSubject===Q){var Y=y9(),q=J[J.length-1],W=y9(),G=y9(),z=y9(),H=y9();return Y.checks.push({type:d8.COMPOUND_SPLIT,left:q,right:W,subject:G}),G.checks=Q.checks,Q.checks=[{type:d8.TRUE}],H.checks.push({type:d8.TRUE}),W.checks.push({type:d8.ANCESTOR,ancestor:H,descendant:z}),zq(J,q,Y),J.currentSubject=G,J.compoundCount++,z}else{var F=y9(),M=y9(),B=[{type:d8.ANCESTOR,ancestor:F,descendant:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"subject",modifier:!0,regex:z9.subject,populate:function(J,Q){if(J.currentSubject!=null&&J.currentSubject!==Q)return j9("Redefinition of subject in selector `"+J.toString()+"`"),!1;J.currentSubject=Q;var K=J[J.length-1],U=K.checks[0],X=U==null?null:U.type;if(X===d8.DIRECTED_EDGE)U.type=d8.NODE_TARGET;else if(X===d8.UNDIRECTED_EDGE)U.type=d8.NODE_NEIGHBOR,U.node=U.nodes[1],U.neighbor=U.nodes[0],U.nodes=null}}];qi.forEach(function(Z){return Z.regexObj=new RegExp("^"+Z.regex)});zB8={parse:WB8,toString:GB8},uJ=[];uJ[d8.GROUP]=function(Z,J){var Q=Z.value;return Q==="*"||Q===J.group()};uJ[d8.STATE]=function(Z,J){var Q=Z.value;return UB8(Q,J)};uJ[d8.ID]=function(Z,J){var Q=Z.value;return J.id()===Q};uJ[d8.CLASS]=function(Z,J){var Q=Z.value;return J.hasClass(Q)};uJ[d8.META_COMPARE]=function(Z,J){var{field:Q,operator:K,value:U}=Z;return VA0(MB8(J,Q),K,U)};uJ[d8.DATA_COMPARE]=function(Z,J){var{field:Q,operator:K,value:U}=Z;return VA0(fi(J,Q),K,U)};uJ[d8.DATA_BOOL]=function(Z,J){var{field:Q,operator:K}=Z;return HB8(fi(J,Q),K)};uJ[d8.DATA_EXIST]=function(Z,J){var Q=Z.field;return Z.operator,FB8(fi(J,Q))};uJ[d8.UNDIRECTED_EDGE]=function(Z,J){var Q=Z.nodes[0],K=Z.nodes[1],U=J.source(),X=J.target();return qJ(Q,U)&&qJ(K,X)||qJ(K,U)&&qJ(Q,X)};uJ[d8.NODE_NEIGHBOR]=function(Z,J){return qJ(Z.node,J)&&J.neighborhood().some(function(Q){return Q.isNode()&&qJ(Z.neighbor,Q)})};uJ[d8.DIRECTED_EDGE]=function(Z,J){return qJ(Z.source,J.source())&&qJ(Z.target,J.target())};uJ[d8.NODE_SOURCE]=function(Z,J){return qJ(Z.source,J)&&J.outgoers().some(function(Q){return Q.isNode()&&qJ(Z.target,Q)})};uJ[d8.NODE_TARGET]=function(Z,J){return qJ(Z.target,J)&&J.incomers().some(function(Q){return Q.isNode()&&qJ(Z.source,Q)})};uJ[d8.CHILD]=function(Z,J){return qJ(Z.child,J)&&qJ(Z.parent,J.parent())};uJ[d8.PARENT]=function(Z,J){return qJ(Z.parent,J)&&J.children().some(function(Q){return qJ(Z.child,Q)})};uJ[d8.DESCENDANT]=function(Z,J){return qJ(Z.descendant,J)&&J.ancestors().some(function(Q){return qJ(Z.ancestor,Q)})};uJ[d8.ANCESTOR]=function(Z,J){return qJ(Z.ancestor,J)&&J.descendants().some(function(Q){return qJ(Z.descendant,Q)})};uJ[d8.COMPOUND_SPLIT]=function(Z,J){return qJ(Z.subject,J)&&qJ(Z.left,J)&&qJ(Z.right,J)};uJ[d8.TRUE]=function(){return!0};uJ[d8.COLLECTION]=function(Z,J){var Q=Z.value;return Q.has(J)};uJ[d8.FILTER]=function(Z,J){var Q=Z.value;return Q(J)};RB8={matches:OB8,filter:BB8},Eq=Nq.prototype;[zB8,RB8].forEach(function(Z){return BZ(Eq,Z)});Eq.text=function(){return this.inputText};Eq.size=function(){return this.length};Eq.eq=function(Z){return this[Z]};Eq.sameText=function(Z){return!this.invalid&&!Z.invalid&&this.text()===Z.text()};Eq.addQuery=function(Z){this[this.length++]=Z};Eq.selector=Eq.toString;Rq={allAre:function(J){var Q=new Nq(J);return this.every(function(K){return Q.matches(K)})},is:function(J){var Q=new Nq(J);return this.some(function(K){return Q.matches(K)})},some:function(J,Q){for(var K=0;K<this.length;K++){var U=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(U)return!0}return!1},every:function(J,Q){for(var K=0;K<this.length;K++){var U=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(!U)return!1}return!0},same:function(J){if(this===J)return!0;J=this.cy().collection(J);var Q=this.length,K=J.length;if(Q!==K)return!1;if(Q===1)return this[0]===J[0];return this.every(function(U){return J.hasElementWithId(U.id())})},anySame:function(J){return J=this.cy().collection(J),this.some(function(Q){return J.hasElementWithId(Q.id())})},allAreNeighbors:function(J){J=this.cy().collection(J);var Q=this.neighborhood();return J.every(function(K){return Q.hasElementWithId(K.id())})},contains:function(J){J=this.cy().collection(J);var Q=this;return J.every(function(K){return Q.hasElementWithId(K.id())})}};Rq.allAreNeighbours=Rq.allAreNeighbors;Rq.has=Rq.contains;Rq.equal=Rq.equals=Rq.same;RF={parent:function(J){var Q=[];if(this.length===1){var K=this[0]._private.parent;if(K)return K}for(var U=0;U<this.length;U++){var X=this[U],Y=X._private.parent;if(Y)Q.push(Y)}return this.spawn(Q,!0).filter(J)},parents:function(J){var Q=[],K=this.parent();while(K.nonempty()){for(var U=0;U<K.length;U++){var X=K[U];Q.push(X)}K=K.parent()}return this.spawn(Q,!0).filter(J)},commonAncestors:function(J){var Q;for(var K=0;K<this.length;K++){var U=this[K],X=U.parents();Q=Q||X,Q=Q.intersect(X)}return Q.filter(J)},orphans:function(J){return this.stdFilter(function(Q){return Q.isOrphan()}).filter(J)},nonorphans:function(J){return this.stdFilter(function(Q){return Q.isChild()}).filter(J)},children:LK(function(Z){var J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],U=K._private.children;for(var X=0;X<U.length;X++)J.push(U[X])}return this.spawn(J,!0).filter(Z)},"children"),siblings:function(J){return this.parent().children().not(this).filter(J)},isParent:function(){var J=this[0];if(J)return J.isNode()&&J._private.children.length!==0},isChildless:function(){var J=this[0];if(J)return J.isNode()&&J._private.children.length===0},isChild:function(){var J=this[0];if(J)return J.isNode()&&J._private.parent!=null},isOrphan:function(){var J=this[0];if(J)return J.isNode()&&J._private.parent==null},descendants:function(J){var Q=[];function K(U){for(var X=0;X<U.length;X++){var Y=U[X];if(Q.push(Y),Y.children().nonempty())K(Y.children())}}return K(this.children()),this.spawn(Q,!0).filter(J)}};RF.forEachDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xi(this,Z,J,PA0)};RF.forEachUp=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xi(this,Z,J,CA0)};RF.forEachUpAndDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xi(this,Z,J,LB8)};RF.ancestors=RF.parents;BD=jA0={data:C9.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:C9.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:C9.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:C9.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:C9.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:C9.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var J=this[0];if(J)return J._private.data.id}};BD.attr=BD.data;BD.removeAttr=BD.removeData;DB8=jA0,cS={};BZ(cS,{degree:gd(function(Z,J){if(J.source().same(J.target()))return 2;else return 1}),indegree:gd(function(Z,J){if(J.target().same(Z))return 1;else return 0}),outdegree:gd(function(Z,J){if(J.source().same(Z))return 1;else return 0})});BZ(cS,{minDegree:ZF("degree",function(Z,J){return Z<J}),maxDegree:ZF("degree",function(Z,J){return Z>J}),minIndegree:ZF("indegree",function(Z,J){return Z<J}),maxIndegree:ZF("indegree",function(Z,J){return Z>J}),minOutdegree:ZF("outdegree",function(Z,J){return Z<J}),maxOutdegree:ZF("outdegree",function(Z,J){return Z>J})});BZ(cS,{totalDegree:function(J){var Q=0,K=this.nodes();for(var U=0;U<K.length;U++)Q+=K[U].degree(J);return Q}});dD0={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(J){J.updateCompoundBounds()},beforeSet:function(J,Q){TA0(J,Q,!1)},onSet:function(J){J.dirtyCompoundBoundsCache()},canSet:function(J){return!J.locked()}};A5=SA0={position:C9.data(dD0),silentPosition:C9.data(BZ({},dD0,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(J,Q){TA0(J,Q,!0)},onSet:function(J){J.dirtyCompoundBoundsCache()}})),positions:function(J,Q){if(H9(J))if(Q)this.silentPosition(J);else this.position(J);else if($J(J)){var K=J,U=this.cy();U.startBatch();for(var X=0;X<this.length;X++){var Y=this[X],q=void 0;if(q=K(Y,X))if(Q)Y.silentPosition(q);else Y.position(q)}U.endBatch()}return this},silentPositions:function(J){return this.positions(J,!0)},shift:function(J,Q,K){var U;if(H9(J))U={x:k8(J.x)?J.x:0,y:k8(J.y)?J.y:0},K=Q;else if(XZ(J)&&k8(Q))U={x:0,y:0},U[J]=Q;if(U!=null){var X=this.cy();X.startBatch();for(var Y=0;Y<this.length;Y++){var q=this[Y];if(X.hasCompoundNodes()&&q.isChild()&&q.ancestors().anySame(this))continue;var W=q.position(),G={x:W.x+U.x,y:W.y+U.y};if(K)q.silentPosition(G);else q.position(G)}X.endBatch()}return this},silentShift:function(J,Q){if(H9(J))this.shift(J,!0);else if(XZ(J)&&k8(Q))this.shift(J,Q,!0);return this},renderedPosition:function(J,Q){var K=this[0],U=this.cy(),X=U.zoom(),Y=U.pan(),q=H9(J)?J:void 0,W=q!==void 0||Q!==void 0&&XZ(J);if(K&&K.isNode())if(W)for(var G=0;G<this.length;G++){var z=this[G];if(Q!==void 0)z.position(J,(Q-Y[J])/X);else if(q!==void 0)z.position(QA0(q,X,Y))}else{var H=K.position();if(q=yS(H,X,Y),J===void 0)return q;else return q[J]}else if(!W)return;return this},relativePosition:function(J,Q){var K=this[0],U=this.cy(),X=H9(J)?J:void 0,Y=X!==void 0||Q!==void 0&&XZ(J),q=U.hasCompoundNodes();if(K&&K.isNode())if(Y)for(var W=0;W<this.length;W++){var G=this[W],z=q?G.parent():null,H=z&&z.length>0,F=H;if(H)z=z[0];var M=F?z.position():{x:0,y:0};if(Q!==void 0)G.position(J,Q+M[J]);else if(X!==void 0)G.position({x:X.x+M.x,y:X.y+M.y})}else{var B=K.position(),O=q?K.parent():null,R=O&&O.length>0,L=R;if(R)O=O[0];var D=L?O.position():{x:0,y:0};if(X={x:B.x-D.x,y:B.y-D.y},J===void 0)return X;else return X[J]}else if(!Y)return;return this}};A5.modelPosition=A5.point=A5.position;A5.modelPositions=A5.points=A5.positions;A5.renderedPoint=A5.renderedPosition;A5.relativePoint=A5.relativePosition;IB8=SA0;MF=jq={};jq.renderedBoundingBox=function(Z){var J=this.boundingBox(Z),Q=this.cy(),K=Q.zoom(),U=Q.pan(),X=J.x1*K+U.x,Y=J.x2*K+U.x,q=J.y1*K+U.y,W=J.y2*K+U.y;return{x1:X,x2:Y,y1:q,y2:W,w:Y-X,h:W-q}};jq.dirtyCompoundBoundsCache=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;return this.forEachUp(function(Q){if(Q.isParent()){var K=Q._private;if(K.compoundBoundsClean=!1,K.bbCache=null,!Z)Q.emitAndNotify("bounds")}}),this};jq.updateCompoundBounds=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;if(!Z&&J.batching())return this;function Q(Y){if(!Y.isParent())return;var q=Y._private,W=Y.children(),G=Y.pstyle("compound-sizing-wrt-labels").value==="include",z={width:{val:Y.pstyle("min-width").pfValue,left:Y.pstyle("min-width-bias-left"),right:Y.pstyle("min-width-bias-right")},height:{val:Y.pstyle("min-height").pfValue,top:Y.pstyle("min-height-bias-top"),bottom:Y.pstyle("min-height-bias-bottom")}},H=W.boundingBox({includeLabels:G,includeOverlays:!1,useCache:!1}),F=q.position;if(H.w===0||H.h===0)H={w:Y.pstyle("width").pfValue,h:Y.pstyle("height").pfValue},H.x1=F.x-H.w/2,H.x2=F.x+H.w/2,H.y1=F.y-H.h/2,H.y2=F.y+H.h/2;function M($,k,w){var P=0,S=0,T=k+w;if($>0&&T>0)P=k/T*$,S=w/T*$;return{biasDiff:P,biasComplementDiff:S}}function B($,k,w,P){if(w.units==="%")switch(P){case"width":return $>0?w.pfValue*$:0;case"height":return k>0?w.pfValue*k:0;case"average":return $>0&&k>0?w.pfValue*($+k)/2:0;case"min":return $>0&&k>0?$>k?w.pfValue*k:w.pfValue*$:0;case"max":return $>0&&k>0?$>k?w.pfValue*$:w.pfValue*k:0;default:return 0}else if(w.units==="px")return w.pfValue;else return 0}var O=z.width.left.value;if(z.width.left.units==="px"&&z.width.val>0)O=O*100/z.width.val;var R=z.width.right.value;if(z.width.right.units==="px"&&z.width.val>0)R=R*100/z.width.val;var L=z.height.top.value;if(z.height.top.units==="px"&&z.height.val>0)L=L*100/z.height.val;var D=z.height.bottom.value;if(z.height.bottom.units==="px"&&z.height.val>0)D=D*100/z.height.val;var A=M(z.width.val-H.w,O,R),V=A.biasDiff,N=A.biasComplementDiff,E=M(z.height.val-H.h,L,D),C=E.biasDiff,j=E.biasComplementDiff;q.autoPadding=B(H.w,H.h,Y.pstyle("padding"),Y.pstyle("padding-relative-to").value),q.autoWidth=Math.max(H.w,z.width.val),F.x=(-V+H.x1+H.x2+N)/2,q.autoHeight=Math.max(H.h,z.height.val),F.y=(-C+H.y1+H.y2+j)/2}for(var K=0;K<this.length;K++){var U=this[K],X=U._private;if(!X.compoundBoundsClean||Z){if(Q(U),!J.batching())X.compoundBoundsClean=!0}}return this};OD={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},rD0=$A0(OD),nD0=zQ(OD);jq.boundingBox=function(Z){var J,Q=Z===void 0||Z.useCache===void 0||Z.useCache===!0,K=BF(function(z){var H=z._private;return H.bbCache==null||H.styleDirty||H.bbCachePosKey!==kA0(z)},function(z){return z.id()});if(Q&&this.length===1&&!K(this[0])){if(Z===void 0)Z=OD;else Z=nD0(Z);J=sD0(this[0],Z)}else{J=X6(),Z=Z||OD;var U=nD0(Z),X=this,Y=X.cy(),q=Y.styleEnabled();if(this.edges().forEach(K),this.nodes().forEach(K),q)this.recalculateRenderedStyle(Q);this.updateCompoundBounds(!Q);for(var W=0;W<X.length;W++){var G=X[W];if(K(G))G.dirtyBoundingBoxCache();Fq(J,sD0(G,U))}}return J.x1=RK(J.x1),J.y1=RK(J.y1),J.x2=RK(J.x2),J.y2=RK(J.y2),J.w=RK(J.x2-J.x1),J.h=RK(J.y2-J.y1),J};jq.dirtyBoundingBoxCache=function(){for(var Z=0;Z<this.length;Z++){var J=this[Z]._private;J.bbCache=null,J.bbCachePosKey=null,J.bodyBounds=null,J.overlayBounds=null,J.labelBounds.all=null,J.labelBounds.source=null,J.labelBounds.target=null,J.labelBounds.main=null,J.labelBounds.sourceRot=null,J.labelBounds.targetRot=null,J.labelBounds.mainRot=null,J.arrowBounds.source=null,J.arrowBounds.target=null,J.arrowBounds["mid-source"]=null,J.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};jq.boundingBoxAt=function(Z){var J=this.nodes(),Q=this.cy(),K=Q.hasCompoundNodes(),U=Q.collection();if(K)U=J.filter(function(G){return G.isParent()}),J=J.not(U);if(H9(Z)){var X=Z;Z=function(){return X}}var Y=function(z,H){return z._private.bbAtOldPos=Z(z,H)},q=function(z){return z._private.bbAtOldPos};if(Q.startBatch(),J.forEach(Y).silentPositions(Z),K)U.dirtyCompoundBoundsCache(),U.dirtyBoundingBoxCache(),U.updateCompoundBounds(!0);var W=JF8(this.boundingBox({useCache:!1}));if(J.silentPositions(q),K)U.dirtyCompoundBoundsCache(),U.dirtyBoundingBoxCache(),U.updateCompoundBounds(!0);return Q.endBatch(),W};MF.boundingbox=MF.bb=MF.boundingBox;MF.renderedBoundingbox=MF.renderedBoundingBox;EB8=jq;UD=jD={};_A0({name:"width"});_A0({name:"height"});jD.padding=function(){var Z=this[0],J=Z._private;if(Z.isParent())if(Z.updateCompoundBounds(),J.autoPadding!==void 0)return J.autoPadding;else return Z.pstyle("padding").pfValue;else return Z.pstyle("padding").pfValue};jD.paddedHeight=function(){var Z=this[0];return Z.height()+2*Z.padding()};jD.paddedWidth=function(){var Z=this[0];return Z.width()+2*Z.padding()};VB8=jD,aD0={controlPoints:{get:SB8,mult:!0},segmentPoints:{get:TB8,mult:!0},sourceEndpoint:{get:wB8},targetEndpoint:{get:$B8},midpoint:{get:kB8}},fB8=Object.keys(aD0).reduce(function(Z,J){var Q=aD0[J],K=_B8(J);if(Z[J]=function(){return PB8(this,Q.get)},Q.mult)Z[K]=function(){return jB8(this,Q.get)};else Z[K]=function(){return CB8(this,Q.get)};return Z},{}),vB8=BZ({},IB8,EB8,VB8,fB8);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/fA0.prototype={instanceString:function(){return"event"},recycle:function(J,Q){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=tL,J!=null&&J.preventDefault)this.type=J.type,this.isDefaultPrevented=J.defaultPrevented?KS:tL;else if(J!=null&&J.type)Q=J;else this.type=J;if(Q!=null)this.originalEvent=Q.originalEvent,this.type=Q.type!=null?Q.type:this.type,this.cy=Q.cy,this.target=Q.target,this.position=Q.position,this.renderedPosition=Q.renderedPosition,this.namespace=Q.namespace,this.layout=Q.layout;if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var K=this.position,U=this.cy.zoom(),X=this.cy.pan();this.renderedPosition={x:K.x*U+X.x,y:K.y*U+X.y}}this.timeStamp=J&&J.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=KS;var J=this.originalEvent;if(!J)return;if(J.preventDefault)J.preventDefault()},stopPropagation:function(){this.isPropagationStopped=KS;var J=this.originalEvent;if(!J)return;if(J.stopPropagation)J.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=KS,this.stopPropagation()},isDefaultPrevented:tL,isPropagationStopped:tL,isImmediatePropagationStopped:tL};vA0=/^([^.]+)(\.(?:[^.]+))?$/,xA0={qualifierCompare:function(J,Q){return J===Q},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(J){return J},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},oD0=Object.keys(xA0),bB8={};Vq=lS.prototype;Vq.on=Vq.addListener=function(Z,J,Q,K,U){return bA0(this,function(X,Y,q,W,G,z,H){if($J(z))X.listeners.push({event:Y,callback:z,type:q,namespace:W,qualifier:G,conf:H})},Z,J,Q,K,U),this};Vq.one=function(Z,J,Q,K){return this.on(Z,J,Q,K,{one:!0})};Vq.removeListener=Vq.off=function(Z,J,Q,K){var U=this;if(this.emitting!==0)this.listeners=C28(this.listeners);var X=this.listeners,Y=function(G){var z=X[G];bA0(U,function(H,F,M,B,O,R){if((z.type===M||Z==="*")&&(!B&&z.namespace!==".*"||z.namespace===B)&&(!O||H.qualifierCompare(z.qualifier,O))&&(!R||z.callback===R))return X.splice(G,1),!1},Z,J,Q,K)};for(var q=X.length-1;q>=0;q--)Y(q);return this};Vq.removeAllListeners=function(){return this.removeListener("*")};Vq.emit=Vq.trigger=function(Z,J,Q){var K=this.listeners,U=K.length;if(this.emitting++,!l9(J))J=[J];return yB8(this,function(X,Y){if(Q!=null)K=[{event:Y.event,type:Y.type,namespace:Y.namespace,callback:Q}],U=K.length;var q=function(){var z=K[W];if(z.type===Y.type&&(!z.namespace||z.namespace===Y.namespace||z.namespace===xB8)&&X.eventMatches(X.context,z,Y)){var H=[Y];if(J!=null)S28(H,J);if(X.beforeEmit(X.context,z,Y),z.conf&&z.conf.one)X.listeners=X.listeners.filter(function(B){return B!==z});var F=X.callbackContext(X.context,z,Y),M=z.callback.apply(F,H);if(X.afterEmit(X.context,z,Y),M===!1)Y.stopPropagation(),Y.preventDefault()}};for(var W=0;W<U;W++)q();if(X.bubble(X.context)&&!Y.isPropagationStopped())X.parent(X.context).emit(Y,J)},Z),this.emitting--,this};hB8={qualifierCompare:function(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function(J,Q,K){var U=Q.qualifier;if(U!=null)return J!==K.target&&AD(K.target)&&U.matches(K.target);return!0},addEventFields:function(J,Q){Q.cy=J.cy(),Q.target=J},callbackContext:function(J,Q,K){return Q.qualifier!=null?K.target:J},beforeEmit:function(J,Q){if(Q.conf&&Q.conf.once)Q.conf.onceCollection.removeListener(Q.event,Q.qualifier,Q.callback)},bubble:function(){return!0},parent:function(J){return J.isChild()?J.parent():J.cy()}},yA0={createEmitter:function(){for(var J=0;J<this.length;J++){var Q=this[J],K=Q._private;if(!K.emitter)K.emitter=new lS(hB8,Q)}return this},emitter:function(){return this._private.emitter},on:function(J,Q,K){var U=US(Q);for(var X=0;X<this.length;X++){var Y=this[X];Y.emitter().on(J,U,K)}return this},removeListener:function(J,Q,K){var U=US(Q);for(var X=0;X<this.length;X++){var Y=this[X];Y.emitter().removeListener(J,U,K)}return this},removeAllListeners:function(){for(var J=0;J<this.length;J++){var Q=this[J];Q.emitter().removeAllListeners()}return this},one:function(J,Q,K){var U=US(Q);for(var X=0;X<this.length;X++){var Y=this[X];Y.emitter().one(J,U,K)}return this},once:function(J,Q,K){var U=US(Q);for(var X=0;X<this.length;X++){var Y=this[X];Y.emitter().on(J,U,K,{once:!0,onceCollection:this})}},emit:function(J,Q){for(var K=0;K<this.length;K++){var U=this[K];U.emitter().emit(J,Q)}return this},emitAndNotify:function(J,Q){if(this.length===0)return;return this.cy().notify(J,this),this.emit(J,Q),this}};C9.eventAliasesOn(yA0);hA0={nodes:function(J){return this.filter(function(Q){return Q.isNode()}).filter(J)},edges:function(J){return this.filter(function(Q){return Q.isEdge()}).filter(J)},byGroup:function(){var J=this.spawn(),Q=this.spawn();for(var K=0;K<this.length;K++){var U=this[K];if(U.isNode())J.push(U);else Q.push(U)}return{nodes:J,edges:Q}},filter:function(J,Q){if(J===void 0)return this;else if(XZ(J)||x4(J))return new Nq(J).filter(this);else if($J(J)){var K=this.spawn(),U=this;for(var X=0;X<U.length;X++){var Y=U[X],q=Q?J.apply(Q,[Y,X,U]):J(Y,X,U);if(q)K.push(Y)}return K}return this.spawn()},not:function(J){if(!J)return this;else{if(XZ(J))J=this.filter(J);var Q=this.spawn();for(var K=0;K<this.length;K++){var U=this[K],X=J.has(U);if(!X)Q.push(U)}return Q}},absoluteComplement:function(){var J=this.cy();return J.mutableElements().not(this)},intersect:function(J){if(XZ(J)){var Q=J;return this.filter(Q)}var K=this.spawn(),U=this,X=J,Y=this.length<J.length,q=Y?U:X,W=Y?X:U;for(var G=0;G<q.length;G++){var z=q[G];if(W.has(z))K.push(z)}return K},xor:function(J){var Q=this._private.cy;if(XZ(J))J=Q.$(J);var K=this.spawn(),U=this,X=J,Y=function(W,G){for(var z=0;z<W.length;z++){var H=W[z],F=H._private.data.id,M=G.hasElementWithId(F);if(!M)K.push(H)}};return Y(U,X),Y(X,U),K},diff:function(J){var Q=this._private.cy;if(XZ(J))J=Q.$(J);var K=this.spawn(),U=this.spawn(),X=this.spawn(),Y=this,q=J,W=function(z,H,F){for(var M=0;M<z.length;M++){var B=z[M],O=B._private.data.id,R=H.hasElementWithId(O);if(R)X.merge(B);else F.push(B)}};return W(Y,q,K),W(q,Y,U),{left:K,right:U,both:X}},add:function(J){var Q=this._private.cy;if(!J)return this;if(XZ(J)){var K=J;J=Q.mutableElements().filter(K)}var U=this.spawnSelf();for(var X=0;X<J.length;X++){var Y=J[X],q=!this.has(Y);if(q)U.push(Y)}return U},merge:function(J){var Q=this._private,K=Q.cy;if(!J)return this;if(J&&XZ(J)){var U=J;J=K.mutableElements().filter(U)}var X=Q.map;for(var Y=0;Y<J.length;Y++){var q=J[Y],W=q._private.data.id,G=!X.has(W);if(G){var z=this.length++;this[z]=q,X.set(W,{ele:q,index:z})}}return this},unmergeAt:function(J){var Q=this[J],K=Q.id(),U=this._private,X=U.map;this[J]=void 0,X.delete(K);var Y=J===this.length-1;if(this.length>1&&!Y){var q=this.length-1,W=this[q],G=W._private.data.id;this[q]=void 0,this[J]=W,X.set(G,{ele:W,index:J})}return this.length--,this},unmergeOne:function(J){J=J[0];var Q=this._private,K=J._private.data.id,U=Q.map,X=U.get(K);if(!X)return this;var Y=X.index;return this.unmergeAt(Y),this},unmerge:function(J){var Q=this._private.cy;if(!J)return this;if(J&&XZ(J)){var K=J;J=Q.mutableElements().filter(K)}for(var U=0;U<J.length;U++)this.unmergeOne(J[U]);return this},unmergeBy:function(J){for(var Q=this.length-1;Q>=0;Q--){var K=this[Q];if(J(K))this.unmergeAt(Q)}return this},map:function(J,Q){var K=[],U=this;for(var X=0;X<U.length;X++){var Y=U[X],q=Q?J.apply(Q,[Y,X,U]):J(Y,X,U);K.push(q)}return K},reduce:function(J,Q){var K=Q,U=this;for(var X=0;X<U.length;X++)K=J(K,U[X],X,U);return K},max:function(J,Q){var K=-1/0,U,X=this;for(var Y=0;Y<X.length;Y++){var q=X[Y],W=Q?J.apply(Q,[q,Y,X]):J(q,Y,X);if(W>K)K=W,U=q}return{value:K,ele:U}},min:function(J,Q){var K=1/0,U,X=this;for(var Y=0;Y<X.length;Y++){var q=X[Y],W=Q?J.apply(Q,[q,Y,X]):J(q,Y,X);if(W<K)K=W,U=q}return{value:K,ele:U}}},D9=hA0;D9.u=D9["|"]=D9["+"]=D9.union=D9.or=D9.add;D9["\\"]=D9["!"]=D9["-"]=D9.difference=D9.relativeComplement=D9.subtract=D9.not;D9.n=D9["&"]=D9["."]=D9.and=D9.intersection=D9.intersect;D9["^"]=D9["(+)"]=D9["(-)"]=D9.symmetricDifference=D9.symdiff=D9.xor;D9.fnFilter=D9.filterFn=D9.stdFilter=D9.filter;D9.complement=D9.abscomp=D9.absoluteComplement;mB8={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var J=this[0];if(J)return J._private.group}},SS={forEach:function(J,Q){if($J(J)){var K=this.length;for(var U=0;U<K;U++){var X=this[U],Y=Q?J.apply(Q,[X,U,this]):J(X,U,this);if(Y===!1)break}}return this},toArray:function(){var J=[];for(var Q=0;Q<this.length;Q++)J.push(this[Q]);return J},slice:function(J,Q){var K=[],U=this.length;if(Q==null)Q=U;if(J==null)J=0;if(J<0)J=U+J;if(Q<0)Q=U+Q;for(var X=J;X>=0&&X<Q&&X<U;X++)K.push(this[X]);return this.spawn(K)},size:function(){return this.length},eq:function(J){return this[J]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(J){if(!$J(J))return this;var Q=this.toArray().sort(J);return this.spawn(Q)},sortByZIndex:function(){return this.sort(mA0)},zDepth:function(){var J=this[0];if(!J)return;var Q=J._private,K=Q.group;if(K==="nodes"){var U=Q.data.parent?J.parents().size():0;if(!J.isParent())return Vi-1;return U}else{var{source:X,target:Y}=Q,q=X.zDepth(),W=Y.zDepth();return Math.max(q,W,0)}}};SS.each=SS.forEach;uB8();gB8=zQ({nodeDimensionsIncludeLabels:!1}),MS={layoutDimensions:function(J){J=gB8(J);var Q;if(!this.takesUpSpace())Q={w:0,h:0};else if(J.nodeDimensionsIncludeLabels){var K=this.boundingBox();Q={w:K.w,h:K.h}}else Q={w:this.outerWidth(),h:this.outerHeight()};if(Q.w===0||Q.h===0)Q.w=Q.h=1;return Q},layoutPositions:function(J,Q,K){var U=this.nodes().filter(function(N){return!N.isParent()}),X=this.cy(),Y=Q.eles,q=function(E){return E.id()},W=BF(K,q);J.emit({type:"layoutstart",layout:J}),J.animations=[];var G=function(E,C,j){var $={x:C.x1+C.w/2,y:C.y1+C.h/2},k={x:(j.x-$.x)*E,y:(j.y-$.y)*E};return{x:$.x+k.x,y:$.y+k.y}},z=Q.spacingFactor&&Q.spacingFactor!==1,H=function(){if(!z)return null;var E=X6();for(var C=0;C<U.length;C++){var j=U[C],$=W(j,C);KA0(E,$.x,$.y)}return E},F=H(),M=BF(function(N,E){var C=W(N,E);if(z){var j=Math.abs(Q.spacingFactor);C=G(j,F,C)}if(Q.transform!=null)C=Q.transform(N,C);return C},q);if(Q.animate){for(var B=0;B<U.length;B++){var O=U[B],R=M(O,B),L=Q.animateFilter==null||Q.animateFilter(O,B);if(L){var D=O.animation({position:R,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(D)}else O.position(R)}if(Q.fit){var A=X.animation({fit:{boundingBox:Y.boundingBoxAt(M),padding:Q.padding},duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(A)}else if(Q.zoom!==void 0&&Q.pan!==void 0){var V=X.animation({zoom:Q.zoom,pan:Q.pan,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(V)}J.animations.forEach(function(N){return N.play()}),J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),DF.all(J.animations.map(function(N){return N.promise()})).then(function(){J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})})}else{if(U.positions(M),Q.fit)X.fit(Q.eles,Q.padding);if(Q.zoom!=null)X.zoom(Q.zoom);if(Q.pan)X.pan(Q.pan);J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})}return this},layout:function(J){var Q=this.cy();return Q.makeLayout(BZ({},J,{eles:this}))}};MS.createLayout=MS.makeLayout=MS.layout;WQ={recalculateRenderedStyle:function(J){var Q=this.cy(),K=Q.renderer(),U=Q.styleEnabled();if(K&&U)K.recalculateRenderedStyle(this,J);return this},dirtyStyleCache:function(){var J=this.cy(),Q=function(X){return X._private.styleCache=null};if(J.hasCompoundNodes()){var K=this.spawnSelf().merge(this.descendants()).merge(this.parents());K.merge(K.connectedEdges()),K.forEach(Q)}else this.forEach(function(U){Q(U),U.connectedEdges().forEach(Q)});return this},updateStyle:function(J){var Q=this._private.cy;if(!Q.styleEnabled())return this;if(Q.batching()){var K=Q._private.batchStyleEles;return K.merge(this),this}var U=Q.hasCompoundNodes(),X=this;if(J=J||J===void 0?!0:!1,U)X=this.spawnSelf().merge(this.descendants()).merge(this.parents());var Y=X;if(J)Y.emitAndNotify("style");else Y.emit("style");return X.forEach(function(q){return q._private.styleDirty=!0}),this},cleanStyle:function(){var J=this.cy();if(!J.styleEnabled())return;for(var Q=0;Q<this.length;Q++){var K=this[Q];if(K._private.styleDirty)K._private.styleDirty=!1,J.style().apply(K)}},parsedStyle:function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=this[0],U=K.cy();if(!U.styleEnabled())return;if(K){if(K._private.styleDirty)K._private.styleDirty=!1,U.style().apply(K);var X=K._private.style[J];if(X!=null)return X;else if(Q)return U.style().getDefaultProperty(J);else return null}},numericStyle:function(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q){var K=Q.pstyle(J);return K.pfValue!==void 0?K.pfValue:K.value}},numericStyleUnits:function(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q)return Q.pstyle(J).units},renderedStyle:function(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=this[0];if(K)return Q.style().getRenderedStyle(K,J)},style:function(J,Q){var K=this.cy();if(!K.styleEnabled())return this;var U=!1,X=K.style();if(H9(J)){var Y=J;X.applyBypass(this,Y,U),this.emitAndNotify("style")}else if(XZ(J))if(Q===void 0){var q=this[0];if(q)return X.getStylePropertyValue(q,J);else return}else X.applyBypass(this,J,Q,U),this.emitAndNotify("style");else if(J===void 0){var W=this[0];if(W)return X.getRawStyle(W);else return}return this},removeStyle:function(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=!1,U=Q.style(),X=this;if(J===void 0)for(var Y=0;Y<X.length;Y++){var q=X[Y];U.removeAllBypasses(q,K)}else{J=J.split(/\s+/);for(var W=0;W<X.length;W++){var G=X[W];U.removeBypasses(G,J,K)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var J=this.cy();if(!J.styleEnabled())return 1;var Q=J.hasCompoundNodes(),K=this[0];if(K){var U=K._private,X=K.pstyle("opacity").value;if(!Q)return X;var Y=!U.data.parent?null:K.parents();if(Y)for(var q=0;q<Y.length;q++){var W=Y[q],G=W.pstyle("opacity").value;X=G*X}return X}},transparent:function(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0],K=Q.cy().hasCompoundNodes();if(Q)if(!K)return Q.pstyle("opacity").value===0;else return Q.effectiveOpacity()===0},backgrounding:function(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0];return Q._private.backgrounding?!0:!1}};IF=dS("eleTakesUpSpace",function(Z){return Z.pstyle("display").value==="element"&&Z.width()!==0&&(Z.isNode()?Z.height()!==0:!0)});WQ.takesUpSpace=iS("takesUpSpace",bi({ok:IF}));pB8=dS("eleInteractive",function(Z){return Z.pstyle("events").value==="yes"&&Z.pstyle("visibility").value==="visible"&&IF(Z)}),cB8=dS("parentInteractive",function(Z){return Z.pstyle("visibility").value==="visible"&&IF(Z)});WQ.interactive=iS("interactive",bi({ok:pB8,parentOk:cB8,edgeOkViaNode:IF}));WQ.noninteractive=function(){var Z=this[0];if(Z)return!Z.interactive()};lB8=dS("eleVisible",function(Z){return Z.pstyle("visibility").value==="visible"&&Z.pstyle("opacity").pfValue!==0&&IF(Z)}),dB8=IF;WQ.visible=iS("visible",bi({ok:lB8,edgeOkViaNode:dB8}));WQ.hidden=function(){var Z=this[0];if(Z)return!Z.visible()};WQ.isBundledBezier=iS("isBundledBezier",function(){if(!this.cy().styleEnabled())return!1;return!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()});WQ.bypass=WQ.css=WQ.style;WQ.renderedCss=WQ.renderedStyle;WQ.removeBypass=WQ.removeCss=WQ.removeStyle;WQ.pstyle=WQ.parsedStyle;Lq={};AF({field:"locked",overrideField:function(J){return J.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});AF({field:"grabbable",overrideField:function(J){return J.cy().autoungrabify()||J.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});AF({field:"selected",ableField:"selectable",overrideAble:function(J){return J.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});AF({field:"selectable",overrideField:function(J){return J.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Lq.deselect=Lq.unselect;Lq.grabbed=function(){var Z=this[0];if(Z)return Z._private.grabbed};AF({field:"active",on:"activate",off:"unactivate"});AF({field:"pannable",on:"panify",off:"unpanify"});Lq.inactive=function(){var Z=this[0];if(Z)return!Z._private.active};SQ={};SQ.clearTraversalCache=function(){for(var Z=0;Z<this.length;Z++)this[Z]._private.traversalCache=null};BZ(SQ,{roots:ZI0({noIncomingEdges:!0}),leaves:ZI0({noOutgoingEdges:!0}),outgoers:LK(JI0({outgoing:!0}),"outgoers"),successors:QI0({outgoing:!0}),incomers:LK(JI0({incoming:!0}),"incomers"),predecessors:QI0({})});BZ(SQ,{neighborhood:LK(function(Z){var J=[],Q=this.nodes();for(var K=0;K<Q.length;K++){var U=Q[K],X=U.connectedEdges();for(var Y=0;Y<X.length;Y++){var q=X[Y],W=q.source(),G=q.target(),z=U===W?G:W;if(z.length>0)J.push(z[0]);J.push(q[0])}}return this.spawn(J,!0).filter(Z)},"neighborhood"),closedNeighborhood:function(J){return this.neighborhood().add(this).filter(J)},openNeighborhood:function(J){return this.neighborhood(J)}});SQ.neighbourhood=SQ.neighborhood;SQ.closedNeighbourhood=SQ.closedNeighborhood;SQ.openNeighbourhood=SQ.openNeighborhood;BZ(SQ,{source:LK(function(J){var Q=this[0],K;if(Q)K=Q._private.source||Q.cy().collection();return K&&J?K.filter(J):K},"source"),target:LK(function(J){var Q=this[0],K;if(Q)K=Q._private.target||Q.cy().collection();return K&&J?K.filter(J):K},"target"),sources:KI0({attr:"source"}),targets:KI0({attr:"target"})});BZ(SQ,{edgesWith:LK(UI0(),"edgesWith"),edgesTo:LK(UI0({thisIsSrc:!0}),"edgesTo")});BZ(SQ,{connectedEdges:LK(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var U=Q[K];if(!U.isNode())continue;var X=U._private.edges;for(var Y=0;Y<X.length;Y++){var q=X[Y];J.push(q)}}return this.spawn(J,!0).filter(Z)},"connectedEdges"),connectedNodes:LK(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var U=Q[K];if(!U.isEdge())continue;J.push(U.source()[0]),J.push(U.target()[0])}return this.spawn(J,!0).filter(Z)},"connectedNodes"),parallelEdges:LK(XI0(),"parallelEdges"),codirectedEdges:LK(XI0({codirected:!0}),"codirectedEdges")});BZ(SQ,{components:function(J){var Q=this,K=Q.cy(),U=K.collection(),X=J==null?Q.nodes():J.nodes(),Y=[];if(J!=null&&X.empty())X=J.sources();var q=function(z,H){U.merge(z),X.unmerge(z),H.merge(z)};if(X.empty())return Q.spawn();var W=function(){var z=K.collection();Y.push(z);var H=X[0];q(H,z),Q.bfs({directed:!1,roots:H,visit:function(M){return q(M,z)}}),z.forEach(function(F){F.connectedEdges().forEach(function(M){if(Q.has(M)&&z.has(M.source())&&z.has(M.target()))z.merge(M)})})};do W();while(X.length>0);return Y},component:function(){var J=this[0];return J.cy().mutableElements().components(J)[0]}});SQ.componentsOf=SQ.components;o9=bS.prototype=GQ.prototype=Object.create(Array.prototype);o9.instanceString=function(){return"collection"};o9.spawn=function(Z,J){return new GQ(this.cy(),Z,J)};o9.spawnSelf=function(){return this.spawn(this)};o9.cy=function(){return this._private.cy};o9.renderer=function(){return this._private.cy.renderer()};o9.element=function(){return this[0]};o9.collection=function(){if(uI0(this))return this;else return new GQ(this._private.cy,[this])};o9.unique=function(){return new GQ(this._private.cy,this,!0)};o9.hasElementWithId=function(Z){return Z=""+Z,this._private.map.has(Z)};o9.getElementById=function(Z){Z=""+Z;var J=this._private.cy,Q=this._private.map.get(Z);return Q?Q.ele:new GQ(J)};o9.$id=o9.getElementById;o9.poolIndex=function(){var Z=this._private.cy,J=Z._private.elements,Q=this[0]._private.data.id;return J._private.map.get(Q).index};o9.indexOf=function(Z){var J=Z[0]._private.data.id;return this._private.map.get(J).index};o9.indexOfId=function(Z){return Z=""+Z,this._private.map.get(Z).index};o9.json=function(Z){var J=this.element(),Q=this.cy();if(J==null&&Z)return this;if(J==null)return;var K=J._private;if(H9(Z)){if(Q.startBatch(),Z.data){J.data(Z.data);var U=K.data;if(J.isEdge()){var X=!1,Y={},q=Z.data.source,W=Z.data.target;if(q!=null&&q!=U.source)Y.source=""+q,X=!0;if(W!=null&&W!=U.target)Y.target=""+W,X=!0;if(X)J=J.move(Y)}else{var G="parent"in Z.data,z=Z.data.parent;if(G&&(z!=null||U.parent!=null)&&z!=U.parent){if(z===void 0)z=null;if(z!=null)z=""+z;J=J.move({parent:z})}}}if(Z.position)J.position(Z.position);var H=function(O,R,L){var D=Z[O];if(D!=null&&D!==K[O])if(D)J[R]();else J[L]()};if(H("removed","remove","restore"),H("selected","select","unselect"),H("selectable","selectify","unselectify"),H("locked","lock","unlock"),H("grabbable","grabify","ungrabify"),H("pannable","panify","unpanify"),Z.classes!=null)J.classes(Z.classes);return Q.endBatch(),this}else if(Z===void 0){var F={data:uU(K.data),position:uU(K.position),group:K.group,removed:K.removed,selected:K.selected,selectable:K.selectable,locked:K.locked,grabbable:K.grabbable,pannable:K.pannable,classes:null};F.classes="";var M=0;return K.classes.forEach(function(B){return F.classes+=M++===0?B:" "+B}),F}};o9.jsons=function(){var Z=[];for(var J=0;J<this.length;J++){var Q=this[J],K=Q.json();Z.push(K)}return Z};o9.clone=function(){var Z=this.cy(),J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],U=K.json(),X=new bS(Z,U,!1);J.push(X)}return new GQ(Z,J)};o9.copy=o9.clone;o9.restore=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=Q.cy(),U=K._private,X=[],Y=[],q;for(var W=0,G=Q.length;W<G;W++){var z=Q[W];if(J&&!z.removed())continue;if(z.isNode())X.push(z);else Y.push(z)}q=X.concat(Y);var H,F=function(){q.splice(H,1),H--};for(H=0;H<q.length;H++){var M=q[H],B=M._private,O=B.data;if(M.clearTraversalCache(),!J&&!B.removed);else if(O.id===void 0)O.id=ZA0();else if(k8(O.id))O.id=""+O.id;else if(Dq(O.id)||!XZ(O.id)){AJ("Can not create element with invalid string ID `"+O.id+"`"),F();continue}else if(K.hasElementWithId(O.id)){AJ("Can not create second element with ID `"+O.id+"`"),F();continue}var R=O.id;if(M.isNode()){var L=B.position;if(L.x==null)L.x=0;if(L.y==null)L.y=0}if(M.isEdge()){var D=M,A=["source","target"],V=A.length,N=!1;for(var E=0;E<V;E++){var C=A[E],j=O[C];if(k8(j))j=O[C]=""+O[C];if(j==null||j==="")AJ("Can not create edge `"+R+"` with unspecified "+C),N=!0;else if(!K.hasElementWithId(j))AJ("Can not create edge `"+R+"` with nonexistant "+C+" `"+j+"`"),N=!0}if(N){F();continue}var $=K.getElementById(O.source),k=K.getElementById(O.target);if($.same(k))$._private.edges.push(D);else $._private.edges.push(D),k._private.edges.push(D);D._private.source=$,D._private.target=k}if(B.map=new OY,B.map.set(R,{ele:M,index:0}),B.removed=!1,J)K.addToPool(M)}for(var w=0;w<X.length;w++){var P=X[w],S=P._private.data;if(k8(S.parent))S.parent=""+S.parent;var T=S.parent,_=T!=null;if(_||P._private.parent){var v=P._private.parent?K.collection().merge(P._private.parent):K.getElementById(T);if(v.empty())S.parent=void 0;else if(v[0].removed())j9("Node added with missing parent, reference to parent removed"),S.parent=void 0,P._private.parent=null;else{var x=!1,b=v;while(!b.empty()){if(P.same(b)){x=!0,S.parent=void 0;break}b=b.parent()}if(!x)v[0]._private.children.push(P),P._private.parent=v[0],U.hasCompoundNodes=!0}}}if(q.length>0){var y=q.length===Q.length?Q:new GQ(K,q);for(var u=0;u<y.length;u++){var h=y[u];if(h.isNode())continue;h.parallelEdges().clearTraversalCache(),h.source().clearTraversalCache(),h.target().clearTraversalCache()}var p;if(U.hasCompoundNodes)p=K.collection().merge(y).merge(y.connectedNodes()).merge(y.parent());else p=y;if(p.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(Z),Z)y.emitAndNotify("add");else if(J)y.emit("add")}return Q};o9.removed=function(){var Z=this[0];return Z&&Z._private.removed};o9.inside=function(){var Z=this[0];return Z&&!Z._private.removed};o9.remove=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=[],U={},X=Q._private.cy;function Y(T){var _=T._private.edges;for(var v=0;v<_.length;v++)W(_[v])}function q(T){var _=T._private.children;for(var v=0;v<_.length;v++)W(_[v])}function W(T){var _=U[T.id()];if(J&&T.removed()||_)return;else U[T.id()]=!0;if(T.isNode())K.push(T),Y(T),q(T);else K.unshift(T)}for(var G=0,z=Q.length;G<z;G++){var H=Q[G];W(H)}function F(T,_){var v=T._private.edges;Iq(v,_),T.clearTraversalCache()}function M(T){T.clearTraversalCache()}var B=[];B.ids={};function O(T,_){_=_[0],T=T[0];var v=T._private.children,x=T.id();if(Iq(v,_),_._private.parent=null,!B.ids[x])B.ids[x]=!0,B.push(T)}if(Q.dirtyCompoundBoundsCache(),J)X.removeFromPool(K);for(var R=0;R<K.length;R++){var L=K[R];if(L.isEdge()){var D=L.source()[0],A=L.target()[0];F(D,L),F(A,L);var V=L.parallelEdges();for(var N=0;N<V.length;N++){var E=V[N];if(M(E),E.isBundledBezier())E.dirtyBoundingBoxCache()}}else{var C=L.parent();if(C.length!==0)O(C,L)}if(J)L._private.removed=!0}var j=X._private.elements;X._private.hasCompoundNodes=!1;for(var $=0;$<j.length;$++){var k=j[$];if(k.isParent()){X._private.hasCompoundNodes=!0;break}}var w=new GQ(this.cy(),K);if(w.size()>0){if(Z)w.emitAndNotify("remove");else if(J)w.emit("remove")}for(var P=0;P<B.length;P++){var S=B[P];if(!J||!S.removed())S.updateStyle()}return w};o9.move=function(Z){var J=this._private.cy,Q=this,K=!1,U=!1,X=function(B){return B==null?B:""+B};if(Z.source!==void 0||Z.target!==void 0){var Y=X(Z.source),q=X(Z.target),W=Y!=null&&J.hasElementWithId(Y),G=q!=null&&J.hasElementWithId(q);if(W||G)J.batch(function(){Q.remove(K,U),Q.emitAndNotify("moveout");for(var M=0;M<Q.length;M++){var B=Q[M],O=B._private.data;if(B.isEdge()){if(W)O.source=Y;if(G)O.target=q}}Q.restore(K,U)}),Q.emitAndNotify("move")}else if(Z.parent!==void 0){var z=X(Z.parent),H=z===null||J.hasElementWithId(z);if(H){var F=z===null?void 0:z;J.batch(function(){var M=Q.remove(K,U);M.emitAndNotify("moveout");for(var B=0;B<Q.length;B++){var O=Q[B],R=O._private.data;if(O.isNode())R.parent=F}M.restore(K,U)}),Q.emitAndNotify("move")}}return this};[FA0,QB8,FS,Rq,RF,DB8,cS,vB8,yA0,hA0,mB8,SS,MS,WQ,Lq,SQ].forEach(function(Z){BZ(o9,Z)});iB8={add:function(J){var Q,K=this;if(x4(J)){var U=J;if(U._private.cy===K)Q=U.restore();else{var X=[];for(var Y=0;Y<U.length;Y++){var q=U[Y];X.push(q.json())}Q=new GQ(K,X)}}else if(l9(J)){var W=J;Q=new GQ(K,W)}else if(H9(J)&&(l9(J.nodes)||l9(J.edges))){var G=J,z=[],H=["nodes","edges"];for(var F=0,M=H.length;F<M;F++){var B=H[F],O=G[B];if(l9(O))for(var R=0,L=O.length;R<L;R++){var D=BZ({group:B},O[R]);z.push(D)}}Q=new GQ(K,z)}else{var A=J;Q=new bS(K,A).collection()}return Q},remove:function(J){if(x4(J));else if(XZ(J)){var Q=J;J=this.$(Q)}return J.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *//*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */rB8=function(){function Z(K){return-K.tension*K.x-K.friction*K.v}function J(K,U,X){var Y={x:K.x+X.dx*U,v:K.v+X.dv*U,tension:K.tension,friction:K.friction};return{dx:Y.v,dv:Z(Y)}}function Q(K,U){var X={dx:K.v,dv:Z(K)},Y=J(K,U*0.5,X),q=J(K,U*0.5,Y),W=J(K,U,q),G=0.16666666666666666*(X.dx+2*(Y.dx+q.dx)+W.dx),z=0.16666666666666666*(X.dv+2*(Y.dv+q.dv)+W.dv);return K.x=K.x+G*U,K.v=K.v+z*U,K}return function K(U,X,Y){var q={x:-1,v:0,tension:null,friction:null},W=[0],G=0,z=0.0001,H=0.016,F,M,B;if(U=parseFloat(U)||500,X=parseFloat(X)||20,Y=Y||null,q.tension=U,q.friction=X,F=Y!==null,F)G=K(U,X),M=G/Y*H;else M=H;for(;;)if(B=Q(B||q,M),W.push(1+B.x),G+=16,!(Math.abs(B.x)>z&&Math.abs(B.v)>z))break;return!F?G:function(O){return W[O*(W.length-1)|0]}}}(),BS={linear:function(J,Q,K){return J+(Q-J)*K},ease:a9(0.25,0.1,0.25,1),"ease-in":a9(0.42,0,1,1),"ease-out":a9(0,0,0.58,1),"ease-in-out":a9(0.42,0,0.58,1),"ease-in-sine":a9(0.47,0,0.745,0.715),"ease-out-sine":a9(0.39,0.575,0.565,1),"ease-in-out-sine":a9(0.445,0.05,0.55,0.95),"ease-in-quad":a9(0.55,0.085,0.68,0.53),"ease-out-quad":a9(0.25,0.46,0.45,0.94),"ease-in-out-quad":a9(0.455,0.03,0.515,0.955),"ease-in-cubic":a9(0.55,0.055,0.675,0.19),"ease-out-cubic":a9(0.215,0.61,0.355,1),"ease-in-out-cubic":a9(0.645,0.045,0.355,1),"ease-in-quart":a9(0.895,0.03,0.685,0.22),"ease-out-quart":a9(0.165,0.84,0.44,1),"ease-in-out-quart":a9(0.77,0,0.175,1),"ease-in-quint":a9(0.755,0.05,0.855,0.06),"ease-out-quint":a9(0.23,1,0.32,1),"ease-in-out-quint":a9(0.86,0,0.07,1),"ease-in-expo":a9(0.95,0.05,0.795,0.035),"ease-out-expo":a9(0.19,1,0.22,1),"ease-in-out-expo":a9(1,0,0,1),"ease-in-circ":a9(0.6,0.04,0.98,0.335),"ease-out-circ":a9(0.075,0.82,0.165,1),"ease-in-out-circ":a9(0.785,0.135,0.15,0.86),spring:function(J,Q,K){if(K===0)return BS.linear;var U=rB8(J,Q,K);return function(X,Y,q){return X+(Y-X)*U(q)}},"cubic-bezier":a9};oB8={animate:C9.animate(),animation:C9.animation(),animated:C9.animated(),clearQueue:C9.clearQueue(),delay:C9.delay(),delayAnimation:C9.delayAnimation(),stop:C9.stop(),addToAnimationPool:function(J){var Q=this;if(!Q.styleEnabled())return;Q._private.aniEles.merge(J)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var J=this;if(J._private.animationsRunning=!0,!J.styleEnabled())return;function Q(){if(!J._private.animationsRunning)return;ES(function(X){WI0(X,J),Q()})}var K=J.renderer();if(K&&K.beforeRender)K.beforeRender(function(X,Y){WI0(Y,J)},K.beforeRenderPriorities.animations);else Q()}},tB8={qualifierCompare:function(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function(J,Q,K){var U=Q.qualifier;if(U!=null)return J!==K.target&&AD(K.target)&&U.matches(K.target);return!0},addEventFields:function(J,Q){Q.cy=J,Q.target=J},callbackContext:function(J,Q,K){return Q.qualifier!=null?K.target:J}},gA0={createEmitter:function(){var J=this._private;if(!J.emitter)J.emitter=new lS(tB8,this);return this},emitter:function(){return this._private.emitter},on:function(J,Q,K){return this.emitter().on(J,XS(Q),K),this},removeListener:function(J,Q,K){return this.emitter().removeListener(J,XS(Q),K),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(J,Q,K){return this.emitter().one(J,XS(Q),K),this},once:function(J,Q,K){return this.emitter().one(J,XS(Q),K),this},emit:function(J,Q){return this.emitter().emit(J,Q),this},emitAndNotify:function(J,Q){return this.emit(J),this.notify(J,Q),this}};C9.eventAliasesOn(gA0);Wi={png:function(J){var Q=this._private.renderer;return J=J||{},Q.png(J)},jpg:function(J){var Q=this._private.renderer;return J=J||{},J.bg=J.bg||"#fff",Q.jpg(J)}};Wi.jpeg=Wi.jpg;OS={layout:function(J){var Q=this;if(J==null){AJ("Layout options must be specified to make a layout");return}if(J.name==null){AJ("A `name` must be specified to make a layout");return}var K=J.name,U=Q.extension("layout",K);if(U==null){AJ("No such layout `"+K+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var X;if(XZ(J.eles))X=Q.$(J.eles);else X=J.eles!=null?J.eles:Q.$();var Y=new U(BZ({},J,{cy:Q,eles:X}));return Y}};OS.createLayout=OS.makeLayout=OS.layout;eB8={notify:function(J,Q){var K=this._private;if(this.batching()){K.batchNotifications=K.batchNotifications||{};var U=K.batchNotifications[J]=K.batchNotifications[J]||this.collection();if(Q!=null)U.merge(Q);return}if(!K.notificationsEnabled)return;var X=this.renderer();if(this.destroyed()||!X)return;X.notify(J,Q)},notifications:function(J){var Q=this._private;if(J===void 0)return Q.notificationsEnabled;else Q.notificationsEnabled=J?!0:!1;return this},noNotifications:function(J){this.notifications(!1),J(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var J=this._private;if(J.batchCount==null)J.batchCount=0;if(J.batchCount===0)J.batchStyleEles=this.collection(),J.batchNotifications={};return J.batchCount++,this},endBatch:function(){var J=this._private;if(J.batchCount===0)return this;if(J.batchCount--,J.batchCount===0){J.batchStyleEles.updateStyle();var Q=this.renderer();Object.keys(J.batchNotifications).forEach(function(K){var U=J.batchNotifications[K];if(U.empty())Q.notify(K);else Q.notify(K,U)})}return this},batch:function(J){return this.startBatch(),J(),this.endBatch(),this},batchData:function(J){var Q=this;return this.batch(function(){var K=Object.keys(J);for(var U=0;U<K.length;U++){var X=K[U],Y=J[X],q=Q.getElementById(X);q.data(Y)}})}},ZO8=zQ({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:0.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Gi={renderTo:function(J,Q,K,U){var X=this._private.renderer;return X.renderTo(J,Q,K,U),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(J){var Q=this,K=Q.extension("renderer",J.name);if(K==null){AJ("Can not initialise: No such renderer `".concat(J.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}if(J.wheelSensitivity!==void 0)j9("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var U=ZO8(J);U.cy=Q,Q._private.renderer=new K(U),this.notify("init")},destroyRenderer:function(){var J=this;J.notify("destroy");var Q=J.container();if(Q){Q._cyreg=null;while(Q.childNodes.length>0)Q.removeChild(Q.childNodes[0])}J._private.renderer=null,J.mutableElements().forEach(function(K){var U=K._private;U.rscratch={},U.rstyle={},U.animation.current=[],U.animation.queue=[]})},onRender:function(J){return this.on("render",J)},offRender:function(J){return this.off("render",J)}};Gi.invalidateDimensions=Gi.resize;RS={collection:function(J,Q){if(XZ(J))return this.$(J);else if(x4(J))return J.collection();else if(l9(J)){if(!Q)Q={};return new GQ(this,J,Q.unique,Q.removed)}return new GQ(this)},nodes:function(J){var Q=this.$(function(K){return K.isNode()});if(J)return Q.filter(J);return Q},edges:function(J){var Q=this.$(function(K){return K.isEdge()});if(J)return Q.filter(J);return Q},$:function(J){var Q=this._private.elements;if(J)return Q.filter(J);else return Q.spawnSelf()},mutableElements:function(){return this._private.elements}};RS.elements=RS.filter=RS.$;y7={};y7.apply=function(Z){var J=this,Q=J._private,K=Q.cy,U=K.collection();for(var X=0;X<Z.length;X++){var Y=Z[X],q=J.getContextMeta(Y);if(q.empty)continue;var W=J.getContextStyle(q),G=J.applyContextStyle(q,W,Y);if(Y._private.appliedInitStyle)J.updateTransitions(Y,G.diffProps);else Y._private.appliedInitStyle=!0;var z=J.updateStyleHints(Y);if(z)U.push(Y)}return U};y7.getPropertiesDiff=function(Z,J){var Q=this,K=Q._private.propDiffs=Q._private.propDiffs||{},U=Z+"-"+J,X=K[U];if(X)return X;var Y=[],q={};for(var W=0;W<Q.length;W++){var G=Q[W],z=Z[W]===YD,H=J[W]===YD,F=z!==H,M=G.mappedProperties.length>0;if(F||H&&M){var B=void 0;if(F&&M)B=G.properties;else if(F)B=G.properties;else if(M)B=G.mappedProperties;for(var O=0;O<B.length;O++){var R=B[O],L=R.name,D=!1;for(var A=W+1;A<Q.length;A++){var V=Q[A],N=J[A]===YD;if(!N)continue;if(D=V.properties[R.name]!=null,D)break}if(!q[L]&&!D)q[L]=!0,Y.push(L)}}}return K[U]=Y,Y};y7.getContextMeta=function(Z){var J=this,Q="",K,U=Z._private.styleCxtKey||"";for(var X=0;X<J.length;X++){var Y=J[X],q=Y.selector&&Y.selector.matches(Z);if(q)Q+=YD;else Q+=JO8}return K=J.getPropertiesDiff(U,Q),Z._private.styleCxtKey=Q,{key:Q,diffPropNames:K,empty:K.length===0}};y7.getContextStyle=function(Z){var J=Z.key,Q=this,K=this._private.contextStyles=this._private.contextStyles||{};if(K[J])return K[J];var U={_private:{key:J}};for(var X=0;X<Q.length;X++){var Y=Q[X],q=J[X]===YD;if(!q)continue;for(var W=0;W<Y.properties.length;W++){var G=Y.properties[W];U[G.name]=G}}return K[J]=U,U};y7.applyContextStyle=function(Z,J,Q){var K=this,U=Z.diffPropNames,X={},Y=K.types;for(var q=0;q<U.length;q++){var W=U[q],G=J[W],z=Q.pstyle(W);if(!G)if(!z)continue;else if(z.bypass)G={name:W,deleteBypassed:!0};else G={name:W,delete:!0};if(z===G)continue;if(G.mapped===Y.fn&&z!=null&&z.mapping!=null&&z.mapping.value===G.value){var H=z.mapping,F=H.fnValue=G.value(Q);if(F===H.prevFnValue)continue}var M=X[W]={prev:z};if(K.applyParsedProperty(Q,G),M.next=Q.pstyle(W),M.next&&M.next.bypass)M.next=M.next.bypassed}return{diffProps:X}};y7.updateStyleHints=function(Z){var J=Z._private,Q=this,K=Q.propertyGroupNames,U=Q.propertyGroupKeys,X=function(n,Y0,o){return Q.getPropertiesHash(n,Y0,o)},Y=J.styleKey;if(Z.removed())return!1;var q=J.group==="nodes",W=Z._private.style;K=Object.keys(W);for(var G=0;G<U.length;G++){var z=U[G];J.styleKeys[z]=[Kz,YF]}var H=function(n,Y0){return J.styleKeys[Y0][0]=GD(n,J.styleKeys[Y0][0])},F=function(n,Y0){return J.styleKeys[Y0][1]=zD(n,J.styleKeys[Y0][1])},M=function(n,Y0){H(n,Y0),F(n,Y0)},B=function(n,Y0){for(var o=0;o<n.length;o++){var M0=n.charCodeAt(o);H(M0,Y0),F(M0,Y0)}},O=2000000000,R=function(n){return-128<n&&n<128&&Math.floor(n)!==n?O-(n*1024|0):n};for(var L=0;L<K.length;L++){var D=K[L],A=W[D];if(A==null)continue;var V=this.properties[D],N=V.type,E=V.groupKey,C=void 0;if(V.hashOverride!=null)C=V.hashOverride(Z,A);else if(A.pfValue!=null)C=A.pfValue;var j=V.enums==null?A.value:null,$=C!=null,k=j!=null,w=$||k,P=A.units;if(N.number&&w&&!N.multiple){var S=$?C:j;if(M(R(S),E),!$&&P!=null)B(P,E)}else B(A.strValue,E)}var T=[Kz,YF];for(var _=0;_<U.length;_++){var v=U[_],x=J.styleKeys[v];T[0]=GD(x[0],T[0]),T[1]=zD(x[1],T[1])}J.styleKey=L28(T[0],T[1]);var b=J.styleKeys;J.labelDimsKey=Gq(b.labelDimensions);var y=X(Z,["label"],b.labelDimensions);if(J.labelKey=Gq(y),J.labelStyleKey=Gq(oj(b.commonLabel,y)),!q){var u=X(Z,["source-label"],b.labelDimensions);J.sourceLabelKey=Gq(u),J.sourceLabelStyleKey=Gq(oj(b.commonLabel,u));var h=X(Z,["target-label"],b.labelDimensions);J.targetLabelKey=Gq(h),J.targetLabelStyleKey=Gq(oj(b.commonLabel,h))}if(q){var p=J.styleKeys,r=p.nodeBody,t=p.nodeBorder,d=p.nodeOutline,X0=p.backgroundImage,a=p.compound,z0=p.pie,J0=p.stripe,Q0=[r,t,d,X0,a,z0,J0].filter(function(e){return e!=null}).reduce(oj,[Kz,YF]);J.nodeKey=Gq(Q0),J.hasPie=z0!=null&&z0[0]!==Kz&&z0[1]!==YF,J.hasStripe=J0!=null&&J0[0]!==Kz&&J0[1]!==YF}return Y!==J.styleKey};y7.clearStyleHints=function(Z){var J=Z._private;J.styleCxtKey="",J.styleKeys={},J.styleKey=null,J.labelKey=null,J.labelStyleKey=null,J.sourceLabelKey=null,J.sourceLabelStyleKey=null,J.targetLabelKey=null,J.targetLabelStyleKey=null,J.nodeKey=null,J.hasPie=null,J.hasStripe=null};y7.applyParsedProperty=function(Z,J){var Q=this,K=J,U=Z._private.style,X,Y=Q.types,q=Q.properties[K.name].type,W=K.bypass,G=U[K.name],z=G&&G.bypass,H=Z._private,F="mapping",M=function(r){if(r==null)return null;else if(r.pfValue!=null)return r.pfValue;else return r.value},B=function(){var r=M(G),t=M(K);Q.checkTriggers(Z,K.name,r,t)};if(J.name==="curve-style"&&Z.isEdge()&&(J.value!=="bezier"&&Z.isLoop()||J.value==="haystack"&&(Z.source().isParent()||Z.target().isParent())))K=J=this.parse(J.name,"bezier",W);if(K.delete)return U[K.name]=void 0,B(),!0;if(K.deleteBypassed)if(!G)return B(),!0;else if(G.bypass)return G.bypassed=void 0,B(),!0;else return!1;if(K.deleteBypass)if(!G)return B(),!0;else if(G.bypass)return U[K.name]=G.bypassed,B(),!0;else return!1;var O=function(){j9("Do not assign mappings to elements without corresponding data (i.e. ele `"+Z.id()+"` has no mapping for property `"+K.name+"` with data field `"+K.field+"`); try a `["+K.field+"]` selector to limit scope to elements with `"+K.field+"` defined")};switch(K.mapped){case Y.mapData:{var R=K.field.split("."),L=H.data;for(var D=0;D<R.length&&L;D++){var A=R[D];L=L[A]}if(L==null)return O(),!1;var V;if(!k8(L))return j9("Do not use continuous mappers without specifying numeric data (i.e. `"+K.field+": "+L+"` for `"+Z.id()+"` is non-numeric)"),!1;else{var N=K.fieldMax-K.fieldMin;if(N===0)V=0;else V=(L-K.fieldMin)/N}if(V<0)V=0;else if(V>1)V=1;if(q.color){var E=K.valueMin[0],C=K.valueMax[0],j=K.valueMin[1],$=K.valueMax[1],k=K.valueMin[2],w=K.valueMax[2],P=K.valueMin[3]==null?1:K.valueMin[3],S=K.valueMax[3]==null?1:K.valueMax[3],T=[Math.round(E+(C-E)*V),Math.round(j+($-j)*V),Math.round(k+(w-k)*V),Math.round(P+(S-P)*V)];X={bypass:K.bypass,name:K.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else if(q.number){var _=K.valueMin+(K.valueMax-K.valueMin)*V;X=this.parse(K.name,_,K.bypass,F)}else return!1;if(!X)return O(),!1;X.mapping=K,K=X;break}case Y.data:{var v=K.field.split("."),x=H.data;for(var b=0;b<v.length&&x;b++){var y=v[b];x=x[y]}if(x!=null)X=this.parse(K.name,x,K.bypass,F);if(!X)return O(),!1;X.mapping=K,K=X;break}case Y.fn:{var u=K.value,h=K.fnValue!=null?K.fnValue:u(Z);if(K.prevFnValue=h,h==null)return j9("Custom function mappers may not return null (i.e. `"+K.name+"` for ele `"+Z.id()+"` is null)"),!1;if(X=this.parse(K.name,h,K.bypass,F),!X)return j9("Custom function mappers may not return invalid values for the property type (i.e. `"+K.name+"` for ele `"+Z.id()+"` is invalid)"),!1;X.mapping=uU(K),K=X;break}case void 0:break;default:return!1}if(W){if(z)K.bypassed=G.bypassed;else K.bypassed=G;U[K.name]=K}else if(z)G.bypassed=K;else U[K.name]=K;return B(),!0};y7.cleanElements=function(Z,J){for(var Q=0;Q<Z.length;Q++){var K=Z[Q];if(this.clearStyleHints(K),K.dirtyCompoundBoundsCache(),K.dirtyBoundingBoxCache(),!J)K._private.style={};else{var U=K._private.style,X=Object.keys(U);for(var Y=0;Y<X.length;Y++){var q=X[Y],W=U[q];if(W!=null)if(W.bypass)W.bypassed=null;else U[q]=null}}}};y7.update=function(){var Z=this._private.cy,J=Z.mutableElements();J.updateStyle()};y7.updateTransitions=function(Z,J){var Q=this,K=Z._private,U=Z.pstyle("transition-property").value,X=Z.pstyle("transition-duration").pfValue,Y=Z.pstyle("transition-delay").pfValue;if(U.length>0&&X>0){var q={},W=!1;for(var G=0;G<U.length;G++){var z=U[G],H=Z.pstyle(z),F=J[z];if(!F)continue;var M=F.prev,B=M,O=F.next!=null?F.next:H,R=!1,L=void 0,D=0.000001;if(!B)continue;if(k8(B.pfValue)&&k8(O.pfValue))R=O.pfValue-B.pfValue,L=B.pfValue+D*R;else if(k8(B.value)&&k8(O.value))R=O.value-B.value,L=B.value+D*R;else if(l9(B.value)&&l9(O.value))R=B.value[0]!==O.value[0]||B.value[1]!==O.value[1]||B.value[2]!==O.value[2],L=B.strValue;if(R)q[z]=O.strValue,this.applyBypass(Z,z,L),W=!0}if(!W)return;K.transitioning=!0,new DF(function(A){if(Y>0)Z.delayAnimation(Y).play().promise().then(A);else A()}).then(function(){return Z.animation({style:q,duration:X,easing:Z.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){Q.removeBypasses(Z,U),Z.emitAndNotify("style"),K.transitioning=!1})}else if(K.transitioning)this.removeBypasses(Z,U),Z.emitAndNotify("style"),K.transitioning=!1};y7.checkTrigger=function(Z,J,Q,K,U,X){var Y=this.properties[J],q=U(Y);if(Z.removed())return;if(q!=null&&q(Q,K,Z))X(Y)};y7.checkZOrderTrigger=function(Z,J,Q,K){var U=this;this.checkTrigger(Z,J,Q,K,function(X){return X.triggersZOrder},function(){U._private.cy.notify("zorder",Z)})};y7.checkBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(U){return U.triggersBounds},function(U){Z.dirtyCompoundBoundsCache(),Z.dirtyBoundingBoxCache()})};y7.checkConnectedEdgesBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(U){return U.triggersBoundsOfConnectedEdges},function(U){Z.connectedEdges().forEach(function(X){X.dirtyBoundingBoxCache()})})};y7.checkParallelEdgesBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(U){return U.triggersBoundsOfParallelEdges},function(U){Z.parallelEdges().forEach(function(X){X.dirtyBoundingBoxCache()})})};y7.checkTriggers=function(Z,J,Q,K){Z.dirtyStyleCache(),this.checkZOrderTrigger(Z,J,Q,K),this.checkBoundsTrigger(Z,J,Q,K),this.checkConnectedEdgesBoundsTrigger(Z,J,Q,K),this.checkParallelEdgesBoundsTrigger(Z,J,Q,K)};SD={};SD.applyBypass=function(Z,J,Q,K){var U=this,X=[],Y=!0;if(J==="*"||J==="**"){if(Q!==void 0)for(var q=0;q<U.properties.length;q++){var W=U.properties[q],G=W.name,z=this.parse(G,Q,!0);if(z)X.push(z)}}else if(XZ(J)){var H=this.parse(J,Q,!0);if(H)X.push(H)}else if(H9(J)){var F=J;K=Q;var M=Object.keys(F);for(var B=0;B<M.length;B++){var O=M[B],R=F[O];if(R===void 0)R=F[vS(O)];if(R!==void 0){var L=this.parse(O,R,!0);if(L)X.push(L)}}}else return!1;if(X.length===0)return!1;var D=!1;for(var A=0;A<Z.length;A++){var V=Z[A],N={},E=void 0;for(var C=0;C<X.length;C++){var j=X[C];if(K){var $=V.pstyle(j.name);E=N[j.name]={prev:$}}if(D=this.applyParsedProperty(V,uU(j))||D,K)E.next=V.pstyle(j.name)}if(D)this.updateStyleHints(V);if(K)this.updateTransitions(V,N,Y)}return D};SD.overrideBypass=function(Z,J,Q){J=Ni(J);for(var K=0;K<Z.length;K++){var U=Z[K],X=U._private.style[J],Y=this.properties[J].type,q=Y.color,W=Y.mutiple,G=!X?null:X.pfValue!=null?X.pfValue:X.value;if(!X||!X.bypass)this.applyBypass(U,J,Q);else{if(X.value=Q,X.pfValue!=null)X.pfValue=Q;if(q)X.strValue="rgb("+Q.join(",")+")";else if(W)X.strValue=Q.join(" ");else X.strValue=""+Q;this.updateStyleHints(U)}this.checkTriggers(U,J,G,Q)}};SD.removeAllBypasses=function(Z,J){return this.removeBypasses(Z,this.propertyNames,J)};SD.removeBypasses=function(Z,J,Q){var K=!0;for(var U=0;U<Z.length;U++){var X=Z[U],Y={};for(var q=0;q<J.length;q++){var W=J[q],G=this.properties[W],z=X.pstyle(G.name);if(!z||!z.bypass)continue;var H="",F=this.parse(W,H,!0),M=Y[G.name]={prev:z};this.applyParsedProperty(X,F),M.next=X.pstyle(G.name)}if(this.updateStyleHints(X),Q)this.updateTransitions(X,Y,K)}};yi={};yi.getEmSizeInPixels=function(){var Z=this.containerCss("font-size");if(Z!=null)return parseFloat(Z);else return 1};yi.containerCss=function(Z){var J=this._private.cy,Q=J.container(),K=J.window();if(K&&Q&&K.getComputedStyle)return K.getComputedStyle(Q).getPropertyValue(Z)};gU={};gU.getRenderedStyle=function(Z,J){if(J)return this.getStylePropertyValue(Z,J,!0);else return this.getRawStyle(Z,!0)};gU.getRawStyle=function(Z,J){var Q=this;if(Z=Z[0],Z){var K={};for(var U=0;U<Q.properties.length;U++){var X=Q.properties[U],Y=Q.getStylePropertyValue(Z,X.name,J);if(Y!=null)K[X.name]=Y,K[vS(X.name)]=Y}return K}};gU.getIndexedStyle=function(Z,J,Q,K){var U=Z.pstyle(J)[Q][K];return U!=null?U:Z.cy().style().getDefaultProperty(J)[Q][0]};gU.getStylePropertyValue=function(Z,J,Q){var K=this;if(Z=Z[0],Z){var U=K.properties[J];if(U.alias)U=U.pointsTo;var X=U.type,Y=Z.pstyle(U.name);if(Y){var{value:q,units:W,strValue:G}=Y;if(Q&&X.number&&q!=null&&k8(q)){var z=Z.cy().zoom(),H=function(R){return R*z},F=function(R,L){return H(R)+L},M=l9(q),B=M?W.every(function(O){return O!=null}):W!=null;if(B)if(M)return q.map(function(O,R){return F(O,W[R])}).join(" ");else return F(q,W);else if(M)return q.map(function(O){return XZ(O)?O:""+H(O)}).join(" ");else return""+H(q)}else if(G!=null)return G}return null}};gU.getAnimationStartStyle=function(Z,J){var Q={};for(var K=0;K<J.length;K++){var U=J[K],X=U.name,Y=Z.pstyle(X);if(Y!==void 0)if(H9(Y))Y=this.parse(X,Y.strValue);else Y=this.parse(X,Y);if(Y)Q[X]=Y}return Q};gU.getPropsList=function(Z){var J=this,Q=[],K=Z,U=J.properties;if(K){var X=Object.keys(K);for(var Y=0;Y<X.length;Y++){var q=X[Y],W=K[q],G=U[q]||U[Ni(q)],z=this.parse(G.name,W);if(z)Q.push(z)}}return Q};gU.getNonDefaultPropertiesHash=function(Z,J,Q){var K=Q.slice(),U,X,Y,q,W,G;for(W=0;W<J.length;W++)if(U=J[W],X=Z.pstyle(U,!1),X==null)continue;else if(X.pfValue!=null)K[0]=GD(q,K[0]),K[1]=zD(q,K[1]);else{Y=X.strValue;for(G=0;G<Y.length;G++)q=Y.charCodeAt(G),K[0]=GD(q,K[0]),K[1]=zD(q,K[1])}return K};gU.getPropertiesHash=gU.getNonDefaultPropertiesHash;sS={};sS.appendFromJson=function(Z){var J=this;for(var Q=0;Q<Z.length;Q++){var K=Z[Q],U=K.selector,X=K.style||K.css,Y=Object.keys(X);J.selector(U);for(var q=0;q<Y.length;q++){var W=Y[q],G=X[W];J.css(W,G)}}return J};sS.fromJson=function(Z){var J=this;return J.resetToDefault(),J.appendFromJson(Z),J};sS.json=function(){var Z=[];for(var J=this.defaultLength;J<this.length;J++){var Q=this[J],K=Q.selector,U=Q.properties,X={};for(var Y=0;Y<U.length;Y++){var q=U[Y];X[q.name]=q.strValue}Z.push({selector:!K?"core":K.toString(),style:X})}return Z};hi={};hi.appendFromString=function(Z){var J=this,Q=this,K=""+Z,U,X,Y;K=K.replace(/[/][*](\s|.)+?[*][/]/g,"");function q(){if(K.length>U.length)K=K.substr(U.length);else K=""}function W(){if(X.length>Y.length)X=X.substr(Y.length);else X=""}for(;;){var G=K.match(/^\s*$/);if(G)break;var z=K.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!z){j9("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+K);break}U=z[0];var H=z[1];if(H!=="core"){var F=new Nq(H);if(F.invalid){j9("Skipping parsing of block: Invalid selector found in string stylesheet: "+H),q();continue}}var M=z[2],B=!1;X=M;var O=[];for(;;){var R=X.match(/^\s*$/);if(R)break;var L=X.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!L){j9("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),B=!0;break}Y=L[0];var D=L[1],A=L[2],V=J.properties[D];if(!V){j9("Skipping property: Invalid property name in: "+Y),W();continue}var N=Q.parse(D,A);if(!N){j9("Skipping property: Invalid property definition in: "+Y),W();continue}O.push({name:D,val:A}),W()}if(B){q();break}Q.selector(H);for(var E=0;E<O.length;E++){var C=O[E];Q.css(C.name,C.val)}q()}return Q};hi.fromString=function(Z){var J=this;return J.resetToDefault(),J.appendFromString(Z),J};K7={};(function(){var Z=I7,J=nH8,Q=oH8,K=tH8,U=eH8,X=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},Y=function(e){var n=Z+"|\\w+|"+J+"|"+Q+"|"+K+"|"+U;return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+Z+")\\s*\\,\\s*("+Z+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},q=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];K7.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:"^([\\w- \\\"]+(?:\\s*,\\s*[\\w- \\\"]+)*)$"},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:X("data")},layoutData:{mapping:!0,regex:X("layoutData")},scratch:{mapping:!0,regex:X("scratch")},mapData:{mapping:!0,regex:Y("mapData")},mapLayoutData:{mapping:!0,regex:Y("mapLayoutData")},mapScratch:{mapping:!0,regex:Y("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:q,singleRegexMatchValue:!0},urls:{regexes:q,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,n){switch(e.length){case 2:return n[0]!=="deg"&&n[0]!=="rad"&&n[1]!=="deg"&&n[1]!=="rad";case 1:return XZ(e[0])||n[0]==="deg"||n[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var n=e.length;return n===1||n===2||n===4}}};var W={zeroNonZero:function(e,n){if((e==null||n==null)&&e!==n)return!0;if(e==0&&n!=0)return!0;else if(e!=0&&n==0)return!0;else return!1},any:function(e,n){return e!=n},emptyNonEmpty:function(e,n){var Y0=Dq(e),o=Dq(n);return Y0&&!o||!Y0&&o}},G=K7.types,z=[{name:"label",type:G.text,triggersBounds:W.any,triggersZOrder:W.emptyNonEmpty},{name:"text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any}],H=[{name:"source-label",type:G.text,triggersBounds:W.any},{name:"source-text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"source-text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"source-text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"source-text-offset",type:G.size,triggersBounds:W.any}],F=[{name:"target-label",type:G.text,triggersBounds:W.any},{name:"target-text-rotation",type:G.textRotation,triggersBounds:W.any},{name:"target-text-margin-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"target-text-margin-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"target-text-offset",type:G.size,triggersBounds:W.any}],M=[{name:"font-family",type:G.fontFamily,triggersBounds:W.any},{name:"font-style",type:G.fontStyle,triggersBounds:W.any},{name:"font-weight",type:G.fontWeight,triggersBounds:W.any},{name:"font-size",type:G.size,triggersBounds:W.any},{name:"text-transform",type:G.textTransform,triggersBounds:W.any},{name:"text-wrap",type:G.textWrap,triggersBounds:W.any},{name:"text-overflow-wrap",type:G.textOverflowWrap,triggersBounds:W.any},{name:"text-max-width",type:G.size,triggersBounds:W.any},{name:"text-outline-width",type:G.size,triggersBounds:W.any},{name:"line-height",type:G.positiveNumber,triggersBounds:W.any}],B=[{name:"text-valign",type:G.valign,triggersBounds:W.any},{name:"text-halign",type:G.halign,triggersBounds:W.any},{name:"color",type:G.color},{name:"text-outline-color",type:G.color},{name:"text-outline-opacity",type:G.zeroOneNumber},{name:"text-background-color",type:G.color},{name:"text-background-opacity",type:G.zeroOneNumber},{name:"text-background-padding",type:G.size,triggersBounds:W.any},{name:"text-border-opacity",type:G.zeroOneNumber},{name:"text-border-color",type:G.color},{name:"text-border-width",type:G.size,triggersBounds:W.any},{name:"text-border-style",type:G.borderStyle,triggersBounds:W.any},{name:"text-background-shape",type:G.textBackgroundShape,triggersBounds:W.any},{name:"text-justification",type:G.justification},{name:"box-select-labels",type:G.bool,triggersBounds:W.any}],O=[{name:"events",type:G.bool,triggersZOrder:W.any},{name:"text-events",type:G.bool,triggersZOrder:W.any},{name:"box-selection",type:G.boxSelection,triggersZOrder:W.any}],R=[{name:"display",type:G.display,triggersZOrder:W.any,triggersBounds:W.any,triggersBoundsOfConnectedEdges:W.any,triggersBoundsOfParallelEdges:function(e,n,Y0){if(e===n)return!1;return Y0.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:G.visibility,triggersZOrder:W.any},{name:"opacity",type:G.zeroOneNumber,triggersZOrder:W.zeroNonZero},{name:"text-opacity",type:G.zeroOneNumber},{name:"min-zoomed-font-size",type:G.size},{name:"z-compound-depth",type:G.zCompoundDepth,triggersZOrder:W.any},{name:"z-index-compare",type:G.zIndexCompare,triggersZOrder:W.any},{name:"z-index",type:G.number,triggersZOrder:W.any}],L=[{name:"overlay-padding",type:G.size,triggersBounds:W.any},{name:"overlay-color",type:G.color},{name:"overlay-opacity",type:G.zeroOneNumber,triggersBounds:W.zeroNonZero},{name:"overlay-shape",type:G.overlayShape,triggersBounds:W.any},{name:"overlay-corner-radius",type:G.cornerRadius}],D=[{name:"underlay-padding",type:G.size,triggersBounds:W.any},{name:"underlay-color",type:G.color},{name:"underlay-opacity",type:G.zeroOneNumber,triggersBounds:W.zeroNonZero},{name:"underlay-shape",type:G.overlayShape,triggersBounds:W.any},{name:"underlay-corner-radius",type:G.cornerRadius}],A=[{name:"transition-property",type:G.propList},{name:"transition-duration",type:G.time},{name:"transition-delay",type:G.time},{name:"transition-timing-function",type:G.easing}],V=function(e,n){if(n.value==="label")return-e.poolIndex();else return n.pfValue},N=[{name:"height",type:G.nodeSize,triggersBounds:W.any,hashOverride:V},{name:"width",type:G.nodeSize,triggersBounds:W.any,hashOverride:V},{name:"shape",type:G.nodeShape,triggersBounds:W.any},{name:"shape-polygon-points",type:G.polygonPointList,triggersBounds:W.any},{name:"corner-radius",type:G.cornerRadius},{name:"background-color",type:G.color},{name:"background-fill",type:G.fill},{name:"background-opacity",type:G.zeroOneNumber},{name:"background-blacken",type:G.nOneOneNumber},{name:"background-gradient-stop-colors",type:G.colors},{name:"background-gradient-stop-positions",type:G.percentages},{name:"background-gradient-direction",type:G.gradientDirection},{name:"padding",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"padding-relative-to",type:G.paddingRelativeTo,triggersBounds:W.any},{name:"bounds-expansion",type:G.boundsExpansion,triggersBounds:W.any}],E=[{name:"border-color",type:G.color},{name:"border-opacity",type:G.zeroOneNumber},{name:"border-width",type:G.size,triggersBounds:W.any},{name:"border-style",type:G.borderStyle},{name:"border-cap",type:G.lineCap},{name:"border-join",type:G.lineJoin},{name:"border-dash-pattern",type:G.numbers},{name:"border-dash-offset",type:G.number},{name:"border-position",type:G.linePosition}],C=[{name:"outline-color",type:G.color},{name:"outline-opacity",type:G.zeroOneNumber},{name:"outline-width",type:G.size,triggersBounds:W.any},{name:"outline-style",type:G.borderStyle},{name:"outline-offset",type:G.size,triggersBounds:W.any}],j=[{name:"background-image",type:G.urls},{name:"background-image-crossorigin",type:G.bgCrossOrigin},{name:"background-image-opacity",type:G.zeroOneNumbers},{name:"background-image-containment",type:G.bgContainment},{name:"background-image-smoothing",type:G.bools},{name:"background-position-x",type:G.bgPos},{name:"background-position-y",type:G.bgPos},{name:"background-width-relative-to",type:G.bgRelativeTo},{name:"background-height-relative-to",type:G.bgRelativeTo},{name:"background-repeat",type:G.bgRepeat},{name:"background-fit",type:G.bgFit},{name:"background-clip",type:G.bgClip},{name:"background-width",type:G.bgWH},{name:"background-height",type:G.bgWH},{name:"background-offset-x",type:G.bgPos},{name:"background-offset-y",type:G.bgPos}],$=[{name:"position",type:G.position,triggersBounds:W.any},{name:"compound-sizing-wrt-labels",type:G.compoundIncludeLabels,triggersBounds:W.any},{name:"min-width",type:G.size,triggersBounds:W.any},{name:"min-width-bias-left",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-width-bias-right",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-height",type:G.size,triggersBounds:W.any},{name:"min-height-bias-top",type:G.sizeMaybePercent,triggersBounds:W.any},{name:"min-height-bias-bottom",type:G.sizeMaybePercent,triggersBounds:W.any}],k=[{name:"line-style",type:G.lineStyle},{name:"line-color",type:G.color},{name:"line-fill",type:G.fill},{name:"line-cap",type:G.lineCap},{name:"line-opacity",type:G.zeroOneNumber},{name:"line-dash-pattern",type:G.numbers},{name:"line-dash-offset",type:G.number},{name:"line-outline-width",type:G.size},{name:"line-outline-color",type:G.color},{name:"line-gradient-stop-colors",type:G.colors},{name:"line-gradient-stop-positions",type:G.percentages},{name:"curve-style",type:G.curveStyle,triggersBounds:W.any,triggersBoundsOfParallelEdges:function(e,n){if(e===n)return!1;return e==="bezier"||n==="bezier"}},{name:"haystack-radius",type:G.zeroOneNumber,triggersBounds:W.any},{name:"source-endpoint",type:G.edgeEndpoint,triggersBounds:W.any},{name:"target-endpoint",type:G.edgeEndpoint,triggersBounds:W.any},{name:"control-point-step-size",type:G.size,triggersBounds:W.any},{name:"control-point-distances",type:G.bidirectionalSizes,triggersBounds:W.any},{name:"control-point-weights",type:G.numbers,triggersBounds:W.any},{name:"segment-distances",type:G.bidirectionalSizes,triggersBounds:W.any},{name:"segment-weights",type:G.numbers,triggersBounds:W.any},{name:"segment-radii",type:G.numbers,triggersBounds:W.any},{name:"radius-type",type:G.radiusType,triggersBounds:W.any},{name:"taxi-turn",type:G.bidirectionalSizeMaybePercent,triggersBounds:W.any},{name:"taxi-turn-min-distance",type:G.size,triggersBounds:W.any},{name:"taxi-direction",type:G.axisDirection,triggersBounds:W.any},{name:"taxi-radius",type:G.number,triggersBounds:W.any},{name:"edge-distances",type:G.edgeDistances,triggersBounds:W.any},{name:"arrow-scale",type:G.positiveNumber,triggersBounds:W.any},{name:"loop-direction",type:G.angle,triggersBounds:W.any},{name:"loop-sweep",type:G.angle,triggersBounds:W.any},{name:"source-distance-from-node",type:G.size,triggersBounds:W.any},{name:"target-distance-from-node",type:G.size,triggersBounds:W.any}],w=[{name:"ghost",type:G.bool,triggersBounds:W.any},{name:"ghost-offset-x",type:G.bidirectionalSize,triggersBounds:W.any},{name:"ghost-offset-y",type:G.bidirectionalSize,triggersBounds:W.any},{name:"ghost-opacity",type:G.zeroOneNumber}],P=[{name:"selection-box-color",type:G.color},{name:"selection-box-opacity",type:G.zeroOneNumber},{name:"selection-box-border-color",type:G.color},{name:"selection-box-border-width",type:G.size},{name:"active-bg-color",type:G.color},{name:"active-bg-opacity",type:G.zeroOneNumber},{name:"active-bg-size",type:G.size},{name:"outside-texture-bg-color",type:G.color},{name:"outside-texture-bg-opacity",type:G.zeroOneNumber}],S=[];K7.pieBackgroundN=16,S.push({name:"pie-size",type:G.sizeMaybePercent}),S.push({name:"pie-hole",type:G.sizeMaybePercent}),S.push({name:"pie-start-angle",type:G.angle});for(var T=1;T<=K7.pieBackgroundN;T++)S.push({name:"pie-"+T+"-background-color",type:G.color}),S.push({name:"pie-"+T+"-background-size",type:G.percent}),S.push({name:"pie-"+T+"-background-opacity",type:G.zeroOneNumber});var _=[];K7.stripeBackgroundN=16,_.push({name:"stripe-size",type:G.sizeMaybePercent}),_.push({name:"stripe-direction",type:G.axisDirectionPrimary});for(var v=1;v<=K7.stripeBackgroundN;v++)_.push({name:"stripe-"+v+"-background-color",type:G.color}),_.push({name:"stripe-"+v+"-background-size",type:G.percent}),_.push({name:"stripe-"+v+"-background-opacity",type:G.zeroOneNumber});var x=[],b=K7.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:G.arrowShape,triggersBounds:W.any},{name:"arrow-color",type:G.color},{name:"arrow-fill",type:G.arrowFill},{name:"arrow-width",type:G.arrowWidth}].forEach(function(Q0){b.forEach(function(e){var n=e+"-"+Q0.name,Y0=Q0.type,o=Q0.triggersBounds;x.push({name:n,type:Y0,triggersBounds:o})})},{});var y=K7.properties=[].concat(O,A,R,L,D,w,B,M,z,H,F,N,E,C,j,S,_,$,k,x,P),u=K7.propertyGroups={behavior:O,transition:A,visibility:R,overlay:L,underlay:D,ghost:w,commonLabel:B,labelDimensions:M,mainLabel:z,sourceLabel:H,targetLabel:F,nodeBody:N,nodeBorder:E,nodeOutline:C,backgroundImage:j,pie:S,stripe:_,compound:$,edgeLine:k,edgeArrow:x,core:P},h=K7.propertyGroupNames={},p=K7.propertyGroupKeys=Object.keys(u);p.forEach(function(Q0){h[Q0]=u[Q0].map(function(e){return e.name}),u[Q0].forEach(function(e){return e.groupKey=Q0})});var r=K7.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];K7.propertyNames=y.map(function(Q0){return Q0.name});for(var t=0;t<y.length;t++){var d=y[t];y[d.name]=d}for(var X0=0;X0<r.length;X0++){var a=r[X0],z0=y[a.pointsTo],J0={name:a.name,alias:!0,pointsTo:z0};y.push(J0),y[a.name]=J0}})();K7.getDefaultProperty=function(Z){return this.getDefaultProperties()[Z]};K7.getDefaultProperties=function(){var Z=this._private;if(Z.defaultProperties!=null)return Z.defaultProperties;var J=BZ({"selection-box-color":"#ddd","selection-box-opacity":0.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":0.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":0.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(W,G){for(var z=1;z<=K7.pieBackgroundN;z++){var H=G.name.replace("{{i}}",z),F=G.value;W[H]=F}return W},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(W,G){for(var z=1;z<=K7.stripeBackgroundN;z++){var H=G.name.replace("{{i}}",z),F=G.value;W[H]=F}return W},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":0.5,"segment-weights":0.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(W,G){return K7.arrowPrefixes.forEach(function(z){var H=z+"-"+G.name,F=G.value;W[H]=F}),W},{})),Q={};for(var K=0;K<this.properties.length;K++){var U=this.properties[K];if(U.pointsTo)continue;var X=U.name,Y=J[X],q=this.parse(X,Y);Q[X]=q}return Z.defaultProperties=Q,Z.defaultProperties};K7.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":0.25}),this.defaultLength=this.length};rS={};rS.parse=function(Z,J,Q,K){var U=this;if($J(J))return U.parseImplWarn(Z,J,Q,K);var X=K==="mapping"||K===!0||K===!1||K==null?"dontcare":K,Y=Q?"t":"f",q=""+J,W=oI0(Z,q,Y,X),G=U.propCache=U.propCache||[],z;if(!(z=G[W]))z=G[W]=U.parseImplWarn(Z,J,Q,K);if(Q||K==="mapping"){if(z=uU(z),z)z.value=uU(z.value)}return z};rS.parseImplWarn=function(Z,J,Q,K){var U=this.parseImpl(Z,J,Q,K);if(!U&&J!=null)j9("The style property `".concat(Z,": ").concat(J,"` is invalid"));if(U&&(U.name==="width"||U.name==="height")&&J==="label")j9("The style value of `label` is deprecated for `"+U.name+"`");return U};rS.parseImpl=function(Z,J,Q,K){var U=this;Z=Ni(Z);var X=U.properties[Z],Y=J,q=U.types;if(!X)return null;if(J===void 0)return null;if(X.alias)X=X.pointsTo,Z=X.name;var W=XZ(J);if(W)J=J.trim();var G=X.type;if(!G)return null;if(Q&&(J===""||J===null))return{name:Z,value:J,bypass:!0,deleteBypass:!0};if($J(J))return{name:Z,value:J,strValue:"fn",mapped:q.fn,bypass:Q};var z,H;if(!W||K||J.length<7||J[1]!=="a");else if(J.length>=7&&J[0]==="d"&&(z=new RegExp(q.data.regex).exec(J))){if(Q)return!1;var F=q.data;return{name:Z,value:z,strValue:""+J,mapped:F,field:z[1],bypass:Q}}else if(J.length>=10&&J[0]==="m"&&(H=new RegExp(q.mapData.regex).exec(J))){if(Q)return!1;if(G.multiple)return!1;var M=q.mapData;if(!(G.color||G.number))return!1;var B=this.parse(Z,H[4]);if(!B||B.mapped)return!1;var O=this.parse(Z,H[5]);if(!O||O.mapped)return!1;if(B.pfValue===O.pfValue||B.strValue===O.strValue)return j9("`"+Z+": "+J+"` is not a valid mapper because the output range is zero; converting to `"+Z+": "+B.strValue+"`"),this.parse(Z,B.strValue);else if(G.color){var R=B.value,L=O.value,D=R[0]===L[0]&&R[1]===L[1]&&R[2]===L[2]&&(R[3]===L[3]||(R[3]==null||R[3]===1)&&(L[3]==null||L[3]===1));if(D)return!1}return{name:Z,value:H,strValue:""+J,mapped:M,field:H[1],fieldMin:parseFloat(H[2]),fieldMax:parseFloat(H[3]),valueMin:B.value,valueMax:O.value,bypass:Q}}if(G.multiple&&K!=="multiple"){var A;if(W)A=J.split(/\s+/);else if(l9(J))A=J;else A=[J];if(G.evenMultiple&&A.length%2!==0)return null;var V=[],N=[],E=[],C="",j=!1;for(var $=0;$<A.length;$++){var k=U.parse(Z,A[$],Q,"multiple");j=j||XZ(k.value),V.push(k.value),E.push(k.pfValue!=null?k.pfValue:k.value),N.push(k.units),C+=($>0?" ":"")+k.strValue}if(G.validate&&!G.validate(V,N))return null;if(G.singleEnum&&j)if(V.length===1&&XZ(V[0]))return{name:Z,value:V[0],strValue:V[0],bypass:Q};else return null;return{name:Z,value:V,pfValue:E,strValue:C,bypass:Q,units:N}}var w=function(){for(var J0=0;J0<G.enums.length;J0++){var Q0=G.enums[J0];if(Q0===J)return{name:Z,value:J,strValue:""+J,bypass:Q}}return null};if(G.number){var P,S="px";if(G.units)P=G.units;if(G.implicitUnits)S=G.implicitUnits;if(!G.unitless){if(W){var T="px|em"+(G.allowPercent?"|\\%":"");if(P)T=P;var _=J.match("^("+I7+")("+T+")?$");if(_)J=_[1],P=_[2]||S}else if(!P||G.implicitUnits)P=S}if(J=parseFloat(J),isNaN(J)&&G.enums===void 0)return null;if(isNaN(J)&&G.enums!==void 0)return J=Y,w();if(G.integer&&!pH8(J))return null;if(G.min!==void 0&&(J<G.min||G.strictMin&&J===G.min)||G.max!==void 0&&(J>G.max||G.strictMax&&J===G.max))return null;var v={name:Z,value:J,strValue:""+J+(P?P:""),units:P,bypass:Q};if(G.unitless||P!=="px"&&P!=="em")v.pfValue=J;else v.pfValue=P==="px"||!P?J:this.getEmSizeInPixels()*J;if(P==="ms"||P==="s")v.pfValue=P==="ms"?J:1000*J;if(P==="deg"||P==="rad")v.pfValue=P==="rad"?J:t28(J);if(P==="%")v.pfValue=J/100;return v}else if(G.propList){var x=[],b=""+J;if(b==="none");else{var y=b.split(/\s*,\s*|\s+/);for(var u=0;u<y.length;u++){var h=y[u].trim();if(U.properties[h])x.push(h);else j9("`"+h+"` is not a valid property name")}if(x.length===0)return null}return{name:Z,value:x,strValue:x.length===0?"none":x.join(" "),bypass:Q}}else if(G.color){var p=lI0(J);if(!p)return null;return{name:Z,value:p,pfValue:p,strValue:"rgb("+p[0]+","+p[1]+","+p[2]+")",bypass:Q}}else if(G.regex||G.regexes){if(G.enums){var r=w();if(r)return r}var t=G.regexes?G.regexes:[G.regex];for(var d=0;d<t.length;d++){var X0=new RegExp(t[d]),a=X0.exec(J);if(a)return{name:Z,value:G.singleRegexMatchValue?a[1]:a,strValue:""+J,bypass:Q}}return null}else if(G.string)return{name:Z,value:""+J,strValue:""+J,bypass:Q};else if(G.enums)return w();else return null};TQ=b7.prototype;TQ.instanceString=function(){return"style"};TQ.clear=function(){var Z=this._private,J=Z.cy,Q=J.elements();for(var K=0;K<this.length;K++)this[K]=void 0;return this.length=0,Z.contextStyles={},Z.propDiffs={},this.cleanElements(Q,!0),Q.forEach(function(U){var X=U[0]._private;X.styleDirty=!0,X.appliedInitStyle=!1}),this};TQ.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};TQ.core=function(Z){return this._private.coreStyle[Z]||this.getDefaultProperty(Z)};TQ.selector=function(Z){var J=Z==="core"?null:new Nq(Z),Q=this.length++;return this[Q]={selector:J,properties:[],mappedProperties:[],index:Q},this};TQ.css=function(){var Z=this,J=arguments;if(J.length===1){var Q=J[0];for(var K=0;K<Z.properties.length;K++){var U=Z.properties[K],X=Q[U.name];if(X===void 0)X=Q[vS(U.name)];if(X!==void 0)this.cssRule(U.name,X)}}else if(J.length===2)this.cssRule(J[0],J[1]);return this};TQ.style=TQ.css;TQ.cssRule=function(Z,J){var Q=this.parse(Z,J);if(Q){var K=this.length-1;if(this[K].properties.push(Q),this[K].properties[Q.name]=Q,Q.name.match(/pie-(\d+)-background-size/)&&Q.value)this._private.hasPie=!0;if(Q.name.match(/stripe-(\d+)-background-size/)&&Q.value)this._private.hasStripe=!0;if(Q.mapped)this[K].mappedProperties.push(Q);var U=!this[K].selector;if(U)this._private.coreStyle[Q.name]=Q}return this};TQ.append=function(Z){if(gI0(Z))Z.appendToStyle(this);else if(l9(Z))this.appendFromJson(Z);else if(XZ(Z))this.appendFromString(Z);return this};b7.fromJson=function(Z,J){var Q=new b7(Z);return Q.fromJson(J),Q};b7.fromString=function(Z,J){return new b7(Z).fromString(J)};[y7,SD,yi,gU,sS,hi,K7,rS].forEach(function(Z){BZ(TQ,Z)});b7.types=TQ.types;b7.properties=TQ.properties;b7.propertyGroups=TQ.propertyGroups;b7.propertyGroupNames=TQ.propertyGroupNames;b7.propertyGroupKeys=TQ.propertyGroupKeys;QO8={style:function(J){if(J){var Q=this.setStyle(J);Q.update()}return this._private.style},setStyle:function(J){var Q=this._private;if(gI0(J))Q.style=J.generateStyle(this);else if(l9(J))Q.style=b7.fromJson(this,J);else if(XZ(J))Q.style=b7.fromString(this,J);else Q.style=b7(this);return Q.style},updateStyle:function(){this.mutableElements().updateStyle()}},Gz={autolock:function(J){if(J!==void 0)this._private.autolock=J?!0:!1;else return this._private.autolock;return this},autoungrabify:function(J){if(J!==void 0)this._private.autoungrabify=J?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function(J){if(J!==void 0)this._private.autounselectify=J?!0:!1;else return this._private.autounselectify;return this},selectionType:function(J){var Q=this._private;if(Q.selectionType==null)Q.selectionType=KO8;if(J!==void 0){if(J==="additive"||J==="single")Q.selectionType=J}else return Q.selectionType;return this},panningEnabled:function(J){if(J!==void 0)this._private.panningEnabled=J?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function(J){if(J!==void 0)this._private.userPanningEnabled=J?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(J){if(J!==void 0)this._private.zoomingEnabled=J?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(J){if(J!==void 0)this._private.userZoomingEnabled=J?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(J){if(J!==void 0)this._private.boxSelectionEnabled=J?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function(){var J=arguments,Q=this._private.pan,K,U,X,Y,q;switch(J.length){case 0:return Q;case 1:if(XZ(J[0]))return K=J[0],Q[K];else if(H9(J[0])){if(!this._private.panningEnabled)return this;if(X=J[0],Y=X.x,q=X.y,k8(Y))Q.x=Y;if(k8(q))Q.y=q;this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;if(K=J[0],U=J[1],(K==="x"||K==="y")&&k8(U))Q[K]=U;this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(J,Q){var K=arguments,U=this._private.pan,X,Y,q,W,G;if(!this._private.panningEnabled)return this;switch(K.length){case 1:if(H9(J)){if(q=K[0],W=q.x,G=q.y,k8(W))U.x+=W;if(k8(G))U.y+=G;this.emit("pan viewport")}break;case 2:if(X=J,Y=Q,(X==="x"||X==="y")&&k8(Y))U[X]+=Y;this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(J,Q){var K=this.getFitViewport(J,Q);if(K){var U=this._private;U.zoom=K.zoom,U.pan=K.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(J,Q){if(k8(J)&&Q===void 0)Q=J,J=void 0;if(!this._private.panningEnabled||!this._private.zoomingEnabled)return;var K;if(XZ(J)){var U=J;J=this.$(U)}else if(dH8(J)){var X=J;K={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2},K.w=K.x2-K.x1,K.h=K.y2-K.y1}else if(!x4(J))J=this.mutableElements();if(x4(J)&&J.empty())return;K=K||J.boundingBox();var Y=this.width(),q=this.height(),W;if(Q=k8(Q)?Q:0,!isNaN(Y)&&!isNaN(q)&&Y>0&&q>0&&!isNaN(K.w)&&!isNaN(K.h)&&K.w>0&&K.h>0){W=Math.min((Y-2*Q)/K.w,(q-2*Q)/K.h),W=W>this._private.maxZoom?this._private.maxZoom:W,W=W<this._private.minZoom?this._private.minZoom:W;var G={x:(Y-W*(K.x1+K.x2))/2,y:(q-W*(K.y1+K.y2))/2};return{zoom:W,pan:G}}return},zoomRange:function(J,Q){var K=this._private;if(Q==null){var U=J;J=U.min,Q=U.max}if(k8(J)&&k8(Q)&&J<=Q)K.minZoom=J,K.maxZoom=Q;else if(k8(J)&&Q===void 0&&J<=K.maxZoom)K.minZoom=J;else if(k8(Q)&&J===void 0&&Q>=K.minZoom)K.maxZoom=Q;return this},minZoom:function(J){if(J===void 0)return this._private.minZoom;else return this.zoomRange({min:J})},maxZoom:function(J){if(J===void 0)return this._private.maxZoom;else return this.zoomRange({max:J})},getZoomedViewport:function(J){var Q=this._private,K=Q.pan,U=Q.zoom,X,Y,q=!1;if(!Q.zoomingEnabled)q=!0;if(k8(J))Y=J;else if(H9(J)){if(Y=J.level,J.position!=null)X=yS(J.position,U,K);else if(J.renderedPosition!=null)X=J.renderedPosition;if(X!=null&&!Q.panningEnabled)q=!0}if(Y=Y>Q.maxZoom?Q.maxZoom:Y,Y=Y<Q.minZoom?Q.minZoom:Y,q||!k8(Y)||Y===U||X!=null&&(!k8(X.x)||!k8(X.y)))return null;if(X!=null){var W=K,G=U,z=Y,H={x:-z/G*(X.x-W.x)+X.x,y:-z/G*(X.y-W.y)+X.y};return{zoomed:!0,panned:!0,zoom:z,pan:H}}else return{zoomed:!0,panned:!1,zoom:Y,pan:K}},zoom:function(J){if(J===void 0)return this._private.zoom;else{var Q=this.getZoomedViewport(J),K=this._private;if(Q==null||!Q.zoomed)return this;if(K.zoom=Q.zoom,Q.panned)K.pan.x=Q.pan.x,K.pan.y=Q.pan.y;return this.emit("zoom"+(Q.panned?" pan":"")+" viewport"),this.notify("viewport"),this}},viewport:function(J){var Q=this._private,K=!0,U=!0,X=[],Y=!1,q=!1;if(!J)return this;if(!k8(J.zoom))K=!1;if(!H9(J.pan))U=!1;if(!K&&!U)return this;if(K){var W=J.zoom;if(W<Q.minZoom||W>Q.maxZoom||!Q.zoomingEnabled)Y=!0;else Q.zoom=W,X.push("zoom")}if(U&&(!Y||!J.cancelOnFailedZoom)&&Q.panningEnabled){var G=J.pan;if(k8(G.x))Q.pan.x=G.x,q=!1;if(k8(G.y))Q.pan.y=G.y,q=!1;if(!q)X.push("pan")}if(X.length>0)X.push("viewport"),this.emit(X.join(" ")),this.notify("viewport");return this},center:function(J){var Q=this.getCenterPan(J);if(Q)this._private.pan=Q,this.emit("pan viewport"),this.notify("viewport");return this},getCenterPan:function(J,Q){if(!this._private.panningEnabled)return;if(XZ(J)){var K=J;J=this.mutableElements().filter(K)}else if(!x4(J))J=this.mutableElements();if(J.length===0)return;var U=J.boundingBox(),X=this.width(),Y=this.height();Q=Q===void 0?this._private.zoom:Q;var q={x:(X-Q*(U.x1+U.x2))/2,y:(Y-Q*(U.y1+U.y2))/2};return q},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;return this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var J=this._private,Q=J.container,K=this;return J.sizeCache=J.sizeCache||(Q?function(){var U=K.window().getComputedStyle(Q),X=function(q){return parseFloat(U.getPropertyValue(q))};return{width:Q.clientWidth-X("padding-left")-X("padding-right"),height:Q.clientHeight-X("padding-top")-X("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var J=this._private.pan,Q=this._private.zoom,K=this.renderedExtent(),U={x1:(K.x1-J.x)/Q,x2:(K.x2-J.x)/Q,y1:(K.y1-J.y)/Q,y2:(K.y2-J.y)/Q};return U.w=U.x2-U.x1,U.h=U.y2-U.y1,U},renderedExtent:function(){var J=this.width(),Q=this.height();return{x1:0,y1:0,x2:J,y2:Q,w:J,h:Q}},multiClickDebounceTime:function(J){if(J)this._private.multiClickDebounceTime=J;else return this._private.multiClickDebounceTime;return this}};Gz.centre=Gz.center;Gz.autolockNodes=Gz.autolock;Gz.autoungrabifyNodes=Gz.autoungrabify;RD={data:C9.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:C9.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:C9.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:C9.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};RD.attr=RD.data;RD.removeAttr=RD.removeData;TS=LD.prototype;BZ(TS,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(J){if(this.isReady())this.emitter().emit("ready",[],J);else this.on("ready",J);return this},destroy:function(){var J=this;if(J.destroyed())return;return J.stopAnimationLoop(),J.destroyRenderer(),this.emit("destroy"),J._private.destroyed=!0,J},hasElementWithId:function(J){return this._private.elements.hasElementWithId(J)},getElementById:function(J){return this._private.elements.getElementById(J)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(J){return this._private.elements.merge(J),this},removeFromPool:function(J){return this._private.elements.unmerge(J),this},container:function(){return this._private.container||null},window:function(){var J=this._private.container;if(J==null)return D7;var Q=this._private.container.ownerDocument;if(Q===void 0||Q==null)return D7;return Q.defaultView||D7},mount:function(J){if(J==null)return;var Q=this,K=Q._private,U=K.options;if(!NS(J)&&NS(J[0]))J=J[0];return Q.stopAnimationLoop(),Q.destroyRenderer(),K.container=J,K.styleEnabled=!0,Q.invalidateSize(),Q.initRenderer(BZ({},U,U.renderer,{name:U.renderer.name==="null"?"canvas":U.renderer.name})),Q.startAnimationLoop(),Q.style(U.style),Q.emit("mount"),Q},unmount:function(){var J=this;return J.stopAnimationLoop(),J.destroyRenderer(),J.initRenderer({name:"null"}),J.emit("unmount"),J},options:function(){return uU(this._private.options)},json:function(J){var Q=this,K=Q._private,U=Q.mutableElements(),X=function(V){return Q.getElementById(V.id())};if(H9(J)){if(Q.startBatch(),J.elements){var Y={},q=function(V,N){var E=[],C=[];for(var j=0;j<V.length;j++){var $=V[j];if(!$.data.id){j9("cy.json() cannot handle elements without an ID attribute");continue}var k=""+$.data.id,w=Q.getElementById(k);if(Y[k]=!0,w.length!==0)C.push({ele:w,json:$});else if(N)$.group=N,E.push($);else E.push($)}Q.add(E);for(var P=0;P<C.length;P++){var S=C[P],T=S.ele,_=S.json;T.json(_)}};if(l9(J.elements))q(J.elements);else{var W=["nodes","edges"];for(var G=0;G<W.length;G++){var z=W[G],H=J.elements[z];if(l9(H))q(H,z)}}var F=Q.collection();U.filter(function(A){return!Y[A.id()]}).forEach(function(A){if(A.isParent())F.merge(A);else A.remove()}),F.forEach(function(A){return A.children().move({parent:null})}),F.forEach(function(A){return X(A).remove()})}if(J.style)Q.style(J.style);if(J.zoom!=null&&J.zoom!==K.zoom)Q.zoom(J.zoom);if(J.pan){if(J.pan.x!==K.pan.x||J.pan.y!==K.pan.y)Q.pan(J.pan)}if(J.data)Q.data(J.data);var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"];for(var B=0;B<M.length;B++){var O=M[B];if(J[O]!=null)Q[O](J[O])}return Q.endBatch(),this}else{var R=!!J,L={};if(R)L.elements=this.elements().map(function(A){return A.json()});else L.elements={},U.forEach(function(A){var V=A.group();if(!L.elements[V])L.elements[V]=[];L.elements[V].push(A.json())});if(this._private.styleEnabled)L.style=Q.style().json();L.data=uU(Q.data());var D=K.options;return L.zoomingEnabled=K.zoomingEnabled,L.userZoomingEnabled=K.userZoomingEnabled,L.zoom=K.zoom,L.minZoom=K.minZoom,L.maxZoom=K.maxZoom,L.panningEnabled=K.panningEnabled,L.userPanningEnabled=K.userPanningEnabled,L.pan=uU(K.pan),L.boxSelectionEnabled=K.boxSelectionEnabled,L.renderer=uU(D.renderer),L.hideEdgesOnViewport=D.hideEdgesOnViewport,L.textureOnViewport=D.textureOnViewport,L.wheelSensitivity=D.wheelSensitivity,L.motionBlur=D.motionBlur,L.multiClickDebounceTime=D.multiClickDebounceTime,L}}});TS.$id=TS.getElementById;[iB8,oB8,gA0,Wi,OS,eB8,Gi,RS,QO8,Gz,RD].forEach(function(Z){BZ(TS,Z)});UO8={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}},XO8={maximal:!1,acyclic:!1};pA0.prototype.run=function(){var Z=this.options,J=Z.cy,Q=Z.eles,K=Q.nodes().filter(function(p0){return p0.isChildless()}),U=Q,X=Z.directed,Y=Z.acyclic||Z.maximal||Z.maximalAdjustments>0,q=!!Z.boundingBox,W=X6(q?Z.boundingBox:structuredClone(J.extent())),G;if(x4(Z.roots))G=Z.roots;else if(l9(Z.roots)){var z=[];for(var H=0;H<Z.roots.length;H++){var F=Z.roots[H],M=J.getElementById(F);z.push(M)}G=J.collection(z)}else if(XZ(Z.roots))G=J.$(Z.roots);else if(X)G=K.roots();else{var B=Q.components();G=J.collection();var O=function(){var B0=B[R],h0=B0.maxDegree(!1),a0=B0.filter(function(s0){return s0.degree(!1)===h0});G=G.add(a0)};for(var R=0;R<B.length;R++)O()}var L=[],D={},A=function(B0,h0){if(L[h0]==null)L[h0]=[];var a0=L[h0].length;L[h0].push(B0),GI0(B0,{index:a0,depth:h0})},V=function(B0,h0){var a0=QF(B0),s0=a0.depth,$0=a0.index;if(L[s0][$0]=null,B0.isChildless())A(B0,h0)};U.bfs({roots:G,directed:Z.directed,visit:function(B0,h0,a0,s0,$0){var x0=B0[0],f0=x0.id();if(x0.isChildless())A(x0,$0);D[f0]=!0}});var N=[];for(var E=0;E<K.length;E++){var C=K[E];if(D[C.id()])continue;else N.push(C)}var j=function(B0){var h0=L[B0];for(var a0=0;a0<h0.length;a0++){var s0=h0[a0];if(s0==null){h0.splice(a0,1),a0--;continue}GI0(s0,{depth:B0,index:a0})}},$=function(B0,h0){var a0=QF(B0),s0=B0.incomers().filter(function(I0){return I0.isNode()&&Q.has(I0)}),$0=-1,x0=B0.id();for(var f0=0;f0<s0.length;f0++){var C0=s0[f0],m0=QF(C0);$0=Math.max($0,m0.depth)}if(a0.depth<=$0){if(!Z.acyclic&&h0[x0])return null;var F0=$0+1;return V(B0,F0),h0[x0]=F0,!0}return!1};if(X&&Y){var k=[],w={},P=function(B0){return k.push(B0)},S=function(){return k.shift()};K.forEach(function(p0){return k.push(p0)});while(k.length>0){var T=S(),_=$(T,w);if(_)T.outgoers().filter(function(p0){return p0.isNode()&&Q.has(p0)}).forEach(P);else if(_===null){j9("Detected double maximal shift for node `"+T.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var v=0;if(Z.avoidOverlap)for(var x=0;x<K.length;x++){var b=K[x],y=b.layoutDimensions(Z),u=y.w,h=y.h;v=Math.max(v,u,h)}var p={},r=function(B0){if(p[B0.id()])return p[B0.id()];var h0=QF(B0).depth,a0=B0.neighborhood(),s0=0,$0=0;for(var x0=0;x0<a0.length;x0++){var f0=a0[x0];if(f0.isEdge()||f0.isParent()||!K.has(f0))continue;var C0=QF(f0);if(C0==null)continue;var{index:m0,depth:F0}=C0;if(m0==null||F0==null)continue;var I0=L[F0].length;if(F0<h0)s0+=m0/I0,$0++}if($0=Math.max(1,$0),s0=s0/$0,$0===0)s0=0;return p[B0.id()]=s0,s0},t=function(B0,h0){var a0=r(B0),s0=r(h0),$0=a0-s0;if($0===0)return cI0(B0.id(),h0.id());else return $0};if(Z.depthSort!==void 0)t=Z.depthSort;var d=L.length;for(var X0=0;X0<d;X0++)L[X0].sort(t),j(X0);var a=[];for(var z0=0;z0<N.length;z0++)a.push(N[z0]);var J0=function(){for(var B0=0;B0<d;B0++)j(B0)};if(a.length)L.unshift(a),d=L.length,J0();var Q0=0;for(var e=0;e<d;e++)Q0=Math.max(L[e].length,Q0);var n={x:W.x1+W.w/2,y:W.y1+W.h/2},Y0=K.reduce(function(p0,B0){return function(h0){return{w:p0.w===-1?h0.w:(p0.w+h0.w)/2,h:p0.h===-1?h0.h:(p0.h+h0.h)/2}}(B0.boundingBox({includeLabels:Z.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),o=Math.max(d===1?0:q?(W.h-Z.padding*2-Y0.h)/(d-1):(W.h-Z.padding*2-Y0.h)/(d+1),v),M0=L.reduce(function(p0,B0){return Math.max(p0,B0.length)},0),K0=function(B0){var h0=QF(B0),a0=h0.depth,s0=h0.index;if(Z.circle){var $0=Math.min(W.w/2/d,W.h/2/d);$0=Math.max($0,v);var x0=$0*a0+$0-(d>0&&L[0].length<=3?$0/2:0),f0=2*Math.PI/L[a0].length*s0;if(a0===0&&L[0].length===1)x0=1;return{x:n.x+x0*Math.cos(f0),y:n.y+x0*Math.sin(f0)}}else{var C0=L[a0].length,m0=Math.max(C0===1?0:q?(W.w-Z.padding*2-Y0.w)/((Z.grid?M0:C0)-1):(W.w-Z.padding*2-Y0.w)/((Z.grid?M0:C0)+1),v),F0={x:n.x+(s0+1-(C0+1)/2)*m0,y:n.y+(a0+1-(d+1)/2)*o};return F0}},V0={downward:0,leftward:90,upward:180,rightward:-90};if(Object.keys(V0).indexOf(Z.direction)===-1)AJ("Invalid direction '".concat(Z.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(V0).join(", ")));var i=function(B0){return N28(K0(B0),W,V0[Z.direction])};return Q.nodes().layoutPositions(this,Z,i),this};YO8={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};cA0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,U=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,X=K.nodes().not(":parent");if(J.sort)X=X.sort(J.sort);var Y=X6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},W=J.sweep===void 0?2*Math.PI-2*Math.PI/X.length:J.sweep,G=W/Math.max(1,X.length-1),z,H=0;for(var F=0;F<X.length;F++){var M=X[F],B=M.layoutDimensions(J),O=B.w,R=B.h;H=Math.max(H,O,R)}if(k8(J.radius))z=J.radius;else if(X.length<=1)z=0;else z=Math.min(Y.h,Y.w)/2-H;if(X.length>1&&J.avoidOverlap){H*=1.75;var L=Math.cos(G)-Math.cos(0),D=Math.sin(G)-Math.sin(0),A=Math.sqrt(H*H/(L*L+D*D));z=Math.max(A,z)}var V=function(E,C){var j=J.startAngle+C*G*(U?1:-1),$=z*Math.cos(j),k=z*Math.sin(j),w={x:q.x+$,y:q.y+k};return w};return K.nodes().layoutPositions(this,J,V),this};qO8={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(J){return J.degree()},levelWidth:function(J){return J.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};lA0.prototype.run=function(){var Z=this.options,J=Z,Q=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,K=Z.cy,U=J.eles,X=U.nodes().not(":parent"),Y=X6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:K.width(),h:K.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},W=[],G=0;for(var z=0;z<X.length;z++){var H=X[z],F=void 0;F=J.concentric(H),W.push({value:F,node:H}),H._private.scratch.concentric=F}X.updateStyle();for(var M=0;M<X.length;M++){var B=X[M],O=B.layoutDimensions(J);G=Math.max(G,O.w,O.h)}W.sort(function(o,M0){return M0.value-o.value});var R=J.levelWidth(X),L=[[]],D=L[0];for(var A=0;A<W.length;A++){var V=W[A];if(D.length>0){var N=Math.abs(D[0].value-V.value);if(N>=R)D=[],L.push(D)}D.push(V)}var E=G+J.minNodeSpacing;if(!J.avoidOverlap){var C=L.length>0&&L[0].length>1,j=Math.min(Y.w,Y.h)/2-E,$=j/(L.length+C?1:0);E=Math.min(E,$)}var k=0;for(var w=0;w<L.length;w++){var P=L[w],S=J.sweep===void 0?2*Math.PI-2*Math.PI/P.length:J.sweep,T=P.dTheta=S/Math.max(1,P.length-1);if(P.length>1&&J.avoidOverlap){var _=Math.cos(T)-Math.cos(0),v=Math.sin(T)-Math.sin(0),x=Math.sqrt(E*E/(_*_+v*v));k=Math.max(x,k)}P.r=k,k+=E}if(J.equidistant){var b=0,y=0;for(var u=0;u<L.length;u++){var h=L[u],p=h.r-y;b=Math.max(b,p)}y=0;for(var r=0;r<L.length;r++){var t=L[r];if(r===0)y=t.r;t.r=y,y+=b}}var d={};for(var X0=0;X0<L.length;X0++){var a=L[X0],z0=a.dTheta,J0=a.r;for(var Q0=0;Q0<a.length;Q0++){var e=a[Q0],n=J.startAngle+(Q?1:-1)*z0*Q0,Y0={x:q.x+J0*Math.cos(n),y:q.y+J0*Math.sin(n)};d[e.node.id()]=Y0}}return U.nodes().layoutPositions(this,J,function(o){var M0=o.id();return d[M0]}),this};WO8={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(J,Q){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(J){return 2048},nodeOverlap:4,idealEdgeLength:function(J){return 32},edgeElasticity:function(J){return 32},nestingFactor:1.2,gravity:1,numIter:1000,initialTemp:1000,coolingFactor:0.99,minTemp:1};nS.prototype.run=function(){var Z=this.options,J=Z.cy,Q=this;if(Q.stopped=!1,Z.animate===!0||Z.animate===!1)Q.emit({type:"layoutstart",layout:Q});if(Z.debug===!0)ld=!0;else ld=!1;var K=GO8(J,Q,Z);if(ld)HO8(K);if(Z.randomize)FO8(K);var U=RY(),X=function(){if(MO8(K,J,Z),Z.fit===!0)J.fit(Z.padding)},Y=function(F){if(Q.stopped||F>=Z.numIter)return!1;if(BO8(K,Z),K.temperature=K.temperature*Z.coolingFactor,K.temperature<Z.minTemp)return!1;return!0},q=function(){if(Z.animate===!0||Z.animate===!1)X(),Q.one("layoutstop",Z.stop),Q.emit({type:"layoutstop",layout:Q});else{var F=Z.eles.nodes(),M=iA0(K,Z,F);F.layoutPositions(Q,Z,M)}},W=0,G=!0;if(Z.animate===!0){var z=function(){var F=0;while(G&&F<Z.refresh)G=Y(W),W++,F++;if(!G)HI0(K,Z),q();else{var M=RY();if(M-U>=Z.animationThreshold)X();ES(z)}};z()}else{while(G)G=Y(W),W++;HI0(K,Z),q()}return this};nS.prototype.stop=function(){if(this.stopped=!0,this.thread)this.thread.stop();return this.emit("layoutstop"),this};nS.prototype.destroy=function(){if(this.thread)this.thread.stop();return this};VO8={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(J){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};rA0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,U=K.nodes().not(":parent");if(J.sort)U=U.sort(J.sort);var X=X6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()});if(X.h===0||X.w===0)K.nodes().layoutPositions(this,J,function(r){return{x:X.x1,y:X.y1}});else{var Y=U.size(),q=Math.sqrt(Y*X.h/X.w),W=Math.round(q),G=Math.round(X.w/X.h*q),z=function(t){if(t==null)return Math.min(W,G);else{var d=Math.min(W,G);if(d==W)W=t;else G=t}},H=function(t){if(t==null)return Math.max(W,G);else{var d=Math.max(W,G);if(d==W)W=t;else G=t}},F=J.rows,M=J.cols!=null?J.cols:J.columns;if(F!=null&&M!=null)W=F,G=M;else if(F!=null&&M==null)W=F,G=Math.ceil(Y/W);else if(F==null&&M!=null)G=M,W=Math.ceil(Y/G);else if(G*W>Y){var B=z(),O=H();if((B-1)*O>=Y)z(B-1);else if((O-1)*B>=Y)H(O-1)}else while(G*W<Y){var R=z(),L=H();if((L+1)*R>=Y)H(L+1);else z(R+1)}var D=X.w/G,A=X.h/W;if(J.condense)D=0,A=0;if(J.avoidOverlap)for(var V=0;V<U.length;V++){var N=U[V],E=N._private.position;if(E.x==null||E.y==null)E.x=0,E.y=0;var C=N.layoutDimensions(J),j=J.avoidOverlapPadding,$=C.w+j,k=C.h+j;D=Math.max(D,$),A=Math.max(A,k)}var w={},P=function(t,d){return w["c-"+t+"-"+d]?!0:!1},S=function(t,d){w["c-"+t+"-"+d]=!0},T=0,_=0,v=function(){if(_++,_>=G)_=0,T++},x={};for(var b=0;b<U.length;b++){var y=U[b],u=J.position(y);if(u&&(u.row!==void 0||u.col!==void 0)){var h={row:u.row,col:u.col};if(h.col===void 0){h.col=0;while(P(h.row,h.col))h.col++}else if(h.row===void 0){h.row=0;while(P(h.row,h.col))h.row++}x[y.id()]=h,S(h.row,h.col)}}var p=function(t,d){var X0,a;if(t.locked()||t.isParent())return!1;var z0=x[t.id()];if(z0)X0=z0.col*D+D/2+X.x1,a=z0.row*A+A/2+X.y1;else{while(P(T,_))v();X0=_*D+D/2+X.x1,a=T*A+A/2+X.y1,S(T,_),v()}return{x:X0,y:a}};U.layoutPositions(this,J,p)}return this};PO8={ready:function(){},stop:function(){}};mi.prototype.run=function(){var Z=this.options,J=Z.eles,Q=this;return Z.cy,Q.emit("layoutstart"),J.nodes().positions(function(){return{x:0,y:0}}),Q.one("layoutready",Z.ready),Q.emit("layoutready"),Q.one("layoutstop",Z.stop),Q.emit("layoutstop"),this};mi.prototype.stop=function(){return this};CO8={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};nA0.prototype.run=function(){var Z=this.options,J=Z.eles,Q=J.nodes(),K=$J(Z.positions);function U(X){if(Z.positions==null)return s28(X.position());if(K)return Z.positions(X);var Y=Z.positions[X._private.data.id];if(Y==null)return null;return Y}return Q.layoutPositions(this,Z,function(X,Y){var q=U(X);if(X.locked()||q==null)return!1;return q}),this};jO8={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(J,Q){return!0},ready:void 0,stop:void 0,transform:function(J,Q){return Q}};aA0.prototype.run=function(){var Z=this.options,J=Z.cy,Q=Z.eles,K=X6(Z.boundingBox?Z.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),U=function(Y,q){return{x:K.x1+Math.round(Math.random()*K.w),y:K.y1+Math.round(Math.random()*K.h)}};return Q.nodes().layoutPositions(this,Z,U),this};SO8=[{name:"breadthfirst",impl:pA0},{name:"circle",impl:cA0},{name:"concentric",impl:lA0},{name:"cose",impl:nS},{name:"grid",impl:rA0},{name:"null",impl:mi},{name:"preset",impl:nA0},{name:"random",impl:aA0}];oA0.prototype={recalculateRenderedStyle:FI0,notify:function(){this.notifications++},init:FI0,isHeadless:function(){return!0},png:MI0,jpg:MI0};ui={};ui.arrowShapeWidth=0.3;ui.registerArrowShapes=function(){var Z=this.arrowShapes={},J=this,Q=function(G,z,H,F,M,B,O){var R=M.x-H/2-O,L=M.x+H/2+O,D=M.y-H/2-O,A=M.y+H/2+O,V=R<=G&&G<=L&&D<=z&&z<=A;return V},K=function(G,z,H,F,M){var B=G*Math.cos(F)-z*Math.sin(F),O=G*Math.sin(F)+z*Math.cos(F),R=B*H,L=O*H,D=R+M.x,A=L+M.y;return{x:D,y:A}},U=function(G,z,H,F){var M=[];for(var B=0;B<G.length;B+=2){var O=G[B],R=G[B+1];M.push(K(O,R,z,H,F))}return M},X=function(G){var z=[];for(var H=0;H<G.length;H++){var F=G[H];z.push(F.x,F.y)}return z},Y=function(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").pfValue*2},q=function(G,z){if(XZ(z))z=Z[z];Z[G]=BZ({name:G,points:[-0.15,-0.3,0.15,-0.3,0.15,0.3,-0.15,0.3],collide:function(F,M,B,O,R,L){var D=X(U(this.points,B+2*L,O,R)),A=n6(F,M,D);return A},roughCollide:Q,draw:function(F,M,B,O){var R=U(this.points,M,B,O);J.arrowShapeImpl("polygon")(F,R)},spacing:function(F){return 0},gap:Y},z)};q("none",{collide:VS,roughCollide:VS,draw:Pi,spacing:SL0,gap:SL0}),q("triangle",{points:[-0.15,-0.3,0,0,0.15,-0.3]}),q("arrow","triangle"),q("triangle-backcurve",{points:Z.triangle.points,controlPoint:[0,-0.15],roughCollide:Q,draw:function(G,z,H,F,M){var B=U(this.points,z,H,F),O=this.controlPoint,R=K(O[0],O[1],z,H,F);J.arrowShapeImpl(this.name)(G,B,R)},gap:function(G){return Y(G)*0.8}}),q("triangle-tee",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],pointsTee:[-0.15,-0.4,-0.15,-0.5,0.15,-0.5,0.15,-0.4],collide:function(G,z,H,F,M,B,O){var R=X(U(this.points,H+2*O,F,M)),L=X(U(this.pointsTee,H+2*O,F,M)),D=n6(G,z,R)||n6(G,z,L);return D},draw:function(G,z,H,F,M){var B=U(this.points,z,H,F),O=U(this.pointsTee,z,H,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("circle-triangle",{radius:0.15,pointsTr:[0,-0.15,0.15,-0.45,-0.15,-0.45,0,-0.15],collide:function(G,z,H,F,M,B,O){var R=M,L=Math.pow(R.x-G,2)+Math.pow(R.y-z,2)<=Math.pow((H+2*O)*this.radius,2),D=X(U(this.points,H+2*O,F,M));return n6(G,z,D)||L},draw:function(G,z,H,F,M){var B=U(this.pointsTr,z,H,F);J.arrowShapeImpl(this.name)(G,B,F.x,F.y,this.radius*z)},spacing:function(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("triangle-cross",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],baseCrossLinePts:[-0.15,-0.4,-0.15,-0.4,0.15,-0.4,0.15,-0.4],crossLinePts:function(G,z){var H=this.baseCrossLinePts.slice(),F=z/G,M=3,B=5;return H[M]=H[M]-F,H[B]=H[B]-F,H},collide:function(G,z,H,F,M,B,O){var R=X(U(this.points,H+2*O,F,M)),L=X(U(this.crossLinePts(H,B),H+2*O,F,M)),D=n6(G,z,R)||n6(G,z,L);return D},draw:function(G,z,H,F,M){var B=U(this.points,z,H,F),O=U(this.crossLinePts(z,M),z,H,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("vee",{points:[-0.15,-0.3,0,0,0.15,-0.3,0,-0.15],gap:function(G){return Y(G)*0.525}}),q("circle",{radius:0.15,collide:function(G,z,H,F,M,B,O){var R=M,L=Math.pow(R.x-G,2)+Math.pow(R.y-z,2)<=Math.pow((H+2*O)*this.radius,2);return L},draw:function(G,z,H,F,M){J.arrowShapeImpl(this.name)(G,F.x,F.y,this.radius*z)},spacing:function(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("tee",{points:[-0.15,0,-0.15,-0.1,0.15,-0.1,0.15,0],spacing:function(G){return 1},gap:function(G){return 1}}),q("square",{points:[-0.15,0,0.15,0,0.15,-0.3,-0.15,-0.3]}),q("diamond",{points:[-0.15,-0.15,0,-0.3,0.15,-0.15,0,0],gap:function(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}}),q("chevron",{points:[0,0,-0.15,-0.15,-0.1,-0.2,0,-0.1,0.1,-0.2,0.15,-0.15],gap:function(G){return 0.95*G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}})};Hz={};Hz.projectIntoViewport=function(Z,J){var Q=this.cy,K=this.findContainerClientCoords(),U=K[0],X=K[1],Y=K[4],q=Q.pan(),W=Q.zoom(),G=((Z-U)/Y-q.x)/W,z=((J-X)/Y-q.y)/W;return[G,z]};Hz.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var Z=this.container,J=Z.getBoundingClientRect(),Q=this.cy.window().getComputedStyle(Z),K=function(L){return parseFloat(Q.getPropertyValue(L))},U={left:K("padding-left"),right:K("padding-right"),top:K("padding-top"),bottom:K("padding-bottom")},X={left:K("border-left-width"),right:K("border-right-width"),top:K("border-top-width"),bottom:K("border-bottom-width")},Y=Z.clientWidth,q=Z.clientHeight,W=U.left+U.right,G=U.top+U.bottom,z=X.left+X.right,H=J.width/(Y+z),F=Y-W,M=q-G,B=J.left+U.left+X.left,O=J.top+U.top+X.top;return this.containerBB=[B,O,F,M,H]};Hz.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Hz.findNearestElement=function(Z,J,Q,K){return this.findNearestElements(Z,J,Q,K)[0]};Hz.findNearestElements=function(Z,J,Q,K){var U=this,X=this,Y=X.getCachedZSortedEles(),q=[],W=X.cy.zoom(),G=X.cy.hasCompoundNodes(),z=(K?24:8)/W,H=(K?8:2)/W,F=(K?8:2)/W,M=1/0,B,O;if(Q)Y=Y.interactive;function R(C,j){if(C.isNode())if(O)return;else O=C,q.push(C);if(C.isEdge()&&(j==null||j<M))if(B){if(B.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&B.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var $=0;$<q.length;$++)if(q[$].isEdge()){q[$]=C,B=C,M=j!=null?j:M;break}}}else q.push(C),B=C,M=j!=null?j:M}function L(C){var j=C.outerWidth()+2*H,$=C.outerHeight()+2*H,k=j/2,w=$/2,P=C.position(),S=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,T=C._private.rscratch;if(P.x-k<=Z&&Z<=P.x+k&&P.y-w<=J&&J<=P.y+w){var _=X.nodeShapes[U.getNodeShape(C)];if(_.checkPoint(Z,J,0,j,$,P.x,P.y,S,T))return R(C,0),!0}}function D(C){var j=C._private,$=j.rscratch,k=C.pstyle("width").pfValue,w=C.pstyle("arrow-scale").value,P=k/2+z,S=P*P,T=P*2,b=j.source,y=j.target,_;if($.edgeType==="segments"||$.edgeType==="straight"||$.edgeType==="haystack"){var v=$.allpts;for(var x=0;x+3<v.length;x+=2)if(qF8(Z,J,v[x],v[x+1],v[x+2],v[x+3],T)&&S>(_=FF8(Z,J,v[x],v[x+1],v[x+2],v[x+3])))return R(C,_),!0}else if($.edgeType==="bezier"||$.edgeType==="multibezier"||$.edgeType==="self"||$.edgeType==="compound"){var v=$.allpts;for(var x=0;x+5<$.allpts.length;x+=4)if(WF8(Z,J,v[x],v[x+1],v[x+2],v[x+3],v[x+4],v[x+5],T)&&S>(_=HF8(Z,J,v[x],v[x+1],v[x+2],v[x+3],v[x+4],v[x+5])))return R(C,_),!0}var b=b||j.source,y=y||j.target,u=U.getArrowWidth(k,w),h=[{name:"source",x:$.arrowStartX,y:$.arrowStartY,angle:$.srcArrowAngle},{name:"target",x:$.arrowEndX,y:$.arrowEndY,angle:$.tgtArrowAngle},{name:"mid-source",x:$.midX,y:$.midY,angle:$.midsrcArrowAngle},{name:"mid-target",x:$.midX,y:$.midY,angle:$.midtgtArrowAngle}];for(var x=0;x<h.length;x++){var p=h[x],r=X.arrowShapes[C.pstyle(p.name+"-arrow-shape").value],t=C.pstyle("width").pfValue;if(r.roughCollide(Z,J,u,p.angle,{x:p.x,y:p.y},t,z)&&r.collide(Z,J,u,p.angle,{x:p.x,y:p.y},t,z))return R(C),!0}if(G&&q.length>0)L(b),L(y)}function A(C,j,$){return r6(C,j,$)}function V(C,j){var $=C._private,k=F,w;if(j)w=j+"-";else w="";C.boundingBox();var P=$.labelBounds[j||"main"],S=C.pstyle(w+"label").value,T=C.pstyle("text-events").strValue==="yes";if(!T||!S)return;var _=A($.rscratch,"labelX",j),v=A($.rscratch,"labelY",j),x=A($.rscratch,"labelAngle",j),b=C.pstyle(w+"text-margin-x").pfValue,y=C.pstyle(w+"text-margin-y").pfValue,u=P.x1-k-b,h=P.x2+k-b,p=P.y1-k-y,r=P.y2+k-y;if(x){var t=Math.cos(x),d=Math.sin(x),X0=function(Y0,o){return Y0=Y0-_,o=o-v,{x:Y0*t-o*d+_,y:Y0*d+o*t+v}},a=X0(u,p),z0=X0(u,r),J0=X0(h,p),Q0=X0(h,r),e=[a.x+b,a.y+y,J0.x+b,J0.y+y,Q0.x+b,Q0.y+y,z0.x+b,z0.y+y];if(n6(Z,J,e))return R(C),!0}else if(Bq(P,Z,J))return R(C),!0}for(var N=Y.length-1;N>=0;N--){var E=Y[N];if(E.isNode())L(E)||V(E);else D(E)||V(E)||V(E,"source")||V(E,"target")}return q};Hz.getAllInBox=function(Z,J,Q,K){var U=this.getCachedZSortedEles().interactive,X=this.cy.zoom(),Y=2/X,q=[],W=Math.min(Z,Q),G=Math.max(Z,Q),z=Math.min(J,K),H=Math.max(J,K);Z=W,Q=G,J=z,K=H;var F=X6({x1:Z,y1:J,x2:Q,y2:K}),M=[{x:F.x1,y:F.y1},{x:F.x2,y:F.y1},{x:F.x2,y:F.y2},{x:F.x1,y:F.y2}],B=[[M[0],M[1]],[M[1],M[2]],[M[2],M[3]],[M[3],M[0]]];function O(Y0,o,M0){return r6(Y0,o,M0)}function R(Y0,o){var M0=Y0._private,K0=Y,V0="";Y0.boundingBox();var i=M0.labelBounds.main;if(!i)return null;var p0=O(M0.rscratch,"labelX",o),B0=O(M0.rscratch,"labelY",o),h0=O(M0.rscratch,"labelAngle",o),a0=Y0.pstyle(V0+"text-margin-x").pfValue,s0=Y0.pstyle(V0+"text-margin-y").pfValue,$0=i.x1-K0-a0,x0=i.x2+K0-a0,f0=i.y1-K0-s0,C0=i.y2+K0-s0;if(h0){var m0=Math.cos(h0),F0=Math.sin(h0),I0=function(H0,m){return H0=H0-p0,m=m-B0,{x:H0*m0-m*F0+p0,y:H0*F0+m*m0+B0}};return[I0($0,f0),I0(x0,f0),I0(x0,C0),I0($0,C0)]}else return[{x:$0,y:f0},{x:x0,y:f0},{x:x0,y:C0},{x:$0,y:C0}]}function L(Y0,o,M0,K0){function V0(i,p0,B0){return(B0.y-i.y)*(p0.x-i.x)>(p0.y-i.y)*(B0.x-i.x)}return V0(Y0,M0,K0)!==V0(o,M0,K0)&&V0(Y0,o,M0)!==V0(Y0,o,K0)}for(var D=0;D<U.length;D++){var A=U[D];if(A.isNode()){var V=A,N=V.pstyle("text-events").strValue==="yes",E=V.pstyle("box-selection").strValue,C=V.pstyle("box-select-labels").strValue==="yes";if(E==="none")continue;var j=(E==="overlap"||C)&&N,$=V.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:j});if(E==="contain"){var k=!1;if(C&&N){var w=R(V);if(w&&pl(w,M))q.push(V),k=!0}if(!k&&UA0(F,$))q.push(V)}else if(E==="overlap"){if(Ti(F,$)){var P=V.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),S=[{x:P.x1,y:P.y1},{x:P.x2,y:P.y1},{x:P.x2,y:P.y2},{x:P.x1,y:P.y2}];if(pl(S,M))q.push(V);else{var T=R(V);if(T&&pl(T,M))q.push(V)}}}}else{var _=A,v=_._private,x=v.rscratch,b=_.pstyle("box-selection").strValue;if(b==="none")continue;if(b==="contain"){if(x.startX!=null&&x.startY!=null&&!Bq(F,x.startX,x.startY))continue;if(x.endX!=null&&x.endY!=null&&!Bq(F,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,u=!0;for(var h=0;h<y.length;h++)if(!_L0(F,y[h])){u=!1;break}if(u)q.push(_)}else if(x.edgeType==="straight")q.push(_)}else if(b==="overlap"){var p=!1;if(x.startX!=null&&x.startY!=null&&x.endX!=null&&x.endY!=null&&(Bq(F,x.startX,x.startY)||Bq(F,x.endX,x.endY)))q.push(_),p=!0;else if(!p&&x.edgeType==="haystack"){var r=v.rstyle.haystackPts;for(var t=0;t<r.length;t++)if(_L0(F,r[t])){q.push(_),p=!0;break}}if(!p){var d=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts;if((!d||d.length<2)&&x.edgeType==="straight"){if(x.startX!=null&&x.startY!=null&&x.endX!=null&&x.endY!=null)d=[{x:x.startX,y:x.startY},{x:x.endX,y:x.endY}]}if(!d||d.length<2)continue;for(var X0=0;X0<d.length-1;X0++){var a=d[X0],z0=d[X0+1];for(var J0=0;J0<B.length;J0++){var Q0=U7(B[J0],2),e=Q0[0],n=Q0[1];if(L(a,z0,e,n)){q.push(_),p=!0;break}}if(p)break}}}}}return q};$S={};$S.calculateArrowAngles=function(Z){var J=Z._private.rscratch,Q=J.edgeType==="haystack",K=J.edgeType==="bezier",U=J.edgeType==="multibezier",X=J.edgeType==="segments",Y=J.edgeType==="compound",q=J.edgeType==="self",W,G,z,H,F,M,L,D;if(Q)z=J.haystackPts[0],H=J.haystackPts[1],F=J.haystackPts[2],M=J.haystackPts[3];else z=J.arrowStartX,H=J.arrowStartY,F=J.arrowEndX,M=J.arrowEndY;if(L=J.midX,D=J.midY,X)W=z-J.segpts[0],G=H-J.segpts[1];else if(U||Y||q||K){var B=J.allpts,O=x7(B[0],B[2],B[4],0.1),R=x7(B[1],B[3],B[5],0.1);W=z-O,G=H-R}else W=z-L,G=H-D;J.srcArrowAngle=tj(W,G);var{midX:L,midY:D}=J;if(Q)L=(z+F)/2,D=(H+M)/2;if(W=F-z,G=M-H,X){var B=J.allpts;if(B.length/2%2===0){var A=B.length/2,V=A-2;W=B[A]-B[V],G=B[A+1]-B[V+1]}else if(J.isRound)W=J.midVector[1],G=-J.midVector[0];else{var A=B.length/2-1,V=A-2;W=B[A]-B[V],G=B[A+1]-B[V+1]}}else if(U||Y||q){var{allpts:B,ctrlpts:N}=J,E,C,j,$;if(N.length/2%2===0){var k=B.length/2-1,w=k+2,P=w+2;E=x7(B[k],B[w],B[P],0),C=x7(B[k+1],B[w+1],B[P+1],0),j=x7(B[k],B[w],B[P],0.0001),$=x7(B[k+1],B[w+1],B[P+1],0.0001)}else{var w=B.length/2-1,k=w-2,P=w+2;E=x7(B[k],B[w],B[P],0.4999),C=x7(B[k+1],B[w+1],B[P+1],0.4999),j=x7(B[k],B[w],B[P],0.5),$=x7(B[k+1],B[w+1],B[P+1],0.5)}W=j-E,G=$-C}if(J.midtgtArrowAngle=tj(W,G),J.midDispX=W,J.midDispY=G,W*=-1,G*=-1,X){var B=J.allpts;if(B.length/2%2===0);else if(!J.isRound){var A=B.length/2-1,S=A+2;W=-(B[S]-B[A]),G=-(B[S+1]-B[A+1])}}if(J.midsrcArrowAngle=tj(W,G),X)W=F-J.segpts[J.segpts.length-2],G=M-J.segpts[J.segpts.length-1];else if(U||Y||q||K){var B=J.allpts,T=B.length,O=x7(B[T-6],B[T-4],B[T-2],0.9),R=x7(B[T-5],B[T-3],B[T-1],0.9);W=F-O,G=M-R}else W=F-L,G=M-D;J.tgtArrowAngle=tj(W,G)};$S.getArrowWidth=$S.getArrowHeight=function(Z,J){var Q=this.arrowWidthCache=this.arrowWidthCache||{},K=Q[Z+", "+J];if(K)return K;return K=Math.max(Math.pow(Z*13.37,0.9),29)*J,Q[Z+", "+J]=K,K};mU={},OK={};$O8=Math.sqrt(2*DD),wQ={};wQ.findMidptPtsEtc=function(Z,J){var{posPts:Q,intersectionPts:K,vectorNormInverse:U}=J,X,Y=Z.pstyle("source-endpoint"),q=Z.pstyle("target-endpoint"),W=Y.units!=null&&q.units!=null,G=function(N,E,C,j){var $=j-E,k=C-N,w=Math.sqrt(k*k+$*$);return{x:-$/w,y:k/w}},z=Z.pstyle("edge-distances").value;switch(z){case"node-position":X=Q;break;case"intersection":X=K;break;case"endpoints":{if(W){var H=this.manualEndptToPx(Z.source()[0],Y),F=U7(H,2),M=F[0],B=F[1],O=this.manualEndptToPx(Z.target()[0],q),R=U7(O,2),L=R[0],D=R[1],A={x1:M,y1:B,x2:L,y2:D};U=G(M,B,L,D),X=A}else j9("Edge ".concat(Z.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),X=K;break}}return{midptPts:X,vectorNormInverse:U}};wQ.findHaystackPoints=function(Z){for(var J=0;J<Z.length;J++){var Q=Z[J],K=Q._private,U=K.rscratch;if(!U.haystack){var X=Math.random()*2*Math.PI;U.source={x:Math.cos(X),y:Math.sin(X)},X=Math.random()*2*Math.PI,U.target={x:Math.cos(X),y:Math.sin(X)}}var{source:Y,target:q}=K,W=Y.position(),G=q.position(),z=Y.width(),H=q.width(),F=Y.height(),M=q.height(),B=Q.pstyle("haystack-radius").value,O=B/2;U.haystackPts=U.allpts=[U.source.x*z*O+W.x,U.source.y*F*O+W.y,U.target.x*H*O+G.x,U.target.y*M*O+G.y],U.midX=(U.allpts[0]+U.allpts[2])/2,U.midY=(U.allpts[1]+U.allpts[3])/2,U.edgeType="haystack",U.haystack=!0,this.storeEdgeProjections(Q),this.calculateArrowAngles(Q),this.recalculateEdgeLabelProjections(Q),this.calculateLabelAngles(Q)}};wQ.findSegmentsPoints=function(Z,J){var Q=Z._private.rscratch,K=Z.pstyle("segment-weights"),U=Z.pstyle("segment-distances"),X=Z.pstyle("segment-radii"),Y=Z.pstyle("radius-type"),q=Math.min(K.pfValue.length,U.pfValue.length),W=X.pfValue[X.pfValue.length-1],G=Y.pfValue[Y.pfValue.length-1];Q.edgeType="segments",Q.segpts=[],Q.radii=[],Q.isArcRadius=[];for(var z=0;z<q;z++){var H=K.pfValue[z],F=U.pfValue[z],M=1-H,B=H,O=this.findMidptPtsEtc(Z,J),R=O.midptPts,L=O.vectorNormInverse,D={x:R.x1*M+R.x2*B,y:R.y1*M+R.y2*B};Q.segpts.push(D.x+L.x*F,D.y+L.y*F),Q.radii.push(X.pfValue[z]!==void 0?X.pfValue[z]:W),Q.isArcRadius.push((Y.pfValue[z]!==void 0?Y.pfValue[z]:G)==="arc-radius")}};wQ.findLoopPoints=function(Z,J,Q,K){var U=Z._private.rscratch,X=J.dirCounts,Y=J.srcPos,q=Z.pstyle("control-point-distances"),W=q?q.pfValue[0]:void 0,G=Z.pstyle("loop-direction").pfValue,z=Z.pstyle("loop-sweep").pfValue,H=Z.pstyle("control-point-step-size").pfValue;U.edgeType="self";var F=Q,M=H;if(K)F=0,M=W;var B=G-Math.PI/2,O=B-z/2,R=B+z/2,L=String(G+"_"+z);F=X[L]===void 0?X[L]=0:++X[L],U.ctrlpts=[Y.x+Math.cos(O)*1.4*M*(F/3+1),Y.y+Math.sin(O)*1.4*M*(F/3+1),Y.x+Math.cos(R)*1.4*M*(F/3+1),Y.y+Math.sin(R)*1.4*M*(F/3+1)]};wQ.findCompoundLoopPoints=function(Z,J,Q,K){var U=Z._private.rscratch;U.edgeType="compound";var{srcPos:X,tgtPos:Y,srcW:q,srcH:W,tgtW:G,tgtH:z}=J,H=Z.pstyle("control-point-step-size").pfValue,F=Z.pstyle("control-point-distances"),M=F?F.pfValue[0]:void 0,B=Q,O=H;if(K)B=0,O=M;var R=50,L={x:X.x-q/2,y:X.y-W/2},D={x:Y.x-G/2,y:Y.y-z/2},A={x:Math.min(L.x,D.x),y:Math.min(L.y,D.y)},V=0.5,N=Math.max(V,Math.log(q*DD)),E=Math.max(V,Math.log(G*DD));U.ctrlpts=[A.x,A.y-(1+Math.pow(R,1.12)/100)*O*(B/3+1)*N,A.x-(1+Math.pow(R,1.12)/100)*O*(B/3+1)*E,A.y]};wQ.findStraightEdgePoints=function(Z){Z._private.rscratch.edgeType="straight"};wQ.findBezierPoints=function(Z,J,Q,K,U){var X=Z._private.rscratch,Y=Z.pstyle("control-point-step-size").pfValue,q=Z.pstyle("control-point-distances"),W=Z.pstyle("control-point-weights"),G=q&&W?Math.min(q.value.length,W.value.length):1,z=q?q.pfValue[0]:void 0,H=W.value[0],F=K;X.edgeType=F?"multibezier":"bezier",X.ctrlpts=[];for(var M=0;M<G;M++){var B=(0.5-J.eles.length/2+Q)*Y*(U?-1:1),O=void 0,R=Si(B);if(F)z=q?q.pfValue[M]:Y,H=W.value[M];if(K)O=z;else O=z!==void 0?R*z:void 0;var L=O!==void 0?O:B,D=1-H,A=H,V=this.findMidptPtsEtc(Z,J),N=V.midptPts,E=V.vectorNormInverse,C={x:N.x1*D+N.x2*A,y:N.y1*D+N.y2*A};X.ctrlpts.push(C.x+E.x*L,C.y+E.y*L)}};wQ.findTaxiPoints=function(Z,J){var Q=Z._private.rscratch;Q.edgeType="segments";var K="vertical",U="horizontal",X="leftward",Y="rightward",q="downward",W="upward",G="auto",z=J.posPts,H=J.srcW,F=J.srcH,M=J.tgtW,B=J.tgtH,O=Z.pstyle("edge-distances").value,R=O!=="node-position",L=Z.pstyle("taxi-direction").value,D=L,A=Z.pstyle("taxi-turn"),V=A.units==="%",N=A.pfValue,E=N<0,C=Z.pstyle("taxi-turn-min-distance").pfValue,j=R?(H+M)/2:0,$=R?(F+B)/2:0,k=z.x2-z.x1,w=z.y2-z.y1,P=function(m,q0){if(m>0)return Math.max(m-q0,0);else return Math.min(m+q0,0)},S=P(k,j),T=P(w,$),_=!1;if(D===G)L=Math.abs(S)>Math.abs(T)?U:K;else if(D===W||D===q)L=K,_=!0;else if(D===X||D===Y)L=U,_=!0;var v=L===K,x=v?T:S,b=v?w:k,y=Si(b),u=!1;if(!(_&&(V||E))&&(D===q&&b<0||D===W&&b>0||D===X&&b>0||D===Y&&b<0))y*=-1,x=y*Math.abs(x),u=!0;var h;if(V){var p=N<0?1+N:N;h=p*x}else{var r=N<0?x:0;h=r+N*y}var t=function(m){return Math.abs(m)<C||Math.abs(m)>=Math.abs(x)},d=t(h),X0=t(Math.abs(x)-Math.abs(h)),a=d||X0;if(a&&!u)if(v){var z0=Math.abs(b)<=F/2,J0=Math.abs(k)<=M/2;if(z0){var Q0=(z.x1+z.x2)/2,e=z.y1,n=z.y2;Q.segpts=[Q0,e,Q0,n]}else if(J0){var Y0=(z.y1+z.y2)/2,o=z.x1,M0=z.x2;Q.segpts=[o,Y0,M0,Y0]}else Q.segpts=[z.x1,z.y2]}else{var K0=Math.abs(b)<=H/2,V0=Math.abs(w)<=B/2;if(K0){var i=(z.y1+z.y2)/2,p0=z.x1,B0=z.x2;Q.segpts=[p0,i,B0,i]}else if(V0){var h0=(z.x1+z.x2)/2,a0=z.y1,s0=z.y2;Q.segpts=[h0,a0,h0,s0]}else Q.segpts=[z.x2,z.y1]}else if(v){var $0=z.y1+h+(R?F/2*y:0),x0=z.x1,f0=z.x2;Q.segpts=[x0,$0,f0,$0]}else{var C0=z.x1+h+(R?H/2*y:0),m0=z.y1,F0=z.y2;Q.segpts=[C0,m0,C0,F0]}if(Q.isRound){var I0=Z.pstyle("taxi-radius").value,s=Z.pstyle("radius-type").value[0]==="arc-radius";Q.radii=Array(Q.segpts.length/2).fill(I0),Q.isArcRadius=Array(Q.segpts.length/2).fill(s)}};wQ.tryToCorrectInvalidPoints=function(Z,J){var Q=Z._private.rscratch;if(Q.edgeType==="bezier"){var{srcPos:K,tgtPos:U,srcW:X,srcH:Y,tgtW:q,tgtH:W,srcShape:G,tgtShape:z,srcCornerRadius:H,tgtCornerRadius:F,srcRs:M,tgtRs:B}=J,O=!k8(Q.startX)||!k8(Q.startY),R=!k8(Q.arrowStartX)||!k8(Q.arrowStartY),L=!k8(Q.endX)||!k8(Q.endY),D=!k8(Q.arrowEndX)||!k8(Q.arrowEndY),A=3,V=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth,N=A*V,E=qz({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.startX,y:Q.startY}),C=E<N,j=qz({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.endX,y:Q.endY}),$=j<N,k=!1;if(O||R||C){k=!0;var w={x:Q.ctrlpts[0]-K.x,y:Q.ctrlpts[1]-K.y},P=Math.sqrt(w.x*w.x+w.y*w.y),S={x:w.x/P,y:w.y/P},T=Math.max(X,Y),_={x:Q.ctrlpts[0]+S.x*2*T,y:Q.ctrlpts[1]+S.y*2*T},v=G.intersectLine(K.x,K.y,X,Y,_.x,_.y,0,H,M);if(C)Q.ctrlpts[0]=Q.ctrlpts[0]+S.x*(N-E),Q.ctrlpts[1]=Q.ctrlpts[1]+S.y*(N-E);else Q.ctrlpts[0]=v[0]+S.x*N,Q.ctrlpts[1]=v[1]+S.y*N}if(L||D||$){k=!0;var x={x:Q.ctrlpts[0]-U.x,y:Q.ctrlpts[1]-U.y},b=Math.sqrt(x.x*x.x+x.y*x.y),y={x:x.x/b,y:x.y/b},u=Math.max(X,Y),h={x:Q.ctrlpts[0]+y.x*2*u,y:Q.ctrlpts[1]+y.y*2*u},p=z.intersectLine(U.x,U.y,q,W,h.x,h.y,0,F,B);if($)Q.ctrlpts[0]=Q.ctrlpts[0]+y.x*(N-j),Q.ctrlpts[1]=Q.ctrlpts[1]+y.y*(N-j);else Q.ctrlpts[0]=p[0]+y.x*N,Q.ctrlpts[1]=p[1]+y.y*N}if(k)this.findEndpoints(Z)}};wQ.storeAllpts=function(Z){var J=Z._private.rscratch;if(J.edgeType==="multibezier"||J.edgeType==="bezier"||J.edgeType==="self"||J.edgeType==="compound"){J.allpts=[],J.allpts.push(J.startX,J.startY);for(var Q=0;Q+1<J.ctrlpts.length;Q+=2)if(J.allpts.push(J.ctrlpts[Q],J.ctrlpts[Q+1]),Q+3<J.ctrlpts.length)J.allpts.push((J.ctrlpts[Q]+J.ctrlpts[Q+2])/2,(J.ctrlpts[Q+1]+J.ctrlpts[Q+3])/2);J.allpts.push(J.endX,J.endY);var K,U;if(J.ctrlpts.length/2%2===0)K=J.allpts.length/2-1,J.midX=J.allpts[K],J.midY=J.allpts[K+1];else K=J.allpts.length/2-3,U=0.5,J.midX=x7(J.allpts[K],J.allpts[K+2],J.allpts[K+4],U),J.midY=x7(J.allpts[K+1],J.allpts[K+3],J.allpts[K+5],U)}else if(J.edgeType==="straight")J.allpts=[J.startX,J.startY,J.endX,J.endY],J.midX=(J.startX+J.endX+J.arrowStartX+J.arrowEndX)/4,J.midY=(J.startY+J.endY+J.arrowStartY+J.arrowEndY)/4;else if(J.edgeType==="segments"){if(J.allpts=[],J.allpts.push(J.startX,J.startY),J.allpts.push.apply(J.allpts,J.segpts),J.allpts.push(J.endX,J.endY),J.isRound){J.roundCorners=[];for(var X=2;X+3<J.allpts.length;X+=2){var Y=J.radii[X/2-1],q=J.isArcRadius[X/2-1];J.roundCorners.push(gi({x:J.allpts[X-2],y:J.allpts[X-1]},{x:J.allpts[X],y:J.allpts[X+1],radius:Y},{x:J.allpts[X+2],y:J.allpts[X+3]},Y,q))}}if(J.segpts.length%4===0){var W=J.segpts.length/2,G=W-2;J.midX=(J.segpts[G]+J.segpts[W])/2,J.midY=(J.segpts[G+1]+J.segpts[W+1])/2}else{var z=J.segpts.length/2-1;if(!J.isRound)J.midX=J.segpts[z],J.midY=J.segpts[z+1];else{var H={x:J.segpts[z],y:J.segpts[z+1]},F=J.roundCorners[z/2];if(F.radius===0){var M={x:J.segpts[z+2],y:J.segpts[z+3]};J.midX=H.x,J.midY=H.y,J.midVector=[H.y-M.y,M.x-H.x]}else{var B=[H.x-F.cx,H.y-F.cy],O=F.radius/Math.sqrt(Math.pow(B[0],2)+Math.pow(B[1],2));B=B.map(function(R){return R*O}),J.midX=F.cx+B[0],J.midY=F.cy+B[1],J.midVector=B}}}}};wQ.checkForInvalidEdgeWarning=function(Z){var J=Z[0]._private.rscratch;if(J.nodesOverlap||k8(J.startX)&&k8(J.startY)&&k8(J.endX)&&k8(J.endY))J.loggedErr=!1;else if(!J.loggedErr)J.loggedErr=!0,j9("Edge `"+Z.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.")};wQ.findEdgeControlPoints=function(Z){var J=this;if(!Z||Z.length===0)return;var Q=this,K=Q.cy,U=K.hasCompoundNodes(),X=new OY,Y=function($,k){return[].concat(AS($),[k?1:0]).join("-")},q=[],W=[];for(var G=0;G<Z.length;G++){var z=Z[G],H=z._private,F=z.pstyle("curve-style").value;if(z.removed()||!z.takesUpSpace())continue;if(F==="haystack"){W.push(z);continue}var M=F==="unbundled-bezier"||Mq(F,"segments")||F==="straight"||F==="straight-triangle"||Mq(F,"taxi"),B=F==="unbundled-bezier"||F==="bezier",O=H.source,R=H.target,L=O.poolIndex(),D=R.poolIndex(),A=[L,D].sort(),V=Y(A,M),N=X.get(V);if(N==null)N={eles:[]},q.push({pairId:A,edgeIsUnbundled:M}),X.set(V,N);if(N.eles.push(z),M)N.hasUnbundled=!0;if(B)N.hasBezier=!0}var E=function(){var $=q[C],k=$.pairId,w=$.edgeIsUnbundled,P=Y(k,w),S=X.get(P),T;if(!S.hasUnbundled){var _=S.eles[0].parallelEdges().filter(function(s){return s.isBundledBezier()});Ci(S.eles),_.forEach(function(s){return S.eles.push(s)}),S.eles.sort(function(s,H0){return s.poolIndex()-H0.poolIndex()})}var v=S.eles[0],x=v.source(),b=v.target();if(x.poolIndex()>b.poolIndex()){var y=x;x=b,b=y}var u=S.srcPos=x.position(),h=S.tgtPos=b.position(),p=S.srcW=x.outerWidth(),r=S.srcH=x.outerHeight(),t=S.tgtW=b.outerWidth(),d=S.tgtH=b.outerHeight(),X0=S.srcShape=Q.nodeShapes[J.getNodeShape(x)],a=S.tgtShape=Q.nodeShapes[J.getNodeShape(b)],z0=S.srcCornerRadius=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,J0=S.tgtCornerRadius=b.pstyle("corner-radius").value==="auto"?"auto":b.pstyle("corner-radius").pfValue,Q0=S.tgtRs=b._private.rscratch,e=S.srcRs=x._private.rscratch;S.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var n=0;n<S.eles.length;n++){var Y0=S.eles[n],o=Y0[0]._private.rscratch,M0=Y0.pstyle("curve-style").value,K0=M0==="unbundled-bezier"||Mq(M0,"segments")||Mq(M0,"taxi"),V0=!x.same(Y0.source());if(!S.calculatedIntersection&&x!==b&&(S.hasBezier||S.hasUnbundled)){S.calculatedIntersection=!0;var i=X0.intersectLine(u.x,u.y,p,r,h.x,h.y,0,z0,e),p0=S.srcIntn=i,B0=a.intersectLine(h.x,h.y,t,d,u.x,u.y,0,J0,Q0),h0=S.tgtIntn=B0,a0=S.intersectionPts={x1:i[0],x2:B0[0],y1:i[1],y2:B0[1]},s0=S.posPts={x1:u.x,x2:h.x,y1:u.y,y2:h.y},$0=B0[1]-i[1],x0=B0[0]-i[0],f0=Math.sqrt(x0*x0+$0*$0);if(k8(f0)&&f0>=$O8);else f0=Math.sqrt(Math.max(x0*x0,DD)+Math.max($0*$0,DD));var C0=S.vector={x:x0,y:$0},m0=S.vectorNorm={x:C0.x/f0,y:C0.y/f0},F0={x:-m0.y,y:m0.x};S.nodesOverlap=!k8(f0)||a.checkPoint(i[0],i[1],0,t,d,h.x,h.y,J0,Q0)||X0.checkPoint(B0[0],B0[1],0,p,r,u.x,u.y,z0,e),S.vectorNormInverse=F0,T={nodesOverlap:S.nodesOverlap,dirCounts:S.dirCounts,calculatedIntersection:!0,hasBezier:S.hasBezier,hasUnbundled:S.hasUnbundled,eles:S.eles,srcPos:h,srcRs:Q0,tgtPos:u,tgtRs:e,srcW:t,srcH:d,tgtW:p,tgtH:r,srcIntn:h0,tgtIntn:p0,srcShape:a,tgtShape:X0,posPts:{x1:s0.x2,y1:s0.y2,x2:s0.x1,y2:s0.y1},intersectionPts:{x1:a0.x2,y1:a0.y2,x2:a0.x1,y2:a0.y1},vector:{x:-C0.x,y:-C0.y},vectorNorm:{x:-m0.x,y:-m0.y},vectorNormInverse:{x:-F0.x,y:-F0.y}}}var I0=V0?T:S;if(o.nodesOverlap=I0.nodesOverlap,o.srcIntn=I0.srcIntn,o.tgtIntn=I0.tgtIntn,o.isRound=M0.startsWith("round"),U&&(x.isParent()||x.isChild()||b.isParent()||b.isChild())&&(x.parents().anySame(b)||b.parents().anySame(x)||x.same(b)&&x.isParent()))J.findCompoundLoopPoints(Y0,I0,n,K0);else if(x===b)J.findLoopPoints(Y0,I0,n,K0);else if(M0.endsWith("segments"))J.findSegmentsPoints(Y0,I0);else if(M0.endsWith("taxi"))J.findTaxiPoints(Y0,I0);else if(M0==="straight"||!K0&&S.eles.length%2===1&&n===Math.floor(S.eles.length/2))J.findStraightEdgePoints(Y0);else J.findBezierPoints(Y0,I0,n,K0,V0);J.findEndpoints(Y0),J.tryToCorrectInvalidPoints(Y0,I0),J.checkForInvalidEdgeWarning(Y0),J.storeAllpts(Y0),J.storeEdgeProjections(Y0),J.calculateArrowAngles(Y0),J.recalculateEdgeLabelProjections(Y0),J.calculateLabelAngles(Y0)}};for(var C=0;C<q.length;C++)E();this.findHaystackPoints(W)};wQ.getSegmentPoints=function(Z){var J=Z[0]._private.rscratch;this.recalculateRenderedStyle(Z);var Q=J.edgeType;if(Q==="segments")return JN0(J.segpts)};wQ.getControlPoints=function(Z){var J=Z[0]._private.rscratch;this.recalculateRenderedStyle(Z);var Q=J.edgeType;if(Q==="bezier"||Q==="multibezier"||Q==="self"||Q==="compound")return JN0(J.ctrlpts)};wQ.getEdgeMidpoint=function(Z){var J=Z[0]._private.rscratch;return this.recalculateRenderedStyle(Z),{x:J.midX,y:J.midY}};TD={};TD.manualEndptToPx=function(Z,J){var Q=this,K=Z.position(),U=Z.outerWidth(),X=Z.outerHeight(),Y=Z._private.rscratch;if(J.value.length===2){var q=[J.pfValue[0],J.pfValue[1]];if(J.units[0]==="%")q[0]=q[0]*U;if(J.units[1]==="%")q[1]=q[1]*X;return q[0]+=K.x,q[1]+=K.y,q}else{var W=J.pfValue[0];W=-Math.PI/2+W;var G=2*Math.max(U,X),z=[K.x+Math.cos(W)*G,K.y+Math.sin(W)*G];return Q.nodeShapes[this.getNodeShape(Z)].intersectLine(K.x,K.y,U,X,z[0],z[1],0,Z.pstyle("corner-radius").value==="auto"?"auto":Z.pstyle("corner-radius").pfValue,Y)}};TD.findEndpoints=function(Z){var J,Q,K,U,X=this,Y,q=Z.source()[0],W=Z.target()[0],G=q.position(),z=W.position(),H=Z.pstyle("target-arrow-shape").value,F=Z.pstyle("source-arrow-shape").value,M=Z.pstyle("target-distance-from-node").pfValue,B=Z.pstyle("source-distance-from-node").pfValue,O=q._private.rscratch,R=W._private.rscratch,L=Z.pstyle("curve-style").value,D=Z._private.rscratch,A=D.edgeType,V=Mq(L,"taxi"),N=A==="self"||A==="compound",E=A==="bezier"||A==="multibezier"||N,C=A!=="bezier",j=A==="straight"||A==="segments",$=A==="segments",k=E||C||j,w=N||V,P=Z.pstyle("source-endpoint"),S=w?"outside-to-node":P.value,T=q.pstyle("corner-radius").value==="auto"?"auto":q.pstyle("corner-radius").pfValue,_=Z.pstyle("target-endpoint"),v=w?"outside-to-node":_.value,x=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue;D.srcManEndpt=P,D.tgtManEndpt=_;var b,y,u,h,p=(J=(_===null||_===void 0||(Q=_.pfValue)===null||Q===void 0?void 0:Q.length)===2?_.pfValue:null)!==null&&J!==void 0?J:[0,0],r=(K=(P===null||P===void 0||(U=P.pfValue)===null||U===void 0?void 0:U.length)===2?P.pfValue:null)!==null&&K!==void 0?K:[0,0];if(E){var t=[D.ctrlpts[0],D.ctrlpts[1]],d=C?[D.ctrlpts[D.ctrlpts.length-2],D.ctrlpts[D.ctrlpts.length-1]]:t;b=d,y=t}else if(j){var X0=!$?[z.x+p[0],z.y+p[1]]:D.segpts.slice(0,2),a=!$?[G.x+r[0],G.y+r[1]]:D.segpts.slice(D.segpts.length-2);b=a,y=X0}if(v==="inside-to-node")Y=[z.x,z.y];else if(_.units)Y=this.manualEndptToPx(W,_);else if(v==="outside-to-line")Y=D.tgtIntn;else{if(v==="outside-to-node"||v==="outside-to-node-or-label")u=b;else if(v==="outside-to-line"||v==="outside-to-line-or-label")u=[G.x,G.y];if(Y=X.nodeShapes[this.getNodeShape(W)].intersectLine(z.x,z.y,W.outerWidth(),W.outerHeight(),u[0],u[1],0,x,R),v==="outside-to-node-or-label"||v==="outside-to-line-or-label"){var z0=W._private.rscratch,J0=z0.labelWidth,Q0=z0.labelHeight,e=z0.labelX,n=z0.labelY,Y0=J0/2,o=Q0/2,M0=W.pstyle("text-valign").value;if(M0==="top")n-=o;else if(M0==="bottom")n+=o;var K0=W.pstyle("text-halign").value;if(K0==="left")e-=Y0;else if(K0==="right")e+=Y0;var V0=MD(u[0],u[1],[e-Y0,n-o,e+Y0,n-o,e+Y0,n+o,e-Y0,n+o],z.x,z.y);if(V0.length>0){var i=G,p0=Jz(i,qF(Y)),B0=Jz(i,qF(V0)),h0=p0;if(B0<p0)Y=V0,h0=B0;if(V0.length>2){var a0=Jz(i,{x:V0[2],y:V0[3]});if(a0<h0)Y=[V0[2],V0[3]]}}}}var s0=ej(Y,b,X.arrowShapes[H].spacing(Z)+M),$0=ej(Y,b,X.arrowShapes[H].gap(Z)+M);if(D.endX=$0[0],D.endY=$0[1],D.arrowEndX=s0[0],D.arrowEndY=s0[1],S==="inside-to-node")Y=[G.x,G.y];else if(P.units)Y=this.manualEndptToPx(q,P);else if(S==="outside-to-line")Y=D.srcIntn;else{if(S==="outside-to-node"||S==="outside-to-node-or-label")h=y;else if(S==="outside-to-line"||S==="outside-to-line-or-label")h=[z.x,z.y];if(Y=X.nodeShapes[this.getNodeShape(q)].intersectLine(G.x,G.y,q.outerWidth(),q.outerHeight(),h[0],h[1],0,T,O),S==="outside-to-node-or-label"||S==="outside-to-line-or-label"){var x0=q._private.rscratch,f0=x0.labelWidth,C0=x0.labelHeight,m0=x0.labelX,F0=x0.labelY,I0=f0/2,s=C0/2,H0=q.pstyle("text-valign").value;if(H0==="top")F0-=s;else if(H0==="bottom")F0+=s;var m=q.pstyle("text-halign").value;if(m==="left")m0-=I0;else if(m==="right")m0+=I0;var q0=MD(h[0],h[1],[m0-I0,F0-s,m0+I0,F0-s,m0+I0,F0+s,m0-I0,F0+s],G.x,G.y);if(q0.length>0){var W0=z,N0=Jz(W0,qF(Y)),D0=Jz(W0,qF(q0)),L0=N0;if(D0<N0)Y=[q0[0],q0[1]],L0=D0;if(q0.length>2){var _0=Jz(W0,{x:q0[2],y:q0[3]});if(_0<L0)Y=[q0[2],q0[3]]}}}}var T0=ej(Y,y,X.arrowShapes[F].spacing(Z)+B),u0=ej(Y,y,X.arrowShapes[F].gap(Z)+B);if(D.startX=u0[0],D.startY=u0[1],D.arrowStartX=T0[0],D.arrowStartY=T0[1],k)if(!k8(D.startX)||!k8(D.startY)||!k8(D.endX)||!k8(D.endY))D.badLine=!0;else D.badLine=!1};TD.getSourceEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[0],y:J.haystackPts[1]};default:return{x:J.arrowStartX,y:J.arrowStartY}}};TD.getTargetEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[2],y:J.haystackPts[3]};default:return{x:J.arrowEndX,y:J.arrowEndY}}};pi={};pi.storeEdgeProjections=function(Z){var J=Z._private,Q=J.rscratch,K=Q.edgeType;if(J.rstyle.bezierPts=null,J.rstyle.linePts=null,J.rstyle.haystackPts=null,K==="multibezier"||K==="bezier"||K==="self"||K==="compound"){J.rstyle.bezierPts=[];for(var U=0;U+5<Q.allpts.length;U+=4)kO8(this,Z,Q.allpts.slice(U,U+6))}else if(K==="segments"){var X=J.rstyle.linePts=[];for(var U=0;U+1<Q.allpts.length;U+=2)X.push({x:Q.allpts[U],y:Q.allpts[U+1]})}else if(K==="haystack"){var Y=Q.haystackPts;J.rstyle.haystackPts=[{x:Y[0],y:Y[1]},{x:Y[2],y:Y[3]}]}J.rstyle.arrowWidth=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth};pi.recalculateEdgeProjections=function(Z){this.findEdgeControlPoints(Z)};pU={};pU.recalculateNodeLabelProjection=function(Z){var J=Z.pstyle("label").strValue;if(Dq(J))return;var Q,K,U=Z._private,X=Z.width(),Y=Z.height(),q=Z.padding(),W=Z.position(),G=Z.pstyle("text-halign").strValue,z=Z.pstyle("text-valign").strValue,H=U.rscratch,F=U.rstyle;switch(G){case"left":Q=W.x-X/2-q;break;case"right":Q=W.x+X/2+q;break;default:Q=W.x}switch(z){case"top":K=W.y-Y/2-q;break;case"bottom":K=W.y+Y/2+q;break;default:K=W.y}H.labelX=Q,H.labelY=K,F.labelX=Q,F.labelY=K,this.calculateLabelAngles(Z),this.applyLabelDimensions(Z)};pU.recalculateEdgeLabelProjections=function(Z){var J,Q=Z._private,K=Q.rscratch,U=this,X={mid:Z.pstyle("label").strValue,source:Z.pstyle("source-label").strValue,target:Z.pstyle("target-label").strValue};if(X.mid||X.source||X.target);else return;J={x:K.midX,y:K.midY};var Y=function(H,F,M){BY(Q.rscratch,H,F,M),BY(Q.rstyle,H,F,M)};Y("labelX",null,J.x),Y("labelY",null,J.y);var q=QN0(K.midDispX,K.midDispY);Y("labelAutoAngle",null,q);var W=function(){if(W.cache)return W.cache;var H=[];for(var F=0;F+5<K.allpts.length;F+=4){var M={x:K.allpts[F],y:K.allpts[F+1]},B={x:K.allpts[F+2],y:K.allpts[F+3]},O={x:K.allpts[F+4],y:K.allpts[F+5]};H.push({p0:M,p1:B,p2:O,startDist:0,length:0,segments:[]})}var R=Q.rstyle.bezierPts,L=U.bezierProjPcts.length;function D(C,j,$,k,w){var P=qz(j,$),S=C.segments[C.segments.length-1],T={p0:j,p1:$,t0:k,t1:w,startDist:S?S.startDist+S.length:0,length:P};C.segments.push(T),C.length+=P}for(var A=0;A<H.length;A++){var V=H[A],N=H[A-1];if(N)V.startDist=N.startDist+N.length;D(V,V.p0,R[A*L],0,U.bezierProjPcts[0]);for(var E=0;E<L-1;E++)D(V,R[A*L+E],R[A*L+E+1],U.bezierProjPcts[E],U.bezierProjPcts[E+1]);D(V,R[A*L+L-1],V.p2,U.bezierProjPcts[L-1],1)}return W.cache=H},G=function(H){var F,M=H==="source";if(!X[H])return;var B=Z.pstyle(H+"-text-offset").pfValue;switch(K.edgeType){case"self":case"compound":case"bezier":case"multibezier":{var O=W(),R,L=0,D=0;for(var A=0;A<O.length;A++){var V=O[M?A:O.length-1-A];for(var N=0;N<V.segments.length;N++){var E=V.segments[M?N:V.segments.length-1-N],C=A===O.length-1&&N===V.segments.length-1;if(L=D,D+=E.length,D>=B||C){R={cp:V,segment:E};break}}if(R)break}var{cp:j,segment:$}=R,k=(B-L)/$.length,w=$.t1-$.t0,P=M?$.t0+w*k:$.t1-w*k;P=FD(0,P,1),J=zF(j.p0,j.p1,j.p2,P),F=_O8(j.p0,j.p1,j.p2,P);break}case"straight":case"segments":case"haystack":{var S=0,T,_,v,x,b=K.allpts.length;for(var y=0;y+3<b;y+=2){if(M)v={x:K.allpts[y],y:K.allpts[y+1]},x={x:K.allpts[y+2],y:K.allpts[y+3]};else v={x:K.allpts[b-2-y],y:K.allpts[b-1-y]},x={x:K.allpts[b-4-y],y:K.allpts[b-3-y]};if(T=qz(v,x),_=S,S+=T,S>=B)break}var u=B-_,h=u/T;h=FD(0,h,1),J=ZF8(v,x,h),F=KN0(v,x);break}}Y("labelX",H,J.x),Y("labelY",H,J.y),Y("labelAutoAngle",H,F)};G("source"),G("target"),this.applyLabelDimensions(Z)};pU.applyLabelDimensions=function(Z){if(this.applyPrefixedLabelDimensions(Z),Z.isEdge())this.applyPrefixedLabelDimensions(Z,"source"),this.applyPrefixedLabelDimensions(Z,"target")};pU.applyPrefixedLabelDimensions=function(Z,J){var Q=Z._private,K=this.getLabelText(Z,J),U=Yz(K,Z._private.labelDimsKey);if(r6(Q.rscratch,"prefixedLabelDimsKey",J)===U)return;BY(Q.rscratch,"prefixedLabelDimsKey",J,U);var X=this.calculateLabelDimensions(Z,K),Y=Z.pstyle("line-height").pfValue,q=Z.pstyle("text-wrap").strValue,W=r6(Q.rscratch,"labelWrapCachedLines",J)||[],G=q!=="wrap"?1:Math.max(W.length,1),z=X.height/G,H=z*Y,F=X.width,M=X.height+(G-1)*(Y-1)*z;BY(Q.rstyle,"labelWidth",J,F),BY(Q.rscratch,"labelWidth",J,F),BY(Q.rstyle,"labelHeight",J,M),BY(Q.rscratch,"labelHeight",J,M),BY(Q.rscratch,"labelLineHeight",J,H)};pU.getLabelText=function(Z,J){var Q=Z._private,K=J?J+"-":"",U=Z.pstyle(K+"label").strValue,X=Z.pstyle("text-transform").value,Y=function(r,t){if(t)return BY(Q.rscratch,r,J,t),t;else return r6(Q.rscratch,r,J)};if(!U)return"";if(X=="none");else if(X=="uppercase")U=U.toUpperCase();else if(X=="lowercase")U=U.toLowerCase();var q=Z.pstyle("text-wrap").value;if(q==="wrap"){var W=Y("labelKey");if(W!=null&&Y("labelWrapKey")===W)return Y("labelWrapCachedText");var G="",z=U.split(`
`),H=Z.pstyle("text-max-width").pfValue,F=Z.pstyle("text-overflow-wrap").value,M=F==="anywhere",B=[],O=/[\s\u200b]+|$/g;for(var R=0;R<z.length;R++){var L=z[R],D=this.calculateLabelDimensions(Z,L),A=D.width;if(M){var V=L.split("").join(G);L=V}if(A>H){var N=L.matchAll(O),E="",C=0,j=a6(N),$;try{for(j.s();!($=j.n()).done;){var k=$.value,w=k[0],P=L.substring(C,k.index);C=k.index+w.length;var S=E.length===0?P:E+P+w,T=this.calculateLabelDimensions(Z,S),_=T.width;if(_<=H)E+=P+w;else{if(E)B.push(E);E=P+w}}}catch(p){j.e(p)}finally{j.f()}if(!E.match(/^[\s\u200b]+$/))B.push(E)}else B.push(L)}Y("labelWrapCachedLines",B),U=Y("labelWrapCachedText",B.join(`
`)),Y("labelWrapKey",W)}else if(q==="ellipsis"){var v=Z.pstyle("text-max-width").pfValue,x="",b="",y=!1;if(this.calculateLabelDimensions(Z,U).width<v)return U;for(var u=0;u<U.length;u++){var h=this.calculateLabelDimensions(Z,x+U[u]+b).width;if(h>v)break;if(x+=U[u],u===U.length-1)y=!0}if(!y)x+=b;return x}return U};pU.getLabelJustification=function(Z){var J=Z.pstyle("text-justification").strValue,Q=Z.pstyle("text-halign").strValue;if(J==="auto")if(Z.isNode())switch(Q){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return J};pU.calculateLabelDimensions=function(Z,J){var Q=this,K=Q.cy.window(),U=K.document,X=0,Y=Z.pstyle("font-style").strValue,q=Z.pstyle("font-size").pfValue,W=Z.pstyle("font-family").strValue,G=Z.pstyle("font-weight").strValue,z=this.labelCalcCanvas,H=this.labelCalcCanvasContext;if(!z){z=this.labelCalcCanvas=U.createElement("canvas"),H=this.labelCalcCanvasContext=z.getContext("2d");var F=z.style;F.position="absolute",F.left="-9999px",F.top="-9999px",F.zIndex="-1",F.visibility="hidden",F.pointerEvents="none"}H.font="".concat(Y," ").concat(G," ").concat(q,"px ").concat(W);var M=0,B=0,O=J.split(`
`);for(var R=0;R<O.length;R++){var L=O[R],D=H.measureText(L),A=Math.ceil(D.width),V=q;M=Math.max(A,M),B+=V}return M+=X,B+=X,{width:M,height:B}};pU.calculateLabelAngle=function(Z,J){var Q=Z._private,K=Q.rscratch,U=Z.isEdge(),X=J?J+"-":"",Y=Z.pstyle(X+"text-rotation"),q=Y.strValue;if(q==="none")return 0;else if(U&&q==="autorotate")return K.labelAutoAngle;else if(q==="autorotate")return 0;else return Y.pfValue};pU.calculateLabelAngles=function(Z){var J=this,Q=Z.isEdge(),K=Z._private,U=K.rscratch;if(U.labelAngle=J.calculateLabelAngle(Z),Q)U.sourceLabelAngle=J.calculateLabelAngle(Z,"source"),U.targetLabelAngle=J.calculateLabelAngle(Z,"target")};UN0={};UN0.getNodeShape=function(Z){var J=this,Q=Z.pstyle("shape").value;if(Q==="cutrectangle"&&(Z.width()<DI0||Z.height()<DI0)){if(!II0)j9("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),II0=!0;return"rectangle"}if(Z.isParent())if(Q==="rectangle"||Q==="roundrectangle"||Q==="round-rectangle"||Q==="cutrectangle"||Q==="cut-rectangle"||Q==="barrel")return Q;else return"rectangle";if(Q==="polygon"){var K=Z.pstyle("shape-polygon-points").value;return J.nodeShapes.makePolygon(K).name}return Q};aS={};aS.registerCalculationListeners=function(){var Z=this.cy,J=Z.collection(),Q=this,K=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J.merge(Y),q)for(var W=0;W<Y.length;W++){var G=Y[W],z=G._private,H=z.rstyle;H.clean=!1,H.cleanConnected=!1}};Q.binder(Z).on("bounds.* dirty.*",function(Y){var q=Y.target;K(q)}).on("style.* background.*",function(Y){var q=Y.target;K(q,!1)});var U=function(Y){if(Y){var q=Q.onUpdateEleCalcsFns;J.cleanStyle();for(var W=0;W<J.length;W++){var G=J[W],z=G._private.rstyle;if(G.isNode()&&!z.cleanConnected)K(G.connectedEdges()),z.cleanConnected=!0}if(q)for(var H=0;H<q.length;H++){var F=q[H];F(Y,J)}Q.recalculateRenderedStyle(J),J=Z.collection()}};Q.flushRenderedStyleQueue=function(){U(!0)},Q.beforeRender(U,Q.beforeRenderPriorities.eleCalcs)};aS.onUpdateEleCalcs=function(Z){var J=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];J.push(Z)};aS.recalculateRenderedStyle=function(Z,J){var Q=function(V){return V._private.rstyle.cleanConnected};if(Z.length===0)return;var K=[],U=[];if(this.destroyed)return;if(J===void 0)J=!0;for(var X=0;X<Z.length;X++){var Y=Z[X],q=Y._private,W=q.rstyle;if(Y.isEdge()&&(!Q(Y.source())||!Q(Y.target())))W.clean=!1;if(Y.isEdge()&&Y.isBundledBezier()){if(Y.parallelEdges().some(function(A){return!A._private.rstyle.clean&&A.isBundledBezier()}))W.clean=!1}if(J&&W.clean||Y.removed())continue;if(Y.pstyle("display").value==="none")continue;if(q.group==="nodes")U.push(Y);else K.push(Y);W.clean=!0}for(var G=0;G<U.length;G++){var z=U[G],H=z._private,F=H.rstyle,M=z.position();this.recalculateNodeLabelProjection(z),F.nodeX=M.x,F.nodeY=M.y,F.nodeW=z.pstyle("width").pfValue,F.nodeH=z.pstyle("height").pfValue}this.recalculateEdgeProjections(K);for(var B=0;B<K.length;B++){var O=K[B],R=O._private,L=R.rstyle,D=R.rscratch;L.srcX=D.arrowStartX,L.srcY=D.arrowStartY,L.tgtX=D.arrowEndX,L.tgtY=D.arrowEndY,L.midX=D.midX,L.midY=D.midY,L.labelAngle=D.labelAngle,L.sourceLabelAngle=D.sourceLabelAngle,L.targetLabelAngle=D.targetLabelAngle}};oS={};oS.updateCachedGrabbedEles=function(){var Z=this.cachedZSortedEles;if(!Z)return;Z.drag=[],Z.nondrag=[];var J=[];for(var Q=0;Q<Z.length;Q++){var K=Z[Q],U=K._private.rscratch;if(K.grabbed()&&!K.isParent())J.push(K);else if(U.inDragLayer)Z.drag.push(K);else Z.nondrag.push(K)}for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.drag.push(K)}};oS.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};oS.getCachedZSortedEles=function(Z){if(Z||!this.cachedZSortedEles){var J=this.cy.mutableElements().toArray();J.sort(mA0),J.interactive=J.filter(function(Q){return Q.interactive()}),this.cachedZSortedEles=J,this.updateCachedGrabbedEles()}else J=this.cachedZSortedEles;return J};XN0={};[Hz,$S,wQ,TD,pi,pU,UN0,aS,oS].forEach(function(Z){BZ(XN0,Z)});YN0={};YN0.getCachedImage=function(Z,J,Q){var K=this,U=K.imageCache=K.imageCache||{},X=U[Z];if(X){if(!X.image.complete)X.image.addEventListener("load",Q);return X.image}else{X=U[Z]=U[Z]||{};var Y=X.image=new Image;Y.addEventListener("load",Q),Y.addEventListener("error",function(){Y.error=!0});var q="data:",W=Z.substring(0,q.length).toLowerCase()===q;if(!W)J=J==="null"?null:J,Y.crossOrigin=J;return Y.src=Z,Y}};NF={};NF.registerBinding=function(Z,J,Q,K){var U=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(Z)){var X=[];for(var Y=0;Y<Z.length;Y++){var q=Z[Y];if(q!==void 0){var W=this.binder(q);X.push(W.on.apply(W,U))}}return X}var W=this.binder(Z);return W.on.apply(W,U)};NF.binder=function(Z){var J=this,Q=J.cy.window(),K=Z===Q||Z===Q.document||Z===Q.document.body||lH8(Z);if(J.supportsPassiveEvents==null){var U=!1;try{var X=Object.defineProperty({},"passive",{get:function(){return U=!0,!0}});Q.addEventListener("test",null,X)}catch(q){}J.supportsPassiveEvents=U}var Y=function(W,G,z){var H=Array.prototype.slice.call(arguments);if(K&&J.supportsPassiveEvents)H[2]={capture:z!=null?z:!1,passive:!1,once:!1};return J.bindings.push({target:Z,args:H}),(Z.addEventListener||Z.on).apply(Z,H),this};return{on:Y,addEventListener:Y,addListener:Y,bind:Y}};NF.nodeIsDraggable=function(Z){return Z&&Z.isNode()&&!Z.locked()&&Z.grabbable()};NF.nodeIsGrabbable=function(Z){return this.nodeIsDraggable(Z)&&Z.interactive()};NF.load=function(){var Z=this,J=Z.cy.window(),Q=function(m){return m.selected()},K=function(m){var q0=m.getRootNode();if(q0&&q0.nodeType===11&&q0.host!==void 0)return q0},U=function(m,q0,W0,N0){if(m==null)m=Z.cy;for(var D0=0;D0<q0.length;D0++){var L0=q0[D0];m.emit({originalEvent:W0,type:L0,position:N0})}},X=function(m){return m.shiftKey||m.metaKey||m.ctrlKey},Y=function(m,q0){var W0=!0;if(Z.cy.hasCompoundNodes()&&m&&m.pannable())for(var N0=0;q0&&N0<q0.length;N0++){var m=q0[N0];if(m.isNode()&&m.isParent()&&!m.pannable()){W0=!1;break}}else W0=!0;return W0},q=function(m){m[0]._private.grabbed=!0},W=function(m){m[0]._private.grabbed=!1},G=function(m){m[0]._private.rscratch.inDragLayer=!0},z=function(m){m[0]._private.rscratch.inDragLayer=!1},H=function(m){m[0]._private.rscratch.isGrabTarget=!0},F=function(m){m[0]._private.rscratch.isGrabTarget=!1},M=function(m,q0){var W0=q0.addToList,N0=W0.has(m);if(!N0&&m.grabbable()&&!m.locked())W0.merge(m),q(m)},B=function(m,q0){if(!m.cy().hasCompoundNodes())return;if(q0.inDragLayer==null&&q0.addToList==null)return;var W0=m.descendants();if(q0.inDragLayer)W0.forEach(G),W0.connectedEdges().forEach(G);if(q0.addToList)M(W0,q0)},O=function(m,q0){q0=q0||{};var W0=m.cy().hasCompoundNodes();if(q0.inDragLayer)m.forEach(G),m.neighborhood().stdFilter(function(N0){return!W0||N0.isEdge()}).forEach(G);if(q0.addToList)m.forEach(function(N0){M(N0,q0)});B(m,q0),D(m,{inDragLayer:q0.inDragLayer}),Z.updateCachedGrabbedEles()},R=O,L=function(m){if(!m)return;Z.getCachedZSortedEles().forEach(function(q0){W(q0),z(q0),F(q0)}),Z.updateCachedGrabbedEles()},D=function(m,q0){if(q0.inDragLayer==null&&q0.addToList==null)return;if(!m.cy().hasCompoundNodes())return;var W0=m.ancestors().orphans();if(W0.same(m))return;var N0=W0.descendants().spawnSelf().merge(W0).unmerge(m).unmerge(m.descendants()),D0=N0.connectedEdges();if(q0.inDragLayer)D0.forEach(G),N0.forEach(G);if(q0.addToList)N0.forEach(function(L0){M(L0,q0)})},A=function(){if(document.activeElement!=null&&document.activeElement.blur!=null)document.activeElement.blur()},V=typeof MutationObserver<"u",N=typeof ResizeObserver<"u";if(V){if(Z.removeObserver=new MutationObserver(function(H0){for(var m=0;m<H0.length;m++){var q0=H0[m],W0=q0.removedNodes;if(W0)for(var N0=0;N0<W0.length;N0++){var D0=W0[N0];if(D0===Z.container){Z.destroy();break}}}}),Z.container.parentNode)Z.removeObserver.observe(Z.container.parentNode,{childList:!0})}else Z.registerBinding(Z.container,"DOMNodeRemoved",function(H0){Z.destroy()});var E=PD(function(){Z.cy.resize()},100);if(V)Z.styleObserver=new MutationObserver(E),Z.styleObserver.observe(Z.container,{attributes:!0});if(Z.registerBinding(J,"resize",E),N)Z.resizeObserver=new ResizeObserver(E),Z.resizeObserver.observe(Z.container);var C=function(m,q0){while(m!=null)q0(m),m=m.parentNode},j=function(){Z.invalidateContainerClientCoordsCache()};C(Z.container,function(H0){Z.registerBinding(H0,"transitionend",j),Z.registerBinding(H0,"animationend",j),Z.registerBinding(H0,"scroll",j)}),Z.registerBinding(Z.container,"contextmenu",function(H0){H0.preventDefault()});var $=function(){return Z.selection[4]!==0},k=function(m){var q0=Z.findContainerClientCoords(),W0=q0[0],N0=q0[1],D0=q0[2],L0=q0[3],_0=m.touches?m.touches:[m],T0=!1;for(var u0=0;u0<_0.length;u0++){var Z8=_0[u0];if(W0<=Z8.clientX&&Z8.clientX<=W0+D0&&N0<=Z8.clientY&&Z8.clientY<=N0+L0){T0=!0;break}}if(!T0)return!1;var B8=Z.container,r0=m.target,g0=r0.parentNode,t0=!1;while(g0){if(g0===B8){t0=!0;break}g0=g0.parentNode}if(!t0)return!1;return!0};Z.registerBinding(Z.container,"mousedown",function(m){if(!k(m))return;if(Z.hoverData.which===1&&m.which!==1)return;m.preventDefault(),A(),Z.hoverData.capture=!0,Z.hoverData.which=m.which;var q0=Z.cy,W0=[m.clientX,m.clientY],N0=Z.projectIntoViewport(W0[0],W0[1]),D0=Z.selection,L0=Z.findNearestElements(N0[0],N0[1],!0,!1),_0=L0[0],T0=Z.dragData.possibleDragElements;Z.hoverData.mdownPos=N0,Z.hoverData.mdownGPos=W0;var u0=function(d0){return{originalEvent:m,type:d0,position:{x:N0[0],y:N0[1]}}},Z8=function(){Z.hoverData.tapholdCancelled=!1,clearTimeout(Z.hoverData.tapholdTimeout),Z.hoverData.tapholdTimeout=setTimeout(function(){if(Z.hoverData.tapholdCancelled)return;else{var d0=Z.hoverData.down;if(d0)d0.emit(u0("taphold"));else q0.emit(u0("taphold"))}},Z.tapholdDuration)};if(m.which==3){Z.hoverData.cxtStarted=!0;var B8={originalEvent:m,type:"cxttapstart",position:{x:N0[0],y:N0[1]}};if(_0)_0.activate(),_0.emit(B8),Z.hoverData.down=_0;else q0.emit(B8);Z.hoverData.downTime=new Date().getTime(),Z.hoverData.cxtDragged=!1}else if(m.which==1){if(_0)_0.activate();{if(_0!=null){if(Z.nodeIsGrabbable(_0)){var r0=function(d0){d0.emit(u0("grab"))};if(H(_0),!_0.selected())T0=Z.dragData.possibleDragElements=q0.collection(),R(_0,{addToList:T0}),_0.emit(u0("grabon")).emit(u0("grab"));else{T0=Z.dragData.possibleDragElements=q0.collection();var g0=q0.$(function(t0){return t0.isNode()&&t0.selected()&&Z.nodeIsGrabbable(t0)});O(g0,{addToList:T0}),_0.emit(u0("grabon")),g0.forEach(r0)}Z.redrawHint("eles",!0),Z.redrawHint("drag",!0)}}Z.hoverData.down=_0,Z.hoverData.downs=L0,Z.hoverData.downTime=new Date().getTime()}if(U(_0,["mousedown","tapstart","vmousedown"],m,{x:N0[0],y:N0[1]}),_0==null)D0[4]=1,Z.data.bgActivePosistion={x:N0[0],y:N0[1]},Z.redrawHint("select",!0),Z.redraw();else if(_0.pannable())D0[4]=1;Z8()}D0[0]=D0[2]=N0[0],D0[1]=D0[3]=N0[1]},!1);var w=K(Z.container);Z.registerBinding([J,w],"mousemove",function(m){var q0=Z.hoverData.capture;if(!q0&&!k(m))return;var W0=!1,N0=Z.cy,D0=N0.zoom(),L0=[m.clientX,m.clientY],_0=Z.projectIntoViewport(L0[0],L0[1]),T0=Z.hoverData.mdownPos,u0=Z.hoverData.mdownGPos,Z8=Z.selection,B8=null;if(!Z.hoverData.draggingEles&&!Z.hoverData.dragging&&!Z.hoverData.selecting)B8=Z.findNearestElement(_0[0],_0[1],!0,!1);var r0=Z.hoverData.last,g0=Z.hoverData.down,t0=[_0[0]-Z8[2],_0[1]-Z8[3]],d0=Z.dragData.possibleDragElements,X8;if(u0){var g8=L0[0]-u0[0],M8=g8*g8,$8=L0[1]-u0[1],H8=$8*$8,G8=M8+H8;Z.hoverData.isOverThresholdDrag=X8=G8>=Z.desktopTapThreshold2}var O8=X(m);if(X8)Z.hoverData.tapholdCancelled=!0;var L8=function(){var R8=Z.hoverData.dragDelta=Z.hoverData.dragDelta||[];if(R8.length===0)R8.push(t0[0]),R8.push(t0[1]);else R8[0]+=t0[0],R8[1]+=t0[1]};W0=!0,U(B8,["mousemove","vmousemove","tapdrag"],m,{x:_0[0],y:_0[1]});var I8=function(R8){return{originalEvent:m,type:R8,position:{x:_0[0],y:_0[1]}}},F8=function(){if(Z.data.bgActivePosistion=void 0,!Z.hoverData.selecting)N0.emit(I8("boxstart"));Z8[4]=1,Z.hoverData.selecting=!0,Z.redrawHint("select",!0),Z.redraw()};if(Z.hoverData.which===3){if(X8){var iZ=I8("cxtdrag");if(g0)g0.emit(iZ);else N0.emit(iZ);if(Z.hoverData.cxtDragged=!0,!Z.hoverData.cxtOver||B8!==Z.hoverData.cxtOver){if(Z.hoverData.cxtOver)Z.hoverData.cxtOver.emit(I8("cxtdragout"));if(Z.hoverData.cxtOver=B8,B8)B8.emit(I8("cxtdragover"))}}}else if(Z.hoverData.dragging){if(W0=!0,N0.panningEnabled()&&N0.userPanningEnabled()){var w8;if(Z.hoverData.justStartedPan){var xZ=Z.hoverData.mdownPos;w8={x:(_0[0]-xZ[0])*D0,y:(_0[1]-xZ[1])*D0},Z.hoverData.justStartedPan=!1}else w8={x:t0[0]*D0,y:t0[1]*D0};N0.panBy(w8),N0.emit(I8("dragpan")),Z.hoverData.dragged=!0}_0=Z.projectIntoViewport(m.clientX,m.clientY)}else if(Z8[4]==1&&(g0==null||g0.pannable())){if(X8){if(!Z.hoverData.dragging&&N0.boxSelectionEnabled()&&(O8||!N0.panningEnabled()||!N0.userPanningEnabled()))F8();else if(!Z.hoverData.selecting&&N0.panningEnabled()&&N0.userPanningEnabled()){var uZ=Y(g0,Z.hoverData.downs);if(uZ)Z.hoverData.dragging=!0,Z.hoverData.justStartedPan=!0,Z8[4]=0,Z.data.bgActivePosistion=qF(T0),Z.redrawHint("select",!0),Z.redraw()}if(g0&&g0.pannable()&&g0.active())g0.unactivate()}}else{if(g0&&g0.pannable()&&g0.active())g0.unactivate();if((!g0||!g0.grabbed())&&B8!=r0){if(r0)U(r0,["mouseout","tapdragout"],m,{x:_0[0],y:_0[1]});if(B8)U(B8,["mouseover","tapdragover"],m,{x:_0[0],y:_0[1]});Z.hoverData.last=B8}if(g0)if(X8){if(N0.boxSelectionEnabled()&&O8){if(g0&&g0.grabbed()){if(L(d0),g0.emit(I8("freeon")),d0.emit(I8("free")),Z.dragData.didDrag)g0.emit(I8("dragfreeon")),d0.emit(I8("dragfree"))}F8()}else if(g0&&g0.grabbed()&&Z.nodeIsDraggable(g0)){var YZ=!Z.dragData.didDrag;if(YZ)Z.redrawHint("eles",!0);if(Z.dragData.didDrag=!0,!Z.hoverData.draggingEles)O(d0,{inDragLayer:!0});var qZ={x:0,y:0};if(k8(t0[0])&&k8(t0[1])){if(qZ.x+=t0[0],qZ.y+=t0[1],YZ){var SZ=Z.hoverData.dragDelta;if(SZ&&k8(SZ[0])&&k8(SZ[1]))qZ.x+=SZ[0],qZ.y+=SZ[1]}}Z.hoverData.draggingEles=!0,d0.silentShift(qZ).emit(I8("position")).emit(I8("drag")),Z.redrawHint("drag",!0),Z.redraw()}}else L8();W0=!0}if(Z8[2]=_0[0],Z8[3]=_0[1],W0){if(m.stopPropagation)m.stopPropagation();if(m.preventDefault)m.preventDefault();return!1}},!1);var P,S,T;Z.registerBinding(J,"mouseup",function(m){if(Z.hoverData.which===1&&m.which!==1&&Z.hoverData.capture)return;var q0=Z.hoverData.capture;if(!q0)return;Z.hoverData.capture=!1;var W0=Z.cy,N0=Z.projectIntoViewport(m.clientX,m.clientY),D0=Z.selection,L0=Z.findNearestElement(N0[0],N0[1],!0,!1),_0=Z.dragData.possibleDragElements,T0=Z.hoverData.down,u0=X(m);if(Z.data.bgActivePosistion)Z.redrawHint("select",!0),Z.redraw();if(Z.hoverData.tapholdCancelled=!0,Z.data.bgActivePosistion=void 0,T0)T0.unactivate();var Z8=function(g8){return{originalEvent:m,type:g8,position:{x:N0[0],y:N0[1]}}};if(Z.hoverData.which===3){var B8=Z8("cxttapend");if(T0)T0.emit(B8);else W0.emit(B8);if(!Z.hoverData.cxtDragged){var r0=Z8("cxttap");if(T0)T0.emit(r0);else W0.emit(r0)}Z.hoverData.cxtDragged=!1,Z.hoverData.which=null}else if(Z.hoverData.which===1){if(U(L0,["mouseup","tapend","vmouseup"],m,{x:N0[0],y:N0[1]}),!Z.dragData.didDrag&&!Z.hoverData.dragged&&!Z.hoverData.selecting&&!Z.hoverData.isOverThresholdDrag)if(U(T0,["click","tap","vclick"],m,{x:N0[0],y:N0[1]}),S=!1,m.timeStamp-T<=W0.multiClickDebounceTime())P&&clearTimeout(P),S=!0,T=null,U(T0,["dblclick","dbltap","vdblclick"],m,{x:N0[0],y:N0[1]});else P=setTimeout(function(){if(S)return;U(T0,["oneclick","onetap","voneclick"],m,{x:N0[0],y:N0[1]})},W0.multiClickDebounceTime()),T=m.timeStamp;if(T0==null&&!Z.dragData.didDrag&&!Z.hoverData.selecting&&!Z.hoverData.dragged&&!X(m)){if(W0.$(Q).unselect(["tapunselect"]),_0.length>0)Z.redrawHint("eles",!0);Z.dragData.possibleDragElements=_0=W0.collection()}if(L0==T0&&!Z.dragData.didDrag&&!Z.hoverData.selecting){if(L0!=null&&L0._private.selectable){if(Z.hoverData.dragging);else if(W0.selectionType()==="additive"||u0)if(L0.selected())L0.unselect(["tapunselect"]);else L0.select(["tapselect"]);else if(!u0)W0.$(Q).unmerge(L0).unselect(["tapunselect"]),L0.select(["tapselect"]);Z.redrawHint("eles",!0)}}if(Z.hoverData.selecting){var g0=W0.collection(Z.getAllInBox(D0[0],D0[1],D0[2],D0[3]));if(Z.redrawHint("select",!0),g0.length>0)Z.redrawHint("eles",!0);W0.emit(Z8("boxend"));var t0=function(g8){return g8.selectable()&&!g8.selected()};if(W0.selectionType()==="additive")g0.emit(Z8("box")).stdFilter(t0).select().emit(Z8("boxselect"));else{if(!u0)W0.$(Q).unmerge(g0).unselect();g0.emit(Z8("box")).stdFilter(t0).select().emit(Z8("boxselect"))}Z.redraw()}if(Z.hoverData.dragging)Z.hoverData.dragging=!1,Z.redrawHint("select",!0),Z.redrawHint("eles",!0),Z.redraw();if(!D0[4]){Z.redrawHint("drag",!0),Z.redrawHint("eles",!0);var d0=T0&&T0.grabbed();if(L(_0),d0){if(T0.emit(Z8("freeon")),_0.emit(Z8("free")),Z.dragData.didDrag)T0.emit(Z8("dragfreeon")),_0.emit(Z8("dragfree"))}}}D0[4]=0,Z.hoverData.down=null,Z.hoverData.cxtStarted=!1,Z.hoverData.draggingEles=!1,Z.hoverData.selecting=!1,Z.hoverData.isOverThresholdDrag=!1,Z.dragData.didDrag=!1,Z.hoverData.dragged=!1,Z.hoverData.dragDelta=[],Z.hoverData.mdownPos=null,Z.hoverData.mdownGPos=null,Z.hoverData.which=null},!1);var _=[],v=4,x,b=1e5,y=function(m,q0){for(var W0=0;W0<m.length;W0++)if(m[W0]%q0!==0)return!1;return!0},u=function(m){var q0=Math.abs(m[0]);for(var W0=1;W0<m.length;W0++)if(Math.abs(m[W0])!==q0)return!1;return!0},h=function(m){var q0=!1,W0=m.deltaY;if(W0==null){if(m.wheelDeltaY!=null)W0=m.wheelDeltaY/4;else if(m.wheelDelta!=null)W0=m.wheelDelta/4}if(W0===0)return;if(x==null)if(_.length>=v){var N0=_;if(x=y(N0,5),!x){var D0=Math.abs(N0[0]);x=u(N0)&&D0>5}if(x)for(var L0=0;L0<N0.length;L0++)b=Math.min(Math.abs(N0[L0]),b)}else _.push(W0),q0=!0;else if(x)b=Math.min(Math.abs(W0),b);if(Z.scrollingPage)return;var _0=Z.cy,T0=_0.zoom(),u0=_0.pan(),Z8=Z.projectIntoViewport(m.clientX,m.clientY),B8=[Z8[0]*T0+u0.x,Z8[1]*T0+u0.y];if(Z.hoverData.draggingEles||Z.hoverData.dragging||Z.hoverData.cxtStarted||$()){m.preventDefault();return}if(_0.panningEnabled()&&_0.userPanningEnabled()&&_0.zoomingEnabled()&&_0.userZoomingEnabled()){m.preventDefault(),Z.data.wheelZooming=!0,clearTimeout(Z.data.wheelTimeout),Z.data.wheelTimeout=setTimeout(function(){Z.data.wheelZooming=!1,Z.redrawHint("eles",!0),Z.redraw()},150);var r0;if(q0&&Math.abs(W0)>5)W0=Si(W0)*5;if(r0=W0/-250,x)r0/=b,r0*=3;r0=r0*Z.wheelSensitivity;var g0=m.deltaMode===1;if(g0)r0*=33;var t0=_0.zoom()*Math.pow(10,r0);if(m.type==="gesturechange")t0=Z.gestureStartZoom*m.scale;_0.zoom({level:t0,renderedPosition:{x:B8[0],y:B8[1]}}),_0.emit({type:m.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:m,position:{x:Z8[0],y:Z8[1]}})}};Z.registerBinding(Z.container,"wheel",h,!0),Z.registerBinding(J,"scroll",function(m){Z.scrollingPage=!0,clearTimeout(Z.scrollingPageTimeout),Z.scrollingPageTimeout=setTimeout(function(){Z.scrollingPage=!1},250)},!0),Z.registerBinding(Z.container,"gesturestart",function(m){if(Z.gestureStartZoom=Z.cy.zoom(),!Z.hasTouchStarted)m.preventDefault()},!0),Z.registerBinding(Z.container,"gesturechange",function(H0){if(!Z.hasTouchStarted)h(H0)},!0),Z.registerBinding(Z.container,"mouseout",function(m){var q0=Z.projectIntoViewport(m.clientX,m.clientY);Z.cy.emit({originalEvent:m,type:"mouseout",position:{x:q0[0],y:q0[1]}})},!1),Z.registerBinding(Z.container,"mouseover",function(m){var q0=Z.projectIntoViewport(m.clientX,m.clientY);Z.cy.emit({originalEvent:m,type:"mouseover",position:{x:q0[0],y:q0[1]}})},!1);var p,r,t,d,X0,a,z0,J0,Q0,e,n,Y0,o,M0=function(m,q0,W0,N0){return Math.sqrt((W0-m)*(W0-m)+(N0-q0)*(N0-q0))},K0=function(m,q0,W0,N0){return(W0-m)*(W0-m)+(N0-q0)*(N0-q0)},V0;Z.registerBinding(Z.container,"touchstart",V0=function(m){if(Z.hasTouchStarted=!0,!k(m))return;A(),Z.touchData.capture=!0,Z.data.bgActivePosistion=void 0;var q0=Z.cy,W0=Z.touchData.now,N0=Z.touchData.earlier;if(m.touches[0]){var D0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);W0[0]=D0[0],W0[1]=D0[1]}if(m.touches[1]){var D0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);W0[2]=D0[0],W0[3]=D0[1]}if(m.touches[2]){var D0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);W0[4]=D0[0],W0[5]=D0[1]}var L0=function(O8){return{originalEvent:m,type:O8,position:{x:W0[0],y:W0[1]}}};if(m.touches[1]){Z.touchData.singleTouchMoved=!0,L(Z.dragData.touchDragEles);var _0=Z.findContainerClientCoords();Q0=_0[0],e=_0[1],n=_0[2],Y0=_0[3],p=m.touches[0].clientX-Q0,r=m.touches[0].clientY-e,t=m.touches[1].clientX-Q0,d=m.touches[1].clientY-e,o=0<=p&&p<=n&&0<=t&&t<=n&&0<=r&&r<=Y0&&0<=d&&d<=Y0;var T0=q0.pan(),u0=q0.zoom();X0=M0(p,r,t,d),a=K0(p,r,t,d),z0=[(p+t)/2,(r+d)/2],J0=[(z0[0]-T0.x)/u0,(z0[1]-T0.y)/u0];var Z8=200,B8=Z8*Z8;if(a<B8&&!m.touches[2]){var r0=Z.findNearestElement(W0[0],W0[1],!0,!0),g0=Z.findNearestElement(W0[2],W0[3],!0,!0);if(r0&&r0.isNode())r0.activate().emit(L0("cxttapstart")),Z.touchData.start=r0;else if(g0&&g0.isNode())g0.activate().emit(L0("cxttapstart")),Z.touchData.start=g0;else q0.emit(L0("cxttapstart"));if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!0,Z.touchData.cxtDragged=!1,Z.data.bgActivePosistion=void 0,Z.redraw();return}}if(m.touches[2]){if(q0.boxSelectionEnabled())m.preventDefault()}else if(m.touches[1]);else if(m.touches[0]){var t0=Z.findNearestElements(W0[0],W0[1],!0,!0),d0=t0[0];if(d0!=null){if(d0.activate(),Z.touchData.start=d0,Z.touchData.starts=t0,Z.nodeIsGrabbable(d0)){var X8=Z.dragData.touchDragEles=q0.collection(),g8=null;if(Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),d0.selected())g8=q0.$(function(G8){return G8.selected()&&Z.nodeIsGrabbable(G8)}),O(g8,{addToList:X8});else R(d0,{addToList:X8});if(H(d0),d0.emit(L0("grabon")),g8)g8.forEach(function(G8){G8.emit(L0("grab"))});else d0.emit(L0("grab"))}}if(U(d0,["touchstart","tapstart","vmousedown"],m,{x:W0[0],y:W0[1]}),d0==null)Z.data.bgActivePosistion={x:D0[0],y:D0[1]},Z.redrawHint("select",!0),Z.redraw();Z.touchData.singleTouchMoved=!1,Z.touchData.singleTouchStartTime=+new Date,clearTimeout(Z.touchData.tapholdTimeout),Z.touchData.tapholdTimeout=setTimeout(function(){if(Z.touchData.singleTouchMoved===!1&&!Z.pinching&&!Z.touchData.selecting)U(Z.touchData.start,["taphold"],m,{x:W0[0],y:W0[1]})},Z.tapholdDuration)}if(m.touches.length>=1){var M8=Z.touchData.startPosition=[null,null,null,null,null,null];for(var $8=0;$8<W0.length;$8++)M8[$8]=N0[$8]=W0[$8];var H8=m.touches[0];Z.touchData.startGPosition=[H8.clientX,H8.clientY]}},!1);var i;Z.registerBinding(J,"touchmove",i=function(m){var q0=Z.touchData.capture;if(!q0&&!k(m))return;var{selection:W0,cy:N0}=Z,D0=Z.touchData.now,L0=Z.touchData.earlier,_0=N0.zoom();if(m.touches[0]){var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);D0[0]=T0[0],D0[1]=T0[1]}if(m.touches[1]){var T0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);D0[2]=T0[0],D0[3]=T0[1]}if(m.touches[2]){var T0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);D0[4]=T0[0],D0[5]=T0[1]}var u0=function(wf){return{originalEvent:m,type:wf,position:{x:D0[0],y:D0[1]}}},Z8=Z.touchData.startGPosition,B8;if(q0&&m.touches[0]&&Z8){var r0=[];for(var g0=0;g0<D0.length;g0++)r0[g0]=D0[g0]-L0[g0];var t0=m.touches[0].clientX-Z8[0],d0=t0*t0,X8=m.touches[0].clientY-Z8[1],g8=X8*X8,M8=d0+g8;B8=M8>=Z.touchTapThreshold2}if(q0&&Z.touchData.cxt){m.preventDefault();var $8=m.touches[0].clientX-Q0,H8=m.touches[0].clientY-e,G8=m.touches[1].clientX-Q0,O8=m.touches[1].clientY-e,L8=K0($8,H8,G8,O8),I8=L8/a,F8=150,iZ=F8*F8,w8=1.5,xZ=w8*w8;if(I8>=xZ||L8>=iZ){Z.touchData.cxt=!1,Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var uZ=u0("cxttapend");if(Z.touchData.start)Z.touchData.start.unactivate().emit(uZ),Z.touchData.start=null;else N0.emit(uZ)}}if(q0&&Z.touchData.cxt){var uZ=u0("cxtdrag");if(Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.touchData.start)Z.touchData.start.emit(uZ);else N0.emit(uZ);if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxtDragged=!0;var YZ=Z.findNearestElement(D0[0],D0[1],!0,!0);if(!Z.touchData.cxtOver||YZ!==Z.touchData.cxtOver){if(Z.touchData.cxtOver)Z.touchData.cxtOver.emit(u0("cxtdragout"));if(Z.touchData.cxtOver=YZ,YZ)YZ.emit(u0("cxtdragover"))}}else if(q0&&m.touches[2]&&N0.boxSelectionEnabled()){if(m.preventDefault(),Z.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,!Z.touchData.selecting)N0.emit(u0("boxstart"));if(Z.touchData.selecting=!0,Z.touchData.didSelect=!0,W0[4]=1,!W0||W0.length===0||W0[0]===void 0)W0[0]=(D0[0]+D0[2]+D0[4])/3,W0[1]=(D0[1]+D0[3]+D0[5])/3,W0[2]=(D0[0]+D0[2]+D0[4])/3+1,W0[3]=(D0[1]+D0[3]+D0[5])/3+1;else W0[2]=(D0[0]+D0[2]+D0[4])/3,W0[3]=(D0[1]+D0[3]+D0[5])/3;Z.redrawHint("select",!0),Z.redraw()}else if(q0&&m.touches[1]&&!Z.touchData.didSelect&&N0.zoomingEnabled()&&N0.panningEnabled()&&N0.userZoomingEnabled()&&N0.userPanningEnabled()){m.preventDefault(),Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var qZ=Z.dragData.touchDragEles;if(qZ){Z.redrawHint("drag",!0);for(var SZ=0;SZ<qZ.length;SZ++){var A9=qZ[SZ]._private;A9.grabbed=!1,A9.rscratch.inDragLayer=!1}}var R8=Z.touchData.start,$8=m.touches[0].clientX-Q0,H8=m.touches[0].clientY-e,G8=m.touches[1].clientX-Q0,O8=m.touches[1].clientY-e,S0=M0($8,H8,G8,O8),Y8=S0/X0;if(o){var j8=$8-p,b0=H8-r,K8=G8-t,Q8=O8-d,E8=(j8+K8)/2,zZ=(b0+Q8)/2,IZ=N0.zoom(),a8=IZ*Y8,o0=N0.pan(),A8=J0[0]*IZ+o0.x,p8=J0[1]*IZ+o0.y,q8={x:-a8/IZ*(A8-o0.x-E8)+A8,y:-a8/IZ*(p8-o0.y-zZ)+p8};if(R8&&R8.active()){var qZ=Z.dragData.touchDragEles;if(L(qZ),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),R8.unactivate().emit(u0("freeon")),qZ.emit(u0("free")),Z.dragData.didDrag)R8.emit(u0("dragfreeon")),qZ.emit(u0("dragfree"))}N0.viewport({zoom:a8,pan:q8,cancelOnFailedZoom:!0}),N0.emit(u0("pinchzoom")),X0=S0,p=$8,r=H8,t=G8,d=O8,Z.pinching=!0}if(m.touches[0]){var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);D0[0]=T0[0],D0[1]=T0[1]}if(m.touches[1]){var T0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);D0[2]=T0[0],D0[3]=T0[1]}if(m.touches[2]){var T0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);D0[4]=T0[0],D0[5]=T0[1]}}else if(m.touches[0]&&!Z.touchData.didSelect){var $Z=Z.touchData.start,O0=Z.touchData.last,YZ;if(!Z.hoverData.draggingEles&&!Z.swipePanning)YZ=Z.findNearestElement(D0[0],D0[1],!0,!0);if(q0&&$Z!=null)m.preventDefault();if(q0&&$Z!=null&&Z.nodeIsDraggable($Z))if(B8){var qZ=Z.dragData.touchDragEles,p5=!Z.dragData.didDrag;if(p5)O(qZ,{inDragLayer:!0});Z.dragData.didDrag=!0;var A0={x:0,y:0};if(k8(r0[0])&&k8(r0[1])){if(A0.x+=r0[0],A0.y+=r0[1],p5){Z.redrawHint("eles",!0);var M9=Z.touchData.dragDelta;if(M9&&k8(M9[0])&&k8(M9[1]))A0.x+=M9[0],A0.y+=M9[1]}}if(Z.hoverData.draggingEles=!0,qZ.silentShift(A0).emit(u0("position")).emit(u0("drag")),Z.redrawHint("drag",!0),Z.touchData.startPosition[0]==L0[0]&&Z.touchData.startPosition[1]==L0[1])Z.redrawHint("eles",!0);Z.redraw()}else{var M9=Z.touchData.dragDelta=Z.touchData.dragDelta||[];if(M9.length===0)M9.push(r0[0]),M9.push(r0[1]);else M9[0]+=r0[0],M9[1]+=r0[1]}{if(U($Z||YZ,["touchmove","tapdrag","vmousemove"],m,{x:D0[0],y:D0[1]}),(!$Z||!$Z.grabbed())&&YZ!=O0){if(O0)O0.emit(u0("tapdragout"));if(YZ)YZ.emit(u0("tapdragover"))}Z.touchData.last=YZ}if(q0){for(var SZ=0;SZ<D0.length;SZ++)if(D0[SZ]&&Z.touchData.startPosition[SZ]&&B8)Z.touchData.singleTouchMoved=!0}if(q0&&($Z==null||$Z.pannable())&&N0.panningEnabled()&&N0.userPanningEnabled()){var eA=Y($Z,Z.touchData.starts);if(eA){if(m.preventDefault(),!Z.data.bgActivePosistion)Z.data.bgActivePosistion=qF(Z.touchData.startPosition);if(Z.swipePanning)N0.panBy({x:r0[0]*_0,y:r0[1]*_0}),N0.emit(u0("dragpan"));else if(B8){if(Z.swipePanning=!0,N0.panBy({x:t0*_0,y:X8*_0}),N0.emit(u0("dragpan")),$Z)$Z.unactivate(),Z.redrawHint("select",!0),Z.touchData.start=null}}var T0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);D0[0]=T0[0],D0[1]=T0[1]}}for(var g0=0;g0<D0.length;g0++)L0[g0]=D0[g0];if(q0&&m.touches.length>0&&!Z.hoverData.draggingEles&&!Z.swipePanning&&Z.data.bgActivePosistion!=null)Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.redraw()},!1);var p0;Z.registerBinding(J,"touchcancel",p0=function(m){var q0=Z.touchData.start;if(Z.touchData.capture=!1,q0)q0.unactivate()});var B0,h0,a0,s0;if(Z.registerBinding(J,"touchend",B0=function(m){var q0=Z.touchData.start,W0=Z.touchData.capture;if(W0){if(m.touches.length===0)Z.touchData.capture=!1;m.preventDefault()}else return;var N0=Z.selection;Z.swipePanning=!1,Z.hoverData.draggingEles=!1;var D0=Z.cy,L0=D0.zoom(),_0=Z.touchData.now,T0=Z.touchData.earlier;if(m.touches[0]){var u0=Z.projectIntoViewport(m.touches[0].clientX,m.touches[0].clientY);_0[0]=u0[0],_0[1]=u0[1]}if(m.touches[1]){var u0=Z.projectIntoViewport(m.touches[1].clientX,m.touches[1].clientY);_0[2]=u0[0],_0[3]=u0[1]}if(m.touches[2]){var u0=Z.projectIntoViewport(m.touches[2].clientX,m.touches[2].clientY);_0[4]=u0[0],_0[5]=u0[1]}var Z8=function(iZ){return{originalEvent:m,type:iZ,position:{x:_0[0],y:_0[1]}}};if(q0)q0.unactivate();var B8;if(Z.touchData.cxt){if(B8=Z8("cxttapend"),q0)q0.emit(B8);else D0.emit(B8);if(!Z.touchData.cxtDragged){var r0=Z8("cxttap");if(q0)q0.emit(r0);else D0.emit(r0)}if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!1,Z.touchData.start=null,Z.redraw();return}if(!m.touches[2]&&D0.boxSelectionEnabled()&&Z.touchData.selecting){Z.touchData.selecting=!1;var g0=D0.collection(Z.getAllInBox(N0[0],N0[1],N0[2],N0[3]));N0[0]=void 0,N0[1]=void 0,N0[2]=void 0,N0[3]=void 0,N0[4]=0,Z.redrawHint("select",!0),D0.emit(Z8("boxend"));var t0=function(iZ){return iZ.selectable()&&!iZ.selected()};if(g0.emit(Z8("box")).stdFilter(t0).select().emit(Z8("boxselect")),g0.nonempty())Z.redrawHint("eles",!0);Z.redraw()}if(q0!=null)q0.unactivate();if(m.touches[2])Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);else if(m.touches[1]);else if(m.touches[0]);else if(!m.touches[0]){Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var d0=Z.dragData.touchDragEles;if(q0!=null){var X8=q0._private.grabbed;if(L(d0),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),X8){if(q0.emit(Z8("freeon")),d0.emit(Z8("free")),Z.dragData.didDrag)q0.emit(Z8("dragfreeon")),d0.emit(Z8("dragfree"))}U(q0,["touchend","tapend","vmouseup","tapdragout"],m,{x:_0[0],y:_0[1]}),q0.unactivate(),Z.touchData.start=null}else{var g8=Z.findNearestElement(_0[0],_0[1],!0,!0);U(g8,["touchend","tapend","vmouseup","tapdragout"],m,{x:_0[0],y:_0[1]})}var M8=Z.touchData.startPosition[0]-_0[0],$8=M8*M8,H8=Z.touchData.startPosition[1]-_0[1],G8=H8*H8,O8=$8+G8,L8=O8*L0*L0;if(!Z.touchData.singleTouchMoved){if(!q0)D0.$(":selected").unselect(["tapunselect"]);if(U(q0,["tap","vclick"],m,{x:_0[0],y:_0[1]}),h0=!1,m.timeStamp-s0<=D0.multiClickDebounceTime())a0&&clearTimeout(a0),h0=!0,s0=null,U(q0,["dbltap","vdblclick"],m,{x:_0[0],y:_0[1]});else a0=setTimeout(function(){if(h0)return;U(q0,["onetap","voneclick"],m,{x:_0[0],y:_0[1]})},D0.multiClickDebounceTime()),s0=m.timeStamp}if(q0!=null&&!Z.dragData.didDrag&&q0._private.selectable&&L8<Z.touchTapThreshold2&&!Z.pinching){if(D0.selectionType()==="single")D0.$(Q).unmerge(q0).unselect(["tapunselect"]),q0.select(["tapselect"]);else if(q0.selected())q0.unselect(["tapunselect"]);else q0.select(["tapselect"]);Z.redrawHint("eles",!0)}Z.touchData.singleTouchMoved=!0}for(var I8=0;I8<_0.length;I8++)T0[I8]=_0[I8];if(Z.dragData.didDrag=!1,m.touches.length===0)Z.touchData.dragDelta=[],Z.touchData.startPosition=[null,null,null,null,null,null],Z.touchData.startGPosition=null,Z.touchData.didSelect=!1;if(m.touches.length<2){if(m.touches.length===1)Z.touchData.startGPosition=[m.touches[0].clientX,m.touches[0].clientY];Z.pinching=!1,Z.redrawHint("eles",!0),Z.redraw()}},!1),typeof TouchEvent>"u"){var $0=[],x0=function(m){return{clientX:m.clientX,clientY:m.clientY,force:1,identifier:m.pointerId,pageX:m.pageX,pageY:m.pageY,radiusX:m.width/2,radiusY:m.height/2,screenX:m.screenX,screenY:m.screenY,target:m.target}},f0=function(m){return{event:m,touch:x0(m)}},C0=function(m){$0.push(f0(m))},m0=function(m){for(var q0=0;q0<$0.length;q0++){var W0=$0[q0];if(W0.event.pointerId===m.pointerId){$0.splice(q0,1);return}}},F0=function(m){var q0=$0.filter(function(W0){return W0.event.pointerId===m.pointerId})[0];q0.event=m,q0.touch=x0(m)},I0=function(m){m.touches=$0.map(function(q0){return q0.touch})},s=function(m){return m.pointerType==="mouse"||m.pointerType===4};Z.registerBinding(Z.container,"pointerdown",function(H0){if(s(H0))return;H0.preventDefault(),C0(H0),I0(H0),V0(H0)}),Z.registerBinding(Z.container,"pointerup",function(H0){if(s(H0))return;m0(H0),I0(H0),B0(H0)}),Z.registerBinding(Z.container,"pointercancel",function(H0){if(s(H0))return;m0(H0),I0(H0),p0(H0)}),Z.registerBinding(Z.container,"pointermove",function(H0){if(s(H0))return;H0.preventDefault(),F0(H0),I0(H0),i(H0)})}};DY={};DY.generatePolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,draw:function(K,U,X,Y,q,W){this.renderer.nodeShapeImpl("polygon",K,U,X,Y,q,this.points)},intersectLine:function(K,U,X,Y,q,W,G,z){return MD(q,W,this.points,K,U,X/2,Y/2,G)},checkPoint:function(K,U,X,Y,q,W,G,z){return LY(K,U,this.points,W,G,Y,q,[0,-1],X)},hasMiterBounds:Z!=="rectangle",miterBounds:function(K,U,X,Y,q,W){return YF8(this.points,K,U,X,Y,q)}}};DY.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(J,Q,K,U,X,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,U,X)},intersectLine:function(J,Q,K,U,X,Y,q,W){return BF8(X,Y,J,Q,K/2+q,U/2+q)},checkPoint:function(J,Q,K,U,X,Y,q,W){return Xz(J,Q,U,X,Y,q,K)}}};DY.generateRoundPolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,getOrCreateCorners:function(K,U,X,Y,q,W,G){if(W[G]!==void 0&&W[G+"-cx"]===K&&W[G+"-cy"]===U)return W[G];W[G]=Array(J.length/2),W[G+"-cx"]=K,W[G+"-cy"]=U;var z=X/2,H=Y/2;q=q==="auto"?qA0(X,Y):q;var F=Array(J.length/2);for(var M=0;M<J.length/2;M++)F[M]={x:K+z*J[M*2],y:U+H*J[M*2+1]};var B,O,R,L,D=F.length;O=F[D-1];for(B=0;B<D;B++)R=F[B%D],L=F[(B+1)%D],W[G][B]=gi(O,R,L,q),O=R,R=L;return W[G]},draw:function(K,U,X,Y,q,W,G){this.renderer.nodeShapeImpl("round-polygon",K,U,X,Y,q,this.points,this.getOrCreateCorners(U,X,Y,q,W,G,"drawCorners"))},intersectLine:function(K,U,X,Y,q,W,G,z,H){return RF8(q,W,this.points,K,U,X,Y,G,this.getOrCreateCorners(K,U,X,Y,z,H,"corners"))},checkPoint:function(K,U,X,Y,q,W,G,z,H){return MF8(K,U,this.points,W,G,Y,q,this.getOrCreateCorners(W,G,Y,q,z,H,"corners"))}}};DY.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:U6(4,0),draw:function(J,Q,K,U,X,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,U,X,this.points,Y)},intersectLine:function(J,Q,K,U,X,Y,q,W){return XA0(X,Y,J,Q,K,U,q,W)},checkPoint:function(J,Q,K,U,X,Y,q,W){var G=U/2,z=X/2;W=W==="auto"?Aq(U,X):W,W=Math.min(G,z,W);var H=W*2;if(LY(J,Q,this.points,Y,q,U,X-H,[0,-1],K))return!0;if(LY(J,Q,this.points,Y,q,U-H,X,[0,-1],K))return!0;if(Xz(J,Q,H,H,Y-G+W,q-z+W,K))return!0;if(Xz(J,Q,H,H,Y+G-W,q-z+W,K))return!0;if(Xz(J,Q,H,H,Y+G-W,q+z-W,K))return!0;if(Xz(J,Q,H,H,Y-G+W,q+z-W,K))return!0;return!1}}};DY.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:wi(),points:U6(4,0),draw:function(J,Q,K,U,X,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,U,X,null,Y)},generateCutTrianglePts:function(J,Q,K,U,X){var Y=X==="auto"?this.cornerLength:X,q=Q/2,W=J/2,G=K-W,z=K+W,H=U-q,F=U+q;return{topLeft:[G,H+Y,G+Y,H,G+Y,H+Y],topRight:[z-Y,H,z,H+Y,z-Y,H+Y],bottomRight:[z,F-Y,z-Y,F,z-Y,F-Y],bottomLeft:[G+Y,F,G,F-Y,G+Y,F-Y]}},intersectLine:function(J,Q,K,U,X,Y,q,W){var G=this.generateCutTrianglePts(K+2*q,U+2*q,J,Q,W),z=[].concat.apply([],[G.topLeft.splice(0,4),G.topRight.splice(0,4),G.bottomRight.splice(0,4),G.bottomLeft.splice(0,4)]);return MD(X,Y,z,J,Q)},checkPoint:function(J,Q,K,U,X,Y,q,W){var G=W==="auto"?this.cornerLength:W;if(LY(J,Q,this.points,Y,q,U,X-2*G,[0,-1],K))return!0;if(LY(J,Q,this.points,Y,q,U-2*G,X,[0,-1],K))return!0;var z=this.generateCutTrianglePts(U,X,Y,q);return n6(J,Q,z.topLeft)||n6(J,Q,z.topRight)||n6(J,Q,z.bottomRight)||n6(J,Q,z.bottomLeft)}}};DY.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:U6(4,0),draw:function(J,Q,K,U,X,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,U,X)},intersectLine:function(J,Q,K,U,X,Y,q,W){var G=0.15,z=0.5,H=0.85,F=this.generateBarrelBezierPts(K+2*q,U+2*q,J,Q),M=function(R){var L=zF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},G),D=zF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},z),A=zF({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},H);return[R[0],R[1],L.x,L.y,D.x,D.y,A.x,A.y,R[4],R[5]]},B=[].concat(M(F.topLeft),M(F.topRight),M(F.bottomRight),M(F.bottomLeft));return MD(X,Y,B,J,Q)},generateBarrelBezierPts:function(J,Q,K,U){var X=Q/2,Y=J/2,q=K-Y,W=K+Y,G=U-X,z=U+X,H=Ji(J,Q),F=H.heightOffset,M=H.widthOffset,B=H.ctrlPtOffsetPct*J,O={topLeft:[q,G+F,q+B,G,q+M,G],topRight:[W-M,G,W-B,G,W,G+F],bottomRight:[W,z-F,W-B,z,W-M,z],bottomLeft:[q+M,z,q+B,z,q,z-F]};return O.topLeft.isTop=!0,O.topRight.isTop=!0,O.bottomLeft.isBottom=!0,O.bottomRight.isBottom=!0,O},checkPoint:function(J,Q,K,U,X,Y,q,W){var G=Ji(U,X),z=G.heightOffset,H=G.widthOffset;if(LY(J,Q,this.points,Y,q,U,X-2*z,[0,-1],K))return!0;if(LY(J,Q,this.points,Y,q,U-2*H,X,[0,-1],K))return!0;var F=this.generateBarrelBezierPts(U,X,Y,q),M=function(j,$,k){var w=k[4],P=k[2],S=k[0],T=k[5],_=k[1],v=Math.min(w,S),x=Math.max(w,S),b=Math.min(T,_),y=Math.max(T,_);if(v<=j&&j<=x&&b<=$&&$<=y){var u=LF8(w,P,S),h=GF8(u[0],u[1],u[2],j),p=h.filter(function(r){return 0<=r&&r<=1});if(p.length>0)return p[0]}return null},B=Object.keys(F);for(var O=0;O<B.length;O++){var R=B[O],L=F[R],D=M(J,Q,L);if(D==null)continue;var A=L[5],V=L[3],N=L[1],E=x7(A,V,N,D);if(L.isTop&&E<=Q)return!0;if(L.isBottom&&Q<=E)return!0}return!1}}};DY.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:U6(4,0),draw:function(J,Q,K,U,X,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,U,X,this.points,Y)},intersectLine:function(J,Q,K,U,X,Y,q,W){var G=J-(K/2+q),z=Q-(U/2+q),H=z,F=J+(K/2+q),M=Oq(X,Y,J,Q,G,z,F,H,!1);if(M.length>0)return M;return XA0(X,Y,J,Q,K,U,q,W)},checkPoint:function(J,Q,K,U,X,Y,q,W){W=W==="auto"?Aq(U,X):W;var G=2*W;if(LY(J,Q,this.points,Y,q,U,X-G,[0,-1],K))return!0;if(LY(J,Q,this.points,Y,q,U-G,X,[0,-1],K))return!0;var z=U/2+2*K,H=X/2+2*K,F=[Y-z,q-H,Y-z,q,Y+z,q,Y+z,q-H];if(n6(J,Q,F))return!0;if(Xz(J,Q,G,G,Y+U/2-W,q+X/2-W,K))return!0;if(Xz(J,Q,G,G,Y-U/2+W,q+X/2-W,K))return!0;return!1}}};DY.registerNodeShapes=function(){var Z=this.nodeShapes={},J=this;this.generateEllipse(),this.generatePolygon("triangle",U6(3,0)),this.generateRoundPolygon("round-triangle",U6(3,0)),this.generatePolygon("rectangle",U6(4,0)),Z.square=Z.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var Q=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",Q),this.generateRoundPolygon("round-diamond",Q)}this.generatePolygon("pentagon",U6(5,0)),this.generateRoundPolygon("round-pentagon",U6(5,0)),this.generatePolygon("hexagon",U6(6,0)),this.generateRoundPolygon("round-hexagon",U6(6,0)),this.generatePolygon("heptagon",U6(7,0)),this.generateRoundPolygon("round-heptagon",U6(7,0)),this.generatePolygon("octagon",U6(8,0)),this.generateRoundPolygon("round-octagon",U6(8,0));var K=Array(20);{var U=Zi(5,0),X=Zi(5,Math.PI/5),Y=0.5*(3-Math.sqrt(5));Y*=1.57;for(var q=0;q<X.length/2;q++)X[q*2]*=Y,X[q*2+1]*=Y;for(var q=0;q<5;q++)K[q*4]=U[q*2],K[q*4+1]=U[q*2+1],K[q*4+2]=X[q*2],K[q*4+3]=X[q*2+1]}K=YA0(K),this.generatePolygon("star",K),this.generatePolygon("vee",[-1,-1,0,-0.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,0.333,-1,1,1,-0.333,1]),this.generatePolygon("right-rhomboid",[-0.333,-1,1,-1,0.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-0.95,-0.75,0,-1,0.95,1,0.95,0.75,0,1,-0.95]);{var W=[-1,-1,0.25,-1,1,0,0.25,1,-1,1];this.generatePolygon("tag",W),this.generateRoundPolygon("round-tag",W)}Z.makePolygon=function(G){var z=G.join("$"),H="polygon-"+z,F;if(F=this[H])return F;return J.generatePolygon(H,G)}};wD={};wD.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};wD.redraw=function(Z){Z=Z||JA0();var J=this;if(J.averageRedrawTime===void 0)J.averageRedrawTime=0;if(J.lastRedrawTime===void 0)J.lastRedrawTime=0;if(J.lastDrawTime===void 0)J.lastDrawTime=0;J.requestedFrame=!0,J.renderOptions=Z};wD.beforeRender=function(Z,J){if(this.destroyed)return;if(J==null)AJ("Priority is not optional for beforeRender");var Q=this.beforeRenderCallbacks;Q.push({fn:Z,priority:J}),Q.sort(function(K,U){return U.priority-K.priority})};wD.startRenderLoop=function(){var Z=this,J=Z.cy;if(Z.renderLoopStarted)return;else Z.renderLoopStarted=!0;var Q=function(U){if(Z.destroyed)return;if(J.batching());else if(Z.requestedFrame&&!Z.skipFrame){AI0(Z,!0,U);var X=RY();Z.render(Z.renderOptions);var Y=Z.lastDrawTime=RY();if(Z.averageRedrawTime===void 0)Z.averageRedrawTime=Y-X;if(Z.redrawCount===void 0)Z.redrawCount=0;if(Z.redrawCount++,Z.redrawTotalTime===void 0)Z.redrawTotalTime=0;var q=Y-X;Z.redrawTotalTime+=q,Z.lastRedrawTime=q,Z.averageRedrawTime=Z.averageRedrawTime/2+q/2,Z.requestedFrame=!1}else AI0(Z,!1,U);Z.skipFrame=!1,ES(Q)};ES(Q)};qN0=fO8,EF=qN0.prototype;EF.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];EF.init=function(Z){var J=this;J.options=Z,J.cy=Z.cy;var Q=J.container=Z.cy.container(),K=J.cy.window();if(K){var U=K.document,X=U.head,Y="__________cytoscape_stylesheet",q="__________cytoscape_container",W=U.getElementById(Y)!=null;if(Q.className.indexOf(q)<0)Q.className=(Q.className||"")+" "+q;if(!W){var G=U.createElement("style");G.id=Y,G.textContent="."+q+" { position: relative; }",X.insertBefore(G,X.children[0])}var z=K.getComputedStyle(Q),H=z.getPropertyValue("position");if(H==="static")j9("A Cytoscape container has style position:static and so can not use UI extensions properly")}J.selection=[void 0,void 0,void 0,void 0,0],J.bezierProjPcts=[0.05,0.225,0.4,0.5,0.6,0.775,0.95],J.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},J.dragData={possibleDragElements:[]},J.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},J.redraws=0,J.showFps=Z.showFps,J.debug=Z.debug,J.webgl=Z.webgl,J.hideEdgesOnViewport=Z.hideEdgesOnViewport,J.textureOnViewport=Z.textureOnViewport,J.wheelSensitivity=Z.wheelSensitivity,J.motionBlurEnabled=Z.motionBlur,J.forcedPixelRatio=k8(Z.pixelRatio)?Z.pixelRatio:null,J.motionBlur=Z.motionBlur,J.motionBlurOpacity=Z.motionBlurOpacity,J.motionBlurTransparency=1-J.motionBlurOpacity,J.motionBlurPxRatio=1,J.mbPxRBlurry=1,J.minMbLowQualFrames=4,J.fullQualityMb=!1,J.clearedForMotionBlur=[],J.desktopTapThreshold=Z.desktopTapThreshold,J.desktopTapThreshold2=Z.desktopTapThreshold*Z.desktopTapThreshold,J.touchTapThreshold=Z.touchTapThreshold,J.touchTapThreshold2=Z.touchTapThreshold*Z.touchTapThreshold,J.tapholdDuration=500,J.bindings=[],J.beforeRenderCallbacks=[],J.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},J.registerNodeShapes(),J.registerArrowShapes(),J.registerCalculationListeners()};EF.notify=function(Z,J){var Q=this,K=Q.cy;if(this.destroyed)return;if(Z==="init"){Q.load();return}if(Z==="destroy"){Q.destroy();return}if(Z==="add"||Z==="remove"||Z==="move"&&K.hasCompoundNodes()||Z==="load"||Z==="zorder"||Z==="mount")Q.invalidateCachedZSortedEles();if(Z==="viewport")Q.redrawHint("select",!0);if(Z==="gc")Q.redrawHint("gc",!0);if(Z==="load"||Z==="resize"||Z==="mount")Q.invalidateContainerClientCoordsCache(),Q.matchCanvasSize(Q.container);Q.redrawHint("eles",!0),Q.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()};EF.destroy=function(){var Z=this;Z.destroyed=!0,Z.cy.stopAnimationLoop();for(var J=0;J<Z.bindings.length;J++){var Q=Z.bindings[J],K=Q,U=K.target;(U.off||U.removeEventListener).apply(U,K.args)}if(Z.bindings=[],Z.beforeRenderCallbacks=[],Z.onUpdateEleCalcsFns=[],Z.removeObserver)Z.removeObserver.disconnect();if(Z.styleObserver)Z.styleObserver.disconnect();if(Z.resizeObserver)Z.resizeObserver.disconnect();if(Z.labelCalcDiv)try{document.body.removeChild(Z.labelCalcDiv)}catch(X){}};EF.isHeadless=function(){return!1};[ui,XN0,YN0,NF,DY,wD].forEach(function(Z){BZ(EF,Z)});WN0={setupDequeueing:function(J){return function(){var K=this,U=this.renderer;if(K.dequeueingSetup)return;else K.dequeueingSetup=!0;var X=PD(function(){U.redrawHint("eles",!0),U.redrawHint("drag",!0),U.redraw()},J.deqRedrawThreshold),Y=function(G,z){var H=RY(),F=U.averageRedrawTime,M=U.lastRedrawTime,B=[],O=U.cy.extent(),R=U.getPixelRatio();if(!G)U.flushRenderedStyleQueue();while(!0){var L=RY(),D=L-H,A=L-z;if(M<dd){var V=dd-(G?F:0);if(A>=J.deqFastCost*V)break}else if(G){if(D>=J.deqCost*M||D>=J.deqAvgCost*F)break}else if(A>=J.deqNoDrawCost*dd)break;var N=J.deq(K,R,O);if(N.length>0)for(var E=0;E<N.length;E++)B.push(N[E]);else break}if(B.length>0){if(J.onDeqd(K,B),!G&&J.shouldRedraw(K,B,R,O))X()}},q=J.priority||Pi;U.beforeRender(Y,q(K))}}},vO8=function(){function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VS;Pq(this,Z),this.idsByKey=new OY,this.keyForId=new OY,this.cachesByLvl=new OY,this.lvls=[],this.getKey=J,this.doesEleInvalidateKey=Q}return Cq(Z,[{key:"getIdsFor",value:function(Q){if(Q==null)AJ("Can not get id list for null key");var K=this.idsByKey,U=this.idsByKey.get(Q);if(!U)U=new LF,K.set(Q,U);return U}},{key:"addIdForKey",value:function(Q,K){if(Q!=null)this.getIdsFor(Q).add(K)}},{key:"deleteIdForKey",value:function(Q,K){if(Q!=null)this.getIdsFor(Q).delete(K)}},{key:"getNumberOfIdsForKey",value:function(Q){if(Q==null)return 0;else return this.getIdsFor(Q).size}},{key:"updateKeyMappingFor",value:function(Q){var K=Q.id(),U=this.keyForId.get(K),X=this.getKey(Q);this.deleteIdForKey(U,K),this.addIdForKey(X,K),this.keyForId.set(K,X)}},{key:"deleteKeyMappingFor",value:function(Q){var K=Q.id(),U=this.keyForId.get(K);this.deleteIdForKey(U,K),this.keyForId.delete(K)}},{key:"keyHasChangedFor",value:function(Q){var K=Q.id(),U=this.keyForId.get(K),X=this.getKey(Q);return U!==X}},{key:"isInvalid",value:function(Q){return this.keyHasChangedFor(Q)||this.doesEleInvalidateKey(Q)}},{key:"getCachesAt",value:function(Q){var K=this.cachesByLvl,U=this.lvls,X=K.get(Q);if(!X)X=new OY,K.set(Q,X),U.push(Q);return X}},{key:"getCache",value:function(Q,K){return this.getCachesAt(K).get(Q)}},{key:"get",value:function(Q,K){var U=this.getKey(Q),X=this.getCache(U,K);if(X!=null)this.updateKeyMappingFor(Q);return X}},{key:"getForCachedKey",value:function(Q,K){var U=this.keyForId.get(Q.id()),X=this.getCache(U,K);return X}},{key:"hasCache",value:function(Q,K){return this.getCachesAt(K).has(Q)}},{key:"has",value:function(Q,K){var U=this.getKey(Q);return this.hasCache(U,K)}},{key:"setCache",value:function(Q,K,U){U.key=Q,this.getCachesAt(K).set(Q,U)}},{key:"set",value:function(Q,K,U){var X=this.getKey(Q);this.setCache(X,K,U),this.updateKeyMappingFor(Q)}},{key:"deleteCache",value:function(Q,K){this.getCachesAt(K).delete(Q)}},{key:"delete",value:function(Q,K){var U=this.getKey(Q);this.deleteCache(U,K)}},{key:"invalidateKey",value:function(Q){var K=this;this.lvls.forEach(function(U){return K.deleteCache(Q,U)})}},{key:"invalidate",value:function(Q){var K=Q.id(),U=this.keyForId.get(K);this.deleteKeyMappingFor(Q);var X=this.doesEleInvalidateKey(Q);if(X)this.invalidateKey(U);return X||this.getNumberOfIdsForKey(U)===0}}])}(),GF={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},rO8=zQ({getKey:null,doesEleInvalidateKey:VS,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:tI0,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),N7=XD.prototype;N7.reasons=GF;N7.getTextureQueue=function(Z){var J=this;return J.eleImgCaches=J.eleImgCaches||{},J.eleImgCaches[Z]=J.eleImgCaches[Z]||[]};N7.getRetiredTextureQueue=function(Z){var J=this,Q=J.eleImgCaches.retired=J.eleImgCaches.retired||{},K=Q[Z]=Q[Z]||[];return K};N7.getElementQueue=function(){var Z=this,J=Z.eleCacheQueue=Z.eleCacheQueue||new CD(function(Q,K){return K.reqs-Q.reqs});return J};N7.getElementKeyToQueue=function(){var Z=this,J=Z.eleKeyToCacheQueue=Z.eleKeyToCacheQueue||{};return J};N7.getElement=function(Z,J,Q,K,U){var X=this,Y=this.renderer,q=Y.cy.zoom(),W=this.lookup;if(!J||J.w===0||J.h===0||isNaN(J.w)||isNaN(J.h)||!Z.visible()||Z.removed())return null;if(!X.allowEdgeTxrCaching&&Z.isEdge()||!X.allowParentTxrCaching&&Z.isParent())return null;if(K==null)K=Math.ceil(ji(q*Q));if(K<DS)K=DS;else if(q>=GN0||K>Bi)return null;var G=Math.pow(2,K),z=J.h*G,H=J.w*G,F=Y.eleTextBiggerThanMin(Z,G);if(!this.isVisible(Z,F))return null;var M=W.get(Z,K);if(M&&M.invalidated)M.invalidated=!1,M.texture.invalidatedWidth-=M.width;if(M)return M;var B;if(z<=NI0)B=NI0;else if(z<=qS)B=qS;else B=Math.ceil(z/qS)*qS;if(z>hO8||H>yO8)return null;var O=X.getTextureQueue(B),R=O[O.length-2],L=function(){return X.recycleTexture(B,H)||X.addTexture(B,H)};if(!R)R=O[O.length-1];if(!R)R=L();if(R.width-R.usedWidth<H)R=L();var D=function(v){return v&&v.scaledLabelShown===F},A=U&&U===GF.dequeue,V=U&&U===GF.highQuality,N=U&&U===GF.downscale,E;for(var C=K+1;C<=Bi;C++){var j=W.get(Z,C);if(j){E=j;break}}var $=E&&E.level===K+1?E:null,k=function(){R.context.drawImage($.texture.canvas,$.x,0,$.width,$.height,R.usedWidth,0,H,z)};if(R.context.setTransform(1,0,0,1,0,0),R.context.clearRect(R.usedWidth,0,H,B),D($))k();else if(D(E))if(V){for(var w=E.level;w>K;w--)$=X.getElement(Z,J,Q,w,GF.downscale);k()}else return X.queueElement(Z,E.level-1),E;else{var P;if(!A&&!V&&!N)for(var S=K-1;S>=DS;S--){var T=W.get(Z,S);if(T){P=T;break}}if(D(P))return X.queueElement(Z,K),P;R.context.translate(R.usedWidth,0),R.context.scale(G,G),this.drawElement(R.context,Z,J,F,!1),R.context.scale(1/G,1/G),R.context.translate(-R.usedWidth,0)}return M={x:R.usedWidth,texture:R,level:K,scale:G,width:H,height:z,scaledLabelShown:F},R.usedWidth+=Math.ceil(H+xO8),R.eleCaches.push(M),W.set(Z,K,M),X.checkTextureFullness(R),M};N7.invalidateElements=function(Z){for(var J=0;J<Z.length;J++)this.invalidateElement(Z[J])};N7.invalidateElement=function(Z){var J=this,Q=J.lookup,K=[],U=Q.isInvalid(Z);if(!U)return;for(var X=DS;X<=Bi;X++){var Y=Q.getForCachedKey(Z,X);if(Y)K.push(Y)}var q=Q.invalidate(Z);if(q)for(var W=0;W<K.length;W++){var G=K[W],z=G.texture;z.invalidatedWidth+=G.width,G.invalidated=!0,J.checkTextureUtility(z)}J.removeFromQueue(Z)};N7.checkTextureUtility=function(Z){if(Z.invalidatedWidth>=mO8*Z.width)this.retireTexture(Z)};N7.checkTextureFullness=function(Z){var J=this,Q=J.getTextureQueue(Z.height);if(Z.usedWidth/Z.width>uO8&&Z.fullnessChecks>=gO8)Iq(Q,Z);else Z.fullnessChecks++};N7.retireTexture=function(Z){var J=this,Q=Z.height,K=J.getTextureQueue(Q),U=this.lookup;Iq(K,Z),Z.retired=!0;var X=Z.eleCaches;for(var Y=0;Y<X.length;Y++){var q=X[Y];U.deleteCache(q.key,q.level)}Ci(X);var W=J.getRetiredTextureQueue(Q);W.push(Z)};N7.addTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),U={};return K.push(U),U.eleCaches=[],U.height=Z,U.width=Math.max(bO8,J),U.usedWidth=0,U.invalidatedWidth=0,U.fullnessChecks=0,U.canvas=Q.renderer.makeOffscreenCanvas(U.width,U.height),U.context=U.canvas.getContext("2d"),U};N7.recycleTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),U=Q.getRetiredTextureQueue(Z);for(var X=0;X<U.length;X++){var Y=U[X];if(Y.width>=J)return Y.retired=!1,Y.usedWidth=0,Y.invalidatedWidth=0,Y.fullnessChecks=0,Ci(Y.eleCaches),Y.context.setTransform(1,0,0,1,0,0),Y.context.clearRect(0,0,Y.width,Y.height),Iq(U,Y),K.push(Y),Y}};N7.queueElement=function(Z,J){var Q=this,K=Q.getElementQueue(),U=Q.getElementKeyToQueue(),X=this.getKey(Z),Y=U[X];if(Y)Y.level=Math.max(Y.level,J),Y.eles.merge(Z),Y.reqs++,K.updateItem(Y);else{var q={eles:Z.spawn().merge(Z),level:J,reqs:1,key:X};K.push(q),U[X]=q}};N7.dequeue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),U=[],X=J.lookup;for(var Y=0;Y<sO8;Y++)if(Q.size()>0){var q=Q.pop(),W=q.key,G=q.eles[0],z=X.hasCache(G,q.level);if(K[W]=null,z)continue;U.push(q);var H=J.getBoundingBox(G);J.getElement(G,H,Z,q.level,GF.dequeue)}else break;return U};N7.removeFromQueue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),U=this.getKey(Z),X=K[U];if(X!=null)if(X.eles.length===1)X.reqs=Vi,Q.updateItem(X),Q.pop(),K[U]=null;else X.eles.unmerge(Z)};N7.onDequeue=function(Z){this.onDequeues.push(Z)};N7.offDequeue=function(Z){Iq(this.onDequeues,Z)};N7.setupDequeueing=WN0.setupDequeueing({deqRedrawThreshold:iO8,deqCost:pO8,deqAvgCost:cO8,deqNoDrawCost:lO8,deqFastCost:dO8,deq:function(J,Q,K){return J.dequeue(Q,K)},onDeqd:function(J,Q){for(var K=0;K<J.onDequeues.length;K++){var U=J.onDequeues[K];U(Q)}},shouldRedraw:function(J,Q,K,U){for(var X=0;X<Q.length;X++){var Y=Q[X].eles;for(var q=0;q<Y.length;q++){var W=Y[q].boundingBox();if(Ti(W,U))return!0}}return!1},priority:function(J){return J.renderer.beforeRenderPriorities.eleTxrDeq}});HQ=zN0.prototype,YR8=Math.pow(2,53)-1;HQ.makeLayer=function(Z,J){var Q=Math.pow(2,J),K=Math.ceil(Z.w*Q),U=Math.ceil(Z.h*Q),X=this.renderer.makeOffscreenCanvas(K,U),Y={id:PI0=++PI0%YR8,bb:Z,level:J,width:K,height:U,canvas:X,context:X.getContext("2d"),eles:[],elesQueue:[],reqs:0},q=Y.context,W=-Y.bb.x1,G=-Y.bb.y1;return q.scale(Q,Q),q.translate(W,G),Y};HQ.getLayers=function(Z,J,Q){var K=this,U=K.renderer,X=U.cy,Y=X.zoom(),q=K.firstGet;if(K.firstGet=!1,Q==null){if(Q=Math.ceil(ji(Y*J)),Q<qD)Q=qD;else if(Y>=aO8||Q>kS)return null}K.validateLayersElesOrdering(Q,Z);var W=K.layersByLevel,G=Math.pow(2,Q),z=W[Q]=W[Q]||[],H,F=K.levelIsComplete(Q,Z),M,B=function(){var k=function(_){if(K.validateLayersElesOrdering(_,Z),K.levelIsComplete(_,Z))return M=W[_],!0},w=function(_){if(M)return;for(var v=Q+_;qD<=v&&v<=kS;v+=_)if(k(v))break};w(1),w(-1);for(var P=z.length-1;P>=0;P--){var S=z[P];if(S.invalid)Iq(z,S)}};if(!F)B();else return z;var O=function(){if(!H){H=X6();for(var k=0;k<Z.length;k++)KF8(H,Z[k].boundingBox())}return H},R=function(k){k=k||{};var w=k.after;O();var P=Math.ceil(H.w*G),S=Math.ceil(H.h*G);if(P>VI0||S>VI0)return null;var T=P*S;if(T>UR8)return null;var _=K.makeLayer(H,Q);if(w!=null){var v=z.indexOf(w)+1;z.splice(v,0,_)}else if(k.insert===void 0||k.insert)z.unshift(_);return _};if(K.skipping&&!q)return null;var L=null,D=Z.length/nO8,A=!q;for(var V=0;V<Z.length;V++){var N=Z[V],E=N._private.rscratch,C=E.imgLayerCaches=E.imgLayerCaches||{},j=C[Q];if(j){L=j;continue}if(!L||L.eles.length>=D||!UA0(L.bb,N.boundingBox())){if(L=R({insert:!0,after:L}),!L)return null}if(M||A)K.queueLayer(L,N);else K.drawEleInLayer(L,N,Q,J);L.eles.push(N),C[Q]=L}if(M)return M;if(A)return null;return z};HQ.getEleLevelForLayerLevel=function(Z,J){return Z};HQ.drawEleInLayer=function(Z,J,Q,K){var U=this,X=this.renderer,Y=Z.context,q=J.boundingBox();if(q.w===0||q.h===0||!J.visible())return;Q=U.getEleLevelForLayerLevel(Q,K),X.setImgSmoothing(Y,!1),X.drawCachedElement(Y,J,null,null,Q,XR8),X.setImgSmoothing(Y,!0)};HQ.levelIsComplete=function(Z,J){var Q=this,K=Q.layersByLevel[Z];if(!K||K.length===0)return!1;var U=0;for(var X=0;X<K.length;X++){var Y=K[X];if(Y.reqs>0)return!1;if(Y.invalid)return!1;U+=Y.eles.length}if(U!==J.length)return!1;return!0};HQ.validateLayersElesOrdering=function(Z,J){var Q=this.layersByLevel[Z];if(!Q)return;for(var K=0;K<Q.length;K++){var U=Q[K],X=-1;for(var Y=0;Y<J.length;Y++)if(U.eles[0]===J[Y]){X=Y;break}if(X<0){this.invalidateLayer(U);continue}var q=X;for(var Y=0;Y<U.eles.length;Y++)if(U.eles[Y]!==J[q+Y]){this.invalidateLayer(U);break}}};HQ.updateElementsInLayers=function(Z,J){var Q=this,K=AD(Z[0]);for(var U=0;U<Z.length;U++){var X=K?null:Z[U],Y=K?Z[U]:Z[U].ele,q=Y._private.rscratch,W=q.imgLayerCaches=q.imgLayerCaches||{};for(var G=qD;G<=kS;G++){var z=W[G];if(!z)continue;if(X&&Q.getEleLevelForLayerLevel(z.level)!==X.level)continue;J(z,Y,X)}}};HQ.haveLayers=function(){var Z=this,J=!1;for(var Q=qD;Q<=kS;Q++){var K=Z.layersByLevel[Q];if(K&&K.length>0){J=!0;break}}return J};HQ.invalidateElements=function(Z){var J=this;if(Z.length===0)return;if(J.lastInvalidationTime=RY(),Z.length===0||!J.haveLayers())return;J.updateElementsInLayers(Z,function(K,U,X){J.invalidateLayer(K)})};HQ.invalidateLayer=function(Z){if(this.lastInvalidationTime=RY(),Z.invalid)return;var{level:J,eles:Q}=Z,K=this.layersByLevel[J];if(Iq(K,Z),Z.elesQueue=[],Z.invalid=!0,Z.replacement)Z.replacement.invalid=!0;for(var U=0;U<Q.length;U++){var X=Q[U]._private.rscratch.imgLayerCaches;if(X)X[J]=null}};HQ.refineElementTextures=function(Z){var J=this;J.updateElementsInLayers(Z,function(K,U,X){var Y=K.replacement;if(!Y)Y=K.replacement=J.makeLayer(K.bb,K.level),Y.replaces=K,Y.eles=K.eles;if(!Y.reqs)for(var q=0;q<Y.eles.length;q++)J.queueLayer(Y,Y.eles[q])})};HQ.enqueueElementRefinement=function(Z){this.eleTxrDeqs.merge(Z),this.scheduleElementRefinement()};HQ.queueLayer=function(Z,J){var Q=this,K=Q.layersQueue,U=Z.elesQueue,X=U.hasId=U.hasId||{};if(Z.replacement)return;if(J){if(X[J.id()])return;U.push(J),X[J.id()]=!0}if(Z.reqs)Z.reqs++,K.updateItem(Z);else Z.reqs=1,K.push(Z)};HQ.dequeue=function(Z){var J=this,Q=J.layersQueue,K=[],U=0;while(U<KR8){if(Q.size()===0)break;var X=Q.peek();if(X.replacement){Q.pop();continue}if(X.replaces&&X!==X.replaces.replacement){Q.pop();continue}if(X.invalid){Q.pop();continue}var Y=X.elesQueue.shift();if(Y)J.drawEleInLayer(X,Y,X.level,Z),U++;if(K.length===0)K.push(!0);if(X.elesQueue.length===0){if(Q.pop(),X.reqs=0,X.replaces)J.applyLayerReplacement(X);J.requestRedraw()}}return K};HQ.applyLayerReplacement=function(Z){var J=this,Q=J.layersByLevel[Z.level],K=Z.replaces,U=Q.indexOf(K);if(U<0||K.invalid)return;Q[U]=Z;for(var X=0;X<Z.eles.length;X++){var Y=Z.eles[X]._private,q=Y.imgLayerCaches=Y.imgLayerCaches||{};if(q)q[Z.level]=Z}J.requestRedraw()};HQ.requestRedraw=PD(function(){var Z=this.renderer;Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),Z.redraw()},100);HQ.setupDequeueing=WN0.setupDequeueing({deqRedrawThreshold:oO8,deqCost:eO8,deqAvgCost:ZR8,deqNoDrawCost:JR8,deqFastCost:QR8,deq:function(J,Q){return J.dequeue(Q)},onDeqd:Pi,shouldRedraw:tI0,priority:function(J){return J.renderer.beforeRenderPriorities.lyrTxrDeq}});HN0={};HN0.arrowShapeImpl=function(Z){return(CI0||(CI0={polygon:qR8,"triangle-backcurve":WR8,"triangle-tee":jI0,"circle-triangle":GR8,"triangle-cross":jI0,circle:zR8}))[Z]};cU={};cU.drawElement=function(Z,J,Q,K,U,X){var Y=this;if(J.isNode())Y.drawNode(Z,J,Q,K,U,X);else Y.drawEdge(Z,J,Q,K,U,X)};cU.drawElementOverlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeOverlay(Z,J);else Q.drawEdgeOverlay(Z,J)};cU.drawElementUnderlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeUnderlay(Z,J);else Q.drawEdgeUnderlay(Z,J)};cU.drawCachedElementPortion=function(Z,J,Q,K,U,X,Y,q){var W=this,G=Q.getBoundingBox(J);if(G.w===0||G.h===0)return;var z=Q.getElement(J,G,K,U,X);if(z!=null){var H=q(W,J);if(H===0)return;var F=Y(W,J),M=G.x1,B=G.y1,O=G.w,R=G.h,L,D,A,V,N;if(F!==0){var E=Q.getRotationPoint(J);if(A=E.x,V=E.y,Z.translate(A,V),Z.rotate(F),N=W.getImgSmoothing(Z),!N)W.setImgSmoothing(Z,!0);var C=Q.getRotationOffset(J);L=C.x,D=C.y}else L=M,D=B;var j;if(H!==1)j=Z.globalAlpha,Z.globalAlpha=j*H;if(Z.drawImage(z.texture.canvas,z.x,0,z.width,z.height,L,D,O,R),H!==1)Z.globalAlpha=j;if(F!==0){if(Z.rotate(-F),Z.translate(-A,-V),!N)W.setImgSmoothing(Z,!1)}}else Q.drawElement(Z,J)};cU.drawCachedElement=function(Z,J,Q,K,U,X){var Y=this,q=Y.data,W=q.eleTxrCache,G=q.lblTxrCache,z=q.slbTxrCache,H=q.tlbTxrCache,F=J.boundingBox(),M=X===!0?W.reasons.highQuality:null;if(F.w===0||F.h===0||!J.visible())return;if(!K||Ti(F,K)){var B=J.isEdge(),O=J.element()._private.rscratch.badLine;if(Y.drawElementUnderlay(Z,J),Y.drawCachedElementPortion(Z,J,W,Q,U,M,HR8,OR8),!B||!O)Y.drawCachedElementPortion(Z,J,G,Q,U,M,FR8,id);if(B&&!O)Y.drawCachedElementPortion(Z,J,z,Q,U,M,MR8,id),Y.drawCachedElementPortion(Z,J,H,Q,U,M,BR8,id);Y.drawElementOverlay(Z,J)}};cU.drawElements=function(Z,J){var Q=this;for(var K=0;K<J.length;K++){var U=J[K];Q.drawElement(Z,U)}};cU.drawCachedElements=function(Z,J,Q,K){var U=this;for(var X=0;X<J.length;X++){var Y=J[X];U.drawCachedElement(Z,Y,Q,K)}};cU.drawCachedNodes=function(Z,J,Q,K){var U=this;for(var X=0;X<J.length;X++){var Y=J[X];if(!Y.isNode())continue;U.drawCachedElement(Z,Y,Q,K)}};cU.drawLayeredElements=function(Z,J,Q,K){var U=this,X=U.data.lyrTxrCache.getLayers(J,Q);if(X)for(var Y=0;Y<X.length;Y++){var q=X[Y],W=q.bb;if(W.w===0||W.h===0)continue;Z.drawImage(q.canvas,W.x1,W.y1,W.w,W.h)}else U.drawCachedElements(Z,J,Q,K)};IY={};IY.drawEdge=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q=J._private.rscratch;if(X&&!J.visible())return;if(q.badLine||q.allpts==null||isNaN(q.allpts[0]))return;var W;if(Q)W=Q,Z.translate(-W.x1,-W.y1);var G=X?J.pstyle("opacity").value:1,z=X?J.pstyle("line-opacity").value:1,H=J.pstyle("curve-style").value,F=J.pstyle("line-style").value,M=J.pstyle("width").pfValue,B=J.pstyle("line-cap").value,O=J.pstyle("line-outline-width").value,R=J.pstyle("line-outline-color").value,L=G*z,D=G*z,A=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;if(H==="straight-triangle")Y.eleStrokeStyle(Z,J,_),Y.drawEdgeTrianglePath(J,Z,q.allpts);else Z.lineWidth=M,Z.lineCap=B,Y.eleStrokeStyle(Z,J,_),Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},V=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;if(Z.lineWidth=M+O,Z.lineCap=B,O>0)Y.colorStrokeStyle(Z,R[0],R[1],R[2],_);else{Z.lineCap="butt";return}if(H==="straight-triangle")Y.drawEdgeTrianglePath(J,Z,q.allpts);else Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},N=function(){if(!U)return;Y.drawEdgeOverlay(Z,J)},E=function(){if(!U)return;Y.drawEdgeUnderlay(Z,J)},C=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;Y.drawArrowheads(Z,J,_)},j=function(){Y.drawElementText(Z,J,null,K)};Z.lineJoin="round";var $=J.pstyle("ghost").value==="yes";if($){var k=J.pstyle("ghost-offset-x").pfValue,w=J.pstyle("ghost-offset-y").pfValue,P=J.pstyle("ghost-opacity").value,S=L*P;Z.translate(k,w),A(S),C(S),Z.translate(-k,-w)}else V();if(E(),A(),C(),N(),j(),Q)Z.translate(W.x1,W.y1)};IY.drawEdgeOverlay=FN0("overlay");IY.drawEdgeUnderlay=FN0("underlay");IY.drawEdgePath=function(Z,J,Q,K){var U=Z._private.rscratch,X=J,Y,q=!1,W=this.usePaths(),G=Z.pstyle("line-dash-pattern").pfValue,z=Z.pstyle("line-dash-offset").pfValue;if(W){var H=Q.join("$"),F=U.pathCacheKey&&U.pathCacheKey===H;if(F)Y=J=U.pathCache,q=!0;else Y=J=new Path2D,U.pathCacheKey=H,U.pathCache=Y}if(X.setLineDash)switch(K){case"dotted":X.setLineDash([1,1]);break;case"dashed":X.setLineDash(G),X.lineDashOffset=z;break;case"solid":X.setLineDash([]);break}if(!q&&!U.badLine){if(J.beginPath)J.beginPath();switch(J.moveTo(Q[0],Q[1]),U.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<Q.length;M+=4)J.quadraticCurveTo(Q[M],Q[M+1],Q[M+2],Q[M+3]);break;case"straight":case"haystack":for(var B=2;B+1<Q.length;B+=2)J.lineTo(Q[B],Q[B+1]);break;case"segments":if(U.isRound){var O=a6(U.roundCorners),R;try{for(O.s();!(R=O.n()).done;){var L=R.value;ZN0(J,L)}}catch(A){O.e(A)}finally{O.f()}J.lineTo(Q[Q.length-2],Q[Q.length-1])}else for(var D=2;D+1<Q.length;D+=2)J.lineTo(Q[D],Q[D+1]);break}}if(J=X,W)J.stroke(Y);else J.stroke();if(J.setLineDash)J.setLineDash([])};IY.drawEdgeTrianglePath=function(Z,J,Q){J.fillStyle=J.strokeStyle;var K=Z.pstyle("width").pfValue;for(var U=0;U+1<Q.length;U+=2){var X=[Q[U+2]-Q[U],Q[U+3]-Q[U+1]],Y=Math.sqrt(X[0]*X[0]+X[1]*X[1]),q=[X[1]/Y,-X[0]/Y],W=[q[0]*K/2,q[1]*K/2];J.beginPath(),J.moveTo(Q[U]-W[0],Q[U+1]-W[1]),J.lineTo(Q[U]+W[0],Q[U+1]+W[1]),J.lineTo(Q[U+2],Q[U+3]),J.closePath(),J.fill()}};IY.drawArrowheads=function(Z,J,Q){var K=J._private.rscratch,U=K.edgeType==="haystack";if(!U)this.drawArrowhead(Z,J,"source",K.arrowStartX,K.arrowStartY,K.srcArrowAngle,Q);if(this.drawArrowhead(Z,J,"mid-target",K.midX,K.midY,K.midtgtArrowAngle,Q),this.drawArrowhead(Z,J,"mid-source",K.midX,K.midY,K.midsrcArrowAngle,Q),!U)this.drawArrowhead(Z,J,"target",K.arrowEndX,K.arrowEndY,K.tgtArrowAngle,Q)};IY.drawArrowhead=function(Z,J,Q,K,U,X,Y){if(isNaN(K)||K==null||isNaN(U)||U==null||isNaN(X)||X==null)return;var q=this,W=J.pstyle(Q+"-arrow-shape").value;if(W==="none")return;var G=J.pstyle(Q+"-arrow-fill").value==="hollow"?"both":"filled",z=J.pstyle(Q+"-arrow-fill").value,H=J.pstyle("width").pfValue,F=J.pstyle(Q+"-arrow-width"),M=F.value==="match-line"?H:F.pfValue;if(F.units==="%")M*=H;var B=J.pstyle("opacity").value;if(Y===void 0)Y=B;var O=Z.globalCompositeOperation;if(Y!==1||z==="hollow")Z.globalCompositeOperation="destination-out",q.colorFillStyle(Z,255,255,255,1),q.colorStrokeStyle(Z,255,255,255,1),q.drawArrowShape(J,Z,G,H,W,M,K,U,X),Z.globalCompositeOperation=O;var R=J.pstyle(Q+"-arrow-color").value;q.colorFillStyle(Z,R[0],R[1],R[2],Y),q.colorStrokeStyle(Z,R[0],R[1],R[2],Y),q.drawArrowShape(J,Z,z,H,W,M,K,U,X)};IY.drawArrowShape=function(Z,J,Q,K,U,X,Y,q,W){var G=this,z=this.usePaths()&&U!=="triangle-cross",H=!1,F,M=J,B={x:Y,y:q},O=Z.pstyle("arrow-scale").value,R=this.getArrowWidth(K,O),L=G.arrowShapes[U];if(z){var D=G.arrowPathCache=G.arrowPathCache||[],A=Yz(U),V=D[A];if(V!=null)F=J=V,H=!0;else F=J=new Path2D,D[A]=F}if(!H){if(J.beginPath)J.beginPath();if(z)L.draw(J,1,0,{x:0,y:0},1);else L.draw(J,R,W,B,K);if(J.closePath)J.closePath()}if(J=M,z)J.translate(Y,q),J.rotate(W),J.scale(R,R);if(Q==="filled"||Q==="both")if(z)J.fill(F);else J.fill();if(Q==="hollow"||Q==="both")if(J.lineWidth=X/(z?R:1),J.lineJoin="miter",z)J.stroke(F);else J.stroke();if(z)J.scale(1/R,1/R),J.rotate(-W),J.translate(-Y,-q)};ci={};ci.safeDrawImage=function(Z,J,Q,K,U,X,Y,q,W,G){if(U<=0||X<=0||W<=0||G<=0)return;try{Z.drawImage(J,Q,K,U,X,Y,q,W,G)}catch(z){j9(z)}};ci.drawInscribedImage=function(Z,J,Q,K,U){var X=this,Y=Q.position(),q=Y.x,W=Y.y,G=Q.cy().style(),z=G.getIndexedStyle.bind(G),H=z(Q,"background-fit","value",K),F=z(Q,"background-repeat","value",K),M=Q.width(),B=Q.height(),O=Q.padding()*2,R=M+(z(Q,"background-width-relative-to","value",K)==="inner"?0:O),L=B+(z(Q,"background-height-relative-to","value",K)==="inner"?0:O),D=Q._private.rscratch,A=z(Q,"background-clip","value",K),V=A==="node",N=z(Q,"background-image-opacity","value",K)*U,E=z(Q,"background-image-smoothing","value",K),C=Q.pstyle("corner-radius").value;if(C!=="auto")C=Q.pstyle("corner-radius").pfValue;var j=J.width||J.cachedW,$=J.height||J.cachedH;if(j==null||$==null)document.body.appendChild(J),j=J.cachedW=J.width||J.offsetWidth,$=J.cachedH=J.height||J.offsetHeight,document.body.removeChild(J);var k=j,w=$;if(z(Q,"background-width","value",K)!=="auto")if(z(Q,"background-width","units",K)==="%")k=z(Q,"background-width","pfValue",K)*R;else k=z(Q,"background-width","pfValue",K);if(z(Q,"background-height","value",K)!=="auto")if(z(Q,"background-height","units",K)==="%")w=z(Q,"background-height","pfValue",K)*L;else w=z(Q,"background-height","pfValue",K);if(k===0||w===0)return;if(H==="contain"){var P=Math.min(R/k,L/w);k*=P,w*=P}else if(H==="cover"){var P=Math.max(R/k,L/w);k*=P,w*=P}var S=q-R/2,T=z(Q,"background-position-x","units",K),_=z(Q,"background-position-x","pfValue",K);if(T==="%")S+=(R-k)*_;else S+=_;var v=z(Q,"background-offset-x","units",K),x=z(Q,"background-offset-x","pfValue",K);if(v==="%")S+=(R-k)*x;else S+=x;var b=W-L/2,y=z(Q,"background-position-y","units",K),u=z(Q,"background-position-y","pfValue",K);if(y==="%")b+=(L-w)*u;else b+=u;var h=z(Q,"background-offset-y","units",K),p=z(Q,"background-offset-y","pfValue",K);if(h==="%")b+=(L-w)*p;else b+=p;if(D.pathCache)S-=q,b-=W,q=0,W=0;var r=Z.globalAlpha;Z.globalAlpha=N;var t=X.getImgSmoothing(Z),d=!1;if(E==="no"&&t)X.setImgSmoothing(Z,!1),d=!0;else if(E==="yes"&&!t)X.setImgSmoothing(Z,!0),d=!0;if(F==="no-repeat"){if(V)if(Z.save(),D.pathCache)Z.clip(D.pathCache);else X.nodeShapes[X.getNodeShape(Q)].draw(Z,q,W,R,L,C,D),Z.clip();if(X.safeDrawImage(Z,J,0,0,j,$,S,b,k,w),V)Z.restore()}else{var X0=Z.createPattern(J,F);Z.fillStyle=X0,X.nodeShapes[X.getNodeShape(Q)].draw(Z,q,W,R,L,C,D),Z.translate(S,b),Z.fill(),Z.translate(-S,-b)}if(Z.globalAlpha=r,d)X.setImgSmoothing(Z,t)};Fz={};Fz.eleTextBiggerThanMin=function(Z,J){if(!J){var Q=Z.cy().zoom(),K=this.getPixelRatio(),U=Math.ceil(ji(Q*K));J=Math.pow(2,U)}var X=Z.pstyle("font-size").pfValue*J,Y=Z.pstyle("min-zoomed-font-size").pfValue;if(X<Y)return!1;return!0};Fz.drawElementText=function(Z,J,Q,K,U){var X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this;if(K==null){if(X&&!Y.eleTextBiggerThanMin(J))return}else if(K===!1)return;if(J.isNode()){var q=J.pstyle("label");if(!q||!q.value)return;var W=Y.getLabelJustification(J);Z.textAlign=W,Z.textBaseline="bottom"}else{var G=J.element()._private.rscratch.badLine,z=J.pstyle("label"),H=J.pstyle("source-label"),F=J.pstyle("target-label");if(G||(!z||!z.value)&&(!H||!H.value)&&(!F||!F.value))return;Z.textAlign="center",Z.textBaseline="bottom"}var M=!Q,B;if(Q)B=Q,Z.translate(-B.x1,-B.y1);if(U==null){if(Y.drawText(Z,J,null,M,X),J.isEdge())Y.drawText(Z,J,"source",M,X),Y.drawText(Z,J,"target",M,X)}else Y.drawText(Z,J,U,M,X);if(Q)Z.translate(B.x1,B.y1)};Fz.getFontCache=function(Z){var J;this.fontCaches=this.fontCaches||[];for(var Q=0;Q<this.fontCaches.length;Q++)if(J=this.fontCaches[Q],J.context===Z)return J;return J={context:Z},this.fontCaches.push(J),J};Fz.setupTextStyle=function(Z,J){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=J.pstyle("font-style").strValue,U=J.pstyle("font-size").pfValue+"px",X=J.pstyle("font-family").strValue,Y=J.pstyle("font-weight").strValue,q=Q?J.effectiveOpacity()*J.pstyle("text-opacity").value:1,W=J.pstyle("text-outline-opacity").value*q,G=J.pstyle("color").value,z=J.pstyle("text-outline-color").value;Z.font=K+" "+Y+" "+U+" "+X,Z.lineJoin="round",this.colorFillStyle(Z,G[0],G[1],G[2],q),this.colorStrokeStyle(Z,z[0],z[1],z[2],W)};Fz.getTextAngle=function(Z,J){var Q,K=Z._private,U=K.rscratch,X=J?J+"-":"",Y=Z.pstyle(X+"text-rotation");if(Y.strValue==="autorotate"){var q=r6(U,"labelAngle",J);Q=Z.isEdge()?q:0}else if(Y.strValue==="none")Q=0;else Q=Y.pfValue;return Q};Fz.drawText=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,X=J._private,Y=X.rscratch,q=U?J.effectiveOpacity():1;if(U&&(q===0||J.pstyle("text-opacity").value===0))return;if(Q==="main")Q=null;var W=r6(Y,"labelX",Q),G=r6(Y,"labelY",Q),z,H,F=this.getLabelText(J,Q);if(F!=null&&F!==""&&!isNaN(W)&&!isNaN(G)){this.setupTextStyle(Z,J,U);var M=Q?Q+"-":"",B=r6(Y,"labelWidth",Q),O=r6(Y,"labelHeight",Q),R=J.pstyle(M+"text-margin-x").pfValue,L=J.pstyle(M+"text-margin-y").pfValue,D=J.isEdge(),A=J.pstyle("text-halign").value,V=J.pstyle("text-valign").value;if(D)A="center",V="center";W+=R,G+=L;var N;if(!K)N=0;else N=this.getTextAngle(J,Q);if(N!==0)z=W,H=G,Z.translate(z,H),Z.rotate(N),W=0,G=0;switch(V){case"top":break;case"center":G+=O/2;break;case"bottom":G+=O;break}var E=J.pstyle("text-background-opacity").value,C=J.pstyle("text-border-opacity").value,j=J.pstyle("text-border-width").pfValue,$=J.pstyle("text-background-padding").pfValue,k=J.pstyle("text-background-shape").strValue,w=k==="round-rectangle"||k==="roundrectangle",P=k==="circle",S=2;if(E>0||j>0&&C>0){var{fillStyle:T,strokeStyle:_,lineWidth:v}=Z,x=J.pstyle("text-background-color").value,b=J.pstyle("text-border-color").value,y=J.pstyle("text-border-style").value,u=E>0,h=j>0&&C>0,p=W-$;switch(A){case"left":p-=B;break;case"center":p-=B/2;break}var r=G-O-$,t=B+2*$,d=O+2*$;if(u)Z.fillStyle="rgba(".concat(x[0],",").concat(x[1],",").concat(x[2],",").concat(E*q,")");if(h){if(Z.strokeStyle="rgba(".concat(b[0],",").concat(b[1],",").concat(b[2],",").concat(C*q,")"),Z.lineWidth=j,Z.setLineDash)switch(y){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"double":Z.lineWidth=j/4,Z.setLineDash([]);break;case"solid":default:Z.setLineDash([]);break}}if(w)Z.beginPath(),SI0(Z,p,r,t,d,S);else if(P)Z.beginPath(),RR8(Z,p,r,t,d);else Z.beginPath(),Z.rect(p,r,t,d);if(u)Z.fill();if(h)Z.stroke();if(h&&y==="double"){var X0=j/2;if(Z.beginPath(),w)SI0(Z,p+X0,r+X0,t-2*X0,d-2*X0,S);else Z.rect(p+X0,r+X0,t-2*X0,d-2*X0);Z.stroke()}if(Z.fillStyle=T,Z.strokeStyle=_,Z.lineWidth=v,Z.setLineDash)Z.setLineDash([])}var a=2*J.pstyle("text-outline-width").pfValue;if(a>0)Z.lineWidth=a;if(J.pstyle("text-wrap").value==="wrap"){var z0=r6(Y,"labelWrapCachedLines",Q),J0=r6(Y,"labelLineHeight",Q),Q0=B/2,e=this.getLabelJustification(J);if(e==="auto");else if(A==="left"){if(e==="left")W+=-B;else if(e==="center")W+=-Q0}else if(A==="center"){if(e==="left")W+=-Q0;else if(e==="right")W+=Q0}else if(A==="right"){if(e==="center")W+=Q0;else if(e==="right")W+=B}switch(V){case"top":G-=(z0.length-1)*J0;break;case"center":case"bottom":G-=(z0.length-1)*J0;break}for(var n=0;n<z0.length;n++){if(a>0)Z.strokeText(z0[n],W,G);Z.fillText(z0[n],W,G),G+=J0}}else{if(a>0)Z.strokeText(F,W,G);Z.fillText(F,W,G)}if(N!==0)Z.rotate(-N),Z.translate(-z,-H)}};Sq={};Sq.drawNode=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q,W,G=J._private,z=G.rscratch,H=J.position();if(!k8(H.x)||!k8(H.y))return;if(X&&!J.visible())return;var F=X?J.effectiveOpacity():1,M=Y.usePaths(),B,O=!1,R=J.padding();q=J.width()+2*R,W=J.height()+2*R;var L;if(Q)L=Q,Z.translate(-L.x1,-L.y1);var D=J.pstyle("background-image"),A=D.value,V=Array(A.length),N=Array(A.length),E=0;for(var C=0;C<A.length;C++){var j=A[C],$=V[C]=j!=null&&j!=="none";if($){var k=J.cy().style().getIndexedStyle(J,"background-image-crossorigin","value",C);E++,N[C]=Y.getCachedImage(j,k,function(){G.backgroundTimestamp=Date.now(),J.emitAndNotify("background")})}}var w=J.pstyle("background-blacken").value,P=J.pstyle("border-width").pfValue,S=J.pstyle("background-opacity").value*F,T=J.pstyle("border-color").value,_=J.pstyle("border-style").value,v=J.pstyle("border-join").value,x=J.pstyle("border-cap").value,b=J.pstyle("border-position").value,y=J.pstyle("border-dash-pattern").pfValue,u=J.pstyle("border-dash-offset").pfValue,h=J.pstyle("border-opacity").value*F,p=J.pstyle("outline-width").pfValue,r=J.pstyle("outline-color").value,t=J.pstyle("outline-style").value,d=J.pstyle("outline-opacity").value*F,X0=J.pstyle("outline-offset").value,a=J.pstyle("corner-radius").value;if(a!=="auto")a=J.pstyle("corner-radius").pfValue;var z0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;Y.eleFillStyle(Z,J,s)},J0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;Y.colorStrokeStyle(Z,T[0],T[1],T[2],s)},Q0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d;Y.colorStrokeStyle(Z,r[0],r[1],r[2],s)},e=function(s,H0,m,q0){var W0=Y.nodePathCache=Y.nodePathCache||[],N0=oI0(m==="polygon"?m+","+q0.join(","):m,""+H0,""+s,""+a),D0=W0[N0],L0,_0=!1;if(D0!=null)L0=D0,_0=!0,z.pathCache=L0;else L0=new Path2D,W0[N0]=z.pathCache=L0;return{path:L0,cacheHit:_0}},n=J.pstyle("shape").strValue,Y0=J.pstyle("shape-polygon-points").pfValue;if(M){Z.translate(H.x,H.y);var o=e(q,W,n,Y0);B=o.path,O=o.cacheHit}var M0=function(){if(!O){var s=H;if(M)s={x:0,y:0};Y.nodeShapes[Y.getNodeShape(J)].draw(B||Z,s.x,s.y,q,W,a,z)}if(M)Z.fill(B);else Z.fill()},K0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=G.backgrounding,q0=0;for(var W0=0;W0<N.length;W0++){var N0=J.cy().style().getIndexedStyle(J,"background-image-containment","value",W0);if(H0&&N0==="over"||!H0&&N0==="inside"){q0++;continue}if(V[W0]&&N[W0].complete&&!N[W0].error)q0++,Y.drawInscribedImage(Z,N[W0],J,W0,s)}if(G.backgrounding=q0!==E,m!==G.backgrounding)J.updateStyle(!1)},V0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;if(Y.hasPie(J)){if(Y.drawPie(Z,J,H0),s){if(!M)Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z)}}},i=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;if(Y.hasStripe(J)){if(Z.save(),M)Z.clip(z.pathCache);else Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z),Z.clip();if(Y.drawStripe(Z,J,H0),Z.restore(),s){if(!M)Y.nodeShapes[Y.getNodeShape(J)].draw(Z,H.x,H.y,q,W,a,z)}}},p0=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,H0=(w>0?w:-w)*s,m=w>0?0:255;if(w!==0)if(Y.colorFillStyle(Z,m,m,m,H0),M)Z.fill(B);else Z.fill()},B0=function(){if(P>0){if(Z.lineWidth=P,Z.lineCap=x,Z.lineJoin=v,Z.setLineDash)switch(_){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash(y),Z.lineDashOffset=u;break;case"solid":case"double":Z.setLineDash([]);break}if(b!=="center"){if(Z.save(),Z.lineWidth*=2,b==="inside")M?Z.clip(B):Z.clip();else{var s=new Path2D;s.rect(-q/2-P,-W/2-P,q+2*P,W+2*P),s.addPath(B),Z.clip(s,"evenodd")}M?Z.stroke(B):Z.stroke(),Z.restore()}else M?Z.stroke(B):Z.stroke();if(_==="double"){Z.lineWidth=P/3;var H0=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(B);else Z.stroke();Z.globalCompositeOperation=H0}if(Z.setLineDash)Z.setLineDash([])}},h0=function(){if(p>0){if(Z.lineWidth=p,Z.lineCap="butt",Z.setLineDash)switch(t){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"solid":case"double":Z.setLineDash([]);break}var s=H;if(M)s={x:0,y:0};var H0=Y.getNodeShape(J),m=P;if(b==="inside")m=0;if(b==="outside")m*=2;var q0=(q+m+(p+X0))/q,W0=(W+m+(p+X0))/W,N0=q*q0,D0=W*W0,L0=Y.nodeShapes[H0].points,_0;if(M){var T0=e(N0,D0,H0,L0);_0=T0.path}if(H0==="ellipse")Y.drawEllipsePath(_0||Z,s.x,s.y,N0,D0);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(H0)){var u0=0,Z8=0,B8=0;if(H0==="round-diamond")u0=(m+X0+p)*1.4;else if(H0==="round-heptagon")u0=(m+X0+p)*1.075,B8=-(m/2+X0+p)/35;else if(H0==="round-hexagon")u0=(m+X0+p)*1.12;else if(H0==="round-pentagon")u0=(m+X0+p)*1.13,B8=-(m/2+X0+p)/15;else if(H0==="round-tag")u0=(m+X0+p)*1.12,Z8=(m/2+p+X0)*0.07;else if(H0==="round-triangle")u0=(m+X0+p)*(Math.PI/2),B8=-(m+X0/2+p)/Math.PI;if(u0!==0){if(q0=(q+u0)/q,N0=q*q0,!["round-hexagon","round-tag"].includes(H0))W0=(W+u0)/W,D0=W*W0}a=a==="auto"?qA0(N0,D0):a;var r0=N0/2,g0=D0/2,t0=a+(m+p+X0)/2,d0=Array(L0.length/2),X8=Array(L0.length/2);for(var g8=0;g8<L0.length/2;g8++)d0[g8]={x:s.x+Z8+r0*L0[g8*2],y:s.y+B8+g0*L0[g8*2+1]};var M8,$8,H8,G8,O8=d0.length;$8=d0[O8-1];for(M8=0;M8<O8;M8++)H8=d0[M8%O8],G8=d0[(M8+1)%O8],X8[M8]=gi($8,H8,G8,t0),$8=H8,H8=G8;Y.drawRoundPolygonPath(_0||Z,s.x+Z8,s.y+B8,q*q0,W*W0,L0,X8)}else if(["roundrectangle","round-rectangle"].includes(H0))a=a==="auto"?Aq(N0,D0):a,Y.drawRoundRectanglePath(_0||Z,s.x,s.y,N0,D0,a+(m+p+X0)/2);else if(["cutrectangle","cut-rectangle"].includes(H0))a=a==="auto"?wi():a,Y.drawCutRectanglePath(_0||Z,s.x,s.y,N0,D0,null,a+(m+p+X0)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(H0))a=a==="auto"?Aq(N0,D0):a,Y.drawBottomRoundRectanglePath(_0||Z,s.x,s.y,N0,D0,a+(m+p+X0)/2);else if(H0==="barrel")Y.drawBarrelPath(_0||Z,s.x,s.y,N0,D0);else if(H0.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(H0)){var L8=(m+p+X0)/q;L0=PS(CS(L0,L8)),Y.drawPolygonPath(_0||Z,s.x,s.y,q,W,L0)}else{var I8=(m+p+X0)/q;L0=PS(CS(L0,-I8)),Y.drawPolygonPath(_0||Z,s.x,s.y,q,W,L0)}if(M)Z.stroke(_0);else Z.stroke();if(t==="double"){Z.lineWidth=m/3;var F8=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(_0);else Z.stroke();Z.globalCompositeOperation=F8}if(Z.setLineDash)Z.setLineDash([])}},a0=function(){if(U)Y.drawNodeOverlay(Z,J,H,q,W)},s0=function(){if(U)Y.drawNodeUnderlay(Z,J,H,q,W)},$0=function(){Y.drawElementText(Z,J,null,K)},x0=J.pstyle("ghost").value==="yes";if(x0){var f0=J.pstyle("ghost-offset-x").pfValue,C0=J.pstyle("ghost-offset-y").pfValue,m0=J.pstyle("ghost-opacity").value,F0=m0*F;Z.translate(f0,C0),Q0(),h0(),z0(m0*S),M0(),K0(F0,!0),J0(m0*h),B0(),V0(w!==0||P!==0),i(w!==0||P!==0),K0(F0,!1),p0(F0),Z.translate(-f0,-C0)}if(M)Z.translate(-H.x,-H.y);if(s0(),M)Z.translate(H.x,H.y);if(Q0(),h0(),z0(),M0(),K0(F,!0),J0(),B0(),V0(w!==0||P!==0),i(w!==0||P!==0),K0(F,!1),p0(),M)Z.translate(-H.x,-H.y);if($0(),a0(),Q)Z.translate(L.x1,L.y1)};Sq.drawNodeOverlay=MN0("overlay");Sq.drawNodeUnderlay=MN0("underlay");Sq.hasPie=function(Z){return Z=Z[0],Z._private.hasPie};Sq.hasStripe=function(Z){return Z=Z[0],Z._private.hasStripe};Sq.drawPie=function(Z,J,Q,K){J=J[0],K=K||J.position();var U=J.cy().style(),X=J.pstyle("pie-size"),Y=J.pstyle("pie-hole"),q=J.pstyle("pie-start-angle").pfValue,W=K.x,G=K.y,z=J.width(),H=J.height(),F=Math.min(z,H)/2,M,B=0,O=this.usePaths();if(O)W=0,G=0;if(X.units==="%")F=F*X.pfValue;else if(X.pfValue!==void 0)F=X.pfValue/2;if(Y.units==="%")M=F*Y.pfValue;else if(Y.pfValue!==void 0)M=Y.pfValue/2;if(M>=F)return;for(var R=1;R<=U.pieBackgroundN;R++){var L=J.pstyle("pie-"+R+"-background-size").value,D=J.pstyle("pie-"+R+"-background-color").value,A=J.pstyle("pie-"+R+"-background-opacity").value*Q,V=L/100;if(V+B>1)V=1-B;var N=1.5*Math.PI+2*Math.PI*B;N+=q;var E=2*Math.PI*V,C=N+E;if(L===0||B>=1||B+V>1)continue;if(M===0)Z.beginPath(),Z.moveTo(W,G),Z.arc(W,G,F,N,C),Z.closePath();else Z.beginPath(),Z.arc(W,G,F,N,C),Z.arc(W,G,M,C,N,!0),Z.closePath();this.colorFillStyle(Z,D[0],D[1],D[2],A),Z.fill(),B+=V}};Sq.drawStripe=function(Z,J,Q,K){J=J[0],K=K||J.position();var U=J.cy().style(),X=K.x,Y=K.y,q=J.width(),W=J.height(),G=0,z=this.usePaths();Z.save();var H=J.pstyle("stripe-direction").value,F=J.pstyle("stripe-size");switch(H){case"vertical":break;case"righward":Z.rotate(-Math.PI/2);break}var M=q,B=W;if(F.units==="%")M=M*F.pfValue,B=B*F.pfValue;else if(F.pfValue!==void 0)M=F.pfValue,B=F.pfValue;if(z)X=0,Y=0;Y-=M/2,X-=B/2;for(var O=1;O<=U.stripeBackgroundN;O++){var R=J.pstyle("stripe-"+O+"-background-size").value,L=J.pstyle("stripe-"+O+"-background-color").value,D=J.pstyle("stripe-"+O+"-background-opacity").value*Q,A=R/100;if(A+G>1)A=1-G;if(R===0||G>=1||G+A>1)continue;Z.beginPath(),Z.rect(X,Y+B*G,M,B*A),Z.closePath(),this.colorFillStyle(Z,L[0],L[1],L[2],D),Z.fill(),G+=A}Z.restore()};Y6={};Y6.getPixelRatio=function(){var Z=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var J=this.cy.window(),Q=Z.backingStorePixelRatio||Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1;return(J.devicePixelRatio||1)/Q};Y6.paintCache=function(Z){var J=this.paintCaches=this.paintCaches||[],Q=!0,K;for(var U=0;U<J.length;U++)if(K=J[U],K.context===Z){Q=!1;break}if(Q)K={context:Z},J.push(K);return K};Y6.createGradientStyleFor=function(Z,J,Q,K,U){var X,Y=this.usePaths(),q=Q.pstyle(J+"-gradient-stop-colors").value,W=Q.pstyle(J+"-gradient-stop-positions").pfValue;if(K==="radial-gradient")if(Q.isEdge()){var G=Q.sourceEndpoint(),z=Q.targetEndpoint(),H=Q.midpoint(),F=qz(G,H),M=qz(z,H);X=Z.createRadialGradient(H.x,H.y,0,H.x,H.y,Math.max(F,M))}else{var B=Y?{x:0,y:0}:Q.position(),O=Q.paddedWidth(),R=Q.paddedHeight();X=Z.createRadialGradient(B.x,B.y,0,B.x,B.y,Math.max(O,R))}else if(Q.isEdge()){var L=Q.sourceEndpoint(),D=Q.targetEndpoint();X=Z.createLinearGradient(L.x,L.y,D.x,D.y)}else{var A=Y?{x:0,y:0}:Q.position(),V=Q.paddedWidth(),N=Q.paddedHeight(),E=V/2,C=N/2,j=Q.pstyle("background-gradient-direction").value;switch(j){case"to-bottom":X=Z.createLinearGradient(A.x,A.y-C,A.x,A.y+C);break;case"to-top":X=Z.createLinearGradient(A.x,A.y+C,A.x,A.y-C);break;case"to-left":X=Z.createLinearGradient(A.x+E,A.y,A.x-E,A.y);break;case"to-right":X=Z.createLinearGradient(A.x-E,A.y,A.x+E,A.y);break;case"to-bottom-right":case"to-right-bottom":X=Z.createLinearGradient(A.x-E,A.y-C,A.x+E,A.y+C);break;case"to-top-right":case"to-right-top":X=Z.createLinearGradient(A.x-E,A.y+C,A.x+E,A.y-C);break;case"to-bottom-left":case"to-left-bottom":X=Z.createLinearGradient(A.x+E,A.y-C,A.x-E,A.y+C);break;case"to-top-left":case"to-left-top":X=Z.createLinearGradient(A.x+E,A.y+C,A.x-E,A.y-C);break}}if(!X)return null;var $=W.length===q.length,k=q.length;for(var w=0;w<k;w++)X.addColorStop($?W[w]:w/(k-1),"rgba("+q[w][0]+","+q[w][1]+","+q[w][2]+","+U+")");return X};Y6.gradientFillStyle=function(Z,J,Q,K){var U=this.createGradientStyleFor(Z,"background",J,Q,K);if(!U)return null;Z.fillStyle=U};Y6.colorFillStyle=function(Z,J,Q,K,U){Z.fillStyle="rgba("+J+","+Q+","+K+","+U+")"};Y6.eleFillStyle=function(Z,J,Q){var K=J.pstyle("background-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientFillStyle(Z,J,K,Q);else{var U=J.pstyle("background-color").value;this.colorFillStyle(Z,U[0],U[1],U[2],Q)}};Y6.gradientStrokeStyle=function(Z,J,Q,K){var U=this.createGradientStyleFor(Z,"line",J,Q,K);if(!U)return null;Z.strokeStyle=U};Y6.colorStrokeStyle=function(Z,J,Q,K,U){Z.strokeStyle="rgba("+J+","+Q+","+K+","+U+")"};Y6.eleStrokeStyle=function(Z,J,Q){var K=J.pstyle("line-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientStrokeStyle(Z,J,K,Q);else{var U=J.pstyle("line-color").value;this.colorStrokeStyle(Z,U[0],U[1],U[2],Q)}};Y6.matchCanvasSize=function(Z){var J=this,Q=J.data,K=J.findContainerClientCoords(),U=K[2],X=K[3],Y=J.getPixelRatio(),q=J.motionBlurPxRatio;if(Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE]||Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG])Y=q;var W=U*Y,G=X*Y,z;if(W===J.canvasWidth&&G===J.canvasHeight)return;J.fontCaches=null;var H=Q.canvasContainer;H.style.width=U+"px",H.style.height=X+"px";for(var F=0;F<J.CANVAS_LAYERS;F++)z=Q.canvases[F],z.width=W,z.height=G,z.style.width=U+"px",z.style.height=X+"px";for(var F=0;F<J.BUFFER_COUNT;F++)z=Q.bufferCanvases[F],z.width=W,z.height=G,z.style.width=U+"px",z.style.height=X+"px";if(J.textureMult=1,Y<=1)z=Q.bufferCanvases[J.TEXTURE_BUFFER],J.textureMult=2,z.width=W*J.textureMult,z.height=G*J.textureMult;J.canvasWidth=W,J.canvasHeight=G,J.pixelRatio=Y};Y6.renderTo=function(Z,J,Q,K){this.render({forcedContext:Z,forcedZoom:J,forcedPan:Q,drawAllLayers:!0,forcedPxRatio:K})};Y6.clearCanvas=function(){var Z=this,J=Z.data;function Q(K){K.clearRect(0,0,Z.canvasWidth,Z.canvasHeight)}Q(J.contexts[Z.NODE]),Q(J.contexts[Z.DRAG])};Y6.render=function(Z){var J=this;Z=Z||JA0();var Q=J.cy,K=Z.forcedContext,U=Z.drawAllLayers,X=Z.drawOnlyNodeLayer,Y=Z.forcedZoom,q=Z.forcedPan,W=Z.forcedPxRatio===void 0?this.getPixelRatio():Z.forcedPxRatio,G=J.data,z=G.canvasNeedsRedraw,H=J.textureOnViewport&&!K&&(J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming),F=Z.motionBlur!==void 0?Z.motionBlur:J.motionBlur,M=J.motionBlurPxRatio,B=Q.hasCompoundNodes(),O=J.hoverData.draggingEles,R=J.hoverData.selecting||J.touchData.selecting?!0:!1;F=F&&!K&&J.motionBlurEnabled&&!R;var L=F;if(!K){if(J.prevPxRatio!==W)J.invalidateContainerClientCoordsCache(),J.matchCanvasSize(J.container),J.redrawHint("eles",!0),J.redrawHint("drag",!0);J.prevPxRatio=W}if(!K&&J.motionBlurTimeout)clearTimeout(J.motionBlurTimeout);if(F){if(J.mbFrames==null)J.mbFrames=0;if(J.mbFrames++,J.mbFrames<3)L=!1;if(J.mbFrames>J.minMbLowQualFrames)J.motionBlurPxRatio=J.mbPxRBlurry}if(J.clearingMotionBlur)J.motionBlurPxRatio=1;if(J.textureDrawLastFrame&&!H)z[J.NODE]=!0,z[J.SELECT_BOX]=!0;var D=Q.style(),A=Q.zoom(),V=Y!==void 0?Y:A,N=Q.pan(),E={x:N.x,y:N.y},C={zoom:A,pan:{x:N.x,y:N.y}},j=J.prevViewport,$=j===void 0||C.zoom!==j.zoom||C.pan.x!==j.pan.x||C.pan.y!==j.pan.y;if(!$&&!(O&&!B))J.motionBlurPxRatio=1;if(q)E=q;V*=W,E.x*=W,E.y*=W;var k=J.getCachedZSortedEles();function w(J0,Q0,e,n,Y0){var o=J0.globalCompositeOperation;J0.globalCompositeOperation="destination-out",J.colorFillStyle(J0,255,255,255,J.motionBlurTransparency),J0.fillRect(Q0,e,n,Y0),J0.globalCompositeOperation=o}function P(J0,Q0){var e,n,Y0,o;if(!J.clearingMotionBlur&&(J0===G.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]||J0===G.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]))e={x:N.x*M,y:N.y*M},n=A*M,Y0=J.canvasWidth*M,o=J.canvasHeight*M;else e=E,n=V,Y0=J.canvasWidth,o=J.canvasHeight;if(J0.setTransform(1,0,0,1,0,0),Q0==="motionBlur")w(J0,0,0,Y0,o);else if(!K&&(Q0===void 0||Q0))J0.clearRect(0,0,Y0,o);if(!U)J0.translate(e.x,e.y),J0.scale(n,n);if(q)J0.translate(q.x,q.y);if(Y)J0.scale(Y,Y)}if(!H)J.textureDrawLastFrame=!1;if(H){if(J.textureDrawLastFrame=!0,!J.textureCache){J.textureCache={},J.textureCache.bb=Q.mutableElements().boundingBox(),J.textureCache.texture=J.data.bufferCanvases[J.TEXTURE_BUFFER];var S=J.data.bufferContexts[J.TEXTURE_BUFFER];S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,J.canvasWidth*J.textureMult,J.canvasHeight*J.textureMult),J.render({forcedContext:S,drawOnlyNodeLayer:!0,forcedPxRatio:W*J.textureMult});var C=J.textureCache.viewport={zoom:Q.zoom(),pan:Q.pan(),width:J.canvasWidth,height:J.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}z[J.DRAG]=!1,z[J.NODE]=!1;var T=G.contexts[J.NODE],_=J.textureCache.texture,C=J.textureCache.viewport;if(T.setTransform(1,0,0,1,0,0),F)w(T,0,0,C.width,C.height);else T.clearRect(0,0,C.width,C.height);var v=D.core("outside-texture-bg-color").value,x=D.core("outside-texture-bg-opacity").value;J.colorFillStyle(T,v[0],v[1],v[2],x),T.fillRect(0,0,C.width,C.height);var A=Q.zoom();P(T,!1),T.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/W,C.height/C.zoom/W),T.drawImage(_,C.mpan.x,C.mpan.y,C.width/C.zoom/W,C.height/C.zoom/W)}else if(J.textureOnViewport&&!K)J.textureCache=null;var b=Q.extent(),y=J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming||J.hoverData.draggingEles||J.cy.animated(),u=J.hideEdgesOnViewport&&y,h=[];if(h[J.NODE]=!z[J.NODE]&&F&&!J.clearedForMotionBlur[J.NODE]||J.clearingMotionBlur,h[J.NODE])J.clearedForMotionBlur[J.NODE]=!0;if(h[J.DRAG]=!z[J.DRAG]&&F&&!J.clearedForMotionBlur[J.DRAG]||J.clearingMotionBlur,h[J.DRAG])J.clearedForMotionBlur[J.DRAG]=!0;if(z[J.NODE]||U||X||h[J.NODE]){var p=F&&!h[J.NODE]&&M!==1,T=K||(p?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]:G.contexts[J.NODE]),r=F&&!p?"motionBlur":void 0;if(P(T,r),u)J.drawCachedNodes(T,k.nondrag,W,b);else J.drawLayeredElements(T,k.nondrag,W,b);if(J.debug)J.drawDebugPoints(T,k.nondrag);if(!U&&!F)z[J.NODE]=!1}if(!X&&(z[J.DRAG]||U||h[J.DRAG])){var p=F&&!h[J.DRAG]&&M!==1,T=K||(p?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]:G.contexts[J.DRAG]);if(P(T,F&&!p?"motionBlur":void 0),u)J.drawCachedNodes(T,k.drag,W,b);else J.drawCachedElements(T,k.drag,W,b);if(J.debug)J.drawDebugPoints(T,k.drag);if(!U&&!F)z[J.DRAG]=!1}if(this.drawSelectionRectangle(Z,P),F&&M!==1){var t=G.contexts[J.NODE],d=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE],X0=G.contexts[J.DRAG],a=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG],z0=function(Q0,e,n){if(Q0.setTransform(1,0,0,1,0,0),n||!L)Q0.clearRect(0,0,J.canvasWidth,J.canvasHeight);else w(Q0,0,0,J.canvasWidth,J.canvasHeight);var Y0=M;Q0.drawImage(e,0,0,J.canvasWidth*Y0,J.canvasHeight*Y0,0,0,J.canvasWidth,J.canvasHeight)};if(z[J.NODE]||h[J.NODE])z0(t,d,h[J.NODE]),z[J.NODE]=!1;if(z[J.DRAG]||h[J.DRAG])z0(X0,a,h[J.DRAG]),z[J.DRAG]=!1}if(J.prevViewport=C,J.clearingMotionBlur)J.clearingMotionBlur=!1,J.motionBlurCleared=!0,J.motionBlur=!0;if(F)J.motionBlurTimeout=setTimeout(function(){J.motionBlurTimeout=null,J.clearedForMotionBlur[J.NODE]=!1,J.clearedForMotionBlur[J.DRAG]=!1,J.motionBlur=!1,J.clearingMotionBlur=!H,J.mbFrames=0,z[J.NODE]=!0,z[J.DRAG]=!0,J.redraw()},LR8);if(!K)Q.emit("render")};Y6.drawSelectionRectangle=function(Z,J){var Q=this,K=Q.cy,U=Q.data,X=K.style(),Y=Z.drawOnlyNodeLayer,q=Z.drawAllLayers,W=U.canvasNeedsRedraw,G=Z.forcedContext;if(Q.showFps||!Y&&W[Q.SELECT_BOX]&&!q){var z=G||U.contexts[Q.SELECT_BOX];if(J(z),Q.selection[4]==1&&(Q.hoverData.selecting||Q.touchData.selecting)){var H=Q.cy.zoom(),F=X.core("selection-box-border-width").value/H;if(z.lineWidth=F,z.fillStyle="rgba("+X.core("selection-box-color").value[0]+","+X.core("selection-box-color").value[1]+","+X.core("selection-box-color").value[2]+","+X.core("selection-box-opacity").value+")",z.fillRect(Q.selection[0],Q.selection[1],Q.selection[2]-Q.selection[0],Q.selection[3]-Q.selection[1]),F>0)z.strokeStyle="rgba("+X.core("selection-box-border-color").value[0]+","+X.core("selection-box-border-color").value[1]+","+X.core("selection-box-border-color").value[2]+","+X.core("selection-box-opacity").value+")",z.strokeRect(Q.selection[0],Q.selection[1],Q.selection[2]-Q.selection[0],Q.selection[3]-Q.selection[1])}if(U.bgActivePosistion&&!Q.hoverData.selecting){var H=Q.cy.zoom(),M=U.bgActivePosistion;z.fillStyle="rgba("+X.core("active-bg-color").value[0]+","+X.core("active-bg-color").value[1]+","+X.core("active-bg-color").value[2]+","+X.core("active-bg-opacity").value+")",z.beginPath(),z.arc(M.x,M.y,X.core("active-bg-size").pfValue/H,0,2*Math.PI),z.fill()}var B=Q.lastRedrawTime;if(Q.showFps&&B){B=Math.round(B);var O=Math.round(1000/B),R="1 frame = "+B+" ms = "+O+" fps";if(z.setTransform(1,0,0,1,0,0),z.fillStyle="rgba(255, 0, 0, 0.75)",z.strokeStyle="rgba(255, 0, 0, 0.75)",z.font="30px Arial",!ZD){var L=z.measureText(R);ZD=L.actualBoundingBoxAscent}z.fillText(R,0,ZD);var D=60;z.strokeRect(0,ZD+10,250,20),z.fillRect(0,ZD+10,250*Math.min(O/D,1),20)}if(!q)W[Q.SELECT_BOX]=!1}};wI0=typeof Float32Array<"u"?Float32Array:Array;if(!Math.hypot)Math.hypot=function(){var Z=0,J=arguments.length;while(J--)Z+=arguments[J]*arguments[J];return Math.sqrt(Z)};_R8=function(){function Z(J,Q,K,U){Pq(this,Z),this.debugID=Math.floor(Math.random()*1e4),this.r=J,this.texSize=Q,this.texRows=K,this.texHeight=Math.floor(Q/K),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=U(J,Q,Q),this.scratch=U(J,Q,this.texHeight,"scratch")}return Cq(Z,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(Q){var{w:K,h:U}=Q,X=this.texHeight,Y=this.texSize,q=X/U,W=K*q,G=U*q;if(W>Y)q=Y/K,W=K*q,G=U*q;return{scale:q,texW:W,texH:G}}},{key:"draw",value:function(Q,K,U){var X=this;if(this.locked)throw Error("can't draw, atlas is locked");var Y=this.texSize,q=this.texRows,W=this.texHeight,G=this.getScale(K),z=G.scale,H=G.texW,F=G.texH,M=function(A,V){if(U&&V){var N=V.context,E=A.x,C=A.row,j=E,$=W*C;N.save(),N.translate(j,$),N.scale(z,z),U(N,K),N.restore()}},B=[null,null],O=function(){if(M(X.freePointer,X.canvas),B[0]={x:X.freePointer.x,y:X.freePointer.row*W,w:H,h:F},B[1]={x:X.freePointer.x+H,y:X.freePointer.row*W,w:0,h:F},X.freePointer.x+=H,X.freePointer.x==Y)X.freePointer.x=0,X.freePointer.row++},R=function(){var{scratch:A,canvas:V}=X;A.clear(),M({x:0,row:0},A);var N=Y-X.freePointer.x,E=H-N,C=W;{var j=X.freePointer.x,$=X.freePointer.row*W,k=N;V.context.drawImage(A,0,0,k,C,j,$,k,C),B[0]={x:j,y:$,w:k,h:F}}{var w=N,P=(X.freePointer.row+1)*W,S=E;if(V)V.context.drawImage(A,w,0,S,C,0,P,S,C);B[1]={x:0,y:P,w:S,h:F}}X.freePointer.x=E,X.freePointer.row++},L=function(){X.freePointer.x=0,X.freePointer.row++};if(this.freePointer.x+H<=Y)O();else if(this.freePointer.row>=q-1)return!1;else if(this.freePointer.x===Y)L(),O();else if(this.enableWrapping)R();else L(),O();return this.keyToLocation.set(Q,B),this.needsBuffer=!0,B}},{key:"getOffsets",value:function(Q){return this.keyToLocation.get(Q)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(Q){if(this.locked)return!1;var K=this.texSize,U=this.texRows,X=this.getScale(Q),Y=X.texW;if(this.freePointer.x+Y>K)return this.freePointer.row<U-1;return!0}},{key:"bufferIfNeeded",value:function(Q){if(!this.texture)this.texture=CR8(Q,this.debugID);if(this.needsBuffer){if(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked)this.canvas=null,this.scratch=null}}},{key:"dispose",value:function(){if(this.texture)this.texture.deleteTexture(),this.texture=null;this.canvas=null,this.scratch=null,this.locked=!0}}])}(),fR8=function(){function Z(J,Q,K,U){Pq(this,Z),this.r=J,this.texSize=Q,this.texRows=K,this.createTextureCanvas=U,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Cq(Z,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var Q=this.r,K=this.texSize,U=this.texRows,X=this.createTextureCanvas;return new _R8(Q,K,U,X)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var Q=this.r,K=this.texSize,U=this.texRows,X=this.createTextureCanvas,Y=Math.floor(K/U);this.scratch=X(Q,K,Y,"scratch")}return this.scratch}},{key:"draw",value:function(Q,K,U){var X=this.styleKeyToAtlas.get(Q);if(!X){if(X=this.atlases[this.atlases.length-1],!X||!X.canFit(K)){if(X)X.lock();X=this._createAtlas(),this.atlases.push(X)}X.draw(Q,K,U),this.styleKeyToAtlas.set(Q,X)}return X}},{key:"getAtlas",value:function(Q){return this.styleKeyToAtlas.get(Q)}},{key:"hasAtlas",value:function(Q){return this.styleKeyToAtlas.has(Q)}},{key:"markKeyForGC",value:function(Q){this.markedKeys.add(Q)}},{key:"gc",value:function(){var Q=this,K=this.markedKeys;if(K.size===0){console.log("nothing to garbage collect");return}var U=[],X=new Map,Y=null,q=a6(this.atlases),W;try{var G=function(){var H=W.value,F=H.getKeys(),M=vR8(K,F);if(M.size===0)return U.push(H),F.forEach(function(N){return X.set(N,H)}),1;if(!Y)Y=Q._createAtlas(),U.push(Y);var B=a6(F),O;try{for(B.s();!(O=B.n()).done;){var R=O.value;if(!M.has(R)){var L=H.getOffsets(R),D=U7(L,2),A=D[0],V=D[1];if(!Y.canFit({w:A.w+V.w,h:A.h}))Y.lock(),Y=Q._createAtlas(),U.push(Y);if(H.canvas)Q._copyTextureToNewAtlas(R,H,Y),X.set(R,Y)}}}catch(N){B.e(N)}finally{B.f()}H.dispose()};for(q.s();!(W=q.n()).done;)if(G())continue}catch(z){q.e(z)}finally{q.f()}this.atlases=U,this.styleKeyToAtlas=X,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(Q,K,U){var X=K.getOffsets(Q),Y=U7(X,2),q=Y[0],W=Y[1];if(W.w===0)U.draw(Q,q,function(F){F.drawImage(K.canvas,q.x,q.y,q.w,q.h,0,0,q.w,q.h)});else{var G=this._getScratchCanvas();G.clear(),G.context.drawImage(K.canvas,q.x,q.y,q.w,q.h,0,0,q.w,q.h),G.context.drawImage(K.canvas,W.x,W.y,W.w,W.h,q.w,0,W.w,W.h);var z=q.w+W.w,H=q.h;U.draw(Q,{w:z,h:H},function(F){F.drawImage(G,0,0,z,H,0,0,z,H)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();xR8=function(){function Z(J,Q){Pq(this,Z),this.r=J,this.globalOptions=Q,this.atlasSize=Q.webglTexSize,this.maxAtlasesPerBatch=Q.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Cq(Z,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(Q,K){var U=this.globalOptions,X=U.webglTexSize,Y=U.createTextureCanvas,q=K.texRows,W=this._cacheScratchCanvas(Y),G=new fR8(this.r,X,q,W);this.collections.set(Q,G)}},{key:"addRenderType",value:function(Q,K){var U=K.collection;if(!this.collections.has(U))throw Error("invalid atlas collection name '".concat(U,"'"));var X=this.collections.get(U),Y=BZ({type:Q,atlasCollection:X},K);this.renderTypes.set(Q,Y)}},{key:"getRenderTypeOpts",value:function(Q){return this.renderTypes.get(Q)}},{key:"getAtlasCollection",value:function(Q){return this.collections.get(Q)}},{key:"_cacheScratchCanvas",value:function(Q){var K=-1,U=-1,X=null;return function(Y,q,W,G){if(G){if(!X||q!=K||W!=U)K=q,U=W,X=Q(Y,q,W);return X}else return Q(Y,q,W)}}},{key:"_key",value:function(Q,K){return"".concat(Q,"-").concat(K)}},{key:"invalidate",value:function(Q){var K=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=U.forceRedraw,Y=X===void 0?!1:X,q=U.filterEle,W=q===void 0?function(){return!0}:q,G=U.filterType,z=G===void 0?function(){return!0}:G,H=!1,F=!1,M=a6(Q),B;try{for(M.s();!(B=M.n()).done;){var O=B.value;if(W(O)){var R=a6(this.renderTypes.values()),L;try{var D=function(){var V=L.value,N=V.type;if(z(N)){var E=K.collections.get(V.collection),C=V.getKey(O),j=Array.isArray(C)?C:[C];if(Y)j.forEach(function(P){return E.markKeyForGC(P)}),F=!0;else{var $=V.getID?V.getID(O):O.id(),k=K._key(N,$),w=K.typeAndIdToKey.get(k);if(w!==void 0&&!VR8(j,w))H=!0,K.typeAndIdToKey.delete(k),w.forEach(function(P){return E.markKeyForGC(P)})}}};for(R.s();!(L=R.n()).done;)D()}catch(A){R.e(A)}finally{R.f()}}}}catch(A){M.e(A)}finally{M.f()}if(F)this.gc(),H=!1;return H}},{key:"gc",value:function(){var Q=a6(this.collections.values()),K;try{for(Q.s();!(K=Q.n()).done;){var U=K.value;U.gc()}}catch(X){Q.e(X)}finally{Q.f()}}},{key:"getOrCreateAtlas",value:function(Q,K,U,X){var Y=this.renderTypes.get(K),q=this.collections.get(Y.collection),W=!1,G=q.draw(X,U,function(F){if(Y.drawClipped)F.save(),F.beginPath(),F.rect(0,0,U.w,U.h),F.clip(),Y.drawElement(F,Q,U,!0,!0),F.restore();else Y.drawElement(F,Q,U,!0,!0);W=!0});if(W){var z=Y.getID?Y.getID(Q):Q.id(),H=this._key(K,z);if(this.typeAndIdToKey.has(H))this.typeAndIdToKey.get(H).push(X);else this.typeAndIdToKey.set(H,[X])}return G}},{key:"getAtlasInfo",value:function(Q,K){var U=this,X=this.renderTypes.get(K),Y=X.getKey(Q),q=Array.isArray(Y)?Y:[Y];return q.map(function(W){var G=X.getBoundingBox(Q,W),z=U.getOrCreateAtlas(Q,K,G,W),H=z.getOffsets(W),F=U7(H,2),M=F[0],B=F[1];return{atlas:z,tex:M,tex1:M,tex2:B,bb:G}})}},{key:"getDebugInfo",value:function(){var Q=[],K=a6(this.collections),U;try{for(K.s();!(U=K.n()).done;){var X=U7(U.value,2),Y=X[0],q=X[1],W=q.getCounts(),G=W.keyCount,z=W.atlasCount;Q.push({type:Y,keyCount:G,atlasCount:z})}}catch(H){K.e(H)}finally{K.f()}return Q}}])}(),bR8=function(){function Z(J){Pq(this,Z),this.globalOptions=J,this.atlasSize=J.webglTexSize,this.maxAtlasesPerBatch=J.webglTexPerBatch,this.batchAtlases=[]}return Cq(Z,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(Q,K){return K})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(Q){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return this.batchAtlases.includes(Q);return!0}},{key:"getAtlasIndexForBatch",value:function(Q){var K=this.batchAtlases.indexOf(Q);if(K<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw Error("cannot add more atlases to batch");this.batchAtlases.push(Q),K=this.batchAtlases.length-1}return K}}])}(),WD={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},_S={IGNORE:1,USE_BB:2},gR8=function(){function Z(J,Q,K){Pq(this,Z),this.r=J,this.gl=Q,this.maxInstances=K.webglBatchSize,this.atlasSize=K.webglTexSize,this.bgColor=K.bgColor,this.debug=K.webglDebug,this.batchDebugInfo=[],K.enableWrapping=!0,K.createTextureCanvas=IR8,this.atlasManager=new xR8(J,K),this.batchManager=new bR8(K),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(WD.SCREEN),this.pickingProgram=this._createShaderProgram(WD.PICKING),this.vao=this._createVAO()}return Cq(Z,[{key:"addAtlasCollection",value:function(Q,K){this.atlasManager.addAtlasCollection(Q,K)}},{key:"addTextureAtlasRenderType",value:function(Q,K){this.atlasManager.addRenderType(Q,K)}},{key:"addSimpleShapeRenderType",value:function(Q,K){this.simpleShapeOptions.set(Q,K)}},{key:"invalidate",value:function(Q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=K.type,X=this.atlasManager;if(U)return X.invalidate(Q,{filterType:function(q){return q===U},forceRedraw:!0});else return X.invalidate(Q)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(Q){var K=this.gl,U=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(rd,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(XF," || aVertType == ").concat(QD,` 
             || aVertType == `).concat(WS," || aVertType == ").concat(JD,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(_I0,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(fI0,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(nd,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),X=this.batchManager.getIndexArray(),Y=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(X.map(function(G){return"uniform sampler2D uTexture".concat(G,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(yR8,`
      `).concat(hR8,`
      `).concat(mR8,`
      `).concat(uR8,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(rd,`) {
          // look up the texel from the texture unit
          `).concat(X.map(function(G){return"if(vAtlasId == ".concat(G,") outColor = texture(uTexture").concat(G,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(nd,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(XF,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(XF," || vVertType == ").concat(QD,` 
          || vVertType == `).concat(WS," || vVertType == ").concat(JD,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(XF,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(QD,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(QD,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(Q.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),q=DR8(K,U,Y);q.aPosition=K.getAttribLocation(q,"aPosition"),q.aIndex=K.getAttribLocation(q,"aIndex"),q.aVertType=K.getAttribLocation(q,"aVertType"),q.aTransform=K.getAttribLocation(q,"aTransform"),q.aAtlasId=K.getAttribLocation(q,"aAtlasId"),q.aTex=K.getAttribLocation(q,"aTex"),q.aPointAPointB=K.getAttribLocation(q,"aPointAPointB"),q.aPointCPointD=K.getAttribLocation(q,"aPointCPointD"),q.aLineWidth=K.getAttribLocation(q,"aLineWidth"),q.aColor=K.getAttribLocation(q,"aColor"),q.aCornerRadius=K.getAttribLocation(q,"aCornerRadius"),q.aBorderColor=K.getAttribLocation(q,"aBorderColor"),q.uPanZoomMatrix=K.getUniformLocation(q,"uPanZoomMatrix"),q.uAtlasSize=K.getUniformLocation(q,"uAtlasSize"),q.uBGColor=K.getUniformLocation(q,"uBGColor"),q.uZoom=K.getUniformLocation(q,"uZoom"),q.uTextures=[];for(var W=0;W<this.batchManager.getMaxAtlasesPerBatch();W++)q.uTextures.push(K.getUniformLocation(q,"uTexture".concat(W)));return q}},{key:"_createVAO",value:function(){var Q=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=Q.length/2;var K=this.maxInstances,U=this.gl,X=this.program,Y=U.createVertexArray();return U.bindVertexArray(Y),SR8(U,"vec2",X.aPosition,Q),this.transformBuffer=TR8(U,K,X.aTransform),this.indexBuffer=hU(U,K,"vec4",X.aIndex),this.vertTypeBuffer=hU(U,K,"int",X.aVertType),this.atlasIdBuffer=hU(U,K,"int",X.aAtlasId),this.texBuffer=hU(U,K,"vec4",X.aTex),this.pointAPointBBuffer=hU(U,K,"vec4",X.aPointAPointB),this.pointCPointDBuffer=hU(U,K,"vec4",X.aPointCPointD),this.lineWidthBuffer=hU(U,K,"vec2",X.aLineWidth),this.colorBuffer=hU(U,K,"vec4",X.aColor),this.cornerRadiusBuffer=hU(U,K,"vec4",X.aCornerRadius),this.borderColorBuffer=hU(U,K,"vec4",X.aBorderColor),U.bindVertexArray(null),Y}},{key:"buffers",get:function(){var Q=this;if(!this._buffers)this._buffers=Object.keys(this).filter(function(K){return Mq(K,"Buffer")}).map(function(K){return Q[K]});return this._buffers}},{key:"startFrame",value:function(Q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WD.SCREEN;this.panZoomMatrix=Q,this.renderTarget=K,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(Q,K){if(Q.visible()){if(K&&K.isVisible)return K.isVisible(Q);return!0}return!1}},{key:"drawTexture",value:function(Q,K,U){var X=this.atlasManager,Y=this.batchManager,q=X.getRenderTypeOpts(U);if(!this._isVisible(Q,q))return;if(Q.isEdge()&&!this._isValidEdge(Q))return;if(this.renderTarget.picking&&q.getTexPickingMode){var W=q.getTexPickingMode(Q);if(W===_S.IGNORE)return;else if(W==_S.USE_BB){this.drawPickingRectangle(Q,K,U);return}}var G=X.getAtlasInfo(Q,U),z=a6(G),H;try{for(z.s();!(H=z.n()).done;){var F=H.value,M=F.atlas,B=F.tex1,O=F.tex2;if(!Y.canAddToCurrentBatch(M))this.endBatch();var R=Y.getAtlasIndexForBatch(M);for(var L=0,D=[[B,!0],[O,!1]];L<D.length;L++){var A=U7(D[L],2),V=A[0],N=A[1];if(V.w!=0){var E=this.instanceCount;this.vertTypeBuffer.getView(E)[0]=rd;var C=this.indexBuffer.getView(E);UF(K,C);var j=this.atlasIdBuffer.getView(E);j[0]=R;var $=this.texBuffer.getView(E);$[0]=V.x,$[1]=V.y,$[2]=V.w,$[3]=V.h;var k=this.transformBuffer.getMatrixView(E);if(this.setTransformMatrix(Q,k,q,F,N),this.instanceCount++,!N)this.wrappedCount++;if(this.instanceCount>=this.maxInstances)this.endBatch()}}}}catch(w){z.e(w)}finally{z.f()}}},{key:"setTransformMatrix",value:function(Q,K,U,X){var Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=0;if(U.shapeProps&&U.shapeProps.padding)q=Q.pstyle(U.shapeProps.padding).pfValue;if(X){var{bb:W,tex1:G,tex2:z}=X,H=G.w/(G.w+z.w);if(!Y)H=1-H;var F=this._getAdjustedBB(W,q,Y,H);this._applyTransformMatrix(K,F,U,Q)}else{var M=U.getBoundingBox(Q),B=this._getAdjustedBB(M,q,!0,1);this._applyTransformMatrix(K,B,U,Q)}}},{key:"_applyTransformMatrix",value:function(Q,K,U,X){var Y,q;$I0(Q);var W=U.getRotation?U.getRotation(X):0;if(W!==0){var G=U.getRotationPoint(X),z=G.x,H=G.y;IS(Q,Q,[z,H]),kI0(Q,Q,W);var F=U.getRotationOffset(X);Y=F.x+(K.xOffset||0),q=F.y+(K.yOffset||0)}else Y=K.x1,q=K.y1;IS(Q,Q,[Y,q]),Oi(Q,Q,[K.w,K.h])}},{key:"_getAdjustedBB",value:function(Q,K,U,X){var{x1:Y,y1:q,w:W,h:G,yOffset:z}=Q;if(K)Y-=K,q-=K,W+=2*K,G+=2*K;var H=0,F=W*X;if(U&&X<1)W=F;else if(!U&&X<1)H=W-F,Y+=H,W=F;return{x1:Y,y1:q,w:W,h:G,xOffset:H,yOffset:z}}},{key:"drawPickingRectangle",value:function(Q,K,U){var X=this.atlasManager.getRenderTypeOpts(U),Y=this.instanceCount;this.vertTypeBuffer.getView(Y)[0]=XF;var q=this.indexBuffer.getView(Y);UF(K,q);var W=this.colorBuffer.getView(Y);Zz([0,0,0],1,W);var G=this.transformBuffer.getMatrixView(Y);if(this.setTransformMatrix(Q,G,X),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"drawNode",value:function(Q,K,U){var X=this.simpleShapeOptions.get(U);if(!this._isVisible(Q,X))return;var Y=X.shapeProps,q=this._getVertTypeForShape(Q,Y.shape);if(q===void 0||X.isSimple&&!X.isSimple(Q)){this.drawTexture(Q,K,U);return}var W=this.instanceCount;if(this.vertTypeBuffer.getView(W)[0]=q,q===WS||q===JD){var G=X.getBoundingBox(Q),z=this._getCornerRadius(Q,Y.radius,G),H=this.cornerRadiusBuffer.getView(W);if(H[0]=z,H[1]=z,H[2]=z,H[3]=z,q===JD)H[0]=0,H[2]=0}var F=this.indexBuffer.getView(W);UF(K,F);var M=Q.pstyle(Y.color).value,B=Q.pstyle(Y.opacity).value,O=this.colorBuffer.getView(W);Zz(M,B,O);var R=this.lineWidthBuffer.getView(W);if(R[0]=0,R[1]=0,Y.border){var L=Q.pstyle("border-width").value;if(L>0){var D=Q.pstyle("border-color").value,A=Q.pstyle("border-opacity").value,V=this.borderColorBuffer.getView(W);Zz(D,A,V);var N=Q.pstyle("border-position").value;if(N==="inside")R[0]=0,R[1]=-L;else if(N==="outside")R[0]=L,R[1]=0;else{var E=L/2;R[0]=E,R[1]=-E}}}var C=this.transformBuffer.getMatrixView(W);if(this.setTransformMatrix(Q,C,X),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"_getVertTypeForShape",value:function(Q,K){var U=Q.pstyle(K).value;switch(U){case"rectangle":return XF;case"ellipse":return QD;case"roundrectangle":case"round-rectangle":return WS;case"bottom-round-rectangle":return JD;default:return}}},{key:"_getCornerRadius",value:function(Q,K,U){var{w:X,h:Y}=U;if(Q.pstyle(K).value==="auto")return Aq(X,Y);else{var q=Q.pstyle(K).pfValue,W=X/2,G=Y/2;return Math.min(q,G,W)}}},{key:"drawEdgeArrow",value:function(Q,K,U){if(!Q.visible())return;var X=Q._private.rscratch,Y,q,W;if(U==="source")Y=X.arrowStartX,q=X.arrowStartY,W=X.srcArrowAngle;else Y=X.arrowEndX,q=X.arrowEndY,W=X.tgtArrowAngle;if(isNaN(Y)||Y==null||isNaN(q)||q==null||isNaN(W)||W==null)return;var G=Q.pstyle(U+"-arrow-shape").value;if(G==="none")return;var z=Q.pstyle(U+"-arrow-color").value,H=Q.pstyle("opacity").value,F=Q.pstyle("line-opacity").value,M=H*F,B=Q.pstyle("width").pfValue,O=Q.pstyle("arrow-scale").value,R=this.r.getArrowWidth(B,O),L=this.instanceCount,D=this.transformBuffer.getMatrixView(L);$I0(D),IS(D,D,[Y,q]),Oi(D,D,[R,R]),kI0(D,D,W),this.vertTypeBuffer.getView(L)[0]=nd;var A=this.indexBuffer.getView(L);UF(K,A);var V=this.colorBuffer.getView(L);if(Zz(z,M,V),this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:"drawEdgeLine",value:function(Q,K){if(!Q.visible())return;var U=this._getEdgePoints(Q);if(!U)return;var X=Q.pstyle("opacity").value,Y=Q.pstyle("line-opacity").value,q=Q.pstyle("width").pfValue,W=Q.pstyle("line-color").value,G=X*Y;if(U.length/2+this.instanceCount>this.maxInstances)this.endBatch();if(U.length==4){var z=this.instanceCount;this.vertTypeBuffer.getView(z)[0]=_I0;var H=this.indexBuffer.getView(z);UF(K,H);var F=this.colorBuffer.getView(z);Zz(W,G,F);var M=this.lineWidthBuffer.getView(z);M[0]=q;var B=this.pointAPointBBuffer.getView(z);if(B[0]=U[0],B[1]=U[1],B[2]=U[2],B[3]=U[3],this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}else for(var O=0;O<U.length-2;O+=2){var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=fI0;var L=this.indexBuffer.getView(R);UF(K,L);var D=this.colorBuffer.getView(R);Zz(W,G,D);var A=this.lineWidthBuffer.getView(R);A[0]=q;var V=U[O-2],N=U[O-1],E=U[O],C=U[O+1],j=U[O+2],$=U[O+3],k=U[O+4],w=U[O+5];if(O==0)V=2*E-j+0.001,N=2*C-$+0.001;if(O==U.length-4)k=2*j-E+0.001,w=2*$-C+0.001;var P=this.pointAPointBBuffer.getView(R);P[0]=V,P[1]=N,P[2]=E,P[3]=C;var S=this.pointCPointDBuffer.getView(R);if(S[0]=j,S[1]=$,S[2]=k,S[3]=w,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}}},{key:"_isValidEdge",value:function(Q){var K=Q._private.rscratch;if(K.badLine||K.allpts==null||isNaN(K.allpts[0]))return!1;return!0}},{key:"_getEdgePoints",value:function(Q){var K=Q._private.rscratch;if(!this._isValidEdge(Q))return;var U=K.allpts;if(U.length==4)return U;var X=this._getNumSegments(Q);return this._getCurveSegmentPoints(U,X)}},{key:"_getNumSegments",value:function(Q){var K=15;return Math.min(Math.max(K,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(Q,K){if(Q.length==4)return Q;var U=Array((K+1)*2);for(var X=0;X<=K;X++)if(X==0)U[0]=Q[0],U[1]=Q[1];else if(X==K)U[X*2]=Q[Q.length-2],U[X*2+1]=Q[Q.length-1];else{var Y=X/K;this._setCurvePoint(Q,Y,U,X*2)}return U}},{key:"_setCurvePoint",value:function(Q,K,U,X){if(Q.length<=2)U[X]=Q[0],U[X+1]=Q[1];else{var Y=Array(Q.length-2);for(var q=0;q<Y.length;q+=2){var W=(1-K)*Q[q]+K*Q[q+2],G=(1-K)*Q[q+1]+K*Q[q+3];Y[q]=W,Y[q+1]=G}return this._setCurvePoint(Y,K,U,X)}}},{key:"endBatch",value:function(){var Q=this.gl,K=this.vao,U=this.vertexCount,X=this.instanceCount;if(X===0)return;var Y=this.renderTarget.picking?this.pickingProgram:this.program;Q.useProgram(Y),Q.bindVertexArray(K);var q=a6(this.buffers),W;try{for(q.s();!(W=q.n()).done;){var G=W.value;G.bufferSubData(X)}}catch(B){q.e(B)}finally{q.f()}var z=this.batchManager.getAtlases();for(var H=0;H<z.length;H++)z[H].bufferIfNeeded(Q);for(var F=0;F<z.length;F++)Q.activeTexture(Q.TEXTURE0+F),Q.bindTexture(Q.TEXTURE_2D,z[F].texture),Q.uniform1i(Y.uTextures[F],F);Q.uniform1f(Y.uZoom,AR8(this.r)),Q.uniformMatrix3fv(Y.uPanZoomMatrix,!1,this.panZoomMatrix),Q.uniform1i(Y.uAtlasSize,this.batchManager.getAtlasSize());var M=Zz(this.bgColor,1);if(Q.uniform4fv(Y.uBGColor,M),Q.drawArraysInstanced(Q.TRIANGLES,0,U,X),Q.bindVertexArray(null),Q.bindTexture(Q.TEXTURE_2D,null),this.debug)this.batchDebugInfo.push({count:X,atlasCount:z.length});this.startBatch()}},{key:"getDebugInfo",value:function(){var Q=this.atlasManager.getDebugInfo(),K=Q.reduce(function(Y,q){return Y+q.atlasCount},0),U=this.batchDebugInfo,X=U.reduce(function(Y,q){return Y+q.count},0);return{atlasInfo:Q,totalAtlases:K,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:U.length,batchInfo:U,totalInstances:X}}}])}(),RN0={};RN0.initWebgl=function(Z,J){var Q=this,K=Q.data.contexts[Q.WEBGL];Z.bgColor=pR8(Q),Z.webglTexSize=Math.min(Z.webglTexSize,K.getParameter(K.MAX_TEXTURE_SIZE)),Z.webglTexRows=Math.min(Z.webglTexRows,54),Z.webglTexRowsNodes=Math.min(Z.webglTexRowsNodes,54),Z.webglBatchSize=Math.min(Z.webglBatchSize,16384),Z.webglTexPerBatch=Math.min(Z.webglTexPerBatch,K.getParameter(K.MAX_TEXTURE_IMAGE_UNITS)),Q.webglDebug=Z.webglDebug,Q.webglDebugShowAtlases=Z.webglDebugShowAtlases,Q.pickingFrameBuffer=wR8(K),Q.pickingFrameBuffer.needsDraw=!0,Q.drawing=new gR8(Q,K,Z);var U=function(H){return function(F){return Q.getTextAngle(F,H)}},X=function(H){return function(F){var M=F.pstyle(H);return M&&M.value}},Y=function(H){return function(F){return F.pstyle("".concat(H,"-opacity")).value>0}},q=function(H){var F=H.pstyle("text-events").strValue==="yes";return F?_S.USE_BB:_S.IGNORE},W=function(H){var F=H.position(),M=F.x,B=F.y,O=H.outerWidth(),R=H.outerHeight();return{w:O,h:R,x1:M-O/2,y1:B-R/2}};Q.drawing.addAtlasCollection("node",{texRows:Z.webglTexRowsNodes}),Q.drawing.addAtlasCollection("label",{texRows:Z.webglTexRows}),Q.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:J.getStyleKey,getBoundingBox:J.getElementBox,drawElement:J.drawElement}),Q.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:W,isSimple:ER8,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),Q.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:W,isVisible:Y("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),Q.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:W,isVisible:Y("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),Q.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:q,getKey:ad(J.getLabelKey,null),getBoundingBox:od(J.getLabelBox,null),drawClipped:!0,drawElement:J.drawLabel,getRotation:U(null),getRotationPoint:J.getLabelRotationPoint,getRotationOffset:J.getLabelRotationOffset,isVisible:X("label")}),Q.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:q,getKey:ad(J.getSourceLabelKey,"source"),getBoundingBox:od(J.getSourceLabelBox,"source"),drawClipped:!0,drawElement:J.drawSourceLabel,getRotation:U("source"),getRotationPoint:J.getSourceLabelRotationPoint,getRotationOffset:J.getSourceLabelRotationOffset,isVisible:X("source-label")}),Q.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:q,getKey:ad(J.getTargetLabelKey,"target"),getBoundingBox:od(J.getTargetLabelBox,"target"),drawClipped:!0,drawElement:J.drawTargetLabel,getRotation:U("target"),getRotationPoint:J.getTargetLabelRotationPoint,getRotationOffset:J.getTargetLabelRotationOffset,isVisible:X("target-label")});var G=PD(function(){console.log("garbage collect flag set"),Q.data.gc=!0},1e4);Q.onUpdateEleCalcs(function(z,H){var F=!1;if(H&&H.length>0)F|=Q.drawing.invalidate(H);if(F)G()}),cR8(Q)};Tq={};Tq.drawPolygonPath=function(Z,J,Q,K,U,X){var Y=K/2,q=U/2;if(Z.beginPath)Z.beginPath();Z.moveTo(J+Y*X[0],Q+q*X[1]);for(var W=1;W<X.length/2;W++)Z.lineTo(J+Y*X[W*2],Q+q*X[W*2+1]);Z.closePath()};Tq.drawRoundPolygonPath=function(Z,J,Q,K,U,X,Y){Y.forEach(function(q){return ZN0(Z,q)}),Z.closePath()};Tq.drawRoundRectanglePath=function(Z,J,Q,K,U,X){var Y=K/2,q=U/2,W=X==="auto"?Aq(K,U):Math.min(X,q,Y);if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.arcTo(J+Y,Q-q,J+Y,Q,W),Z.arcTo(J+Y,Q+q,J,Q+q,W),Z.arcTo(J-Y,Q+q,J-Y,Q,W),Z.arcTo(J-Y,Q-q,J,Q-q,W),Z.lineTo(J,Q-q),Z.closePath()};Tq.drawBottomRoundRectanglePath=function(Z,J,Q,K,U,X){var Y=K/2,q=U/2,W=X==="auto"?Aq(K,U):X;if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.lineTo(J+Y,Q-q),Z.lineTo(J+Y,Q),Z.arcTo(J+Y,Q+q,J,Q+q,W),Z.arcTo(J-Y,Q+q,J-Y,Q,W),Z.lineTo(J-Y,Q-q),Z.lineTo(J,Q-q),Z.closePath()};Tq.drawCutRectanglePath=function(Z,J,Q,K,U,X,Y){var q=K/2,W=U/2,G=Y==="auto"?wi():Y;if(Z.beginPath)Z.beginPath();Z.moveTo(J-q+G,Q-W),Z.lineTo(J+q-G,Q-W),Z.lineTo(J+q,Q-W+G),Z.lineTo(J+q,Q+W-G),Z.lineTo(J+q-G,Q+W),Z.lineTo(J-q+G,Q+W),Z.lineTo(J-q,Q+W-G),Z.lineTo(J-q,Q-W+G),Z.closePath()};Tq.drawBarrelPath=function(Z,J,Q,K,U){var X=K/2,Y=U/2,q=J-X,W=J+X,G=Q-Y,z=Q+Y,H=Ji(K,U),F=H.widthOffset,M=H.heightOffset,B=H.ctrlPtOffsetPct*F;if(Z.beginPath)Z.beginPath();Z.moveTo(q,G+M),Z.lineTo(q,z-M),Z.quadraticCurveTo(q+B,z,q+F,z),Z.lineTo(W-F,z),Z.quadraticCurveTo(W-B,z,W,z-M),Z.lineTo(W,G+M),Z.quadraticCurveTo(W-B,G,W-F,G),Z.lineTo(q+F,G),Z.quadraticCurveTo(q+B,G,q,G+M),Z.closePath()};vI0=Math.sin(0),xI0=Math.cos(0),Ri={},Li={},AN0=Math.PI/40;for(Hq=0*Math.PI;Hq<2*Math.PI;Hq+=AN0)Ri[Hq]=Math.sin(Hq),Li[Hq]=Math.cos(Hq);Tq.drawEllipsePath=function(Z,J,Q,K,U){if(Z.beginPath)Z.beginPath();if(Z.ellipse)Z.ellipse(J,Q,K/2,U/2,0,0,2*Math.PI);else{var X,Y,q=K/2,W=U/2;for(var G=0*Math.PI;G<2*Math.PI;G+=AN0)if(X=J-q*Ri[G]*vI0+q*Li[G]*xI0,Y=Q+W*Li[G]*vI0+W*Ri[G]*xI0,G===0)Z.moveTo(X,Y);else Z.lineTo(X,Y)}Z.closePath()};$D={};$D.createBuffer=function(Z,J){var Q=document.createElement("canvas");return Q.width=Z,Q.height=J,[Q,Q.getContext("2d")]};$D.bufferCanvasImage=function(Z){var J=this.cy,Q=J.mutableElements(),K=Q.boundingBox(),U=this.findContainerClientCoords(),X=Z.full?Math.ceil(K.w):U[2],Y=Z.full?Math.ceil(K.h):U[3],q=k8(Z.maxWidth)||k8(Z.maxHeight),W=this.getPixelRatio(),G=1;if(Z.scale!==void 0)X*=Z.scale,Y*=Z.scale,G=Z.scale;else if(q){var z=1/0,H=1/0;if(k8(Z.maxWidth))z=G*Z.maxWidth/X;if(k8(Z.maxHeight))H=G*Z.maxHeight/Y;G=Math.min(z,H),X*=G,Y*=G}if(!q)X*=W,Y*=W,G*=W;var F=document.createElement("canvas");F.width=X,F.height=Y,F.style.width=X+"px",F.style.height=Y+"px";var M=F.getContext("2d");if(X>0&&Y>0){M.clearRect(0,0,X,Y),M.globalCompositeOperation="source-over";var B=this.getCachedZSortedEles();if(Z.full)M.translate(-K.x1*G,-K.y1*G),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(K.x1*G,K.y1*G);else{var O=J.pan(),R={x:O.x*G,y:O.y*G};G*=J.zoom(),M.translate(R.x,R.y),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(-R.x,-R.y)}if(Z.bg)M.globalCompositeOperation="destination-over",M.fillStyle=Z.bg,M.rect(0,0,X,Y),M.fill()}return F};$D.png=function(Z){return NN0(Z,this.bufferCanvasImage(Z),"image/png")};$D.jpg=function(Z){return NN0(Z,this.bufferCanvasImage(Z),"image/jpeg")};EN0={};EN0.nodeShapeImpl=function(Z,J,Q,K,U,X,Y,q){switch(Z){case"ellipse":return this.drawEllipsePath(J,Q,K,U,X);case"polygon":return this.drawPolygonPath(J,Q,K,U,X,Y);case"round-polygon":return this.drawRoundPolygonPath(J,Q,K,U,X,Y,q);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(J,Q,K,U,X,q);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(J,Q,K,U,X,Y,q);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(J,Q,K,U,X,q);case"barrel":return this.drawBarrelPath(J,Q,K,U,X)}};eR8=VN0,mZ=VN0.prototype;mZ.CANVAS_LAYERS=3;mZ.SELECT_BOX=0;mZ.DRAG=1;mZ.NODE=2;mZ.WEBGL=3;mZ.CANVAS_TYPES=["2d","2d","2d","webgl2"];mZ.BUFFER_COUNT=3;mZ.TEXTURE_BUFFER=0;mZ.MOTIONBLUR_BUFFER_NODE=1;mZ.MOTIONBLUR_BUFFER_DRAG=2;mZ.redrawHint=function(Z,J){var Q=this;switch(Z){case"eles":Q.data.canvasNeedsRedraw[mZ.NODE]=J;break;case"drag":Q.data.canvasNeedsRedraw[mZ.DRAG]=J;break;case"select":Q.data.canvasNeedsRedraw[mZ.SELECT_BOX]=J;break;case"gc":Q.data.gc=!0;break}};Z38=typeof Path2D<"u";mZ.path2dEnabled=function(Z){if(Z===void 0)return this.pathsEnabled;this.pathsEnabled=Z?!0:!1};mZ.usePaths=function(){return Z38&&this.pathsEnabled};mZ.setImgSmoothing=function(Z,J){if(Z.imageSmoothingEnabled!=null)Z.imageSmoothingEnabled=J;else Z.webkitImageSmoothingEnabled=J,Z.mozImageSmoothingEnabled=J,Z.msImageSmoothingEnabled=J};mZ.getImgSmoothing=function(Z){if(Z.imageSmoothingEnabled!=null)return Z.imageSmoothingEnabled;else return Z.webkitImageSmoothingEnabled||Z.mozImageSmoothingEnabled||Z.msImageSmoothingEnabled};mZ.makeOffscreenCanvas=function(Z,J){var Q;if((typeof OffscreenCanvas>"u"?"undefined":A7(OffscreenCanvas))!=="undefined")Q=new OffscreenCanvas(Z,J);else{var K=this.cy.window(),U=K.document;Q=U.createElement("canvas"),Q.width=Z,Q.height=J}return Q};[HN0,cU,IY,ci,Fz,Sq,Y6,RN0,Tq,$D,EN0].forEach(function(Z){BZ(mZ,Z)});J38=[{name:"null",impl:oA0},{name:"base",impl:qN0},{name:"canvas",impl:eR8}],Q38=[{type:"layout",extensions:SO8},{type:"renderer",extensions:J38}],PN0={},CN0={};LD.prototype.extension=Di;Q38.forEach(function(Z){Z.extensions.forEach(function(J){jN0(Z.type,J.name,J.impl)})});zz=fS.prototype;zz.instanceString=function(){return"stylesheet"};zz.selector=function(Z){var J=this.length++;return this[J]={selector:Z,properties:[]},this};zz.css=function(Z,J){var Q=this.length-1;if(XZ(Z))this[Q].properties.push({name:Z,value:J});else if(H9(Z)){var K=Z,U=Object.keys(K);for(var X=0;X<U.length;X++){var Y=U[X],q=K[Y];if(q==null)continue;var W=b7.properties[Y]||b7.properties[vS(Y)];if(W==null)continue;var G=W.name,z=q;this[Q].properties.push({name:G,value:z})}}return this};zz.style=zz.css;zz.generateStyle=function(Z){var J=new b7(Z);return this.appendToStyle(J)};zz.appendToStyle=function(Z){for(var J=0;J<this.length;J++){var Q=this[J],K=Q.selector,U=Q.properties;Z.selector(K);for(var X=0;X<U.length;X++){var Y=U[X];Z.css(Y.name,Y.value)}}return Z};DK.use=function(Z){var J=Array.prototype.slice.call(arguments,1);return J.unshift(DK),Z.apply(null,J),this};DK.warnings=function(Z){return eI0(Z)};DK.version=X38;DK.stylesheet=DK.Stylesheet=fS});var si=u9((kD,ii)=>{(function(J,Q){if(typeof kD==="object"&&typeof ii==="object")ii.exports=Q();else if(typeof define==="function"&&define.amd)define([],Q);else if(typeof kD==="object")kD.layoutBase=Q();else J.layoutBase=Q()})(kD,function(){return function(Z){var J={};function Q(K){if(J[K])return J[K].exports;var U=J[K]={i:K,l:!1,exports:{}};return Z[K].call(U.exports,U,U.exports,Q),U.l=!0,U.exports}return Q.m=Z,Q.c=J,Q.i=function(K){return K},Q.d=function(K,U,X){if(!Q.o(K,U))Object.defineProperty(K,U,{configurable:!1,enumerable:!0,get:X})},Q.n=function(K){var U=K&&K.__esModule?function(){return K.default}:function(){return K};return Q.d(U,"a",U),U},Q.o=function(K,U){return Object.prototype.hasOwnProperty.call(K,U)},Q.p="",Q(Q.s=26)}([function(Z,J,Q){function K(){}K.QUALITY=1,K.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,K.DEFAULT_INCREMENTAL=!1,K.DEFAULT_ANIMATION_ON_LAYOUT=!0,K.DEFAULT_ANIMATION_DURING_LAYOUT=!1,K.DEFAULT_ANIMATION_PERIOD=50,K.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,K.DEFAULT_GRAPH_MARGIN=15,K.NODE_DIMENSIONS_INCLUDE_LABELS=!1,K.SIMPLE_NODE_SIZE=40,K.SIMPLE_NODE_HALF_SIZE=K.SIMPLE_NODE_SIZE/2,K.EMPTY_COMPOUND_NODE_SIZE=40,K.MIN_EDGE_LENGTH=1,K.WORLD_BOUNDARY=1e6,K.INITIAL_WORLD_BOUNDARY=K.WORLD_BOUNDARY/1000,K.WORLD_CENTER_X=1200,K.WORLD_CENTER_Y=900,Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(8),X=Q(9);function Y(W,G,z){K.call(this,z),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=z,this.bendpoints=[],this.source=W,this.target=G}Y.prototype=Object.create(K.prototype);for(var q in K)Y[q]=K[q];Y.prototype.getSource=function(){return this.source},Y.prototype.getTarget=function(){return this.target},Y.prototype.isInterGraph=function(){return this.isInterGraph},Y.prototype.getLength=function(){return this.length},Y.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},Y.prototype.getBendpoints=function(){return this.bendpoints},Y.prototype.getLca=function(){return this.lca},Y.prototype.getSourceInLca=function(){return this.sourceInLca},Y.prototype.getTargetInLca=function(){return this.targetInLca},Y.prototype.getOtherEnd=function(W){if(this.source===W)return this.target;else if(this.target===W)return this.source;else throw"Node is not incident with this edge"},Y.prototype.getOtherEndInGraph=function(W,G){var z=this.getOtherEnd(W),H=G.getGraphManager().getRoot();while(!0){if(z.getOwner()==G)return z;if(z.getOwner()==H)break;z=z.getOwner().getParent()}return null},Y.prototype.updateLength=function(){var W=[,,,,];if(this.isOverlapingSourceAndTarget=U.getIntersection(this.target.getRect(),this.source.getRect(),W),!this.isOverlapingSourceAndTarget){if(this.lengthX=W[0]-W[2],this.lengthY=W[1]-W[3],Math.abs(this.lengthX)<1)this.lengthX=X.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=X.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}},Y.prototype.updateLengthSimple=function(){if(this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1)this.lengthX=X.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=X.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Z.exports=Y},function(Z,J,Q){function K(U){this.vGraphObject=U}Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(10),X=Q(13),Y=Q(0),q=Q(16),W=Q(4);function G(H,F,M,B){if(M==null&&B==null)B=F;if(K.call(this,B),H.graphManager!=null)H=H.graphManager;if(this.estimatedSize=U.MIN_VALUE,this.inclusionTreeDepth=U.MAX_VALUE,this.vGraphObject=B,this.edges=[],this.graphManager=H,M!=null&&F!=null)this.rect=new X(F.x,F.y,M.width,M.height);else this.rect=new X}G.prototype=Object.create(K.prototype);for(var z in K)G[z]=K[z];G.prototype.getEdges=function(){return this.edges},G.prototype.getChild=function(){return this.child},G.prototype.getOwner=function(){return this.owner},G.prototype.getWidth=function(){return this.rect.width},G.prototype.setWidth=function(H){this.rect.width=H},G.prototype.getHeight=function(){return this.rect.height},G.prototype.setHeight=function(H){this.rect.height=H},G.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},G.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},G.prototype.getCenter=function(){return new W(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},G.prototype.getLocation=function(){return new W(this.rect.x,this.rect.y)},G.prototype.getRect=function(){return this.rect},G.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},G.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},G.prototype.setRect=function(H,F){this.rect.x=H.x,this.rect.y=H.y,this.rect.width=F.width,this.rect.height=F.height},G.prototype.setCenter=function(H,F){this.rect.x=H-this.rect.width/2,this.rect.y=F-this.rect.height/2},G.prototype.setLocation=function(H,F){this.rect.x=H,this.rect.y=F},G.prototype.moveBy=function(H,F){this.rect.x+=H,this.rect.y+=F},G.prototype.getEdgeListToNode=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(O.target==H){if(O.source!=B)throw"Incorrect edge source!";F.push(O)}}),F},G.prototype.getEdgesBetween=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(!(O.source==B||O.target==B))throw"Incorrect edge source and/or target";if(O.target==H||O.source==H)F.push(O)}),F},G.prototype.getNeighborsList=function(){var H=new Set,F=this;return F.edges.forEach(function(M){if(M.source==F)H.add(M.target);else{if(M.target!=F)throw"Incorrect incidency!";H.add(M.source)}}),H},G.prototype.withChildren=function(){var H=new Set,F,M;if(H.add(this),this.child!=null){var B=this.child.getNodes();for(var O=0;O<B.length;O++)F=B[O],M=F.withChildren(),M.forEach(function(R){H.add(R)})}return H},G.prototype.getNoOfChildren=function(){var H=0,F;if(this.child==null)H=1;else{var M=this.child.getNodes();for(var B=0;B<M.length;B++)F=M[B],H+=F.getNoOfChildren()}if(H==0)H=1;return H},G.prototype.getEstimatedSize=function(){if(this.estimatedSize==U.MIN_VALUE)throw"assert failed";return this.estimatedSize},G.prototype.calcEstimatedSize=function(){if(this.child==null)return this.estimatedSize=(this.rect.width+this.rect.height)/2;else return this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize},G.prototype.scatter=function(){var H,F,M=-Y.INITIAL_WORLD_BOUNDARY,B=Y.INITIAL_WORLD_BOUNDARY;H=Y.WORLD_CENTER_X+q.nextDouble()*(B-M)+M;var O=-Y.INITIAL_WORLD_BOUNDARY,R=Y.INITIAL_WORLD_BOUNDARY;F=Y.WORLD_CENTER_Y+q.nextDouble()*(R-O)+O,this.rect.x=H,this.rect.y=F},G.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var H=this.getChild();if(H.updateBounds(!0),this.rect.x=H.getLeft(),this.rect.y=H.getTop(),this.setWidth(H.getRight()-H.getLeft()),this.setHeight(H.getBottom()-H.getTop()),Y.NODE_DIMENSIONS_INCLUDE_LABELS){var F=H.getRight()-H.getLeft(),M=H.getBottom()-H.getTop();if(this.labelWidth>F)this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth);if(this.labelHeight>M){if(this.labelPos=="center")this.rect.y-=(this.labelHeight-M)/2;else if(this.labelPos=="top")this.rect.y-=this.labelHeight-M;this.setHeight(this.labelHeight)}}}},G.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==U.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},G.prototype.transform=function(H){var F=this.rect.x;if(F>Y.WORLD_BOUNDARY)F=Y.WORLD_BOUNDARY;else if(F<-Y.WORLD_BOUNDARY)F=-Y.WORLD_BOUNDARY;var M=this.rect.y;if(M>Y.WORLD_BOUNDARY)M=Y.WORLD_BOUNDARY;else if(M<-Y.WORLD_BOUNDARY)M=-Y.WORLD_BOUNDARY;var B=new W(F,M),O=H.inverseTransformPoint(B);this.setLocation(O.x,O.y)},G.prototype.getLeft=function(){return this.rect.x},G.prototype.getRight=function(){return this.rect.x+this.rect.width},G.prototype.getTop=function(){return this.rect.y},G.prototype.getBottom=function(){return this.rect.y+this.rect.height},G.prototype.getParent=function(){if(this.owner==null)return null;return this.owner.getParent()},Z.exports=G},function(Z,J,Q){function K(U,X){if(U==null&&X==null)this.x=0,this.y=0;else this.x=U,this.y=X}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.setX=function(U){this.x=U},K.prototype.setY=function(U){this.y=U},K.prototype.getDifference=function(U){return new DimensionD(this.x-U.x,this.y-U.y)},K.prototype.getCopy=function(){return new K(this.x,this.y)},K.prototype.translate=function(U){return this.x+=U.width,this.y+=U.height,this},Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(10),X=Q(0),Y=Q(6),q=Q(3),W=Q(1),G=Q(13),z=Q(12),H=Q(11);function F(B,O,R){if(K.call(this,R),this.estimatedSize=U.MIN_VALUE,this.margin=X.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=B,O!=null&&O instanceof Y)this.graphManager=O;else if(O!=null&&O instanceof Layout)this.graphManager=O.graphManager}F.prototype=Object.create(K.prototype);for(var M in K)F[M]=K[M];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(B,O,R){if(O==null&&R==null){var L=B;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(L)>-1)throw"Node already in graph!";return L.owner=this,this.getNodes().push(L),L}else{var D=B;if(!(this.getNodes().indexOf(O)>-1&&this.getNodes().indexOf(R)>-1))throw"Source or target not in graph!";if(!(O.owner==R.owner&&O.owner==this))throw"Both owners must be this graph!";if(O.owner!=R.owner)return null;if(D.source=O,D.target=R,D.isInterGraph=!1,this.getEdges().push(D),O.edges.push(D),R!=O)R.edges.push(D);return D}},F.prototype.remove=function(B){var O=B;if(B instanceof q){if(O==null)throw"Node is null!";if(!(O.owner!=null&&O.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";var R=O.edges.slice(),L,D=R.length;for(var A=0;A<D;A++)if(L=R[A],L.isInterGraph)this.graphManager.remove(L);else L.source.owner.remove(L);var V=this.nodes.indexOf(O);if(V==-1)throw"Node not in owner node list!";this.nodes.splice(V,1)}else if(B instanceof W){var L=B;if(L==null)throw"Edge is null!";if(!(L.source!=null&&L.target!=null))throw"Source and/or target is null!";if(!(L.source.owner!=null&&L.target.owner!=null&&L.source.owner==this&&L.target.owner==this))throw"Source and/or target owner is invalid!";var N=L.source.edges.indexOf(L),E=L.target.edges.indexOf(L);if(!(N>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(L.source.edges.splice(N,1),L.target!=L.source)L.target.edges.splice(E,1);var V=L.source.owner.getEdges().indexOf(L);if(V==-1)throw"Not in owner's edge list!";L.source.owner.getEdges().splice(V,1)}},F.prototype.updateLeftTop=function(){var{MAX_VALUE:B,MAX_VALUE:O}=U,R,L,D,A=this.getNodes(),V=A.length;for(var N=0;N<V;N++){var E=A[N];if(R=E.getTop(),L=E.getLeft(),B>R)B=R;if(O>L)O=L}if(B==U.MAX_VALUE)return null;if(A[0].getParent().paddingLeft!=null)D=A[0].getParent().paddingLeft;else D=this.margin;return this.left=O-D,this.top=B-D,new z(this.left,this.top)},F.prototype.updateBounds=function(B){var O=U.MAX_VALUE,R=-U.MAX_VALUE,L=U.MAX_VALUE,D=-U.MAX_VALUE,A,V,N,E,C,j=this.nodes,$=j.length;for(var k=0;k<$;k++){var w=j[k];if(B&&w.child!=null)w.updateBounds();if(A=w.getLeft(),V=w.getRight(),N=w.getTop(),E=w.getBottom(),O>A)O=A;if(R<V)R=V;if(L>N)L=N;if(D<E)D=E}var P=new G(O,L,R-O,D-L);if(O==U.MAX_VALUE)this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom();if(j[0].getParent().paddingLeft!=null)C=j[0].getParent().paddingLeft;else C=this.margin;this.left=P.x-C,this.right=P.x+P.width+C,this.top=P.y-C,this.bottom=P.y+P.height+C},F.calculateBounds=function(B){var O=U.MAX_VALUE,R=-U.MAX_VALUE,L=U.MAX_VALUE,D=-U.MAX_VALUE,A,V,N,E,C=B.length;for(var j=0;j<C;j++){var $=B[j];if(A=$.getLeft(),V=$.getRight(),N=$.getTop(),E=$.getBottom(),O>A)O=A;if(R<V)R=V;if(L>N)L=N;if(D<E)D=E}var k=new G(O,L,R-O,D-L);return k},F.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot())return 1;else return this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==U.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){var B=0,O=this.nodes,R=O.length;for(var L=0;L<R;L++){var D=O[L];B+=D.calcEstimatedSize()}if(B==0)this.estimatedSize=X.EMPTY_COMPOUND_NODE_SIZE;else this.estimatedSize=B/Math.sqrt(this.nodes.length);return this.estimatedSize},F.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=!0;return}var O=new H,R=new Set,L=this.nodes[0],D,A,V=L.withChildren();V.forEach(function(k){O.push(k),R.add(k)});while(O.length!==0){L=O.shift(),D=L.getEdges();var N=D.length;for(var E=0;E<N;E++){var C=D[E];if(A=C.getOtherEndInGraph(L,this),A!=null&&!R.has(A)){var j=A.withChildren();j.forEach(function(k){O.push(k),R.add(k)})}}}if(this.isConnected=!1,R.size>=this.nodes.length){var $=0;if(R.forEach(function(k){if(k.owner==B)$++}),$==this.nodes.length)this.isConnected=!0}},Z.exports=F},function(Z,J,Q){var K,U=Q(1);function X(Y){K=Q(5),this.layout=Y,this.graphs=[],this.edges=[]}X.prototype.addRoot=function(){var Y=this.layout.newGraph(),q=this.layout.newNode(null),W=this.add(Y,q);return this.setRootGraph(W),this.rootGraph},X.prototype.add=function(Y,q,W,G,z){if(W==null&&G==null&&z==null){if(Y==null)throw"Graph is null!";if(q==null)throw"Parent node is null!";if(this.graphs.indexOf(Y)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(Y),Y.parent!=null)throw"Already has a parent!";if(q.child!=null)throw"Already has a child!";return Y.parent=q,q.child=Y,Y}else{z=W,G=q,W=Y;var H=G.getOwner(),F=z.getOwner();if(!(H!=null&&H.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(H==F)return W.isInterGraph=!1,H.add(W,G,z);else{if(W.isInterGraph=!0,W.source=G,W.target=z,this.edges.indexOf(W)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(W),!(W.source!=null&&W.target!=null))throw"Edge source and/or target is null!";if(!(W.source.edges.indexOf(W)==-1&&W.target.edges.indexOf(W)==-1))throw"Edge already in source and/or target incidency list!";return W.source.edges.push(W),W.target.edges.push(W),W}}},X.prototype.remove=function(Y){if(Y instanceof K){var q=Y;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(q==this.rootGraph||q.parent!=null&&q.parent.graphManager==this))throw"Invalid parent node!";var W=[];W=W.concat(q.getEdges());var G,z=W.length;for(var H=0;H<z;H++)G=W[H],q.remove(G);var F=[];F=F.concat(q.getNodes());var M;z=F.length;for(var H=0;H<z;H++)M=F[H],q.remove(M);if(q==this.rootGraph)this.setRootGraph(null);var B=this.graphs.indexOf(q);this.graphs.splice(B,1),q.parent=null}else if(Y instanceof U){if(G=Y,G==null)throw"Edge is null!";if(!G.isInterGraph)throw"Not an inter-graph edge!";if(!(G.source!=null&&G.target!=null))throw"Source and/or target is null!";if(!(G.source.edges.indexOf(G)!=-1&&G.target.edges.indexOf(G)!=-1))throw"Source and/or target doesn't know this edge!";var B=G.source.edges.indexOf(G);if(G.source.edges.splice(B,1),B=G.target.edges.indexOf(G),G.target.edges.splice(B,1),!(G.source.owner!=null&&G.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(G.source.owner.getGraphManager().edges.indexOf(G)==-1)throw"Not in owner graph manager's edge list!";var B=G.source.owner.getGraphManager().edges.indexOf(G);G.source.owner.getGraphManager().edges.splice(B,1)}},X.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},X.prototype.getGraphs=function(){return this.graphs},X.prototype.getAllNodes=function(){if(this.allNodes==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<W;G++)Y=Y.concat(q[G].getNodes());this.allNodes=Y}return this.allNodes},X.prototype.resetAllNodes=function(){this.allNodes=null},X.prototype.resetAllEdges=function(){this.allEdges=null},X.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},X.prototype.getAllEdges=function(){if(this.allEdges==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<q.length;G++)Y=Y.concat(q[G].getEdges());Y=Y.concat(this.edges),this.allEdges=Y}return this.allEdges},X.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},X.prototype.setAllNodesToApplyGravitation=function(Y){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=Y},X.prototype.getRoot=function(){return this.rootGraph},X.prototype.setRootGraph=function(Y){if(Y.getGraphManager()!=this)throw"Root not in this graph mgr!";if(this.rootGraph=Y,Y.parent==null)Y.parent=this.layout.newNode("Root node")},X.prototype.getLayout=function(){return this.layout},X.prototype.isOneAncestorOfOther=function(Y,q){if(!(Y!=null&&q!=null))throw"assert failed";if(Y==q)return!0;var W=Y.getOwner(),G;do{if(G=W.getParent(),G==null)break;if(G==q)return!0;if(W=G.getOwner(),W==null)break}while(!0);W=q.getOwner();do{if(G=W.getParent(),G==null)break;if(G==Y)return!0;if(W=G.getOwner(),W==null)break}while(!0);return!1},X.prototype.calcLowestCommonAncestors=function(){var Y,q,W,G,z,H=this.getAllEdges(),F=H.length;for(var M=0;M<F;M++){if(Y=H[M],q=Y.source,W=Y.target,Y.lca=null,Y.sourceInLca=q,Y.targetInLca=W,q==W){Y.lca=q.getOwner();continue}G=q.getOwner();while(Y.lca==null){Y.targetInLca=W,z=W.getOwner();while(Y.lca==null){if(z==G){Y.lca=z;break}if(z==this.rootGraph)break;if(Y.lca!=null)throw"assert failed";Y.targetInLca=z.getParent(),z=Y.targetInLca.getOwner()}if(G==this.rootGraph)break;if(Y.lca==null)Y.sourceInLca=G.getParent(),G=Y.sourceInLca.getOwner()}if(Y.lca==null)throw"assert failed"}},X.prototype.calcLowestCommonAncestor=function(Y,q){if(Y==q)return Y.getOwner();var W=Y.getOwner();do{if(W==null)break;var G=q.getOwner();do{if(G==null)break;if(G==W)return G;G=G.getParent().getOwner()}while(!0);W=W.getParent().getOwner()}while(!0);return W},X.prototype.calcInclusionTreeDepths=function(Y,q){if(Y==null&&q==null)Y=this.rootGraph,q=1;var W,G=Y.getNodes(),z=G.length;for(var H=0;H<z;H++)if(W=G[H],W.inclusionTreeDepth=q,W.child!=null)this.calcInclusionTreeDepths(W.child,q+1)},X.prototype.includesInvalidEdge=function(){var Y,q=this.edges.length;for(var W=0;W<q;W++)if(Y=this.edges[W],this.isOneAncestorOfOther(Y.source,Y.target))return!0;return!1},Z.exports=X},function(Z,J,Q){var K=Q(0);function U(){}for(var X in K)U[X]=K[X];U.MAX_ITERATIONS=2500,U.DEFAULT_EDGE_LENGTH=50,U.DEFAULT_SPRING_STRENGTH=0.45,U.DEFAULT_REPULSION_STRENGTH=4500,U.DEFAULT_GRAVITY_STRENGTH=0.4,U.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,U.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,U.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,U.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,U.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.3,U.COOLING_ADAPTATION_FACTOR=0.33,U.ADAPTATION_LOWER_NODE_LIMIT=1000,U.ADAPTATION_UPPER_NODE_LIMIT=5000,U.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,U.MAX_NODE_DISPLACEMENT=U.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,U.MIN_REPULSION_DIST=U.DEFAULT_EDGE_LENGTH/10,U.CONVERGENCE_CHECK_PERIOD=100,U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1,U.MIN_EDGE_LENGTH=1,U.GRID_CALCULATION_CHECK_PERIOD=10,Z.exports=U},function(Z,J,Q){var K=Q(12);function U(){}U.calcSeparationAmount=function(X,Y,q,W){if(!X.intersects(Y))throw"assert failed";var G=[,,];if(this.decideDirectionsForOverlappingNodes(X,Y,G),q[0]=Math.min(X.getRight(),Y.getRight())-Math.max(X.x,Y.x),q[1]=Math.min(X.getBottom(),Y.getBottom())-Math.max(X.y,Y.y),X.getX()<=Y.getX()&&X.getRight()>=Y.getRight())q[0]+=Math.min(Y.getX()-X.getX(),X.getRight()-Y.getRight());else if(Y.getX()<=X.getX()&&Y.getRight()>=X.getRight())q[0]+=Math.min(X.getX()-Y.getX(),Y.getRight()-X.getRight());if(X.getY()<=Y.getY()&&X.getBottom()>=Y.getBottom())q[1]+=Math.min(Y.getY()-X.getY(),X.getBottom()-Y.getBottom());else if(Y.getY()<=X.getY()&&Y.getBottom()>=X.getBottom())q[1]+=Math.min(X.getY()-Y.getY(),Y.getBottom()-X.getBottom());var z=Math.abs((Y.getCenterY()-X.getCenterY())/(Y.getCenterX()-X.getCenterX()));if(Y.getCenterY()===X.getCenterY()&&Y.getCenterX()===X.getCenterX())z=1;var H=z*q[0],F=q[1]/z;if(q[0]<F)F=q[0];else H=q[1];q[0]=-1*G[0]*(F/2+W),q[1]=-1*G[1]*(H/2+W)},U.decideDirectionsForOverlappingNodes=function(X,Y,q){if(X.getCenterX()<Y.getCenterX())q[0]=-1;else q[0]=1;if(X.getCenterY()<Y.getCenterY())q[1]=-1;else q[1]=1},U.getIntersection2=function(X,Y,q){var W=X.getCenterX(),G=X.getCenterY(),z=Y.getCenterX(),H=Y.getCenterY();if(X.intersects(Y))return q[0]=W,q[1]=G,q[2]=z,q[3]=H,!0;var F=X.getX(),M=X.getY(),B=X.getRight(),O=X.getX(),R=X.getBottom(),L=X.getRight(),D=X.getWidthHalf(),A=X.getHeightHalf(),V=Y.getX(),N=Y.getY(),E=Y.getRight(),C=Y.getX(),j=Y.getBottom(),$=Y.getRight(),k=Y.getWidthHalf(),w=Y.getHeightHalf(),P=!1,S=!1;if(W===z){if(G>H)return q[0]=W,q[1]=M,q[2]=z,q[3]=j,!1;else if(G<H)return q[0]=W,q[1]=R,q[2]=z,q[3]=N,!1}else if(G===H){if(W>z)return q[0]=F,q[1]=G,q[2]=E,q[3]=H,!1;else if(W<z)return q[0]=B,q[1]=G,q[2]=V,q[3]=H,!1}else{var T=X.height/X.width,_=Y.height/Y.width,v=(H-G)/(z-W),x=void 0,b=void 0,y=void 0,u=void 0,h=void 0,p=void 0;if(-T===v)if(W>z)q[0]=O,q[1]=R,P=!0;else q[0]=B,q[1]=M,P=!0;else if(T===v)if(W>z)q[0]=F,q[1]=M,P=!0;else q[0]=L,q[1]=R,P=!0;if(-_===v)if(z>W)q[2]=C,q[3]=j,S=!0;else q[2]=E,q[3]=N,S=!0;else if(_===v)if(z>W)q[2]=V,q[3]=N,S=!0;else q[2]=$,q[3]=j,S=!0;if(P&&S)return!1;if(W>z)if(G>H)x=this.getCardinalDirection(T,v,4),b=this.getCardinalDirection(_,v,2);else x=this.getCardinalDirection(-T,v,3),b=this.getCardinalDirection(-_,v,1);else if(G>H)x=this.getCardinalDirection(-T,v,1),b=this.getCardinalDirection(-_,v,3);else x=this.getCardinalDirection(T,v,2),b=this.getCardinalDirection(_,v,4);if(!P)switch(x){case 1:u=M,y=W+-A/v,q[0]=y,q[1]=u;break;case 2:y=L,u=G+D*v,q[0]=y,q[1]=u;break;case 3:u=R,y=W+A/v,q[0]=y,q[1]=u;break;case 4:y=O,u=G+-D*v,q[0]=y,q[1]=u;break}if(!S)switch(b){case 1:p=N,h=z+-w/v,q[2]=h,q[3]=p;break;case 2:h=$,p=H+k*v,q[2]=h,q[3]=p;break;case 3:p=j,h=z+w/v,q[2]=h,q[3]=p;break;case 4:h=C,p=H+-k*v,q[2]=h,q[3]=p;break}}return!1},U.getCardinalDirection=function(X,Y,q){if(X>Y)return q;else return 1+q%4},U.getIntersection=function(X,Y,q,W){if(W==null)return this.getIntersection2(X,Y,q);var{x:G,y:z}=X,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,L=void 0,D=void 0,A=void 0,V=void 0,N=void 0,E=void 0,C=void 0,j=void 0,$=void 0;if(A=F-z,N=G-H,C=H*z-G*F,V=R-B,E=M-O,j=O*B-M*R,$=A*E-V*N,$===0)return null;return L=(N*j-E*C)/$,D=(V*C-A*j)/$,new K(L,D)},U.angleOfVector=function(X,Y,q,W){var G=void 0;if(X!==q){if(G=Math.atan((W-Y)/(q-X)),q<X)G+=Math.PI;else if(W<Y)G+=this.TWO_PI}else if(W<Y)G=this.ONE_AND_HALF_PI;else G=this.HALF_PI;return G},U.doIntersect=function(X,Y,q,W){var{x:G,y:z}=X,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,L=(H-G)*(R-B)-(O-M)*(F-z);if(L===0)return!1;else{var D=((R-B)*(O-G)+(M-O)*(R-z))/L,A=((z-F)*(O-G)+(H-G)*(R-z))/L;return 0<D&&D<1&&0<A&&A<1}},U.HALF_PI=0.5*Math.PI,U.ONE_AND_HALF_PI=1.5*Math.PI,U.TWO_PI=2*Math.PI,U.THREE_PI=3*Math.PI,Z.exports=U},function(Z,J,Q){function K(){}K.sign=function(U){if(U>0)return 1;else if(U<0)return-1;else return 0},K.floor=function(U){return U<0?Math.ceil(U):Math.floor(U)},K.ceil=function(U){return U<0?Math.floor(U):Math.ceil(U)},Z.exports=K},function(Z,J,Q){function K(){}K.MAX_VALUE=2147483647,K.MIN_VALUE=-2147483648,Z.exports=K},function(Z,J,Q){var K=function(){function G(z,H){for(var F=0;F<H.length;F++){var M=H[F];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(z,M.key,M)}}return function(z,H,F){if(H)G(z.prototype,H);if(F)G(z,F);return z}}();function U(G,z){if(!(G instanceof z))throw TypeError("Cannot call a class as a function")}var X=function(z){return{value:z,next:null,prev:null}},Y=function(z,H,F,M){if(z!==null)z.next=H;else M.head=H;if(F!==null)F.prev=H;else M.tail=H;return H.prev=z,H.next=F,M.length++,H},q=function(z,H){var{prev:F,next:M}=z;if(F!==null)F.next=M;else H.head=M;if(M!==null)M.prev=F;else H.tail=F;return z.prev=z.next=null,H.length--,z},W=function(){function G(z){var H=this;if(U(this,G),this.length=0,this.head=null,this.tail=null,z!=null)z.forEach(function(F){return H.push(F)})}return K(G,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(H,F){return Y(F.prev,X(H),F,this)}},{key:"insertAfter",value:function(H,F){return Y(F,X(H),F.next,this)}},{key:"insertNodeBefore",value:function(H,F){return Y(F.prev,H,F,this)}},{key:"insertNodeAfter",value:function(H,F){return Y(F,H,F.next,this)}},{key:"push",value:function(H){return Y(this.tail,X(H),null,this)}},{key:"unshift",value:function(H){return Y(null,X(H),this.head,this)}},{key:"remove",value:function(H){return q(H,this)}},{key:"pop",value:function(){return q(this.tail,this).value}},{key:"popNode",value:function(){return q(this.tail,this)}},{key:"shift",value:function(){return q(this.head,this).value}},{key:"shiftNode",value:function(){return q(this.head,this)}},{key:"get_object_at",value:function(H){if(H<=this.length()){var F=1,M=this.head;while(F<H)M=M.next,F++;return M.value}}},{key:"set_object_at",value:function(H,F){if(H<=this.length()){var M=1,B=this.head;while(M<H)B=B.next,M++;B.value=F}}}]),G}();Z.exports=W},function(Z,J,Q){function K(U,X,Y){if(this.x=null,this.y=null,U==null&&X==null&&Y==null)this.x=0,this.y=0;else if(typeof U=="number"&&typeof X=="number"&&Y==null)this.x=U,this.y=X;else if(U.constructor.name=="Point"&&X==null&&Y==null)Y=U,this.x=Y.x,this.y=Y.y}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.getLocation=function(){return new K(this.x,this.y)},K.prototype.setLocation=function(U,X,Y){if(U.constructor.name=="Point"&&X==null&&Y==null)Y=U,this.setLocation(Y.x,Y.y);else if(typeof U=="number"&&typeof X=="number"&&Y==null)if(parseInt(U)==U&&parseInt(X)==X)this.move(U,X);else this.x=Math.floor(U+0.5),this.y=Math.floor(X+0.5)},K.prototype.move=function(U,X){this.x=U,this.y=X},K.prototype.translate=function(U,X){this.x+=U,this.y+=X},K.prototype.equals=function(U){if(U.constructor.name=="Point"){var X=U;return this.x==X.x&&this.y==X.y}return this==U},K.prototype.toString=function(){return new K().constructor.name+"[x="+this.x+",y="+this.y+"]"},Z.exports=K},function(Z,J,Q){function K(U,X,Y,q){if(this.x=0,this.y=0,this.width=0,this.height=0,U!=null&&X!=null&&Y!=null&&q!=null)this.x=U,this.y=X,this.width=Y,this.height=q}K.prototype.getX=function(){return this.x},K.prototype.setX=function(U){this.x=U},K.prototype.getY=function(){return this.y},K.prototype.setY=function(U){this.y=U},K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(U){this.width=U},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(U){this.height=U},K.prototype.getRight=function(){return this.x+this.width},K.prototype.getBottom=function(){return this.y+this.height},K.prototype.intersects=function(U){if(this.getRight()<U.x)return!1;if(this.getBottom()<U.y)return!1;if(U.getRight()<this.x)return!1;if(U.getBottom()<this.y)return!1;return!0},K.prototype.getCenterX=function(){return this.x+this.width/2},K.prototype.getMinX=function(){return this.getX()},K.prototype.getMaxX=function(){return this.getX()+this.width},K.prototype.getCenterY=function(){return this.y+this.height/2},K.prototype.getMinY=function(){return this.getY()},K.prototype.getMaxY=function(){return this.getY()+this.height},K.prototype.getWidthHalf=function(){return this.width/2},K.prototype.getHeightHalf=function(){return this.height/2},Z.exports=K},function(Z,J,Q){var K=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol==="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function U(){}U.lastID=0,U.createID=function(X){if(U.isPrimitive(X))return X;if(X.uniqueID!=null)return X.uniqueID;return X.uniqueID=U.getString(),U.lastID++,X.uniqueID},U.getString=function(X){if(X==null)X=U.lastID;return"Object#"+X},U.isPrimitive=function(X){var Y=typeof X>"u"?"undefined":K(X);return X==null||Y!="object"&&Y!="function"},Z.exports=U},function(Z,J,Q){function K(M){if(Array.isArray(M)){for(var B=0,O=Array(M.length);B<M.length;B++)O[B]=M[B];return O}else return Array.from(M)}var U=Q(0),X=Q(6),Y=Q(3),q=Q(1),W=Q(5),G=Q(4),z=Q(17),H=Q(27);function F(M){if(H.call(this),this.layoutQuality=U.QUALITY,this.createBendsAsNeeded=U.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=U.DEFAULT_INCREMENTAL,this.animationOnLayout=U.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=U.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=U.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=U.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new X(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,M!=null)this.isRemoteUse=M}F.RANDOM_SEED=1,F.prototype=Object.create(H.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var M=new X(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new W(null,this.graphManager,M)},F.prototype.newNode=function(M){return new Y(this.graphManager,M)},F.prototype.newEdge=function(M){return new q(null,null,M)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){if(this.isLayoutFinished=!1,this.tilingPreLayout)this.tilingPreLayout();this.initParameters();var M;if(this.checkLayoutSuccess())M=!1;else M=this.layout();if(U.ANIMATE==="during")return!1;if(M){if(!this.isSubLayout)this.doPostLayout()}if(this.tilingPostLayout)this.tilingPostLayout();return this.isLayoutFinished=!0,M},F.prototype.doPostLayout=function(){if(!this.incremental)this.transform();this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded)this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges();if(!this.isRemoteUse){var M,B=this.graphManager.getAllEdges();for(var O=0;O<B.length;O++)M=B[O];var R,L=this.graphManager.getRoot().getNodes();for(var O=0;O<L.length;O++)R=L[O];this.update(this.graphManager.getRoot())}},F.prototype.update=function(M){if(M==null)this.update2();else if(M instanceof Y){var B=M;if(B.getChild()!=null){var O=B.getChild().getNodes();for(var R=0;R<O.length;R++)update(O[R])}if(B.vGraphObject!=null){var L=B.vGraphObject;L.update(B)}}else if(M instanceof q){var D=M;if(D.vGraphObject!=null){var A=D.vGraphObject;A.update(D)}}else if(M instanceof W){var V=M;if(V.vGraphObject!=null){var N=V.vGraphObject;N.update(V)}}},F.prototype.initParameters=function(){if(!this.isSubLayout)this.layoutQuality=U.QUALITY,this.animationDuringLayout=U.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=U.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=U.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=U.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=U.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=U.DEFAULT_UNIFORM_LEAF_NODE_SIZES;if(this.animationDuringLayout)this.animationOnLayout=!1},F.prototype.transform=function(M){if(M==null)this.transform(new G(0,0));else{var B=new z,O=this.graphManager.getRoot().updateLeftTop();if(O!=null){B.setWorldOrgX(M.x),B.setWorldOrgY(M.y),B.setDeviceOrgX(O.x),B.setDeviceOrgY(O.y);var R=this.getAllNodes(),L;for(var D=0;D<R.length;D++)L=R[D],L.transform(B)}}},F.prototype.positionNodesRandomly=function(M){if(M==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else{var B,O,R=M.getNodes();for(var L=0;L<R.length;L++)if(B=R[L],O=B.getChild(),O==null)B.scatter();else if(O.getNodes().length==0)B.scatter();else this.positionNodesRandomly(O),B.updateBounds()}},F.prototype.getFlatForest=function(){var M=[],B=!0,O=this.graphManager.getRoot().getNodes(),R=!0;for(var L=0;L<O.length;L++)if(O[L].getChild()!=null)R=!1;if(!R)return M;var D=new Set,A=[],V=new Map,N=[];N=N.concat(O);while(N.length>0&&B){A.push(N[0]);while(A.length>0&&B){var E=A[0];A.splice(0,1),D.add(E);var C=E.getEdges();for(var L=0;L<C.length;L++){var j=C[L].getOtherEnd(E);if(V.get(E)!=j)if(!D.has(j))A.push(j),V.set(j,E);else{B=!1;break}}}if(!B)M=[];else{var $=[].concat(K(D));M.push($);for(var L=0;L<$.length;L++){var k=$[L],w=N.indexOf(k);if(w>-1)N.splice(w,1)}D=new Set,V=new Map}}return M},F.prototype.createDummyNodesForBendpoints=function(M){var B=[],O=M.source,R=this.graphManager.calcLowestCommonAncestor(M.source,M.target);for(var L=0;L<M.bendpoints.length;L++){var D=this.newNode(null);D.setRect(new Point(0,0),new Dimension(1,1)),R.add(D);var A=this.newEdge(null);this.graphManager.add(A,O,D),B.add(D),O=D}var A=this.newEdge(null);if(this.graphManager.add(A,O,M.target),this.edgeToDummyNodes.set(M,B),M.isInterGraph())this.graphManager.remove(M);else R.remove(M);return B},F.prototype.createBendpointsFromDummyNodes=function(){var M=[];M=M.concat(this.graphManager.getAllEdges()),M=[].concat(K(this.edgeToDummyNodes.keys())).concat(M);for(var B=0;B<M.length;B++){var O=M[B];if(O.bendpoints.length>0){var R=this.edgeToDummyNodes.get(O);for(var L=0;L<R.length;L++){var D=R[L],A=new G(D.getCenterX(),D.getCenterY()),V=O.bendpoints.get(L);V.x=A.x,V.y=A.y,D.getOwner().remove(D)}this.graphManager.add(O,O.source,O.target)}}},F.transform=function(M,B,O,R){if(O!=null&&R!=null){var L=B;if(M<=50){var D=B/O;L-=(B-D)/50*(50-M)}else{var A=B*R;L+=(A-B)/50*(M-50)}return L}else{var V,N;if(M<=50)V=9*B/500,N=B/10;else V=9*B/50,N=-8*B;return V*M+N}},F.findCenterOfTree=function(M){var B=[];B=B.concat(M);var O=[],R=new Map,L=!1,D=null;if(B.length==1||B.length==2)L=!0,D=B[0];for(var A=0;A<B.length;A++){var V=B[A],N=V.getNeighborsList().size;if(R.set(V,V.getNeighborsList().size),N==1)O.push(V)}var E=[];E=E.concat(O);while(!L){var C=[];C=C.concat(E),E=[];for(var A=0;A<B.length;A++){var V=B[A],j=B.indexOf(V);if(j>=0)B.splice(j,1);var $=V.getNeighborsList();$.forEach(function(P){if(O.indexOf(P)<0){var S=R.get(P),T=S-1;if(T==1)E.push(P);R.set(P,T)}})}if(O=O.concat(E),B.length==1||B.length==2)L=!0,D=B[0]}return D},F.prototype.setGraphManager=function(M){this.graphManager=M},Z.exports=F},function(Z,J,Q){function K(){}K.seed=1,K.x=0,K.nextDouble=function(){return K.x=Math.sin(K.seed++)*1e4,K.x-Math.floor(K.x)},Z.exports=K},function(Z,J,Q){var K=Q(4);function U(X,Y){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}U.prototype.getWorldOrgX=function(){return this.lworldOrgX},U.prototype.setWorldOrgX=function(X){this.lworldOrgX=X},U.prototype.getWorldOrgY=function(){return this.lworldOrgY},U.prototype.setWorldOrgY=function(X){this.lworldOrgY=X},U.prototype.getWorldExtX=function(){return this.lworldExtX},U.prototype.setWorldExtX=function(X){this.lworldExtX=X},U.prototype.getWorldExtY=function(){return this.lworldExtY},U.prototype.setWorldExtY=function(X){this.lworldExtY=X},U.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},U.prototype.setDeviceOrgX=function(X){this.ldeviceOrgX=X},U.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},U.prototype.setDeviceOrgY=function(X){this.ldeviceOrgY=X},U.prototype.getDeviceExtX=function(){return this.ldeviceExtX},U.prototype.setDeviceExtX=function(X){this.ldeviceExtX=X},U.prototype.getDeviceExtY=function(){return this.ldeviceExtY},U.prototype.setDeviceExtY=function(X){this.ldeviceExtY=X},U.prototype.transformX=function(X){var Y=0,q=this.lworldExtX;if(q!=0)Y=this.ldeviceOrgX+(X-this.lworldOrgX)*this.ldeviceExtX/q;return Y},U.prototype.transformY=function(X){var Y=0,q=this.lworldExtY;if(q!=0)Y=this.ldeviceOrgY+(X-this.lworldOrgY)*this.ldeviceExtY/q;return Y},U.prototype.inverseTransformX=function(X){var Y=0,q=this.ldeviceExtX;if(q!=0)Y=this.lworldOrgX+(X-this.ldeviceOrgX)*this.lworldExtX/q;return Y},U.prototype.inverseTransformY=function(X){var Y=0,q=this.ldeviceExtY;if(q!=0)Y=this.lworldOrgY+(X-this.ldeviceOrgY)*this.lworldExtY/q;return Y},U.prototype.inverseTransformPoint=function(X){var Y=new K(this.inverseTransformX(X.x),this.inverseTransformY(X.y));return Y},Z.exports=U},function(Z,J,Q){function K(H){if(Array.isArray(H)){for(var F=0,M=Array(H.length);F<H.length;F++)M[F]=H[F];return M}else return Array.from(H)}var U=Q(15),X=Q(7),Y=Q(0),q=Q(8),W=Q(9);function G(){U.call(this),this.useSmartIdealEdgeLengthCalculation=X.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=X.DEFAULT_EDGE_LENGTH,this.springConstant=X.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=X.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=X.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=X.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=X.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*X.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=X.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=X.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=X.MAX_ITERATIONS}G.prototype=Object.create(U.prototype);for(var z in U)G[z]=U[z];G.prototype.initParameters=function(){U.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=X.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},G.prototype.calcIdealEdgeLengths=function(){var H,F,M,B,O,R,L=this.getGraphManager().getAllEdges();for(var D=0;D<L.length;D++)if(H=L[D],H.idealLength=this.idealEdgeLength,H.isInterGraph){if(M=H.getSource(),B=H.getTarget(),O=H.getSourceInLca().getEstimatedSize(),R=H.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation)H.idealLength+=O+R-2*Y.SIMPLE_NODE_SIZE;F=H.getLca().getInclusionTreeDepth(),H.idealLength+=X.DEFAULT_EDGE_LENGTH*X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(M.getInclusionTreeDepth()+B.getInclusionTreeDepth()-2*F)}},G.prototype.initSpringEmbedder=function(){var H=this.getAllNodes().length;if(this.incremental){if(H>X.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(this.coolingFactor*X.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(H-X.ADAPTATION_LOWER_NODE_LIMIT)/(X.ADAPTATION_UPPER_NODE_LIMIT-X.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-X.COOLING_ADAPTATION_FACTOR));this.maxNodeDisplacement=X.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(H>X.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(X.COOLING_ADAPTATION_FACTOR,1-(H-X.ADAPTATION_LOWER_NODE_LIMIT)/(X.ADAPTATION_UPPER_NODE_LIMIT-X.ADAPTATION_LOWER_NODE_LIMIT)*(1-X.COOLING_ADAPTATION_FACTOR));else this.coolingFactor=1;this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=X.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},G.prototype.calcSpringForces=function(){var H=this.getAllEdges(),F;for(var M=0;M<H.length;M++)F=H[M],this.calcSpringForce(F,F.idealLength)},G.prototype.calcRepulsionForces=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M,B,O,R,L=this.getAllNodes(),D;if(this.useFRGridVariant){if(this.totalIterations%X.GRID_CALCULATION_CHECK_PERIOD==1&&H)this.updateGrid();D=new Set;for(M=0;M<L.length;M++)O=L[M],this.calculateRepulsionForceOfANode(O,D,H,F),D.add(O)}else for(M=0;M<L.length;M++){O=L[M];for(B=M+1;B<L.length;B++){if(R=L[B],O.getOwner()!=R.getOwner())continue;this.calcRepulsionForce(O,R)}}},G.prototype.calcGravitationalForces=function(){var H,F=this.getAllNodesToApplyGravitation();for(var M=0;M<F.length;M++)H=F[M],this.calcGravitationalForce(H)},G.prototype.moveNodes=function(){var H=this.getAllNodes(),F;for(var M=0;M<H.length;M++)F=H[M],F.move()},G.prototype.calcSpringForce=function(H,F){var M=H.getSource(),B=H.getTarget(),O,R,L,D;if(this.uniformLeafNodeSizes&&M.getChild()==null&&B.getChild()==null)H.updateLengthSimple();else if(H.updateLength(),H.isOverlapingSourceAndTarget)return;if(O=H.getLength(),O==0)return;R=this.springConstant*(O-F),L=R*(H.lengthX/O),D=R*(H.lengthY/O),M.springForceX+=L,M.springForceY+=D,B.springForceX-=L,B.springForceY-=D},G.prototype.calcRepulsionForce=function(H,F){var M=H.getRect(),B=F.getRect(),O=[,,],R=[,,,,],L,D,A,V,N,E,C;if(M.intersects(B)){q.calcSeparationAmount(M,B,O,X.DEFAULT_EDGE_LENGTH/2),E=2*O[0],C=2*O[1];var j=H.noOfChildren*F.noOfChildren/(H.noOfChildren+F.noOfChildren);H.repulsionForceX-=j*E,H.repulsionForceY-=j*C,F.repulsionForceX+=j*E,F.repulsionForceY+=j*C}else{if(this.uniformLeafNodeSizes&&H.getChild()==null&&F.getChild()==null)L=B.getCenterX()-M.getCenterX(),D=B.getCenterY()-M.getCenterY();else q.getIntersection(M,B,R),L=R[2]-R[0],D=R[3]-R[1];if(Math.abs(L)<X.MIN_REPULSION_DIST)L=W.sign(L)*X.MIN_REPULSION_DIST;if(Math.abs(D)<X.MIN_REPULSION_DIST)D=W.sign(D)*X.MIN_REPULSION_DIST;A=L*L+D*D,V=Math.sqrt(A),N=this.repulsionConstant*H.noOfChildren*F.noOfChildren/A,E=N*L/V,C=N*D/V,H.repulsionForceX-=E,H.repulsionForceY-=C,F.repulsionForceX+=E,F.repulsionForceY+=C}},G.prototype.calcGravitationalForce=function(H){var F,M,B,O,R,L,D,A;if(F=H.getOwner(),M=(F.getRight()+F.getLeft())/2,B=(F.getTop()+F.getBottom())/2,O=H.getCenterX()-M,R=H.getCenterY()-B,L=Math.abs(O)+H.getWidth()/2,D=Math.abs(R)+H.getHeight()/2,H.getOwner()==this.graphManager.getRoot()){if(A=F.getEstimatedSize()*this.gravityRangeFactor,L>A||D>A)H.gravitationForceX=-this.gravityConstant*O,H.gravitationForceY=-this.gravityConstant*R}else if(A=F.getEstimatedSize()*this.compoundGravityRangeFactor,L>A||D>A)H.gravitationForceX=-this.gravityConstant*O*this.compoundGravityConstant,H.gravitationForceY=-this.gravityConstant*R*this.compoundGravityConstant},G.prototype.isConverged=function(){var H,F=!1;if(this.totalIterations>this.maxIterations/3)F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2;return H=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,H||F},G.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout)if(this.notAnimatedIterations==this.animationPeriod)this.update(),this.notAnimatedIterations=0;else this.notAnimatedIterations++},G.prototype.calcNoOfChildrenForAllNodes=function(){var H,F=this.graphManager.getAllNodes();for(var M=0;M<F.length;M++)H=F[M],H.noOfChildren=H.getNoOfChildren()},G.prototype.calcGrid=function(H){var F=0,M=0;F=parseInt(Math.ceil((H.getRight()-H.getLeft())/this.repulsionRange)),M=parseInt(Math.ceil((H.getBottom()-H.getTop())/this.repulsionRange));var B=Array(F);for(var O=0;O<F;O++)B[O]=Array(M);for(var O=0;O<F;O++)for(var R=0;R<M;R++)B[O][R]=[];return B},G.prototype.addNodeToGrid=function(H,F,M){var B=0,O=0,R=0,L=0;B=parseInt(Math.floor((H.getRect().x-F)/this.repulsionRange)),O=parseInt(Math.floor((H.getRect().width+H.getRect().x-F)/this.repulsionRange)),R=parseInt(Math.floor((H.getRect().y-M)/this.repulsionRange)),L=parseInt(Math.floor((H.getRect().height+H.getRect().y-M)/this.repulsionRange));for(var D=B;D<=O;D++)for(var A=R;A<=L;A++)this.grid[D][A].push(H),H.setGridCoordinates(B,O,R,L)},G.prototype.updateGrid=function(){var H,F,M=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(H=0;H<M.length;H++)F=M[H],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},G.prototype.calculateRepulsionForceOfANode=function(H,F,M,B){if(this.totalIterations%X.GRID_CALCULATION_CHECK_PERIOD==1&&M||B){var O=new Set;H.surrounding=[];var R,L=this.grid;for(var D=H.startX-1;D<H.finishX+2;D++)for(var A=H.startY-1;A<H.finishY+2;A++)if(!(D<0||A<0||D>=L.length||A>=L[0].length))for(var V=0;V<L[D][A].length;V++){if(R=L[D][A][V],H.getOwner()!=R.getOwner()||H==R)continue;if(!F.has(R)&&!O.has(R)){var N=Math.abs(H.getCenterX()-R.getCenterX())-(H.getWidth()/2+R.getWidth()/2),E=Math.abs(H.getCenterY()-R.getCenterY())-(H.getHeight()/2+R.getHeight()/2);if(N<=this.repulsionRange&&E<=this.repulsionRange)O.add(R)}}H.surrounding=[].concat(K(O))}for(D=0;D<H.surrounding.length;D++)this.calcRepulsionForce(H,H.surrounding[D])},G.prototype.calcRepulsionRange=function(){return 0},Z.exports=G},function(Z,J,Q){var K=Q(1),U=Q(7);function X(q,W,G){K.call(this,q,W,G),this.idealLength=U.DEFAULT_EDGE_LENGTH}X.prototype=Object.create(K.prototype);for(var Y in K)X[Y]=K[Y];Z.exports=X},function(Z,J,Q){var K=Q(3);function U(Y,q,W,G){K.call(this,Y,q,W,G),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}U.prototype=Object.create(K.prototype);for(var X in K)U[X]=K[X];U.prototype.setGridCoordinates=function(Y,q,W,G){this.startX=Y,this.finishX=q,this.startY=W,this.finishY=G},Z.exports=U},function(Z,J,Q){function K(U,X){if(this.width=0,this.height=0,U!==null&&X!==null)this.height=X,this.width=U}K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(U){this.width=U},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(U){this.height=U},Z.exports=K},function(Z,J,Q){var K=Q(14);function U(){this.map={},this.keys=[]}U.prototype.put=function(X,Y){var q=K.createID(X);if(!this.contains(q))this.map[q]=Y,this.keys.push(X)},U.prototype.contains=function(X){var Y=K.createID(X);return this.map[X]!=null},U.prototype.get=function(X){var Y=K.createID(X);return this.map[Y]},U.prototype.keySet=function(){return this.keys},Z.exports=U},function(Z,J,Q){var K=Q(14);function U(){this.set={}}U.prototype.add=function(X){var Y=K.createID(X);if(!this.contains(Y))this.set[Y]=X},U.prototype.remove=function(X){delete this.set[K.createID(X)]},U.prototype.clear=function(){this.set={}},U.prototype.contains=function(X){return this.set[K.createID(X)]==X},U.prototype.isEmpty=function(){return this.size()===0},U.prototype.size=function(){return Object.keys(this.set).length},U.prototype.addAllTo=function(X){var Y=Object.keys(this.set),q=Y.length;for(var W=0;W<q;W++)X.push(this.set[Y[W]])},U.prototype.size=function(){return Object.keys(this.set).length},U.prototype.addAll=function(X){var Y=X.length;for(var q=0;q<Y;q++){var W=X[q];this.add(W)}},Z.exports=U},function(Z,J,Q){var K=function(){function q(W,G){for(var z=0;z<G.length;z++){var H=G[z];if(H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H)H.writable=!0;Object.defineProperty(W,H.key,H)}}return function(W,G,z){if(G)q(W.prototype,G);if(z)q(W,z);return W}}();function U(q,W){if(!(q instanceof W))throw TypeError("Cannot call a class as a function")}var X=Q(11),Y=function(){function q(W,G){if(U(this,q),G!==null||G!==void 0)this.compareFunction=this._defaultCompareFunction;var z=void 0;if(W instanceof X)z=W.size();else z=W.length;this._quicksort(W,0,z-1)}return K(q,[{key:"_quicksort",value:function(G,z,H){if(z<H){var F=this._partition(G,z,H);this._quicksort(G,z,F),this._quicksort(G,F+1,H)}}},{key:"_partition",value:function(G,z,H){var F=this._get(G,z),M=z,B=H;while(!0){while(this.compareFunction(F,this._get(G,B)))B--;while(this.compareFunction(this._get(G,M),F))M++;if(M<B)this._swap(G,M,B),M++,B--;else return B}}},{key:"_get",value:function(G,z){if(G instanceof X)return G.get_object_at(z);else return G[z]}},{key:"_set",value:function(G,z,H){if(G instanceof X)G.set_object_at(z,H);else G[z]=H}},{key:"_swap",value:function(G,z,H){var F=this._get(G,z);this._set(G,z,this._get(G,H)),this._set(G,H,F)}},{key:"_defaultCompareFunction",value:function(G,z){return z>G}}]),q}();Z.exports=Y},function(Z,J,Q){var K=function(){function Y(q,W){for(var G=0;G<W.length;G++){var z=W[G];if(z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z)z.writable=!0;Object.defineProperty(q,z.key,z)}}return function(q,W,G){if(W)Y(q.prototype,W);if(G)Y(q,G);return q}}();function U(Y,q){if(!(Y instanceof q))throw TypeError("Cannot call a class as a function")}var X=function(){function Y(q,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;U(this,Y),this.sequence1=q,this.sequence2=W,this.match_score=G,this.mismatch_penalty=z,this.gap_penalty=H,this.iMax=q.length+1,this.jMax=W.length+1,this.grid=Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=Array(this.jMax);for(var M=0;M<this.jMax;M++)this.grid[F][M]=0}this.tracebackGrid=Array(this.iMax);for(var B=0;B<this.iMax;B++){this.tracebackGrid[B]=Array(this.jMax);for(var O=0;O<this.jMax;O++)this.tracebackGrid[B][O]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return K(Y,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var W=1;W<this.jMax;W++)this.grid[0][W]=this.grid[0][W-1]+this.gap_penalty,this.tracebackGrid[0][W]=[!1,!1,!0];for(var G=1;G<this.iMax;G++)this.grid[G][0]=this.grid[G-1][0]+this.gap_penalty,this.tracebackGrid[G][0]=[!1,!0,!1];for(var z=1;z<this.iMax;z++)for(var H=1;H<this.jMax;H++){var F=void 0;if(this.sequence1[z-1]===this.sequence2[H-1])F=this.grid[z-1][H-1]+this.match_score;else F=this.grid[z-1][H-1]+this.mismatch_penalty;var M=this.grid[z-1][H]+this.gap_penalty,B=this.grid[z][H-1]+this.gap_penalty,O=[F,M,B],R=this.arrayAllMaxIndexes(O);this.grid[z][H]=O[R[0]],this.tracebackGrid[z][H]=[R.includes(0),R.includes(1),R.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var W=[];W.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(W[0]){var G=W[0],z=this.tracebackGrid[G.pos[0]][G.pos[1]];if(z[0])W.push({pos:[G.pos[0]-1,G.pos[1]-1],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(z[1])W.push({pos:[G.pos[0]-1,G.pos[1]],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:"-"+G.seq2});if(z[2])W.push({pos:[G.pos[0],G.pos[1]-1],seq1:"-"+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(G.pos[0]===0&&G.pos[1]===0)this.alignments.push({sequence1:G.seq1,sequence2:G.seq2});W.shift()}return this.alignments}},{key:"getAllIndexes",value:function(W,G){var z=[],H=-1;while((H=W.indexOf(G,H+1))!==-1)z.push(H);return z}},{key:"arrayAllMaxIndexes",value:function(W){return this.getAllIndexes(W,Math.max.apply(null,W))}}]),Y}();Z.exports=X},function(Z,J,Q){var K=function(){return};K.FDLayout=Q(18),K.FDLayoutConstants=Q(7),K.FDLayoutEdge=Q(19),K.FDLayoutNode=Q(20),K.DimensionD=Q(21),K.HashMap=Q(22),K.HashSet=Q(23),K.IGeometry=Q(8),K.IMath=Q(9),K.Integer=Q(10),K.Point=Q(12),K.PointD=Q(4),K.RandomSeed=Q(16),K.RectangleD=Q(13),K.Transform=Q(17),K.UniqueIDGeneretor=Q(14),K.Quicksort=Q(24),K.LinkedList=Q(11),K.LGraphObject=Q(2),K.LGraph=Q(5),K.LEdge=Q(1),K.LGraphManager=Q(6),K.LNode=Q(3),K.Layout=Q(15),K.LayoutConstants=Q(0),K.NeedlemanWunsch=Q(25),Z.exports=K},function(Z,J,Q){function K(){this.listeners=[]}var U=K.prototype;U.addListener=function(X,Y){this.listeners.push({event:X,callback:Y})},U.removeListener=function(X,Y){for(var q=this.listeners.length;q>=0;q--){var W=this.listeners[q];if(W.event===X&&W.callback===Y)this.listeners.splice(q,1)}},U.emit=function(X,Y){for(var q=0;q<this.listeners.length;q++){var W=this.listeners[q];if(X===W.event)W.callback(Y)}},Z.exports=K}])})});var ni=u9((_D,ri)=>{(function(J,Q){if(typeof _D==="object"&&typeof ri==="object")ri.exports=Q(si());else if(typeof define==="function"&&define.amd)define(["layout-base"],Q);else if(typeof _D==="object")_D.coseBase=Q(si());else J.coseBase=Q(J.layoutBase)})(_D,function(Z){return function(J){var Q={};function K(U){if(Q[U])return Q[U].exports;var X=Q[U]={i:U,l:!1,exports:{}};return J[U].call(X.exports,X,X.exports,K),X.l=!0,X.exports}return K.m=J,K.c=Q,K.i=function(U){return U},K.d=function(U,X,Y){if(!K.o(U,X))Object.defineProperty(U,X,{configurable:!1,enumerable:!0,get:Y})},K.n=function(U){var X=U&&U.__esModule?function(){return U.default}:function(){return U};return K.d(X,"a",X),X},K.o=function(U,X){return Object.prototype.hasOwnProperty.call(U,X)},K.p="",K(K.s=7)}([function(J,Q){J.exports=Z},function(J,Q,K){var U=K(0).FDLayoutConstants;function X(){}for(var Y in U)X[Y]=U[Y];X.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,X.DEFAULT_RADIAL_SEPARATION=U.DEFAULT_EDGE_LENGTH,X.DEFAULT_COMPONENT_SEPERATION=60,X.TILE=!0,X.TILING_PADDING_VERTICAL=10,X.TILING_PADDING_HORIZONTAL=10,X.TREE_REDUCTION_ON_INCREMENTAL=!1,J.exports=X},function(J,Q,K){var U=K(0).FDLayoutEdge;function X(q,W,G){U.call(this,q,W,G)}X.prototype=Object.create(U.prototype);for(var Y in U)X[Y]=U[Y];J.exports=X},function(J,Q,K){var U=K(0).LGraph;function X(q,W,G){U.call(this,q,W,G)}X.prototype=Object.create(U.prototype);for(var Y in U)X[Y]=U[Y];J.exports=X},function(J,Q,K){var U=K(0).LGraphManager;function X(q){U.call(this,q)}X.prototype=Object.create(U.prototype);for(var Y in U)X[Y]=U[Y];J.exports=X},function(J,Q,K){var U=K(0).FDLayoutNode,X=K(0).IMath;function Y(W,G,z,H){U.call(this,W,G,z,H)}Y.prototype=Object.create(U.prototype);for(var q in U)Y[q]=U[q];Y.prototype.move=function(){var W=this.graphManager.getLayout();if(this.displacementX=W.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=W.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>W.coolingFactor*W.maxNodeDisplacement)this.displacementX=W.coolingFactor*W.maxNodeDisplacement*X.sign(this.displacementX);if(Math.abs(this.displacementY)>W.coolingFactor*W.maxNodeDisplacement)this.displacementY=W.coolingFactor*W.maxNodeDisplacement*X.sign(this.displacementY);if(this.child==null)this.moveBy(this.displacementX,this.displacementY);else if(this.child.getNodes().length==0)this.moveBy(this.displacementX,this.displacementY);else this.propogateDisplacementToChildren(this.displacementX,this.displacementY);W.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},Y.prototype.propogateDisplacementToChildren=function(W,G){var z=this.getChild().getNodes(),H;for(var F=0;F<z.length;F++)if(H=z[F],H.getChild()==null)H.moveBy(W,G),H.displacementX+=W,H.displacementY+=G;else H.propogateDisplacementToChildren(W,G)},Y.prototype.setPred1=function(W){this.pred1=W},Y.prototype.getPred1=function(){return pred1},Y.prototype.getPred2=function(){return pred2},Y.prototype.setNext=function(W){this.next=W},Y.prototype.getNext=function(){return next},Y.prototype.setProcessed=function(W){this.processed=W},Y.prototype.isProcessed=function(){return processed},J.exports=Y},function(J,Q,K){var U=K(0).FDLayout,X=K(4),Y=K(3),q=K(5),W=K(2),G=K(1),z=K(0).FDLayoutConstants,H=K(0).LayoutConstants,F=K(0).Point,M=K(0).PointD,B=K(0).Layout,O=K(0).Integer,R=K(0).IGeometry,L=K(0).LGraph,D=K(0).Transform;function A(){U.call(this),this.toBeTiled={}}A.prototype=Object.create(U.prototype);for(var V in U)A[V]=U[V];A.prototype.newGraphManager=function(){var N=new X(this);return this.graphManager=N,N},A.prototype.newGraph=function(N){return new Y(null,this.graphManager,N)},A.prototype.newNode=function(N){return new q(this.graphManager,N)},A.prototype.newEdge=function(N){return new W(null,null,N)},A.prototype.initParameters=function(){if(U.prototype.initParameters.call(this,arguments),!this.isSubLayout){if(G.DEFAULT_EDGE_LENGTH<10)this.idealEdgeLength=10;else this.idealEdgeLength=G.DEFAULT_EDGE_LENGTH;this.useSmartIdealEdgeLengthCalculation=G.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=z.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=z.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=z.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=z.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=z.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=z.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/z.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=z.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1}},A.prototype.layout=function(){var N=H.DEFAULT_CREATE_BENDS_AS_NEEDED;if(N)this.createBendpoints(),this.graphManager.resetAllEdges();return this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(j){return E.has(j)});this.graphManager.setAllNodesToApplyGravitation(C),this.positionNodesRandomly()}}else if(G.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(k){return E.has(k)});this.graphManager.setAllNodesToApplyGravitation(C)}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%z.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.coolingCycle++,this.layoutQuality==0)this.coolingAdjuster=this.coolingCycle;else if(this.layoutQuality==1)this.coolingAdjuster=this.coolingCycle/3;this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function($){return N.has($)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=z.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;if(this.afterGrowthIterations%10==0)this.graphManager.updateBounds(),this.updateGrid();this.coolingFactor=z.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var C=!this.isTreeGrowing&&!this.isGrowthFinished,j=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(C,j),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){var N=this.graphManager.getAllNodes(),E={};for(var C=0;C<N.length;C++){var j=N[C].rect,$=N[C].id;E[$]={id:$,x:j.getCenterX(),y:j.getCenterY(),w:j.width,h:j.height}}return E},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var N=!1;if(z.ANIMATE==="during")this.emit("layoutstarted");else{while(!N)N=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var N=[],E,C=this.graphManager.getGraphs(),j=C.length,$;for($=0;$<j;$++)if(E=C[$],E.updateConnected(),!E.isConnected)N=N.concat(E.getNodes());return N},A.prototype.createBendpoints=function(){var N=[];N=N.concat(this.graphManager.getAllEdges());var E=new Set,C;for(C=0;C<N.length;C++){var j=N[C];if(!E.has(j)){var $=j.getSource(),k=j.getTarget();if($==k)j.getBendpoints().push(new M),j.getBendpoints().push(new M),this.createDummyNodesForBendpoints(j),E.add(j);else{var w=[];if(w=w.concat($.getEdgeListToNode(k)),w=w.concat(k.getEdgeListToNode($)),!E.has(w[0])){if(w.length>1){var P;for(P=0;P<w.length;P++){var S=w[P];S.getBendpoints().push(new M),this.createDummyNodesForBendpoints(S)}}w.forEach(function(T){E.add(T)})}}}if(E.size==N.length)break}},A.prototype.positionNodesRadially=function(N){var E=new F(0,0),C=Math.ceil(Math.sqrt(N.length)),j=0,$=0,k=0,w=new M(0,0);for(var P=0;P<N.length;P++){if(P%C==0){if(k=0,$=j,P!=0)$+=G.DEFAULT_COMPONENT_SEPERATION;j=0}var S=N[P],T=B.findCenterOfTree(S);if(E.x=k,E.y=$,w=A.radialLayout(S,T,E),w.y>j)j=Math.floor(w.y);k=Math.floor(w.x+G.DEFAULT_COMPONENT_SEPERATION)}this.transform(new M(H.WORLD_CENTER_X-w.x/2,H.WORLD_CENTER_Y-w.y/2))},A.radialLayout=function(N,E,C){var j=Math.max(this.maxDiagonalInTree(N),G.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(E,null,0,359,0,j);var $=L.calculateBounds(N),k=new D;k.setDeviceOrgX($.getMinX()),k.setDeviceOrgY($.getMinY()),k.setWorldOrgX(C.x),k.setWorldOrgY(C.y);for(var w=0;w<N.length;w++){var P=N[w];P.transform(k)}var S=new M($.getMaxX(),$.getMaxY());return k.inverseTransformPoint(S)},A.branchRadialLayout=function(N,E,C,j,$,k){var w=(j-C+1)/2;if(w<0)w+=180;var P=(w+C)%360,S=P*R.TWO_PI/360,T=Math.cos(S),_=$*Math.cos(S),v=$*Math.sin(S);N.setCenter(_,v);var x=[];x=x.concat(N.getEdges());var b=x.length;if(E!=null)b--;var y=0,u=x.length,h,p=N.getEdgesBetween(E);while(p.length>1){var r=p[0];p.splice(0,1);var t=x.indexOf(r);if(t>=0)x.splice(t,1);u--,b--}if(E!=null)h=(x.indexOf(p[0])+1)%u;else h=0;var d=Math.abs(j-C)/b;for(var X0=h;y!=b;X0=++X0%u){var a=x[X0].getOtherEnd(N);if(a==E)continue;var z0=(C+y*d)%360,J0=(z0+d)%360;A.branchRadialLayout(a,N,z0,J0,$+k,k),y++}},A.maxDiagonalInTree=function(N){var E=O.MIN_VALUE;for(var C=0;C<N.length;C++){var j=N[C],$=j.getDiagonal();if($>E)E=$}return E},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var N=this,E={};this.memberGroups={},this.idToDummyNode={};var C=[],j=this.graphManager.getAllNodes();for(var $=0;$<j.length;$++){var k=j[$],w=k.getParent();if(this.getNodeDegreeWithChildren(k)===0&&(w.id==null||!this.getToBeTiled(w)))C.push(k)}for(var $=0;$<C.length;$++){var k=C[$],P=k.getParent().id;if(typeof E[P]>"u")E[P]=[];E[P]=E[P].concat(k)}Object.keys(E).forEach(function(S){if(E[S].length>1){var T="DummyCompound_"+S;N.memberGroups[T]=E[S];var _=E[S][0].getParent(),v=new q(N.graphManager);v.id=T,v.paddingLeft=_.paddingLeft||0,v.paddingRight=_.paddingRight||0,v.paddingBottom=_.paddingBottom||0,v.paddingTop=_.paddingTop||0,N.idToDummyNode[T]=v;var x=N.getGraphManager().add(N.newGraph(),v),b=_.getChild();b.add(v);for(var y=0;y<E[S].length;y++){var u=E[S][y];b.remove(u),x.add(u)}}})},A.prototype.clearCompounds=function(){var N={},E={};this.performDFSOnCompounds();for(var C=0;C<this.compoundOrder.length;C++)E[this.compoundOrder[C].id]=this.compoundOrder[C],N[this.compoundOrder[C].id]=[].concat(this.compoundOrder[C].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[C].getChild()),this.compoundOrder[C].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(N,E)},A.prototype.clearZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(C){var j=N.idToDummyNode[C];E[C]=N.tileNodes(N.memberGroups[C],j.paddingLeft+j.paddingRight),j.rect.width=E[C].width,j.rect.height=E[C].height})},A.prototype.repopulateCompounds=function(){for(var N=this.compoundOrder.length-1;N>=0;N--){var E=this.compoundOrder[N],C=E.id,j=E.paddingLeft,$=E.paddingTop;this.adjustLocations(this.tiledMemberPack[C],E.rect.x,E.rect.y,j,$)}},A.prototype.repopulateZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(C){var j=N.idToDummyNode[C],$=j.paddingLeft,k=j.paddingTop;N.adjustLocations(E[C],j.rect.x,j.rect.y,$,k)})},A.prototype.getToBeTiled=function(N){var E=N.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var C=N.getChild();if(C==null)return this.toBeTiled[E]=!1,!1;var j=C.getNodes();for(var $=0;$<j.length;$++){var k=j[$];if(this.getNodeDegree(k)>0)return this.toBeTiled[E]=!1,!1;if(k.getChild()==null){this.toBeTiled[k.id]=!1;continue}if(!this.getToBeTiled(k))return this.toBeTiled[E]=!1,!1}return this.toBeTiled[E]=!0,!0},A.prototype.getNodeDegree=function(N){var E=N.id,C=N.getEdges(),j=0;for(var $=0;$<C.length;$++){var k=C[$];if(k.getSource().id!==k.getTarget().id)j=j+1}return j},A.prototype.getNodeDegreeWithChildren=function(N){var E=this.getNodeDegree(N);if(N.getChild()==null)return E;var C=N.getChild().getNodes();for(var j=0;j<C.length;j++){var $=C[j];E+=this.getNodeDegreeWithChildren($)}return E},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(N){for(var E=0;E<N.length;E++){var C=N[E];if(C.getChild()!=null)this.fillCompexOrderByDFS(C.getChild().getNodes());if(this.getToBeTiled(C))this.compoundOrder.push(C)}},A.prototype.adjustLocations=function(N,E,C,j,$){E+=j,C+=$;var k=E;for(var w=0;w<N.rows.length;w++){var P=N.rows[w];E=k;var S=0;for(var T=0;T<P.length;T++){var _=P[T];if(_.rect.x=E,_.rect.y=C,E+=_.rect.width+N.horizontalPadding,_.rect.height>S)S=_.rect.height}C+=S+N.verticalPadding}},A.prototype.tileCompoundMembers=function(N,E){var C=this;this.tiledMemberPack=[],Object.keys(N).forEach(function(j){var $=E[j];C.tiledMemberPack[j]=C.tileNodes(N[j],$.paddingLeft+$.paddingRight),$.rect.width=C.tiledMemberPack[j].width,$.rect.height=C.tiledMemberPack[j].height})},A.prototype.tileNodes=function(N,E){var{TILING_PADDING_VERTICAL:C,TILING_PADDING_HORIZONTAL:j}=G,$={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:C,horizontalPadding:j};N.sort(function(P,S){if(P.rect.width*P.rect.height>S.rect.width*S.rect.height)return-1;if(P.rect.width*P.rect.height<S.rect.width*S.rect.height)return 1;return 0});for(var k=0;k<N.length;k++){var w=N[k];if($.rows.length==0)this.insertNodeToRow($,w,0,E);else if(this.canAddHorizontal($,w.rect.width,w.rect.height))this.insertNodeToRow($,w,this.getShortestRowIndex($),E);else this.insertNodeToRow($,w,$.rows.length,E);this.shiftToLastRow($)}return $},A.prototype.insertNodeToRow=function(N,E,C,j){var $=j;if(C==N.rows.length){var k=[];N.rows.push(k),N.rowWidth.push($),N.rowHeight.push(0)}var w=N.rowWidth[C]+E.rect.width;if(N.rows[C].length>0)w+=N.horizontalPadding;if(N.rowWidth[C]=w,N.width<w)N.width=w;var P=E.rect.height;if(C>0)P+=N.verticalPadding;var S=0;if(P>N.rowHeight[C])S=N.rowHeight[C],N.rowHeight[C]=P,S=N.rowHeight[C]-S;N.height+=S,N.rows[C].push(E)},A.prototype.getShortestRowIndex=function(N){var E=-1,C=Number.MAX_VALUE;for(var j=0;j<N.rows.length;j++)if(N.rowWidth[j]<C)E=j,C=N.rowWidth[j];return E},A.prototype.getLongestRowIndex=function(N){var E=-1,C=Number.MIN_VALUE;for(var j=0;j<N.rows.length;j++)if(N.rowWidth[j]>C)E=j,C=N.rowWidth[j];return E},A.prototype.canAddHorizontal=function(N,E,C){var j=this.getShortestRowIndex(N);if(j<0)return!0;var $=N.rowWidth[j];if($+N.horizontalPadding+E<=N.width)return!0;var k=0;if(N.rowHeight[j]<C){if(j>0)k=C+N.verticalPadding-N.rowHeight[j]}var w;if(N.width-$>=E+N.horizontalPadding)w=(N.height+k)/($+E+N.horizontalPadding);else w=(N.height+k)/N.width;k=C+N.verticalPadding;var P;if(N.width<E)P=(N.height+k)/E;else P=(N.height+k)/N.width;if(P<1)P=1/P;if(w<1)w=1/w;return w<P},A.prototype.shiftToLastRow=function(N){var E=this.getLongestRowIndex(N),C=N.rowWidth.length-1,j=N.rows[E],$=j[j.length-1],k=$.width+N.horizontalPadding;if(N.width-N.rowWidth[C]>k&&E!=C){j.splice(-1,1),N.rows[C].push($),N.rowWidth[E]=N.rowWidth[E]-k,N.rowWidth[C]=N.rowWidth[C]+k,N.width=N.rowWidth[instance.getLongestRowIndex(N)];var w=Number.MIN_VALUE;for(var P=0;P<j.length;P++)if(j[P].height>w)w=j[P].height;if(E>0)w+=N.verticalPadding;var S=N.rowHeight[E]+N.rowHeight[C];if(N.rowHeight[E]=w,N.rowHeight[C]<$.height+N.verticalPadding)N.rowHeight[C]=$.height+N.verticalPadding;var T=N.rowHeight[E]+N.rowHeight[C];N.height+=T-S,this.shiftToLastRow(N)}},A.prototype.tilingPreLayout=function(){if(G.TILE)this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers()},A.prototype.tilingPostLayout=function(){if(G.TILE)this.repopulateZeroDegreeMembers(),this.repopulateCompounds()},A.prototype.reduceTrees=function(){var N=[],E=!0,C;while(E){var j=this.graphManager.getAllNodes(),$=[];E=!1;for(var k=0;k<j.length;k++)if(C=j[k],C.getEdges().length==1&&!C.getEdges()[0].isInterGraph&&C.getChild()==null)$.push([C,C.getEdges()[0],C.getOwner()]),E=!0;if(E==!0){var w=[];for(var P=0;P<$.length;P++)if($[P][0].getEdges().length==1)w.push($[P]),$[P][0].getOwner().remove($[P][0]);N.push(w),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=N},A.prototype.growTree=function(N){var E=N.length,C=N[E-1],j;for(var $=0;$<C.length;$++)j=C[$],this.findPlaceforPrunedNode(j),j[2].add(j[0]),j[2].add(j[1],j[1].source,j[1].target);N.splice(N.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(N){var E,C,j=N[0];if(j==N[1].source)C=N[1].target;else C=N[1].source;var{startX:$,finishX:k,startY:w,finishY:P}=C,S=0,T=0,_=0,v=0,x=[S,_,T,v];if(w>0)for(var b=$;b<=k;b++)x[0]+=this.grid[b][w-1].length+this.grid[b][w].length-1;if(k<this.grid.length-1)for(var b=w;b<=P;b++)x[1]+=this.grid[k+1][b].length+this.grid[k][b].length-1;if(P<this.grid[0].length-1)for(var b=$;b<=k;b++)x[2]+=this.grid[b][P+1].length+this.grid[b][P].length-1;if($>0)for(var b=w;b<=P;b++)x[3]+=this.grid[$-1][b].length+this.grid[$][b].length-1;var y=O.MAX_VALUE,u,h;for(var p=0;p<x.length;p++)if(x[p]<y)y=x[p],u=1,h=p;else if(x[p]==y)u++;if(u==3&&y==0){if(x[0]==0&&x[1]==0&&x[2]==0)E=1;else if(x[0]==0&&x[1]==0&&x[3]==0)E=0;else if(x[0]==0&&x[2]==0&&x[3]==0)E=3;else if(x[1]==0&&x[2]==0&&x[3]==0)E=2}else if(u==2&&y==0){var r=Math.floor(Math.random()*2);if(x[0]==0&&x[1]==0)if(r==0)E=0;else E=1;else if(x[0]==0&&x[2]==0)if(r==0)E=0;else E=2;else if(x[0]==0&&x[3]==0)if(r==0)E=0;else E=3;else if(x[1]==0&&x[2]==0)if(r==0)E=1;else E=2;else if(x[1]==0&&x[3]==0)if(r==0)E=1;else E=3;else if(r==0)E=2;else E=3}else if(u==4&&y==0){var r=Math.floor(Math.random()*4);E=r}else E=h;if(E==0)j.setCenter(C.getCenterX(),C.getCenterY()-C.getHeight()/2-z.DEFAULT_EDGE_LENGTH-j.getHeight()/2);else if(E==1)j.setCenter(C.getCenterX()+C.getWidth()/2+z.DEFAULT_EDGE_LENGTH+j.getWidth()/2,C.getCenterY());else if(E==2)j.setCenter(C.getCenterX(),C.getCenterY()+C.getHeight()/2+z.DEFAULT_EDGE_LENGTH+j.getHeight()/2);else j.setCenter(C.getCenterX()-C.getWidth()/2-z.DEFAULT_EDGE_LENGTH-j.getWidth()/2,C.getCenterY())},J.exports=A},function(J,Q,K){var U={};U.layoutBase=K(0),U.CoSEConstants=K(1),U.CoSEEdge=K(2),U.CoSEGraph=K(3),U.CoSEGraphManager=K(4),U.CoSELayout=K(6),U.CoSENode=K(5),J.exports=U}])})});var TN0=u9((fD,ai)=>{(function(J,Q){if(typeof fD==="object"&&typeof ai==="object")ai.exports=Q(ni());else if(typeof define==="function"&&define.amd)define(["cose-base"],Q);else if(typeof fD==="object")fD.cytoscapeCoseBilkent=Q(ni());else J.cytoscapeCoseBilkent=Q(J.coseBase)})(fD,function(Z){return function(J){var Q={};function K(U){if(Q[U])return Q[U].exports;var X=Q[U]={i:U,l:!1,exports:{}};return J[U].call(X.exports,X,X.exports,K),X.l=!0,X.exports}return K.m=J,K.c=Q,K.i=function(U){return U},K.d=function(U,X,Y){if(!K.o(U,X))Object.defineProperty(U,X,{configurable:!1,enumerable:!0,get:Y})},K.n=function(U){var X=U&&U.__esModule?function(){return U.default}:function(){return U};return K.d(X,"a",X),X},K.o=function(U,X){return Object.prototype.hasOwnProperty.call(U,X)},K.p="",K(K.s=1)}([function(J,Q){J.exports=Z},function(J,Q,K){var U=K(0).layoutBase.LayoutConstants,X=K(0).layoutBase.FDLayoutConstants,Y=K(0).CoSEConstants,q=K(0).CoSELayout,W=K(0).CoSENode,G=K(0).layoutBase.PointD,z=K(0).layoutBase.DimensionD,H={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:0.45,nestingFactor:0.1,gravity:0.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.5};function F(R,L){var D={};for(var A in R)D[A]=R[A];for(var A in L)D[A]=L[A];return D}function M(R){this.options=F(H,R),B(this.options)}var B=function(L){if(L.nodeRepulsion!=null)Y.DEFAULT_REPULSION_STRENGTH=X.DEFAULT_REPULSION_STRENGTH=L.nodeRepulsion;if(L.idealEdgeLength!=null)Y.DEFAULT_EDGE_LENGTH=X.DEFAULT_EDGE_LENGTH=L.idealEdgeLength;if(L.edgeElasticity!=null)Y.DEFAULT_SPRING_STRENGTH=X.DEFAULT_SPRING_STRENGTH=L.edgeElasticity;if(L.nestingFactor!=null)Y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=L.nestingFactor;if(L.gravity!=null)Y.DEFAULT_GRAVITY_STRENGTH=X.DEFAULT_GRAVITY_STRENGTH=L.gravity;if(L.numIter!=null)Y.MAX_ITERATIONS=X.MAX_ITERATIONS=L.numIter;if(L.gravityRange!=null)Y.DEFAULT_GRAVITY_RANGE_FACTOR=X.DEFAULT_GRAVITY_RANGE_FACTOR=L.gravityRange;if(L.gravityCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=X.DEFAULT_COMPOUND_GRAVITY_STRENGTH=L.gravityCompound;if(L.gravityRangeCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=L.gravityRangeCompound;if(L.initialEnergyOnIncremental!=null)Y.DEFAULT_COOLING_FACTOR_INCREMENTAL=X.DEFAULT_COOLING_FACTOR_INCREMENTAL=L.initialEnergyOnIncremental;if(L.quality=="draft")U.QUALITY=0;else if(L.quality=="proof")U.QUALITY=2;else U.QUALITY=1;Y.NODE_DIMENSIONS_INCLUDE_LABELS=X.NODE_DIMENSIONS_INCLUDE_LABELS=U.NODE_DIMENSIONS_INCLUDE_LABELS=L.nodeDimensionsIncludeLabels,Y.DEFAULT_INCREMENTAL=X.DEFAULT_INCREMENTAL=U.DEFAULT_INCREMENTAL=!L.randomize,Y.ANIMATE=X.ANIMATE=U.ANIMATE=L.animate,Y.TILE=L.tile,Y.TILING_PADDING_VERTICAL=typeof L.tilingPaddingVertical==="function"?L.tilingPaddingVertical.call():L.tilingPaddingVertical,Y.TILING_PADDING_HORIZONTAL=typeof L.tilingPaddingHorizontal==="function"?L.tilingPaddingHorizontal.call():L.tilingPaddingHorizontal};M.prototype.run=function(){var R,L,D=this.options,A=this.idToLNode={},V=this.layout=new q,N=this;N.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var E=V.newGraphManager();this.gm=E;var C=this.options.eles.nodes(),j=this.options.eles.edges();this.root=E.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(C),V);for(var $=0;$<j.length;$++){var k=j[$],w=this.idToLNode[k.data("source")],P=this.idToLNode[k.data("target")];if(w!==P&&w.getEdgesBetween(P).length==0){var S=E.add(V.newEdge(),w,P);S.id=k.id()}}var T=function(x,b){if(typeof x==="number")x=b;var y=x.data("id"),u=N.idToLNode[y];return{x:u.getRect().getCenterX(),y:u.getRect().getCenterY()}},_=function v(){var x=function(){if(D.fit)D.cy.fit(D.eles,D.padding);if(!R)R=!0,N.cy.one("layoutready",D.ready),N.cy.trigger({type:"layoutready",layout:N})},b=N.options.refresh,y;for(var u=0;u<b&&!y;u++)y=N.stopped||N.layout.tick();if(y){if(V.checkLayoutSuccess()&&!V.isSubLayout)V.doPostLayout();if(V.tilingPostLayout)V.tilingPostLayout();if(V.isLayoutFinished=!0,N.options.eles.nodes().positions(T),x(),N.cy.one("layoutstop",N.options.stop),N.cy.trigger({type:"layoutstop",layout:N}),L)cancelAnimationFrame(L);R=!1;return}var h=N.layout.getPositionsData();D.eles.nodes().positions(function(p,r){if(typeof p==="number")p=r;if(!p.isParent()){var t=p.id(),d=h[t],X0=p;while(d==null)if(d=h[X0.data("parent")]||h["DummyCompound_"+X0.data("parent")],h[t]=d,X0=X0.parent()[0],X0==null)break;if(d!=null)return{x:d.x,y:d.y};else return{x:p.position("x"),y:p.position("y")}}}),x(),L=requestAnimationFrame(v)};if(V.addListener("layoutstarted",function(){if(N.options.animate==="during")L=requestAnimationFrame(_)}),V.runLayout(),this.options.animate!=="during")N.options.eles.nodes().not(":parent").layoutPositions(N,N.options,T),R=!1;return this},M.prototype.getTopMostNodes=function(R){var L={};for(var D=0;D<R.length;D++)L[R[D].id()]=!0;var A=R.filter(function(V,N){if(typeof V==="number")V=N;var E=V.parent()[0];while(E!=null){if(L[E.id()])return!1;E=E.parent()[0]}return!0});return A},M.prototype.processChildrenList=function(R,L,D){var A=L.length;for(var V=0;V<A;V++){var N=L[V],E=N.children(),C,j=N.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(N.outerWidth()!=null&&N.outerHeight()!=null)C=R.add(new W(D.graphManager,new G(N.position("x")-j.w/2,N.position("y")-j.h/2),new z(parseFloat(j.w),parseFloat(j.h))));else C=R.add(new W(this.graphManager));if(C.id=N.data("id"),C.paddingLeft=parseInt(N.css("padding")),C.paddingTop=parseInt(N.css("padding")),C.paddingRight=parseInt(N.css("padding")),C.paddingBottom=parseInt(N.css("padding")),this.options.nodeDimensionsIncludeLabels){if(N.isParent()){var $=N.boundingBox({includeLabels:!0,includeNodes:!1}).w,k=N.boundingBox({includeLabels:!0,includeNodes:!1}).h,w=N.css("text-halign");C.labelWidth=$,C.labelHeight=k,C.labelPos=w}}if(this.idToLNode[N.data("id")]=C,isNaN(C.rect.x))C.rect.x=0;if(isNaN(C.rect.y))C.rect.y=0;if(E!=null&&E.length>0){var P=D.getGraphManager().add(D.newGraph(),C);this.processChildrenList(P,E,D)}}},M.prototype.stop=function(){return this.stopped=!0,this};var O=function(L){L("layout","cose-bilkent",M)};if(typeof cytoscape<"u")O(cytoscape);J.exports=O}])})});var yN0={};LZ(yN0,{render:()=>q38});function $N0(Z,J){Z.forEach((Q)=>{let K={id:Q.id,labelText:Q.label,height:Q.height,width:Q.width,padding:Q.padding??0};Object.keys(Q).forEach((U)=>{if(!["id","label","height","width","padding","x","y"].includes(U))K[U]=Q[U]}),J.add({group:"nodes",data:K,position:{x:Q.x??0,y:Q.y??0}})})}function kN0(Z,J){Z.forEach((Q)=>{let K={id:Q.id,source:Q.start,target:Q.end};Object.keys(Q).forEach((U)=>{if(!["id","start","end"].includes(U))K[U]=Q[U]}),J.add({group:"edges",data:K})})}function _N0(Z){return new Promise((J)=>{let Q=n0("body").append("div").attr("id","cy").attr("style","display:none"),K=DK({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});Q.remove(),$N0(Z.nodes,K),kN0(Z.edges,K),K.nodes().forEach(function(X){X.layoutDimensions=()=>{let Y=X.data();return{w:Y.width,h:Y.height}}});let U={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};K.layout(U).run(),K.ready((X)=>{Z0.info("Cytoscape ready",X),J(K)})})}function fN0(Z){return Z.nodes().map((J)=>{let Q=J.data(),K=J.position(),U={id:Q.id,x:K.x,y:K.y};return Object.keys(Q).forEach((X)=>{if(X!=="id")U[X]=Q[X]}),U})}function vN0(Z){return Z.edges().map((J)=>{let Q=J.data(),K=J._private.rscratch,U={id:Q.id,source:Q.source,target:Q.target,startX:K.startX,startY:K.startY,midX:K.midX,midY:K.midY,endX:K.endX,endY:K.endY};return Object.keys(Q).forEach((X)=>{if(!["id","source","target"].includes(X))U[X]=Q[X]}),U})}async function xN0(Z,J){Z0.debug("Starting cose-bilkent layout algorithm");try{bN0(Z);let Q=await _N0(Z),K=fN0(Q),U=vN0(Q);return Z0.debug(`Layout completed: ${K.length} nodes, ${U.length} edges`),{nodes:K,edges:U}}catch(Q){throw Z0.error("Error in cose-bilkent layout algorithm:",Q),Q}}function bN0(Z){if(!Z)throw Error("Layout data is required");if(!Z.config)throw Error("Configuration is required in layout data");if(!Z.rootNode)throw Error("Root node is required");if(!Z.nodes||!Array.isArray(Z.nodes))throw Error("No nodes found in layout data");if(!Array.isArray(Z.edges))throw Error("Edges array is required in layout data");return!0}var wN0,Y38,q38;var hN0=f(()=>{AZ();di();TZ();wN0=c7(TN0(),1);DK.use(wN0.default);I($N0,"addNodes");I(kN0,"addEdges");I(_N0,"createCytoscapeInstance");I(fN0,"extractPositionedNodes");I(vN0,"extractPositionedEdges");I(xN0,"executeCoseBilkentLayout");I(bN0,"validateLayoutData");Y38=I(async(Z,J,{insertCluster:Q,insertEdge:K,insertEdgeLabel:U,insertMarkers:X,insertNode:Y,log:q,positionEdgeLabel:W},{algorithm:G})=>{let z={},H={},F=J.select("g");X(F,Z.markers,Z.type,Z.diagramId);let M=F.insert("g").attr("class","subgraphs"),B=F.insert("g").attr("class","edgePaths"),O=F.insert("g").attr("class","edgeLabels"),R=F.insert("g").attr("class","nodes");q.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(Z.nodes.map(async(A)=>{if(A.isGroup){let V={...A};H[A.id]=V,z[A.id]=V,await Q(M,A)}else{let V={...A};z[A.id]=V;let N=await Y(R,A,{config:Z.config,dir:Z.direction||"TB"}),E=N.node().getBBox();V.width=E.width,V.height=E.height,V.domId=N,q.debug(`Node ${A.id} dimensions: ${E.width}x${E.height}`)}})),q.debug("Running cose-bilkent layout algorithm");let L={...Z,nodes:Z.nodes.map((A)=>{let V=z[A.id];return{...A,width:V.width,height:V.height}})},D=await xN0(L,Z.config);q.debug("Positioning nodes based on layout results"),D.nodes.forEach((A)=>{let V=z[A.id];if(V?.domId)V.domId.attr("transform",`translate(${A.x}, ${A.y})`),V.x=A.x,V.y=A.y,q.debug(`Positioned node ${V.id} at center (${A.x}, ${A.y})`)}),D.edges.forEach((A)=>{let V=Z.edges.find((N)=>N.id===A.id);if(V)V.points=[{x:A.startX,y:A.startY},{x:A.midX,y:A.midY},{x:A.endX,y:A.endY}]}),q.debug("Inserting and positioning edges"),await Promise.all(Z.edges.map(async(A)=>{let V=await U(O,A),N=z[A.start??""],E=z[A.end??""];if(N&&E){let C=D.edges.find((j)=>j.id===A.id);if(C){q.debug("APA01 positionedEdge",C);let j={...A},$=K(B,j,H,Z.type,N,E,Z.diagramId);W(j,$)}else{let j={...A,points:[{x:N.x||0,y:N.y||0},{x:E.x||0,y:E.y||0}]},$=K(B,j,H,Z.type,N,E,Z.diagramId);W(j,$)}}})),q.debug("Cose-bilkent rendering completed")},"render"),q38=Y38});var W38,vD,oi,G38,IK,lU;var AK=f(()=>{HK();d6();w9();yZ();AZ();W38={common:U8,getConfig:CZ,insertCluster:u2,insertEdge:Qj,insertEdgeLabel:Zj,insertMarkers:Kj,insertNode:pG,interpolateToCurve:VC,labelHelper:MZ,log:Z0,positionEdgeLabel:Jj},vD={},oi=I((Z)=>{for(let J of Z)vD[J.name]=J},"registerLayoutLoaders"),G38=I(()=>{oi([{name:"dagre",loader:I(async()=>await Promise.resolve().then(() => (WL0(),qL0)),"loader")},{name:"cose-bilkent",loader:I(async()=>await Promise.resolve().then(() => (hN0(),yN0)),"loader")}])},"registerDefaultLayoutLoaders");G38();IK=I(async(Z,J)=>{if(!(Z.layoutAlgorithm in vD))throw Error(`Unknown layout algorithm: ${Z.layoutAlgorithm}`);let Q=vD[Z.layoutAlgorithm];return(await Q.loader()).render(Z,J,W38,{algorithm:Q.algorithm})},"render"),lU=I((Z="",{fallback:J="dagre"}={})=>{if(Z in vD)return Z;if(J in vD)return Z0.warn(`Layout algorithm ${Z} is not registered. Using ${J} as fallback.`),J;throw Error(`Both layout algorithms ${Z} and ${J} are not registered.`)},"getRegisteredLayoutAlgorithm")});var Zs,Mz,WT,UE0,GT,zT,$Q,HT;var FT=f(()=>{yZ();AZ();Zs=c7(N2(),1),Mz=I((Z,J)=>{let Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),J.name)Q.attr("name",J.name);if(J.rx)Q.attr("rx",J.rx);if(J.ry)Q.attr("ry",J.ry);if(J.attrs!==void 0)for(let K in J.attrs)Q.attr(K,J.attrs[K]);if(J.class)Q.attr("class",J.class);return Q},"drawRect"),WT=I((Z,J)=>{let Q={x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,stroke:J.stroke,class:"rect"};Mz(Z,Q).lower()},"drawBackgroundRect"),UE0=I((Z,J)=>{let Q=J.text.replace(OG," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class)K.attr("class",J.class);let U=K.append("tspan");return U.attr("x",J.x+J.textMargin*2),U.text(Q),K},"drawText"),GT=I((Z,J,Q,K)=>{let U=Z.append("image");U.attr("x",J),U.attr("y",Q);let X=Zs.sanitizeUrl(K);U.attr("xlink:href",X)},"drawImage"),zT=I((Z,J,Q,K)=>{let U=Z.append("use");U.attr("x",J),U.attr("y",Q);let X=Zs.sanitizeUrl(K);U.attr("xlink:href",`#${X}`)},"drawEmbeddedImage"),$Q=I(()=>{return{x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}},"getNoteRect"),HT=I(()=>{return{x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}},"getTextObj")});var RE0={};LZ(RE0,{diagram:()=>UL8});function PK(Z,J,Q,K,U){if(!J[Z].width)if(Q)J[Z].text=Pp(J[Z].text,U,K),J[Z].textLines=J[Z].text.split(U8.lineBreakRegex).length,J[Z].width=U,J[Z].height=EL(J[Z].text,K);else{let X=J[Z].text.split(U8.lineBreakRegex);J[Z].textLines=X.length;let Y=0;J[Z].height=0,J[Z].width=0;for(let q of X)J[Z].width=Math.max(JQ(q,K),J[Z].width),Y=EL(q,K),J[Z].height=J[Z].height+Y}}function qs(Z,J,Q,K,U){let X=new ME0(U);X.data.widthLimit=Q.data.widthLimit/Math.min(Qs,K.length);for(let[Y,q]of K.entries()){let W=0;if(q.image={width:0,height:0,Y:0},q.sprite)q.image.width=48,q.image.height=48,q.image.Y=W,W=q.image.Y+q.image.height;let G=q.wrap&&JZ.wrap,z=MT(JZ);if(z.fontSize=z.fontSize+2,z.fontWeight="bold",PK("label",q,G,z,X.data.widthLimit),q.label.Y=W+8,W=q.label.Y+q.label.height,q.type&&q.type.text!==""){q.type.text="["+q.type.text+"]";let B=MT(JZ);PK("type",q,G,B,X.data.widthLimit),q.type.Y=W+5,W=q.type.Y+q.type.height}if(q.descr&&q.descr.text!==""){let B=MT(JZ);B.fontSize=B.fontSize-2,PK("descr",q,G,B,X.data.widthLimit),q.descr.Y=W+20,W=q.descr.Y+q.descr.height}if(Y==0||Y%Qs===0){let B=Q.data.startx+JZ.diagramMarginX,O=Q.data.stopy+JZ.diagramMarginY+W;X.setData(B,B,O,O)}else{let B=X.data.stopx!==X.data.startx?X.data.stopx+JZ.diagramMarginX:X.data.startx,O=X.data.starty;X.setData(B,B,O,O)}X.name=q.alias;let H=U.db.getC4ShapeArray(q.alias),F=U.db.getC4ShapeKeys(q.alias);if(F.length>0)OE0(X,Z,H,F);J=q.alias;let M=U.db.getBoundaries(J);if(M.length>0)qs(Z,J,X,M,U);if(q.alias!=="global")BE0(Z,q,X);Q.data.stopy=Math.max(X.data.stopy+JZ.c4ShapeMargin,Q.data.stopy),Q.data.stopx=Math.max(X.data.stopx+JZ.c4ShapeMargin,Q.data.stopx),LT=Math.max(LT,Q.data.stopx),DT=Math.max(DT,Q.data.stopy)}}var zE0,BT,H38,V5,kq,q6="global",E5="",iU,mD,Us="",Xs=!1,OT=4,RT=2,qE0,F38,M38,B38,O38,R38,L38,D38,I38,A38,N38,E38,V38,P38,C38,j38,S38,T38,WE0,w38,$38,GE0,k38,_38,f38,v38,_q,x38,b38,y38,h38,m38,Js,Ys,HE0,u38,g38,p38,c38,l38,d38,i38,s38,r38,n38,a38,o38,NY,dU,LT=0,DT=0,FE0=4,Qs=2,JZ,ME0,Ks,hD,MT,t38,BE0,OE0,VK,XE0,e38,ZL8,JL8,YE0,QL8,KL8,UL8;var LE0=f(()=>{FT();w9();yZ();AZ();TZ();zE0=c7(N2(),1),BT=function(){var Z=I(function(s0,$0,x0,f0){for(x0=x0||{},f0=s0.length;f0--;x0[s0[f0]]=$0);return x0},"o"),J=[1,24],Q=[1,25],K=[1,26],U=[1,27],X=[1,28],Y=[1,63],q=[1,64],W=[1,65],G=[1,66],z=[1,67],H=[1,68],F=[1,69],M=[1,29],B=[1,30],O=[1,31],R=[1,32],L=[1,33],D=[1,34],A=[1,35],V=[1,36],N=[1,37],E=[1,38],C=[1,39],j=[1,40],$=[1,41],k=[1,42],w=[1,43],P=[1,44],S=[1,45],T=[1,46],_=[1,47],v=[1,48],x=[1,50],b=[1,51],y=[1,52],u=[1,53],h=[1,54],p=[1,55],r=[1,56],t=[1,57],d=[1,58],X0=[1,59],a=[1,60],z0=[14,42],J0=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Q0=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],e=[1,82],n=[1,83],Y0=[1,84],o=[1,85],M0=[12,14,42],K0=[12,14,33,42],V0=[12,14,33,42,76,77,79,80],i=[12,33],p0=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],B0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:I(function($0,x0,f0,C0,m0,F0,I0){var s=F0.length-1;switch(m0){case 3:C0.setDirection("TB");break;case 4:C0.setDirection("BT");break;case 5:C0.setDirection("RL");break;case 6:C0.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:C0.setC4Type(F0[s-3]);break;case 19:C0.setTitle(F0[s].substring(6)),this.$=F0[s].substring(6);break;case 20:C0.setAccDescription(F0[s].substring(15)),this.$=F0[s].substring(15);break;case 21:this.$=F0[s].trim(),C0.setTitle(this.$);break;case 22:case 23:this.$=F0[s].trim(),C0.setAccDescription(this.$);break;case 28:F0[s].splice(2,0,"ENTERPRISE"),C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 29:F0[s].splice(2,0,"SYSTEM"),C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 30:C0.addPersonOrSystemBoundary(...F0[s]),this.$=F0[s];break;case 31:F0[s].splice(2,0,"CONTAINER"),C0.addContainerBoundary(...F0[s]),this.$=F0[s];break;case 32:C0.addDeploymentNode("node",...F0[s]),this.$=F0[s];break;case 33:C0.addDeploymentNode("nodeL",...F0[s]),this.$=F0[s];break;case 34:C0.addDeploymentNode("nodeR",...F0[s]),this.$=F0[s];break;case 35:C0.popBoundaryParseStack();break;case 39:C0.addPersonOrSystem("person",...F0[s]),this.$=F0[s];break;case 40:C0.addPersonOrSystem("external_person",...F0[s]),this.$=F0[s];break;case 41:C0.addPersonOrSystem("system",...F0[s]),this.$=F0[s];break;case 42:C0.addPersonOrSystem("system_db",...F0[s]),this.$=F0[s];break;case 43:C0.addPersonOrSystem("system_queue",...F0[s]),this.$=F0[s];break;case 44:C0.addPersonOrSystem("external_system",...F0[s]),this.$=F0[s];break;case 45:C0.addPersonOrSystem("external_system_db",...F0[s]),this.$=F0[s];break;case 46:C0.addPersonOrSystem("external_system_queue",...F0[s]),this.$=F0[s];break;case 47:C0.addContainer("container",...F0[s]),this.$=F0[s];break;case 48:C0.addContainer("container_db",...F0[s]),this.$=F0[s];break;case 49:C0.addContainer("container_queue",...F0[s]),this.$=F0[s];break;case 50:C0.addContainer("external_container",...F0[s]),this.$=F0[s];break;case 51:C0.addContainer("external_container_db",...F0[s]),this.$=F0[s];break;case 52:C0.addContainer("external_container_queue",...F0[s]),this.$=F0[s];break;case 53:C0.addComponent("component",...F0[s]),this.$=F0[s];break;case 54:C0.addComponent("component_db",...F0[s]),this.$=F0[s];break;case 55:C0.addComponent("component_queue",...F0[s]),this.$=F0[s];break;case 56:C0.addComponent("external_component",...F0[s]),this.$=F0[s];break;case 57:C0.addComponent("external_component_db",...F0[s]),this.$=F0[s];break;case 58:C0.addComponent("external_component_queue",...F0[s]),this.$=F0[s];break;case 60:C0.addRel("rel",...F0[s]),this.$=F0[s];break;case 61:C0.addRel("birel",...F0[s]),this.$=F0[s];break;case 62:C0.addRel("rel_u",...F0[s]),this.$=F0[s];break;case 63:C0.addRel("rel_d",...F0[s]),this.$=F0[s];break;case 64:C0.addRel("rel_l",...F0[s]),this.$=F0[s];break;case 65:C0.addRel("rel_r",...F0[s]),this.$=F0[s];break;case 66:C0.addRel("rel_b",...F0[s]),this.$=F0[s];break;case 67:F0[s].splice(0,1),C0.addRel("rel",...F0[s]),this.$=F0[s];break;case 68:C0.updateElStyle("update_el_style",...F0[s]),this.$=F0[s];break;case 69:C0.updateRelStyle("update_rel_style",...F0[s]),this.$=F0[s];break;case 70:C0.updateLayoutConfig("update_layout_config",...F0[s]),this.$=F0[s];break;case 71:this.$=[F0[s]];break;case 72:F0[s].unshift(F0[s-1]),this.$=F0[s];break;case 73:case 75:this.$=F0[s].trim();break;case 74:let H0={};H0[F0[s-1].trim()]=F0[s].trim(),this.$=H0;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:J,23:Q,24:K,26:U,28:X,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{13:70,19:20,20:21,21:22,22:J,23:Q,24:K,26:U,28:X,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{13:71,19:20,20:21,21:22,22:J,23:Q,24:K,26:U,28:X,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{13:72,19:20,20:21,21:22,22:J,23:Q,24:K,26:U,28:X,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{13:73,19:20,20:21,21:22,22:J,23:Q,24:K,26:U,28:X,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{14:[1,74]},Z(z0,[2,13],{43:23,29:49,30:61,32:62,20:75,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a}),Z(z0,[2,14]),Z(J0,[2,16],{12:[1,76]}),Z(z0,[2,36],{12:[1,77]}),Z(Q0,[2,19]),Z(Q0,[2,20]),{25:[1,78]},{27:[1,79]},Z(Q0,[2,23]),{35:80,75:81,76:e,77:n,79:Y0,80:o},{35:86,75:81,76:e,77:n,79:Y0,80:o},{35:87,75:81,76:e,77:n,79:Y0,80:o},{35:88,75:81,76:e,77:n,79:Y0,80:o},{35:89,75:81,76:e,77:n,79:Y0,80:o},{35:90,75:81,76:e,77:n,79:Y0,80:o},{35:91,75:81,76:e,77:n,79:Y0,80:o},{35:92,75:81,76:e,77:n,79:Y0,80:o},{35:93,75:81,76:e,77:n,79:Y0,80:o},{35:94,75:81,76:e,77:n,79:Y0,80:o},{35:95,75:81,76:e,77:n,79:Y0,80:o},{35:96,75:81,76:e,77:n,79:Y0,80:o},{35:97,75:81,76:e,77:n,79:Y0,80:o},{35:98,75:81,76:e,77:n,79:Y0,80:o},{35:99,75:81,76:e,77:n,79:Y0,80:o},{35:100,75:81,76:e,77:n,79:Y0,80:o},{35:101,75:81,76:e,77:n,79:Y0,80:o},{35:102,75:81,76:e,77:n,79:Y0,80:o},{35:103,75:81,76:e,77:n,79:Y0,80:o},{35:104,75:81,76:e,77:n,79:Y0,80:o},Z(M0,[2,59]),{35:105,75:81,76:e,77:n,79:Y0,80:o},{35:106,75:81,76:e,77:n,79:Y0,80:o},{35:107,75:81,76:e,77:n,79:Y0,80:o},{35:108,75:81,76:e,77:n,79:Y0,80:o},{35:109,75:81,76:e,77:n,79:Y0,80:o},{35:110,75:81,76:e,77:n,79:Y0,80:o},{35:111,75:81,76:e,77:n,79:Y0,80:o},{35:112,75:81,76:e,77:n,79:Y0,80:o},{35:113,75:81,76:e,77:n,79:Y0,80:o},{35:114,75:81,76:e,77:n,79:Y0,80:o},{35:115,75:81,76:e,77:n,79:Y0,80:o},{20:116,29:49,30:61,32:62,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,43:23,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a},{12:[1,118],33:[1,117]},{35:119,75:81,76:e,77:n,79:Y0,80:o},{35:120,75:81,76:e,77:n,79:Y0,80:o},{35:121,75:81,76:e,77:n,79:Y0,80:o},{35:122,75:81,76:e,77:n,79:Y0,80:o},{35:123,75:81,76:e,77:n,79:Y0,80:o},{35:124,75:81,76:e,77:n,79:Y0,80:o},{35:125,75:81,76:e,77:n,79:Y0,80:o},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},Z(z0,[2,15]),Z(J0,[2,17],{21:22,19:130,22:J,23:Q,24:K,26:U,28:X}),Z(z0,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:J,23:Q,24:K,26:U,28:X,34:Y,36:q,37:W,38:G,39:z,40:H,41:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A,51:V,52:N,53:E,54:C,55:j,56:$,57:k,58:w,59:P,60:S,61:T,62:_,63:v,64:x,65:b,66:y,67:u,68:h,69:p,70:r,71:t,72:d,73:X0,74:a}),Z(Q0,[2,21]),Z(Q0,[2,22]),Z(M0,[2,39]),Z(K0,[2,71],{75:81,35:132,76:e,77:n,79:Y0,80:o}),Z(V0,[2,73]),{78:[1,133]},Z(V0,[2,75]),Z(V0,[2,76]),Z(M0,[2,40]),Z(M0,[2,41]),Z(M0,[2,42]),Z(M0,[2,43]),Z(M0,[2,44]),Z(M0,[2,45]),Z(M0,[2,46]),Z(M0,[2,47]),Z(M0,[2,48]),Z(M0,[2,49]),Z(M0,[2,50]),Z(M0,[2,51]),Z(M0,[2,52]),Z(M0,[2,53]),Z(M0,[2,54]),Z(M0,[2,55]),Z(M0,[2,56]),Z(M0,[2,57]),Z(M0,[2,58]),Z(M0,[2,60]),Z(M0,[2,61]),Z(M0,[2,62]),Z(M0,[2,63]),Z(M0,[2,64]),Z(M0,[2,65]),Z(M0,[2,66]),Z(M0,[2,67]),Z(M0,[2,68]),Z(M0,[2,69]),Z(M0,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},Z(i,[2,28]),Z(i,[2,29]),Z(i,[2,30]),Z(i,[2,31]),Z(i,[2,32]),Z(i,[2,33]),Z(i,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},Z(J0,[2,18]),Z(z0,[2,38]),Z(K0,[2,72]),Z(V0,[2,74]),Z(M0,[2,24]),Z(M0,[2,35]),Z(p0,[2,25]),Z(p0,[2,26],{12:[1,138]}),Z(p0,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:I(function($0,x0){if(x0.recoverable)this.trace($0);else{var f0=Error($0);throw f0.hash=x0,f0}},"parseError"),parse:I(function($0){var x0=this,f0=[0],C0=[],m0=[null],F0=[],I0=this.table,s="",H0=0,m=0,q0=0,W0=2,N0=1,D0=F0.slice.call(arguments,1),L0=Object.create(this.lexer),_0={yy:{}};for(var T0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,T0))_0.yy[T0]=this.yy[T0];if(L0.setInput($0,_0.yy),_0.yy.lexer=L0,_0.yy.parser=this,typeof L0.yylloc>"u")L0.yylloc={};var u0=L0.yylloc;F0.push(u0);var Z8=L0.options&&L0.options.ranges;if(typeof _0.yy.parseError==="function")this.parseError=_0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function B8(F8){f0.length=f0.length-2*F8,m0.length=m0.length-F8,F0.length=F0.length-F8}I(B8,"popStack");function r0(){var F8=C0.pop()||L0.lex()||N0;if(typeof F8!=="number"){if(F8 instanceof Array)C0=F8,F8=C0.pop();F8=x0.symbols_[F8]||F8}return F8}I(r0,"lex");var g0,t0,d0,X8,g8,M8,$8={},H8,G8,O8,L8;while(!0){if(d0=f0[f0.length-1],this.defaultActions[d0])X8=this.defaultActions[d0];else{if(g0===null||typeof g0>"u")g0=r0();X8=I0[d0]&&I0[d0][g0]}if(typeof X8>"u"||!X8.length||!X8[0]){var I8="";L8=[];for(H8 in I0[d0])if(this.terminals_[H8]&&H8>W0)L8.push("'"+this.terminals_[H8]+"'");if(L0.showPosition)I8="Parse error on line "+(H0+1)+`:
`+L0.showPosition()+`
Expecting `+L8.join(", ")+", got '"+(this.terminals_[g0]||g0)+"'";else I8="Parse error on line "+(H0+1)+": Unexpected "+(g0==N0?"end of input":"'"+(this.terminals_[g0]||g0)+"'");this.parseError(I8,{text:L0.match,token:this.terminals_[g0]||g0,line:L0.yylineno,loc:u0,expected:L8})}if(X8[0]instanceof Array&&X8.length>1)throw Error("Parse Error: multiple actions possible at state: "+d0+", token: "+g0);switch(X8[0]){case 1:if(f0.push(g0),m0.push(L0.yytext),F0.push(L0.yylloc),f0.push(X8[1]),g0=null,!t0){if(m=L0.yyleng,s=L0.yytext,H0=L0.yylineno,u0=L0.yylloc,q0>0)q0--}else g0=t0,t0=null;break;case 2:if(G8=this.productions_[X8[1]][1],$8.$=m0[m0.length-G8],$8._$={first_line:F0[F0.length-(G8||1)].first_line,last_line:F0[F0.length-1].last_line,first_column:F0[F0.length-(G8||1)].first_column,last_column:F0[F0.length-1].last_column},Z8)$8._$.range=[F0[F0.length-(G8||1)].range[0],F0[F0.length-1].range[1]];if(M8=this.performAction.apply($8,[s,m,H0,_0.yy,X8[1],m0,F0].concat(D0)),typeof M8<"u")return M8;if(G8)f0=f0.slice(0,-1*G8*2),m0=m0.slice(0,-1*G8),F0=F0.slice(0,-1*G8);f0.push(this.productions_[X8[1]][0]),m0.push($8.$),F0.push($8._$),O8=I0[f0[f0.length-2]][f0[f0.length-1]],f0.push(O8);break;case 3:return!0}}return!0},"parse")},h0=function(){var s0={EOF:1,parseError:I(function(x0,f0){if(this.yy.parser)this.yy.parser.parseError(x0,f0);else throw Error(x0)},"parseError"),setInput:I(function($0,x0){if(this.yy=x0||this.yy||{},this._input=$0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var $0=this._input[0];this.yytext+=$0,this.yyleng++,this.offset++,this.match+=$0,this.matched+=$0;var x0=$0.match(/(?:\r\n?|\n).*/g);if(x0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),$0},"input"),unput:I(function($0){var x0=$0.length,f0=$0.split(/(?:\r\n?|\n)/g);this._input=$0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x0),this.offset-=x0;var C0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f0.length-1)this.yylineno-=f0.length-1;var m0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f0?(f0.length===C0.length?this.yylloc.first_column:0)+C0[C0.length-f0.length].length-f0[0].length:this.yylloc.first_column-x0},this.options.ranges)this.yylloc.range=[m0[0],m0[0]+this.yyleng-x0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function($0){this.unput(this.match.slice($0))},"less"),pastInput:I(function(){var $0=this.matched.substr(0,this.matched.length-this.match.length);return($0.length>20?"...":"")+$0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var $0=this.match;if($0.length<20)$0+=this._input.substr(0,20-$0.length);return($0.substr(0,20)+($0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var $0=this.pastInput(),x0=Array($0.length+1).join("-");return $0+this.upcomingInput()+`
`+x0+"^"},"showPosition"),test_match:I(function($0,x0){var f0,C0,m0;if(this.options.backtrack_lexer){if(m0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)m0.yylloc.range=this.yylloc.range.slice(0)}if(C0=$0[0].match(/(?:\r\n?|\n).*/g),C0)this.yylineno+=C0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C0?C0[C0.length-1].length-C0[C0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$0[0].length},this.yytext+=$0[0],this.match+=$0[0],this.matches=$0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice($0[0].length),this.matched+=$0[0],f0=this.performAction.call(this,this.yy,this,x0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(f0)return f0;else if(this._backtrack){for(var F0 in m0)this[F0]=m0[F0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var $0,x0,f0,C0;if(!this._more)this.yytext="",this.match="";var m0=this._currentRules();for(var F0=0;F0<m0.length;F0++)if(f0=this._input.match(this.rules[m0[F0]]),f0&&(!x0||f0[0].length>x0[0].length)){if(x0=f0,C0=F0,this.options.backtrack_lexer)if($0=this.test_match(f0,m0[F0]),$0!==!1)return $0;else if(this._backtrack){x0=!1;continue}else return!1;else if(!this.options.flex)break}if(x0){if($0=this.test_match(x0,m0[C0]),$0!==!1)return $0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var x0=this.next();if(x0)return x0;else return this.lex()},"lex"),begin:I(function(x0){this.conditionStack.push(x0)},"begin"),popState:I(function(){var x0=this.conditionStack.length-1;if(x0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(x0){if(x0=this.conditionStack.length-1-Math.abs(x0||0),x0>=0)return this.conditionStack[x0];else return"INITIAL"},"topState"),pushState:I(function(x0){this.begin(x0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(x0,f0,C0,m0){var F0=m0;switch(C0){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return s0}();B0.lexer=h0;function a0(){this.yy={}}return I(a0,"Parser"),a0.prototype=B0,B0.Parser=a0,new a0}();BT.parser=BT;H38=BT,V5=[],kq=[""],iU=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],mD=[],F38=I(function(){return qE0},"getC4Type"),M38=I(function(Z){qE0=VZ(Z,E0())},"setC4Type"),B38=I(function(Z,J,Q,K,U,X,Y,q,W){if(Z===void 0||Z===null||J===void 0||J===null||Q===void 0||Q===null||K===void 0||K===null)return;let G={},z=mD.find((H)=>H.from===J&&H.to===Q);if(z)G=z;else mD.push(G);if(G.type=Z,G.from=J,G.to=Q,G.label={text:K},U===void 0||U===null)G.techn={text:""};else if(typeof U==="object"){let[H,F]=Object.entries(U)[0];G[H]={text:F}}else G.techn={text:U};if(X===void 0||X===null)G.descr={text:""};else if(typeof X==="object"){let[H,F]=Object.entries(X)[0];G[H]={text:F}}else G.descr={text:X};if(typeof Y==="object"){let[H,F]=Object.entries(Y)[0];G[H]=F}else G.sprite=Y;if(typeof q==="object"){let[H,F]=Object.entries(q)[0];G[H]=F}else G.tags=q;if(typeof W==="object"){let[H,F]=Object.entries(W)[0];G[H]=F}else G.link=W;G.wrap=_q()},"addRel"),O38=I(function(Z,J,Q,K,U,X,Y){if(J===null||Q===null)return;let q={},W=V5.find((G)=>G.alias===J);if(W&&J===W.alias)q=W;else q.alias=J,V5.push(q);if(Q===void 0||Q===null)q.label={text:""};else q.label={text:Q};if(K===void 0||K===null)q.descr={text:""};else if(typeof K==="object"){let[G,z]=Object.entries(K)[0];q[G]={text:z}}else q.descr={text:K};if(typeof U==="object"){let[G,z]=Object.entries(U)[0];q[G]=z}else q.sprite=U;if(typeof X==="object"){let[G,z]=Object.entries(X)[0];q[G]=z}else q.tags=X;if(typeof Y==="object"){let[G,z]=Object.entries(Y)[0];q[G]=z}else q.link=Y;q.typeC4Shape={text:Z},q.parentBoundary=q6,q.wrap=_q()},"addPersonOrSystem"),R38=I(function(Z,J,Q,K,U,X,Y,q){if(J===null||Q===null)return;let W={},G=V5.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,V5.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.techn={text:""};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.techn={text:K};if(U===void 0||U===null)W.descr={text:""};else if(typeof U==="object"){let[z,H]=Object.entries(U)[0];W[z]={text:H}}else W.descr={text:U};if(typeof X==="object"){let[z,H]=Object.entries(X)[0];W[z]=H}else W.sprite=X;if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.wrap=_q(),W.typeC4Shape={text:Z},W.parentBoundary=q6},"addContainer"),L38=I(function(Z,J,Q,K,U,X,Y,q){if(J===null||Q===null)return;let W={},G=V5.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,V5.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.techn={text:""};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.techn={text:K};if(U===void 0||U===null)W.descr={text:""};else if(typeof U==="object"){let[z,H]=Object.entries(U)[0];W[z]={text:H}}else W.descr={text:U};if(typeof X==="object"){let[z,H]=Object.entries(X)[0];W[z]=H}else W.sprite=X;if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.wrap=_q(),W.typeC4Shape={text:Z},W.parentBoundary=q6},"addComponent"),D38=I(function(Z,J,Q,K,U){if(Z===null||J===null)return;let X={},Y=iU.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)X=Y;else X.alias=Z,iU.push(X);if(J===void 0||J===null)X.label={text:""};else X.label={text:J};if(Q===void 0||Q===null)X.type={text:"system"};else if(typeof Q==="object"){let[q,W]=Object.entries(Q)[0];X[q]={text:W}}else X.type={text:Q};if(typeof K==="object"){let[q,W]=Object.entries(K)[0];X[q]=W}else X.tags=K;if(typeof U==="object"){let[q,W]=Object.entries(U)[0];X[q]=W}else X.link=U;X.parentBoundary=q6,X.wrap=_q(),E5=q6,q6=Z,kq.push(E5)},"addPersonOrSystemBoundary"),I38=I(function(Z,J,Q,K,U){if(Z===null||J===null)return;let X={},Y=iU.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)X=Y;else X.alias=Z,iU.push(X);if(J===void 0||J===null)X.label={text:""};else X.label={text:J};if(Q===void 0||Q===null)X.type={text:"container"};else if(typeof Q==="object"){let[q,W]=Object.entries(Q)[0];X[q]={text:W}}else X.type={text:Q};if(typeof K==="object"){let[q,W]=Object.entries(K)[0];X[q]=W}else X.tags=K;if(typeof U==="object"){let[q,W]=Object.entries(U)[0];X[q]=W}else X.link=U;X.parentBoundary=q6,X.wrap=_q(),E5=q6,q6=Z,kq.push(E5)},"addContainerBoundary"),A38=I(function(Z,J,Q,K,U,X,Y,q){if(J===null||Q===null)return;let W={},G=iU.find((z)=>z.alias===J);if(G&&J===G.alias)W=G;else W.alias=J,iU.push(W);if(Q===void 0||Q===null)W.label={text:""};else W.label={text:Q};if(K===void 0||K===null)W.type={text:"node"};else if(typeof K==="object"){let[z,H]=Object.entries(K)[0];W[z]={text:H}}else W.type={text:K};if(U===void 0||U===null)W.descr={text:""};else if(typeof U==="object"){let[z,H]=Object.entries(U)[0];W[z]={text:H}}else W.descr={text:U};if(typeof Y==="object"){let[z,H]=Object.entries(Y)[0];W[z]=H}else W.tags=Y;if(typeof q==="object"){let[z,H]=Object.entries(q)[0];W[z]=H}else W.link=q;W.nodeType=Z,W.parentBoundary=q6,W.wrap=_q(),E5=q6,q6=J,kq.push(E5)},"addDeploymentNode"),N38=I(function(){q6=E5,kq.pop(),E5=kq.pop(),kq.push(E5)},"popBoundaryParseStack"),E38=I(function(Z,J,Q,K,U,X,Y,q,W,G,z){let H=V5.find((F)=>F.alias===J);if(H===void 0){if(H=iU.find((F)=>F.alias===J),H===void 0)return}if(Q!==void 0&&Q!==null)if(typeof Q==="object"){let[F,M]=Object.entries(Q)[0];H[F]=M}else H.bgColor=Q;if(K!==void 0&&K!==null)if(typeof K==="object"){let[F,M]=Object.entries(K)[0];H[F]=M}else H.fontColor=K;if(U!==void 0&&U!==null)if(typeof U==="object"){let[F,M]=Object.entries(U)[0];H[F]=M}else H.borderColor=U;if(X!==void 0&&X!==null)if(typeof X==="object"){let[F,M]=Object.entries(X)[0];H[F]=M}else H.shadowing=X;if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[F,M]=Object.entries(Y)[0];H[F]=M}else H.shape=Y;if(q!==void 0&&q!==null)if(typeof q==="object"){let[F,M]=Object.entries(q)[0];H[F]=M}else H.sprite=q;if(W!==void 0&&W!==null)if(typeof W==="object"){let[F,M]=Object.entries(W)[0];H[F]=M}else H.techn=W;if(G!==void 0&&G!==null)if(typeof G==="object"){let[F,M]=Object.entries(G)[0];H[F]=M}else H.legendText=G;if(z!==void 0&&z!==null)if(typeof z==="object"){let[F,M]=Object.entries(z)[0];H[F]=M}else H.legendSprite=z},"updateElStyle"),V38=I(function(Z,J,Q,K,U,X,Y){let q=mD.find((W)=>W.from===J&&W.to===Q);if(q===void 0)return;if(K!==void 0&&K!==null)if(typeof K==="object"){let[W,G]=Object.entries(K)[0];q[W]=G}else q.textColor=K;if(U!==void 0&&U!==null)if(typeof U==="object"){let[W,G]=Object.entries(U)[0];q[W]=G}else q.lineColor=U;if(X!==void 0&&X!==null)if(typeof X==="object"){let[W,G]=Object.entries(X)[0];q[W]=parseInt(G)}else q.offsetX=parseInt(X);if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[W,G]=Object.entries(Y)[0];q[W]=parseInt(G)}else q.offsetY=parseInt(Y)},"updateRelStyle"),P38=I(function(Z,J,Q){let K=OT,U=RT;if(typeof J==="object"){let X=Object.values(J)[0];K=parseInt(X)}else K=parseInt(J);if(typeof Q==="object"){let X=Object.values(Q)[0];U=parseInt(X)}else U=parseInt(Q);if(K>=1)OT=K;if(U>=1)RT=U},"updateLayoutConfig"),C38=I(function(){return OT},"getC4ShapeInRow"),j38=I(function(){return RT},"getC4BoundaryInRow"),S38=I(function(){return q6},"getCurrentBoundaryParse"),T38=I(function(){return E5},"getParentBoundaryParse"),WE0=I(function(Z){if(Z===void 0||Z===null)return V5;else return V5.filter((J)=>{return J.parentBoundary===Z})},"getC4ShapeArray"),w38=I(function(Z){return V5.find((J)=>J.alias===Z)},"getC4Shape"),$38=I(function(Z){return Object.keys(WE0(Z))},"getC4ShapeKeys"),GE0=I(function(Z){if(Z===void 0||Z===null)return iU;else return iU.filter((J)=>J.parentBoundary===Z)},"getBoundaries"),k38=GE0,_38=I(function(){return mD},"getRels"),f38=I(function(){return Us},"getTitle"),v38=I(function(Z){Xs=Z},"setWrap"),_q=I(function(){return Xs},"autoWrap"),x38=I(function(){V5=[],iU=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],E5="",q6="global",kq=[""],mD=[],kq=[""],Us="",Xs=!1,OT=4,RT=2},"clear"),b38={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},y38={FILLED:0,OPEN:1},h38={LEFTOF:0,RIGHTOF:1,OVER:2},m38=I(function(Z){Us=VZ(Z,E0())},"setTitle"),Js={addPersonOrSystem:O38,addPersonOrSystemBoundary:D38,addContainer:R38,addContainerBoundary:I38,addComponent:L38,addDeploymentNode:A38,popBoundaryParseStack:N38,addRel:B38,updateElStyle:E38,updateRelStyle:V38,updateLayoutConfig:P38,autoWrap:_q,setWrap:v38,getC4ShapeArray:WE0,getC4Shape:w38,getC4ShapeKeys:$38,getBoundaries:GE0,getBoundarys:k38,getCurrentBoundaryParse:S38,getParentBoundaryParse:T38,getRels:_38,getTitle:f38,getC4Type:F38,getC4ShapeInRow:C38,getC4BoundaryInRow:j38,setAccTitle:cZ,getAccTitle:sZ,getAccDescription:nZ,setAccDescription:rZ,getConfig:I(()=>E0().c4,"getConfig"),clear:x38,LINETYPE:b38,ARROWTYPE:y38,PLACEMENT:h38,setTitle:m38,setC4Type:M38},Ys=I(function(Z,J){return Mz(Z,J)},"drawRect"),HE0=I(function(Z,J,Q,K,U,X){let Y=Z.append("image");Y.attr("width",J),Y.attr("height",Q),Y.attr("x",K),Y.attr("y",U);let q=X.startsWith("data:image/png;base64")?X:zE0.sanitizeUrl(X);Y.attr("xlink:href",q)},"drawImage"),u38=I((Z,J,Q)=>{let K=Z.append("g"),U=0;for(let X of J){let Y=X.textColor?X.textColor:"#444444",q=X.lineColor?X.lineColor:"#444444",W=X.offsetX?parseInt(X.offsetX):0,G=X.offsetY?parseInt(X.offsetY):0,z="";if(U===0){let F=K.append("line");if(F.attr("x1",X.startPoint.x),F.attr("y1",X.startPoint.y),F.attr("x2",X.endPoint.x),F.attr("y2",X.endPoint.y),F.attr("stroke-width","1"),F.attr("stroke",q),F.style("fill","none"),X.type!=="rel_b")F.attr("marker-end","url("+z+"#arrowhead)");if(X.type==="birel"||X.type==="rel_b")F.attr("marker-start","url("+z+"#arrowend)");U=-1}else{let F=K.append("path");if(F.attr("fill","none").attr("stroke-width","1").attr("stroke",q).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",X.startPoint.x).replaceAll("starty",X.startPoint.y).replaceAll("controlx",X.startPoint.x+(X.endPoint.x-X.startPoint.x)/2-(X.endPoint.x-X.startPoint.x)/4).replaceAll("controly",X.startPoint.y+(X.endPoint.y-X.startPoint.y)/2).replaceAll("stopx",X.endPoint.x).replaceAll("stopy",X.endPoint.y)),X.type!=="rel_b")F.attr("marker-end","url("+z+"#arrowhead)");if(X.type==="birel"||X.type==="rel_b")F.attr("marker-start","url("+z+"#arrowend)")}let H=Q.messageFont();if(NY(Q)(X.label.text,K,Math.min(X.startPoint.x,X.endPoint.x)+Math.abs(X.endPoint.x-X.startPoint.x)/2+W,Math.min(X.startPoint.y,X.endPoint.y)+Math.abs(X.endPoint.y-X.startPoint.y)/2+G,X.label.width,X.label.height,{fill:Y},H),X.techn&&X.techn.text!=="")H=Q.messageFont(),NY(Q)("["+X.techn.text+"]",K,Math.min(X.startPoint.x,X.endPoint.x)+Math.abs(X.endPoint.x-X.startPoint.x)/2+W,Math.min(X.startPoint.y,X.endPoint.y)+Math.abs(X.endPoint.y-X.startPoint.y)/2+Q.messageFontSize+5+G,Math.max(X.label.width,X.techn.width),X.techn.height,{fill:Y,"font-style":"italic"},H)}},"drawRels"),g38=I(function(Z,J,Q){let K=Z.append("g"),U=J.bgColor?J.bgColor:"none",X=J.borderColor?J.borderColor:"#444444",Y=J.fontColor?J.fontColor:"black",q={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};if(J.nodeType)q={"stroke-width":1};let W={x:J.x,y:J.y,fill:U,stroke:X,width:J.width,height:J.height,rx:2.5,ry:2.5,attrs:q};Ys(K,W);let G=Q.boundaryFont();if(G.fontWeight="bold",G.fontSize=G.fontSize+2,G.fontColor=Y,NY(Q)(J.label.text,K,J.x,J.y+J.label.Y,J.width,J.height,{fill:"#444444"},G),J.type&&J.type.text!=="")G=Q.boundaryFont(),G.fontColor=Y,NY(Q)(J.type.text,K,J.x,J.y+J.type.Y,J.width,J.height,{fill:"#444444"},G);if(J.descr&&J.descr.text!=="")G=Q.boundaryFont(),G.fontSize=G.fontSize-2,G.fontColor=Y,NY(Q)(J.descr.text,K,J.x,J.y+J.descr.Y,J.width,J.height,{fill:"#444444"},G)},"drawBoundary"),p38=I(function(Z,J,Q){let K=J.bgColor?J.bgColor:Q[J.typeC4Shape.text+"_bg_color"],U=J.borderColor?J.borderColor:Q[J.typeC4Shape.text+"_border_color"],X=J.fontColor?J.fontColor:"#FFFFFF",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(J.typeC4Shape.text){case"person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let q=Z.append("g");q.attr("class","person-man");let W=$Q();switch(J.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":W.x=J.x,W.y=J.y,W.fill=K,W.width=J.width,W.height=J.height,W.stroke=U,W.rx=2.5,W.ry=2.5,W.attrs={"stroke-width":0.5},Ys(q,W);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",U).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2).replaceAll("height",J.height)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",U).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",U).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("width",J.width).replaceAll("half",J.height/2)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",U).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",J.x+J.width).replaceAll("starty",J.y).replaceAll("half",J.height/2));break}let G=o38(Q,J.typeC4Shape.text);switch(q.append("text").attr("fill",X).attr("font-family",G.fontFamily).attr("font-size",G.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",J.typeC4Shape.width).attr("x",J.x+J.width/2-J.typeC4Shape.width/2).attr("y",J.y+J.typeC4Shape.Y).text("<<"+J.typeC4Shape.text+">>"),J.typeC4Shape.text){case"person":case"external_person":HE0(q,48,48,J.x+J.width/2-24,J.y+J.image.Y,Y);break}let z=Q[J.typeC4Shape.text+"Font"]();if(z.fontWeight="bold",z.fontSize=z.fontSize+2,z.fontColor=X,NY(Q)(J.label.text,q,J.x,J.y+J.label.Y,J.width,J.height,{fill:X},z),z=Q[J.typeC4Shape.text+"Font"](),z.fontColor=X,J.techn&&J.techn?.text!=="")NY(Q)(J.techn.text,q,J.x,J.y+J.techn.Y,J.width,J.height,{fill:X,"font-style":"italic"},z);else if(J.type&&J.type.text!=="")NY(Q)(J.type.text,q,J.x,J.y+J.type.Y,J.width,J.height,{fill:X,"font-style":"italic"},z);if(J.descr&&J.descr.text!=="")z=Q.personFont(),z.fontColor=X,NY(Q)(J.descr.text,q,J.x,J.y+J.descr.Y,J.width,J.height,{fill:X},z);return J.height},"drawC4Shape"),c38=I(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),l38=I(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),d38=I(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),i38=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),s38=I(function(Z){Z.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),r38=I(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),n38=I(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),a38=I(function(Z){let Q=Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);Q.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),Q.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),o38=I((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"getC4ShapeFont"),NY=function(){function Z(U,X,Y,q,W,G,z){let H=X.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("text-anchor","middle").text(U);K(H,z)}I(Z,"byText");function J(U,X,Y,q,W,G,z,H){let{fontSize:F,fontFamily:M,fontWeight:B}=H,O=U.split(U8.lineBreakRegex);for(let R=0;R<O.length;R++){let L=R*F-F*(O.length-1)/2,D=X.append("text").attr("x",Y+W/2).attr("y",q).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",F).style("font-weight",B).style("font-family",M);D.append("tspan").attr("dy",L).text(O[R]).attr("alignment-baseline","mathematical"),K(D,z)}}I(J,"byTspan");function Q(U,X,Y,q,W,G,z,H){let F=X.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(U,X){for(let Y in X)if(X.hasOwnProperty(Y))U.attr(Y,X[Y])}return I(K,"_setTextAttrs"),function(U){return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),dU={drawRect:Ys,drawBoundary:g38,drawC4Shape:p38,drawRels:u38,drawImage:HE0,insertArrowHead:i38,insertArrowEnd:s38,insertArrowFilledHead:r38,insertDynamicNumber:n38,insertArrowCrossHead:a38,insertDatabaseIcon:c38,insertComputerIcon:l38,insertClockIcon:d38};BT.yy=Js;JZ={},ME0=class{static{I(this,"Bounds")}constructor(Z){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Ks(Z.db.getConfig())}setData(Z,J,Q,K){this.nextData.startx=this.data.startx=Z,this.nextData.stopx=this.data.stopx=J,this.nextData.starty=this.data.starty=Q,this.nextData.stopy=this.data.stopy=K}updateVal(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])}insert(Z){this.nextData.cnt=this.nextData.cnt+1;let J=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+Z.margin:this.nextData.stopx+Z.margin*2,Q=J+Z.width,K=this.nextData.starty+Z.margin*2,U=K+Z.height;if(J>=this.data.widthLimit||Q>=this.data.widthLimit||this.nextData.cnt>FE0)J=this.nextData.startx+Z.margin+JZ.nextLinePaddingX,K=this.nextData.stopy+Z.margin*2,this.nextData.stopx=Q=J+Z.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=U=K+Z.height,this.nextData.cnt=1;Z.x=J,Z.y=K,this.updateVal(this.data,"startx",J,Math.min),this.updateVal(this.data,"starty",K,Math.min),this.updateVal(this.data,"stopx",Q,Math.max),this.updateVal(this.data,"stopy",U,Math.max),this.updateVal(this.nextData,"startx",J,Math.min),this.updateVal(this.nextData,"starty",K,Math.min),this.updateVal(this.nextData,"stopx",Q,Math.max),this.updateVal(this.nextData,"stopy",U,Math.max)}init(Z){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Ks(Z.db.getConfig())}bumpLastMargin(Z){this.data.stopx+=Z,this.data.stopy+=Z}},Ks=I(function(Z){if(KJ(JZ,Z),Z.fontFamily)JZ.personFontFamily=JZ.systemFontFamily=JZ.messageFontFamily=Z.fontFamily;if(Z.fontSize)JZ.personFontSize=JZ.systemFontSize=JZ.messageFontSize=Z.fontSize;if(Z.fontWeight)JZ.personFontWeight=JZ.systemFontWeight=JZ.messageFontWeight=Z.fontWeight},"setConf"),hD=I((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"c4ShapeFont"),MT=I((Z)=>{return{fontFamily:Z.boundaryFontFamily,fontSize:Z.boundaryFontSize,fontWeight:Z.boundaryFontWeight}},"boundaryFont"),t38=I((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont");I(PK,"calcC4ShapeTextWH");BE0=I(function(Z,J,Q){J.x=Q.data.startx,J.y=Q.data.starty,J.width=Q.data.stopx-Q.data.startx,J.height=Q.data.stopy-Q.data.starty,J.label.y=JZ.c4ShapeMargin-35;let K=J.wrap&&JZ.wrap,U=MT(JZ);U.fontSize=U.fontSize+2,U.fontWeight="bold";let X=JQ(J.label.text,U);PK("label",J,K,U,X),dU.drawBoundary(Z,J,JZ)},"drawBoundary"),OE0=I(function(Z,J,Q,K){let U=0;for(let X of K){U=0;let Y=Q[X],q=hD(JZ,Y.typeC4Shape.text);switch(q.fontSize=q.fontSize-2,Y.typeC4Shape.width=JQ(""+Y.typeC4Shape.text+"",q),Y.typeC4Shape.height=q.fontSize+2,Y.typeC4Shape.Y=JZ.c4ShapePadding,U=Y.typeC4Shape.Y+Y.typeC4Shape.height-4,Y.image={width:0,height:0,Y:0},Y.typeC4Shape.text){case"person":case"external_person":Y.image.width=48,Y.image.height=48,Y.image.Y=U,U=Y.image.Y+Y.image.height;break}if(Y.sprite)Y.image.width=48,Y.image.height=48,Y.image.Y=U,U=Y.image.Y+Y.image.height;let W=Y.wrap&&JZ.wrap,G=JZ.width-JZ.c4ShapePadding*2,z=hD(JZ,Y.typeC4Shape.text);if(z.fontSize=z.fontSize+2,z.fontWeight="bold",PK("label",Y,W,z,G),Y.label.Y=U+8,U=Y.label.Y+Y.label.height,Y.type&&Y.type.text!==""){Y.type.text="["+Y.type.text+"]";let M=hD(JZ,Y.typeC4Shape.text);PK("type",Y,W,M,G),Y.type.Y=U+5,U=Y.type.Y+Y.type.height}else if(Y.techn&&Y.techn.text!==""){Y.techn.text="["+Y.techn.text+"]";let M=hD(JZ,Y.techn.text);PK("techn",Y,W,M,G),Y.techn.Y=U+5,U=Y.techn.Y+Y.techn.height}let H=U,F=Y.label.width;if(Y.descr&&Y.descr.text!==""){let M=hD(JZ,Y.typeC4Shape.text);PK("descr",Y,W,M,G),Y.descr.Y=U+20,U=Y.descr.Y+Y.descr.height,F=Math.max(Y.label.width,Y.descr.width),H=U-Y.descr.textLines*5}F=F+JZ.c4ShapePadding,Y.width=Math.max(Y.width||JZ.width,F,JZ.width),Y.height=Math.max(Y.height||JZ.height,H,JZ.height),Y.margin=Y.margin||JZ.c4ShapeMargin,Z.insert(Y),dU.drawC4Shape(J,Y,JZ)}Z.bumpLastMargin(JZ.c4ShapeMargin)},"drawC4ShapeArray"),VK=class{static{I(this,"Point")}constructor(Z,J){this.x=Z,this.y=J}},XE0=I(function(Z,J){let{x:Q,y:K}=Z,U=J.x,X=J.y,Y=Q+Z.width/2,q=K+Z.height/2,W=Math.abs(Q-U),G=Math.abs(K-X),z=G/W,H=Z.height/Z.width,F=null;if(K==X&&Q<U)F=new VK(Q+Z.width,q);else if(K==X&&Q>U)F=new VK(Q,q);else if(Q==U&&K<X)F=new VK(Y,K+Z.height);else if(Q==U&&K>X)F=new VK(Y,K);if(Q>U&&K<X)if(H>=z)F=new VK(Q,q+z*Z.width/2);else F=new VK(Y-W/G*Z.height/2,K+Z.height);else if(Q<U&&K<X)if(H>=z)F=new VK(Q+Z.width,q+z*Z.width/2);else F=new VK(Y+W/G*Z.height/2,K+Z.height);else if(Q<U&&K>X)if(H>=z)F=new VK(Q+Z.width,q-z*Z.width/2);else F=new VK(Y+Z.height/2*W/G,K);else if(Q>U&&K>X)if(H>=z)F=new VK(Q,q-Z.width/2*z);else F=new VK(Y-Z.height/2*W/G,K);return F},"getIntersectPoint"),e38=I(function(Z,J){let Q={x:0,y:0};Q.x=J.x+J.width/2,Q.y=J.y+J.height/2;let K=XE0(Z,Q);Q.x=Z.x+Z.width/2,Q.y=Z.y+Z.height/2;let U=XE0(J,Q);return{startPoint:K,endPoint:U}},"getIntersectPoints"),ZL8=I(function(Z,J,Q,K){let U=0;for(let X of J){U=U+1;let Y=X.wrap&&JZ.wrap,q=t38(JZ);if(K.db.getC4Type()==="C4Dynamic")X.label.text=U+": "+X.label.text;let G=JQ(X.label.text,q);if(PK("label",X,Y,q,G),X.techn&&X.techn.text!=="")G=JQ(X.techn.text,q),PK("techn",X,Y,q,G);if(X.descr&&X.descr.text!=="")G=JQ(X.descr.text,q),PK("descr",X,Y,q,G);let z=Q(X.from),H=Q(X.to),F=e38(z,H);X.startPoint=F.startPoint,X.endPoint=F.endPoint}dU.drawRels(Z,J,JZ)},"drawRels");I(qs,"drawInsideBoundary");JL8=I(function(Z,J,Q,K){JZ=E0().c4;let U=E0().securityLevel,X;if(U==="sandbox")X=n0("#i"+J);let Y=U==="sandbox"?n0(X.nodes()[0].contentDocument.body):n0("body"),q=K.db;K.db.setWrap(JZ.wrap),FE0=q.getC4ShapeInRow(),Qs=q.getC4BoundaryInRow(),Z0.debug(`C:${JSON.stringify(JZ,null,2)}`);let W=U==="sandbox"?Y.select(`[id="${J}"]`):n0(`[id="${J}"]`);dU.insertComputerIcon(W),dU.insertDatabaseIcon(W),dU.insertClockIcon(W);let G=new ME0(K);G.setData(JZ.diagramMarginX,JZ.diagramMarginX,JZ.diagramMarginY,JZ.diagramMarginY),G.data.widthLimit=screen.availWidth,LT=JZ.diagramMarginX,DT=JZ.diagramMarginY;let z=K.db.getTitle(),H=K.db.getBoundaries("");qs(W,"",G,H,K),dU.insertArrowHead(W),dU.insertArrowEnd(W),dU.insertArrowCrossHead(W),dU.insertArrowFilledHead(W),ZL8(W,K.db.getRels(),K.db.getC4Shape,K),G.data.stopx=LT,G.data.stopy=DT;let F=G.data,B=F.stopy-F.starty+2*JZ.diagramMarginY,R=F.stopx-F.startx+2*JZ.diagramMarginX;if(z)W.append("text").text(z).attr("x",(F.stopx-F.startx)/2-4*JZ.diagramMarginX).attr("y",F.starty+JZ.diagramMarginY);T9(W,B,R,JZ.useMaxWidth);let L=z?60:0;W.attr("viewBox",F.startx-JZ.diagramMarginX+" -"+(JZ.diagramMarginY+L)+" "+R+" "+(B+L)),Z0.debug("models:",F)},"draw"),YE0={drawPersonOrSystemArray:OE0,drawBoundary:BE0,setConf:Ks,draw:JL8},QL8=I((Z)=>`.person {
    stroke: ${Z.personBorder};
    fill: ${Z.personBkg};
  }
`,"getStyles"),KL8=QL8,UL8={parser:H38,db:Js,renderer:YE0,styles:KL8,init:I(({c4:Z,wrap:J})=>{YE0.setConf(Z),Js.setWrap(J)},"init")}});var sU;var fq=f(()=>{AZ();sU=I(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")});var CK;var P5=f(()=>{AZ();TZ();CK=I((Z,J)=>{let Q;if(J==="sandbox")Q=n0("#i"+Z);return(J==="sandbox"?n0(Q.nodes()[0].contentDocument.body):n0("body")).select(`[id="${Z}"]`)},"getDiagramElement")});var o6,XL8,YL8;var jK=f(()=>{yZ();AZ();o6=I((Z,J,Q,K)=>{Z.attr("class",Q);let{width:U,height:X,x:Y,y:q}=XL8(Z,J);T9(Z,X,U,K);let W=YL8(Y,q,U,X,J);Z.attr("viewBox",W),Z0.debug(`viewBox configured: ${W} with padding: ${J}`)},"setupViewPortForSVG"),XL8=I((Z,J)=>{let Q=Z.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:Q.width+J*2,height:Q.height+J*2,x:Q.x,y:Q.y}},"calculateDimensionsWithPadding"),YL8=I((Z,J,Q,K,U)=>{return`${Z-U} ${J-U} ${Q} ${K}`},"createViewBox")});var IT={};LZ(IT,{diagram:()=>RL8});var qL8="flowchart-",WL8,GL8,zL8,HL8,Ws,DE0,IE0,FL8,ML8,BL8,OL8,RL8;var AT=f(()=>{fq();ZL();P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();TZ();TZ();N4();WL8=class{constructor(){this.vertexCounter=0,this.config=E0(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=cZ,this.setAccDescription=rZ,this.setDiagramTitle=Z9,this.getAccTitle=sZ,this.getAccDescription=nZ,this.getDiagramTitle=aZ,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{I(this,"FlowDB")}sanitizeText(Z){return U8.sanitizeText(Z,this.config)}lookUpDomId(Z){for(let J of this.vertices.values())if(J.id===Z)return J.domId;return Z}addVertex(Z,J,Q,K,U,X,Y={},q){if(!Z||Z.trim().length===0)return;let W;if(q!==void 0){let F;if(!q.includes(`
`))F=`{
`+q+`
}`;else F=q+`
`;W=_1(F,{schema:k1})}let G=this.edges.find((F)=>F.id===Z);if(G){let F=W;if(F?.animate!==void 0)G.animate=F.animate;if(F?.animation!==void 0)G.animation=F.animation;if(F?.curve!==void 0)G.interpolate=F.curve;return}let z,H=this.vertices.get(Z);if(H===void 0)H={id:Z,labelType:"text",domId:qL8+Z+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(Z,H);if(this.vertexCounter++,J!==void 0){if(this.config=E0(),z=this.sanitizeText(J.text.trim()),H.labelType=J.type,z.startsWith('"')&&z.endsWith('"'))z=z.substring(1,z.length-1);H.text=z}else if(H.text===void 0)H.text=Z;if(Q!==void 0)H.type=Q;if(K!==void 0&&K!==null)K.forEach((F)=>{H.styles.push(F)});if(U!==void 0&&U!==null)U.forEach((F)=>{H.classes.push(F)});if(X!==void 0)H.dir=X;if(H.props===void 0)H.props=Y;else if(Y!==void 0)Object.assign(H.props,Y);if(W!==void 0){if(W.shape){if(W.shape!==W.shape.toLowerCase()||W.shape.includes("_"))throw Error(`No such shape: ${W.shape}. Shape names should be lowercase.`);else if(!zc(W.shape))throw Error(`No such shape: ${W.shape}.`);H.type=W?.shape}if(W?.label)H.text=W?.label;if(W?.icon){if(H.icon=W?.icon,!W.label?.trim()&&H.text===Z)H.text=""}if(W?.form)H.form=W?.form;if(W?.pos)H.pos=W?.pos;if(W?.img){if(H.img=W?.img,!W.label?.trim()&&H.text===Z)H.text=""}if(W?.constraint)H.constraint=W.constraint;if(W.w)H.assetWidth=Number(W.w);if(W.h)H.assetHeight=Number(W.h)}}addSingleLink(Z,J,Q,K){let Y={start:Z,end:J,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};Z0.info("abc78 Got edge...",Y);let q=Q.text;if(q!==void 0){if(Y.text=this.sanitizeText(q.text.trim()),Y.text.startsWith('"')&&Y.text.endsWith('"'))Y.text=Y.text.substring(1,Y.text.length-1);Y.labelType=q.type}if(Q!==void 0)Y.type=Q.type,Y.stroke=Q.stroke,Y.length=Q.length>10?10:Q.length;if(K&&!this.edges.some((W)=>W.id===K))Y.id=K,Y.isUserDefinedId=!0;else{let W=this.edges.filter((G)=>G.start===Y.start&&G.end===Y.end);if(W.length===0)Y.id=SU(Y.start,Y.end,{counter:0,prefix:"L"});else Y.id=SU(Y.start,Y.end,{counter:W.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))Z0.info("Pushing edge..."),this.edges.push(Y);else throw Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(Z){return Z!==null&&typeof Z==="object"&&"id"in Z&&typeof Z.id==="string"}addLink(Z,J,Q){let K=this.isLinkData(Q)?Q.id.replace("@",""):void 0;Z0.info("addLink",Z,J,K);for(let U of Z)for(let X of J){let Y=U===Z[Z.length-1],q=X===J[0];if(Y&&q)this.addSingleLink(U,X,Q,K);else this.addSingleLink(U,X,Q,void 0)}}updateLinkInterpolate(Z,J){Z.forEach((Q)=>{if(Q==="default")this.edges.defaultInterpolate=J;else this.edges[Q].interpolate=J})}updateLink(Z,J){Z.forEach((Q)=>{if(typeof Q==="number"&&Q>=this.edges.length)throw Error(`The index ${Q} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);if(Q==="default")this.edges.defaultStyle=J;else if(this.edges[Q].style=J,(this.edges[Q]?.style?.length??0)>0&&!this.edges[Q]?.style?.some((K)=>K?.startsWith("fill")))this.edges[Q]?.style?.push("fill:none")})}addClass(Z,J){let Q=J.join().replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");Z.split(",").forEach((K)=>{let U=this.classes.get(K);if(U===void 0)U={id:K,styles:[],textStyles:[]},this.classes.set(K,U);if(Q!==void 0&&Q!==null)Q.forEach((X)=>{if(/color/.exec(X)){let Y=X.replace("fill","bgFill");U.textStyles.push(Y)}U.styles.push(X)})})}setDirection(Z){if(this.direction=Z.trim(),/.*</.exec(this.direction))this.direction="RL";if(/.*\^/.exec(this.direction))this.direction="BT";if(/.*>/.exec(this.direction))this.direction="LR";if(/.*v/.exec(this.direction))this.direction="TB";if(this.direction==="TD")this.direction="TB"}setClass(Z,J){for(let Q of Z.split(",")){let K=this.vertices.get(Q);if(K)K.classes.push(J);let U=this.edges.find((Y)=>Y.id===Q);if(U)U.classes.push(J);let X=this.subGraphLookup.get(Q);if(X)X.classes.push(J)}}setTooltip(Z,J){if(J===void 0)return;J=this.sanitizeText(J);for(let Q of Z.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(Q):Q,J)}setClickFun(Z,J,Q){let K=this.lookUpDomId(Z);if(E0().securityLevel!=="loose")return;if(J===void 0)return;let U=[];if(typeof Q==="string"){U=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let Y=0;Y<U.length;Y++){let q=U[Y].trim();if(q.startsWith('"')&&q.endsWith('"'))q=q.substr(1,q.length-2);U[Y]=q}}if(U.length===0)U.push(Z);let X=this.vertices.get(Z);if(X)X.haveCallback=!0,this.funs.push(()=>{let Y=document.querySelector(`[id="${K}"]`);if(Y!==null)Y.addEventListener("click",()=>{ZZ.runFunc(J,...U)},!1)})}setLink(Z,J,Q){Z.split(",").forEach((K)=>{let U=this.vertices.get(K);if(U!==void 0)U.link=ZZ.formatUrl(J,this.config),U.linkTarget=Q}),this.setClass(Z,"clickable")}getTooltip(Z){return this.tooltips.get(Z)}setClickEvent(Z,J,Q){Z.split(",").forEach((K)=>{this.setClickFun(K,J,Q)}),this.setClass(Z,"clickable")}bindFunctions(Z){this.funs.forEach((J)=>{J(Z)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(Z){let J=n0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=n0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);n0(Z).select("svg").selectAll("g.node").on("mouseover",(U)=>{let X=n0(U.currentTarget);if(X.attr("title")===null)return;let q=U.currentTarget?.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(X.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.bottom+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),X.classed("hover",!0)}).on("mouseout",(U)=>{J.transition().duration(500).style("opacity",0),n0(U.currentTarget).classed("hover",!1)})}clear(Z="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=Z,this.config=E0(),bZ()}setGen(Z){this.version=Z||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(Z,J,Q){let K=Z.text.trim(),U=Q.text;if(Z===Q&&/\s/.exec(Q.text))K=void 0;let Y=I((H)=>{let F={boolean:{},number:{},string:{}},M=[],B;return{nodeList:H.filter(function(R){let L=typeof R;if(R.stmt&&R.stmt==="dir")return B=R.value,!1;if(R.trim()==="")return!1;if(L in F)return F[L].hasOwnProperty(R)?!1:F[L][R]=!0;else return M.includes(R)?!1:M.push(R)}),dir:B}},"uniq")(J.flat()),q=Y.nodeList,W=Y.dir,G=E0().flowchart??{};if(W=W??(G.inheritDir?this.getDirection()??E0().direction??void 0:void 0),this.version==="gen-1")for(let H=0;H<q.length;H++)q[H]=this.lookUpDomId(q[H]);K=K??"subGraph"+this.subCount,U=U||"",U=this.sanitizeText(U),this.subCount=this.subCount+1;let z={id:K,nodes:q,title:U.trim(),classes:[],dir:W,labelType:Q.type};return Z0.info("Adding",z.id,z.nodes,z.dir),z.nodes=this.makeUniq(z,this.subGraphs).nodes,this.subGraphs.push(z),this.subGraphLookup.set(K,z),K}getPosForId(Z){for(let[J,Q]of this.subGraphs.entries())if(Q.id===Z)return J;return-1}indexNodes2(Z,J){let Q=this.subGraphs[J].nodes;if(this.secCount=this.secCount+1,this.secCount>2000)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=J,this.subGraphs[J].id===Z)return{result:!0,count:0};let K=0,U=1;while(K<Q.length){let X=this.getPosForId(Q[K]);if(X>=0){let Y=this.indexNodes2(Z,X);if(Y.result)return{result:!0,count:U+Y.count};else U=U+Y.count}K=K+1}return{result:!1,count:U}}getDepthFirstPos(Z){return this.posCrossRef[Z]}indexNodes(){if(this.secCount=-1,this.subGraphs.length>0)this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){if(this.firstGraphFlag)return this.firstGraphFlag=!1,!0;return!1}destructStartLink(Z){let J=Z.trim(),Q="arrow_open";switch(J[0]){case"<":Q="arrow_point",J=J.slice(1);break;case"x":Q="arrow_cross",J=J.slice(1);break;case"o":Q="arrow_circle",J=J.slice(1);break}let K="normal";if(J.includes("="))K="thick";if(J.includes("."))K="dotted";return{type:Q,stroke:K}}countChar(Z,J){let Q=J.length,K=0;for(let U=0;U<Q;++U)if(J[U]===Z)++K;return K}destructEndLink(Z){let J=Z.trim(),Q=J.slice(0,-1),K="arrow_open";switch(J.slice(-1)){case"x":if(K="arrow_cross",J.startsWith("x"))K="double_"+K,Q=Q.slice(1);break;case">":if(K="arrow_point",J.startsWith("<"))K="double_"+K,Q=Q.slice(1);break;case"o":if(K="arrow_circle",J.startsWith("o"))K="double_"+K,Q=Q.slice(1);break}let U="normal",X=Q.length-1;if(Q.startsWith("="))U="thick";if(Q.startsWith("~"))U="invisible";let Y=this.countChar(".",Q);if(Y)U="dotted",X=Y;return{type:K,stroke:U,length:X}}destructLink(Z,J){let Q=this.destructEndLink(Z),K;if(J){if(K=this.destructStartLink(J),K.stroke!==Q.stroke)return{type:"INVALID",stroke:"INVALID"};if(K.type==="arrow_open")K.type=Q.type;else{if(K.type!==Q.type)return{type:"INVALID",stroke:"INVALID"};K.type="double_"+K.type}if(K.type==="double_arrow")K.type="double_arrow_point";return K.length=Q.length,K}return Q}exists(Z,J){for(let Q of Z)if(Q.nodes.includes(J))return!0;return!1}makeUniq(Z,J){let Q=[];return Z.nodes.forEach((K,U)=>{if(!this.exists(J,K))Q.push(Z.nodes[U])}),{nodes:Q}}getTypeFromVertex(Z){if(Z.img)return"imageSquare";if(Z.icon){if(Z.form==="circle")return"iconCircle";if(Z.form==="square")return"iconSquare";if(Z.form==="rounded")return"iconRounded";return"icon"}switch(Z.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return Z.type}}findNode(Z,J){return Z.find((Q)=>Q.id===J)}destructEdgeType(Z){let J="none",Q="arrow_point";switch(Z){case"arrow_point":case"arrow_circle":case"arrow_cross":Q=Z;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":J=Z.replace("double_",""),Q=J;break}return{arrowTypeStart:J,arrowTypeEnd:Q}}addNodeFromVertex(Z,J,Q,K,U,X){let Y=Q.get(Z.id),q=K.get(Z.id)??!1,W=this.findNode(J,Z.id);if(W)W.cssStyles=Z.styles,W.cssCompiledStyles=this.getCompiledStyles(Z.classes),W.cssClasses=Z.classes.join(" ");else{let G={id:Z.id,label:Z.text,labelStyle:"",parentId:Y,padding:U.flowchart?.padding||8,cssStyles:Z.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...Z.classes]),cssClasses:"default "+Z.classes.join(" "),dir:Z.dir,domId:Z.domId,look:X,link:Z.link,linkTarget:Z.linkTarget,tooltip:this.getTooltip(Z.id),icon:Z.icon,pos:Z.pos,img:Z.img,assetWidth:Z.assetWidth,assetHeight:Z.assetHeight,constraint:Z.constraint};if(q)J.push({...G,isGroup:!0,shape:"rect"});else J.push({...G,isGroup:!1,shape:this.getTypeFromVertex(Z)})}}getCompiledStyles(Z){let J=[];for(let Q of Z){let K=this.classes.get(Q);if(K?.styles)J=[...J,...K.styles??[]].map((U)=>U.trim());if(K?.textStyles)J=[...J,...K.textStyles??[]].map((U)=>U.trim())}return J}getData(){let Z=E0(),J=[],Q=[],K=this.getSubGraphs(),U=new Map,X=new Map;for(let W=K.length-1;W>=0;W--){let G=K[W];if(G.nodes.length>0)X.set(G.id,!0);for(let z of G.nodes)U.set(z,G.id)}for(let W=K.length-1;W>=0;W--){let G=K[W];J.push({id:G.id,label:G.title,labelStyle:"",parentId:U.get(G.id),padding:8,cssCompiledStyles:this.getCompiledStyles(G.classes),cssClasses:G.classes.join(" "),shape:"rect",dir:G.dir,isGroup:!0,look:Z.look})}this.getVertices().forEach((W)=>{this.addNodeFromVertex(W,J,U,X,Z,Z.look||"classic")});let q=this.getEdges();return q.forEach((W,G)=>{let{arrowTypeStart:z,arrowTypeEnd:H}=this.destructEdgeType(W.type),F=[...q.defaultStyle??[]];if(W.style)F.push(...W.style);let M={id:SU(W.start,W.end,{counter:G,prefix:"L"},W.id),isUserDefinedId:W.isUserDefinedId,start:W.start,end:W.end,type:W.type??"normal",label:W.text,labelpos:"c",thickness:W.stroke,minlen:W.length,classes:W?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:W?.stroke==="invisible"||W?.type==="arrow_open"?"none":z,arrowTypeEnd:W?.stroke==="invisible"||W?.type==="arrow_open"?"none":H,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(W.classes),labelStyle:F,style:F,pattern:W.stroke,look:Z.look,animate:W.animate,animation:W.animation,curve:W.interpolate||this.edges.defaultInterpolate||Z.flowchart?.curve};Q.push(M)}),{nodes:J,edges:Q,other:{},config:Z}}defaultConfig(){return CV.flowchart}},GL8=I(function(Z,J){return J.db.getClasses()},"getClasses"),zL8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing state diagram (v2)",J);let{securityLevel:U,flowchart:X,layout:Y}=E0(),q;if(U==="sandbox")q=n0("#i"+J);let W=U==="sandbox"?q.nodes()[0].contentDocument:document;Z0.debug("Before getData: ");let G=K.db.getData();Z0.debug("Data: ",G);let z=CK(J,U),H=K.db.getDirection();if(G.type=K.type,G.layoutAlgorithm=lU(Y),G.layoutAlgorithm==="dagre"&&Y==="elk")Z0.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback.");G.direction=H,G.nodeSpacing=X?.nodeSpacing||50,G.rankSpacing=X?.rankSpacing||50,G.markers=["point","circle","cross"],G.diagramId=J,Z0.debug("REF1:",G),await IK(G,z);let F=G.config.flowchart?.diagramPadding??8;ZZ.insertTitle(z,"flowchartTitleText",X?.titleTopMargin||0,K.db.getDiagramTitle()),o6(z,F,"flowchart",X?.useMaxWidth||!1);for(let M of G.nodes){let B=n0(`#${J} [id="${M.id}"]`);if(!B||!M.link)continue;let O=W.createElementNS("http://www.w3.org/2000/svg","a");if(O.setAttributeNS("http://www.w3.org/2000/svg","class",M.cssClasses),O.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),U==="sandbox")O.setAttributeNS("http://www.w3.org/2000/svg","target","_top");else if(M.linkTarget)O.setAttributeNS("http://www.w3.org/2000/svg","target",M.linkTarget);let R=B.insert(function(){return O},":first-child"),L=B.select(".label-container");if(L)R.append(function(){return L.node()});let D=B.select(".label");if(D)R.append(function(){return D.node()})}},"draw"),HL8={getClasses:GL8,draw:zL8},Ws=function(){var Z=I(function(a8,o0,A8,p8){for(A8=A8||{},p8=a8.length;p8--;A8[a8[p8]]=o0);return A8},"o"),J=[1,4],Q=[1,3],K=[1,5],U=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],X=[2,2],Y=[1,13],q=[1,14],W=[1,15],G=[1,16],z=[1,23],H=[1,25],F=[1,26],M=[1,27],B=[1,49],O=[1,48],R=[1,29],L=[1,30],D=[1,31],A=[1,32],V=[1,33],N=[1,44],E=[1,46],C=[1,42],j=[1,47],$=[1,43],k=[1,50],w=[1,45],P=[1,51],S=[1,52],T=[1,34],_=[1,35],v=[1,36],x=[1,37],b=[1,57],y=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],u=[1,61],h=[1,60],p=[1,62],r=[8,9,11,75,77,78],t=[1,78],d=[1,91],X0=[1,96],a=[1,95],z0=[1,92],J0=[1,88],Q0=[1,94],e=[1,90],n=[1,97],Y0=[1,93],o=[1,98],M0=[1,89],K0=[8,9,10,11,40,75,77,78],V0=[8,9,10,11,40,46,75,77,78],i=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],p0=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],B0=[44,60,89,102,105,106,109,111,114,115,116],h0=[1,121],a0=[1,122],s0=[1,124],$0=[1,123],x0=[44,60,62,74,89,102,105,106,109,111,114,115,116],f0=[1,133],C0=[1,147],m0=[1,148],F0=[1,149],I0=[1,150],s=[1,135],H0=[1,137],m=[1,141],q0=[1,142],W0=[1,143],N0=[1,144],D0=[1,145],L0=[1,146],_0=[1,151],T0=[1,152],u0=[1,131],Z8=[1,132],B8=[1,139],r0=[1,134],g0=[1,138],t0=[1,136],d0=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],X8=[1,154],g8=[1,156],M8=[8,9,11],$8=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],H8=[1,176],G8=[1,172],O8=[1,173],L8=[1,177],I8=[1,174],F8=[1,175],iZ=[77,116,119],w8=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],xZ=[10,106],uZ=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],YZ=[1,247],qZ=[1,245],SZ=[1,249],A9=[1,243],R8=[1,244],S0=[1,246],Y8=[1,248],j8=[1,250],b0=[1,268],K8=[8,9,11,106],Q8=[8,9,10,11,60,84,105,106,109,110,111,112],E8={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:I(function(o0,A8,p8,q8,$Z,O0,p5){var A0=O0.length-1;switch($Z){case 2:this.$=[];break;case 3:if(!Array.isArray(O0[A0])||O0[A0].length>0)O0[A0-1].push(O0[A0]);this.$=O0[A0-1];break;case 4:case 183:this.$=O0[A0];break;case 11:q8.setDirection("TB"),this.$="TB";break;case 12:q8.setDirection(O0[A0-1]),this.$=O0[A0-1];break;case 27:this.$=O0[A0-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=q8.addSubGraph(O0[A0-6],O0[A0-1],O0[A0-4]);break;case 34:this.$=q8.addSubGraph(O0[A0-3],O0[A0-1],O0[A0-3]);break;case 35:this.$=q8.addSubGraph(void 0,O0[A0-1],void 0);break;case 37:this.$=O0[A0].trim(),q8.setAccTitle(this.$);break;case 38:case 39:this.$=O0[A0].trim(),q8.setAccDescription(this.$);break;case 43:this.$=O0[A0-1]+O0[A0];break;case 44:this.$=O0[A0];break;case 45:q8.addVertex(O0[A0-1][O0[A0-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0]),q8.addLink(O0[A0-3].stmt,O0[A0-1],O0[A0-2]),this.$={stmt:O0[A0-1],nodes:O0[A0-1].concat(O0[A0-3].nodes)};break;case 46:q8.addLink(O0[A0-2].stmt,O0[A0],O0[A0-1]),this.$={stmt:O0[A0],nodes:O0[A0].concat(O0[A0-2].nodes)};break;case 47:q8.addLink(O0[A0-3].stmt,O0[A0-1],O0[A0-2]),this.$={stmt:O0[A0-1],nodes:O0[A0-1].concat(O0[A0-3].nodes)};break;case 48:this.$={stmt:O0[A0-1],nodes:O0[A0-1]};break;case 49:q8.addVertex(O0[A0-1][O0[A0-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0]),this.$={stmt:O0[A0-1],nodes:O0[A0-1],shapeData:O0[A0]};break;case 50:this.$={stmt:O0[A0],nodes:O0[A0]};break;case 51:this.$=[O0[A0]];break;case 52:q8.addVertex(O0[A0-5][O0[A0-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,O0[A0-4]),this.$=O0[A0-5].concat(O0[A0]);break;case 53:this.$=O0[A0-4].concat(O0[A0]);break;case 54:this.$=O0[A0];break;case 55:this.$=O0[A0-2],q8.setClass(O0[A0-2],O0[A0]);break;case 56:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"square");break;case 57:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"doublecircle");break;case 58:this.$=O0[A0-5],q8.addVertex(O0[A0-5],O0[A0-2],"circle");break;case 59:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"ellipse");break;case 60:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"stadium");break;case 61:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"subroutine");break;case 62:this.$=O0[A0-7],q8.addVertex(O0[A0-7],O0[A0-1],"rect",void 0,void 0,void 0,Object.fromEntries([[O0[A0-5],O0[A0-3]]]));break;case 63:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"cylinder");break;case 64:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"round");break;case 65:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"diamond");break;case 66:this.$=O0[A0-5],q8.addVertex(O0[A0-5],O0[A0-2],"hexagon");break;case 67:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"odd");break;case 68:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"trapezoid");break;case 69:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"inv_trapezoid");break;case 70:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"lean_right");break;case 71:this.$=O0[A0-3],q8.addVertex(O0[A0-3],O0[A0-1],"lean_left");break;case 72:this.$=O0[A0],q8.addVertex(O0[A0]);break;case 73:O0[A0-1].text=O0[A0],this.$=O0[A0-1];break;case 74:case 75:O0[A0-2].text=O0[A0-1],this.$=O0[A0-2];break;case 76:this.$=O0[A0];break;case 77:var M9=q8.destructLink(O0[A0],O0[A0-2]);this.$={type:M9.type,stroke:M9.stroke,length:M9.length,text:O0[A0-1]};break;case 78:var M9=q8.destructLink(O0[A0],O0[A0-2]);this.$={type:M9.type,stroke:M9.stroke,length:M9.length,text:O0[A0-1],id:O0[A0-3]};break;case 79:this.$={text:O0[A0],type:"text"};break;case 80:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 81:this.$={text:O0[A0],type:"string"};break;case 82:this.$={text:O0[A0],type:"markdown"};break;case 83:var M9=q8.destructLink(O0[A0]);this.$={type:M9.type,stroke:M9.stroke,length:M9.length};break;case 84:var M9=q8.destructLink(O0[A0]);this.$={type:M9.type,stroke:M9.stroke,length:M9.length,id:O0[A0-1]};break;case 85:this.$=O0[A0-1];break;case 86:this.$={text:O0[A0],type:"text"};break;case 87:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 88:this.$={text:O0[A0],type:"string"};break;case 89:case 104:this.$={text:O0[A0],type:"markdown"};break;case 101:this.$={text:O0[A0],type:"text"};break;case 102:this.$={text:O0[A0-1].text+""+O0[A0],type:O0[A0-1].type};break;case 103:this.$={text:O0[A0],type:"text"};break;case 105:this.$=O0[A0-4],q8.addClass(O0[A0-2],O0[A0]);break;case 106:this.$=O0[A0-4],q8.setClass(O0[A0-2],O0[A0]);break;case 107:case 115:this.$=O0[A0-1],q8.setClickEvent(O0[A0-1],O0[A0]);break;case 108:case 116:this.$=O0[A0-3],q8.setClickEvent(O0[A0-3],O0[A0-2]),q8.setTooltip(O0[A0-3],O0[A0]);break;case 109:this.$=O0[A0-2],q8.setClickEvent(O0[A0-2],O0[A0-1],O0[A0]);break;case 110:this.$=O0[A0-4],q8.setClickEvent(O0[A0-4],O0[A0-3],O0[A0-2]),q8.setTooltip(O0[A0-4],O0[A0]);break;case 111:this.$=O0[A0-2],q8.setLink(O0[A0-2],O0[A0]);break;case 112:this.$=O0[A0-4],q8.setLink(O0[A0-4],O0[A0-2]),q8.setTooltip(O0[A0-4],O0[A0]);break;case 113:this.$=O0[A0-4],q8.setLink(O0[A0-4],O0[A0-2],O0[A0]);break;case 114:this.$=O0[A0-6],q8.setLink(O0[A0-6],O0[A0-4],O0[A0]),q8.setTooltip(O0[A0-6],O0[A0-2]);break;case 117:this.$=O0[A0-1],q8.setLink(O0[A0-1],O0[A0]);break;case 118:this.$=O0[A0-3],q8.setLink(O0[A0-3],O0[A0-2]),q8.setTooltip(O0[A0-3],O0[A0]);break;case 119:this.$=O0[A0-3],q8.setLink(O0[A0-3],O0[A0-2],O0[A0]);break;case 120:this.$=O0[A0-5],q8.setLink(O0[A0-5],O0[A0-4],O0[A0]),q8.setTooltip(O0[A0-5],O0[A0-2]);break;case 121:this.$=O0[A0-4],q8.addVertex(O0[A0-2],void 0,void 0,O0[A0]);break;case 122:this.$=O0[A0-4],q8.updateLink([O0[A0-2]],O0[A0]);break;case 123:this.$=O0[A0-4],q8.updateLink(O0[A0-2],O0[A0]);break;case 124:this.$=O0[A0-8],q8.updateLinkInterpolate([O0[A0-6]],O0[A0-2]),q8.updateLink([O0[A0-6]],O0[A0]);break;case 125:this.$=O0[A0-8],q8.updateLinkInterpolate(O0[A0-6],O0[A0-2]),q8.updateLink(O0[A0-6],O0[A0]);break;case 126:this.$=O0[A0-6],q8.updateLinkInterpolate([O0[A0-4]],O0[A0]);break;case 127:this.$=O0[A0-6],q8.updateLinkInterpolate(O0[A0-4],O0[A0]);break;case 128:case 130:this.$=[O0[A0]];break;case 129:case 131:O0[A0-2].push(O0[A0]),this.$=O0[A0-2];break;case 133:this.$=O0[A0-1]+O0[A0];break;case 181:this.$=O0[A0];break;case 182:this.$=O0[A0-1]+""+O0[A0];break;case 184:this.$=O0[A0-1]+""+O0[A0];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:J,10:Q,12:K},{1:[3]},Z(U,X,{5:6}),{4:7,9:J,10:Q,12:K},{4:8,9:J,10:Q,12:K},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:L,86:D,87:A,88:V,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S,121:T,122:_,123:v,124:x},Z(U,[2,9]),Z(U,[2,10]),Z(U,[2,11]),{8:[1,54],9:[1,55],10:b,15:53,18:56},Z(y,[2,3]),Z(y,[2,4]),Z(y,[2,5]),Z(y,[2,6]),Z(y,[2,7]),Z(y,[2,8]),{8:u,9:h,11:p,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:u,9:h,11:p,21:67},{8:u,9:h,11:p,21:68},{8:u,9:h,11:p,21:69},{8:u,9:h,11:p,21:70},{8:u,9:h,11:p,21:71},{8:u,9:h,10:[1,72],11:p,21:73},Z(y,[2,36]),{35:[1,74]},{37:[1,75]},Z(y,[2,39]),Z(r,[2,50],{18:76,39:77,10:b,40:t}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:d,44:X0,60:a,80:[1,86],89:z0,95:[1,83],97:[1,84],101:85,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0,120:87},Z(y,[2,185]),Z(y,[2,186]),Z(y,[2,187]),Z(y,[2,188]),Z(K0,[2,51]),Z(K0,[2,54],{46:[1,99]}),Z(V0,[2,72],{113:112,29:[1,100],44:B,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:O,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:N,102:E,105:C,106:j,109:$,111:k,114:w,115:P,116:S}),Z(i,[2,181]),Z(i,[2,142]),Z(i,[2,143]),Z(i,[2,144]),Z(i,[2,145]),Z(i,[2,146]),Z(i,[2,147]),Z(i,[2,148]),Z(i,[2,149]),Z(i,[2,150]),Z(i,[2,151]),Z(i,[2,152]),Z(U,[2,12]),Z(U,[2,18]),Z(U,[2,19]),{9:[1,113]},Z(p0,[2,26],{18:114,10:b}),Z(y,[2,27]),{42:115,43:38,44:B,45:39,47:40,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},Z(y,[2,40]),Z(y,[2,41]),Z(y,[2,42]),Z(B0,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:h0,81:a0,116:s0,119:$0},{75:[1,125],77:[1,126]},Z(x0,[2,83]),Z(y,[2,28]),Z(y,[2,29]),Z(y,[2,30]),Z(y,[2,31]),Z(y,[2,32]),{10:f0,12:C0,14:m0,27:F0,28:127,32:I0,44:s,60:H0,75:m,80:[1,129],81:[1,130],83:140,84:q0,85:W0,86:N0,87:D0,88:L0,89:_0,90:T0,91:128,105:u0,109:Z8,111:B8,114:r0,115:g0,116:t0},Z(d0,X,{5:153}),Z(y,[2,37]),Z(y,[2,38]),Z(r,[2,48],{44:X8}),Z(r,[2,49],{18:155,10:b,40:g8}),Z(K0,[2,44]),{44:B,47:157,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},{102:[1,158],103:159,105:[1,160]},{44:B,47:161,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},{44:B,47:162,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},Z(M8,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},Z(M8,[2,115],{120:167,10:[1,166],14:d,44:X0,60:a,89:z0,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0}),Z(M8,[2,117],{10:[1,168]}),Z($8,[2,183]),Z($8,[2,170]),Z($8,[2,171]),Z($8,[2,172]),Z($8,[2,173]),Z($8,[2,174]),Z($8,[2,175]),Z($8,[2,176]),Z($8,[2,177]),Z($8,[2,178]),Z($8,[2,179]),Z($8,[2,180]),{44:B,47:169,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},{30:170,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:178,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:180,50:[1,179],67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:181,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:182,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:183,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{109:[1,184]},{30:185,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:186,65:[1,187],67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:188,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:189,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{30:190,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},Z(i,[2,182]),Z(U,[2,20]),Z(p0,[2,25]),Z(r,[2,46],{39:191,18:192,10:b,40:t}),Z(B0,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{77:[1,196],79:197,116:s0,119:$0},Z(iZ,[2,79]),Z(iZ,[2,81]),Z(iZ,[2,82]),Z(iZ,[2,168]),Z(iZ,[2,169]),{76:198,79:120,80:h0,81:a0,116:s0,119:$0},Z(x0,[2,84]),{8:u,9:h,10:f0,11:p,12:C0,14:m0,21:200,27:F0,29:[1,199],32:I0,44:s,60:H0,75:m,83:140,84:q0,85:W0,86:N0,87:D0,88:L0,89:_0,90:T0,91:201,105:u0,109:Z8,111:B8,114:r0,115:g0,116:t0},Z(w8,[2,101]),Z(w8,[2,103]),Z(w8,[2,104]),Z(w8,[2,157]),Z(w8,[2,158]),Z(w8,[2,159]),Z(w8,[2,160]),Z(w8,[2,161]),Z(w8,[2,162]),Z(w8,[2,163]),Z(w8,[2,164]),Z(w8,[2,165]),Z(w8,[2,166]),Z(w8,[2,167]),Z(w8,[2,90]),Z(w8,[2,91]),Z(w8,[2,92]),Z(w8,[2,93]),Z(w8,[2,94]),Z(w8,[2,95]),Z(w8,[2,96]),Z(w8,[2,97]),Z(w8,[2,98]),Z(w8,[2,99]),Z(w8,[2,100]),{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,202],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:L,86:D,87:A,88:V,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S,121:T,122:_,123:v,124:x},{10:b,18:203},{44:[1,204]},Z(K0,[2,43]),{10:[1,205],44:B,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:112,114:w,115:P,116:S},{10:[1,206]},{10:[1,207],106:[1,208]},Z(xZ,[2,128]),{10:[1,209],44:B,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:112,114:w,115:P,116:S},{10:[1,210],44:B,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:112,114:w,115:P,116:S},{80:[1,211]},Z(M8,[2,109],{10:[1,212]}),Z(M8,[2,111],{10:[1,213]}),{80:[1,214]},Z($8,[2,184]),{80:[1,215],98:[1,216]},Z(K0,[2,55],{113:112,44:B,60:O,89:N,102:E,105:C,106:j,109:$,111:k,114:w,115:P,116:S}),{31:[1,217],67:H8,82:218,116:L8,117:I8,118:F8},Z(uZ,[2,86]),Z(uZ,[2,88]),Z(uZ,[2,89]),Z(uZ,[2,153]),Z(uZ,[2,154]),Z(uZ,[2,155]),Z(uZ,[2,156]),{49:[1,219],67:H8,82:218,116:L8,117:I8,118:F8},{30:220,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{51:[1,221],67:H8,82:218,116:L8,117:I8,118:F8},{53:[1,222],67:H8,82:218,116:L8,117:I8,118:F8},{55:[1,223],67:H8,82:218,116:L8,117:I8,118:F8},{57:[1,224],67:H8,82:218,116:L8,117:I8,118:F8},{60:[1,225]},{64:[1,226],67:H8,82:218,116:L8,117:I8,118:F8},{66:[1,227],67:H8,82:218,116:L8,117:I8,118:F8},{30:228,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},{31:[1,229],67:H8,82:218,116:L8,117:I8,118:F8},{67:H8,69:[1,230],71:[1,231],82:218,116:L8,117:I8,118:F8},{67:H8,69:[1,233],71:[1,232],82:218,116:L8,117:I8,118:F8},Z(r,[2,45],{18:155,10:b,40:g8}),Z(r,[2,47],{44:X8}),Z(B0,[2,75]),Z(B0,[2,74]),{62:[1,234],67:H8,82:218,116:L8,117:I8,118:F8},Z(B0,[2,77]),Z(iZ,[2,80]),{77:[1,235],79:197,116:s0,119:$0},{30:236,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},Z(d0,X,{5:237}),Z(w8,[2,102]),Z(y,[2,35]),{43:238,44:B,45:39,47:40,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},{10:b,18:239},{10:YZ,60:qZ,84:SZ,92:240,105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},{10:YZ,60:qZ,84:SZ,92:251,104:[1,252],105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},{10:YZ,60:qZ,84:SZ,92:253,104:[1,254],105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},{105:[1,255]},{10:YZ,60:qZ,84:SZ,92:256,105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},{44:B,47:257,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},Z(M8,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},Z(M8,[2,116]),Z(M8,[2,118],{10:[1,261]}),Z(M8,[2,119]),Z(V0,[2,56]),Z(uZ,[2,87]),Z(V0,[2,57]),{51:[1,262],67:H8,82:218,116:L8,117:I8,118:F8},Z(V0,[2,64]),Z(V0,[2,59]),Z(V0,[2,60]),Z(V0,[2,61]),{109:[1,263]},Z(V0,[2,63]),Z(V0,[2,65]),{66:[1,264],67:H8,82:218,116:L8,117:I8,118:F8},Z(V0,[2,67]),Z(V0,[2,68]),Z(V0,[2,70]),Z(V0,[2,69]),Z(V0,[2,71]),Z([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),Z(B0,[2,78]),{31:[1,265],67:H8,82:218,116:L8,117:I8,118:F8},{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,266],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:L,86:D,87:A,88:V,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S,121:T,122:_,123:v,124:x},Z(K0,[2,53]),{43:267,44:B,45:39,47:40,60:O,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S},Z(M8,[2,121],{106:b0}),Z(K8,[2,130],{108:269,10:YZ,60:qZ,84:SZ,105:A9,109:R8,110:S0,111:Y8,112:j8}),Z(Q8,[2,132]),Z(Q8,[2,134]),Z(Q8,[2,135]),Z(Q8,[2,136]),Z(Q8,[2,137]),Z(Q8,[2,138]),Z(Q8,[2,139]),Z(Q8,[2,140]),Z(Q8,[2,141]),Z(M8,[2,122],{106:b0}),{10:[1,270]},Z(M8,[2,123],{106:b0}),{10:[1,271]},Z(xZ,[2,129]),Z(M8,[2,105],{106:b0}),Z(M8,[2,106],{113:112,44:B,60:O,89:N,102:E,105:C,106:j,109:$,111:k,114:w,115:P,116:S}),Z(M8,[2,110]),Z(M8,[2,112],{10:[1,272]}),Z(M8,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:u,9:h,11:p,21:277},Z(y,[2,34]),Z(K0,[2,52]),{10:YZ,60:qZ,84:SZ,105:A9,107:278,108:242,109:R8,110:S0,111:Y8,112:j8},Z(Q8,[2,133]),{14:d,44:X0,60:a,89:z0,101:279,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0,120:87},{14:d,44:X0,60:a,89:z0,101:280,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0,120:87},{98:[1,281]},Z(M8,[2,120]),Z(V0,[2,58]),{30:282,67:H8,80:G8,81:O8,82:171,116:L8,117:I8,118:F8},Z(V0,[2,66]),Z(d0,X,{5:283}),Z(K8,[2,131],{108:269,10:YZ,60:qZ,84:SZ,105:A9,109:R8,110:S0,111:Y8,112:j8}),Z(M8,[2,126],{120:167,10:[1,284],14:d,44:X0,60:a,89:z0,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0}),Z(M8,[2,127],{120:167,10:[1,285],14:d,44:X0,60:a,89:z0,105:J0,106:Q0,109:e,111:n,114:Y0,115:o,116:M0}),Z(M8,[2,114]),{31:[1,286],67:H8,82:218,116:L8,117:I8,118:F8},{6:11,7:12,8:Y,9:q,10:W,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:z,32:[1,287],33:24,34:H,36:F,38:M,42:28,43:38,44:B,45:39,47:40,60:O,84:R,85:L,86:D,87:A,88:V,89:N,102:E,105:C,106:j,109:$,111:k,113:41,114:w,115:P,116:S,121:T,122:_,123:v,124:x},{10:YZ,60:qZ,84:SZ,92:288,105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},{10:YZ,60:qZ,84:SZ,92:289,105:A9,107:241,108:242,109:R8,110:S0,111:Y8,112:j8},Z(V0,[2,62]),Z(y,[2,33]),Z(M8,[2,124],{106:b0}),Z(M8,[2,125],{106:b0})],defaultActions:{},parseError:I(function(o0,A8){if(A8.recoverable)this.trace(o0);else{var p8=Error(o0);throw p8.hash=A8,p8}},"parseError"),parse:I(function(o0){var A8=this,p8=[0],q8=[],$Z=[null],O0=[],p5=this.table,A0="",M9=0,eA=0,Tf=0,wf=2,F00=1,zl0=O0.slice.call(arguments,1),j7=Object.create(this.lexer),mW={yy:{}};for(var $f in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,$f))mW.yy[$f]=this.yy[$f];if(j7.setInput(o0,mW.yy),mW.yy.lexer=j7,mW.yy.parser=this,typeof j7.yylloc>"u")j7.yylloc={};var kf=j7.yylloc;O0.push(kf);var Hl0=j7.options&&j7.options.ranges;if(typeof mW.yy.parseError==="function")this.parseError=mW.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function Fl0(i4){p8.length=p8.length-2*i4,$Z.length=$Z.length-i4,O0.length=O0.length-i4}I(Fl0,"popStack");function M00(){var i4=q8.pop()||j7.lex()||F00;if(typeof i4!=="number"){if(i4 instanceof Array)q8=i4,i4=q8.pop();i4=A8.symbols_[i4]||i4}return i4}I(M00,"lex");var uQ,_f,uW,d4,Vi8,ff,tz={},ZN,CX,B00,JN;while(!0){if(uW=p8[p8.length-1],this.defaultActions[uW])d4=this.defaultActions[uW];else{if(uQ===null||typeof uQ>"u")uQ=M00();d4=p5[uW]&&p5[uW][uQ]}if(typeof d4>"u"||!d4.length||!d4[0]){var vf="";JN=[];for(ZN in p5[uW])if(this.terminals_[ZN]&&ZN>wf)JN.push("'"+this.terminals_[ZN]+"'");if(j7.showPosition)vf="Parse error on line "+(M9+1)+`:
`+j7.showPosition()+`
Expecting `+JN.join(", ")+", got '"+(this.terminals_[uQ]||uQ)+"'";else vf="Parse error on line "+(M9+1)+": Unexpected "+(uQ==F00?"end of input":"'"+(this.terminals_[uQ]||uQ)+"'");this.parseError(vf,{text:j7.match,token:this.terminals_[uQ]||uQ,line:j7.yylineno,loc:kf,expected:JN})}if(d4[0]instanceof Array&&d4.length>1)throw Error("Parse Error: multiple actions possible at state: "+uW+", token: "+uQ);switch(d4[0]){case 1:if(p8.push(uQ),$Z.push(j7.yytext),O0.push(j7.yylloc),p8.push(d4[1]),uQ=null,!_f){if(eA=j7.yyleng,A0=j7.yytext,M9=j7.yylineno,kf=j7.yylloc,Tf>0)Tf--}else uQ=_f,_f=null;break;case 2:if(CX=this.productions_[d4[1]][1],tz.$=$Z[$Z.length-CX],tz._$={first_line:O0[O0.length-(CX||1)].first_line,last_line:O0[O0.length-1].last_line,first_column:O0[O0.length-(CX||1)].first_column,last_column:O0[O0.length-1].last_column},Hl0)tz._$.range=[O0[O0.length-(CX||1)].range[0],O0[O0.length-1].range[1]];if(ff=this.performAction.apply(tz,[A0,eA,M9,mW.yy,d4[1],$Z,O0].concat(zl0)),typeof ff<"u")return ff;if(CX)p8=p8.slice(0,-1*CX*2),$Z=$Z.slice(0,-1*CX),O0=O0.slice(0,-1*CX);p8.push(this.productions_[d4[1]][0]),$Z.push(tz.$),O0.push(tz._$),B00=p5[p8[p8.length-2]][p8[p8.length-1]],p8.push(B00);break;case 3:return!0}}return!0},"parse")},zZ=function(){var a8={EOF:1,parseError:I(function(A8,p8){if(this.yy.parser)this.yy.parser.parseError(A8,p8);else throw Error(A8)},"parseError"),setInput:I(function(o0,A8){if(this.yy=A8||this.yy||{},this._input=o0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var o0=this._input[0];this.yytext+=o0,this.yyleng++,this.offset++,this.match+=o0,this.matched+=o0;var A8=o0.match(/(?:\r\n?|\n).*/g);if(A8)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),o0},"input"),unput:I(function(o0){var A8=o0.length,p8=o0.split(/(?:\r\n?|\n)/g);this._input=o0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A8),this.offset-=A8;var q8=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),p8.length-1)this.yylineno-=p8.length-1;var $Z=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:p8?(p8.length===q8.length?this.yylloc.first_column:0)+q8[q8.length-p8.length].length-p8[0].length:this.yylloc.first_column-A8},this.options.ranges)this.yylloc.range=[$Z[0],$Z[0]+this.yyleng-A8];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(o0){this.unput(this.match.slice(o0))},"less"),pastInput:I(function(){var o0=this.matched.substr(0,this.matched.length-this.match.length);return(o0.length>20?"...":"")+o0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var o0=this.match;if(o0.length<20)o0+=this._input.substr(0,20-o0.length);return(o0.substr(0,20)+(o0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var o0=this.pastInput(),A8=Array(o0.length+1).join("-");return o0+this.upcomingInput()+`
`+A8+"^"},"showPosition"),test_match:I(function(o0,A8){var p8,q8,$Z;if(this.options.backtrack_lexer){if($Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)$Z.yylloc.range=this.yylloc.range.slice(0)}if(q8=o0[0].match(/(?:\r\n?|\n).*/g),q8)this.yylineno+=q8.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q8?q8[q8.length-1].length-q8[q8.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o0[0].length},this.yytext+=o0[0],this.match+=o0[0],this.matches=o0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(o0[0].length),this.matched+=o0[0],p8=this.performAction.call(this,this.yy,this,A8,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(p8)return p8;else if(this._backtrack){for(var O0 in $Z)this[O0]=$Z[O0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var o0,A8,p8,q8;if(!this._more)this.yytext="",this.match="";var $Z=this._currentRules();for(var O0=0;O0<$Z.length;O0++)if(p8=this._input.match(this.rules[$Z[O0]]),p8&&(!A8||p8[0].length>A8[0].length)){if(A8=p8,q8=O0,this.options.backtrack_lexer)if(o0=this.test_match(p8,$Z[O0]),o0!==!1)return o0;else if(this._backtrack){A8=!1;continue}else return!1;else if(!this.options.flex)break}if(A8){if(o0=this.test_match(A8,$Z[q8]),o0!==!1)return o0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var A8=this.next();if(A8)return A8;else return this.lex()},"lex"),begin:I(function(A8){this.conditionStack.push(A8)},"begin"),popState:I(function(){var A8=this.conditionStack.length-1;if(A8>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(A8){if(A8=this.conditionStack.length-1-Math.abs(A8||0),A8>=0)return this.conditionStack[A8];else return"INITIAL"},"topState"),pushState:I(function(A8){this.begin(A8)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(A8,p8,q8,$Z){var O0=$Z;switch(q8){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),p8.yytext="",40;break;case 8:return this.pushState("shapeDataStr"),40;break;case 9:return this.popState(),40;break;case 10:let p5=/\n\s*/g;return p8.yytext=p8.yytext.replace(p5,"<br/>"),40;break;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:if(A8.lex.firstGraph())this.begin("dir");return 12;case 36:if(A8.lex.firstGraph())this.begin("dir");return 12;case 37:if(A8.lex.firstGraph())this.begin("dir");return 12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return this.popState(),14;break;case 50:return this.popState(),14;break;case 51:return this.popState(),14;break;case 52:return this.popState(),14;break;case 53:return this.popState(),14;break;case 54:return this.popState(),14;break;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;break;case 69:return this.pushState("edgeText"),75;break;case 70:return 119;case 71:return this.popState(),77;break;case 72:return this.pushState("thickEdgeText"),75;break;case 73:return 119;case 74:return this.popState(),77;break;case 75:return this.pushState("dottedEdgeText"),75;break;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;break;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;break;case 81:return this.popState(),55;break;case 82:return this.pushState("text"),54;break;case 83:return this.popState(),57;break;case 84:return this.pushState("text"),56;break;case 85:return 58;case 86:return this.pushState("text"),67;break;case 87:return this.popState(),64;break;case 88:return this.pushState("text"),63;break;case 89:return this.popState(),49;break;case 90:return this.pushState("text"),48;break;case 91:return this.popState(),69;break;case 92:return this.popState(),71;break;case 93:return 117;case 94:return this.pushState("trapText"),68;break;case 95:return this.pushState("trapText"),70;break;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;break;case 108:return this.pushState("text"),62;break;case 109:return this.popState(),51;break;case 110:return this.pushState("text"),50;break;case 111:return this.popState(),31;break;case 112:return this.pushState("text"),29;break;case 113:return this.popState(),66;break;case 114:return this.pushState("text"),65;break;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return a8}();E8.lexer=zZ;function IZ(){this.yy={}}return I(IZ,"Parser"),IZ.prototype=E8,E8.Parser=IZ,new IZ}();Ws.parser=Ws;DE0=Ws,IE0=Object.assign({},DE0);IE0.parse=(Z)=>{let J=Z.replace(/}\s*\n/g,`}
`);return DE0.parse(J)};FL8=IE0,ML8=I((Z,J)=>{let Q=GG,K=Q(Z,"r"),U=Q(Z,"g"),X=Q(Z,"b");return dQ(K,U,X,J)},"fade"),BL8=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span {
    color: ${Z.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${Z.lineColor} !important;
    stroke-width: 0;
    stroke: ${Z.lineColor};
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    p {
      background-color: ${Z.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${ML8(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${Z.clusterBkg};
    stroke: ${Z.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${Z.edgeLabelBackground};
    p {
      background-color: ${Z.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }
  ${sU()}
`,"getStyles"),OL8=BL8,RL8={parser:FL8,get db(){return new WL8},renderer:HL8,styles:OL8,init:I((Z)=>{if(!Z.flowchart)Z.flowchart={};if(Z.layout)K3({layout:Z.layout});Z.flowchart.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,K3({flowchart:{arrowMarkerAbsolute:Z.arrowMarkerAbsolute}})},"init")}});var NE0={};LZ(NE0,{diagram:()=>VL8});var Gs,LL8,DL8,AE0,IL8,AL8,NL8,EL8,VL8;var EE0=f(()=>{P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();TZ();N4();Gs=function(){var Z=I(function(n,Y0,o,M0){for(o=o||{},M0=n.length;M0--;o[n[M0]]=Y0);return o},"o"),J=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],Q=[1,10],K=[1,11],U=[1,12],X=[1,13],Y=[1,20],q=[1,21],W=[1,22],G=[1,23],z=[1,24],H=[1,19],F=[1,25],M=[1,26],B=[1,18],O=[1,33],R=[1,34],L=[1,35],D=[1,36],A=[1,37],V=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],N=[1,42],E=[1,43],C=[1,52],j=[40,50,68,69],$=[1,63],k=[1,61],w=[1,58],P=[1,62],S=[1,64],T=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],_=[63,64,65,66,67],v=[1,81],x=[1,80],b=[1,78],y=[1,79],u=[6,10,42,47],h=[6,10,13,41,42,47,48,49],p=[1,89],r=[1,88],t=[1,87],d=[19,56],X0=[1,98],a=[1,97],z0=[19,56,58,60],J0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:I(function(Y0,o,M0,K0,V0,i,p0){var B0=i.length-1;switch(V0){case 1:break;case 2:this.$=[];break;case 3:i[B0-1].push(i[B0]),this.$=i[B0-1];break;case 4:case 5:this.$=i[B0];break;case 6:case 7:this.$=[];break;case 8:K0.addEntity(i[B0-4]),K0.addEntity(i[B0-2]),K0.addRelationship(i[B0-4],i[B0],i[B0-2],i[B0-3]);break;case 9:K0.addEntity(i[B0-8]),K0.addEntity(i[B0-4]),K0.addRelationship(i[B0-8],i[B0],i[B0-4],i[B0-5]),K0.setClass([i[B0-8]],i[B0-6]),K0.setClass([i[B0-4]],i[B0-2]);break;case 10:K0.addEntity(i[B0-6]),K0.addEntity(i[B0-2]),K0.addRelationship(i[B0-6],i[B0],i[B0-2],i[B0-3]),K0.setClass([i[B0-6]],i[B0-4]);break;case 11:K0.addEntity(i[B0-6]),K0.addEntity(i[B0-4]),K0.addRelationship(i[B0-6],i[B0],i[B0-4],i[B0-5]),K0.setClass([i[B0-4]],i[B0-2]);break;case 12:K0.addEntity(i[B0-3]),K0.addAttributes(i[B0-3],i[B0-1]);break;case 13:K0.addEntity(i[B0-5]),K0.addAttributes(i[B0-5],i[B0-1]),K0.setClass([i[B0-5]],i[B0-3]);break;case 14:K0.addEntity(i[B0-2]);break;case 15:K0.addEntity(i[B0-4]),K0.setClass([i[B0-4]],i[B0-2]);break;case 16:K0.addEntity(i[B0]);break;case 17:K0.addEntity(i[B0-2]),K0.setClass([i[B0-2]],i[B0]);break;case 18:K0.addEntity(i[B0-6],i[B0-4]),K0.addAttributes(i[B0-6],i[B0-1]);break;case 19:K0.addEntity(i[B0-8],i[B0-6]),K0.addAttributes(i[B0-8],i[B0-1]),K0.setClass([i[B0-8]],i[B0-3]);break;case 20:K0.addEntity(i[B0-5],i[B0-3]);break;case 21:K0.addEntity(i[B0-7],i[B0-5]),K0.setClass([i[B0-7]],i[B0-2]);break;case 22:K0.addEntity(i[B0-3],i[B0-1]);break;case 23:K0.addEntity(i[B0-5],i[B0-3]),K0.setClass([i[B0-5]],i[B0]);break;case 24:case 25:this.$=i[B0].trim(),K0.setAccTitle(this.$);break;case 26:case 27:this.$=i[B0].trim(),K0.setAccDescription(this.$);break;case 32:K0.setDirection("TB");break;case 33:K0.setDirection("BT");break;case 34:K0.setDirection("RL");break;case 35:K0.setDirection("LR");break;case 36:this.$=i[B0-3],K0.addClass(i[B0-2],i[B0-1]);break;case 37:case 38:case 56:case 64:this.$=[i[B0]];break;case 39:case 40:this.$=i[B0-2].concat([i[B0]]);break;case 41:this.$=i[B0-2],K0.setClass(i[B0-1],i[B0]);break;case 42:this.$=i[B0-3],K0.addCssStyles(i[B0-2],i[B0-1]);break;case 43:this.$=[i[B0]];break;case 44:i[B0-2].push(i[B0]),this.$=i[B0-2];break;case 46:this.$=i[B0-1]+i[B0];break;case 54:case 76:case 77:this.$=i[B0].replace(/"/g,"");break;case 55:case 78:this.$=i[B0];break;case 57:i[B0].push(i[B0-1]),this.$=i[B0];break;case 58:this.$={type:i[B0-1],name:i[B0]};break;case 59:this.$={type:i[B0-2],name:i[B0-1],keys:i[B0]};break;case 60:this.$={type:i[B0-2],name:i[B0-1],comment:i[B0]};break;case 61:this.$={type:i[B0-3],name:i[B0-2],keys:i[B0-1],comment:i[B0]};break;case 62:case 63:case 66:this.$=i[B0];break;case 65:i[B0-2].push(i[B0]),this.$=i[B0-2];break;case 67:this.$=i[B0].replace(/"/g,"");break;case 68:this.$={cardA:i[B0],relType:i[B0-1],cardB:i[B0-2]};break;case 69:this.$=K0.Cardinality.ZERO_OR_ONE;break;case 70:this.$=K0.Cardinality.ZERO_OR_MORE;break;case 71:this.$=K0.Cardinality.ONE_OR_MORE;break;case 72:this.$=K0.Cardinality.ONLY_ONE;break;case 73:this.$=K0.Cardinality.MD_PARENT;break;case 74:this.$=K0.Identification.NON_IDENTIFYING;break;case 75:this.$=K0.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:Q,24:K,26:U,28:X,29:14,30:15,31:16,32:17,33:Y,34:q,35:W,36:G,37:z,40:H,43:F,44:M,50:B},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:27,11:9,22:Q,24:K,26:U,28:X,29:14,30:15,31:16,32:17,33:Y,34:q,35:W,36:G,37:z,40:H,43:F,44:M,50:B},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:O,64:R,65:L,66:D,67:A}),{23:[1,38]},{25:[1,39]},{27:[1,40]},Z(J,[2,27]),Z(J,[2,28]),Z(J,[2,29]),Z(J,[2,30]),Z(J,[2,31]),Z(V,[2,54]),Z(V,[2,55]),Z(J,[2,32]),Z(J,[2,33]),Z(J,[2,34]),Z(J,[2,35]),{16:41,40:N,41:E},{16:44,40:N,41:E},{16:45,40:N,41:E},Z(J,[2,4]),{11:46,40:H,50:B},{16:47,40:N,41:E},{18:48,19:[1,49],51:50,52:51,56:C},{11:53,40:H,50:B},{62:54,68:[1,55],69:[1,56]},Z(j,[2,69]),Z(j,[2,70]),Z(j,[2,71]),Z(j,[2,72]),Z(j,[2,73]),Z(J,[2,24]),Z(J,[2,25]),Z(J,[2,26]),{13:$,38:57,41:k,42:w,45:59,46:60,48:P,49:S},Z(T,[2,37]),Z(T,[2,38]),{16:65,40:N,41:E,42:w},{13:$,38:66,41:k,42:w,45:59,46:60,48:P,49:S},{13:[1,67],15:[1,68]},Z(J,[2,17],{61:32,12:69,17:[1,70],42:w,63:O,64:R,65:L,66:D,67:A}),{19:[1,71]},Z(J,[2,14]),{18:72,19:[2,56],51:50,52:51,56:C},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:O,64:R,65:L,66:D,67:A},Z(_,[2,74]),Z(_,[2,75]),{6:v,10:x,39:77,42:b,47:y},{40:[1,82],41:[1,83]},Z(u,[2,43],{46:84,13:$,41:k,48:P,49:S}),Z(h,[2,45]),Z(h,[2,50]),Z(h,[2,51]),Z(h,[2,52]),Z(h,[2,53]),Z(J,[2,41],{42:w}),{6:v,10:x,39:85,42:b,47:y},{14:86,40:p,50:r,70:t},{16:90,40:N,41:E},{11:91,40:H,50:B},{18:92,19:[1,93],51:50,52:51,56:C},Z(J,[2,12]),{19:[2,57]},Z(d,[2,58],{54:94,55:95,57:96,59:X0,60:a}),Z([19,56,59,60],[2,63]),Z(J,[2,22],{15:[1,100],17:[1,99]}),Z([40,50],[2,68]),Z(J,[2,36]),{13:$,41:k,45:101,46:60,48:P,49:S},Z(J,[2,47]),Z(J,[2,48]),Z(J,[2,49]),Z(T,[2,39]),Z(T,[2,40]),Z(h,[2,46]),Z(J,[2,42]),Z(J,[2,8]),Z(J,[2,76]),Z(J,[2,77]),Z(J,[2,78]),{13:[1,102],42:w},{13:[1,104],15:[1,103]},{19:[1,105]},Z(J,[2,15]),Z(d,[2,59],{55:106,58:[1,107],60:a}),Z(d,[2,60]),Z(z0,[2,64]),Z(d,[2,67]),Z(z0,[2,66]),{18:108,19:[1,109],51:50,52:51,56:C},{16:110,40:N,41:E},Z(u,[2,44],{46:84,13:$,41:k,48:P,49:S}),{14:111,40:p,50:r,70:t},{16:112,40:N,41:E},{14:113,40:p,50:r,70:t},Z(J,[2,13]),Z(d,[2,61]),{57:114,59:X0},{19:[1,115]},Z(J,[2,20]),Z(J,[2,23],{17:[1,116],42:w}),Z(J,[2,11]),{13:[1,117],42:w},Z(J,[2,10]),Z(z0,[2,65]),Z(J,[2,18]),{18:118,19:[1,119],51:50,52:51,56:C},{14:120,40:p,50:r,70:t},{19:[1,121]},Z(J,[2,21]),Z(J,[2,9]),Z(J,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:I(function(Y0,o){if(o.recoverable)this.trace(Y0);else{var M0=Error(Y0);throw M0.hash=o,M0}},"parseError"),parse:I(function(Y0){var o=this,M0=[0],K0=[],V0=[null],i=[],p0=this.table,B0="",h0=0,a0=0,s0=0,$0=2,x0=1,f0=i.slice.call(arguments,1),C0=Object.create(this.lexer),m0={yy:{}};for(var F0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,F0))m0.yy[F0]=this.yy[F0];if(C0.setInput(Y0,m0.yy),m0.yy.lexer=C0,m0.yy.parser=this,typeof C0.yylloc>"u")C0.yylloc={};var I0=C0.yylloc;i.push(I0);var s=C0.options&&C0.options.ranges;if(typeof m0.yy.parseError==="function")this.parseError=m0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function H0(t0){M0.length=M0.length-2*t0,V0.length=V0.length-t0,i.length=i.length-t0}I(H0,"popStack");function m(){var t0=K0.pop()||C0.lex()||x0;if(typeof t0!=="number"){if(t0 instanceof Array)K0=t0,t0=K0.pop();t0=o.symbols_[t0]||t0}return t0}I(m,"lex");var q0,W0,N0,D0,L0,_0,T0={},u0,Z8,B8,r0;while(!0){if(N0=M0[M0.length-1],this.defaultActions[N0])D0=this.defaultActions[N0];else{if(q0===null||typeof q0>"u")q0=m();D0=p0[N0]&&p0[N0][q0]}if(typeof D0>"u"||!D0.length||!D0[0]){var g0="";r0=[];for(u0 in p0[N0])if(this.terminals_[u0]&&u0>$0)r0.push("'"+this.terminals_[u0]+"'");if(C0.showPosition)g0="Parse error on line "+(h0+1)+`:
`+C0.showPosition()+`
Expecting `+r0.join(", ")+", got '"+(this.terminals_[q0]||q0)+"'";else g0="Parse error on line "+(h0+1)+": Unexpected "+(q0==x0?"end of input":"'"+(this.terminals_[q0]||q0)+"'");this.parseError(g0,{text:C0.match,token:this.terminals_[q0]||q0,line:C0.yylineno,loc:I0,expected:r0})}if(D0[0]instanceof Array&&D0.length>1)throw Error("Parse Error: multiple actions possible at state: "+N0+", token: "+q0);switch(D0[0]){case 1:if(M0.push(q0),V0.push(C0.yytext),i.push(C0.yylloc),M0.push(D0[1]),q0=null,!W0){if(a0=C0.yyleng,B0=C0.yytext,h0=C0.yylineno,I0=C0.yylloc,s0>0)s0--}else q0=W0,W0=null;break;case 2:if(Z8=this.productions_[D0[1]][1],T0.$=V0[V0.length-Z8],T0._$={first_line:i[i.length-(Z8||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(Z8||1)].first_column,last_column:i[i.length-1].last_column},s)T0._$.range=[i[i.length-(Z8||1)].range[0],i[i.length-1].range[1]];if(_0=this.performAction.apply(T0,[B0,a0,h0,m0.yy,D0[1],V0,i].concat(f0)),typeof _0<"u")return _0;if(Z8)M0=M0.slice(0,-1*Z8*2),V0=V0.slice(0,-1*Z8),i=i.slice(0,-1*Z8);M0.push(this.productions_[D0[1]][0]),V0.push(T0.$),i.push(T0._$),B8=p0[M0[M0.length-2]][M0[M0.length-1]],M0.push(B8);break;case 3:return!0}}return!0},"parse")},Q0=function(){var n={EOF:1,parseError:I(function(o,M0){if(this.yy.parser)this.yy.parser.parseError(o,M0);else throw Error(o)},"parseError"),setInput:I(function(Y0,o){if(this.yy=o||this.yy||{},this._input=Y0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var Y0=this._input[0];this.yytext+=Y0,this.yyleng++,this.offset++,this.match+=Y0,this.matched+=Y0;var o=Y0.match(/(?:\r\n?|\n).*/g);if(o)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),Y0},"input"),unput:I(function(Y0){var o=Y0.length,M0=Y0.split(/(?:\r\n?|\n)/g);this._input=Y0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-o),this.offset-=o;var K0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M0.length-1)this.yylineno-=M0.length-1;var V0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M0?(M0.length===K0.length?this.yylloc.first_column:0)+K0[K0.length-M0.length].length-M0[0].length:this.yylloc.first_column-o},this.options.ranges)this.yylloc.range=[V0[0],V0[0]+this.yyleng-o];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(Y0){this.unput(this.match.slice(Y0))},"less"),pastInput:I(function(){var Y0=this.matched.substr(0,this.matched.length-this.match.length);return(Y0.length>20?"...":"")+Y0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var Y0=this.match;if(Y0.length<20)Y0+=this._input.substr(0,20-Y0.length);return(Y0.substr(0,20)+(Y0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var Y0=this.pastInput(),o=Array(Y0.length+1).join("-");return Y0+this.upcomingInput()+`
`+o+"^"},"showPosition"),test_match:I(function(Y0,o){var M0,K0,V0;if(this.options.backtrack_lexer){if(V0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)V0.yylloc.range=this.yylloc.range.slice(0)}if(K0=Y0[0].match(/(?:\r\n?|\n).*/g),K0)this.yylineno+=K0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K0?K0[K0.length-1].length-K0[K0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y0[0].length},this.yytext+=Y0[0],this.match+=Y0[0],this.matches=Y0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y0[0].length),this.matched+=Y0[0],M0=this.performAction.call(this,this.yy,this,o,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(M0)return M0;else if(this._backtrack){for(var i in V0)this[i]=V0[i];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var Y0,o,M0,K0;if(!this._more)this.yytext="",this.match="";var V0=this._currentRules();for(var i=0;i<V0.length;i++)if(M0=this._input.match(this.rules[V0[i]]),M0&&(!o||M0[0].length>o[0].length)){if(o=M0,K0=i,this.options.backtrack_lexer)if(Y0=this.test_match(M0,V0[i]),Y0!==!1)return Y0;else if(this._backtrack){o=!1;continue}else return!1;else if(!this.options.flex)break}if(o){if(Y0=this.test_match(o,V0[K0]),Y0!==!1)return Y0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var o=this.next();if(o)return o;else return this.lex()},"lex"),begin:I(function(o){this.conditionStack.push(o)},"begin"),popState:I(function(){var o=this.conditionStack.length-1;if(o>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(o){if(o=this.conditionStack.length-1-Math.abs(o||0),o>=0)return this.conditionStack[o];else return"INITIAL"},"topState"),pushState:I(function(o){this.begin(o)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(o,M0,K0,V0){var i=V0;switch(K0){case 0:return this.begin("acc_title"),24;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),26;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;break;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;break;case 30:return M0.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;break;case 34:return this.popState(),10;break;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;break;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return M0.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return n}();J0.lexer=Q0;function e(){this.yy={}}return I(e,"Parser"),e.prototype=J0,J0.Parser=e,new e}();Gs.parser=Gs;LL8=Gs,DL8=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=cZ,this.getAccTitle=sZ,this.setAccDescription=rZ,this.getAccDescription=nZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getConfig=I(()=>E0().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{I(this,"ErDB")}addEntity(Z,J=""){if(!this.entities.has(Z))this.entities.set(Z,{id:`entity-${Z}-${this.entities.size}`,label:Z,attributes:[],alias:J,shape:"erBox",look:E0().look??"default",cssClasses:"default",cssStyles:[]}),Z0.info("Added new entity :",Z);else if(!this.entities.get(Z)?.alias&&J)this.entities.get(Z).alias=J,Z0.info(`Add alias '${J}' to entity '${Z}'`);return this.entities.get(Z)}getEntity(Z){return this.entities.get(Z)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(Z,J){let Q=this.addEntity(Z),K;for(K=J.length-1;K>=0;K--){if(!J[K].keys)J[K].keys=[];if(!J[K].comment)J[K].comment="";Q.attributes.push(J[K]),Z0.debug("Added attribute ",J[K].name)}}addRelationship(Z,J,Q,K){let U=this.entities.get(Z),X=this.entities.get(Q);if(!U||!X)return;let Y={entityA:U.id,roleA:J,entityB:X.id,relSpec:K};this.relationships.push(Y),Z0.debug("Added new relationship :",Y)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(Z){this.direction=Z}getCompiledStyles(Z){let J=[];for(let Q of Z){let K=this.classes.get(Q);if(K?.styles)J=[...J,...K.styles??[]].map((U)=>U.trim());if(K?.textStyles)J=[...J,...K.textStyles??[]].map((U)=>U.trim())}return J}addCssStyles(Z,J){for(let Q of Z){let K=this.entities.get(Q);if(!J||!K)return;for(let U of J)K.cssStyles.push(U)}}addClass(Z,J){Z.forEach((Q)=>{let K=this.classes.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.classes.set(Q,K);if(J)J.forEach(function(U){if(/color/.exec(U)){let X=U.replace("fill","bgFill");K.textStyles.push(X)}K.styles.push(U)})})}setClass(Z,J){for(let Q of Z){let K=this.entities.get(Q);if(K)for(let U of J)K.cssClasses+=" "+U}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],bZ()}getData(){let Z=[],J=[],Q=E0();for(let U of this.entities.keys()){let X=this.entities.get(U);if(X)X.cssCompiledStyles=this.getCompiledStyles(X.cssClasses.split(" ")),Z.push(X)}let K=0;for(let U of this.relationships){let X={id:SU(U.entityA,U.entityB,{prefix:"id",counter:K++}),type:"normal",curve:"basis",start:U.entityA,end:U.entityB,label:U.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:U.relSpec.cardB.toLowerCase(),arrowTypeEnd:U.relSpec.cardA.toLowerCase(),pattern:U.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:Q.look};J.push(X)}return{nodes:Z,edges:J,other:{},config:Q,direction:"TB"}}},AE0={};q1(AE0,{draw:()=>IL8});IL8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing er diagram (unified)",J);let{securityLevel:U,er:X,layout:Y}=E0(),q=K.db.getData(),W=CK(J,U);if(q.type=K.type,q.layoutAlgorithm=lU(Y),q.config.flowchart.nodeSpacing=X?.nodeSpacing||140,q.config.flowchart.rankSpacing=X?.rankSpacing||80,q.direction=K.db.getDirection(),q.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],q.diagramId=J,await IK(q,W),q.layoutAlgorithm==="elk")W.select(".edges").lower();let G=W.selectAll('[id*="-background"]');if(Array.from(G).length>0)G.each(function(){let H=n0(this),M=H.attr("id").replace("-background",""),B=W.select(`#${CSS.escape(M)}`);if(!B.empty()){let O=B.attr("transform");H.attr("transform",O)}});let z=8;ZZ.insertTitle(W,"erDiagramTitleText",X?.titleTopMargin??25,K.db.getDiagramTitle()),o6(W,z,"erDiagram",X?.useMaxWidth??!0)},"draw"),AL8=I((Z,J)=>{let Q=GG,K=Q(Z,"r"),U=Q(Z,"g"),X=Q(Z,"b");return dQ(K,U,X,J)},"fade"),NL8=I((Z)=>`
  .entityBox {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${Z.tertiaryColor};
    opacity: 0.7;
    background-color: ${Z.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${AL8(Z.tertiaryColor,0.5)};
  }

  .edgeLabel .label {
    fill: ${Z.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${Z.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${Z.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),EL8=NL8,VL8={parser:LL8,get db(){return new DL8},renderer:AE0,styles:EL8}});function y4(Z,J){if(Z.accDescr)J.setAccDescription?.(Z.accDescr);if(Z.accTitle)J.setAccTitle?.(Z.accTitle);if(Z.title)J.setDiagramTitle?.(Z.title)}var Bz=f(()=>{AZ();I(y4,"populateCommonDb")});var NT;var zs=f(()=>{AZ();NT=class{constructor(Z){this.init=Z,this.records=this.init()}static{I(this,"ImperativeState")}reset(){this.records=this.init()}}});function kJ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$type==="string"}function FQ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$refText==="string"}function Hs(Z){return typeof Z==="object"&&Z!==null&&typeof Z.name==="string"&&typeof Z.type==="string"&&typeof Z.path==="string"}function Oz(Z){return typeof Z==="object"&&Z!==null&&kJ(Z.container)&&FQ(Z.reference)&&typeof Z.message==="string"}class SF{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(Z,J){return kJ(Z)&&this.isSubtype(Z.$type,J)}isSubtype(Z,J){if(Z===J)return!0;let Q=this.subtypes[Z];if(!Q)Q=this.subtypes[Z]={};let K=Q[J];if(K!==void 0)return K;else{let U=this.computeIsSubtype(Z,J);return Q[J]=U,U}}getAllSubTypes(Z){let J=this.allSubtypes[Z];if(J)return J;else{let Q=this.getAllTypes(),K=[];for(let U of Q)if(this.isSubtype(U,Z))K.push(U);return this.allSubtypes[Z]=K,K}}}function C5(Z){return typeof Z==="object"&&Z!==null&&Array.isArray(Z.content)}function vq(Z){return typeof Z==="object"&&Z!==null&&typeof Z.tokenType==="object"}function uD(Z){return C5(Z)&&typeof Z.fullText==="string"}function PL8(Z){if(typeof Z==="string")return Z;if(typeof Z>"u")return"undefined";if(typeof Z.toString==="function")return Z.toString();return Object.prototype.toString.call(Z)}function ET(Z){return!!Z&&typeof Z[Symbol.iterator]==="function"}function E9(...Z){if(Z.length===1){let J=Z[0];if(J instanceof Y7)return J;if(ET(J))return new Y7(()=>J[Symbol.iterator](),(Q)=>Q.next());if(typeof J.length==="number")return new Y7(()=>({index:0}),(Q)=>{if(Q.index<J.length)return{done:!1,value:J[Q.index++]};else return kQ})}if(Z.length>1)return new Y7(()=>({collIndex:0,arrIndex:0}),(J)=>{do{if(J.iterator){let Q=J.iterator.next();if(!Q.done)return Q;J.iterator=void 0}if(J.array){if(J.arrIndex<J.array.length)return{done:!1,value:J.array[J.arrIndex++]};J.array=void 0,J.arrIndex=0}if(J.collIndex<Z.length){let Q=Z[J.collIndex++];if(ET(Q))J.iterator=Q[Symbol.iterator]();else if(Q&&typeof Q.length==="number")J.array=Q}}while(J.iterator||J.array||J.collIndex<Z.length);return kQ});return gD}var Y7,gD,kQ,EY,TF;var t6=f(()=>{Y7=class Y7{constructor(Z,J){this.startFn=Z,this.nextFn=J}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),[Symbol.iterator]:()=>Z};return Z}[Symbol.iterator](){return this.iterator()}isEmpty(){let Z=this.iterator();return Boolean(Z.next().done)}count(){let Z=this.iterator(),J=0,Q=Z.next();while(!Q.done)J++,Q=Z.next();return J}toArray(){let Z=[],J=this.iterator(),Q;do if(Q=J.next(),Q.value!==void 0)Z.push(Q.value);while(!Q.done);return Z}toSet(){return new Set(this)}toMap(Z,J){let Q=this.map((K)=>[Z?Z(K):K,J?J(K):K]);return new Map(Q)}toString(){return this.join()}concat(Z){return new Y7(()=>({first:this.startFn(),firstDone:!1,iterator:Z[Symbol.iterator]()}),(J)=>{let Q;if(!J.firstDone){do if(Q=this.nextFn(J.first),!Q.done)return Q;while(!Q.done);J.firstDone=!0}do if(Q=J.iterator.next(),!Q.done)return Q;while(!Q.done);return kQ})}join(Z=","){let J=this.iterator(),Q="",K,U=!1;do{if(K=J.next(),!K.done){if(U)Q+=Z;Q+=PL8(K.value)}U=!0}while(!K.done);return Q}indexOf(Z,J=0){let Q=this.iterator(),K=0,U=Q.next();while(!U.done){if(K>=J&&U.value===Z)return K;U=Q.next(),K++}return-1}every(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(!Z(Q.value))return!1;Q=J.next()}return!0}some(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Z(Q.value))return!0;Q=J.next()}return!1}forEach(Z){let J=this.iterator(),Q=0,K=J.next();while(!K.done)Z(K.value,Q),K=J.next(),Q++}map(Z){return new Y7(this.startFn,(J)=>{let{done:Q,value:K}=this.nextFn(J);if(Q)return kQ;else return{done:!1,value:Z(K)}})}filter(Z){return new Y7(this.startFn,(J)=>{let Q;do if(Q=this.nextFn(J),!Q.done&&Z(Q.value))return Q;while(!Q.done);return kQ})}nonNullable(){return this.filter((Z)=>Z!==void 0&&Z!==null)}reduce(Z,J){let Q=this.iterator(),K=J,U=Q.next();while(!U.done){if(K===void 0)K=U.value;else K=Z(K,U.value);U=Q.next()}return K}reduceRight(Z,J){return this.recursiveReduce(this.iterator(),Z,J)}recursiveReduce(Z,J,Q){let K=Z.next();if(K.done)return Q;let U=this.recursiveReduce(Z,J,Q);if(U===void 0)return K.value;return J(U,K.value)}find(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Z(Q.value))return Q.value;Q=J.next()}return}findIndex(Z){let J=this.iterator(),Q=0,K=J.next();while(!K.done){if(Z(K.value))return Q;K=J.next(),Q++}return-1}includes(Z){let J=this.iterator(),Q=J.next();while(!Q.done){if(Q.value===Z)return!0;Q=J.next()}return!1}flatMap(Z){return new Y7(()=>({this:this.startFn()}),(J)=>{do{if(J.iterator){let U=J.iterator.next();if(U.done)J.iterator=void 0;else return U}let{done:Q,value:K}=this.nextFn(J.this);if(!Q){let U=Z(K);if(ET(U))J.iterator=U[Symbol.iterator]();else return{done:!1,value:U}}}while(J.iterator);return kQ})}flat(Z){if(Z===void 0)Z=1;if(Z<=0)return this;let J=Z>1?this.flat(Z-1):this;return new Y7(()=>({this:J.startFn()}),(Q)=>{do{if(Q.iterator){let X=Q.iterator.next();if(X.done)Q.iterator=void 0;else return X}let{done:K,value:U}=J.nextFn(Q.this);if(!K)if(ET(U))Q.iterator=U[Symbol.iterator]();else return{done:!1,value:U}}while(Q.iterator);return kQ})}head(){let J=this.iterator().next();if(J.done)return;return J.value}tail(Z=1){return new Y7(()=>{let J=this.startFn();for(let Q=0;Q<Z;Q++)if(this.nextFn(J).done)return J;return J},this.nextFn)}limit(Z){return new Y7(()=>({size:0,state:this.startFn()}),(J)=>{if(J.size++,J.size>Z)return kQ;return this.nextFn(J.state)})}distinct(Z){return new Y7(()=>({set:new Set,internalState:this.startFn()}),(J)=>{let Q;do if(Q=this.nextFn(J.internalState),!Q.done){let K=Z?Z(Q.value):Q.value;if(!J.set.has(K))return J.set.add(K),Q}while(!Q.done);return kQ})}exclude(Z,J){let Q=new Set;for(let K of Z){let U=J?J(K):K;Q.add(U)}return this.filter((K)=>{let U=J?J(K):K;return!Q.has(U)})}};gD=new Y7(()=>{return},()=>kQ),kQ=Object.freeze({done:!0,value:void 0});EY=class EY extends Y7{constructor(Z,J,Q){super(()=>({iterators:(Q===null||Q===void 0?void 0:Q.includeRoot)?[[Z][Symbol.iterator]()]:[J(Z)[Symbol.iterator]()],pruned:!1}),(K)=>{if(K.pruned)K.iterators.pop(),K.pruned=!1;while(K.iterators.length>0){let X=K.iterators[K.iterators.length-1].next();if(X.done)K.iterators.pop();else return K.iterators.push(J(X.value)[Symbol.iterator]()),X}return kQ})}iterator(){let Z={state:this.startFn(),next:()=>this.nextFn(Z.state),prune:()=>{Z.state.pruned=!0},[Symbol.iterator]:()=>Z};return Z}};(function(Z){function J(X){return X.reduce((Y,q)=>Y+q,0)}Z.sum=J;function Q(X){return X.reduce((Y,q)=>Y*q,0)}Z.product=Q;function K(X){return X.reduce((Y,q)=>Math.min(Y,q))}Z.min=K;function U(X){return X.reduce((Y,q)=>Math.max(Y,q))}Z.max=U})(TF||(TF={}))});var PT={};LZ(PT,{tokenToRange:()=>wF,toDocumentSegment:()=>Lz,streamCst:()=>Rz,isCommentNode:()=>Fs,isChildNode:()=>Ms,inRange:()=>Bs,getStartlineNode:()=>TL8,getPreviousNode:()=>SE0,getNextNode:()=>SL8,getInteriorNodes:()=>wL8,flattenCst:()=>CL8,findLeafNodeBeforeOffset:()=>CE0,findLeafNodeAtOffset:()=>Rs,findDeclarationNodeAtOffset:()=>jL8,findCommentNode:()=>Os,compareRange:()=>PE0,RangeComparison:()=>rU,DefaultNameRegexp:()=>VT});function Rz(Z){return new EY(Z,(J)=>{if(C5(J))return J.content;else return[]},{includeRoot:!0})}function CL8(Z){return Rz(Z).filter(vq)}function Ms(Z,J){while(Z.container)if(Z=Z.container,Z===J)return!0;return!1}function wF(Z){return{start:{character:Z.startColumn-1,line:Z.startLine-1},end:{character:Z.endColumn,line:Z.endLine-1}}}function Lz(Z){if(!Z)return;let{offset:J,end:Q,range:K}=Z;return{range:K,offset:J,end:Q,length:Q-J}}function PE0(Z,J){if(Z.end.line<J.start.line||Z.end.line===J.start.line&&Z.end.character<=J.start.character)return rU.Before;else if(Z.start.line>J.end.line||Z.start.line===J.end.line&&Z.start.character>=J.end.character)return rU.After;let Q=Z.start.line>J.start.line||Z.start.line===J.start.line&&Z.start.character>=J.start.character,K=Z.end.line<J.end.line||Z.end.line===J.end.line&&Z.end.character<=J.end.character;if(Q&&K)return rU.Inside;else if(Q)return rU.OverlapBack;else if(K)return rU.OverlapFront;else return rU.Outside}function Bs(Z,J){return PE0(Z,J)>rU.After}function jL8(Z,J,Q=VT){if(Z){if(J>0){let K=J-Z.offset,U=Z.text.charAt(K);if(!Q.test(U))J--}return Rs(Z,J)}return}function Os(Z,J){if(Z){let Q=SE0(Z,!0);if(Q&&Fs(Q,J))return Q;if(uD(Z)){let K=Z.content.findIndex((U)=>!U.hidden);for(let U=K-1;U>=0;U--){let X=Z.content[U];if(Fs(X,J))return X}}}return}function Fs(Z,J){return vq(Z)&&J.includes(Z.tokenType.name)}function Rs(Z,J){if(vq(Z))return Z;else if(C5(Z)){let Q=jE0(Z,J,!1);if(Q)return Rs(Q,J)}return}function CE0(Z,J){if(vq(Z))return Z;else if(C5(Z)){let Q=jE0(Z,J,!0);if(Q)return CE0(Q,J)}return}function jE0(Z,J,Q){let K=0,U=Z.content.length-1,X=void 0;while(K<=U){let Y=Math.floor((K+U)/2),q=Z.content[Y];if(q.offset<=J&&q.end>J)return q;if(q.end<=J)X=Q?q:void 0,K=Y+1;else U=Y-1}return X}function SE0(Z,J=!0){while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z);while(K>0){K--;let U=Q.content[K];if(J||!U.hidden)return U}Z=Q}return}function SL8(Z,J=!0){while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z),U=Q.content.length-1;while(K<U){K++;let X=Q.content[K];if(J||!X.hidden)return X}Z=Q}return}function TL8(Z){if(Z.range.start.character===0)return Z;let J=Z.range.start.line,Q=Z,K;while(Z.container){let U=Z.container,X=K!==null&&K!==void 0?K:U.content.indexOf(Z);if(X===0)Z=U,K=void 0;else K=X-1,Z=U.content[K];if(Z.range.start.line!==J)break;Q=Z}return Q}function wL8(Z,J){let Q=$L8(Z,J);if(!Q)return[];return Q.parent.content.slice(Q.a+1,Q.b)}function $L8(Z,J){let Q=VE0(Z),K=VE0(J),U;for(let X=0;X<Q.length&&X<K.length;X++){let Y=Q[X],q=K[X];if(Y.parent===q.parent)U={parent:Y.parent,a:Y.index,b:q.index};else break}return U}function VE0(Z){let J=[];while(Z.container){let Q=Z.container,K=Q.content.indexOf(Z);J.push({parent:Q,index:K}),Z=Q}return J.reverse()}var rU,VT;var j5=f(()=>{t6();(function(Z){Z[Z.Before=0]="Before",Z[Z.After=1]="After",Z[Z.OverlapFront=2]="OverlapFront",Z[Z.OverlapBack=3]="OverlapBack",Z[Z.Inside=4]="Inside",Z[Z.Outside=5]="Outside"})(rU||(rU={}));VT=/^[\w\p{L}]$/u});function nU(Z){throw Error("Error! The input value was not handled.")}var $F;var CT=f(()=>{$F=class $F extends Error{constructor(Z,J){super(Z?`${J} at ${Z.range.start.line}:${Z.range.start.character}`:J)}}});var oD={};LZ(oD,{reflection:()=>EZ,isWildcard:()=>fs,isValueLiteral:()=>yL8,isUntilToken:()=>_s,isUnorderedGroup:()=>_T,isUnionType:()=>Cs,isTypeDefinition:()=>bL8,isTypeAttribute:()=>dL8,isType:()=>nD,isTerminalRuleCall:()=>kT,isTerminalRule:()=>h4,isTerminalGroup:()=>ks,isTerminalAlternatives:()=>$s,isStringLiteral:()=>lL8,isSimpleType:()=>wT,isRuleCall:()=>T5,isReturnType:()=>Ps,isRegexToken:()=>ws,isReferenceType:()=>Vs,isPrimitiveType:()=>TE0,isParserRule:()=>_Q,isParameterReference:()=>Es,isParameter:()=>cL8,isNumberLiteral:()=>pL8,isNegation:()=>Ns,isNegatedToken:()=>Ts,isNamedArgument:()=>gL8,isKeyword:()=>SK,isInterface:()=>TT,isInferredType:()=>ST,isGroup:()=>xq,isGrammarImport:()=>uL8,isGrammar:()=>mL8,isFeatureName:()=>xL8,isEndOfFile:()=>Ss,isDisjunction:()=>As,isCrossReference:()=>Iz,isConjunction:()=>Is,isCondition:()=>vL8,isCharacterRange:()=>js,isBooleanLiteral:()=>Ds,isAssignment:()=>S5,isArrayType:()=>Ls,isArrayLiteral:()=>hL8,isAlternatives:()=>$T,isAction:()=>VY,isAbstractType:()=>fL8,isAbstractRule:()=>_L8,isAbstractElement:()=>rD,Wildcard:()=>BM,ValueLiteral:()=>cD,UntilToken:()=>MM,UnorderedGroup:()=>FM,UnionType:()=>oF,TypeDefinition:()=>jT,TypeAttribute:()=>sD,Type:()=>aF,TerminalRuleCall:()=>HM,TerminalRule:()=>Dz,TerminalGroup:()=>zM,TerminalAlternatives:()=>GM,StringLiteral:()=>nF,SimpleType:()=>rF,RuleCall:()=>WM,ReturnType:()=>iD,RegexToken:()=>qM,ReferenceType:()=>sF,ParserRule:()=>iF,ParameterReference:()=>dF,Parameter:()=>lF,NumberLiteral:()=>cF,Negation:()=>pF,NegatedToken:()=>YM,NamedArgument:()=>dD,LangiumGrammarTerminals:()=>kL8,LangiumGrammarAstReflection:()=>aD,Keyword:()=>XM,Interface:()=>gF,InferredType:()=>uF,Group:()=>UM,GrammarImport:()=>lD,Grammar:()=>mF,EndOfFile:()=>KM,Disjunction:()=>hF,CrossReference:()=>QM,Conjunction:()=>yF,Condition:()=>pD,CharacterRange:()=>JM,BooleanLiteral:()=>bF,Assignment:()=>ZM,ArrayType:()=>xF,ArrayLiteral:()=>vF,Alternatives:()=>eF,Action:()=>tF,AbstractType:()=>_F,AbstractRule:()=>kF,AbstractElement:()=>fF});function _L8(Z){return EZ.isInstance(Z,kF)}function fL8(Z){return EZ.isInstance(Z,_F)}function vL8(Z){return EZ.isInstance(Z,pD)}function xL8(Z){return TE0(Z)||Z==="current"||Z==="entry"||Z==="extends"||Z==="false"||Z==="fragment"||Z==="grammar"||Z==="hidden"||Z==="import"||Z==="interface"||Z==="returns"||Z==="terminal"||Z==="true"||Z==="type"||Z==="infer"||Z==="infers"||Z==="with"||typeof Z==="string"&&/\^?[_a-zA-Z][\w_]*/.test(Z)}function TE0(Z){return Z==="string"||Z==="number"||Z==="boolean"||Z==="Date"||Z==="bigint"}function bL8(Z){return EZ.isInstance(Z,jT)}function yL8(Z){return EZ.isInstance(Z,cD)}function rD(Z){return EZ.isInstance(Z,fF)}function hL8(Z){return EZ.isInstance(Z,vF)}function Ls(Z){return EZ.isInstance(Z,xF)}function Ds(Z){return EZ.isInstance(Z,bF)}function Is(Z){return EZ.isInstance(Z,yF)}function As(Z){return EZ.isInstance(Z,hF)}function mL8(Z){return EZ.isInstance(Z,mF)}function uL8(Z){return EZ.isInstance(Z,lD)}function ST(Z){return EZ.isInstance(Z,uF)}function TT(Z){return EZ.isInstance(Z,gF)}function gL8(Z){return EZ.isInstance(Z,dD)}function Ns(Z){return EZ.isInstance(Z,pF)}function pL8(Z){return EZ.isInstance(Z,cF)}function cL8(Z){return EZ.isInstance(Z,lF)}function Es(Z){return EZ.isInstance(Z,dF)}function _Q(Z){return EZ.isInstance(Z,iF)}function Vs(Z){return EZ.isInstance(Z,sF)}function Ps(Z){return EZ.isInstance(Z,iD)}function wT(Z){return EZ.isInstance(Z,rF)}function lL8(Z){return EZ.isInstance(Z,nF)}function h4(Z){return EZ.isInstance(Z,Dz)}function nD(Z){return EZ.isInstance(Z,aF)}function dL8(Z){return EZ.isInstance(Z,sD)}function Cs(Z){return EZ.isInstance(Z,oF)}function VY(Z){return EZ.isInstance(Z,tF)}function $T(Z){return EZ.isInstance(Z,eF)}function S5(Z){return EZ.isInstance(Z,ZM)}function js(Z){return EZ.isInstance(Z,JM)}function Iz(Z){return EZ.isInstance(Z,QM)}function Ss(Z){return EZ.isInstance(Z,KM)}function xq(Z){return EZ.isInstance(Z,UM)}function SK(Z){return EZ.isInstance(Z,XM)}function Ts(Z){return EZ.isInstance(Z,YM)}function ws(Z){return EZ.isInstance(Z,qM)}function T5(Z){return EZ.isInstance(Z,WM)}function $s(Z){return EZ.isInstance(Z,GM)}function ks(Z){return EZ.isInstance(Z,zM)}function kT(Z){return EZ.isInstance(Z,HM)}function _T(Z){return EZ.isInstance(Z,FM)}function _s(Z){return EZ.isInstance(Z,MM)}function fs(Z){return EZ.isInstance(Z,BM)}var kL8,kF="AbstractRule",_F="AbstractType",pD="Condition",jT="TypeDefinition",cD="ValueLiteral",fF="AbstractElement",vF="ArrayLiteral",xF="ArrayType",bF="BooleanLiteral",yF="Conjunction",hF="Disjunction",mF="Grammar",lD="GrammarImport",uF="InferredType",gF="Interface",dD="NamedArgument",pF="Negation",cF="NumberLiteral",lF="Parameter",dF="ParameterReference",iF="ParserRule",sF="ReferenceType",iD="ReturnType",rF="SimpleType",nF="StringLiteral",Dz="TerminalRule",aF="Type",sD="TypeAttribute",oF="UnionType",tF="Action",eF="Alternatives",ZM="Assignment",JM="CharacterRange",QM="CrossReference",KM="EndOfFile",UM="Group",XM="Keyword",YM="NegatedToken",qM="RegexToken",WM="RuleCall",GM="TerminalAlternatives",zM="TerminalGroup",HM="TerminalRuleCall",FM="UnorderedGroup",MM="UntilToken",BM="Wildcard",aD,EZ;var aU=f(()=>{kL8={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/};aD=class aD extends SF{getAllTypes(){return[fF,kF,_F,tF,eF,vF,xF,ZM,bF,JM,pD,yF,QM,hF,KM,mF,lD,UM,uF,gF,XM,dD,YM,pF,cF,lF,dF,iF,sF,qM,iD,WM,rF,nF,GM,zM,Dz,HM,aF,sD,jT,oF,FM,MM,cD,BM]}computeIsSubtype(Z,J){switch(Z){case tF:case eF:case ZM:case JM:case QM:case KM:case UM:case XM:case YM:case qM:case WM:case GM:case zM:case HM:case FM:case MM:case BM:return this.isSubtype(fF,J);case vF:case cF:case nF:return this.isSubtype(cD,J);case xF:case sF:case rF:case oF:return this.isSubtype(jT,J);case bF:return this.isSubtype(pD,J)||this.isSubtype(cD,J);case yF:case hF:case pF:case dF:return this.isSubtype(pD,J);case uF:case gF:case aF:return this.isSubtype(_F,J);case iF:return this.isSubtype(kF,J)||this.isSubtype(_F,J);case Dz:return this.isSubtype(kF,J);default:return!1}}getReferenceType(Z){let J=`${Z.container.$type}:${Z.property}`;switch(J){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return _F;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return kF;case"Grammar:usedGrammars":return mF;case"NamedArgument:parameter":case"ParameterReference:parameter":return lF;case"TerminalRuleCall:rule":return Dz;default:throw Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case fF:return{name:fF,properties:[{name:"cardinality"},{name:"lookahead"}]};case vF:return{name:vF,properties:[{name:"elements",defaultValue:[]}]};case xF:return{name:xF,properties:[{name:"elementType"}]};case bF:return{name:bF,properties:[{name:"true",defaultValue:!1}]};case yF:return{name:yF,properties:[{name:"left"},{name:"right"}]};case hF:return{name:hF,properties:[{name:"left"},{name:"right"}]};case mF:return{name:mF,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case lD:return{name:lD,properties:[{name:"path"}]};case uF:return{name:uF,properties:[{name:"name"}]};case gF:return{name:gF,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case dD:return{name:dD,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case pF:return{name:pF,properties:[{name:"value"}]};case cF:return{name:cF,properties:[{name:"value"}]};case lF:return{name:lF,properties:[{name:"name"}]};case dF:return{name:dF,properties:[{name:"parameter"}]};case iF:return{name:iF,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case sF:return{name:sF,properties:[{name:"referenceType"}]};case iD:return{name:iD,properties:[{name:"name"}]};case rF:return{name:rF,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case nF:return{name:nF,properties:[{name:"value"}]};case Dz:return{name:Dz,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case aF:return{name:aF,properties:[{name:"name"},{name:"type"}]};case sD:return{name:sD,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case oF:return{name:oF,properties:[{name:"types",defaultValue:[]}]};case tF:return{name:tF,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case eF:return{name:eF,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ZM:return{name:ZM,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case JM:return{name:JM,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case QM:return{name:QM,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case KM:return{name:KM,properties:[{name:"cardinality"},{name:"lookahead"}]};case UM:return{name:UM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case XM:return{name:XM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case YM:return{name:YM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case qM:return{name:qM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case WM:return{name:WM,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case GM:return{name:GM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case zM:return{name:zM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case HM:return{name:HM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case FM:return{name:FM,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case MM:return{name:MM,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case BM:return{name:BM,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Z,properties:[]}}}};EZ=new aD});var vT={};LZ(vT,{streamReferences:()=>OM,streamContents:()=>eD,streamAst:()=>TK,streamAllContents:()=>oU,linkContentToContainer:()=>fT,hasContainerOfType:()=>iL8,getDocument:()=>fQ,getContainerOfType:()=>Az,findRootNode:()=>tD,findLocalReferences:()=>sL8,copyAstNode:()=>xs,assignMandatoryProperties:()=>bs});function fT(Z){for(let[J,Q]of Object.entries(Z))if(!J.startsWith("$")){if(Array.isArray(Q))Q.forEach((K,U)=>{if(kJ(K))K.$container=Z,K.$containerProperty=J,K.$containerIndex=U});else if(kJ(Q))Q.$container=Z,Q.$containerProperty=J}}function Az(Z,J){let Q=Z;while(Q){if(J(Q))return Q;Q=Q.$container}return}function iL8(Z,J){let Q=Z;while(Q){if(J(Q))return!0;Q=Q.$container}return!1}function fQ(Z){let Q=tD(Z).$document;if(!Q)throw Error("AST node has no document.");return Q}function tD(Z){while(Z.$container)Z=Z.$container;return Z}function eD(Z,J){if(!Z)throw Error("Node must be an AstNode.");let Q=J===null||J===void 0?void 0:J.range;return new Y7(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(K)=>{while(K.keyIndex<K.keys.length){let U=K.keys[K.keyIndex];if(!U.startsWith("$")){let X=Z[U];if(kJ(X)){if(K.keyIndex++,vs(X,Q))return{done:!1,value:X}}else if(Array.isArray(X)){while(K.arrayIndex<X.length){let Y=K.arrayIndex++,q=X[Y];if(kJ(q)&&vs(q,Q))return{done:!1,value:q}}K.arrayIndex=0}}K.keyIndex++}return kQ})}function oU(Z,J){if(!Z)throw Error("Root node must be an AstNode.");return new EY(Z,(Q)=>eD(Q,J))}function TK(Z,J){if(!Z)throw Error("Root node must be an AstNode.");else if((J===null||J===void 0?void 0:J.range)&&!vs(Z,J.range))return new EY(Z,()=>[]);return new EY(Z,(Q)=>eD(Q,J),{includeRoot:!0})}function vs(Z,J){var Q;if(!J)return!0;let K=(Q=Z.$cstNode)===null||Q===void 0?void 0:Q.range;if(!K)return!1;return Bs(K,J)}function OM(Z){return new Y7(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(J)=>{while(J.keyIndex<J.keys.length){let Q=J.keys[J.keyIndex];if(!Q.startsWith("$")){let K=Z[Q];if(FQ(K))return J.keyIndex++,{done:!1,value:{reference:K,container:Z,property:Q}};else if(Array.isArray(K)){while(J.arrayIndex<K.length){let U=J.arrayIndex++,X=K[U];if(FQ(X))return{done:!1,value:{reference:X,container:Z,property:Q,index:U}}}J.arrayIndex=0}}J.keyIndex++}return kQ})}function sL8(Z,J=fQ(Z).parseResult.value){let Q=[];return TK(J).forEach((K)=>{OM(K).forEach((U)=>{if(U.reference.ref===Z)Q.push(U.reference)})}),E9(Q)}function bs(Z,J){let Q=Z.getTypeMetaData(J.$type),K=J;for(let U of Q.properties)if(U.defaultValue!==void 0&&K[U.name]===void 0)K[U.name]=wE0(U.defaultValue)}function wE0(Z){if(Array.isArray(Z))return[...Z.map(wE0)];else return Z}function xs(Z,J){let Q={$type:Z.$type};for(let[K,U]of Object.entries(Z))if(!K.startsWith("$"))if(kJ(U))Q[K]=xs(U,J);else if(FQ(U))Q[K]=J(Q,K,U.$refNode,U.$refText);else if(Array.isArray(U)){let X=[];for(let Y of U)if(kJ(Y))X.push(xs(Y,J));else if(FQ(Y))X.push(J(Q,K,Y.$refNode,Y.$refText));else X.push(Y);Q[K]=X}else Q[K]=U;return fT(Q),Q}var W6=f(()=>{t6();j5()});function DZ(Z){return Z.charCodeAt(0)}function xT(Z,J){if(Array.isArray(Z))Z.forEach(function(Q){J.push(Q)});else J.push(Z)}function RM(Z,J){if(Z[J]===!0)throw"duplicate flag "+J;let Q=Z[J];Z[J]=!0}function Nz(Z){if(Z===void 0)throw Error("Internal Error - Should never get here!");return!0}function ZI(){throw Error("Internal Error - Should never get here!")}function ys(Z){return Z.type==="Character"}var JI,QI,hs;var $E0=f(()=>{JI=[];for(let Z=DZ("0");Z<=DZ("9");Z++)JI.push(Z);QI=[DZ("_")].concat(JI);for(let Z=DZ("a");Z<=DZ("z");Z++)QI.push(Z);for(let Z=DZ("A");Z<=DZ("Z");Z++)QI.push(Z);hs=[DZ(" "),DZ("\f"),DZ(`
`),DZ("\r"),DZ("\t"),DZ("\v"),DZ("\t"),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ(""),DZ("\u2028"),DZ("\u2029"),DZ(""),DZ(""),DZ(""),DZ("\uFEFF")]});class LM{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(Z){this.idx=Z.idx,this.input=Z.input,this.groupIdx=Z.groupIdx}pattern(Z){this.idx=0,this.input=Z,this.groupIdx=0,this.consumeChar("/");let J=this.disjunction();this.consumeChar("/");let Q={type:"Flags",loc:{begin:this.idx,end:Z.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":RM(Q,"global");break;case"i":RM(Q,"ignoreCase");break;case"m":RM(Q,"multiLine");break;case"u":RM(Q,"unicode");break;case"y":RM(Q,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:Q,value:J,loc:this.loc(0)}}disjunction(){let Z=[],J=this.idx;Z.push(this.alternative());while(this.peekChar()==="|")this.consumeChar("|"),Z.push(this.alternative());return{type:"Disjunction",value:Z,loc:this.loc(J)}}alternative(){let Z=[],J=this.idx;while(this.isTerm())Z.push(this.term());return{type:"Alternative",value:Z,loc:this.loc(J)}}term(){if(this.isAssertion())return this.assertion();else return this.atom()}assertion(){let Z=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(Z)};case"$":return{type:"EndAnchor",loc:this.loc(Z)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(Z)};case"B":return{type:"NonWordBoundary",loc:this.loc(Z)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let J;switch(this.popChar()){case"=":J="Lookahead";break;case"!":J="NegativeLookahead";break}Nz(J);let Q=this.disjunction();return this.consumeChar(")"),{type:J,value:Q,loc:this.loc(Z)}}return ZI()}quantifier(Z=!1){let J=void 0,Q=this.idx;switch(this.popChar()){case"*":J={atLeast:0,atMost:1/0};break;case"+":J={atLeast:1,atMost:1/0};break;case"?":J={atLeast:0,atMost:1};break;case"{":let K=this.integerIncludingZero();switch(this.popChar()){case"}":J={atLeast:K,atMost:K};break;case",":let U;if(this.isDigit())U=this.integerIncludingZero(),J={atLeast:K,atMost:U};else J={atLeast:K,atMost:1/0};this.consumeChar("}");break}if(Z===!0&&J===void 0)return;Nz(J);break}if(Z===!0&&J===void 0)return;if(Nz(J)){if(this.peekChar(0)==="?")this.consumeChar("?"),J.greedy=!1;else J.greedy=!0;return J.type="Quantifier",J.loc=this.loc(Q),J}}atom(){let Z,J=this.idx;switch(this.peekChar()){case".":Z=this.dotAll();break;case"\\":Z=this.atomEscape();break;case"[":Z=this.characterClass();break;case"(":Z=this.group();break}if(Z===void 0&&this.isPatternCharacter())Z=this.patternCharacter();if(Nz(Z)){if(Z.loc=this.loc(J),this.isQuantifier())Z.quantifier=this.quantifier();return Z}return ZI()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[DZ(`
`),DZ("\r"),DZ("\u2028"),DZ("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let Z,J=!1;switch(this.popChar()){case"d":Z=JI;break;case"D":Z=JI,J=!0;break;case"s":Z=hs;break;case"S":Z=hs,J=!0;break;case"w":Z=QI;break;case"W":Z=QI,J=!0;break}if(Nz(Z))return{type:"Set",value:Z,complement:J};return ZI()}controlEscapeAtom(){let Z;switch(this.popChar()){case"f":Z=DZ("\f");break;case"n":Z=DZ(`
`);break;case"r":Z=DZ("\r");break;case"t":Z=DZ("\t");break;case"v":Z=DZ("\v");break}if(Nz(Z))return{type:"Character",value:Z};return ZI()}controlLetterEscapeAtom(){this.consumeChar("c");let Z=this.popChar();if(/[a-zA-Z]/.test(Z)===!1)throw Error("Invalid ");return{type:"Character",value:Z.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:DZ("\x00")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let Z=this.popChar();return{type:"Character",value:DZ(Z)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let Z=this.popChar();return{type:"Character",value:DZ(Z)}}}characterClass(){let Z=[],J=!1;if(this.consumeChar("["),this.peekChar(0)==="^")this.consumeChar("^"),J=!0;while(this.isClassAtom()){let Q=this.classAtom(),K=Q.type==="Character";if(ys(Q)&&this.isRangeDash()){this.consumeChar("-");let U=this.classAtom(),X=U.type==="Character";if(ys(U)){if(U.value<Q.value)throw Error("Range out of order in character class");Z.push({from:Q.value,to:U.value})}else xT(Q.value,Z),Z.push(DZ("-")),xT(U.value,Z)}else xT(Q.value,Z)}return this.consumeChar("]"),{type:"Set",complement:J,value:Z}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:DZ("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let Z=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),Z=!1;break;default:this.groupIdx++;break}let J=this.disjunction();this.consumeChar(")");let Q={type:"Group",capturing:Z,value:J};if(Z)Q.idx=this.groupIdx;return Q}positiveInteger(){let Z=this.popChar();if(nL8.test(Z)===!1)throw Error("Expecting a positive integer");while(bT.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}integerIncludingZero(){let Z=this.popChar();if(bT.test(Z)===!1)throw Error("Expecting an integer");while(bT.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}patternCharacter(){let Z=this.popChar();switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:DZ(Z)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return bT.test(this.peekChar(0))}isClassAtom(Z=0){switch(this.peekChar(Z)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let Z=this.saveState();try{return this.quantifier(!0)!==void 0}catch(J){return!1}finally{this.restoreState(Z)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(Z){let J="";for(let K=0;K<Z;K++){let U=this.popChar();if(rL8.test(U)===!1)throw Error("Expecting a HexDecimal digits");J+=U}return{type:"Character",value:parseInt(J,16)}}peekChar(Z=0){return this.input[this.idx+Z]}popChar(){let Z=this.peekChar(0);return this.consumeChar(void 0),Z}consumeChar(Z){if(Z!==void 0&&this.input[this.idx]!==Z)throw Error("Expected: '"+Z+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(Z){return{begin:Z,end:this.idx}}}var rL8,bT,nL8;var kE0=f(()=>{$E0();rL8=/[0-9a-fA-F]/,bT=/[0-9]/,nL8=/[1-9]/});class PY{visitChildren(Z){for(let J in Z){let Q=Z[J];if(Z.hasOwnProperty(J)){if(Q.type!==void 0)this.visit(Q);else if(Array.isArray(Q))Q.forEach((K)=>{this.visit(K)},this)}}}visit(Z){switch(Z.type){case"Pattern":this.visitPattern(Z);break;case"Flags":this.visitFlags(Z);break;case"Disjunction":this.visitDisjunction(Z);break;case"Alternative":this.visitAlternative(Z);break;case"StartAnchor":this.visitStartAnchor(Z);break;case"EndAnchor":this.visitEndAnchor(Z);break;case"WordBoundary":this.visitWordBoundary(Z);break;case"NonWordBoundary":this.visitNonWordBoundary(Z);break;case"Lookahead":this.visitLookahead(Z);break;case"NegativeLookahead":this.visitNegativeLookahead(Z);break;case"Character":this.visitCharacter(Z);break;case"Set":this.visitSet(Z);break;case"Group":this.visitGroup(Z);break;case"GroupBackReference":this.visitGroupBackReference(Z);break;case"Quantifier":this.visitQuantifier(Z);break}this.visitChildren(Z)}visitPattern(Z){}visitFlags(Z){}visitDisjunction(Z){}visitAlternative(Z){}visitStartAnchor(Z){}visitEndAnchor(Z){}visitWordBoundary(Z){}visitNonWordBoundary(Z){}visitLookahead(Z){}visitNegativeLookahead(Z){}visitCharacter(Z){}visitSet(Z){}visitGroup(Z){}visitGroupBackReference(Z){}visitQuantifier(Z){}}var KI=f(()=>{kE0()});var yT={};LZ(yT,{whitespaceCharacters:()=>vE0,partialRegExp:()=>xE0,partialMatches:()=>ps,isWhitespace:()=>DM,isMultilineComment:()=>us,getTerminalParts:()=>aL8,getCaseInsensitivePattern:()=>gs,escapeRegExp:()=>Vz,NEWLINE_REGEXP:()=>ms});function aL8(Z){try{if(typeof Z!=="string")Z=Z.source;Z=`/${Z}/`;let J=_E0.pattern(Z),Q=[];for(let K of J.value.value)Ez.reset(Z),Ez.visit(K),Q.push({start:Ez.startRegexp,end:Ez.endRegex});return Q}catch(J){return[]}}function us(Z){try{if(typeof Z==="string")Z=new RegExp(Z);return Z=Z.toString(),Ez.reset(Z),Ez.visit(_E0.pattern(Z)),Ez.multiline}catch(J){return!1}}function DM(Z){let J=typeof Z==="string"?new RegExp(Z):Z;return vE0.some((Q)=>J.test(Q))}function Vz(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gs(Z){return Array.prototype.map.call(Z,(J)=>/\w/.test(J)?`[${J.toLowerCase()}${J.toUpperCase()}]`:Vz(J)).join("")}function ps(Z,J){let Q=xE0(Z),K=J.match(Q);return!!K&&K[0].length>0}function xE0(Z){if(typeof Z==="string")Z=new RegExp(Z);let J=Z,Q=Z.source,K=0;function U(){let X="",Y;function q(G){X+=Q.substr(K,G),K+=G}function W(G){X+="(?:"+Q.substr(K,G)+"|$)",K+=G}while(K<Q.length)switch(Q[K]){case"\\":switch(Q[K+1]){case"c":W(3);break;case"x":W(4);break;case"u":if(J.unicode)if(Q[K+2]==="{")W(Q.indexOf("}",K)-K+1);else W(6);else W(2);break;case"p":case"P":if(J.unicode)W(Q.indexOf("}",K)-K+1);else W(2);break;case"k":W(Q.indexOf(">",K)-K+1);break;default:W(2);break}break;case"[":Y=/\[(?:\\.|.)*?\]/g,Y.lastIndex=K,Y=Y.exec(Q)||[],W(Y[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":q(1);break;case"{":if(Y=/\{\d+,?\d*\}/g,Y.lastIndex=K,Y=Y.exec(Q),Y)q(Y[0].length);else W(1);break;case"(":if(Q[K+1]==="?")switch(Q[K+2]){case":":X+="(?:",K+=3,X+=U()+"|$)";break;case"=":X+="(?=",K+=3,X+=U()+")";break;case"!":Y=K,K+=3,U(),X+=Q.substr(Y,K-Y);break;case"<":switch(Q[K+3]){case"=":case"!":Y=K,K+=4,U(),X+=Q.substr(Y,K-Y);break;default:q(Q.indexOf(">",K)-K+1),X+=U()+"|$)";break}break}else q(1),X+=U()+"|$)";break;case")":return++K,X;default:W(1);break}return X}return new RegExp(U(),Z.flags)}var ms,_E0,fE0,Ez,vE0;var IM=f(()=>{KI();ms=/\r?\n/gm,_E0=new LM;fE0=class fE0 extends PY{constructor(){super(...arguments);this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(Z){this.multiline=!1,this.regex=Z,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(Z){if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[]}visitCharacter(Z){let J=String.fromCharCode(Z.value);if(!this.multiline&&J===`
`)this.multiline=!0;if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let Q=Vz(J);if(this.endRegexpStack.push(Q),this.isStarting)this.startRegexp+=Q}}visitSet(Z){if(!this.multiline){let J=this.regex.substring(Z.loc.begin,Z.loc.end),Q=new RegExp(J);this.multiline=Boolean(`
`.match(Q))}if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let J=this.regex.substring(Z.loc.begin,Z.loc.end);if(this.endRegexpStack.push(J),this.isStarting)this.startRegexp+=J}}visitChildren(Z){if(Z.type==="Group"){if(Z.quantifier)return}super.visitChildren(Z)}};Ez=new fE0;vE0=(`\f
\r	\v `+"\u2028\u2029\uFEFF").split("")});var mT={};LZ(mT,{terminalRegex:()=>NM,isOptionalCardinality:()=>tL8,isDataTypeRule:()=>YI,isDataType:()=>JD8,isCommentTerminal:()=>is,isArrayOperator:()=>ZD8,isArrayCardinality:()=>eL8,getTypeName:()=>qI,getRuleTypeName:()=>QD8,getRuleType:()=>ts,getHiddenRules:()=>yE0,getExplicitRuleType:()=>AM,getEntryRule:()=>bE0,getCrossReferenceTerminal:()=>ds,getAllReachableRules:()=>UI,getActionType:()=>pE0,getActionAtElement:()=>uE0,findNodesForProperty:()=>ss,findNodesForKeywordInternal:()=>as,findNodesForKeyword:()=>oL8,findNodeForProperty:()=>XI,findNodeForKeyword:()=>ns,findNameAssignment:()=>hT,findAssignment:()=>os});function bE0(Z){return Z.rules.find((J)=>_Q(J)&&J.entry)}function yE0(Z){return Z.rules.filter((J)=>h4(J)&&J.hidden)}function UI(Z,J){let Q=new Set,K=bE0(Z);if(!K)return new Set(Z.rules);let U=[K].concat(yE0(Z));for(let Y of U)hE0(Y,Q,J);let X=new Set;for(let Y of Z.rules)if(Q.has(Y.name)||h4(Y)&&Y.hidden)X.add(Y);return X}function hE0(Z,J,Q){J.add(Z.name),oU(Z).forEach((K)=>{if(T5(K)||Q&&kT(K)){let U=K.rule.ref;if(U&&!J.has(U.name))hE0(U,J,Q)}})}function ds(Z){if(Z.terminal)return Z.terminal;else if(Z.type.ref){let J=hT(Z.type.ref);return J===null||J===void 0?void 0:J.terminal}return}function is(Z){return Z.hidden&&!DM(NM(Z))}function ss(Z,J){if(!Z||!J)return[];return rs(Z,J,Z.astNode,!0)}function XI(Z,J,Q){if(!Z||!J)return;let K=rs(Z,J,Z.astNode,!0);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function rs(Z,J,Q,K){if(!K){let U=Az(Z.grammarSource,S5);if(U&&U.feature===J)return[Z]}if(C5(Z)&&Z.astNode===Q)return Z.content.flatMap((U)=>rs(U,J,Q,!1));return[]}function oL8(Z,J){if(!Z)return[];return as(Z,J,Z===null||Z===void 0?void 0:Z.astNode)}function ns(Z,J,Q){if(!Z)return;let K=as(Z,J,Z===null||Z===void 0?void 0:Z.astNode);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function as(Z,J,Q){if(Z.astNode!==Q)return[];if(SK(Z.grammarSource)&&Z.grammarSource.value===J)return[Z];let K=Rz(Z).iterator(),U,X=[];do if(U=K.next(),!U.done){let Y=U.value;if(Y.astNode===Q){if(SK(Y.grammarSource)&&Y.grammarSource.value===J)X.push(Y)}else K.prune()}while(!U.done);return X}function os(Z){var J;let Q=Z.astNode;while(Q===((J=Z.container)===null||J===void 0?void 0:J.astNode)){let K=Az(Z.grammarSource,S5);if(K)return K;Z=Z.container}return}function hT(Z){let J=Z;if(ST(J))if(VY(J.$container))J=J.$container.$container;else if(_Q(J.$container))J=J.$container;else nU(J.$container);return mE0(Z,J,new Map)}function mE0(Z,J,Q){var K;function U(X,Y){let q=void 0;if(!Az(X,S5))q=mE0(Y,Y,Q);return Q.set(Z,q),q}if(Q.has(Z))return Q.get(Z);Q.set(Z,void 0);for(let X of oU(J))if(S5(X)&&X.feature.toLowerCase()==="name")return Q.set(Z,X),X;else if(T5(X)&&_Q(X.rule.ref))return U(X,X.rule.ref);else if(wT(X)&&((K=X.typeRef)===null||K===void 0?void 0:K.ref))return U(X,X.typeRef.ref);return}function uE0(Z){let J=Z.$container;if(xq(J)){let Q=J.elements,K=Q.indexOf(Z);for(let U=K-1;U>=0;U--){let X=Q[U];if(VY(X))return X;else{let Y=oU(Q[U]).find(VY);if(Y)return Y}}}if(rD(J))return uE0(J);else return}function tL8(Z,J){return Z==="?"||Z==="*"||xq(J)&&Boolean(J.guardCondition)}function eL8(Z){return Z==="*"||Z==="+"}function ZD8(Z){return Z==="+="}function YI(Z){return gE0(Z,new Set)}function gE0(Z,J){if(J.has(Z))return!0;else J.add(Z);for(let Q of oU(Z))if(T5(Q)){if(!Q.rule.ref)return!1;if(_Q(Q.rule.ref)&&!gE0(Q.rule.ref,J))return!1}else if(S5(Q))return!1;else if(VY(Q))return!1;return Boolean(Z.definition)}function JD8(Z){return ls(Z.type,new Set)}function ls(Z,J){if(J.has(Z))return!0;else J.add(Z);if(Ls(Z))return!1;else if(Vs(Z))return!1;else if(Cs(Z))return Z.types.every((Q)=>ls(Q,J));else if(wT(Z))if(Z.primitiveType!==void 0)return!0;else if(Z.stringType!==void 0)return!0;else if(Z.typeRef!==void 0){let Q=Z.typeRef.ref;if(nD(Q))return ls(Q.type,J);else return!1}else return!1;else return!1}function AM(Z){if(Z.inferredType)return Z.inferredType.name;else if(Z.dataType)return Z.dataType;else if(Z.returnType){let J=Z.returnType.ref;if(J){if(_Q(J))return J.name;else if(TT(J)||nD(J))return J.name}}return}function qI(Z){var J;if(_Q(Z))return YI(Z)?Z.name:(J=AM(Z))!==null&&J!==void 0?J:Z.name;else if(TT(Z)||nD(Z)||Ps(Z))return Z.name;else if(VY(Z)){let Q=pE0(Z);if(Q)return Q}else if(ST(Z))return Z.name;throw Error("Cannot get name of Unknown Type")}function pE0(Z){var J;if(Z.inferredType)return Z.inferredType.name;else if((J=Z.type)===null||J===void 0?void 0:J.ref)return qI(Z.type.ref);return}function QD8(Z){var J,Q,K;if(h4(Z))return(Q=(J=Z.type)===null||J===void 0?void 0:J.name)!==null&&Q!==void 0?Q:"string";else return YI(Z)?Z.name:(K=AM(Z))!==null&&K!==void 0?K:Z.name}function ts(Z){var J,Q,K;if(h4(Z))return(Q=(J=Z.type)===null||J===void 0?void 0:J.name)!==null&&Q!==void 0?Q:"string";else return(K=AM(Z))!==null&&K!==void 0?K:Z.name}function NM(Z){let J={s:!1,i:!1,u:!1},Q=EM(Z.definition,J),K=Object.entries(J).filter(([,U])=>U).map(([U])=>U).join("");return new RegExp(Q,K)}function EM(Z,J){if($s(Z))return KD8(Z);else if(ks(Z))return UD8(Z);else if(js(Z))return qD8(Z);else if(kT(Z)){let Q=Z.rule.ref;if(!Q)throw Error("Missing rule reference.");return CY(EM(Q.definition),{cardinality:Z.cardinality,lookahead:Z.lookahead})}else if(Ts(Z))return YD8(Z);else if(_s(Z))return XD8(Z);else if(ws(Z)){let Q=Z.regex.lastIndexOf("/"),K=Z.regex.substring(1,Q),U=Z.regex.substring(Q+1);if(J)J.i=U.includes("i"),J.s=U.includes("s"),J.u=U.includes("u");return CY(K,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}else if(fs(Z))return CY(es,{cardinality:Z.cardinality,lookahead:Z.lookahead});else throw Error(`Invalid terminal element: ${Z===null||Z===void 0?void 0:Z.$type}`)}function KD8(Z){return CY(Z.elements.map((J)=>EM(J)).join("|"),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function UD8(Z){return CY(Z.elements.map((J)=>EM(J)).join(""),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function XD8(Z){return CY(`${es}*?${EM(Z.terminal)}`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function YD8(Z){return CY(`(?!${EM(Z.terminal)})${es}*?`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function qD8(Z){if(Z.right)return CY(`[${cs(Z.left)}-${cs(Z.right)}]`,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1});return CY(cs(Z.left),{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}function cs(Z){return Vz(Z.value)}function CY(Z,J){var Q;if(J.wrap!==!1||J.lookahead)Z=`(${(Q=J.lookahead)!==null&&Q!==void 0?Q:""}${Z})`;if(J.cardinality)return`${Z}${J.cardinality}`;return Z}var es;var w5=f(()=>{CT();aU();W6();j5();IM();es=/[\s\S]/.source});function Zr(Z){let J=[],Q=Z.Grammar;for(let K of Q.rules)if(h4(K)&&is(K)&&us(NM(K)))J.push(K.name);return{multilineCommentRules:J,nameRegexp:VT}}var Jr=f(()=>{j5();w5();IM();aU()});var WD8,uT;var Qr=f(()=>{WD8=typeof global=="object"&&global&&global.Object===Object&&global,uT=WD8});var GD8,zD8,q7;var $5=f(()=>{Qr();GD8=typeof self=="object"&&self&&self.Object===Object&&self,zD8=uT||GD8||Function("return this")(),q7=zD8});var HD8,h7;var Pz=f(()=>{$5();HD8=q7.Symbol,h7=HD8});function BD8(Z){var J=FD8.call(Z,WI),Q=Z[WI];try{Z[WI]=void 0;var K=!0}catch(X){}var U=MD8.call(Z);if(K)if(J)Z[WI]=Q;else delete Z[WI];return U}var cE0,FD8,MD8,WI,lE0;var dE0=f(()=>{Pz();cE0=Object.prototype,FD8=cE0.hasOwnProperty,MD8=cE0.toString,WI=h7?h7.toStringTag:void 0;lE0=BD8});function LD8(Z){return RD8.call(Z)}var OD8,RD8,iE0;var sE0=f(()=>{OD8=Object.prototype,RD8=OD8.toString;iE0=LD8});function AD8(Z){if(Z==null)return Z===void 0?ID8:DD8;return rE0&&rE0 in Object(Z)?lE0(Z):iE0(Z)}var DD8="[object Null]",ID8="[object Undefined]",rE0,G6;var bq=f(()=>{Pz();dE0();sE0();rE0=h7?h7.toStringTag:void 0;G6=AD8});function ND8(Z){return Z!=null&&typeof Z=="object"}var aJ;var k5=f(()=>{aJ=ND8});function VD8(Z){return typeof Z=="symbol"||aJ(Z)&&G6(Z)==ED8}var ED8="[object Symbol]",yq;var GI=f(()=>{bq();k5();yq=VD8});function PD8(Z,J){var Q=-1,K=Z==null?0:Z.length,U=Array(K);while(++Q<K)U[Q]=J(Z[Q],Q,Z);return U}var tU;var VM=f(()=>{tU=PD8});var CD8,t8;var gJ=f(()=>{CD8=Array.isArray,t8=CD8});function oE0(Z){if(typeof Z=="string")return Z;if(t8(Z))return tU(Z,oE0)+"";if(yq(Z))return aE0?aE0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-jD8?"-0":J}var jD8=1/0,nE0,aE0,tE0;var eE0=f(()=>{Pz();VM();gJ();GI();nE0=h7?h7.prototype:void 0,aE0=nE0?nE0.toString:void 0;tE0=oE0});function TD8(Z){var J=Z.length;while(J--&&SD8.test(Z.charAt(J)));return J}var SD8,ZV0;var JV0=f(()=>{SD8=/\s/;ZV0=TD8});function $D8(Z){return Z?Z.slice(0,ZV0(Z)+1).replace(wD8,""):Z}var wD8,QV0;var KV0=f(()=>{JV0();wD8=/^\s+/;QV0=$D8});function kD8(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var _J;var _5=f(()=>{_J=kD8});function bD8(Z){if(typeof Z=="number")return Z;if(yq(Z))return UV0;if(_J(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=_J(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=QV0(Z);var Q=fD8.test(Z);return Q||vD8.test(Z)?xD8(Z.slice(2),Q?2:8):_D8.test(Z)?UV0:+Z}var UV0=NaN,_D8,fD8,vD8,xD8,XV0;var YV0=f(()=>{KV0();_5();GI();_D8=/^[-+]0x[0-9a-f]+$/i,fD8=/^0b[01]+$/i,vD8=/^0o[0-7]+$/i,xD8=parseInt;XV0=bD8});function hD8(Z){if(!Z)return Z===0?Z:0;if(Z=XV0(Z),Z===qV0||Z===-qV0){var J=Z<0?-1:1;return J*yD8}return Z===Z?Z:0}var qV0=1/0,yD8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,WV0;var GV0=f(()=>{YV0();WV0=hD8});function mD8(Z){var J=WV0(Z),Q=J%1;return J===J?Q?J-Q:J:0}var eU;var PM=f(()=>{GV0();eU=mD8});function uD8(Z){return Z}var wK;var CM=f(()=>{wK=uD8});function dD8(Z){if(!_J(Z))return!1;var J=G6(Z);return J==pD8||J==cD8||J==gD8||J==lD8}var gD8="[object AsyncFunction]",pD8="[object Function]",cD8="[object GeneratorFunction]",lD8="[object Proxy]",z6;var gT=f(()=>{bq();_5();z6=dD8});var iD8,pT;var zV0=f(()=>{$5();iD8=q7["__core-js_shared__"],pT=iD8});function sD8(Z){return!!HV0&&HV0 in Z}var HV0,FV0;var MV0=f(()=>{zV0();HV0=function(){var Z=/[^.]+$/.exec(pT&&pT.keys&&pT.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();FV0=sD8});function aD8(Z){if(Z!=null){try{return nD8.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var rD8,nD8,jY;var Kr=f(()=>{rD8=Function.prototype,nD8=rD8.toString;jY=aD8});function UI8(Z){if(!_J(Z)||FV0(Z))return!1;var J=z6(Z)?KI8:tD8;return J.test(jY(Z))}var oD8,tD8,eD8,ZI8,JI8,QI8,KI8,BV0;var OV0=f(()=>{gT();MV0();_5();Kr();oD8=/[\\^$.*+?()[\]{}|]/g,tD8=/^\[object .+?Constructor\]$/,eD8=Function.prototype,ZI8=Object.prototype,JI8=eD8.toString,QI8=ZI8.hasOwnProperty,KI8=RegExp("^"+JI8.call(QI8).replace(oD8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");BV0=UI8});function XI8(Z,J){return Z==null?void 0:Z[J]}var RV0;var LV0=f(()=>{RV0=XI8});function YI8(Z,J){var Q=RV0(Z,J);return BV0(Q)?Q:void 0}var e6;var hq=f(()=>{OV0();LV0();e6=YI8});var qI8,cT;var DV0=f(()=>{hq();$5();qI8=e6(q7,"WeakMap"),cT=qI8});var IV0,WI8,AV0;var NV0=f(()=>{_5();IV0=Object.create,WI8=function(){function Z(){}return function(J){if(!_J(J))return{};if(IV0)return IV0(J);Z.prototype=J;var Q=new Z;return Z.prototype=void 0,Q}}(),AV0=WI8});function GI8(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var EV0;var VV0=f(()=>{EV0=GI8});function zI8(){}var fJ;var Ur=f(()=>{fJ=zI8});function HI8(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}var PV0;var CV0=f(()=>{PV0=HI8});function OI8(Z){var J=0,Q=0;return function(){var K=BI8(),U=MI8-(K-Q);if(Q=K,U>0){if(++J>=FI8)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var FI8=800,MI8=16,BI8,jV0;var SV0=f(()=>{BI8=Date.now;jV0=OI8});function RI8(Z){return function(){return Z}}var TV0;var wV0=f(()=>{TV0=RI8});var LI8,jM;var Xr=f(()=>{hq();LI8=function(){try{var Z=e6(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),jM=LI8});var DI8,$V0;var kV0=f(()=>{wV0();Xr();CM();DI8=!jM?wK:function(Z,J){return jM(Z,"toString",{configurable:!0,enumerable:!1,value:TV0(J),writable:!0})},$V0=DI8});var II8,_V0;var fV0=f(()=>{kV0();SV0();II8=jV0($V0),_V0=II8});function AI8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var lT;var Yr=f(()=>{lT=AI8});function NI8(Z,J,Q,K){var U=Z.length,X=Q+(K?1:-1);while(K?X--:++X<U)if(J(Z[X],X,Z))return X;return-1}var dT;var qr=f(()=>{dT=NI8});function EI8(Z){return Z!==Z}var vV0;var xV0=f(()=>{vV0=EI8});function VI8(Z,J,Q){var K=Q-1,U=Z.length;while(++K<U)if(Z[K]===J)return K;return-1}var bV0;var yV0=f(()=>{bV0=VI8});function PI8(Z,J,Q){return J===J?bV0(Z,J,Q):dT(Z,vV0,Q)}var SM;var iT=f(()=>{qr();xV0();yV0();SM=PI8});function CI8(Z,J){var Q=Z==null?0:Z.length;return!!Q&&SM(Z,J,0)>-1}var sT;var Wr=f(()=>{iT();sT=CI8});function TI8(Z,J){var Q=typeof Z;return J=J==null?jI8:J,!!J&&(Q=="number"||Q!="symbol"&&SI8.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var jI8=9007199254740991,SI8,mq;var zI=f(()=>{SI8=/^(?:0|[1-9]\d*)$/;mq=TI8});function wI8(Z,J,Q){if(J=="__proto__"&&jM)jM(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var TM;var rT=f(()=>{Xr();TM=wI8});function $I8(Z,J){return Z===J||Z!==Z&&J!==J}var ZX;var wM=f(()=>{ZX=$I8});function fI8(Z,J,Q){var K=Z[J];if(!(_I8.call(Z,J)&&ZX(K,Q))||Q===void 0&&!(J in Z))TM(Z,J,Q)}var kI8,_I8,uq;var HI=f(()=>{rT();wM();kI8=Object.prototype,_I8=kI8.hasOwnProperty;uq=fI8});function vI8(Z,J,Q,K){var U=!Q;Q||(Q={});var X=-1,Y=J.length;while(++X<Y){var q=J[X],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(U)TM(Q,q,W);else uq(Q,q,W)}return Q}var JX;var $M=f(()=>{HI();rT();JX=vI8});function xI8(Z,J,Q){return J=hV0(J===void 0?Z.length-1:J,0),function(){var K=arguments,U=-1,X=hV0(K.length-J,0),Y=Array(X);while(++U<X)Y[U]=K[J+U];U=-1;var q=Array(J+1);while(++U<J)q[U]=K[U];return q[J]=Q(Y),EV0(Z,this,q)}}var hV0,mV0;var uV0=f(()=>{VV0();hV0=Math.max;mV0=xI8});function bI8(Z,J){return _V0(mV0(Z,J,wK),Z+"")}var kM;var nT=f(()=>{CM();uV0();fV0();kM=bI8});function hI8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=yI8}var yI8=9007199254740991,_M;var aT=f(()=>{_M=hI8});function mI8(Z){return Z!=null&&_M(Z.length)&&!z6(Z)}var W7;var f5=f(()=>{gT();aT();W7=mI8});function uI8(Z,J,Q){if(!_J(Q))return!1;var K=typeof J;if(K=="number"?W7(Q)&&mq(J,Q.length):K=="string"&&(J in Q))return ZX(Q[J],Z);return!1}var gq;var FI=f(()=>{wM();f5();zI();_5();gq=uI8});function gI8(Z){return kM(function(J,Q){var K=-1,U=Q.length,X=U>1?Q[U-1]:void 0,Y=U>2?Q[2]:void 0;if(X=Z.length>3&&typeof X=="function"?(U--,X):void 0,Y&&gq(Q[0],Q[1],Y))X=U<3?void 0:X,U=1;J=Object(J);while(++K<U){var q=Q[K];if(q)Z(J,q,K,X)}return J})}var gV0;var pV0=f(()=>{nT();FI();gV0=gI8});function cI8(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||pI8;return Z===Q}var pI8,QX;var fM=f(()=>{pI8=Object.prototype;QX=cI8});function lI8(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var cV0;var lV0=f(()=>{cV0=lI8});function iI8(Z){return aJ(Z)&&G6(Z)==dI8}var dI8="[object Arguments]",Gr;var dV0=f(()=>{bq();k5();Gr=iI8});var iV0,sI8,rI8,nI8,pq;var MI=f(()=>{dV0();k5();iV0=Object.prototype,sI8=iV0.hasOwnProperty,rI8=iV0.propertyIsEnumerable,nI8=Gr(function(){return arguments}())?Gr:function(Z){return aJ(Z)&&sI8.call(Z,"callee")&&!rI8.call(Z,"callee")},pq=nI8});function aI8(){return!1}var sV0;var rV0=f(()=>{sV0=aI8});var tT={};LZ(tT,{default:()=>KX});var oV0,nV0,oI8,aV0,tI8,eI8,KX;var BI=f(()=>{$5();rV0();oV0=typeof tT=="object"&&tT&&!tT.nodeType&&tT,nV0=oV0&&typeof oT=="object"&&oT&&!oT.nodeType&&oT,oI8=nV0&&nV0.exports===oV0,aV0=oI8?q7.Buffer:void 0,tI8=aV0?aV0.isBuffer:void 0,eI8=tI8||sV0,KX=eI8});function PA8(Z){return aJ(Z)&&_M(Z.length)&&!!WJ[G6(Z)]}var ZA8="[object Arguments]",JA8="[object Array]",QA8="[object Boolean]",KA8="[object Date]",UA8="[object Error]",XA8="[object Function]",YA8="[object Map]",qA8="[object Number]",WA8="[object Object]",GA8="[object RegExp]",zA8="[object Set]",HA8="[object String]",FA8="[object WeakMap]",MA8="[object ArrayBuffer]",BA8="[object DataView]",OA8="[object Float32Array]",RA8="[object Float64Array]",LA8="[object Int8Array]",DA8="[object Int16Array]",IA8="[object Int32Array]",AA8="[object Uint8Array]",NA8="[object Uint8ClampedArray]",EA8="[object Uint16Array]",VA8="[object Uint32Array]",WJ,tV0;var eV0=f(()=>{bq();aT();k5();WJ={};WJ[OA8]=WJ[RA8]=WJ[LA8]=WJ[DA8]=WJ[IA8]=WJ[AA8]=WJ[NA8]=WJ[EA8]=WJ[VA8]=!0;WJ[ZA8]=WJ[JA8]=WJ[MA8]=WJ[QA8]=WJ[BA8]=WJ[KA8]=WJ[UA8]=WJ[XA8]=WJ[YA8]=WJ[qA8]=WJ[WA8]=WJ[GA8]=WJ[zA8]=WJ[HA8]=WJ[FA8]=!1;tV0=PA8});function CA8(Z){return function(J){return Z(J)}}var UX;var vM=f(()=>{UX=CA8});var Zw={};LZ(Zw,{default:()=>m4});var ZP0,OI,jA8,zr,SA8,m4;var RI=f(()=>{Qr();ZP0=typeof Zw=="object"&&Zw&&!Zw.nodeType&&Zw,OI=ZP0&&typeof eT=="object"&&eT&&!eT.nodeType&&eT,jA8=OI&&OI.exports===ZP0,zr=jA8&&uT.process,SA8=function(){try{var Z=OI&&OI.require&&OI.require("util").types;if(Z)return Z;return zr&&zr.binding&&zr.binding("util")}catch(J){}}(),m4=SA8});var JP0,TA8,xM;var Jw=f(()=>{eV0();vM();RI();JP0=m4&&m4.isTypedArray,TA8=JP0?UX(JP0):tV0,xM=TA8});function kA8(Z,J){var Q=t8(Z),K=!Q&&pq(Z),U=!Q&&!K&&KX(Z),X=!Q&&!K&&!U&&xM(Z),Y=Q||K||U||X,q=Y?cV0(Z.length,String):[],W=q.length;for(var G in Z)if((J||$A8.call(Z,G))&&!(Y&&(G=="length"||U&&(G=="offset"||G=="parent")||X&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||mq(G,W))))q.push(G);return q}var wA8,$A8,Qw;var Hr=f(()=>{lV0();MI();gJ();BI();zI();Jw();wA8=Object.prototype,$A8=wA8.hasOwnProperty;Qw=kA8});function _A8(Z,J){return function(Q){return Z(J(Q))}}var Kw;var Fr=f(()=>{Kw=_A8});var fA8,QP0;var KP0=f(()=>{Fr();fA8=Kw(Object.keys,Object),QP0=fA8});function bA8(Z){if(!QX(Z))return QP0(Z);var J=[];for(var Q in Object(Z))if(xA8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var vA8,xA8,Uw;var Mr=f(()=>{fM();KP0();vA8=Object.prototype,xA8=vA8.hasOwnProperty;Uw=bA8});function yA8(Z){return W7(Z)?Qw(Z):Uw(Z)}var t9;var XX=f(()=>{Hr();Mr();f5();t9=yA8});var hA8,mA8,uA8,bM;var UP0=f(()=>{HI();$M();pV0();f5();fM();XX();hA8=Object.prototype,mA8=hA8.hasOwnProperty,uA8=gV0(function(Z,J){if(QX(J)||W7(J)){JX(J,t9(J),Z);return}for(var Q in J)if(mA8.call(J,Q))uq(Z,Q,J[Q])}),bM=uA8});function gA8(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var XP0;var YP0=f(()=>{XP0=gA8});function lA8(Z){if(!_J(Z))return XP0(Z);var J=QX(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!cA8.call(Z,K))))Q.push(K);return Q}var pA8,cA8,qP0;var WP0=f(()=>{_5();fM();YP0();pA8=Object.prototype,cA8=pA8.hasOwnProperty;qP0=lA8});function dA8(Z){return W7(Z)?Qw(Z,!0):qP0(Z)}var cq;var LI=f(()=>{Hr();WP0();f5();cq=dA8});function rA8(Z,J){if(t8(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||yq(Z))return!0;return sA8.test(Z)||!iA8.test(Z)||J!=null&&Z in Object(J)}var iA8,sA8,yM;var Xw=f(()=>{gJ();GI();iA8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sA8=/^\w*$/;yM=rA8});var nA8,SY;var DI=f(()=>{hq();nA8=e6(Object,"create"),SY=nA8});function aA8(){this.__data__=SY?SY(null):{},this.size=0}var GP0;var zP0=f(()=>{DI();GP0=aA8});function oA8(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var HP0;var FP0=f(()=>{HP0=oA8});function JN8(Z){var J=this.__data__;if(SY){var Q=J[Z];return Q===tA8?void 0:Q}return ZN8.call(J,Z)?J[Z]:void 0}var tA8="__lodash_hash_undefined__",eA8,ZN8,MP0;var BP0=f(()=>{DI();eA8=Object.prototype,ZN8=eA8.hasOwnProperty;MP0=JN8});function UN8(Z){var J=this.__data__;return SY?J[Z]!==void 0:KN8.call(J,Z)}var QN8,KN8,OP0;var RP0=f(()=>{DI();QN8=Object.prototype,KN8=QN8.hasOwnProperty;OP0=UN8});function YN8(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=SY&&J===void 0?XN8:J,this}var XN8="__lodash_hash_undefined__",LP0;var DP0=f(()=>{DI();LP0=YN8});function hM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Br;var IP0=f(()=>{zP0();FP0();BP0();RP0();DP0();hM.prototype.clear=GP0;hM.prototype.delete=HP0;hM.prototype.get=MP0;hM.prototype.has=OP0;hM.prototype.set=LP0;Br=hM});function qN8(){this.__data__=[],this.size=0}var AP0;var NP0=f(()=>{AP0=qN8});function WN8(Z,J){var Q=Z.length;while(Q--)if(ZX(Z[Q][0],J))return Q;return-1}var lq;var II=f(()=>{wM();lq=WN8});function HN8(Z){var J=this.__data__,Q=lq(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else zN8.call(J,Q,1);return--this.size,!0}var GN8,zN8,EP0;var VP0=f(()=>{II();GN8=Array.prototype,zN8=GN8.splice;EP0=HN8});function FN8(Z){var J=this.__data__,Q=lq(J,Z);return Q<0?void 0:J[Q][1]}var PP0;var CP0=f(()=>{II();PP0=FN8});function MN8(Z){return lq(this.__data__,Z)>-1}var jP0;var SP0=f(()=>{II();jP0=MN8});function BN8(Z,J){var Q=this.__data__,K=lq(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var TP0;var wP0=f(()=>{II();TP0=BN8});function mM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var dq;var AI=f(()=>{NP0();VP0();CP0();SP0();wP0();mM.prototype.clear=AP0;mM.prototype.delete=EP0;mM.prototype.get=PP0;mM.prototype.has=jP0;mM.prototype.set=TP0;dq=mM});var ON8,iq;var Yw=f(()=>{hq();$5();ON8=e6(q7,"Map"),iq=ON8});function RN8(){this.size=0,this.__data__={hash:new Br,map:new(iq||dq),string:new Br}}var $P0;var kP0=f(()=>{IP0();AI();Yw();$P0=RN8});function LN8(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var _P0;var fP0=f(()=>{_P0=LN8});function DN8(Z,J){var Q=Z.__data__;return _P0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var sq;var NI=f(()=>{fP0();sq=DN8});function IN8(Z){var J=sq(this,Z).delete(Z);return this.size-=J?1:0,J}var vP0;var xP0=f(()=>{NI();vP0=IN8});function AN8(Z){return sq(this,Z).get(Z)}var bP0;var yP0=f(()=>{NI();bP0=AN8});function NN8(Z){return sq(this,Z).has(Z)}var hP0;var mP0=f(()=>{NI();hP0=NN8});function EN8(Z,J){var Q=sq(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var uP0;var gP0=f(()=>{NI();uP0=EN8});function uM(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Cz;var qw=f(()=>{kP0();xP0();yP0();mP0();gP0();uM.prototype.clear=$P0;uM.prototype.delete=vP0;uM.prototype.get=bP0;uM.prototype.has=hP0;uM.prototype.set=uP0;Cz=uM});function Or(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(VN8);var Q=function(){var K=arguments,U=J?J.apply(this,K):K[0],X=Q.cache;if(X.has(U))return X.get(U);var Y=Z.apply(this,K);return Q.cache=X.set(U,Y)||X,Y};return Q.cache=new(Or.Cache||Cz),Q}var VN8="Expected a function",pP0;var cP0=f(()=>{qw();Or.Cache=Cz;pP0=Or});function CN8(Z){var J=pP0(Z,function(K){if(Q.size===PN8)Q.clear();return K}),Q=J.cache;return J}var PN8=500,lP0;var dP0=f(()=>{cP0();lP0=CN8});var jN8,SN8,TN8,iP0;var sP0=f(()=>{dP0();jN8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SN8=/\\(\\)?/g,TN8=lP0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(jN8,function(Q,K,U,X){J.push(U?X.replace(SN8,"$1"):K||Q)}),J}),iP0=TN8});function wN8(Z){return Z==null?"":tE0(Z)}var rP0;var nP0=f(()=>{eE0();rP0=wN8});function $N8(Z,J){if(t8(Z))return Z;return yM(Z,J)?[Z]:iP0(rP0(Z))}var rq;var EI=f(()=>{gJ();Xw();sP0();nP0();rq=$N8});function _N8(Z){if(typeof Z=="string"||yq(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-kN8?"-0":J}var kN8=1/0,YX;var gM=f(()=>{GI();YX=_N8});function fN8(Z,J){J=rq(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[YX(J[Q++])];return Q&&Q==K?Z:void 0}var pM;var Ww=f(()=>{EI();gM();pM=fN8});function vN8(Z,J,Q){var K=Z==null?void 0:pM(Z,J);return K===void 0?Q:K}var aP0;var oP0=f(()=>{Ww();aP0=vN8});function xN8(Z,J){var Q=-1,K=J.length,U=Z.length;while(++Q<K)Z[U+Q]=J[Q];return Z}var cM;var Gw=f(()=>{cM=xN8});function bN8(Z){return t8(Z)||pq(Z)||!!(tP0&&Z&&Z[tP0])}var tP0,eP0;var ZC0=f(()=>{Pz();MI();gJ();tP0=h7?h7.isConcatSpreadable:void 0;eP0=bN8});function JC0(Z,J,Q,K,U){var X=-1,Y=Z.length;Q||(Q=eP0),U||(U=[]);while(++X<Y){var q=Z[X];if(J>0&&Q(q))if(J>1)JC0(q,J-1,Q,K,U);else cM(U,q);else if(!K)U[U.length]=q}return U}var lM;var zw=f(()=>{Gw();ZC0();lM=JC0});function yN8(Z){var J=Z==null?0:Z.length;return J?lM(Z,1):[]}var E7;var QC0=f(()=>{zw();E7=yN8});var hN8,Hw;var Rr=f(()=>{Fr();hN8=Kw(Object.getPrototypeOf,Object),Hw=hN8});function mN8(Z,J,Q){var K=-1,U=Z.length;if(J<0)J=-J>U?0:U+J;if(Q=Q>U?U:Q,Q<0)Q+=U;U=J>Q?0:Q-J>>>0,J>>>=0;var X=Array(U);while(++K<U)X[K]=Z[K+J];return X}var Fw;var Lr=f(()=>{Fw=mN8});function uN8(Z,J,Q,K){var U=-1,X=Z==null?0:Z.length;if(K&&X)Q=Z[++U];while(++U<X)Q=J(Q,Z[U],U,Z);return Q}var KC0;var UC0=f(()=>{KC0=uN8});function gN8(){this.__data__=new dq,this.size=0}var XC0;var YC0=f(()=>{AI();XC0=gN8});function pN8(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var qC0;var WC0=f(()=>{qC0=pN8});function cN8(Z){return this.__data__.get(Z)}var GC0;var zC0=f(()=>{GC0=cN8});function lN8(Z){return this.__data__.has(Z)}var HC0;var FC0=f(()=>{HC0=lN8});function iN8(Z,J){var Q=this.__data__;if(Q instanceof dq){var K=Q.__data__;if(!iq||K.length<dN8-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new Cz(K)}return Q.set(Z,J),this.size=Q.size,this}var dN8=200,MC0;var BC0=f(()=>{AI();Yw();qw();MC0=iN8});function dM(Z){var J=this.__data__=new dq(Z);this.size=J.size}var nq;var Mw=f(()=>{AI();YC0();WC0();zC0();FC0();BC0();dM.prototype.clear=XC0;dM.prototype.delete=qC0;dM.prototype.get=GC0;dM.prototype.has=HC0;dM.prototype.set=MC0;nq=dM});function sN8(Z,J){return Z&&JX(J,t9(J),Z)}var OC0;var RC0=f(()=>{$M();XX();OC0=sN8});function rN8(Z,J){return Z&&JX(J,cq(J),Z)}var LC0;var DC0=f(()=>{$M();LI();LC0=rN8});var Ow={};LZ(Ow,{default:()=>Dr});function aN8(Z,J){if(J)return Z.slice();var Q=Z.length,K=NC0?NC0(Q):new Z.constructor(Q);return Z.copy(K),K}var EC0,IC0,nN8,AC0,NC0,Dr;var VC0=f(()=>{$5();EC0=typeof Ow=="object"&&Ow&&!Ow.nodeType&&Ow,IC0=EC0&&typeof Bw=="object"&&Bw&&!Bw.nodeType&&Bw,nN8=IC0&&IC0.exports===EC0,AC0=nN8?q7.Buffer:void 0,NC0=AC0?AC0.allocUnsafe:void 0;Dr=aN8});function oN8(Z,J){var Q=-1,K=Z==null?0:Z.length,U=0,X=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))X[U++]=Y}return X}var iM;var Rw=f(()=>{iM=oN8});function tN8(){return[]}var Lw;var Ir=f(()=>{Lw=tN8});var eN8,ZE8,PC0,JE8,sM;var Dw=f(()=>{Rw();Ir();eN8=Object.prototype,ZE8=eN8.propertyIsEnumerable,PC0=Object.getOwnPropertySymbols,JE8=!PC0?Lw:function(Z){if(Z==null)return[];return Z=Object(Z),iM(PC0(Z),function(J){return ZE8.call(Z,J)})},sM=JE8});function QE8(Z,J){return JX(Z,sM(Z),J)}var CC0;var jC0=f(()=>{$M();Dw();CC0=QE8});var KE8,UE8,Iw;var Ar=f(()=>{Gw();Rr();Dw();Ir();KE8=Object.getOwnPropertySymbols,UE8=!KE8?Lw:function(Z){var J=[];while(Z)cM(J,sM(Z)),Z=Hw(Z);return J},Iw=UE8});function XE8(Z,J){return JX(Z,Iw(Z),J)}var SC0;var TC0=f(()=>{$M();Ar();SC0=XE8});function YE8(Z,J,Q){var K=J(Z);return t8(Z)?K:cM(K,Q(Z))}var Aw;var Nr=f(()=>{Gw();gJ();Aw=YE8});function qE8(Z){return Aw(Z,t9,sM)}var VI;var Er=f(()=>{Nr();Dw();XX();VI=qE8});function WE8(Z){return Aw(Z,cq,Iw)}var Nw;var Vr=f(()=>{Nr();Ar();LI();Nw=WE8});var GE8,Ew;var wC0=f(()=>{hq();$5();GE8=e6(q7,"DataView"),Ew=GE8});var zE8,Vw;var $C0=f(()=>{hq();$5();zE8=e6(q7,"Promise"),Vw=zE8});var HE8,aq;var Pr=f(()=>{hq();$5();HE8=e6(q7,"Set"),aq=HE8});var kC0="[object Map]",FE8="[object Object]",_C0="[object Promise]",fC0="[object Set]",vC0="[object WeakMap]",xC0="[object DataView]",ME8,BE8,OE8,RE8,LE8,jz,v5;var rM=f(()=>{wC0();Yw();$C0();Pr();DV0();bq();Kr();ME8=jY(Ew),BE8=jY(iq),OE8=jY(Vw),RE8=jY(aq),LE8=jY(cT),jz=G6;if(Ew&&jz(new Ew(new ArrayBuffer(1)))!=xC0||iq&&jz(new iq)!=kC0||Vw&&jz(Vw.resolve())!=_C0||aq&&jz(new aq)!=fC0||cT&&jz(new cT)!=vC0)jz=function(Z){var J=G6(Z),Q=J==FE8?Z.constructor:void 0,K=Q?jY(Q):"";if(K)switch(K){case ME8:return xC0;case BE8:return kC0;case OE8:return _C0;case RE8:return fC0;case LE8:return vC0}return J};v5=jz});function AE8(Z){var J=Z.length,Q=new Z.constructor(J);if(J&&typeof Z[0]=="string"&&IE8.call(Z,"index"))Q.index=Z.index,Q.input=Z.input;return Q}var DE8,IE8,bC0;var yC0=f(()=>{DE8=Object.prototype,IE8=DE8.hasOwnProperty;bC0=AE8});var NE8,nM;var Cr=f(()=>{$5();NE8=q7.Uint8Array,nM=NE8});function EE8(Z){var J=new Z.constructor(Z.byteLength);return new nM(J).set(new nM(Z)),J}var aM;var Pw=f(()=>{Cr();aM=EE8});function VE8(Z,J){var Q=J?aM(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.byteLength)}var hC0;var mC0=f(()=>{Pw();hC0=VE8});function CE8(Z){var J=new Z.constructor(Z.source,PE8.exec(Z));return J.lastIndex=Z.lastIndex,J}var PE8,uC0;var gC0=f(()=>{PE8=/\w*$/;uC0=CE8});function jE8(Z){return cC0?Object(cC0.call(Z)):{}}var pC0,cC0,lC0;var dC0=f(()=>{Pz();pC0=h7?h7.prototype:void 0,cC0=pC0?pC0.valueOf:void 0;lC0=jE8});function SE8(Z,J){var Q=J?aM(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.length)}var iC0;var sC0=f(()=>{Pw();iC0=SE8});function sE8(Z,J,Q){var K=Z.constructor;switch(J){case bE8:return aM(Z);case TE8:case wE8:return new K(+Z);case yE8:return hC0(Z,Q);case hE8:case mE8:case uE8:case gE8:case pE8:case cE8:case lE8:case dE8:case iE8:return iC0(Z,Q);case $E8:return new K;case kE8:case vE8:return new K(Z);case _E8:return uC0(Z);case fE8:return new K;case xE8:return lC0(Z)}}var TE8="[object Boolean]",wE8="[object Date]",$E8="[object Map]",kE8="[object Number]",_E8="[object RegExp]",fE8="[object Set]",vE8="[object String]",xE8="[object Symbol]",bE8="[object ArrayBuffer]",yE8="[object DataView]",hE8="[object Float32Array]",mE8="[object Float64Array]",uE8="[object Int8Array]",gE8="[object Int16Array]",pE8="[object Int32Array]",cE8="[object Uint8Array]",lE8="[object Uint8ClampedArray]",dE8="[object Uint16Array]",iE8="[object Uint32Array]",rC0;var nC0=f(()=>{Pw();mC0();gC0();dC0();sC0();rC0=sE8});function rE8(Z){return typeof Z.constructor=="function"&&!QX(Z)?AV0(Hw(Z)):{}}var aC0;var oC0=f(()=>{NV0();Rr();fM();aC0=rE8});function aE8(Z){return aJ(Z)&&v5(Z)==nE8}var nE8="[object Map]",tC0;var eC0=f(()=>{rM();k5();tC0=aE8});var Zj0,oE8,Jj0;var Qj0=f(()=>{eC0();vM();RI();Zj0=m4&&m4.isMap,oE8=Zj0?UX(Zj0):tC0,Jj0=oE8});function eE8(Z){return aJ(Z)&&v5(Z)==tE8}var tE8="[object Set]",Kj0;var Uj0=f(()=>{rM();k5();Kj0=eE8});var Xj0,ZV8,Yj0;var qj0=f(()=>{Uj0();vM();RI();Xj0=m4&&m4.isSet,ZV8=Xj0?UX(Xj0):Kj0,Yj0=ZV8});function Cw(Z,J,Q,K,U,X){var Y,q=J&JV8,W=J&QV8,G=J&KV8;if(Q)Y=U?Q(Z,K,U,X):Q(Z);if(Y!==void 0)return Y;if(!_J(Z))return Z;var z=t8(Z);if(z){if(Y=bC0(Z),!q)return PV0(Z,Y)}else{var H=v5(Z),F=H==Gj0||H==WV8;if(KX(Z))return Dr(Z,q);if(H==zj0||H==Wj0||F&&!U){if(Y=W||F?{}:aC0(Z),!q)return W?SC0(Z,LC0(Y,Z)):CC0(Z,OC0(Y,Z))}else{if(!e9[H])return U?Z:{};Y=rC0(Z,H,q)}}X||(X=new nq);var M=X.get(Z);if(M)return M;if(X.set(Z,Y),Yj0(Z))Z.forEach(function(R){Y.add(Cw(R,J,Q,R,Z,X))});else if(Jj0(Z))Z.forEach(function(R,L){Y.set(L,Cw(R,J,Q,L,Z,X))});var B=G?W?Nw:VI:W?cq:t9,O=z?void 0:B(Z);return lT(O||Z,function(R,L){if(O)L=R,R=Z[L];uq(Y,L,Cw(R,J,Q,L,Z,X))}),Y}var JV8=1,QV8=2,KV8=4,Wj0="[object Arguments]",UV8="[object Array]",XV8="[object Boolean]",YV8="[object Date]",qV8="[object Error]",Gj0="[object Function]",WV8="[object GeneratorFunction]",GV8="[object Map]",zV8="[object Number]",zj0="[object Object]",HV8="[object RegExp]",FV8="[object Set]",MV8="[object String]",BV8="[object Symbol]",OV8="[object WeakMap]",RV8="[object ArrayBuffer]",LV8="[object DataView]",DV8="[object Float32Array]",IV8="[object Float64Array]",AV8="[object Int8Array]",NV8="[object Int16Array]",EV8="[object Int32Array]",VV8="[object Uint8Array]",PV8="[object Uint8ClampedArray]",CV8="[object Uint16Array]",jV8="[object Uint32Array]",e9,Hj0;var Fj0=f(()=>{Mw();Yr();HI();RC0();DC0();VC0();CV0();jC0();TC0();Er();Vr();rM();yC0();nC0();oC0();gJ();BI();Qj0();_5();qj0();XX();LI();e9={};e9[Wj0]=e9[UV8]=e9[RV8]=e9[LV8]=e9[XV8]=e9[YV8]=e9[DV8]=e9[IV8]=e9[AV8]=e9[NV8]=e9[EV8]=e9[GV8]=e9[zV8]=e9[zj0]=e9[HV8]=e9[FV8]=e9[MV8]=e9[BV8]=e9[VV8]=e9[PV8]=e9[CV8]=e9[jV8]=!0;e9[qV8]=e9[Gj0]=e9[OV8]=!1;Hj0=Cw});function TV8(Z){return Hj0(Z,SV8)}var SV8=4,ZJ;var Mj0=f(()=>{Fj0();ZJ=TV8});function wV8(Z){var J=-1,Q=Z==null?0:Z.length,K=0,U=[];while(++J<Q){var X=Z[J];if(X)U[K++]=X}return U}var qX;var Bj0=f(()=>{qX=wV8});function kV8(Z){return this.__data__.set(Z,$V8),this}var $V8="__lodash_hash_undefined__",Oj0;var Rj0=f(()=>{Oj0=kV8});function _V8(Z){return this.__data__.has(Z)}var Lj0;var Dj0=f(()=>{Lj0=_V8});function jw(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new Cz;while(++J<Q)this.add(Z[J])}var oM;var Sw=f(()=>{qw();Rj0();Dj0();jw.prototype.add=jw.prototype.push=Oj0;jw.prototype.has=Lj0;oM=jw});function fV8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var Tw;var jr=f(()=>{Tw=fV8});function vV8(Z,J){return Z.has(J)}var tM;var ww=f(()=>{tM=vV8});function yV8(Z,J,Q,K,U,X){var Y=Q&xV8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=X.get(Z),z=X.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&bV8?new oM:void 0;X.set(Z,J),X.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,X):K(B,O,H,Z,J,X);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!Tw(J,function(L,D){if(!tM(M,D)&&(B===L||U(B,L,Q,K,X)))return M.push(D)})){F=!1;break}}else if(!(B===O||U(B,O,Q,K,X))){F=!1;break}}return X.delete(Z),X.delete(J),F}var xV8=1,bV8=2,$w;var Sr=f(()=>{Sw();jr();ww();$w=yV8});function hV8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,U){Q[++J]=[U,K]}),Q}var Ij0;var Aj0=f(()=>{Ij0=hV8});function mV8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var eM;var kw=f(()=>{eM=mV8});function eV8(Z,J,Q,K,U,X,Y){switch(Q){case tV8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case oV8:if(Z.byteLength!=J.byteLength||!X(new nM(Z),new nM(J)))return!1;return!0;case pV8:case cV8:case iV8:return ZX(+Z,+J);case lV8:return Z.name==J.name&&Z.message==J.message;case sV8:case nV8:return Z==J+"";case dV8:var q=Ij0;case rV8:var W=K&uV8;if(q||(q=eM),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=gV8,Y.set(Z,J);var z=$w(q(Z),q(J),K,U,X,Y);return Y.delete(Z),z;case aV8:if(Tr)return Tr.call(Z)==Tr.call(J)}return!1}var uV8=1,gV8=2,pV8="[object Boolean]",cV8="[object Date]",lV8="[object Error]",dV8="[object Map]",iV8="[object Number]",sV8="[object RegExp]",rV8="[object Set]",nV8="[object String]",aV8="[object Symbol]",oV8="[object ArrayBuffer]",tV8="[object DataView]",Nj0,Tr,Ej0;var Vj0=f(()=>{Pz();Cr();wM();Sr();Aj0();kw();Nj0=h7?h7.prototype:void 0,Tr=Nj0?Nj0.valueOf:void 0;Ej0=eV8});function KP8(Z,J,Q,K,U,X){var Y=Q&ZP8,q=VI(Z),W=q.length,G=VI(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:QP8.call(J,F)))return!1}var M=X.get(Z),B=X.get(J);if(M&&B)return M==J&&B==Z;var O=!0;X.set(Z,J),X.set(J,Z);var R=Y;while(++H<W){F=q[H];var L=Z[F],D=J[F];if(K)var A=Y?K(D,L,F,J,Z,X):K(L,D,F,Z,J,X);if(!(A===void 0?L===D||U(L,D,Q,K,X):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return X.delete(Z),X.delete(J),O}var ZP8=1,JP8,QP8,Pj0;var Cj0=f(()=>{Er();JP8=Object.prototype,QP8=JP8.hasOwnProperty;Pj0=KP8});function YP8(Z,J,Q,K,U,X){var Y=t8(Z),q=t8(J),W=Y?Sj0:v5(Z),G=q?Sj0:v5(J);W=W==jj0?_w:W,G=G==jj0?_w:G;var z=W==_w,H=G==_w,F=W==G;if(F&&KX(Z)){if(!KX(J))return!1;Y=!0,z=!1}if(F&&!z)return X||(X=new nq),Y||xM(Z)?$w(Z,J,Q,K,U,X):Ej0(Z,J,W,Q,K,U,X);if(!(Q&UP8)){var M=z&&Tj0.call(Z,"__wrapped__"),B=H&&Tj0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return X||(X=new nq),U(O,R,Q,K,X)}}if(!F)return!1;return X||(X=new nq),Pj0(Z,J,Q,K,U,X)}var UP8=1,jj0="[object Arguments]",Sj0="[object Array]",_w="[object Object]",XP8,Tj0,wj0;var $j0=f(()=>{Mw();Sr();Vj0();Cj0();rM();gJ();BI();Jw();XP8=Object.prototype,Tj0=XP8.hasOwnProperty;wj0=YP8});function kj0(Z,J,Q,K,U){if(Z===J)return!0;if(Z==null||J==null||!aJ(Z)&&!aJ(J))return Z!==Z&&J!==J;return wj0(Z,J,Q,K,kj0,U)}var fw;var wr=f(()=>{$j0();k5();fw=kj0});function GP8(Z,J,Q,K){var U=Q.length,X=U,Y=!K;if(Z==null)return!X;Z=Object(Z);while(U--){var q=Q[U];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++U<X){q=Q[U];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new nq;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?fw(z,G,qP8|WP8,K,H):F))return!1}}return!0}var qP8=1,WP8=2,_j0;var fj0=f(()=>{Mw();wr();_j0=GP8});function zP8(Z){return Z===Z&&!_J(Z)}var vw;var $r=f(()=>{_5();vw=zP8});function HP8(Z){var J=t9(Z),Q=J.length;while(Q--){var K=J[Q],U=Z[K];J[Q]=[K,U,vw(U)]}return J}var vj0;var xj0=f(()=>{$r();XX();vj0=HP8});function FP8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var xw;var kr=f(()=>{xw=FP8});function MP8(Z){var J=vj0(Z);if(J.length==1&&J[0][2])return xw(J[0][0],J[0][1]);return function(Q){return Q===Z||_j0(Q,Z,J)}}var bj0;var yj0=f(()=>{fj0();xj0();kr();bj0=MP8});function BP8(Z,J){return Z!=null&&J in Object(Z)}var hj0;var mj0=f(()=>{hj0=BP8});function OP8(Z,J,Q){J=rq(J,Z);var K=-1,U=J.length,X=!1;while(++K<U){var Y=YX(J[K]);if(!(X=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(X||++K!=U)return X;return U=Z==null?0:Z.length,!!U&&_M(U)&&mq(Y,U)&&(t8(Z)||pq(Z))}var bw;var _r=f(()=>{EI();MI();gJ();zI();aT();gM();bw=OP8});function RP8(Z,J){return Z!=null&&bw(Z,J,hj0)}var uj0;var gj0=f(()=>{mj0();_r();uj0=RP8});function IP8(Z,J){if(yM(Z)&&vw(J))return xw(YX(Z),J);return function(Q){var K=aP0(Q,Z);return K===void 0&&K===J?uj0(Q,Z):fw(J,K,LP8|DP8)}}var LP8=1,DP8=2,pj0;var cj0=f(()=>{wr();oP0();gj0();Xw();$r();kr();gM();pj0=IP8});function AP8(Z){return function(J){return J==null?void 0:J[Z]}}var lj0;var dj0=f(()=>{lj0=AP8});function NP8(Z){return function(J){return pM(J,Z)}}var ij0;var sj0=f(()=>{Ww();ij0=NP8});function EP8(Z){return yM(Z)?lj0(YX(Z)):ij0(Z)}var rj0;var nj0=f(()=>{dj0();sj0();Xw();gM();rj0=EP8});function VP8(Z){if(typeof Z=="function")return Z;if(Z==null)return wK;if(typeof Z=="object")return t8(Z)?pj0(Z[0],Z[1]):bj0(Z);return rj0(Z)}var G7;var x5=f(()=>{yj0();cj0();CM();gJ();nj0();G7=VP8});function PP8(Z,J,Q,K){var U=-1,X=Z==null?0:Z.length;while(++U<X){var Y=Z[U];J(K,Y,Q(Y),Z)}return K}var aj0;var oj0=f(()=>{aj0=PP8});function CP8(Z){return function(J,Q,K){var U=-1,X=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++U];if(Q(X[W],W,X)===!1)break}return J}}var tj0;var ej0=f(()=>{tj0=CP8});var jP8,ZS0;var JS0=f(()=>{ej0();jP8=tj0(),ZS0=jP8});function SP8(Z,J){return Z&&ZS0(Z,J,t9)}var QS0;var KS0=f(()=>{JS0();XX();QS0=SP8});function TP8(Z,J){return function(Q,K){if(Q==null)return Q;if(!W7(Q))return Z(Q,K);var U=Q.length,X=J?U:-1,Y=Object(Q);while(J?X--:++X<U)if(K(Y[X],X,Y)===!1)break;return Q}}var US0;var XS0=f(()=>{f5();US0=TP8});var wP8,Z4;var oq=f(()=>{KS0();XS0();wP8=US0(QS0),Z4=wP8});function $P8(Z,J,Q,K){return Z4(Z,function(U,X,Y){J(K,U,Q(U),Y)}),K}var YS0;var qS0=f(()=>{oq();YS0=$P8});function kP8(Z,J){return function(Q,K){var U=t8(Q)?aj0:YS0,X=J?J():{};return U(Q,Z,G7(K,2),X)}}var WS0;var GS0=f(()=>{oj0();qS0();x5();gJ();WS0=kP8});var zS0,_P8,fP8,ZB;var HS0=f(()=>{nT();wM();FI();LI();zS0=Object.prototype,_P8=zS0.hasOwnProperty,fP8=kM(function(Z,J){Z=Object(Z);var Q=-1,K=J.length,U=K>2?J[2]:void 0;if(U&&gq(J[0],J[1],U))K=1;while(++Q<K){var X=J[Q],Y=cq(X),q=-1,W=Y.length;while(++q<W){var G=Y[q],z=Z[G];if(z===void 0||ZX(z,zS0[G])&&!_P8.call(Z,G))Z[G]=X[G]}}return Z}),ZB=fP8});function vP8(Z){return aJ(Z)&&W7(Z)}var fr;var FS0=f(()=>{f5();k5();fr=vP8});function xP8(Z,J,Q){var K=-1,U=Z==null?0:Z.length;while(++K<U)if(Q(J,Z[K]))return!0;return!1}var yw;var vr=f(()=>{yw=xP8});function yP8(Z,J,Q,K){var U=-1,X=sT,Y=!0,q=Z.length,W=[],G=J.length;if(!q)return W;if(Q)J=tU(J,UX(Q));if(K)X=yw,Y=!1;else if(J.length>=bP8)X=tM,Y=!1,J=new oM(J);Z:while(++U<q){var z=Z[U],H=Q==null?z:Q(z);if(z=K||z!==0?z:0,Y&&H===H){var F=G;while(F--)if(J[F]===H)continue Z;W.push(z)}else if(!X(J,H,K))W.push(z)}return W}var bP8=200,MS0;var BS0=f(()=>{Sw();Wr();vr();VM();vM();ww();MS0=yP8});var hP8,tq;var OS0=f(()=>{BS0();zw();nT();FS0();hP8=kM(function(Z,J){return fr(Z)?MS0(Z,lM(J,1,fr,!0)):[]}),tq=hP8});function mP8(Z){var J=Z==null?0:Z.length;return J?Z[J-1]:void 0}var WX;var RS0=f(()=>{WX=mP8});function uP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:eU(J),Fw(Z,J<0?0:J,K)}var oJ;var LS0=f(()=>{Lr();PM();oJ=uP8});function gP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:eU(J),J=K-J,Fw(Z,0,J<0?0:J)}var TY;var DS0=f(()=>{Lr();PM();TY=gP8});function pP8(Z){return typeof Z=="function"?Z:wK}var IS0;var AS0=f(()=>{CM();IS0=pP8});function cP8(Z,J){var Q=t8(Z)?lT:Z4;return Q(Z,IS0(J))}var r8;var NS0=f(()=>{Yr();oq();AS0();gJ();r8=cP8});function lP8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(!J(Z[Q],Q,Z))return!1;return!0}var ES0;var VS0=f(()=>{ES0=lP8});function dP8(Z,J){var Q=!0;return Z4(Z,function(K,U,X){return Q=!!J(K,U,X),Q}),Q}var PS0;var CS0=f(()=>{oq();PS0=dP8});function iP8(Z,J,Q){var K=t8(Z)?ES0:PS0;if(Q&&gq(Z,J,Q))J=void 0;return K(Z,G7(J,3))}var J4;var jS0=f(()=>{VS0();CS0();x5();gJ();FI();J4=iP8});function sP8(Z,J){var Q=[];return Z4(Z,function(K,U,X){if(J(K,U,X))Q.push(K)}),Q}var hw;var xr=f(()=>{oq();hw=sP8});function rP8(Z,J){var Q=t8(Z)?iM:hw;return Q(Z,G7(J,3))}var vQ;var SS0=f(()=>{Rw();xr();x5();gJ();vQ=rP8});function nP8(Z){return function(J,Q,K){var U=Object(J);if(!W7(J)){var X=G7(Q,3);J=t9(J),Q=function(q){return X(U[q],q,U)}}var Y=Z(J,Q,K);return Y>-1?U[X?J[Y]:Y]:void 0}}var TS0;var wS0=f(()=>{x5();f5();XX();TS0=nP8});function oP8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var U=Q==null?0:eU(Q);if(U<0)U=aP8(K+U,0);return dT(Z,G7(J,3),U)}var aP8,$S0;var kS0=f(()=>{qr();x5();PM();aP8=Math.max;$S0=oP8});var tP8,GX;var _S0=f(()=>{wS0();kS0();tP8=TS0($S0),GX=tP8});function eP8(Z){return Z&&Z.length?Z[0]:void 0}var m7;var fS0=f(()=>{m7=eP8});var vS0=f(()=>{fS0()});function ZC8(Z,J){var Q=-1,K=W7(Z)?Array(Z.length):[];return Z4(Z,function(U,X,Y){K[++Q]=J(U,X,Y)}),K}var xS0;var bS0=f(()=>{oq();f5();xS0=ZC8});function JC8(Z,J){var Q=t8(Z)?tU:xS0;return Q(Z,G7(J,3))}var l8;var br=f(()=>{VM();x5();bS0();gJ();l8=JC8});function QC8(Z,J){return lM(l8(Z,J),1)}var H6;var yS0=f(()=>{zw();br();H6=QC8});var KC8,UC8,XC8,yr;var hS0=f(()=>{rT();GS0();KC8=Object.prototype,UC8=KC8.hasOwnProperty,XC8=WS0(function(Z,J,Q){if(UC8.call(Z,Q))Z[Q].push(J);else TM(Z,Q,[J])}),yr=XC8});function WC8(Z,J){return Z!=null&&qC8.call(Z,J)}var YC8,qC8,mS0;var uS0=f(()=>{YC8=Object.prototype,qC8=YC8.hasOwnProperty;mS0=WC8});function GC8(Z,J){return Z!=null&&bw(Z,J,mS0)}var n8;var gS0=f(()=>{uS0();_r();n8=GC8});function HC8(Z){return typeof Z=="string"||!t8(Z)&&aJ(Z)&&G6(Z)==zC8}var zC8="[object String]",F6;var hr=f(()=>{bq();gJ();k5();F6=HC8});function FC8(Z,J){return tU(J,function(Q){return Z[Q]})}var pS0;var cS0=f(()=>{VM();pS0=FC8});function MC8(Z){return Z==null?[]:pS0(Z,t9(Z))}var h9;var mr=f(()=>{cS0();XX();h9=MC8});function OC8(Z,J,Q,K){Z=W7(Z)?Z:h9(Z),Q=Q&&!K?eU(Q):0;var U=Z.length;if(Q<0)Q=BC8(U+Q,0);return F6(Z)?Q<=U&&Z.indexOf(J,Q)>-1:!!U&&SM(Z,J,Q)>-1}var BC8,pJ;var lS0=f(()=>{iT();f5();hr();PM();mr();BC8=Math.max;pJ=OC8});function LC8(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var U=Q==null?0:eU(Q);if(U<0)U=RC8(K+U,0);return SM(Z,J,U)}var RC8,mw;var dS0=f(()=>{iT();PM();RC8=Math.max;mw=LC8});function EC8(Z){if(Z==null)return!0;if(W7(Z)&&(t8(Z)||typeof Z=="string"||typeof Z.splice=="function"||KX(Z)||xM(Z)||pq(Z)))return!Z.length;var J=v5(Z);if(J==DC8||J==IC8)return!Z.size;if(QX(Z))return!Uw(Z).length;for(var Q in Z)if(NC8.call(Z,Q))return!1;return!0}var DC8="[object Map]",IC8="[object Set]",AC8,NC8,lZ;var iS0=f(()=>{Mr();rM();MI();gJ();f5();BI();fM();Jw();AC8=Object.prototype,NC8=AC8.hasOwnProperty;lZ=EC8});function PC8(Z){return aJ(Z)&&G6(Z)==VC8}var VC8="[object RegExp]",sS0;var rS0=f(()=>{bq();k5();sS0=PC8});var nS0,CC8,zX;var aS0=f(()=>{rS0();vM();RI();nS0=m4&&m4.isRegExp,CC8=nS0?UX(nS0):sS0,zX=CC8});function jC8(Z){return Z===void 0}var xQ;var oS0=f(()=>{xQ=jC8});function TC8(Z){if(typeof Z!="function")throw TypeError(SC8);return function(){var J=arguments;switch(J.length){case 0:return!Z.call(this);case 1:return!Z.call(this,J[0]);case 2:return!Z.call(this,J[0],J[1]);case 3:return!Z.call(this,J[0],J[1],J[2])}return!Z.apply(this,J)}}var SC8="Expected a function",tS0;var eS0=f(()=>{tS0=TC8});function wC8(Z,J,Q,K){if(!_J(Z))return Z;J=rq(J,Z);var U=-1,X=J.length,Y=X-1,q=Z;while(q!=null&&++U<X){var W=YX(J[U]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(U!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=_J(z)?z:mq(J[U+1])?[]:{}}uq(q,W,G),q=q[W]}return Z}var ZT0;var JT0=f(()=>{HI();EI();zI();_5();gM();ZT0=wC8});function $C8(Z,J,Q){var K=-1,U=J.length,X={};while(++K<U){var Y=J[K],q=pM(Z,Y);if(Q(q,Y))ZT0(X,rq(Y,Z),q)}return X}var QT0;var KT0=f(()=>{Ww();JT0();EI();QT0=$C8});function kC8(Z,J){if(Z==null)return{};var Q=tU(Nw(Z),function(K){return[K]});return J=G7(J),QT0(Z,Q,function(K,U){return J(K,U[0])})}var ur;var UT0=f(()=>{VM();x5();KT0();Vr();ur=kC8});function _C8(Z,J,Q,K,U){return U(Z,function(X,Y,q){Q=K?(K=!1,X):J(Q,X,Y,q)}),Q}var XT0;var YT0=f(()=>{XT0=_C8});function fC8(Z,J,Q){var K=t8(Z)?KC0:XT0,U=arguments.length<3;return K(Z,G7(J,4),Q,U,Z4)}var z7;var qT0=f(()=>{UC0();oq();x5();YT0();gJ();z7=fC8});function vC8(Z,J){var Q=t8(Z)?iM:hw;return Q(Z,tS0(G7(J,3)))}var eq;var WT0=f(()=>{Rw();xr();x5();gJ();eS0();eq=vC8});function xC8(Z,J){var Q;return Z4(Z,function(K,U,X){return Q=J(K,U,X),!Q}),!!Q}var GT0;var zT0=f(()=>{oq();GT0=xC8});function bC8(Z,J,Q){var K=t8(Z)?Tw:GT0;if(Q&&gq(Z,J,Q))J=void 0;return K(Z,G7(J,3))}var gr;var HT0=f(()=>{jr();x5();zT0();gJ();FI();gr=bC8});var yC8=1/0,hC8,FT0;var MT0=f(()=>{Pr();Ur();kw();hC8=!(aq&&1/eM(new aq([,-0]))[1]==yC8)?fJ:function(Z){return new aq(Z)},FT0=hC8});function uC8(Z,J,Q){var K=-1,U=sT,X=Z.length,Y=!0,q=[],W=q;if(Q)Y=!1,U=yw;else if(X>=mC8){var G=J?null:FT0(Z);if(G)return eM(G);Y=!1,U=tM,W=new oM}else W=J?[]:q;Z:while(++K<X){var z=Z[K],H=J?J(z):z;if(z=Q||z!==0?z:0,Y&&H===H){var F=W.length;while(F--)if(W[F]===H)continue Z;if(J)W.push(H);q.push(z)}else if(!U(W,H,Q)){if(W!==q)W.push(H);q.push(z)}}return q}var mC8=200,BT0;var OT0=f(()=>{Sw();Wr();vr();ww();MT0();kw();BT0=uC8});function gC8(Z){return Z&&Z.length?BT0(Z):[]}var JB;var RT0=f(()=>{OT0();JB=gC8});var m9=f(()=>{UP0();Mj0();Bj0();HS0();OS0();LS0();DS0();jS0();SS0();_S0();vS0();yS0();QC0();NS0();hS0();gS0();CM();lS0();dS0();gJ();iS0();gT();_5();aS0();hr();oS0();XX();RS0();br();Ur();UT0();qT0();WT0();HT0();RT0();mr()});function QB(Z){if(console&&console.error)console.error(`Error: ${Z}`)}function PI(Z){if(console&&console.warn)console.warn(`Warning: ${Z}`)}function CI(Z){let J=new Date().getTime(),Q=Z();return{time:new Date().getTime()-J,value:Q}}function jI(Z){function J(){}J.prototype=Z;let Q=new J;function K(){return typeof Q.bar}return K(),K(),Z;(0,eval)(Z)}var KB=()=>{};var pC8,uw;var pr=f(()=>{pC8=typeof global=="object"&&global&&global.Object===Object&&global,uw=pC8});var cC8,lC8,u7;var HX=f(()=>{pr();cC8=typeof self=="object"&&self&&self.Object===Object&&self,lC8=uw||cC8||Function("return this")(),u7=lC8});var dC8,$K;var SI=f(()=>{HX();dC8=u7.Symbol,$K=dC8});function rC8(Z){var J=iC8.call(Z,TI),Q=Z[TI];try{Z[TI]=void 0;var K=!0}catch(X){}var U=sC8.call(Z);if(K)if(J)Z[TI]=Q;else delete Z[TI];return U}var LT0,iC8,sC8,TI,DT0;var IT0=f(()=>{SI();LT0=Object.prototype,iC8=LT0.hasOwnProperty,sC8=LT0.toString,TI=$K?$K.toStringTag:void 0;DT0=rC8});function oC8(Z){return aC8.call(Z)}var nC8,aC8,AT0;var NT0=f(()=>{nC8=Object.prototype,aC8=nC8.toString;AT0=oC8});function Zj8(Z){if(Z==null)return Z===void 0?eC8:tC8;return ET0&&ET0 in Object(Z)?DT0(Z):AT0(Z)}var tC8="[object Null]",eC8="[object Undefined]",ET0,M6;var ZW=f(()=>{SI();IT0();NT0();ET0=$K?$K.toStringTag:void 0;M6=Zj8});function Jj8(Z){return Z!=null&&typeof Z=="object"}var B6;var JW=f(()=>{B6=Jj8});function Kj8(Z){return typeof Z=="symbol"||B6(Z)&&M6(Z)==Qj8}var Qj8="[object Symbol]",QW;var wI=f(()=>{ZW();JW();QW=Kj8});function Uj8(Z,J){var Q=-1,K=Z==null?0:Z.length,U=Array(K);while(++Q<K)U[Q]=J(Z[Q],Q,Z);return U}var KW;var $I=f(()=>{KW=Uj8});var Xj8,d9;var Q4=f(()=>{Xj8=Array.isArray,d9=Xj8});function CT0(Z){if(typeof Z=="string")return Z;if(d9(Z))return KW(Z,CT0)+"";if(QW(Z))return PT0?PT0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-Yj8?"-0":J}var Yj8=1/0,VT0,PT0,jT0;var ST0=f(()=>{SI();$I();Q4();wI();VT0=$K?$K.prototype:void 0,PT0=VT0?VT0.toString:void 0;jT0=CT0});function Wj8(Z){var J=Z.length;while(J--&&qj8.test(Z.charAt(J)));return J}var qj8,TT0;var wT0=f(()=>{qj8=/\s/;TT0=Wj8});function zj8(Z){return Z?Z.slice(0,TT0(Z)+1).replace(Gj8,""):Z}var Gj8,$T0;var kT0=f(()=>{wT0();Gj8=/^\s+/;$T0=zj8});function Hj8(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var bQ;var UW=f(()=>{bQ=Hj8});function Rj8(Z){if(typeof Z=="number")return Z;if(QW(Z))return _T0;if(bQ(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=bQ(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=$T0(Z);var Q=Mj8.test(Z);return Q||Bj8.test(Z)?Oj8(Z.slice(2),Q?2:8):Fj8.test(Z)?_T0:+Z}var _T0=NaN,Fj8,Mj8,Bj8,Oj8,fT0;var vT0=f(()=>{kT0();UW();wI();Fj8=/^[-+]0x[0-9a-f]+$/i,Mj8=/^0b[01]+$/i,Bj8=/^0o[0-7]+$/i,Oj8=parseInt;fT0=Rj8});function Dj8(Z){if(!Z)return Z===0?Z:0;if(Z=fT0(Z),Z===xT0||Z===-xT0){var J=Z<0?-1:1;return J*Lj8}return Z===Z?Z:0}var xT0=1/0,Lj8=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,bT0;var yT0=f(()=>{vT0();bT0=Dj8});function Ij8(Z){var J=bT0(Z),Q=J%1;return J===J?Q?J-Q:J:0}var hT0;var mT0=f(()=>{yT0();hT0=Ij8});function Aj8(Z){return Z}var XW;var kI=f(()=>{XW=Aj8});function Cj8(Z){if(!bQ(Z))return!1;var J=M6(Z);return J==Ej8||J==Vj8||J==Nj8||J==Pj8}var Nj8="[object AsyncFunction]",Ej8="[object Function]",Vj8="[object GeneratorFunction]",Pj8="[object Proxy]",gw;var cr=f(()=>{ZW();UW();gw=Cj8});var jj8,pw;var uT0=f(()=>{HX();jj8=u7["__core-js_shared__"],pw=jj8});function Sj8(Z){return!!gT0&&gT0 in Z}var gT0,pT0;var cT0=f(()=>{uT0();gT0=function(){var Z=/[^.]+$/.exec(pw&&pw.keys&&pw.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}();pT0=Sj8});function $j8(Z){if(Z!=null){try{return wj8.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var Tj8,wj8,wY;var lr=f(()=>{Tj8=Function.prototype,wj8=Tj8.toString;wY=$j8});function hj8(Z){if(!bQ(Z)||pT0(Z))return!1;var J=gw(Z)?yj8:_j8;return J.test(wY(Z))}var kj8,_j8,fj8,vj8,xj8,bj8,yj8,lT0;var dT0=f(()=>{cr();cT0();UW();lr();kj8=/[\\^$.*+?()[\]{}|]/g,_j8=/^\[object .+?Constructor\]$/,fj8=Function.prototype,vj8=Object.prototype,xj8=fj8.toString,bj8=vj8.hasOwnProperty,yj8=RegExp("^"+xj8.call(bj8).replace(kj8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");lT0=hj8});function mj8(Z,J){return Z==null?void 0:Z[J]}var iT0;var sT0=f(()=>{iT0=mj8});function uj8(Z,J){var Q=iT0(Z,J);return lT0(Q)?Q:void 0}var K4;var YW=f(()=>{dT0();sT0();K4=uj8});var gj8,cw;var rT0=f(()=>{YW();HX();gj8=K4(u7,"WeakMap"),cw=gj8});function pj8(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var nT0;var aT0=f(()=>{nT0=pj8});function ij8(Z){var J=0,Q=0;return function(){var K=dj8(),U=lj8-(K-Q);if(Q=K,U>0){if(++J>=cj8)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var cj8=800,lj8=16,dj8,oT0;var tT0=f(()=>{dj8=Date.now;oT0=ij8});function sj8(Z){return function(){return Z}}var eT0;var Zw0=f(()=>{eT0=sj8});var rj8,UB;var dr=f(()=>{YW();rj8=function(){try{var Z=K4(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),UB=rj8});var nj8,Jw0;var Qw0=f(()=>{Zw0();dr();kI();nj8=!UB?XW:function(Z,J){return UB(Z,"toString",{configurable:!0,enumerable:!1,value:eT0(J),writable:!0})},Jw0=nj8});var aj8,Kw0;var Uw0=f(()=>{Qw0();tT0();aj8=oT0(Jw0),Kw0=aj8});function oj8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var Xw0;var Yw0=f(()=>{Xw0=oj8});function tj8(Z,J,Q,K){var U=Z.length,X=Q+(K?1:-1);while(K?X--:++X<U)if(J(Z[X],X,Z))return X;return-1}var qw0;var Ww0=f(()=>{qw0=tj8});function ej8(Z){return Z!==Z}var Gw0;var zw0=f(()=>{Gw0=ej8});function ZS8(Z,J,Q){var K=Q-1,U=Z.length;while(++K<U)if(Z[K]===J)return K;return-1}var Hw0;var Fw0=f(()=>{Hw0=ZS8});function JS8(Z,J,Q){return J===J?Hw0(Z,J,Q):qw0(Z,Gw0,Q)}var Mw0;var Bw0=f(()=>{Ww0();zw0();Fw0();Mw0=JS8});function US8(Z,J){var Q=typeof Z;return J=J==null?QS8:J,!!J&&(Q=="number"||Q!="symbol"&&KS8.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var QS8=9007199254740991,KS8,qW;var _I=f(()=>{KS8=/^(?:0|[1-9]\d*)$/;qW=US8});function XS8(Z,J,Q){if(J=="__proto__"&&UB)UB(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var lw;var ir=f(()=>{dr();lw=XS8});function YS8(Z,J){return Z===J||Z!==Z&&J!==J}var WW;var fI=f(()=>{WW=YS8});function GS8(Z,J,Q){var K=Z[J];if(!(WS8.call(Z,J)&&WW(K,Q))||Q===void 0&&!(J in Z))lw(Z,J,Q)}var qS8,WS8,XB;var dw=f(()=>{ir();fI();qS8=Object.prototype,WS8=qS8.hasOwnProperty;XB=GS8});function zS8(Z,J,Q,K){var U=!Q;Q||(Q={});var X=-1,Y=J.length;while(++X<Y){var q=J[X],W=K?K(Q[q],Z[q],q,Q,Z):void 0;if(W===void 0)W=Z[q];if(U)lw(Q,q,W);else XB(Q,q,W)}return Q}var Ow0;var Rw0=f(()=>{dw();ir();Ow0=zS8});function HS8(Z,J,Q){return J=Lw0(J===void 0?Z.length-1:J,0),function(){var K=arguments,U=-1,X=Lw0(K.length-J,0),Y=Array(X);while(++U<X)Y[U]=K[J+U];U=-1;var q=Array(J+1);while(++U<J)q[U]=K[U];return q[J]=Q(Y),nT0(Z,this,q)}}var Lw0,Dw0;var Iw0=f(()=>{aT0();Lw0=Math.max;Dw0=HS8});function FS8(Z,J){return Kw0(Dw0(Z,J,XW),Z+"")}var Aw0;var Nw0=f(()=>{kI();Iw0();Uw0();Aw0=FS8});function BS8(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=MS8}var MS8=9007199254740991,YB;var iw=f(()=>{YB=BS8});function OS8(Z){return Z!=null&&YB(Z.length)&&!gw(Z)}var U4;var GW=f(()=>{cr();iw();U4=OS8});function RS8(Z,J,Q){if(!bQ(Q))return!1;var K=typeof J;if(K=="number"?U4(Q)&&qW(J,Q.length):K=="string"&&(J in Q))return WW(Q[J],Z);return!1}var qB;var sw=f(()=>{fI();GW();_I();UW();qB=RS8});function LS8(Z){return Aw0(function(J,Q){var K=-1,U=Q.length,X=U>1?Q[U-1]:void 0,Y=U>2?Q[2]:void 0;if(X=Z.length>3&&typeof X=="function"?(U--,X):void 0,Y&&qB(Q[0],Q[1],Y))X=U<3?void 0:X,U=1;J=Object(J);while(++K<U){var q=Q[K];if(q)Z(J,q,K,X)}return J})}var Ew0;var Vw0=f(()=>{Nw0();sw();Ew0=LS8});function IS8(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||DS8;return Z===Q}var DS8,WB;var rw=f(()=>{DS8=Object.prototype;WB=IS8});function AS8(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var Pw0;var Cw0=f(()=>{Pw0=AS8});function ES8(Z){return B6(Z)&&M6(Z)==NS8}var NS8="[object Arguments]",sr;var jw0=f(()=>{ZW();JW();sr=ES8});var Sw0,VS8,PS8,CS8,nw;var rr=f(()=>{jw0();JW();Sw0=Object.prototype,VS8=Sw0.hasOwnProperty,PS8=Sw0.propertyIsEnumerable,CS8=sr(function(){return arguments}())?sr:function(Z){return B6(Z)&&VS8.call(Z,"callee")&&!PS8.call(Z,"callee")},nw=CS8});function jS8(){return!1}var Tw0;var ww0=f(()=>{Tw0=jS8});var ow={};LZ(ow,{default:()=>GB});var _w0,$w0,SS8,kw0,TS8,wS8,GB;var nr=f(()=>{HX();ww0();_w0=typeof ow=="object"&&ow&&!ow.nodeType&&ow,$w0=_w0&&typeof aw=="object"&&aw&&!aw.nodeType&&aw,SS8=$w0&&$w0.exports===_w0,kw0=SS8?u7.Buffer:void 0,TS8=kw0?kw0.isBuffer:void 0,wS8=TS8||Tw0,GB=wS8});function ZT8(Z){return B6(Z)&&YB(Z.length)&&!!GJ[M6(Z)]}var $S8="[object Arguments]",kS8="[object Array]",_S8="[object Boolean]",fS8="[object Date]",vS8="[object Error]",xS8="[object Function]",bS8="[object Map]",yS8="[object Number]",hS8="[object Object]",mS8="[object RegExp]",uS8="[object Set]",gS8="[object String]",pS8="[object WeakMap]",cS8="[object ArrayBuffer]",lS8="[object DataView]",dS8="[object Float32Array]",iS8="[object Float64Array]",sS8="[object Int8Array]",rS8="[object Int16Array]",nS8="[object Int32Array]",aS8="[object Uint8Array]",oS8="[object Uint8ClampedArray]",tS8="[object Uint16Array]",eS8="[object Uint32Array]",GJ,fw0;var vw0=f(()=>{ZW();iw();JW();GJ={};GJ[dS8]=GJ[iS8]=GJ[sS8]=GJ[rS8]=GJ[nS8]=GJ[aS8]=GJ[oS8]=GJ[tS8]=GJ[eS8]=!0;GJ[$S8]=GJ[kS8]=GJ[cS8]=GJ[_S8]=GJ[lS8]=GJ[fS8]=GJ[vS8]=GJ[xS8]=GJ[bS8]=GJ[yS8]=GJ[hS8]=GJ[mS8]=GJ[uS8]=GJ[gS8]=GJ[pS8]=!1;fw0=ZT8});function JT8(Z){return function(J){return Z(J)}}var tw;var ar=f(()=>{tw=JT8});var Z$={};LZ(Z$,{default:()=>Sz});var xw0,vI,QT8,or,KT8,Sz;var tr=f(()=>{pr();xw0=typeof Z$=="object"&&Z$&&!Z$.nodeType&&Z$,vI=xw0&&typeof ew=="object"&&ew&&!ew.nodeType&&ew,QT8=vI&&vI.exports===xw0,or=QT8&&uw.process,KT8=function(){try{var Z=vI&&vI.require&&vI.require("util").types;if(Z)return Z;return or&&or.binding&&or.binding("util")}catch(J){}}(),Sz=KT8});var bw0,UT8,J$;var er=f(()=>{vw0();ar();tr();bw0=Sz&&Sz.isTypedArray,UT8=bw0?tw(bw0):fw0,J$=UT8});function qT8(Z,J){var Q=d9(Z),K=!Q&&nw(Z),U=!Q&&!K&&GB(Z),X=!Q&&!K&&!U&&J$(Z),Y=Q||K||U||X,q=Y?Pw0(Z.length,String):[],W=q.length;for(var G in Z)if((J||YT8.call(Z,G))&&!(Y&&(G=="length"||U&&(G=="offset"||G=="parent")||X&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||qW(G,W))))q.push(G);return q}var XT8,YT8,Q$;var Zn=f(()=>{Cw0();rr();Q4();nr();_I();er();XT8=Object.prototype,YT8=XT8.hasOwnProperty;Q$=qT8});function WT8(Z,J){return function(Q){return Z(J(Q))}}var K$;var Jn=f(()=>{K$=WT8});var GT8,yw0;var hw0=f(()=>{Jn();GT8=K$(Object.keys,Object),yw0=GT8});function FT8(Z){if(!WB(Z))return yw0(Z);var J=[];for(var Q in Object(Z))if(HT8.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var zT8,HT8,mw0;var uw0=f(()=>{rw();hw0();zT8=Object.prototype,HT8=zT8.hasOwnProperty;mw0=FT8});function MT8(Z){return U4(Z)?Q$(Z):mw0(Z)}var FX;var zB=f(()=>{Zn();uw0();GW();FX=MT8});var BT8,OT8,RT8,kK;var gw0=f(()=>{dw();Rw0();Vw0();GW();rw();zB();BT8=Object.prototype,OT8=BT8.hasOwnProperty,RT8=Ew0(function(Z,J){if(WB(J)||U4(J)){Ow0(J,FX(J),Z);return}for(var Q in J)if(OT8.call(J,Q))XB(Z,Q,J[Q])}),kK=RT8});function LT8(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var pw0;var cw0=f(()=>{pw0=LT8});function AT8(Z){if(!bQ(Z))return pw0(Z);var J=WB(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!IT8.call(Z,K))))Q.push(K);return Q}var DT8,IT8,lw0;var dw0=f(()=>{UW();rw();cw0();DT8=Object.prototype,IT8=DT8.hasOwnProperty;lw0=AT8});function NT8(Z){return U4(Z)?Q$(Z,!0):lw0(Z)}var iw0;var sw0=f(()=>{Zn();dw0();GW();iw0=NT8});function PT8(Z,J){if(d9(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||QW(Z))return!0;return VT8.test(Z)||!ET8.test(Z)||J!=null&&Z in Object(J)}var ET8,VT8,HB;var U$=f(()=>{Q4();wI();ET8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VT8=/^\w*$/;HB=PT8});var CT8,$Y;var xI=f(()=>{YW();CT8=K4(Object,"create"),$Y=CT8});function jT8(){this.__data__=$Y?$Y(null):{},this.size=0}var rw0;var nw0=f(()=>{xI();rw0=jT8});function ST8(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var aw0;var ow0=f(()=>{aw0=ST8});function kT8(Z){var J=this.__data__;if($Y){var Q=J[Z];return Q===TT8?void 0:Q}return $T8.call(J,Z)?J[Z]:void 0}var TT8="__lodash_hash_undefined__",wT8,$T8,tw0;var ew0=f(()=>{xI();wT8=Object.prototype,$T8=wT8.hasOwnProperty;tw0=kT8});function vT8(Z){var J=this.__data__;return $Y?J[Z]!==void 0:fT8.call(J,Z)}var _T8,fT8,Z$0;var J$0=f(()=>{xI();_T8=Object.prototype,fT8=_T8.hasOwnProperty;Z$0=vT8});function bT8(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=$Y&&J===void 0?xT8:J,this}var xT8="__lodash_hash_undefined__",Q$0;var K$0=f(()=>{xI();Q$0=bT8});function FB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Qn;var U$0=f(()=>{nw0();ow0();ew0();J$0();K$0();FB.prototype.clear=rw0;FB.prototype.delete=aw0;FB.prototype.get=tw0;FB.prototype.has=Z$0;FB.prototype.set=Q$0;Qn=FB});function yT8(){this.__data__=[],this.size=0}var X$0;var Y$0=f(()=>{X$0=yT8});function hT8(Z,J){var Q=Z.length;while(Q--)if(WW(Z[Q][0],J))return Q;return-1}var zW;var bI=f(()=>{fI();zW=hT8});function gT8(Z){var J=this.__data__,Q=zW(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else uT8.call(J,Q,1);return--this.size,!0}var mT8,uT8,q$0;var W$0=f(()=>{bI();mT8=Array.prototype,uT8=mT8.splice;q$0=gT8});function pT8(Z){var J=this.__data__,Q=zW(J,Z);return Q<0?void 0:J[Q][1]}var G$0;var z$0=f(()=>{bI();G$0=pT8});function cT8(Z){return zW(this.__data__,Z)>-1}var H$0;var F$0=f(()=>{bI();H$0=cT8});function lT8(Z,J){var Q=this.__data__,K=zW(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var M$0;var B$0=f(()=>{bI();M$0=lT8});function MB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var HW;var yI=f(()=>{Y$0();W$0();z$0();F$0();B$0();MB.prototype.clear=X$0;MB.prototype.delete=q$0;MB.prototype.get=G$0;MB.prototype.has=H$0;MB.prototype.set=M$0;HW=MB});var dT8,FW;var X$=f(()=>{YW();HX();dT8=K4(u7,"Map"),FW=dT8});function iT8(){this.size=0,this.__data__={hash:new Qn,map:new(FW||HW),string:new Qn}}var O$0;var R$0=f(()=>{U$0();yI();X$();O$0=iT8});function sT8(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var L$0;var D$0=f(()=>{L$0=sT8});function rT8(Z,J){var Q=Z.__data__;return L$0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var MW;var hI=f(()=>{D$0();MW=rT8});function nT8(Z){var J=MW(this,Z).delete(Z);return this.size-=J?1:0,J}var I$0;var A$0=f(()=>{hI();I$0=nT8});function aT8(Z){return MW(this,Z).get(Z)}var N$0;var E$0=f(()=>{hI();N$0=aT8});function oT8(Z){return MW(this,Z).has(Z)}var V$0;var P$0=f(()=>{hI();V$0=oT8});function tT8(Z,J){var Q=MW(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var C$0;var j$0=f(()=>{hI();C$0=tT8});function BB(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var Tz;var Y$=f(()=>{R$0();A$0();E$0();P$0();j$0();BB.prototype.clear=O$0;BB.prototype.delete=I$0;BB.prototype.get=N$0;BB.prototype.has=V$0;BB.prototype.set=C$0;Tz=BB});function Kn(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw TypeError(eT8);var Q=function(){var K=arguments,U=J?J.apply(this,K):K[0],X=Q.cache;if(X.has(U))return X.get(U);var Y=Z.apply(this,K);return Q.cache=X.set(U,Y)||X,Y};return Q.cache=new(Kn.Cache||Tz),Q}var eT8="Expected a function",S$0;var T$0=f(()=>{Y$();Kn.Cache=Tz;S$0=Kn});function Jw8(Z){var J=S$0(Z,function(K){if(Q.size===Zw8)Q.clear();return K}),Q=J.cache;return J}var Zw8=500,w$0;var $$0=f(()=>{T$0();w$0=Jw8});var Qw8,Kw8,Uw8,k$0;var _$0=f(()=>{$$0();Qw8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kw8=/\\(\\)?/g,Uw8=w$0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(Qw8,function(Q,K,U,X){J.push(U?X.replace(Kw8,"$1"):K||Q)}),J}),k$0=Uw8});function Xw8(Z){return Z==null?"":jT0(Z)}var f$0;var v$0=f(()=>{ST0();f$0=Xw8});function Yw8(Z,J){if(d9(Z))return Z;return HB(Z,J)?[Z]:k$0(f$0(Z))}var BW;var mI=f(()=>{Q4();U$();_$0();v$0();BW=Yw8});function Ww8(Z){if(typeof Z=="string"||QW(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-qw8?"-0":J}var qw8=1/0,MX;var OB=f(()=>{wI();MX=Ww8});function Gw8(Z,J){J=BW(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[MX(J[Q++])];return Q&&Q==K?Z:void 0}var RB;var q$=f(()=>{mI();OB();RB=Gw8});function zw8(Z,J,Q){var K=Z==null?void 0:RB(Z,J);return K===void 0?Q:K}var x$0;var b$0=f(()=>{q$();x$0=zw8});function Hw8(Z,J){var Q=-1,K=J.length,U=Z.length;while(++Q<K)Z[U+Q]=J[Q];return Z}var W$;var Un=f(()=>{W$=Hw8});var Fw8,y$0;var h$0=f(()=>{Jn();Fw8=K$(Object.getPrototypeOf,Object),y$0=Fw8});function Mw8(){this.__data__=new HW,this.size=0}var m$0;var u$0=f(()=>{yI();m$0=Mw8});function Bw8(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var g$0;var p$0=f(()=>{g$0=Bw8});function Ow8(Z){return this.__data__.get(Z)}var c$0;var l$0=f(()=>{c$0=Ow8});function Rw8(Z){return this.__data__.has(Z)}var d$0;var i$0=f(()=>{d$0=Rw8});function Dw8(Z,J){var Q=this.__data__;if(Q instanceof HW){var K=Q.__data__;if(!FW||K.length<Lw8-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new Tz(K)}return Q.set(Z,J),this.size=Q.size,this}var Lw8=200,s$0;var r$0=f(()=>{yI();X$();Y$();s$0=Dw8});function LB(Z){var J=this.__data__=new HW(Z);this.size=J.size}var DB;var Xn=f(()=>{yI();u$0();p$0();l$0();i$0();r$0();LB.prototype.clear=m$0;LB.prototype.delete=g$0;LB.prototype.get=c$0;LB.prototype.has=d$0;LB.prototype.set=s$0;DB=LB});function Iw8(Z,J){var Q=-1,K=Z==null?0:Z.length,U=0,X=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))X[U++]=Y}return X}var n$0;var a$0=f(()=>{n$0=Iw8});function Aw8(){return[]}var G$;var Yn=f(()=>{G$=Aw8});var Nw8,Ew8,o$0,Vw8,z$;var qn=f(()=>{a$0();Yn();Nw8=Object.prototype,Ew8=Nw8.propertyIsEnumerable,o$0=Object.getOwnPropertySymbols,Vw8=!o$0?G$:function(Z){if(Z==null)return[];return Z=Object(Z),n$0(o$0(Z),function(J){return Ew8.call(Z,J)})},z$=Vw8});var Pw8,Cw8,t$0;var e$0=f(()=>{Un();h$0();qn();Yn();Pw8=Object.getOwnPropertySymbols,Cw8=!Pw8?G$:function(Z){var J=[];while(Z)W$(J,z$(Z)),Z=y$0(Z);return J},t$0=Cw8});function jw8(Z,J,Q){var K=J(Z);return d9(Z)?K:W$(K,Q(Z))}var H$;var Wn=f(()=>{Un();Q4();H$=jw8});function Sw8(Z){return H$(Z,FX,z$)}var Gn;var Zk0=f(()=>{Wn();qn();zB();Gn=Sw8});function Tw8(Z){return H$(Z,iw0,t$0)}var Jk0;var Qk0=f(()=>{Wn();e$0();sw0();Jk0=Tw8});var ww8,F$;var Kk0=f(()=>{YW();HX();ww8=K4(u7,"DataView"),F$=ww8});var $w8,M$;var Uk0=f(()=>{YW();HX();$w8=K4(u7,"Promise"),M$=$w8});var kw8,B$;var Xk0=f(()=>{YW();HX();kw8=K4(u7,"Set"),B$=kw8});var Yk0="[object Map]",_w8="[object Object]",qk0="[object Promise]",Wk0="[object Set]",Gk0="[object WeakMap]",zk0="[object DataView]",fw8,vw8,xw8,bw8,yw8,wz,zn;var Hk0=f(()=>{Kk0();X$();Uk0();Xk0();rT0();ZW();lr();fw8=wY(F$),vw8=wY(FW),xw8=wY(M$),bw8=wY(B$),yw8=wY(cw),wz=M6;if(F$&&wz(new F$(new ArrayBuffer(1)))!=zk0||FW&&wz(new FW)!=Yk0||M$&&wz(M$.resolve())!=qk0||B$&&wz(new B$)!=Wk0||cw&&wz(new cw)!=Gk0)wz=function(Z){var J=M6(Z),Q=J==_w8?Z.constructor:void 0,K=Q?wY(Q):"";if(K)switch(K){case fw8:return zk0;case vw8:return Yk0;case xw8:return qk0;case bw8:return Wk0;case yw8:return Gk0}return J};zn=wz});var hw8,Hn;var Fk0=f(()=>{HX();hw8=u7.Uint8Array,Hn=hw8});function uw8(Z){return this.__data__.set(Z,mw8),this}var mw8="__lodash_hash_undefined__",Mk0;var Bk0=f(()=>{Mk0=uw8});function gw8(Z){return this.__data__.has(Z)}var Ok0;var Rk0=f(()=>{Ok0=gw8});function O$(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new Tz;while(++J<Q)this.add(Z[J])}var Lk0;var Dk0=f(()=>{Y$();Bk0();Rk0();O$.prototype.add=O$.prototype.push=Mk0;O$.prototype.has=Ok0;Lk0=O$});function pw8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var R$;var Fn=f(()=>{R$=pw8});function cw8(Z,J){return Z.has(J)}var Ik0;var Ak0=f(()=>{Ik0=cw8});function iw8(Z,J,Q,K,U,X){var Y=Q&lw8,q=Z.length,W=J.length;if(q!=W&&!(Y&&W>q))return!1;var G=X.get(Z),z=X.get(J);if(G&&z)return G==J&&z==Z;var H=-1,F=!0,M=Q&dw8?new Lk0:void 0;X.set(Z,J),X.set(J,Z);while(++H<q){var B=Z[H],O=J[H];if(K)var R=Y?K(O,B,H,J,Z,X):K(B,O,H,Z,J,X);if(R!==void 0){if(R)continue;F=!1;break}if(M){if(!R$(J,function(L,D){if(!Ik0(M,D)&&(B===L||U(B,L,Q,K,X)))return M.push(D)})){F=!1;break}}else if(!(B===O||U(B,O,Q,K,X))){F=!1;break}}return X.delete(Z),X.delete(J),F}var lw8=1,dw8=2,L$;var Mn=f(()=>{Dk0();Fn();Ak0();L$=iw8});function sw8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,U){Q[++J]=[U,K]}),Q}var Nk0;var Ek0=f(()=>{Nk0=sw8});function rw8(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var Vk0;var Pk0=f(()=>{Vk0=rw8});function W$8(Z,J,Q,K,U,X,Y){switch(Q){case q$8:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case Y$8:if(Z.byteLength!=J.byteLength||!X(new Hn(Z),new Hn(J)))return!1;return!0;case ow8:case tw8:case J$8:return WW(+Z,+J);case ew8:return Z.name==J.name&&Z.message==J.message;case Q$8:case U$8:return Z==J+"";case Z$8:var q=Nk0;case K$8:var W=K&nw8;if(q||(q=Vk0),Z.size!=J.size&&!W)return!1;var G=Y.get(Z);if(G)return G==J;K|=aw8,Y.set(Z,J);var z=L$(q(Z),q(J),K,U,X,Y);return Y.delete(Z),z;case X$8:if(Bn)return Bn.call(Z)==Bn.call(J)}return!1}var nw8=1,aw8=2,ow8="[object Boolean]",tw8="[object Date]",ew8="[object Error]",Z$8="[object Map]",J$8="[object Number]",Q$8="[object RegExp]",K$8="[object Set]",U$8="[object String]",X$8="[object Symbol]",Y$8="[object ArrayBuffer]",q$8="[object DataView]",Ck0,Bn,jk0;var Sk0=f(()=>{SI();Fk0();fI();Mn();Ek0();Pk0();Ck0=$K?$K.prototype:void 0,Bn=Ck0?Ck0.valueOf:void 0;jk0=W$8});function F$8(Z,J,Q,K,U,X){var Y=Q&G$8,q=Gn(Z),W=q.length,G=Gn(J),z=G.length;if(W!=z&&!Y)return!1;var H=W;while(H--){var F=q[H];if(!(Y?F in J:H$8.call(J,F)))return!1}var M=X.get(Z),B=X.get(J);if(M&&B)return M==J&&B==Z;var O=!0;X.set(Z,J),X.set(J,Z);var R=Y;while(++H<W){F=q[H];var L=Z[F],D=J[F];if(K)var A=Y?K(D,L,F,J,Z,X):K(L,D,F,Z,J,X);if(!(A===void 0?L===D||U(L,D,Q,K,X):A)){O=!1;break}R||(R=F=="constructor")}if(O&&!R){var V=Z.constructor,N=J.constructor;if(V!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N))O=!1}return X.delete(Z),X.delete(J),O}var G$8=1,z$8,H$8,Tk0;var wk0=f(()=>{Zk0();z$8=Object.prototype,H$8=z$8.hasOwnProperty;Tk0=F$8});function O$8(Z,J,Q,K,U,X){var Y=d9(Z),q=d9(J),W=Y?kk0:zn(Z),G=q?kk0:zn(J);W=W==$k0?D$:W,G=G==$k0?D$:G;var z=W==D$,H=G==D$,F=W==G;if(F&&GB(Z)){if(!GB(J))return!1;Y=!0,z=!1}if(F&&!z)return X||(X=new DB),Y||J$(Z)?L$(Z,J,Q,K,U,X):jk0(Z,J,W,Q,K,U,X);if(!(Q&M$8)){var M=z&&_k0.call(Z,"__wrapped__"),B=H&&_k0.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,R=B?J.value():J;return X||(X=new DB),U(O,R,Q,K,X)}}if(!F)return!1;return X||(X=new DB),Tk0(Z,J,Q,K,U,X)}var M$8=1,$k0="[object Arguments]",kk0="[object Array]",D$="[object Object]",B$8,_k0,fk0;var vk0=f(()=>{Xn();Mn();Sk0();wk0();Hk0();Q4();nr();er();B$8=Object.prototype,_k0=B$8.hasOwnProperty;fk0=O$8});function xk0(Z,J,Q,K,U){if(Z===J)return!0;if(Z==null||J==null||!B6(Z)&&!B6(J))return Z!==Z&&J!==J;return fk0(Z,J,Q,K,xk0,U)}var I$;var On=f(()=>{vk0();JW();I$=xk0});function D$8(Z,J,Q,K){var U=Q.length,X=U,Y=!K;if(Z==null)return!X;Z=Object(Z);while(U--){var q=Q[U];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++U<X){q=Q[U];var W=q[0],G=Z[W],z=q[1];if(Y&&q[2]){if(G===void 0&&!(W in Z))return!1}else{var H=new DB;if(K)var F=K(G,z,W,Z,J,H);if(!(F===void 0?I$(z,G,R$8|L$8,K,H):F))return!1}}return!0}var R$8=1,L$8=2,bk0;var yk0=f(()=>{Xn();On();bk0=D$8});function I$8(Z){return Z===Z&&!bQ(Z)}var A$;var Rn=f(()=>{UW();A$=I$8});function A$8(Z){var J=FX(Z),Q=J.length;while(Q--){var K=J[Q],U=Z[K];J[Q]=[K,U,A$(U)]}return J}var hk0;var mk0=f(()=>{Rn();zB();hk0=A$8});function N$8(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var N$;var Ln=f(()=>{N$=N$8});function E$8(Z){var J=hk0(Z);if(J.length==1&&J[0][2])return N$(J[0][0],J[0][1]);return function(Q){return Q===Z||bk0(Q,Z,J)}}var uk0;var gk0=f(()=>{yk0();mk0();Ln();uk0=E$8});function V$8(Z,J){return Z!=null&&J in Object(Z)}var pk0;var ck0=f(()=>{pk0=V$8});function P$8(Z,J,Q){J=BW(J,Z);var K=-1,U=J.length,X=!1;while(++K<U){var Y=MX(J[K]);if(!(X=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(X||++K!=U)return X;return U=Z==null?0:Z.length,!!U&&YB(U)&&qW(Y,U)&&(d9(Z)||nw(Z))}var lk0;var dk0=f(()=>{mI();rr();Q4();_I();iw();OB();lk0=P$8});function C$8(Z,J){return Z!=null&&lk0(Z,J,pk0)}var ik0;var sk0=f(()=>{ck0();dk0();ik0=C$8});function T$8(Z,J){if(HB(Z)&&A$(J))return N$(MX(Z),J);return function(Q){var K=x$0(Q,Z);return K===void 0&&K===J?ik0(Q,Z):I$(J,K,j$8|S$8)}}var j$8=1,S$8=2,rk0;var nk0=f(()=>{On();b$0();sk0();U$();Rn();Ln();OB();rk0=T$8});function w$8(Z){return function(J){return J==null?void 0:J[Z]}}var ak0;var ok0=f(()=>{ak0=w$8});function $$8(Z){return function(J){return RB(J,Z)}}var tk0;var ek0=f(()=>{q$();tk0=$$8});function k$8(Z){return HB(Z)?ak0(MX(Z)):tk0(Z)}var Z_0;var J_0=f(()=>{ok0();ek0();U$();OB();Z_0=k$8});function _$8(Z){if(typeof Z=="function")return Z;if(Z==null)return XW;if(typeof Z=="object")return d9(Z)?rk0(Z[0],Z[1]):uk0(Z);return Z_0(Z)}var OW;var uI=f(()=>{gk0();nk0();kI();Q4();J_0();OW=_$8});function f$8(Z){return function(J,Q,K){var U=-1,X=Object(J),Y=K(J),q=Y.length;while(q--){var W=Y[Z?q:++U];if(Q(X[W],W,X)===!1)break}return J}}var Q_0;var K_0=f(()=>{Q_0=f$8});var v$8,U_0;var X_0=f(()=>{K_0();v$8=Q_0(),U_0=v$8});function x$8(Z,J){return Z&&U_0(Z,J,FX)}var Y_0;var q_0=f(()=>{X_0();zB();Y_0=x$8});function b$8(Z,J){return function(Q,K){if(Q==null)return Q;if(!U4(Q))return Z(Q,K);var U=Q.length,X=J?U:-1,Y=Object(Q);while(J?X--:++X<U)if(K(Y[X],X,Y)===!1)break;return Q}}var W_0;var G_0=f(()=>{GW();W_0=b$8});var y$8,RW;var gI=f(()=>{q_0();G_0();y$8=W_0(Y_0),RW=y$8});function h$8(Z){return typeof Z=="function"?Z:XW}var z_0;var H_0=f(()=>{kI();z_0=h$8});function m$8(Z,J){var Q=d9(Z)?Xw0:RW;return Q(Z,z_0(J))}var Dn;var F_0=f(()=>{Yw0();gI();H_0();Q4();Dn=m$8});function u$8(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(!J(Z[Q],Q,Z))return!1;return!0}var M_0;var B_0=f(()=>{M_0=u$8});function g$8(Z,J){var Q=!0;return RW(Z,function(K,U,X){return Q=!!J(K,U,X),Q}),Q}var O_0;var R_0=f(()=>{gI();O_0=g$8});function p$8(Z,J,Q){var K=d9(Z)?M_0:O_0;if(Q&&qB(Z,J,Q))J=void 0;return K(Z,OW(J,3))}var In;var L_0=f(()=>{B_0();R_0();uI();Q4();sw();In=p$8});function c$8(Z,J){var Q=-1,K=U4(Z)?Array(Z.length):[];return RW(Z,function(U,X,Y){K[++Q]=J(U,X,Y)}),K}var D_0;var I_0=f(()=>{gI();GW();D_0=c$8});function l$8(Z,J){var Q=d9(Z)?KW:D_0;return Q(Z,OW(J,3))}var E$;var A_0=f(()=>{$I();uI();I_0();Q4();E$=l$8});function i$8(Z){return typeof Z=="string"||!d9(Z)&&B6(Z)&&M6(Z)==d$8}var d$8="[object String]",$z;var An=f(()=>{ZW();Q4();JW();$z=i$8});function s$8(Z,J){return KW(J,function(Q){return Z[Q]})}var N_0;var E_0=f(()=>{$I();N_0=s$8});function r$8(Z){return Z==null?[]:N_0(Z,FX(Z))}var V_0;var P_0=f(()=>{E_0();zB();V_0=r$8});function a$8(Z,J,Q,K){Z=U4(Z)?Z:V_0(Z),Q=Q&&!K?hT0(Q):0;var U=Z.length;if(Q<0)Q=n$8(U+Q,0);return $z(Z)?Q<=U&&Z.indexOf(J,Q)>-1:!!U&&Mw0(Z,J,Q)>-1}var n$8,Nn;var C_0=f(()=>{Bw0();GW();An();mT0();P_0();n$8=Math.max;Nn=a$8});function t$8(Z){return B6(Z)&&M6(Z)==o$8}var o$8="[object RegExp]",j_0;var S_0=f(()=>{ZW();JW();j_0=t$8});var T_0,e$8,En;var w_0=f(()=>{S_0();ar();tr();T_0=Sz&&Sz.isRegExp,e$8=T_0?tw(T_0):j_0,En=e$8});function Zk8(Z,J,Q,K){if(!bQ(Z))return Z;J=BW(J,Z);var U=-1,X=J.length,Y=X-1,q=Z;while(q!=null&&++U<X){var W=MX(J[U]),G=Q;if(W==="__proto__"||W==="constructor"||W==="prototype")return Z;if(U!=Y){var z=q[W];if(G=K?K(z,W,q):void 0,G===void 0)G=bQ(z)?z:qW(J[U+1])?[]:{}}XB(q,W,G),q=q[W]}return Z}var $_0;var k_0=f(()=>{dw();mI();_I();UW();OB();$_0=Zk8});function Jk8(Z,J,Q){var K=-1,U=J.length,X={};while(++K<U){var Y=J[K],q=RB(Z,Y);if(Q(q,Y))$_0(X,BW(Y,Z),q)}return X}var __0;var f_0=f(()=>{q$();k_0();mI();__0=Jk8});function Qk8(Z,J){if(Z==null)return{};var Q=KW(Jk0(Z),function(K){return[K]});return J=OW(J),__0(Z,Q,function(K,U){return J(K,U[0])})}var _K;var v_0=f(()=>{$I();uI();f_0();Qk0();_K=Qk8});function Kk8(Z,J){var Q;return RW(Z,function(K,U,X){return Q=J(K,U,X),!Q}),!!Q}var x_0;var b_0=f(()=>{gI();x_0=Kk8});function Uk8(Z,J,Q){var K=d9(Z)?R$:x_0;if(Q&&qB(Z,J,Q))J=void 0;return K(Z,OW(J,3))}var Vn;var y_0=f(()=>{Fn();uI();b_0();Q4();sw();Vn=Uk8});var Pn=f(()=>{gw0();L_0();F_0();C_0();w_0();An();A_0();v_0();y_0()});function Xk8(Z){if(Yk8(Z))return Z.LABEL;else return Z.name}function Yk8(Z){return $z(Z.LABEL)&&Z.LABEL!==""}class fK{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){this._definition=Z}accept(Z){Z.visit(this),Dn(this.definition,(J)=>{J.accept(Z)})}}class dZ{constructor(Z){this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}accept(Z){Z.visit(this)}}function V$(Z){return E$(Z,IB)}function IB(Z){function J(Q){return E$(Q,IB)}if(Z instanceof _9){let Q={type:"NonTerminal",name:Z.nonTerminalName,idx:Z.idx};if($z(Z.label))Q.label=Z.label;return Q}else if(Z instanceof zJ)return{type:"Alternative",definition:J(Z.definition)};else if(Z instanceof f9)return{type:"Option",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof HJ)return{type:"RepetitionMandatory",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof FJ)return{type:"RepetitionMandatoryWithSeparator",idx:Z.idx,separator:IB(new dZ({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof JJ)return{type:"RepetitionWithSeparator",idx:Z.idx,separator:IB(new dZ({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof Y9)return{type:"Repetition",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof QJ)return{type:"Alternation",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof dZ){let Q={type:"Terminal",name:Z.terminalType.name,label:Xk8(Z.terminalType),idx:Z.idx};if($z(Z.label))Q.terminalLabel=Z.label;let K=Z.terminalType.PATTERN;if(Z.terminalType.PATTERN)Q.pattern=En(K)?K.source:K;return Q}else if(Z instanceof X4)return{type:"Rule",name:Z.name,orgText:Z.orgText,definition:J(Z.definition)};else throw Error("non exhaustive match")}var _9,X4,zJ,f9,HJ,FJ,Y9,JJ,QJ;var P$=f(()=>{Pn();_9=class _9 extends fK{constructor(Z){super([]);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}set definition(Z){}get definition(){if(this.referencedRule!==void 0)return this.referencedRule.definition;return[]}accept(Z){Z.visit(this)}};X4=class X4 extends fK{constructor(Z){super(Z.definition);this.orgText="",kK(this,_K(Z,(J)=>J!==void 0))}};zJ=class zJ extends fK{constructor(Z){super(Z.definition);this.ignoreAmbiguities=!1,kK(this,_K(Z,(J)=>J!==void 0))}};f9=class f9 extends fK{constructor(Z){super(Z.definition);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}};HJ=class HJ extends fK{constructor(Z){super(Z.definition);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}};FJ=class FJ extends fK{constructor(Z){super(Z.definition);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}};Y9=class Y9 extends fK{constructor(Z){super(Z.definition);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}};JJ=class JJ extends fK{constructor(Z){super(Z.definition);this.idx=1,kK(this,_K(Z,(J)=>J!==void 0))}};QJ=class QJ extends fK{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){super(Z.definition);this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,kK(this,_K(Z,(J)=>J!==void 0))}}});class Y4{visit(Z){let J=Z;switch(J.constructor){case _9:return this.visitNonTerminal(J);case zJ:return this.visitAlternative(J);case f9:return this.visitOption(J);case HJ:return this.visitRepetitionMandatory(J);case FJ:return this.visitRepetitionMandatoryWithSeparator(J);case JJ:return this.visitRepetitionWithSeparator(J);case Y9:return this.visitRepetition(J);case QJ:return this.visitAlternation(J);case dZ:return this.visitTerminal(J);case X4:return this.visitRule(J);default:throw Error("non exhaustive match")}}visitNonTerminal(Z){}visitAlternative(Z){}visitOption(Z){}visitRepetition(Z){}visitRepetitionMandatory(Z){}visitRepetitionMandatoryWithSeparator(Z){}visitRepetitionWithSeparator(Z){}visitAlternation(Z){}visitTerminal(Z){}visitRule(Z){}}var h_0=f(()=>{P$()});function Cn(Z){return Z instanceof zJ||Z instanceof f9||Z instanceof Y9||Z instanceof HJ||Z instanceof FJ||Z instanceof JJ||Z instanceof dZ||Z instanceof X4}function kz(Z,J=[]){if(Z instanceof f9||Z instanceof Y9||Z instanceof JJ)return!0;if(Z instanceof QJ)return Vn(Z.definition,(K)=>{return kz(K,J)});else if(Z instanceof _9&&Nn(J,Z))return!1;else if(Z instanceof fK){if(Z instanceof _9)J.push(Z);return In(Z.definition,(K)=>{return kz(K,J)})}else return!1}function jn(Z){return Z instanceof QJ}function q4(Z){if(Z instanceof _9)return"SUBRULE";else if(Z instanceof f9)return"OPTION";else if(Z instanceof QJ)return"OR";else if(Z instanceof HJ)return"AT_LEAST_ONE";else if(Z instanceof FJ)return"AT_LEAST_ONE_SEP";else if(Z instanceof JJ)return"MANY_SEP";else if(Z instanceof Y9)return"MANY";else if(Z instanceof dZ)return"CONSUME";else throw Error("non exhaustive match")}var m_0=f(()=>{Pn();P$()});var O6=f(()=>{P$();h_0();m_0()});class LW{walk(Z,J=[]){r8(Z.definition,(Q,K)=>{let U=oJ(Z.definition,K+1);if(Q instanceof _9)this.walkProdRef(Q,U,J);else if(Q instanceof dZ)this.walkTerminal(Q,U,J);else if(Q instanceof zJ)this.walkFlat(Q,U,J);else if(Q instanceof f9)this.walkOption(Q,U,J);else if(Q instanceof HJ)this.walkAtLeastOne(Q,U,J);else if(Q instanceof FJ)this.walkAtLeastOneSep(Q,U,J);else if(Q instanceof JJ)this.walkManySep(Q,U,J);else if(Q instanceof Y9)this.walkMany(Q,U,J);else if(Q instanceof QJ)this.walkOr(Q,U,J);else throw Error("non exhaustive match")})}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){}walkFlat(Z,J,Q){let K=J.concat(Q);this.walk(Z,K)}walkOption(Z,J,Q){let K=J.concat(Q);this.walk(Z,K)}walkAtLeastOne(Z,J,Q){let K=[new f9({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkAtLeastOneSep(Z,J,Q){let K=u_0(Z,J,Q);this.walk(Z,K)}walkMany(Z,J,Q){let K=[new f9({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkManySep(Z,J,Q){let K=u_0(Z,J,Q);this.walk(Z,K)}walkOr(Z,J,Q){let K=J.concat(Q);r8(Z.definition,(U)=>{let X=new zJ({definition:[U]});this.walk(X,K)})}}function u_0(Z,J,Q){return[new f9({definition:[new dZ({terminalType:Z.separator})].concat(Z.definition)})].concat(J,Q)}var C$=f(()=>{m9();O6()});function _z(Z){if(Z instanceof _9)return _z(Z.referencedRule);else if(Z instanceof dZ)return Gk8(Z);else if(Cn(Z))return qk8(Z);else if(jn(Z))return Wk8(Z);else throw Error("non exhaustive match")}function qk8(Z){let J=[],Q=Z.definition,K=0,U=Q.length>K,X,Y=!0;while(U&&Y)X=Q[K],Y=kz(X),J=J.concat(_z(X)),K=K+1,U=Q.length>K;return JB(J)}function Wk8(Z){let J=l8(Z.definition,(Q)=>{return _z(Q)});return JB(E7(J))}function Gk8(Z){return[Z.terminalType]}var Sn=f(()=>{m9();O6()});var j$="_~IN~_";function p_0(Z){let J={};return r8(Z,(Q)=>{let K=new g_0(Q).startWalking();bM(J,K)}),J}function zk8(Z,J){return Z.name+J+j$}var g_0;var c_0=f(()=>{C$();Sn();m9();O6();g_0=class g_0 extends LW{constructor(Z){super();this.topProd=Z,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){let K=zk8(Z.referencedRule,Z.idx)+this.topProd.name,U=J.concat(Q),X=new zJ({definition:U}),Y=_z(X);this.follows[K]=Y}}});function AB(Z){let J=Z.toString();if(S$.hasOwnProperty(J))return S$[J];else{let Q=Hk8.pattern(J);return S$[J]=Q,Q}}function l_0(){S$={}}var S$,Hk8;var T$=f(()=>{KI();S$={},Hk8=new LM});function s_0(Z,J=!1){try{let Q=AB(Z);return Tn(Q.value,{},Q.flags.ignoreCase)}catch(Q){if(Q.message===i_0){if(J)PI(`${pI}	Unable to optimize: < ${Z.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}else{let K="";if(J)K=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`;QB(`${pI}
	Failed parsing: < ${Z.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+K)}}return[]}function Tn(Z,J,Q){switch(Z.type){case"Disjunction":for(let U=0;U<Z.value.length;U++)Tn(Z.value[U],J,Q);break;case"Alternative":let K=Z.value;for(let U=0;U<K.length;U++){let X=K[U];switch(X.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let Y=X;switch(Y.type){case"Character":w$(Y.value,J,Q);break;case"Set":if(Y.complement===!0)throw Error(i_0);r8(Y.value,(W)=>{if(typeof W==="number")w$(W,J,Q);else{let G=W;if(Q===!0)for(let z=G.from;z<=G.to;z++)w$(z,J,Q);else{for(let z=G.from;z<=G.to&&z<NB;z++)w$(z,J,Q);if(G.to>=NB){let z=G.from>=NB?G.from:NB,H=G.to,F=BX(z),M=BX(H);for(let B=F;B<=M;B++)J[B]=B}}}});break;case"Group":Tn(Y.value,J,Q);break;default:throw Error("Non Exhaustive Match")}let q=Y.quantifier!==void 0&&Y.quantifier.atLeast===0;if(Y.type==="Group"&&wn(Y)===!1||Y.type!=="Group"&&q===!1)break}break;default:throw Error("non exhaustive match!")}return h9(J)}function w$(Z,J,Q){let K=BX(Z);if(J[K]=K,Q===!0)Fk8(Z,J)}function Fk8(Z,J){let Q=String.fromCharCode(Z),K=Q.toUpperCase();if(K!==Q){let U=BX(K.charCodeAt(0));J[U]=U}else{let U=Q.toLowerCase();if(U!==Q){let X=BX(U.charCodeAt(0));J[X]=X}}}function d_0(Z,J){return GX(Z.value,(Q)=>{if(typeof Q==="number")return pJ(J,Q);else{let K=Q;return GX(J,(U)=>K.from<=U&&U<=K.to)!==void 0}})}function wn(Z){let J=Z.quantifier;if(J&&J.atLeast===0)return!0;if(!Z.value)return!1;return t8(Z.value)?J4(Z.value,wn):wn(Z.value)}function $$(Z,J){if(J instanceof RegExp){let Q=AB(J),K=new r_0(Z);return K.visit(Q),K.found}else return GX(J,(Q)=>{return pJ(Z,Q.charCodeAt(0))})!==void 0}var i_0="Complement Sets are not supported for first char optimization",pI=`Unable to use "first char" lexer optimizations:
`,r_0;var n_0=f(()=>{KI();m9();KB();T$();$n();r_0=class r_0 extends PY{constructor(Z){super();this.targetCharCodes=Z,this.found=!1}visitChildren(Z){if(this.found===!0)return;switch(Z.type){case"Lookahead":this.visitLookahead(Z);return;case"NegativeLookahead":this.visitNegativeLookahead(Z);return}super.visitChildren(Z)}visitCharacter(Z){if(pJ(this.targetCharCodes,Z.value))this.found=!0}visitSet(Z){if(Z.complement){if(d_0(Z,this.targetCharCodes)===void 0)this.found=!0}else if(d_0(Z,this.targetCharCodes)!==void 0)this.found=!0}}});function t_0(Z,J){J=ZB(J,{useSticky:_n,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(D,A)=>A()});let Q=J.tracer;Q("initCharCodeToOptimizedIndexMap",()=>{$k8()});let K;Q("Reject Lexer.NA",()=>{K=eq(Z,(D)=>{return D[fz]===vJ.NA})});let U=!1,X;Q("Transform Patterns",()=>{U=!1,X=l8(K,(D)=>{let A=D[fz];if(zX(A)){let V=A.source;if(V.length===1&&V!=="^"&&V!=="$"&&V!=="."&&!A.ignoreCase)return V;else if(V.length===2&&V[0]==="\\"&&!pJ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],V[1]))return V[1];else return J.useSticky?o_0(A):a_0(A)}else if(z6(A))return U=!0,{exec:A};else if(typeof A==="object")return U=!0,A;else if(typeof A==="string")if(A.length===1)return A;else{let V=A.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),N=new RegExp(V);return J.useSticky?o_0(N):a_0(N)}else throw Error("non exhaustive match")})});let Y,q,W,G,z;Q("misc mapping",()=>{Y=l8(K,(D)=>D.tokenTypeIdx),q=l8(K,(D)=>{let A=D.GROUP;if(A===vJ.SKIPPED)return;else if(F6(A))return A;else if(xQ(A))return!1;else throw Error("non exhaustive match")}),W=l8(K,(D)=>{let A=D.LONGER_ALT;if(A)return t8(A)?l8(A,(N)=>mw(K,N)):[mw(K,A)]}),G=l8(K,(D)=>D.PUSH_MODE),z=l8(K,(D)=>n8(D,"POP_MODE"))});let H;Q("Line Terminator Handling",()=>{let D=Yf0(J.lineTerminatorCharacters);if(H=l8(K,(A)=>!1),J.positionTracking!=="onlyOffset")H=l8(K,(A)=>{if(n8(A,"LINE_BREAKS"))return!!A.LINE_BREAKS;else return Xf0(A,D)===!1&&$$(D,A.PATTERN)})});let F,M,B,O;Q("Misc Mapping #2",()=>{F=l8(K,Kf0),M=l8(X,Tk8),B=z7(K,(D,A)=>{let V=A.GROUP;if(F6(V)&&V!==vJ.SKIPPED)D[V]=[];return D},{}),O=l8(X,(D,A)=>{return{pattern:X[A],longerAlt:W[A],canLineTerminator:H[A],isCustom:F[A],short:M[A],group:q[A],push:G[A],pop:z[A],tokenTypeIdx:Y[A],tokenType:K[A]}})});let R=!0,L=[];if(!J.safeMode)Q("First Char Optimization",()=>{L=z7(K,(D,A,V)=>{if(typeof A.PATTERN==="string"){let N=A.PATTERN.charCodeAt(0),E=BX(N);kn(D,E,O[V])}else if(t8(A.START_CHARS_HINT)){let N;r8(A.START_CHARS_HINT,(E)=>{let C=typeof E==="string"?E.charCodeAt(0):E,j=BX(C);if(N!==j)N=j,kn(D,j,O[V])})}else if(zX(A.PATTERN))if(A.PATTERN.unicode){if(R=!1,J.ensureOptimizations)QB(`${pI}	Unable to analyze < ${A.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`)}else{let N=s_0(A.PATTERN,J.ensureOptimizations);if(lZ(N))R=!1;r8(N,(E)=>{kn(D,E,O[V])})}else{if(J.ensureOptimizations)QB(`${pI}	TokenType: <${A.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`);R=!1}return D},[])});return{emptyGroups:B,patternIdxToConfig:O,charCodeToPatternIdxToConfig:L,hasCustom:U,canBeOptimized:R}}function e_0(Z,J){let Q=[],K=Bk8(Z);Q=Q.concat(K.errors);let U=Ok8(K.valid),X=U.valid;return Q=Q.concat(U.errors),Q=Q.concat(Mk8(X)),Q=Q.concat(Vk8(X)),Q=Q.concat(Pk8(X,J)),Q=Q.concat(Ck8(X)),Q}function Mk8(Z){let J=[],Q=vQ(Z,(K)=>zX(K[fz]));return J=J.concat(Lk8(Q)),J=J.concat(Ak8(Q)),J=J.concat(Nk8(Q)),J=J.concat(Ek8(Q)),J=J.concat(Dk8(Q)),J}function Bk8(Z){let J=vQ(Z,(U)=>{return!n8(U,fz)}),Q=l8(J,(U)=>{return{message:"Token Type: ->"+U.name+"<- missing static 'PATTERN' property",type:NJ.MISSING_PATTERN,tokenTypes:[U]}}),K=tq(Z,J);return{errors:Q,valid:K}}function Ok8(Z){let J=vQ(Z,(U)=>{let X=U[fz];return!zX(X)&&!z6(X)&&!n8(X,"exec")&&!F6(X)}),Q=l8(J,(U)=>{return{message:"Token Type: ->"+U.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:NJ.INVALID_PATTERN,tokenTypes:[U]}}),K=tq(Z,J);return{errors:Q,valid:K}}function Lk8(Z){class J extends PY{constructor(){super(...arguments);this.found=!1}visitEndAnchor(U){this.found=!0}}let Q=vQ(Z,(U)=>{let X=U.PATTERN;try{let Y=AB(X),q=new J;return q.visit(Y),q.found}catch(Y){return Rk8.test(X.source)}});return l8(Q,(U)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+U.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:NJ.EOI_ANCHOR_FOUND,tokenTypes:[U]}})}function Dk8(Z){let J=vQ(Z,(K)=>{return K.PATTERN.test("")});return l8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' must not match an empty string",type:NJ.EMPTY_MATCH_PATTERN,tokenTypes:[K]}})}function Ak8(Z){class J extends PY{constructor(){super(...arguments);this.found=!1}visitStartAnchor(U){this.found=!0}}let Q=vQ(Z,(U)=>{let X=U.PATTERN;try{let Y=AB(X),q=new J;return q.visit(Y),q.found}catch(Y){return Ik8.test(X.source)}});return l8(Q,(U)=>{return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+U.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:NJ.SOI_ANCHOR_FOUND,tokenTypes:[U]}})}function Nk8(Z){let J=vQ(Z,(K)=>{let U=K[fz];return U instanceof RegExp&&(U.multiline||U.global)});return l8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:NJ.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[K]}})}function Ek8(Z){let J=[],Q=l8(Z,(X)=>{return z7(Z,(Y,q)=>{if(X.PATTERN.source===q.PATTERN.source&&!pJ(J,q)&&q.PATTERN!==vJ.NA)return J.push(q),Y.push(q),Y;return Y},[])});Q=qX(Q);let K=vQ(Q,(X)=>{return X.length>1});return l8(K,(X)=>{let Y=l8(X,(W)=>{return W.name});return{message:`The same RegExp pattern ->${m7(X).PATTERN}<-has been used in all of the following Token Types: ${Y.join(", ")} <-`,type:NJ.DUPLICATE_PATTERNS_FOUND,tokenTypes:X}})}function Vk8(Z){let J=vQ(Z,(K)=>{if(!n8(K,"GROUP"))return!1;let U=K.GROUP;return U!==vJ.SKIPPED&&U!==vJ.NA&&!F6(U)});return l8(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:NJ.INVALID_GROUP_TYPE_FOUND,tokenTypes:[K]}})}function Pk8(Z,J){let Q=vQ(Z,(U)=>{return U.PUSH_MODE!==void 0&&!pJ(J,U.PUSH_MODE)});return l8(Q,(U)=>{return{message:`Token Type: ->${U.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${U.PUSH_MODE}<-which does not exist`,type:NJ.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[U]}})}function Ck8(Z){let J=[],Q=z7(Z,(K,U,X)=>{let Y=U.PATTERN;if(Y===vJ.NA)return K;if(F6(Y))K.push({str:Y,idx:X,tokenType:U});else if(zX(Y)&&Sk8(Y))K.push({str:Y.source,idx:X,tokenType:U});return K},[]);return r8(Z,(K,U)=>{r8(Q,({str:X,idx:Y,tokenType:q})=>{if(U<Y&&jk8(X,K.PATTERN)){let W=`Token: ->${q.name}<- can never be matched.
Because it appears AFTER the Token Type ->${K.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;J.push({message:W,type:NJ.UNREACHABLE_PATTERN,tokenTypes:[K,q]})}})}),J}function jk8(Z,J){if(zX(J)){let Q=J.exec(Z);return Q!==null&&Q.index===0}else if(z6(J))return J(Z,0,[],{});else if(n8(J,"exec"))return J.exec(Z,0,[],{});else if(typeof J==="string")return J===Z;else throw Error("non exhaustive match")}function Sk8(Z){return GX([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(Q)=>Z.source.indexOf(Q)!==-1)===void 0}function a_0(Z){let J=Z.ignoreCase?"i":"";return new RegExp(`^(?:${Z.source})`,J)}function o_0(Z){let J=Z.ignoreCase?"iy":"y";return new RegExp(`${Z.source}`,J)}function Zf0(Z,J,Q){let K=[];if(!n8(Z,EB))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+EB+`> property in its definition
`,type:NJ.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE});if(!n8(Z,k$))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+k$+`> property in its definition
`,type:NJ.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY});if(n8(Z,k$)&&n8(Z,EB)&&!n8(Z.modes,Z.defaultMode))K.push({message:`A MultiMode Lexer cannot be initialized with a ${EB}: <${Z.defaultMode}>which does not exist
`,type:NJ.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST});if(n8(Z,k$))r8(Z.modes,(U,X)=>{r8(U,(Y,q)=>{if(xQ(Y))K.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${X}> at index: <${q}>
`,type:NJ.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(n8(Y,"LONGER_ALT")){let W=t8(Y.LONGER_ALT)?Y.LONGER_ALT:[Y.LONGER_ALT];r8(W,(G)=>{if(!xQ(G)&&!pJ(U,G))K.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${G.name}> on token <${Y.name}> outside of mode <${X}>
`,type:NJ.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})});return K}function Jf0(Z,J,Q){let K=[],U=!1,X=qX(E7(h9(Z.modes))),Y=eq(X,(W)=>W[fz]===vJ.NA),q=Yf0(Q);if(J)r8(Y,(W)=>{let G=Xf0(W,q);if(G!==!1){let H={message:wk8(W,G),type:G.issue,tokenType:W};K.push(H)}else if(n8(W,"LINE_BREAKS")){if(W.LINE_BREAKS===!0)U=!0}else if($$(q,W.PATTERN))U=!0});if(J&&!U)K.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:NJ.NO_LINE_BREAKS_FLAGS});return K}function Qf0(Z){let J={},Q=t9(Z);return r8(Q,(K)=>{let U=Z[K];if(t8(U))J[K]=[];else throw Error("non exhaustive match")}),J}function Kf0(Z){let J=Z.PATTERN;if(zX(J))return!1;else if(z6(J))return!0;else if(n8(J,"exec"))return!0;else if(F6(J))return!1;else throw Error("non exhaustive match")}function Tk8(Z){if(F6(Z)&&Z.length===1)return Z.charCodeAt(0);else return!1}function Xf0(Z,J){if(n8(Z,"LINE_BREAKS"))return!1;else if(zX(Z.PATTERN)){try{$$(J,Z.PATTERN)}catch(Q){return{issue:NJ.IDENTIFY_TERMINATOR,errMsg:Q.message}}return!1}else if(F6(Z.PATTERN))return!1;else if(Kf0(Z))return{issue:NJ.CUSTOM_LINE_BREAK};else throw Error("non exhaustive match")}function wk8(Z,J){if(J.issue===NJ.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${Z.name}> Token Type
	 Root cause: ${J.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;else if(J.issue===NJ.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${Z.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;else throw Error("non exhaustive match")}function Yf0(Z){return l8(Z,(Q)=>{if(F6(Q))return Q.charCodeAt(0);else return Q})}function kn(Z,J,Q){if(Z[J]===void 0)Z[J]=[Q];else Z[J].push(Q)}function BX(Z){return Z<NB?Z:_$[Z]}function $k8(){if(lZ(_$)){_$=Array(65536);for(let Z=0;Z<65536;Z++)_$[Z]=Z>255?255+~~(Z/255):Z}}var fz="PATTERN",EB="defaultMode",k$="modes",_n,Rk8,Ik8,Uf0,NB=256,_$;var $n=f(()=>{KI();cI();m9();KB();n_0();T$();_n=typeof new RegExp("(?:)").sticky==="boolean";Rk8=/[^\\][$]/;Ik8=/[^\\[][\^]|^\^/;Uf0={test:function(Z){let J=Z.length;for(let Q=this.lastIndex;Q<J;Q++){let K=Z.charCodeAt(Q);if(K===10)return this.lastIndex=Q+1,!0;else if(K===13){if(Z.charCodeAt(Q+1)===10)this.lastIndex=Q+2;else this.lastIndex=Q+1;return!0}}return!1},lastIndex:0};_$=[]});function kY(Z,J){let Q=Z.tokenTypeIdx;if(Q===J.tokenTypeIdx)return!0;else return J.isParent===!0&&J.categoryMatchesMap[Q]===!0}function VB(Z,J){return Z.tokenTypeIdx===J.tokenTypeIdx}function _Y(Z){let J=kk8(Z);_k8(J),vk8(J),fk8(J),r8(J,(Q)=>{Q.isParent=Q.categoryMatches.length>0})}function kk8(Z){let J=ZJ(Z),Q=Z,K=!0;while(K){Q=qX(E7(l8(Q,(X)=>X.CATEGORIES)));let U=tq(Q,J);if(J=J.concat(U),lZ(U))K=!1;else Q=U}return J}function _k8(Z){r8(Z,(J)=>{if(!fn(J))Gf0[qf0]=J,J.tokenTypeIdx=qf0++;if(Wf0(J)&&!t8(J.CATEGORIES))J.CATEGORIES=[J.CATEGORIES];if(!Wf0(J))J.CATEGORIES=[];if(!xk8(J))J.categoryMatches=[];if(!bk8(J))J.categoryMatchesMap={}})}function fk8(Z){r8(Z,(J)=>{J.categoryMatches=[],r8(J.categoryMatchesMap,(Q,K)=>{J.categoryMatches.push(Gf0[K].tokenTypeIdx)})})}function vk8(Z){r8(Z,(J)=>{zf0([],J)})}function zf0(Z,J){r8(Z,(Q)=>{J.categoryMatchesMap[Q.tokenTypeIdx]=!0}),r8(J.CATEGORIES,(Q)=>{let K=Z.concat(J);if(!pJ(K,Q))zf0(K,Q)})}function fn(Z){return n8(Z,"tokenTypeIdx")}function Wf0(Z){return n8(Z,"CATEGORIES")}function xk8(Z){return n8(Z,"categoryMatches")}function bk8(Z){return n8(Z,"categoryMatchesMap")}function Hf0(Z){return n8(Z,"tokenTypeIdx")}var qf0=1,Gf0;var vz=f(()=>{m9();Gf0={}});var PB;var vn=f(()=>{PB={buildUnableToPopLexerModeMessage(Z){return`Unable to pop Lexer Mode after encountering Token ->${Z.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(Z,J,Q,K,U){return`unexpected character: ->${Z.charAt(J)}<- at offset: ${J}, skipped ${Q} characters.`}}});class vJ{constructor(Z,J=lI){if(this.lexerDefinition=Z,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(K,U)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let X=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${X}--> <${K}>`);let{time:Y,value:q}=CI(U),W=Y>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)W(`${X}<-- <${K}> time: ${Y}ms`);return this.traceInitIndent--,q}else return U()},typeof J==="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=bM({},lI,J);let Q=this.config.traceInitPerf;if(Q===!0)this.traceInitMaxIdent=1/0,this.traceInitPerf=!0;else if(typeof Q==="number")this.traceInitMaxIdent=Q,this.traceInitPerf=!0;this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let K,U=!0;if(this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===lI.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Uf0;else if(this.config.lineTerminatorCharacters===lI.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(J.safeMode&&J.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');if(this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),t8(Z))K={modes:{defaultMode:ZJ(Z)},defaultMode:EB};else U=!1,K=ZJ(Z)}),this.config.skipValidations===!1)this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Zf0(K,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Jf0(K,this.trackStartLines,this.config.lineTerminatorCharacters))});K.modes=K.modes?K.modes:{},r8(K.modes,(Y,q)=>{K.modes[q]=eq(Y,(W)=>xQ(W))});let X=t9(K.modes);if(r8(K.modes,(Y,q)=>{this.TRACE_INIT(`Mode: <${q}> processing`,()=>{if(this.modes.push(q),this.config.skipValidations===!1)this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(e_0(Y,X))});if(lZ(this.lexerDefinitionErrors)){_Y(Y);let W;this.TRACE_INIT("analyzeTokenTypes",()=>{W=t_0(Y,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:J.positionTracking,ensureOptimizations:J.ensureOptimizations,safeMode:J.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[q]=W.patternIdxToConfig,this.charCodeToPatternIdxToConfig[q]=W.charCodeToPatternIdxToConfig,this.emptyGroups=bM({},this.emptyGroups,W.emptyGroups),this.hasCustom=W.hasCustom||this.hasCustom,this.canModeBeOptimized[q]=W.canBeOptimized}})}),this.defaultMode=K.defaultMode,!lZ(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let q=l8(this.lexerDefinitionErrors,(W)=>{return W.message}).join(`-----------------------
`);throw Error(`Errors detected in definition of Lexer:
`+q)}r8(this.lexerDefinitionWarning,(Y)=>{PI(Y.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(_n)this.chopInput=wK,this.match=this.matchWithTest;else this.updateLastIndex=fJ,this.match=this.matchWithExec;if(U)this.handleModes=fJ;if(this.trackStartLines===!1)this.computeNewColumn=wK;if(this.trackEndLines===!1)this.updateTokenEndLineColumnLocation=fJ;if(/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);if(this.hasCustom)this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom;else this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let Y=z7(this.canModeBeOptimized,(q,W,G)=>{if(W===!1)q.push(G);return q},[]);if(J.ensureOptimizations&&!lZ(Y))throw Error(`Lexer Modes: < ${Y.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{l_0()}),this.TRACE_INIT("toFastProperties",()=>{jI(this)})})}tokenize(Z,J=this.defaultMode){if(!lZ(this.lexerDefinitionErrors)){let K=l8(this.lexerDefinitionErrors,(U)=>{return U.message}).join(`-----------------------
`);throw Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+K)}return this.tokenizeInternal(Z,J)}tokenizeInternal(Z,J){let Q,K,U,X,Y,q,W,G,z,H,F,M,B,O,R,L,D=Z,A=D.length,V=0,N=0,E=this.hasCustom?0:Math.floor(Z.length/10),C=Array(E),j=[],$=this.trackStartLines?1:void 0,k=this.trackStartLines?1:void 0,w=Qf0(this.emptyGroups),P=this.trackStartLines,S=this.config.lineTerminatorsPattern,T=0,_=[],v=[],x=[],b=[];Object.freeze(b);let y;function u(){return _}function h(X0){let a=BX(X0),z0=v[a];if(z0===void 0)return b;else return z0}let p=(X0)=>{if(x.length===1&&X0.tokenType.PUSH_MODE===void 0){let a=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(X0);j.push({offset:X0.startOffset,line:X0.startLine,column:X0.startColumn,length:X0.image.length,message:a})}else{x.pop();let a=WX(x);_=this.patternIdxToConfig[a],v=this.charCodeToPatternIdxToConfig[a],T=_.length;let z0=this.canModeBeOptimized[a]&&this.config.safeMode===!1;if(v&&z0)y=h;else y=u}};function r(X0){x.push(X0),v=this.charCodeToPatternIdxToConfig[X0],_=this.patternIdxToConfig[X0],T=_.length,T=_.length;let a=this.canModeBeOptimized[X0]&&this.config.safeMode===!1;if(v&&a)y=h;else y=u}r.call(this,J);let t,d=this.config.recoveryEnabled;while(V<A){q=null;let X0=D.charCodeAt(V),a=y(X0),z0=a.length;for(Q=0;Q<z0;Q++){t=a[Q];let J0=t.pattern;W=null;let Q0=t.short;if(Q0!==!1){if(X0===Q0)q=J0}else if(t.isCustom===!0)if(L=J0.exec(D,V,C,w),L!==null){if(q=L[0],L.payload!==void 0)W=L.payload}else q=null;else this.updateLastIndex(J0,V),q=this.match(J0,Z,V);if(q!==null){if(Y=t.longerAlt,Y!==void 0){let e=Y.length;for(U=0;U<e;U++){let n=_[Y[U]],Y0=n.pattern;if(G=null,n.isCustom===!0)if(L=Y0.exec(D,V,C,w),L!==null){if(X=L[0],L.payload!==void 0)G=L.payload}else X=null;else this.updateLastIndex(Y0,V),X=this.match(Y0,Z,V);if(X&&X.length>q.length){q=X,W=G,t=n;break}}}break}}if(q!==null){if(z=q.length,H=t.group,H!==void 0)if(F=t.tokenTypeIdx,M=this.createTokenInstance(q,V,F,t.tokenType,$,k,z),this.handlePayload(M,W),H===!1)N=this.addToken(C,N,M);else w[H].push(M);if(Z=this.chopInput(Z,z),V=V+z,k=this.computeNewColumn(k,z),P===!0&&t.canLineTerminator===!0){let J0=0,Q0,e;S.lastIndex=0;do if(Q0=S.test(q),Q0===!0)e=S.lastIndex-1,J0++;while(Q0===!0);if(J0!==0)$=$+J0,k=z-e,this.updateTokenEndLineColumnLocation(M,H,e,J0,$,k,z)}this.handleModes(t,p,r,M)}else{let J0=V,Q0=$,e=k,n=d===!1;while(n===!1&&V<A){Z=this.chopInput(Z,1),V++;for(K=0;K<T;K++){let Y0=_[K],o=Y0.pattern,M0=Y0.short;if(M0!==!1){if(D.charCodeAt(V)===M0)n=!0}else if(Y0.isCustom===!0)n=o.exec(D,V,C,w)!==null;else this.updateLastIndex(o,V),n=o.exec(Z)!==null;if(n===!0)break}}if(B=V-J0,k=this.computeNewColumn(k,B),R=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(D,J0,B,Q0,e),j.push({offset:J0,line:Q0,column:e,length:B,message:R}),d===!1)break}}if(!this.hasCustom)C.length=N;return{tokens:C,groups:w,errors:j}}handleModes(Z,J,Q,K){if(Z.pop===!0){let U=Z.push;if(J(K),U!==void 0)Q.call(this,U)}else if(Z.push!==void 0)Q.call(this,Z.push)}chopInput(Z,J){return Z.substring(J)}updateLastIndex(Z,J){Z.lastIndex=J}updateTokenEndLineColumnLocation(Z,J,Q,K,U,X,Y){let q,W;if(J!==void 0){if(q=Q===Y-1,W=q?-1:0,!(K===1&&q===!0))Z.endLine=U+W,Z.endColumn=X-1+-W}}computeNewColumn(Z,J){return Z+J}createOffsetOnlyToken(Z,J,Q,K){return{image:Z,startOffset:J,tokenTypeIdx:Q,tokenType:K}}createStartOnlyToken(Z,J,Q,K,U,X){return{image:Z,startOffset:J,startLine:U,startColumn:X,tokenTypeIdx:Q,tokenType:K}}createFullToken(Z,J,Q,K,U,X,Y){return{image:Z,startOffset:J,endOffset:J+Y-1,startLine:U,endLine:U,startColumn:X,endColumn:X+Y-1,tokenTypeIdx:Q,tokenType:K}}addTokenUsingPush(Z,J,Q){return Z.push(Q),J}addTokenUsingMemberAccess(Z,J,Q){return Z[J]=Q,J++,J}handlePayloadNoCustom(Z,J){}handlePayloadWithCustom(Z,J){if(J!==null)Z.payload=J}matchWithTest(Z,J,Q){if(Z.test(J)===!0)return J.substring(Q,Z.lastIndex);return null}matchWithExec(Z,J){let Q=Z.exec(J);return Q!==null?Q[0]:null}}var NJ,lI;var cI=f(()=>{$n();m9();KB();vz();vn();T$();(function(Z){Z[Z.MISSING_PATTERN=0]="MISSING_PATTERN",Z[Z.INVALID_PATTERN=1]="INVALID_PATTERN",Z[Z.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Z[Z.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Z[Z.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Z[Z.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Z[Z.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Z[Z.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Z[Z.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Z[Z.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Z[Z.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Z[Z.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Z[Z.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Z[Z.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Z[Z.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Z[Z.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Z[Z.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Z[Z.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(NJ||(NJ={}));lI={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:PB,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(lI);vJ.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";vJ.NA=/NOT_APPLICABLE/});function fY(Z){if(xn(Z))return Z.LABEL;else return Z.name}function xn(Z){return F6(Z.LABEL)&&Z.LABEL!==""}function DW(Z){return hk8(Z)}function hk8(Z){let J=Z.pattern,Q={};if(Q.name=Z.name,!xQ(J))Q.PATTERN=J;if(n8(Z,yk8))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;if(n8(Z,Ff0))Q.CATEGORIES=Z[Ff0];if(_Y([Q]),n8(Z,Mf0))Q.LABEL=Z[Mf0];if(n8(Z,Bf0))Q.GROUP=Z[Bf0];if(n8(Z,Rf0))Q.POP_MODE=Z[Rf0];if(n8(Z,Of0))Q.PUSH_MODE=Z[Of0];if(n8(Z,Lf0))Q.LONGER_ALT=Z[Lf0];if(n8(Z,Df0))Q.LINE_BREAKS=Z[Df0];if(n8(Z,If0))Q.START_CHARS_HINT=Z[If0];return Q}function vY(Z,J,Q,K,U,X,Y,q){return{image:J,startOffset:Q,endOffset:K,startLine:U,endLine:X,startColumn:Y,endColumn:q,tokenTypeIdx:Z.tokenTypeIdx,tokenType:Z}}function dI(Z,J){return kY(Z,J)}var yk8="parent",Ff0="categories",Mf0="label",Bf0="group",Of0="push_mode",Rf0="pop_mode",Lf0="longer_alt",Df0="line_breaks",If0="start_chars_hint",u4;var xz=f(()=>{m9();cI();vz();u4=DW({name:"EOF",pattern:vJ.NA});_Y([u4])});var xY,Af0,b5;var CB=f(()=>{xz();m9();O6();xY={buildMismatchTokenMessage({expected:Z,actual:J,previous:Q,ruleName:K}){return`Expecting ${xn(Z)?`--> ${fY(Z)} <--`:`token of type --> ${Z.name} <--`} but found --> '${J.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:J}){return"Redundant input, expecting EOF but found: "+Z.image},buildNoViableAltMessage({expectedPathsPerAlt:Z,actual:J,previous:Q,customUserDescription:K,ruleName:U}){let q=`
but found: '`+m7(J).image+"'";if(K)return"Expecting: "+K+q;else{let W=z7(Z,(F,M)=>F.concat(M),[]),G=l8(W,(F)=>`[${l8(F,(M)=>fY(M)).join(", ")}]`);return`Expecting: one of these possible Token sequences:
${l8(G,(F,M)=>`  ${M+1}. ${F}`).join(`
`)}`+q}},buildEarlyExitMessage({expectedIterationPaths:Z,actual:J,customUserDescription:Q,ruleName:K}){let Y=`
but found: '`+m7(J).image+"'";if(Q)return"Expecting: "+Q+Y;else return`Expecting: expecting at least one iteration which starts with one of these possible Token sequences::
  <${l8(Z,(G)=>`[${l8(G,(z)=>fY(z)).join(",")}]`).join(" ,")}>`+Y}};Object.freeze(xY);Af0={buildRuleNotFoundError(Z,J){return"Invalid grammar, reference to a rule which is not defined: ->"+J.nonTerminalName+`<-
inside top level rule: ->`+Z.name+"<-"}},b5={buildDuplicateFoundError(Z,J){function Q(z){if(z instanceof dZ)return z.terminalType.name;else if(z instanceof _9)return z.nonTerminalName;else return""}let K=Z.name,U=m7(J),X=U.idx,Y=q4(U),q=Q(U),W=X>0,G=`->${Y}${W?X:""}<- ${q?`with argument: ->${q}<-`:""}
                  appears more than once (${J.length} times) in the top level rule: ->${K}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return G=G.replace(/[ \t]+/g," "),G=G.replace(/\s\s+/g,`
`),G},buildNamespaceConflictError(Z){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${Z.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(Z){let J=l8(Z.prefixPath,(U)=>fY(U)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx;return`Ambiguous alternatives: <${Z.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(Z){let J=l8(Z.prefixPath,(U)=>fY(U)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx,K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(" ,")}> in <OR${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
`;return K=K+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,K},buildEmptyRepetitionError(Z){let J=q4(Z.repetition);if(Z.repetition.idx!==0)J+=Z.repetition.idx;return`The repetition <${J}> within Rule <${Z.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(Z){return"deprecated"},buildEmptyAlternationError(Z){return`Ambiguous empty alternative: <${Z.emptyChoiceIdx+1}> in <OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(Z){return`An Alternation cannot have more than 256 alternatives:
<OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.
 has ${Z.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(Z){let J=Z.topLevelRule.name,Q=l8(Z.leftRecursionPath,(X)=>X.name),K=`${J} --> ${Q.concat([J]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${J}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${K}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(Z){return"deprecated"},buildDuplicateRuleNameError(Z){let J;if(Z.topLevelRule instanceof X4)J=Z.topLevelRule.name;else J=Z.topLevelRule;return`Duplicate definition, rule: ->${J}<- is already defined in the grammar: ->${Z.grammarName}<-`}}});function Nf0(Z,J){let Q=new Ef0(Z,J);return Q.resolveRefs(),Q.errors}var Ef0;var Vf0=f(()=>{W4();m9();O6();Ef0=class Ef0 extends Y4{constructor(Z,J){super();this.nameToTopRule=Z,this.errMsgProvider=J,this.errors=[]}resolveRefs(){r8(h9(this.nameToTopRule),(Z)=>{this.currTopLevel=Z,Z.accept(this)})}visitNonTerminal(Z){let J=this.nameToTopRule[Z.nonTerminalName];if(!J){let Q=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,Z);this.errors.push({message:Q,type:V7.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:Z.nonTerminalName})}else Z.referencedRule=J}}});function x$(Z,J,Q=[]){Q=ZJ(Q);let K=[],U=0;function X(q){return q.concat(oJ(Z,U+1))}function Y(q){let W=x$(X(q),J,Q);return K.concat(W)}while(Q.length<J&&U<Z.length){let q=Z[U];if(q instanceof zJ)return Y(q.definition);else if(q instanceof _9)return Y(q.definition);else if(q instanceof f9)K=Y(q.definition);else if(q instanceof HJ){let W=q.definition.concat([new Y9({definition:q.definition})]);return Y(W)}else if(q instanceof FJ){let W=[new zJ({definition:q.definition}),new Y9({definition:[new dZ({terminalType:q.separator})].concat(q.definition)})];return Y(W)}else if(q instanceof JJ){let W=q.definition.concat([new Y9({definition:[new dZ({terminalType:q.separator})].concat(q.definition)})]);K=Y(W)}else if(q instanceof Y9){let W=q.definition.concat([new Y9({definition:q.definition})]);K=Y(W)}else if(q instanceof QJ)return r8(q.definition,(W)=>{if(lZ(W.definition)===!1)K=Y(W.definition)}),K;else if(q instanceof dZ)Q.push(q.terminalType);else throw Error("non exhaustive match");U++}return K.push({partialPath:Q,suffixDef:oJ(Z,U)}),K}function b$(Z,J,Q,K){let X=["EXIT_NONE_TERMINAL"],Y="EXIT_ALTERNATIVE",q=!1,W=J.length,G=W-K-1,z=[],H=[];H.push({idx:-1,def:Z,ruleStack:[],occurrenceStack:[]});while(!lZ(H)){let F=H.pop();if(F==="EXIT_ALTERNATIVE"){if(q&&WX(H).idx<=G)H.pop();continue}let{def:M,idx:B,ruleStack:O,occurrenceStack:R}=F;if(lZ(M))continue;let L=M[0];if(L==="EXIT_NONE_TERMINAL"){let D={idx:B,def:oJ(M),ruleStack:TY(O),occurrenceStack:TY(R)};H.push(D)}else if(L instanceof dZ)if(B<W-1){let D=B+1,A=J[D];if(Q(A,L.terminalType)){let V={idx:D,def:oJ(M),ruleStack:O,occurrenceStack:R};H.push(V)}}else if(B===W-1)z.push({nextTokenType:L.terminalType,nextTokenOccurrence:L.idx,ruleStack:O,occurrenceStack:R}),q=!0;else throw Error("non exhaustive match");else if(L instanceof _9){let D=ZJ(O);D.push(L.nonTerminalName);let A=ZJ(R);A.push(L.idx);let V={idx:B,def:L.definition.concat(X,oJ(M)),ruleStack:D,occurrenceStack:A};H.push(V)}else if(L instanceof f9){let D={idx:B,def:oJ(M),ruleStack:O,occurrenceStack:R};H.push(D),H.push("EXIT_ALTERNATIVE");let A={idx:B,def:L.definition.concat(oJ(M)),ruleStack:O,occurrenceStack:R};H.push(A)}else if(L instanceof HJ){let D=new Y9({definition:L.definition,idx:L.idx}),A=L.definition.concat([D],oJ(M)),V={idx:B,def:A,ruleStack:O,occurrenceStack:R};H.push(V)}else if(L instanceof FJ){let D=new dZ({terminalType:L.separator}),A=new Y9({definition:[D].concat(L.definition),idx:L.idx}),V=L.definition.concat([A],oJ(M)),N={idx:B,def:V,ruleStack:O,occurrenceStack:R};H.push(N)}else if(L instanceof JJ){let D={idx:B,def:oJ(M),ruleStack:O,occurrenceStack:R};H.push(D),H.push("EXIT_ALTERNATIVE");let A=new dZ({terminalType:L.separator}),V=new Y9({definition:[A].concat(L.definition),idx:L.idx}),N=L.definition.concat([V],oJ(M)),E={idx:B,def:N,ruleStack:O,occurrenceStack:R};H.push(E)}else if(L instanceof Y9){let D={idx:B,def:oJ(M),ruleStack:O,occurrenceStack:R};H.push(D),H.push("EXIT_ALTERNATIVE");let A=new Y9({definition:L.definition,idx:L.idx}),V=L.definition.concat([A],oJ(M)),N={idx:B,def:V,ruleStack:O,occurrenceStack:R};H.push(N)}else if(L instanceof QJ)for(let D=L.definition.length-1;D>=0;D--){let A=L.definition[D],V={idx:B,def:A.definition.concat(oJ(M)),ruleStack:O,occurrenceStack:R};H.push(V),H.push("EXIT_ALTERNATIVE")}else if(L instanceof zJ)H.push({idx:B,def:L.definition.concat(oJ(M)),ruleStack:O,occurrenceStack:R});else if(L instanceof X4)H.push(mk8(L,B,O,R));else throw Error("non exhaustive match")}return z}function mk8(Z,J,Q,K){let U=ZJ(Q);U.push(Z.name);let X=ZJ(K);return X.push(1),{idx:J,def:Z.definition,ruleStack:U,occurrenceStack:X}}var Pf0,bn,iI,yn,f$,hn,v$;var sI=f(()=>{m9();Sn();C$();O6();Pf0=class Pf0 extends LW{constructor(Z,J){super();this.topProd=Z,this.path=J,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ZJ(this.path.ruleStack).reverse(),this.occurrenceStack=ZJ(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(Z,J=[]){if(!this.found)super.walk(Z,J)}walkProdRef(Z,J,Q){if(Z.referencedRule.name===this.nextProductionName&&Z.idx===this.nextProductionOccurrence){let K=J.concat(Q);this.updateExpectedNext(),this.walk(Z.referencedRule,K)}}updateExpectedNext(){if(lZ(this.ruleStack))this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0;else this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop()}};bn=class bn extends Pf0{constructor(Z,J){super(Z,J);this.path=J,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(Z,J,Q){if(this.isAtEndOfPath&&Z.terminalType.name===this.nextTerminalName&&Z.idx===this.nextTerminalOccurrence&&!this.found){let K=J.concat(Q),U=new zJ({definition:K});this.possibleTokTypes=_z(U),this.found=!0}}};iI=class iI extends LW{constructor(Z,J){super();this.topRule=Z,this.occurrence=J,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}};yn=class yn extends iI{walkMany(Z,J,Q){if(Z.idx===this.occurrence){let K=m7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof dZ)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkMany(Z,J,Q)}};f$=class f$ extends iI{walkManySep(Z,J,Q){if(Z.idx===this.occurrence){let K=m7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof dZ)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkManySep(Z,J,Q)}};hn=class hn extends iI{walkAtLeastOne(Z,J,Q){if(Z.idx===this.occurrence){let K=m7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof dZ)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOne(Z,J,Q)}};v$=class v$ extends iI{walkAtLeastOneSep(Z,J,Q){if(Z.idx===this.occurrence){let K=m7(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof dZ)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOneSep(Z,J,Q)}}});function rI(Z){if(Z instanceof f9||Z==="Option")return EJ.OPTION;else if(Z instanceof Y9||Z==="Repetition")return EJ.REPETITION;else if(Z instanceof HJ||Z==="RepetitionMandatory")return EJ.REPETITION_MANDATORY;else if(Z instanceof FJ||Z==="RepetitionMandatoryWithSeparator")return EJ.REPETITION_MANDATORY_WITH_SEPARATOR;else if(Z instanceof JJ||Z==="RepetitionWithSeparator")return EJ.REPETITION_WITH_SEPARATOR;else if(Z instanceof QJ||Z==="Alternation")return EJ.ALTERNATION;else throw Error("non exhaustive match")}function y$(Z){let{occurrence:J,rule:Q,prodType:K,maxLookahead:U}=Z,X=rI(K);if(X===EJ.ALTERNATION)return jB(J,Q,U);else return SB(J,Q,X,U)}function jf0(Z,J,Q,K,U,X){let Y=jB(Z,J,Q),q=ff0(Y)?VB:kY;return X(Y,K,q,U)}function Sf0(Z,J,Q,K,U,X){let Y=SB(Z,J,U,Q),q=ff0(Y)?VB:kY;return X(Y[0],q,K)}function Tf0(Z,J,Q,K){let U=Z.length,X=J4(Z,(Y)=>{return J4(Y,(q)=>{return q.length===1})});if(J)return function(Y){let q=l8(Y,(W)=>W.GATE);for(let W=0;W<U;W++){let G=Z[W],z=G.length,H=q[W];if(H!==void 0&&H.call(this)===!1)continue;Z:for(let F=0;F<z;F++){let M=G[F],B=M.length;for(let O=0;O<B;O++){let R=this.LA(O+1);if(Q(R,M[O])===!1)continue Z}return W}}return};else if(X&&!K){let Y=l8(Z,(W)=>{return E7(W)}),q=z7(Y,(W,G,z)=>{return r8(G,(H)=>{if(!n8(W,H.tokenTypeIdx))W[H.tokenTypeIdx]=z;r8(H.categoryMatches,(F)=>{if(!n8(W,F))W[F]=z})}),W},{});return function(){let W=this.LA(1);return q[W.tokenTypeIdx]}}else return function(){for(let Y=0;Y<U;Y++){let q=Z[Y],W=q.length;Z:for(let G=0;G<W;G++){let z=q[G],H=z.length;for(let F=0;F<H;F++){let M=this.LA(F+1);if(Q(M,z[F])===!1)continue Z}return Y}}return}}function wf0(Z,J,Q){let K=J4(Z,(X)=>{return X.length===1}),U=Z.length;if(K&&!Q){let X=E7(Z);if(X.length===1&&lZ(X[0].categoryMatches)){let q=X[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===q}}else{let Y=z7(X,(q,W,G)=>{return q[W.tokenTypeIdx]=!0,r8(W.categoryMatches,(z)=>{q[z]=!0}),q},[]);return function(){let q=this.LA(1);return Y[q.tokenTypeIdx]===!0}}}else return function(){Z:for(let X=0;X<U;X++){let Y=Z[X],q=Y.length;for(let W=0;W<q;W++){let G=this.LA(W+1);if(J(G,Y[W])===!1)continue Z}return!0}return!1}}function Cf0(Z){let J=Array(Z);for(let Q=0;Q<Z;Q++)J[Q]=[];return J}function mn(Z){let J=[""];for(let Q=0;Q<Z.length;Q++){let K=Z[Q],U=[];for(let X=0;X<J.length;X++){let Y=J[X];U.push(Y+"_"+K.tokenTypeIdx);for(let q=0;q<K.categoryMatches.length;q++){let W="_"+K.categoryMatches[q];U.push(Y+W)}}J=U}return J}function uk8(Z,J,Q){for(let K=0;K<Z.length;K++){if(K===Q)continue;let U=Z[K];for(let X=0;X<J.length;X++){let Y=J[X];if(U[Y]===!0)return!1}}return!0}function kf0(Z,J){let Q=l8(Z,(Y)=>x$([Y],1)),K=Cf0(Q.length),U=l8(Q,(Y)=>{let q={};return r8(Y,(W)=>{let G=mn(W.partialPath);r8(G,(z)=>{q[z]=!0})}),q}),X=Q;for(let Y=1;Y<=J;Y++){let q=X;X=Cf0(q.length);for(let W=0;W<q.length;W++){let G=q[W];for(let z=0;z<G.length;z++){let H=G[z].partialPath,F=G[z].suffixDef,M=mn(H);if(uk8(U,M,W)||lZ(F)||H.length===J){let O=K[W];if(h$(O,H)===!1){O.push(H);for(let R=0;R<M.length;R++){let L=M[R];U[W][L]=!0}}}else{let O=x$(F,Y+1,H);X[W]=X[W].concat(O),r8(O,(R)=>{let L=mn(R.partialPath);r8(L,(D)=>{U[W][D]=!0})})}}}}return K}function jB(Z,J,Q,K){let U=new un(Z,EJ.ALTERNATION,K);return J.accept(U),kf0(U.result,Q)}function SB(Z,J,Q,K){let U=new un(Z,Q);J.accept(U);let X=U.result,q=new $f0(J,Z,Q).startWalking(),W=new zJ({definition:X}),G=new zJ({definition:q});return kf0([W,G],K)}function h$(Z,J){Z:for(let Q=0;Q<Z.length;Q++){let K=Z[Q];if(K.length!==J.length)continue;for(let U=0;U<K.length;U++){let X=J[U],Y=K[U];if((X===Y||Y.categoryMatchesMap[X.tokenTypeIdx]!==void 0)===!1)continue Z}return!0}return!1}function _f0(Z,J){return Z.length<J.length&&J4(Z,(Q,K)=>{let U=J[K];return Q===U||U.categoryMatchesMap[Q.tokenTypeIdx]})}function ff0(Z){return J4(Z,(J)=>J4(J,(Q)=>J4(Q,(K)=>lZ(K.categoryMatches))))}var EJ,$f0,un;var TB=f(()=>{m9();sI();C$();vz();O6();(function(Z){Z[Z.OPTION=0]="OPTION",Z[Z.REPETITION=1]="REPETITION",Z[Z.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Z[Z.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Z[Z.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Z[Z.ALTERNATION=5]="ALTERNATION"})(EJ||(EJ={}));$f0=class $f0 extends LW{constructor(Z,J,Q){super();this.topProd=Z,this.targetOccurrence=J,this.targetProdType=Q}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(Z,J,Q,K){if(Z.idx===this.targetOccurrence&&this.targetProdType===J)return this.restDef=Q.concat(K),!0;return!1}walkOption(Z,J,Q){if(!this.checkIsTarget(Z,EJ.OPTION,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOne(Z,J,Q){if(!this.checkIsTarget(Z,EJ.REPETITION_MANDATORY,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOneSep(Z,J,Q){if(!this.checkIsTarget(Z,EJ.REPETITION_MANDATORY_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}walkMany(Z,J,Q){if(!this.checkIsTarget(Z,EJ.REPETITION,J,Q))super.walkOption(Z,J,Q)}walkManySep(Z,J,Q){if(!this.checkIsTarget(Z,EJ.REPETITION_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}};un=class un extends Y4{constructor(Z,J,Q){super();this.targetOccurrence=Z,this.targetProdType=J,this.targetRef=Q,this.result=[]}checkIsTarget(Z,J){if(Z.idx===this.targetOccurrence&&this.targetProdType===J&&(this.targetRef===void 0||Z===this.targetRef))this.result=Z.definition}visitOption(Z){this.checkIsTarget(Z,EJ.OPTION)}visitRepetition(Z){this.checkIsTarget(Z,EJ.REPETITION)}visitRepetitionMandatory(Z){this.checkIsTarget(Z,EJ.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(Z){this.checkIsTarget(Z,EJ.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(Z){this.checkIsTarget(Z,EJ.REPETITION_WITH_SEPARATOR)}visitAlternation(Z){this.checkIsTarget(Z,EJ.ALTERNATION)}}});function vf0(Z){let J=Z.lookaheadStrategy.validate({rules:Z.rules,tokenTypes:Z.tokenTypes,grammarName:Z.grammarName});return l8(J,(Q)=>Object.assign({type:V7.CUSTOM_LOOKAHEAD_VALIDATION},Q))}function xf0(Z,J,Q,K){let U=H6(Z,(W)=>gk8(W,Q)),X=sk8(Z,J,Q),Y=H6(Z,(W)=>lk8(W,Q)),q=H6(Z,(W)=>ck8(W,Z,K,Q));return U.concat(X,Y,q)}function gk8(Z,J){let Q=new yf0;Z.accept(Q);let K=Q.allProductions,U=yr(K,pk8),X=ur(U,(q)=>{return q.length>1});return l8(h9(X),(q)=>{let W=m7(q),G=J.buildDuplicateFoundError(Z,q),z=q4(W),H={message:G,type:V7.DUPLICATE_PRODUCTIONS,ruleName:Z.name,dslName:z,occurrence:W.idx},F=bf0(W);if(F)H.parameter=F;return H})}function pk8(Z){return`${q4(Z)}_#_${Z.idx}_#_${bf0(Z)}`}function bf0(Z){if(Z instanceof dZ)return Z.terminalType.name;else if(Z instanceof _9)return Z.nonTerminalName;else return""}function ck8(Z,J,Q,K){let U=[];if(z7(J,(Y,q)=>{if(q.name===Z.name)return Y+1;return Y},0)>1){let Y=K.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:Q});U.push({message:Y,type:V7.DUPLICATE_RULE_NAME,ruleName:Z.name})}return U}function hf0(Z,J,Q){let K=[],U;if(!pJ(J,Z))U=`Invalid rule override, rule: ->${Z}<- cannot be overridden in the grammar: ->${Q}<-as it is not defined in any of the super grammars `,K.push({message:U,type:V7.INVALID_RULE_OVERRIDE,ruleName:Z});return K}function gn(Z,J,Q,K=[]){let U=[],X=m$(J.definition);if(lZ(X))return[];else{let Y=Z.name;if(pJ(X,Z))U.push({message:Q.buildLeftRecursionError({topLevelRule:Z,leftRecursionPath:K}),type:V7.LEFT_RECURSION,ruleName:Y});let W=tq(X,K.concat([Z])),G=H6(W,(z)=>{let H=ZJ(K);return H.push(z),gn(Z,z,Q,H)});return U.concat(G)}}function m$(Z){let J=[];if(lZ(Z))return J;let Q=m7(Z);if(Q instanceof _9)J.push(Q.referencedRule);else if(Q instanceof zJ||Q instanceof f9||Q instanceof HJ||Q instanceof FJ||Q instanceof JJ||Q instanceof Y9)J=J.concat(m$(Q.definition));else if(Q instanceof QJ)J=E7(l8(Q.definition,(X)=>m$(X.definition)));else if(Q instanceof dZ);else throw Error("non exhaustive match");let K=kz(Q),U=Z.length>1;if(K&&U){let X=oJ(Z);return J.concat(m$(X))}else return J}function mf0(Z,J){let Q=new u$;Z.accept(Q);let K=Q.alternations;return H6(K,(X)=>{let Y=TY(X.definition);return H6(Y,(q,W)=>{let G=b$([q],[],kY,1);if(lZ(G))return[{message:J.buildEmptyAlternationError({topLevelRule:Z,alternation:X,emptyChoiceIdx:W}),type:V7.NONE_LAST_EMPTY_ALT,ruleName:Z.name,occurrence:X.idx,alternative:W+1}];else return[]})})}function uf0(Z,J,Q){let K=new u$;Z.accept(K);let U=K.alternations;return U=eq(U,(Y)=>Y.ignoreAmbiguities===!0),H6(U,(Y)=>{let q=Y.idx,W=Y.maxLookahead||J,G=jB(q,Z,W,Y),z=dk8(G,Y,Z,Q),H=ik8(G,Y,Z,Q);return z.concat(H)})}function lk8(Z,J){let Q=new u$;Z.accept(Q);let K=Q.alternations;return H6(K,(X)=>{if(X.definition.length>255)return[{message:J.buildTooManyAlternativesError({topLevelRule:Z,alternation:X}),type:V7.TOO_MANY_ALTS,ruleName:Z.name,occurrence:X.idx}];else return[]})}function pf0(Z,J,Q){let K=[];return r8(Z,(U)=>{let X=new gf0;U.accept(X);let Y=X.allProductions;r8(Y,(q)=>{let W=rI(q),G=q.maxLookahead||J,z=q.idx,F=SB(z,U,W,G)[0];if(lZ(E7(F))){let M=Q.buildEmptyRepetitionError({topLevelRule:U,repetition:q});K.push({message:M,type:V7.NO_NON_EMPTY_LOOKAHEAD,ruleName:U.name})}})}),K}function dk8(Z,J,Q,K){let U=[],X=z7(Z,(q,W,G)=>{if(J.definition[G].ignoreAmbiguities===!0)return q;return r8(W,(z)=>{let H=[G];if(r8(Z,(F,M)=>{if(G!==M&&h$(F,z)&&J.definition[M].ignoreAmbiguities!==!0)H.push(M)}),H.length>1&&!h$(U,z))U.push(z),q.push({alts:H,path:z})}),q},[]);return l8(X,(q)=>{let W=l8(q.alts,(z)=>z+1);return{message:K.buildAlternationAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:W,prefixPath:q.path}),type:V7.AMBIGUOUS_ALTS,ruleName:Q.name,occurrence:J.idx,alternatives:q.alts}})}function ik8(Z,J,Q,K){let U=z7(Z,(Y,q,W)=>{let G=l8(q,(z)=>{return{idx:W,path:z}});return Y.concat(G)},[]);return qX(H6(U,(Y)=>{if(J.definition[Y.idx].ignoreAmbiguities===!0)return[];let{idx:W,path:G}=Y,z=vQ(U,(F)=>{return J.definition[F.idx].ignoreAmbiguities!==!0&&F.idx<W&&_f0(F.path,G)});return l8(z,(F)=>{let M=[F.idx+1,W+1],B=J.idx===0?"":J.idx;return{message:K.buildAlternationPrefixAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:M,prefixPath:F.path}),type:V7.AMBIGUOUS_PREFIX_ALTS,ruleName:Q.name,occurrence:B,alternatives:M}})}))}function sk8(Z,J,Q){let K=[],U=l8(J,(X)=>X.name);return r8(Z,(X)=>{let Y=X.name;if(pJ(U,Y)){let q=Q.buildNamespaceConflictError(X);K.push({message:q,type:V7.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:Y})}}),K}var yf0,u$,gf0;var nI=f(()=>{m9();W4();O6();TB();sI();vz();yf0=class yf0 extends Y4{constructor(){super(...arguments);this.allProductions=[]}visitNonTerminal(Z){this.allProductions.push(Z)}visitOption(Z){this.allProductions.push(Z)}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}visitAlternation(Z){this.allProductions.push(Z)}visitTerminal(Z){this.allProductions.push(Z)}};u$=class u$ extends Y4{constructor(){super(...arguments);this.alternations=[]}visitAlternation(Z){this.alternations.push(Z)}};gf0=class gf0 extends Y4{constructor(){super(...arguments);this.allProductions=[]}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}}});function cf0(Z){let J=ZB(Z,{errMsgProvider:Af0}),Q={};return r8(Z.rules,(K)=>{Q[K.name]=K}),Nf0(Q,J.errMsgProvider)}function lf0(Z){return Z=ZB(Z,{errMsgProvider:b5}),xf0(Z.rules,Z.tokenTypes,Z.errMsgProvider,Z.grammarName)}var df0=f(()=>{m9();Vf0();nI();CB()});function IW(Z){return pJ(af0,Z.name)}var if0="MismatchedTokenException",sf0="NoViableAltException",rf0="EarlyExitException",nf0="NotAllInputParsedException",af0,aI,wB,g$,p$,c$;var $B=f(()=>{m9();af0=[if0,sf0,rf0,nf0];Object.freeze(af0);aI=class aI extends Error{constructor(Z,J){super(Z);if(this.token=J,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}};wB=class wB extends aI{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=if0}};g$=class g$ extends aI{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=sf0}};p$=class p$ extends aI{constructor(Z,J){super(Z,J);this.name=nf0}};c$=class c$ extends aI{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=rf0}}});class ln{initRecoverable(Z){if(this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=n8(Z,"recoveryEnabled")?Z.recoveryEnabled:R6.recoveryEnabled,this.recoveryEnabled)this.attemptInRepetitionRecovery=rk8}getTokenToInsert(Z){let J=vY(Z,"",NaN,NaN,NaN,NaN,NaN,NaN);return J.isInsertedInRecovery=!0,J}canTokenTypeBeInsertedInRecovery(Z){return!0}canTokenTypeBeDeletedInRecovery(Z){return!0}tryInRepetitionRecovery(Z,J,Q,K){let U=this.findReSyncTokenType(),X=this.exportLexerState(),Y=[],q=!1,W=this.LA(1),G=this.LA(1),z=()=>{let H=this.LA(0),F=this.errorMessageProvider.buildMismatchTokenMessage({expected:K,actual:W,previous:H,ruleName:this.getCurrRuleFullName()}),M=new wB(F,W,this.LA(0));M.resyncedTokens=TY(Y),this.SAVE_ERROR(M)};while(!q)if(this.tokenMatcher(G,K)){z();return}else if(Q.call(this)){z(),Z.apply(this,J);return}else if(this.tokenMatcher(G,U))q=!0;else G=this.SKIP_TOKEN(),this.addToResyncTokens(G,Y);this.importLexerState(X)}shouldInRepetitionRecoveryBeTried(Z,J,Q){if(Q===!1)return!1;if(this.tokenMatcher(this.LA(1),Z))return!1;if(this.isBackTracking())return!1;if(this.canPerformInRuleRecovery(Z,this.getFollowsForInRuleRecovery(Z,J)))return!1;return!0}getFollowsForInRuleRecovery(Z,J){let Q=this.getCurrentGrammarPath(Z,J);return this.getNextPossibleTokenTypes(Q)}tryInRuleRecovery(Z,J){if(this.canRecoverWithSingleTokenInsertion(Z,J))return this.getTokenToInsert(Z);if(this.canRecoverWithSingleTokenDeletion(Z)){let Q=this.SKIP_TOKEN();return this.consumeToken(),Q}throw new of0("sad sad panda")}canPerformInRuleRecovery(Z,J){return this.canRecoverWithSingleTokenInsertion(Z,J)||this.canRecoverWithSingleTokenDeletion(Z)}canRecoverWithSingleTokenInsertion(Z,J){if(!this.canTokenTypeBeInsertedInRecovery(Z))return!1;if(lZ(J))return!1;let Q=this.LA(1);return GX(J,(U)=>{return this.tokenMatcher(Q,U)})!==void 0}canRecoverWithSingleTokenDeletion(Z){if(!this.canTokenTypeBeDeletedInRecovery(Z))return!1;return this.tokenMatcher(this.LA(2),Z)}isInCurrentRuleReSyncSet(Z){let J=this.getCurrFollowKey(),Q=this.getFollowSetFromFollowKey(J);return pJ(Q,Z)}findReSyncTokenType(){let Z=this.flattenFollowSet(),J=this.LA(1),Q=2;while(!0){let K=GX(Z,(U)=>{return dI(J,U)});if(K!==void 0)return K;J=this.LA(Q),Q++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return pn;let Z=this.getLastExplicitRuleShortName(),J=this.getLastExplicitRuleOccurrenceIndex(),Q=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(Z),idxInCallingRule:J,inRule:this.shortRuleNameToFullName(Q)}}buildFullFollowKeyStack(){let Z=this.RULE_STACK,J=this.RULE_OCCURRENCE_STACK;return l8(Z,(Q,K)=>{if(K===0)return pn;return{ruleName:this.shortRuleNameToFullName(Q),idxInCallingRule:J[K],inRule:this.shortRuleNameToFullName(Z[K-1])}})}flattenFollowSet(){let Z=l8(this.buildFullFollowKeyStack(),(J)=>{return this.getFollowSetFromFollowKey(J)});return E7(Z)}getFollowSetFromFollowKey(Z){if(Z===pn)return[u4];let J=Z.ruleName+Z.idxInCallingRule+j$+Z.inRule;return this.resyncFollows[J]}addToResyncTokens(Z,J){if(!this.tokenMatcher(Z,u4))J.push(Z);return J}reSyncTo(Z){let J=[],Q=this.LA(1);while(this.tokenMatcher(Q,Z)===!1)Q=this.SKIP_TOKEN(),this.addToResyncTokens(Q,J);return TY(J)}attemptInRepetitionRecovery(Z,J,Q,K,U,X,Y){}getCurrentGrammarPath(Z,J){let Q=this.getHumanReadableRuleStack(),K=ZJ(this.RULE_OCCURRENCE_STACK);return{ruleStack:Q,occurrenceStack:K,lastTok:Z,lastTokOccurrence:J}}getHumanReadableRuleStack(){return l8(this.RULE_STACK,(Z)=>this.shortRuleNameToFullName(Z))}}function rk8(Z,J,Q,K,U,X,Y){let q=this.getKeyForAutomaticLookahead(K,U),W=this.firstAfterRepMap[q];if(W===void 0){let F=this.getCurrRuleFullName(),M=this.getGAstProductions()[F];W=new X(M,U).startWalking(),this.firstAfterRepMap[q]=W}let{token:G,occurrence:z,isEndOfRule:H}=W;if(this.RULE_STACK.length===1&&H&&G===void 0)G=u4,z=1;if(G===void 0||z===void 0)return;if(this.shouldInRepetitionRecoveryBeTried(G,z,Y))this.tryInRepetitionRecovery(Z,J,Q,G)}var pn,cn="InRuleRecoveryException",of0;var dn=f(()=>{xz();m9();$B();W4();pn={};of0=class of0 extends Error{constructor(Z){super(Z);this.name=cn}}});function s$(Z,J,Q){return Q|J|Z}var tf0=4,l$=8,d$=256,i$=512,oI=768,tI=1024,eI=1280,kB=1536;class AW{constructor(Z){var J;this.maxLookahead=(J=Z===null||Z===void 0?void 0:Z.maxLookahead)!==null&&J!==void 0?J:R6.maxLookahead}validate(Z){let J=this.validateNoLeftRecursion(Z.rules);if(lZ(J)){let Q=this.validateEmptyOrAlternatives(Z.rules),K=this.validateAmbiguousAlternationAlternatives(Z.rules,this.maxLookahead),U=this.validateSomeNonEmptyLookaheadPath(Z.rules,this.maxLookahead);return[...J,...Q,...K,...U]}return J}validateNoLeftRecursion(Z){return H6(Z,(J)=>gn(J,J,b5))}validateEmptyOrAlternatives(Z){return H6(Z,(J)=>mf0(J,b5))}validateAmbiguousAlternationAlternatives(Z,J){return H6(Z,(Q)=>uf0(Q,J,b5))}validateSomeNonEmptyLookaheadPath(Z,J){return pf0(Z,J,b5)}buildLookaheadForAlternation(Z){return jf0(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.hasPredicates,Z.dynamicTokensEnabled,Tf0)}buildLookaheadForOptional(Z){return Sf0(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.dynamicTokensEnabled,rI(Z.prodType),wf0)}}var sn=f(()=>{m9();CB();W4();nI();TB()});class rn{initLooksAhead(Z){this.dynamicTokensEnabled=n8(Z,"dynamicTokensEnabled")?Z.dynamicTokensEnabled:R6.dynamicTokensEnabled,this.maxLookahead=n8(Z,"maxLookahead")?Z.maxLookahead:R6.maxLookahead,this.lookaheadStrategy=n8(Z,"lookaheadStrategy")?Z.lookaheadStrategy:new AW({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(Z){r8(Z,(J)=>{this.TRACE_INIT(`${J.name} Rule Lookahead`,()=>{let{alternation:Q,repetition:K,option:U,repetitionMandatory:X,repetitionMandatoryWithSeparator:Y,repetitionWithSeparator:q}=nk8(J);r8(Q,(W)=>{let G=W.idx===0?"":W.idx;this.TRACE_INIT(`${q4(W)}${G}`,()=>{let z=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:W.idx,rule:J,maxLookahead:W.maxLookahead||this.maxLookahead,hasPredicates:W.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),H=s$(this.fullRuleNameToShort[J.name],d$,W.idx);this.setLaFuncCache(H,z)})}),r8(K,(W)=>{this.computeLookaheadFunc(J,W.idx,oI,"Repetition",W.maxLookahead,q4(W))}),r8(U,(W)=>{this.computeLookaheadFunc(J,W.idx,i$,"Option",W.maxLookahead,q4(W))}),r8(X,(W)=>{this.computeLookaheadFunc(J,W.idx,tI,"RepetitionMandatory",W.maxLookahead,q4(W))}),r8(Y,(W)=>{this.computeLookaheadFunc(J,W.idx,kB,"RepetitionMandatoryWithSeparator",W.maxLookahead,q4(W))}),r8(q,(W)=>{this.computeLookaheadFunc(J,W.idx,eI,"RepetitionWithSeparator",W.maxLookahead,q4(W))})})})}computeLookaheadFunc(Z,J,Q,K,U,X){this.TRACE_INIT(`${X}${J===0?"":J}`,()=>{let Y=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:J,rule:Z,maxLookahead:U||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:K}),q=s$(this.fullRuleNameToShort[Z.name],Q,J);this.setLaFuncCache(q,Y)})}getKeyForAutomaticLookahead(Z,J){let Q=this.getLastExplicitRuleShortName();return s$(Q,Z,J)}getLaFuncFromCache(Z){return this.lookAheadFuncsCache.get(Z)}setLaFuncCache(Z,J){this.lookAheadFuncsCache.set(Z,J)}}function nk8(Z){r$.reset(),Z.accept(r$);let J=r$.dslMethods;return r$.reset(),J}var ef0,r$;var Zv0=f(()=>{m9();W4();O6();sn();ef0=class ef0 extends Y4{constructor(){super(...arguments);this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(Z){this.dslMethods.option.push(Z)}visitRepetitionWithSeparator(Z){this.dslMethods.repetitionWithSeparator.push(Z)}visitRepetitionMandatory(Z){this.dslMethods.repetitionMandatory.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.dslMethods.repetitionMandatoryWithSeparator.push(Z)}visitRepetition(Z){this.dslMethods.repetition.push(Z)}visitAlternation(Z){this.dslMethods.alternation.push(Z)}};r$=new ef0});function nn(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.endOffset=J.endOffset;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset}function an(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.startColumn=J.startColumn,Z.startLine=J.startLine,Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine}function Jv0(Z,J,Q){if(Z.children[Q]===void 0)Z.children[Q]=[J];else Z.children[Q].push(J)}function Qv0(Z,J,Q){if(Z.children[J]===void 0)Z.children[J]=[Q];else Z.children[J].push(Q)}function on(Z,J){Object.defineProperty(Z,"name",{enumerable:!1,configurable:!0,writable:!1,value:J})}function ak8(Z,J){let Q=t9(Z),K=Q.length;for(let U=0;U<K;U++){let X=Q[U],Y=Z[X],q=Y.length;for(let W=0;W<q;W++){let G=Y[W];if(G.tokenTypeIdx===void 0)this[G.name](G.children,J)}}}function Kv0(Z,J){let Q=function(){};on(Q,Z+"BaseSemantics");let K={visit:function(U,X){if(t8(U))U=U[0];if(xQ(U))return;return this[U.name](U.children,X)},validateVisitor:function(){let U=ok8(this,J);if(!lZ(U)){let X=l8(U,(Y)=>Y.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${X.join(`

`).replace(/\n/g,`
	`)}`)}}};return Q.prototype=K,Q.prototype.constructor=Q,Q._RULE_NAMES=J,Q}function Uv0(Z,J,Q){let K=function(){};on(K,Z+"BaseSemanticsWithDefaults");let U=Object.create(Q.prototype);return r8(J,(X)=>{U[X]=ak8}),K.prototype=U,K.prototype.constructor=K,K}function ok8(Z,J){return tk8(Z,J)}function tk8(Z,J){let Q=vQ(J,(U)=>{return z6(Z[U])===!1}),K=l8(Q,(U)=>{return{msg:`Missing visitor method: <${U}> on ${Z.constructor.name} CST Visitor.`,type:tn.MISSING_METHOD,methodName:U}});return qX(K)}var tn;var Xv0=f(()=>{m9();(function(Z){Z[Z.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Z[Z.MISSING_METHOD=1]="MISSING_METHOD"})(tn||(tn={}))});class en{initTreeBuilder(Z){if(this.CST_STACK=[],this.outputCst=Z.outputCst,this.nodeLocationTracking=n8(Z,"nodeLocationTracking")?Z.nodeLocationTracking:R6.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=fJ,this.cstFinallyStateUpdate=fJ,this.cstPostTerminal=fJ,this.cstPostNonTerminal=fJ,this.cstPostRule=fJ;else if(/full/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=an,this.setNodeLocationFromNode=an,this.cstPostRule=fJ,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery;else this.setNodeLocationFromToken=fJ,this.setNodeLocationFromNode=fJ,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular;else if(/onlyOffset/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=nn,this.setNodeLocationFromNode=nn,this.cstPostRule=fJ,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery;else this.setNodeLocationFromToken=fJ,this.setNodeLocationFromNode=fJ,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular;else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=fJ,this.setNodeLocationFromNode=fJ,this.cstPostRule=fJ,this.setInitialNodeLocation=fJ;else throw Error(`Invalid <nodeLocationTracking> config option: "${Z.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(Z){Z.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(Z){Z.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(Z){Z.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(Z){let J=this.LA(1);Z.location={startOffset:J.startOffset,startLine:J.startLine,startColumn:J.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(Z){let J={name:Z,children:Object.create(null)};this.setInitialNodeLocation(J),this.CST_STACK.push(J)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(Z){let J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset,Q.endLine=J.endLine,Q.endColumn=J.endColumn;else Q.startOffset=NaN,Q.startLine=NaN,Q.startColumn=NaN}cstPostRuleOnlyOffset(Z){let J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset;else Q.startOffset=NaN}cstPostTerminal(Z,J){let Q=this.CST_STACK[this.CST_STACK.length-1];Jv0(Q,J,Z),this.setNodeLocationFromToken(Q.location,J)}cstPostNonTerminal(Z,J){let Q=this.CST_STACK[this.CST_STACK.length-1];Qv0(Q,J,Z),this.setNodeLocationFromNode(Q.location,Z.location)}getBaseCstVisitorConstructor(){if(xQ(this.baseCstVisitorConstructor)){let Z=Kv0(this.className,t9(this.gastProductionsCache));return this.baseCstVisitorConstructor=Z,Z}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(xQ(this.baseCstVisitorWithDefaultsConstructor)){let Z=Uv0(this.className,t9(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=Z,Z}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-1]}getPreviousExplicitRuleShortName(){let Z=this.RULE_STACK;return Z[Z.length-2]}getLastExplicitRuleOccurrenceIndex(){let Z=this.RULE_OCCURRENCE_STACK;return Z[Z.length-1]}}var Yv0=f(()=>{m9();Xv0();W4()});class Za{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(Z){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=Z,this.tokVectorLength=Z.length}get input(){return this.tokVector}SKIP_TOKEN(){if(this.currIdx<=this.tokVector.length-2)return this.consumeToken(),this.LA(1);else return _B}LA(Z){let J=this.currIdx+Z;if(J<0||this.tokVectorLength<=J)return _B;else return this.tokVector[J]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(Z){this.currIdx=Z}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}var qv0=f(()=>{W4()});class Ja{ACTION(Z){return Z.call(this)}consume(Z,J,Q){return this.consumeInternal(J,Z,Q)}subrule(Z,J,Q){return this.subruleInternal(J,Z,Q)}option(Z,J){return this.optionInternal(J,Z)}or(Z,J){return this.orInternal(J,Z)}many(Z,J){return this.manyInternal(Z,J)}atLeastOne(Z,J){return this.atLeastOneInternal(Z,J)}CONSUME(Z,J){return this.consumeInternal(Z,0,J)}CONSUME1(Z,J){return this.consumeInternal(Z,1,J)}CONSUME2(Z,J){return this.consumeInternal(Z,2,J)}CONSUME3(Z,J){return this.consumeInternal(Z,3,J)}CONSUME4(Z,J){return this.consumeInternal(Z,4,J)}CONSUME5(Z,J){return this.consumeInternal(Z,5,J)}CONSUME6(Z,J){return this.consumeInternal(Z,6,J)}CONSUME7(Z,J){return this.consumeInternal(Z,7,J)}CONSUME8(Z,J){return this.consumeInternal(Z,8,J)}CONSUME9(Z,J){return this.consumeInternal(Z,9,J)}SUBRULE(Z,J){return this.subruleInternal(Z,0,J)}SUBRULE1(Z,J){return this.subruleInternal(Z,1,J)}SUBRULE2(Z,J){return this.subruleInternal(Z,2,J)}SUBRULE3(Z,J){return this.subruleInternal(Z,3,J)}SUBRULE4(Z,J){return this.subruleInternal(Z,4,J)}SUBRULE5(Z,J){return this.subruleInternal(Z,5,J)}SUBRULE6(Z,J){return this.subruleInternal(Z,6,J)}SUBRULE7(Z,J){return this.subruleInternal(Z,7,J)}SUBRULE8(Z,J){return this.subruleInternal(Z,8,J)}SUBRULE9(Z,J){return this.subruleInternal(Z,9,J)}OPTION(Z){return this.optionInternal(Z,0)}OPTION1(Z){return this.optionInternal(Z,1)}OPTION2(Z){return this.optionInternal(Z,2)}OPTION3(Z){return this.optionInternal(Z,3)}OPTION4(Z){return this.optionInternal(Z,4)}OPTION5(Z){return this.optionInternal(Z,5)}OPTION6(Z){return this.optionInternal(Z,6)}OPTION7(Z){return this.optionInternal(Z,7)}OPTION8(Z){return this.optionInternal(Z,8)}OPTION9(Z){return this.optionInternal(Z,9)}OR(Z){return this.orInternal(Z,0)}OR1(Z){return this.orInternal(Z,1)}OR2(Z){return this.orInternal(Z,2)}OR3(Z){return this.orInternal(Z,3)}OR4(Z){return this.orInternal(Z,4)}OR5(Z){return this.orInternal(Z,5)}OR6(Z){return this.orInternal(Z,6)}OR7(Z){return this.orInternal(Z,7)}OR8(Z){return this.orInternal(Z,8)}OR9(Z){return this.orInternal(Z,9)}MANY(Z){this.manyInternal(0,Z)}MANY1(Z){this.manyInternal(1,Z)}MANY2(Z){this.manyInternal(2,Z)}MANY3(Z){this.manyInternal(3,Z)}MANY4(Z){this.manyInternal(4,Z)}MANY5(Z){this.manyInternal(5,Z)}MANY6(Z){this.manyInternal(6,Z)}MANY7(Z){this.manyInternal(7,Z)}MANY8(Z){this.manyInternal(8,Z)}MANY9(Z){this.manyInternal(9,Z)}MANY_SEP(Z){this.manySepFirstInternal(0,Z)}MANY_SEP1(Z){this.manySepFirstInternal(1,Z)}MANY_SEP2(Z){this.manySepFirstInternal(2,Z)}MANY_SEP3(Z){this.manySepFirstInternal(3,Z)}MANY_SEP4(Z){this.manySepFirstInternal(4,Z)}MANY_SEP5(Z){this.manySepFirstInternal(5,Z)}MANY_SEP6(Z){this.manySepFirstInternal(6,Z)}MANY_SEP7(Z){this.manySepFirstInternal(7,Z)}MANY_SEP8(Z){this.manySepFirstInternal(8,Z)}MANY_SEP9(Z){this.manySepFirstInternal(9,Z)}AT_LEAST_ONE(Z){this.atLeastOneInternal(0,Z)}AT_LEAST_ONE1(Z){return this.atLeastOneInternal(1,Z)}AT_LEAST_ONE2(Z){this.atLeastOneInternal(2,Z)}AT_LEAST_ONE3(Z){this.atLeastOneInternal(3,Z)}AT_LEAST_ONE4(Z){this.atLeastOneInternal(4,Z)}AT_LEAST_ONE5(Z){this.atLeastOneInternal(5,Z)}AT_LEAST_ONE6(Z){this.atLeastOneInternal(6,Z)}AT_LEAST_ONE7(Z){this.atLeastOneInternal(7,Z)}AT_LEAST_ONE8(Z){this.atLeastOneInternal(8,Z)}AT_LEAST_ONE9(Z){this.atLeastOneInternal(9,Z)}AT_LEAST_ONE_SEP(Z){this.atLeastOneSepFirstInternal(0,Z)}AT_LEAST_ONE_SEP1(Z){this.atLeastOneSepFirstInternal(1,Z)}AT_LEAST_ONE_SEP2(Z){this.atLeastOneSepFirstInternal(2,Z)}AT_LEAST_ONE_SEP3(Z){this.atLeastOneSepFirstInternal(3,Z)}AT_LEAST_ONE_SEP4(Z){this.atLeastOneSepFirstInternal(4,Z)}AT_LEAST_ONE_SEP5(Z){this.atLeastOneSepFirstInternal(5,Z)}AT_LEAST_ONE_SEP6(Z){this.atLeastOneSepFirstInternal(6,Z)}AT_LEAST_ONE_SEP7(Z){this.atLeastOneSepFirstInternal(7,Z)}AT_LEAST_ONE_SEP8(Z){this.atLeastOneSepFirstInternal(8,Z)}AT_LEAST_ONE_SEP9(Z){this.atLeastOneSepFirstInternal(9,Z)}RULE(Z,J,Q=fB){if(pJ(this.definedRulesNames,Z)){let X={message:b5.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:this.className}),type:V7.DUPLICATE_RULE_NAME,ruleName:Z};this.definitionErrors.push(X)}this.definedRulesNames.push(Z);let K=this.defineRule(Z,J,Q);return this[Z]=K,K}OVERRIDE_RULE(Z,J,Q=fB){let K=hf0(Z,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(K);let U=this.defineRule(Z,J,Q);return this[Z]=U,U}BACKTRACK(Z,J){return function(){this.isBackTrackingStack.push(1);let Q=this.saveRecogState();try{return Z.apply(this,J),!0}catch(K){if(IW(K))return!1;else throw K}finally{this.reloadRecogState(Q),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return V$(h9(this.gastProductionsCache))}}var Wv0=f(()=>{m9();$B();W4();CB();nI();O6()});class Qa{initRecognizerEngine(Z,J){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=VB,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},n8(J,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(t8(Z)){if(lZ(Z))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof Z[0].startOffset==="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(t8(Z))this.tokensMap=z7(Z,(U,X)=>{return U[X.name]=X,U},{});else if(n8(Z,"modes")&&J4(E7(h9(Z.modes)),Hf0)){let U=E7(h9(Z.modes)),X=JB(U);this.tokensMap=z7(X,(Y,q)=>{return Y[q.name]=q,Y},{})}else if(_J(Z))this.tokensMap=ZJ(Z);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=u4;let Q=n8(Z,"modes")?E7(h9(Z.modes)):h9(Z),K=J4(Q,(U)=>lZ(U.categoryMatches));this.tokenMatcher=K?VB:kY,_Y(h9(this.tokensMap))}defineRule(Z,J,Q){if(this.selfAnalysisDone)throw Error(`Grammar rule <${Z}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let K=n8(Q,"resyncEnabled")?Q.resyncEnabled:fB.resyncEnabled,U=n8(Q,"recoveryValueFunc")?Q.recoveryValueFunc:fB.recoveryValueFunc,X=this.ruleShortNameIdx<<tf0+l$;this.ruleShortNameIdx++,this.shortRuleNameToFull[X]=Z,this.fullRuleNameToShort[Z]=X;let Y;if(this.outputCst===!0)Y=function(...G){try{this.ruleInvocationStateUpdate(X,Z,this.subruleIdx),J.apply(this,G);let z=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(z),z}catch(z){return this.invokeRuleCatch(z,K,U)}finally{this.ruleFinallyStateUpdate()}};else Y=function(...G){try{return this.ruleInvocationStateUpdate(X,Z,this.subruleIdx),J.apply(this,G)}catch(z){return this.invokeRuleCatch(z,K,U)}finally{this.ruleFinallyStateUpdate()}};return Object.assign(Y,{ruleName:Z,originalGrammarAction:J})}invokeRuleCatch(Z,J,Q){let K=this.RULE_STACK.length===1,U=J&&!this.isBackTracking()&&this.recoveryEnabled;if(IW(Z)){let X=Z;if(U){let Y=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(Y))if(X.resyncedTokens=this.reSyncTo(Y),this.outputCst){let q=this.CST_STACK[this.CST_STACK.length-1];return q.recoveredNode=!0,q}else return Q(Z);else{if(this.outputCst){let q=this.CST_STACK[this.CST_STACK.length-1];q.recoveredNode=!0,X.partialCstResult=q}throw X}}else if(K)return this.moveToTerminatedState(),Q(Z);else throw X}else throw Z}optionInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(i$,J);return this.optionInternalLogic(Z,J,Q)}optionInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),U;if(typeof Z!=="function"){U=Z.DEF;let X=Z.GATE;if(X!==void 0){let Y=K;K=()=>{return X.call(this)&&Y.call(this)}}}else U=Z;if(K.call(this)===!0)return U.call(this);return}atLeastOneInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(tI,Z);return this.atLeastOneInternalLogic(Z,J,Q)}atLeastOneInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),U;if(typeof J!=="function"){U=J.DEF;let X=J.GATE;if(X!==void 0){let Y=K;K=()=>{return X.call(this)&&Y.call(this)}}}else U=J;if(K.call(this)===!0){let X=this.doSingleRepetition(U);while(K.call(this)===!0&&X===!0)X=this.doSingleRepetition(U)}else throw this.raiseEarlyExitException(Z,EJ.REPETITION_MANDATORY,J.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[Z,J],K,tI,Z,hn)}atLeastOneSepFirstInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(kB,Z);this.atLeastOneSepFirstInternalLogic(Z,J,Q)}atLeastOneSepFirstInternalLogic(Z,J,Q){let{DEF:K,SEP:U}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),U)};while(this.tokenMatcher(this.LA(1),U)===!0)this.CONSUME(U),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,U,Y,K,v$],Y,kB,Z,v$)}else throw this.raiseEarlyExitException(Z,EJ.REPETITION_MANDATORY_WITH_SEPARATOR,J.ERR_MSG)}manyInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(oI,Z);return this.manyInternalLogic(Z,J,Q)}manyInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),U;if(typeof J!=="function"){U=J.DEF;let Y=J.GATE;if(Y!==void 0){let q=K;K=()=>{return Y.call(this)&&q.call(this)}}}else U=J;let X=!0;while(K.call(this)===!0&&X===!0)X=this.doSingleRepetition(U);this.attemptInRepetitionRecovery(this.manyInternal,[Z,J],K,oI,Z,yn,X)}manySepFirstInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(eI,Z);this.manySepFirstInternalLogic(Z,J,Q)}manySepFirstInternalLogic(Z,J,Q){let{DEF:K,SEP:U}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);let Y=()=>{return this.tokenMatcher(this.LA(1),U)};while(this.tokenMatcher(this.LA(1),U)===!0)this.CONSUME(U),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,U,Y,K,f$],Y,eI,Z,f$)}}repetitionSepSecondInternal(Z,J,Q,K,U){while(Q())this.CONSUME(J),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,J,Q,K,U],Q,kB,Z,U)}doSingleRepetition(Z){let J=this.getLexerPosition();return Z.call(this),this.getLexerPosition()>J}orInternal(Z,J){let Q=this.getKeyForAutomaticLookahead(d$,J),K=t8(Z)?Z:Z.DEF,X=this.getLaFuncFromCache(Q).call(this,K);if(X!==void 0)return K[X].ALT.call(this);this.raiseNoAltException(J,Z.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let Z=this.LA(1),J=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new p$(J,Z))}}subruleInternal(Z,J,Q){let K;try{let U=Q!==void 0?Q.ARGS:void 0;return this.subruleIdx=J,K=Z.apply(this,U),this.cstPostNonTerminal(K,Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.ruleName),K}catch(U){throw this.subruleInternalError(U,Q,Z.ruleName)}}subruleInternalError(Z,J,Q){if(IW(Z)&&Z.partialCstResult!==void 0)this.cstPostNonTerminal(Z.partialCstResult,J!==void 0&&J.LABEL!==void 0?J.LABEL:Q),delete Z.partialCstResult;throw Z}consumeInternal(Z,J,Q){let K;try{let U=this.LA(1);if(this.tokenMatcher(U,Z)===!0)this.consumeToken(),K=U;else this.consumeInternalError(Z,U,Q)}catch(U){K=this.consumeInternalRecovery(Z,J,U)}return this.cstPostTerminal(Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.name,K),K}consumeInternalError(Z,J,Q){let K,U=this.LA(0);if(Q!==void 0&&Q.ERR_MSG)K=Q.ERR_MSG;else K=this.errorMessageProvider.buildMismatchTokenMessage({expected:Z,actual:J,previous:U,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new wB(K,J,U))}consumeInternalRecovery(Z,J,Q){if(this.recoveryEnabled&&Q.name==="MismatchedTokenException"&&!this.isBackTracking()){let K=this.getFollowsForInRuleRecovery(Z,J);try{return this.tryInRuleRecovery(Z,K)}catch(U){if(U.name===cn)throw Q;else throw U}}else throw Q}saveRecogState(){let Z=this.errors,J=ZJ(this.RULE_STACK);return{errors:Z,lexerState:this.exportLexerState(),RULE_STACK:J,CST_STACK:this.CST_STACK}}reloadRecogState(Z){this.errors=Z.errors,this.importLexerState(Z.lexerState),this.RULE_STACK=Z.RULE_STACK}ruleInvocationStateUpdate(Z,J,Q){this.RULE_OCCURRENCE_STACK.push(Q),this.RULE_STACK.push(Z),this.cstInvocationStateUpdate(J)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let Z=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[Z]}shortRuleNameToFullName(Z){return this.shortRuleNameToFull[Z]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),u4)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}var Gv0=f(()=>{m9();$B();TB();sI();W4();dn();xz();vz()});class Ka{initErrorHandler(Z){this._errors=[],this.errorMessageProvider=n8(Z,"errorMessageProvider")?Z.errorMessageProvider:R6.errorMessageProvider}SAVE_ERROR(Z){if(IW(Z))return Z.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ZJ(this.RULE_OCCURRENCE_STACK)},this._errors.push(Z),Z;else throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ZJ(this._errors)}set errors(Z){this._errors=Z}raiseEarlyExitException(Z,J,Q){let K=this.getCurrRuleFullName(),U=this.getGAstProductions()[K],Y=SB(Z,U,J,this.maxLookahead)[0],q=[];for(let G=1;G<=this.maxLookahead;G++)q.push(this.LA(G));let W=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:Y,actual:q,previous:this.LA(0),customUserDescription:Q,ruleName:K});throw this.SAVE_ERROR(new c$(W,this.LA(1),this.LA(0)))}raiseNoAltException(Z,J){let Q=this.getCurrRuleFullName(),K=this.getGAstProductions()[Q],U=jB(Z,K,this.maxLookahead),X=[];for(let W=1;W<=this.maxLookahead;W++)X.push(this.LA(W));let Y=this.LA(0),q=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:U,actual:X,previous:Y,customUserDescription:J,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new g$(q,this.LA(1),Y))}}var zv0=f(()=>{$B();m9();TB();W4()});class Ua{initContentAssist(){}computeContentAssist(Z,J){let Q=this.gastProductionsCache[Z];if(xQ(Q))throw Error(`Rule ->${Z}<- does not exist in this grammar.`);return b$([Q],J,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(Z){let J=m7(Z.ruleStack),K=this.getGAstProductions()[J];return new bn(K,Z).startWalking()}}var Hv0=f(()=>{sI();m9()});class Xa{initGastRecorder(Z){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let Z=0;Z<10;Z++){let J=Z>0?Z:"";this[`CONSUME${J}`]=function(Q,K){return this.consumeInternalRecord(Q,Z,K)},this[`SUBRULE${J}`]=function(Q,K){return this.subruleInternalRecord(Q,Z,K)},this[`OPTION${J}`]=function(Q){return this.optionInternalRecord(Q,Z)},this[`OR${J}`]=function(Q){return this.orInternalRecord(Q,Z)},this[`MANY${J}`]=function(Q){this.manyInternalRecord(Z,Q)},this[`MANY_SEP${J}`]=function(Q){this.manySepFirstInternalRecord(Z,Q)},this[`AT_LEAST_ONE${J}`]=function(Q){this.atLeastOneInternalRecord(Z,Q)},this[`AT_LEAST_ONE_SEP${J}`]=function(Q){this.atLeastOneSepFirstInternalRecord(Z,Q)}}this.consume=function(Z,J,Q){return this.consumeInternalRecord(J,Z,Q)},this.subrule=function(Z,J,Q){return this.subruleInternalRecord(J,Z,Q)},this.option=function(Z,J){return this.optionInternalRecord(J,Z)},this.or=function(Z,J){return this.orInternalRecord(J,Z)},this.many=function(Z,J){this.manyInternalRecord(Z,J)},this.atLeastOne=function(Z,J){this.atLeastOneInternalRecord(Z,J)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let Z=this;for(let J=0;J<10;J++){let Q=J>0?J:"";delete Z[`CONSUME${Q}`],delete Z[`SUBRULE${Q}`],delete Z[`OPTION${Q}`],delete Z[`OR${Q}`],delete Z[`MANY${Q}`],delete Z[`MANY_SEP${Q}`],delete Z[`AT_LEAST_ONE${Q}`],delete Z[`AT_LEAST_ONE_SEP${Q}`]}delete Z.consume,delete Z.subrule,delete Z.option,delete Z.or,delete Z.many,delete Z.atLeastOne,delete Z.ACTION,delete Z.BACKTRACK,delete Z.LA})}ACTION_RECORD(Z){}BACKTRACK_RECORD(Z,J){return()=>!0}LA_RECORD(Z){return _B}topLevelRuleRecord(Z,J){try{let Q=new X4({definition:[],name:Z});return Q.name=Z,this.recordingProdStack.push(Q),J.call(this),this.recordingProdStack.pop(),Q}catch(Q){if(Q.KNOWN_RECORDER_ERROR!==!0)try{Q.message=Q.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(K){throw Q}throw Q}}optionInternalRecord(Z,J){return ZA.call(this,f9,Z,J)}atLeastOneInternalRecord(Z,J){ZA.call(this,HJ,J,Z)}atLeastOneSepFirstInternalRecord(Z,J){ZA.call(this,FJ,J,Z,Fv0)}manyInternalRecord(Z,J){ZA.call(this,Y9,J,Z)}manySepFirstInternalRecord(Z,J){ZA.call(this,JJ,J,Z,Fv0)}orInternalRecord(Z,J){return Z_8.call(this,Z,J)}subruleInternalRecord(Z,J,Q){if(n$(J),!Z||n8(Z,"ruleName")===!1){let Y=Error(`<SUBRULE${Bv0(J)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}let K=WX(this.recordingProdStack),U=Z.ruleName,X=new _9({idx:J,nonTerminalName:U,label:Q===null||Q===void 0?void 0:Q.LABEL,referencedRule:void 0});return K.definition.push(X),this.outputCst?ek8:a$}consumeInternalRecord(Z,J,Q){if(n$(J),!fn(Z)){let X=Error(`<CONSUME${Bv0(J)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(Z)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw X.KNOWN_RECORDER_ERROR=!0,X}let K=WX(this.recordingProdStack),U=new dZ({idx:J,terminalType:Z,label:Q===null||Q===void 0?void 0:Q.LABEL});return K.definition.push(U),Rv0}}function ZA(Z,J,Q,K=!1){n$(Q);let U=WX(this.recordingProdStack),X=z6(J)?J:J.DEF,Y=new Z({definition:[],idx:Q});if(K)Y.separator=J.SEP;if(n8(J,"MAX_LOOKAHEAD"))Y.maxLookahead=J.MAX_LOOKAHEAD;return this.recordingProdStack.push(Y),X.call(this),U.definition.push(Y),this.recordingProdStack.pop(),a$}function Z_8(Z,J){n$(J);let Q=WX(this.recordingProdStack),K=t8(Z)===!1,U=K===!1?Z:Z.DEF,X=new QJ({definition:[],idx:J,ignoreAmbiguities:K&&Z.IGNORE_AMBIGUITIES===!0});if(n8(Z,"MAX_LOOKAHEAD"))X.maxLookahead=Z.MAX_LOOKAHEAD;let Y=gr(U,(q)=>z6(q.GATE));return X.hasPredicates=Y,Q.definition.push(X),r8(U,(q)=>{let W=new zJ({definition:[]});if(X.definition.push(W),n8(q,"IGNORE_AMBIGUITIES"))W.ignoreAmbiguities=q.IGNORE_AMBIGUITIES;else if(n8(q,"GATE"))W.ignoreAmbiguities=!0;this.recordingProdStack.push(W),q.ALT.call(this),this.recordingProdStack.pop()}),a$}function Bv0(Z){return Z===0?"":`${Z}`}function n$(Z){if(Z<0||Z>Mv0){let J=Error(`Invalid DSL Method idx value: <${Z}>
	Idx value must be a none negative value smaller than ${Mv0+1}`);throw J.KNOWN_RECORDER_ERROR=!0,J}}var a$,Fv0=!0,Mv0,Ov0,Rv0,ek8;var Lv0=f(()=>{m9();O6();cI();vz();xz();W4();a$={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(a$);Mv0=Math.pow(2,l$)-1,Ov0=DW({name:"RECORDING_PHASE_TOKEN",pattern:vJ.NA});_Y([Ov0]);Rv0=vY(Ov0,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Rv0);ek8={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}}});class Ya{initPerformanceTracer(Z){if(n8(Z,"traceInitPerf")){let J=Z.traceInitPerf,Q=typeof J==="number";this.traceInitMaxIdent=Q?J:1/0,this.traceInitPerf=Q?J>0:J}else this.traceInitMaxIdent=0,this.traceInitPerf=R6.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(Z,J){if(this.traceInitPerf===!0){this.traceInitIndent++;let Q=Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${Q}--> <${Z}>`);let{time:K,value:U}=CI(J),X=K>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)X(`${Q}<-- <${Z}> time: ${K}ms`);return this.traceInitIndent--,U}else return J()}}var Dv0=f(()=>{m9();KB();W4()});function Iv0(Z,J){J.forEach((Q)=>{let K=Q.prototype;Object.getOwnPropertyNames(K).forEach((U)=>{if(U==="constructor")return;let X=Object.getOwnPropertyDescriptor(K,U);if(X&&(X.get||X.set))Object.defineProperty(Z.prototype,U,X);else Z.prototype[U]=Q.prototype[U]})})}function o$(Z=void 0){return function(){return Z}}class JA{static performSelfAnalysis(Z){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let Z;this.selfAnalysisDone=!0;let J=this.className;this.TRACE_INIT("toFastProps",()=>{jI(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),r8(this.definedRulesNames,(K)=>{let X=this[K].originalGrammarAction,Y;this.TRACE_INIT(`${K} Rule`,()=>{Y=this.topLevelRuleRecord(K,X)}),this.gastProductionsCache[K]=Y})}finally{this.disableRecording()}});let Q=[];if(this.TRACE_INIT("Grammar Resolving",()=>{Q=cf0({rules:h9(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(Q)}),this.TRACE_INIT("Grammar Validations",()=>{if(lZ(Q)&&this.skipValidations===!1){let K=lf0({rules:h9(this.gastProductionsCache),tokenTypes:h9(this.tokensMap),errMsgProvider:b5,grammarName:J}),U=vf0({lookaheadStrategy:this.lookaheadStrategy,rules:h9(this.gastProductionsCache),tokenTypes:h9(this.tokensMap),grammarName:J});this.definitionErrors=this.definitionErrors.concat(K,U)}}),lZ(this.definitionErrors)){if(this.recoveryEnabled)this.TRACE_INIT("computeAllProdsFollows",()=>{let K=p_0(h9(this.gastProductionsCache));this.resyncFollows=K});this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var K,U;(U=(K=this.lookaheadStrategy).initialize)===null||U===void 0||U.call(K,{rules:h9(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(h9(this.gastProductionsCache))})}if(!JA.DEFER_DEFINITION_ERRORS_HANDLING&&!lZ(this.definitionErrors))throw Z=l8(this.definitionErrors,(K)=>K.message),Error(`Parser Definition Errors detected:
 ${Z.join(`
-------------------------------
`)}`)})}constructor(Z,J){this.definitionErrors=[],this.selfAnalysisDone=!1;let Q=this;if(Q.initErrorHandler(J),Q.initLexerAdapter(),Q.initLooksAhead(J),Q.initRecognizerEngine(Z,J),Q.initRecoverable(J),Q.initTreeBuilder(J),Q.initContentAssist(),Q.initGastRecorder(J),Q.initPerformanceTracer(J),n8(J,"ignoredIssues"))throw Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=n8(J,"skipValidations")?J.skipValidations:R6.skipValidations}}var _B,R6,fB,V7,t$;var W4=f(()=>{m9();KB();c_0();xz();CB();df0();dn();Zv0();Yv0();qv0();Wv0();Gv0();zv0();Hv0();Lv0();Dv0();nI();_B=vY(u4,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(_B);R6=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:xY,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),fB=Object.freeze({recoveryValueFunc:()=>{return},resyncEnabled:!0});(function(Z){Z[Z.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Z[Z.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Z[Z.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Z[Z.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Z[Z.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Z[Z.LEFT_RECURSION=5]="LEFT_RECURSION",Z[Z.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Z[Z.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Z[Z.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Z[Z.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Z[Z.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Z[Z.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Z[Z.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Z[Z.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(V7||(V7={}));JA.DEFER_DEFINITION_ERRORS_HANDLING=!1;Iv0(JA,[ln,rn,en,Za,Qa,Ja,Ka,Ua,Xa,Ya]);t$=class t$ extends JA{constructor(Z,J=R6){let Q=ZJ(J);Q.outputCst=!1;super(Z,Q)}}});var Av0=f(()=>{O6()});var Nv0=()=>{};var Ev0=f(()=>{Av0();Nv0()});var Vv0=()=>{};var NW=f(()=>{W4();cI();xz();TB();sn();CB();$B();vn();O6();O6();Ev0();Vv0()});function bz(Z,J,Q){return`${Z.name}_${J}_${Q}`}class e${constructor(Z){this.target=Z}isEpsilon(){return!1}}function Sv0(Z){let J={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};q_8(J,Z);let Q=Z.length;for(let K=0;K<Q;K++){let U=Z[K],X=yz(J,U,U);if(X===void 0)continue;D_8(J,U,X)}return J}function q_8(Z,J){let Q=J.length;for(let K=0;K<Q;K++){let U=J[K],X=g7(Z,U,void 0,{type:Q_8}),Y=g7(Z,U,void 0,{type:vB});X.stop=Y,Z.ruleToStartState.set(U,X),Z.ruleToStopState.set(U,Y)}}function Tv0(Z,J,Q){if(Q instanceof dZ)return qa(Z,J,Q.terminalType,Q);else if(Q instanceof _9)return L_8(Z,J,Q);else if(Q instanceof QJ)return F_8(Z,J,Q);else if(Q instanceof f9)return M_8(Z,J,Q);else if(Q instanceof Y9)return W_8(Z,J,Q);else if(Q instanceof JJ)return G_8(Z,J,Q);else if(Q instanceof HJ)return z_8(Z,J,Q);else if(Q instanceof FJ)return H_8(Z,J,Q);else return yz(Z,J,Q)}function W_8(Z,J,Q){let K=g7(Z,J,Q,{type:Cv0});VW(Z,K);let U=xB(Z,J,K,Q,yz(Z,J,Q));return $v0(Z,J,Q,U)}function G_8(Z,J,Q){let K=g7(Z,J,Q,{type:Cv0});VW(Z,K);let U=xB(Z,J,K,Q,yz(Z,J,Q)),X=qa(Z,J,Q.separator,Q);return $v0(Z,J,Q,U,X)}function z_8(Z,J,Q){let K=g7(Z,J,Q,{type:Pv0});VW(Z,K);let U=xB(Z,J,K,Q,yz(Z,J,Q));return wv0(Z,J,Q,U)}function H_8(Z,J,Q){let K=g7(Z,J,Q,{type:Pv0});VW(Z,K);let U=xB(Z,J,K,Q,yz(Z,J,Q)),X=qa(Z,J,Q.separator,Q);return wv0(Z,J,Q,U,X)}function F_8(Z,J,Q){let K=g7(Z,J,Q,{type:EW});VW(Z,K);let U=jZ(Q.definition,(Y)=>Tv0(Z,J,Y));return xB(Z,J,K,Q,...U)}function M_8(Z,J,Q){let K=g7(Z,J,Q,{type:EW});VW(Z,K);let U=xB(Z,J,K,Q,yz(Z,J,Q));return B_8(Z,J,Q,U)}function yz(Z,J,Q){let K=qQ(jZ(Q.definition,(U)=>Tv0(Z,J,U)),(U)=>U!==void 0);if(K.length===1)return K[0];else if(K.length===0)return;else return R_8(Z,K)}function wv0(Z,J,Q,K,U){let{left:X,right:Y}=K,q=g7(Z,J,Q,{type:Y_8});VW(Z,q);let W=g7(Z,J,Q,{type:jv0});if(X.loopback=q,W.loopback=q,Z.decisionMap[bz(J,U?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",Q.idx)]=q,H7(Y,q),U===void 0)H7(q,X),H7(q,W);else H7(q,W),H7(q,U.left),H7(U.right,X);return{left:X,right:W}}function $v0(Z,J,Q,K,U){let{left:X,right:Y}=K,q=g7(Z,J,Q,{type:X_8});VW(Z,q);let W=g7(Z,J,Q,{type:jv0}),G=g7(Z,J,Q,{type:U_8});if(q.loopback=G,W.loopback=G,H7(q,X),H7(q,W),H7(Y,G),U!==void 0)H7(G,W),H7(G,U.left),H7(U.right,X);else H7(G,q);return Z.decisionMap[bz(J,U?"RepetitionWithSeparator":"Repetition",Q.idx)]=q,{left:q,right:W}}function B_8(Z,J,Q,K){let{left:U,right:X}=K;return H7(U,X),Z.decisionMap[bz(J,"Option",Q.idx)]=U,K}function VW(Z,J){return Z.decisionStates.push(J),J.decision=Z.decisionStates.length-1,J.decision}function xB(Z,J,Q,K,...U){let X=g7(Z,J,K,{type:K_8,start:Q});Q.end=X;for(let q of U)if(q!==void 0)H7(Q,q.left),H7(q.right,X);else H7(Q,X);let Y={left:Q,right:X};return Z.decisionMap[bz(J,O_8(K),K.idx)]=Q,Y}function O_8(Z){if(Z instanceof QJ)return"Alternation";else if(Z instanceof f9)return"Option";else if(Z instanceof Y9)return"Repetition";else if(Z instanceof JJ)return"RepetitionWithSeparator";else if(Z instanceof HJ)return"RepetitionMandatory";else if(Z instanceof FJ)return"RepetitionMandatoryWithSeparator";else throw Error("Invalid production type encountered")}function R_8(Z,J){let Q=J.length;for(let X=0;X<Q-1;X++){let Y=J[X],q;if(Y.left.transitions.length===1)q=Y.left.transitions[0];let W=q instanceof KA,G=q,z=J[X+1].left;if(Y.left.type===EW&&Y.right.type===EW&&q!==void 0&&(W&&G.followState===Y.right||q.target===Y.right)){if(W)G.followState=z;else q.target=z;I_8(Z,Y.right)}else H7(Y.right,z)}let K=J[0],U=J[Q-1];return{left:K.left,right:U.right}}function qa(Z,J,Q,K){let U=g7(Z,J,K,{type:EW}),X=g7(Z,J,K,{type:EW});return Wa(U,new QA(X,Q)),{left:U,right:X}}function L_8(Z,J,Q){let K=Q.referencedRule,U=Z.ruleToStartState.get(K),X=g7(Z,J,Q,{type:EW}),Y=g7(Z,J,Q,{type:EW}),q=new KA(U,K,Y);return Wa(X,q),{left:X,right:Y}}function D_8(Z,J,Q){let K=Z.ruleToStartState.get(J);H7(K,Q.left);let U=Z.ruleToStopState.get(J);return H7(Q.right,U),{left:K,right:U}}function H7(Z,J){let Q=new Zk(J);Wa(Z,Q)}function g7(Z,J,Q,K){let U=Object.assign({atn:Z,production:Q,epsilonOnlyTransitions:!1,rule:J,transitions:[],nextTokenWithinRule:[],stateNumber:Z.states.length},K);return Z.states.push(U),U}function Wa(Z,J){if(Z.transitions.length===0)Z.epsilonOnlyTransitions=J.isEpsilon();Z.transitions.push(J)}function I_8(Z,J){Z.states.splice(Z.states.indexOf(J),1)}var EW=1,Q_8=2,Pv0=4,Cv0=5,vB=7,K_8=8,U_8=9,X_8=10,Y_8=11,jv0=12,QA,Zk,KA;var kv0=f(()=>{o2();bc();NW();QA=class QA extends e${constructor(Z,J){super(Z);this.tokenType=J}};Zk=class Zk extends e${constructor(Z){super(Z)}isEpsilon(){return!0}};KA=class KA extends e${constructor(Z,J,Q){super(Z);this.rule=J,this.followState=Q}isEpsilon(){return!0}}});class XA{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(Z){let J=Ga(Z);if(!(J in this.map))this.map[J]=this.configs.length,this.configs.push(Z)}get elements(){return this.configs}get alts(){return jZ(this.configs,(Z)=>Z.alt)}get key(){let Z="";for(let J in this.map)Z+=J+":";return Z}}function Ga(Z,J=!0){return`${J?`a${Z.alt}`:""}s${Z.state.stateNumber}:${Z.stack.map((Q)=>Q.stateNumber.toString()).join("_")}`}var UA;var _v0=f(()=>{o2();UA={}});function A_8(Z,J){let Q={};return(K)=>{let U=K.toString(),X=Q[U];if(X!==void 0)return X;else return X={atnStartState:Z,decision:J,states:{}},Q[U]=X,X}}class Ha{constructor(){this.predicates=[]}is(Z){return Z>=this.predicates.length||this.predicates[Z]}set(Z,J){this.predicates[Z]=J}toString(){let Z="",J=this.predicates.length;for(let Q=0;Q<J;Q++)Z+=this.predicates[Q]===!0?"1":"0";return Z}}function vv0(Z,J=!0){let Q=new Set;for(let K of Z){let U=new Set;for(let X of K){if(X===void 0)if(J)break;else return!1;let Y=[X.tokenTypeIdx].concat(X.categoryMatches);for(let q of Y)if(Q.has(q)){if(!U.has(q))return!1}else Q.add(q),U.add(q)}}return!0}function N_8(Z){let J=Z.decisionStates.length,Q=Array(J);for(let K=0;K<J;K++)Q[K]=A_8(Z.decisionStates[K],K);return Q}function za(Z,J,Q,K){let U=Z[J](Q),X=U.start;if(X===void 0){let q=__8(U.atnStartState);X=yv0(U,bv0(q)),U.start=X}return E_8.apply(this,[U,X,Q,K])}function E_8(Z,J,Q,K){let U=J,X=1,Y=[],q=this.LA(X++);while(!0){let W=T_8(U,q);if(W===void 0)W=V_8.apply(this,[Z,U,q,X,Q,K]);if(W===UA)return S_8(Y,U,q);if(W.isAcceptState===!0)return W.prediction;U=W,Y.push(q),q=this.LA(X++)}}function V_8(Z,J,Q,K,U,X){let Y=w_8(J.configs,Q,U);if(Y.size===0)return xv0(Z,J,Q,UA),UA;let q=bv0(Y),W=k_8(Y,U);if(W!==void 0)q.isAcceptState=!0,q.prediction=W,q.configs.uniqueAlt=W;else if(b_8(Y)){let G=D5(Y.alts);q.isAcceptState=!0,q.prediction=G,q.configs.uniqueAlt=G,P_8.apply(this,[Z,K,Y.alts,X])}return q=xv0(Z,J,Q,q),q}function P_8(Z,J,Q,K){let U=[];for(let G=1;G<=J;G++)U.push(this.LA(G).tokenType);let X=Z.atnStartState,Y=X.rule,q=X.production,W=C_8({topLevelRule:Y,ambiguityIndices:Q,production:q,prefixPath:U});K(W)}function C_8(Z){let J=jZ(Z.prefixPath,(U)=>fY(U)).join(", "),Q=Z.production.idx===0?"":Z.production.idx,K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(", ")}> in <${j_8(Z.production)}${Q}> inside <${Z.topLevelRule.name}> Rule,
<${J}> may appears as a prefix path in all these alternatives.
`;return K=K+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,K}function j_8(Z){if(Z instanceof _9)return"SUBRULE";else if(Z instanceof f9)return"OPTION";else if(Z instanceof QJ)return"OR";else if(Z instanceof HJ)return"AT_LEAST_ONE";else if(Z instanceof FJ)return"AT_LEAST_ONE_SEP";else if(Z instanceof JJ)return"MANY_SEP";else if(Z instanceof Y9)return"MANY";else if(Z instanceof dZ)return"CONSUME";else throw Error("non exhaustive match")}function S_8(Z,J,Q){let K=AO0(J.configs.elements,(X)=>X.state.transitions),U=PR0(K.filter((X)=>X instanceof QA).map((X)=>X.tokenType),(X)=>X.tokenTypeIdx);return{actualToken:Q,possibleTokenTypes:U,tokenPath:Z}}function T_8(Z,J){return Z.edges[J.tokenTypeIdx]}function w_8(Z,J,Q){let K=new XA,U=[];for(let Y of Z.elements){if(Q.is(Y.alt)===!1)continue;if(Y.state.type===vB){U.push(Y);continue}let q=Y.state.transitions.length;for(let W=0;W<q;W++){let G=Y.state.transitions[W],z=$_8(G,J);if(z!==void 0)K.add({state:z,alt:Y.alt,stack:Y.stack})}}let X;if(U.length===0&&K.size===1)X=K;if(X===void 0){X=new XA;for(let Y of K.elements)Jk(Y,X)}if(U.length>0&&!v_8(X))for(let Y of U)X.add(Y);return X}function $_8(Z,J){if(Z instanceof QA&&dI(J,Z.tokenType))return Z.target;return}function k_8(Z,J){let Q;for(let K of Z.elements)if(J.is(K.alt)===!0){if(Q===void 0)Q=K.alt;else if(Q!==K.alt)return}return Q}function bv0(Z){return{configs:Z,edges:{},isAcceptState:!1,prediction:-1}}function xv0(Z,J,Q,K){return K=yv0(Z,K),J.edges[Q.tokenTypeIdx]=K,K}function yv0(Z,J){if(J===UA)return J;let Q=J.configs.key,K=Z.states[Q];if(K!==void 0)return K;return J.configs.finalize(),Z.states[Q]=J,J}function __8(Z){let J=new XA,Q=Z.transitions.length;for(let K=0;K<Q;K++){let X={state:Z.transitions[K].target,alt:K,stack:[]};Jk(X,J)}return J}function Jk(Z,J){let Q=Z.state;if(Q.type===vB){if(Z.stack.length>0){let U=[...Z.stack],Y={state:U.pop(),alt:Z.alt,stack:U};Jk(Y,J)}else J.add(Z);return}if(!Q.epsilonOnlyTransitions)J.add(Z);let K=Q.transitions.length;for(let U=0;U<K;U++){let X=Q.transitions[U],Y=f_8(Z,X);if(Y!==void 0)Jk(Y,J)}}function f_8(Z,J){if(J instanceof Zk)return{state:J.target,alt:Z.alt,stack:Z.stack};else if(J instanceof KA){let Q=[...Z.stack,J.followState];return{state:J.target,alt:Z.alt,stack:Q}}return}function v_8(Z){for(let J of Z.elements)if(J.state.type===vB)return!0;return!1}function x_8(Z){for(let J of Z.elements)if(J.state.type!==vB)return!1;return!0}function b_8(Z){if(x_8(Z))return!0;let J=y_8(Z.elements);return h_8(J)&&!m_8(J)}function y_8(Z){let J=new Map;for(let Q of Z){let K=Ga(Q,!1),U=J.get(K);if(U===void 0)U={},J.set(K,U);U[Q.alt]=!0}return J}function h_8(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length>1)return!0;return!1}function m_8(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length===1)return!0;return!1}var fv0,Qk;var hv0=f(()=>{NW();kv0();_v0();gc();NO0();CR0();o2();Hj();bj();hj();lc();fv0=new Ha;Qk=class Qk extends AW{constructor(Z){var J;super();this.logging=(J=Z===null||Z===void 0?void 0:Z.logging)!==null&&J!==void 0?J:(Q)=>console.log(Q)}initialize(Z){this.atn=Sv0(Z.rules),this.dfas=N_8(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(Z){let{prodOccurrence:J,rule:Q,hasPredicates:K,dynamicTokensEnabled:U}=Z,X=this.dfas,Y=this.logging,q=bz(Q,"Alternation",J),G=this.atn.decisionMap[q].decision,z=jZ(y$({maxLookahead:1,occurrence:J,prodType:"Alternation",rule:Q}),(H)=>jZ(H,(F)=>F[0]));if(vv0(z,!1)&&!U){let H=v4(z,(F,M,B)=>{return i0(M,(O)=>{if(O)F[O.tokenTypeIdx]=B,i0(O.categoryMatches,(R)=>{F[R]=B})}),F},{});if(K)return function(F){var M;let B=this.LA(1),O=H[B.tokenTypeIdx];if(F!==void 0&&O!==void 0){let R=(M=F[O])===null||M===void 0?void 0:M.GATE;if(R!==void 0&&R.call(this)===!1)return}return O};else return function(){let F=this.LA(1);return H[F.tokenTypeIdx]}}else if(K)return function(H){let F=new Ha,M=H===void 0?0:H.length;for(let O=0;O<M;O++){let R=H===null||H===void 0?void 0:H[O].GATE;F.set(O,R===void 0||R.call(this))}let B=za.call(this,X,G,F,Y);return typeof B==="number"?B:void 0};else return function(){let H=za.call(this,X,G,fv0,Y);return typeof H==="number"?H:void 0}}buildLookaheadForOptional(Z){let{prodOccurrence:J,rule:Q,prodType:K,dynamicTokensEnabled:U}=Z,X=this.dfas,Y=this.logging,q=bz(Q,K,J),G=this.atn.decisionMap[q].decision,z=jZ(y$({maxLookahead:1,occurrence:J,prodType:K,rule:Q}),(H)=>{return jZ(H,(F)=>F[0])});if(vv0(z)&&z[0][0]&&!U){let H=z[0],F=i6(H);if(F.length===1&&FY(F[0].categoryMatches)){let B=F[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===B}}else{let M=v4(F,(B,O)=>{if(O!==void 0)B[O.tokenTypeIdx]=!0,i0(O.categoryMatches,(R)=>{B[R]=!0});return B},{});return function(){let B=this.LA(1);return M[B.tokenTypeIdx]===!0}}}return function(){let H=za.call(this,X,G,fv0,Y);return typeof H==="object"?!1:H===0}}}});var mv0=f(()=>{hv0()});class gx0{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){this._content=Z.text,this._version=J,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let Z=[],J=this._content,Q=!0;for(let K=0;K<J.length;K++){if(Q)Z.push(K),Q=!1;let U=J.charAt(K);if(Q=U==="\r"||U===`
`,U==="\r"&&K+1<J.length&&J.charAt(K+1)===`
`)K++}if(Q&&J.length>0)Z.push(J.length);this._lineOffsets=Z}return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let J=this.getLineOffsets(),Q=0,K=J.length;if(K===0)return I9.create(0,Z);while(Q<K){let X=Math.floor((Q+K)/2);if(J[X]>Z)K=X;else Q=X+1}let U=Q-1;return I9.create(U,Z-J[U])}offsetAt(Z){let J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;let Q=J[Z.line],K=Z.line+1<J.length?J[Z.line+1]:this._content.length;return Math.max(Math.min(Q+Z.character,K),Q)}get lineCount(){return this.getLineOffsets().length}}var uv0,Fa,gv0,Kk,I9,J9,Uk,pv0,Ma,cv0,lv0,dv0,iv0,Ba,sv0,rv0,nv0,Xk,bB,yB,Oa,hB,av0,Ra,La,Da,Ia,Aa,ov0,tv0,Na,ev0,Ea,YA,Zx0,Jx0,Qx0,Kx0,Ux0,Xx0,Yx0,qx0,Yk,Wx0,Gx0,zx0,Hx0,Fx0,Mx0,Bx0,Ox0,Rx0,Lx0,Dx0,qk,Ix0,Ax0,Nx0,Ex0,Vx0,Px0,Cx0,jx0,Sx0,Tx0,wx0,$x0,kx0,Va,Pa,_x0,fx0,vx0,xx0,bx0,yx0,hx0,mx0,ux0,l0;var Ca=f(()=>{(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(uv0||(uv0={}));(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(Fa||(Fa={}));(function(Z){Z.MIN_VALUE=-2147483648,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(gv0||(gv0={}));(function(Z){Z.MIN_VALUE=0,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(Kk||(Kk={}));(function(Z){function J(K,U){if(K===Number.MAX_VALUE)K=Kk.MAX_VALUE;if(U===Number.MAX_VALUE)U=Kk.MAX_VALUE;return{line:K,character:U}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&l0.uinteger(U.line)&&l0.uinteger(U.character)}Z.is=Q})(I9||(I9={}));(function(Z){function J(K,U,X,Y){if(l0.uinteger(K)&&l0.uinteger(U)&&l0.uinteger(X)&&l0.uinteger(Y))return{start:I9.create(K,U),end:I9.create(X,Y)};else if(I9.is(K)&&I9.is(U))return{start:K,end:U};else throw Error(`Range#create called with invalid arguments[${K}, ${U}, ${X}, ${Y}]`)}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&I9.is(U.start)&&I9.is(U.end)}Z.is=Q})(J9||(J9={}));(function(Z){function J(K,U){return{uri:K,range:U}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&J9.is(U.range)&&(l0.string(U.uri)||l0.undefined(U.uri))}Z.is=Q})(Uk||(Uk={}));(function(Z){function J(K,U,X,Y){return{targetUri:K,targetRange:U,targetSelectionRange:X,originSelectionRange:Y}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&J9.is(U.targetRange)&&l0.string(U.targetUri)&&J9.is(U.targetSelectionRange)&&(J9.is(U.originSelectionRange)||l0.undefined(U.originSelectionRange))}Z.is=Q})(pv0||(pv0={}));(function(Z){function J(K,U,X,Y){return{red:K,green:U,blue:X,alpha:Y}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&l0.numberRange(U.red,0,1)&&l0.numberRange(U.green,0,1)&&l0.numberRange(U.blue,0,1)&&l0.numberRange(U.alpha,0,1)}Z.is=Q})(Ma||(Ma={}));(function(Z){function J(K,U){return{range:K,color:U}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&J9.is(U.range)&&Ma.is(U.color)}Z.is=Q})(cv0||(cv0={}));(function(Z){function J(K,U,X){return{label:K,textEdit:U,additionalTextEdits:X}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&l0.string(U.label)&&(l0.undefined(U.textEdit)||yB.is(U))&&(l0.undefined(U.additionalTextEdits)||l0.typedArray(U.additionalTextEdits,yB.is))}Z.is=Q})(lv0||(lv0={}));(function(Z){Z.Comment="comment",Z.Imports="imports",Z.Region="region"})(dv0||(dv0={}));(function(Z){function J(K,U,X,Y,q,W){let G={startLine:K,endLine:U};if(l0.defined(X))G.startCharacter=X;if(l0.defined(Y))G.endCharacter=Y;if(l0.defined(q))G.kind=q;if(l0.defined(W))G.collapsedText=W;return G}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&l0.uinteger(U.startLine)&&l0.uinteger(U.startLine)&&(l0.undefined(U.startCharacter)||l0.uinteger(U.startCharacter))&&(l0.undefined(U.endCharacter)||l0.uinteger(U.endCharacter))&&(l0.undefined(U.kind)||l0.string(U.kind))}Z.is=Q})(iv0||(iv0={}));(function(Z){function J(K,U){return{location:K,message:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&Uk.is(U.location)&&l0.string(U.message)}Z.is=Q})(Ba||(Ba={}));(function(Z){Z.Error=1,Z.Warning=2,Z.Information=3,Z.Hint=4})(sv0||(sv0={}));(function(Z){Z.Unnecessary=1,Z.Deprecated=2})(rv0||(rv0={}));(function(Z){function J(Q){let K=Q;return l0.objectLiteral(K)&&l0.string(K.href)}Z.is=J})(nv0||(nv0={}));(function(Z){function J(K,U,X,Y,q,W){let G={range:K,message:U};if(l0.defined(X))G.severity=X;if(l0.defined(Y))G.code=Y;if(l0.defined(q))G.source=q;if(l0.defined(W))G.relatedInformation=W;return G}Z.create=J;function Q(K){var U;let X=K;return l0.defined(X)&&J9.is(X.range)&&l0.string(X.message)&&(l0.number(X.severity)||l0.undefined(X.severity))&&(l0.integer(X.code)||l0.string(X.code)||l0.undefined(X.code))&&(l0.undefined(X.codeDescription)||l0.string((U=X.codeDescription)===null||U===void 0?void 0:U.href))&&(l0.string(X.source)||l0.undefined(X.source))&&(l0.undefined(X.relatedInformation)||l0.typedArray(X.relatedInformation,Ba.is))}Z.is=Q})(Xk||(Xk={}));(function(Z){function J(K,U,...X){let Y={title:K,command:U};if(l0.defined(X)&&X.length>0)Y.arguments=X;return Y}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.string(U.title)&&l0.string(U.command)}Z.is=Q})(bB||(bB={}));(function(Z){function J(X,Y){return{range:X,newText:Y}}Z.replace=J;function Q(X,Y){return{range:{start:X,end:X},newText:Y}}Z.insert=Q;function K(X){return{range:X,newText:""}}Z.del=K;function U(X){let Y=X;return l0.objectLiteral(Y)&&l0.string(Y.newText)&&J9.is(Y.range)}Z.is=U})(yB||(yB={}));(function(Z){function J(K,U,X){let Y={label:K};if(U!==void 0)Y.needsConfirmation=U;if(X!==void 0)Y.description=X;return Y}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&l0.string(U.label)&&(l0.boolean(U.needsConfirmation)||U.needsConfirmation===void 0)&&(l0.string(U.description)||U.description===void 0)}Z.is=Q})(Oa||(Oa={}));(function(Z){function J(Q){let K=Q;return l0.string(K)}Z.is=J})(hB||(hB={}));(function(Z){function J(X,Y,q){return{range:X,newText:Y,annotationId:q}}Z.replace=J;function Q(X,Y,q){return{range:{start:X,end:X},newText:Y,annotationId:q}}Z.insert=Q;function K(X,Y){return{range:X,newText:"",annotationId:Y}}Z.del=K;function U(X){let Y=X;return yB.is(Y)&&(Oa.is(Y.annotationId)||hB.is(Y.annotationId))}Z.is=U})(av0||(av0={}));(function(Z){function J(K,U){return{textDocument:K,edits:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&Na.is(U.textDocument)&&Array.isArray(U.edits)}Z.is=Q})(Ra||(Ra={}));(function(Z){function J(K,U,X){let Y={kind:"create",uri:K};if(U!==void 0&&(U.overwrite!==void 0||U.ignoreIfExists!==void 0))Y.options=U;if(X!==void 0)Y.annotationId=X;return Y}Z.create=J;function Q(K){let U=K;return U&&U.kind==="create"&&l0.string(U.uri)&&(U.options===void 0||(U.options.overwrite===void 0||l0.boolean(U.options.overwrite))&&(U.options.ignoreIfExists===void 0||l0.boolean(U.options.ignoreIfExists)))&&(U.annotationId===void 0||hB.is(U.annotationId))}Z.is=Q})(La||(La={}));(function(Z){function J(K,U,X,Y){let q={kind:"rename",oldUri:K,newUri:U};if(X!==void 0&&(X.overwrite!==void 0||X.ignoreIfExists!==void 0))q.options=X;if(Y!==void 0)q.annotationId=Y;return q}Z.create=J;function Q(K){let U=K;return U&&U.kind==="rename"&&l0.string(U.oldUri)&&l0.string(U.newUri)&&(U.options===void 0||(U.options.overwrite===void 0||l0.boolean(U.options.overwrite))&&(U.options.ignoreIfExists===void 0||l0.boolean(U.options.ignoreIfExists)))&&(U.annotationId===void 0||hB.is(U.annotationId))}Z.is=Q})(Da||(Da={}));(function(Z){function J(K,U,X){let Y={kind:"delete",uri:K};if(U!==void 0&&(U.recursive!==void 0||U.ignoreIfNotExists!==void 0))Y.options=U;if(X!==void 0)Y.annotationId=X;return Y}Z.create=J;function Q(K){let U=K;return U&&U.kind==="delete"&&l0.string(U.uri)&&(U.options===void 0||(U.options.recursive===void 0||l0.boolean(U.options.recursive))&&(U.options.ignoreIfNotExists===void 0||l0.boolean(U.options.ignoreIfNotExists)))&&(U.annotationId===void 0||hB.is(U.annotationId))}Z.is=Q})(Ia||(Ia={}));(function(Z){function J(Q){let K=Q;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every((U)=>{if(l0.string(U.kind))return La.is(U)||Da.is(U)||Ia.is(U);else return Ra.is(U)}))}Z.is=J})(Aa||(Aa={}));(function(Z){function J(K){return{uri:K}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.string(U.uri)}Z.is=Q})(ov0||(ov0={}));(function(Z){function J(K,U){return{uri:K,version:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.string(U.uri)&&l0.integer(U.version)}Z.is=Q})(tv0||(tv0={}));(function(Z){function J(K,U){return{uri:K,version:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.string(U.uri)&&(U.version===null||l0.integer(U.version))}Z.is=Q})(Na||(Na={}));(function(Z){function J(K,U,X,Y){return{uri:K,languageId:U,version:X,text:Y}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.string(U.uri)&&l0.string(U.languageId)&&l0.integer(U.version)&&l0.string(U.text)}Z.is=Q})(ev0||(ev0={}));(function(Z){Z.PlainText="plaintext",Z.Markdown="markdown";function J(Q){let K=Q;return K===Z.PlainText||K===Z.Markdown}Z.is=J})(Ea||(Ea={}));(function(Z){function J(Q){let K=Q;return l0.objectLiteral(Q)&&Ea.is(K.kind)&&l0.string(K.value)}Z.is=J})(YA||(YA={}));(function(Z){Z.Text=1,Z.Method=2,Z.Function=3,Z.Constructor=4,Z.Field=5,Z.Variable=6,Z.Class=7,Z.Interface=8,Z.Module=9,Z.Property=10,Z.Unit=11,Z.Value=12,Z.Enum=13,Z.Keyword=14,Z.Snippet=15,Z.Color=16,Z.File=17,Z.Reference=18,Z.Folder=19,Z.EnumMember=20,Z.Constant=21,Z.Struct=22,Z.Event=23,Z.Operator=24,Z.TypeParameter=25})(Zx0||(Zx0={}));(function(Z){Z.PlainText=1,Z.Snippet=2})(Jx0||(Jx0={}));(function(Z){Z.Deprecated=1})(Qx0||(Qx0={}));(function(Z){function J(K,U,X){return{newText:K,insert:U,replace:X}}Z.create=J;function Q(K){let U=K;return U&&l0.string(U.newText)&&J9.is(U.insert)&&J9.is(U.replace)}Z.is=Q})(Kx0||(Kx0={}));(function(Z){Z.asIs=1,Z.adjustIndentation=2})(Ux0||(Ux0={}));(function(Z){function J(Q){let K=Q;return K&&(l0.string(K.detail)||K.detail===void 0)&&(l0.string(K.description)||K.description===void 0)}Z.is=J})(Xx0||(Xx0={}));(function(Z){function J(Q){return{label:Q}}Z.create=J})(Yx0||(Yx0={}));(function(Z){function J(Q,K){return{items:Q?Q:[],isIncomplete:!!K}}Z.create=J})(qx0||(qx0={}));(function(Z){function J(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}Z.fromPlainText=J;function Q(K){let U=K;return l0.string(U)||l0.objectLiteral(U)&&l0.string(U.language)&&l0.string(U.value)}Z.is=Q})(Yk||(Yk={}));(function(Z){function J(Q){let K=Q;return!!K&&l0.objectLiteral(K)&&(YA.is(K.contents)||Yk.is(K.contents)||l0.typedArray(K.contents,Yk.is))&&(Q.range===void 0||J9.is(Q.range))}Z.is=J})(Wx0||(Wx0={}));(function(Z){function J(Q,K){return K?{label:Q,documentation:K}:{label:Q}}Z.create=J})(Gx0||(Gx0={}));(function(Z){function J(Q,K,...U){let X={label:Q};if(l0.defined(K))X.documentation=K;if(l0.defined(U))X.parameters=U;else X.parameters=[];return X}Z.create=J})(zx0||(zx0={}));(function(Z){Z.Text=1,Z.Read=2,Z.Write=3})(Hx0||(Hx0={}));(function(Z){function J(Q,K){let U={range:Q};if(l0.number(K))U.kind=K;return U}Z.create=J})(Fx0||(Fx0={}));(function(Z){Z.File=1,Z.Module=2,Z.Namespace=3,Z.Package=4,Z.Class=5,Z.Method=6,Z.Property=7,Z.Field=8,Z.Constructor=9,Z.Enum=10,Z.Interface=11,Z.Function=12,Z.Variable=13,Z.Constant=14,Z.String=15,Z.Number=16,Z.Boolean=17,Z.Array=18,Z.Object=19,Z.Key=20,Z.Null=21,Z.EnumMember=22,Z.Struct=23,Z.Event=24,Z.Operator=25,Z.TypeParameter=26})(Mx0||(Mx0={}));(function(Z){Z.Deprecated=1})(Bx0||(Bx0={}));(function(Z){function J(Q,K,U,X,Y){let q={name:Q,kind:K,location:{uri:X,range:U}};if(Y)q.containerName=Y;return q}Z.create=J})(Ox0||(Ox0={}));(function(Z){function J(Q,K,U,X){return X!==void 0?{name:Q,kind:K,location:{uri:U,range:X}}:{name:Q,kind:K,location:{uri:U}}}Z.create=J})(Rx0||(Rx0={}));(function(Z){function J(K,U,X,Y,q,W){let G={name:K,detail:U,kind:X,range:Y,selectionRange:q};if(W!==void 0)G.children=W;return G}Z.create=J;function Q(K){let U=K;return U&&l0.string(U.name)&&l0.number(U.kind)&&J9.is(U.range)&&J9.is(U.selectionRange)&&(U.detail===void 0||l0.string(U.detail))&&(U.deprecated===void 0||l0.boolean(U.deprecated))&&(U.children===void 0||Array.isArray(U.children))&&(U.tags===void 0||Array.isArray(U.tags))}Z.is=Q})(Lx0||(Lx0={}));(function(Z){Z.Empty="",Z.QuickFix="quickfix",Z.Refactor="refactor",Z.RefactorExtract="refactor.extract",Z.RefactorInline="refactor.inline",Z.RefactorRewrite="refactor.rewrite",Z.Source="source",Z.SourceOrganizeImports="source.organizeImports",Z.SourceFixAll="source.fixAll"})(Dx0||(Dx0={}));(function(Z){Z.Invoked=1,Z.Automatic=2})(qk||(qk={}));(function(Z){function J(K,U,X){let Y={diagnostics:K};if(U!==void 0&&U!==null)Y.only=U;if(X!==void 0&&X!==null)Y.triggerKind=X;return Y}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.typedArray(U.diagnostics,Xk.is)&&(U.only===void 0||l0.typedArray(U.only,l0.string))&&(U.triggerKind===void 0||U.triggerKind===qk.Invoked||U.triggerKind===qk.Automatic)}Z.is=Q})(Ix0||(Ix0={}));(function(Z){function J(K,U,X){let Y={title:K},q=!0;if(typeof U==="string")q=!1,Y.kind=U;else if(bB.is(U))Y.command=U;else Y.edit=U;if(q&&X!==void 0)Y.kind=X;return Y}Z.create=J;function Q(K){let U=K;return U&&l0.string(U.title)&&(U.diagnostics===void 0||l0.typedArray(U.diagnostics,Xk.is))&&(U.kind===void 0||l0.string(U.kind))&&(U.edit!==void 0||U.command!==void 0)&&(U.command===void 0||bB.is(U.command))&&(U.isPreferred===void 0||l0.boolean(U.isPreferred))&&(U.edit===void 0||Aa.is(U.edit))}Z.is=Q})(Ax0||(Ax0={}));(function(Z){function J(K,U){let X={range:K};if(l0.defined(U))X.data=U;return X}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&J9.is(U.range)&&(l0.undefined(U.command)||bB.is(U.command))}Z.is=Q})(Nx0||(Nx0={}));(function(Z){function J(K,U){return{tabSize:K,insertSpaces:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&l0.uinteger(U.tabSize)&&l0.boolean(U.insertSpaces)}Z.is=Q})(Ex0||(Ex0={}));(function(Z){function J(K,U,X){return{range:K,target:U,data:X}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&J9.is(U.range)&&(l0.undefined(U.target)||l0.string(U.target))}Z.is=Q})(Vx0||(Vx0={}));(function(Z){function J(K,U){return{range:K,parent:U}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&J9.is(U.range)&&(U.parent===void 0||Z.is(U.parent))}Z.is=Q})(Px0||(Px0={}));(function(Z){Z.namespace="namespace",Z.type="type",Z.class="class",Z.enum="enum",Z.interface="interface",Z.struct="struct",Z.typeParameter="typeParameter",Z.parameter="parameter",Z.variable="variable",Z.property="property",Z.enumMember="enumMember",Z.event="event",Z.function="function",Z.method="method",Z.macro="macro",Z.keyword="keyword",Z.modifier="modifier",Z.comment="comment",Z.string="string",Z.number="number",Z.regexp="regexp",Z.operator="operator",Z.decorator="decorator"})(Cx0||(Cx0={}));(function(Z){Z.declaration="declaration",Z.definition="definition",Z.readonly="readonly",Z.static="static",Z.deprecated="deprecated",Z.abstract="abstract",Z.async="async",Z.modification="modification",Z.documentation="documentation",Z.defaultLibrary="defaultLibrary"})(jx0||(jx0={}));(function(Z){function J(Q){let K=Q;return l0.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId==="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]==="number")}Z.is=J})(Sx0||(Sx0={}));(function(Z){function J(K,U){return{range:K,text:U}}Z.create=J;function Q(K){let U=K;return U!==void 0&&U!==null&&J9.is(U.range)&&l0.string(U.text)}Z.is=Q})(Tx0||(Tx0={}));(function(Z){function J(K,U,X){return{range:K,variableName:U,caseSensitiveLookup:X}}Z.create=J;function Q(K){let U=K;return U!==void 0&&U!==null&&J9.is(U.range)&&l0.boolean(U.caseSensitiveLookup)&&(l0.string(U.variableName)||U.variableName===void 0)}Z.is=Q})(wx0||(wx0={}));(function(Z){function J(K,U){return{range:K,expression:U}}Z.create=J;function Q(K){let U=K;return U!==void 0&&U!==null&&J9.is(U.range)&&(l0.string(U.expression)||U.expression===void 0)}Z.is=Q})($x0||($x0={}));(function(Z){function J(K,U){return{frameId:K,stoppedLocation:U}}Z.create=J;function Q(K){let U=K;return l0.defined(U)&&J9.is(K.stoppedLocation)}Z.is=Q})(kx0||(kx0={}));(function(Z){Z.Type=1,Z.Parameter=2;function J(Q){return Q===1||Q===2}Z.is=J})(Va||(Va={}));(function(Z){function J(K){return{value:K}}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&(U.tooltip===void 0||l0.string(U.tooltip)||YA.is(U.tooltip))&&(U.location===void 0||Uk.is(U.location))&&(U.command===void 0||bB.is(U.command))}Z.is=Q})(Pa||(Pa={}));(function(Z){function J(K,U,X){let Y={position:K,label:U};if(X!==void 0)Y.kind=X;return Y}Z.create=J;function Q(K){let U=K;return l0.objectLiteral(U)&&I9.is(U.position)&&(l0.string(U.label)||l0.typedArray(U.label,Pa.is))&&(U.kind===void 0||Va.is(U.kind))&&U.textEdits===void 0||l0.typedArray(U.textEdits,yB.is)&&(U.tooltip===void 0||l0.string(U.tooltip)||YA.is(U.tooltip))&&(U.paddingLeft===void 0||l0.boolean(U.paddingLeft))&&(U.paddingRight===void 0||l0.boolean(U.paddingRight))}Z.is=Q})(_x0||(_x0={}));(function(Z){function J(Q){return{kind:"snippet",value:Q}}Z.createSnippet=J})(fx0||(fx0={}));(function(Z){function J(Q,K,U,X){return{insertText:Q,filterText:K,range:U,command:X}}Z.create=J})(vx0||(vx0={}));(function(Z){function J(Q){return{items:Q}}Z.create=J})(xx0||(xx0={}));(function(Z){Z.Invoked=0,Z.Automatic=1})(bx0||(bx0={}));(function(Z){function J(Q,K){return{range:Q,text:K}}Z.create=J})(yx0||(yx0={}));(function(Z){function J(Q,K){return{triggerKind:Q,selectedCompletionInfo:K}}Z.create=J})(hx0||(hx0={}));(function(Z){function J(Q){let K=Q;return l0.objectLiteral(K)&&Fa.is(K.uri)&&l0.string(K.name)}Z.is=J})(mx0||(mx0={}));(function(Z){function J(X,Y,q,W){return new gx0(X,Y,q,W)}Z.create=J;function Q(X){let Y=X;return l0.defined(Y)&&l0.string(Y.uri)&&(l0.undefined(Y.languageId)||l0.string(Y.languageId))&&l0.uinteger(Y.lineCount)&&l0.func(Y.getText)&&l0.func(Y.positionAt)&&l0.func(Y.offsetAt)?!0:!1}Z.is=Q;function K(X,Y){let q=X.getText(),W=U(Y,(z,H)=>{let F=z.range.start.line-H.range.start.line;if(F===0)return z.range.start.character-H.range.start.character;return F}),G=q.length;for(let z=W.length-1;z>=0;z--){let H=W[z],F=X.offsetAt(H.range.start),M=X.offsetAt(H.range.end);if(M<=G)q=q.substring(0,F)+H.newText+q.substring(M,q.length);else throw Error("Overlapping edit");G=F}return q}Z.applyEdits=K;function U(X,Y){if(X.length<=1)return X;let q=X.length/2|0,W=X.slice(0,q),G=X.slice(q);U(W,Y),U(G,Y);let z=0,H=0,F=0;while(z<W.length&&H<G.length)if(Y(W[z],G[H])<=0)X[F++]=W[z++];else X[F++]=G[H++];while(z<W.length)X[F++]=W[z++];while(H<G.length)X[F++]=G[H++];return X}})(ux0||(ux0={}));(function(Z){let J=Object.prototype.toString;function Q(M){return typeof M<"u"}Z.defined=Q;function K(M){return typeof M>"u"}Z.undefined=K;function U(M){return M===!0||M===!1}Z.boolean=U;function X(M){return J.call(M)==="[object String]"}Z.string=X;function Y(M){return J.call(M)==="[object Number]"}Z.number=Y;function q(M,B,O){return J.call(M)==="[object Number]"&&B<=M&&M<=O}Z.numberRange=q;function W(M){return J.call(M)==="[object Number]"&&-2147483648<=M&&M<=2147483647}Z.integer=W;function G(M){return J.call(M)==="[object Number]"&&0<=M&&M<=2147483647}Z.uinteger=G;function z(M){return J.call(M)==="[object Function]"}Z.func=z;function H(M){return M!==null&&typeof M==="object"}Z.objectLiteral=H;function F(M,B){return Array.isArray(M)&&M.every(B)}Z.typedArray=F})(l0||(l0={}))});class Wk{constructor(){this.nodeStack=[]}get current(){var Z;return(Z=this.nodeStack[this.nodeStack.length-1])!==null&&Z!==void 0?Z:this.rootNode}buildRootNode(Z){return this.rootNode=new qA(Z),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(Z){let J=new uB;return J.grammarSource=Z,J.root=this.rootNode,this.current.content.push(J),this.nodeStack.push(J),J}buildLeafNode(Z,J){let Q=new mB(Z.startOffset,Z.image.length,wF(Z),Z.tokenType,!J);return Q.grammarSource=J,Q.root=this.rootNode,this.current.content.push(Q),Q}removeNode(Z){let J=Z.container;if(J){let Q=J.content.indexOf(Z);if(Q>=0)J.content.splice(Q,1)}}addHiddenNodes(Z){let J=[];for(let U of Z){let X=new mB(U.startOffset,U.image.length,wF(U),U.tokenType,!0);X.root=this.rootNode,J.push(X)}let Q=this.current,K=!1;if(Q.content.length>0){Q.content.push(...J);return}while(Q.container){let U=Q.container.content.indexOf(Q);if(U>0){Q.container.content.splice(U,0,...J),K=!0;break}Q=Q.container}if(!K)this.rootNode.content.unshift(...J)}construct(Z){let J=this.current;if(typeof Z.$type==="string")this.current.astNode=Z;Z.$cstNode=J;let Q=this.nodeStack.pop();if((Q===null||Q===void 0?void 0:Q.content.length)===0)this.removeNode(Q)}}class Gk{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var Z,J;let Q=typeof((Z=this._astNode)===null||Z===void 0?void 0:Z.$type)==="string"?this._astNode:(J=this.container)===null||J===void 0?void 0:J.astNode;if(!Q)throw Error("This node has no associated AST element");return Q}set astNode(Z){this._astNode=Z}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}var mB,uB,ja,qA;var zk=f(()=>{Ca();j5();mB=class mB extends Gk{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(Z,J,Q,K,U=!1){super();this._hidden=U,this._offset=Z,this._tokenType=K,this._length=J,this._range=Q}};uB=class uB extends Gk{constructor(){super(...arguments);this.content=new ja(this)}get children(){return this.content}get offset(){var Z,J;return(J=(Z=this.firstNonHiddenNode)===null||Z===void 0?void 0:Z.offset)!==null&&J!==void 0?J:0}get length(){return this.end-this.offset}get end(){var Z,J;return(J=(Z=this.lastNonHiddenNode)===null||Z===void 0?void 0:Z.end)!==null&&J!==void 0?J:0}get range(){let Z=this.firstNonHiddenNode,J=this.lastNonHiddenNode;if(Z&&J){if(this._rangeCache===void 0){let{range:Q}=Z,{range:K}=J;this._rangeCache={start:Q.start,end:K.end.line<Q.start.line?Q.start:K.end}}return this._rangeCache}else return{start:I9.create(0,0),end:I9.create(0,0)}}get firstNonHiddenNode(){for(let Z of this.content)if(!Z.hidden)return Z;return this.content[0]}get lastNonHiddenNode(){for(let Z=this.content.length-1;Z>=0;Z--){let J=this.content[Z];if(!J.hidden)return J}return this.content[this.content.length-1]}};ja=class ja extends Array{constructor(Z){super();this.parent=Z,Object.setPrototypeOf(this,ja.prototype)}push(...Z){return this.addParents(Z),super.push(...Z)}unshift(...Z){return this.addParents(Z),super.unshift(...Z)}splice(Z,J,...Q){return this.addParents(Q),super.splice(Z,J,...Q)}addParents(Z){for(let J of Z)J.container=this.parent}};qA=class qA extends uB{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(Z){super();this._text="",this._text=Z!==null&&Z!==void 0?Z:""}}});function Sa(Z){return Z.$type===Hk}class Fk{constructor(Z){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=Z.parser.Lexer;let J=this.lexer.definition,Q=Z.LanguageMetaData.mode==="production";this.wrapper=new lx0(J,Object.assign(Object.assign({},Z.parser.ParserConfig),{skipValidations:Q,errorMessageProvider:Z.parser.ParserErrorMessageProvider}))}alternatives(Z,J){this.wrapper.wrapOr(Z,J)}optional(Z,J){this.wrapper.wrapOption(Z,J)}many(Z,J){this.wrapper.wrapMany(Z,J)}atLeastOne(Z,J){this.wrapper.wrapAtLeastOne(Z,J)}getRule(Z){return this.allRules.get(Z)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Ta{buildMismatchTokenMessage(Z){return xY.buildMismatchTokenMessage(Z)}buildNotAllInputParsedMessage(Z){return xY.buildNotAllInputParsedMessage(Z)}buildNoViableAltMessage(Z){return xY.buildNoViableAltMessage(Z)}buildEarlyExitMessage(Z){return xY.buildEarlyExitMessage(Z)}}var Hk,px0="",cx0=(Z)=>Z.endsWith(px0)?Z:Z+px0,Mk,WA,Bk,u_8,lx0;var GA=f(()=>{NW();mv0();aU();w5();W6();zk();Hk=Symbol("Datatype");Mk=class Mk extends Fk{get current(){return this.stack[this.stack.length-1]}constructor(Z){super(Z);this.nodeBuilder=new Wk,this.stack=[],this.assignmentMap=new Map,this.linker=Z.references.Linker,this.converter=Z.parser.ValueConverter,this.astReflection=Z.shared.AstReflection}rule(Z,J){let Q=this.computeRuleType(Z),K=this.wrapper.DEFINE_RULE(cx0(Z.name),this.startImplementation(Q,J).bind(this));if(this.allRules.set(Z.name,K),Z.entry)this.mainRule=K;return K}computeRuleType(Z){if(Z.fragment)return;else if(YI(Z))return Hk;else{let J=AM(Z);return J!==null&&J!==void 0?J:Z.name}}parse(Z,J={}){this.nodeBuilder.buildRootNode(Z);let Q=this.lexerResult=this.lexer.tokenize(Z);this.wrapper.input=Q.tokens;let K=J.rule?this.allRules.get(J.rule):this.mainRule;if(!K)throw Error(J.rule?`No rule found with name '${J.rule}'`:"No main rule available.");let U=K.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(Q.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:U,lexerErrors:Q.errors,lexerReport:Q.report,parserErrors:this.wrapper.errors}}startImplementation(Z,J){return(Q)=>{let K=!this.isRecording()&&Z!==void 0;if(K){let X={$type:Z};if(this.stack.push(X),Z===Hk)X.value=""}let U;try{U=J(Q)}catch(X){U=void 0}if(U===void 0&&K)U=this.construct();return U}}extractHiddenTokens(Z){let J=this.lexerResult.hidden;if(!J.length)return[];let Q=Z.startOffset;for(let K=0;K<J.length;K++)if(J[K].startOffset>Q)return J.splice(0,K);return J.splice(0,J.length)}consume(Z,J,Q){let K=this.wrapper.wrapConsume(Z,J);if(!this.isRecording()&&this.isValidToken(K)){let U=this.extractHiddenTokens(K);this.nodeBuilder.addHiddenNodes(U);let X=this.nodeBuilder.buildLeafNode(K,Q),{assignment:Y,isCrossRef:q}=this.getAssignment(Q),W=this.current;if(Y){let G=SK(Q)?K.image:this.converter.convert(K.image,X);this.assign(Y.operator,Y.feature,G,X,q)}else if(Sa(W)){let G=K.image;if(!SK(Q))G=this.converter.convert(G,X).toString();W.value+=G}}}isValidToken(Z){return!Z.isInsertedInRecovery&&!isNaN(Z.startOffset)&&typeof Z.endOffset==="number"&&!isNaN(Z.endOffset)}subrule(Z,J,Q,K,U){let X;if(!this.isRecording()&&!Q)X=this.nodeBuilder.buildCompositeNode(K);let Y=this.wrapper.wrapSubrule(Z,J,U);if(!this.isRecording()&&X&&X.length>0)this.performSubruleAssignment(Y,K,X)}performSubruleAssignment(Z,J,Q){let{assignment:K,isCrossRef:U}=this.getAssignment(J);if(K)this.assign(K.operator,K.feature,Z,Q,U);else if(!K){let X=this.current;if(Sa(X))X.value+=Z.toString();else if(typeof Z==="object"&&Z){let q=this.assignWithoutOverride(Z,X);this.stack.pop(),this.stack.push(q)}}}action(Z,J){if(!this.isRecording()){let Q=this.current;if(J.feature&&J.operator){Q=this.construct(),this.nodeBuilder.removeNode(Q.$cstNode),this.nodeBuilder.buildCompositeNode(J).content.push(Q.$cstNode);let U={$type:Z};this.stack.push(U),this.assign(J.operator,J.feature,Q,Q.$cstNode,!1)}else Q.$type=Z}}construct(){if(this.isRecording())return;let Z=this.current;if(fT(Z),this.nodeBuilder.construct(Z),this.stack.pop(),Sa(Z))return this.converter.convert(Z.value,Z.$cstNode);else bs(this.astReflection,Z);return Z}getAssignment(Z){if(!this.assignmentMap.has(Z)){let J=Az(Z,S5);this.assignmentMap.set(Z,{assignment:J,isCrossRef:J?Iz(J.terminal):!1})}return this.assignmentMap.get(Z)}assign(Z,J,Q,K,U){let X=this.current,Y;if(U&&typeof Q==="string")Y=this.linker.buildReference(X,J,K,Q);else Y=Q;switch(Z){case"=":{X[J]=Y;break}case"?=":{X[J]=!0;break}case"+=":{if(!Array.isArray(X[J]))X[J]=[];X[J].push(Y)}}}assignWithoutOverride(Z,J){for(let[K,U]of Object.entries(J)){let X=Z[K];if(X===void 0)Z[K]=U;else if(Array.isArray(X)&&Array.isArray(U))U.push(...X),Z[K]=U}let Q=Z.$cstNode;if(Q)Q.astNode=void 0,Z.$cstNode=void 0;return Z}get definitionErrors(){return this.wrapper.definitionErrors}};WA=class WA extends Ta{buildMismatchTokenMessage({expected:Z,actual:J}){return`Expecting ${Z.LABEL?"`"+Z.LABEL+"`":Z.name.endsWith(":KW")?`keyword '${Z.name.substring(0,Z.name.length-3)}'`:`token of type '${Z.name}'`} but found \`${J.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:Z}){return`Expecting end of file but found \`${Z.image}\`.`}};Bk=class Bk extends Fk{constructor(){super(...arguments);this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){return}parse(Z){this.resetState();let J=this.lexer.tokenize(Z,{mode:"partial"});return this.tokens=J.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(Z,J){let Q=this.wrapper.DEFINE_RULE(cx0(Z.name),this.startImplementation(J).bind(this));if(this.allRules.set(Z.name,Q),Z.entry)this.mainRule=Q;return Q}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(Z){return(J)=>{let Q=this.keepStackSize();try{Z(J)}finally{this.resetStackSize(Q)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let Z=this.elementStack.length;return this.stackSize=Z,Z}resetStackSize(Z){this.removeUnexpectedElements(),this.stackSize=Z}consume(Z,J,Q){if(this.wrapper.wrapConsume(Z,J),!this.isRecording())this.lastElementStack=[...this.elementStack,Q],this.nextTokenIndex=this.currIdx+1}subrule(Z,J,Q,K,U){this.before(K),this.wrapper.wrapSubrule(Z,J,U),this.after(K)}before(Z){if(!this.isRecording())this.elementStack.push(Z)}after(Z){if(!this.isRecording()){let J=this.elementStack.lastIndexOf(Z);if(J>=0)this.elementStack.splice(J)}}get currIdx(){return this.wrapper.currIdx}};u_8={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new WA};lx0=class lx0 extends t${constructor(Z,J){let Q=J&&"maxLookahead"in J;super(Z,Object.assign(Object.assign(Object.assign({},u_8),{lookaheadStrategy:Q?new AW({maxLookahead:J.maxLookahead}):new Qk({logging:J.skipValidations?()=>{}:void 0})}),J))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(Z,J){return this.RULE(Z,J)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(Z,J){return this.consume(Z,J)}wrapSubrule(Z,J,Q){return this.subrule(Z,J,{ARGS:[Q]})}wrapOr(Z,J){this.or(Z,J)}wrapOption(Z,J){this.option(Z,J)}wrapMany(Z,J){this.many(Z,J)}wrapAtLeastOne(Z,J){this.atLeastOne(Z,J)}}});function zA(Z,J,Q){return g_8({parser:J,tokens:Q,ruleNames:new Map},Z),J}function g_8(Z,J){let Q=UI(J,!1),K=E9(J.rules).filter(_Q).filter((U)=>Q.has(U));for(let U of K){let X=Object.assign(Object.assign({},Z),{consume:1,optional:1,subrule:1,many:1,or:1});Z.parser.rule(U,hz(X,U.definition))}}function hz(Z,J,Q=!1){let K;if(SK(J))K=r_8(Z,J);else if(VY(J))K=p_8(Z,J);else if(S5(J))K=hz(Z,J.terminal);else if(Iz(J))K=dx0(Z,J);else if(T5(J))K=c_8(Z,J);else if($T(J))K=d_8(Z,J);else if(_T(J))K=i_8(Z,J);else if(xq(J))K=s_8(Z,J);else if(Ss(J)){let U=Z.consume++;K=()=>Z.parser.consume(U,u4,J)}else throw new $F(J.$cstNode,`Unexpected element type: ${J.$type}`);return ix0(Z,Q?void 0:Ok(J),K,J.cardinality)}function p_8(Z,J){let Q=qI(J);return()=>Z.parser.action(Q,J)}function c_8(Z,J){let Q=J.rule.ref;if(_Q(Q)){let K=Z.subrule++,U=Q.fragment,X=J.arguments.length>0?l_8(Q,J.arguments):()=>({});return(Y)=>Z.parser.subrule(K,sx0(Z,Q),U,J,X(Y))}else if(h4(Q)){let K=Z.consume++,U=wa(Z,Q.name);return()=>Z.parser.consume(K,U,J)}else if(!Q)throw new $F(J.$cstNode,`Undefined rule: ${J.rule.$refText}`);else nU(Q)}function l_8(Z,J){let Q=J.map((K)=>bY(K.value));return(K)=>{let U={};for(let X=0;X<Q.length;X++){let Y=Z.parameters[X],q=Q[X];U[Y.name]=q(K)}return U}}function bY(Z){if(As(Z)){let J=bY(Z.left),Q=bY(Z.right);return(K)=>J(K)||Q(K)}else if(Is(Z)){let J=bY(Z.left),Q=bY(Z.right);return(K)=>J(K)&&Q(K)}else if(Ns(Z)){let J=bY(Z.value);return(Q)=>!J(Q)}else if(Es(Z)){let J=Z.parameter.ref.name;return(Q)=>Q!==void 0&&Q[J]===!0}else if(Ds(Z)){let J=Boolean(Z.true);return()=>J}nU(Z)}function d_8(Z,J){if(J.elements.length===1)return hz(Z,J.elements[0]);else{let Q=[];for(let U of J.elements){let X={ALT:hz(Z,U,!0)},Y=Ok(U);if(Y)X.GATE=bY(Y);Q.push(X)}let K=Z.or++;return(U)=>Z.parser.alternatives(K,Q.map((X)=>{let Y={ALT:()=>X.ALT(U)},q=X.GATE;if(q)Y.GATE=()=>q(U);return Y}))}}function i_8(Z,J){if(J.elements.length===1)return hz(Z,J.elements[0]);let Q=[];for(let q of J.elements){let W={ALT:hz(Z,q,!0)},G=Ok(q);if(G)W.GATE=bY(G);Q.push(W)}let K=Z.or++,U=(q,W)=>{let G=W.getRuleStack().join("-");return`uGroup_${q}_${G}`},X=(q)=>Z.parser.alternatives(K,Q.map((W,G)=>{let z={ALT:()=>!0},H=Z.parser;z.ALT=()=>{if(W.ALT(q),!H.isRecording()){let M=U(K,H);if(!H.unorderedGroups.get(M))H.unorderedGroups.set(M,[]);let B=H.unorderedGroups.get(M);if(typeof(B===null||B===void 0?void 0:B[G])>"u")B[G]=!0}};let F=W.GATE;if(F)z.GATE=()=>F(q);else z.GATE=()=>{let M=H.unorderedGroups.get(U(K,H));return!(M===null||M===void 0?void 0:M[G])};return z})),Y=ix0(Z,Ok(J),X,"*");return(q)=>{if(Y(q),!Z.parser.isRecording())Z.parser.unorderedGroups.delete(U(K,Z.parser))}}function s_8(Z,J){let Q=J.elements.map((K)=>hz(Z,K));return(K)=>Q.forEach((U)=>U(K))}function Ok(Z){if(xq(Z))return Z.guardCondition;return}function dx0(Z,J,Q=J.terminal){if(!Q){if(!J.type.ref)throw Error("Could not resolve reference to type: "+J.type.$refText);let K=hT(J.type.ref),U=K===null||K===void 0?void 0:K.terminal;if(!U)throw Error("Could not find name assignment for type: "+qI(J.type.ref));return dx0(Z,J,U)}else if(T5(Q)&&_Q(Q.rule.ref)){let K=Q.rule.ref,U=Z.subrule++;return(X)=>Z.parser.subrule(U,sx0(Z,K),!1,J,X)}else if(T5(Q)&&h4(Q.rule.ref)){let K=Z.consume++,U=wa(Z,Q.rule.ref.name);return()=>Z.parser.consume(K,U,J)}else if(SK(Q)){let K=Z.consume++,U=wa(Z,Q.value);return()=>Z.parser.consume(K,U,J)}else throw Error("Could not build cross reference parser")}function r_8(Z,J){let Q=Z.consume++,K=Z.tokens[J.value];if(!K)throw Error("Could not find token for keyword: "+J.value);return()=>Z.parser.consume(Q,K,J)}function ix0(Z,J,Q,K){let U=J&&bY(J);if(!K)if(U){let X=Z.or++;return(Y)=>Z.parser.alternatives(X,[{ALT:()=>Q(Y),GATE:()=>U(Y)},{ALT:o$(),GATE:()=>!U(Y)}])}else return Q;if(K==="*"){let X=Z.many++;return(Y)=>Z.parser.many(X,{DEF:()=>Q(Y),GATE:U?()=>U(Y):void 0})}else if(K==="+"){let X=Z.many++;if(U){let Y=Z.or++;return(q)=>Z.parser.alternatives(Y,[{ALT:()=>Z.parser.atLeastOne(X,{DEF:()=>Q(q)}),GATE:()=>U(q)},{ALT:o$(),GATE:()=>!U(q)}])}else return(Y)=>Z.parser.atLeastOne(X,{DEF:()=>Q(Y)})}else if(K==="?"){let X=Z.optional++;return(Y)=>Z.parser.optional(X,{DEF:()=>Q(Y),GATE:U?()=>U(Y):void 0})}else nU(K)}function sx0(Z,J){let Q=n_8(Z,J),K=Z.parser.getRule(Q);if(!K)throw Error(`Rule "${Q}" not found."`);return K}function n_8(Z,J){if(_Q(J))return J.name;else if(Z.ruleNames.has(J))return Z.ruleNames.get(J);else{let Q=J,K=Q.$container,U=J.$type;while(!_Q(K)){if(xq(K)||$T(K)||_T(K))U=K.elements.indexOf(Q).toString()+":"+U;Q=K,K=K.$container}return U=K.name+":"+U,Z.ruleNames.set(J,U),U}}function wa(Z,J){let Q=Z.tokens[J];if(!Q)throw Error(`Token "${J}" not found."`);return Q}var Rk=f(()=>{NW();aU();CT();t6();w5()});function $a(Z){let J=Z.Grammar,Q=Z.parser.Lexer,K=new Bk(Z);return zA(J,K,Q.definition),K.finalize(),K}var ka=f(()=>{GA();Rk()});function _a(Z){let J=rx0(Z);return J.finalize(),J}function rx0(Z){let J=Z.Grammar,Q=Z.parser.Lexer,K=new Mk(Z);return zA(J,K,Q.definition)}var fa=f(()=>{GA();Rk()});class PW{constructor(){this.diagnostics=[]}buildTokens(Z,J){let Q=E9(UI(Z,!1)),K=this.buildTerminalTokens(Q),U=this.buildKeywordTokens(Q,K,J);return K.forEach((X)=>{let Y=X.PATTERN;if(typeof Y==="object"&&Y&&"test"in Y&&DM(Y))U.unshift(X);else U.push(X)}),U}flushLexingReport(Z){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let Z=[...this.diagnostics];return this.diagnostics=[],Z}buildTerminalTokens(Z){return Z.filter(h4).filter((J)=>!J.fragment).map((J)=>this.buildTerminalToken(J)).toArray()}buildTerminalToken(Z){let J=NM(Z),Q=this.requiresCustomPattern(J)?this.regexPatternFunction(J):J,K={name:Z.name,PATTERN:Q};if(typeof Q==="function")K.LINE_BREAKS=!0;if(Z.hidden)K.GROUP=DM(J)?vJ.SKIPPED:"hidden";return K}requiresCustomPattern(Z){if(Z.flags.includes("u")||Z.flags.includes("s"))return!0;else if(Z.source.includes("?<=")||Z.source.includes("?<!"))return!0;else return!1}regexPatternFunction(Z){let J=new RegExp(Z,Z.flags+"y");return(Q,K)=>{return J.lastIndex=K,J.exec(Q)}}buildKeywordTokens(Z,J,Q){return Z.filter(_Q).flatMap((K)=>oU(K).filter(SK)).distinct((K)=>K.value).toArray().sort((K,U)=>U.value.length-K.value.length).map((K)=>this.buildKeywordToken(K,J,Boolean(Q===null||Q===void 0?void 0:Q.caseInsensitive)))}buildKeywordToken(Z,J,Q){let K=this.buildKeywordPattern(Z,Q),U={name:Z.value,PATTERN:K,LONGER_ALT:this.findLongerAlt(Z,J)};if(typeof K==="function")U.LINE_BREAKS=!0;return U}buildKeywordPattern(Z,J){return J?new RegExp(gs(Z.value)):Z.value}findLongerAlt(Z,J){return J.reduce((Q,K)=>{let U=K===null||K===void 0?void 0:K.PATTERN;if((U===null||U===void 0?void 0:U.source)&&ps("^"+U.source+"$",Z.value))Q.push(K);return Q},[])}}var Lk=f(()=>{NW();aU();W6();w5();IM();t6()});class gB{convert(Z,J){let Q=J.grammarSource;if(Iz(Q))Q=ds(Q);if(T5(Q)){let K=Q.rule.ref;if(!K)throw Error("This cst node was not parsed by a rule.");return this.runConverter(K,Z,J)}return Z}runConverter(Z,J,Q){var K;switch(Z.name.toUpperCase()){case"INT":return OX.convertInt(J);case"STRING":return OX.convertString(J);case"ID":return OX.convertID(J)}switch((K=ts(Z))===null||K===void 0?void 0:K.toLowerCase()){case"number":return OX.convertNumber(J);case"boolean":return OX.convertBoolean(J);case"bigint":return OX.convertBigint(J);case"date":return OX.convertDate(J);default:return J}}}var OX;var va=f(()=>{aU();w5();(function(Z){function J(G){let z="";for(let H=1;H<G.length-1;H++){let F=G.charAt(H);if(F==="\\"){let M=G.charAt(++H);z+=Q(M)}else z+=F}return z}Z.convertString=J;function Q(G){switch(G){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\x00";default:return G}}function K(G){if(G.charAt(0)==="^")return G.substring(1);else return G}Z.convertID=K;function U(G){return parseInt(G)}Z.convertInt=U;function X(G){return BigInt(G)}Z.convertBigint=X;function Y(G){return new Date(G)}Z.convertDate=Y;function q(G){return Number(G)}Z.convertNumber=q;function W(G){return G.toLowerCase()==="true"}Z.convertBoolean=W})(OX||(OX={}))});var ya=u9((nx0)=>{Object.defineProperty(nx0,"__esModule",{value:!0});var xa;function ba(){if(xa===void 0)throw Error("No runtime abstraction layer installed");return xa}(function(Z){function J(Q){if(Q===void 0)throw Error("No runtime abstraction layer provided");xa=Q}Z.install=J})(ba||(ba={}));nx0.default=ba});var Zb0=u9((tx0)=>{Object.defineProperty(tx0,"__esModule",{value:!0});tx0.stringArray=tx0.array=tx0.func=tx0.error=tx0.number=tx0.string=tx0.boolean=void 0;function o_8(Z){return Z===!0||Z===!1}tx0.boolean=o_8;function ax0(Z){return typeof Z==="string"||Z instanceof String}tx0.string=ax0;function t_8(Z){return typeof Z==="number"||Z instanceof Number}tx0.number=t_8;function e_8(Z){return Z instanceof Error}tx0.error=e_8;function Zf8(Z){return typeof Z==="function"}tx0.func=Zf8;function ox0(Z){return Array.isArray(Z)}tx0.array=ox0;function Jf8(Z){return ox0(Z)&&Z.every((J)=>ax0(J))}tx0.stringArray=Jf8});var ha=u9((Kb0)=>{Object.defineProperty(Kb0,"__esModule",{value:!0});Kb0.Emitter=Kb0.Event=void 0;var Wf8=ya(),Jb0;(function(Z){let J={dispose(){}};Z.None=function(){return J}})(Jb0||(Kb0.Event=Jb0={}));class Qb0{add(Z,J=null,Q){if(!this._callbacks)this._callbacks=[],this._contexts=[];if(this._callbacks.push(Z),this._contexts.push(J),Array.isArray(Q))Q.push({dispose:()=>this.remove(Z,J)})}remove(Z,J=null){if(!this._callbacks)return;let Q=!1;for(let K=0,U=this._callbacks.length;K<U;K++)if(this._callbacks[K]===Z)if(this._contexts[K]===J){this._callbacks.splice(K,1),this._contexts.splice(K,1);return}else Q=!0;if(Q)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...Z){if(!this._callbacks)return[];let J=[],Q=this._callbacks.slice(0),K=this._contexts.slice(0);for(let U=0,X=Q.length;U<X;U++)try{J.push(Q[U].apply(K[U],Z))}catch(Y){(0,Wf8.default)().console.error(Y)}return J}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Dk{constructor(Z){this._options=Z}get event(){if(!this._event)this._event=(Z,J,Q)=>{if(!this._callbacks)this._callbacks=new Qb0;if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty())this._options.onFirstListenerAdd(this);this._callbacks.add(Z,J);let K={dispose:()=>{if(!this._callbacks)return;if(this._callbacks.remove(Z,J),K.dispose=Dk._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty())this._options.onLastListenerRemove(this)}};if(Array.isArray(Q))Q.push(K);return K};return this._event}fire(Z){if(this._callbacks)this._callbacks.invoke.call(this._callbacks,Z)}dispose(){if(this._callbacks)this._callbacks.dispose(),this._callbacks=void 0}}Kb0.Emitter=Dk;Dk._noop=function(){}});var Wb0=u9((Yb0)=>{Object.defineProperty(Yb0,"__esModule",{value:!0});Yb0.CancellationTokenSource=Yb0.CancellationToken=void 0;var zf8=ya(),Hf8=Zb0(),ma=ha(),Ik;(function(Z){Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ma.Event.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ma.Event.None});function J(Q){let K=Q;return K&&(K===Z.None||K===Z.Cancelled||Hf8.boolean(K.isCancellationRequested)&&!!K.onCancellationRequested)}Z.is=J})(Ik||(Yb0.CancellationToken=Ik={}));var Ff8=Object.freeze(function(Z,J){let Q=(0,zf8.default)().timer.setTimeout(Z.bind(J),0);return{dispose(){Q.dispose()}}});class ua{constructor(){this._isCancelled=!1}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return Ff8;if(!this._emitter)this._emitter=new ma.Emitter;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=void 0}}class Xb0{get token(){if(!this._token)this._token=new ua;return this._token}cancel(){if(!this._token)this._token=Ik.Cancelled;else this._token.cancel()}dispose(){if(!this._token)this._token=Ik.None;else if(this._token instanceof ua)this._token.dispose()}}Yb0.CancellationTokenSource=Xb0});var wZ={};var vK=f(()=>{gZ(wZ,c7(Wb0(),1))});function ga(){return new Promise((Z)=>{if(typeof setImmediate>"u")setTimeout(Z,0);else setImmediate(Z)})}function Nk(){return Ak=performance.now(),new wZ.CancellationTokenSource}function zb0(Z){Gb0=Z}function LX(Z){return Z===RX}async function tJ(Z){if(Z===wZ.CancellationToken.None)return;let J=performance.now();if(J-Ak>=Gb0)Ak=J,await ga(),Ak=performance.now();if(Z.isCancellationRequested)throw RX}class G4{constructor(){this.promise=new Promise((Z,J)=>{this.resolve=(Q)=>{return Z(Q),this},this.reject=(Q)=>{return J(Q),this}})}}var Ak=0,Gb0=10,RX;var xK=f(()=>{vK();RX=Symbol("OperationCancelled")});class HA{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){for(let Q of Z)if(HA.isIncremental(Q)){let K=Mb0(Q.range),U=this.offsetAt(K.start),X=this.offsetAt(K.end);this._content=this._content.substring(0,U)+Q.text+this._content.substring(X,this._content.length);let Y=Math.max(K.start.line,0),q=Math.max(K.end.line,0),W=this._lineOffsets,G=Hb0(Q.text,!1,U);if(q-Y===G.length)for(let H=0,F=G.length;H<F;H++)W[H+Y+1]=G[H];else if(G.length<1e4)W.splice(Y+1,q-Y,...G);else this._lineOffsets=W=W.slice(0,Y+1).concat(G,W.slice(q+1));let z=Q.text.length-(X-U);if(z!==0)for(let H=Y+1+G.length,F=W.length;H<F;H++)W[H]=W[H]+z}else if(HA.isFull(Q))this._content=Q.text,this._lineOffsets=void 0;else throw Error("Unknown change event received");this._version=J}getLineOffsets(){if(this._lineOffsets===void 0)this._lineOffsets=Hb0(this._content,!0);return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let J=this.getLineOffsets(),Q=0,K=J.length;if(K===0)return{line:0,character:Z};while(Q<K){let X=Math.floor((Q+K)/2);if(J[X]>Z)K=X;else Q=X+1}let U=Q-1;return Z=this.ensureBeforeEOL(Z,J[U]),{line:U,character:Z-J[U]}}offsetAt(Z){let J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;let Q=J[Z.line];if(Z.character<=0)return Q;let K=Z.line+1<J.length?J[Z.line+1]:this._content.length,U=Math.min(Q+Z.character,K);return this.ensureBeforeEOL(U,Q)}ensureBeforeEOL(Z,J){while(Z>J&&Fb0(this._content.charCodeAt(Z-1)))Z--;return Z}get lineCount(){return this.getLineOffsets().length}static isIncremental(Z){let J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range!==void 0&&(J.rangeLength===void 0||typeof J.rangeLength==="number")}static isFull(Z){let J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range===void 0&&J.rangeLength===void 0}}function pa(Z,J){if(Z.length<=1)return Z;let Q=Z.length/2|0,K=Z.slice(0,Q),U=Z.slice(Q);pa(K,J),pa(U,J);let X=0,Y=0,q=0;while(X<K.length&&Y<U.length)if(J(K[X],U[Y])<=0)Z[q++]=K[X++];else Z[q++]=U[Y++];while(X<K.length)Z[q++]=K[X++];while(Y<U.length)Z[q++]=U[Y++];return Z}function Hb0(Z,J,Q=0){let K=J?[Q]:[];for(let U=0;U<Z.length;U++){let X=Z.charCodeAt(U);if(Fb0(X)){if(X===13&&U+1<Z.length&&Z.charCodeAt(U+1)===10)U++;K.push(Q+U+1)}}return K}function Fb0(Z){return Z===13||Z===10}function Mb0(Z){let{start:J,end:Q}=Z;if(J.line>Q.line||J.line===Q.line&&J.character>Q.character)return{start:Q,end:J};return Z}function Bf8(Z){let J=Mb0(Z.range);if(J!==Z.range)return{newText:Z.newText,range:J};return Z}var pB;var Bb0=f(()=>{(function(Z){function J(U,X,Y,q){return new HA(U,X,Y,q)}Z.create=J;function Q(U,X,Y){if(U instanceof HA)return U.update(X,Y),U;else throw Error("TextDocument.update: document must be created by TextDocument.create")}Z.update=Q;function K(U,X){let Y=U.getText(),q=pa(X.map(Bf8),(z,H)=>{let F=z.range.start.line-H.range.start.line;if(F===0)return z.range.start.character-H.range.start.character;return F}),W=0,G=[];for(let z of q){let H=U.offsetAt(z.range.start);if(H<W)throw Error("Overlapping edit");else if(H>W)G.push(Y.substring(W,H));if(z.newText.length)G.push(z.newText);W=U.offsetAt(z.range.end)}return G.push(Y.substr(W)),G.join("")}Z.applyEdits=K})(pB||(pB={}))});var Ob0,L6,cB;var ca=f(()=>{(()=>{var Z={470:(U)=>{function X(W){if(typeof W!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(W))}function Y(W,G){for(var z,H="",F=0,M=-1,B=0,O=0;O<=W.length;++O){if(O<W.length)z=W.charCodeAt(O);else{if(z===47)break;z=47}if(z===47){if(M===O-1||B===1);else if(M!==O-1&&B===2){if(H.length<2||F!==2||H.charCodeAt(H.length-1)!==46||H.charCodeAt(H.length-2)!==46){if(H.length>2){var R=H.lastIndexOf("/");if(R!==H.length-1){R===-1?(H="",F=0):F=(H=H.slice(0,R)).length-1-H.lastIndexOf("/"),M=O,B=0;continue}}else if(H.length===2||H.length===1){H="",F=0,M=O,B=0;continue}}G&&(H.length>0?H+="/..":H="..",F=2)}else H.length>0?H+="/"+W.slice(M+1,O):H=W.slice(M+1,O),F=O-M-1;M=O,B=0}else z===46&&B!==-1?++B:B=-1}return H}var q={resolve:function(){for(var W,G="",z=!1,H=arguments.length-1;H>=-1&&!z;H--){var F;H>=0?F=arguments[H]:(W===void 0&&(W=process.cwd()),F=W),X(F),F.length!==0&&(G=F+"/"+G,z=F.charCodeAt(0)===47)}return G=Y(G,!z),z?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(W){if(X(W),W.length===0)return".";var G=W.charCodeAt(0)===47,z=W.charCodeAt(W.length-1)===47;return(W=Y(W,!G)).length!==0||G||(W="."),W.length>0&&z&&(W+="/"),G?"/"+W:W},isAbsolute:function(W){return X(W),W.length>0&&W.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var W,G=0;G<arguments.length;++G){var z=arguments[G];X(z),z.length>0&&(W===void 0?W=z:W+="/"+z)}return W===void 0?".":q.normalize(W)},relative:function(W,G){if(X(W),X(G),W===G)return"";if((W=q.resolve(W))===(G=q.resolve(G)))return"";for(var z=1;z<W.length&&W.charCodeAt(z)===47;++z);for(var H=W.length,F=H-z,M=1;M<G.length&&G.charCodeAt(M)===47;++M);for(var B=G.length-M,O=F<B?F:B,R=-1,L=0;L<=O;++L){if(L===O){if(B>O){if(G.charCodeAt(M+L)===47)return G.slice(M+L+1);if(L===0)return G.slice(M+L)}else F>O&&(W.charCodeAt(z+L)===47?R=L:L===0&&(R=0));break}var D=W.charCodeAt(z+L);if(D!==G.charCodeAt(M+L))break;D===47&&(R=L)}var A="";for(L=z+R+1;L<=H;++L)L!==H&&W.charCodeAt(L)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+G.slice(M+R):(M+=R,G.charCodeAt(M)===47&&++M,G.slice(M))},_makeLong:function(W){return W},dirname:function(W){if(X(W),W.length===0)return".";for(var G=W.charCodeAt(0),z=G===47,H=-1,F=!0,M=W.length-1;M>=1;--M)if((G=W.charCodeAt(M))===47){if(!F){H=M;break}}else F=!1;return H===-1?z?"/":".":z&&H===1?"//":W.slice(0,H)},basename:function(W,G){if(G!==void 0&&typeof G!="string")throw TypeError('"ext" argument must be a string');X(W);var z,H=0,F=-1,M=!0;if(G!==void 0&&G.length>0&&G.length<=W.length){if(G.length===W.length&&G===W)return"";var B=G.length-1,O=-1;for(z=W.length-1;z>=0;--z){var R=W.charCodeAt(z);if(R===47){if(!M){H=z+1;break}}else O===-1&&(M=!1,O=z+1),B>=0&&(R===G.charCodeAt(B)?--B==-1&&(F=z):(B=-1,F=O))}return H===F?F=O:F===-1&&(F=W.length),W.slice(H,F)}for(z=W.length-1;z>=0;--z)if(W.charCodeAt(z)===47){if(!M){H=z+1;break}}else F===-1&&(M=!1,F=z+1);return F===-1?"":W.slice(H,F)},extname:function(W){X(W);for(var G=-1,z=0,H=-1,F=!0,M=0,B=W.length-1;B>=0;--B){var O=W.charCodeAt(B);if(O!==47)H===-1&&(F=!1,H=B+1),O===46?G===-1?G=B:M!==1&&(M=1):G!==-1&&(M=-1);else if(!F){z=B+1;break}}return G===-1||H===-1||M===0||M===1&&G===H-1&&G===z+1?"":W.slice(G,H)},format:function(W){if(W===null||typeof W!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof W);return function(G,z){var H=z.dir||z.root,F=z.base||(z.name||"")+(z.ext||"");return H?H===z.root?H+F:H+"/"+F:F}(0,W)},parse:function(W){X(W);var G={root:"",dir:"",base:"",ext:"",name:""};if(W.length===0)return G;var z,H=W.charCodeAt(0),F=H===47;F?(G.root="/",z=1):z=0;for(var M=-1,B=0,O=-1,R=!0,L=W.length-1,D=0;L>=z;--L)if((H=W.charCodeAt(L))!==47)O===-1&&(R=!1,O=L+1),H===46?M===-1?M=L:D!==1&&(D=1):M!==-1&&(D=-1);else if(!R){B=L+1;break}return M===-1||O===-1||D===0||D===1&&M===O-1&&M===B+1?O!==-1&&(G.base=G.name=B===0&&F?W.slice(1,O):W.slice(B,O)):(B===0&&F?(G.name=W.slice(1,M),G.base=W.slice(1,O)):(G.name=W.slice(B,M),G.base=W.slice(B,O)),G.ext=W.slice(M,O)),B>0?G.dir=W.slice(0,B-1):F&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,U.exports=q}},J={};function Q(U){var X=J[U];if(X!==void 0)return X.exports;var Y=J[U]={exports:{}};return Z[U](Y,Y.exports,Q),Y.exports}Q.d=(U,X)=>{for(var Y in X)Q.o(X,Y)&&!Q.o(U,Y)&&Object.defineProperty(U,Y,{enumerable:!0,get:X[Y]})},Q.o=(U,X)=>Object.prototype.hasOwnProperty.call(U,X),Q.r=(U)=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var K={};(()=>{let U;if(Q.r(K),Q.d(K,{URI:()=>F,Utils:()=>k}),typeof process=="object")U=process.platform==="win32";else if(typeof navigator=="object")U=navigator.userAgent.indexOf("Windows")>=0;let X=/^\w[\w\d+.-]*$/,Y=/^\//,q=/^\/\//;function W(w,P){if(!w.scheme&&P)throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!X.test(w.scheme))throw Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!Y.test(w.path))throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(q.test(w.path))throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let G="",z="/",H=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class F{static isUri(w){return w instanceof F||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"}scheme;authority;path;query;fragment;constructor(w,P,S,T,_,v=!1){typeof w=="object"?(this.scheme=w.scheme||G,this.authority=w.authority||G,this.path=w.path||G,this.query=w.query||G,this.fragment=w.fragment||G):(this.scheme=function(x,b){return x||b?x:"file"}(w,v),this.authority=P||G,this.path=function(x,b){switch(x){case"https":case"http":case"file":b?b[0]!==z&&(b=z+b):b=z}return b}(this.scheme,S||G),this.query=T||G,this.fragment=_||G,W(this,v))}get fsPath(){return D(this,!1)}with(w){if(!w)return this;let{scheme:P,authority:S,path:T,query:_,fragment:v}=w;return P===void 0?P=this.scheme:P===null&&(P=G),S===void 0?S=this.authority:S===null&&(S=G),T===void 0?T=this.path:T===null&&(T=G),_===void 0?_=this.query:_===null&&(_=G),v===void 0?v=this.fragment:v===null&&(v=G),P===this.scheme&&S===this.authority&&T===this.path&&_===this.query&&v===this.fragment?this:new B(P,S,T,_,v)}static parse(w,P=!1){let S=H.exec(w);return S?new B(S[2]||G,E(S[4]||G),E(S[5]||G),E(S[7]||G),E(S[9]||G),P):new B(G,G,G,G,G)}static file(w){let P=G;if(U&&(w=w.replace(/\\/g,z)),w[0]===z&&w[1]===z){let S=w.indexOf(z,2);S===-1?(P=w.substring(2),w=z):(P=w.substring(2,S),w=w.substring(S)||z)}return new B("file",P,w,G,G)}static from(w){let P=new B(w.scheme,w.authority,w.path,w.query,w.fragment);return W(P,!0),P}toString(w=!1){return A(this,w)}toJSON(){return this}static revive(w){if(w){if(w instanceof F)return w;{let P=new B(w);return P._formatted=w.external,P._fsPath=w._sep===M?w.fsPath:null,P}}return w}}let M=U?1:void 0;class B extends F{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=D(this,!1)),this._fsPath}toString(w=!1){return w?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)}toJSON(){let w={$mid:1};return this._fsPath&&(w.fsPath=this._fsPath,w._sep=M),this._formatted&&(w.external=this._formatted),this.path&&(w.path=this.path),this.scheme&&(w.scheme=this.scheme),this.authority&&(w.authority=this.authority),this.query&&(w.query=this.query),this.fragment&&(w.fragment=this.fragment),w}}let O={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function R(w,P,S){let T,_=-1;for(let v=0;v<w.length;v++){let x=w.charCodeAt(v);if(x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===45||x===46||x===95||x===126||P&&x===47||S&&x===91||S&&x===93||S&&x===58)_!==-1&&(T+=encodeURIComponent(w.substring(_,v)),_=-1),T!==void 0&&(T+=w.charAt(v));else{T===void 0&&(T=w.substr(0,v));let b=O[x];b!==void 0?(_!==-1&&(T+=encodeURIComponent(w.substring(_,v)),_=-1),T+=b):_===-1&&(_=v)}}return _!==-1&&(T+=encodeURIComponent(w.substring(_))),T!==void 0?T:w}function L(w){let P;for(let S=0;S<w.length;S++){let T=w.charCodeAt(S);T===35||T===63?(P===void 0&&(P=w.substr(0,S)),P+=O[T]):P!==void 0&&(P+=w[S])}return P!==void 0?P:w}function D(w,P){let S;return S=w.authority&&w.path.length>1&&w.scheme==="file"?`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?P?w.path.substr(1):w.path[1].toLowerCase()+w.path.substr(2):w.path,U&&(S=S.replace(/\//g,"\\")),S}function A(w,P){let S=P?L:R,T="",{scheme:_,authority:v,path:x,query:b,fragment:y}=w;if(_&&(T+=_,T+=":"),(v||_==="file")&&(T+=z,T+=z),v){let u=v.indexOf("@");if(u!==-1){let h=v.substr(0,u);v=v.substr(u+1),u=h.lastIndexOf(":"),u===-1?T+=S(h,!1,!1):(T+=S(h.substr(0,u),!1,!1),T+=":",T+=S(h.substr(u+1),!1,!0)),T+="@"}v=v.toLowerCase(),u=v.lastIndexOf(":"),u===-1?T+=S(v,!1,!0):(T+=S(v.substr(0,u),!1,!0),T+=v.substr(u))}if(x){if(x.length>=3&&x.charCodeAt(0)===47&&x.charCodeAt(2)===58){let u=x.charCodeAt(1);u>=65&&u<=90&&(x=`/${String.fromCharCode(u+32)}:${x.substr(3)}`)}else if(x.length>=2&&x.charCodeAt(1)===58){let u=x.charCodeAt(0);u>=65&&u<=90&&(x=`${String.fromCharCode(u+32)}:${x.substr(2)}`)}T+=S(x,!0,!1)}return b&&(T+="?",T+=S(b,!1,!1)),y&&(T+="#",T+=P?y:R(y,!1,!1)),T}function V(w){try{return decodeURIComponent(w)}catch{return w.length>3?w.substr(0,3)+V(w.substr(3)):w}}let N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function E(w){return w.match(N)?w.replace(N,(P)=>V(P)):w}var C=Q(470);let j=C.posix||C,$="/";var k;(function(w){w.joinPath=function(P,...S){return P.with({path:j.join(P.path,...S)})},w.resolvePath=function(P,...S){let T=P.path,_=!1;T[0]!==$&&(T=$+T,_=!0);let v=j.resolve(T,...S);return _&&v[0]===$&&!P.authority&&(v=v.substring(1)),P.with({path:v})},w.dirname=function(P){if(P.path.length===0||P.path===$)return P;let S=j.dirname(P.path);return S.length===1&&S.charCodeAt(0)===46&&(S=""),P.with({path:S})},w.basename=function(P){return j.basename(P.path)},w.extname=function(P){return j.extname(P.path)}})(k||(k={}))})(),Ob0=K})();({URI:L6,Utils:cB}=Ob0)});var D6;var DX=f(()=>{ca();(function(Z){Z.basename=cB.basename,Z.dirname=cB.dirname,Z.extname=cB.extname,Z.joinPath=cB.joinPath,Z.resolvePath=cB.resolvePath;function J(U,X){return(U===null||U===void 0?void 0:U.toString())===(X===null||X===void 0?void 0:X.toString())}Z.equals=J;function Q(U,X){let Y=typeof U==="string"?U:U.path,q=typeof X==="string"?X:X.path,W=Y.split("/").filter((M)=>M.length>0),G=q.split("/").filter((M)=>M.length>0),z=0;for(;z<W.length;z++)if(W[z]!==G[z])break;let H="../".repeat(W.length-z),F=G.slice(z).join("/");return H+F}Z.relative=Q;function K(U){return L6.parse(U.toString()).toString()}Z.normalize=K})(D6||(D6={}))});class Ek{constructor(Z){this.serviceRegistry=Z.ServiceRegistry,this.textDocuments=Z.workspace.TextDocuments,this.fileSystemProvider=Z.workspace.FileSystemProvider}async fromUri(Z,J=wZ.CancellationToken.None){let Q=await this.fileSystemProvider.readFile(Z);return this.createAsync(Z,Q,J)}fromTextDocument(Z,J,Q){if(J=J!==null&&J!==void 0?J:L6.parse(Z.uri),wZ.CancellationToken.is(Q))return this.createAsync(J,Z,Q);else return this.create(J,Z,Q)}fromString(Z,J,Q){if(wZ.CancellationToken.is(Q))return this.createAsync(J,Z,Q);else return this.create(J,Z,Q)}fromModel(Z,J){return this.create(J,{$model:Z})}create(Z,J,Q){if(typeof J==="string"){let K=this.parse(Z,J,Q);return this.createLangiumDocument(K,Z,void 0,J)}else if("$model"in J){let K={value:J.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(K,Z)}else{let K=this.parse(Z,J.getText(),Q);return this.createLangiumDocument(K,Z,J)}}async createAsync(Z,J,Q){if(typeof J==="string"){let K=await this.parseAsync(Z,J,Q);return this.createLangiumDocument(K,Z,void 0,J)}else{let K=await this.parseAsync(Z,J.getText(),Q);return this.createLangiumDocument(K,Z,J)}}createLangiumDocument(Z,J,Q,K){let U;if(Q)U={parseResult:Z,uri:J,state:i9.Parsed,references:[],textDocument:Q};else{let X=this.createTextDocumentGetter(J,K);U={parseResult:Z,uri:J,state:i9.Parsed,references:[],get textDocument(){return X()}}}return Z.value.$document=U,U}async update(Z,J){var Q,K;let U=(Q=Z.parseResult.value.$cstNode)===null||Q===void 0?void 0:Q.root.fullText,X=(K=this.textDocuments)===null||K===void 0?void 0:K.get(Z.uri.toString()),Y=X?X.getText():await this.fileSystemProvider.readFile(Z.uri);if(X)Object.defineProperty(Z,"textDocument",{value:X});else{let q=this.createTextDocumentGetter(Z.uri,Y);Object.defineProperty(Z,"textDocument",{get:q})}if(U!==Y)Z.parseResult=await this.parseAsync(Z.uri,Y,J),Z.parseResult.value.$document=Z;return Z.state=i9.Parsed,Z}parse(Z,J,Q){return this.serviceRegistry.getServices(Z).parser.LangiumParser.parse(J,Q)}parseAsync(Z,J,Q){return this.serviceRegistry.getServices(Z).parser.AsyncParser.parse(J,Q)}createTextDocumentGetter(Z,J){let Q=this.serviceRegistry,K=void 0;return()=>{return K!==null&&K!==void 0?K:K=pB.create(Z.toString(),Q.getServices(Z).LanguageMetaData.languageId,0,J!==null&&J!==void 0?J:"")}}}class Vk{constructor(Z){this.documentMap=new Map,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.serviceRegistry=Z.ServiceRegistry}get all(){return E9(this.documentMap.values())}addDocument(Z){let J=Z.uri.toString();if(this.documentMap.has(J))throw Error(`A document with the URI '${J}' is already present.`);this.documentMap.set(J,Z)}getDocument(Z){let J=Z.toString();return this.documentMap.get(J)}async getOrCreateDocument(Z,J){let Q=this.getDocument(Z);if(Q)return Q;return Q=await this.langiumDocumentFactory.fromUri(Z,J),this.addDocument(Q),Q}createDocument(Z,J,Q){if(Q)return this.langiumDocumentFactory.fromString(J,Z,Q).then((K)=>{return this.addDocument(K),K});else{let K=this.langiumDocumentFactory.fromString(J,Z);return this.addDocument(K),K}}hasDocument(Z){return this.documentMap.has(Z.toString())}invalidateDocument(Z){let J=Z.toString(),Q=this.documentMap.get(J);if(Q)this.serviceRegistry.getServices(Z).references.Linker.unlink(Q),Q.state=i9.Changed,Q.precomputedScopes=void 0,Q.diagnostics=void 0;return Q}deleteDocument(Z){let J=Z.toString(),Q=this.documentMap.get(J);if(Q)Q.state=i9.Changed,this.documentMap.delete(J);return Q}}var i9;var lB=f(()=>{Bb0();lB();vK();t6();DX();(function(Z){Z[Z.Changed=0]="Changed",Z[Z.Parsed=1]="Parsed",Z[Z.IndexedContent=2]="IndexedContent",Z[Z.ComputedScopes=3]="ComputedScopes",Z[Z.Linked=4]="Linked",Z[Z.IndexedReferences=5]="IndexedReferences",Z[Z.Validated=6]="Validated"})(i9||(i9={}))});class Pk{constructor(Z){this.reflection=Z.shared.AstReflection,this.langiumDocuments=()=>Z.shared.workspace.LangiumDocuments,this.scopeProvider=Z.references.ScopeProvider,this.astNodeLocator=Z.workspace.AstNodeLocator}async link(Z,J=wZ.CancellationToken.None){for(let Q of TK(Z.parseResult.value))await tJ(J),OM(Q).forEach((K)=>this.doLink(K,Z))}doLink(Z,J){var Q;let K=Z.reference;if(K._ref===void 0){K._ref=la;try{let U=this.getCandidate(Z);if(Oz(U))K._ref=U;else if(K._nodeDescription=U,this.langiumDocuments().hasDocument(U.documentUri)){let X=this.loadAstNode(U);K._ref=X!==null&&X!==void 0?X:this.createLinkingError(Z,U)}else K._ref=void 0}catch(U){console.error(`An error occurred while resolving reference to '${K.$refText}':`,U);let X=(Q=U.message)!==null&&Q!==void 0?Q:String(U);K._ref=Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${K.$refText}': ${X}`})}J.references.push(K)}}unlink(Z){for(let J of Z.references)delete J._ref,delete J._nodeDescription;Z.references=[]}getCandidate(Z){let Q=this.scopeProvider.getScope(Z).getElement(Z.reference.$refText);return Q!==null&&Q!==void 0?Q:this.createLinkingError(Z)}buildReference(Z,J,Q,K){let U=this,X={$refNode:Q,$refText:K,get ref(){var Y;if(kJ(this._ref))return this._ref;else if(Hs(this._nodeDescription)){let q=U.loadAstNode(this._nodeDescription);this._ref=q!==null&&q!==void 0?q:U.createLinkingError({reference:X,container:Z,property:J},this._nodeDescription)}else if(this._ref===void 0){this._ref=la;let q=tD(Z).$document,W=U.getLinkedNode({reference:X,container:Z,property:J});if(W.error&&q&&q.state<i9.ComputedScopes)return this._ref=void 0;this._ref=(Y=W.node)!==null&&Y!==void 0?Y:W.error,this._nodeDescription=W.descr,q===null||q===void 0||q.references.push(this)}else if(this._ref===la)throw Error(`Cyclic reference resolution detected: ${U.astNodeLocator.getAstNodePath(Z)}/${J} (symbol '${K}')`);return kJ(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Oz(this._ref)?this._ref:void 0}};return X}getLinkedNode(Z){var J;try{let Q=this.getCandidate(Z);if(Oz(Q))return{error:Q};let K=this.loadAstNode(Q);if(K)return{node:K,descr:Q};else return{descr:Q,error:this.createLinkingError(Z,Q)}}catch(Q){console.error(`An error occurred while resolving reference to '${Z.reference.$refText}':`,Q);let K=(J=Q.message)!==null&&J!==void 0?J:String(Q);return{error:Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${Z.reference.$refText}': ${K}`})}}}loadAstNode(Z){if(Z.node)return Z.node;let J=this.langiumDocuments().getDocument(Z.documentUri);if(!J)return;return this.astNodeLocator.getAstNode(J.parseResult.value,Z.path)}createLinkingError(Z,J){let Q=tD(Z.container).$document;if(Q&&Q.state<i9.ComputedScopes)console.warn(`Attempted reference resolution before document reached ComputedScopes state (${Q.uri}).`);let K=this.reflection.getReferenceType(Z);return Object.assign(Object.assign({},Z),{message:`Could not resolve reference to ${K} named '${Z.reference.$refText}'.`,targetDescription:J})}}var la;var da=f(()=>{vK();W6();xK();lB();la=Symbol("ref_resolving")});function Rb0(Z){return typeof Z.name==="string"}class Ck{getName(Z){if(Rb0(Z))return Z.name;return}getNameNode(Z){return XI(Z.$cstNode,"name")}}var ia=f(()=>{w5()});class jk{constructor(Z){this.nameProvider=Z.references.NameProvider,this.index=Z.shared.workspace.IndexManager,this.nodeLocator=Z.workspace.AstNodeLocator}findDeclaration(Z){if(Z){let J=os(Z),Q=Z.astNode;if(J&&Q){let K=Q[J.feature];if(FQ(K))return K.ref;else if(Array.isArray(K)){for(let U of K)if(FQ(U)&&U.$refNode&&U.$refNode.offset<=Z.offset&&U.$refNode.end>=Z.end)return U.ref}}if(Q){let K=this.nameProvider.getNameNode(Q);if(K&&(K===Z||Ms(Z,K)))return Q}}return}findDeclarationNode(Z){let J=this.findDeclaration(Z);if(J===null||J===void 0?void 0:J.$cstNode){let Q=this.nameProvider.getNameNode(J);return Q!==null&&Q!==void 0?Q:J.$cstNode}return}findReferences(Z,J){let Q=[];if(J.includeDeclaration){let U=this.getReferenceToSelf(Z);if(U)Q.push(U)}let K=this.index.findAllReferences(Z,this.nodeLocator.getAstNodePath(Z));if(J.documentUri)K=K.filter((U)=>D6.equals(U.sourceUri,J.documentUri));return Q.push(...K),E9(Q)}getReferenceToSelf(Z){let J=this.nameProvider.getNameNode(Z);if(J){let Q=fQ(Z),K=this.nodeLocator.getAstNodePath(Z);return{sourceUri:Q.uri,sourcePath:K,targetUri:Q.uri,targetPath:K,segment:Lz(J),local:!0}}return}}var sa=f(()=>{w5();W6();j5();t6();DX()});class dB{get size(){return this.map.size}constructor(Z){if(this.map=new Map,this.inverse=new Map,Z)for(let[J,Q]of Z)this.set(J,Q)}clear(){this.map.clear(),this.inverse.clear()}set(Z,J){return this.map.set(Z,J),this.inverse.set(J,Z),this}get(Z){return this.map.get(Z)}getKey(Z){return this.inverse.get(Z)}delete(Z){let J=this.map.get(Z);if(J!==void 0)return this.map.delete(Z),this.inverse.delete(J),!0;return!1}}var IX;var iB=f(()=>{t6();IX=class IX{constructor(Z){if(this.map=new Map,Z)for(let[J,Q]of Z)this.add(J,Q)}get size(){return TF.sum(E9(this.map.values()).map((Z)=>Z.length))}clear(){this.map.clear()}delete(Z,J){if(J===void 0)return this.map.delete(Z);else{let Q=this.map.get(Z);if(Q){let K=Q.indexOf(J);if(K>=0){if(Q.length===1)this.map.delete(Z);else Q.splice(K,1);return!0}}return!1}}get(Z){var J;return(J=this.map.get(Z))!==null&&J!==void 0?J:[]}has(Z,J){if(J===void 0)return this.map.has(Z);else{let Q=this.map.get(Z);if(Q)return Q.indexOf(J)>=0;return!1}}add(Z,J){if(this.map.has(Z))this.map.get(Z).push(J);else this.map.set(Z,[J]);return this}addAll(Z,J){if(this.map.has(Z))this.map.get(Z).push(...J);else this.map.set(Z,Array.from(J));return this}forEach(Z){this.map.forEach((J,Q)=>J.forEach((K)=>Z(K,Q,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return E9(this.map.entries()).flatMap(([Z,J])=>J.map((Q)=>[Z,Q]))}keys(){return E9(this.map.keys())}values(){return E9(this.map.values()).flat()}entriesGroupedByKey(){return E9(this.map.entries())}}});class Sk{constructor(Z){this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider}async computeExports(Z,J=wZ.CancellationToken.None){return this.computeExportsForNode(Z.parseResult.value,Z,void 0,J)}async computeExportsForNode(Z,J,Q=eD,K=wZ.CancellationToken.None){let U=[];this.exportNode(Z,U,J);for(let X of Q(Z))await tJ(K),this.exportNode(X,U,J);return U}exportNode(Z,J,Q){let K=this.nameProvider.getName(Z);if(K)J.push(this.descriptions.createDescription(Z,K,Q))}async computeLocalScopes(Z,J=wZ.CancellationToken.None){let Q=Z.parseResult.value,K=new IX;for(let U of oU(Q))await tJ(J),this.processNode(U,Z,K);return K}processNode(Z,J,Q){let K=Z.$container;if(K){let U=this.nameProvider.getName(Z);if(U)Q.add(K,this.descriptions.createDescription(Z,U,J))}}}var ra=f(()=>{vK();W6();iB();xK()});class FA{constructor(Z,J,Q){var K;this.elements=Z,this.outerScope=J,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1}getAllElements(){if(this.outerScope)return this.elements.concat(this.outerScope.getAllElements());else return this.elements}getElement(Z){let J=this.caseInsensitive?this.elements.find((Q)=>Q.name.toLowerCase()===Z.toLowerCase()):this.elements.find((Q)=>Q.name===Z);if(J)return J;if(this.outerScope)return this.outerScope.getElement(Z);return}}class Tk{constructor(Z,J,Q){var K;this.elements=new Map,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1;for(let U of Z){let X=this.caseInsensitive?U.name.toLowerCase():U.name;this.elements.set(X,U)}this.outerScope=J}getElement(Z){let J=this.caseInsensitive?Z.toLowerCase():Z,Q=this.elements.get(J);if(Q)return Q;if(this.outerScope)return this.outerScope.getElement(Z);return}getAllElements(){let Z=E9(this.elements.values());if(this.outerScope)Z=Z.concat(this.outerScope.getAllElements());return Z}}var Of8;var na=f(()=>{t6();Of8={getElement(){return},getAllElements(){return gD}}});class MA{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(Z){this.toDispose.push(Z)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((Z)=>Z.dispose())}throwIfDisposed(){if(this.isDisposed)throw Error("This cache has already been disposed")}}var wk,sB,aa,BA;var $k=f(()=>{wk=class wk extends MA{constructor(){super(...arguments);this.cache=new Map}has(Z){return this.throwIfDisposed(),this.cache.has(Z)}set(Z,J){this.throwIfDisposed(),this.cache.set(Z,J)}get(Z,J){if(this.throwIfDisposed(),this.cache.has(Z))return this.cache.get(Z);else if(J){let Q=J();return this.cache.set(Z,Q),Q}else return}delete(Z){return this.throwIfDisposed(),this.cache.delete(Z)}clear(){this.throwIfDisposed(),this.cache.clear()}};sB=class sB extends MA{constructor(Z){super();this.cache=new Map,this.converter=Z!==null&&Z!==void 0?Z:(J)=>J}has(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).has(J)}set(Z,J,Q){this.throwIfDisposed(),this.cacheForContext(Z).set(J,Q)}get(Z,J,Q){this.throwIfDisposed();let K=this.cacheForContext(Z);if(K.has(J))return K.get(J);else if(Q){let U=Q();return K.set(J,U),U}else return}delete(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).delete(J)}clear(Z){if(this.throwIfDisposed(),Z){let J=this.converter(Z);this.cache.delete(J)}else this.cache.clear()}cacheForContext(Z){let J=this.converter(Z),Q=this.cache.get(J);if(!Q)Q=new Map,this.cache.set(J,Q);return Q}};aa=class aa extends sB{constructor(Z,J){super((Q)=>Q.toString());if(J)this.toDispose.push(Z.workspace.DocumentBuilder.onDocumentPhase(J,(Q)=>{this.clear(Q.uri.toString())})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{for(let U of K)this.clear(U)}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{let U=Q.concat(K);for(let X of U)this.clear(X)}))}};BA=class BA extends wk{constructor(Z,J){super();if(J)this.toDispose.push(Z.workspace.DocumentBuilder.onBuildPhase(J,()=>{this.clear()})),this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate((Q,K)=>{if(K.length>0)this.clear()}));else this.toDispose.push(Z.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});class kk{constructor(Z){this.reflection=Z.shared.AstReflection,this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider,this.indexManager=Z.shared.workspace.IndexManager,this.globalScopeCache=new BA(Z.shared)}getScope(Z){let J=[],Q=this.reflection.getReferenceType(Z),K=fQ(Z.container).precomputedScopes;if(K){let X=Z.container;do{let Y=K.get(X);if(Y.length>0)J.push(E9(Y).filter((q)=>this.reflection.isSubtype(q.type,Q)));X=X.$container}while(X)}let U=this.getGlobalScope(Q,Z);for(let X=J.length-1;X>=0;X--)U=this.createScope(J[X],U);return U}createScope(Z,J,Q){return new FA(E9(Z),J,Q)}createScopeForNodes(Z,J,Q){let K=E9(Z).map((U)=>{let X=this.nameProvider.getName(U);if(X)return this.descriptions.createDescription(U,X);return}).nonNullable();return new FA(K,J,Q)}getGlobalScope(Z,J){return this.globalScopeCache.get(Z,()=>new Tk(this.indexManager.allElements(Z)))}}var oa=f(()=>{na();W6();t6();$k()});function ta(Z){return typeof Z.$comment==="string"}function Lb0(Z){return typeof Z==="object"&&!!Z&&(("$ref"in Z)||("$error"in Z))}class _k{constructor(Z){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=Z.shared.workspace.LangiumDocuments,this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider,this.commentProvider=Z.documentation.CommentProvider}serialize(Z,J){let Q=J!==null&&J!==void 0?J:{},K=J===null||J===void 0?void 0:J.replacer,U=(Y,q)=>this.replacer(Y,q,Q),X=K?(Y,q)=>K(Y,q,U):U;try{return this.currentDocument=fQ(Z),JSON.stringify(Z,X,J===null||J===void 0?void 0:J.space)}finally{this.currentDocument=void 0}}deserialize(Z,J){let Q=J!==null&&J!==void 0?J:{},K=JSON.parse(Z);return this.linkNode(K,K,Q),K}replacer(Z,J,{refText:Q,sourceText:K,textRegions:U,comments:X,uriConverter:Y}){var q,W,G,z;if(this.ignoreProperties.has(Z))return;else if(FQ(J)){let H=J.ref,F=Q?J.$refText:void 0;if(H){let M=fQ(H),B="";if(this.currentDocument&&this.currentDocument!==M)if(Y)B=Y(M.uri,J);else B=M.uri.toString();let O=this.astNodeLocator.getAstNodePath(H);return{$ref:`${B}#${O}`,$refText:F}}else return{$error:(W=(q=J.error)===null||q===void 0?void 0:q.message)!==null&&W!==void 0?W:"Could not resolve reference",$refText:F}}else if(kJ(J)){let H=void 0;if(U){if(H=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},J)),(!Z||J.$document)&&(H===null||H===void 0?void 0:H.$textRegion))H.$textRegion.documentURI=(G=this.currentDocument)===null||G===void 0?void 0:G.uri.toString()}if(K&&!Z)H!==null&&H!==void 0||(H=Object.assign({},J)),H.$sourceText=(z=J.$cstNode)===null||z===void 0?void 0:z.text;if(X){H!==null&&H!==void 0||(H=Object.assign({},J));let F=this.commentProvider.getComment(J);if(F)H.$comment=F.replace(/\r/g,"")}return H!==null&&H!==void 0?H:J}else return J}addAstNodeRegionWithAssignmentsTo(Z){let J=(Q)=>({offset:Q.offset,end:Q.end,length:Q.length,range:Q.range});if(Z.$cstNode){let Q=Z.$textRegion=J(Z.$cstNode),K=Q.assignments={};return Object.keys(Z).filter((U)=>!U.startsWith("$")).forEach((U)=>{let X=ss(Z.$cstNode,U).map(J);if(X.length!==0)K[U]=X}),Z}return}linkNode(Z,J,Q,K,U,X){for(let[q,W]of Object.entries(Z))if(Array.isArray(W))for(let G=0;G<W.length;G++){let z=W[G];if(Lb0(z))W[G]=this.reviveReference(Z,q,J,z,Q);else if(kJ(z))this.linkNode(z,J,Q,Z,q,G)}else if(Lb0(W))Z[q]=this.reviveReference(Z,q,J,W,Q);else if(kJ(W))this.linkNode(W,J,Q,Z,q);let Y=Z;Y.$container=K,Y.$containerProperty=U,Y.$containerIndex=X}reviveReference(Z,J,Q,K,U){let{$refText:X,$error:Y}=K;if(K.$ref){let q=this.getRefNode(Q,K.$ref,U.uriConverter);if(kJ(q)){if(!X)X=this.nameProvider.getName(q);return{$refText:X!==null&&X!==void 0?X:"",ref:q}}else Y=q}if(Y){let q={$refText:X!==null&&X!==void 0?X:""};return q.error={container:Z,property:J,message:Y,reference:q},q}else return}getRefNode(Z,J,Q){try{let K=J.indexOf("#");if(K===0){let q=this.astNodeLocator.getAstNode(Z,J.substring(1));if(!q)return"Could not resolve path: "+J;return q}if(K<0){let q=Q?Q(J):L6.parse(J),W=this.langiumDocuments.getDocument(q);if(!W)return"Could not find document for URI: "+J;return W.parseResult.value}let U=Q?Q(J.substring(0,K)):L6.parse(J.substring(0,K)),X=this.langiumDocuments.getDocument(U);if(!X)return"Could not find document for URI: "+J;if(K===J.length-1)return X.parseResult.value;let Y=this.astNodeLocator.getAstNode(X.parseResult.value,J.substring(K+1));if(!Y)return"Could not resolve URI: "+J;return Y}catch(K){return String(K)}}}var fk=f(()=>{ca();W6();w5()});class vk{get map(){return this.fileExtensionMap}constructor(Z){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=Z===null||Z===void 0?void 0:Z.workspace.TextDocuments}register(Z){let J=Z.LanguageMetaData;for(let Q of J.fileExtensions){if(this.fileExtensionMap.has(Q))console.warn(`The file extension ${Q} is used by multiple languages. It is now assigned to '${J.languageId}'.`);this.fileExtensionMap.set(Q,Z)}if(this.languageIdMap.set(J.languageId,Z),this.languageIdMap.size===1)this.singleton=Z;else this.singleton=void 0}getServices(Z){var J,Q;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw Error("The service registry is empty. Use `register` to register the services of a language.");let K=(Q=(J=this.textDocuments)===null||J===void 0?void 0:J.get(Z))===null||Q===void 0?void 0:Q.languageId;if(K!==void 0){let Y=this.languageIdMap.get(K);if(Y)return Y}let U=D6.extname(Z),X=this.fileExtensionMap.get(U);if(!X)if(K)throw Error(`The service registry contains no services for the extension '${U}' for language '${K}'.`);else throw Error(`The service registry contains no services for the extension '${U}'.`);return X}hasServices(Z){try{return this.getServices(Z),!0}catch(J){return!1}}get all(){return Array.from(this.languageIdMap.values())}}var ea=f(()=>{DX()});function mz(Z){return{code:Z}}class xk{constructor(Z){this.entries=new IX,this.entriesBefore=[],this.entriesAfter=[],this.reflection=Z.shared.AstReflection}register(Z,J=this,Q="fast"){if(Q==="built-in")throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[K,U]of Object.entries(Z)){let X=U;if(Array.isArray(X))for(let Y of X){let q={check:this.wrapValidationException(Y,J),category:Q};this.addEntry(K,q)}else if(typeof X==="function"){let Y={check:this.wrapValidationException(X,J),category:Q};this.addEntry(K,Y)}else nU(X)}}wrapValidationException(Z,J){return async(Q,K,U)=>{await this.handleException(()=>Z.call(J,Q,K,U),"An error occurred during validation",K,Q)}}async handleException(Z,J,Q,K){try{await Z()}catch(U){if(LX(U))throw U;if(console.error(`${J}:`,U),U instanceof Error&&U.stack)console.error(U.stack);let X=U instanceof Error?U.message:String(U);Q("error",`${J}: ${X}`,{node:K})}}addEntry(Z,J){if(Z==="AstNode"){this.entries.add("AstNode",J);return}for(let Q of this.reflection.getAllSubTypes(Z))this.entries.add(Q,J)}getChecks(Z,J){let Q=E9(this.entries.get(Z)).concat(this.entries.get("AstNode"));if(J)Q=Q.filter((K)=>J.includes(K.category));return Q.map((K)=>K.check)}registerBeforeDocument(Z,J=this){this.entriesBefore.push(this.wrapPreparationException(Z,"An error occurred during set-up of the validation",J))}registerAfterDocument(Z,J=this){this.entriesAfter.push(this.wrapPreparationException(Z,"An error occurred during tear-down of the validation",J))}wrapPreparationException(Z,J,Q){return async(K,U,X,Y)=>{await this.handleException(()=>Z.call(Q,K,U,X,Y),J,U,K)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}var rB;var OA=f(()=>{g4();iB();xK();t6();(function(Z){Z.all=["fast","slow","built-in"]})(rB||(rB={}))});class yk{constructor(Z){this.validationRegistry=Z.validation.ValidationRegistry,this.metadata=Z.LanguageMetaData}async validateDocument(Z,J={},Q=wZ.CancellationToken.None){let K=Z.parseResult,U=[];if(await tJ(Q),!J.categories||J.categories.includes("built-in")){if(this.processLexingErrors(K,U,J),J.stopAfterLexingErrors&&U.some((X)=>{var Y;return((Y=X.data)===null||Y===void 0?void 0:Y.code)===bK.LexingError}))return U;if(this.processParsingErrors(K,U,J),J.stopAfterParsingErrors&&U.some((X)=>{var Y;return((Y=X.data)===null||Y===void 0?void 0:Y.code)===bK.ParsingError}))return U;if(this.processLinkingErrors(Z,U,J),J.stopAfterLinkingErrors&&U.some((X)=>{var Y;return((Y=X.data)===null||Y===void 0?void 0:Y.code)===bK.LinkingError}))return U}try{U.push(...await this.validateAst(K.value,J,Q))}catch(X){if(LX(X))throw X;console.error("An error occurred during validation:",X)}return await tJ(Q),U}processLexingErrors(Z,J,Q){var K,U,X;let Y=[...Z.lexerErrors,...(U=(K=Z.lexerReport)===null||K===void 0?void 0:K.diagnostics)!==null&&U!==void 0?U:[]];for(let q of Y){let W=(X=q.severity)!==null&&X!==void 0?X:"error",G={severity:bk(W),range:{start:{line:q.line-1,character:q.column-1},end:{line:q.line-1,character:q.column+q.length-1}},message:q.message,data:Ib0(W),source:this.getSource()};J.push(G)}}processParsingErrors(Z,J,Q){for(let K of Z.parserErrors){let U=void 0;if(isNaN(K.token.startOffset)){if("previousToken"in K){let X=K.previousToken;if(!isNaN(X.startOffset)){let Y={line:X.endLine-1,character:X.endColumn};U={start:Y,end:Y}}else{let Y={line:0,character:0};U={start:Y,end:Y}}}}else U=wF(K.token);if(U){let X={severity:bk("error"),range:U,message:K.message,data:mz(bK.ParsingError),source:this.getSource()};J.push(X)}}}processLinkingErrors(Z,J,Q){for(let K of Z.references){let U=K.error;if(U){let X={node:U.container,property:U.property,index:U.index,data:{code:bK.LinkingError,containerType:U.container.$type,property:U.property,refText:U.reference.$refText}};J.push(this.toDiagnostic("error",U.message,X))}}}async validateAst(Z,J,Q=wZ.CancellationToken.None){let K=[],U=(X,Y,q)=>{K.push(this.toDiagnostic(X,Y,q))};return await this.validateAstBefore(Z,J,U,Q),await this.validateAstNodes(Z,J,U,Q),await this.validateAstAfter(Z,J,U,Q),K}async validateAstBefore(Z,J,Q,K=wZ.CancellationToken.None){var U;let X=this.validationRegistry.checksBefore;for(let Y of X)await tJ(K),await Y(Z,Q,(U=J.categories)!==null&&U!==void 0?U:[],K)}async validateAstNodes(Z,J,Q,K=wZ.CancellationToken.None){await Promise.all(TK(Z).map(async(U)=>{await tJ(K);let X=this.validationRegistry.getChecks(U.$type,J.categories);for(let Y of X)await Y(U,Q,K)}))}async validateAstAfter(Z,J,Q,K=wZ.CancellationToken.None){var U;let X=this.validationRegistry.checksAfter;for(let Y of X)await tJ(K),await Y(Z,Q,(U=J.categories)!==null&&U!==void 0?U:[],K)}toDiagnostic(Z,J,Q){return{message:J,range:Db0(Q),severity:bk(Z),code:Q.code,codeDescription:Q.codeDescription,tags:Q.tags,relatedInformation:Q.relatedInformation,data:Q.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Db0(Z){if(Z.range)return Z.range;let J;if(typeof Z.property==="string")J=XI(Z.node.$cstNode,Z.property,Z.index);else if(typeof Z.keyword==="string")J=ns(Z.node.$cstNode,Z.keyword,Z.index);if(J!==null&&J!==void 0||(J=Z.node.$cstNode),!J)return{start:{line:0,character:0},end:{line:0,character:0}};return J.range}function bk(Z){switch(Z){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw Error("Invalid diagnostic severity: "+Z)}}function Ib0(Z){switch(Z){case"error":return mz(bK.LexingError);case"warning":return mz(bK.LexingWarning);case"info":return mz(bK.LexingInfo);case"hint":return mz(bK.LexingHint);default:throw Error("Invalid diagnostic severity: "+Z)}}var bK;var Zo=f(()=>{vK();w5();W6();j5();xK();OA();(function(Z){Z.LexingError="lexing-error",Z.LexingWarning="lexing-warning",Z.LexingInfo="lexing-info",Z.LexingHint="lexing-hint",Z.ParsingError="parsing-error",Z.LinkingError="linking-error"})(bK||(bK={}))});class hk{constructor(Z){this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider}createDescription(Z,J,Q){let K=Q!==null&&Q!==void 0?Q:fQ(Z);J!==null&&J!==void 0||(J=this.nameProvider.getName(Z));let U=this.astNodeLocator.getAstNodePath(Z);if(!J)throw Error(`Node at path ${U} has no name.`);let X,Y=()=>{var q;return X!==null&&X!==void 0?X:X=Lz((q=this.nameProvider.getNameNode(Z))!==null&&q!==void 0?q:Z.$cstNode)};return{node:Z,name:J,get nameSegment(){return Y()},selectionSegment:Lz(Z.$cstNode),type:Z.$type,documentUri:K.uri,path:U}}}class mk{constructor(Z){this.nodeLocator=Z.workspace.AstNodeLocator}async createDescriptions(Z,J=wZ.CancellationToken.None){let Q=[],K=Z.parseResult.value;for(let U of TK(K))await tJ(J),OM(U).filter((X)=>!Oz(X)).forEach((X)=>{let Y=this.createDescription(X);if(Y)Q.push(Y)});return Q}createDescription(Z){let J=Z.reference.$nodeDescription,Q=Z.reference.$refNode;if(!J||!Q)return;let K=fQ(Z.container).uri;return{sourceUri:K,sourcePath:this.nodeLocator.getAstNodePath(Z.container),targetUri:J.documentUri,targetPath:J.path,segment:Lz(Q),local:D6.equals(J.documentUri,K)}}}var Jo=f(()=>{vK();W6();j5();xK();DX()});class uk{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(Z){if(Z.$container){let J=this.getAstNodePath(Z.$container),Q=this.getPathSegment(Z);return J+this.segmentSeparator+Q}return""}getPathSegment({$containerProperty:Z,$containerIndex:J}){if(!Z)throw Error("Missing '$containerProperty' in AST node.");if(J!==void 0)return Z+this.indexSeparator+J;return Z}getAstNode(Z,J){return J.split(this.segmentSeparator).reduce((K,U)=>{if(!K||U.length===0)return K;let X=U.indexOf(this.indexSeparator);if(X>0){let Y=U.substring(0,X),q=parseInt(U.substring(X+1)),W=K[Y];return W===null||W===void 0?void 0:W[q]}return K[U]},Z)}}var VJ={};var gk=f(()=>{gZ(VJ,c7(ha(),1))});class pk{constructor(Z){this._ready=new G4,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new VJ.Emitter,this.serviceRegistry=Z.ServiceRegistry}get ready(){return this._ready.promise}initialize(Z){var J,Q;this.workspaceConfig=(Q=(J=Z.capabilities.workspace)===null||J===void 0?void 0:J.configuration)!==null&&Q!==void 0?Q:!1}async initialized(Z){if(this.workspaceConfig){if(Z.register){let J=this.serviceRegistry.all;Z.register({section:J.map((Q)=>this.toSectionName(Q.LanguageMetaData.languageId))})}if(Z.fetchConfiguration){let J=this.serviceRegistry.all.map((K)=>({section:this.toSectionName(K.LanguageMetaData.languageId)})),Q=await Z.fetchConfiguration(J);J.forEach((K,U)=>{this.updateSectionConfiguration(K.section,Q[U])})}}this._ready.resolve()}updateConfiguration(Z){if(!Z.settings)return;Object.keys(Z.settings).forEach((J)=>{let Q=Z.settings[J];this.updateSectionConfiguration(J,Q),this.onConfigurationSectionUpdateEmitter.fire({section:J,configuration:Q})})}updateSectionConfiguration(Z,J){this.settings[Z]=J}async getConfiguration(Z,J){await this.ready;let Q=this.toSectionName(Z);if(this.settings[Q])return this.settings[Q][J]}toSectionName(Z){return`${Z}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Qo=f(()=>{gk();xK()});var CW;var Ko=f(()=>{(function(Z){function J(Q){return{dispose:async()=>await Q()}}Z.create=J})(CW||(CW={}))});class ck{constructor(Z){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new IX,this.documentPhaseListeners=new IX,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=i9.Changed,this.langiumDocuments=Z.workspace.LangiumDocuments,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.textDocuments=Z.workspace.TextDocuments,this.indexManager=Z.workspace.IndexManager,this.serviceRegistry=Z.ServiceRegistry}async build(Z,J={},Q=wZ.CancellationToken.None){var K,U;for(let X of Z){let Y=X.uri.toString();if(X.state===i9.Validated){if(typeof J.validation==="boolean"&&J.validation)X.state=i9.IndexedReferences,X.diagnostics=void 0,this.buildState.delete(Y);else if(typeof J.validation==="object"){let q=this.buildState.get(Y),W=(K=q===null||q===void 0?void 0:q.result)===null||K===void 0?void 0:K.validationChecks;if(W){let z=((U=J.validation.categories)!==null&&U!==void 0?U:rB.all).filter((H)=>!W.includes(H));if(z.length>0)this.buildState.set(Y,{completed:!1,options:{validation:Object.assign(Object.assign({},J.validation),{categories:z})},result:q.result}),X.state=i9.IndexedReferences}}}else this.buildState.delete(Y)}this.currentState=i9.Changed,await this.emitUpdate(Z.map((X)=>X.uri),[]),await this.buildDocuments(Z,J,Q)}async update(Z,J,Q=wZ.CancellationToken.None){this.currentState=i9.Changed;for(let X of J)this.langiumDocuments.deleteDocument(X),this.buildState.delete(X.toString()),this.indexManager.remove(X);for(let X of Z){if(!this.langiumDocuments.invalidateDocument(X)){let q=this.langiumDocumentFactory.fromModel({$type:"INVALID"},X);q.state=i9.Changed,this.langiumDocuments.addDocument(q)}this.buildState.delete(X.toString())}let K=E9(Z).concat(J).map((X)=>X.toString()).toSet();this.langiumDocuments.all.filter((X)=>!K.has(X.uri.toString())&&this.shouldRelink(X,K)).forEach((X)=>{this.serviceRegistry.getServices(X.uri).references.Linker.unlink(X),X.state=Math.min(X.state,i9.ComputedScopes),X.diagnostics=void 0}),await this.emitUpdate(Z,J),await tJ(Q);let U=this.sortDocuments(this.langiumDocuments.all.filter((X)=>{var Y;return X.state<i9.Linked||!((Y=this.buildState.get(X.uri.toString()))===null||Y===void 0?void 0:Y.completed)}).toArray());await this.buildDocuments(U,this.updateBuildOptions,Q)}async emitUpdate(Z,J){await Promise.all(this.updateListeners.map((Q)=>Q(Z,J)))}sortDocuments(Z){let J=0,Q=Z.length-1;while(J<Q){while(J<Z.length&&this.hasTextDocument(Z[J]))J++;while(Q>=0&&!this.hasTextDocument(Z[Q]))Q--;if(J<Q)[Z[J],Z[Q]]=[Z[Q],Z[J]]}return Z}hasTextDocument(Z){var J;return Boolean((J=this.textDocuments)===null||J===void 0?void 0:J.get(Z.uri))}shouldRelink(Z,J){if(Z.references.some((Q)=>Q.error!==void 0))return!0;return this.indexManager.isAffected(Z,J)}onUpdate(Z){return this.updateListeners.push(Z),CW.create(()=>{let J=this.updateListeners.indexOf(Z);if(J>=0)this.updateListeners.splice(J,1)})}async buildDocuments(Z,J,Q){this.prepareBuild(Z,J),await this.runCancelable(Z,i9.Parsed,Q,(U)=>this.langiumDocumentFactory.update(U,Q)),await this.runCancelable(Z,i9.IndexedContent,Q,(U)=>this.indexManager.updateContent(U,Q)),await this.runCancelable(Z,i9.ComputedScopes,Q,async(U)=>{let X=this.serviceRegistry.getServices(U.uri).references.ScopeComputation;U.precomputedScopes=await X.computeLocalScopes(U,Q)}),await this.runCancelable(Z,i9.Linked,Q,(U)=>{return this.serviceRegistry.getServices(U.uri).references.Linker.link(U,Q)}),await this.runCancelable(Z,i9.IndexedReferences,Q,(U)=>this.indexManager.updateReferences(U,Q));let K=Z.filter((U)=>this.shouldValidate(U));await this.runCancelable(K,i9.Validated,Q,(U)=>this.validate(U,Q));for(let U of Z){let X=this.buildState.get(U.uri.toString());if(X)X.completed=!0}}prepareBuild(Z,J){for(let Q of Z){let K=Q.uri.toString(),U=this.buildState.get(K);if(!U||U.completed)this.buildState.set(K,{completed:!1,options:J,result:U===null||U===void 0?void 0:U.result})}}async runCancelable(Z,J,Q,K){let U=Z.filter((Y)=>Y.state<J);for(let Y of U)await tJ(Q),await K(Y),Y.state=J,await this.notifyDocumentPhase(Y,J,Q);let X=Z.filter((Y)=>Y.state===J);await this.notifyBuildPhase(X,J,Q),this.currentState=J}onBuildPhase(Z,J){return this.buildPhaseListeners.add(Z,J),CW.create(()=>{this.buildPhaseListeners.delete(Z,J)})}onDocumentPhase(Z,J){return this.documentPhaseListeners.add(Z,J),CW.create(()=>{this.documentPhaseListeners.delete(Z,J)})}waitUntil(Z,J,Q){let K=void 0;if(J&&"path"in J)K=J;else Q=J;if(Q!==null&&Q!==void 0||(Q=wZ.CancellationToken.None),K){let U=this.langiumDocuments.getDocument(K);if(U&&U.state>Z)return Promise.resolve(K)}if(this.currentState>=Z)return Promise.resolve(void 0);else if(Q.isCancellationRequested)return Promise.reject(RX);return new Promise((U,X)=>{let Y=this.onBuildPhase(Z,()=>{if(Y.dispose(),q.dispose(),K){let W=this.langiumDocuments.getDocument(K);U(W===null||W===void 0?void 0:W.uri)}else U(void 0)}),q=Q.onCancellationRequested(()=>{Y.dispose(),q.dispose(),X(RX)})})}async notifyDocumentPhase(Z,J,Q){let U=this.documentPhaseListeners.get(J).slice();for(let X of U)try{await X(Z,Q)}catch(Y){if(!LX(Y))throw Y}}async notifyBuildPhase(Z,J,Q){if(Z.length===0)return;let U=this.buildPhaseListeners.get(J).slice();for(let X of U)await tJ(Q),await X(Z,Q)}shouldValidate(Z){return Boolean(this.getBuildOptions(Z).validation)}async validate(Z,J){var Q,K;let U=this.serviceRegistry.getServices(Z.uri).validation.DocumentValidator,X=this.getBuildOptions(Z).validation,Y=typeof X==="object"?X:void 0,q=await U.validateDocument(Z,Y,J);if(Z.diagnostics)Z.diagnostics.push(...q);else Z.diagnostics=q;let W=this.buildState.get(Z.uri.toString());if(W){(Q=W.result)!==null&&Q!==void 0||(W.result={});let G=(K=Y===null||Y===void 0?void 0:Y.categories)!==null&&K!==void 0?K:rB.all;if(W.result.validationChecks)W.result.validationChecks.push(...G);else W.result.validationChecks=[...G]}}getBuildOptions(Z){var J,Q;return(Q=(J=this.buildState.get(Z.uri.toString()))===null||J===void 0?void 0:J.options)!==null&&Q!==void 0?Q:{}}}var Uo=f(()=>{vK();Ko();iB();xK();t6();OA();lB()});class lk{constructor(Z){this.symbolIndex=new Map,this.symbolByTypeIndex=new sB,this.referenceIndex=new Map,this.documents=Z.workspace.LangiumDocuments,this.serviceRegistry=Z.ServiceRegistry,this.astReflection=Z.AstReflection}findAllReferences(Z,J){let Q=fQ(Z).uri,K=[];return this.referenceIndex.forEach((U)=>{U.forEach((X)=>{if(D6.equals(X.targetUri,Q)&&X.targetPath===J)K.push(X)})}),E9(K)}allElements(Z,J){let Q=E9(this.symbolIndex.keys());if(J)Q=Q.filter((K)=>!J||J.has(K));return Q.map((K)=>this.getFileDescriptions(K,Z)).flat()}getFileDescriptions(Z,J){var Q;if(!J)return(Q=this.symbolIndex.get(Z))!==null&&Q!==void 0?Q:[];return this.symbolByTypeIndex.get(Z,J,()=>{var U;return((U=this.symbolIndex.get(Z))!==null&&U!==void 0?U:[]).filter((Y)=>this.astReflection.isSubtype(Y.type,J))})}remove(Z){let J=Z.toString();this.symbolIndex.delete(J),this.symbolByTypeIndex.clear(J),this.referenceIndex.delete(J)}async updateContent(Z,J=wZ.CancellationToken.None){let K=await this.serviceRegistry.getServices(Z.uri).references.ScopeComputation.computeExports(Z,J),U=Z.uri.toString();this.symbolIndex.set(U,K),this.symbolByTypeIndex.clear(U)}async updateReferences(Z,J=wZ.CancellationToken.None){let K=await this.serviceRegistry.getServices(Z.uri).workspace.ReferenceDescriptionProvider.createDescriptions(Z,J);this.referenceIndex.set(Z.uri.toString(),K)}isAffected(Z,J){let Q=this.referenceIndex.get(Z.uri.toString());if(!Q)return!1;return Q.some((K)=>!K.local&&J.has(K.targetUri.toString()))}}var Xo=f(()=>{W6();$k();vK();t6();DX()});class dk{constructor(Z){this.initialBuildOptions={},this._ready=new G4,this.serviceRegistry=Z.ServiceRegistry,this.langiumDocuments=Z.workspace.LangiumDocuments,this.documentBuilder=Z.workspace.DocumentBuilder,this.fileSystemProvider=Z.workspace.FileSystemProvider,this.mutex=Z.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(Z){var J;this.folders=(J=Z.workspaceFolders)!==null&&J!==void 0?J:void 0}initialized(Z){return this.mutex.write((J)=>{var Q;return this.initializeWorkspace((Q=this.folders)!==null&&Q!==void 0?Q:[],J)})}async initializeWorkspace(Z,J=wZ.CancellationToken.None){let Q=await this.performStartup(Z);await tJ(J),await this.documentBuilder.build(Q,this.initialBuildOptions,J)}async performStartup(Z){let J=this.serviceRegistry.all.flatMap((U)=>U.LanguageMetaData.fileExtensions),Q=[],K=(U)=>{if(Q.push(U),!this.langiumDocuments.hasDocument(U.uri))this.langiumDocuments.addDocument(U)};return await this.loadAdditionalDocuments(Z,K),await Promise.all(Z.map((U)=>[U,this.getRootFolder(U)]).map(async(U)=>this.traverseFolder(...U,J,K))),this._ready.resolve(),Q}loadAdditionalDocuments(Z,J){return Promise.resolve()}getRootFolder(Z){return L6.parse(Z.uri)}async traverseFolder(Z,J,Q,K){let U=await this.fileSystemProvider.readDirectory(J);await Promise.all(U.map(async(X)=>{if(this.includeEntry(Z,X,Q)){if(X.isDirectory)await this.traverseFolder(Z,X.uri,Q,K);else if(X.isFile){let Y=await this.langiumDocuments.getOrCreateDocument(X.uri);K(Y)}}}))}includeEntry(Z,J,Q){let K=D6.basename(J.uri);if(K.startsWith("."))return!1;if(J.isDirectory)return K!=="node_modules"&&K!=="out";else if(J.isFile){let U=D6.extname(J.uri);return Q.includes(U)}return!1}}var Yo=f(()=>{vK();xK();DX()});class ik{buildUnexpectedCharactersMessage(Z,J,Q,K,U){return PB.buildUnexpectedCharactersMessage(Z,J,Q,K,U)}buildUnableToPopLexerModeMessage(Z){return PB.buildUnableToPopLexerModeMessage(Z)}}class nB{constructor(Z){this.errorMessageProvider=Z.parser.LexerErrorMessageProvider,this.tokenBuilder=Z.parser.TokenBuilder;let J=this.tokenBuilder.buildTokens(Z.Grammar,{caseInsensitive:Z.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(J);let Q=qo(J)?Object.values(J):J,K=Z.LanguageMetaData.mode==="production";this.chevrotainLexer=new vJ(Q,{positionTracking:"full",skipValidations:K,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(Z,J=sk){var Q,K,U;let X=this.chevrotainLexer.tokenize(Z);return{tokens:X.tokens,errors:X.errors,hidden:(Q=X.groups.hidden)!==null&&Q!==void 0?Q:[],report:(U=(K=this.tokenBuilder).flushLexingReport)===null||U===void 0?void 0:U.call(K,Z)}}toTokenTypeDictionary(Z){if(qo(Z))return Z;let J=Wo(Z)?Object.values(Z.modes).flat():Z,Q={};return J.forEach((K)=>Q[K.name]=K),Q}}function rk(Z){return Array.isArray(Z)&&(Z.length===0||("name"in Z[0]))}function Wo(Z){return Z&&"modes"in Z&&"defaultMode"in Z}function qo(Z){return!rk(Z)&&!Wo(Z)}var sk;var nk=f(()=>{NW();sk={mode:"full"}});function Fo(Z,J,Q){let K,U;if(typeof Z==="string")U=J,K=Q;else U=Z.range.start,K=J;if(!U)U=I9.create(0,0);let X=Eb0(Z),Y=Bo(K),q=Lf8({lines:X,position:U,options:Y});return Ef8({index:0,tokens:q,position:U})}function Mo(Z,J){let Q=Bo(J),K=Eb0(Z);if(K.length===0)return!1;let U=K[0],X=K[K.length-1],Y=Q.start,q=Q.end;return Boolean(Y===null||Y===void 0?void 0:Y.exec(U))&&Boolean(q===null||q===void 0?void 0:q.exec(X))}function Eb0(Z){let J="";if(typeof Z==="string")J=Z;else J=Z.text;return J.split(ms)}function Lf8(Z){var J,Q,K;let U=[],X=Z.position.line,Y=Z.position.character;for(let q=0;q<Z.lines.length;q++){let W=q===0,G=q===Z.lines.length-1,z=Z.lines[q],H=0;if(W&&Z.options.start){let M=(J=Z.options.start)===null||J===void 0?void 0:J.exec(z);if(M)H=M.index+M[0].length}else{let M=(Q=Z.options.line)===null||Q===void 0?void 0:Q.exec(z);if(M)H=M.index+M[0].length}if(G){let M=(K=Z.options.end)===null||K===void 0?void 0:K.exec(z);if(M)z=z.substring(0,M.index)}if(z=z.substring(0,Nf8(z)),zo(z,H)>=z.length){if(U.length>0){let M=I9.create(X,Y);U.push({type:"break",content:"",range:J9.create(M,M)})}}else{Ab0.lastIndex=H;let M=Ab0.exec(z);if(M){let B=M[0],O=M[1],R=I9.create(X,Y+H),L=I9.create(X,Y+H+B.length);U.push({type:"tag",content:O,range:J9.create(R,L)}),H+=B.length,H=zo(z,H)}if(H<z.length){let B=z.substring(H),O=Array.from(B.matchAll(Rf8));U.push(...Df8(O,B,X,Y+H))}}X++,Y=0}if(U.length>0&&U[U.length-1].type==="break")return U.slice(0,-1);return U}function Df8(Z,J,Q,K){let U=[];if(Z.length===0){let X=I9.create(Q,K),Y=I9.create(Q,K+J.length);U.push({type:"text",content:J,range:J9.create(X,Y)})}else{let X=0;for(let q of Z){let W=q.index,G=J.substring(X,W);if(G.length>0)U.push({type:"text",content:J.substring(X,W),range:J9.create(I9.create(Q,X+K),I9.create(Q,W+K))});let z=G.length+1,H=q[1];if(U.push({type:"inline-tag",content:H,range:J9.create(I9.create(Q,X+z+K),I9.create(Q,X+z+H.length+K))}),z+=H.length,q.length===4){z+=q[2].length;let F=q[3];U.push({type:"text",content:F,range:J9.create(I9.create(Q,X+z+K),I9.create(Q,X+z+F.length+K))})}else U.push({type:"text",content:"",range:J9.create(I9.create(Q,X+z+K),I9.create(Q,X+z+K))});X=W+q[0].length}let Y=J.substring(X);if(Y.length>0)U.push({type:"text",content:Y,range:J9.create(I9.create(Q,X+K),I9.create(Q,X+K+Y.length))})}return U}function zo(Z,J){let Q=Z.substring(J).match(If8);if(Q)return J+Q.index;else return Z.length}function Nf8(Z){let J=Z.match(Af8);if(J&&typeof J.index==="number")return J.index;return}function Ef8(Z){var J,Q,K,U;let X=I9.create(Z.position.line,Z.position.character);if(Z.tokens.length===0)return new Ho([],J9.create(X,X));let Y=[];while(Z.index<Z.tokens.length){let G=Vf8(Z,Y[Y.length-1]);if(G)Y.push(G)}let q=(Q=(J=Y[0])===null||J===void 0?void 0:J.range.start)!==null&&Q!==void 0?Q:X,W=(U=(K=Y[Y.length-1])===null||K===void 0?void 0:K.range.end)!==null&&U!==void 0?U:X;return new Ho(Y,J9.create(q,W))}function Vf8(Z,J){let Q=Z.tokens[Z.index];if(Q.type==="tag")return Pb0(Z,!1);else if(Q.type==="text"||Q.type==="inline-tag")return Vb0(Z);else{Pf8(Q,J),Z.index++;return}}function Pf8(Z,J){if(J){let Q=new Oo("",Z.range);if("inlines"in J)J.inlines.push(Q);else J.content.inlines.push(Q)}}function Vb0(Z){let J=Z.tokens[Z.index],Q=J,K=J,U=[];while(J&&J.type!=="break"&&J.type!=="tag")U.push(Cf8(Z)),K=J,J=Z.tokens[Z.index];return new ok(U,J9.create(Q.range.start,K.range.end))}function Cf8(Z){if(Z.tokens[Z.index].type==="inline-tag")return Pb0(Z,!0);else return Cb0(Z)}function Pb0(Z,J){let Q=Z.tokens[Z.index++],K=Q.content.substring(1),U=Z.tokens[Z.index];if((U===null||U===void 0?void 0:U.type)==="text")if(J){let X=Cb0(Z);return new ak(K,new ok([X],X.range),J,J9.create(Q.range.start,X.range.end))}else{let X=Vb0(Z);return new ak(K,X,J,J9.create(Q.range.start,X.range.end))}else{let X=Q.range;return new ak(K,new ok([],X),J,X)}}function Cb0(Z){let J=Z.tokens[Z.index++];return new Oo(J.content,J.range)}function Bo(Z){if(!Z)return Bo({start:"/**",end:"*/",line:"*"});let{start:J,end:Q,line:K}=Z;return{start:Go(J,!0),end:Go(Q,!1),line:Go(K,!0)}}function Go(Z,J){if(typeof Z==="string"||typeof Z==="object"){let Q=typeof Z==="string"?Vz(Z):Z.source;if(J)return new RegExp(`^\\s*${Q}`);else return new RegExp(`\\s*${Q}\\s*$`)}else return Z}class Ho{constructor(Z,J){this.elements=Z,this.range=J}getTag(Z){return this.getAllTags().find((J)=>J.name===Z)}getTags(Z){return this.getAllTags().filter((J)=>J.name===Z)}getAllTags(){return this.elements.filter((Z)=>("name"in Z))}toString(){let Z="";for(let J of this.elements)if(Z.length===0)Z=J.toString();else{let Q=J.toString();Z+=Nb0(Z)+Q}return Z.trim()}toMarkdown(Z){let J="";for(let Q of this.elements)if(J.length===0)J=Q.toMarkdown(Z);else{let K=Q.toMarkdown(Z);J+=Nb0(J)+K}return J.trim()}}class ak{constructor(Z,J,Q,K){this.name=Z,this.content=J,this.inline=Q,this.range=K}toString(){let Z=`@${this.name}`,J=this.content.toString();if(this.content.inlines.length===1)Z=`${Z} ${J}`;else if(this.content.inlines.length>1)Z=`${Z}
${J}`;if(this.inline)return`{${Z}}`;else return Z}toMarkdown(Z){var J,Q;return(Q=(J=Z===null||Z===void 0?void 0:Z.renderTag)===null||J===void 0?void 0:J.call(Z,this))!==null&&Q!==void 0?Q:this.toMarkdownDefault(Z)}toMarkdownDefault(Z){let J=this.content.toMarkdown(Z);if(this.inline){let U=jf8(this.name,J,Z!==null&&Z!==void 0?Z:{});if(typeof U==="string")return U}let Q="";if((Z===null||Z===void 0?void 0:Z.tag)==="italic"||(Z===null||Z===void 0?void 0:Z.tag)===void 0)Q="*";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold")Q="**";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold-italic")Q="***";let K=`${Q}@${this.name}${Q}`;if(this.content.inlines.length===1)K=`${K}  ${J}`;else if(this.content.inlines.length>1)K=`${K}
${J}`;if(this.inline)return`{${K}}`;else return K}}function jf8(Z,J,Q){var K,U;if(Z==="linkplain"||Z==="linkcode"||Z==="link"){let X=J.indexOf(" "),Y=J;if(X>0){let W=zo(J,X);Y=J.substring(W),J=J.substring(0,X)}if(Z==="linkcode"||Z==="link"&&Q.link==="code")Y=`\`${Y}\``;return(U=(K=Q.renderLink)===null||K===void 0?void 0:K.call(Q,J,Y))!==null&&U!==void 0?U:Sf8(J,Y)}return}function Sf8(Z,J){try{return L6.parse(Z,!0),`[${J}](${Z})`}catch(Q){return Z}}class ok{constructor(Z,J){this.inlines=Z,this.range=J}toString(){let Z="";for(let J=0;J<this.inlines.length;J++){let Q=this.inlines[J],K=this.inlines[J+1];if(Z+=Q.toString(),K&&K.range.start.line>Q.range.start.line)Z+=`
`}return Z}toMarkdown(Z){let J="";for(let Q=0;Q<this.inlines.length;Q++){let K=this.inlines[Q],U=this.inlines[Q+1];if(J+=K.toMarkdown(Z),U&&U.range.start.line>K.range.start.line)J+=`
`}return J}}class Oo{constructor(Z,J){this.text=Z,this.range=J}toString(){return this.text}toMarkdown(){return this.text}}function Nb0(Z){if(Z.endsWith(`
`))return`
`;else return`

`}var Ab0,Rf8,If8,Af8;var Ro=f(()=>{Ca();IM();DX();Ab0=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Rf8=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;If8=/\S/,Af8=/\s*$/});class tk{constructor(Z){this.indexManager=Z.shared.workspace.IndexManager,this.commentProvider=Z.documentation.CommentProvider}getDocumentation(Z){let J=this.commentProvider.getComment(Z);if(J&&Mo(J))return Fo(J).toMarkdown({renderLink:(K,U)=>{return this.documentationLinkRenderer(Z,K,U)},renderTag:(K)=>{return this.documentationTagRenderer(Z,K)}});return}documentationLinkRenderer(Z,J,Q){var K;let U=(K=this.findNameInPrecomputedScopes(Z,J))!==null&&K!==void 0?K:this.findNameInGlobalScope(Z,J);if(U&&U.nameSegment){let X=U.nameSegment.range.start.line+1,Y=U.nameSegment.range.start.character+1,q=U.documentUri.with({fragment:`L${X},${Y}`});return`[${Q}](${q.toString()})`}else return}documentationTagRenderer(Z,J){return}findNameInPrecomputedScopes(Z,J){let K=fQ(Z).precomputedScopes;if(!K)return;let U=Z;do{let Y=K.get(U).find((q)=>q.name===J);if(Y)return Y;U=U.$container}while(U);return}findNameInGlobalScope(Z,J){return this.indexManager.allElements().find((K)=>K.name===J)}}var Lo=f(()=>{W6();Ro()});class ek{constructor(Z){this.grammarConfig=()=>Z.parser.GrammarConfig}getComment(Z){var J;if(ta(Z))return Z.$comment;return(J=Os(Z.$cstNode,this.grammarConfig().multilineCommentRules))===null||J===void 0?void 0:J.text}}var Do=f(()=>{fk();j5()});class Z_{constructor(Z){this.syncParser=Z.parser.LangiumParser}parse(Z,J){return Promise.resolve(this.syncParser.parse(Z))}}class jb0{constructor(Z){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=Z.serializer.Hydrator}initializeWorkers(){while(this.workerPool.length<this.threadCount){let Z=this.createWorker();Z.onReady(()=>{if(this.queue.length>0){let J=this.queue.shift();if(J)Z.lock(),J.resolve(Z)}}),this.workerPool.push(Z)}}async parse(Z,J){let Q=await this.acquireParserWorker(J),K=new G4,U,X=J.onCancellationRequested(()=>{U=setTimeout(()=>{this.terminateWorker(Q)},this.terminationDelay)});return Q.parse(Z).then((Y)=>{let q=this.hydrator.hydrate(Y);K.resolve(q)}).catch((Y)=>{K.reject(Y)}).finally(()=>{X.dispose(),clearTimeout(U)}),K.promise}terminateWorker(Z){Z.terminate();let J=this.workerPool.indexOf(Z);if(J>=0)this.workerPool.splice(J,1)}async acquireParserWorker(Z){this.initializeWorkers();for(let Q of this.workerPool)if(Q.ready)return Q.lock(),Q;let J=new G4;return Z.onCancellationRequested(()=>{let Q=this.queue.indexOf(J);if(Q>=0)this.queue.splice(Q,1);J.reject(RX)}),this.queue.push(J),J.promise}}class Sb0{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(Z,J,Q,K){this.onReadyEmitter=new VJ.Emitter,this.deferred=new G4,this._ready=!0,this._parsing=!1,this.sendMessage=Z,this._terminate=K,J((U)=>{let X=U;this.deferred.resolve(X),this.unlock()}),Q((U)=>{this.deferred.reject(U),this.unlock()})}terminate(){this.deferred.reject(RX),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(Z){if(this._parsing)throw Error("Parser worker is busy");return this._parsing=!0,this.deferred=new G4,this.sendMessage(Z),this.deferred.promise}}var Io=f(()=>{xK();gk()});class J_{constructor(){this.previousTokenSource=new wZ.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(Z){this.cancelWrite();let J=Nk();return this.previousTokenSource=J,this.enqueue(this.writeQueue,Z,J.token)}read(Z){return this.enqueue(this.readQueue,Z)}enqueue(Z,J,Q=wZ.CancellationToken.None){let K=new G4,U={action:J,deferred:K,cancellationToken:Q};return Z.push(U),this.performNextOperation(),K.promise}async performNextOperation(){if(!this.done)return;let Z=[];if(this.writeQueue.length>0)Z.push(this.writeQueue.shift());else if(this.readQueue.length>0)Z.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(Z.map(async({action:J,deferred:Q,cancellationToken:K})=>{try{let U=await Promise.resolve().then(()=>J(K));Q.resolve(U)}catch(U){if(LX(U))Q.resolve(void 0);else Q.reject(U)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}var Ao=f(()=>{vK();xK()});class Q_{constructor(Z){this.grammarElementIdMap=new dB,this.tokenTypeIdMap=new dB,this.grammar=Z.Grammar,this.lexer=Z.parser.Lexer,this.linker=Z.references.Linker}dehydrate(Z){return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport?this.dehydrateLexerReport(Z.lexerReport):void 0,parserErrors:Z.parserErrors.map((J)=>Object.assign(Object.assign({},J),{message:J.message})),value:this.dehydrateAstNode(Z.value,this.createDehyrationContext(Z.value))}}dehydrateLexerReport(Z){return Z}createDehyrationContext(Z){let J=new Map,Q=new Map;for(let K of TK(Z))J.set(K,{});if(Z.$cstNode)for(let K of Rz(Z.$cstNode))Q.set(K,{});return{astNodes:J,cstNodes:Q}}dehydrateAstNode(Z,J){let Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode!==void 0)Q.$cstNode=this.dehydrateCstNode(Z.$cstNode,J);for(let[K,U]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(U)){let X=[];Q[K]=X;for(let Y of U)if(kJ(Y))X.push(this.dehydrateAstNode(Y,J));else if(FQ(Y))X.push(this.dehydrateReference(Y,J));else X.push(Y)}else if(kJ(U))Q[K]=this.dehydrateAstNode(U,J);else if(FQ(U))Q[K]=this.dehydrateReference(U,J);else if(U!==void 0)Q[K]=U}return Q}dehydrateReference(Z,J){let Q={};if(Q.$refText=Z.$refText,Z.$refNode)Q.$refNode=J.cstNodes.get(Z.$refNode);return Q}dehydrateCstNode(Z,J){let Q=J.cstNodes.get(Z);if(uD(Z))Q.fullText=Z.fullText;else Q.grammarSource=this.getGrammarElementId(Z.grammarSource);if(Q.hidden=Z.hidden,Q.astNode=J.astNodes.get(Z.astNode),C5(Z))Q.content=Z.content.map((K)=>this.dehydrateCstNode(K,J));else if(vq(Z))Q.tokenType=Z.tokenType.name,Q.offset=Z.offset,Q.length=Z.length,Q.startLine=Z.range.start.line,Q.startColumn=Z.range.start.character,Q.endLine=Z.range.end.line,Q.endColumn=Z.range.end.character;return Q}hydrate(Z){let J=Z.value,Q=this.createHydrationContext(J);if("$cstNode"in J)this.hydrateCstNode(J.$cstNode,Q);return{lexerErrors:Z.lexerErrors,lexerReport:Z.lexerReport,parserErrors:Z.parserErrors,value:this.hydrateAstNode(J,Q)}}createHydrationContext(Z){let J=new Map,Q=new Map;for(let U of TK(Z))J.set(U,{});let K;if(Z.$cstNode)for(let U of Rz(Z.$cstNode)){let X;if("fullText"in U)X=new qA(U.fullText),K=X;else if("content"in U)X=new uB;else if("tokenType"in U)X=this.hydrateCstLeafNode(U);if(X)Q.set(U,X),X.root=K}return{astNodes:J,cstNodes:Q}}hydrateAstNode(Z,J){let Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode)Q.$cstNode=J.cstNodes.get(Z.$cstNode);for(let[K,U]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(U)){let X=[];Q[K]=X;for(let Y of U)if(kJ(Y))X.push(this.setParent(this.hydrateAstNode(Y,J),Q));else if(FQ(Y))X.push(this.hydrateReference(Y,Q,K,J));else X.push(Y)}else if(kJ(U))Q[K]=this.setParent(this.hydrateAstNode(U,J),Q);else if(FQ(U))Q[K]=this.hydrateReference(U,Q,K,J);else if(U!==void 0)Q[K]=U}return Q}setParent(Z,J){return Z.$container=J,Z}hydrateReference(Z,J,Q,K){return this.linker.buildReference(J,Q,K.cstNodes.get(Z.$refNode),Z.$refText)}hydrateCstNode(Z,J,Q=0){let K=J.cstNodes.get(Z);if(typeof Z.grammarSource==="number")K.grammarSource=this.getGrammarElement(Z.grammarSource);if(K.astNode=J.astNodes.get(Z.astNode),C5(K))for(let U of Z.content){let X=this.hydrateCstNode(U,J,Q++);K.content.push(X)}return K}hydrateCstLeafNode(Z){let J=this.getTokenType(Z.tokenType),Q=Z.offset,K=Z.length,U=Z.startLine,X=Z.startColumn,Y=Z.endLine,q=Z.endColumn,W=Z.hidden;return new mB(Q,K,{start:{line:U,character:X},end:{line:Y,character:q}},J,W)}getTokenType(Z){return this.lexer.definition[Z]}getGrammarElementId(Z){if(!Z)return;if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.get(Z)}getGrammarElement(Z){if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(Z)}createGrammarElementIdMap(){let Z=0;for(let J of TK(this.grammar))if(rD(J))this.grammarElementIdMap.set(J,Z++)}}var No=f(()=>{zk();aU();W6();iB();j5()});function MQ(Z){return{documentation:{CommentProvider:(J)=>new ek(J),DocumentationProvider:(J)=>new tk(J)},parser:{AsyncParser:(J)=>new Z_(J),GrammarConfig:(J)=>Zr(J),LangiumParser:(J)=>_a(J),CompletionParser:(J)=>$a(J),ValueConverter:()=>new gB,TokenBuilder:()=>new PW,Lexer:(J)=>new nB(J),ParserErrorMessageProvider:()=>new WA,LexerErrorMessageProvider:()=>new ik},workspace:{AstNodeLocator:()=>new uk,AstNodeDescriptionProvider:(J)=>new hk(J),ReferenceDescriptionProvider:(J)=>new mk(J)},references:{Linker:(J)=>new Pk(J),NameProvider:()=>new Ck,ScopeProvider:(J)=>new kk(J),ScopeComputation:(J)=>new Sk(J),References:(J)=>new jk(J)},serializer:{Hydrator:(J)=>new Q_(J),JsonSerializer:(J)=>new _k(J)},validation:{DocumentValidator:(J)=>new yk(J),ValidationRegistry:(J)=>new xk(J)},shared:()=>Z.shared}}function BQ(Z){return{ServiceRegistry:(J)=>new vk(J),workspace:{LangiumDocuments:(J)=>new Vk(J),LangiumDocumentFactory:(J)=>new Ek(J),DocumentBuilder:(J)=>new ck(J),IndexManager:(J)=>new lk(J),WorkspaceManager:(J)=>new dk(J),FileSystemProvider:(J)=>Z.fileSystemProvider(J),WorkspaceLock:()=>new J_,ConfigurationProvider:(J)=>new pk(J)}}}var Eo=f(()=>{Jr();ka();fa();Lk();va();da();ia();sa();ra();oa();fk();ea();Zo();OA();Jo();Qo();Uo();lB();Xo();Yo();nk();Lo();Do();GA();Io();Ao();No()});function MJ(Z,J,Q,K,U,X,Y,q,W){let G=[Z,J,Q,K,U,X,Y,q,W].reduce(K_,{});return _b0(G)}function kb0(Z){if(Z&&Z[$b0])for(let J of Object.values(Z))kb0(J);return Z}function _b0(Z,J){let Q=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw Error("Cannot set property on injected service container")},get:(K,U)=>{if(U===$b0)return!0;else return wb0(K,U,Z,J||Q)},getOwnPropertyDescriptor:(K,U)=>(wb0(K,U,Z,J||Q),Object.getOwnPropertyDescriptor(K,U)),has:(K,U)=>(U in Z),ownKeys:()=>[...Object.getOwnPropertyNames(Z)]});return Q}function wb0(Z,J,Q,K){if(J in Z){if(Z[J]instanceof Error)throw Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:Z[J]});if(Z[J]===Tb0)throw Error('Cycle detected. Please make "'+String(J)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return Z[J]}else if(J in Q){let U=Q[J];Z[J]=Tb0;try{Z[J]=typeof U==="function"?U(K):_b0(U,K)}catch(X){throw Z[J]=X instanceof Error?X:void 0,X}return Z[J]}else return}function K_(Z,J){if(J){for(let[Q,K]of Object.entries(J))if(K!==void 0){let U=Z[Q];if(U!==null&&K!==null&&typeof U==="object"&&typeof K==="object")Z[Q]=K_(U,K);else Z[Q]=K}}return Z}var Vo,$b0,Tb0;var Po=f(()=>{(function(Z){Z.merge=(J,Q)=>K_(K_({},J),Q)})(Vo||(Vo={}));$b0=Symbol("isProxy");Tb0=Symbol()});var fb0=()=>{};var vb0=f(()=>{Do();Lo();Ro()});var xb0=()=>{};var bb0=f(()=>{Jr();xb0()});var Co,uz,jo,yb0;var hb0=f(()=>{NW();Lk();nk();Co={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};(function(Z){Z.REGULAR="indentation-sensitive",Z.IGNORE_INDENTATION="ignore-indentation"})(uz||(uz={}));jo=class jo extends PW{constructor(Z=Co){super();this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},Co),Z),this.indentTokenType=DW({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=DW({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(Z,J){let Q=super.buildTokens(Z,J);if(!rk(Q))throw Error("Invalid tokens built by default builder");let{indentTokenName:K,dedentTokenName:U,whitespaceTokenName:X,ignoreIndentationDelimiters:Y}=this.options,q,W,G,z=[];for(let H of Q){for(let[F,M]of Y)if(H.name===F)H.PUSH_MODE=uz.IGNORE_INDENTATION;else if(H.name===M)H.POP_MODE=!0;if(H.name===U)q=H;else if(H.name===K)W=H;else if(H.name===X)G=H;else z.push(H)}if(!q||!W||!G)throw Error("Some indentation/whitespace tokens not found!");if(Y.length>0)return{modes:{[uz.REGULAR]:[q,W,...z,G],[uz.IGNORE_INDENTATION]:[...z,G]},defaultMode:uz.REGULAR};else return[q,W,G,...z]}flushLexingReport(Z){let J=super.flushLexingReport(Z);return Object.assign(Object.assign({},J),{remainingDedents:this.flushRemainingDedents(Z)})}isStartOfLine(Z,J){return J===0||`\r
`.includes(Z[J-1])}matchWhitespace(Z,J,Q,K){var U;this.whitespaceRegExp.lastIndex=J;let X=this.whitespaceRegExp.exec(Z);return{currIndentLevel:(U=X===null||X===void 0?void 0:X[0].length)!==null&&U!==void 0?U:0,prevIndentLevel:this.indentationStack.at(-1),match:X}}createIndentationTokenInstance(Z,J,Q,K){let U=this.getLineNumber(J,K);return vY(Z,Q,K,K+Q.length,U,U,1,Q.length)}getLineNumber(Z,J){return Z.substring(0,J).split(/\r\n|\r|\n/).length}indentMatcher(Z,J,Q,K){if(!this.isStartOfLine(Z,J))return null;let{currIndentLevel:U,prevIndentLevel:X,match:Y}=this.matchWhitespace(Z,J,Q,K);if(U<=X)return null;return this.indentationStack.push(U),Y}dedentMatcher(Z,J,Q,K){var U,X,Y,q;if(!this.isStartOfLine(Z,J))return null;let{currIndentLevel:W,prevIndentLevel:G,match:z}=this.matchWhitespace(Z,J,Q,K);if(W>=G)return null;let H=this.indentationStack.lastIndexOf(W);if(H===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${W} at offset: ${J}. Current indentation stack: ${this.indentationStack}`,offset:J,length:(X=(U=z===null||z===void 0?void 0:z[0])===null||U===void 0?void 0:U.length)!==null&&X!==void 0?X:0,line:this.getLineNumber(Z,J),column:1}),null;let F=this.indentationStack.length-H-1,M=(q=(Y=Z.substring(0,J).match(/[\r\n]+$/))===null||Y===void 0?void 0:Y[0].length)!==null&&q!==void 0?q:1;for(let B=0;B<F;B++){let O=this.createIndentationTokenInstance(this.dedentTokenType,Z,"",J-(M-1));Q.push(O),this.indentationStack.pop()}return null}buildTerminalToken(Z){let J=super.buildTerminalToken(Z),{indentTokenName:Q,dedentTokenName:K,whitespaceTokenName:U}=this.options;if(J.name===Q)return this.indentTokenType;else if(J.name===K)return this.dedentTokenType;else if(J.name===U)return DW({name:U,pattern:this.whitespaceRegExp,group:vJ.SKIPPED});return J}flushRemainingDedents(Z){let J=[];while(this.indentationStack.length>1)J.push(this.createIndentationTokenInstance(this.dedentTokenType,Z,"",Z.length)),this.indentationStack.pop();return this.indentationStack=[0],J}};yb0=class yb0 extends nB{constructor(Z){super(Z);if(Z.parser.TokenBuilder instanceof jo)this.indentationTokenBuilder=Z.parser.TokenBuilder;else throw Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(Z,J=sk){let Q=super.tokenize(Z),K=Q.report;if((J===null||J===void 0?void 0:J.mode)==="full")Q.tokens.push(...K.remainingDedents);K.remainingDedents=[];let{indentTokenType:U,dedentTokenType:X}=this.indentationTokenBuilder,Y=U.tokenTypeIdx,q=X.tokenTypeIdx,W=[],G=Q.tokens.length-1;for(let z=0;z<G;z++){let H=Q.tokens[z],F=Q.tokens[z+1];if(H.tokenTypeIdx===Y&&F.tokenTypeIdx===q){z++;continue}W.push(H)}if(G>=0)W.push(Q.tokens[G]);return Q.tokens=W,Q}}});var mb0=()=>{};var ub0=f(()=>{Io();ka();zk();hb0();fa();GA();nk();Rk();mb0();Lk();va()});var gb0=f(()=>{da();ia();sa();na();ra();oa()});var pb0=f(()=>{No();fk()});class So{readFile(){throw Error("No file system is available.")}async readDirectory(){return[]}}var OQ;var To=f(()=>{OQ={fileSystemProvider:()=>new So}});function $f8(){let Z=MJ(BQ(OQ),wf8),J=MJ(MQ({shared:Z}),Tf8);return Z.ServiceRegistry.register(J),J}function AX(Z){var J;let Q=$f8(),K=Q.serializer.JsonSerializer.deserialize(Z);return Q.shared.workspace.LangiumDocumentFactory.fromModel(K,L6.parse(`memory://${(J=K.name)!==null&&J!==void 0?J:"grammar"}.langium`)),K}var Tf8,wf8;var cb0=f(()=>{Eo();Po();aU();To();DX();Tf8={Grammar:()=>{return},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},wf8={AstReflection:()=>new aD}});var F9={};LZ(F9,{stream:()=>E9,startCancelableOperation:()=>Nk,setInterruptionPeriod:()=>zb0,loadGrammarFromJson:()=>AX,isOperationCancelled:()=>LX,interruptAndCheck:()=>tJ,delayNextTick:()=>ga,assertUnreachable:()=>nU,WorkspaceCache:()=>BA,UriUtils:()=>D6,URI:()=>L6,TreeStreamImpl:()=>EY,StreamImpl:()=>Y7,SimpleCache:()=>wk,RegExpUtils:()=>yT,Reduction:()=>TF,OperationCancelled:()=>RX,MultiMap:()=>IX,GrammarUtils:()=>mT,ErrorWithLocation:()=>$F,EMPTY_STREAM:()=>gD,DocumentCache:()=>aa,DisposableCache:()=>MA,Disposable:()=>CW,Deferred:()=>G4,DONE_RESULT:()=>kQ,CstUtils:()=>PT,ContextCache:()=>sB,Cancellation:()=>wZ,BiMap:()=>dB,AstUtils:()=>vT});var lb0=f(()=>{W6();vK();j5();w5();IM();$k();gk();gZ(F9,VJ);iB();Ko();CT();cb0();xK();t6();DX()});var db0=f(()=>{Zo();OA()});var ib0=f(()=>{Jo();Qo();Uo();lB();To();Xo();Ao();Yo()});var RQ={};LZ(RQ,{toDiagnosticSeverity:()=>bk,toDiagnosticData:()=>Ib0,stream:()=>E9,startCancelableOperation:()=>Nk,setInterruptionPeriod:()=>zb0,prepareLangiumParser:()=>rx0,parseJSDoc:()=>Fo,loadGrammarFromJson:()=>AX,isTokenTypeDictionary:()=>qo,isTokenTypeArray:()=>rk,isRootCstNode:()=>uD,isReference:()=>FQ,isOperationCancelled:()=>LX,isNamed:()=>Rb0,isLinkingError:()=>Oz,isLeafCstNode:()=>vq,isJSDoc:()=>Mo,isIMultiModeLexerDefinition:()=>Wo,isCompositeCstNode:()=>C5,isAstNodeWithComment:()=>ta,isAstNodeDescription:()=>Hs,isAstNode:()=>kJ,interruptAndCheck:()=>tJ,inject:()=>MJ,indentationBuilderDefaultOptions:()=>Co,getDiagnosticRange:()=>Db0,eagerLoad:()=>kb0,diagnosticData:()=>mz,delayNextTick:()=>ga,createParser:()=>zA,createLangiumParser:()=>_a,createGrammarConfig:()=>Zr,createDefaultSharedCoreModule:()=>BQ,createDefaultCoreModule:()=>MQ,createCompletionParser:()=>$a,assertUnreachable:()=>nU,WorkspaceCache:()=>BA,ValueConverter:()=>OX,ValidationRegistry:()=>xk,ValidationCategory:()=>rB,UriUtils:()=>D6,URI:()=>L6,TreeStreamImpl:()=>EY,TextDocument:()=>pB,StreamScope:()=>FA,StreamImpl:()=>Y7,SimpleCache:()=>wk,RootCstNodeImpl:()=>qA,RegExpUtils:()=>yT,Reduction:()=>TF,ParserWorker:()=>Sb0,OperationCancelled:()=>RX,MultiMap:()=>IX,Module:()=>Vo,MapScope:()=>Tk,LexingMode:()=>uz,LeafCstNodeImpl:()=>mB,LangiumParserErrorMessageProvider:()=>WA,LangiumParser:()=>Mk,LangiumCompletionParser:()=>Bk,JSDocDocumentationProvider:()=>tk,IndentationAwareTokenBuilder:()=>jo,IndentationAwareLexer:()=>yb0,GrammarUtils:()=>mT,GrammarAST:()=>oD,ErrorWithLocation:()=>$F,EmptyFileSystemProvider:()=>So,EmptyFileSystem:()=>OQ,EMPTY_STREAM:()=>gD,EMPTY_SCOPE:()=>Of8,DocumentValidator:()=>bK,DocumentState:()=>i9,DocumentCache:()=>aa,DisposableCache:()=>MA,Disposable:()=>CW,Deferred:()=>G4,DefaultWorkspaceManager:()=>dk,DefaultWorkspaceLock:()=>J_,DefaultValueConverter:()=>gB,DefaultTokenBuilder:()=>PW,DefaultServiceRegistry:()=>vk,DefaultScopeProvider:()=>kk,DefaultScopeComputation:()=>Sk,DefaultReferences:()=>jk,DefaultReferenceDescriptionProvider:()=>mk,DefaultNameProvider:()=>Ck,DefaultLinker:()=>Pk,DefaultLexerErrorMessageProvider:()=>ik,DefaultLexer:()=>nB,DefaultLangiumDocuments:()=>Vk,DefaultLangiumDocumentFactory:()=>Ek,DefaultJsonSerializer:()=>_k,DefaultIndexManager:()=>lk,DefaultHydrator:()=>Q_,DefaultDocumentValidator:()=>yk,DefaultDocumentBuilder:()=>ck,DefaultConfigurationProvider:()=>pk,DefaultCommentProvider:()=>ek,DefaultAsyncParser:()=>Z_,DefaultAstNodeLocator:()=>uk,DefaultAstNodeDescriptionProvider:()=>hk,DatatypeSymbol:()=>Hk,DONE_RESULT:()=>kQ,DEFAULT_TOKENIZE_OPTIONS:()=>sk,CstUtils:()=>PT,CstNodeBuilder:()=>Wk,ContextCache:()=>sB,CompositeCstNodeImpl:()=>uB,Cancellation:()=>wZ,BiMap:()=>dB,AstUtils:()=>vT,AbstractThreadedAsyncParser:()=>jb0,AbstractParserErrorMessageProvider:()=>Ta,AbstractLangiumParser:()=>Fk,AbstractCstNode:()=>Gk,AbstractAstReflection:()=>SF});var g4=f(()=>{aU();Eo();Po();ea();fb0();vb0();bb0();ub0();gb0();pb0();lb0();gZ(RQ,F9);db0();ib0()});function Zy0(Z){return y5.isInstance(Z,RA)}function Jy0(Z){return y5.isInstance(Z,aB)}function Qy0(Z){return y5.isInstance(Z,oB)}function Ky0(Z){return y5.isInstance(Z,tB)}function Uy0(Z){return y5.isInstance(Z,LA)}function Xy0(Z){return y5.isInstance(Z,eB)}function Yy0(Z){return y5.isInstance(Z,DA)}function qy0(Z){return y5.isInstance(Z,IA)}function Wy0(Z){return y5.isInstance(Z,AA)}function Gy0(Z){return y5.isInstance(Z,NA)}function zy0(Z){return y5.isInstance(Z,EA)}var kf8,P8=(Z,J)=>kf8(Z,"name",{value:J,configurable:!0}),ho="Statement",RA="Architecture",U_="Axis",aB="Branch",X_="Checkout",Y_="CherryPicking",wo="ClassDefStatement",oB="Commit",$o="Curve",ko="Edge",_o="Entry",tB="GitGraph",fo="Group",LA="Info",q_="Item",vo="Junction",eB="Merge",xo="Option",DA="Packet",IA="PacketBlock",AA="Pie",NA="PieSection",H_="Radar",bo="Service",EA="Treemap",yo="TreemapRow",W_="Direction",G_="Leaf",z_="Section",Hy0,y5,sb0,_f8,rb0,ff8,nb0,vf8,ab0,xf8,ob0,bf8,tb0,yf8,eb0,hf8,mf8,uf8,gf8,pf8,cf8,lf8,df8,I6,mo,uo,go,po,co,lo,io,if8,sf8,rf8,nf8,jW,yY,yQ,af8;var hQ=f(()=>{g4();g4();g4();g4();kf8=Object.defineProperty;P8(Zy0,"isArchitecture");P8(Jy0,"isBranch");P8(Qy0,"isCommit");P8(Ky0,"isGitGraph");P8(Uy0,"isInfo");P8(Xy0,"isMerge");P8(Yy0,"isPacket");P8(qy0,"isPacketBlock");P8(Wy0,"isPie");P8(Gy0,"isPieSection");P8(zy0,"isTreemap");Hy0=class extends SF{static{P8(this,"MermaidAstReflection")}getAllTypes(){return[RA,U_,aB,X_,Y_,wo,oB,$o,W_,ko,_o,tB,fo,LA,q_,vo,G_,eB,xo,DA,IA,AA,NA,H_,z_,bo,ho,EA,yo]}computeIsSubtype(Z,J){switch(Z){case aB:case X_:case Y_:case oB:case eB:return this.isSubtype(ho,J);case W_:return this.isSubtype(tB,J);case G_:case z_:return this.isSubtype(q_,J);default:return!1}}getReferenceType(Z){let J=`${Z.container.$type}:${Z.property}`;switch(J){case"Entry:axis":return U_;default:throw Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case RA:return{name:RA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case U_:return{name:U_,properties:[{name:"label"},{name:"name"}]};case aB:return{name:aB,properties:[{name:"name"},{name:"order"}]};case X_:return{name:X_,properties:[{name:"branch"}]};case Y_:return{name:Y_,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case wo:return{name:wo,properties:[{name:"className"},{name:"styleText"}]};case oB:return{name:oB,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case $o:return{name:$o,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case ko:return{name:ko,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case _o:return{name:_o,properties:[{name:"axis"},{name:"value"}]};case tB:return{name:tB,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case fo:return{name:fo,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case LA:return{name:LA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case q_:return{name:q_,properties:[{name:"classSelector"},{name:"name"}]};case vo:return{name:vo,properties:[{name:"id"},{name:"in"}]};case eB:return{name:eB,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case xo:return{name:xo,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case DA:return{name:DA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case IA:return{name:IA,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case AA:return{name:AA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case NA:return{name:NA,properties:[{name:"label"},{name:"value"}]};case H_:return{name:H_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case bo:return{name:bo,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case EA:return{name:EA,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case yo:return{name:yo,properties:[{name:"indent"},{name:"item"}]};case W_:return{name:W_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case G_:return{name:G_,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case z_:return{name:z_,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:Z,properties:[]}}}},y5=new Hy0,_f8=P8(()=>sb0??(sb0=AX('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),ff8=P8(()=>rb0??(rb0=AX('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),vf8=P8(()=>nb0??(nb0=AX('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),xf8=P8(()=>ab0??(ab0=AX('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),bf8=P8(()=>ob0??(ob0=AX('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),yf8=P8(()=>tb0??(tb0=AX('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),hf8=P8(()=>eb0??(eb0=AX('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),mf8={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},uf8={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},gf8={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},pf8={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},cf8={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},lf8={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},df8={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},I6={AstReflection:P8(()=>new Hy0,"AstReflection")},mo={Grammar:P8(()=>_f8(),"Grammar"),LanguageMetaData:P8(()=>mf8,"LanguageMetaData"),parser:{}},uo={Grammar:P8(()=>ff8(),"Grammar"),LanguageMetaData:P8(()=>uf8,"LanguageMetaData"),parser:{}},go={Grammar:P8(()=>vf8(),"Grammar"),LanguageMetaData:P8(()=>gf8,"LanguageMetaData"),parser:{}},po={Grammar:P8(()=>xf8(),"Grammar"),LanguageMetaData:P8(()=>pf8,"LanguageMetaData"),parser:{}},co={Grammar:P8(()=>bf8(),"Grammar"),LanguageMetaData:P8(()=>cf8,"LanguageMetaData"),parser:{}},lo={Grammar:P8(()=>yf8(),"Grammar"),LanguageMetaData:P8(()=>lf8,"LanguageMetaData"),parser:{}},io={Grammar:P8(()=>hf8(),"Grammar"),LanguageMetaData:P8(()=>df8,"LanguageMetaData"),parser:{}},if8=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,sf8=/accTitle[\t ]*:([^\n\r]*)/,rf8=/title([\t ][^\n\r]*|)/,nf8={ACC_DESCR:if8,ACC_TITLE:sf8,TITLE:rf8},jW=class extends gB{static{P8(this,"AbstractMermaidValueConverter")}runConverter(Z,J,Q){let K=this.runCommonConverter(Z,J,Q);if(K===void 0)K=this.runCustomConverter(Z,J,Q);if(K===void 0)return super.runConverter(Z,J,Q);return K}runCommonConverter(Z,J,Q){let K=nf8[Z.name];if(K===void 0)return;let U=K.exec(J);if(U===null)return;if(U[1]!==void 0)return U[1].trim().replace(/[\t ]{2,}/gm," ");if(U[2]!==void 0)return U[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`);return}},yY=class extends jW{static{P8(this,"CommonValueConverter")}runCustomConverter(Z,J,Q){return}},yQ=class extends PW{static{P8(this,"AbstractMermaidTokenBuilder")}constructor(Z){super();this.keywords=new Set(Z)}buildKeywordTokens(Z,J,Q){let K=super.buildKeywordTokens(Z,J,Q);return K.forEach((U)=>{if(this.keywords.has(U.name)&&U.PATTERN!==void 0)U.PATTERN=new RegExp(U.PATTERN.toString()+"(?:(?=%%)|(?!\\S))")}),K}},af8=class extends yQ{static{P8(this,"CommonTokenBuilder")}}});function M_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),co,F_);return J.ServiceRegistry.register(Q),{shared:J,GitGraph:Q}}var of8,F_;var so=f(()=>{hQ();g4();of8=class extends yQ{static{P8(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},F_={parser:{TokenBuilder:P8(()=>new of8,"TokenBuilder"),ValueConverter:P8(()=>new yY,"ValueConverter")}};P8(M_,"createGitGraphServices")});function O_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),mo,B_);return J.ServiceRegistry.register(Q),{shared:J,Info:Q}}var tf8,B_;var ro=f(()=>{hQ();g4();tf8=class extends yQ{static{P8(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},B_={parser:{TokenBuilder:P8(()=>new tf8,"TokenBuilder"),ValueConverter:P8(()=>new yY,"ValueConverter")}};P8(O_,"createInfoServices")});function L_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),uo,R_);return J.ServiceRegistry.register(Q),{shared:J,Packet:Q}}var ef8,R_;var no=f(()=>{hQ();g4();ef8=class extends yQ{static{P8(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},R_={parser:{TokenBuilder:P8(()=>new ef8,"TokenBuilder"),ValueConverter:P8(()=>new yY,"ValueConverter")}};P8(L_,"createPacketServices")});function I_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),go,D_);return J.ServiceRegistry.register(Q),{shared:J,Pie:Q}}var Zv8,Jv8,D_;var ao=f(()=>{hQ();g4();Zv8=class extends yQ{static{P8(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},Jv8=class extends jW{static{P8(this,"PieValueConverter")}runCustomConverter(Z,J,Q){if(Z.name!=="PIE_SECTION_LABEL")return;return J.replace(/"/g,"").trim()}},D_={parser:{TokenBuilder:P8(()=>new Zv8,"TokenBuilder"),ValueConverter:P8(()=>new Jv8,"ValueConverter")}};P8(I_,"createPieServices")});function N_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),po,A_);return J.ServiceRegistry.register(Q),{shared:J,Architecture:Q}}var Qv8,Kv8,A_;var oo=f(()=>{hQ();g4();Qv8=class extends yQ{static{P8(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},Kv8=class extends jW{static{P8(this,"ArchitectureValueConverter")}runCustomConverter(Z,J,Q){if(Z.name==="ARCH_ICON")return J.replace(/[()]/g,"").trim();else if(Z.name==="ARCH_TEXT_ICON")return J.replace(/["()]/g,"");else if(Z.name==="ARCH_TITLE")return J.replace(/[[\]]/g,"").trim();return}},A_={parser:{TokenBuilder:P8(()=>new Qv8,"TokenBuilder"),ValueConverter:P8(()=>new Kv8,"ValueConverter")}};P8(N_,"createArchitectureServices")});function V_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),lo,E_);return J.ServiceRegistry.register(Q),{shared:J,Radar:Q}}var Uv8,E_;var to=f(()=>{hQ();g4();Uv8=class extends yQ{static{P8(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},E_={parser:{TokenBuilder:P8(()=>new Uv8,"TokenBuilder"),ValueConverter:P8(()=>new yY,"ValueConverter")}};P8(V_,"createRadarServices")});function Fy0(Z){let J=Z.validation.TreemapValidator,Q=Z.validation.ValidationRegistry;if(Q){let K={Treemap:J.checkSingleRoot.bind(J)};Q.register(K,J)}}function C_(Z=OQ){let J=MJ(BQ(Z),I6),Q=MJ(MQ({shared:J}),io,P_);return J.ServiceRegistry.register(Q),Fy0(Q),{shared:J,Treemap:Q}}var Xv8,Yv8,qv8,Wv8,P_;var eo=f(()=>{hQ();g4();Xv8=class extends yQ{static{P8(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},Yv8=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,qv8=class extends jW{static{P8(this,"TreemapValueConverter")}runCustomConverter(Z,J,Q){if(Z.name==="NUMBER2")return parseFloat(J.replace(/,/g,""));else if(Z.name==="SEPARATOR")return J.substring(1,J.length-1);else if(Z.name==="STRING2")return J.substring(1,J.length-1);else if(Z.name==="INDENTATION")return J.length;else if(Z.name==="ClassDef"){if(typeof J!=="string")return J;let K=Yv8.exec(J);if(K)return{$type:"ClassDefStatement",className:K[1],styleText:K[2]||void 0}}return}};P8(Fy0,"registerValidationChecks");Wv8=class{static{P8(this,"TreemapValidator")}checkSingleRoot(Z,J){let Q;for(let K of Z.TreemapRows){if(!K.item)continue;if(Q===void 0&&K.indent===void 0)Q=0;else if(K.indent===void 0)J("error","Multiple root nodes are not allowed in a treemap.",{node:K,property:"item"});else if(Q!==void 0&&Q>=parseInt(K.indent,10))J("error","Multiple root nodes are not allowed in a treemap.",{node:K,property:"item"})}}},P_={parser:{TokenBuilder:P8(()=>new Xv8,"TokenBuilder"),ValueConverter:P8(()=>new qv8,"ValueConverter")},validation:{TreemapValidator:P8(()=>new Wv8,"TreemapValidator")}};P8(C_,"createTreemapServices")});var My0={};LZ(My0,{createInfoServices:()=>O_,InfoModule:()=>B_});var By0=f(()=>{ro();hQ()});var Oy0={};LZ(Oy0,{createPacketServices:()=>L_,PacketModule:()=>R_});var Ry0=f(()=>{no();hQ()});var Ly0={};LZ(Ly0,{createPieServices:()=>I_,PieModule:()=>D_});var Dy0=f(()=>{ao();hQ()});var Iy0={};LZ(Iy0,{createArchitectureServices:()=>N_,ArchitectureModule:()=>A_});var Ay0=f(()=>{oo();hQ()});var Ny0={};LZ(Ny0,{createGitGraphServices:()=>M_,GitGraphModule:()=>F_});var Ey0=f(()=>{so();hQ()});var Vy0={};LZ(Vy0,{createRadarServices:()=>V_,RadarModule:()=>E_});var Py0=f(()=>{to();hQ()});var Cy0={};LZ(Cy0,{createTreemapServices:()=>C_,TreemapModule:()=>P_});var jy0=f(()=>{eo();hQ()});async function A6(Z,J){let Q=Gv8[Z];if(!Q)throw Error(`Unknown diagram type: ${Z}`);if(!hY[Z])await Q();let U=hY[Z].parse(J);if(U.lexerErrors.length>0||U.parserErrors.length>0)throw new zv8(U);return U.value}var hY,Gv8,zv8;var SW=f(()=>{so();ro();no();ao();oo();to();eo();hQ();hY={},Gv8={info:P8(async()=>{let{createInfoServices:Z}=await Promise.resolve().then(() => (By0(),My0)),J=Z().Info.parser.LangiumParser;hY.info=J},"info"),packet:P8(async()=>{let{createPacketServices:Z}=await Promise.resolve().then(() => (Ry0(),Oy0)),J=Z().Packet.parser.LangiumParser;hY.packet=J},"packet"),pie:P8(async()=>{let{createPieServices:Z}=await Promise.resolve().then(() => (Dy0(),Ly0)),J=Z().Pie.parser.LangiumParser;hY.pie=J},"pie"),architecture:P8(async()=>{let{createArchitectureServices:Z}=await Promise.resolve().then(() => (Ay0(),Iy0)),J=Z().Architecture.parser.LangiumParser;hY.architecture=J},"architecture"),gitGraph:P8(async()=>{let{createGitGraphServices:Z}=await Promise.resolve().then(() => (Ey0(),Ny0)),J=Z().GitGraph.parser.LangiumParser;hY.gitGraph=J},"gitGraph"),radar:P8(async()=>{let{createRadarServices:Z}=await Promise.resolve().then(() => (Py0(),Vy0)),J=Z().Radar.parser.LangiumParser;hY.radar=J},"radar"),treemap:P8(async()=>{let{createTreemapServices:Z}=await Promise.resolve().then(() => (jy0(),Cy0)),J=Z().Treemap.parser.LangiumParser;hY.treemap=J},"treemap")};P8(A6,"parse");zv8=class extends Error{constructor(Z){let J=Z.lexerErrors.map((K)=>K.message).join(`
`),Q=Z.parserErrors.map((K)=>K.message).join(`
`);super(`Parsing failed: ${J} ${Q}`);this.result=Z}static{P8(this,"MermaidParseError")}}});var vy0={};LZ(vy0,{diagram:()=>Ux8});function T_(){return Vp({length:7})}function Ty0(Z,J){let Q=Object.create(null);return Z.reduce((K,U)=>{let X=J(U);if(!Q[X])Q[X]=!0,K.push(U);return K},[])}function Zt(Z,J,Q){let K=Z.indexOf(J);if(K===-1)Z.push(Q);else Z.splice(K,1,Q)}function Jt(Z){let J=Z.reduce((U,X)=>{if(U.seq>X.seq)return U;return X},Z[0]),Q="";Z.forEach(function(U){if(U===J)Q+="\t*";else Q+="\t|"});let K=[Q,J.id,J.seq];for(let U in _8.records.branches)if(_8.records.branches.get(U)===J.id)K.push(U);if(Z0.debug(K.join(" ")),J.parents&&J.parents.length==2&&J.parents[0]&&J.parents[1]){let U=_8.records.commits.get(J.parents[0]);if(Zt(Z,J,U),J.parents[1])Z.push(_8.records.commits.get(J.parents[1]))}else if(J.parents.length==0)return;else if(J.parents[0]){let U=_8.records.commits.get(J.parents[0]);Zt(Z,J,U)}Z=Ty0(Z,(U)=>U.id),Jt(Z)}var v9,Hv8,pz,_8,Fv8,Mv8,Bv8,Ov8,Rv8,Lv8,Dv8,wy0,Iv8,Av8,Nv8,Ev8,Vv8,$y0,Pv8,Cv8,jv8,ky0,Sv8,Tv8,wv8,$v8,kv8,_v8,fv8,vv8,xv8,yK,wW=10,$W=40,NX=4,mY=2,gz=8,z4,H4,j_=30,VA,S_,TW=0,Q9="LR",bv8,_y0,fy0,yv8,hv8,mv8,uv8,gv8,pv8,cv8,lv8,dv8,iv8,sv8,rv8,Sy0,nv8,PA,av8,ov8,tv8,ev8,Zx8,Jx8,Qx8,Kx8,Ux8;var xy0=f(()=>{Bz();zs();w9();yZ();AZ();SW();TZ();v9={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Hv8=PZ.gitGraph,pz=I(()=>{return wJ({...Hv8,...CZ().gitGraph})},"getConfig"),_8=new NT(()=>{let Z=pz(),J=Z.mainBranchName,Q=Z.mainBranchOrder;return{mainBranchName:J,commits:new Map,head:null,branchConfig:new Map([[J,{name:J,order:Q}]]),branches:new Map([[J,null]]),currBranch:J,direction:"LR",seq:0,options:{}}});I(T_,"getID");I(Ty0,"uniqBy");Fv8=I(function(Z){_8.records.direction=Z},"setDirection"),Mv8=I(function(Z){Z0.debug("options str",Z),Z=Z?.trim(),Z=Z||"{}";try{_8.records.options=JSON.parse(Z)}catch(J){Z0.error("error while parsing gitGraph options",J.message)}},"setOptions"),Bv8=I(function(){return _8.records.options},"getOptions"),Ov8=I(function(Z){let{msg:J,id:Q,type:K,tags:U}=Z;Z0.info("commit",J,Q,K,U),Z0.debug("Entering commit:",J,Q,K,U);let X=pz();Q=U8.sanitizeText(Q,X),J=U8.sanitizeText(J,X),U=U?.map((q)=>U8.sanitizeText(q,X));let Y={id:Q?Q:_8.records.seq+"-"+T_(),message:J,seq:_8.records.seq++,type:K??v9.NORMAL,tags:U??[],parents:_8.records.head==null?[]:[_8.records.head.id],branch:_8.records.currBranch};if(_8.records.head=Y,Z0.info("main branch",X.mainBranchName),_8.records.commits.has(Y.id))Z0.warn(`Commit ID ${Y.id} already exists`);_8.records.commits.set(Y.id,Y),_8.records.branches.set(_8.records.currBranch,Y.id),Z0.debug("in pushCommit "+Y.id)},"commit"),Rv8=I(function(Z){let{name:J,order:Q}=Z;if(J=U8.sanitizeText(J,pz()),_8.records.branches.has(J))throw Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${J}")`);_8.records.branches.set(J,_8.records.head!=null?_8.records.head.id:null),_8.records.branchConfig.set(J,{name:J,order:Q}),wy0(J),Z0.debug("in createBranch")},"branch"),Lv8=I((Z)=>{let{branch:J,id:Q,type:K,tags:U}=Z,X=pz();if(J=U8.sanitizeText(J,X),Q)Q=U8.sanitizeText(Q,X);let Y=_8.records.branches.get(_8.records.currBranch),q=_8.records.branches.get(J),W=Y?_8.records.commits.get(Y):void 0,G=q?_8.records.commits.get(q):void 0;if(W&&G&&W.branch===J)throw Error(`Cannot merge branch '${J}' into itself.`);if(_8.records.currBranch===J){let F=Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(W===void 0||!W){let F=Error(`Incorrect usage of "merge". Current branch (${_8.records.currBranch})has no commits`);throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["commit"]},F}if(!_8.records.branches.has(J)){let F=Error('Incorrect usage of "merge". Branch to be merged ('+J+") does not exist");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:[`branch ${J}`]},F}if(G===void 0||!G){let F=Error('Incorrect usage of "merge". Branch to be merged ('+J+") has no commits");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:['"commit"']},F}if(W===G){let F=Error('Incorrect usage of "merge". Both branches have same head');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(Q&&_8.records.commits.has(Q)){let F=Error('Incorrect usage of "merge". Commit with id:'+Q+" already exists, use different custom id");throw F.hash={text:`merge ${J} ${Q} ${K} ${U?.join(" ")}`,token:`merge ${J} ${Q} ${K} ${U?.join(" ")}`,expected:[`merge ${J} ${Q}_UNIQUE ${K} ${U?.join(" ")}`]},F}let z=q?q:"",H={id:Q||`${_8.records.seq}-${T_()}`,message:`merged branch ${J} into ${_8.records.currBranch}`,seq:_8.records.seq++,parents:_8.records.head==null?[]:[_8.records.head.id,z],branch:_8.records.currBranch,type:v9.MERGE,customType:K,customId:Q?!0:!1,tags:U??[]};_8.records.head=H,_8.records.commits.set(H.id,H),_8.records.branches.set(_8.records.currBranch,H.id),Z0.debug(_8.records.branches),Z0.debug("in mergeBranch")},"merge"),Dv8=I(function(Z){let{id:J,targetId:Q,tags:K,parent:U}=Z;Z0.debug("Entering cherryPick:",J,Q,K);let X=pz();if(J=U8.sanitizeText(J,X),Q=U8.sanitizeText(Q,X),K=K?.map((W)=>U8.sanitizeText(W,X)),U=U8.sanitizeText(U,X),!J||!_8.records.commits.has(J)){let W=Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw W.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},W}let Y=_8.records.commits.get(J);if(Y===void 0||!Y)throw Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(U&&!(Array.isArray(Y.parents)&&Y.parents.includes(U)))throw Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let q=Y.branch;if(Y.type===v9.MERGE&&!U)throw Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!Q||!_8.records.commits.has(Q)){if(q===_8.records.currBranch){let H=Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let W=_8.records.branches.get(_8.records.currBranch);if(W===void 0||!W){let H=Error(`Incorrect usage of "cherry-pick". Current branch (${_8.records.currBranch})has no commits`);throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let G=_8.records.commits.get(W);if(G===void 0||!G){let H=Error(`Incorrect usage of "cherry-pick". Current branch (${_8.records.currBranch})has no commits`);throw H.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},H}let z={id:_8.records.seq+"-"+T_(),message:`cherry-picked ${Y?.message} into ${_8.records.currBranch}`,seq:_8.records.seq++,parents:_8.records.head==null?[]:[_8.records.head.id,Y.id],branch:_8.records.currBranch,type:v9.CHERRY_PICK,tags:K?K.filter(Boolean):[`cherry-pick:${Y.id}${Y.type===v9.MERGE?`|parent:${U}`:""}`]};_8.records.head=z,_8.records.commits.set(z.id,z),_8.records.branches.set(_8.records.currBranch,z.id),Z0.debug(_8.records.branches),Z0.debug("in cherryPick")}},"cherryPick"),wy0=I(function(Z){if(Z=U8.sanitizeText(Z,pz()),!_8.records.branches.has(Z)){let J=Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${Z}")`);throw J.hash={text:`checkout ${Z}`,token:`checkout ${Z}`,expected:[`branch ${Z}`]},J}else{_8.records.currBranch=Z;let J=_8.records.branches.get(_8.records.currBranch);if(J===void 0||!J)_8.records.head=null;else _8.records.head=_8.records.commits.get(J)??null}},"checkout");I(Zt,"upsert");I(Jt,"prettyPrintCommitHistory");Iv8=I(function(){Z0.debug(_8.records.commits);let Z=$y0()[0];Jt([Z])},"prettyPrint"),Av8=I(function(){_8.reset(),bZ()},"clear"),Nv8=I(function(){return[..._8.records.branchConfig.values()].map((J,Q)=>{if(J.order!==null&&J.order!==void 0)return J;return{...J,order:parseFloat(`0.${Q}`)}}).sort((J,Q)=>(J.order??0)-(Q.order??0)).map(({name:J})=>({name:J}))},"getBranchesAsObjArray"),Ev8=I(function(){return _8.records.branches},"getBranches"),Vv8=I(function(){return _8.records.commits},"getCommits"),$y0=I(function(){let Z=[..._8.records.commits.values()];return Z.forEach(function(J){Z0.debug(J.id)}),Z.sort((J,Q)=>J.seq-Q.seq),Z},"getCommitsArray"),Pv8=I(function(){return _8.records.currBranch},"getCurrentBranch"),Cv8=I(function(){return _8.records.direction},"getDirection"),jv8=I(function(){return _8.records.head},"getHead"),ky0={commitType:v9,getConfig:pz,setDirection:Fv8,setOptions:Mv8,getOptions:Bv8,commit:Ov8,branch:Rv8,merge:Lv8,cherryPick:Dv8,checkout:wy0,prettyPrint:Iv8,clear:Av8,getBranchesAsObjArray:Nv8,getBranches:Ev8,getCommits:Vv8,getCommitsArray:$y0,getCurrentBranch:Pv8,getDirection:Cv8,getHead:jv8,setAccTitle:cZ,getAccTitle:sZ,getAccDescription:nZ,setAccDescription:rZ,setDiagramTitle:Z9,getDiagramTitle:aZ},Sv8=I((Z,J)=>{if(y4(Z,J),Z.dir)J.setDirection(Z.dir);for(let Q of Z.statements)Tv8(Q,J)},"populate"),Tv8=I((Z,J)=>{let K={Commit:I((U)=>J.commit(wv8(U)),"Commit"),Branch:I((U)=>J.branch($v8(U)),"Branch"),Merge:I((U)=>J.merge(kv8(U)),"Merge"),Checkout:I((U)=>J.checkout(_v8(U)),"Checkout"),CherryPicking:I((U)=>J.cherryPick(fv8(U)),"CherryPicking")}[Z.$type];if(K)K(Z);else Z0.error(`Unknown statement type: ${Z.$type}`)},"parseStatement"),wv8=I((Z)=>{return{id:Z.id,msg:Z.message??"",type:Z.type!==void 0?v9[Z.type]:v9.NORMAL,tags:Z.tags??void 0}},"parseCommit"),$v8=I((Z)=>{return{name:Z.name,order:Z.order??0}},"parseBranch"),kv8=I((Z)=>{return{branch:Z.branch,id:Z.id??"",type:Z.type!==void 0?v9[Z.type]:void 0,tags:Z.tags??void 0}},"parseMerge"),_v8=I((Z)=>{return Z.branch},"parseCheckout"),fv8=I((Z)=>{return{id:Z.id,targetId:"",tags:Z.tags?.length===0?void 0:Z.tags,parent:Z.parent}},"parseCherryPicking"),vv8={parse:I(async(Z)=>{let J=await A6("gitGraph",Z);Z0.debug(J),Sv8(J,ky0)},"parse")},xv8=E0(),yK=xv8?.gitGraph,z4=new Map,H4=new Map,VA=new Map,S_=[],bv8=I(()=>{z4.clear(),H4.clear(),VA.clear(),TW=0,S_=[],Q9="LR"},"clear"),_y0=I((Z)=>{let J=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof Z==="string"?Z.split(/\\n|\n|<br\s*\/?>/gi):Z).forEach((K)=>{let U=document.createElementNS("http://www.w3.org/2000/svg","tspan");U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),U.setAttribute("dy","1em"),U.setAttribute("x","0"),U.setAttribute("class","row"),U.textContent=K.trim(),J.appendChild(U)}),J},"drawText"),fy0=I((Z)=>{let J,Q,K;if(Q9==="BT")Q=I((U,X)=>U<=X,"comparisonFunc"),K=1/0;else Q=I((U,X)=>U>=X,"comparisonFunc"),K=0;return Z.forEach((U)=>{let X=Q9==="TB"||Q9=="BT"?H4.get(U)?.y:H4.get(U)?.x;if(X!==void 0&&Q(X,K))J=U,K=X}),J},"findClosestParent"),yv8=I((Z)=>{let J="",Q=1/0;return Z.forEach((K)=>{let U=H4.get(K).y;if(U<=Q)J=K,Q=U}),J||void 0},"findClosestParentBT"),hv8=I((Z,J,Q)=>{let K=Q,U=Q,X=[];Z.forEach((Y)=>{let q=J.get(Y);if(!q)throw Error(`Commit not found for key ${Y}`);if(q.parents.length)K=uv8(q),U=Math.max(K,U);else X.push(q);gv8(q,K)}),K=U,X.forEach((Y)=>{pv8(Y,K,Q)}),Z.forEach((Y)=>{let q=J.get(Y);if(q?.parents.length){let W=yv8(q.parents);if(K=H4.get(W).y-$W,K<=U)U=K;let G=z4.get(q.branch).pos,z=K-wW;H4.set(q.id,{x:G,y:z})}})},"setParallelBTPos"),mv8=I((Z)=>{let J=fy0(Z.parents.filter((K)=>K!==null));if(!J)throw Error(`Closest parent not found for commit ${Z.id}`);let Q=H4.get(J)?.y;if(Q===void 0)throw Error(`Closest parent position not found for commit ${Z.id}`);return Q},"findClosestParentPos"),uv8=I((Z)=>{return mv8(Z)+$W},"calculateCommitPosition"),gv8=I((Z,J)=>{let Q=z4.get(Z.branch);if(!Q)throw Error(`Branch not found for commit ${Z.id}`);let K=Q.pos,U=J+wW;return H4.set(Z.id,{x:K,y:U}),{x:K,y:U}},"setCommitPosition"),pv8=I((Z,J,Q)=>{let K=z4.get(Z.branch);if(!K)throw Error(`Branch not found for commit ${Z.id}`);let U=J+Q,X=K.pos;H4.set(Z.id,{x:X,y:U})},"setRootPosition"),cv8=I((Z,J,Q,K,U,X)=>{if(X===v9.HIGHLIGHT)Z.append("rect").attr("x",Q.x-10).attr("y",Q.y-10).attr("width",20).attr("height",20).attr("class",`commit ${J.id} commit-highlight${U%gz} ${K}-outer`),Z.append("rect").attr("x",Q.x-6).attr("y",Q.y-6).attr("width",12).attr("height",12).attr("class",`commit ${J.id} commit${U%gz} ${K}-inner`);else if(X===v9.CHERRY_PICK)Z.append("circle").attr("cx",Q.x).attr("cy",Q.y).attr("r",10).attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x-3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x+3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x+3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x-3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`);else{let Y=Z.append("circle");if(Y.attr("cx",Q.x),Y.attr("cy",Q.y),Y.attr("r",J.type===v9.MERGE?9:10),Y.attr("class",`commit ${J.id} commit${U%gz}`),X===v9.MERGE){let q=Z.append("circle");q.attr("cx",Q.x),q.attr("cy",Q.y),q.attr("r",6),q.attr("class",`commit ${K} ${J.id} commit${U%gz}`)}if(X===v9.REVERSE)Z.append("path").attr("d",`M ${Q.x-5},${Q.y-5}L${Q.x+5},${Q.y+5}M${Q.x-5},${Q.y+5}L${Q.x+5},${Q.y-5}`).attr("class",`commit ${K} ${J.id} commit${U%gz}`)}},"drawCommitBullet"),lv8=I((Z,J,Q,K)=>{if(J.type!==v9.CHERRY_PICK&&(J.customId&&J.type===v9.MERGE||J.type!==v9.MERGE)&&yK?.showCommitLabel){let U=Z.append("g"),X=U.insert("rect").attr("class","commit-label-bkg"),Y=U.append("text").attr("x",K).attr("y",Q.y+25).attr("class","commit-label").text(J.id),q=Y.node()?.getBBox();if(q){if(X.attr("x",Q.posWithOffset-q.width/2-mY).attr("y",Q.y+13.5).attr("width",q.width+2*mY).attr("height",q.height+2*mY),Q9==="TB"||Q9==="BT")X.attr("x",Q.x-(q.width+4*NX+5)).attr("y",Q.y-12),Y.attr("x",Q.x-(q.width+4*NX)).attr("y",Q.y+q.height-12);else Y.attr("x",Q.posWithOffset-q.width/2);if(yK.rotateCommitLabel)if(Q9==="TB"||Q9==="BT")Y.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")"),X.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")");else{let W=-7.5-(q.width+10)/25*9.5,G=10+q.width/25*8.5;U.attr("transform","translate("+W+", "+G+") rotate(-45, "+K+", "+Q.y+")")}}}},"drawCommitLabel"),dv8=I((Z,J,Q,K)=>{if(J.tags.length>0){let U=0,X=0,Y=0,q=[];for(let W of J.tags.reverse()){let G=Z.insert("polygon"),z=Z.append("circle"),H=Z.append("text").attr("y",Q.y-16-U).attr("class","tag-label").text(W),F=H.node()?.getBBox();if(!F)throw Error("Tag bbox not found");X=Math.max(X,F.width),Y=Math.max(Y,F.height),H.attr("x",Q.posWithOffset-F.width/2),q.push({tag:H,hole:z,rect:G,yOffset:U}),U+=20}for(let{tag:W,hole:G,rect:z,yOffset:H}of q){let F=Y/2,M=Q.y-19.2-H;if(z.attr("class","tag-label-bkg").attr("points",`
      ${K-X/2-NX/2},${M+mY}  
      ${K-X/2-NX/2},${M-mY}
      ${Q.posWithOffset-X/2-NX},${M-F-mY}
      ${Q.posWithOffset+X/2+NX},${M-F-mY}
      ${Q.posWithOffset+X/2+NX},${M+F+mY}
      ${Q.posWithOffset-X/2-NX},${M+F+mY}`),G.attr("cy",M).attr("cx",K-X/2+NX/2).attr("r",1.5).attr("class","tag-hole"),Q9==="TB"||Q9==="BT"){let B=K+H;z.attr("class","tag-label-bkg").attr("points",`
        ${Q.x},${B+2}
        ${Q.x},${B-2}
        ${Q.x+wW},${B-F-2}
        ${Q.x+wW+X+4},${B-F-2}
        ${Q.x+wW+X+4},${B+F+2}
        ${Q.x+wW},${B+F+2}`).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),G.attr("cx",Q.x+NX/2).attr("cy",B).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),W.attr("x",Q.x+5).attr("y",B+3).attr("transform","translate(14,14) rotate(45, "+Q.x+","+K+")")}}}},"drawCommitTags"),iv8=I((Z)=>{switch(Z.customType??Z.type){case v9.NORMAL:return"commit-normal";case v9.REVERSE:return"commit-reverse";case v9.HIGHLIGHT:return"commit-highlight";case v9.MERGE:return"commit-merge";case v9.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),sv8=I((Z,J,Q,K)=>{let U={x:0,y:0};if(Z.parents.length>0){let X=fy0(Z.parents);if(X){let Y=K.get(X)??U;if(J==="TB")return Y.y+$W;else if(J==="BT")return(K.get(Z.id)??U).y-$W;else return Y.x+$W}}else if(J==="TB")return j_;else if(J==="BT")return(K.get(Z.id)??U).y-$W;else return 0;return 0},"calculatePosition"),rv8=I((Z,J,Q)=>{let K=Q9==="BT"&&Q?J:J+wW,U=Q9==="TB"||Q9==="BT"?K:z4.get(Z.branch)?.pos,X=Q9==="TB"||Q9==="BT"?z4.get(Z.branch)?.pos:K;if(X===void 0||U===void 0)throw Error(`Position were undefined for commit ${Z.id}`);return{x:X,y:U,posWithOffset:K}},"getCommitPosition"),Sy0=I((Z,J,Q)=>{if(!yK)throw Error("GitGraph config not found");let K=Z.append("g").attr("class","commit-bullets"),U=Z.append("g").attr("class","commit-labels"),X=Q9==="TB"||Q9==="BT"?j_:0,Y=[...J.keys()],q=yK?.parallelCommits??!1,W=I((z,H)=>{let F=J.get(z)?.seq,M=J.get(H)?.seq;return F!==void 0&&M!==void 0?F-M:0},"sortKeys"),G=Y.sort(W);if(Q9==="BT"){if(q)hv8(G,J,X);G=G.reverse()}G.forEach((z)=>{let H=J.get(z);if(!H)throw Error(`Commit not found for key ${z}`);if(q)X=sv8(H,Q9,X,H4);let F=rv8(H,X,q);if(Q){let M=iv8(H),B=H.customType??H.type,O=z4.get(H.branch)?.index??0;cv8(K,H,F,M,O,B),lv8(U,H,F,X),dv8(U,H,F,X)}if(Q9==="TB"||Q9==="BT")H4.set(H.id,{x:F.x,y:F.posWithOffset});else H4.set(H.id,{x:F.posWithOffset,y:F.y});if(X=Q9==="BT"&&q?X+$W:X+$W+wW,X>TW)TW=X})},"drawCommits"),nv8=I((Z,J,Q,K,U)=>{let Y=(Q9==="TB"||Q9==="BT"?Q.x<K.x:Q.y<K.y)?J.branch:Z.branch,q=I((G)=>G.branch===Y,"isOnBranchToGetCurve"),W=I((G)=>G.seq>Z.seq&&G.seq<J.seq,"isBetweenCommits");return[...U.values()].some((G)=>{return W(G)&&q(G)})},"shouldRerouteArrow"),PA=I((Z,J,Q=0)=>{let K=Z+Math.abs(Z-J)/2;if(Q>5)return K;if(S_.every((Y)=>Math.abs(Y-K)>=10))return S_.push(K),K;let X=Math.abs(Z-J);return PA(Z,J-X/5,Q+1)},"findLane"),av8=I((Z,J,Q,K)=>{let U=H4.get(J.id),X=H4.get(Q.id);if(U===void 0||X===void 0)throw Error(`Commit positions not found for commits ${J.id} and ${Q.id}`);let Y=nv8(J,Q,U,X,K),q="",W="",G=0,z=0,H=z4.get(Q.branch)?.index;if(Q.type===v9.MERGE&&J.id!==Q.parents[0])H=z4.get(J.branch)?.index;let F;if(Y){q="A 10 10, 0, 0, 0,",W="A 10 10, 0, 0, 1,",G=10,z=10;let M=U.y<X.y?PA(U.y,X.y):PA(X.y,U.y),B=U.x<X.x?PA(U.x,X.x):PA(X.x,U.x);if(Q9==="TB")if(U.x<X.x)F=`M ${U.x} ${U.y} L ${B-G} ${U.y} ${W} ${B} ${U.y+z} L ${B} ${X.y-G} ${q} ${B+z} ${X.y} L ${X.x} ${X.y}`;else H=z4.get(J.branch)?.index,F=`M ${U.x} ${U.y} L ${B+G} ${U.y} ${q} ${B} ${U.y+z} L ${B} ${X.y-G} ${W} ${B-z} ${X.y} L ${X.x} ${X.y}`;else if(Q9==="BT")if(U.x<X.x)F=`M ${U.x} ${U.y} L ${B-G} ${U.y} ${q} ${B} ${U.y-z} L ${B} ${X.y+G} ${W} ${B+z} ${X.y} L ${X.x} ${X.y}`;else H=z4.get(J.branch)?.index,F=`M ${U.x} ${U.y} L ${B+G} ${U.y} ${W} ${B} ${U.y-z} L ${B} ${X.y+G} ${q} ${B-z} ${X.y} L ${X.x} ${X.y}`;else if(U.y<X.y)F=`M ${U.x} ${U.y} L ${U.x} ${M-G} ${q} ${U.x+z} ${M} L ${X.x-G} ${M} ${W} ${X.x} ${M+z} L ${X.x} ${X.y}`;else H=z4.get(J.branch)?.index,F=`M ${U.x} ${U.y} L ${U.x} ${M+G} ${W} ${U.x+z} ${M} L ${X.x-G} ${M} ${q} ${X.x} ${M-z} L ${X.x} ${X.y}`}else if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,Q9==="TB"){if(U.x<X.x)if(Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${U.x} ${X.y-G} ${q} ${U.x+z} ${X.y} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${X.x-G} ${U.y} ${W} ${X.x} ${U.y+z} L ${X.x} ${X.y}`;if(U.x>X.x)if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${U.x} ${X.y-G} ${W} ${U.x-z} ${X.y} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${X.x+G} ${U.y} ${q} ${X.x} ${U.y+z} L ${X.x} ${X.y}`;if(U.x===X.x)F=`M ${U.x} ${U.y} L ${X.x} ${X.y}`}else if(Q9==="BT"){if(U.x<X.x)if(Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${U.x} ${X.y+G} ${W} ${U.x+z} ${X.y} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${X.x-G} ${U.y} ${q} ${X.x} ${U.y-z} L ${X.x} ${X.y}`;if(U.x>X.x)if(q="A 20 20, 0, 0, 0,",W="A 20 20, 0, 0, 1,",G=20,z=20,Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${U.x} ${X.y+G} ${q} ${U.x-z} ${X.y} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${X.x-G} ${U.y} ${q} ${X.x} ${U.y-z} L ${X.x} ${X.y}`;if(U.x===X.x)F=`M ${U.x} ${U.y} L ${X.x} ${X.y}`}else{if(U.y<X.y)if(Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${X.x-G} ${U.y} ${W} ${X.x} ${U.y+z} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${U.x} ${X.y-G} ${q} ${U.x+z} ${X.y} L ${X.x} ${X.y}`;if(U.y>X.y)if(Q.type===v9.MERGE&&J.id!==Q.parents[0])F=`M ${U.x} ${U.y} L ${X.x-G} ${U.y} ${q} ${X.x} ${U.y-z} L ${X.x} ${X.y}`;else F=`M ${U.x} ${U.y} L ${U.x} ${X.y+G} ${W} ${U.x+z} ${X.y} L ${X.x} ${X.y}`;if(U.y===X.y)F=`M ${U.x} ${U.y} L ${X.x} ${X.y}`}if(F===void 0)throw Error("Line definition not found");Z.append("path").attr("d",F).attr("class","arrow arrow"+H%gz)},"drawArrow"),ov8=I((Z,J)=>{let Q=Z.append("g").attr("class","commit-arrows");[...J.keys()].forEach((K)=>{let U=J.get(K);if(U.parents&&U.parents.length>0)U.parents.forEach((X)=>{av8(Q,J.get(X),U,J)})})},"drawArrows"),tv8=I((Z,J)=>{let Q=Z.append("g");J.forEach((K,U)=>{let X=U%gz,Y=z4.get(K.name)?.pos;if(Y===void 0)throw Error(`Position not found for branch ${K.name}`);let q=Q.append("line");if(q.attr("x1",0),q.attr("y1",Y),q.attr("x2",TW),q.attr("y2",Y),q.attr("class","branch branch"+X),Q9==="TB")q.attr("y1",j_),q.attr("x1",Y),q.attr("y2",TW),q.attr("x2",Y);else if(Q9==="BT")q.attr("y1",TW),q.attr("x1",Y),q.attr("y2",j_),q.attr("x2",Y);S_.push(Y);let W=K.name,G=_y0(W),z=Q.insert("rect"),F=Q.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+X);F.node().appendChild(G);let M=G.getBBox();if(z.attr("class","branchLabelBkg label"+X).attr("rx",4).attr("ry",4).attr("x",-M.width-4-(yK?.rotateCommitLabel===!0?30:0)).attr("y",-M.height/2+8).attr("width",M.width+18).attr("height",M.height+4),F.attr("transform","translate("+(-M.width-14-(yK?.rotateCommitLabel===!0?30:0))+", "+(Y-M.height/2-1)+")"),Q9==="TB")z.attr("x",Y-M.width/2-10).attr("y",0),F.attr("transform","translate("+(Y-M.width/2-5)+", 0)");else if(Q9==="BT")z.attr("x",Y-M.width/2-10).attr("y",TW),F.attr("transform","translate("+(Y-M.width/2-5)+", "+TW+")");else z.attr("transform","translate(-19, "+(Y-M.height/2)+")")})},"drawBranches"),ev8=I(function(Z,J,Q,K,U){return z4.set(Z,{pos:J,index:Q}),J+=50+(U?40:0)+(Q9==="TB"||Q9==="BT"?K.width/2:0),J},"setBranchPosition"),Zx8=I(function(Z,J,Q,K){if(bv8(),Z0.debug("in gitgraph renderer",Z+`
`,"id:",J,Q),!yK)throw Error("GitGraph config not found");let U=yK.rotateCommitLabel??!1,X=K.db;VA=X.getCommits();let Y=X.getBranchesAsObjArray();Q9=X.getDirection();let q=n0(`[id="${J}"]`),W=0;if(Y.forEach((G,z)=>{let H=_y0(G.name),F=q.append("g"),M=F.insert("g").attr("class","branchLabel"),B=M.insert("g").attr("class","label branch-label");B.node()?.appendChild(H);let O=H.getBBox();W=ev8(G.name,W,z,O,U),B.remove(),M.remove(),F.remove()}),Sy0(q,VA,!1),yK.showBranches)tv8(q,Y);ov8(q,VA),Sy0(q,VA,!0),ZZ.insertTitle(q,"gitTitleText",yK.titleTopMargin??0,X.getDiagramTitle()),Wh(void 0,q,yK.diagramPadding,yK.useMaxWidth)},"draw"),Jx8={draw:Zx8},Qx8=I((Z)=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map((J)=>`
        .branch-label${J} { fill: ${Z["gitBranchLabel"+J]}; }
        .commit${J} { stroke: ${Z["git"+J]}; fill: ${Z["git"+J]}; }
        .commit-highlight${J} { stroke: ${Z["gitInv"+J]}; fill: ${Z["gitInv"+J]}; }
        .label${J}  { fill: ${Z["git"+J]}; }
        .arrow${J} { stroke: ${Z["git"+J]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${Z.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelColor};}
  .commit-label-bkg { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${Z.tagLabelFontSize}; fill: ${Z.tagLabelColor};}
  .tag-label-bkg { fill: ${Z.tagLabelBackground}; stroke: ${Z.tagLabelBorder}; }
  .tag-hole { fill: ${Z.textColor}; }

  .commit-merge {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }
  .commit-reverse {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
`,"getStyles"),Kx8=Qx8,Ux8={parser:vv8,db:ky0,renderer:Jx8,styles:Kx8}});var by0=u9((Qt,Kt)=>{(function(Z,J){typeof Qt=="object"&&typeof Kt<"u"?Kt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_isoWeek=J()})(Qt,function(){var Z="day";return function(J,Q,K){var U=function(q){return q.add(4-q.isoWeekday(),Z)},X=Q.prototype;X.isoWeekYear=function(){return U(this).year()},X.isoWeek=function(q){if(!this.$utils().u(q))return this.add(7*(q-this.isoWeek()),Z);var W,G,z,H,F=U(this),M=(W=this.isoWeekYear(),G=this.$u,z=(G?K.utc:K)().year(W).startOf("year"),H=4-z.isoWeekday(),z.isoWeekday()>4&&(H+=7),z.add(H,Z));return F.diff(M,"week")+1},X.isoWeekday=function(q){return this.$utils().u(q)?this.day()||7:this.day(this.day()%7?q:q-7)};var Y=X.startOf;X.startOf=function(q,W){var G=this.$utils(),z=!!G.u(W)||W;return G.p(q)==="isoweek"?z?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):Y.bind(this)(q,W)}}})});var yy0=u9((Ut,Xt)=>{(function(Z,J){typeof Ut=="object"&&typeof Xt<"u"?Xt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_customParseFormat=J()})(Ut,function(){var Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},J=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Q=/\d/,K=/\d\d/,U=/\d\d?/,X=/\d*[^-_:/,()\s\d]+/,Y={},q=function(B){return(B=+B)+(B>68?1900:2000)},W=function(B){return function(O){this[B]=+O}},G=[/[+-]\d\d:?(\d\d)?|Z/,function(B){(this.zone||(this.zone={})).offset=function(O){if(!O)return 0;if(O==="Z")return 0;var R=O.match(/([+-]|\d\d)/g),L=60*R[1]+(+R[2]||0);return L===0?0:R[0]==="+"?-L:L}(B)}],z=function(B){var O=Y[B];return O&&(O.indexOf?O:O.s.concat(O.f))},H=function(B,O){var R,L=Y.meridiem;if(L){for(var D=1;D<=24;D+=1)if(B.indexOf(L(D,0,O))>-1){R=D>12;break}}else R=B===(O?"pm":"PM");return R},F={A:[X,function(B){this.afternoon=H(B,!1)}],a:[X,function(B){this.afternoon=H(B,!0)}],Q:[Q,function(B){this.month=3*(B-1)+1}],S:[Q,function(B){this.milliseconds=100*+B}],SS:[K,function(B){this.milliseconds=10*+B}],SSS:[/\d{3}/,function(B){this.milliseconds=+B}],s:[U,W("seconds")],ss:[U,W("seconds")],m:[U,W("minutes")],mm:[U,W("minutes")],H:[U,W("hours")],h:[U,W("hours")],HH:[U,W("hours")],hh:[U,W("hours")],D:[U,W("day")],DD:[K,W("day")],Do:[X,function(B){var O=Y.ordinal,R=B.match(/\d+/);if(this.day=R[0],O)for(var L=1;L<=31;L+=1)O(L).replace(/\[|\]/g,"")===B&&(this.day=L)}],w:[U,W("week")],ww:[K,W("week")],M:[U,W("month")],MM:[K,W("month")],MMM:[X,function(B){var O=z("months"),R=(z("monthsShort")||O.map(function(L){return L.slice(0,3)})).indexOf(B)+1;if(R<1)throw Error();this.month=R%12||R}],MMMM:[X,function(B){var O=z("months").indexOf(B)+1;if(O<1)throw Error();this.month=O%12||O}],Y:[/[+-]?\d+/,W("year")],YY:[K,function(B){this.year=q(B)}],YYYY:[/\d{4}/,W("year")],Z:G,ZZ:G};function M(B){var O,R;O=B,R=Y&&Y.formats;for(var L=(B=O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,$,k){var w=k&&k.toUpperCase();return $||R[k]||Z[k]||R[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,S,T){return S||T.slice(1)})})).match(J),D=L.length,A=0;A<D;A+=1){var V=L[A],N=F[V],E=N&&N[0],C=N&&N[1];L[A]=C?{regex:E,parser:C}:V.replace(/^\[|\]$/g,"")}return function(j){for(var $={},k=0,w=0;k<D;k+=1){var P=L[k];if(typeof P=="string")w+=P.length;else{var{regex:S,parser:T}=P,_=j.slice(w),v=S.exec(_)[0];T.call($,v),j=j.replace(v,"")}}return function(x){var b=x.afternoon;if(b!==void 0){var y=x.hours;b?y<12&&(x.hours+=12):y===12&&(x.hours=0),delete x.afternoon}}($),$}}return function(B,O,R){R.p.customParseFormat=!0,B&&B.parseTwoDigitYear&&(q=B.parseTwoDigitYear);var L=O.prototype,D=L.parse;L.parse=function(A){var{date:V,utc:N,args:E}=A;this.$u=N;var C=E[1];if(typeof C=="string"){var j=E[2]===!0,$=E[3]===!0,k=j||$,w=E[2];$&&(w=E[2]),Y=this.$locale(),!j&&w&&(Y=R.Ls[w]),this.$d=function(_,v,x,b){try{if(["x","X"].indexOf(v)>-1)return new Date((v==="X"?1000:1)*_);var y=M(v)(_),u=y.year,h=y.month,p=y.day,r=y.hours,t=y.minutes,d=y.seconds,X0=y.milliseconds,a=y.zone,z0=y.week,J0=new Date,Q0=p||(u||h?1:J0.getDate()),e=u||J0.getFullYear(),n=0;u&&!h||(n=h>0?h-1:J0.getMonth());var Y0,o=r||0,M0=t||0,K0=d||0,V0=X0||0;return a?new Date(Date.UTC(e,n,Q0,o,M0,K0,V0+60*a.offset*1000)):x?new Date(Date.UTC(e,n,Q0,o,M0,K0,V0)):(Y0=new Date(e,n,Q0,o,M0,K0,V0),z0&&(Y0=b(Y0).week(z0).toDate()),Y0)}catch(i){return new Date("")}}(V,C,N,R),this.init(),w&&w!==!0&&(this.$L=this.locale(w).$L),k&&V!=this.format(C)&&(this.$d=new Date("")),Y={}}else if(C instanceof Array)for(var P=C.length,S=1;S<=P;S+=1){E[1]=C[S-1];var T=R.apply(this,E);if(T.isValid()){this.$d=T.$d,this.$L=T.$L,this.init();break}S===P&&(this.$d=new Date(""))}else D.call(this,A)}}})});var hy0=u9((Yt,qt)=>{(function(Z,J){typeof Yt=="object"&&typeof qt<"u"?qt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_advancedFormat=J()})(Yt,function(){return function(Z,J){var Q=J.prototype,K=Q.format;Q.format=function(U){var X=this,Y=this.$locale();if(!this.isValid())return K.bind(this)(U);var q=this.$utils(),W=(U||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(G){switch(G){case"Q":return Math.ceil((X.$M+1)/3);case"Do":return Y.ordinal(X.$D);case"gggg":return X.weekYear();case"GGGG":return X.isoWeekYear();case"wo":return Y.ordinal(X.week(),"W");case"w":case"ww":return q.s(X.week(),G==="w"?1:2,"0");case"W":case"WW":return q.s(X.isoWeek(),G==="W"?1:2,"0");case"k":case"kk":return q.s(String(X.$H===0?24:X.$H),G==="k"?1:2,"0");case"X":return Math.floor(X.$d.getTime()/1000);case"x":return X.$d.getTime();case"z":return"["+X.offsetName()+"]";case"zzz":return"["+X.offsetName("long")+"]";default:return G}});return K.bind(this)(W)}}})});var my0=u9((Wt,Gt)=>{(function(Z,J){typeof Wt=="object"&&typeof Gt<"u"?Gt.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis<"u"?globalThis:Z||self).dayjs_plugin_duration=J()})(Wt,function(){var Z,J,Q=1000,K=60000,U=3600000,X=86400000,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q=31536000000,W=2628000000,G=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,z={years:q,months:W,days:X,hours:U,minutes:K,seconds:Q,milliseconds:1,weeks:604800000},H=function(V){return V instanceof D},F=function(V,N,E){return new D(V,E,N.$l)},M=function(V){return J.p(V)+"s"},B=function(V){return V<0},O=function(V){return B(V)?Math.ceil(V):Math.floor(V)},R=function(V){return Math.abs(V)},L=function(V,N){return V?B(V)?{negative:!0,format:""+R(V)+N}:{negative:!1,format:""+V+N}:{negative:!1,format:""}},D=function(){function V(E,C,j){var $=this;if(this.$d={},this.$l=j,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),C)return F(E*z[M(C)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(P){$.$d[M(P)]=E[P]}),this.calMilliseconds(),this;if(typeof E=="string"){var k=E.match(G);if(k){var w=k.slice(2).map(function(P){return P!=null?Number(P):0});return this.$d.years=w[0],this.$d.months=w[1],this.$d.weeks=w[2],this.$d.days=w[3],this.$d.hours=w[4],this.$d.minutes=w[5],this.$d.seconds=w[6],this.calMilliseconds(),this}}return this}var N=V.prototype;return N.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(C,j){return C+(E.$d[j]||0)*z[j]},0)},N.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=O(E/q),E%=q,this.$d.months=O(E/W),E%=W,this.$d.days=O(E/X),E%=X,this.$d.hours=O(E/U),E%=U,this.$d.minutes=O(E/K),E%=K,this.$d.seconds=O(E/Q),E%=Q,this.$d.milliseconds=E},N.toISOString=function(){var E=L(this.$d.years,"Y"),C=L(this.$d.months,"M"),j=+this.$d.days||0;this.$d.weeks&&(j+=7*this.$d.weeks);var $=L(j,"D"),k=L(this.$d.hours,"H"),w=L(this.$d.minutes,"M"),P=this.$d.seconds||0;this.$d.milliseconds&&(P+=this.$d.milliseconds/1000,P=Math.round(1000*P)/1000);var S=L(P,"S"),T=E.negative||C.negative||$.negative||k.negative||w.negative||S.negative,_=k.format||w.format||S.format?"T":"",v=(T?"-":"")+"P"+E.format+C.format+$.format+_+k.format+w.format+S.format;return v==="P"||v==="-P"?"P0D":v},N.toJSON=function(){return this.toISOString()},N.format=function(E){var C=E||"YYYY-MM-DDTHH:mm:ss",j={Y:this.$d.years,YY:J.s(this.$d.years,2,"0"),YYYY:J.s(this.$d.years,4,"0"),M:this.$d.months,MM:J.s(this.$d.months,2,"0"),D:this.$d.days,DD:J.s(this.$d.days,2,"0"),H:this.$d.hours,HH:J.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:J.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:J.s(this.$d.seconds,2,"0"),SSS:J.s(this.$d.milliseconds,3,"0")};return C.replace(Y,function($,k){return k||String(j[$])})},N.as=function(E){return this.$ms/z[M(E)]},N.get=function(E){var C=this.$ms,j=M(E);return j==="milliseconds"?C%=1000:C=j==="weeks"?O(C/z[j]):this.$d[j],C||0},N.add=function(E,C,j){var $;return $=C?E*z[M(C)]:H(E)?E.$ms:F(E,this).$ms,F(this.$ms+$*(j?-1:1),this)},N.subtract=function(E,C){return this.add(E,C,!0)},N.locale=function(E){var C=this.clone();return C.$l=E,C},N.clone=function(){return F(this.$ms,this)},N.humanize=function(E){return Z().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},N.valueOf=function(){return this.asMilliseconds()},N.milliseconds=function(){return this.get("milliseconds")},N.asMilliseconds=function(){return this.as("milliseconds")},N.seconds=function(){return this.get("seconds")},N.asSeconds=function(){return this.as("seconds")},N.minutes=function(){return this.get("minutes")},N.asMinutes=function(){return this.as("minutes")},N.hours=function(){return this.get("hours")},N.asHours=function(){return this.as("hours")},N.days=function(){return this.get("days")},N.asDays=function(){return this.as("days")},N.weeks=function(){return this.get("weeks")},N.asWeeks=function(){return this.as("weeks")},N.months=function(){return this.get("months")},N.asMonths=function(){return this.as("months")},N.years=function(){return this.get("years")},N.asYears=function(){return this.as("years")},V}(),A=function(V,N,E){return V.add(N.years()*E,"y").add(N.months()*E,"M").add(N.days()*E,"d").add(N.hours()*E,"h").add(N.minutes()*E,"m").add(N.seconds()*E,"s").add(N.milliseconds()*E,"ms")};return function(V,N,E){Z=E,J=E().$utils(),E.duration=function($,k){var w=E.locale();return F($,{$l:w},k)},E.isDuration=H;var C=N.prototype.add,j=N.prototype.subtract;N.prototype.add=function($,k){return H($)?A(this,$,1):C.bind(this)($,k)},N.prototype.subtract=function($,k){return H($)?A(this,$,-1):j.bind(this)($,k)}}})});var Qh0={};LZ(Qh0,{diagram:()=>rx8});function Pt(Z,J,Q){let K=!0;while(K)K=!1,Q.forEach(function(U){let X="^\\s*"+U+"\\s*$",Y=new RegExp(X);if(Z[0].match(Y))J[U]=!0,Z.shift(1),K=!0})}var cy0,p4,ly0,dy0,iy0,ZO,Jh0,Ht,Xx8,uy0,EX="",Ot="",Rt=void 0,Lt="",CA,jA,Dt,It,k_,QO="",At="",sy0,Nt,SA=!1,Et=!1,Vt="sunday",__="saturday",Ft=0,Yx8,qx8,Wx8,Gx8,zx8,Hx8,Fx8,Mx8,Bx8,Ox8,Rx8,Lx8,Dx8,Ix8,Ax8,Nx8,Ex8,Vx8,Px8,Cx8,jx8,Sx8,Tx8,ry0,wx8,$x8,kx8,ny0,_x8,Mt,ay0,oy0,w_=0,JO,fx8,vx8,Bt,$_,P7,ty0,xx8,cz,bx8,gy0,yx8,ey0,hx8,Zh0,mx8,ux8,gx8,px8,py0,cx8,uY,zt=1e4,lx8,dx8,ix8,sx8,rx8;var Kh0=f(()=>{w9();yZ();AZ();TZ();cy0=c7(N2(),1),p4=c7(xE(),1),ly0=c7(by0(),1),dy0=c7(yy0(),1),iy0=c7(hy0(),1),ZO=c7(xE(),1),Jh0=c7(my0(),1),Ht=function(){var Z=I(function(S,T,_,v){for(_=_||{},v=S.length;v--;_[S[v]]=T);return _},"o"),J=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],Q=[1,26],K=[1,27],U=[1,28],X=[1,29],Y=[1,30],q=[1,31],W=[1,32],G=[1,33],z=[1,34],H=[1,9],F=[1,10],M=[1,11],B=[1,12],O=[1,13],R=[1,14],L=[1,15],D=[1,16],A=[1,19],V=[1,20],N=[1,21],E=[1,22],C=[1,23],j=[1,25],$=[1,35],k={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:I(function(T,_,v,x,b,y,u){var h=y.length-1;switch(b){case 1:return y[h-1];case 2:this.$=[];break;case 3:y[h-1].push(y[h]),this.$=y[h-1];break;case 4:case 5:this.$=y[h];break;case 6:case 7:this.$=[];break;case 8:x.setWeekday("monday");break;case 9:x.setWeekday("tuesday");break;case 10:x.setWeekday("wednesday");break;case 11:x.setWeekday("thursday");break;case 12:x.setWeekday("friday");break;case 13:x.setWeekday("saturday");break;case 14:x.setWeekday("sunday");break;case 15:x.setWeekend("friday");break;case 16:x.setWeekend("saturday");break;case 17:x.setDateFormat(y[h].substr(11)),this.$=y[h].substr(11);break;case 18:x.enableInclusiveEndDates(),this.$=y[h].substr(18);break;case 19:x.TopAxis(),this.$=y[h].substr(8);break;case 20:x.setAxisFormat(y[h].substr(11)),this.$=y[h].substr(11);break;case 21:x.setTickInterval(y[h].substr(13)),this.$=y[h].substr(13);break;case 22:x.setExcludes(y[h].substr(9)),this.$=y[h].substr(9);break;case 23:x.setIncludes(y[h].substr(9)),this.$=y[h].substr(9);break;case 24:x.setTodayMarker(y[h].substr(12)),this.$=y[h].substr(12);break;case 27:x.setDiagramTitle(y[h].substr(6)),this.$=y[h].substr(6);break;case 28:this.$=y[h].trim(),x.setAccTitle(this.$);break;case 29:case 30:this.$=y[h].trim(),x.setAccDescription(this.$);break;case 31:x.addSection(y[h].substr(8)),this.$=y[h].substr(8);break;case 33:x.addTask(y[h-1],y[h]),this.$="task";break;case 34:this.$=y[h-1],x.setClickEvent(y[h-1],y[h],null);break;case 35:this.$=y[h-2],x.setClickEvent(y[h-2],y[h-1],y[h]);break;case 36:this.$=y[h-2],x.setClickEvent(y[h-2],y[h-1],null),x.setLink(y[h-2],y[h]);break;case 37:this.$=y[h-3],x.setClickEvent(y[h-3],y[h-2],y[h-1]),x.setLink(y[h-3],y[h]);break;case 38:this.$=y[h-2],x.setClickEvent(y[h-2],y[h],null),x.setLink(y[h-2],y[h-1]);break;case 39:this.$=y[h-3],x.setClickEvent(y[h-3],y[h-1],y[h]),x.setLink(y[h-3],y[h-2]);break;case 40:this.$=y[h-1],x.setLink(y[h-1],y[h]);break;case 41:case 47:this.$=y[h-1]+" "+y[h];break;case 42:case 43:case 45:this.$=y[h-2]+" "+y[h-1]+" "+y[h];break;case 44:case 46:this.$=y[h-3]+" "+y[h-2]+" "+y[h-1]+" "+y[h];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:Q,13:K,14:U,15:X,16:Y,17:q,18:W,19:18,20:G,21:z,22:H,23:F,24:M,25:B,26:O,27:R,28:L,29:D,30:A,31:V,33:N,35:E,36:C,37:24,38:j,40:$},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:36,11:17,12:Q,13:K,14:U,15:X,16:Y,17:q,18:W,19:18,20:G,21:z,22:H,23:F,24:M,25:B,26:O,27:R,28:L,29:D,30:A,31:V,33:N,35:E,36:C,37:24,38:j,40:$},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,17]),Z(J,[2,18]),Z(J,[2,19]),Z(J,[2,20]),Z(J,[2,21]),Z(J,[2,22]),Z(J,[2,23]),Z(J,[2,24]),Z(J,[2,25]),Z(J,[2,26]),Z(J,[2,27]),{32:[1,37]},{34:[1,38]},Z(J,[2,30]),Z(J,[2,31]),Z(J,[2,32]),{39:[1,39]},Z(J,[2,8]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),{41:[1,40],43:[1,41]},Z(J,[2,4]),Z(J,[2,28]),Z(J,[2,29]),Z(J,[2,33]),Z(J,[2,34],{42:[1,42],43:[1,43]}),Z(J,[2,40],{41:[1,44]}),Z(J,[2,35],{43:[1,45]}),Z(J,[2,36]),Z(J,[2,38],{42:[1,46]}),Z(J,[2,37]),Z(J,[2,39])],defaultActions:{},parseError:I(function(T,_){if(_.recoverable)this.trace(T);else{var v=Error(T);throw v.hash=_,v}},"parseError"),parse:I(function(T){var _=this,v=[0],x=[],b=[null],y=[],u=this.table,h="",p=0,r=0,t=0,d=2,X0=1,a=y.slice.call(arguments,1),z0=Object.create(this.lexer),J0={yy:{}};for(var Q0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,Q0))J0.yy[Q0]=this.yy[Q0];if(z0.setInput(T,J0.yy),J0.yy.lexer=z0,J0.yy.parser=this,typeof z0.yylloc>"u")z0.yylloc={};var e=z0.yylloc;y.push(e);var n=z0.options&&z0.options.ranges;if(typeof J0.yy.parseError==="function")this.parseError=J0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function Y0(C0){v.length=v.length-2*C0,b.length=b.length-C0,y.length=y.length-C0}I(Y0,"popStack");function o(){var C0=x.pop()||z0.lex()||X0;if(typeof C0!=="number"){if(C0 instanceof Array)x=C0,C0=x.pop();C0=_.symbols_[C0]||C0}return C0}I(o,"lex");var M0,K0,V0,i,p0,B0,h0={},a0,s0,$0,x0;while(!0){if(V0=v[v.length-1],this.defaultActions[V0])i=this.defaultActions[V0];else{if(M0===null||typeof M0>"u")M0=o();i=u[V0]&&u[V0][M0]}if(typeof i>"u"||!i.length||!i[0]){var f0="";x0=[];for(a0 in u[V0])if(this.terminals_[a0]&&a0>d)x0.push("'"+this.terminals_[a0]+"'");if(z0.showPosition)f0="Parse error on line "+(p+1)+`:
`+z0.showPosition()+`
Expecting `+x0.join(", ")+", got '"+(this.terminals_[M0]||M0)+"'";else f0="Parse error on line "+(p+1)+": Unexpected "+(M0==X0?"end of input":"'"+(this.terminals_[M0]||M0)+"'");this.parseError(f0,{text:z0.match,token:this.terminals_[M0]||M0,line:z0.yylineno,loc:e,expected:x0})}if(i[0]instanceof Array&&i.length>1)throw Error("Parse Error: multiple actions possible at state: "+V0+", token: "+M0);switch(i[0]){case 1:if(v.push(M0),b.push(z0.yytext),y.push(z0.yylloc),v.push(i[1]),M0=null,!K0){if(r=z0.yyleng,h=z0.yytext,p=z0.yylineno,e=z0.yylloc,t>0)t--}else M0=K0,K0=null;break;case 2:if(s0=this.productions_[i[1]][1],h0.$=b[b.length-s0],h0._$={first_line:y[y.length-(s0||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(s0||1)].first_column,last_column:y[y.length-1].last_column},n)h0._$.range=[y[y.length-(s0||1)].range[0],y[y.length-1].range[1]];if(B0=this.performAction.apply(h0,[h,r,p,J0.yy,i[1],b,y].concat(a)),typeof B0<"u")return B0;if(s0)v=v.slice(0,-1*s0*2),b=b.slice(0,-1*s0),y=y.slice(0,-1*s0);v.push(this.productions_[i[1]][0]),b.push(h0.$),y.push(h0._$),$0=u[v[v.length-2]][v[v.length-1]],v.push($0);break;case 3:return!0}}return!0},"parse")},w=function(){var S={EOF:1,parseError:I(function(_,v){if(this.yy.parser)this.yy.parser.parseError(_,v);else throw Error(_)},"parseError"),setInput:I(function(T,_){if(this.yy=_||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var _=T.match(/(?:\r\n?|\n).*/g);if(_)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),T},"input"),unput:I(function(T){var _=T.length,v=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var x=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1)this.yylineno-=v.length-1;var b=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===x.length?this.yylloc.first_column:0)+x[x.length-v.length].length-v[0].length:this.yylloc.first_column-_},this.options.ranges)this.yylloc.range=[b[0],b[0]+this.yyleng-_];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(T){this.unput(this.match.slice(T))},"less"),pastInput:I(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var T=this.match;if(T.length<20)T+=this._input.substr(0,20-T.length);return(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var T=this.pastInput(),_=Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:I(function(T,_){var v,x,b;if(this.options.backtrack_lexer){if(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)b.yylloc.range=this.yylloc.range.slice(0)}if(x=T[0].match(/(?:\r\n?|\n).*/g),x)this.yylineno+=x.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],v=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(v)return v;else if(this._backtrack){for(var y in b)this[y]=b[y];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var T,_,v,x;if(!this._more)this.yytext="",this.match="";var b=this._currentRules();for(var y=0;y<b.length;y++)if(v=this._input.match(this.rules[b[y]]),v&&(!_||v[0].length>_[0].length)){if(_=v,x=y,this.options.backtrack_lexer)if(T=this.test_match(v,b[y]),T!==!1)return T;else if(this._backtrack){_=!1;continue}else return!1;else if(!this.options.flex)break}if(_){if(T=this.test_match(_,b[x]),T!==!1)return T;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var _=this.next();if(_)return _;else return this.lex()},"lex"),begin:I(function(_){this.conditionStack.push(_)},"begin"),popState:I(function(){var _=this.conditionStack.length-1;if(_>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(_){if(_=this.conditionStack.length-1-Math.abs(_||0),_>=0)return this.conditionStack[_];else return"INITIAL"},"topState"),pushState:I(function(_){this.begin(_)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(_,v,x,b){var y=b;switch(x){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return S}();k.lexer=w;function P(){this.yy={}}return I(P,"Parser"),P.prototype=k,k.Parser=P,new P}();Ht.parser=Ht;Xx8=Ht;p4.default.extend(ly0.default);p4.default.extend(dy0.default);p4.default.extend(iy0.default);uy0={friday:5,saturday:6},CA=[],jA=[],Dt=new Map,It=[],k_=[],sy0=["active","done","crit","milestone","vert"],Nt=[],Yx8=I(function(){It=[],k_=[],QO="",Nt=[],w_=0,Bt=void 0,$_=void 0,P7=[],EX="",Ot="",At="",Rt=void 0,Lt="",CA=[],jA=[],SA=!1,Et=!1,Ft=0,Dt=new Map,bZ(),Vt="sunday",__="saturday"},"clear"),qx8=I(function(Z){Ot=Z},"setAxisFormat"),Wx8=I(function(){return Ot},"getAxisFormat"),Gx8=I(function(Z){Rt=Z},"setTickInterval"),zx8=I(function(){return Rt},"getTickInterval"),Hx8=I(function(Z){Lt=Z},"setTodayMarker"),Fx8=I(function(){return Lt},"getTodayMarker"),Mx8=I(function(Z){EX=Z},"setDateFormat"),Bx8=I(function(){SA=!0},"enableInclusiveEndDates"),Ox8=I(function(){return SA},"endDatesAreInclusive"),Rx8=I(function(){Et=!0},"enableTopAxis"),Lx8=I(function(){return Et},"topAxisEnabled"),Dx8=I(function(Z){At=Z},"setDisplayMode"),Ix8=I(function(){return At},"getDisplayMode"),Ax8=I(function(){return EX},"getDateFormat"),Nx8=I(function(Z){CA=Z.toLowerCase().split(/[\s,]+/)},"setIncludes"),Ex8=I(function(){return CA},"getIncludes"),Vx8=I(function(Z){jA=Z.toLowerCase().split(/[\s,]+/)},"setExcludes"),Px8=I(function(){return jA},"getExcludes"),Cx8=I(function(){return Dt},"getLinks"),jx8=I(function(Z){QO=Z,It.push(Z)},"addSection"),Sx8=I(function(){return It},"getSections"),Tx8=I(function(){let Z=gy0(),J=10,Q=0;while(!Z&&Q<J)Z=gy0(),Q++;return k_=P7,k_},"getTasks"),ry0=I(function(Z,J,Q,K){let U=Z.format(J.trim()),X=Z.format("YYYY-MM-DD");if(K.includes(U)||K.includes(X))return!1;if(Q.includes("weekends")&&(Z.isoWeekday()===uy0[__]||Z.isoWeekday()===uy0[__]+1))return!0;if(Q.includes(Z.format("dddd").toLowerCase()))return!0;return Q.includes(U)||Q.includes(X)},"isInvalidDate"),wx8=I(function(Z){Vt=Z},"setWeekday"),$x8=I(function(){return Vt},"getWeekday"),kx8=I(function(Z){__=Z},"setWeekend"),ny0=I(function(Z,J,Q,K){if(!Q.length||Z.manualEndTime)return;let U;if(Z.startTime instanceof Date)U=p4.default(Z.startTime);else U=p4.default(Z.startTime,J,!0);U=U.add(1,"d");let X;if(Z.endTime instanceof Date)X=p4.default(Z.endTime);else X=p4.default(Z.endTime,J,!0);let[Y,q]=_x8(U,X,J,Q,K);Z.endTime=Y.toDate(),Z.renderEndTime=q},"checkTaskDates"),_x8=I(function(Z,J,Q,K,U){let X=!1,Y=null;while(Z<=J){if(!X)Y=J.toDate();if(X=ry0(Z,Q,K,U),X)J=J.add(1,"d");Z=Z.add(1,"d")}return[J,Y]},"fixTaskDates"),Mt=I(function(Z,J,Q){if(Q=Q.trim(),I((q)=>{let W=q.trim();return W==="x"||W==="X"},"isTimestampFormat")(J)&&/^\d+$/.test(Q))return new Date(Number(Q));let X=/^after\s+(?<ids>[\d\w- ]+)/.exec(Q);if(X!==null){let q=null;for(let G of X.groups.ids.split(" ")){let z=cz(G);if(z!==void 0&&(!q||z.endTime>q.endTime))q=z}if(q)return q.endTime;let W=new Date;return W.setHours(0,0,0,0),W}let Y=p4.default(Q,J.trim(),!0);if(Y.isValid())return Y.toDate();else{Z0.debug("Invalid date:"+Q),Z0.debug("With date format:"+J.trim());let q=new Date(Q);if(q===void 0||isNaN(q.getTime())||q.getFullYear()<-1e4||q.getFullYear()>1e4)throw Error("Invalid date:"+Q);return q}},"getStartDate"),ay0=I(function(Z){let J=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(Z.trim());if(J!==null)return[Number.parseFloat(J[1]),J[2]];return[NaN,"ms"]},"parseDuration"),oy0=I(function(Z,J,Q,K=!1){Q=Q.trim();let X=/^until\s+(?<ids>[\d\w- ]+)/.exec(Q);if(X!==null){let z=null;for(let F of X.groups.ids.split(" ")){let M=cz(F);if(M!==void 0&&(!z||M.startTime<z.startTime))z=M}if(z)return z.startTime;let H=new Date;return H.setHours(0,0,0,0),H}let Y=p4.default(Q,J.trim(),!0);if(Y.isValid()){if(K)Y=Y.add(1,"d");return Y.toDate()}let q=p4.default(Z),[W,G]=ay0(Q);if(!Number.isNaN(W)){let z=q.add(W,G);if(z.isValid())q=z}return q.toDate()},"getEndDate"),JO=I(function(Z){if(Z===void 0)return w_=w_+1,"task"+w_;return Z},"parseId"),fx8=I(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;let K=Q.split(","),U={};Pt(K,U,sy0);for(let Y=0;Y<K.length;Y++)K[Y]=K[Y].trim();let X="";switch(K.length){case 1:U.id=JO(),U.startTime=Z.endTime,X=K[0];break;case 2:U.id=JO(),U.startTime=Mt(void 0,EX,K[0]),X=K[1];break;case 3:U.id=JO(K[0]),U.startTime=Mt(void 0,EX,K[1]),X=K[2];break;default:}if(X)U.endTime=oy0(U.startTime,EX,X,SA),U.manualEndTime=p4.default(X,"YYYY-MM-DD",!0).isValid(),ny0(U,EX,jA,CA);return U},"compileData"),vx8=I(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;let K=Q.split(","),U={};Pt(K,U,sy0);for(let X=0;X<K.length;X++)K[X]=K[X].trim();switch(K.length){case 1:U.id=JO(),U.startTime={type:"prevTaskEnd",id:Z},U.endTime={data:K[0]};break;case 2:U.id=JO(),U.startTime={type:"getStartDate",startData:K[0]},U.endTime={data:K[1]};break;case 3:U.id=JO(K[0]),U.startTime={type:"getStartDate",startData:K[1]},U.endTime={data:K[2]};break;default:}return U},"parseData"),P7=[],ty0={},xx8=I(function(Z,J){let Q={section:QO,type:QO,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:J},task:Z,classes:[]},K=vx8($_,J);Q.raw.startTime=K.startTime,Q.raw.endTime=K.endTime,Q.id=K.id,Q.prevTaskId=$_,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,Q.vert=K.vert,Q.order=Ft,Ft++;let U=P7.push(Q);$_=Q.id,ty0[Q.id]=U-1},"addTask"),cz=I(function(Z){let J=ty0[Z];return P7[J]},"findTaskById"),bx8=I(function(Z,J){let Q={section:QO,type:QO,description:Z,task:Z,classes:[]},K=fx8(Bt,J);Q.startTime=K.startTime,Q.endTime=K.endTime,Q.id=K.id,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,Q.vert=K.vert,Bt=Q,k_.push(Q)},"addTaskOrg"),gy0=I(function(){let Z=I(function(Q){let K=P7[Q],U="";switch(P7[Q].raw.startTime.type){case"prevTaskEnd":{let X=cz(K.prevTaskId);K.startTime=X.endTime;break}case"getStartDate":if(U=Mt(void 0,EX,P7[Q].raw.startTime.startData),U)P7[Q].startTime=U;break}if(P7[Q].startTime){if(P7[Q].endTime=oy0(P7[Q].startTime,EX,P7[Q].raw.endTime.data,SA),P7[Q].endTime)P7[Q].processed=!0,P7[Q].manualEndTime=p4.default(P7[Q].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),ny0(P7[Q],EX,jA,CA)}return P7[Q].processed},"compileTask"),J=!0;for(let[Q,K]of P7.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),yx8=I(function(Z,J){let Q=J;if(E0().securityLevel!=="loose")Q=cy0.sanitizeUrl(J);Z.split(",").forEach(function(K){if(cz(K)!==void 0)Zh0(K,()=>{window.open(Q,"_self")}),Dt.set(K,Q)}),ey0(Z,"clickable")},"setLink"),ey0=I(function(Z,J){Z.split(",").forEach(function(Q){let K=cz(Q);if(K!==void 0)K.classes.push(J)})},"setClass"),hx8=I(function(Z,J,Q){if(E0().securityLevel!=="loose")return;if(J===void 0)return;let K=[];if(typeof Q==="string"){K=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let X=0;X<K.length;X++){let Y=K[X].trim();if(Y.startsWith('"')&&Y.endsWith('"'))Y=Y.substr(1,Y.length-2);K[X]=Y}}if(K.length===0)K.push(Z);if(cz(Z)!==void 0)Zh0(Z,()=>{ZZ.runFunc(J,...K)})},"setClickFun"),Zh0=I(function(Z,J){Nt.push(function(){let Q=document.querySelector(`[id="${Z}"]`);if(Q!==null)Q.addEventListener("click",function(){J()})},function(){let Q=document.querySelector(`[id="${Z}-text"]`);if(Q!==null)Q.addEventListener("click",function(){J()})})},"pushFun"),mx8=I(function(Z,J,Q){Z.split(",").forEach(function(K){hx8(K,J,Q)}),ey0(Z,"clickable")},"setClickEvent"),ux8=I(function(Z){Nt.forEach(function(J){J(Z)})},"bindFunctions"),gx8={getConfig:I(()=>E0().gantt,"getConfig"),clear:Yx8,setDateFormat:Mx8,getDateFormat:Ax8,enableInclusiveEndDates:Bx8,endDatesAreInclusive:Ox8,enableTopAxis:Rx8,topAxisEnabled:Lx8,setAxisFormat:qx8,getAxisFormat:Wx8,setTickInterval:Gx8,getTickInterval:zx8,setTodayMarker:Hx8,getTodayMarker:Fx8,setAccTitle:cZ,getAccTitle:sZ,setDiagramTitle:Z9,getDiagramTitle:aZ,setDisplayMode:Dx8,getDisplayMode:Ix8,setAccDescription:rZ,getAccDescription:nZ,addSection:jx8,getSections:Sx8,getTasks:Tx8,addTask:xx8,findTaskById:cz,addTaskOrg:bx8,setIncludes:Nx8,getIncludes:Ex8,setExcludes:Vx8,getExcludes:Px8,setClickEvent:mx8,setLink:yx8,getLinks:Cx8,bindFunctions:ux8,parseDuration:ay0,isInvalidDate:ry0,setWeekday:wx8,getWeekday:$x8,setWeekend:kx8};I(Pt,"getTaskTags");ZO.default.extend(Jh0.default);px8=I(function(){Z0.debug("Something is calling, setConf, remove the call")},"setConf"),py0={monday:C1,tuesday:AP,wednesday:NP,thursday:DU,friday:EP,saturday:VP,sunday:W5},cx8=I((Z,J)=>{let Q=[...Z].map(()=>-1/0),K=[...Z].sort((X,Y)=>X.startTime-Y.startTime||X.order-Y.order),U=0;for(let X of K)for(let Y=0;Y<Q.length;Y++)if(X.startTime>=Q[Y]){if(Q[Y]=X.endTime,X.order=Y+J,Y>U)U=Y;break}return U},"getMaxIntersections"),lx8=I(function(Z,J,Q,K){let U=E0().gantt,X=E0().securityLevel,Y;if(X==="sandbox")Y=n0("#i"+J);let q=X==="sandbox"?n0(Y.nodes()[0].contentDocument.body):n0("body"),W=X==="sandbox"?Y.nodes()[0].contentDocument:document,G=W.getElementById(J);if(uY=G.parentElement.offsetWidth,uY===void 0)uY=1200;if(U.useWidth!==void 0)uY=U.useWidth;let z=K.db.getTasks(),H=[];for(let $ of z)H.push($.type);H=j(H);let F={},M=2*U.topPadding;if(K.db.getDisplayMode()==="compact"||U.displayMode==="compact"){let $={};for(let w of z)if($[w.section]===void 0)$[w.section]=[w];else $[w.section].push(w);let k=0;for(let w of Object.keys($)){let P=cx8($[w],k)+1;k+=P,M+=P*(U.barHeight+U.barGap),F[w]=P}}else{M+=z.length*(U.barHeight+U.barGap);for(let $ of H)F[$]=z.filter((k)=>k.type===$).length}G.setAttribute("viewBox","0 0 "+uY+" "+M);let B=q.select(`[id="${J}"]`),O=jP().domain([kV(z,function($){return $.startTime}),$V(z,function($){return $.endTime})]).rangeRound([0,uY-U.leftPadding-U.rightPadding]);function R($,k){let w=$.startTime,P=k.startTime,S=0;if(w>P)S=1;else if(w<P)S=-1;return S}I(R,"taskCompare"),z.sort(R),L(z,uY,M),T9(B,M,uY,U.useMaxWidth),B.append("text").text(K.db.getDiagramTitle()).attr("x",uY/2).attr("y",U.titleTopMargin).attr("class","titleText");function L($,k,w){let P=U.barHeight,S=P+U.barGap,T=U.topPadding,_=U.leftPadding,v=q5().domain([0,H.length]).range(["#00B9FA","#F95002"]).interpolate($m);A(S,T,_,k,w,$,K.db.getExcludes(),K.db.getIncludes()),N(_,T,k,w),D($,S,T,_,P,v,k,w),E(S,T,_,P,v),C(_,T,k,w)}I(L,"makeGantt");function D($,k,w,P,S,T,_){$.sort((h,p)=>h.vert===p.vert?0:h.vert?1:-1);let x=[...new Set($.map((h)=>h.order))].map((h)=>$.find((p)=>p.order===h));B.append("g").selectAll("rect").data(x).enter().append("rect").attr("x",0).attr("y",function(h,p){return p=h.order,p*k+w-2}).attr("width",function(){return _-U.rightPadding/2}).attr("height",k).attr("class",function(h){for(let[p,r]of H.entries())if(h.type===r)return"section section"+p%U.numberSectionStyles;return"section section0"}).enter();let b=B.append("g").selectAll("rect").data($).enter(),y=K.db.getLinks();if(b.append("rect").attr("id",function(h){return h.id}).attr("rx",3).attr("ry",3).attr("x",function(h){if(h.milestone)return O(h.startTime)+P+0.5*(O(h.endTime)-O(h.startTime))-0.5*S;return O(h.startTime)+P}).attr("y",function(h,p){if(p=h.order,h.vert)return U.gridLineStartPadding;return p*k+w}).attr("width",function(h){if(h.milestone)return S;if(h.vert)return 0.08*S;return O(h.renderEndTime||h.endTime)-O(h.startTime)}).attr("height",function(h){if(h.vert)return z.length*(U.barHeight+U.barGap)+U.barHeight*2;return S}).attr("transform-origin",function(h,p){return p=h.order,(O(h.startTime)+P+0.5*(O(h.endTime)-O(h.startTime))).toString()+"px "+(p*k+w+0.5*S).toString()+"px"}).attr("class",function(h){let r="";if(h.classes.length>0)r=h.classes.join(" ");let t=0;for(let[X0,a]of H.entries())if(h.type===a)t=X0%U.numberSectionStyles;let d="";if(h.active)if(h.crit)d+=" activeCrit";else d=" active";else if(h.done)if(h.crit)d=" doneCrit";else d=" done";else if(h.crit)d+=" crit";if(d.length===0)d=" task";if(h.milestone)d=" milestone "+d;if(h.vert)d=" vert "+d;return d+=t,d+=" "+r,"task"+d}),b.append("text").attr("id",function(h){return h.id+"-text"}).text(function(h){return h.task}).attr("font-size",U.fontSize).attr("x",function(h){let p=O(h.startTime),r=O(h.renderEndTime||h.endTime);if(h.milestone)p+=0.5*(O(h.endTime)-O(h.startTime))-0.5*S,r=p+S;if(h.vert)return O(h.startTime)+P;let t=this.getBBox().width;if(t>r-p)if(r+t+1.5*U.leftPadding>_)return p+P-5;else return r+P+5;else return(r-p)/2+p+P}).attr("y",function(h,p){if(h.vert)return U.gridLineStartPadding+z.length*(U.barHeight+U.barGap)+60;return p=h.order,p*k+U.barHeight/2+(U.fontSize/2-2)+w}).attr("text-height",S).attr("class",function(h){let p=O(h.startTime),r=O(h.endTime);if(h.milestone)r=p+S;let t=this.getBBox().width,d="";if(h.classes.length>0)d=h.classes.join(" ");let X0=0;for(let[z0,J0]of H.entries())if(h.type===J0)X0=z0%U.numberSectionStyles;let a="";if(h.active)if(h.crit)a="activeCritText"+X0;else a="activeText"+X0;if(h.done)if(h.crit)a=a+" doneCritText"+X0;else a=a+" doneText"+X0;else if(h.crit)a=a+" critText"+X0;if(h.milestone)a+=" milestoneText";if(h.vert)a+=" vertText";if(t>r-p)if(r+t+1.5*U.leftPadding>_)return d+" taskTextOutsideLeft taskTextOutside"+X0+" "+a;else return d+" taskTextOutsideRight taskTextOutside"+X0+" "+a+" width-"+t;else return d+" taskText taskText"+X0+" "+a+" width-"+t}),E0().securityLevel==="sandbox"){let h;h=n0("#i"+J);let p=h.nodes()[0].contentDocument;b.filter(function(r){return y.has(r.id)}).each(function(r){var t=p.querySelector("#"+r.id),d=p.querySelector("#"+r.id+"-text");let X0=t.parentNode;var a=p.createElement("a");a.setAttribute("xlink:href",y.get(r.id)),a.setAttribute("target","_top"),X0.appendChild(a),a.appendChild(t),a.appendChild(d)})}}I(D,"drawRects");function A($,k,w,P,S,T,_,v){if(_.length===0&&v.length===0)return;let x,b;for(let{startTime:t,endTime:d}of T){if(x===void 0||t<x)x=t;if(b===void 0||d>b)b=d}if(!x||!b)return;if(ZO.default(b).diff(ZO.default(x),"year")>5){Z0.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let y=K.db.getDateFormat(),u=[],h=null,p=ZO.default(x);while(p.valueOf()<=b){if(K.db.isInvalidDate(p,y,_,v))if(!h)h={start:p,end:p};else h.end=p;else if(h)u.push(h),h=null;p=p.add(1,"d")}B.append("g").selectAll("rect").data(u).enter().append("rect").attr("id",(t)=>"exclude-"+t.start.format("YYYY-MM-DD")).attr("x",(t)=>O(t.start.startOf("day"))+w).attr("y",U.gridLineStartPadding).attr("width",(t)=>O(t.end.endOf("day"))-O(t.start.startOf("day"))).attr("height",S-k-U.gridLineStartPadding).attr("transform-origin",function(t,d){return(O(t.start)+w+0.5*(O(t.end)-O(t.start))).toString()+"px "+(d*$+0.5*S).toString()+"px"}).attr("class","exclude-range")}I(A,"drawExcludeDays");function V($,k,w,P){if(w<=0||$>k)return 1/0;let S=k-$,T=ZO.default.duration({[P??"day"]:w}).asMilliseconds();if(T<=0)return 1/0;return Math.ceil(S/T)}I(V,"getEstimatedTickCount");function N($,k,w,P){let S=K.db.getDateFormat(),T=K.db.getAxisFormat(),_;if(T)_=T;else if(S==="D")_="%d";else _=U.axisFormat??"%Y-%m-%d";let v=Lh(O).tickSize(-P+k+U.gridLineStartPadding).tickFormat(wG(_)),b=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(K.db.getTickInterval()||U.tickInterval);if(b!==null){let y=parseInt(b[1],10);if(isNaN(y)||y<=0)Z0.warn(`Invalid tick interval value: "${b[1]}". Skipping custom tick interval.`);else{let u=b[2],h=K.db.getWeekday()||U.weekday,p=O.domain(),r=p[0],t=p[1],d=V(r,t,y,u);if(d>zt)Z0.warn(`The tick interval "${y}${u}" would generate ${d} ticks, which exceeds the maximum allowed (${zt}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch(u){case"millisecond":v.ticks(RU.every(y));break;case"second":v.ticks(j4.every(y));break;case"minute":v.ticks(ZY.every(y));break;case"hour":v.ticks(JY.every(y));break;case"day":v.ticks(XK.every(y));break;case"week":v.ticks(py0[h].every(y));break;case"month":v.ticks(QY.every(y));break}}}if(B.append("g").attr("class","grid").attr("transform","translate("+$+", "+(P-50)+")").call(v).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),K.db.topAxisEnabled()||U.topAxis){let y=Rh(O).tickSize(-P+k+U.gridLineStartPadding).tickFormat(wG(_));if(b!==null){let u=parseInt(b[1],10);if(isNaN(u)||u<=0)Z0.warn(`Invalid tick interval value: "${b[1]}". Skipping custom tick interval.`);else{let h=b[2],p=K.db.getWeekday()||U.weekday,r=O.domain(),t=r[0],d=r[1];if(V(t,d,u,h)<=zt)switch(h){case"millisecond":y.ticks(RU.every(u));break;case"second":y.ticks(j4.every(u));break;case"minute":y.ticks(ZY.every(u));break;case"hour":y.ticks(JY.every(u));break;case"day":y.ticks(XK.every(u));break;case"week":y.ticks(py0[p].every(u));break;case"month":y.ticks(QY.every(u));break}}}B.append("g").attr("class","grid").attr("transform","translate("+$+", "+k+")").call(y).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}I(N,"makeGrid");function E($,k){let w=0,P=Object.keys(F).map((S)=>[S,F[S]]);B.append("g").selectAll("text").data(P).enter().append(function(S){let T=S[0].split(U8.lineBreakRegex),_=-(T.length-1)/2,v=W.createElementNS("http://www.w3.org/2000/svg","text");v.setAttribute("dy",_+"em");for(let[x,b]of T.entries()){let y=W.createElementNS("http://www.w3.org/2000/svg","tspan");if(y.setAttribute("alignment-baseline","central"),y.setAttribute("x","10"),x>0)y.setAttribute("dy","1em");y.textContent=b,v.appendChild(y)}return v}).attr("x",10).attr("y",function(S,T){if(T>0)for(let _=0;_<T;_++)return w+=P[T-1][1],S[1]*$/2+w*$+k;else return S[1]*$/2+k}).attr("font-size",U.sectionFontSize).attr("class",function(S){for(let[T,_]of H.entries())if(S[0]===_)return"sectionTitle sectionTitle"+T%U.numberSectionStyles;return"sectionTitle"})}I(E,"vertLabels");function C($,k,w,P){let S=K.db.getTodayMarker();if(S==="off")return;let T=B.append("g").attr("class","today"),_=new Date,v=T.append("line");if(v.attr("x1",O(_)+$).attr("x2",O(_)+$).attr("y1",U.titleTopMargin).attr("y2",P-U.titleTopMargin).attr("class","today"),S!=="")v.attr("style",S.replace(/,/g,";"))}I(C,"drawToday");function j($){let k={},w=[];for(let P=0,S=$.length;P<S;++P)if(!Object.prototype.hasOwnProperty.call(k,$[P]))k[$[P]]=!0,w.push($[P]);return w}I(j,"checkUnique")},"draw"),dx8={setConf:px8,draw:lx8},ix8=I((Z)=>`
  .mermaid-main-font {
        font-family: ${Z.fontFamily};
  }

  .exclude-range {
    fill: ${Z.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${Z.sectionBkgColor};
  }

  .section2 {
    fill: ${Z.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${Z.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${Z.titleColor};
  }

  .sectionTitle1 {
    fill: ${Z.titleColor};
  }

  .sectionTitle2 {
    fill: ${Z.titleColor};
  }

  .sectionTitle3 {
    fill: ${Z.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${Z.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${Z.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${Z.fontFamily};
    fill: ${Z.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${Z.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${Z.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${Z.taskTextDarkColor};
    text-anchor: start;
    font-family: ${Z.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${Z.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${Z.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${Z.taskBkgColor};
    stroke: ${Z.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${Z.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${Z.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${Z.activeTaskBkgColor};
    stroke: ${Z.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${Z.doneTaskBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${Z.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${Z.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.titleColor||Z.textColor};
    font-family: ${Z.fontFamily};
  }
`,"getStyles"),sx8=ix8,rx8={parser:Xx8,db:gx8,renderer:dx8,styles:sx8}});var Uh0={};LZ(Uh0,{diagram:()=>Jb8});var nx8,ax8,ox8,tx8,ex8,Zb8,Jb8;var Xh0=f(()=>{nb();IU();yZ();AZ();SW();nx8={parse:I(async(Z)=>{let J=await A6("info",Z);Z0.debug(J)},"parse")},ax8={version:_R.version+""},ox8=I(()=>ax8.version,"getVersion"),tx8={getVersion:ox8},ex8=I((Z,J,Q)=>{Z0.debug(`rendering info diagram
`+Z);let K=k7(J);T9(K,100,400,!0),K.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${Q}`)},"draw"),Zb8={draw:ex8},Jb8={parser:nx8,db:tx8,renderer:Zb8}});var Wh0={};LZ(Wh0,{diagram:()=>Rb8});var Yh0,Ct,f_,jt,Qb8,Kb8,Ub8,Xb8,Yb8,qb8,Wb8,qh0,Gb8,zb8,Hb8,Fb8,Mb8,Bb8,Ob8,Rb8;var Gh0=f(()=>{IU();Bz();w9();yZ();AZ();SW();TZ();Yh0=PZ.pie,Ct={sections:new Map,showData:!1,config:Yh0},f_=Ct.sections,jt=Ct.showData,Qb8=structuredClone(Yh0),Kb8=I(()=>structuredClone(Qb8),"getConfig"),Ub8=I(()=>{f_=new Map,jt=Ct.showData,bZ()},"clear"),Xb8=I(({label:Z,value:J})=>{if(J<0)throw Error(`"${Z}" has invalid value: ${J}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);if(!f_.has(Z))f_.set(Z,J),Z0.debug(`added new section: ${Z}, with value: ${J}`)},"addSection"),Yb8=I(()=>f_,"getSections"),qb8=I((Z)=>{jt=Z},"setShowData"),Wb8=I(()=>jt,"getShowData"),qh0={getConfig:Kb8,clear:Ub8,setDiagramTitle:Z9,getDiagramTitle:aZ,setAccTitle:cZ,getAccTitle:sZ,setAccDescription:rZ,getAccDescription:nZ,addSection:Xb8,getSections:Yb8,setShowData:qb8,getShowData:Wb8},Gb8=I((Z,J)=>{y4(Z,J),J.setShowData(Z.showData),Z.sections.map(J.addSection)},"populateDb"),zb8={parse:I(async(Z)=>{let J=await A6("pie",Z);Z0.debug(J),Gb8(J,qh0)},"parse")},Hb8=I((Z)=>`
  .pieCircle{
    stroke: ${Z.pieStrokeColor};
    stroke-width : ${Z.pieStrokeWidth};
    opacity : ${Z.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${Z.pieOuterStrokeColor};
    stroke-width: ${Z.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${Z.pieTitleTextSize};
    fill: ${Z.pieTitleTextColor};
    font-family: ${Z.fontFamily};
  }
  .slice {
    font-family: ${Z.fontFamily};
    fill: ${Z.pieSectionTextColor};
    font-size:${Z.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${Z.pieLegendTextColor};
    font-family: ${Z.fontFamily};
    font-size: ${Z.pieLegendTextSize};
  }
`,"getStyles"),Fb8=Hb8,Mb8=I((Z)=>{let J=[...Z.values()].reduce((U,X)=>U+X,0),Q=[...Z.entries()].map(([U,X])=>({label:U,value:X})).filter((U)=>U.value/J*100>=1).sort((U,X)=>X.value-U.value);return kP().value((U)=>U.value)(Q)},"createPieArcs"),Bb8=I((Z,J,Q,K)=>{Z0.debug(`rendering pie chart
`+Z);let U=K.db,X=E0(),Y=wJ(U.getConfig(),X.pie),q=40,W=18,G=4,z=450,H=z,F=k7(J),M=F.append("g");M.attr("transform","translate("+H/2+","+z/2+")");let{themeVariables:B}=X,[O]=jU(B.pieOuterStrokeWidth);O??=2;let R=Y.textPosition,L=Math.min(H,z)/2-q,D=H5().innerRadius(0).outerRadius(L),A=H5().innerRadius(L*R).outerRadius(L*R);M.append("circle").attr("cx",0).attr("cy",0).attr("r",L+O/2).attr("class","pieOuterCircle");let V=U.getSections(),N=Mb8(V),E=[B.pie1,B.pie2,B.pie3,B.pie4,B.pie5,B.pie6,B.pie7,B.pie8,B.pie9,B.pie10,B.pie11,B.pie12],C=0;V.forEach((T)=>{C+=T});let j=N.filter((T)=>(T.data.value/C*100).toFixed(0)!=="0"),$=C4(E);M.selectAll("mySlices").data(j).enter().append("path").attr("d",D).attr("fill",(T)=>{return $(T.data.label)}).attr("class","pieCircle"),M.selectAll("mySlices").data(j).enter().append("text").text((T)=>{return(T.data.value/C*100).toFixed(0)+"%"}).attr("transform",(T)=>{return"translate("+A.centroid(T)+")"}).style("text-anchor","middle").attr("class","slice"),M.append("text").text(U.getDiagramTitle()).attr("x",0).attr("y",-(z-50)/2).attr("class","pieTitleText");let k=[...V.entries()].map(([T,_])=>({label:T,value:_})),w=M.selectAll(".legend").data(k).enter().append("g").attr("class","legend").attr("transform",(T,_)=>{let v=W+G,x=v*k.length/2,b=12*W,y=_*v-x;return"translate("+b+","+y+")"});w.append("rect").attr("width",W).attr("height",W).style("fill",(T)=>$(T.label)).style("stroke",(T)=>$(T.label)),w.append("text").attr("x",W+G).attr("y",W-G).text((T)=>{if(U.getShowData())return`${T.label} [${T.value}]`;return T.label});let P=Math.max(...w.selectAll("text").nodes().map((T)=>T?.getBoundingClientRect().width??0)),S=H+q+W+G+P;F.attr("viewBox",`0 0 ${S} ${z}`),T9(F,z,S,Y.useMaxWidth)},"draw"),Ob8={draw:Bb8},Rb8={parser:zb8,db:qh0,renderer:Ob8,styles:Fb8}});var Ch0={};LZ(Ch0,{diagram:()=>Pb8});function Tt(Z){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(Z)}function zh0(Z){return!/^\d+$/.test(Z)}function Hh0(Z){return!/^\d+px$/.test(Z)}function VX(Z){return VZ(Z.trim(),Ib8)}function Fh0(Z){LQ.setData({quadrant1Text:VX(Z.text)})}function Mh0(Z){LQ.setData({quadrant2Text:VX(Z.text)})}function Bh0(Z){LQ.setData({quadrant3Text:VX(Z.text)})}function Oh0(Z){LQ.setData({quadrant4Text:VX(Z.text)})}function Rh0(Z){LQ.setData({xAxisLeftText:VX(Z.text)})}function Lh0(Z){LQ.setData({xAxisRightText:VX(Z.text)})}function Dh0(Z){LQ.setData({yAxisTopText:VX(Z.text)})}function Ih0(Z){LQ.setData({yAxisBottomText:VX(Z.text)})}function x_(Z){let J={};for(let Q of Z){let[K,U]=Q.trim().split(/\s*:\s*/);if(K==="radius"){if(zh0(U))throw new v_(K,U,"number");J.radius=parseInt(U)}else if(K==="color"){if(Tt(U))throw new v_(K,U,"hex code");J.color=U}else if(K==="stroke-color"){if(Tt(U))throw new v_(K,U,"hex code");J.strokeColor=U}else if(K==="stroke-width"){if(Hh0(U))throw new v_(K,U,"number of pixels (eg. 10px)");J.strokeWidth=U}else throw Error(`style named ${K} is not supported.`)}return J}function Ah0(Z,J,Q,K,U){let X=x_(U);LQ.addPoints([{x:Q,y:K,text:VX(Z.text),className:J,...X}])}function Nh0(Z,J){LQ.addClass(Z,x_(J))}function Eh0(Z){LQ.setConfig({chartWidth:Z})}function Vh0(Z){LQ.setConfig({chartHeight:Z})}function Ph0(){let Z=E0(),{themeVariables:J,quadrantChart:Q}=Z;if(Q)LQ.setConfig(Q);return LQ.setThemeConfig({quadrant1Fill:J.quadrant1Fill,quadrant2Fill:J.quadrant2Fill,quadrant3Fill:J.quadrant3Fill,quadrant4Fill:J.quadrant4Fill,quadrant1TextFill:J.quadrant1TextFill,quadrant2TextFill:J.quadrant2TextFill,quadrant3TextFill:J.quadrant3TextFill,quadrant4TextFill:J.quadrant4TextFill,quadrantPointFill:J.quadrantPointFill,quadrantPointTextFill:J.quadrantPointTextFill,quadrantXAxisTextFill:J.quadrantXAxisTextFill,quadrantYAxisTextFill:J.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:J.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:J.quadrantInternalBorderStrokeFill,quadrantTitleFill:J.quadrantTitleFill}),LQ.setData({titleText:aZ()}),LQ.build()}var St,Lb8,N6,Db8,v_,Ib8,LQ,Ab8,Nb8,Eb8,Vb8,Pb8;var jh0=f(()=>{yZ();AZ();TZ();TZ();St=function(){var Z=I(function(H0,m,q0,W0){for(q0=q0||{},W0=H0.length;W0--;q0[H0[W0]]=m);return q0},"o"),J=[1,3],Q=[1,4],K=[1,5],U=[1,6],X=[1,7],Y=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],q=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],W=[55,56,57],G=[2,36],z=[1,37],H=[1,36],F=[1,38],M=[1,35],B=[1,43],O=[1,41],R=[1,14],L=[1,23],D=[1,18],A=[1,19],V=[1,20],N=[1,21],E=[1,22],C=[1,24],j=[1,25],$=[1,26],k=[1,27],w=[1,28],P=[1,29],S=[1,32],T=[1,33],_=[1,34],v=[1,39],x=[1,40],b=[1,42],y=[1,44],u=[1,62],h=[1,61],p=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],r=[1,65],t=[1,66],d=[1,67],X0=[1,68],a=[1,69],z0=[1,70],J0=[1,71],Q0=[1,72],e=[1,73],n=[1,74],Y0=[1,75],o=[1,76],M0=[4,5,6,7,8,9,10,11,12,13,14,15,18],K0=[1,90],V0=[1,91],i=[1,92],p0=[1,99],B0=[1,93],h0=[1,96],a0=[1,94],s0=[1,95],$0=[1,97],x0=[1,98],f0=[1,102],C0=[10,55,56,57],m0=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],F0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:I(function(m,q0,W0,N0,D0,L0,_0){var T0=L0.length-1;switch(D0){case 23:this.$=L0[T0];break;case 24:this.$=L0[T0-1]+""+L0[T0];break;case 26:this.$=L0[T0-1]+L0[T0];break;case 27:this.$=[L0[T0].trim()];break;case 28:L0[T0-2].push(L0[T0].trim()),this.$=L0[T0-2];break;case 29:this.$=L0[T0-4],N0.addClass(L0[T0-2],L0[T0]);break;case 37:this.$=[];break;case 42:this.$=L0[T0].trim(),N0.setDiagramTitle(this.$);break;case 43:this.$=L0[T0].trim(),N0.setAccTitle(this.$);break;case 44:case 45:this.$=L0[T0].trim(),N0.setAccDescription(this.$);break;case 46:N0.addSection(L0[T0].substr(8)),this.$=L0[T0].substr(8);break;case 47:N0.addPoint(L0[T0-3],"",L0[T0-1],L0[T0],[]);break;case 48:N0.addPoint(L0[T0-4],L0[T0-3],L0[T0-1],L0[T0],[]);break;case 49:N0.addPoint(L0[T0-4],"",L0[T0-2],L0[T0-1],L0[T0]);break;case 50:N0.addPoint(L0[T0-5],L0[T0-4],L0[T0-2],L0[T0-1],L0[T0]);break;case 51:N0.setXAxisLeftText(L0[T0-2]),N0.setXAxisRightText(L0[T0]);break;case 52:L0[T0-1].text+="  ",N0.setXAxisLeftText(L0[T0-1]);break;case 53:N0.setXAxisLeftText(L0[T0]);break;case 54:N0.setYAxisBottomText(L0[T0-2]),N0.setYAxisTopText(L0[T0]);break;case 55:L0[T0-1].text+="  ",N0.setYAxisBottomText(L0[T0-1]);break;case 56:N0.setYAxisBottomText(L0[T0]);break;case 57:N0.setQuadrant1Text(L0[T0]);break;case 58:N0.setQuadrant2Text(L0[T0]);break;case 59:N0.setQuadrant3Text(L0[T0]);break;case 60:N0.setQuadrant4Text(L0[T0]);break;case 64:this.$={text:L0[T0],type:"text"};break;case 65:this.$={text:L0[T0-1].text+""+L0[T0],type:L0[T0-1].type};break;case 66:this.$={text:L0[T0],type:"text"};break;case 67:this.$={text:L0[T0],type:"markdown"};break;case 68:this.$=L0[T0];break;case 69:this.$=L0[T0-1]+""+L0[T0];break}},"anonymous"),table:[{18:J,26:1,27:2,28:Q,55:K,56:U,57:X},{1:[3]},{18:J,26:8,27:2,28:Q,55:K,56:U,57:X},{18:J,26:9,27:2,28:Q,55:K,56:U,57:X},Z(Y,[2,33],{29:10}),Z(q,[2,61]),Z(q,[2,62]),Z(q,[2,63]),{1:[2,30]},{1:[2,31]},Z(W,G,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:z,5:H,10:F,12:M,13:B,14:O,18:R,25:L,35:D,37:A,39:V,41:N,42:E,48:C,50:j,51:$,52:k,53:w,54:P,60:S,61:T,63:_,64:v,65:x,66:b,67:y}),Z(Y,[2,34]),{27:45,55:K,56:U,57:X},Z(W,[2,37]),Z(W,G,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:z,5:H,10:F,12:M,13:B,14:O,18:R,25:L,35:D,37:A,39:V,41:N,42:E,48:C,50:j,51:$,52:k,53:w,54:P,60:S,61:T,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,39]),Z(W,[2,40]),Z(W,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},Z(W,[2,45]),Z(W,[2,46]),{18:[1,50]},{4:z,5:H,10:F,12:M,13:B,14:O,43:51,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:52,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:53,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:54,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:55,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,10:F,12:M,13:B,14:O,43:56,58:31,60:S,61:T,63:_,64:v,65:x,66:b,67:y},{4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,44:[1,57],47:[1,58],58:60,59:59,63:_,64:v,65:x,66:b,67:y},Z(p,[2,64]),Z(p,[2,66]),Z(p,[2,67]),Z(p,[2,70]),Z(p,[2,71]),Z(p,[2,72]),Z(p,[2,73]),Z(p,[2,74]),Z(p,[2,75]),Z(p,[2,76]),Z(p,[2,77]),Z(p,[2,78]),Z(p,[2,79]),Z(p,[2,80]),Z(Y,[2,35]),Z(W,[2,38]),Z(W,[2,42]),Z(W,[2,43]),Z(W,[2,44]),{3:64,4:r,5:t,6:d,7:X0,8:a,9:z0,10:J0,11:Q0,12:e,13:n,14:Y0,15:o,21:63},Z(W,[2,53],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,49:[1,77],63:_,64:v,65:x,66:b,67:y}),Z(W,[2,56],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,49:[1,78],63:_,64:v,65:x,66:b,67:y}),Z(W,[2,57],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,58],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,59],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,60],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),{45:[1,79]},{44:[1,80]},Z(p,[2,65]),Z(p,[2,81]),Z(p,[2,82]),Z(p,[2,83]),{3:82,4:r,5:t,6:d,7:X0,8:a,9:z0,10:J0,11:Q0,12:e,13:n,14:Y0,15:o,18:[1,81]},Z(M0,[2,23]),Z(M0,[2,1]),Z(M0,[2,2]),Z(M0,[2,3]),Z(M0,[2,4]),Z(M0,[2,5]),Z(M0,[2,6]),Z(M0,[2,7]),Z(M0,[2,8]),Z(M0,[2,9]),Z(M0,[2,10]),Z(M0,[2,11]),Z(M0,[2,12]),Z(W,[2,52],{58:31,43:83,4:z,5:H,10:F,12:M,13:B,14:O,60:S,61:T,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,55],{58:31,43:84,4:z,5:H,10:F,12:M,13:B,14:O,60:S,61:T,63:_,64:v,65:x,66:b,67:y}),{46:[1,85]},{45:[1,86]},{4:K0,5:V0,6:i,8:p0,11:B0,13:h0,16:89,17:a0,18:s0,19:$0,20:x0,22:88,23:87},Z(M0,[2,24]),Z(W,[2,51],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,54],{59:59,58:60,4:z,5:H,8:u,10:F,12:M,13:B,14:O,18:h,63:_,64:v,65:x,66:b,67:y}),Z(W,[2,47],{22:88,16:89,23:100,4:K0,5:V0,6:i,8:p0,11:B0,13:h0,17:a0,18:s0,19:$0,20:x0}),{46:[1,101]},Z(W,[2,29],{10:f0}),Z(C0,[2,27],{16:103,4:K0,5:V0,6:i,8:p0,11:B0,13:h0,17:a0,18:s0,19:$0,20:x0}),Z(m0,[2,25]),Z(m0,[2,13]),Z(m0,[2,14]),Z(m0,[2,15]),Z(m0,[2,16]),Z(m0,[2,17]),Z(m0,[2,18]),Z(m0,[2,19]),Z(m0,[2,20]),Z(m0,[2,21]),Z(m0,[2,22]),Z(W,[2,49],{10:f0}),Z(W,[2,48],{22:88,16:89,23:104,4:K0,5:V0,6:i,8:p0,11:B0,13:h0,17:a0,18:s0,19:$0,20:x0}),{4:K0,5:V0,6:i,8:p0,11:B0,13:h0,16:89,17:a0,18:s0,19:$0,20:x0,22:105},Z(m0,[2,26]),Z(W,[2,50],{10:f0}),Z(C0,[2,28],{16:103,4:K0,5:V0,6:i,8:p0,11:B0,13:h0,17:a0,18:s0,19:$0,20:x0})],defaultActions:{8:[2,30],9:[2,31]},parseError:I(function(m,q0){if(q0.recoverable)this.trace(m);else{var W0=Error(m);throw W0.hash=q0,W0}},"parseError"),parse:I(function(m){var q0=this,W0=[0],N0=[],D0=[null],L0=[],_0=this.table,T0="",u0=0,Z8=0,B8=0,r0=2,g0=1,t0=L0.slice.call(arguments,1),d0=Object.create(this.lexer),X8={yy:{}};for(var g8 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,g8))X8.yy[g8]=this.yy[g8];if(d0.setInput(m,X8.yy),X8.yy.lexer=d0,X8.yy.parser=this,typeof d0.yylloc>"u")d0.yylloc={};var M8=d0.yylloc;L0.push(M8);var $8=d0.options&&d0.options.ranges;if(typeof X8.yy.parseError==="function")this.parseError=X8.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function H8(R8){W0.length=W0.length-2*R8,D0.length=D0.length-R8,L0.length=L0.length-R8}I(H8,"popStack");function G8(){var R8=N0.pop()||d0.lex()||g0;if(typeof R8!=="number"){if(R8 instanceof Array)N0=R8,R8=N0.pop();R8=q0.symbols_[R8]||R8}return R8}I(G8,"lex");var O8,L8,I8,F8,iZ,w8,xZ={},uZ,YZ,qZ,SZ;while(!0){if(I8=W0[W0.length-1],this.defaultActions[I8])F8=this.defaultActions[I8];else{if(O8===null||typeof O8>"u")O8=G8();F8=_0[I8]&&_0[I8][O8]}if(typeof F8>"u"||!F8.length||!F8[0]){var A9="";SZ=[];for(uZ in _0[I8])if(this.terminals_[uZ]&&uZ>r0)SZ.push("'"+this.terminals_[uZ]+"'");if(d0.showPosition)A9="Parse error on line "+(u0+1)+`:
`+d0.showPosition()+`
Expecting `+SZ.join(", ")+", got '"+(this.terminals_[O8]||O8)+"'";else A9="Parse error on line "+(u0+1)+": Unexpected "+(O8==g0?"end of input":"'"+(this.terminals_[O8]||O8)+"'");this.parseError(A9,{text:d0.match,token:this.terminals_[O8]||O8,line:d0.yylineno,loc:M8,expected:SZ})}if(F8[0]instanceof Array&&F8.length>1)throw Error("Parse Error: multiple actions possible at state: "+I8+", token: "+O8);switch(F8[0]){case 1:if(W0.push(O8),D0.push(d0.yytext),L0.push(d0.yylloc),W0.push(F8[1]),O8=null,!L8){if(Z8=d0.yyleng,T0=d0.yytext,u0=d0.yylineno,M8=d0.yylloc,B8>0)B8--}else O8=L8,L8=null;break;case 2:if(YZ=this.productions_[F8[1]][1],xZ.$=D0[D0.length-YZ],xZ._$={first_line:L0[L0.length-(YZ||1)].first_line,last_line:L0[L0.length-1].last_line,first_column:L0[L0.length-(YZ||1)].first_column,last_column:L0[L0.length-1].last_column},$8)xZ._$.range=[L0[L0.length-(YZ||1)].range[0],L0[L0.length-1].range[1]];if(w8=this.performAction.apply(xZ,[T0,Z8,u0,X8.yy,F8[1],D0,L0].concat(t0)),typeof w8<"u")return w8;if(YZ)W0=W0.slice(0,-1*YZ*2),D0=D0.slice(0,-1*YZ),L0=L0.slice(0,-1*YZ);W0.push(this.productions_[F8[1]][0]),D0.push(xZ.$),L0.push(xZ._$),qZ=_0[W0[W0.length-2]][W0[W0.length-1]],W0.push(qZ);break;case 3:return!0}}return!0},"parse")},I0=function(){var H0={EOF:1,parseError:I(function(q0,W0){if(this.yy.parser)this.yy.parser.parseError(q0,W0);else throw Error(q0)},"parseError"),setInput:I(function(m,q0){if(this.yy=q0||this.yy||{},this._input=m,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var q0=m.match(/(?:\r\n?|\n).*/g);if(q0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),m},"input"),unput:I(function(m){var q0=m.length,W0=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q0),this.offset-=q0;var N0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W0.length-1)this.yylineno-=W0.length-1;var D0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W0?(W0.length===N0.length?this.yylloc.first_column:0)+N0[N0.length-W0.length].length-W0[0].length:this.yylloc.first_column-q0},this.options.ranges)this.yylloc.range=[D0[0],D0[0]+this.yyleng-q0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(m){this.unput(this.match.slice(m))},"less"),pastInput:I(function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var m=this.match;if(m.length<20)m+=this._input.substr(0,20-m.length);return(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var m=this.pastInput(),q0=Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+q0+"^"},"showPosition"),test_match:I(function(m,q0){var W0,N0,D0;if(this.options.backtrack_lexer){if(D0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)D0.yylloc.range=this.yylloc.range.slice(0)}if(N0=m[0].match(/(?:\r\n?|\n).*/g),N0)this.yylineno+=N0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N0?N0[N0.length-1].length-N0[N0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length},this.yytext+=m[0],this.match+=m[0],this.matches=m,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(m[0].length),this.matched+=m[0],W0=this.performAction.call(this,this.yy,this,q0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(W0)return W0;else if(this._backtrack){for(var L0 in D0)this[L0]=D0[L0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var m,q0,W0,N0;if(!this._more)this.yytext="",this.match="";var D0=this._currentRules();for(var L0=0;L0<D0.length;L0++)if(W0=this._input.match(this.rules[D0[L0]]),W0&&(!q0||W0[0].length>q0[0].length)){if(q0=W0,N0=L0,this.options.backtrack_lexer)if(m=this.test_match(W0,D0[L0]),m!==!1)return m;else if(this._backtrack){q0=!1;continue}else return!1;else if(!this.options.flex)break}if(q0){if(m=this.test_match(q0,D0[N0]),m!==!1)return m;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var q0=this.next();if(q0)return q0;else return this.lex()},"lex"),begin:I(function(q0){this.conditionStack.push(q0)},"begin"),popState:I(function(){var q0=this.conditionStack.length-1;if(q0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(q0){if(q0=this.conditionStack.length-1-Math.abs(q0||0),q0>=0)return this.conditionStack[q0];else return"INITIAL"},"topState"),pushState:I(function(q0){this.begin(q0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(q0,W0,N0,D0){var L0=D0;switch(N0){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return H0}();F0.lexer=I0;function s(){this.yy={}}return I(s,"Parser"),s.prototype=F0,F0.Parser=s,new s}();St.parser=St;Lb8=St,N6=MG(),Db8=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{I(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:PZ.quadrantChart?.chartWidth||500,chartWidth:PZ.quadrantChart?.chartHeight||500,titlePadding:PZ.quadrantChart?.titlePadding||10,titleFontSize:PZ.quadrantChart?.titleFontSize||20,quadrantPadding:PZ.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:PZ.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:PZ.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:PZ.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:PZ.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:PZ.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:PZ.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:PZ.quadrantChart?.pointTextPadding||5,pointLabelFontSize:PZ.quadrantChart?.pointLabelFontSize||12,pointRadius:PZ.quadrantChart?.pointRadius||5,xAxisPosition:PZ.quadrantChart?.xAxisPosition||"top",yAxisPosition:PZ.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:PZ.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:PZ.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:N6.quadrant1Fill,quadrant2Fill:N6.quadrant2Fill,quadrant3Fill:N6.quadrant3Fill,quadrant4Fill:N6.quadrant4Fill,quadrant1TextFill:N6.quadrant1TextFill,quadrant2TextFill:N6.quadrant2TextFill,quadrant3TextFill:N6.quadrant3TextFill,quadrant4TextFill:N6.quadrant4TextFill,quadrantPointFill:N6.quadrantPointFill,quadrantPointTextFill:N6.quadrantPointTextFill,quadrantXAxisTextFill:N6.quadrantXAxisTextFill,quadrantYAxisTextFill:N6.quadrantYAxisTextFill,quadrantTitleFill:N6.quadrantTitleFill,quadrantInternalBorderStrokeFill:N6.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:N6.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,Z0.info("clear called")}setData(Z){this.data={...this.data,...Z}}addPoints(Z){this.data.points=[...Z,...this.data.points]}addClass(Z,J){this.classes.set(Z,J)}setConfig(Z){Z0.trace("setConfig called with: ",Z),this.config={...this.config,...Z}}setThemeConfig(Z){Z0.trace("setThemeConfig called with: ",Z),this.themeConfig={...this.themeConfig,...Z}}calculateSpace(Z,J,Q,K){let U=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,X={top:Z==="top"&&J?U:0,bottom:Z==="bottom"&&J?U:0},Y=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,q={left:this.config.yAxisPosition==="left"&&Q?Y:0,right:this.config.yAxisPosition==="right"&&Q?Y:0},W=this.config.titleFontSize+this.config.titlePadding*2,G={top:K?W:0},z=this.config.quadrantPadding+q.left,H=this.config.quadrantPadding+X.top+G.top,F=this.config.chartWidth-this.config.quadrantPadding*2-q.left-q.right,M=this.config.chartHeight-this.config.quadrantPadding*2-X.top-X.bottom-G.top,B=F/2,O=M/2;return{xAxisSpace:X,yAxisSpace:q,titleSpace:G,quadrantSpace:{quadrantLeft:z,quadrantTop:H,quadrantWidth:F,quadrantHalfWidth:B,quadrantHeight:M,quadrantHalfHeight:O}}}getAxisLabels(Z,J,Q,K){let{quadrantSpace:U,titleSpace:X}=K,{quadrantHalfHeight:Y,quadrantHeight:q,quadrantLeft:W,quadrantHalfWidth:G,quadrantTop:z,quadrantWidth:H}=U,F=Boolean(this.data.xAxisRightText),M=Boolean(this.data.yAxisTopText),B=[];if(this.data.xAxisLeftText&&J)B.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:W+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+X.top:this.config.xAxisLabelPadding+z+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.xAxisRightText&&J)B.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:W+G+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+X.top:this.config.xAxisLabelPadding+z+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.yAxisBottomText&&Q)B.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+W+H+this.config.quadrantPadding,y:z+q-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});if(this.data.yAxisTopText&&Q)B.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+W+H+this.config.quadrantPadding,y:z+Y-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});return B}getQuadrants(Z){let{quadrantSpace:J}=Z,{quadrantHalfHeight:Q,quadrantLeft:K,quadrantHalfWidth:U,quadrantTop:X}=J,Y=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+U,y:X,width:U,height:Q,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:X,width:U,height:Q,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:X+Q,width:U,height:Q,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+U,y:X+Q,width:U,height:Q,fill:this.themeConfig.quadrant4Fill}];for(let q of Y)if(q.text.x=q.x+q.width/2,this.data.points.length===0)q.text.y=q.y+q.height/2,q.text.horizontalPos="middle";else q.text.y=q.y+this.config.quadrantTextTopPadding,q.text.horizontalPos="top";return Y}getQuadrantPoints(Z){let{quadrantSpace:J}=Z,{quadrantHeight:Q,quadrantLeft:K,quadrantTop:U,quadrantWidth:X}=J,Y=q5().domain([0,1]).range([K,X+K]),q=q5().domain([0,1]).range([Q+U,U]);return this.data.points.map((G)=>{let z=this.classes.get(G.className);if(z)G={...z,...G};return{x:Y(G.x),y:q(G.y),fill:G.color??this.themeConfig.quadrantPointFill,radius:G.radius??this.config.pointRadius,text:{text:G.text,fill:this.themeConfig.quadrantPointTextFill,x:Y(G.x),y:q(G.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:G.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:G.strokeWidth??"0px"}})}getBorders(Z){let J=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:Q}=Z,{quadrantHalfHeight:K,quadrantHeight:U,quadrantLeft:X,quadrantHalfWidth:Y,quadrantTop:q,quadrantWidth:W}=Q;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:X-J,y1:q,x2:X+W+J,y2:q},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:X+W,y1:q+J,x2:X+W,y2:q+U-J},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:X-J,y1:q+U,x2:X+W+J,y2:q+U},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:X,y1:q+J,x2:X,y2:q+U-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:X+Y,y1:q+J,x2:X+Y,y2:q+U-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:X+J,y1:q+K,x2:X+W-J,y2:q+K}]}getTitle(Z){if(Z)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2};return}build(){let Z=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),J=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),Q=this.config.showTitle&&!!this.data.titleText,K=this.data.points.length>0?"bottom":this.config.xAxisPosition,U=this.calculateSpace(K,Z,J,Q);return{points:this.getQuadrantPoints(U),quadrants:this.getQuadrants(U),axisLabels:this.getAxisLabels(K,Z,J,U),borderLines:this.getBorders(U),title:this.getTitle(Q)}}},v_=class extends Error{static{I(this,"InvalidStyleError")}constructor(Z,J,Q){super(`value for ${Z} ${J} is invalid, please use a valid ${Q}`);this.name="InvalidStyleError"}};I(Tt,"validateHexCode");I(zh0,"validateNumber");I(Hh0,"validateSizeInPixels");Ib8=E0();I(VX,"textSanitizer");LQ=new Db8;I(Fh0,"setQuadrant1Text");I(Mh0,"setQuadrant2Text");I(Bh0,"setQuadrant3Text");I(Oh0,"setQuadrant4Text");I(Rh0,"setXAxisLeftText");I(Lh0,"setXAxisRightText");I(Dh0,"setYAxisTopText");I(Ih0,"setYAxisBottomText");I(x_,"parseStyles");I(Ah0,"addPoint");I(Nh0,"addClass");I(Eh0,"setWidth");I(Vh0,"setHeight");I(Ph0,"getQuadrantData");Ab8=I(function(){LQ.clear(),bZ()},"clear"),Nb8={setWidth:Eh0,setHeight:Vh0,setQuadrant1Text:Fh0,setQuadrant2Text:Mh0,setQuadrant3Text:Bh0,setQuadrant4Text:Oh0,setXAxisLeftText:Rh0,setXAxisRightText:Lh0,setYAxisTopText:Dh0,setYAxisBottomText:Ih0,parseStyles:x_,addPoint:Ah0,addClass:Nh0,getQuadrantData:Ph0,clear:Ab8,setAccTitle:cZ,getAccTitle:sZ,setDiagramTitle:Z9,getDiagramTitle:aZ,getAccDescription:nZ,setAccDescription:rZ},Eb8=I((Z,J,Q,K)=>{function U(j){return j==="top"?"hanging":"middle"}I(U,"getDominantBaseLine");function X(j){return j==="left"?"start":"middle"}I(X,"getTextAnchor");function Y(j){return`translate(${j.x}, ${j.y}) rotate(${j.rotation||0})`}I(Y,"getTransformation");let q=E0();Z0.debug(`Rendering quadrant chart
`+Z);let W=q.securityLevel,G;if(W==="sandbox")G=n0("#i"+J);let H=(W==="sandbox"?n0(G.nodes()[0].contentDocument.body):n0("body")).select(`[id="${J}"]`),F=H.append("g").attr("class","main"),M=q.quadrantChart?.chartWidth??500,B=q.quadrantChart?.chartHeight??500;T9(H,B,M,q.quadrantChart?.useMaxWidth??!0),H.attr("viewBox","0 0 "+M+" "+B),K.db.setHeight(B),K.db.setWidth(M);let O=K.db.getQuadrantData(),R=F.append("g").attr("class","quadrants"),L=F.append("g").attr("class","border"),D=F.append("g").attr("class","data-points"),A=F.append("g").attr("class","labels"),V=F.append("g").attr("class","title");if(O.title)V.append("text").attr("x",0).attr("y",0).attr("fill",O.title.fill).attr("font-size",O.title.fontSize).attr("dominant-baseline",U(O.title.horizontalPos)).attr("text-anchor",X(O.title.verticalPos)).attr("transform",Y(O.title)).text(O.title.text);if(O.borderLines)L.selectAll("line").data(O.borderLines).enter().append("line").attr("x1",(j)=>j.x1).attr("y1",(j)=>j.y1).attr("x2",(j)=>j.x2).attr("y2",(j)=>j.y2).style("stroke",(j)=>j.strokeFill).style("stroke-width",(j)=>j.strokeWidth);let N=R.selectAll("g.quadrant").data(O.quadrants).enter().append("g").attr("class","quadrant");N.append("rect").attr("x",(j)=>j.x).attr("y",(j)=>j.y).attr("width",(j)=>j.width).attr("height",(j)=>j.height).attr("fill",(j)=>j.fill),N.append("text").attr("x",0).attr("y",0).attr("fill",(j)=>j.text.fill).attr("font-size",(j)=>j.text.fontSize).attr("dominant-baseline",(j)=>U(j.text.horizontalPos)).attr("text-anchor",(j)=>X(j.text.verticalPos)).attr("transform",(j)=>Y(j.text)).text((j)=>j.text.text),A.selectAll("g.label").data(O.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text((j)=>j.text).attr("fill",(j)=>j.fill).attr("font-size",(j)=>j.fontSize).attr("dominant-baseline",(j)=>U(j.horizontalPos)).attr("text-anchor",(j)=>X(j.verticalPos)).attr("transform",(j)=>Y(j));let C=D.selectAll("g.data-point").data(O.points).enter().append("g").attr("class","data-point");C.append("circle").attr("cx",(j)=>j.x).attr("cy",(j)=>j.y).attr("r",(j)=>j.radius).attr("fill",(j)=>j.fill).attr("stroke",(j)=>j.strokeColor).attr("stroke-width",(j)=>j.strokeWidth),C.append("text").attr("x",0).attr("y",0).text((j)=>j.text.text).attr("fill",(j)=>j.text.fill).attr("font-size",(j)=>j.text.fontSize).attr("dominant-baseline",(j)=>U(j.text.horizontalPos)).attr("text-anchor",(j)=>X(j.text.verticalPos)).attr("transform",(j)=>Y(j.text))},"draw"),Vb8={draw:Eb8},Pb8={parser:Lb8,db:Nb8,renderer:Vb8,styles:I(()=>"","styles")}});var sh0={};LZ(sh0,{diagram:()=>hb8});function $t(Z){return Z.type==="bar"}function ft(Z){return Z.type==="band"}function KO(Z){return Z.type==="linear"}function kt(Z,J,Q,K){let U=new wh0(K);if(ft(Z))return new jb8(J,Q,Z.categories,Z.title,U);return new Sb8(J,Q,[Z.min,Z.max],Z.title,U)}function kh0(Z,J,Q,K){let U=new wh0(K);return new Tb8(U,Z,J,Q)}function _h0(Z,J,Q){return new kb8(Z,J,Q)}function xt(){let Z=MG(),J=CZ();return wJ(Z.xyChart,J.themeVariables.xyChart)}function bt(){let Z=CZ();return wJ(PZ.xyChart,Z.xyChart)}function yt(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function y_(Z){let J=CZ();return VZ(Z.trim(),J)}function vh0(Z){fh0=Z}function xh0(Z){if(Z==="horizontal")wA.chartOrientation="horizontal";else wA.chartOrientation="vertical"}function bh0(Z){S9.xAxis.title=y_(Z.text)}function ht(Z,J){S9.xAxis={type:"linear",title:S9.xAxis.title,min:Z,max:J},b_=!0}function yh0(Z){S9.xAxis={type:"band",title:S9.xAxis.title,categories:Z.map((J)=>y_(J.text))},b_=!0}function hh0(Z){S9.yAxis.title=y_(Z.text)}function mh0(Z,J){S9.yAxis={type:"linear",title:S9.yAxis.title,min:Z,max:J},vt=!0}function uh0(Z){let J=Math.min(...Z),Q=Math.max(...Z),K=KO(S9.yAxis)?S9.yAxis.min:1/0,U=KO(S9.yAxis)?S9.yAxis.max:-1/0;S9.yAxis={type:"linear",title:S9.yAxis.title,min:Math.min(K,J),max:Math.max(U,Q)}}function mt(Z){let J=[];if(Z.length===0)return J;if(!b_){let Q=KO(S9.xAxis)?S9.xAxis.min:1/0,K=KO(S9.xAxis)?S9.xAxis.max:-1/0;ht(Math.min(Q,1),Math.max(K,Z.length))}if(!vt)uh0(Z);if(ft(S9.xAxis))J=S9.xAxis.categories.map((Q,K)=>[Q,Z[K]]);if(KO(S9.xAxis)){let Q=S9.xAxis.min,K=S9.xAxis.max,U=(K-Q)/(Z.length-1),X=[];for(let Y=Q;Y<=K;Y+=U)X.push(`${Y}`);J=X.map((Y,q)=>[Y,Z[q]])}return J}function ut(Z){return _t[Z===0?0:Z%_t.length]}function gh0(Z,J){let Q=mt(J);S9.plots.push({type:"line",strokeFill:ut(TA),strokeWidth:2,data:Q}),TA++}function ph0(Z,J){let Q=mt(J);S9.plots.push({type:"bar",fill:ut(TA),data:Q}),TA++}function ch0(){if(S9.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return S9.title=aZ(),fb8.build(wA,S9,$A,fh0)}function lh0(){return $A}function dh0(){return wA}function ih0(){return S9}var wt,Cb8,wh0,Sh0=0.7,Th0=0.2,$h0,jb8,Sb8,Tb8,wb8,$b8,kb8,_b8,fb8,TA=0,fh0,wA,$A,S9,_t,b_=!1,vt=!1,vb8,xb8,bb8,yb8,hb8;var rh0=f(()=>{IU();UQ();w9();yZ();AZ();TZ();TZ();TZ();wt=function(){var Z=I(function(_,v,x,b){for(x=x||{},b=_.length;b--;x[_[b]]=v);return x},"o"),J=[1,10,12,14,16,18,19,21,23],Q=[2,6],K=[1,3],U=[1,5],X=[1,6],Y=[1,7],q=[1,5,10,12,14,16,18,19,21,23,34,35,36],W=[1,25],G=[1,26],z=[1,28],H=[1,29],F=[1,30],M=[1,31],B=[1,32],O=[1,33],R=[1,34],L=[1,35],D=[1,36],A=[1,37],V=[1,43],N=[1,42],E=[1,47],C=[1,50],j=[1,10,12,14,16,18,19,21,23,34,35,36],$=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],k=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],w=[1,64],P={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:I(function(v,x,b,y,u,h,p){var r=h.length-1;switch(u){case 5:y.setOrientation(h[r]);break;case 9:y.setDiagramTitle(h[r].text.trim());break;case 12:y.setLineData({text:"",type:"text"},h[r]);break;case 13:y.setLineData(h[r-1],h[r]);break;case 14:y.setBarData({text:"",type:"text"},h[r]);break;case 15:y.setBarData(h[r-1],h[r]);break;case 16:this.$=h[r].trim(),y.setAccTitle(this.$);break;case 17:case 18:this.$=h[r].trim(),y.setAccDescription(this.$);break;case 19:this.$=h[r-1];break;case 20:this.$=[Number(h[r-2]),...h[r]];break;case 21:this.$=[Number(h[r])];break;case 22:y.setXAxisTitle(h[r]);break;case 23:y.setXAxisTitle(h[r-1]);break;case 24:y.setXAxisTitle({type:"text",text:""});break;case 25:y.setXAxisBand(h[r]);break;case 26:y.setXAxisRangeData(Number(h[r-2]),Number(h[r]));break;case 27:this.$=h[r-1];break;case 28:this.$=[h[r-2],...h[r]];break;case 29:this.$=[h[r]];break;case 30:y.setYAxisTitle(h[r]);break;case 31:y.setYAxisTitle(h[r-1]);break;case 32:y.setYAxisTitle({type:"text",text:""});break;case 33:y.setYAxisRangeData(Number(h[r-2]),Number(h[r]));break;case 37:this.$={text:h[r],type:"text"};break;case 38:this.$={text:h[r],type:"text"};break;case 39:this.$={text:h[r],type:"markdown"};break;case 40:this.$=h[r];break;case 41:this.$=h[r-1]+""+h[r];break}},"anonymous"),table:[Z(J,Q,{3:1,4:2,7:4,5:K,34:U,35:X,36:Y}),{1:[3]},Z(J,Q,{4:2,7:4,3:8,5:K,34:U,35:X,36:Y}),Z(J,Q,{4:2,7:4,6:9,3:10,5:K,8:[1,11],34:U,35:X,36:Y}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},Z(q,[2,34]),Z(q,[2,35]),Z(q,[2,36]),{1:[2,1]},Z(J,Q,{4:2,7:4,3:21,5:K,34:U,35:X,36:Y}),{1:[2,3]},Z(q,[2,5]),Z(J,[2,7],{4:22,34:U,35:X,36:Y}),{11:23,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},{11:39,13:38,24:V,27:N,29:40,30:41,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},{11:45,15:44,27:E,33:46,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},{11:49,17:48,24:C,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},{11:52,17:51,24:C,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},{20:[1,53]},{22:[1,54]},Z(j,[2,18]),{1:[2,2]},Z(j,[2,8]),Z(j,[2,9]),Z($,[2,37],{40:55,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A}),Z($,[2,38]),Z($,[2,39]),Z(k,[2,40]),Z(k,[2,42]),Z(k,[2,43]),Z(k,[2,44]),Z(k,[2,45]),Z(k,[2,46]),Z(k,[2,47]),Z(k,[2,48]),Z(k,[2,49]),Z(k,[2,50]),Z(k,[2,51]),Z(j,[2,10]),Z(j,[2,22],{30:41,29:56,24:V,27:N}),Z(j,[2,24]),Z(j,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},Z(j,[2,11]),Z(j,[2,30],{33:60,27:E}),Z(j,[2,32]),{31:[1,61]},Z(j,[2,12]),{17:62,24:C},{25:63,27:w},Z(j,[2,14]),{17:65,24:C},Z(j,[2,16]),Z(j,[2,17]),Z(k,[2,41]),Z(j,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},Z(j,[2,31]),{27:[1,69]},Z(j,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},Z(j,[2,15]),Z(j,[2,26]),Z(j,[2,27]),{11:59,32:72,37:24,38:W,39:G,40:27,41:z,42:H,43:F,44:M,45:B,46:O,47:R,48:L,49:D,50:A},Z(j,[2,33]),Z(j,[2,19]),{25:73,27:w},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:I(function(v,x){if(x.recoverable)this.trace(v);else{var b=Error(v);throw b.hash=x,b}},"parseError"),parse:I(function(v){var x=this,b=[0],y=[],u=[null],h=[],p=this.table,r="",t=0,d=0,X0=0,a=2,z0=1,J0=h.slice.call(arguments,1),Q0=Object.create(this.lexer),e={yy:{}};for(var n in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,n))e.yy[n]=this.yy[n];if(Q0.setInput(v,e.yy),e.yy.lexer=Q0,e.yy.parser=this,typeof Q0.yylloc>"u")Q0.yylloc={};var Y0=Q0.yylloc;h.push(Y0);var o=Q0.options&&Q0.options.ranges;if(typeof e.yy.parseError==="function")this.parseError=e.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function M0(F0){b.length=b.length-2*F0,u.length=u.length-F0,h.length=h.length-F0}I(M0,"popStack");function K0(){var F0=y.pop()||Q0.lex()||z0;if(typeof F0!=="number"){if(F0 instanceof Array)y=F0,F0=y.pop();F0=x.symbols_[F0]||F0}return F0}I(K0,"lex");var V0,i,p0,B0,h0,a0,s0={},$0,x0,f0,C0;while(!0){if(p0=b[b.length-1],this.defaultActions[p0])B0=this.defaultActions[p0];else{if(V0===null||typeof V0>"u")V0=K0();B0=p[p0]&&p[p0][V0]}if(typeof B0>"u"||!B0.length||!B0[0]){var m0="";C0=[];for($0 in p[p0])if(this.terminals_[$0]&&$0>a)C0.push("'"+this.terminals_[$0]+"'");if(Q0.showPosition)m0="Parse error on line "+(t+1)+`:
`+Q0.showPosition()+`
Expecting `+C0.join(", ")+", got '"+(this.terminals_[V0]||V0)+"'";else m0="Parse error on line "+(t+1)+": Unexpected "+(V0==z0?"end of input":"'"+(this.terminals_[V0]||V0)+"'");this.parseError(m0,{text:Q0.match,token:this.terminals_[V0]||V0,line:Q0.yylineno,loc:Y0,expected:C0})}if(B0[0]instanceof Array&&B0.length>1)throw Error("Parse Error: multiple actions possible at state: "+p0+", token: "+V0);switch(B0[0]){case 1:if(b.push(V0),u.push(Q0.yytext),h.push(Q0.yylloc),b.push(B0[1]),V0=null,!i){if(d=Q0.yyleng,r=Q0.yytext,t=Q0.yylineno,Y0=Q0.yylloc,X0>0)X0--}else V0=i,i=null;break;case 2:if(x0=this.productions_[B0[1]][1],s0.$=u[u.length-x0],s0._$={first_line:h[h.length-(x0||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(x0||1)].first_column,last_column:h[h.length-1].last_column},o)s0._$.range=[h[h.length-(x0||1)].range[0],h[h.length-1].range[1]];if(a0=this.performAction.apply(s0,[r,d,t,e.yy,B0[1],u,h].concat(J0)),typeof a0<"u")return a0;if(x0)b=b.slice(0,-1*x0*2),u=u.slice(0,-1*x0),h=h.slice(0,-1*x0);b.push(this.productions_[B0[1]][0]),u.push(s0.$),h.push(s0._$),f0=p[b[b.length-2]][b[b.length-1]],b.push(f0);break;case 3:return!0}}return!0},"parse")},S=function(){var _={EOF:1,parseError:I(function(x,b){if(this.yy.parser)this.yy.parser.parseError(x,b);else throw Error(x)},"parseError"),setInput:I(function(v,x){if(this.yy=x||this.yy||{},this._input=v,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var v=this._input[0];this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v;var x=v.match(/(?:\r\n?|\n).*/g);if(x)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),v},"input"),unput:I(function(v){var x=v.length,b=v.split(/(?:\r\n?|\n)/g);this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var y=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),b.length-1)this.yylineno-=b.length-1;var u=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===y.length?this.yylloc.first_column:0)+y[y.length-b.length].length-b[0].length:this.yylloc.first_column-x},this.options.ranges)this.yylloc.range=[u[0],u[0]+this.yyleng-x];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(v){this.unput(this.match.slice(v))},"less"),pastInput:I(function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var v=this.match;if(v.length<20)v+=this._input.substr(0,20-v.length);return(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var v=this.pastInput(),x=Array(v.length+1).join("-");return v+this.upcomingInput()+`
`+x+"^"},"showPosition"),test_match:I(function(v,x){var b,y,u;if(this.options.backtrack_lexer){if(u={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)u.yylloc.range=this.yylloc.range.slice(0)}if(y=v[0].match(/(?:\r\n?|\n).*/g),y)this.yylineno+=y.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+v[0].length},this.yytext+=v[0],this.match+=v[0],this.matches=v,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(v[0].length),this.matched+=v[0],b=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(b)return b;else if(this._backtrack){for(var h in u)this[h]=u[h];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var v,x,b,y;if(!this._more)this.yytext="",this.match="";var u=this._currentRules();for(var h=0;h<u.length;h++)if(b=this._input.match(this.rules[u[h]]),b&&(!x||b[0].length>x[0].length)){if(x=b,y=h,this.options.backtrack_lexer)if(v=this.test_match(b,u[h]),v!==!1)return v;else if(this._backtrack){x=!1;continue}else return!1;else if(!this.options.flex)break}if(x){if(v=this.test_match(x,u[y]),v!==!1)return v;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var x=this.next();if(x)return x;else return this.lex()},"lex"),begin:I(function(x){this.conditionStack.push(x)},"begin"),popState:I(function(){var x=this.conditionStack.length-1;if(x>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(x){if(x=this.conditionStack.length-1-Math.abs(x||0),x>=0)return this.conditionStack[x];else return"INITIAL"},"topState"),pushState:I(function(x){this.begin(x)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(x,b,y,u){var h=u;switch(y){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";break;case 18:return this.pushState("axis_data"),"Y_AXIS";break;case 19:return this.pushState("axis_band_data"),24;break;case 20:return 31;case 21:return this.pushState("data"),16;break;case 22:return this.pushState("data"),18;break;case 23:return this.pushState("data_inner"),24;break;case 24:return 27;case 25:return this.popState(),26;break;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return _}();P.lexer=S;function T(){this.yy={}}return I(T,"Parser"),T.prototype=P,P.Parser=T,new T}();wt.parser=wt;Cb8=wt;I($t,"isBarPlot");I(ft,"isBandAxisData");I(KO,"isLinearAxisData");wh0=class{constructor(Z){this.parentGroup=Z}static{I(this,"TextDimensionCalculatorWithFont")}getMaxDimension(Z,J){if(!this.parentGroup)return{width:Z.reduce((U,X)=>Math.max(X.length,U),0)*J,height:J};let Q={width:0,height:0},K=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",J);for(let U of Z){let X=np(K,1,U),Y=X?X.width:U.length*J,q=X?X.height:J;Q.width=Math.max(Q.width,Y),Q.height=Math.max(Q.height,q)}return K.remove(),Q}},$h0=class{constructor(Z,J,Q,K){this.axisConfig=Z,this.title=J,this.textDimensionCalculator=Q,this.axisThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{I(this,"BaseAxis")}setRange(Z){if(this.range=Z,this.axisPosition==="left"||this.axisPosition==="right")this.boundingRect.height=Z[1]-Z[0];else this.boundingRect.width=Z[1]-Z[0];this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(Z){this.axisPosition=Z,this.setRange(this.range)}getTickDistance(){let Z=this.getRange();return Math.abs(Z[0]-Z[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((Z)=>Z.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){if(Sh0*this.getTickDistance()>this.outerPadding*2)this.outerPadding=Math.floor(Sh0*this.getTickDistance()/2);this.recalculateScale()}calculateSpaceIfDrawnHorizontally(Z){let J=Z.height;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){let Q=this.getLabelDimension(),K=Th0*Z.width;this.outerPadding=Math.min(Q.width/2,K);let U=Q.height+this.axisConfig.labelPadding*2;if(this.labelTextHeight=Q.height,U<=J)J-=U,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){let Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width,this.boundingRect.height=Z.height-J}calculateSpaceIfDrawnVertical(Z){let J=Z.width;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){let Q=this.getLabelDimension(),K=Th0*Z.height;this.outerPadding=Math.min(Q.height/2,K);let U=Q.width+this.axisConfig.labelPadding*2;if(U<=J)J-=U,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){let Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width-J,this.boundingRect.height=Z.height}calculateSpace(Z){if(this.axisPosition==="left"||this.axisPosition==="right")this.calculateSpaceIfDrawnVertical(Z);else this.calculateSpaceIfDrawnHorizontally(Z);return this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}getDrawableElementsForLeftAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${J},${this.boundingRect.y} L ${J},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(J),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))});if(this.showTick){let J=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${J},${this.getScaleValue(Q)} L ${J-this.axisConfig.tickLength},${this.getScaleValue(Q)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForBottomAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.y+this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){let J=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J} L ${this.getScaleValue(Q)},${J+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForTopAxis(){let Z=[];if(this.showAxisLine){let J=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){let J=this.boundingRect.y;Z.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(Q)},${J+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");if(this.axisPosition==="bottom")return this.getDrawableElementsForBottomAxis();if(this.axisPosition==="top")return this.getDrawableElementsForTopAxis();return[]}},jb8=class extends $h0{static{I(this,"BandAxis")}constructor(Z,J,Q,K,U){super(Z,K,U,J);this.categories=Q,this.scale=q2().domain(this.categories).range(this.getRange())}setRange(Z){super.setRange(Z)}recalculateScale(){this.scale=q2().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5),Z0.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(Z){return this.scale(Z)??this.getRange()[0]}},Sb8=class extends $h0{static{I(this,"LinearAxis")}constructor(Z,J,Q,K,U){super(Z,K,U,J);this.domain=Q,this.scale=q5().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let Z=[...this.domain];if(this.axisPosition==="left")Z.reverse();this.scale=q5().domain(Z).range(this.getRange())}getScaleValue(Z){return this.scale(Z)}};I(kt,"getAxis");Tb8=class{constructor(Z,J,Q,K){this.textDimensionCalculator=Z,this.chartConfig=J,this.chartData=Q,this.chartThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{I(this,"ChartTitle")}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){let J=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),Q=Math.max(J.width,Z.width),K=J.height+2*this.chartConfig.titlePadding;if(J.width<=Q&&J.height<=K&&this.chartConfig.showTitle&&this.chartData.title)this.boundingRect.width=Q,this.boundingRect.height=K,this.showChartTitle=!0;return{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let Z=[];if(this.showChartTitle)Z.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]});return Z}};I(kh0,"getChartTitleComponent");wb8=class{constructor(Z,J,Q,K,U){this.plotData=Z,this.xAxis=J,this.yAxis=Q,this.orientation=K,this.plotIndex=U}static{I(this,"LinePlot")}getDrawableElement(){let Z=this.plotData.data.map((Q)=>[this.xAxis.getScaleValue(Q[0]),this.yAxis.getScaleValue(Q[1])]),J;if(this.orientation==="horizontal")J=F5().y((Q)=>Q[0]).x((Q)=>Q[1])(Z);else J=F5().x((Q)=>Q[0]).y((Q)=>Q[1])(Z);if(!J)return[];return[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:J,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]}},$b8=class{constructor(Z,J,Q,K,U,X){this.barData=Z,this.boundingRect=J,this.xAxis=Q,this.yAxis=K,this.orientation=U,this.plotIndex=X}static{I(this,"BarPlot")}getDrawableElement(){let Z=this.barData.data.map((U)=>[this.xAxis.getScaleValue(U[0]),this.yAxis.getScaleValue(U[1])]),J=0.05,Q=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*0.95,K=Q/2;if(this.orientation==="horizontal")return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((U)=>({x:this.boundingRect.x,y:U[0]-K,height:Q,width:U[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}];return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((U)=>({x:U[0]-K,y:U[1],width:Q,height:this.boundingRect.y+this.boundingRect.height-U[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},kb8=class{constructor(Z,J,Q){this.chartConfig=Z,this.chartData=J,this.chartThemeConfig=Q,this.boundingRect={x:0,y:0,width:0,height:0}}static{I(this,"BasePlot")}setAxes(Z,J){this.xAxis=Z,this.yAxis=J}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){return this.boundingRect.width=Z.width,this.boundingRect.height=Z.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let Z=[];for(let[J,Q]of this.chartData.plots.entries())switch(Q.type){case"line":{let K=new wb8(Q,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break;case"bar":{let K=new $b8(Q,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break}return Z}};I(_h0,"getPlotComponent");_b8=class{constructor(Z,J,Q,K){this.chartConfig=Z,this.chartData=J,this.componentStore={title:kh0(Z,J,Q,K),plot:_h0(Z,J,Q),xAxis:kt(J.xAxis,Z.xAxis,{titleColor:Q.xAxisTitleColor,labelColor:Q.xAxisLabelColor,tickColor:Q.xAxisTickColor,axisLineColor:Q.xAxisLineColor},K),yAxis:kt(J.yAxis,Z.yAxis,{titleColor:Q.yAxisTitleColor,labelColor:Q.yAxisLabelColor,tickColor:Q.yAxisTickColor,axisLineColor:Q.yAxisLineColor},K)}}static{I(this,"Orchestrator")}calculateVerticalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,U=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),X=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),Y=this.componentStore.plot.calculateSpace({width:U,height:X});if(Z-=Y.width,J-=Y.height,Y=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),K=Y.height,J-=Y.height,this.componentStore.xAxis.setAxisPosition("bottom"),Y=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),J-=Y.height,this.componentStore.yAxis.setAxisPosition("left"),Y=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),Q=Y.width,Z-=Y.width,Z>0)U+=Z,Z=0;if(J>0)X+=J,J=0;if(this.componentStore.plot.calculateSpace({width:U,height:X}),this.componentStore.plot.setBoundingBoxXY({x:Q,y:K}),this.componentStore.xAxis.setRange([Q,Q+U]),this.componentStore.xAxis.setBoundingBoxXY({x:Q,y:K+X}),this.componentStore.yAxis.setRange([K,K+X]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:K}),this.chartData.plots.some((q)=>$t(q)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,U=0,X=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),Y=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),q=this.componentStore.plot.calculateSpace({width:X,height:Y});if(Z-=q.width,J-=q.height,q=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),Q=q.height,J-=q.height,this.componentStore.xAxis.setAxisPosition("left"),q=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),Z-=q.width,K=q.width,this.componentStore.yAxis.setAxisPosition("top"),q=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),J-=q.height,U=Q+q.height,Z>0)X+=Z,Z=0;if(J>0)Y+=J,J=0;if(this.componentStore.plot.calculateSpace({width:X,height:Y}),this.componentStore.plot.setBoundingBoxXY({x:K,y:U}),this.componentStore.yAxis.setRange([K,K+X]),this.componentStore.yAxis.setBoundingBoxXY({x:K,y:Q}),this.componentStore.xAxis.setRange([U,U+Y]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:U}),this.chartData.plots.some((W)=>$t(W)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){if(this.chartConfig.chartOrientation==="horizontal")this.calculateHorizontalSpace();else this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let Z=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let J of Object.values(this.componentStore))Z.push(...J.getDrawableElements());return Z}},fb8=class{static{I(this,"XYChartBuilder")}static build(Z,J,Q,K){return new _b8(Z,J,Q,K).getDrawableElement()}},wA=bt(),$A=xt(),S9=yt(),_t=$A.plotColorPalette.split(",").map((Z)=>Z.trim());I(xt,"getChartDefaultThemeConfig");I(bt,"getChartDefaultConfig");I(yt,"getChartDefaultData");I(y_,"textSanitizer");I(vh0,"setTmpSVGG");I(xh0,"setOrientation");I(bh0,"setXAxisTitle");I(ht,"setXAxisRangeData");I(yh0,"setXAxisBand");I(hh0,"setYAxisTitle");I(mh0,"setYAxisRangeData");I(uh0,"setYAxisRangeFromPlotData");I(mt,"transformDataWithoutCategory");I(ut,"getPlotColorFromPalette");I(gh0,"setLineData");I(ph0,"setBarData");I(ch0,"getDrawableElem");I(lh0,"getChartThemeConfig");I(dh0,"getChartConfig");I(ih0,"getXYChartData");vb8=I(function(){bZ(),TA=0,wA=bt(),S9=yt(),$A=xt(),_t=$A.plotColorPalette.split(",").map((Z)=>Z.trim()),b_=!1,vt=!1},"clear"),xb8={getDrawableElem:ch0,clear:vb8,setAccTitle:cZ,getAccTitle:sZ,setDiagramTitle:Z9,getDiagramTitle:aZ,getAccDescription:nZ,setAccDescription:rZ,setOrientation:xh0,setXAxisTitle:bh0,setXAxisRangeData:ht,setXAxisBand:yh0,setYAxisTitle:hh0,setYAxisRangeData:mh0,setLineData:gh0,setBarData:ph0,setTmpSVGG:vh0,getChartThemeConfig:lh0,getChartConfig:dh0,getXYChartData:ih0},bb8=I((Z,J,Q,K)=>{let U=K.db,X=U.getChartThemeConfig(),Y=U.getChartConfig(),q=U.getXYChartData().plots[0].data.map((A)=>A[1]);function W(A){return A==="top"?"text-before-edge":"middle"}I(W,"getDominantBaseLine");function G(A){return A==="left"?"start":A==="right"?"end":"middle"}I(G,"getTextAnchor");function z(A){return`translate(${A.x}, ${A.y}) rotate(${A.rotation||0})`}I(z,"getTextTransformation"),Z0.debug(`Rendering xychart chart
`+Z);let H=k7(J),F=H.append("g").attr("class","main"),M=F.append("rect").attr("width",Y.width).attr("height",Y.height).attr("class","background");T9(H,Y.height,Y.width,!0),H.attr("viewBox",`0 0 ${Y.width} ${Y.height}`),M.attr("fill",X.backgroundColor),U.setTmpSVGG(H.append("g").attr("class","mermaid-tmp-group"));let B=U.getDrawableElem(),O={};function R(A){let V=F,N="";for(let[E]of A.entries()){let C=F;if(E>0&&O[N])C=O[N];if(N+=A[E],V=O[N],!V)V=O[N]=C.append("g").attr("class",A[E])}return V}I(R,"getGroup");for(let A of B){if(A.data.length===0)continue;let V=R(A.groupTexts);switch(A.type){case"rect":if(V.selectAll("rect").data(A.data).enter().append("rect").attr("x",(N)=>N.x).attr("y",(N)=>N.y).attr("width",(N)=>N.width).attr("height",(N)=>N.height).attr("fill",(N)=>N.fill).attr("stroke",(N)=>N.strokeFill).attr("stroke-width",(N)=>N.strokeWidth),Y.showDataLabel)if(Y.chartOrientation==="horizontal"){let N=function(k,w){let{data:P,label:S}=k;return w*S.length*E<=P.width-10};var L=N;I(N,"fitsHorizontally");let E=0.7,C=A.data.map((k,w)=>({data:k,label:q[w].toString()})).filter((k)=>k.data.width>0&&k.data.height>0),j=C.map((k)=>{let{data:w}=k,P=w.height*0.7;while(!N(k,P)&&P>0)P-=1;return P}),$=Math.floor(Math.min(...j));V.selectAll("text").data(C).enter().append("text").attr("x",(k)=>k.data.x+k.data.width-10).attr("y",(k)=>k.data.y+k.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${$}px`).text((k)=>k.label)}else{let N=function(k,w,P){let{data:S,label:T}=k,_=0.7,v=w*T.length*0.7,x=S.x+S.width/2,b=x-v/2,y=x+v/2,u=b>=S.x&&y<=S.x+S.width,h=S.y+P+w<=S.y+S.height;return u&&h};var D=N;I(N,"fitsInBar");let E=10,C=A.data.map((k,w)=>({data:k,label:q[w].toString()})).filter((k)=>k.data.width>0&&k.data.height>0),j=C.map((k)=>{let{data:w,label:P}=k,S=w.width/(P.length*0.7);while(!N(k,S,E)&&S>0)S-=1;return S}),$=Math.floor(Math.min(...j));V.selectAll("text").data(C).enter().append("text").attr("x",(k)=>k.data.x+k.data.width/2).attr("y",(k)=>k.data.y+E).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${$}px`).text((k)=>k.label)}break;case"text":V.selectAll("text").data(A.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",(N)=>N.fill).attr("font-size",(N)=>N.fontSize).attr("dominant-baseline",(N)=>W(N.verticalPos)).attr("text-anchor",(N)=>G(N.horizontalPos)).attr("transform",(N)=>z(N)).text((N)=>N.text);break;case"path":V.selectAll("path").data(A.data).enter().append("path").attr("d",(N)=>N.path).attr("fill",(N)=>N.fill?N.fill:"none").attr("stroke",(N)=>N.strokeFill).attr("stroke-width",(N)=>N.strokeWidth);break}}},"draw"),yb8={draw:bb8},hb8={parser:Cb8,db:xb8,renderer:yb8}});var ah0={};LZ(ah0,{diagram:()=>lb8});var gt,mb8,ub8,gb8,pb8,nh0,cb8,lb8;var oh0=f(()=>{P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();gt=function(){var Z=I(function(F0,I0,s,H0){for(s=s||{},H0=F0.length;H0--;s[F0[H0]]=I0);return s},"o"),J=[1,3],Q=[1,4],K=[1,5],U=[1,6],X=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],Y=[1,22],q=[2,7],W=[1,26],G=[1,27],z=[1,28],H=[1,29],F=[1,33],M=[1,34],B=[1,35],O=[1,36],R=[1,37],L=[1,38],D=[1,24],A=[1,31],V=[1,32],N=[1,30],E=[1,39],C=[1,40],j=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],$=[1,61],k=[89,90],w=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],P=[27,29],S=[1,70],T=[1,71],_=[1,72],v=[1,73],x=[1,74],b=[1,75],y=[1,76],u=[1,83],h=[1,80],p=[1,84],r=[1,85],t=[1,86],d=[1,87],X0=[1,88],a=[1,89],z0=[1,90],J0=[1,91],Q0=[1,92],e=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],n=[63,64],Y0=[1,101],o=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],M0=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],K0=[1,110],V0=[1,106],i=[1,107],p0=[1,108],B0=[1,109],h0=[1,111],a0=[1,116],s0=[1,117],$0=[1,114],x0=[1,115],f0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:I(function(I0,s,H0,m,q0,W0,N0){var D0=W0.length-1;switch(q0){case 4:this.$=W0[D0].trim(),m.setAccTitle(this.$);break;case 5:case 6:this.$=W0[D0].trim(),m.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:m.setDirection("TB");break;case 18:m.setDirection("BT");break;case 19:m.setDirection("RL");break;case 20:m.setDirection("LR");break;case 21:m.addRequirement(W0[D0-3],W0[D0-4]);break;case 22:m.addRequirement(W0[D0-5],W0[D0-6]),m.setClass([W0[D0-5]],W0[D0-3]);break;case 23:m.setNewReqId(W0[D0-2]);break;case 24:m.setNewReqText(W0[D0-2]);break;case 25:m.setNewReqRisk(W0[D0-2]);break;case 26:m.setNewReqVerifyMethod(W0[D0-2]);break;case 29:this.$=m.RequirementType.REQUIREMENT;break;case 30:this.$=m.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=m.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=m.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=m.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=m.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=m.RiskLevel.LOW_RISK;break;case 36:this.$=m.RiskLevel.MED_RISK;break;case 37:this.$=m.RiskLevel.HIGH_RISK;break;case 38:this.$=m.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=m.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=m.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=m.VerifyType.VERIFY_TEST;break;case 42:m.addElement(W0[D0-3]);break;case 43:m.addElement(W0[D0-5]),m.setClass([W0[D0-5]],W0[D0-3]);break;case 44:m.setNewElementType(W0[D0-2]);break;case 45:m.setNewElementDocRef(W0[D0-2]);break;case 48:m.addRelationship(W0[D0-2],W0[D0],W0[D0-4]);break;case 49:m.addRelationship(W0[D0-2],W0[D0-4],W0[D0]);break;case 50:this.$=m.Relationships.CONTAINS;break;case 51:this.$=m.Relationships.COPIES;break;case 52:this.$=m.Relationships.DERIVES;break;case 53:this.$=m.Relationships.SATISFIES;break;case 54:this.$=m.Relationships.VERIFIES;break;case 55:this.$=m.Relationships.REFINES;break;case 56:this.$=m.Relationships.TRACES;break;case 57:this.$=W0[D0-2],m.defineClass(W0[D0-1],W0[D0]);break;case 58:m.setClass(W0[D0-1],W0[D0]);break;case 59:m.setClass([W0[D0-2]],W0[D0]);break;case 60:case 62:this.$=[W0[D0]];break;case 61:case 63:this.$=W0[D0-2].concat([W0[D0]]);break;case 64:this.$=W0[D0-2],m.setCssStyle(W0[D0-1],W0[D0]);break;case 65:this.$=[W0[D0]];break;case 66:W0[D0-2].push(W0[D0]),this.$=W0[D0-2];break;case 68:this.$=W0[D0-1]+W0[D0];break}},"anonymous"),table:[{3:1,4:2,6:J,9:Q,11:K,13:U},{1:[3]},{3:8,4:2,5:[1,7],6:J,9:Q,11:K,13:U},{5:[1,9]},{10:[1,10]},{12:[1,11]},Z(X,[2,6]),{3:12,4:2,6:J,9:Q,11:K,13:U},{1:[2,2]},{4:17,5:Y,7:13,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},Z(X,[2,4]),Z(X,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:Y,7:42,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:43,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:44,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:45,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:46,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:47,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:48,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:49,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{4:17,5:Y,7:50,8:q,9:Q,11:K,13:U,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:W,22:G,23:z,24:H,25:23,33:25,41:F,42:M,43:B,44:O,45:R,46:L,54:D,72:A,74:V,77:N,89:E,90:C},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},Z(j,[2,17]),Z(j,[2,18]),Z(j,[2,19]),Z(j,[2,20]),{30:60,33:62,75:$,89:E,90:C},{30:63,33:62,75:$,89:E,90:C},{30:64,33:62,75:$,89:E,90:C},Z(k,[2,29]),Z(k,[2,30]),Z(k,[2,31]),Z(k,[2,32]),Z(k,[2,33]),Z(k,[2,34]),Z(w,[2,81]),Z(w,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},Z(P,[2,79]),Z(P,[2,80]),{27:[1,67],29:[1,68]},Z(P,[2,85]),Z(P,[2,86]),{62:69,65:S,66:T,67:_,68:v,69:x,70:b,71:y},{62:77,65:S,66:T,67:_,68:v,69:x,70:b,71:y},{30:78,33:62,75:$,89:E,90:C},{73:79,75:u,76:h,78:81,79:82,80:p,81:r,82:t,83:d,84:X0,85:a,86:z0,87:J0,88:Q0},Z(e,[2,60]),Z(e,[2,62]),{73:93,75:u,76:h,78:81,79:82,80:p,81:r,82:t,83:d,84:X0,85:a,86:z0,87:J0,88:Q0},{30:94,33:62,75:$,76:h,89:E,90:C},{5:[1,95]},{30:96,33:62,75:$,89:E,90:C},{5:[1,97]},{30:98,33:62,75:$,89:E,90:C},{63:[1,99]},Z(n,[2,50]),Z(n,[2,51]),Z(n,[2,52]),Z(n,[2,53]),Z(n,[2,54]),Z(n,[2,55]),Z(n,[2,56]),{64:[1,100]},Z(j,[2,59],{76:h}),Z(j,[2,64],{76:Y0}),{33:103,75:[1,102],89:E,90:C},Z(o,[2,65],{79:104,75:u,80:p,81:r,82:t,83:d,84:X0,85:a,86:z0,87:J0,88:Q0}),Z(M0,[2,67]),Z(M0,[2,69]),Z(M0,[2,70]),Z(M0,[2,71]),Z(M0,[2,72]),Z(M0,[2,73]),Z(M0,[2,74]),Z(M0,[2,75]),Z(M0,[2,76]),Z(M0,[2,77]),Z(M0,[2,78]),Z(j,[2,57],{76:Y0}),Z(j,[2,58],{76:h}),{5:K0,28:105,31:V0,34:i,36:p0,38:B0,40:h0},{27:[1,112],76:h},{5:a0,40:s0,56:113,57:$0,59:x0},{27:[1,118],76:h},{33:119,89:E,90:C},{33:120,89:E,90:C},{75:u,78:121,79:82,80:p,81:r,82:t,83:d,84:X0,85:a,86:z0,87:J0,88:Q0},Z(e,[2,61]),Z(e,[2,63]),Z(M0,[2,68]),Z(j,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:K0,28:126,31:V0,34:i,36:p0,38:B0,40:h0},Z(j,[2,28]),{5:[1,127]},Z(j,[2,42]),{32:[1,128]},{32:[1,129]},{5:a0,40:s0,56:130,57:$0,59:x0},Z(j,[2,47]),{5:[1,131]},Z(j,[2,48]),Z(j,[2,49]),Z(o,[2,66],{79:104,75:u,80:p,81:r,82:t,83:d,84:X0,85:a,86:z0,87:J0,88:Q0}),{33:132,89:E,90:C},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},Z(j,[2,27]),{5:K0,28:145,31:V0,34:i,36:p0,38:B0,40:h0},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},Z(j,[2,46]),{5:a0,40:s0,56:152,57:$0,59:x0},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},Z(j,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},Z(j,[2,43]),{5:K0,28:159,31:V0,34:i,36:p0,38:B0,40:h0},{5:K0,28:160,31:V0,34:i,36:p0,38:B0,40:h0},{5:K0,28:161,31:V0,34:i,36:p0,38:B0,40:h0},{5:K0,28:162,31:V0,34:i,36:p0,38:B0,40:h0},{5:a0,40:s0,56:163,57:$0,59:x0},{5:a0,40:s0,56:164,57:$0,59:x0},Z(j,[2,23]),Z(j,[2,24]),Z(j,[2,25]),Z(j,[2,26]),Z(j,[2,44]),Z(j,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:I(function(I0,s){if(s.recoverable)this.trace(I0);else{var H0=Error(I0);throw H0.hash=s,H0}},"parseError"),parse:I(function(I0){var s=this,H0=[0],m=[],q0=[null],W0=[],N0=this.table,D0="",L0=0,_0=0,T0=0,u0=2,Z8=1,B8=W0.slice.call(arguments,1),r0=Object.create(this.lexer),g0={yy:{}};for(var t0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,t0))g0.yy[t0]=this.yy[t0];if(r0.setInput(I0,g0.yy),g0.yy.lexer=r0,g0.yy.parser=this,typeof r0.yylloc>"u")r0.yylloc={};var d0=r0.yylloc;W0.push(d0);var X8=r0.options&&r0.options.ranges;if(typeof g0.yy.parseError==="function")this.parseError=g0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function g8(qZ){H0.length=H0.length-2*qZ,q0.length=q0.length-qZ,W0.length=W0.length-qZ}I(g8,"popStack");function M8(){var qZ=m.pop()||r0.lex()||Z8;if(typeof qZ!=="number"){if(qZ instanceof Array)m=qZ,qZ=m.pop();qZ=s.symbols_[qZ]||qZ}return qZ}I(M8,"lex");var $8,H8,G8,O8,L8,I8,F8={},iZ,w8,xZ,uZ;while(!0){if(G8=H0[H0.length-1],this.defaultActions[G8])O8=this.defaultActions[G8];else{if($8===null||typeof $8>"u")$8=M8();O8=N0[G8]&&N0[G8][$8]}if(typeof O8>"u"||!O8.length||!O8[0]){var YZ="";uZ=[];for(iZ in N0[G8])if(this.terminals_[iZ]&&iZ>u0)uZ.push("'"+this.terminals_[iZ]+"'");if(r0.showPosition)YZ="Parse error on line "+(L0+1)+`:
`+r0.showPosition()+`
Expecting `+uZ.join(", ")+", got '"+(this.terminals_[$8]||$8)+"'";else YZ="Parse error on line "+(L0+1)+": Unexpected "+($8==Z8?"end of input":"'"+(this.terminals_[$8]||$8)+"'");this.parseError(YZ,{text:r0.match,token:this.terminals_[$8]||$8,line:r0.yylineno,loc:d0,expected:uZ})}if(O8[0]instanceof Array&&O8.length>1)throw Error("Parse Error: multiple actions possible at state: "+G8+", token: "+$8);switch(O8[0]){case 1:if(H0.push($8),q0.push(r0.yytext),W0.push(r0.yylloc),H0.push(O8[1]),$8=null,!H8){if(_0=r0.yyleng,D0=r0.yytext,L0=r0.yylineno,d0=r0.yylloc,T0>0)T0--}else $8=H8,H8=null;break;case 2:if(w8=this.productions_[O8[1]][1],F8.$=q0[q0.length-w8],F8._$={first_line:W0[W0.length-(w8||1)].first_line,last_line:W0[W0.length-1].last_line,first_column:W0[W0.length-(w8||1)].first_column,last_column:W0[W0.length-1].last_column},X8)F8._$.range=[W0[W0.length-(w8||1)].range[0],W0[W0.length-1].range[1]];if(I8=this.performAction.apply(F8,[D0,_0,L0,g0.yy,O8[1],q0,W0].concat(B8)),typeof I8<"u")return I8;if(w8)H0=H0.slice(0,-1*w8*2),q0=q0.slice(0,-1*w8),W0=W0.slice(0,-1*w8);H0.push(this.productions_[O8[1]][0]),q0.push(F8.$),W0.push(F8._$),xZ=N0[H0[H0.length-2]][H0[H0.length-1]],H0.push(xZ);break;case 3:return!0}}return!0},"parse")},C0=function(){var F0={EOF:1,parseError:I(function(s,H0){if(this.yy.parser)this.yy.parser.parseError(s,H0);else throw Error(s)},"parseError"),setInput:I(function(I0,s){if(this.yy=s||this.yy||{},this._input=I0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var I0=this._input[0];this.yytext+=I0,this.yyleng++,this.offset++,this.match+=I0,this.matched+=I0;var s=I0.match(/(?:\r\n?|\n).*/g);if(s)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),I0},"input"),unput:I(function(I0){var s=I0.length,H0=I0.split(/(?:\r\n?|\n)/g);this._input=I0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-s),this.offset-=s;var m=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H0.length-1)this.yylineno-=H0.length-1;var q0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H0?(H0.length===m.length?this.yylloc.first_column:0)+m[m.length-H0.length].length-H0[0].length:this.yylloc.first_column-s},this.options.ranges)this.yylloc.range=[q0[0],q0[0]+this.yyleng-s];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(I0){this.unput(this.match.slice(I0))},"less"),pastInput:I(function(){var I0=this.matched.substr(0,this.matched.length-this.match.length);return(I0.length>20?"...":"")+I0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var I0=this.match;if(I0.length<20)I0+=this._input.substr(0,20-I0.length);return(I0.substr(0,20)+(I0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var I0=this.pastInput(),s=Array(I0.length+1).join("-");return I0+this.upcomingInput()+`
`+s+"^"},"showPosition"),test_match:I(function(I0,s){var H0,m,q0;if(this.options.backtrack_lexer){if(q0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)q0.yylloc.range=this.yylloc.range.slice(0)}if(m=I0[0].match(/(?:\r\n?|\n).*/g),m)this.yylineno+=m.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I0[0].length},this.yytext+=I0[0],this.match+=I0[0],this.matches=I0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(I0[0].length),this.matched+=I0[0],H0=this.performAction.call(this,this.yy,this,s,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(H0)return H0;else if(this._backtrack){for(var W0 in q0)this[W0]=q0[W0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var I0,s,H0,m;if(!this._more)this.yytext="",this.match="";var q0=this._currentRules();for(var W0=0;W0<q0.length;W0++)if(H0=this._input.match(this.rules[q0[W0]]),H0&&(!s||H0[0].length>s[0].length)){if(s=H0,m=W0,this.options.backtrack_lexer)if(I0=this.test_match(H0,q0[W0]),I0!==!1)return I0;else if(this._backtrack){s=!1;continue}else return!1;else if(!this.options.flex)break}if(s){if(I0=this.test_match(s,q0[m]),I0!==!1)return I0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var s=this.next();if(s)return s;else return this.lex()},"lex"),begin:I(function(s){this.conditionStack.push(s)},"begin"),popState:I(function(){var s=this.conditionStack.length-1;if(s>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(s){if(s=this.conditionStack.length-1-Math.abs(s||0),s>=0)return this.conditionStack[s];else return"INITIAL"},"topState"),pushState:I(function(s){this.begin(s)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(s,H0,m,q0){var W0=q0;switch(m){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return H0.yytext=H0.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return F0}();f0.lexer=C0;function m0(){this.yy={}}return I(m0,"Parser"),m0.prototype=f0,f0.Parser=m0,new m0}();gt.parser=gt;mb8=gt,ub8=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=cZ,this.getAccTitle=sZ,this.setAccDescription=rZ,this.getAccDescription=nZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getConfig=I(()=>E0().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{I(this,"RequirementDB")}getDirection(){return this.direction}setDirection(Z){this.direction=Z}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(Z,J){if(!this.requirements.has(Z))this.requirements.set(Z,{name:Z,type:J,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]});return this.resetLatestRequirement(),this.requirements.get(Z)}getRequirements(){return this.requirements}setNewReqId(Z){if(this.latestRequirement!==void 0)this.latestRequirement.requirementId=Z}setNewReqText(Z){if(this.latestRequirement!==void 0)this.latestRequirement.text=Z}setNewReqRisk(Z){if(this.latestRequirement!==void 0)this.latestRequirement.risk=Z}setNewReqVerifyMethod(Z){if(this.latestRequirement!==void 0)this.latestRequirement.verifyMethod=Z}addElement(Z){if(!this.elements.has(Z))this.elements.set(Z,{name:Z,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),Z0.info("Added new element: ",Z);return this.resetLatestElement(),this.elements.get(Z)}getElements(){return this.elements}setNewElementType(Z){if(this.latestElement!==void 0)this.latestElement.type=Z}setNewElementDocRef(Z){if(this.latestElement!==void 0)this.latestElement.docRef=Z}addRelationship(Z,J,Q){this.relations.push({type:Z,src:J,dst:Q})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,bZ()}setCssStyle(Z,J){for(let Q of Z){let K=this.requirements.get(Q)??this.elements.get(Q);if(!J||!K)return;for(let U of J)if(U.includes(","))K.cssStyles.push(...U.split(","));else K.cssStyles.push(U)}}setClass(Z,J){for(let Q of Z){let K=this.requirements.get(Q)??this.elements.get(Q);if(K)for(let U of J){K.classes.push(U);let X=this.classes.get(U)?.styles;if(X)K.cssStyles.push(...X)}}}defineClass(Z,J){for(let Q of Z){let K=this.classes.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.classes.set(Q,K);if(J)J.forEach(function(U){if(/color/.exec(U)){let X=U.replace("fill","bgFill");K.textStyles.push(X)}K.styles.push(U)});this.requirements.forEach((U)=>{if(U.classes.includes(Q))U.cssStyles.push(...J.flatMap((X)=>X.split(",")))}),this.elements.forEach((U)=>{if(U.classes.includes(Q))U.cssStyles.push(...J.flatMap((X)=>X.split(",")))})}}getClasses(){return this.classes}getData(){let Z=E0(),J=[],Q=[];for(let K of this.requirements.values()){let U=K;U.id=K.name,U.cssStyles=K.cssStyles,U.cssClasses=K.classes.join(" "),U.shape="requirementBox",U.look=Z.look,J.push(U)}for(let K of this.elements.values()){let U=K;U.shape="requirementBox",U.look=Z.look,U.id=K.name,U.cssStyles=K.cssStyles,U.cssClasses=K.classes.join(" "),J.push(U)}for(let K of this.relations){let U=0,X=K.type===this.Relationships.CONTAINS,Y={id:`${K.src}-${K.dst}-${U}`,start:this.requirements.get(K.src)?.name??this.elements.get(K.src)?.name,end:this.requirements.get(K.dst)?.name??this.elements.get(K.dst)?.name,label:`&lt;&lt;${K.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",X?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:X?"normal":"dashed",arrowTypeStart:X?"requirement_contains":"",arrowTypeEnd:X?"":"requirement_arrow",look:Z.look};Q.push(Y),U++}return{nodes:J,edges:Q,other:{},config:Z,direction:this.getDirection()}}},gb8=I((Z)=>`

  marker {
    fill: ${Z.relationColor};
    stroke: ${Z.relationColor};
  }

  marker.cross {
    stroke: ${Z.lineColor};
  }

  svg {
    font-family: ${Z.fontFamily};
    font-size: ${Z.fontSize};
  }

  .reqBox {
    fill: ${Z.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${Z.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${Z.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${Z.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${Z.relationLabelColor};
  }
  .divider {
    stroke: ${Z.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .label text,span {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .labelBkg {
    background-color: ${Z.edgeLabelBackground};
  }

`,"getStyles"),pb8=gb8,nh0={};q1(nh0,{draw:()=>cb8});cb8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing requirement diagram (unified)",J);let{securityLevel:U,state:X,layout:Y}=E0(),q=K.db.getData(),W=CK(J,U);q.type=K.type,q.layoutAlgorithm=lU(Y),q.nodeSpacing=X?.nodeSpacing??50,q.rankSpacing=X?.rankSpacing??50,q.markers=["requirement_contains","requirement_arrow"],q.diagramId=J,await IK(q,W);let G=8;ZZ.insertTitle(W,"requirementDiagramTitleText",X?.titleTopMargin??25,K.db.getDiagramTitle()),o6(W,G,"requirementDiagram",X?.useMaxWidth??!0)},"draw"),lb8={parser:mb8,get db(){return new ub8},renderer:nh0,styles:pb8}});var Gm0={};LZ(Gm0,{diagram:()=>$y8});async function Km0(Z,J){W8.bumpVerticalPos(10);let{startx:Q,stopx:K,message:U}=J,X=U8.splitBreaks(U).length,Y=UJ(U),q=Y?await lH(U,E0()):ZZ.calculateTextDimensions(U,dz(v0));if(!Y){let H=q.height/X;J.height+=H,W8.bumpVerticalPos(H)}let W,G=q.height-10,z=q.width;if(Q===K){if(W=W8.getVerticalPos()+G,!v0.rightAngles)G+=v0.boxMargin,W=W8.getVerticalPos()+G;G+=30;let H=U8.getMax(z/2,v0.width/2);W8.insert(Q-H,W8.getVerticalPos()-10+G,K+H,W8.getVerticalPos()+30+G)}else G+=v0.boxMargin,W=W8.getVerticalPos()+G,W8.insert(Q,W-10,K,W);return W8.bumpVerticalPos(G),J.height+=G,J.stopy=J.starty+J.height,W8.insert(J.fromBounds,J.starty,J.toBounds,J.stopy),W}function h5(Z,J,Q,K,U){W8.bumpVerticalPos(Q);let X=K;if(J.id&&J.message&&Z[J.id]){let Y=Z[J.id].width,q=dz(v0);J.message=ZZ.wrapLabel(`[${J.message}]`,Y-2*v0.wrapPadding,q),J.width=Y,J.wrap=!0;let W=ZZ.calculateTextDimensions(J.message,q),G=U8.getMax(W.height,v0.labelBoxHeight);X=K+G,Z0.debug(`${G} - ${J.message}`)}U(J),W8.bumpVerticalPos(X)}function Ym0(Z,J,Q,K,U,X,Y){function q(z,H){if(z.x<U.get(Z.from).x)W8.insert(J.stopx-H,J.starty,J.startx,J.stopy+z.height/2+v0.noteMargin),J.stopx=J.stopx+H;else W8.insert(J.startx,J.starty,J.stopx+H,J.stopy+z.height/2+v0.noteMargin),J.stopx=J.stopx-H}I(q,"receiverAdjustment");function W(z,H){if(z.x<U.get(Z.to).x)W8.insert(J.startx-H,J.starty,J.stopx,J.stopy+z.height/2+v0.noteMargin),J.startx=J.startx+H;else W8.insert(J.stopx,J.starty,J.startx+H,J.stopy+z.height/2+v0.noteMargin),J.startx=J.startx-H}I(W,"senderAdjustment");let G=[h_.ACTOR,h_.CONTROL,h_.ENTITY,h_.DATABASE];if(X.get(Z.to)==K){let z=U.get(Z.to),H=G.includes(z.type)?lz/2+3:z.width/2+3;q(z,H),z.starty=Q-z.height/2,W8.bumpVerticalPos(z.height/2)}else if(Y.get(Z.from)==K){let z=U.get(Z.from);if(v0.mirrorActors){let H=G.includes(z.type)?lz/2:z.width/2;W(z,H)}z.stopy=Q-z.height/2,W8.bumpVerticalPos(z.height/2)}else if(Y.get(Z.to)==K){let z=U.get(Z.to);if(v0.mirrorActors){let H=G.includes(z.type)?lz/2+3:z.width/2+3;q(z,H)}z.stopy=Q-z.height/2,W8.bumpVerticalPos(z.height/2)}}async function qm0(Z,J,Q){let K={};for(let U of J)if(Z.get(U.to)&&Z.get(U.from)){let X=Z.get(U.to);if(U.placement===Q.db.PLACEMENT.LEFTOF&&!X.prevActor)continue;if(U.placement===Q.db.PLACEMENT.RIGHTOF&&!X.nextActor)continue;let Y=U.placement!==void 0,q=!Y,W=Y?UO(v0):dz(v0),G=U.wrap?ZZ.wrapLabel(U.message,v0.width-2*v0.wrapPadding,W):U.message,H=(UJ(G)?await lH(U.message,E0()):ZZ.calculateTextDimensions(G,W)).width+2*v0.wrapPadding;if(q&&U.from===X.nextActor)K[U.to]=U8.getMax(K[U.to]||0,H);else if(q&&U.from===X.prevActor)K[U.from]=U8.getMax(K[U.from]||0,H);else if(q&&U.from===U.to)K[U.from]=U8.getMax(K[U.from]||0,H/2),K[U.to]=U8.getMax(K[U.to]||0,H/2);else if(U.placement===Q.db.PLACEMENT.RIGHTOF)K[U.from]=U8.getMax(K[U.from]||0,H);else if(U.placement===Q.db.PLACEMENT.LEFTOF)K[X.prevActor]=U8.getMax(K[X.prevActor]||0,H);else if(U.placement===Q.db.PLACEMENT.OVER){if(X.prevActor)K[X.prevActor]=U8.getMax(K[X.prevActor]||0,H/2);if(X.nextActor)K[U.from]=U8.getMax(K[U.from]||0,H/2)}}return Z0.debug("maxMessageWidthPerActor:",K),K}async function Wm0(Z,J,Q){let K=0;for(let X of Z.keys()){let Y=Z.get(X);if(Y.wrap)Y.description=ZZ.wrapLabel(Y.description,v0.width-2*v0.wrapPadding,ct(v0));let q=UJ(Y.description)?await lH(Y.description,E0()):ZZ.calculateTextDimensions(Y.description,ct(v0));Y.width=Y.wrap?v0.width:U8.getMax(v0.width,q.width+2*v0.wrapPadding),Y.height=Y.wrap?U8.getMax(q.height,v0.height):v0.height,K=U8.getMax(K,Y.height)}for(let X in J){let Y=Z.get(X);if(!Y)continue;let q=Z.get(Y.nextActor);if(!q){let H=J[X]+v0.actorMargin-Y.width/2;Y.margin=U8.getMax(H,v0.actorMargin);continue}let G=J[X]+v0.actorMargin-Y.width/2-q.width/2;Y.margin=U8.getMax(G,v0.actorMargin)}let U=0;return Q.forEach((X)=>{let Y=dz(v0),q=X.actorKeys.reduce((H,F)=>{return H+=Z.get(F).width+(Z.get(F).margin||0)},0),W=v0.boxMargin*8;if(q+=W,q-=2*v0.boxTextMargin,X.wrap)X.name=ZZ.wrapLabel(X.name,q-2*v0.wrapPadding,Y);let G=ZZ.calculateTextDimensions(X.name,Y);U=U8.getMax(G.height,U);let z=U8.getMax(q,G.width+2*v0.wrapPadding);if(X.margin=v0.boxTextMargin,q<z){let H=(z-q)/2;X.margin+=H}}),Q.forEach((X)=>X.textMaxHeight=U),U8.getMax(K,v0.height)}var dt,pt,db8,ib8,sb8,rb8,h_,nb8,ab8,ob8,lz=36,_W="actor-top",fW="actor-bottom",u_="actor-box",kW="actor-man",kA,tb8,g_,m_,XO,eh0,eZ=-1,Zm0,eb8,Zy8,Jy8,Qy8,Ky8,Uy8,Xy8,Yy8,qy8,Wy8,Gy8,zy8,Hy8,Jm0,Fy8,My8,By8,Oy8,Ry8,Ly8,Dy8,Qm0,Iy8,gY,Ay8,eJ,v0,W8,Ny8,dz,UO,ct,Ey8,Vy8,lt,Um0,Xm0,p_,th0,Py8,Cy8,jy8,Sy8,Ty8,wy8,$y8;var zm0=f(()=>{FT();ZL();zs();w9();yZ();AZ();TZ();dt=c7(N2(),1),pt=function(){var Z=I(function(Q0,e,n,Y0){for(n=n||{},Y0=Q0.length;Y0--;n[Q0[Y0]]=e);return n},"o"),J=[1,2],Q=[1,3],K=[1,4],U=[2,4],X=[1,9],Y=[1,11],q=[1,13],W=[1,14],G=[1,16],z=[1,17],H=[1,18],F=[1,24],M=[1,25],B=[1,26],O=[1,27],R=[1,28],L=[1,29],D=[1,30],A=[1,31],V=[1,32],N=[1,33],E=[1,34],C=[1,35],j=[1,36],$=[1,37],k=[1,38],w=[1,39],P=[1,41],S=[1,42],T=[1,43],_=[1,44],v=[1,45],x=[1,46],b=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],y=[2,71],u=[4,5,16,50,52,53],h=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],p=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],r=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],t=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],d=[69,70,71],X0=[1,127],a={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:I(function(e,n,Y0,o,M0,K0,V0){var i=K0.length-1;switch(M0){case 3:return o.apply(K0[i]),K0[i];break;case 4:case 9:this.$=[];break;case 5:case 10:K0[i-1].push(K0[i]),this.$=K0[i-1];break;case 6:case 7:case 11:case 12:this.$=K0[i];break;case 8:case 13:this.$=[];break;case 15:K0[i].type="createParticipant",this.$=K0[i];break;case 16:K0[i-1].unshift({type:"boxStart",boxData:o.parseBoxData(K0[i-2])}),K0[i-1].push({type:"boxEnd",boxText:K0[i-2]}),this.$=K0[i-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(K0[i-2]),sequenceIndexStep:Number(K0[i-1]),sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(K0[i-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:o.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:K0[i-1].actor};break;case 23:this.$={type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:K0[i-1].actor};break;case 29:o.setDiagramTitle(K0[i].substring(6)),this.$=K0[i].substring(6);break;case 30:o.setDiagramTitle(K0[i].substring(7)),this.$=K0[i].substring(7);break;case 31:this.$=K0[i].trim(),o.setAccTitle(this.$);break;case 32:case 33:this.$=K0[i].trim(),o.setAccDescription(this.$);break;case 34:K0[i-1].unshift({type:"loopStart",loopText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.LOOP_START}),K0[i-1].push({type:"loopEnd",loopText:K0[i-2],signalType:o.LINETYPE.LOOP_END}),this.$=K0[i-1];break;case 35:K0[i-1].unshift({type:"rectStart",color:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.RECT_START}),K0[i-1].push({type:"rectEnd",color:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.RECT_END}),this.$=K0[i-1];break;case 36:K0[i-1].unshift({type:"optStart",optText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.OPT_START}),K0[i-1].push({type:"optEnd",optText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.OPT_END}),this.$=K0[i-1];break;case 37:K0[i-1].unshift({type:"altStart",altText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.ALT_START}),K0[i-1].push({type:"altEnd",signalType:o.LINETYPE.ALT_END}),this.$=K0[i-1];break;case 38:K0[i-1].unshift({type:"parStart",parText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.PAR_START}),K0[i-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=K0[i-1];break;case 39:K0[i-1].unshift({type:"parStart",parText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.PAR_OVER_START}),K0[i-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=K0[i-1];break;case 40:K0[i-1].unshift({type:"criticalStart",criticalText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.CRITICAL_START}),K0[i-1].push({type:"criticalEnd",signalType:o.LINETYPE.CRITICAL_END}),this.$=K0[i-1];break;case 41:K0[i-1].unshift({type:"breakStart",breakText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.BREAK_START}),K0[i-1].push({type:"breakEnd",optText:o.parseMessage(K0[i-2]),signalType:o.LINETYPE.BREAK_END}),this.$=K0[i-1];break;case 43:this.$=K0[i-3].concat([{type:"option",optionText:o.parseMessage(K0[i-1]),signalType:o.LINETYPE.CRITICAL_OPTION},K0[i]]);break;case 45:this.$=K0[i-3].concat([{type:"and",parText:o.parseMessage(K0[i-1]),signalType:o.LINETYPE.PAR_AND},K0[i]]);break;case 47:this.$=K0[i-3].concat([{type:"else",altText:o.parseMessage(K0[i-1]),signalType:o.LINETYPE.ALT_ELSE},K0[i]]);break;case 48:K0[i-3].draw="participant",K0[i-3].type="addParticipant",K0[i-3].description=o.parseMessage(K0[i-1]),this.$=K0[i-3];break;case 49:K0[i-1].draw="participant",K0[i-1].type="addParticipant",this.$=K0[i-1];break;case 50:K0[i-3].draw="actor",K0[i-3].type="addParticipant",K0[i-3].description=o.parseMessage(K0[i-1]),this.$=K0[i-3];break;case 51:K0[i-1].draw="actor",K0[i-1].type="addParticipant",this.$=K0[i-1];break;case 52:K0[i-1].type="destroyParticipant",this.$=K0[i-1];break;case 53:K0[i-1].draw="participant",K0[i-1].type="addParticipant",this.$=K0[i-1];break;case 54:this.$=[K0[i-1],{type:"addNote",placement:K0[i-2],actor:K0[i-1].actor,text:K0[i]}];break;case 55:K0[i-2]=[].concat(K0[i-1],K0[i-1]).slice(0,2),K0[i-2][0]=K0[i-2][0].actor,K0[i-2][1]=K0[i-2][1].actor,this.$=[K0[i-1],{type:"addNote",placement:o.PLACEMENT.OVER,actor:K0[i-2].slice(0,2),text:K0[i]}];break;case 56:this.$=[K0[i-1],{type:"addLinks",actor:K0[i-1].actor,text:K0[i]}];break;case 57:this.$=[K0[i-1],{type:"addALink",actor:K0[i-1].actor,text:K0[i]}];break;case 58:this.$=[K0[i-1],{type:"addProperties",actor:K0[i-1].actor,text:K0[i]}];break;case 59:this.$=[K0[i-1],{type:"addDetails",actor:K0[i-1].actor,text:K0[i]}];break;case 62:this.$=[K0[i-2],K0[i]];break;case 63:this.$=K0[i];break;case 64:this.$=o.PLACEMENT.LEFTOF;break;case 65:this.$=o.PLACEMENT.RIGHTOF;break;case 66:this.$=[K0[i-4],K0[i-1],{type:"addMessage",from:K0[i-4].actor,to:K0[i-1].actor,signalType:K0[i-3],msg:K0[i],activate:!0},{type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:K0[i-1].actor}];break;case 67:this.$=[K0[i-4],K0[i-1],{type:"addMessage",from:K0[i-4].actor,to:K0[i-1].actor,signalType:K0[i-3],msg:K0[i]},{type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:K0[i-4].actor}];break;case 68:this.$=[K0[i-3],K0[i-1],{type:"addMessage",from:K0[i-3].actor,to:K0[i-1].actor,signalType:K0[i-2],msg:K0[i]}];break;case 69:this.$={type:"addParticipant",actor:K0[i-1],config:K0[i]};break;case 70:this.$=K0[i-1].trim();break;case 71:this.$={type:"addParticipant",actor:K0[i]};break;case 72:this.$=o.LINETYPE.SOLID_OPEN;break;case 73:this.$=o.LINETYPE.DOTTED_OPEN;break;case 74:this.$=o.LINETYPE.SOLID;break;case 75:this.$=o.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=o.LINETYPE.DOTTED;break;case 77:this.$=o.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=o.LINETYPE.SOLID_CROSS;break;case 79:this.$=o.LINETYPE.DOTTED_CROSS;break;case 80:this.$=o.LINETYPE.SOLID_POINT;break;case 81:this.$=o.LINETYPE.DOTTED_POINT;break;case 82:this.$=o.parseMessage(K0[i].trim().substring(1));break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],U,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:X,5:Y,8:8,9:10,12:12,13:q,14:W,17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},Z(b,[2,5]),{9:47,12:12,13:q,14:W,17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},Z(b,[2,7]),Z(b,[2,8]),Z(b,[2,14]),{12:48,50:$,52:k,53:w},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:x},{22:55,71:x},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},Z(b,[2,29]),Z(b,[2,30]),{32:[1,61]},{34:[1,62]},Z(b,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:x},{22:75,71:x},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:x},{22:92,71:x},{22:93,71:x},{22:94,71:x},Z([5,51,65,76,77,78,79,80,81,82,83,84,85,86],y),Z(b,[2,6]),Z(b,[2,15]),Z(u,[2,9],{10:95}),Z(b,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},Z(b,[2,21]),{5:[1,99]},{5:[1,100]},Z(b,[2,24]),Z(b,[2,25]),Z(b,[2,26]),Z(b,[2,27]),Z(b,[2,28]),Z(b,[2,31]),Z(b,[2,32]),Z(h,U,{7:101}),Z(h,U,{7:102}),Z(h,U,{7:103}),Z(p,U,{40:104,7:105}),Z(r,U,{42:106,7:107}),Z(r,U,{7:107,42:108}),Z(t,U,{45:109,7:110}),Z(h,U,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},Z([5,51],y,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:x},Z(d,[2,72]),Z(d,[2,73]),Z(d,[2,74]),Z(d,[2,75]),Z(d,[2,76]),Z(d,[2,77]),Z(d,[2,78]),Z(d,[2,79]),Z(d,[2,80]),Z(d,[2,81]),{22:123,71:x},{22:125,59:124,71:x},{71:[2,64]},{71:[2,65]},{57:126,86:X0},{57:128,86:X0},{57:129,86:X0},{57:130,86:X0},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:$,52:k,53:w},{5:[1,136]},Z(b,[2,19]),Z(b,[2,20]),Z(b,[2,22]),Z(b,[2,23]),{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,137],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,138],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,139],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{16:[1,140]},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,46],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,49:[1,141],50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{16:[1,142]},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,44],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,48:[1,143],50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{16:[1,144]},{16:[1,145]},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[2,42],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,47:[1,146],50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{4:X,5:Y,8:8,9:10,12:12,13:q,14:W,16:[1,147],17:15,18:G,21:z,22:40,23:H,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:R,36:L,37:D,38:A,39:V,41:N,43:E,44:C,46:j,50:$,52:k,53:w,55:P,60:S,61:T,62:_,63:v,71:x},{15:[1,148]},Z(b,[2,49]),Z(b,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},Z(b,[2,51]),Z(b,[2,52]),{22:151,71:x},{22:152,71:x},{57:153,86:X0},{57:154,86:X0},{57:155,86:X0},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},Z(b,[2,16]),Z(u,[2,10]),{12:157,50:$,52:k,53:w},Z(u,[2,12]),Z(u,[2,13]),Z(b,[2,18]),Z(b,[2,34]),Z(b,[2,35]),Z(b,[2,36]),Z(b,[2,37]),{15:[1,158]},Z(b,[2,38]),{15:[1,159]},Z(b,[2,39]),Z(b,[2,40]),{15:[1,160]},Z(b,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:X0},{57:165,86:X0},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:x},Z(u,[2,11]),Z(p,U,{7:105,40:167}),Z(r,U,{7:107,42:168}),Z(t,U,{7:110,45:169}),Z(b,[2,48]),{5:[2,70]},Z(b,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:I(function(e,n){if(n.recoverable)this.trace(e);else{var Y0=Error(e);throw Y0.hash=n,Y0}},"parseError"),parse:I(function(e){var n=this,Y0=[0],o=[],M0=[null],K0=[],V0=this.table,i="",p0=0,B0=0,h0=0,a0=2,s0=1,$0=K0.slice.call(arguments,1),x0=Object.create(this.lexer),f0={yy:{}};for(var C0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,C0))f0.yy[C0]=this.yy[C0];if(x0.setInput(e,f0.yy),f0.yy.lexer=x0,f0.yy.parser=this,typeof x0.yylloc>"u")x0.yylloc={};var m0=x0.yylloc;K0.push(m0);var F0=x0.options&&x0.options.ranges;if(typeof f0.yy.parseError==="function")this.parseError=f0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function I0(r0){Y0.length=Y0.length-2*r0,M0.length=M0.length-r0,K0.length=K0.length-r0}I(I0,"popStack");function s(){var r0=o.pop()||x0.lex()||s0;if(typeof r0!=="number"){if(r0 instanceof Array)o=r0,r0=o.pop();r0=n.symbols_[r0]||r0}return r0}I(s,"lex");var H0,m,q0,W0,N0,D0,L0={},_0,T0,u0,Z8;while(!0){if(q0=Y0[Y0.length-1],this.defaultActions[q0])W0=this.defaultActions[q0];else{if(H0===null||typeof H0>"u")H0=s();W0=V0[q0]&&V0[q0][H0]}if(typeof W0>"u"||!W0.length||!W0[0]){var B8="";Z8=[];for(_0 in V0[q0])if(this.terminals_[_0]&&_0>a0)Z8.push("'"+this.terminals_[_0]+"'");if(x0.showPosition)B8="Parse error on line "+(p0+1)+`:
`+x0.showPosition()+`
Expecting `+Z8.join(", ")+", got '"+(this.terminals_[H0]||H0)+"'";else B8="Parse error on line "+(p0+1)+": Unexpected "+(H0==s0?"end of input":"'"+(this.terminals_[H0]||H0)+"'");this.parseError(B8,{text:x0.match,token:this.terminals_[H0]||H0,line:x0.yylineno,loc:m0,expected:Z8})}if(W0[0]instanceof Array&&W0.length>1)throw Error("Parse Error: multiple actions possible at state: "+q0+", token: "+H0);switch(W0[0]){case 1:if(Y0.push(H0),M0.push(x0.yytext),K0.push(x0.yylloc),Y0.push(W0[1]),H0=null,!m){if(B0=x0.yyleng,i=x0.yytext,p0=x0.yylineno,m0=x0.yylloc,h0>0)h0--}else H0=m,m=null;break;case 2:if(T0=this.productions_[W0[1]][1],L0.$=M0[M0.length-T0],L0._$={first_line:K0[K0.length-(T0||1)].first_line,last_line:K0[K0.length-1].last_line,first_column:K0[K0.length-(T0||1)].first_column,last_column:K0[K0.length-1].last_column},F0)L0._$.range=[K0[K0.length-(T0||1)].range[0],K0[K0.length-1].range[1]];if(D0=this.performAction.apply(L0,[i,B0,p0,f0.yy,W0[1],M0,K0].concat($0)),typeof D0<"u")return D0;if(T0)Y0=Y0.slice(0,-1*T0*2),M0=M0.slice(0,-1*T0),K0=K0.slice(0,-1*T0);Y0.push(this.productions_[W0[1]][0]),M0.push(L0.$),K0.push(L0._$),u0=V0[Y0[Y0.length-2]][Y0[Y0.length-1]],Y0.push(u0);break;case 3:return!0}}return!0},"parse")},z0=function(){var Q0={EOF:1,parseError:I(function(n,Y0){if(this.yy.parser)this.yy.parser.parseError(n,Y0);else throw Error(n)},"parseError"),setInput:I(function(e,n){if(this.yy=n||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var n=e.match(/(?:\r\n?|\n).*/g);if(n)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),e},"input"),unput:I(function(e){var n=e.length,Y0=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var o=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y0.length-1)this.yylineno-=Y0.length-1;var M0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y0?(Y0.length===o.length?this.yylloc.first_column:0)+o[o.length-Y0.length].length-Y0[0].length:this.yylloc.first_column-n},this.options.ranges)this.yylloc.range=[M0[0],M0[0]+this.yyleng-n];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(e){this.unput(this.match.slice(e))},"less"),pastInput:I(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var e=this.match;if(e.length<20)e+=this._input.substr(0,20-e.length);return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var e=this.pastInput(),n=Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+n+"^"},"showPosition"),test_match:I(function(e,n){var Y0,o,M0;if(this.options.backtrack_lexer){if(M0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)M0.yylloc.range=this.yylloc.range.slice(0)}if(o=e[0].match(/(?:\r\n?|\n).*/g),o)this.yylineno+=o.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],Y0=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(Y0)return Y0;else if(this._backtrack){for(var K0 in M0)this[K0]=M0[K0];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var e,n,Y0,o;if(!this._more)this.yytext="",this.match="";var M0=this._currentRules();for(var K0=0;K0<M0.length;K0++)if(Y0=this._input.match(this.rules[M0[K0]]),Y0&&(!n||Y0[0].length>n[0].length)){if(n=Y0,o=K0,this.options.backtrack_lexer)if(e=this.test_match(Y0,M0[K0]),e!==!1)return e;else if(this._backtrack){n=!1;continue}else return!1;else if(!this.options.flex)break}if(n){if(e=this.test_match(n,M0[o]),e!==!1)return e;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var n=this.next();if(n)return n;else return this.lex()},"lex"),begin:I(function(n){this.conditionStack.push(n)},"begin"),popState:I(function(){var n=this.conditionStack.length-1;if(n>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(n){if(n=this.conditionStack.length-1-Math.abs(n||0),n>=0)return this.conditionStack[n];else return"INITIAL"},"topState"),pushState:I(function(n){this.begin(n)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(n,Y0,o,M0){var K0=M0;switch(o){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;break;case 8:return 74;case 9:return this.popState(),this.popState(),75;break;case 10:return Y0.yytext=Y0.yytext.trim(),71;break;case 11:return Y0.yytext=Y0.yytext.trim(),this.begin("ALIAS"),71;break;case 12:return this.begin("LINE"),14;break;case 13:return this.begin("ID"),50;break;case 14:return this.begin("ID"),52;break;case 15:return 13;case 16:return this.begin("ID"),53;break;case 17:return Y0.yytext=Y0.yytext.trim(),this.begin("ALIAS"),71;break;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 19:return this.popState(),this.popState(),5;break;case 20:return this.begin("LINE"),36;break;case 21:return this.begin("LINE"),37;break;case 22:return this.begin("LINE"),38;break;case 23:return this.begin("LINE"),39;break;case 24:return this.begin("LINE"),49;break;case 25:return this.begin("LINE"),41;break;case 26:return this.begin("LINE"),43;break;case 27:return this.begin("LINE"),48;break;case 28:return this.begin("LINE"),44;break;case 29:return this.begin("LINE"),47;break;case 30:return this.begin("LINE"),46;break;case 31:return this.popState(),15;break;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;break;case 42:return this.begin("ID"),23;break;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;break;case 46:return this.popState(),"acc_title_value";break;case 47:return this.begin("acc_descr"),33;break;case 48:return this.popState(),"acc_descr_value";break;case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return Y0.yytext=Y0.yytext.trim(),71;break;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return Q0}();a.lexer=z0;function J0(){this.yy={}}return I(J0,"Parser"),J0.prototype=a,a.Parser=J0,new J0}();pt.parser=pt;db8=pt,ib8={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},sb8={FILLED:0,OPEN:1},rb8={LEFTOF:0,RIGHTOF:1,OVER:2},h_={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},nb8=class{constructor(){this.state=new NT(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=cZ,this.setAccDescription=rZ,this.setDiagramTitle=Z9,this.getAccTitle=sZ,this.getAccDescription=nZ,this.getDiagramTitle=aZ,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(E0().wrap),this.LINETYPE=ib8,this.ARROWTYPE=sb8,this.PLACEMENT=rb8}static{I(this,"SequenceDB")}addBox(Z){this.state.records.boxes.push({name:Z.text,wrap:Z.wrap??this.autoWrap(),fill:Z.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(Z,J,Q,K,U){let X=this.state.records.currentBox,Y;if(U!==void 0){let W;if(!U.includes(`
`))W=`{
`+U+`
}`;else W=U+`
`;Y=_1(W,{schema:k1})}K=Y?.type??K;let q=this.state.records.actors.get(Z);if(q){if(this.state.records.currentBox&&q.box&&this.state.records.currentBox!==q.box)throw Error(`A same participant should only be defined in one Box: ${q.name} can't be in '${q.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(X=q.box?q.box:this.state.records.currentBox,q.box=X,q&&J===q.name&&Q==null)return}if(Q?.text==null)Q={text:J,type:K};if(K==null||Q.text==null)Q={text:J,type:K};if(this.state.records.actors.set(Z,{box:X,name:J,description:Q.text,wrap:Q.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:K??"participant"}),this.state.records.prevActor){let W=this.state.records.actors.get(this.state.records.prevActor);if(W)W.nextActor=Z}if(this.state.records.currentBox)this.state.records.currentBox.actorKeys.push(Z);this.state.records.prevActor=Z}activationCount(Z){let J,Q=0;if(!Z)return 0;for(J=0;J<this.state.records.messages.length;J++){if(this.state.records.messages[J].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[J].from===Z)Q++;if(this.state.records.messages[J].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[J].from===Z)Q--}return Q}addMessage(Z,J,Q,K){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:Z,to:J,message:Q.text,wrap:Q.wrap??this.autoWrap(),answer:K})}addSignal(Z,J,Q,K,U=!1){if(K===this.LINETYPE.ACTIVE_END){if(this.activationCount(Z??"")<1){let Y=Error("Trying to inactivate an inactive participant ("+Z+")");throw Y.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},Y}}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:Z,to:J,message:Q?.text??"",wrap:Q?.wrap??this.autoWrap(),type:K,activate:U}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some((Z)=>Z.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(Z){return this.state.records.actors.get(Z)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(Z){this.state.records.wrapEnabled=Z}extractWrap(Z){if(Z===void 0)return{};Z=Z.trim();let J=/^:?wrap:/.exec(Z)!==null?!0:/^:?nowrap:/.exec(Z)!==null?!1:void 0;return{cleanedText:(J===void 0?Z:Z.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:J}}autoWrap(){if(this.state.records.wrapEnabled!==void 0)return this.state.records.wrapEnabled;return E0().sequence?.wrap??!1}clear(){this.state.reset(),bZ()}parseMessage(Z){let J=Z.trim(),{wrap:Q,cleanedText:K}=this.extractWrap(J),U={text:K,wrap:Q};return Z0.debug(`parseMessage: ${JSON.stringify(U)}`),U}parseBoxData(Z){let J=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(Z),Q=J?.[1]?J[1].trim():"transparent",K=J?.[2]?J[2].trim():void 0;if(window?.CSS){if(!window.CSS.supports("color",Q))Q="transparent",K=Z.trim()}else{let Y=new Option().style;if(Y.color=Q,Y.color!==Q)Q="transparent",K=Z.trim()}let{wrap:U,cleanedText:X}=this.extractWrap(K);return{text:X?VZ(X,E0()):void 0,color:Q,wrap:U}}addNote(Z,J,Q){let K={actor:Z,placement:J,message:Q.text,wrap:Q.wrap??this.autoWrap()},U=[].concat(Z,Z);this.state.records.notes.push(K),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:U[0],to:U[1],message:Q.text,wrap:Q.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:J})}addLinks(Z,J){let Q=this.getActor(Z);try{let K=VZ(J.text,E0());K=K.replace(/&equals;/g,"="),K=K.replace(/&amp;/g,"&");let U=JSON.parse(K);this.insertLinks(Q,U)}catch(K){Z0.error("error while parsing actor link text",K)}}addALink(Z,J){let Q=this.getActor(Z);try{let K={},U=VZ(J.text,E0()),X=U.indexOf("@");U=U.replace(/&equals;/g,"="),U=U.replace(/&amp;/g,"&");let Y=U.slice(0,X-1).trim(),q=U.slice(X+1).trim();K[Y]=q,this.insertLinks(Q,K)}catch(K){Z0.error("error while parsing actor link text",K)}}insertLinks(Z,J){if(Z.links==null)Z.links=J;else for(let Q in J)Z.links[Q]=J[Q]}addProperties(Z,J){let Q=this.getActor(Z);try{let K=VZ(J.text,E0()),U=JSON.parse(K);this.insertProperties(Q,U)}catch(K){Z0.error("error while parsing actor properties text",K)}}insertProperties(Z,J){if(Z.properties==null)Z.properties=J;else for(let Q in J)Z.properties[Q]=J[Q]}boxEnd(){this.state.records.currentBox=void 0}addDetails(Z,J){let Q=this.getActor(Z),K=document.getElementById(J.text);try{let U=K.innerHTML,X=JSON.parse(U);if(X.properties)this.insertProperties(Q,X.properties);if(X.links)this.insertLinks(Q,X.links)}catch(U){Z0.error("error while parsing actor details text",U)}}getActorProperty(Z,J){if(Z?.properties!==void 0)return Z.properties[J];return}apply(Z){if(Array.isArray(Z))Z.forEach((J)=>{this.apply(J)});else switch(Z.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:Z.sequenceIndex,step:Z.sequenceIndexStep,visible:Z.sequenceVisible},wrap:!1,type:Z.signalType});break;case"addParticipant":this.addActor(Z.actor,Z.actor,Z.description,Z.draw,Z.config);break;case"createParticipant":if(this.state.records.actors.has(Z.actor))throw Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=Z.actor,this.addActor(Z.actor,Z.actor,Z.description,Z.draw,Z.config),this.state.records.createdActors.set(Z.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=Z.actor,this.state.records.destroyedActors.set(Z.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(Z.actor,void 0,void 0,Z.signalType);break;case"activeEnd":this.addSignal(Z.actor,void 0,void 0,Z.signalType);break;case"addNote":this.addNote(Z.actor,Z.placement,Z.text);break;case"addLinks":this.addLinks(Z.actor,Z.text);break;case"addALink":this.addALink(Z.actor,Z.text);break;case"addProperties":this.addProperties(Z.actor,Z.text);break;case"addDetails":this.addDetails(Z.actor,Z.text);break;case"addMessage":if(this.state.records.lastCreated)if(Z.to!==this.state.records.lastCreated)throw Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");else this.state.records.lastCreated=void 0;else if(this.state.records.lastDestroyed)if(Z.to!==this.state.records.lastDestroyed&&Z.from!==this.state.records.lastDestroyed)throw Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");else this.state.records.lastDestroyed=void 0;this.addSignal(Z.from,Z.to,Z.msg,Z.signalType,Z.activate);break;case"boxStart":this.addBox(Z.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,Z.loopText,Z.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"rectStart":this.addSignal(void 0,void 0,Z.color,Z.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"optStart":this.addSignal(void 0,void 0,Z.optText,Z.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"altStart":this.addSignal(void 0,void 0,Z.altText,Z.signalType);break;case"else":this.addSignal(void 0,void 0,Z.altText,Z.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"setAccTitle":cZ(Z.text);break;case"parStart":this.addSignal(void 0,void 0,Z.parText,Z.signalType);break;case"and":this.addSignal(void 0,void 0,Z.parText,Z.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,Z.criticalText,Z.signalType);break;case"option":this.addSignal(void 0,void 0,Z.optionText,Z.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break;case"breakStart":this.addSignal(void 0,void 0,Z.breakText,Z.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,Z.signalType);break}}getConfig(){return E0().sequence}},ab8=I((Z)=>`.actor {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }

  text.actor > tspan {
    fill: ${Z.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${Z.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${Z.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${Z.signalColor};
  }

  #arrowhead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .sequenceNumber {
    fill: ${Z.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${Z.signalColor};
  }

  #crosshead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .messageText {
    fill: ${Z.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${Z.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${Z.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${Z.noteBorderColor};
    fill: ${Z.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${Z.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation1 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation2 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${Z.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),ob8=ab8,kA=I(function(Z,J){return Mz(Z,J)},"drawRect"),tb8=I(function(Z,J,Q,K,U){if(J.links===void 0||J.links===null||Object.keys(J.links).length===0)return{height:0,width:0};let{links:X,actorCnt:Y,rectData:q}=J;var W="none";if(U)W="block !important";let G=Z.append("g");G.attr("id","actor"+Y+"_popup"),G.attr("class","actorPopupMenu"),G.attr("display",W);var z="";if(q.class!==void 0)z=" "+q.class;let H=q.width>Q?q.width:Q,F=G.append("rect");if(F.attr("class","actorPopupMenuPanel"+z),F.attr("x",q.x),F.attr("y",q.height),F.attr("fill",q.fill),F.attr("stroke",q.stroke),F.attr("width",H),F.attr("height",q.height),F.attr("rx",q.rx),F.attr("ry",q.ry),X!=null){var M=20;for(let R in X){var B=G.append("a"),O=dt.sanitizeUrl(X[R]);B.attr("xlink:href",O),B.attr("target","_blank"),Ay8(K)(R,B,q.x+10,q.height+M,H,20,{class:"actor"},K),M+=30}}return F.attr("height",M),{height:q.height+M,width:H}},"drawPopup"),g_=I(function(Z){return"var pu = document.getElementById('"+Z+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),m_=I(async function(Z,J,Q=null){let K=Z.append("foreignObject"),U=await O1(J.text,CZ()),Y=K.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(U).node().getBoundingClientRect();if(K.attr("height",Math.round(Y.height)).attr("width",Math.round(Y.width)),J.class==="noteText"){let q=Z.node().firstChild;q.setAttribute("height",Y.height+2*J.textMargin);let W=q.getBBox();K.attr("x",Math.round(W.x+W.width/2-Y.width/2)).attr("y",Math.round(W.y+W.height/2-Y.height/2))}else if(Q){let{startx:q,stopx:W,starty:G}=Q;if(q>W){let z=q;q=W,W=z}if(K.attr("x",Math.round(q+Math.abs(q-W)/2-Y.width/2)),J.class==="loopText")K.attr("y",Math.round(G));else K.attr("y",Math.round(G-Y.height))}return[K]},"drawKatex"),XO=I(function(Z,J){let Q=0,K=0,U=J.text.split(U8.lineBreakRegex),[X,Y]=jU(J.fontSize),q=[],W=0,G=I(()=>J.y,"yfunc");if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)switch(J.valign){case"top":case"start":G=I(()=>Math.round(J.y+J.textMargin),"yfunc");break;case"middle":case"center":G=I(()=>Math.round(J.y+(Q+K+J.textMargin)/2),"yfunc");break;case"bottom":case"end":G=I(()=>Math.round(J.y+(Q+K+2*J.textMargin)-J.textMargin),"yfunc");break}if(J.anchor!==void 0&&J.textMargin!==void 0&&J.width!==void 0)switch(J.anchor){case"left":case"start":J.x=Math.round(J.x+J.textMargin),J.anchor="start",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"middle":case"center":J.x=Math.round(J.x+J.width/2),J.anchor="middle",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"right":case"end":J.x=Math.round(J.x+J.width-J.textMargin),J.anchor="end",J.dominantBaseline="middle",J.alignmentBaseline="middle";break}for(let[z,H]of U.entries()){if(J.textMargin!==void 0&&J.textMargin===0&&X!==void 0)W=z*X;let F=Z.append("text");if(F.attr("x",J.x),F.attr("y",G()),J.anchor!==void 0)F.attr("text-anchor",J.anchor).attr("dominant-baseline",J.dominantBaseline).attr("alignment-baseline",J.alignmentBaseline);if(J.fontFamily!==void 0)F.style("font-family",J.fontFamily);if(Y!==void 0)F.style("font-size",Y);if(J.fontWeight!==void 0)F.style("font-weight",J.fontWeight);if(J.fill!==void 0)F.attr("fill",J.fill);if(J.class!==void 0)F.attr("class",J.class);if(J.dy!==void 0)F.attr("dy",J.dy);else if(W!==0)F.attr("dy",W);let M=H||Ip;if(J.tspan){let B=F.append("tspan");if(B.attr("x",J.x),J.fill!==void 0)B.attr("fill",J.fill);B.text(M)}else F.text(M);if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)K+=(F._groups||F)[0][0].getBBox().height,Q=K;q.push(F)}return q},"drawText"),eh0=I(function(Z,J){function Q(U,X,Y,q,W){return U+","+X+" "+(U+Y)+","+X+" "+(U+Y)+","+(X+q-W)+" "+(U+Y-W*1.2)+","+(X+q)+" "+U+","+(X+q)}I(Q,"genPoints");let K=Z.append("polygon");return K.attr("points",Q(J.x,J.y,J.width,J.height,7)),K.attr("class","labelBox"),J.y=J.y+J.height/2,XO(Z,J),K},"drawLabel"),Zm0=I((Z,J,Q,K)=>{if(!Z.select)return;Q.forEach((U)=>{let X=J.get(U),Y=Z.select("#actor"+X.actorCnt);if(!K.mirrorActors&&X.stopy)Y.attr("y2",X.stopy+X.height/2);else if(K.mirrorActors)Y.attr("y2",X.stopy)})},"fixLifeLineHeights"),eb8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+J.height,q=Z.append("g").lower();var W=q;if(!K){if(eZ++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",g_(`actor${eZ}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=eZ,J.links!=null)W.attr("id","root-"+eZ)}let G=$Q();var z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${fW}`;else z+=` ${_W}`;G.x=J.x,G.y=U,G.width=J.width,G.height=J.height,G.class=z,G.rx=3,G.ry=3,G.name=J.name;let H=kA(W,G);if(J.rectData=G,J.properties?.icon){let M=J.properties.icon.trim();if(M.charAt(0)==="@")zT(W,G.x+G.width-20,G.y+10,M.substr(1));else GT(W,G.x+G.width-20,G.y+10,M)}gY(Q,UJ(J.description))(J.description,W,G.x,G.y,G.width,G.height,{class:`actor ${u_}`},Q);let F=J.height;if(H.node){let M=H.node().getBBox();J.height=M.height,F=M.height}return F},"drawActorTypeParticipant"),Zy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+J.height,q=Z.append("g").lower();var W=q;if(!K){if(eZ++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",g_(`actor${eZ}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=eZ,J.links!=null)W.attr("id","root-"+eZ)}let G=$Q();var z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${fW}`;else z+=` ${_W}`;G.x=J.x,G.y=U,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name;let H=6,F={...G,x:G.x+(K?-H:-H),y:G.y+(K?+H:+H),class:"actor"},M=kA(W,G);if(kA(W,F),J.rectData=G,J.properties?.icon){let O=J.properties.icon.trim();if(O.charAt(0)==="@")zT(W,G.x+G.width-20,G.y+10,O.substr(1));else GT(W,G.x+G.width-20,G.y+10,O)}gY(Q,UJ(J.description))(J.description,W,G.x-H,G.y+H,G.width,G.height,{class:`actor ${u_}`},Q);let B=J.height;if(M.node){let O=M.node().getBBox();J.height=O.height,B=O.height}return B},"drawActorTypeCollections"),Jy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+J.height,q=Z.append("g").lower(),W=q;if(!K){if(eZ++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",g_(`actor${eZ}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=eZ,J.links!=null)W.attr("id","root-"+eZ)}let G=$Q(),z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${fW}`;else z+=` ${_W}`;G.x=J.x,G.y=U,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name;let H=G.height/2,F=H/(2.5+G.height/50),M=W.append("g"),B=W.append("g");if(M.append("path").attr("d",`M ${G.x},${G.y+H}
    a ${F},${H} 0 0 0 0,${G.height}
    h ${G.width-2*F}
    a ${F},${H} 0 0 0 0,-${G.height}
    Z
  `).attr("class",z),B.append("path").attr("d",`M ${G.x},${G.y+H}
      a ${F},${H} 0 0 0 0,${G.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",z),M.attr("transform",`translate(${F}, ${-(G.height/2)})`),B.attr("transform",`translate(${G.width-F}, ${-G.height/2})`),J.rectData=G,J.properties?.icon){let L=J.properties.icon.trim(),D=G.x+G.width-20,A=G.y+10;if(L.charAt(0)==="@")zT(W,D,A,L.substr(1));else GT(W,D,A,L)}gY(Q,UJ(J.description))(J.description,W,G.x,G.y,G.width,G.height,{class:`actor ${u_}`},Q);let O=J.height,R=M.select("path:last-child");if(R.node()){let L=R.node().getBBox();J.height=L.height,O=L.height}return O},"drawActorTypeQueue"),Qy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+75,q=Z.append("g").lower();if(!K)eZ++,q.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=eZ;let W=Z.append("g"),G=kW;if(K)G+=` ${fW}`;else G+=` ${_W}`;W.attr("class",G),W.attr("name",J.name);let z=$Q();z.x=J.x,z.y=U,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor";let H=J.x+J.width/2,F=U+30,M=18;W.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),W.append("circle").attr("cx",H).attr("cy",F).attr("r",M).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),W.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${H}, ${F-M})`);let B=W.node().getBBox();return J.height=B.height+2*(Q?.sequence?.labelBoxHeight??0),gY(Q,UJ(J.description))(J.description,W,z.x,z.y+M+(K?5:10),z.width,z.height,{class:`actor ${kW}`},Q),J.height},"drawActorTypeControl"),Ky8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+75,q=Z.append("g").lower(),W=Z.append("g"),G=kW;if(K)G+=` ${fW}`;else G+=` ${_W}`;W.attr("class",G),W.attr("name",J.name);let z=$Q();z.x=J.x,z.y=U,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor";let H=J.x+J.width/2,F=U+(!K?25:10),M=18;W.append("circle").attr("cx",H).attr("cy",F).attr("r",M).attr("width",J.width).attr("height",J.height),W.append("line").attr("x1",H-M).attr("x2",H+M).attr("y1",F+M).attr("y2",F+M).attr("stroke","#333").attr("stroke-width",2);let B=W.node().getBBox();if(J.height=B.height+(Q?.sequence?.labelBoxHeight??0),!K)eZ++,q.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=eZ;if(gY(Q,UJ(J.description))(J.description,W,z.x,z.y+(!K?(F+M-U)/2:(F-U+M-5)/2),z.width,z.height,{class:`actor ${kW}`},Q),!K)W.attr("transform",`translate(0, ${M/2})`);else W.attr("transform",`translate(0, ${M/2})`);return J.height},"drawActorTypeEntity"),Uy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+J.height+2*Q.boxTextMargin,q=Z.append("g").lower(),W=q;if(!K){if(eZ++,Object.keys(J.links||{}).length&&!Q.forceMenus)W.attr("onclick",g_(`actor${eZ}_popup`)).attr("cursor","pointer");if(W.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),W=q.append("g"),J.actorCnt=eZ,J.links!=null)W.attr("id","root-"+eZ)}let G=$Q(),z="actor";if(J.properties?.class)z=J.properties.class;else G.fill="#eaeaea";if(K)z+=` ${fW}`;else z+=` ${_W}`;G.x=J.x,G.y=U,G.width=J.width,G.height=J.height,G.class=z,G.name=J.name,G.x=J.x,G.y=U;let H=G.width/4,F=G.width/4,M=H/2,B=M/(2.5+H/50),O=W.append("g"),R=`
  M ${G.x},${G.y+B}
  a ${M},${B} 0 0 0 ${H},0
  a ${M},${B} 0 0 0 -${H},0
  l 0,${F-2*B}
  a ${M},${B} 0 0 0 ${H},0
  l 0,-${F-2*B}
`;if(O.append("path").attr("d",R).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",z),!K)O.attr("transform",`translate(${H*1.5}, ${(G.height+B)/4})`);else O.attr("transform",`translate(${H*1.5}, ${G.height/4-2*B})`);J.rectData=G,gY(Q,UJ(J.description))(J.description,W,G.x,G.y+(!K?(G.height+B)/2:(G.height+F)/4),G.width,G.height,{class:`actor ${u_}`},Q);let L=O.select("path:last-child");if(L.node()){let D=L.node().getBBox();J.height=D.height+(Q.sequence.labelBoxHeight??0)}return J.height},"drawActorTypeDatabase"),Xy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+80,q=30,W=Z.append("g").lower();if(!K)eZ++,W.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=eZ;let G=Z.append("g"),z=kW;if(K)z+=` ${fW}`;else z+=` ${_W}`;G.attr("class",z),G.attr("name",J.name);let H=$Q();H.x=J.x,H.y=U,H.fill="#eaeaea",H.width=J.width,H.height=J.height,H.class="actor",G.append("line").attr("id","actor-man-torso"+eZ).attr("x1",J.x+J.width/2-75).attr("y1",U+10).attr("x2",J.x+J.width/2-15).attr("y2",U+10),G.append("line").attr("id","actor-man-arms"+eZ).attr("x1",J.x+J.width/2-75).attr("y1",U+0).attr("x2",J.x+J.width/2-75).attr("y2",U+20),G.append("circle").attr("cx",J.x+J.width/2).attr("cy",U+10).attr("r",30);let F=G.node().getBBox();if(J.height=F.height+(Q.sequence.labelBoxHeight??0),gY(Q,UJ(J.description))(J.description,G,H.x,H.y+(!K?18:11),H.width,H.height,{class:`actor ${kW}`},Q),!K)G.attr("transform","translate(0,22)");else G.attr("transform","translate(0,22)");return J.height},"drawActorTypeBoundary"),Yy8=I(function(Z,J,Q,K){let U=K?J.stopy:J.starty,X=J.x+J.width/2,Y=U+80,q=Z.append("g").lower();if(!K)eZ++,q.append("line").attr("id","actor"+eZ).attr("x1",X).attr("y1",Y).attr("x2",X).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=eZ;let W=Z.append("g"),G=kW;if(K)G+=` ${fW}`;else G+=` ${_W}`;W.attr("class",G),W.attr("name",J.name);let z=$Q();z.x=J.x,z.y=U,z.fill="#eaeaea",z.width=J.width,z.height=J.height,z.class="actor",z.rx=3,z.ry=3,W.append("line").attr("id","actor-man-torso"+eZ).attr("x1",X).attr("y1",U+25).attr("x2",X).attr("y2",U+45),W.append("line").attr("id","actor-man-arms"+eZ).attr("x1",X-lz/2).attr("y1",U+33).attr("x2",X+lz/2).attr("y2",U+33),W.append("line").attr("x1",X-lz/2).attr("y1",U+60).attr("x2",X).attr("y2",U+45),W.append("line").attr("x1",X).attr("y1",U+45).attr("x2",X+lz/2-2).attr("y2",U+60);let H=W.append("circle");H.attr("cx",J.x+J.width/2),H.attr("cy",U+10),H.attr("r",15),H.attr("width",J.width),H.attr("height",J.height);let F=W.node().getBBox();return J.height=F.height,gY(Q,UJ(J.description))(J.description,W,z.x,z.y+35,z.width,z.height,{class:`actor ${kW}`},Q),J.height},"drawActorTypeActor"),qy8=I(async function(Z,J,Q,K){switch(J.type){case"actor":return await Yy8(Z,J,Q,K);case"participant":return await eb8(Z,J,Q,K);case"boundary":return await Xy8(Z,J,Q,K);case"control":return await Qy8(Z,J,Q,K);case"entity":return await Ky8(Z,J,Q,K);case"database":return await Uy8(Z,J,Q,K);case"collections":return await Zy8(Z,J,Q,K);case"queue":return await Jy8(Z,J,Q,K)}},"drawActor"),Wy8=I(function(Z,J,Q){let U=Z.append("g");if(Jm0(U,J),J.name)gY(Q)(J.name,U,J.x,J.y+Q.boxTextMargin+(J.textMaxHeight||0)/2,J.width,0,{class:"text"},Q);U.lower()},"drawBox"),Gy8=I(function(Z){return Z.append("g")},"anchorElement"),zy8=I(function(Z,J,Q,K,U){let X=$Q(),Y=J.anchored;X.x=J.startx,X.y=J.starty,X.class="activation"+U%3,X.width=J.stopx-J.startx,X.height=Q-J.starty,kA(Y,X)},"drawActivation"),Hy8=I(async function(Z,J,Q,K){let{boxMargin:U,boxTextMargin:X,labelBoxHeight:Y,labelBoxWidth:q,messageFontFamily:W,messageFontSize:G,messageFontWeight:z}=K,H=Z.append("g"),F=I(function(O,R,L,D){return H.append("line").attr("x1",O).attr("y1",R).attr("x2",L).attr("y2",D).attr("class","loopLine")},"drawLoopLine");if(F(J.startx,J.starty,J.stopx,J.starty),F(J.stopx,J.starty,J.stopx,J.stopy),F(J.startx,J.stopy,J.stopx,J.stopy),F(J.startx,J.starty,J.startx,J.stopy),J.sections!==void 0)J.sections.forEach(function(O){F(J.startx,O.y,J.stopx,O.y).style("stroke-dasharray","3, 3")});let M=HT();M.text=Q,M.x=J.startx,M.y=J.starty,M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.anchor="middle",M.valign="middle",M.tspan=!1,M.width=q||50,M.height=Y||20,M.textMargin=X,M.class="labelText",eh0(H,M),M=Qm0(),M.text=J.title,M.x=J.startx+q/2+(J.stopx-J.startx)/2,M.y=J.starty+U+X,M.anchor="middle",M.valign="middle",M.textMargin=X,M.class="loopText",M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.wrap=!0;let B=UJ(M.text)?await m_(H,M,J):XO(H,M);if(J.sectionTitles!==void 0){for(let[O,R]of Object.entries(J.sectionTitles))if(R.message){if(M.text=R.message,M.x=J.startx+(J.stopx-J.startx)/2,M.y=J.sections[O].y+U+X,M.class="loopText",M.anchor="middle",M.valign="middle",M.tspan=!1,M.fontFamily=W,M.fontSize=G,M.fontWeight=z,M.wrap=J.wrap,UJ(M.text))J.starty=J.sections[O].y,await m_(H,M,J);else XO(H,M);let L=Math.round(B.map((D)=>(D._groups||D)[0][0].getBBox().height).reduce((D,A)=>D+A));J.sections[O].height+=L-(U+X)}}return J.height=Math.round(J.stopy-J.starty),H},"drawLoop"),Jm0=I(function(Z,J){WT(Z,J)},"drawBackgroundRect"),Fy8=I(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),My8=I(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),By8=I(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Oy8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),Ry8=I(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Ly8=I(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),Dy8=I(function(Z){Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Qm0=I(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),Iy8=I(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),gY=function(){function Z(X,Y,q,W,G,z,H){let F=Y.append("text").attr("x",q+G/2).attr("y",W+z/2+5).style("text-anchor","middle").text(X);U(F,H)}I(Z,"byText");function J(X,Y,q,W,G,z,H,F){let{actorFontSize:M,actorFontFamily:B,actorFontWeight:O}=F,[R,L]=jU(M),D=X.split(U8.lineBreakRegex);for(let A=0;A<D.length;A++){let V=A*R-R*(D.length-1)/2,N=Y.append("text").attr("x",q+G/2).attr("y",W).style("text-anchor","middle").style("font-size",L).style("font-weight",O).style("font-family",B);N.append("tspan").attr("x",q+G/2).attr("dy",V).text(D[A]),N.attr("y",W+z/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),U(N,H)}}I(J,"byTspan");function Q(X,Y,q,W,G,z,H,F){let M=Y.append("switch"),O=M.append("foreignObject").attr("x",q).attr("y",W).attr("width",G).attr("height",z).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,M,q,W,G,z,H,F),U(O,H)}I(Q,"byFo");async function K(X,Y,q,W,G,z,H,F){let M=await lH(X,CZ()),B=Y.append("switch"),R=B.append("foreignObject").attr("x",q+G/2-M.width/2).attr("y",W+z/2-M.height/2).attr("width",M.width).attr("height",M.height).append("xhtml:div").style("height","100%").style("width","100%");R.append("div").style("text-align","center").style("vertical-align","middle").html(await O1(X,CZ())),J(X,B,q,W,G,z,H,F),U(R,H)}I(K,"byKatex");function U(X,Y){for(let q in Y)if(Y.hasOwnProperty(q))X.attr(q,Y[q])}return I(U,"_setTextAttrs"),function(X,Y=!1){if(Y)return K;return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),Ay8=function(){function Z(U,X,Y,q,W,G,z){let H=X.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").text(U);K(H,z)}I(Z,"byText");function J(U,X,Y,q,W,G,z,H){let{actorFontSize:F,actorFontFamily:M,actorFontWeight:B}=H,O=U.split(U8.lineBreakRegex);for(let R=0;R<O.length;R++){let L=R*F-F*(O.length-1)/2,D=X.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").style("font-size",F).style("font-weight",B).style("font-family",M);D.append("tspan").attr("x",Y).attr("dy",L).text(O[R]),D.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(D,z)}}I(J,"byTspan");function Q(U,X,Y,q,W,G,z,H){let F=X.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(U,X){for(let Y in X)if(X.hasOwnProperty(Y))U.attr(Y,X[Y])}return I(K,"_setTextAttrs"),function(U){return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),eJ={drawRect:kA,drawText:XO,drawLabel:eh0,drawActor:qy8,drawBox:Wy8,drawPopup:tb8,anchorElement:Gy8,drawActivation:zy8,drawLoop:Hy8,drawBackgroundRect:Jm0,insertArrowHead:Oy8,insertArrowFilledHead:Ry8,insertSequenceNumber:Ly8,insertArrowCrossHead:Dy8,insertDatabaseIcon:Fy8,insertComputerIcon:My8,insertClockIcon:By8,getTextObj:Qm0,getNoteRect:Iy8,fixLifeLineHeights:Zm0,sanitizeUrl:dt.sanitizeUrl},v0={},W8={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:I(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map((Z)=>Z.height||0))+(this.loops.length===0?0:this.loops.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.messages.length===0?0:this.messages.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.notes.length===0?0:this.notes.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))},"getHeight"),clear:I(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:I(function(Z){this.boxes.push(Z)},"addBox"),addActor:I(function(Z){this.actors.push(Z)},"addActor"),addLoop:I(function(Z){this.loops.push(Z)},"addLoop"),addMessage:I(function(Z){this.messages.push(Z)},"addMessage"),addNote:I(function(Z){this.notes.push(Z)},"addNote"),lastActor:I(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:I(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:I(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:I(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:I(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Xm0(E0())},"init"),updateVal:I(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:I(function(Z,J,Q,K){let U=this,X=0;function Y(q){return I(function(G){X++;let z=U.sequenceItems.length-X+1;if(U.updateVal(G,"starty",J-z*v0.boxMargin,Math.min),U.updateVal(G,"stopy",K+z*v0.boxMargin,Math.max),U.updateVal(W8.data,"startx",Z-z*v0.boxMargin,Math.min),U.updateVal(W8.data,"stopx",Q+z*v0.boxMargin,Math.max),q!=="activation")U.updateVal(G,"startx",Z-z*v0.boxMargin,Math.min),U.updateVal(G,"stopx",Q+z*v0.boxMargin,Math.max),U.updateVal(W8.data,"starty",J-z*v0.boxMargin,Math.min),U.updateVal(W8.data,"stopy",K+z*v0.boxMargin,Math.max)},"updateItemBounds")}I(Y,"updateFn"),this.sequenceItems.forEach(Y()),this.activations.forEach(Y("activation"))},"updateBounds"),insert:I(function(Z,J,Q,K){let U=U8.getMin(Z,Q),X=U8.getMax(Z,Q),Y=U8.getMin(J,K),q=U8.getMax(J,K);this.updateVal(W8.data,"startx",U,Math.min),this.updateVal(W8.data,"starty",Y,Math.min),this.updateVal(W8.data,"stopx",X,Math.max),this.updateVal(W8.data,"stopy",q,Math.max),this.updateBounds(U,Y,X,q)},"insert"),newActivation:I(function(Z,J,Q){let K=Q.get(Z.from),U=p_(Z.from).length||0,X=K.x+K.width/2+(U-1)*v0.activationWidth/2;this.activations.push({startx:X,starty:this.verticalPos+2,stopx:X+v0.activationWidth,stopy:void 0,actor:Z.from,anchored:eJ.anchorElement(J)})},"newActivation"),endActivation:I(function(Z){let J=this.activations.map(function(Q){return Q.actor}).lastIndexOf(Z.from);return this.activations.splice(J,1)[0]},"endActivation"),createLoop:I(function(Z={message:void 0,wrap:!1,width:void 0},J){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:Z.message,wrap:Z.wrap,width:Z.width,height:0,fill:J}},"createLoop"),newLoop:I(function(Z={message:void 0,wrap:!1,width:void 0},J){this.sequenceItems.push(this.createLoop(Z,J))},"newLoop"),endLoop:I(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:I(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:I(function(Z){let J=this.sequenceItems.pop();J.sections=J.sections||[],J.sectionTitles=J.sectionTitles||[],J.sections.push({y:W8.getVerticalPos(),height:0}),J.sectionTitles.push(Z),this.sequenceItems.push(J)},"addSectionToLoop"),saveVerticalPos:I(function(){if(this.isLoopOverlap())this.savedVerticalPos=this.verticalPos},"saveVerticalPos"),resetVerticalPos:I(function(){if(this.isLoopOverlap())this.verticalPos=this.savedVerticalPos},"resetVerticalPos"),bumpVerticalPos:I(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=U8.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return{bounds:this.data,models:this.models}},"getBounds")},Ny8=I(async function(Z,J){W8.bumpVerticalPos(v0.boxMargin),J.height=v0.boxMargin,J.starty=W8.getVerticalPos();let Q=$Q();Q.x=J.startx,Q.y=J.starty,Q.width=J.width||v0.width,Q.class="note";let K=Z.append("g"),U=eJ.drawRect(K,Q),X=HT();X.x=J.startx,X.y=J.starty,X.width=Q.width,X.dy="1em",X.text=J.message,X.class="noteText",X.fontFamily=v0.noteFontFamily,X.fontSize=v0.noteFontSize,X.fontWeight=v0.noteFontWeight,X.anchor=v0.noteAlign,X.textMargin=v0.noteMargin,X.valign="center";let Y=UJ(X.text)?await m_(K,X):XO(K,X),q=Math.round(Y.map((W)=>(W._groups||W)[0][0].getBBox().height).reduce((W,G)=>W+G));U.attr("height",q+2*v0.noteMargin),J.height+=q+2*v0.noteMargin,W8.bumpVerticalPos(q+2*v0.noteMargin),J.stopy=J.starty+q+2*v0.noteMargin,J.stopx=J.startx+Q.width,W8.insert(J.startx,J.starty,J.stopx,J.stopy),W8.models.addNote(J)},"drawNote"),dz=I((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont"),UO=I((Z)=>{return{fontFamily:Z.noteFontFamily,fontSize:Z.noteFontSize,fontWeight:Z.noteFontWeight}},"noteFont"),ct=I((Z)=>{return{fontFamily:Z.actorFontFamily,fontSize:Z.actorFontSize,fontWeight:Z.actorFontWeight}},"actorFont");I(Km0,"boundMessage");Ey8=I(async function(Z,J,Q,K){let{startx:U,stopx:X,starty:Y,message:q,type:W,sequenceIndex:G,sequenceVisible:z}=J,H=ZZ.calculateTextDimensions(q,dz(v0)),F=HT();if(F.x=U,F.y=Y+10,F.width=X-U,F.class="messageText",F.dy="1em",F.text=q,F.fontFamily=v0.messageFontFamily,F.fontSize=v0.messageFontSize,F.fontWeight=v0.messageFontWeight,F.anchor=v0.messageAlign,F.valign="center",F.textMargin=v0.wrapPadding,F.tspan=!1,UJ(F.text))await m_(Z,F,{startx:U,stopx:X,starty:Q});else XO(Z,F);let M=H.width,B;if(U===X)if(v0.rightAngles)B=Z.append("path").attr("d",`M  ${U},${Q} H ${U+U8.getMax(v0.width/2,M/2)} V ${Q+25} H ${U}`);else B=Z.append("path").attr("d","M "+U+","+Q+" C "+(U+60)+","+(Q-10)+" "+(U+60)+","+(Q+30)+" "+U+","+(Q+20));else B=Z.append("line"),B.attr("x1",U),B.attr("y1",Q),B.attr("x2",X),B.attr("y2",Q);if(W===K.db.LINETYPE.DOTTED||W===K.db.LINETYPE.DOTTED_CROSS||W===K.db.LINETYPE.DOTTED_POINT||W===K.db.LINETYPE.DOTTED_OPEN||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.style("stroke-dasharray","3, 3"),B.attr("class","messageLine1");else B.attr("class","messageLine0");let O="";if(v0.arrowMarkerAbsolute)O=RG(!0);if(B.attr("stroke-width",2),B.attr("stroke","none"),B.style("fill","none"),W===K.db.LINETYPE.SOLID||W===K.db.LINETYPE.DOTTED)B.attr("marker-end","url("+O+"#arrowhead)");if(W===K.db.LINETYPE.BIDIRECTIONAL_SOLID||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.attr("marker-start","url("+O+"#arrowhead)"),B.attr("marker-end","url("+O+"#arrowhead)");if(W===K.db.LINETYPE.SOLID_POINT||W===K.db.LINETYPE.DOTTED_POINT)B.attr("marker-end","url("+O+"#filled-head)");if(W===K.db.LINETYPE.SOLID_CROSS||W===K.db.LINETYPE.DOTTED_CROSS)B.attr("marker-end","url("+O+"#crosshead)");if(z||v0.showSequenceNumbers){if(W===K.db.LINETYPE.BIDIRECTIONAL_SOLID||W===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)if(U<X)B.attr("x1",U+12);else B.attr("x1",U+6);Z.append("line").attr("x1",U).attr("y1",Q).attr("x2",U).attr("y2",Q).attr("stroke-width",0).attr("marker-start","url("+O+"#sequencenumber)"),Z.append("text").attr("x",U).attr("y",Q+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(G)}},"drawMessage"),Vy8=I(function(Z,J,Q,K,U,X,Y){let q=0,W=0,G=void 0,z=0;for(let H of K){let F=J.get(H),M=F.box;if(G&&G!=M){if(!Y)W8.models.addBox(G);W+=v0.boxMargin+G.margin}if(M&&M!=G){if(!Y)M.x=q+W,M.y=U;W+=M.margin}if(F.width=F.width||v0.width,F.height=U8.getMax(F.height||v0.height,v0.height),F.margin=F.margin||v0.actorMargin,z=U8.getMax(z,F.height),Q.get(F.name))W+=F.width/2;if(F.x=q+W,F.starty=W8.getVerticalPos(),W8.insert(F.x,U,F.x+F.width,F.height),q+=F.width+W,F.box)F.box.width=q+M.margin-F.box.x;W=F.margin,G=F.box,W8.models.addActor(F)}if(G&&!Y)W8.models.addBox(G);W8.bumpVerticalPos(z)},"addActorRenderingData"),lt=I(async function(Z,J,Q,K){if(!K)for(let U of Q){let X=J.get(U);await eJ.drawActor(Z,X,v0,!1)}else{let U=0;W8.bumpVerticalPos(v0.boxMargin*2);for(let X of Q){let Y=J.get(X);if(!Y.stopy)Y.stopy=W8.getVerticalPos();let q=await eJ.drawActor(Z,Y,v0,!0);U=U8.getMax(U,q)}W8.bumpVerticalPos(U+v0.boxMargin)}},"drawActors"),Um0=I(function(Z,J,Q,K){let U=0,X=0;for(let Y of Q){let q=J.get(Y),W=Cy8(q),G=eJ.drawPopup(Z,q,W,v0,v0.forceMenus,K);if(G.height>U)U=G.height;if(G.width+q.x>X)X=G.width+q.x}return{maxHeight:U,maxWidth:X}},"drawActorsPopup"),Xm0=I(function(Z){if(KJ(v0,Z),Z.fontFamily)v0.actorFontFamily=v0.noteFontFamily=v0.messageFontFamily=Z.fontFamily;if(Z.fontSize)v0.actorFontSize=v0.noteFontSize=v0.messageFontSize=Z.fontSize;if(Z.fontWeight)v0.actorFontWeight=v0.noteFontWeight=v0.messageFontWeight=Z.fontWeight},"setConf"),p_=I(function(Z){return W8.activations.filter(function(J){return J.actor===Z})},"actorActivations"),th0=I(function(Z,J){let Q=J.get(Z),K=p_(Z),U=K.reduce(function(Y,q){return U8.getMin(Y,q.startx)},Q.x+Q.width/2-1),X=K.reduce(function(Y,q){return U8.getMax(Y,q.stopx)},Q.x+Q.width/2+1);return[U,X]},"activationBounds");I(h5,"adjustLoopHeightForWrap");I(Ym0,"adjustCreatedDestroyedData");Py8=I(async function(Z,J,Q,K){let{securityLevel:U,sequence:X}=E0();v0=X;let Y;if(U==="sandbox")Y=n0("#i"+J);let q=U==="sandbox"?n0(Y.nodes()[0].contentDocument.body):n0("body"),W=U==="sandbox"?Y.nodes()[0].contentDocument:document;W8.init(),Z0.debug(K.db);let G=U==="sandbox"?q.select(`[id="${J}"]`):n0(`[id="${J}"]`),z=K.db.getActors(),H=K.db.getCreatedActors(),F=K.db.getDestroyedActors(),M=K.db.getBoxes(),B=K.db.getActorKeys(),O=K.db.getMessages(),R=K.db.getDiagramTitle(),L=K.db.hasAtLeastOneBox(),D=K.db.hasAtLeastOneBoxWithTitle(),A=await qm0(z,O,K);if(v0.height=await Wm0(z,A,M),eJ.insertComputerIcon(G),eJ.insertDatabaseIcon(G),eJ.insertClockIcon(G),L){if(W8.bumpVerticalPos(v0.boxMargin),D)W8.bumpVerticalPos(M[0].textMaxHeight)}if(v0.hideUnusedParticipants===!0){let b=new Set;O.forEach((y)=>{b.add(y.from),b.add(y.to)}),B=B.filter((y)=>b.has(y))}Vy8(G,z,H,B,0,O,!1);let V=await Ty8(O,z,A,K);eJ.insertArrowHead(G),eJ.insertArrowCrossHead(G),eJ.insertArrowFilledHead(G),eJ.insertSequenceNumber(G);function N(b,y){let u=W8.endActivation(b);if(u.starty+18>y)u.starty=y-6,y+=12;eJ.drawActivation(G,u,y,v0,p_(b.from).length),W8.insert(u.startx,y-10,u.stopx,y)}I(N,"activeEnd");let E=1,C=1,j=[],$=[],k=0;for(let b of O){let y,u,h;switch(b.type){case K.db.LINETYPE.NOTE:W8.resetVerticalPos(),u=b.noteModel,await Ny8(G,u);break;case K.db.LINETYPE.ACTIVE_START:W8.newActivation(b,G,z);break;case K.db.LINETYPE.ACTIVE_END:N(b,W8.getVerticalPos());break;case K.db.LINETYPE.LOOP_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p));break;case K.db.LINETYPE.LOOP_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"loop",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;case K.db.LINETYPE.RECT_START:h5(V,b,v0.boxMargin,v0.boxMargin,(p)=>W8.newLoop(void 0,p.message));break;case K.db.LINETYPE.RECT_END:y=W8.endLoop(),$.push(y),W8.models.addLoop(y),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos());break;case K.db.LINETYPE.OPT_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p));break;case K.db.LINETYPE.OPT_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"opt",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;case K.db.LINETYPE.ALT_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p));break;case K.db.LINETYPE.ALT_ELSE:h5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>W8.addSectionToLoop(p));break;case K.db.LINETYPE.ALT_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"alt",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p)),W8.saveVerticalPos();break;case K.db.LINETYPE.PAR_AND:h5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>W8.addSectionToLoop(p));break;case K.db.LINETYPE.PAR_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"par",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;case K.db.LINETYPE.AUTONUMBER:if(E=b.message.start||E,C=b.message.step||C,b.message.visible)K.db.enableSequenceNumbers();else K.db.disableSequenceNumbers();break;case K.db.LINETYPE.CRITICAL_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p));break;case K.db.LINETYPE.CRITICAL_OPTION:h5(V,b,v0.boxMargin+v0.boxTextMargin,v0.boxMargin,(p)=>W8.addSectionToLoop(p));break;case K.db.LINETYPE.CRITICAL_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"critical",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;case K.db.LINETYPE.BREAK_START:h5(V,b,v0.boxMargin,v0.boxMargin+v0.boxTextMargin,(p)=>W8.newLoop(p));break;case K.db.LINETYPE.BREAK_END:y=W8.endLoop(),await eJ.drawLoop(G,y,"break",v0),W8.bumpVerticalPos(y.stopy-W8.getVerticalPos()),W8.models.addLoop(y);break;default:try{h=b.msgModel,h.starty=W8.getVerticalPos(),h.sequenceIndex=E,h.sequenceVisible=K.db.showSequenceNumbers();let p=await Km0(G,h);Ym0(b,h,p,k,z,H,F),j.push({messageModel:h,lineStartY:p}),W8.models.addMessage(h)}catch(p){Z0.error("error while drawing message",p)}}if([K.db.LINETYPE.SOLID_OPEN,K.db.LINETYPE.DOTTED_OPEN,K.db.LINETYPE.SOLID,K.db.LINETYPE.DOTTED,K.db.LINETYPE.SOLID_CROSS,K.db.LINETYPE.DOTTED_CROSS,K.db.LINETYPE.SOLID_POINT,K.db.LINETYPE.DOTTED_POINT,K.db.LINETYPE.BIDIRECTIONAL_SOLID,K.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(b.type))E=E+C;k++}Z0.debug("createdActors",H),Z0.debug("destroyedActors",F),await lt(G,z,B,!1);for(let b of j)await Ey8(G,b.messageModel,b.lineStartY,K);if(v0.mirrorActors)await lt(G,z,B,!0);$.forEach((b)=>eJ.drawBackgroundRect(G,b)),Zm0(G,z,B,v0);for(let b of W8.models.boxes){b.height=W8.getVerticalPos()-b.y,W8.insert(b.x,b.y,b.x+b.width,b.height);let y=v0.boxMargin*2;b.startx=b.x-y,b.starty=b.y-y*0.25,b.stopx=b.startx+b.width+2*y,b.stopy=b.starty+b.height+y*0.75,b.stroke="rgb(0,0,0, 0.5)",eJ.drawBox(G,b,v0)}if(L)W8.bumpVerticalPos(v0.boxMargin);let w=Um0(G,z,B,W),{bounds:P}=W8.getBounds();if(P.startx===void 0)P.startx=0;if(P.starty===void 0)P.starty=0;if(P.stopx===void 0)P.stopx=0;if(P.stopy===void 0)P.stopy=0;let S=P.stopy-P.starty;if(S<w.maxHeight)S=w.maxHeight;let T=S+2*v0.diagramMarginY;if(v0.mirrorActors)T=T-v0.boxMargin+v0.bottomMarginAdj;let _=P.stopx-P.startx;if(_<w.maxWidth)_=w.maxWidth;let v=_+2*v0.diagramMarginX;if(R)G.append("text").text(R).attr("x",(P.stopx-P.startx)/2-2*v0.diagramMarginX).attr("y",-25);T9(G,T,v,v0.useMaxWidth);let x=R?40:0;G.attr("viewBox",P.startx-v0.diagramMarginX+" -"+(v0.diagramMarginY+x)+" "+v+" "+(T+x)),Z0.debug("models:",W8.models)},"draw");I(qm0,"getMaxMessageWidthPerActor");Cy8=I(function(Z){let J=0,Q=ct(v0);for(let K in Z.links){let X=ZZ.calculateTextDimensions(K,Q).width+2*v0.wrapPadding+2*v0.boxMargin;if(J<X)J=X}return J},"getRequiredPopupWidth");I(Wm0,"calculateActorMargins");jy8=I(async function(Z,J,Q){let K=J.get(Z.from),U=J.get(Z.to),X=K.x,Y=U.x,q=Z.wrap&&Z.message,W=UJ(Z.message)?await lH(Z.message,E0()):ZZ.calculateTextDimensions(q?ZZ.wrapLabel(Z.message,v0.width,UO(v0)):Z.message,UO(v0)),G={width:q?v0.width:U8.getMax(v0.width,W.width+2*v0.noteMargin),height:0,startx:K.x,stopx:0,starty:0,stopy:0,message:Z.message};if(Z.placement===Q.db.PLACEMENT.RIGHTOF)G.width=q?U8.getMax(v0.width,W.width):U8.getMax(K.width/2+U.width/2,W.width+2*v0.noteMargin),G.startx=X+(K.width+v0.actorMargin)/2;else if(Z.placement===Q.db.PLACEMENT.LEFTOF)G.width=q?U8.getMax(v0.width,W.width+2*v0.noteMargin):U8.getMax(K.width/2+U.width/2,W.width+2*v0.noteMargin),G.startx=X-G.width+(K.width-v0.actorMargin)/2;else if(Z.to===Z.from)W=ZZ.calculateTextDimensions(q?ZZ.wrapLabel(Z.message,U8.getMax(v0.width,K.width),UO(v0)):Z.message,UO(v0)),G.width=q?U8.getMax(v0.width,K.width):U8.getMax(K.width,v0.width,W.width+2*v0.noteMargin),G.startx=X+(K.width-G.width)/2;else G.width=Math.abs(X+K.width/2-(Y+U.width/2))+v0.actorMargin,G.startx=X<Y?X+K.width/2-v0.actorMargin/2:Y+U.width/2-v0.actorMargin/2;if(q)G.message=ZZ.wrapLabel(Z.message,G.width-2*v0.wrapPadding,UO(v0));return Z0.debug(`NM:[${G.startx},${G.stopx},${G.starty},${G.stopy}:${G.width},${G.height}=${Z.message}]`),G},"buildNoteModel"),Sy8=I(function(Z,J,Q){if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN,Q.db.LINETYPE.SOLID,Q.db.LINETYPE.DOTTED,Q.db.LINETYPE.SOLID_CROSS,Q.db.LINETYPE.DOTTED_CROSS,Q.db.LINETYPE.SOLID_POINT,Q.db.LINETYPE.DOTTED_POINT,Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))return{};let[K,U]=th0(Z.from,J),[X,Y]=th0(Z.to,J),q=K<=X,W=q?U:K,G=q?X:Y,z=Math.abs(X-Y)>2,H=I((O)=>{return q?-O:O},"adjustValue");if(Z.from===Z.to)G=W;else{if(Z.activate&&!z)G+=H(v0.activationWidth/2-1);if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN].includes(Z.type))G+=H(3);if([Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))W-=H(3)}let F=[K,U,X,Y],M=Math.abs(W-G);if(Z.wrap&&Z.message)Z.message=ZZ.wrapLabel(Z.message,U8.getMax(M+2*v0.wrapPadding,v0.width),dz(v0));let B=ZZ.calculateTextDimensions(Z.message,dz(v0));return{width:U8.getMax(Z.wrap?0:B.width+2*v0.wrapPadding,M+2*v0.wrapPadding,v0.width),height:0,startx:W,stopx:G,starty:0,stopy:0,message:Z.message,type:Z.type,wrap:Z.wrap,fromBounds:Math.min.apply(null,F),toBounds:Math.max.apply(null,F)}},"buildMessageModel"),Ty8=I(async function(Z,J,Q,K){let U={},X=[],Y,q,W;for(let G of Z){switch(G.type){case K.db.LINETYPE.LOOP_START:case K.db.LINETYPE.ALT_START:case K.db.LINETYPE.OPT_START:case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:case K.db.LINETYPE.CRITICAL_START:case K.db.LINETYPE.BREAK_START:X.push({id:G.id,msg:G.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case K.db.LINETYPE.ALT_ELSE:case K.db.LINETYPE.PAR_AND:case K.db.LINETYPE.CRITICAL_OPTION:if(G.message)Y=X.pop(),U[Y.id]=Y,U[G.id]=Y,X.push(Y);break;case K.db.LINETYPE.LOOP_END:case K.db.LINETYPE.ALT_END:case K.db.LINETYPE.OPT_END:case K.db.LINETYPE.PAR_END:case K.db.LINETYPE.CRITICAL_END:case K.db.LINETYPE.BREAK_END:Y=X.pop(),U[Y.id]=Y;break;case K.db.LINETYPE.ACTIVE_START:{let H=J.get(G.from?G.from:G.to.actor),F=p_(G.from?G.from:G.to.actor).length,M=H.x+H.width/2+(F-1)*v0.activationWidth/2,B={startx:M,stopx:M+v0.activationWidth,actor:G.from,enabled:!0};W8.activations.push(B)}break;case K.db.LINETYPE.ACTIVE_END:{let H=W8.activations.map((F)=>F.actor).lastIndexOf(G.from);W8.activations.splice(H,1).splice(0,1)}break}if(G.placement!==void 0)q=await jy8(G,J,K),G.noteModel=q,X.forEach((H)=>{Y=H,Y.from=U8.getMin(Y.from,q.startx),Y.to=U8.getMax(Y.to,q.startx+q.width),Y.width=U8.getMax(Y.width,Math.abs(Y.from-Y.to))-v0.labelBoxWidth});else if(W=Sy8(G,J,K),G.msgModel=W,W.startx&&W.stopx&&X.length>0)X.forEach((H)=>{if(Y=H,W.startx===W.stopx){let F=J.get(G.from),M=J.get(G.to);Y.from=U8.getMin(F.x-W.width/2,F.x-F.width/2,Y.from),Y.to=U8.getMax(M.x+W.width/2,M.x+F.width/2,Y.to),Y.width=U8.getMax(Y.width,Math.abs(Y.to-Y.from))-v0.labelBoxWidth}else Y.from=U8.getMin(W.startx,Y.from),Y.to=U8.getMax(W.stopx,Y.to),Y.width=U8.getMax(Y.width,W.width)-v0.labelBoxWidth})}return W8.activations=[],Z0.debug("Loop type widths:",U),U},"calculateLoopBounds"),wy8={bounds:W8,drawActors:lt,drawActorsPopup:Um0,setConf:Xm0,draw:Py8},$y8={parser:db8,get db(){return new nb8},renderer:wy8,styles:ob8,init:I((Z)=>{if(!Z.sequence)Z.sequence={};if(Z.wrap)Z.sequence.wrap=Z.wrap,K3({sequence:{wrap:Z.wrap}})},"init")}});var it,l_,Hm0,Fm0,c_="classId-",Mm0=0,iz,d_,ky8,i_,_y8,fy8,vy8,s_;var st=f(()=>{fq();P5();jK();AK();w9();yZ();AZ();TZ();it=function(){var Z=I(function(x0,f0,C0,m0){for(C0=C0||{},m0=x0.length;m0--;C0[x0[m0]]=f0);return C0},"o"),J=[1,18],Q=[1,19],K=[1,20],U=[1,41],X=[1,42],Y=[1,26],q=[1,24],W=[1,25],G=[1,32],z=[1,33],H=[1,34],F=[1,45],M=[1,35],B=[1,36],O=[1,37],R=[1,38],L=[1,27],D=[1,28],A=[1,29],V=[1,30],N=[1,31],E=[1,44],C=[1,46],j=[1,43],$=[1,47],k=[1,9],w=[1,8,9],P=[1,58],S=[1,59],T=[1,60],_=[1,61],v=[1,62],x=[1,63],b=[1,64],y=[1,8,9,41],u=[1,76],h=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],p=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],r=[13,60,86,100,102,103],t=[13,60,73,74,86,100,102,103],d=[13,60,68,69,70,71,72,86,100,102,103],X0=[1,100],a=[1,117],z0=[1,113],J0=[1,109],Q0=[1,115],e=[1,110],n=[1,111],Y0=[1,112],o=[1,114],M0=[1,116],K0=[22,48,60,61,82,86,87,88,89,90],V0=[1,8,9,39,41,44],i=[1,8,9,22],p0=[1,145],B0=[1,8,9,61],h0=[1,8,9,22,48,60,61,82,86,87,88,89,90],a0={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:I(function(f0,C0,m0,F0,I0,s,H0){var m=s.length-1;switch(I0){case 8:this.$=s[m-1];break;case 9:case 10:case 13:case 15:this.$=s[m];break;case 11:case 14:this.$=s[m-2]+"."+s[m];break;case 12:case 16:this.$=s[m-1]+s[m];break;case 17:case 18:this.$=s[m-1]+"~"+s[m]+"~";break;case 19:F0.addRelation(s[m]);break;case 20:s[m-1].title=F0.cleanupLabel(s[m]),F0.addRelation(s[m-1]);break;case 31:this.$=s[m].trim(),F0.setAccTitle(this.$);break;case 32:case 33:this.$=s[m].trim(),F0.setAccDescription(this.$);break;case 34:F0.addClassesToNamespace(s[m-3],s[m-1]);break;case 35:F0.addClassesToNamespace(s[m-4],s[m-1]);break;case 36:this.$=s[m],F0.addNamespace(s[m]);break;case 37:this.$=[s[m]];break;case 38:this.$=[s[m-1]];break;case 39:s[m].unshift(s[m-2]),this.$=s[m];break;case 41:F0.setCssClass(s[m-2],s[m]);break;case 42:F0.addMembers(s[m-3],s[m-1]);break;case 44:F0.setCssClass(s[m-5],s[m-3]),F0.addMembers(s[m-5],s[m-1]);break;case 45:this.$=s[m],F0.addClass(s[m]);break;case 46:this.$=s[m-1],F0.addClass(s[m-1]),F0.setClassLabel(s[m-1],s[m]);break;case 50:F0.addAnnotation(s[m],s[m-2]);break;case 51:case 64:this.$=[s[m]];break;case 52:s[m].push(s[m-1]),this.$=s[m];break;case 53:break;case 54:F0.addMember(s[m-1],F0.cleanupLabel(s[m]));break;case 55:break;case 56:break;case 57:this.$={id1:s[m-2],id2:s[m],relation:s[m-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:s[m-3],id2:s[m],relation:s[m-1],relationTitle1:s[m-2],relationTitle2:"none"};break;case 59:this.$={id1:s[m-3],id2:s[m],relation:s[m-2],relationTitle1:"none",relationTitle2:s[m-1]};break;case 60:this.$={id1:s[m-4],id2:s[m],relation:s[m-2],relationTitle1:s[m-3],relationTitle2:s[m-1]};break;case 61:F0.addNote(s[m],s[m-1]);break;case 62:F0.addNote(s[m]);break;case 63:this.$=s[m-2],F0.defineClass(s[m-1],s[m]);break;case 65:this.$=s[m-2].concat([s[m]]);break;case 66:F0.setDirection("TB");break;case 67:F0.setDirection("BT");break;case 68:F0.setDirection("RL");break;case 69:F0.setDirection("LR");break;case 70:this.$={type1:s[m-2],type2:s[m],lineType:s[m-1]};break;case 71:this.$={type1:"none",type2:s[m],lineType:s[m-1]};break;case 72:this.$={type1:s[m-1],type2:"none",lineType:s[m]};break;case 73:this.$={type1:"none",type2:"none",lineType:s[m]};break;case 74:this.$=F0.relationType.AGGREGATION;break;case 75:this.$=F0.relationType.EXTENSION;break;case 76:this.$=F0.relationType.COMPOSITION;break;case 77:this.$=F0.relationType.DEPENDENCY;break;case 78:this.$=F0.relationType.LOLLIPOP;break;case 79:this.$=F0.lineType.LINE;break;case 80:this.$=F0.lineType.DOTTED_LINE;break;case 81:case 87:this.$=s[m-2],F0.setClickEvent(s[m-1],s[m]);break;case 82:case 88:this.$=s[m-3],F0.setClickEvent(s[m-2],s[m-1]),F0.setTooltip(s[m-2],s[m]);break;case 83:this.$=s[m-2],F0.setLink(s[m-1],s[m]);break;case 84:this.$=s[m-3],F0.setLink(s[m-2],s[m-1],s[m]);break;case 85:this.$=s[m-3],F0.setLink(s[m-2],s[m-1]),F0.setTooltip(s[m-2],s[m]);break;case 86:this.$=s[m-4],F0.setLink(s[m-3],s[m-2],s[m]),F0.setTooltip(s[m-3],s[m-1]);break;case 89:this.$=s[m-3],F0.setClickEvent(s[m-2],s[m-1],s[m]);break;case 90:this.$=s[m-4],F0.setClickEvent(s[m-3],s[m-2],s[m-1]),F0.setTooltip(s[m-3],s[m]);break;case 91:this.$=s[m-3],F0.setLink(s[m-2],s[m]);break;case 92:this.$=s[m-4],F0.setLink(s[m-3],s[m-1],s[m]);break;case 93:this.$=s[m-4],F0.setLink(s[m-3],s[m-1]),F0.setTooltip(s[m-3],s[m]);break;case 94:this.$=s[m-5],F0.setLink(s[m-4],s[m-2],s[m]),F0.setTooltip(s[m-4],s[m-1]);break;case 95:this.$=s[m-2],F0.setCssStyle(s[m-1],s[m]);break;case 96:F0.setCssClass(s[m-1],s[m]);break;case 97:this.$=[s[m]];break;case 98:s[m-2].push(s[m]),this.$=s[m-2];break;case 100:this.$=s[m-1]+s[m];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:Q,37:K,38:22,42:U,43:23,46:X,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:L,76:D,78:A,82:V,83:N,86:E,100:C,102:j,103:$},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},Z(k,[2,5],{8:[1,48]}),{8:[1,49]},Z(w,[2,19],{22:[1,50]}),Z(w,[2,21]),Z(w,[2,22]),Z(w,[2,23]),Z(w,[2,24]),Z(w,[2,25]),Z(w,[2,26]),Z(w,[2,27]),Z(w,[2,28]),Z(w,[2,29]),Z(w,[2,30]),{34:[1,51]},{36:[1,52]},Z(w,[2,33]),Z(w,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:P,69:S,70:T,71:_,72:v,73:x,74:b}),{39:[1,65]},Z(y,[2,40],{39:[1,67],44:[1,66]}),Z(w,[2,55]),Z(w,[2,56]),{16:68,60:F,86:E,100:C,102:j},{16:39,17:40,19:69,60:F,86:E,100:C,102:j,103:$},{16:39,17:40,19:70,60:F,86:E,100:C,102:j,103:$},{16:39,17:40,19:71,60:F,86:E,100:C,102:j,103:$},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:F,86:E,100:C,102:j,103:$},{13:u,55:75},{58:77,60:[1,78]},Z(w,[2,66]),Z(w,[2,67]),Z(w,[2,68]),Z(w,[2,69]),Z(h,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:F,86:E,100:C,102:j,103:$}),Z(h,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:F,86:E,100:C,102:j,103:$},{16:39,17:40,19:86,60:F,86:E,100:C,102:j,103:$},Z(p,[2,123]),Z(p,[2,124]),Z(p,[2,125]),Z(p,[2,126]),Z([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),Z(k,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:J,35:Q,37:K,42:U,46:X,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:L,76:D,78:A,82:V,83:N,86:E,100:C,102:j,103:$}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:Q,37:K,38:22,42:U,43:23,46:X,49:Y,51:q,52:W,54:G,56:z,57:H,60:F,62:M,63:B,64:O,65:R,75:L,76:D,78:A,82:V,83:N,86:E,100:C,102:j,103:$},Z(w,[2,20]),Z(w,[2,31]),Z(w,[2,32]),{13:[1,90],16:39,17:40,19:89,60:F,86:E,100:C,102:j,103:$},{53:91,66:56,67:57,68:P,69:S,70:T,71:_,72:v,73:x,74:b},Z(w,[2,54]),{67:92,73:x,74:b},Z(r,[2,73],{66:93,68:P,69:S,70:T,71:_,72:v}),Z(t,[2,74]),Z(t,[2,75]),Z(t,[2,76]),Z(t,[2,77]),Z(t,[2,78]),Z(d,[2,79]),Z(d,[2,80]),{8:[1,95],24:96,40:94,43:23,46:X},{16:97,60:F,86:E,100:C,102:j},{41:[1,99],45:98,51:X0},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:a,48:z0,59:106,60:J0,82:Q0,84:107,85:108,86:e,87:n,88:Y0,89:o,90:M0},{60:[1,118]},{13:u,55:119},Z(w,[2,62]),Z(w,[2,128]),{22:a,48:z0,59:120,60:J0,61:[1,121],82:Q0,84:107,85:108,86:e,87:n,88:Y0,89:o,90:M0},Z(K0,[2,64]),{16:39,17:40,19:122,60:F,86:E,100:C,102:j,103:$},Z(h,[2,16]),Z(h,[2,17]),Z(h,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:F,86:E,100:C,102:j,103:$},{39:[2,10]},Z(V0,[2,45],{11:125,12:[1,126]}),Z(k,[2,7]),{9:[1,127]},Z(i,[2,57]),{16:39,17:40,19:128,60:F,86:E,100:C,102:j,103:$},{13:[1,130],16:39,17:40,19:129,60:F,86:E,100:C,102:j,103:$},Z(r,[2,72],{66:131,68:P,69:S,70:T,71:_,72:v}),Z(r,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:X},{8:[1,134],41:[2,37]},Z(y,[2,41],{39:[1,135]}),{41:[1,136]},Z(y,[2,43]),{41:[2,51],45:137,51:X0},{16:39,17:40,19:138,60:F,86:E,100:C,102:j,103:$},Z(w,[2,81],{13:[1,139]}),Z(w,[2,83],{13:[1,141],77:[1,140]}),Z(w,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},Z(w,[2,95],{61:p0}),Z(B0,[2,97],{85:146,22:a,48:z0,60:J0,82:Q0,86:e,87:n,88:Y0,89:o,90:M0}),Z(h0,[2,99]),Z(h0,[2,101]),Z(h0,[2,102]),Z(h0,[2,103]),Z(h0,[2,104]),Z(h0,[2,105]),Z(h0,[2,106]),Z(h0,[2,107]),Z(h0,[2,108]),Z(h0,[2,109]),Z(w,[2,96]),Z(w,[2,61]),Z(w,[2,63],{61:p0}),{60:[1,147]},Z(h,[2,14]),{15:148,16:84,17:85,60:F,86:E,100:C,102:j,103:$},{39:[2,12]},Z(V0,[2,46]),{13:[1,149]},{1:[2,4]},Z(i,[2,59]),Z(i,[2,58]),{16:39,17:40,19:150,60:F,86:E,100:C,102:j,103:$},Z(r,[2,70]),Z(w,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:X},{45:153,51:X0},Z(y,[2,42]),{41:[2,52]},Z(w,[2,50]),Z(w,[2,82]),Z(w,[2,84]),Z(w,[2,85],{77:[1,154]}),Z(w,[2,88]),Z(w,[2,89],{13:[1,155]}),Z(w,[2,91],{13:[1,157],77:[1,156]}),{22:a,48:z0,60:J0,82:Q0,84:158,85:108,86:e,87:n,88:Y0,89:o,90:M0},Z(h0,[2,100]),Z(K0,[2,65]),{39:[2,11]},{14:[1,159]},Z(i,[2,60]),Z(w,[2,35]),{41:[2,39]},{41:[1,160]},Z(w,[2,86]),Z(w,[2,90]),Z(w,[2,92]),Z(w,[2,93],{77:[1,161]}),Z(B0,[2,98],{85:146,22:a,48:z0,60:J0,82:Q0,86:e,87:n,88:Y0,89:o,90:M0}),Z(V0,[2,8]),Z(y,[2,44]),Z(w,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:I(function(f0,C0){if(C0.recoverable)this.trace(f0);else{var m0=Error(f0);throw m0.hash=C0,m0}},"parseError"),parse:I(function(f0){var C0=this,m0=[0],F0=[],I0=[null],s=[],H0=this.table,m="",q0=0,W0=0,N0=0,D0=2,L0=1,_0=s.slice.call(arguments,1),T0=Object.create(this.lexer),u0={yy:{}};for(var Z8 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,Z8))u0.yy[Z8]=this.yy[Z8];if(T0.setInput(f0,u0.yy),u0.yy.lexer=T0,u0.yy.parser=this,typeof T0.yylloc>"u")T0.yylloc={};var B8=T0.yylloc;s.push(B8);var r0=T0.options&&T0.options.ranges;if(typeof u0.yy.parseError==="function")this.parseError=u0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function g0(w8){m0.length=m0.length-2*w8,I0.length=I0.length-w8,s.length=s.length-w8}I(g0,"popStack");function t0(){var w8=F0.pop()||T0.lex()||L0;if(typeof w8!=="number"){if(w8 instanceof Array)F0=w8,w8=F0.pop();w8=C0.symbols_[w8]||w8}return w8}I(t0,"lex");var d0,X8,g8,M8,$8,H8,G8={},O8,L8,I8,F8;while(!0){if(g8=m0[m0.length-1],this.defaultActions[g8])M8=this.defaultActions[g8];else{if(d0===null||typeof d0>"u")d0=t0();M8=H0[g8]&&H0[g8][d0]}if(typeof M8>"u"||!M8.length||!M8[0]){var iZ="";F8=[];for(O8 in H0[g8])if(this.terminals_[O8]&&O8>D0)F8.push("'"+this.terminals_[O8]+"'");if(T0.showPosition)iZ="Parse error on line "+(q0+1)+`:
`+T0.showPosition()+`
Expecting `+F8.join(", ")+", got '"+(this.terminals_[d0]||d0)+"'";else iZ="Parse error on line "+(q0+1)+": Unexpected "+(d0==L0?"end of input":"'"+(this.terminals_[d0]||d0)+"'");this.parseError(iZ,{text:T0.match,token:this.terminals_[d0]||d0,line:T0.yylineno,loc:B8,expected:F8})}if(M8[0]instanceof Array&&M8.length>1)throw Error("Parse Error: multiple actions possible at state: "+g8+", token: "+d0);switch(M8[0]){case 1:if(m0.push(d0),I0.push(T0.yytext),s.push(T0.yylloc),m0.push(M8[1]),d0=null,!X8){if(W0=T0.yyleng,m=T0.yytext,q0=T0.yylineno,B8=T0.yylloc,N0>0)N0--}else d0=X8,X8=null;break;case 2:if(L8=this.productions_[M8[1]][1],G8.$=I0[I0.length-L8],G8._$={first_line:s[s.length-(L8||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(L8||1)].first_column,last_column:s[s.length-1].last_column},r0)G8._$.range=[s[s.length-(L8||1)].range[0],s[s.length-1].range[1]];if(H8=this.performAction.apply(G8,[m,W0,q0,u0.yy,M8[1],I0,s].concat(_0)),typeof H8<"u")return H8;if(L8)m0=m0.slice(0,-1*L8*2),I0=I0.slice(0,-1*L8),s=s.slice(0,-1*L8);m0.push(this.productions_[M8[1]][0]),I0.push(G8.$),s.push(G8._$),I8=H0[m0[m0.length-2]][m0[m0.length-1]],m0.push(I8);break;case 3:return!0}}return!0},"parse")},s0=function(){var x0={EOF:1,parseError:I(function(C0,m0){if(this.yy.parser)this.yy.parser.parseError(C0,m0);else throw Error(C0)},"parseError"),setInput:I(function(f0,C0){if(this.yy=C0||this.yy||{},this._input=f0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var f0=this._input[0];this.yytext+=f0,this.yyleng++,this.offset++,this.match+=f0,this.matched+=f0;var C0=f0.match(/(?:\r\n?|\n).*/g);if(C0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),f0},"input"),unput:I(function(f0){var C0=f0.length,m0=f0.split(/(?:\r\n?|\n)/g);this._input=f0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C0),this.offset-=C0;var F0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m0.length-1)this.yylineno-=m0.length-1;var I0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m0?(m0.length===F0.length?this.yylloc.first_column:0)+F0[F0.length-m0.length].length-m0[0].length:this.yylloc.first_column-C0},this.options.ranges)this.yylloc.range=[I0[0],I0[0]+this.yyleng-C0];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(f0){this.unput(this.match.slice(f0))},"less"),pastInput:I(function(){var f0=this.matched.substr(0,this.matched.length-this.match.length);return(f0.length>20?"...":"")+f0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var f0=this.match;if(f0.length<20)f0+=this._input.substr(0,20-f0.length);return(f0.substr(0,20)+(f0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var f0=this.pastInput(),C0=Array(f0.length+1).join("-");return f0+this.upcomingInput()+`
`+C0+"^"},"showPosition"),test_match:I(function(f0,C0){var m0,F0,I0;if(this.options.backtrack_lexer){if(I0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)I0.yylloc.range=this.yylloc.range.slice(0)}if(F0=f0[0].match(/(?:\r\n?|\n).*/g),F0)this.yylineno+=F0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:F0?F0[F0.length-1].length-F0[F0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f0[0].length},this.yytext+=f0[0],this.match+=f0[0],this.matches=f0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(f0[0].length),this.matched+=f0[0],m0=this.performAction.call(this,this.yy,this,C0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(m0)return m0;else if(this._backtrack){for(var s in I0)this[s]=I0[s];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var f0,C0,m0,F0;if(!this._more)this.yytext="",this.match="";var I0=this._currentRules();for(var s=0;s<I0.length;s++)if(m0=this._input.match(this.rules[I0[s]]),m0&&(!C0||m0[0].length>C0[0].length)){if(C0=m0,F0=s,this.options.backtrack_lexer)if(f0=this.test_match(m0,I0[s]),f0!==!1)return f0;else if(this._backtrack){C0=!1;continue}else return!1;else if(!this.options.flex)break}if(C0){if(f0=this.test_match(C0,I0[F0]),f0!==!1)return f0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var C0=this.next();if(C0)return C0;else return this.lex()},"lex"),begin:I(function(C0){this.conditionStack.push(C0)},"begin"),popState:I(function(){var C0=this.conditionStack.length-1;if(C0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(C0){if(C0=this.conditionStack.length-1-Math.abs(C0||0),C0>=0)return this.conditionStack[C0];else return"INITIAL"},"topState"),pushState:I(function(C0){this.begin(C0)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(C0,m0,F0,I0){var s=I0;switch(F0){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),35;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;break;case 30:return this.popState(),8;break;case 31:break;case 32:return this.begin("namespace-body"),39;break;case 33:return this.popState(),41;break;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;break;case 39:return this.popState(),8;break;case 40:break;case 41:return this.popState(),this.popState(),41;break;case 42:return this.begin("class-body"),39;break;case 43:return this.popState(),41;break;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return x0}();a0.lexer=s0;function $0(){this.yy={}}return I($0,"Parser"),$0.prototype=a0,a0.Parser=$0,new $0}();it.parser=it;l_=it,Hm0=["#","+","~","-",""],Fm0=class{static{I(this,"ClassMember")}constructor(Z,J){this.memberType=J,this.visibility="",this.classifier="",this.text="";let Q=VZ(Z,E0());this.parseMember(Q)}getDisplayDetails(){let Z=this.visibility+HU(this.id);if(this.memberType==="method"){if(Z+=`(${HU(this.parameters.trim())})`,this.returnType)Z+=" : "+HU(this.returnType)}Z=Z.trim();let J=this.parseClassifier();return{displayText:Z,cssStyle:J}}parseMember(Z){let J="";if(this.memberType==="method"){let U=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(Z);if(U){let X=U[1]?U[1].trim():"";if(Hm0.includes(X))this.visibility=X;if(this.id=U[2],this.parameters=U[3]?U[3].trim():"",J=U[4]?U[4].trim():"",this.returnType=U[5]?U[5].trim():"",J===""){let Y=this.returnType.substring(this.returnType.length-1);if(/[$*]/.exec(Y))J=Y,this.returnType=this.returnType.substring(0,this.returnType.length-1)}}}else{let K=Z.length,U=Z.substring(0,1),X=Z.substring(K-1);if(Hm0.includes(U))this.visibility=U;if(/[$*]/.exec(X))J=X;this.id=Z.substring(this.visibility===""?0:1,J===""?K:K-1)}this.classifier=J,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let Q=`${this.visibility?"\\"+this.visibility:""}${HU(this.id)}${this.memberType==="method"?`(${HU(this.parameters)})${this.returnType?" : "+HU(this.returnType):""}`:""}`;if(this.text=Q.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;"))this.text=this.text.replace("\\&lt;","~")}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},iz=I((Z)=>U8.sanitizeText(Z,E0()),"sanitizeText"),d_=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=I((Z)=>{let J=n0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=n0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);n0(Z).select("svg").selectAll("g.node").on("mouseover",(U)=>{let X=n0(U.currentTarget);if(X.attr("title")===null)return;let q=this.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(X.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.top-14+document.body.scrollTop+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),X.classed("hover",!0)}).on("mouseout",(U)=>{J.transition().duration(500).style("opacity",0),n0(U.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=cZ,this.getAccTitle=sZ,this.setAccDescription=rZ,this.getAccDescription=nZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getConfig=I(()=>E0().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{I(this,"ClassDB")}splitClassNameAndType(Z){let J=U8.sanitizeText(Z,E0()),Q="",K=J;if(J.indexOf("~")>0){let U=J.split("~");K=iz(U[0]),Q=iz(U[1])}return{className:K,type:Q}}setClassLabel(Z,J){let Q=U8.sanitizeText(Z,E0());if(J)J=iz(J);let{className:K}=this.splitClassNameAndType(Q);this.classes.get(K).label=J,this.classes.get(K).text=`${J}${this.classes.get(K).type?`<${this.classes.get(K).type}>`:""}`}addClass(Z){let J=U8.sanitizeText(Z,E0()),{className:Q,type:K}=this.splitClassNameAndType(J);if(this.classes.has(Q))return;let U=U8.sanitizeText(Q,E0());this.classes.set(U,{id:U,type:K,label:U,text:`${U}${K?`&lt;${K}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:c_+U+"-"+Mm0}),Mm0++}addInterface(Z,J){let Q={id:`interface${this.interfaces.length}`,label:Z,classId:J};this.interfaces.push(Q)}lookUpDomId(Z){let J=U8.sanitizeText(Z,E0());if(this.classes.has(J))return this.classes.get(J).domId;throw Error("Class not found: "+J)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",bZ()}getClass(Z){return this.classes.get(Z)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(Z){Z0.debug("Adding relation: "+JSON.stringify(Z));let J=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];if(Z.relation.type1===this.relationType.LOLLIPOP&&!J.includes(Z.relation.type2))this.addClass(Z.id2),this.addInterface(Z.id1,Z.id2),Z.id1=`interface${this.interfaces.length-1}`;else if(Z.relation.type2===this.relationType.LOLLIPOP&&!J.includes(Z.relation.type1))this.addClass(Z.id1),this.addInterface(Z.id2,Z.id1),Z.id2=`interface${this.interfaces.length-1}`;else this.addClass(Z.id1),this.addClass(Z.id2);Z.id1=this.splitClassNameAndType(Z.id1).className,Z.id2=this.splitClassNameAndType(Z.id2).className,Z.relationTitle1=U8.sanitizeText(Z.relationTitle1.trim(),E0()),Z.relationTitle2=U8.sanitizeText(Z.relationTitle2.trim(),E0()),this.relations.push(Z)}addAnnotation(Z,J){let Q=this.splitClassNameAndType(Z).className;this.classes.get(Q).annotations.push(J)}addMember(Z,J){this.addClass(Z);let Q=this.splitClassNameAndType(Z).className,K=this.classes.get(Q);if(typeof J==="string"){let U=J.trim();if(U.startsWith("<<")&&U.endsWith(">>"))K.annotations.push(iz(U.substring(2,U.length-2)));else if(U.indexOf(")")>0)K.methods.push(new Fm0(U,"method"));else if(U)K.members.push(new Fm0(U,"attribute"))}}addMembers(Z,J){if(Array.isArray(J))J.reverse(),J.forEach((Q)=>this.addMember(Z,Q))}addNote(Z,J){let Q={id:`note${this.notes.length}`,class:J,text:Z};this.notes.push(Q)}cleanupLabel(Z){if(Z.startsWith(":"))Z=Z.substring(1);return iz(Z.trim())}setCssClass(Z,J){Z.split(",").forEach((Q)=>{let K=Q;if(/\d/.exec(Q[0]))K=c_+K;let U=this.classes.get(K);if(U)U.cssClasses+=" "+J})}defineClass(Z,J){for(let Q of Z){let K=this.styleClasses.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},this.styleClasses.set(Q,K);if(J)J.forEach((U)=>{if(/color/.exec(U)){let X=U.replace("fill","bgFill");K.textStyles.push(X)}K.styles.push(U)});this.classes.forEach((U)=>{if(U.cssClasses.includes(Q))U.styles.push(...J.flatMap((X)=>X.split(",")))})}}setTooltip(Z,J){Z.split(",").forEach((Q)=>{if(J!==void 0)this.classes.get(Q).tooltip=iz(J)})}getTooltip(Z,J){if(J&&this.namespaces.has(J))return this.namespaces.get(J).classes.get(Z).tooltip;return this.classes.get(Z).tooltip}setLink(Z,J,Q){let K=E0();Z.split(",").forEach((U)=>{let X=U;if(/\d/.exec(U[0]))X=c_+X;let Y=this.classes.get(X);if(Y)if(Y.link=ZZ.formatUrl(J,K),K.securityLevel==="sandbox")Y.linkTarget="_top";else if(typeof Q==="string")Y.linkTarget=iz(Q);else Y.linkTarget="_blank"}),this.setCssClass(Z,"clickable")}setClickEvent(Z,J,Q){Z.split(",").forEach((K)=>{this.setClickFunc(K,J,Q),this.classes.get(K).haveCallback=!0}),this.setCssClass(Z,"clickable")}setClickFunc(Z,J,Q){let K=U8.sanitizeText(Z,E0());if(E0().securityLevel!=="loose")return;if(J===void 0)return;let X=K;if(this.classes.has(X)){let Y=this.lookUpDomId(X),q=[];if(typeof Q==="string"){q=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let W=0;W<q.length;W++){let G=q[W].trim();if(G.startsWith('"')&&G.endsWith('"'))G=G.substr(1,G.length-2);q[W]=G}}if(q.length===0)q.push(Y);this.functions.push(()=>{let W=document.querySelector(`[id="${Y}"]`);if(W!==null)W.addEventListener("click",()=>{ZZ.runFunc(J,...q)},!1)})}}bindFunctions(Z){this.functions.forEach((J)=>{J(Z)})}getDirection(){return this.direction}setDirection(Z){this.direction=Z}addNamespace(Z){if(this.namespaces.has(Z))return;this.namespaces.set(Z,{id:Z,classes:new Map,children:{},domId:c_+Z+"-"+this.namespaceCounter}),this.namespaceCounter++}getNamespace(Z){return this.namespaces.get(Z)}getNamespaces(){return this.namespaces}addClassesToNamespace(Z,J){if(!this.namespaces.has(Z))return;for(let Q of J){let{className:K}=this.splitClassNameAndType(Q);this.classes.get(K).parent=Z,this.namespaces.get(Z).classes.set(K,this.classes.get(K))}}setCssStyle(Z,J){let Q=this.classes.get(Z);if(!J||!Q)return;for(let K of J)if(K.includes(","))Q.styles.push(...K.split(","));else Q.styles.push(K)}getArrowMarker(Z){let J;switch(Z){case 0:J="aggregation";break;case 1:J="extension";break;case 2:J="composition";break;case 3:J="dependency";break;case 4:J="lollipop";break;default:J="none"}return J}getData(){let Z=[],J=[],Q=E0();for(let U of this.namespaces.keys()){let X=this.namespaces.get(U);if(X){let Y={id:X.id,label:X.id,isGroup:!0,padding:Q.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:Q.look};Z.push(Y)}}for(let U of this.classes.keys()){let X=this.classes.get(U);if(X){let Y=X;Y.parentId=X.parent,Y.look=Q.look,Z.push(Y)}}let K=0;for(let U of this.notes){K++;let X={id:U.id,label:U.text,isGroup:!1,shape:"note",padding:Q.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${Q.themeVariables.noteBkgColor}`,`stroke: ${Q.themeVariables.noteBorderColor}`],look:Q.look};Z.push(X);let Y=this.classes.get(U.class)?.id??"";if(Y){let q={id:`edgeNote${K}`,start:U.id,end:Y,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:Q.look};J.push(q)}}for(let U of this.interfaces){let X={id:U.id,label:U.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:Q.look};Z.push(X)}K=0;for(let U of this.relations){K++;let X={id:SU(U.id1,U.id2,{prefix:"id",counter:K}),start:U.id1,end:U.id2,type:"normal",label:U.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(U.relation.type1),arrowTypeEnd:this.getArrowMarker(U.relation.type2),startLabelRight:U.relationTitle1==="none"?"":U.relationTitle1,endLabelLeft:U.relationTitle2==="none"?"":U.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:U.style||"",pattern:U.relation.lineType==1?"dashed":"solid",look:Q.look};J.push(X)}return{nodes:Z,edges:J,other:{},config:Q,direction:this.getDirection()}}},ky8=I((Z)=>`g.classGroup text {
  fill: ${Z.nodeBorder||Z.classText};
  stroke: none;
  font-family: ${Z.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${Z.classText};
}
.edgeLabel .label rect {
  fill: ${Z.mainBkg};
}
.label text {
  fill: ${Z.classText};
}

.labelBkg {
  background: ${Z.mainBkg};
}
.edgeLabel .label span {
  background: ${Z.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.classGroup line {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${Z.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${Z.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
  ${sU()}
`,"getStyles"),i_=ky8,_y8=I((Z,J="TB")=>{if(!Z.doc)return J;let Q=J;for(let K of Z.doc)if(K.stmt==="dir")Q=K.value;return Q},"getDir"),fy8=I(function(Z,J){return J.db.getClasses()},"getClasses"),vy8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing class diagram (v3)",J);let{securityLevel:U,state:X,layout:Y}=E0(),q=K.db.getData(),W=CK(J,U);q.type=K.type,q.layoutAlgorithm=lU(Y),q.nodeSpacing=X?.nodeSpacing||50,q.rankSpacing=X?.rankSpacing||50,q.markers=["aggregation","extension","composition","dependency","lollipop"],q.diagramId=J,await IK(q,W);let G=8;ZZ.insertTitle(W,"classDiagramTitleText",X?.titleTopMargin??25,K.db.getDiagramTitle()),o6(W,G,"classDiagram",X?.useMaxWidth??!0)},"draw"),s_={getClasses:fy8,draw:vy8,getDir:_y8}});var Bm0={};LZ(Bm0,{diagram:()=>xy8});var xy8;var Om0=f(()=>{st();fq();P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();xy8={parser:l_,get db(){return new d_},renderer:s_,styles:i_,init:I((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var Rm0={};LZ(Rm0,{diagram:()=>by8});var by8;var Lm0=f(()=>{st();fq();P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();by8={parser:l_,get db(){return new d_},renderer:s_,styles:i_,init:I((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});function a_(Z="",J=0,Q="",K=tt){let U=Q!==null&&Q.length>0?`${K}${Q}`:"";return`${Jh8}-${Z}${U}-${J}`}function _A(Z,J,Q){if(!J.id||J.id==="</join></fork>"||J.id==="</choice>")return;if(J.cssClasses){if(!Array.isArray(J.cssCompiledStyles))J.cssCompiledStyles=[];J.cssClasses.split(" ").forEach((U)=>{let X=Q.get(U);if(X)J.cssCompiledStyles=[...J.cssCompiledStyles??[],...X.styles]})}let K=Z.find((U)=>U.id===J.id);if(K)Object.assign(K,J);else Z.push(J)}function ym0(Z){return Z?.classes?.join(" ")??""}function hm0(Z){return Z?.styles??[]}var at,o_,yy8="TB",Cm0="TB",Dm0="dir",qO="state",YO="root",ot="relation",hy8="classDef",my8="style",uy8="applyClass",vA="default",jm0="divider",Sm0="fill:none",Tm0="fill: #333",wm0="c",$m0="text",km0="normal",rt="rect",nt="rectWithTitle",gy8="stateStart",py8="stateEnd",Im0="divider",Am0="roundedWithTitle",cy8="note",ly8="noteGroup",xA="statediagram",dy8="state",iy8,_m0="transition",sy8="note",ry8="note-edge",ny8,ay8,oy8="cluster",ty8,ey8="cluster-alt",Zh8,fm0="parent",vm0="note",Jh8="state",tt="----",Qh8,Nm0,xm0,Kh8,Uh8,bm0,n_,vW=0,Xh8,Em0,fA,Yh8,E6,Vm0,Pm0,r_,pY,qh8,t_;var et=f(()=>{P5();jK();AK();w9();yZ();AZ();at=function(){var Z=I(function(y,u,h,p){for(h=h||{},p=y.length;p--;h[y[p]]=u);return h},"o"),J=[1,2],Q=[1,3],K=[1,4],U=[2,4],X=[1,9],Y=[1,11],q=[1,16],W=[1,17],G=[1,18],z=[1,19],H=[1,33],F=[1,20],M=[1,21],B=[1,22],O=[1,23],R=[1,24],L=[1,26],D=[1,27],A=[1,28],V=[1,29],N=[1,30],E=[1,31],C=[1,32],j=[1,35],$=[1,36],k=[1,37],w=[1,38],P=[1,34],S=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],T=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],_=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],v={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:I(function(u,h,p,r,t,d,X0){var a=d.length-1;switch(t){case 3:return r.setRootDoc(d[a]),d[a];break;case 4:this.$=[];break;case 5:if(d[a]!="nl")d[a-1].push(d[a]),this.$=d[a-1];break;case 6:case 7:this.$=d[a];break;case 8:this.$="nl";break;case 12:this.$=d[a];break;case 13:let e=d[a-1];e.description=r.trimColon(d[a]),this.$=e;break;case 14:this.$={stmt:"relation",state1:d[a-2],state2:d[a]};break;case 15:let n=r.trimColon(d[a]);this.$={stmt:"relation",state1:d[a-3],state2:d[a-1],description:n};break;case 19:this.$={stmt:"state",id:d[a-3],type:"default",description:"",doc:d[a-1]};break;case 20:var z0=d[a],J0=d[a-2].trim();if(d[a].match(":")){var Q0=d[a].split(":");z0=Q0[0],J0=[J0,Q0[1]]}this.$={stmt:"state",id:z0,type:"default",description:J0};break;case 21:this.$={stmt:"state",id:d[a-3],type:"default",description:d[a-5],doc:d[a-1]};break;case 22:this.$={stmt:"state",id:d[a],type:"fork"};break;case 23:this.$={stmt:"state",id:d[a],type:"join"};break;case 24:this.$={stmt:"state",id:d[a],type:"choice"};break;case 25:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:d[a-1].trim(),note:{position:d[a-2].trim(),text:d[a].trim()}};break;case 29:this.$=d[a].trim(),r.setAccTitle(this.$);break;case 30:case 31:this.$=d[a].trim(),r.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:d[a-3],url:d[a-2],tooltip:d[a-1]};break;case 33:this.$={stmt:"click",id:d[a-3],url:d[a-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:d[a-1].trim(),classes:d[a].trim()};break;case 36:this.$={stmt:"style",id:d[a-1].trim(),styleClass:d[a].trim()};break;case 37:this.$={stmt:"applyClass",id:d[a-1].trim(),styleClass:d[a].trim()};break;case 38:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:d[a].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:d[a-2].trim(),classes:[d[a].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:d[a-2].trim(),classes:[d[a].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],U,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:X,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:L,35:D,37:A,38:V,41:N,45:E,48:C,51:j,52:$,53:k,54:w,57:P},Z(S,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:q,17:W,19:G,22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:L,35:D,37:A,38:V,41:N,45:E,48:C,51:j,52:$,53:k,54:w,57:P},Z(S,[2,7]),Z(S,[2,8]),Z(S,[2,9]),Z(S,[2,10]),Z(S,[2,11]),Z(S,[2,12],{14:[1,40],15:[1,41]}),Z(S,[2,16]),{18:[1,42]},Z(S,[2,18],{20:[1,43]}),{23:[1,44]},Z(S,[2,22]),Z(S,[2,23]),Z(S,[2,24]),Z(S,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},Z(S,[2,28]),{34:[1,49]},{36:[1,50]},Z(S,[2,31]),{13:51,24:H,57:P},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},Z(T,[2,44],{58:[1,56]}),Z(T,[2,45],{58:[1,57]}),Z(S,[2,38]),Z(S,[2,39]),Z(S,[2,40]),Z(S,[2,41]),Z(S,[2,6]),Z(S,[2,13]),{13:58,24:H,57:P},Z(S,[2,17]),Z(_,U,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},Z(S,[2,29]),Z(S,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},Z(S,[2,14],{14:[1,71]}),{4:X,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,21:[1,72],22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:L,35:D,37:A,38:V,41:N,45:E,48:C,51:j,52:$,53:k,54:w,57:P},Z(S,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},Z(S,[2,34]),Z(S,[2,35]),Z(S,[2,36]),Z(S,[2,37]),Z(T,[2,46]),Z(T,[2,47]),Z(S,[2,15]),Z(S,[2,19]),Z(_,U,{7:78}),Z(S,[2,26]),Z(S,[2,27]),{5:[1,79]},{5:[1,80]},{4:X,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:W,19:G,21:[1,81],22:z,24:H,25:F,26:M,27:B,28:O,29:R,32:25,33:L,35:D,37:A,38:V,41:N,45:E,48:C,51:j,52:$,53:k,54:w,57:P},Z(S,[2,32]),Z(S,[2,33]),Z(S,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:I(function(u,h){if(h.recoverable)this.trace(u);else{var p=Error(u);throw p.hash=h,p}},"parseError"),parse:I(function(u){var h=this,p=[0],r=[],t=[null],d=[],X0=this.table,a="",z0=0,J0=0,Q0=0,e=2,n=1,Y0=d.slice.call(arguments,1),o=Object.create(this.lexer),M0={yy:{}};for(var K0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,K0))M0.yy[K0]=this.yy[K0];if(o.setInput(u,M0.yy),M0.yy.lexer=o,M0.yy.parser=this,typeof o.yylloc>"u")o.yylloc={};var V0=o.yylloc;d.push(V0);var i=o.options&&o.options.ranges;if(typeof M0.yy.parseError==="function")this.parseError=M0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function p0(m){p.length=p.length-2*m,t.length=t.length-m,d.length=d.length-m}I(p0,"popStack");function B0(){var m=r.pop()||o.lex()||n;if(typeof m!=="number"){if(m instanceof Array)r=m,m=r.pop();m=h.symbols_[m]||m}return m}I(B0,"lex");var h0,a0,s0,$0,x0,f0,C0={},m0,F0,I0,s;while(!0){if(s0=p[p.length-1],this.defaultActions[s0])$0=this.defaultActions[s0];else{if(h0===null||typeof h0>"u")h0=B0();$0=X0[s0]&&X0[s0][h0]}if(typeof $0>"u"||!$0.length||!$0[0]){var H0="";s=[];for(m0 in X0[s0])if(this.terminals_[m0]&&m0>e)s.push("'"+this.terminals_[m0]+"'");if(o.showPosition)H0="Parse error on line "+(z0+1)+`:
`+o.showPosition()+`
Expecting `+s.join(", ")+", got '"+(this.terminals_[h0]||h0)+"'";else H0="Parse error on line "+(z0+1)+": Unexpected "+(h0==n?"end of input":"'"+(this.terminals_[h0]||h0)+"'");this.parseError(H0,{text:o.match,token:this.terminals_[h0]||h0,line:o.yylineno,loc:V0,expected:s})}if($0[0]instanceof Array&&$0.length>1)throw Error("Parse Error: multiple actions possible at state: "+s0+", token: "+h0);switch($0[0]){case 1:if(p.push(h0),t.push(o.yytext),d.push(o.yylloc),p.push($0[1]),h0=null,!a0){if(J0=o.yyleng,a=o.yytext,z0=o.yylineno,V0=o.yylloc,Q0>0)Q0--}else h0=a0,a0=null;break;case 2:if(F0=this.productions_[$0[1]][1],C0.$=t[t.length-F0],C0._$={first_line:d[d.length-(F0||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(F0||1)].first_column,last_column:d[d.length-1].last_column},i)C0._$.range=[d[d.length-(F0||1)].range[0],d[d.length-1].range[1]];if(f0=this.performAction.apply(C0,[a,J0,z0,M0.yy,$0[1],t,d].concat(Y0)),typeof f0<"u")return f0;if(F0)p=p.slice(0,-1*F0*2),t=t.slice(0,-1*F0),d=d.slice(0,-1*F0);p.push(this.productions_[$0[1]][0]),t.push(C0.$),d.push(C0._$),I0=X0[p[p.length-2]][p[p.length-1]],p.push(I0);break;case 3:return!0}}return!0},"parse")},x=function(){var y={EOF:1,parseError:I(function(h,p){if(this.yy.parser)this.yy.parser.parseError(h,p);else throw Error(h)},"parseError"),setInput:I(function(u,h){if(this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);if(h)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),u},"input"),unput:I(function(u){var h=u.length,p=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var r=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),p.length-1)this.yylineno-=p.length-1;var t=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:p?(p.length===r.length?this.yylloc.first_column:0)+r[r.length-p.length].length-p[0].length:this.yylloc.first_column-h},this.options.ranges)this.yylloc.range=[t[0],t[0]+this.yyleng-h];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(u){this.unput(this.match.slice(u))},"less"),pastInput:I(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var u=this.match;if(u.length<20)u+=this._input.substr(0,20-u.length);return(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var u=this.pastInput(),h=Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:I(function(u,h){var p,r,t;if(this.options.backtrack_lexer){if(t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)t.yylloc.range=this.yylloc.range.slice(0)}if(r=u[0].match(/(?:\r\n?|\n).*/g),r)this.yylineno+=r.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],p=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(p)return p;else if(this._backtrack){for(var d in t)this[d]=t[d];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var u,h,p,r;if(!this._more)this.yytext="",this.match="";var t=this._currentRules();for(var d=0;d<t.length;d++)if(p=this._input.match(this.rules[t[d]]),p&&(!h||p[0].length>h[0].length)){if(h=p,r=d,this.options.backtrack_lexer)if(u=this.test_match(p,t[d]),u!==!1)return u;else if(this._backtrack){h=!1;continue}else return!1;else if(!this.options.flex)break}if(h){if(u=this.test_match(h,t[r]),u!==!1)return u;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var h=this.next();if(h)return h;else return this.lex()},"lex"),begin:I(function(h){this.conditionStack.push(h)},"begin"),popState:I(function(){var h=this.conditionStack.length-1;if(h>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(h){if(h=this.conditionStack.length-1-Math.abs(h||0),h>=0)return this.conditionStack[h];else return"INITIAL"},"topState"),pushState:I(function(h){this.begin(h)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(h,p,r,t){var d=t;switch(r){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;break;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;break;case 19:return this.popState(),"acc_title_value";break;case 20:return this.begin("acc_descr"),35;break;case 21:return this.popState(),"acc_descr_value";break;case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;break;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 27:return this.popState(),this.pushState("CLASSDEFID"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("CLASS"),48;break;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;break;case 31:return this.popState(),50;break;case 32:return this.pushState("STYLE"),45;break;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;break;case 34:return this.popState(),47;break;case 35:return this.pushState("SCALE"),17;break;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),p.yytext=p.yytext.slice(0,-10).trim(),27;break;case 42:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),25;break;case 43:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),26;break;case 44:return this.popState(),p.yytext=p.yytext.slice(0,-10).trim(),27;break;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";break;case 51:return this.popState(),"ID";break;case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;break;case 57:break;case 58:return this.popState(),21;break;case 59:break;case 60:return this.begin("NOTE"),29;break;case 61:return this.popState(),this.pushState("NOTE_ID"),59;break;case 62:return this.popState(),this.pushState("NOTE_ID"),60;break;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";break;case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 69:return this.popState(),p.yytext=p.yytext.substr(2).trim(),31;break;case 70:return this.popState(),p.yytext=p.yytext.slice(0,-8).trim(),31;break;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return p.yytext=p.yytext.trim(),14;break;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return y}();v.lexer=x;function b(){this.yy={}}return I(b,"Parser"),b.prototype=v,v.Parser=b,new b}();at.parser=at;o_=at,iy8=`${xA}-${dy8}`,ny8=`${_m0} ${ry8}`,ay8=`${xA}-${sy8}`,ty8=`${xA}-${oy8}`,Zh8=`${xA}-${ey8}`,Qh8=`${tt}${vm0}`,Nm0=`${tt}${fm0}`,xm0=I((Z,J=Cm0)=>{if(!Z.doc)return J;let Q=J;for(let K of Z.doc)if(K.stmt==="dir")Q=K.value;return Q},"getDir"),Kh8=I(function(Z,J){return J.db.getClasses()},"getClasses"),Uh8=I(async function(Z,J,Q,K){Z0.info("REF0:"),Z0.info("Drawing state diagram (v2)",J);let{securityLevel:U,state:X,layout:Y}=E0();K.db.extract(K.db.getRootDocV2());let q=K.db.getData(),W=CK(J,U);q.type=K.type,q.layoutAlgorithm=Y,q.nodeSpacing=X?.nodeSpacing||50,q.rankSpacing=X?.rankSpacing||50,q.markers=["barb"],q.diagramId=J,await IK(q,W);let G=8;try{(typeof K.db.getLinks==="function"?K.db.getLinks():new Map).forEach((H,F)=>{let M=typeof F==="string"?F:typeof F?.id==="string"?F.id:"";if(!M){Z0.warn(" Invalid or missing stateId from key:",JSON.stringify(F));return}let B=W.node()?.querySelectorAll("g"),O;if(B?.forEach((A)=>{if(A.textContent?.trim()===M)O=A}),!O){Z0.warn(" Could not find node matching text:",M);return}let R=O.parentNode;if(!R){Z0.warn(" Node has no parent, cannot wrap:",M);return}let L=document.createElementNS("http://www.w3.org/2000/svg","a"),D=H.url.replace(/^"+|"+$/g,"");if(L.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",D),L.setAttribute("target","_blank"),H.tooltip){let A=H.tooltip.replace(/^"+|"+$/g,"");L.setAttribute("title",A)}R.replaceChild(L,O),L.appendChild(O),Z0.info("\uD83D\uDD17 Wrapped node in <a> tag for:",M,H.url)})}catch(z){Z0.error(" Error injecting clickable links:",z)}ZZ.insertTitle(W,"statediagramTitleText",X?.titleTopMargin??25,K.db.getDiagramTitle()),o6(W,G,xA,X?.useMaxWidth??!0)},"draw"),bm0={getClasses:Kh8,draw:Uh8,getDir:xm0},n_=new Map;I(a_,"stateDomId");Xh8=I((Z,J,Q,K,U,X,Y,q)=>{Z0.trace("items",J),J.forEach((W)=>{switch(W.stmt){case qO:fA(Z,W,Q,K,U,X,Y,q);break;case vA:fA(Z,W,Q,K,U,X,Y,q);break;case ot:{fA(Z,W.state1,Q,K,U,X,Y,q),fA(Z,W.state2,Q,K,U,X,Y,q);let G={id:"edge"+vW,start:W.state1.id,end:W.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Sm0,labelStyle:"",label:U8.sanitizeText(W.description??"",E0()),arrowheadStyle:Tm0,labelpos:wm0,labelType:$m0,thickness:km0,classes:_m0,look:Y};U.push(G),vW++}break}})},"setupDoc"),Em0=I((Z,J=Cm0)=>{let Q=J;if(Z.doc){for(let K of Z.doc)if(K.stmt==="dir")Q=K.value}return Q},"getDir");I(_A,"insertOrUpdateNode");I(ym0,"getClassesFromDbInfo");I(hm0,"getStylesFromDbInfo");fA=I((Z,J,Q,K,U,X,Y,q)=>{let W=J.id,G=Q.get(W),z=ym0(G),H=hm0(G),F=E0();if(Z0.info("dataFetcher parsedItem",J,G,H),W!=="root"){let M=rt;if(J.start===!0)M=gy8;else if(J.start===!1)M=py8;if(J.type!==vA)M=J.type;if(!n_.get(W))n_.set(W,{id:W,shape:M,description:U8.sanitizeText(W,F),cssClasses:`${z} ${iy8}`,cssStyles:H});let B=n_.get(W);if(J.description){if(Array.isArray(B.description))B.shape=nt,B.description.push(J.description);else if(B.description?.length&&B.description.length>0)if(B.shape=nt,B.description===W)B.description=[J.description];else B.description=[B.description,J.description];else B.shape=rt,B.description=J.description;B.description=U8.sanitizeTextOrArray(B.description,F)}if(B.description?.length===1&&B.shape===nt)if(B.type==="group")B.shape=Am0;else B.shape=rt;if(!B.type&&J.doc)Z0.info("Setting cluster for XCX",W,Em0(J)),B.type="group",B.isGroup=!0,B.dir=Em0(J),B.shape=J.type===jm0?Im0:Am0,B.cssClasses=`${B.cssClasses} ${ty8} ${X?Zh8:""}`;let O={labelStyle:"",shape:B.shape,label:B.description,cssClasses:B.cssClasses,cssCompiledStyles:[],cssStyles:B.cssStyles,id:W,dir:B.dir,domId:a_(W,vW),type:B.type,isGroup:B.type==="group",padding:8,rx:10,ry:10,look:Y};if(O.shape===Im0)O.label="";if(Z&&Z.id!=="root")Z0.trace("Setting node ",W," to be child of its parent ",Z.id),O.parentId=Z.id;if(O.centerLabel=!0,J.note){let R={labelStyle:"",shape:cy8,label:J.note.text,cssClasses:ay8,cssStyles:[],cssCompiledStyles:[],id:W+Qh8+"-"+vW,domId:a_(W,vW,vm0),type:B.type,isGroup:B.type==="group",padding:F.flowchart?.padding,look:Y,position:J.note.position},L=W+Nm0,D={labelStyle:"",shape:ly8,label:J.note.text,cssClasses:B.cssClasses,cssStyles:[],id:W+Nm0,domId:a_(W,vW,fm0),type:"group",isGroup:!0,padding:16,look:Y,position:J.note.position};vW++,D.id=L,R.parentId=L,_A(K,D,q),_A(K,R,q),_A(K,O,q);let A=W,V=R.id;if(J.note.position==="left of")A=R.id,V=W;U.push({id:A+"-"+V,start:A,end:V,arrowhead:"none",arrowTypeEnd:"",style:Sm0,labelStyle:"",classes:ny8,arrowheadStyle:Tm0,labelpos:wm0,labelType:$m0,thickness:km0,look:Y})}else _A(K,O,q)}if(J.doc)Z0.trace("Adding nodes children "),Xh8(J,J.doc,Q,K,U,!X,Y,q)},"dataFetcher"),Yh8=I(()=>{n_.clear(),vW=0},"reset"),E6={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},Vm0=I(()=>new Map,"newClassesList"),Pm0=I(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),r_=I((Z)=>JSON.parse(JSON.stringify(Z)),"clone"),pY=class{constructor(Z){this.version=Z,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=Vm0(),this.documents={root:Pm0()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=sZ,this.setAccTitle=cZ,this.getAccDescription=nZ,this.setAccDescription=rZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}static{I(this,"StateDB")}static{this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}}extract(Z){this.clear(!0);for(let K of Array.isArray(Z)?Z:Z.doc)switch(K.stmt){case qO:this.addState(K.id.trim(),K.type,K.doc,K.description,K.note);break;case ot:this.addRelation(K.state1,K.state2,K.description);break;case hy8:this.addStyleClass(K.id.trim(),K.classes);break;case my8:this.handleStyleDef(K);break;case uy8:this.setCssClass(K.id.trim(),K.styleClass);break;case"click":this.addLink(K.id,K.url,K.tooltip);break}let J=this.getStates(),Q=E0();Yh8(),fA(void 0,this.getRootDocV2(),J,this.nodes,this.edges,!0,Q.look,this.classes);for(let K of this.nodes){if(!Array.isArray(K.label))continue;if(K.description=K.label.slice(1),K.isGroup&&K.description.length>0)throw Error(`Group nodes can only have label. Remove the additional description for node [${K.id}]`);K.label=K.label[0]}}handleStyleDef(Z){let J=Z.id.trim().split(","),Q=Z.styleClass.split(",");for(let K of J){let U=this.getState(K);if(!U){let X=K.trim();this.addState(X),U=this.getState(X)}if(U)U.styles=Q.map((X)=>X.replace(/;/g,"")?.trim())}}setRootDoc(Z){if(Z0.info("Setting root doc",Z),this.rootDoc=Z,this.version===1)this.extract(Z);else this.extract(this.getRootDocV2())}docTranslator(Z,J,Q){if(J.stmt===ot){this.docTranslator(Z,J.state1,!0),this.docTranslator(Z,J.state2,!1);return}if(J.stmt===qO)if(J.id===E6.START_NODE)J.id=Z.id+(Q?"_start":"_end"),J.start=Q;else J.id=J.id.trim();if(J.stmt!==YO&&J.stmt!==qO||!J.doc)return;let K=[],U=[];for(let X of J.doc)if(X.type===jm0){let Y=r_(X);Y.doc=r_(U),K.push(Y),U=[]}else U.push(X);if(K.length>0&&U.length>0){let X={stmt:qO,id:Ep(),type:"divider",doc:r_(U)};K.push(r_(X)),J.doc=K}J.doc.forEach((X)=>this.docTranslator(J,X,!0))}getRootDocV2(){return this.docTranslator({id:YO,stmt:YO},{id:YO,stmt:YO,doc:this.rootDoc},!0),{id:YO,doc:this.rootDoc}}addState(Z,J=vA,Q=void 0,K=void 0,U=void 0,X=void 0,Y=void 0,q=void 0){let W=Z?.trim();if(!this.currentDocument.states.has(W))Z0.info("Adding state ",W,K),this.currentDocument.states.set(W,{stmt:qO,id:W,descriptions:[],type:J,doc:Q,note:U,classes:[],styles:[],textStyles:[]});else{let G=this.currentDocument.states.get(W);if(!G)throw Error(`State not found: ${W}`);if(!G.doc)G.doc=Q;if(!G.type)G.type=J}if(K)Z0.info("Setting state description",W,K),(Array.isArray(K)?K:[K]).forEach((z)=>this.addDescription(W,z.trim()));if(U){let G=this.currentDocument.states.get(W);if(!G)throw Error(`State not found: ${W}`);G.note=U,G.note.text=U8.sanitizeText(G.note.text,E0())}if(X)Z0.info("Setting state classes",W,X),(Array.isArray(X)?X:[X]).forEach((z)=>this.setCssClass(W,z.trim()));if(Y)Z0.info("Setting state styles",W,Y),(Array.isArray(Y)?Y:[Y]).forEach((z)=>this.setStyle(W,z.trim()));if(q)Z0.info("Setting state styles",W,Y),(Array.isArray(q)?q:[q]).forEach((z)=>this.setTextStyle(W,z.trim()))}clear(Z){if(this.nodes=[],this.edges=[],this.documents={root:Pm0()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=Vm0(),!Z)this.links=new Map,bZ()}getState(Z){return this.currentDocument.states.get(Z)}getStates(){return this.currentDocument.states}logDocuments(){Z0.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(Z,J,Q){this.links.set(Z,{url:J,tooltip:Q}),Z0.warn("Adding link",Z,J,Q)}getLinks(){return this.links}startIdIfNeeded(Z=""){if(Z===E6.START_NODE)return this.startEndCount++,`${E6.START_TYPE}${this.startEndCount}`;return Z}startTypeIfNeeded(Z="",J=vA){return Z===E6.START_NODE?E6.START_TYPE:J}endIdIfNeeded(Z=""){if(Z===E6.END_NODE)return this.startEndCount++,`${E6.END_TYPE}${this.startEndCount}`;return Z}endTypeIfNeeded(Z="",J=vA){return Z===E6.END_NODE?E6.END_TYPE:J}addRelationObjs(Z,J,Q=""){let K=this.startIdIfNeeded(Z.id.trim()),U=this.startTypeIfNeeded(Z.id.trim(),Z.type),X=this.startIdIfNeeded(J.id.trim()),Y=this.startTypeIfNeeded(J.id.trim(),J.type);this.addState(K,U,Z.doc,Z.description,Z.note,Z.classes,Z.styles,Z.textStyles),this.addState(X,Y,J.doc,J.description,J.note,J.classes,J.styles,J.textStyles),this.currentDocument.relations.push({id1:K,id2:X,relationTitle:U8.sanitizeText(Q,E0())})}addRelation(Z,J,Q){if(typeof Z==="object"&&typeof J==="object")this.addRelationObjs(Z,J,Q);else if(typeof Z==="string"&&typeof J==="string"){let K=this.startIdIfNeeded(Z.trim()),U=this.startTypeIfNeeded(Z),X=this.endIdIfNeeded(J.trim()),Y=this.endTypeIfNeeded(J);this.addState(K,U),this.addState(X,Y),this.currentDocument.relations.push({id1:K,id2:X,relationTitle:Q?U8.sanitizeText(Q,E0()):void 0})}}addDescription(Z,J){let Q=this.currentDocument.states.get(Z),K=J.startsWith(":")?J.replace(":","").trim():J;Q?.descriptions?.push(U8.sanitizeText(K,E0()))}cleanupLabel(Z){return Z.startsWith(":")?Z.slice(2).trim():Z.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(Z,J=""){if(!this.classes.has(Z))this.classes.set(Z,{id:Z,styles:[],textStyles:[]});let Q=this.classes.get(Z);if(J&&Q)J.split(E6.STYLECLASS_SEP).forEach((K)=>{let U=K.replace(/([^;]*);/,"$1").trim();if(RegExp(E6.COLOR_KEYWORD).exec(K)){let Y=U.replace(E6.FILL_KEYWORD,E6.BG_FILL).replace(E6.COLOR_KEYWORD,E6.FILL_KEYWORD);Q.textStyles.push(Y)}Q.styles.push(U)})}getClasses(){return this.classes}setCssClass(Z,J){Z.split(",").forEach((Q)=>{let K=this.getState(Q);if(!K){let U=Q.trim();this.addState(U),K=this.getState(U)}K?.classes?.push(J)})}setStyle(Z,J){this.getState(Z)?.styles?.push(J)}setTextStyle(Z,J){this.getState(Z)?.textStyles?.push(J)}getDirectionStatement(){return this.rootDoc.find((Z)=>Z.stmt===Dm0)}getDirection(){return this.getDirectionStatement()?.value??yy8}setDirection(Z){let J=this.getDirectionStatement();if(J)J.value=Z;else this.rootDoc.unshift({stmt:Dm0,value:Z})}trimColon(Z){return Z.startsWith(":")?Z.slice(1).trim():Z.trim()}getData(){let Z=E0();return{nodes:this.nodes,edges:this.edges,other:{},config:Z,direction:xm0(this.getRootDocV2())}}getConfig(){return E0().state}},qh8=I((Z)=>`
defs #statediagram-barbEnd {
    fill: ${Z.transitionColor};
    stroke: ${Z.transitionColor};
  }
g.stateGroup text {
  fill: ${Z.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${Z.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${Z.stateLabelColor};
}

g.stateGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.stateGroup line {
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${Z.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${Z.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${Z.noteBorderColor};
  fill: ${Z.noteBkgColor};

  text {
    fill: ${Z.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${Z.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${Z.edgeLabelBackground};
  p {
    background-color: ${Z.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${Z.edgeLabelBackground};
    fill: ${Z.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}

.stateLabel text {
  fill: ${Z.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node .fork-join {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node circle.state-end {
  fill: ${Z.innerEndBackground};
  stroke: ${Z.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${Z.compositeBackground||Z.background};
  // stroke: ${Z.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${Z.stateBkg||Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${Z.lineColor};
}

.statediagram-cluster rect {
  fill: ${Z.compositeTitleBackground};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${Z.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${Z.stateBorder||Z.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${Z.compositeBackground||Z.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${Z.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${Z.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${Z.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${Z.lineColor};
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
`,"getStyles"),t_=qh8});var pm0={};LZ(pm0,{diagram:()=>Vh8});var Wh8,Gh8,zh8,Hh8,Fh8,Mh8,Bh8,Oh8,Rh8,mm0,um0=0,Lh8,c4,Ze,Dh8,Ih8,Ah8,Nh8,gm0,Eh8,Vh8;var cm0=f(()=>{et();P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();TZ();Nl();MK();TZ();Wh8=I((Z)=>Z.append("circle").attr("class","start-state").attr("r",E0().state.sizeUnit).attr("cx",E0().state.padding+E0().state.sizeUnit).attr("cy",E0().state.padding+E0().state.sizeUnit),"drawStartState"),Gh8=I((Z)=>Z.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",E0().state.textHeight).attr("class","divider").attr("x2",E0().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),zh8=I((Z,J)=>{let Q=Z.append("text").attr("x",2*E0().state.padding).attr("y",E0().state.textHeight+2*E0().state.padding).attr("font-size",E0().state.fontSize).attr("class","state-title").text(J.id),K=Q.node().getBBox();return Z.insert("rect",":first-child").attr("x",E0().state.padding).attr("y",E0().state.padding).attr("width",K.width+2*E0().state.padding).attr("height",K.height+2*E0().state.padding).attr("rx",E0().state.radius),Q},"drawSimpleState"),Hh8=I((Z,J)=>{let Q=I(function(F,M,B){let O=F.append("tspan").attr("x",2*E0().state.padding).text(M);if(!B)O.attr("dy",E0().state.textHeight)},"addTspan"),U=Z.append("text").attr("x",2*E0().state.padding).attr("y",E0().state.textHeight+1.3*E0().state.padding).attr("font-size",E0().state.fontSize).attr("class","state-title").text(J.descriptions[0]).node().getBBox(),X=U.height,Y=Z.append("text").attr("x",E0().state.padding).attr("y",X+E0().state.padding*0.4+E0().state.dividerMargin+E0().state.textHeight).attr("class","state-description"),q=!0,W=!0;J.descriptions.forEach(function(F){if(!q)Q(Y,F,W),W=!1;q=!1});let G=Z.append("line").attr("x1",E0().state.padding).attr("y1",E0().state.padding+X+E0().state.dividerMargin/2).attr("y2",E0().state.padding+X+E0().state.dividerMargin/2).attr("class","descr-divider"),z=Y.node().getBBox(),H=Math.max(z.width,U.width);return G.attr("x2",H+3*E0().state.padding),Z.insert("rect",":first-child").attr("x",E0().state.padding).attr("y",E0().state.padding).attr("width",H+2*E0().state.padding).attr("height",z.height+X+2*E0().state.padding).attr("rx",E0().state.radius),Z},"drawDescrState"),Fh8=I((Z,J,Q)=>{let K=E0().state.padding,U=2*E0().state.padding,X=Z.node().getBBox(),Y=X.width,q=X.x,W=Z.append("text").attr("x",0).attr("y",E0().state.titleShift).attr("font-size",E0().state.fontSize).attr("class","state-title").text(J.id),z=W.node().getBBox().width+U,H=Math.max(z,Y);if(H===Y)H=H+U;let F,M=Z.node().getBBox();if(J.doc);if(F=q-K,z>Y)F=(Y-H)/2+K;if(Math.abs(q-M.x)<K&&z>Y)F=q-(z-Y)/2;let B=1-E0().state.textHeight;if(Z.insert("rect",":first-child").attr("x",F).attr("y",B).attr("class",Q?"alt-composit":"composit").attr("width",H).attr("height",M.height+E0().state.textHeight+E0().state.titleShift+1).attr("rx","0"),W.attr("x",F+K),z<=Y)W.attr("x",q+(H-U)/2-z/2+K);return Z.insert("rect",":first-child").attr("x",F).attr("y",E0().state.titleShift-E0().state.textHeight-E0().state.padding).attr("width",H).attr("height",E0().state.textHeight*3).attr("rx",E0().state.radius),Z.insert("rect",":first-child").attr("x",F).attr("y",E0().state.titleShift-E0().state.textHeight-E0().state.padding).attr("width",H).attr("height",M.height+3+2*E0().state.textHeight).attr("rx",E0().state.radius),Z},"addTitleAndBox"),Mh8=I((Z)=>{return Z.append("circle").attr("class","end-state-outer").attr("r",E0().state.sizeUnit+E0().state.miniPadding).attr("cx",E0().state.padding+E0().state.sizeUnit+E0().state.miniPadding).attr("cy",E0().state.padding+E0().state.sizeUnit+E0().state.miniPadding),Z.append("circle").attr("class","end-state-inner").attr("r",E0().state.sizeUnit).attr("cx",E0().state.padding+E0().state.sizeUnit+2).attr("cy",E0().state.padding+E0().state.sizeUnit+2)},"drawEndState"),Bh8=I((Z,J)=>{let Q=E0().state.forkWidth,K=E0().state.forkHeight;if(J.parentId){let U=Q;Q=K,K=U}return Z.append("rect").style("stroke","black").style("fill","black").attr("width",Q).attr("height",K).attr("x",E0().state.padding).attr("y",E0().state.padding)},"drawForkJoinState"),Oh8=I((Z,J,Q,K)=>{let U=0,X=K.append("text");X.style("text-anchor","start"),X.attr("class","noteText");let Y=Z.replace(/\r\n/g,"<br/>");Y=Y.replace(/\n/g,"<br/>");let q=Y.split(U8.lineBreakRegex),W=1.25*E0().state.noteMargin;for(let G of q){let z=G.trim();if(z.length>0){let H=X.append("tspan");if(H.text(z),W===0){let F=H.node().getBBox();W+=F.height}U+=W,H.attr("x",J+E0().state.noteMargin),H.attr("y",Q+U+1.25*E0().state.noteMargin)}}return{textWidth:X.node().getBBox().width,textHeight:U}},"_drawLongText"),Rh8=I((Z,J)=>{J.attr("class","state-note");let Q=J.append("rect").attr("x",0).attr("y",E0().state.padding),K=J.append("g"),{textWidth:U,textHeight:X}=Oh8(Z,0,0,K);return Q.attr("height",X+2*E0().state.noteMargin),Q.attr("width",U+E0().state.noteMargin*2),Q},"drawNote"),mm0=I(function(Z,J){let Q=J.id,K={id:Q,label:J.id,width:0,height:0},U=Z.append("g").attr("id",Q).attr("class","stateGroup");if(J.type==="start")Wh8(U);if(J.type==="end")Mh8(U);if(J.type==="fork"||J.type==="join")Bh8(U,J);if(J.type==="note")Rh8(J.note.text,U);if(J.type==="divider")Gh8(U);if(J.type==="default"&&J.descriptions.length===0)zh8(U,J);if(J.type==="default"&&J.descriptions.length>0)Hh8(U,J);let X=U.node().getBBox();return K.width=X.width+2*E0().state.padding,K.height=X.height+2*E0().state.padding,K},"drawState"),Lh8=I(function(Z,J,Q){let K=I(function(W){switch(W){case pY.relationType.AGGREGATION:return"aggregation";case pY.relationType.EXTENSION:return"extension";case pY.relationType.COMPOSITION:return"composition";case pY.relationType.DEPENDENCY:return"dependency"}},"getRelationType");J.points=J.points.filter((W)=>!Number.isNaN(W.y));let U=J.points,X=F5().x(function(W){return W.x}).y(function(W){return W.y}).curve(YK),Y=Z.append("path").attr("d",X(U)).attr("id","edge"+um0).attr("class","transition"),q="";if(E0().state.arrowMarkerAbsolute)q=RG(!0);if(Y.attr("marker-end","url("+q+"#"+K(pY.relationType.DEPENDENCY)+"End)"),Q.title!==void 0){let W=Z.append("g").attr("class","stateLabel"),{x:G,y:z}=ZZ.calcLabelPosition(J.points),H=U8.getRows(Q.title),F=0,M=[],B=0,O=0;for(let D=0;D<=H.length;D++){let A=W.append("text").attr("text-anchor","middle").text(H[D]).attr("x",G).attr("y",z+F),V=A.node().getBBox();if(B=Math.max(B,V.width),O=Math.min(O,V.x),Z0.info(V.x,G,z+F),F===0)F=A.node().getBBox().height,Z0.info("Title height",F,z);M.push(A)}let R=F*H.length;if(H.length>1){let D=(H.length-1)*F*0.5;M.forEach((A,V)=>A.attr("y",z+V*F-D)),R=F*H.length}let L=W.node().getBBox();W.insert("rect",":first-child").attr("class","box").attr("x",G-B/2-E0().state.padding/2).attr("y",z-R/2-E0().state.padding/2-3.5).attr("width",B+E0().state.padding).attr("height",R+E0().state.padding),Z0.info(L)}um0++},"drawEdge"),Ze={},Dh8=I(function(){},"setConf"),Ih8=I(function(Z){Z.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),Ah8=I(function(Z,J,Q,K){c4=E0().state;let U=E0().securityLevel,X;if(U==="sandbox")X=n0("#i"+J);let Y=U==="sandbox"?n0(X.nodes()[0].contentDocument.body):n0("body"),q=U==="sandbox"?X.nodes()[0].contentDocument:document;Z0.debug("Rendering diagram "+Z);let W=Y.select(`[id='${J}']`);Ih8(W);let G=K.db.getRootDoc();gm0(G,W,void 0,!1,Y,q,K);let z=c4.padding,H=W.node().getBBox(),F=H.width+z*2,M=H.height+z*2,B=F*1.75;T9(W,M,B,c4.useMaxWidth),W.attr("viewBox",`${H.x-c4.padding}  ${H.y-c4.padding} `+F+" "+M)},"draw"),Nh8=I((Z)=>{return Z?Z.length*c4.fontSizeFactor:1},"getLabelWidth"),gm0=I((Z,J,Q,K,U,X,Y)=>{let q=new k9({compound:!0,multigraph:!0}),W,G=!0;for(W=0;W<Z.length;W++)if(Z[W].stmt==="relation"){G=!1;break}if(Q)q.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:G?1:c4.edgeLengthFactor,nodeSep:G?1:50,isMultiGraph:!0});else q.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:G?1:c4.edgeLengthFactor,nodeSep:G?1:50,ranker:"tight-tree",isMultiGraph:!0});q.setDefaultEdgeLabel(function(){return{}});let z=Y.db.getStates(),H=Y.db.getRelations(),F=Object.keys(z),M=!0;for(let D of F){let A=z[D];if(Q)A.parentId=Q;let V;if(A.doc){let N=J.append("g").attr("id",A.id).attr("class","stateGroup");if(V=gm0(A.doc,N,A.id,!K,U,X,Y),M){N=Fh8(N,A,K);let E=N.node().getBBox();V.width=E.width,V.height=E.height+c4.padding/2,Ze[A.id]={y:c4.compositTitleSize}}else{let E=N.node().getBBox();V.width=E.width,V.height=E.height}}else V=mm0(J,A,q);if(A.note){let N={descriptions:[],id:A.id+"-note",note:A.note,type:"note"},E=mm0(J,N,q);if(A.note.position==="left of")q.setNode(V.id+"-note",E),q.setNode(V.id,V);else q.setNode(V.id,V),q.setNode(V.id+"-note",E);q.setParent(V.id,V.id+"-group"),q.setParent(V.id+"-note",V.id+"-group")}else q.setNode(V.id,V)}Z0.debug("Count=",q.nodeCount(),q);let B=0;H.forEach(function(D){B++,Z0.debug("Setting edge",D),q.setEdge(D.id1,D.id2,{relation:D,width:Nh8(D.title),height:c4.labelHeight*U8.getRows(D.title).length,labelpos:"c"},"id"+B)}),rL(q),Z0.debug("Graph after layout",q.nodes());let O=J.node();q.nodes().forEach(function(D){if(D!==void 0&&q.node(D)!==void 0)Z0.warn("Node "+D+": "+JSON.stringify(q.node(D))),U.select("#"+O.id+" #"+D).attr("transform","translate("+(q.node(D).x-q.node(D).width/2)+","+(q.node(D).y+(Ze[D]?Ze[D].y:0)-q.node(D).height/2)+" )"),U.select("#"+O.id+" #"+D).attr("data-x-shift",q.node(D).x-q.node(D).width/2),X.querySelectorAll("#"+O.id+" #"+D+" .divider").forEach((V)=>{let N=V.parentElement,E=0,C=0;if(N){if(N.parentElement)E=N.parentElement.getBBox().width;if(C=parseInt(N.getAttribute("data-x-shift"),10),Number.isNaN(C))C=0}V.setAttribute("x1",0-C+8),V.setAttribute("x2",E-C-8)});else Z0.debug("No Node "+D+": "+JSON.stringify(q.node(D)))});let R=O.getBBox();q.edges().forEach(function(D){if(D!==void 0&&q.edge(D)!==void 0)Z0.debug("Edge "+D.v+" -> "+D.w+": "+JSON.stringify(q.edge(D))),Lh8(J,q.edge(D),q.edge(D).relation)}),R=O.getBBox();let L={id:Q?Q:"root",label:Q?Q:"root",width:0,height:0};return L.width=R.width+2*c4.padding,L.height=R.height+2*c4.padding,Z0.debug("Doc rendered",L,q),L},"renderDoc"),Eh8={setConf:Dh8,draw:Ah8},Vh8={parser:o_,get db(){return new pY(1)},renderer:Eh8,styles:t_,init:I((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var lm0={};LZ(lm0,{diagram:()=>Ph8});var Ph8;var dm0=f(()=>{et();P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();Ph8={parser:o_,get db(){return new pY(2)},renderer:bm0,styles:t_,init:I((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute},"init")}});var Ju0={};LZ(Ju0,{diagram:()=>dh8});function Zu0(Z){let J=E0().journey,Q=J.maxLabelWidth;e_=0;let K=60;Object.keys(cY).forEach((U)=>{let X=cY[U].color,Y={cx:20,cy:K,r:7,fill:X,stroke:"#000",pos:cY[U].position};hA.drawCircle(Z,Y);let q=Z.append("text").attr("visibility","hidden").text(U),W=q.node().getBoundingClientRect().width;q.remove();let G=[];if(W<=Q)G=[U];else{let z=U.split(" "),H="";if(q=Z.append("text").attr("visibility","hidden"),z.forEach((F)=>{let M=H?`${H} ${F}`:F;if(q.text(M),q.node().getBoundingClientRect().width>Q){if(H)G.push(H);if(H=F,q.text(F),q.node().getBoundingClientRect().width>Q){let O="";for(let R of F)if(O+=R,q.text(O+"-"),q.node().getBoundingClientRect().width>Q)G.push(O.slice(0,-1)+"-"),O=R;H=O}}else H=M}),H)G.push(H);q.remove()}G.forEach((z,H)=>{let F={x:40,y:K+7+H*20,fill:"#666",text:z,textMargin:J.boxTextMargin??5},B=hA.drawText(Z,F).node().getBoundingClientRect().width;if(B>e_&&B>J.leftMargin-B)e_=B}),K+=Math.max(20,G.length*20)})}var Qe,Ch8,WO="",Ke,bA,yA,jh8,Sh8,Th8,wh8,$h8,kh8,_h8,im0,fh8,sm0,vh8,xh8,Ue,bh8,om0,tm0,yh8,hh8,rm0=-1,mh8,uh8,em0,gh8,hA,ph8,cY,e_=0,m5,xW=0,ch8,hK,Je,nm0,lh8,am0,dh8;var Qu0=f(()=>{FT();fq();yZ();AZ();TZ();TZ();Qe=function(){var Z=I(function(H,F,M,B){for(M=M||{},B=H.length;B--;M[H[B]]=F);return M},"o"),J=[6,8,10,11,12,14,16,17,18],Q=[1,9],K=[1,10],U=[1,11],X=[1,12],Y=[1,13],q=[1,14],W={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:I(function(F,M,B,O,R,L,D){var A=L.length-1;switch(R){case 1:return L[A-1];case 2:this.$=[];break;case 3:L[A-1].push(L[A]),this.$=L[A-1];break;case 4:case 5:this.$=L[A];break;case 6:case 7:this.$=[];break;case 8:O.setDiagramTitle(L[A].substr(6)),this.$=L[A].substr(6);break;case 9:this.$=L[A].trim(),O.setAccTitle(this.$);break;case 10:case 11:this.$=L[A].trim(),O.setAccDescription(this.$);break;case 12:O.addSection(L[A].substr(8)),this.$=L[A].substr(8);break;case 13:O.addTask(L[A-1],L[A]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:U,16:X,17:Y,18:q},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:15,11:Q,12:K,14:U,16:X,17:Y,18:q},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,16]},{15:[1,17]},Z(J,[2,11]),Z(J,[2,12]),{19:[1,18]},Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,13])],defaultActions:{},parseError:I(function(F,M){if(M.recoverable)this.trace(F);else{var B=Error(F);throw B.hash=M,B}},"parseError"),parse:I(function(F){var M=this,B=[0],O=[],R=[null],L=[],D=this.table,A="",V=0,N=0,E=0,C=2,j=1,$=L.slice.call(arguments,1),k=Object.create(this.lexer),w={yy:{}};for(var P in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,P))w.yy[P]=this.yy[P];if(k.setInput(F,w.yy),w.yy.lexer=k,w.yy.parser=this,typeof k.yylloc>"u")k.yylloc={};var S=k.yylloc;L.push(S);var T=k.options&&k.options.ranges;if(typeof w.yy.parseError==="function")this.parseError=w.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function _(J0){B.length=B.length-2*J0,R.length=R.length-J0,L.length=L.length-J0}I(_,"popStack");function v(){var J0=O.pop()||k.lex()||j;if(typeof J0!=="number"){if(J0 instanceof Array)O=J0,J0=O.pop();J0=M.symbols_[J0]||J0}return J0}I(v,"lex");var x,b,y,u,h,p,r={},t,d,X0,a;while(!0){if(y=B[B.length-1],this.defaultActions[y])u=this.defaultActions[y];else{if(x===null||typeof x>"u")x=v();u=D[y]&&D[y][x]}if(typeof u>"u"||!u.length||!u[0]){var z0="";a=[];for(t in D[y])if(this.terminals_[t]&&t>C)a.push("'"+this.terminals_[t]+"'");if(k.showPosition)z0="Parse error on line "+(V+1)+`:
`+k.showPosition()+`
Expecting `+a.join(", ")+", got '"+(this.terminals_[x]||x)+"'";else z0="Parse error on line "+(V+1)+": Unexpected "+(x==j?"end of input":"'"+(this.terminals_[x]||x)+"'");this.parseError(z0,{text:k.match,token:this.terminals_[x]||x,line:k.yylineno,loc:S,expected:a})}if(u[0]instanceof Array&&u.length>1)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+x);switch(u[0]){case 1:if(B.push(x),R.push(k.yytext),L.push(k.yylloc),B.push(u[1]),x=null,!b){if(N=k.yyleng,A=k.yytext,V=k.yylineno,S=k.yylloc,E>0)E--}else x=b,b=null;break;case 2:if(d=this.productions_[u[1]][1],r.$=R[R.length-d],r._$={first_line:L[L.length-(d||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(d||1)].first_column,last_column:L[L.length-1].last_column},T)r._$.range=[L[L.length-(d||1)].range[0],L[L.length-1].range[1]];if(p=this.performAction.apply(r,[A,N,V,w.yy,u[1],R,L].concat($)),typeof p<"u")return p;if(d)B=B.slice(0,-1*d*2),R=R.slice(0,-1*d),L=L.slice(0,-1*d);B.push(this.productions_[u[1]][0]),R.push(r.$),L.push(r._$),X0=D[B[B.length-2]][B[B.length-1]],B.push(X0);break;case 3:return!0}}return!0},"parse")},G=function(){var H={EOF:1,parseError:I(function(M,B){if(this.yy.parser)this.yy.parser.parseError(M,B);else throw Error(M)},"parseError"),setInput:I(function(F,M){if(this.yy=M||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var M=F.match(/(?:\r\n?|\n).*/g);if(M)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),F},"input"),unput:I(function(F){var M=F.length,B=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var O=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1)this.yylineno-=B.length-1;var R=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===O.length?this.yylloc.first_column:0)+O[O.length-B.length].length-B[0].length:this.yylloc.first_column-M},this.options.ranges)this.yylloc.range=[R[0],R[0]+this.yyleng-M];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(F){this.unput(this.match.slice(F))},"less"),pastInput:I(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var F=this.match;if(F.length<20)F+=this._input.substr(0,20-F.length);return(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var F=this.pastInput(),M=Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+M+"^"},"showPosition"),test_match:I(function(F,M){var B,O,R;if(this.options.backtrack_lexer){if(R={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)R.yylloc.range=this.yylloc.range.slice(0)}if(O=F[0].match(/(?:\r\n?|\n).*/g),O)this.yylineno+=O.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],B=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(B)return B;else if(this._backtrack){for(var L in R)this[L]=R[L];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var F,M,B,O;if(!this._more)this.yytext="",this.match="";var R=this._currentRules();for(var L=0;L<R.length;L++)if(B=this._input.match(this.rules[R[L]]),B&&(!M||B[0].length>M[0].length)){if(M=B,O=L,this.options.backtrack_lexer)if(F=this.test_match(B,R[L]),F!==!1)return F;else if(this._backtrack){M=!1;continue}else return!1;else if(!this.options.flex)break}if(M){if(F=this.test_match(M,R[O]),F!==!1)return F;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var M=this.next();if(M)return M;else return this.lex()},"lex"),begin:I(function(M){this.conditionStack.push(M)},"begin"),popState:I(function(){var M=this.conditionStack.length-1;if(M>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(M){if(M=this.conditionStack.length-1-Math.abs(M||0),M>=0)return this.conditionStack[M];else return"INITIAL"},"topState"),pushState:I(function(M){this.begin(M)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(M,B,O,R){var L=R;switch(O){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return H}();W.lexer=G;function z(){this.yy={}}return I(z,"Parser"),z.prototype=W,W.Parser=z,new z}();Qe.parser=Qe;Ch8=Qe,Ke=[],bA=[],yA=[],jh8=I(function(){Ke.length=0,bA.length=0,WO="",yA.length=0,bZ()},"clear"),Sh8=I(function(Z){WO=Z,Ke.push(Z)},"addSection"),Th8=I(function(){return Ke},"getSections"),wh8=I(function(){let Z=im0(),J=100,Q=0;while(!Z&&Q<J)Z=im0(),Q++;return bA.push(...yA),bA},"getTasks"),$h8=I(function(){let Z=[];return bA.forEach((Q)=>{if(Q.people)Z.push(...Q.people)}),[...new Set(Z)].sort()},"updateActors"),kh8=I(function(Z,J){let Q=J.substr(1).split(":"),K=0,U=[];if(Q.length===1)K=Number(Q[0]),U=[];else K=Number(Q[0]),U=Q[1].split(",");let X=U.map((q)=>q.trim()),Y={section:WO,type:WO,people:X,task:Z,score:K};yA.push(Y)},"addTask"),_h8=I(function(Z){let J={section:WO,type:WO,description:Z,task:Z,classes:[]};bA.push(J)},"addTaskOrg"),im0=I(function(){let Z=I(function(Q){return yA[Q].processed},"compileTask"),J=!0;for(let[Q,K]of yA.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),fh8=I(function(){return $h8()},"getActors"),sm0={getConfig:I(()=>E0().journey,"getConfig"),clear:jh8,setDiagramTitle:Z9,getDiagramTitle:aZ,setAccTitle:cZ,getAccTitle:sZ,setAccDescription:rZ,getAccDescription:nZ,addSection:Sh8,getSections:Th8,getTasks:wh8,addTask:kh8,addTaskOrg:_h8,getActors:fh8},vh8=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${Z.textColor}
  }

  .legend {
    fill: ${Z.textColor};
    font-family: ${Z.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${Z.textColor}
  }

  .face {
    ${Z.faceColor?`fill: ${Z.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${Z.fillType0?`fill: ${Z.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${Z.fillType0?`fill: ${Z.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${Z.fillType0?`fill: ${Z.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${Z.fillType0?`fill: ${Z.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${Z.fillType0?`fill: ${Z.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${Z.fillType0?`fill: ${Z.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${Z.fillType0?`fill: ${Z.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${Z.fillType0?`fill: ${Z.fillType7}`:""};
  }

  .actor-0 {
    ${Z.actor0?`fill: ${Z.actor0}`:""};
  }
  .actor-1 {
    ${Z.actor1?`fill: ${Z.actor1}`:""};
  }
  .actor-2 {
    ${Z.actor2?`fill: ${Z.actor2}`:""};
  }
  .actor-3 {
    ${Z.actor3?`fill: ${Z.actor3}`:""};
  }
  .actor-4 {
    ${Z.actor4?`fill: ${Z.actor4}`:""};
  }
  .actor-5 {
    ${Z.actor5?`fill: ${Z.actor5}`:""};
  }
  ${sU()}
`,"getStyles"),xh8=vh8,Ue=I(function(Z,J){return Mz(Z,J)},"drawRect"),bh8=I(function(Z,J){let K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),U=Z.append("g");U.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),U.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function X(W){let G=H5().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}I(X,"smile");function Y(W){let G=H5().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}I(Y,"sad");function q(W){W.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(I(q,"ambivalent"),J.score>3)X(U);else if(J.score<3)Y(U);else q(U);return K},"drawFace"),om0=I(function(Z,J){let Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),tm0=I(function(Z,J){return UE0(Z,J)},"drawText"),yh8=I(function(Z,J){function Q(U,X,Y,q,W){return U+","+X+" "+(U+Y)+","+X+" "+(U+Y)+","+(X+q-W)+" "+(U+Y-W*1.2)+","+(X+q)+" "+U+","+(X+q)}I(Q,"genPoints");let K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,tm0(Z,J)},"drawLabel"),hh8=I(function(Z,J,Q){let K=Z.append("g"),U=$Q();U.x=J.x,U.y=J.y,U.fill=J.fill,U.width=Q.width*J.taskCount+Q.diagramMarginX*(J.taskCount-1),U.height=Q.height,U.class="journey-section section-type-"+J.num,U.rx=3,U.ry=3,Ue(K,U),em0(Q)(J.text,K,U.x,U.y,U.width,U.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),mh8=I(function(Z,J,Q){let K=J.x+Q.width/2,U=Z.append("g");rm0++;let X=450;U.append("line").attr("id","task"+rm0).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",X).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),bh8(U,{cx:K,cy:300+(5-J.score)*30,score:J.score});let Y=$Q();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,Ue(U,Y);let q=J.x+14;J.people.forEach((W)=>{let G=J.actors[W].color,z={cx:q,cy:J.y,r:7,fill:G,stroke:"#000",title:W,pos:J.actors[W].position};om0(U,z),q+=10}),em0(Q)(J.task,U,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),uh8=I(function(Z,J){WT(Z,J)},"drawBackgroundRect"),em0=function(){function Z(U,X,Y,q,W,G,z,H){let F=X.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("font-color",H).style("text-anchor","middle").text(U);K(F,z)}I(Z,"byText");function J(U,X,Y,q,W,G,z,H,F){let{taskFontSize:M,taskFontFamily:B}=H,O=U.split(/<br\s*\/?>/gi);for(let R=0;R<O.length;R++){let L=R*M-M*(O.length-1)/2,D=X.append("text").attr("x",Y+W/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);D.append("tspan").attr("x",Y+W/2).attr("dy",L).text(O[R]),D.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(D,z)}}I(J,"byTspan");function Q(U,X,Y,q,W,G,z,H){let F=X.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(U,X){for(let Y in X)if(Y in X)U.attr(Y,X[Y])}return I(K,"_setTextAttrs"),function(U){return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),gh8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),hA={drawRect:Ue,drawCircle:om0,drawSection:hh8,drawText:tm0,drawLabel:yh8,drawTask:mh8,drawBackgroundRect:uh8,initGraphics:gh8},ph8=I(function(Z){Object.keys(Z).forEach(function(Q){m5[Q]=Z[Q]})},"setConf"),cY={};I(Zu0,"drawActorLegend");m5=E0().journey,ch8=I(function(Z,J,Q,K){let U=E0(),X=U.journey.titleColor,Y=U.journey.titleFontSize,q=U.journey.titleFontFamily,W=U.securityLevel,G;if(W==="sandbox")G=n0("#i"+J);let z=W==="sandbox"?n0(G.nodes()[0].contentDocument.body):n0("body");hK.init();let H=z.select("#"+J);hA.initGraphics(H);let F=K.db.getTasks(),M=K.db.getDiagramTitle(),B=K.db.getActors();for(let V in cY)delete cY[V];let O=0;B.forEach((V)=>{cY[V]={color:m5.actorColours[O%m5.actorColours.length],position:O},O++}),Zu0(H),xW=m5.leftMargin+e_,hK.insert(0,0,xW,Object.keys(cY).length*50),lh8(H,F,0);let R=hK.getBounds();if(M)H.append("text").text(M).attr("x",xW).attr("font-size",Y).attr("font-weight","bold").attr("y",25).attr("fill",X).attr("font-family",q);let L=R.stopy-R.starty+2*m5.diagramMarginY,D=xW+R.stopx+2*m5.diagramMarginX;T9(H,L,D,m5.useMaxWidth),H.append("line").attr("x1",xW).attr("y1",m5.height*4).attr("x2",D-xW-4).attr("y2",m5.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let A=M?70:0;H.attr("viewBox",`${R.startx} -25 ${D} ${L+A}`),H.attr("preserveAspectRatio","xMinYMin meet"),H.attr("height",L+A+25)},"draw"),hK={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:I(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:I(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:I(function(Z,J,Q,K){let U=E0().journey,X=this,Y=0;function q(W){return I(function(z){Y++;let H=X.sequenceItems.length-Y+1;if(X.updateVal(z,"starty",J-H*U.boxMargin,Math.min),X.updateVal(z,"stopy",K+H*U.boxMargin,Math.max),X.updateVal(hK.data,"startx",Z-H*U.boxMargin,Math.min),X.updateVal(hK.data,"stopx",Q+H*U.boxMargin,Math.max),W!=="activation")X.updateVal(z,"startx",Z-H*U.boxMargin,Math.min),X.updateVal(z,"stopx",Q+H*U.boxMargin,Math.max),X.updateVal(hK.data,"starty",J-H*U.boxMargin,Math.min),X.updateVal(hK.data,"stopy",K+H*U.boxMargin,Math.max)},"updateItemBounds")}I(q,"updateFn"),this.sequenceItems.forEach(q())},"updateBounds"),insert:I(function(Z,J,Q,K){let U=Math.min(Z,Q),X=Math.max(Z,Q),Y=Math.min(J,K),q=Math.max(J,K);this.updateVal(hK.data,"startx",U,Math.min),this.updateVal(hK.data,"starty",Y,Math.min),this.updateVal(hK.data,"stopx",X,Math.max),this.updateVal(hK.data,"stopy",q,Math.max),this.updateBounds(U,Y,X,q)},"insert"),bumpVerticalPos:I(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return this.data},"getBounds")},Je=m5.sectionFills,nm0=m5.sectionColours,lh8=I(function(Z,J,Q){let K=E0().journey,U="",X=K.height*2+K.diagramMarginY,Y=Q+X,q=0,W="#CCC",G="black",z=0;for(let[H,F]of J.entries()){if(U!==F.section){W=Je[q%Je.length],z=q%Je.length,G=nm0[q%nm0.length];let B=0,O=F.section;for(let L=H;L<J.length;L++)if(J[L].section==O)B=B+1;else break;let R={x:H*K.taskMargin+H*K.width+xW,y:50,text:F.section,fill:W,num:z,colour:G,taskCount:B};hA.drawSection(Z,R,K),U=F.section,q++}let M=F.people.reduce((B,O)=>{if(cY[O])B[O]=cY[O];return B},{});F.x=H*K.taskMargin+H*K.width+xW,F.y=Y,F.width=K.diagramMarginX,F.height=K.diagramMarginY,F.colour=G,F.fill=W,F.num=z,F.actors=M,hA.drawTask(Z,F,K),hK.insert(F.x,F.y,F.x+F.width+K.taskMargin,450)}},"drawTasks"),am0={setConf:ph8,draw:ch8},dh8={parser:Ch8,db:sm0,renderer:am0,styles:xh8,init:I((Z)=>{am0.setConf(Z.journey),sm0.clear()},"init")}});var Du0={};LZ(Du0,{diagram:()=>Fm8});function We(Z,J){Z.each(function(){var Q=n0(this),K=Q.text().split(/(\s+|<br>)/).reverse(),U,X=[],Y=1.1,q=Q.attr("y"),W=parseFloat(Q.attr("dy")),G=Q.text(null).append("tspan").attr("x",0).attr("y",q).attr("dy",W+"em");for(let z=0;z<K.length;z++)if(U=K[K.length-1-z],X.push(U),G.text(X.join(" ").trim()),G.node().getComputedTextLength()>J||U==="<br>"){if(X.pop(),G.text(X.join(" ").trim()),U==="<br>")X=[""];else X=[U];G=Q.append("tspan").attr("x",0).attr("y",q).attr("dy",Y+"em").text(U)}})}var Xe,ih8,Yu0,GO="",qu0=0,Ye,Zf,zO,Wu0,Gu0,zu0,Hu0,Fu0,Mu0,Bu0,Ou0,Ku0,sh8,rh8=12,Jf,nh8,ah8,Ru0,oh8,th8,Uu0=-1,eh8,Zm8,Jm8,qe,Lu0,Qm8,Km8,Um8,Xm8,sz,Ym8,Xu0,qm8,Wm8,Gm8,zm8,Hm8,Fm8;var Iu0=f(()=>{yZ();AZ();TZ();TZ();N4();Xe=function(){var Z=I(function(F,M,B,O){for(B=B||{},O=F.length;O--;B[F[O]]=M);return B},"o"),J=[6,8,10,11,12,14,16,17,20,21],Q=[1,9],K=[1,10],U=[1,11],X=[1,12],Y=[1,13],q=[1,16],W=[1,17],G={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:I(function(M,B,O,R,L,D,A){var V=D.length-1;switch(L){case 1:return D[V-1];case 2:this.$=[];break;case 3:D[V-1].push(D[V]),this.$=D[V-1];break;case 4:case 5:this.$=D[V];break;case 6:case 7:this.$=[];break;case 8:R.getCommonDb().setDiagramTitle(D[V].substr(6)),this.$=D[V].substr(6);break;case 9:this.$=D[V].trim(),R.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=D[V].trim(),R.getCommonDb().setAccDescription(this.$);break;case 12:R.addSection(D[V].substr(8)),this.$=D[V].substr(8);break;case 15:R.addTask(D[V],0,""),this.$=D[V];break;case 16:R.addEvent(D[V].substr(2)),this.$=D[V];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:U,16:X,17:Y,18:14,19:15,20:q,21:W},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:18,11:Q,12:K,14:U,16:X,17:Y,18:14,19:15,20:q,21:W},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,19]},{15:[1,20]},Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10])],defaultActions:{},parseError:I(function(M,B){if(B.recoverable)this.trace(M);else{var O=Error(M);throw O.hash=B,O}},"parseError"),parse:I(function(M){var B=this,O=[0],R=[],L=[null],D=[],A=this.table,V="",N=0,E=0,C=0,j=2,$=1,k=D.slice.call(arguments,1),w=Object.create(this.lexer),P={yy:{}};for(var S in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,S))P.yy[S]=this.yy[S];if(w.setInput(M,P.yy),P.yy.lexer=w,P.yy.parser=this,typeof w.yylloc>"u")w.yylloc={};var T=w.yylloc;D.push(T);var _=w.options&&w.options.ranges;if(typeof P.yy.parseError==="function")this.parseError=P.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function v(Q0){O.length=O.length-2*Q0,L.length=L.length-Q0,D.length=D.length-Q0}I(v,"popStack");function x(){var Q0=R.pop()||w.lex()||$;if(typeof Q0!=="number"){if(Q0 instanceof Array)R=Q0,Q0=R.pop();Q0=B.symbols_[Q0]||Q0}return Q0}I(x,"lex");var b,y,u,h,p,r,t={},d,X0,a,z0;while(!0){if(u=O[O.length-1],this.defaultActions[u])h=this.defaultActions[u];else{if(b===null||typeof b>"u")b=x();h=A[u]&&A[u][b]}if(typeof h>"u"||!h.length||!h[0]){var J0="";z0=[];for(d in A[u])if(this.terminals_[d]&&d>j)z0.push("'"+this.terminals_[d]+"'");if(w.showPosition)J0="Parse error on line "+(N+1)+`:
`+w.showPosition()+`
Expecting `+z0.join(", ")+", got '"+(this.terminals_[b]||b)+"'";else J0="Parse error on line "+(N+1)+": Unexpected "+(b==$?"end of input":"'"+(this.terminals_[b]||b)+"'");this.parseError(J0,{text:w.match,token:this.terminals_[b]||b,line:w.yylineno,loc:T,expected:z0})}if(h[0]instanceof Array&&h.length>1)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+b);switch(h[0]){case 1:if(O.push(b),L.push(w.yytext),D.push(w.yylloc),O.push(h[1]),b=null,!y){if(E=w.yyleng,V=w.yytext,N=w.yylineno,T=w.yylloc,C>0)C--}else b=y,y=null;break;case 2:if(X0=this.productions_[h[1]][1],t.$=L[L.length-X0],t._$={first_line:D[D.length-(X0||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(X0||1)].first_column,last_column:D[D.length-1].last_column},_)t._$.range=[D[D.length-(X0||1)].range[0],D[D.length-1].range[1]];if(r=this.performAction.apply(t,[V,E,N,P.yy,h[1],L,D].concat(k)),typeof r<"u")return r;if(X0)O=O.slice(0,-1*X0*2),L=L.slice(0,-1*X0),D=D.slice(0,-1*X0);O.push(this.productions_[h[1]][0]),L.push(t.$),D.push(t._$),a=A[O[O.length-2]][O[O.length-1]],O.push(a);break;case 3:return!0}}return!0},"parse")},z=function(){var F={EOF:1,parseError:I(function(B,O){if(this.yy.parser)this.yy.parser.parseError(B,O);else throw Error(B)},"parseError"),setInput:I(function(M,B){if(this.yy=B||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var B=M.match(/(?:\r\n?|\n).*/g);if(B)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),M},"input"),unput:I(function(M){var B=M.length,O=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var R=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1)this.yylineno-=O.length-1;var L=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===R.length?this.yylloc.first_column:0)+R[R.length-O.length].length-O[0].length:this.yylloc.first_column-B},this.options.ranges)this.yylloc.range=[L[0],L[0]+this.yyleng-B];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(M){this.unput(this.match.slice(M))},"less"),pastInput:I(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var M=this.match;if(M.length<20)M+=this._input.substr(0,20-M.length);return(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var M=this.pastInput(),B=Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+B+"^"},"showPosition"),test_match:I(function(M,B){var O,R,L;if(this.options.backtrack_lexer){if(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)L.yylloc.range=this.yylloc.range.slice(0)}if(R=M[0].match(/(?:\r\n?|\n).*/g),R)this.yylineno+=R.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],O=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(O)return O;else if(this._backtrack){for(var D in L)this[D]=L[D];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var M,B,O,R;if(!this._more)this.yytext="",this.match="";var L=this._currentRules();for(var D=0;D<L.length;D++)if(O=this._input.match(this.rules[L[D]]),O&&(!B||O[0].length>B[0].length)){if(B=O,R=D,this.options.backtrack_lexer)if(M=this.test_match(O,L[D]),M!==!1)return M;else if(this._backtrack){B=!1;continue}else return!1;else if(!this.options.flex)break}if(B){if(M=this.test_match(B,L[R]),M!==!1)return M;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var B=this.next();if(B)return B;else return this.lex()},"lex"),begin:I(function(B){this.conditionStack.push(B)},"begin"),popState:I(function(){var B=this.conditionStack.length-1;if(B>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(B){if(B=this.conditionStack.length-1-Math.abs(B||0),B>=0)return this.conditionStack[B];else return"INITIAL"},"topState"),pushState:I(function(B){this.begin(B)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(B,O,R,L){var D=L;switch(R){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return F}();G.lexer=z;function H(){this.yy={}}return I(H,"Parser"),H.prototype=G,G.Parser=H,new H}();Xe.parser=Xe;ih8=Xe,Yu0={};q1(Yu0,{addEvent:()=>Bu0,addSection:()=>zu0,addTask:()=>Mu0,addTaskOrg:()=>Ou0,clear:()=>Gu0,default:()=>sh8,getCommonDb:()=>Wu0,getSections:()=>Hu0,getTasks:()=>Fu0});Ye=[],Zf=[],zO=[],Wu0=I(()=>PV,"getCommonDb"),Gu0=I(function(){Ye.length=0,Zf.length=0,GO="",zO.length=0,bZ()},"clear"),zu0=I(function(Z){GO=Z,Ye.push(Z)},"addSection"),Hu0=I(function(){return Ye},"getSections"),Fu0=I(function(){let Z=Ku0(),J=100,Q=0;while(!Z&&Q<J)Z=Ku0(),Q++;return Zf.push(...zO),Zf},"getTasks"),Mu0=I(function(Z,J,Q){let K={id:qu0++,section:GO,type:GO,task:Z,score:J?J:0,events:Q?[Q]:[]};zO.push(K)},"addTask"),Bu0=I(function(Z){zO.find((Q)=>Q.id===qu0-1).events.push(Z)},"addEvent"),Ou0=I(function(Z){let J={section:GO,type:GO,description:Z,task:Z,classes:[]};Zf.push(J)},"addTaskOrg"),Ku0=I(function(){let Z=I(function(Q){return zO[Q].processed},"compileTask"),J=!0;for(let[Q,K]of zO.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),sh8={clear:Gu0,getCommonDb:Wu0,addSection:zu0,getSections:Hu0,getTasks:Fu0,addTask:Mu0,addTaskOrg:Ou0,addEvent:Bu0},Jf=I(function(Z,J){let Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),Q.attr("rx",J.rx),Q.attr("ry",J.ry),J.class!==void 0)Q.attr("class",J.class);return Q},"drawRect"),nh8=I(function(Z,J){let K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),U=Z.append("g");U.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),U.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function X(W){let G=H5().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}I(X,"smile");function Y(W){let G=H5().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);W.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}I(Y,"sad");function q(W){W.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(I(q,"ambivalent"),J.score>3)X(U);else if(J.score<3)Y(U);else q(U);return K},"drawFace"),ah8=I(function(Z,J){let Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),Ru0=I(function(Z,J){let Q=J.text.replace(/<br\s*\/?>/gi," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class!==void 0)K.attr("class",J.class);let U=K.append("tspan");return U.attr("x",J.x+J.textMargin*2),U.text(Q),K},"drawText"),oh8=I(function(Z,J){function Q(U,X,Y,q,W){return U+","+X+" "+(U+Y)+","+X+" "+(U+Y)+","+(X+q-W)+" "+(U+Y-W*1.2)+","+(X+q)+" "+U+","+(X+q)}I(Q,"genPoints");let K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,Ru0(Z,J)},"drawLabel"),th8=I(function(Z,J,Q){let K=Z.append("g"),U=qe();U.x=J.x,U.y=J.y,U.fill=J.fill,U.width=Q.width,U.height=Q.height,U.class="journey-section section-type-"+J.num,U.rx=3,U.ry=3,Jf(K,U),Lu0(Q)(J.text,K,U.x,U.y,U.width,U.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),eh8=I(function(Z,J,Q){let K=J.x+Q.width/2,U=Z.append("g");Uu0++;let X=450;U.append("line").attr("id","task"+Uu0).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",X).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),nh8(U,{cx:K,cy:300+(5-J.score)*30,score:J.score});let Y=qe();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,Jf(U,Y),Lu0(Q)(J.task,U,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),Zm8=I(function(Z,J){Jf(Z,{x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,class:"rect"}).lower()},"drawBackgroundRect"),Jm8=I(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),qe=I(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Lu0=function(){function Z(U,X,Y,q,W,G,z,H){let F=X.append("text").attr("x",Y+W/2).attr("y",q+G/2+5).style("font-color",H).style("text-anchor","middle").text(U);K(F,z)}I(Z,"byText");function J(U,X,Y,q,W,G,z,H,F){let{taskFontSize:M,taskFontFamily:B}=H,O=U.split(/<br\s*\/?>/gi);for(let R=0;R<O.length;R++){let L=R*M-M*(O.length-1)/2,D=X.append("text").attr("x",Y+W/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);D.append("tspan").attr("x",Y+W/2).attr("dy",L).text(O[R]),D.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(D,z)}}I(J,"byTspan");function Q(U,X,Y,q,W,G,z,H){let F=X.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",W).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,F,Y,q,W,G,z,H),K(B,z)}I(Q,"byFo");function K(U,X){for(let Y in X)if(Y in X)U.attr(Y,X[Y])}return I(K,"_setTextAttrs"),function(U){return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),Qm8=I(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");I(We,"wrap");Km8=I(function(Z,J,Q,K){let U=Q%rh8-1,X=Z.append("g");J.section=U,X.attr("class",(J.class?J.class+" ":"")+"timeline-node "+("section-"+U));let Y=X.append("g"),q=X.append("g"),G=q.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(We,J.width).node().getBBox(),z=K.fontSize?.replace?K.fontSize.replace("px",""):K.fontSize;return J.height=G.height+z*1.1*0.5+J.padding,J.height=Math.max(J.height,J.maxHeight),J.width=J.width+2*J.padding,q.attr("transform","translate("+J.width/2+", "+J.padding/2+")"),Xm8(Y,J,U,K),J},"drawNode"),Um8=I(function(Z,J,Q){let K=Z.append("g"),X=K.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(We,J.width).node().getBBox(),Y=Q.fontSize?.replace?Q.fontSize.replace("px",""):Q.fontSize;return K.remove(),X.height+Y*1.1*0.5+J.padding},"getVirtualNodeHeight"),Xm8=I(function(Z,J,Q){Z.append("path").attr("id","node-"+J.id).attr("class","node-bkg node-"+J.type).attr("d",`M0 ${J.height-5} v${-J.height+10} q0,-5 5,-5 h${J.width-10} q5,0 5,5 v${J.height-5} H0 Z`),Z.append("line").attr("class","node-line-"+Q).attr("x1",0).attr("y1",J.height).attr("x2",J.width).attr("y2",J.height)},"defaultBkg"),sz={drawRect:Jf,drawCircle:ah8,drawSection:th8,drawText:Ru0,drawLabel:oh8,drawTask:eh8,drawBackgroundRect:Zm8,getTextObj:Jm8,getNoteRect:qe,initGraphics:Qm8,drawNode:Km8,getVirtualNodeHeight:Um8},Ym8=I(function(Z,J,Q,K){let U=E0(),X=U.timeline?.leftMargin??50;Z0.debug("timeline",K.db);let Y=U.securityLevel,q;if(Y==="sandbox")q=n0("#i"+J);let G=(Y==="sandbox"?n0(q.nodes()[0].contentDocument.body):n0("body")).select("#"+J);G.append("g");let z=K.db.getTasks(),H=K.db.getCommonDb().getDiagramTitle();Z0.debug("task",z),sz.initGraphics(G);let F=K.db.getSections();Z0.debug("sections",F);let M=0,B=0,O=0,R=0,L=50+X,D=50;R=50;let A=0,V=!0;F.forEach(function($){let k={number:A,descr:$,section:A,width:150,padding:20,maxHeight:M},w=sz.getVirtualNodeHeight(G,k,U);Z0.debug("sectionHeight before draw",w),M=Math.max(M,w+20)});let N=0,E=0;Z0.debug("tasks.length",z.length);for(let[$,k]of z.entries()){let w={number:$,descr:k,section:k.section,width:150,padding:20,maxHeight:B},P=sz.getVirtualNodeHeight(G,w,U);Z0.debug("taskHeight before draw",P),B=Math.max(B,P+20),N=Math.max(N,k.events.length);let S=0;for(let T of k.events){let _={descr:T,section:k.section,number:k.section,width:150,padding:20,maxHeight:50};S+=sz.getVirtualNodeHeight(G,_,U)}if(k.events.length>0)S+=(k.events.length-1)*10;E=Math.max(E,S)}if(Z0.debug("maxSectionHeight before draw",M),Z0.debug("maxTaskHeight before draw",B),F&&F.length>0)F.forEach(($)=>{let k=z.filter((T)=>T.section===$),w={number:A,descr:$,section:A,width:200*Math.max(k.length,1)-50,padding:20,maxHeight:M};Z0.debug("sectionNode",w);let P=G.append("g"),S=sz.drawNode(P,w,A,U);if(Z0.debug("sectionNode output",S),P.attr("transform",`translate(${L}, ${R})`),D+=M+50,k.length>0)Xu0(G,k,A,L,D,B,U,N,E,M,!1);L+=200*Math.max(k.length,1),D=R,A++});else V=!1,Xu0(G,z,A,L,D,B,U,N,E,M,!0);let C=G.node().getBBox();if(Z0.debug("bounds",C),H)G.append("text").text(H).attr("x",C.width/2-X).attr("font-size","4ex").attr("font-weight","bold").attr("y",20);O=V?M+B+150:B+100,G.append("g").attr("class","lineWrapper").append("line").attr("x1",X).attr("y1",O).attr("x2",C.width+3*X).attr("y2",O).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),sX(void 0,G,U.timeline?.padding??50,U.timeline?.useMaxWidth??!1)},"draw"),Xu0=I(function(Z,J,Q,K,U,X,Y,q,W,G,z){for(let H of J){let F={descr:H.task,section:Q,number:Q,width:150,padding:20,maxHeight:X};Z0.debug("taskNode",F);let M=Z.append("g").attr("class","taskWrapper"),O=sz.drawNode(M,F,Q,Y).height;if(Z0.debug("taskHeight after draw",O),M.attr("transform",`translate(${K}, ${U})`),X=Math.max(X,O),H.events){let R=Z.append("g").attr("class","lineWrapper"),L=X;U+=100,L=L+qm8(Z,H.events,Q,K,U,Y),U-=100,R.append("line").attr("x1",K+95).attr("y1",U+X).attr("x2",K+95).attr("y2",U+X+100+W+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}if(K=K+200,z&&!Y.timeline?.disableMulticolor)Q++}U=U-10},"drawTasks"),qm8=I(function(Z,J,Q,K,U,X){let Y=0,q=U;U=U+100;for(let W of J){let G={descr:W,section:Q,number:Q,width:150,padding:20,maxHeight:50};Z0.debug("eventNode",G);let z=Z.append("g").attr("class","eventWrapper"),F=sz.drawNode(z,G,Q,X).height;Y=Y+F,z.attr("transform",`translate(${K}, ${U})`),U=U+10+F}return U=q,Y},"drawEvents"),Wm8={setConf:I(()=>{},"setConf"),draw:Ym8},Gm8=I((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],n7(Z["lineColor"+Q]))Z["lineColor"+Q]=x8(Z["lineColor"+Q],20);else Z["lineColor"+Q]=c8(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){let K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${Z["cScaleLabel"+Q]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),zm8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${Gm8(Z)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),Hm8=zm8,Fm8={db:Yu0,renderer:Wm8,parser:ih8,styles:Hm8}});function Au0(Z,J=0){return(DQ[Z[J+0]]+DQ[Z[J+1]]+DQ[Z[J+2]]+DQ[Z[J+3]]+"-"+DQ[Z[J+4]]+DQ[Z[J+5]]+"-"+DQ[Z[J+6]]+DQ[Z[J+7]]+"-"+DQ[Z[J+8]]+DQ[Z[J+9]]+"-"+DQ[Z[J+10]]+DQ[Z[J+11]]+DQ[Z[J+12]]+DQ[Z[J+13]]+DQ[Z[J+14]]+DQ[Z[J+15]]).toLowerCase()}var DQ;var Nu0=f(()=>{DQ=[];for(let Z=0;Z<256;++Z)DQ.push((Z+256).toString(16).slice(1))});function ze(){if(!Ge){if(typeof crypto>"u"||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ge=crypto.getRandomValues.bind(crypto)}return Ge(Mm8)}var Ge,Mm8;var Eu0=f(()=>{Mm8=new Uint8Array(16)});var Bm8,He;var Vu0=f(()=>{Bm8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),He={randomUUID:Bm8}});function Om8(Z,J,Q){if(He.randomUUID&&!J&&!Z)return He.randomUUID();Z=Z||{};let K=Z.random??Z.rng?.()??ze();if(K.length<16)throw Error("Random bytes length must be >= 16");if(K[6]=K[6]&15|64,K[8]=K[8]&63|128,J){if(Q=Q||0,Q<0||Q+16>J.length)throw RangeError(`UUID byte range ${Q}:${Q+15} is out of buffer bounds`);for(let U=0;U<16;++U)J[Q+U]=K[U];return J}return Au0(K)}var Fe;var Pu0=f(()=>{Vu0();Eu0();Nu0();Fe=Om8});var Cu0=f(()=>{Pu0()});var ju0={};LZ(ju0,{diagram:()=>Vm8});var Me,Rm8,lY,Lm8,Dm8,Im8,Am8,Nm8,Em8,Vm8;var Su0=f(()=>{P5();jK();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();Cu0();N4();Me=function(){var Z=I(function(V,N,E,C){for(E=E||{},C=V.length;C--;E[V[C]]=N);return E},"o"),J=[1,4],Q=[1,13],K=[1,12],U=[1,15],X=[1,16],Y=[1,20],q=[1,19],W=[6,7,8],G=[1,26],z=[1,24],H=[1,25],F=[6,7,11],M=[1,6,13,15,16,19,22],B=[1,33],O=[1,34],R=[1,6,7,11,13,15,16,19,22],L={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:I(function(N,E,C,j,$,k,w){var P=k.length-1;switch($){case 6:case 7:return j;case 8:j.getLogger().trace("Stop NL ");break;case 9:j.getLogger().trace("Stop EOF ");break;case 11:j.getLogger().trace("Stop NL2 ");break;case 12:j.getLogger().trace("Stop EOF2 ");break;case 15:j.getLogger().info("Node: ",k[P].id),j.addNode(k[P-1].length,k[P].id,k[P].descr,k[P].type);break;case 16:j.getLogger().trace("Icon: ",k[P]),j.decorateNode({icon:k[P]});break;case 17:case 21:j.decorateNode({class:k[P]});break;case 18:j.getLogger().trace("SPACELIST");break;case 19:j.getLogger().trace("Node: ",k[P].id),j.addNode(0,k[P].id,k[P].descr,k[P].type);break;case 20:j.decorateNode({icon:k[P]});break;case 25:j.getLogger().trace("node found ..",k[P-2]),this.$={id:k[P-1],descr:k[P-1],type:j.getType(k[P-2],k[P])};break;case 26:this.$={id:k[P],descr:k[P],type:j.nodeType.DEFAULT};break;case 27:j.getLogger().trace("node found ..",k[P-3]),this.$={id:k[P-3],descr:k[P-1],type:j.getType(k[P-2],k[P])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:J},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:J},{6:Q,7:[1,10],9:9,12:11,13:K,14:14,15:U,16:X,17:17,18:18,19:Y,22:q},Z(W,[2,3]),{1:[2,2]},Z(W,[2,4]),Z(W,[2,5]),{1:[2,6],6:Q,12:21,13:K,14:14,15:U,16:X,17:17,18:18,19:Y,22:q},{6:Q,9:22,12:11,13:K,14:14,15:U,16:X,17:17,18:18,19:Y,22:q},{6:G,7:z,10:23,11:H},Z(F,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:Y,22:q}),Z(F,[2,18]),Z(F,[2,19]),Z(F,[2,20]),Z(F,[2,21]),Z(F,[2,23]),Z(F,[2,24]),Z(F,[2,26],{19:[1,30]}),{20:[1,31]},{6:G,7:z,10:32,11:H},{1:[2,7],6:Q,12:21,13:K,14:14,15:U,16:X,17:17,18:18,19:Y,22:q},Z(M,[2,14],{7:B,11:O}),Z(R,[2,8]),Z(R,[2,9]),Z(R,[2,10]),Z(F,[2,15]),Z(F,[2,16]),Z(F,[2,17]),{20:[1,35]},{21:[1,36]},Z(M,[2,13],{7:B,11:O}),Z(R,[2,11]),Z(R,[2,12]),{21:[1,37]},Z(F,[2,25]),Z(F,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(N,E){if(E.recoverable)this.trace(N);else{var C=Error(N);throw C.hash=E,C}},"parseError"),parse:I(function(N){var E=this,C=[0],j=[],$=[null],k=[],w=this.table,P="",S=0,T=0,_=0,v=2,x=1,b=k.slice.call(arguments,1),y=Object.create(this.lexer),u={yy:{}};for(var h in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,h))u.yy[h]=this.yy[h];if(y.setInput(N,u.yy),u.yy.lexer=y,u.yy.parser=this,typeof y.yylloc>"u")y.yylloc={};var p=y.yylloc;k.push(p);var r=y.options&&y.options.ranges;if(typeof u.yy.parseError==="function")this.parseError=u.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function t(i){C.length=C.length-2*i,$.length=$.length-i,k.length=k.length-i}I(t,"popStack");function d(){var i=j.pop()||y.lex()||x;if(typeof i!=="number"){if(i instanceof Array)j=i,i=j.pop();i=E.symbols_[i]||i}return i}I(d,"lex");var X0,a,z0,J0,Q0,e,n={},Y0,o,M0,K0;while(!0){if(z0=C[C.length-1],this.defaultActions[z0])J0=this.defaultActions[z0];else{if(X0===null||typeof X0>"u")X0=d();J0=w[z0]&&w[z0][X0]}if(typeof J0>"u"||!J0.length||!J0[0]){var V0="";K0=[];for(Y0 in w[z0])if(this.terminals_[Y0]&&Y0>v)K0.push("'"+this.terminals_[Y0]+"'");if(y.showPosition)V0="Parse error on line "+(S+1)+`:
`+y.showPosition()+`
Expecting `+K0.join(", ")+", got '"+(this.terminals_[X0]||X0)+"'";else V0="Parse error on line "+(S+1)+": Unexpected "+(X0==x?"end of input":"'"+(this.terminals_[X0]||X0)+"'");this.parseError(V0,{text:y.match,token:this.terminals_[X0]||X0,line:y.yylineno,loc:p,expected:K0})}if(J0[0]instanceof Array&&J0.length>1)throw Error("Parse Error: multiple actions possible at state: "+z0+", token: "+X0);switch(J0[0]){case 1:if(C.push(X0),$.push(y.yytext),k.push(y.yylloc),C.push(J0[1]),X0=null,!a){if(T=y.yyleng,P=y.yytext,S=y.yylineno,p=y.yylloc,_>0)_--}else X0=a,a=null;break;case 2:if(o=this.productions_[J0[1]][1],n.$=$[$.length-o],n._$={first_line:k[k.length-(o||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(o||1)].first_column,last_column:k[k.length-1].last_column},r)n._$.range=[k[k.length-(o||1)].range[0],k[k.length-1].range[1]];if(e=this.performAction.apply(n,[P,T,S,u.yy,J0[1],$,k].concat(b)),typeof e<"u")return e;if(o)C=C.slice(0,-1*o*2),$=$.slice(0,-1*o),k=k.slice(0,-1*o);C.push(this.productions_[J0[1]][0]),$.push(n.$),k.push(n._$),M0=w[C[C.length-2]][C[C.length-1]],C.push(M0);break;case 3:return!0}}return!0},"parse")},D=function(){var V={EOF:1,parseError:I(function(E,C){if(this.yy.parser)this.yy.parser.parseError(E,C);else throw Error(E)},"parseError"),setInput:I(function(N,E){if(this.yy=E||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var E=N.match(/(?:\r\n?|\n).*/g);if(E)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),N},"input"),unput:I(function(N){var E=N.length,C=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var j=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1)this.yylineno-=C.length-1;var $=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===j.length?this.yylloc.first_column:0)+j[j.length-C.length].length-C[0].length:this.yylloc.first_column-E},this.options.ranges)this.yylloc.range=[$[0],$[0]+this.yyleng-E];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(N){this.unput(this.match.slice(N))},"less"),pastInput:I(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var N=this.match;if(N.length<20)N+=this._input.substr(0,20-N.length);return(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var N=this.pastInput(),E=Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+E+"^"},"showPosition"),test_match:I(function(N,E){var C,j,$;if(this.options.backtrack_lexer){if($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)$.yylloc.range=this.yylloc.range.slice(0)}if(j=N[0].match(/(?:\r\n?|\n).*/g),j)this.yylineno+=j.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],C=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(C)return C;else if(this._backtrack){for(var k in $)this[k]=$[k];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var N,E,C,j;if(!this._more)this.yytext="",this.match="";var $=this._currentRules();for(var k=0;k<$.length;k++)if(C=this._input.match(this.rules[$[k]]),C&&(!E||C[0].length>E[0].length)){if(E=C,j=k,this.options.backtrack_lexer)if(N=this.test_match(C,$[k]),N!==!1)return N;else if(this._backtrack){E=!1;continue}else return!1;else if(!this.options.flex)break}if(E){if(N=this.test_match(E,$[j]),N!==!1)return N;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var E=this.next();if(E)return E;else return this.lex()},"lex"),begin:I(function(E){this.conditionStack.push(E)},"begin"),popState:I(function(){var E=this.conditionStack.length-1;if(E>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(E){if(E=this.conditionStack.length-1-Math.abs(E||0),E>=0)return this.conditionStack[E];else return"INITIAL"},"topState"),pushState:I(function(E){this.begin(E)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(E,C,j,$){var k=$;switch(j){case 0:return E.getLogger().trace("Found comment",C.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return E.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:E.getLogger().trace("end icon"),this.popState();break;case 10:return E.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return E.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return E.getLogger().trace("description:",C.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),E.getLogger().trace("node end ...",C.yytext),"NODE_DEND";break;case 30:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return E.getLogger().trace("Long description:",C.yytext),20;break;case 36:return E.getLogger().trace("Long description:",C.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return V}();L.lexer=D;function A(){this.yy={}}return I(A,"Parser"),A.prototype=L,L.Parser=A,new A}();Me.parser=Me;Rm8=Me,lY={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Lm8=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=lY,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}static{I(this,"MindmapDB")}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(Z){for(let J=this.nodes.length-1;J>=0;J--)if(this.nodes[J].level<Z)return this.nodes[J];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(Z,J,Q,K){Z0.info("addNode",Z,J,Q,K);let U=!1;if(this.nodes.length===0)this.baseLevel=Z,Z=0,U=!0;else if(this.baseLevel!==void 0)Z=Z-this.baseLevel,U=!1;let X=E0(),Y=X.mindmap?.padding??PZ.mindmap.padding;switch(K){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:Y*=2;break}let q={id:this.count++,nodeId:VZ(J,X),level:Z,descr:VZ(Q,X),type:K,children:[],width:X.mindmap?.maxNodeWidth??PZ.mindmap.maxNodeWidth,padding:Y,isRoot:U},W=this.getParent(Z);if(W)W.children.push(q),this.nodes.push(q);else if(U)this.nodes.push(q);else throw Error(`There can be only one root. No parent could be found for ("${q.descr}")`)}getType(Z,J){switch(Z0.debug("In get type",Z,J),Z){case"[":return this.nodeType.RECT;case"(":return J===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(Z,J){this.elements[Z]=J}getElementById(Z){return this.elements[Z]}decorateNode(Z){if(!Z)return;let J=E0(),Q=this.nodes[this.nodes.length-1];if(Z.icon)Q.icon=VZ(Z.icon,J);if(Z.class)Q.class=VZ(Z.class,J)}type2Str(Z){switch(Z){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(Z,J){if(Z.level===0)Z.section=void 0;else Z.section=J;if(Z.children)for(let[Q,K]of Z.children.entries()){let U=Z.level===0?Q:J;this.assignSections(K,U)}}flattenNodes(Z,J){let Q=["mindmap-node"];if(Z.isRoot===!0)Q.push("section-root","section--1");else if(Z.section!==void 0)Q.push(`section-${Z.section}`);if(Z.class)Q.push(Z.class);let K=Q.join(" "),U=I((Y)=>{switch(Y){case lY.CIRCLE:return"mindmapCircle";case lY.RECT:return"rect";case lY.ROUNDED_RECT:return"rounded";case lY.CLOUD:return"cloud";case lY.BANG:return"bang";case lY.HEXAGON:return"hexagon";case lY.DEFAULT:return"defaultMindmapNode";case lY.NO_BORDER:default:return"rect"}},"getShapeFromType"),X={id:Z.id.toString(),domId:"node_"+Z.id.toString(),label:Z.descr,isGroup:!1,shape:U(Z.type),width:Z.width,height:Z.height??0,padding:Z.padding,cssClasses:K,cssStyles:[],look:"default",icon:Z.icon,x:Z.x,y:Z.y,level:Z.level,nodeId:Z.nodeId,type:Z.type,section:Z.section};if(J.push(X),Z.children)for(let Y of Z.children)this.flattenNodes(Y,J)}generateEdges(Z,J){if(!Z.children)return;for(let Q of Z.children){let K="edge";if(Q.section!==void 0)K+=` section-edge-${Q.section}`;let U=Z.level+1;K+=` edge-depth-${U}`;let X={id:`edge_${Z.id}_${Q.id}`,start:Z.id.toString(),end:Q.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:K,depth:Z.level,section:Q.section};J.push(X),this.generateEdges(Q,J)}}getData(){let Z=this.getMindmap(),J=E0(),K=KU0().layout!==void 0,U=J;if(!K)U.layout="cose-bilkent";if(!Z)return{nodes:[],edges:[],config:U};Z0.debug("getData: mindmapRoot",Z,J),this.assignSections(Z);let X=[],Y=[];this.flattenNodes(Z,X),this.generateEdges(Z,Y),Z0.debug(`getData: processed ${X.length} nodes and ${Y.length} edges`);let q=new Map;for(let W of X)q.set(W.id,{shape:W.shape,width:W.width,height:W.height,padding:W.padding});return{nodes:X,edges:Y,config:U,rootNode:Z,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(q),type:"mindmap",diagramId:"mindmap-"+Fe()}}getLogger(){return Z0}},Dm8=I(async(Z,J,Q,K)=>{Z0.debug(`Rendering mindmap diagram
`+Z);let U=K.db,X=U.getData(),Y=CK(J,X.config.securityLevel);if(X.type=K.type,X.layoutAlgorithm=lU(X.config.layout,{fallback:"cose-bilkent"}),X.diagramId=J,!U.getMindmap())return;X.nodes.forEach((W)=>{if(W.shape==="rounded")W.radius=15,W.taper=15,W.stroke="none",W.width=0,W.padding=15;else if(W.shape==="circle")W.padding=10;else if(W.shape==="rect")W.width=0,W.padding=10}),await IK(X,Y),o6(Y,X.config.mindmap?.padding??PZ.mindmap.padding,"mindmapDiagram",X.config.mindmap?.useMaxWidth??PZ.mindmap.useMaxWidth)},"draw"),Im8={draw:Dm8},Am8=I((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],n7(Z["lineColor"+Q]))Z["lineColor"+Q]=x8(Z["lineColor"+Q],20);else Z["lineColor"+Q]=c8(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){let K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} polygon, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),Nm8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${Am8(Z)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .section-root span {
    color: ${Z.gitBranchLabel0};
  }
  .section-2 span {
    color: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),Em8=Nm8,Vm8={get db(){return new Lm8},renderer:Im8,parser:Rm8,styles:Em8}});var wu0={};LZ(wu0,{diagram:()=>pm8});var Be,Pm8,mK,Re,Oe=0,Le,Cm8,jm8,Tu0,Sm8,Tm8,C7,wm8,$m8,km8,_m8,fm8,vm8,xm8,bm8,ym8,hm8,mm8,um8,gm8,pm8;var $u0=f(()=>{IU();fq();ZL();d6();Z6();J6();UQ();w9();yZ();AZ();N4();Be=function(){var Z=I(function(C,j,$,k){for($=$||{},k=C.length;k--;$[C[k]]=j);return $},"o"),J=[1,4],Q=[1,13],K=[1,12],U=[1,15],X=[1,16],Y=[1,20],q=[1,19],W=[6,7,8],G=[1,26],z=[1,24],H=[1,25],F=[6,7,11],M=[1,31],B=[6,7,11,24],O=[1,6,13,16,17,20,23],R=[1,35],L=[1,36],D=[1,6,7,11,13,16,17,20,23],A=[1,38],V={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:I(function(j,$,k,w,P,S,T){var _=S.length-1;switch(P){case 6:case 7:return w;case 8:w.getLogger().trace("Stop NL ");break;case 9:w.getLogger().trace("Stop EOF ");break;case 11:w.getLogger().trace("Stop NL2 ");break;case 12:w.getLogger().trace("Stop EOF2 ");break;case 15:w.getLogger().info("Node: ",S[_-1].id),w.addNode(S[_-2].length,S[_-1].id,S[_-1].descr,S[_-1].type,S[_]);break;case 16:w.getLogger().info("Node: ",S[_].id),w.addNode(S[_-1].length,S[_].id,S[_].descr,S[_].type);break;case 17:w.getLogger().trace("Icon: ",S[_]),w.decorateNode({icon:S[_]});break;case 18:case 23:w.decorateNode({class:S[_]});break;case 19:w.getLogger().trace("SPACELIST");break;case 20:w.getLogger().trace("Node: ",S[_-1].id),w.addNode(0,S[_-1].id,S[_-1].descr,S[_-1].type,S[_]);break;case 21:w.getLogger().trace("Node: ",S[_].id),w.addNode(0,S[_].id,S[_].descr,S[_].type);break;case 22:w.decorateNode({icon:S[_]});break;case 27:w.getLogger().trace("node found ..",S[_-2]),this.$={id:S[_-1],descr:S[_-1],type:w.getType(S[_-2],S[_])};break;case 28:this.$={id:S[_],descr:S[_],type:0};break;case 29:w.getLogger().trace("node found ..",S[_-3]),this.$={id:S[_-3],descr:S[_-1],type:w.getType(S[_-2],S[_])};break;case 30:this.$=S[_-1]+S[_];break;case 31:this.$=S[_];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:J},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:J},{6:Q,7:[1,10],9:9,12:11,13:K,14:14,16:U,17:X,18:17,19:18,20:Y,23:q},Z(W,[2,3]),{1:[2,2]},Z(W,[2,4]),Z(W,[2,5]),{1:[2,6],6:Q,12:21,13:K,14:14,16:U,17:X,18:17,19:18,20:Y,23:q},{6:Q,9:22,12:11,13:K,14:14,16:U,17:X,18:17,19:18,20:Y,23:q},{6:G,7:z,10:23,11:H},Z(F,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:Y,23:q}),Z(F,[2,19]),Z(F,[2,21],{15:30,24:M}),Z(F,[2,22]),Z(F,[2,23]),Z(B,[2,25]),Z(B,[2,26]),Z(B,[2,28],{20:[1,32]}),{21:[1,33]},{6:G,7:z,10:34,11:H},{1:[2,7],6:Q,12:21,13:K,14:14,16:U,17:X,18:17,19:18,20:Y,23:q},Z(O,[2,14],{7:R,11:L}),Z(D,[2,8]),Z(D,[2,9]),Z(D,[2,10]),Z(F,[2,16],{15:37,24:M}),Z(F,[2,17]),Z(F,[2,18]),Z(F,[2,20],{24:A}),Z(B,[2,31]),{21:[1,39]},{22:[1,40]},Z(O,[2,13],{7:R,11:L}),Z(D,[2,11]),Z(D,[2,12]),Z(F,[2,15],{24:A}),Z(B,[2,30]),{22:[1,41]},Z(B,[2,27]),Z(B,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(j,$){if($.recoverable)this.trace(j);else{var k=Error(j);throw k.hash=$,k}},"parseError"),parse:I(function(j){var $=this,k=[0],w=[],P=[null],S=[],T=this.table,_="",v=0,x=0,b=0,y=2,u=1,h=S.slice.call(arguments,1),p=Object.create(this.lexer),r={yy:{}};for(var t in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,t))r.yy[t]=this.yy[t];if(p.setInput(j,r.yy),r.yy.lexer=p,r.yy.parser=this,typeof p.yylloc>"u")p.yylloc={};var d=p.yylloc;S.push(d);var X0=p.options&&p.options.ranges;if(typeof r.yy.parseError==="function")this.parseError=r.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function a(h0){k.length=k.length-2*h0,P.length=P.length-h0,S.length=S.length-h0}I(a,"popStack");function z0(){var h0=w.pop()||p.lex()||u;if(typeof h0!=="number"){if(h0 instanceof Array)w=h0,h0=w.pop();h0=$.symbols_[h0]||h0}return h0}I(z0,"lex");var J0,Q0,e,n,Y0,o,M0={},K0,V0,i,p0;while(!0){if(e=k[k.length-1],this.defaultActions[e])n=this.defaultActions[e];else{if(J0===null||typeof J0>"u")J0=z0();n=T[e]&&T[e][J0]}if(typeof n>"u"||!n.length||!n[0]){var B0="";p0=[];for(K0 in T[e])if(this.terminals_[K0]&&K0>y)p0.push("'"+this.terminals_[K0]+"'");if(p.showPosition)B0="Parse error on line "+(v+1)+`:
`+p.showPosition()+`
Expecting `+p0.join(", ")+", got '"+(this.terminals_[J0]||J0)+"'";else B0="Parse error on line "+(v+1)+": Unexpected "+(J0==u?"end of input":"'"+(this.terminals_[J0]||J0)+"'");this.parseError(B0,{text:p.match,token:this.terminals_[J0]||J0,line:p.yylineno,loc:d,expected:p0})}if(n[0]instanceof Array&&n.length>1)throw Error("Parse Error: multiple actions possible at state: "+e+", token: "+J0);switch(n[0]){case 1:if(k.push(J0),P.push(p.yytext),S.push(p.yylloc),k.push(n[1]),J0=null,!Q0){if(x=p.yyleng,_=p.yytext,v=p.yylineno,d=p.yylloc,b>0)b--}else J0=Q0,Q0=null;break;case 2:if(V0=this.productions_[n[1]][1],M0.$=P[P.length-V0],M0._$={first_line:S[S.length-(V0||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(V0||1)].first_column,last_column:S[S.length-1].last_column},X0)M0._$.range=[S[S.length-(V0||1)].range[0],S[S.length-1].range[1]];if(o=this.performAction.apply(M0,[_,x,v,r.yy,n[1],P,S].concat(h)),typeof o<"u")return o;if(V0)k=k.slice(0,-1*V0*2),P=P.slice(0,-1*V0),S=S.slice(0,-1*V0);k.push(this.productions_[n[1]][0]),P.push(M0.$),S.push(M0._$),i=T[k[k.length-2]][k[k.length-1]],k.push(i);break;case 3:return!0}}return!0},"parse")},N=function(){var C={EOF:1,parseError:I(function($,k){if(this.yy.parser)this.yy.parser.parseError($,k);else throw Error($)},"parseError"),setInput:I(function(j,$){if(this.yy=$||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var $=j.match(/(?:\r\n?|\n).*/g);if($)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),j},"input"),unput:I(function(j){var $=j.length,k=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var w=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1)this.yylineno-=k.length-1;var P=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===w.length?this.yylloc.first_column:0)+w[w.length-k.length].length-k[0].length:this.yylloc.first_column-$},this.options.ranges)this.yylloc.range=[P[0],P[0]+this.yyleng-$];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(j){this.unput(this.match.slice(j))},"less"),pastInput:I(function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var j=this.match;if(j.length<20)j+=this._input.substr(0,20-j.length);return(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var j=this.pastInput(),$=Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:I(function(j,$){var k,w,P;if(this.options.backtrack_lexer){if(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)P.yylloc.range=this.yylloc.range.slice(0)}if(w=j[0].match(/(?:\r\n?|\n).*/g),w)this.yylineno+=w.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],k=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(k)return k;else if(this._backtrack){for(var S in P)this[S]=P[S];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var j,$,k,w;if(!this._more)this.yytext="",this.match="";var P=this._currentRules();for(var S=0;S<P.length;S++)if(k=this._input.match(this.rules[P[S]]),k&&(!$||k[0].length>$[0].length)){if($=k,w=S,this.options.backtrack_lexer)if(j=this.test_match(k,P[S]),j!==!1)return j;else if(this._backtrack){$=!1;continue}else return!1;else if(!this.options.flex)break}if($){if(j=this.test_match($,P[w]),j!==!1)return j;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var $=this.next();if($)return $;else return this.lex()},"lex"),begin:I(function($){this.conditionStack.push($)},"begin"),popState:I(function(){var $=this.conditionStack.length-1;if($>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function($){if($=this.conditionStack.length-1-Math.abs($||0),$>=0)return this.conditionStack[$];else return"INITIAL"},"topState"),pushState:I(function($){this.begin($)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function($,k,w,P){var S=P;switch(w){case 0:return this.pushState("shapeData"),k.yytext="",24;break;case 1:return this.pushState("shapeDataStr"),24;break;case 2:return this.popState(),24;break;case 3:let T=/\n\s*/g;return k.yytext=k.yytext.replace(T,"<br/>"),24;break;case 4:return 24;case 5:this.popState();break;case 6:return $.getLogger().trace("Found comment",k.yytext),6;break;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;break;case 10:this.popState();break;case 11:$.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return $.getLogger().trace("SPACELINE"),6;break;case 13:return 7;case 14:return 16;case 15:$.getLogger().trace("end icon"),this.popState();break;case 16:return $.getLogger().trace("Exploding node"),this.begin("NODE"),20;break;case 17:return $.getLogger().trace("Cloud"),this.begin("NODE"),20;break;case 18:return $.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;break;case 19:return $.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;break;case 20:return this.begin("NODE"),20;break;case 21:return this.begin("NODE"),20;break;case 22:return this.begin("NODE"),20;break;case 23:return this.begin("NODE"),20;break;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:$.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return $.getLogger().trace("description:",k.yytext),"NODE_DESCR";break;case 32:this.popState();break;case 33:return this.popState(),$.getLogger().trace("node end ))"),"NODE_DEND";break;case 34:return this.popState(),$.getLogger().trace("node end )"),"NODE_DEND";break;case 35:return this.popState(),$.getLogger().trace("node end ...",k.yytext),"NODE_DEND";break;case 36:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 37:return this.popState(),$.getLogger().trace("node end (-"),"NODE_DEND";break;case 38:return this.popState(),$.getLogger().trace("node end (-"),"NODE_DEND";break;case 39:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 40:return this.popState(),$.getLogger().trace("node end (("),"NODE_DEND";break;case 41:return $.getLogger().trace("Long description:",k.yytext),21;break;case 42:return $.getLogger().trace("Long description:",k.yytext),21;break}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C}();V.lexer=N;function E(){this.yy={}}return I(E,"Parser"),E.prototype=V,V.Parser=E,new E}();Be.parser=Be;Pm8=Be,mK=[],Re=[],Le={},Cm8=I(()=>{mK=[],Re=[],Oe=0,Le={}},"clear"),jm8=I((Z)=>{if(mK.length===0)return null;let J=mK[0].level,Q=null;for(let K=mK.length-1;K>=0;K--){if(mK[K].level===J&&!Q)Q=mK[K];if(mK[K].level<J)throw Error('Items without section detected, found section ("'+mK[K].label+'")')}if(Z===Q?.level)return null;return Q},"getSection"),Tu0=I(function(){return Re},"getSections"),Sm8=I(function(){let Z=[],J=[],Q=Tu0(),K=E0();for(let U of Q){let X={id:U.id,label:VZ(U.label??"",K),isGroup:!0,ticket:U.ticket,shape:"kanbanSection",level:U.level,look:K.look};J.push(X);let Y=mK.filter((q)=>q.parentId===U.id);for(let q of Y){let W={id:q.id,parentId:U.id,label:VZ(q.label??"",K),isGroup:!1,ticket:q?.ticket,priority:q?.priority,assigned:q?.assigned,icon:q?.icon,shape:"kanbanItem",level:q.level,rx:5,ry:5,cssStyles:["text-align: left"]};J.push(W)}}return{nodes:J,edges:Z,other:{},config:E0()}},"getData"),Tm8=I((Z,J,Q,K,U)=>{let X=E0(),Y=X.mindmap?.padding??PZ.mindmap.padding;switch(K){case C7.ROUNDED_RECT:case C7.RECT:case C7.HEXAGON:Y*=2}let q={id:VZ(J,X)||"kbn"+Oe++,level:Z,label:VZ(Q,X),width:X.mindmap?.maxNodeWidth??PZ.mindmap.maxNodeWidth,padding:Y,isGroup:!1};if(U!==void 0){let G;if(!U.includes(`
`))G=`{
`+U+`
}`;else G=U+`
`;let z=_1(G,{schema:k1});if(z.shape&&(z.shape!==z.shape.toLowerCase()||z.shape.includes("_")))throw Error(`No such shape: ${z.shape}. Shape names should be lowercase.`);if(z?.shape&&z.shape==="kanbanItem")q.shape=z?.shape;if(z?.label)q.label=z?.label;if(z?.icon)q.icon=z?.icon.toString();if(z?.assigned)q.assigned=z?.assigned.toString();if(z?.ticket)q.ticket=z?.ticket.toString();if(z?.priority)q.priority=z?.priority}let W=jm8(Z);if(W)q.parentId=W.id||"kbn"+Oe++;else Re.push(q);mK.push(q)},"addNode"),C7={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},wm8=I((Z,J)=>{switch(Z0.debug("In get type",Z,J),Z){case"[":return C7.RECT;case"(":return J===")"?C7.ROUNDED_RECT:C7.CLOUD;case"((":return C7.CIRCLE;case")":return C7.CLOUD;case"))":return C7.BANG;case"{{":return C7.HEXAGON;default:return C7.DEFAULT}},"getType"),$m8=I((Z,J)=>{Le[Z]=J},"setElementForId"),km8=I((Z)=>{if(!Z)return;let J=E0(),Q=mK[mK.length-1];if(Z.icon)Q.icon=VZ(Z.icon,J);if(Z.class)Q.cssClasses=VZ(Z.class,J)},"decorateNode"),_m8=I((Z)=>{switch(Z){case C7.DEFAULT:return"no-border";case C7.RECT:return"rect";case C7.ROUNDED_RECT:return"rounded-rect";case C7.CIRCLE:return"circle";case C7.CLOUD:return"cloud";case C7.BANG:return"bang";case C7.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),fm8=I(()=>Z0,"getLogger"),vm8=I((Z)=>Le[Z],"getElementById"),xm8={clear:Cm8,addNode:Tm8,getSections:Tu0,getData:Sm8,nodeType:C7,getType:wm8,setElementForId:$m8,decorateNode:km8,type2Str:_m8,getLogger:fm8,getElementById:vm8},bm8=xm8,ym8=I(async(Z,J,Q,K)=>{Z0.debug(`Rendering kanban diagram
`+Z);let X=K.db.getData(),Y=E0();Y.htmlLabels=!1;let q=k7(J),W=q.append("g");W.attr("class","sections");let G=q.append("g");G.attr("class","items");let z=X.nodes.filter((R)=>R.isGroup),H=0,F=10,M=[],B=25;for(let R of z){let L=Y?.kanban?.sectionWidth||200;H=H+1,R.x=L*H+(H-1)*F/2,R.width=L,R.y=0,R.height=L*3,R.rx=5,R.ry=5,R.cssClasses=R.cssClasses+" section-"+H;let D=await u2(W,R);B=Math.max(B,D?.labelBBox?.height),M.push(D)}let O=0;for(let R of z){let L=M[O];O=O+1;let D=Y?.kanban?.sectionWidth||200,A=-D*3/2+B,V=A,N=X.nodes.filter((j)=>j.parentId===R.id);for(let j of N){if(j.isGroup)throw Error("Groups within groups are not allowed in Kanban diagrams");j.x=R.x,j.width=D-1.5*F;let k=(await pG(G,j,{config:Y})).node().getBBox();j.y=V+k.height/2,await xL(j),V=j.y+k.height/2+F/2}let E=L.cluster.select("rect"),C=Math.max(V-A+3*F,50)+(B-25);E.attr("height",C)}sX(void 0,q,Y.mindmap?.padding??PZ.kanban.padding,Y.mindmap?.useMaxWidth??PZ.kanban.useMaxWidth)},"draw"),hm8={draw:ym8},mm8=I((Z)=>{let J="";for(let K=0;K<Z.THEME_COLOR_LIMIT;K++)if(Z["lineColor"+K]=Z["lineColor"+K]||Z["cScaleInv"+K],n7(Z["lineColor"+K]))Z["lineColor"+K]=x8(Z["lineColor"+K],20);else Z["lineColor"+K]=c8(Z["lineColor"+K],20);let Q=I((K,U)=>Z.darkMode?c8(K,U):x8(K,U),"adjuster");for(let K=0;K<Z.THEME_COLOR_LIMIT;K++){let U=""+(17-3*K);J+=`
    .section-${K-1} rect, .section-${K-1} path, .section-${K-1} circle, .section-${K-1} polygon, .section-${K-1} path  {
      fill: ${Q(Z["cScale"+K],10)};
      stroke: ${Q(Z["cScale"+K],10)};

    }
    .section-${K-1} text {
     fill: ${Z["cScaleLabel"+K]};
    }
    .node-icon-${K-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+K]};
    }
    .section-edge-${K-1}{
      stroke: ${Z["cScale"+K]};
    }
    .edge-depth-${K-1}{
      stroke-width: ${U};
    }
    .section-${K-1} line {
      stroke: ${Z["cScaleInv"+K]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.background};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${Z.background};
    stroke: ${Z.nodeBorder};
    text-decoration: underline;
  }
    `}return J},"genSections"),um8=I((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${mm8(Z)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${Z.textColor};
    fill: ${Z.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${sU()}
`,"getStyles"),gm8=um8,pm8={db:bm8,renderer:hm8,parser:Pm8,styles:gm8}});function mA(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let U of Z)if((U=J(U,++K,Z))!=null&&(Q<U||Q===void 0&&U>=U))Q=U}return Q}function HO(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let U of Z)if((U=J(U,++K,Z))!=null&&(Q>U||Q===void 0&&U>=U))Q=U}return Q}function FO(Z,J){let Q=0;if(J===void 0){for(let K of Z)if(K=+K)Q+=K}else{let K=-1;for(let U of Z)if(U=+J(U,++K,Z))Q+=U}return Q}var De=()=>{};function cm8(Z){return Z.target.depth}function Ie(Z){return Z.depth}function Ae(Z,J){return J-1-Z.height}function uA(Z,J){return Z.sourceLinks.length?Z.depth:J-1}function Ne(Z){return Z.targetLinks.length?Z.depth:Z.sourceLinks.length?HO(Z.sourceLinks,cm8)-1:0}var Ee=f(()=>{De()});function MO(Z){return function(){return Z}}function ku0(Z,J){return Qf(Z.source,J.source)||Z.index-J.index}function _u0(Z,J){return Qf(Z.target,J.target)||Z.index-J.index}function Qf(Z,J){return Z.y0-J.y0}function Ve(Z){return Z.value}function lm8(Z){return Z.index}function dm8(Z){return Z.nodes}function im8(Z){return Z.links}function fu0(Z,J){let Q=Z.get(J);if(!Q)throw Error("missing: "+J);return Q}function vu0({nodes:Z}){for(let J of Z){let Q=J.y0,K=Q;for(let U of J.sourceLinks)U.y0=Q+U.width/2,Q+=U.width;for(let U of J.targetLinks)U.y1=K+U.width/2,K+=U.width}}function Kf(){let Z=0,J=0,Q=1,K=1,U=24,X=8,Y,q=lm8,W=uA,G,z,H=dm8,F=im8,M=6;function B(){let _={nodes:H.apply(null,arguments),links:F.apply(null,arguments)};return O(_),R(_),L(_),D(_),N(_),vu0(_),_}B.update=function(_){return vu0(_),_},B.nodeId=function(_){return arguments.length?(q=typeof _==="function"?_:MO(_),B):q},B.nodeAlign=function(_){return arguments.length?(W=typeof _==="function"?_:MO(_),B):W},B.nodeSort=function(_){return arguments.length?(G=_,B):G},B.nodeWidth=function(_){return arguments.length?(U=+_,B):U},B.nodePadding=function(_){return arguments.length?(X=Y=+_,B):X},B.nodes=function(_){return arguments.length?(H=typeof _==="function"?_:MO(_),B):H},B.links=function(_){return arguments.length?(F=typeof _==="function"?_:MO(_),B):F},B.linkSort=function(_){return arguments.length?(z=_,B):z},B.size=function(_){return arguments.length?(Z=J=0,Q=+_[0],K=+_[1],B):[Q-Z,K-J]},B.extent=function(_){return arguments.length?(Z=+_[0][0],Q=+_[1][0],J=+_[0][1],K=+_[1][1],B):[[Z,J],[Q,K]]},B.iterations=function(_){return arguments.length?(M=+_,B):M};function O({nodes:_,links:v}){for(let[b,y]of _.entries())y.index=b,y.sourceLinks=[],y.targetLinks=[];let x=new Map(_.map((b,y)=>[q(b,y,_),b]));for(let[b,y]of v.entries()){y.index=b;let{source:u,target:h}=y;if(typeof u!=="object")u=y.source=fu0(x,u);if(typeof h!=="object")h=y.target=fu0(x,h);u.sourceLinks.push(y),h.targetLinks.push(y)}if(z!=null)for(let{sourceLinks:b,targetLinks:y}of _)b.sort(z),y.sort(z)}function R({nodes:_}){for(let v of _)v.value=v.fixedValue===void 0?Math.max(FO(v.sourceLinks,Ve),FO(v.targetLinks,Ve)):v.fixedValue}function L({nodes:_}){let v=_.length,x=new Set(_),b=new Set,y=0;while(x.size){for(let u of x){u.depth=y;for(let{target:h}of u.sourceLinks)b.add(h)}if(++y>v)throw Error("circular link");x=b,b=new Set}}function D({nodes:_}){let v=_.length,x=new Set(_),b=new Set,y=0;while(x.size){for(let u of x){u.height=y;for(let{source:h}of u.targetLinks)b.add(h)}if(++y>v)throw Error("circular link");x=b,b=new Set}}function A({nodes:_}){let v=mA(_,(y)=>y.depth)+1,x=(Q-Z-U)/(v-1),b=Array(v);for(let y of _){let u=Math.max(0,Math.min(v-1,Math.floor(W.call(null,y,v))));if(y.layer=u,y.x0=Z+u*x,y.x1=y.x0+U,b[u])b[u].push(y);else b[u]=[y]}if(G)for(let y of b)y.sort(G);return b}function V(_){let v=HO(_,(x)=>(K-J-(x.length-1)*Y)/FO(x,Ve));for(let x of _){let b=J;for(let y of x){y.y0=b,y.y1=b+y.value*v,b=y.y1+Y;for(let u of y.sourceLinks)u.width=u.value*v}b=(K-b+Y)/(x.length+1);for(let y=0;y<x.length;++y){let u=x[y];u.y0+=b*(y+1),u.y1+=b*(y+1)}P(x)}}function N(_){let v=A(_);Y=Math.min(X,(K-J)/(mA(v,(x)=>x.length)-1)),V(v);for(let x=0;x<M;++x){let b=Math.pow(0.99,x),y=Math.max(1-b,(x+1)/M);C(v,b,y),E(v,b,y)}}function E(_,v,x){for(let b=1,y=_.length;b<y;++b){let u=_[b];for(let h of u){let p=0,r=0;for(let{source:d,value:X0}of h.targetLinks){let a=X0*(h.layer-d.layer);p+=S(d,h)*a,r+=a}if(!(r>0))continue;let t=(p/r-h.y0)*v;h.y0+=t,h.y1+=t,w(h)}if(G===void 0)u.sort(Qf);j(u,x)}}function C(_,v,x){for(let b=_.length,y=b-2;y>=0;--y){let u=_[y];for(let h of u){let p=0,r=0;for(let{target:d,value:X0}of h.sourceLinks){let a=X0*(d.layer-h.layer);p+=T(h,d)*a,r+=a}if(!(r>0))continue;let t=(p/r-h.y0)*v;h.y0+=t,h.y1+=t,w(h)}if(G===void 0)u.sort(Qf);j(u,x)}}function j(_,v){let x=_.length>>1,b=_[x];k(_,b.y0-Y,x-1,v),$(_,b.y1+Y,x+1,v),k(_,K,_.length-1,v),$(_,J,0,v)}function $(_,v,x,b){for(;x<_.length;++x){let y=_[x],u=(v-y.y0)*b;if(u>0.000001)y.y0+=u,y.y1+=u;v=y.y1+Y}}function k(_,v,x,b){for(;x>=0;--x){let y=_[x],u=(y.y1-v)*b;if(u>0.000001)y.y0-=u,y.y1-=u;v=y.y0-Y}}function w({sourceLinks:_,targetLinks:v}){if(z===void 0){for(let{source:{sourceLinks:x}}of v)x.sort(_u0);for(let{target:{targetLinks:x}}of _)x.sort(ku0)}}function P(_){if(z===void 0)for(let{sourceLinks:v,targetLinks:x}of _)v.sort(_u0),x.sort(ku0)}function S(_,v){let x=_.y0-(_.sourceLinks.length-1)*Y/2;for(let{target:b,width:y}of _.sourceLinks){if(b===v)break;x+=y+Y}for(let{source:b,width:y}of v.targetLinks){if(b===_)break;x-=y}return x}function T(_,v){let x=v.y0-(v.targetLinks.length-1)*Y/2;for(let{source:b,width:y}of v.targetLinks){if(b===_)break;x+=y+Y}for(let{target:b,width:y}of _.sourceLinks){if(b===v)break;x-=y}return x}return B}var xu0=f(()=>{De();Ee()});function je(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bu0(){return new je}var Pe,Ce,rz=0.000001,sm8,Se;var yu0=f(()=>{Pe=Math.PI,Ce=2*Pe,sm8=Ce-rz;je.prototype=bu0.prototype={constructor:je,moveTo:function(Z,J){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)},closePath:function(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._+="Z"},lineTo:function(Z,J){this._+="L"+(this._x1=+Z)+","+(this._y1=+J)},quadraticCurveTo:function(Z,J,Q,K){this._+="Q"+ +Z+","+ +J+","+(this._x1=+Q)+","+(this._y1=+K)},bezierCurveTo:function(Z,J,Q,K,U,X){this._+="C"+ +Z+","+ +J+","+ +Q+","+ +K+","+(this._x1=+U)+","+(this._y1=+X)},arcTo:function(Z,J,Q,K,U){Z=+Z,J=+J,Q=+Q,K=+K,U=+U;var X=this._x1,Y=this._y1,q=Q-Z,W=K-J,G=X-Z,z=Y-J,H=G*G+z*z;if(U<0)throw Error("negative radius: "+U);if(this._x1===null)this._+="M"+(this._x1=Z)+","+(this._y1=J);else if(!(H>rz));else if(!(Math.abs(z*q-W*G)>rz)||!U)this._+="L"+(this._x1=Z)+","+(this._y1=J);else{var F=Q-X,M=K-Y,B=q*q+W*W,O=F*F+M*M,R=Math.sqrt(B),L=Math.sqrt(H),D=U*Math.tan((Pe-Math.acos((B+H-O)/(2*R*L)))/2),A=D/L,V=D/R;if(Math.abs(A-1)>rz)this._+="L"+(Z+A*G)+","+(J+A*z);this._+="A"+U+","+U+",0,0,"+ +(z*F>G*M)+","+(this._x1=Z+V*q)+","+(this._y1=J+V*W)}},arc:function(Z,J,Q,K,U,X){Z=+Z,J=+J,Q=+Q,X=!!X;var Y=Q*Math.cos(K),q=Q*Math.sin(K),W=Z+Y,G=J+q,z=1^X,H=X?K-U:U-K;if(Q<0)throw Error("negative radius: "+Q);if(this._x1===null)this._+="M"+W+","+G;else if(Math.abs(this._x1-W)>rz||Math.abs(this._y1-G)>rz)this._+="L"+W+","+G;if(!Q)return;if(H<0)H=H%Ce+Ce;if(H>sm8)this._+="A"+Q+","+Q+",0,1,"+z+","+(Z-Y)+","+(J-q)+"A"+Q+","+Q+",0,1,"+z+","+(this._x1=W)+","+(this._y1=G);else if(H>rz)this._+="A"+Q+","+Q+",0,"+ +(H>=Pe)+","+z+","+(this._x1=Z+Q*Math.cos(U))+","+(this._y1=J+Q*Math.sin(U))},rect:function(Z,J,Q,K){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)+"h"+ +Q+"v"+ +K+"h"+-Q+"Z"},toString:function(){return this._}};Se=bu0});var hu0=f(()=>{yu0()});function Uf(Z){return function(){return Z}}function mu0(Z){return Z[0]}function uu0(Z){return Z[1]}var gu0;var pu0=f(()=>{gu0=Array.prototype.slice});function rm8(Z){return Z.source}function nm8(Z){return Z.target}function am8(Z){var J=rm8,Q=nm8,K=mu0,U=uu0,X=null;function Y(){var q,W=gu0.call(arguments),G=J.apply(this,W),z=Q.apply(this,W);if(!X)X=q=Se();if(Z(X,+K.apply(this,(W[0]=G,W)),+U.apply(this,W),+K.apply(this,(W[0]=z,W)),+U.apply(this,W)),q)return X=null,q+""||null}return Y.source=function(q){return arguments.length?(J=q,Y):J},Y.target=function(q){return arguments.length?(Q=q,Y):Q},Y.x=function(q){return arguments.length?(K=typeof q==="function"?q:Uf(+q),Y):K},Y.y=function(q){return arguments.length?(U=typeof q==="function"?q:Uf(+q),Y):U},Y.context=function(q){return arguments.length?(X=q==null?null:q,Y):X},Y}function om8(Z,J,Q,K,U){Z.moveTo(J,Q),Z.bezierCurveTo(J=(J+K)/2,Q,J,U,K,U)}function Te(){return am8(om8)}var cu0=f(()=>{hu0();pu0()});var lu0=f(()=>{cu0()});function tm8(Z){return[Z.source.x1,Z.y0]}function em8(Z){return[Z.target.x0,Z.y1]}function Xf(){return Te().source(tm8).target(em8)}var du0=f(()=>{lu0()});var iu0=f(()=>{xu0();Ee();du0()});var ru0={};LZ(ru0,{diagram:()=>Ru8});var we,Yf,Wf,Gf,qf,Zu8,Ju8,Qu8,Ku8,Uu8,Xu8,Yu8,qu8,Wu8,su0,Gu8,zu8,Hu8,Fu8,Mu8,Bu8,Ou8,Ru8;var nu0=f(()=>{yZ();AZ();TZ();iu0();we=function(){var Z=I(function(q,W,G,z){for(G=G||{},z=q.length;z--;G[q[z]]=W);return G},"o"),J=[1,9],Q=[1,10],K=[1,5,10,12],U={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:I(function(W,G,z,H,F,M,B){var O=M.length-1;switch(F){case 7:let R=H.findOrCreateNode(M[O-4].trim().replaceAll('""','"')),L=H.findOrCreateNode(M[O-2].trim().replaceAll('""','"')),D=parseFloat(M[O].trim());H.addLink(R,L,D);break;case 8:case 9:case 11:this.$=M[O];break;case 10:this.$=M[O-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:J,20:Q},{1:[2,6],7:11,10:[1,12]},Z(Q,[2,4],{9:13,5:[1,14]}),{12:[1,15]},Z(K,[2,8]),Z(K,[2,9]),{19:[1,16]},Z(K,[2,11]),{1:[2,1]},{1:[2,5]},Z(Q,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:J,20:Q},{15:18,16:7,17:8,18:J,20:Q},{18:[1,19]},Z(Q,[2,3]),{12:[1,20]},Z(K,[2,10]),{15:21,16:7,17:8,18:J,20:Q},Z([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:I(function(W,G){if(G.recoverable)this.trace(W);else{var z=Error(W);throw z.hash=G,z}},"parseError"),parse:I(function(W){var G=this,z=[0],H=[],F=[null],M=[],B=this.table,O="",R=0,L=0,D=0,A=2,V=1,N=M.slice.call(arguments,1),E=Object.create(this.lexer),C={yy:{}};for(var j in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,j))C.yy[j]=this.yy[j];if(E.setInput(W,C.yy),C.yy.lexer=E,C.yy.parser=this,typeof E.yylloc>"u")E.yylloc={};var $=E.yylloc;M.push($);var k=E.options&&E.options.ranges;if(typeof C.yy.parseError==="function")this.parseError=C.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function w(d){z.length=z.length-2*d,F.length=F.length-d,M.length=M.length-d}I(w,"popStack");function P(){var d=H.pop()||E.lex()||V;if(typeof d!=="number"){if(d instanceof Array)H=d,d=H.pop();d=G.symbols_[d]||d}return d}I(P,"lex");var S,T,_,v,x,b,y={},u,h,p,r;while(!0){if(_=z[z.length-1],this.defaultActions[_])v=this.defaultActions[_];else{if(S===null||typeof S>"u")S=P();v=B[_]&&B[_][S]}if(typeof v>"u"||!v.length||!v[0]){var t="";r=[];for(u in B[_])if(this.terminals_[u]&&u>A)r.push("'"+this.terminals_[u]+"'");if(E.showPosition)t="Parse error on line "+(R+1)+`:
`+E.showPosition()+`
Expecting `+r.join(", ")+", got '"+(this.terminals_[S]||S)+"'";else t="Parse error on line "+(R+1)+": Unexpected "+(S==V?"end of input":"'"+(this.terminals_[S]||S)+"'");this.parseError(t,{text:E.match,token:this.terminals_[S]||S,line:E.yylineno,loc:$,expected:r})}if(v[0]instanceof Array&&v.length>1)throw Error("Parse Error: multiple actions possible at state: "+_+", token: "+S);switch(v[0]){case 1:if(z.push(S),F.push(E.yytext),M.push(E.yylloc),z.push(v[1]),S=null,!T){if(L=E.yyleng,O=E.yytext,R=E.yylineno,$=E.yylloc,D>0)D--}else S=T,T=null;break;case 2:if(h=this.productions_[v[1]][1],y.$=F[F.length-h],y._$={first_line:M[M.length-(h||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(h||1)].first_column,last_column:M[M.length-1].last_column},k)y._$.range=[M[M.length-(h||1)].range[0],M[M.length-1].range[1]];if(b=this.performAction.apply(y,[O,L,R,C.yy,v[1],F,M].concat(N)),typeof b<"u")return b;if(h)z=z.slice(0,-1*h*2),F=F.slice(0,-1*h),M=M.slice(0,-1*h);z.push(this.productions_[v[1]][0]),F.push(y.$),M.push(y._$),p=B[z[z.length-2]][z[z.length-1]],z.push(p);break;case 3:return!0}}return!0},"parse")},X=function(){var q={EOF:1,parseError:I(function(G,z){if(this.yy.parser)this.yy.parser.parseError(G,z);else throw Error(G)},"parseError"),setInput:I(function(W,G){if(this.yy=G||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var W=this._input[0];this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W;var G=W.match(/(?:\r\n?|\n).*/g);if(G)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),W},"input"),unput:I(function(W){var G=W.length,z=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var H=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1)this.yylineno-=z.length-1;var F=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===H.length?this.yylloc.first_column:0)+H[H.length-z.length].length-z[0].length:this.yylloc.first_column-G},this.options.ranges)this.yylloc.range=[F[0],F[0]+this.yyleng-G];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(W){this.unput(this.match.slice(W))},"less"),pastInput:I(function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var W=this.match;if(W.length<20)W+=this._input.substr(0,20-W.length);return(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var W=this.pastInput(),G=Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+G+"^"},"showPosition"),test_match:I(function(W,G){var z,H,F;if(this.options.backtrack_lexer){if(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)F.yylloc.range=this.yylloc.range.slice(0)}if(H=W[0].match(/(?:\r\n?|\n).*/g),H)this.yylineno+=H.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],z=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(z)return z;else if(this._backtrack){for(var M in F)this[M]=F[M];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var W,G,z,H;if(!this._more)this.yytext="",this.match="";var F=this._currentRules();for(var M=0;M<F.length;M++)if(z=this._input.match(this.rules[F[M]]),z&&(!G||z[0].length>G[0].length)){if(G=z,H=M,this.options.backtrack_lexer)if(W=this.test_match(z,F[M]),W!==!1)return W;else if(this._backtrack){G=!1;continue}else return!1;else if(!this.options.flex)break}if(G){if(W=this.test_match(G,F[H]),W!==!1)return W;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var G=this.next();if(G)return G;else return this.lex()},"lex"),begin:I(function(G){this.conditionStack.push(G)},"begin"),popState:I(function(){var G=this.conditionStack.length-1;if(G>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(G){if(G=this.conditionStack.length-1-Math.abs(G||0),G>=0)return this.conditionStack[G];else return"INITIAL"},"topState"),pushState:I(function(G){this.begin(G)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(G,z,H,F){var M=F;switch(H){case 0:return this.pushState("csv"),4;break;case 1:return this.pushState("csv"),4;break;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;break;case 6:return 20;case 7:return this.popState("escaped_text"),18;break;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return q}();U.lexer=X;function Y(){this.yy={}}return I(Y,"Parser"),Y.prototype=U,U.Parser=Y,new Y}();we.parser=we;Yf=we,Wf=[],Gf=[],qf=new Map,Zu8=I(()=>{Wf=[],Gf=[],qf=new Map,bZ()},"clear"),Ju8=class{constructor(Z,J,Q=0){this.source=Z,this.target=J,this.value=Q}static{I(this,"SankeyLink")}},Qu8=I((Z,J,Q)=>{Wf.push(new Ju8(Z,J,Q))},"addLink"),Ku8=class{constructor(Z){this.ID=Z}static{I(this,"SankeyNode")}},Uu8=I((Z)=>{Z=U8.sanitizeText(Z,E0());let J=qf.get(Z);if(J===void 0)J=new Ku8(Z),qf.set(Z,J),Gf.push(J);return J},"findOrCreateNode"),Xu8=I(()=>Gf,"getNodes"),Yu8=I(()=>Wf,"getLinks"),qu8=I(()=>({nodes:Gf.map((Z)=>({id:Z.ID})),links:Wf.map((Z)=>({source:Z.source.ID,target:Z.target.ID,value:Z.value}))}),"getGraph"),Wu8={nodesMap:qf,getConfig:I(()=>E0().sankey,"getConfig"),getNodes:Xu8,getLinks:Yu8,getGraph:qu8,addLink:Qu8,findOrCreateNode:Uu8,getAccTitle:sZ,setAccTitle:cZ,getAccDescription:nZ,setAccDescription:rZ,getDiagramTitle:aZ,setDiagramTitle:Z9,clear:Zu8},su0=class Z{static{I(this,"Uid")}static{this.count=0}static next(J){return new Z(J+ ++Z.count)}constructor(J){this.id=J,this.href=`#${J}`}toString(){return"url("+this.href+")"}},Gu8={left:Ie,right:Ae,center:Ne,justify:uA},zu8=I(function(Z,J,Q,K){let{securityLevel:U,sankey:X}=E0(),Y=CV.sankey,q;if(U==="sandbox")q=n0("#i"+J);let W=U==="sandbox"?n0(q.nodes()[0].contentDocument.body):n0("body"),G=U==="sandbox"?W.select(`[id="${J}"]`):n0(`[id="${J}"]`),z=X?.width??Y.width,H=X?.height??Y.width,F=X?.useMaxWidth??Y.useMaxWidth,M=X?.nodeAlignment??Y.nodeAlignment,B=X?.prefix??Y.prefix,O=X?.suffix??Y.suffix,R=X?.showValues??Y.showValues,L=K.db.getGraph(),D=Gu8[M],A=10;Kf().nodeId((k)=>k.id).nodeWidth(A).nodePadding(10+(R?15:0)).nodeAlign(D).extent([[0,0],[z,H]])(L);let N=C4(qg);G.append("g").attr("class","nodes").selectAll(".node").data(L.nodes).join("g").attr("class","node").attr("id",(k)=>(k.uid=su0.next("node-")).id).attr("transform",function(k){return"translate("+k.x0+","+k.y0+")"}).attr("x",(k)=>k.x0).attr("y",(k)=>k.y0).append("rect").attr("height",(k)=>{return k.y1-k.y0}).attr("width",(k)=>k.x1-k.x0).attr("fill",(k)=>N(k.id));let E=I(({id:k,value:w})=>{if(!R)return k;return`${k}
${B}${Math.round(w*100)/100}${O}`},"getText");G.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(L.nodes).join("text").attr("x",(k)=>k.x0<z/2?k.x1+6:k.x0-6).attr("y",(k)=>(k.y1+k.y0)/2).attr("dy",`${R?"0":"0.35"}em`).attr("text-anchor",(k)=>k.x0<z/2?"start":"end").text(E);let C=G.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",0.5).selectAll(".link").data(L.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),j=X?.linkColor??"gradient";if(j==="gradient"){let k=C.append("linearGradient").attr("id",(w)=>(w.uid=su0.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",(w)=>w.source.x1).attr("x2",(w)=>w.target.x0);k.append("stop").attr("offset","0%").attr("stop-color",(w)=>N(w.source.id)),k.append("stop").attr("offset","100%").attr("stop-color",(w)=>N(w.target.id))}let $;switch(j){case"gradient":$=I((k)=>k.uid,"coloring");break;case"source":$=I((k)=>N(k.source.id),"coloring");break;case"target":$=I((k)=>N(k.target.id),"coloring");break;default:$=j}C.append("path").attr("d",Xf()).attr("stroke",$).attr("stroke-width",(k)=>Math.max(1,k.width)),sX(void 0,G,0,F)},"draw"),Hu8={draw:zu8},Fu8=I((Z)=>{return Z.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim()},"prepareTextForParsing"),Mu8=I((Z)=>`.label {
      font-family: ${Z.fontFamily};
    }`,"getStyles"),Bu8=Mu8,Ou8=Yf.parse.bind(Yf);Yf.parse=(Z)=>Ou8(Fu8(Z));Ru8={styles:Bu8,parser:Yf,db:Wu8,renderer:Hu8}});var tu0={};LZ(tu0,{diagram:()=>ju8});var Lu8,au0,Du8=1e4,Iu8,Au8,ou0,Nu8,Eu8,Vu8,Pu8,Cu8,ju8;var eu0=f(()=>{IU();Bz();w9();yZ();AZ();SW();Lu8=PZ.packet,au0=class{constructor(){this.packet=[],this.setAccTitle=cZ,this.getAccTitle=sZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getAccDescription=nZ,this.setAccDescription=rZ}static{I(this,"PacketDB")}getConfig(){let Z=wJ({...Lu8,...CZ().packet});if(Z.showBits)Z.paddingY+=10;return Z}getPacket(){return this.packet}pushWord(Z){if(Z.length>0)this.packet.push(Z)}clear(){bZ(),this.packet=[]}},Iu8=I((Z,J)=>{y4(Z,J);let Q=-1,K=[],U=1,{bitsPerRow:X}=J.getConfig();for(let{start:Y,end:q,bits:W,label:G}of Z.blocks){if(Y!==void 0&&q!==void 0&&q<Y)throw Error(`Packet block ${Y} - ${q} is invalid. End must be greater than start.`);if(Y??=Q+1,Y!==Q+1)throw Error(`Packet block ${Y} - ${q??Y} is not contiguous. It should start from ${Q+1}.`);if(W===0)throw Error(`Packet block ${Y} is invalid. Cannot have a zero bit field.`);q??=Y+(W??1)-1,W??=q-Y+1,Q=q,Z0.debug(`Packet block ${Y} - ${Q} with label ${G}`);while(K.length<=X+1&&J.getPacket().length<Du8){let[z,H]=Au8({start:Y,end:q,bits:W,label:G},U,X);if(K.push(z),z.end+1===U*X)J.pushWord(K),K=[],U++;if(!H)break;({start:Y,end:q,bits:W,label:G}=H)}}J.pushWord(K)},"populate"),Au8=I((Z,J,Q)=>{if(Z.start===void 0)throw Error("start should have been set during first phase");if(Z.end===void 0)throw Error("end should have been set during first phase");if(Z.start>Z.end)throw Error(`Block start ${Z.start} is greater than block end ${Z.end}.`);if(Z.end+1<=J*Q)return[Z,void 0];let K=J*Q-1,U=J*Q;return[{start:Z.start,end:K,label:Z.label,bits:K-Z.start},{start:U,end:Z.end,label:Z.label,bits:Z.end-U}]},"getNextFittingBlock"),ou0={parser:{yy:void 0},parse:I(async(Z)=>{let J=await A6("packet",Z),Q=ou0.parser?.yy;if(!(Q instanceof au0))throw Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Z0.debug(J),Iu8(J,Q)},"parse")},Nu8=I((Z,J,Q,K)=>{let U=K.db,X=U.getConfig(),{rowHeight:Y,paddingY:q,bitWidth:W,bitsPerRow:G}=X,z=U.getPacket(),H=U.getDiagramTitle(),F=Y+q,M=F*(z.length+1)-(H?0:Y),B=W*G+2,O=k7(J);O.attr("viewbox",`0 0 ${B} ${M}`),T9(O,M,B,X.useMaxWidth);for(let[R,L]of z.entries())Eu8(O,L,R,X);O.append("text").text(H).attr("x",B/2).attr("y",M-F/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),Eu8=I((Z,J,Q,{rowHeight:K,paddingX:U,paddingY:X,bitWidth:Y,bitsPerRow:q,showBits:W})=>{let G=Z.append("g"),z=Q*(K+X)+X;for(let H of J){let F=H.start%q*Y+1,M=(H.end-H.start+1)*Y-U;if(G.append("rect").attr("x",F).attr("y",z).attr("width",M).attr("height",K).attr("class","packetBlock"),G.append("text").attr("x",F+M/2).attr("y",z+K/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(H.label),!W)continue;let B=H.end===H.start,O=z-2;if(G.append("text").attr("x",F+(B?M/2:0)).attr("y",O).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",B?"middle":"start").text(H.start),!B)G.append("text").attr("x",F+M).attr("y",O).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(H.end)}},"drawWord"),Vu8={draw:Nu8},Pu8={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Cu8=I(({packet:Z}={})=>{let J=wJ(Pu8,Z);return`
	.packetByte {
		font-size: ${J.byteFontSize};
	}
	.packetByte.start {
		fill: ${J.startByteColor};
	}
	.packetByte.end {
		fill: ${J.endByteColor};
	}
	.packetLabel {
		fill: ${J.labelColor};
		font-size: ${J.labelFontSize};
	}
	.packetTitle {
		fill: ${J.titleColor};
		font-size: ${J.titleFontSize};
	}
	.packetBlock {
		stroke: ${J.blockStrokeColor};
		stroke-width: ${J.blockStrokeWidth};
		fill: ${J.blockFillColor};
	}
	`},"styles"),ju8={parser:ou0,get db(){return new au0},renderer:Vu8,styles:Cu8}});var Yg0={};LZ(Yg0,{diagram:()=>iu8});function Qg0(Z,J,Q,K,U,X,Y){let q=J.length,W=Math.min(Y.width,Y.height)/2;Q.forEach((G,z)=>{if(G.entries.length!==q)return;let H=G.entries.map((F,M)=>{let B=2*Math.PI*M/q-Math.PI/2,O=Kg0(F,K,U,W),R=O*Math.cos(B),L=O*Math.sin(B);return{x:R,y:L}});if(X==="circle")Z.append("path").attr("d",Ug0(H,Y.curveTension)).attr("class",`radarCurve-${z}`);else if(X==="polygon")Z.append("polygon").attr("points",H.map((F)=>`${F.x},${F.y}`).join(" ")).attr("class",`radarCurve-${z}`)})}function Kg0(Z,J,Q,K){let U=Math.min(Math.max(Z,J),Q);return K*(U-J)/(Q-J)}function Ug0(Z,J){let Q=Z.length,K=`M${Z[0].x},${Z[0].y}`;for(let U=0;U<Q;U++){let X=Z[(U-1+Q)%Q],Y=Z[U],q=Z[(U+1)%Q],W=Z[(U+2)%Q],G={x:Y.x+(q.x-X.x)*J,y:Y.y+(q.y-X.y)*J},z={x:q.x-(W.x-Y.x)*J,y:q.y-(W.y-Y.y)*J};K+=` C${G.x},${G.y} ${z.x},${z.y} ${q.x},${q.y}`}return`${K} Z`}function Xg0(Z,J,Q,K){if(!Q)return;let U=(K.width/2+K.marginRight)*3/4,X=-(K.height/2+K.marginTop)*3/4,Y=20;J.forEach((q,W)=>{let G=Z.append("g").attr("transform",`translate(${U}, ${X+W*Y})`);G.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${W}`),G.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(q.label)})}var BO,Zg0,nz,Su8,Tu8,Jg0,wu8,$u8,ku8,_u8,fu8,vu8,xu8,gA,bu8,yu8,hu8,mu8,uu8,gu8,pu8,cu8,lu8,du8,iu8;var qg0=f(()=>{IU();Bz();w9();yZ();AZ();SW();BO={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},Zg0={axes:[],curves:[],options:BO},nz=structuredClone(Zg0),Su8=PZ.radar,Tu8=I(()=>{return wJ({...Su8,...CZ().radar})},"getConfig"),Jg0=I(()=>nz.axes,"getAxes"),wu8=I(()=>nz.curves,"getCurves"),$u8=I(()=>nz.options,"getOptions"),ku8=I((Z)=>{nz.axes=Z.map((J)=>{return{name:J.name,label:J.label??J.name}})},"setAxes"),_u8=I((Z)=>{nz.curves=Z.map((J)=>{return{name:J.name,label:J.label??J.name,entries:fu8(J.entries)}})},"setCurves"),fu8=I((Z)=>{if(Z[0].axis==null)return Z.map((Q)=>Q.value);let J=Jg0();if(J.length===0)throw Error("Axes must be populated before curves for reference entries");return J.map((Q)=>{let K=Z.find((U)=>U.axis?.$refText===Q.name);if(K===void 0)throw Error("Missing entry for axis "+Q.label);return K.value})},"computeCurveEntries"),vu8=I((Z)=>{let J=Z.reduce((Q,K)=>{return Q[K.name]=K,Q},{});nz.options={showLegend:J.showLegend?.value??BO.showLegend,ticks:J.ticks?.value??BO.ticks,max:J.max?.value??BO.max,min:J.min?.value??BO.min,graticule:J.graticule?.value??BO.graticule}},"setOptions"),xu8=I(()=>{bZ(),nz=structuredClone(Zg0)},"clear"),gA={getAxes:Jg0,getCurves:wu8,getOptions:$u8,setAxes:ku8,setCurves:_u8,setOptions:vu8,getConfig:Tu8,clear:xu8,setAccTitle:cZ,getAccTitle:sZ,setDiagramTitle:Z9,getDiagramTitle:aZ,getAccDescription:nZ,setAccDescription:rZ},bu8=I((Z)=>{y4(Z,gA);let{axes:J,curves:Q,options:K}=Z;gA.setAxes(J),gA.setCurves(Q),gA.setOptions(K)},"populate"),yu8={parse:I(async(Z)=>{let J=await A6("radar",Z);Z0.debug(J),bu8(J)},"parse")},hu8=I((Z,J,Q,K)=>{let U=K.db,X=U.getAxes(),Y=U.getCurves(),q=U.getOptions(),W=U.getConfig(),G=U.getDiagramTitle(),z=k7(J),H=mu8(z,W),F=q.max??Math.max(...Y.map((O)=>Math.max(...O.entries))),M=q.min,B=Math.min(W.width,W.height)/2;uu8(H,X,B,q.ticks,q.graticule),gu8(H,X,B,W),Qg0(H,X,Y,M,F,q.graticule,W),Xg0(H,Y,q.showLegend,W),H.append("text").attr("class","radarTitle").text(G).attr("x",0).attr("y",-W.height/2-W.marginTop)},"draw"),mu8=I((Z,J)=>{let Q=J.width+J.marginLeft+J.marginRight,K=J.height+J.marginTop+J.marginBottom,U={x:J.marginLeft+J.width/2,y:J.marginTop+J.height/2};return Z.attr("viewbox",`0 0 ${Q} ${K}`).attr("width",Q).attr("height",K),Z.append("g").attr("transform",`translate(${U.x}, ${U.y})`)},"drawFrame"),uu8=I((Z,J,Q,K,U)=>{if(U==="circle")for(let X=0;X<K;X++){let Y=Q*(X+1)/K;Z.append("circle").attr("r",Y).attr("class","radarGraticule")}else if(U==="polygon"){let X=J.length;for(let Y=0;Y<K;Y++){let q=Q*(Y+1)/K,W=J.map((G,z)=>{let H=2*z*Math.PI/X-Math.PI/2,F=q*Math.cos(H),M=q*Math.sin(H);return`${F},${M}`}).join(" ");Z.append("polygon").attr("points",W).attr("class","radarGraticule")}}},"drawGraticule"),gu8=I((Z,J,Q,K)=>{let U=J.length;for(let X=0;X<U;X++){let Y=J[X].label,q=2*X*Math.PI/U-Math.PI/2;Z.append("line").attr("x1",0).attr("y1",0).attr("x2",Q*K.axisScaleFactor*Math.cos(q)).attr("y2",Q*K.axisScaleFactor*Math.sin(q)).attr("class","radarAxisLine"),Z.append("text").text(Y).attr("x",Q*K.axisLabelFactor*Math.cos(q)).attr("y",Q*K.axisLabelFactor*Math.sin(q)).attr("class","radarAxisLabel")}},"drawAxes");I(Qg0,"drawCurves");I(Kg0,"relativeRadius");I(Ug0,"closedRoundCurve");I(Xg0,"drawLegend");pu8={draw:hu8},cu8=I((Z,J)=>{let Q="";for(let K=0;K<Z.THEME_COLOR_LIMIT;K++){let U=Z[`cScale${K}`];Q+=`
		.radarCurve-${K} {
			color: ${U};
			fill: ${U};
			fill-opacity: ${J.curveOpacity};
			stroke: ${U};
			stroke-width: ${J.curveStrokeWidth};
		}
		.radarLegendBox-${K} {
			fill: ${U};
			fill-opacity: ${J.curveOpacity};
			stroke: ${U};
		}
		`}return Q},"genIndexStyles"),lu8=I((Z)=>{let J=MG(),Q=CZ(),K=wJ(J,Q.themeVariables),U=wJ(K.radar,Z);return{themeVariables:K,radarOptions:U}},"buildRadarStyleOptions"),du8=I(({radar:Z}={})=>{let{themeVariables:J,radarOptions:Q}=lu8(Z);return`
	.radarTitle {
		font-size: ${J.fontSize};
		color: ${J.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${Q.axisColor};
		stroke-width: ${Q.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${Q.axisLabelFontSize}px;
		color: ${Q.axisColor};
	}
	.radarGraticule {
		fill: ${Q.graticuleColor};
		fill-opacity: ${Q.graticuleOpacity};
		stroke: ${Q.graticuleColor};
		stroke-width: ${Q.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${Q.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${cu8(J,Q)}
	`},"styles"),iu8={parser:yu8,db:gA,renderer:pu8,styles:du8}});var yg0={};LZ(yg0,{diagram:()=>Lp8});function Ig0(Z){switch(Z0.debug("typeStr2Type",Z),Z){case"[]":return"square";case"()":return Z0.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Ag0(Z){switch(Z0.debug("typeStr2Type",Z),Z){case"==":return"thick";default:return"normal"}}function Ng0(Z){switch(Z.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}function Eg0(Z,J){if(Z===0||!Number.isInteger(Z))throw Error("Columns must be an integer !== 0.");if(J<0||!Number.isInteger(J))throw Error("Position must be a non-negative integer."+J);if(Z<0)return{px:J,py:0};if(Z===1)return{px:0,py:J};let Q=J%Z,K=Math.floor(J/Z);return{px:Q,py:K}}function Mf(Z,J,Q=0,K=0){if(Z0.debug("setBlockSizes abc95 (start)",Z.id,Z?.size?.x,"block width =",Z?.size,"siblingWidth",Q),!Z?.size?.width)Z.size={width:Q,height:K,x:0,y:0};let U=0,X=0;if(Z.children?.length>0){for(let M of Z.children)Mf(M,J);let Y=Sg8(Z);U=Y.width,X=Y.height,Z0.debug("setBlockSizes abc95 maxWidth of",Z.id,":s children is ",U,X);for(let M of Z.children)if(M.size)Z0.debug(`abc95 Setting size of children of ${Z.id} id=${M.id} ${U} ${X} ${JSON.stringify(M.size)}`),M.size.width=U*(M.widthInColumns??1)+Z7*((M.widthInColumns??1)-1),M.size.height=X,M.size.x=0,M.size.y=0,Z0.debug(`abc95 updating size of ${Z.id} children child:${M.id} maxWidth:${U} maxHeight:${X}`);for(let M of Z.children)Mf(M,J,U,X);let q=Z.columns??-1,W=0;for(let M of Z.children)W+=M.widthInColumns??1;let G=Z.children.length;if(q>0&&q<W)G=q;let z=Math.ceil(W/G),H=G*(U+Z7)+Z7,F=z*(X+Z7)+Z7;if(H<Q){Z0.debug(`Detected to small sibling: abc95 ${Z.id} siblingWidth ${Q} siblingHeight ${K} width ${H}`),H=Q,F=K;let M=(Q-G*Z7-Z7)/G,B=(K-z*Z7-Z7)/z;Z0.debug("Size indata abc88",Z.id,"childWidth",M,"maxWidth",U),Z0.debug("Size indata abc88",Z.id,"childHeight",B,"maxHeight",X),Z0.debug("Size indata abc88 xSize",G,"padding",Z7);for(let O of Z.children)if(O.size)O.size.width=M,O.size.height=B,O.size.x=0,O.size.y=0}if(Z0.debug(`abc95 (finale calc) ${Z.id} xSize ${G} ySize ${z} columns ${q}${Z.children.length} width=${Math.max(H,Z.size?.width||0)}`),H<(Z?.size?.width||0)){H=Z?.size?.width||0;let M=q>0?Math.min(Z.children.length,q):Z.children.length;if(M>0){let B=(H-M*Z7-Z7)/M;Z0.debug("abc95 (growing to fit) width",Z.id,H,Z.size?.width,B);for(let O of Z.children)if(O.size)O.size.width=B}}Z.size={width:H,height:F,x:0,y:0}}Z0.debug("setBlockSizes abc94 (done)",Z.id,Z?.size?.x,Z?.size?.width,Z?.size?.y,Z?.size?.height)}function ye(Z,J){Z0.debug(`abc85 layout blocks (=>layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`);let Q=Z.columns??-1;if(Z0.debug("layoutBlocks columns abc95",Z.id,"=>",Q,Z),Z.children&&Z.children.length>0){let K=Z?.children[0]?.size?.width??0,U=Z.children.length*K+(Z.children.length-1)*Z7;Z0.debug("widthOfChildren 88",U,"posX");let X=0;Z0.debug("abc91 block?.size?.x",Z.id,Z?.size?.x);let Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-Z7,q=0;for(let W of Z.children){let G=Z;if(!W.size)continue;let{width:z,height:H}=W.size,{px:F,py:M}=Eg0(Q,X);if(M!=q)q=M,Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-Z7,Z0.debug("New row in layout for block",Z.id," and child ",W.id,q);if(Z0.debug(`abc89 layout blocks (child) id: ${W.id} Pos: ${X} (px, py) ${F},${M} (${G?.size?.x},${G?.size?.y}) parent: ${G.id} width: ${z}${Z7}`),G.size){let O=z/2;W.size.x=Y+Z7+O,Z0.debug(`abc91 layout blocks (calc) px, pyid:${W.id} startingPos=X${Y} new startingPosX${W.size.x} ${O} padding=${Z7} width=${z} halfWidth=${O} => x:${W.size.x} y:${W.size.y} ${W.widthInColumns} (width * (child?.w || 1)) / 2 ${z*(W?.widthInColumns??1)/2}`),Y=W.size.x+O,W.size.y=G.size.y-G.size.height/2+M*(H+Z7)+H/2+Z7,Z0.debug(`abc88 layout blocks (calc) px, pyid:${W.id}startingPosX${Y}${Z7}${O}=>x:${W.size.x}y:${W.size.y}${W.widthInColumns}(width * (child?.w || 1)) / 2${z*(W?.widthInColumns??1)/2}`)}if(W.children)ye(W,J);let B=W?.widthInColumns??1;if(Q>0)B=Math.min(B,Q-X%Q);X+=B,Z0.debug("abc88 columnsPos",W,X)}}Z0.debug(`layout blocks (<==layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`)}function he(Z,{minX:J,minY:Q,maxX:K,maxY:U}={minX:0,minY:0,maxX:0,maxY:0}){if(Z.size&&Z.id!=="root"){let{x:X,y:Y,width:q,height:W}=Z.size;if(X-q/2<J)J=X-q/2;if(Y-W/2<Q)Q=Y-W/2;if(X+q/2>K)K=X+q/2;if(Y+W/2>U)U=Y+W/2}if(Z.children)for(let X of Z.children)({minX:J,minY:Q,maxX:K,maxY:U}=he(X,{minX:J,minY:Q,maxX:K,maxY:U}));return{minX:J,minY:Q,maxX:K,maxY:U}}function Vg0(Z){let J=Z.getBlock("root");if(!J)return;Mf(J,Z,0,0),ye(J,Z),Z0.debug("getBlocks",JSON.stringify(J,null,2));let{minX:Q,minY:K,maxX:U,maxY:X}=he(J),Y=X-K,q=U-Q;return{x:Q,y:K,width:q,height:Y}}function _e(Z,J){if(J)Z.attr("style",J)}function Pg0(Z,J){let Q=n0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),K=Q.append("xhtml:div"),U=Z.label,X=Z.isNode?"nodeLabel":"edgeLabel",Y=K.append("span");return Y.html(VZ(U,J)),_e(Y,Z.labelStyle),Y.attr("class",X),_e(K,Z.labelStyle),K.style("display","inline-block"),K.style("white-space","nowrap"),K.attr("xmlns","http://www.w3.org/1999/xhtml"),Q.node()}function pA(Z,J){if(E0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}function Cg0(Z,J){return Z.intersect(J)}function jg0(Z,J,Q,K){var{x:U,y:X}=Z,Y=U-K.x,q=X-K.y,W=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/W);if(K.x<U)G=-G;var z=Math.abs(J*Q*q/W);if(K.y<X)z=-z;return{x:U+G,y:X+z}}function Tg0(Z,J,Q){return Sg0(Z,J,J,Q)}function wg0(Z,J,Q,K){var U,X,Y,q,W,G,z,H,F,M,B,O,R,L,D;if(U=J.y-Z.y,Y=Z.x-J.x,W=J.x*Z.y-Z.x*J.y,F=U*Q.x+Y*Q.y+W,M=U*K.x+Y*K.y+W,F!==0&&M!==0&&ve(F,M))return;if(X=K.y-Q.y,q=Q.x-K.x,G=K.x*Q.y-Q.x*K.y,z=X*Z.x+q*Z.y+G,H=X*J.x+q*J.y+G,z!==0&&H!==0&&ve(z,H))return;if(B=U*q-X*Y,B===0)return;return O=Math.abs(B/2),R=Y*G-q*W,L=R<0?(R-O)/B:(R+O)/B,R=X*W-U*G,D=R<0?(R-O)/B:(R+O)/B,{x:L,y:D}}function ve(Z,J){return Z*J>0}function $g0(Z,J,Q){var{x:K,y:U}=Z,X=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(B){Y=Math.min(Y,B.x),q=Math.min(q,B.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);var W=K-Z.width/2-Y,G=U-Z.height/2-q;for(var z=0;z<J.length;z++){var H=J[z],F=J[z<J.length-1?z+1:0],M=ug8(Z,Q,{x:W+H.x,y:G+H.y},{x:W+F.x,y:G+F.y});if(M)X.push(M)}if(!X.length)return Z;if(X.length>1)X.sort(function(B,O){var R=B.x-Q.x,L=B.y-Q.y,D=Math.sqrt(R*R+L*L),A=O.x-Q.x,V=O.y-Q.y,N=Math.sqrt(A*A+V*V);return D<N?-1:D===N?0:1});return X[0]}function g5(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(U){return U.x+","+U.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}function Bf(Z,J,Q,K){let U=[],X=I((q)=>{U.push(q,0)},"addBorder"),Y=I((q)=>{U.push(0,q)},"skipBorder");if(J.includes("t"))Z0.debug("add top border"),X(Q);else Y(Q);if(J.includes("r"))Z0.debug("add right border"),X(K);else Y(K);if(J.includes("b"))Z0.debug("add bottom border"),X(Q);else Y(Q);if(J.includes("l"))Z0.debug("add left border"),X(K);else Y(K);Z.attr("stroke-dasharray",U.join(" "))}function me(Z,J,Q=!1){let K=Z,U="default";if((K?.classes?.length||0)>0)U=(K?.classes??[]).join(" ");U=U+" flowchart-label";let X=0,Y="",q;switch(K.type){case"round":X=5,Y="rect";break;case"composite":X=0,Y="composite",q=0;break;case"square":Y="rect";break;case"diamond":Y="question";break;case"hexagon":Y="hexagon";break;case"block_arrow":Y="block_arrow";break;case"odd":Y="rect_left_inv_arrow";break;case"lean_right":Y="lean_right";break;case"lean_left":Y="lean_left";break;case"trapezoid":Y="trapezoid";break;case"inv_trapezoid":Y="inv_trapezoid";break;case"rect_left_inv_arrow":Y="rect_left_inv_arrow";break;case"circle":Y="circle";break;case"ellipse":Y="ellipse";break;case"stadium":Y="stadium";break;case"subroutine":Y="subroutine";break;case"cylinder":Y="cylinder";break;case"group":Y="rect";break;case"doublecircle":Y="doublecircle";break;default:Y="rect"}let W=PC(K?.styles??[]),G=K.label,z=K.size??{width:0,height:0,x:0,y:0};return{labelStyle:W.labelStyle,shape:Y,labelText:G,rx:X,ry:X,class:U,style:W.style,id:K.id,directions:K.directions,width:z.width,height:z.height,x:z.x,y:z.y,positioned:Q,intersect:void 0,type:K.type,padding:q??CZ()?.block?.padding??0}}async function _g0(Z,J,Q){let K=me(J,Q,!1);if(K.type==="group")return;let U=CZ(),X=await kg0(Z,K,{config:U}),Y=X.node().getBBox(),q=Q.getBlock(K.id);q.size={width:Y.width,height:Y.height,x:0,y:0,node:X},Q.setBlock(q),X.remove()}async function fg0(Z,J,Q){let K=me(J,Q,!0);if(Q.getBlock(K.id).type!=="space"){let X=CZ();await kg0(Z,K,{config:X}),J.intersect=K?.intersect,Mp8(K)}}async function Of(Z,J,Q,K){for(let U of J)if(await K(Z,U,Q),U.children)await Of(Z,U.children,Q,K)}async function vg0(Z,J,Q){await Of(Z,J,Q,_g0)}async function xg0(Z,J,Q){await Of(Z,J,Q,fg0)}async function bg0(Z,J,Q,K,U){let X=new k9({multigraph:!0,compound:!0});X.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let Y of Q)if(Y.size)X.setNode(Y.id,{width:Y.size.width,height:Y.size.height,intersect:Y.intersect});for(let Y of J)if(Y.start&&Y.end){let q=K.getBlock(Y.start),W=K.getBlock(Y.end);if(q?.size&&W?.size){let G=q.size,z=W.size,H=[{x:G.x,y:G.y},{x:G.x+(z.x-G.x)/2,y:G.y+(z.y-G.y)/2},{x:z.x,y:z.y}];if(xg8(Z,{v:Y.start,w:Y.end,name:Y.id},{...Y,arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:H,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",X,U),Y.label)await kg8(Z,{...Y,label:Y.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:H,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),_g8({...Y,x:H[1].x,y:H[1].y},{originalPath:H})}}}var $e,su8,u5,xe,ke,Wg0="color",Gg0="fill",ru8="bgFill",Lg0=",",nu8,Ff,au8,ou8,tu8,eu8,Dg0,be,cA,Zg8,zg0=0,Jg8,Qg8,Kg8,Ug8,Xg8,Yg8,qg8,Wg8,Gg8,zg8,Hg8,Fg8,zf,Mg8,Bg8,Og8,Rg8,Lg8,Dg8,Ig8,Ag8,Ng8,Eg8,Vg8,Pg8,Cg8,jg8,Z7,Sg8,Tg8,uK,wg8,$g8,Hg0,fe,mQ,kg8,_g8,fg8,vg8,Fg0,xg8,bg8,yg8,hg8,Sg0,mg8,ug8,gg8,pg8,cg8,PJ,p7,cJ,lg8,dg8,Mg0,l4,Bg0,ig8,sg8,rg8,ng8,ag8,og8,tg8,eg8,Zp8,Jp8,Qp8,Kp8,Up8,Xp8,Yp8,qp8,Wp8,Gp8,zp8,Og0,Hp8,Fp8,Rg0,Hf,kg0,Mp8,Bp8,Op8,Rp8,Lp8;var hg0=f(()=>{fq();w4();Z6();UQ();w9();yZ();AZ();Vc();N4();TZ();MK();TZ();TZ();TZ();TZ();$e=function(){var Z=I(function(A,V,N,E){for(N=N||{},E=A.length;E--;N[A[E]]=V);return N},"o"),J=[1,15],Q=[1,7],K=[1,13],U=[1,14],X=[1,19],Y=[1,16],q=[1,17],W=[1,18],G=[8,30],z=[8,10,21,28,29,30,31,39,43,46],H=[1,23],F=[1,24],M=[8,10,15,16,21,28,29,30,31,39,43,46],B=[8,10,15,16,21,27,28,29,30,31,39,43,46],O=[1,49],R={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:I(function(V,N,E,C,j,$,k){var w=$.length-1;switch(j){case 4:C.getLogger().debug("Rule: separator (NL) ");break;case 5:C.getLogger().debug("Rule: separator (Space) ");break;case 6:C.getLogger().debug("Rule: separator (EOF) ");break;case 7:C.getLogger().debug("Rule: hierarchy: ",$[w-1]),C.setHierarchy($[w-1]);break;case 8:C.getLogger().debug("Stop NL ");break;case 9:C.getLogger().debug("Stop EOF ");break;case 10:C.getLogger().debug("Stop NL2 ");break;case 11:C.getLogger().debug("Stop EOF2 ");break;case 12:C.getLogger().debug("Rule: statement: ",$[w]),typeof $[w].length==="number"?this.$=$[w]:this.$=[$[w]];break;case 13:C.getLogger().debug("Rule: statement #2: ",$[w-1]),this.$=[$[w-1]].concat($[w]);break;case 14:C.getLogger().debug("Rule: link: ",$[w],V),this.$={edgeTypeStr:$[w],label:""};break;case 15:C.getLogger().debug("Rule: LABEL link: ",$[w-3],$[w-1],$[w]),this.$={edgeTypeStr:$[w],label:$[w-1]};break;case 18:let P=parseInt($[w]),S=C.generateId();this.$={id:S,type:"space",label:"",width:P,children:[]};break;case 23:C.getLogger().debug("Rule: (nodeStatement link node) ",$[w-2],$[w-1],$[w]," typestr: ",$[w-1].edgeTypeStr);let T=C.edgeStrToEdgeData($[w-1].edgeTypeStr);this.$=[{id:$[w-2].id,label:$[w-2].label,type:$[w-2].type,directions:$[w-2].directions},{id:$[w-2].id+"-"+$[w].id,start:$[w-2].id,end:$[w].id,label:$[w-1].label,type:"edge",directions:$[w].directions,arrowTypeEnd:T,arrowTypeStart:"arrow_open"},{id:$[w].id,label:$[w].label,type:C.typeStr2Type($[w].typeStr),directions:$[w].directions}];break;case 24:C.getLogger().debug("Rule: nodeStatement (abc88 node size) ",$[w-1],$[w]),this.$={id:$[w-1].id,label:$[w-1].label,type:C.typeStr2Type($[w-1].typeStr),directions:$[w-1].directions,widthInColumns:parseInt($[w],10)};break;case 25:C.getLogger().debug("Rule: nodeStatement (node) ",$[w]),this.$={id:$[w].id,label:$[w].label,type:C.typeStr2Type($[w].typeStr),directions:$[w].directions,widthInColumns:1};break;case 26:C.getLogger().debug("APA123",this?this:"na"),C.getLogger().debug("COLUMNS: ",$[w]),this.$={type:"column-setting",columns:$[w]==="auto"?-1:parseInt($[w])};break;case 27:C.getLogger().debug("Rule: id-block statement : ",$[w-2],$[w-1]);let _=C.generateId();this.$={...$[w-2],type:"composite",children:$[w-1]};break;case 28:C.getLogger().debug("Rule: blockStatement : ",$[w-2],$[w-1],$[w]);let v=C.generateId();this.$={id:v,type:"composite",label:"",children:$[w-1]};break;case 29:C.getLogger().debug("Rule: node (NODE_ID separator): ",$[w]),this.$={id:$[w]};break;case 30:C.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",$[w-1],$[w]),this.$={id:$[w-1],label:$[w].label,typeStr:$[w].typeStr,directions:$[w].directions};break;case 31:C.getLogger().debug("Rule: dirList: ",$[w]),this.$=[$[w]];break;case 32:C.getLogger().debug("Rule: dirList: ",$[w-1],$[w]),this.$=[$[w-1]].concat($[w]);break;case 33:C.getLogger().debug("Rule: nodeShapeNLabel: ",$[w-2],$[w-1],$[w]),this.$={typeStr:$[w-2]+$[w],label:$[w-1]};break;case 34:C.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",$[w-3],$[w-2]," #3:",$[w-1],$[w]),this.$={typeStr:$[w-3]+$[w],label:$[w-2],directions:$[w-1]};break;case 35:case 36:this.$={type:"classDef",id:$[w-1].trim(),css:$[w].trim()};break;case 37:this.$={type:"applyClass",id:$[w-1].trim(),styleClass:$[w].trim()};break;case 38:this.$={type:"applyStyles",id:$[w-1].trim(),stylesStr:$[w].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:J,11:3,13:4,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:U,31:X,39:Y,43:q,46:W},{8:[1,20]},Z(G,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:J,21:Q,28:K,29:U,31:X,39:Y,43:q,46:W}),Z(z,[2,16],{14:22,15:H,16:F}),Z(z,[2,17]),Z(z,[2,18]),Z(z,[2,19]),Z(z,[2,20]),Z(z,[2,21]),Z(z,[2,22]),Z(M,[2,25],{27:[1,25]}),Z(z,[2,26]),{19:26,26:12,31:X},{10:J,11:27,13:4,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:U,31:X,39:Y,43:q,46:W},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},Z(B,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},Z(G,[2,13]),{26:35,31:X},{31:[2,14]},{17:[1,36]},Z(M,[2,24]),{10:J,11:37,13:4,14:22,15:H,16:F,19:5,20:6,21:Q,22:8,23:9,24:10,25:11,26:12,28:K,29:U,31:X,39:Y,43:q,46:W},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},Z(B,[2,30]),{18:[1,43]},{18:[1,44]},Z(M,[2,23]),{18:[1,45]},{30:[1,46]},Z(z,[2,28]),Z(z,[2,35]),Z(z,[2,36]),Z(z,[2,37]),Z(z,[2,38]),{36:[1,47]},{33:48,34:O},{15:[1,50]},Z(z,[2,27]),Z(B,[2,33]),{38:[1,51]},{33:52,34:O,38:[2,31]},{31:[2,15]},Z(B,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:I(function(V,N){if(N.recoverable)this.trace(V);else{var E=Error(V);throw E.hash=N,E}},"parseError"),parse:I(function(V){var N=this,E=[0],C=[],j=[null],$=[],k=this.table,w="",P=0,S=0,T=0,_=2,v=1,x=$.slice.call(arguments,1),b=Object.create(this.lexer),y={yy:{}};for(var u in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,u))y.yy[u]=this.yy[u];if(b.setInput(V,y.yy),y.yy.lexer=b,y.yy.parser=this,typeof b.yylloc>"u")b.yylloc={};var h=b.yylloc;$.push(h);var p=b.options&&b.options.ranges;if(typeof y.yy.parseError==="function")this.parseError=y.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function r(V0){E.length=E.length-2*V0,j.length=j.length-V0,$.length=$.length-V0}I(r,"popStack");function t(){var V0=C.pop()||b.lex()||v;if(typeof V0!=="number"){if(V0 instanceof Array)C=V0,V0=C.pop();V0=N.symbols_[V0]||V0}return V0}I(t,"lex");var d,X0,a,z0,J0,Q0,e={},n,Y0,o,M0;while(!0){if(a=E[E.length-1],this.defaultActions[a])z0=this.defaultActions[a];else{if(d===null||typeof d>"u")d=t();z0=k[a]&&k[a][d]}if(typeof z0>"u"||!z0.length||!z0[0]){var K0="";M0=[];for(n in k[a])if(this.terminals_[n]&&n>_)M0.push("'"+this.terminals_[n]+"'");if(b.showPosition)K0="Parse error on line "+(P+1)+`:
`+b.showPosition()+`
Expecting `+M0.join(", ")+", got '"+(this.terminals_[d]||d)+"'";else K0="Parse error on line "+(P+1)+": Unexpected "+(d==v?"end of input":"'"+(this.terminals_[d]||d)+"'");this.parseError(K0,{text:b.match,token:this.terminals_[d]||d,line:b.yylineno,loc:h,expected:M0})}if(z0[0]instanceof Array&&z0.length>1)throw Error("Parse Error: multiple actions possible at state: "+a+", token: "+d);switch(z0[0]){case 1:if(E.push(d),j.push(b.yytext),$.push(b.yylloc),E.push(z0[1]),d=null,!X0){if(S=b.yyleng,w=b.yytext,P=b.yylineno,h=b.yylloc,T>0)T--}else d=X0,X0=null;break;case 2:if(Y0=this.productions_[z0[1]][1],e.$=j[j.length-Y0],e._$={first_line:$[$.length-(Y0||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Y0||1)].first_column,last_column:$[$.length-1].last_column},p)e._$.range=[$[$.length-(Y0||1)].range[0],$[$.length-1].range[1]];if(Q0=this.performAction.apply(e,[w,S,P,y.yy,z0[1],j,$].concat(x)),typeof Q0<"u")return Q0;if(Y0)E=E.slice(0,-1*Y0*2),j=j.slice(0,-1*Y0),$=$.slice(0,-1*Y0);E.push(this.productions_[z0[1]][0]),j.push(e.$),$.push(e._$),o=k[E[E.length-2]][E[E.length-1]],E.push(o);break;case 3:return!0}}return!0},"parse")},L=function(){var A={EOF:1,parseError:I(function(N,E){if(this.yy.parser)this.yy.parser.parseError(N,E);else throw Error(N)},"parseError"),setInput:I(function(V,N){if(this.yy=N||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:I(function(){var V=this._input[0];this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V;var N=V.match(/(?:\r\n?|\n).*/g);if(N)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),V},"input"),unput:I(function(V){var N=V.length,E=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var C=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1)this.yylineno-=E.length-1;var j=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===C.length?this.yylloc.first_column:0)+C[C.length-E.length].length-E[0].length:this.yylloc.first_column-N},this.options.ranges)this.yylloc.range=[j[0],j[0]+this.yyleng-N];return this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(V){this.unput(this.match.slice(V))},"less"),pastInput:I(function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var V=this.match;if(V.length<20)V+=this._input.substr(0,20-V.length);return(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var V=this.pastInput(),N=Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:I(function(V,N){var E,C,j;if(this.options.backtrack_lexer){if(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)j.yylloc.range=this.yylloc.range.slice(0)}if(C=V[0].match(/(?:\r\n?|\n).*/g),C)this.yylineno+=C.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],E=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(E)return E;else if(this._backtrack){for(var $ in j)this[$]=j[$];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var V,N,E,C;if(!this._more)this.yytext="",this.match="";var j=this._currentRules();for(var $=0;$<j.length;$++)if(E=this._input.match(this.rules[j[$]]),E&&(!N||E[0].length>N[0].length)){if(N=E,C=$,this.options.backtrack_lexer)if(V=this.test_match(E,j[$]),V!==!1)return V;else if(this._backtrack){N=!1;continue}else return!1;else if(!this.options.flex)break}if(N){if(V=this.test_match(N,j[C]),V!==!1)return V;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var N=this.next();if(N)return N;else return this.lex()},"lex"),begin:I(function(N){this.conditionStack.push(N)},"begin"),popState:I(function(){var N=this.conditionStack.length-1;if(N>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:I(function(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(N){if(N=this.conditionStack.length-1-Math.abs(N||0),N>=0)return this.conditionStack[N];else return"INITIAL"},"topState"),pushState:I(function(N){this.begin(N)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(N,E,C,j){var $=j;switch(C){case 0:return N.getLogger().debug("Found block-beta"),10;break;case 1:return N.getLogger().debug("Found id-block"),29;break;case 2:return N.getLogger().debug("Found block"),10;break;case 3:N.getLogger().debug(".",E.yytext);break;case 4:N.getLogger().debug("_",E.yytext);break;case 5:return 5;case 6:return E.yytext=-1,28;break;case 7:return E.yytext=E.yytext.replace(/columns\s+/,""),N.getLogger().debug("COLUMNS (LEX)",E.yytext),28;break;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:N.getLogger().debug("LEX: POPPING STR:",E.yytext),this.popState();break;case 13:return N.getLogger().debug("LEX: STR end:",E.yytext),"STR";break;case 14:return E.yytext=E.yytext.replace(/space\:/,""),N.getLogger().debug("SPACE NUM (LEX)",E.yytext),21;break;case 15:return E.yytext="1",N.getLogger().debug("COLUMNS (LEX)",E.yytext),21;break;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;break;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 21:return this.popState(),this.pushState("CLASSDEFID"),40;break;case 22:return this.popState(),41;break;case 23:return this.pushState("CLASS"),43;break;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;break;case 25:return this.popState(),45;break;case 26:return this.pushState("STYLE_STMNT"),46;break;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;break;case 28:return this.popState(),48;break;case 29:return this.pushState("acc_title"),"acc_title";break;case 30:return this.popState(),"acc_title_value";break;case 31:return this.pushState("acc_descr"),"acc_descr";break;case 32:return this.popState(),"acc_descr_value";break;case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 38:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),N.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 40:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 41:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),N.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 43:return this.popState(),N.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 44:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 45:return this.popState(),N.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 46:return this.popState(),N.getLogger().debug("Lex: ("),"NODE_DEND";break;case 47:return this.popState(),N.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 48:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 49:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),N.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 51:return this.popState(),N.getLogger().debug("Lex: )"),"NODE_DEND";break;case 52:return this.popState(),N.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 53:return this.popState(),N.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 54:return N.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;break;case 55:return N.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;break;case 56:return N.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;break;case 57:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 58:return N.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;break;case 59:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 60:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 61:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 62:return N.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;break;case 63:return N.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;break;case 64:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 65:return this.pushState("NODE"),35;break;case 66:return this.pushState("NODE"),35;break;case 67:return this.pushState("NODE"),35;break;case 68:return this.pushState("NODE"),35;break;case 69:return this.pushState("NODE"),35;break;case 70:return this.pushState("NODE"),35;break;case 71:return this.pushState("NODE"),35;break;case 72:return N.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;break;case 73:return this.pushState("BLOCK_ARROW"),N.getLogger().debug("LEX ARR START"),37;break;case 74:return N.getLogger().debug("Lex: NODE_ID",E.yytext),31;break;case 75:return N.getLogger().debug("Lex: EOF",E.yytext),8;break;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:N.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:N.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return N.getLogger().debug("LEX: NODE_DESCR:",E.yytext),"NODE_DESCR";break;case 83:N.getLogger().debug("LEX POPPING"),this.popState();break;case 84:N.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (right): dir:",E.yytext),"DIR";break;case 86:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (left):",E.yytext),"DIR";break;case 87:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (x):",E.yytext),"DIR";break;case 88:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (y):",E.yytext),"DIR";break;case 89:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (up):",E.yytext),"DIR";break;case 90:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (down):",E.yytext),"DIR";break;case 91:return E.yytext="]>",N.getLogger().debug("Lex (ARROW_DIR end):",E.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 92:return N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 93:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 94:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 95:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 96:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 97:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 98:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 99:this.pushState("md_string");break;case 100:return N.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 101:return this.popState(),N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 102:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 103:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 104:return N.getLogger().debug("Lex: COLON",E.yytext),E.yytext=E.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return A}();R.lexer=L;function D(){this.yy={}}return I(D,"Parser"),D.prototype=R,R.Parser=D,new D}();$e.parser=$e;su8=$e,u5=new Map,xe=[],ke=new Map,nu8=E0(),Ff=new Map,au8=I((Z)=>U8.sanitizeText(Z,nu8),"sanitizeText"),ou8=I(function(Z,J=""){let Q=Ff.get(Z);if(!Q)Q={id:Z,styles:[],textStyles:[]},Ff.set(Z,Q);if(J!==void 0&&J!==null)J.split(Lg0).forEach((K)=>{let U=K.replace(/([^;]*);/,"$1").trim();if(RegExp(Wg0).exec(K)){let Y=U.replace(Gg0,ru8).replace(Wg0,Gg0);Q.textStyles.push(Y)}Q.styles.push(U)})},"addStyleClass"),tu8=I(function(Z,J=""){let Q=u5.get(Z);if(J!==void 0&&J!==null)Q.styles=J.split(Lg0)},"addStyle2Node"),eu8=I(function(Z,J){Z.split(",").forEach(function(Q){let K=u5.get(Q);if(K===void 0){let U=Q.trim();K={id:U,type:"na",children:[]},u5.set(U,K)}if(!K.classes)K.classes=[];K.classes.push(J)})},"setCssClass"),Dg0=I((Z,J)=>{let Q=Z.flat(),K=[],X=Q.find((Y)=>Y?.type==="column-setting")?.columns??-1;for(let Y of Q){if(typeof X==="number"&&X>0&&Y.type!=="column-setting"&&typeof Y.widthInColumns==="number"&&Y.widthInColumns>X)Z0.warn(`Block ${Y.id} width ${Y.widthInColumns} exceeds configured column width ${X}`);if(Y.label)Y.label=au8(Y.label);if(Y.type==="classDef"){ou8(Y.id,Y.css);continue}if(Y.type==="applyClass"){eu8(Y.id,Y?.styleClass??"");continue}if(Y.type==="applyStyles"){if(Y?.stylesStr)tu8(Y.id,Y?.stylesStr);continue}if(Y.type==="column-setting")J.columns=Y.columns??-1;else if(Y.type==="edge"){let q=(ke.get(Y.id)??0)+1;ke.set(Y.id,q),Y.id=q+"-"+Y.id,xe.push(Y)}else{if(!Y.label)if(Y.type==="composite")Y.label="";else Y.label=Y.id;let q=u5.get(Y.id);if(q===void 0)u5.set(Y.id,Y);else{if(Y.type!=="na")q.type=Y.type;if(Y.label!==Y.id)q.label=Y.label}if(Y.children)Dg0(Y.children,Y);if(Y.type==="space"){let W=Y.width??1;for(let G=0;G<W;G++){let z=pL(Y);z.id=z.id+"-"+G,u5.set(z.id,z),K.push(z)}}else if(q===void 0)K.push(Y)}}J.children=K},"populateBlockDatabase"),be=[],cA={id:"root",type:"composite",children:[],columns:-1},Zg8=I(()=>{Z0.debug("Clear called"),bZ(),cA={id:"root",type:"composite",children:[],columns:-1},u5=new Map([["root",cA]]),be=[],Ff=new Map,xe=[],ke=new Map},"clear");I(Ig0,"typeStr2Type");I(Ag0,"edgeTypeStr2Type");I(Ng0,"edgeStrToEdgeData");Jg8=I(()=>{return zg0++,"id-"+Math.random().toString(36).substr(2,12)+"-"+zg0},"generateId"),Qg8=I((Z)=>{cA.children=Z,Dg0(Z,cA),be=cA.children},"setHierarchy"),Kg8=I((Z)=>{let J=u5.get(Z);if(!J)return-1;if(J.columns)return J.columns;if(!J.children)return-1;return J.children.length},"getColumns"),Ug8=I(()=>{return[...u5.values()]},"getBlocksFlat"),Xg8=I(()=>{return be||[]},"getBlocks"),Yg8=I(()=>{return xe},"getEdges"),qg8=I((Z)=>{return u5.get(Z)},"getBlock"),Wg8=I((Z)=>{u5.set(Z.id,Z)},"setBlock"),Gg8=I(()=>Z0,"getLogger"),zg8=I(function(){return Ff},"getClasses"),Hg8={getConfig:I(()=>CZ().block,"getConfig"),typeStr2Type:Ig0,edgeTypeStr2Type:Ag0,edgeStrToEdgeData:Ng0,getLogger:Gg8,getBlocksFlat:Ug8,getBlocks:Xg8,getEdges:Yg8,setHierarchy:Qg8,getBlock:qg8,setBlock:Wg8,getColumns:Kg8,getClasses:zg8,clear:Zg8,generateId:Jg8},Fg8=Hg8,zf=I((Z,J)=>{let Q=GG,K=Q(Z,"r"),U=Q(Z,"g"),X=Q(Z,"b");return dQ(K,U,X,J)},"fade"),Mg8=I((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span,p {
    color: ${Z.titleColor};
  }



  .label text,span,p {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${zf(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${zf(Z.mainBkg,0.5)};
    fill: ${zf(Z.clusterBkg,0.5)};
    stroke: ${zf(Z.clusterBorder,0.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span,p {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
  ${sU()}
`,"getStyles"),Bg8=Mg8,Og8=I((Z,J,Q,K)=>{J.forEach((U)=>{Cg8[U](Z,Q,K)})},"insertMarkers"),Rg8=I((Z,J,Q)=>{Z0.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Lg8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Dg8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Ig8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Ag8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Ng8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Eg8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Vg8=I((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Pg8=I((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Cg8={extension:Rg8,composition:Lg8,aggregation:Dg8,dependency:Ig8,lollipop:Ag8,point:Ng8,circle:Eg8,cross:Vg8,barb:Pg8},jg8=Og8,Z7=E0()?.block?.padding??8;I(Eg0,"calculateBlockPosition");Sg8=I((Z)=>{let J=0,Q=0;for(let K of Z.children){let{width:U,height:X,x:Y,y:q}=K.size??{width:0,height:0,x:0,y:0};if(Z0.debug("getMaxChildSize abc95 child:",K.id,"width:",U,"height:",X,"x:",Y,"y:",q,K.type),K.type==="space")continue;if(U>J)J=U/(Z.widthInColumns??1);if(X>Q)Q=X}return{width:J,height:Q}},"getMaxChildSize");I(Mf,"setBlockSizes");I(ye,"layoutBlocks");I(he,"findBounds");I(Vg0,"layout");I(_e,"applyStyle");I(Pg0,"addHtmlLabel");Tg8=I(async(Z,J,Q,K)=>{let U=Z||"";if(typeof U==="object")U=U[0];let X=E0();if(G9(X.flowchart.htmlLabels)){U=U.replace(/\\n|\n/g,"<br />"),Z0.debug("vertexText"+U);let Y=await mC(c6(U)),q={isNode:K,label:Y,labelStyle:J.replace("fill:","color:")};return Pg0(q,X)}else{let Y=document.createElementNS("http://www.w3.org/2000/svg","text");Y.setAttribute("style",J.replace("color:","fill:"));let q=[];if(typeof U==="string")q=U.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(U))q=U;else q=[];for(let W of q){let G=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(G.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),G.setAttribute("dy","1em"),G.setAttribute("x","0"),Q)G.setAttribute("class","title-row");else G.setAttribute("class","row");G.textContent=W.trim(),Y.appendChild(G)}return Y}},"createLabel"),uK=Tg8,wg8=I((Z,J,Q,K,U)=>{if(J.arrowTypeStart)Hg0(Z,"start",J.arrowTypeStart,Q,K,U);if(J.arrowTypeEnd)Hg0(Z,"end",J.arrowTypeEnd,Q,K,U)},"addEdgeMarkers"),$g8={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Hg0=I((Z,J,Q,K,U,X)=>{let Y=$g8[Q];if(!Y){Z0.warn(`Unknown arrow type: ${Q}`);return}let q=J==="start"?"Start":"End";Z.attr(`marker-${J}`,`url(${K}#${U}_${X}-${Y}${q})`)},"addEdgeMarker"),fe={},mQ={},kg8=I(async(Z,J)=>{let Q=E0(),K=G9(Q.flowchart.htmlLabels),U=J.labelType==="markdown"?KQ(Z,J.label,{style:J.labelStyle,useHtmlLabels:K,addSvgBackground:!0},Q):await uK(J.label,J.labelStyle),X=Z.insert("g").attr("class","edgeLabel"),Y=X.insert("g").attr("class","label");Y.node().appendChild(U);let q=U.getBBox();if(K){let G=U.children[0],z=n0(U);q=G.getBoundingClientRect(),z.attr("width",q.width),z.attr("height",q.height)}Y.attr("transform","translate("+-q.width/2+", "+-q.height/2+")"),fe[J.id]=X,J.width=q.width,J.height=q.height;let W;if(J.startLabelLeft){let G=await uK(J.startLabelLeft,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!mQ[J.id])mQ[J.id]={};mQ[J.id].startLeft=z,pA(W,J.startLabelLeft)}if(J.startLabelRight){let G=await uK(J.startLabelRight,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=z.node().appendChild(G),H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!mQ[J.id])mQ[J.id]={};mQ[J.id].startRight=z,pA(W,J.startLabelRight)}if(J.endLabelLeft){let G=await uK(J.endLabelLeft,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!mQ[J.id])mQ[J.id]={};mQ[J.id].endLeft=z,pA(W,J.endLabelLeft)}if(J.endLabelRight){let G=await uK(J.endLabelRight,J.labelStyle),z=Z.insert("g").attr("class","edgeTerminals"),H=z.insert("g").attr("class","inner");W=H.node().appendChild(G);let F=G.getBBox();if(H.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),z.node().appendChild(G),!mQ[J.id])mQ[J.id]={};mQ[J.id].endRight=z,pA(W,J.endLabelRight)}return U},"insertEdgeLabel");I(pA,"setTerminalWidth");_g8=I((Z,J)=>{Z0.debug("Moving label abc88 ",Z.id,Z.label,fe[Z.id],J);let Q=J.updatedPath?J.updatedPath:J.originalPath,K=E0(),{subGraphTitleTotalMargin:U}=XY(K);if(Z.label){let X=fe[Z.id],Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcLabelPosition(Q);if(Z0.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",W.x,",",W.y,") abc88"),J.updatedPath)Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q+U/2})`)}if(Z.startLabelLeft){let X=mQ[Z.id].startLeft,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){let X=mQ[Z.id].startRight,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){let X=mQ[Z.id].endLeft,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){let X=mQ[Z.id].endRight,Y=Z.x,q=Z.y;if(Q){let W=ZZ.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=W.x,q=W.y}X.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),fg8=I((Z,J)=>{let{x:Q,y:K}=Z,U=Math.abs(J.x-Q),X=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;if(U>=Y||X>=q)return!0;return!1},"outsideNode"),vg8=I((Z,J,Q)=>{Z0.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);let{x:K,y:U}=Z,X=Math.abs(K-Q.x),Y=Z.width/2,q=Q.x<J.x?Y-X:Y+X,W=Z.height/2,G=Math.abs(J.y-Q.y),z=Math.abs(J.x-Q.x);if(Math.abs(U-J.y)*Y>Math.abs(K-J.x)*W){let H=Q.y<J.y?J.y-W-U:U-W-J.y;q=z*H/G;let F={x:Q.x<J.x?Q.x+q:Q.x-z+q,y:Q.y<J.y?Q.y+G-H:Q.y-G+H};if(q===0)F.x=J.x,F.y=J.y;if(z===0)F.x=J.x;if(G===0)F.y=J.y;return Z0.debug(`abc89 topp/bott calc, Q ${G}, q ${H}, R ${z}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let H=G*q/z,F=Q.x<J.x?Q.x+z-q:Q.x-z+q,M=Q.y<J.y?Q.y+H:Q.y-H;if(Z0.debug(`sides calc abc89, Q ${G}, q ${H}, R ${z}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(z===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),Fg0=I((Z,J)=>{Z0.debug("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],U=!1;return Z.forEach((X)=>{if(!fg8(J,X)&&!U){let Y=vg8(J,K,X),q=!1;if(Q.forEach((W)=>{q=q||W.x===Y.x&&W.y===Y.y}),!Q.some((W)=>W.x===Y.x&&W.y===Y.y))Q.push(Y);U=!0}else if(K=X,!U)Q.push(X)}),Q},"cutPathAtIntersect"),xg8=I(function(Z,J,Q,K,U,X,Y){let q=Q.points;Z0.debug("abc88 InsertEdge: edge=",Q,"e=",J);let W=!1,G=X.node(J.v);var z=X.node(J.w);if(z?.intersect&&G?.intersect)q=q.slice(1,Q.points.length-1),q.unshift(G.intersect(q[0])),q.push(z.intersect(q[q.length-1]));if(Q.toCluster)Z0.debug("to cluster abc88",K[Q.toCluster]),q=Fg0(Q.points,K[Q.toCluster].node),W=!0;if(Q.fromCluster)Z0.debug("from cluster abc88",K[Q.fromCluster]),q=Fg0(q.reverse(),K[Q.fromCluster].node).reverse(),W=!0;let H=q.filter((V)=>!Number.isNaN(V.y)),F=YK;if(Q.curve&&(U==="graph"||U==="flowchart"))F=Q.curve;let{x:M,y:B}=tP(Q),O=F5().x(M).y(B).curve(F),R;switch(Q.thickness){case"normal":R="edge-thickness-normal";break;case"thick":R="edge-thickness-thick";break;case"invisible":R="edge-thickness-thick";break;default:R=""}switch(Q.pattern){case"solid":R+=" edge-pattern-solid";break;case"dotted":R+=" edge-pattern-dotted";break;case"dashed":R+=" edge-pattern-dashed";break}let L=Z.append("path").attr("d",O(H)).attr("id",Q.id).attr("class"," "+R+(Q.classes?" "+Q.classes:"")).attr("style",Q.style),D="";if(E0().flowchart.arrowMarkerAbsolute||E0().state.arrowMarkerAbsolute)D=RG(!0);wg8(L,Q,D,Y,U);let A={};if(W)A.updatedPath=q;return A.originalPath=Q.points,A},"insertEdge"),bg8=I((Z)=>{let J=new Set;for(let Q of Z)switch(Q){case"x":J.add("right"),J.add("left");break;case"y":J.add("up"),J.add("down");break;default:J.add(Q);break}return J},"expandAndDeduplicateDirections"),yg8=I((Z,J,Q)=>{let K=bg8(Z),U=2,X=J.height+2*Q.padding,Y=X/2,q=J.width+2*Y+Q.padding,W=Q.padding/2;if(K.has("right")&&K.has("left")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:Y,y:0},{x:q/2,y:2*W},{x:q-Y,y:0},{x:q,y:0},{x:q,y:-X/3},{x:q+2*W,y:-X/2},{x:q,y:-2*X/3},{x:q,y:-X},{x:q-Y,y:-X},{x:q/2,y:-X-2*W},{x:Y,y:-X},{x:0,y:-X},{x:0,y:-2*X/3},{x:-2*W,y:-X/2},{x:0,y:-X/3}];if(K.has("right")&&K.has("left")&&K.has("up"))return[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-X/2},{x:q-Y,y:-X},{x:Y,y:-X},{x:0,y:-X/2}];if(K.has("right")&&K.has("left")&&K.has("down"))return[{x:0,y:0},{x:Y,y:-X},{x:q-Y,y:-X},{x:q,y:0}];if(K.has("right")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:q,y:-Y},{x:q,y:-X+Y},{x:0,y:-X}];if(K.has("left")&&K.has("up")&&K.has("down"))return[{x:q,y:0},{x:0,y:-Y},{x:0,y:-X+Y},{x:q,y:-X}];if(K.has("right")&&K.has("left"))return[{x:Y,y:0},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:0},{x:q,y:-X/2},{x:q-Y,y:-X},{x:q-Y,y:-X+W},{x:Y,y:-X+W},{x:Y,y:-X},{x:0,y:-X/2}];if(K.has("up")&&K.has("down"))return[{x:q/2,y:0},{x:0,y:-W},{x:Y,y:-W},{x:Y,y:-X+W},{x:0,y:-X+W},{x:q/2,y:-X},{x:q,y:-X+W},{x:q-Y,y:-X+W},{x:q-Y,y:-W},{x:q,y:-W}];if(K.has("right")&&K.has("up"))return[{x:0,y:0},{x:q,y:-Y},{x:0,y:-X}];if(K.has("right")&&K.has("down"))return[{x:0,y:0},{x:q,y:0},{x:0,y:-X}];if(K.has("left")&&K.has("up"))return[{x:q,y:0},{x:0,y:-Y},{x:q,y:-X}];if(K.has("left")&&K.has("down"))return[{x:q,y:0},{x:0,y:0},{x:q,y:-X}];if(K.has("right"))return[{x:Y,y:-W},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:0},{x:q,y:-X/2},{x:q-Y,y:-X},{x:q-Y,y:-X+W},{x:Y,y:-X+W},{x:Y,y:-X+W}];if(K.has("left"))return[{x:Y,y:0},{x:Y,y:-W},{x:q-Y,y:-W},{x:q-Y,y:-X+W},{x:Y,y:-X+W},{x:Y,y:-X},{x:0,y:-X/2}];if(K.has("up"))return[{x:Y,y:-W},{x:Y,y:-X+W},{x:0,y:-X+W},{x:q/2,y:-X},{x:q,y:-X+W},{x:q-Y,y:-X+W},{x:q-Y,y:-W}];if(K.has("down"))return[{x:q/2,y:0},{x:0,y:-W},{x:Y,y:-W},{x:Y,y:-X+W},{x:q-Y,y:-X+W},{x:q-Y,y:-W},{x:q,y:-W}];return[{x:0,y:0}]},"getArrowPoints");I(Cg0,"intersectNode");hg8=Cg0;I(jg0,"intersectEllipse");Sg0=jg0;I(Tg0,"intersectCircle");mg8=Tg0;I(wg0,"intersectLine");I(ve,"sameSign");ug8=wg0,gg8=$g0;I($g0,"intersectPolygon");pg8=I((Z,J)=>{var{x:Q,y:K}=Z,U=J.x-Q,X=J.y-K,Y=Z.width/2,q=Z.height/2,W,G;if(Math.abs(X)*Y>Math.abs(U)*q){if(X<0)q=-q;W=X===0?0:q*U/X,G=q}else{if(U<0)Y=-Y;W=Y,G=U===0?0:Y*X/U}return{x:Q+W,y:K+G}},"intersectRect"),cg8=pg8,PJ={node:hg8,circle:mg8,ellipse:Sg0,polygon:gg8,rect:cg8},p7=I(async(Z,J,Q,K)=>{let U=E0(),X,Y=J.useHtmlLabels||G9(U.flowchart.htmlLabels);if(!Q)X="node default";else X=Q;let q=Z.insert("g").attr("class",X).attr("id",J.domId||J.id),W=q.insert("g").attr("class","label").attr("style",J.labelStyle),G;if(J.labelText===void 0)G="";else G=typeof J.labelText==="string"?J.labelText:J.labelText[0];let z=W.node(),H;if(J.labelType==="markdown")H=KQ(W,VZ(c6(G),U),{useHtmlLabels:Y,width:J.width||U.flowchart.wrappingWidth,classes:"markdown-node-label"},U);else H=z.appendChild(await uK(VZ(c6(G),U),J.labelStyle,!1,K));let F=H.getBBox(),M=J.padding/2;if(G9(U.flowchart.htmlLabels)){let B=H.children[0],O=n0(H),R=B.getElementsByTagName("img");if(R){let L=G.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...R].map((D)=>new Promise((A)=>{function V(){if(D.style.display="flex",D.style.flexDirection="column",L){let N=U.fontSize?U.fontSize:window.getComputedStyle(document.body).fontSize,E=5,C=parseInt(N,10)*5+"px";D.style.minWidth=C,D.style.maxWidth=C}else D.style.width="100%";A(D)}I(V,"setupImage"),setTimeout(()=>{if(D.complete)V()}),D.addEventListener("error",V),D.addEventListener("load",V)})))}F=B.getBoundingClientRect(),O.attr("width",F.width),O.attr("height",F.height)}if(Y)W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");else W.attr("transform","translate(0, "+-F.height/2+")");if(J.centerLabel)W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");return W.insert("rect",":first-child"),{shapeSvg:q,bbox:F,halfPadding:M,label:W}},"labelHelper"),cJ=I((Z,J)=>{let Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds");I(g5,"insertPolygonShape");lg8=I(async(Z,J)=>{if(!(J.useHtmlLabels||E0().flowchart.htmlLabels))J.centerLabel=!0;let{shapeSvg:K,bbox:U,halfPadding:X}=await p7(Z,J,"node "+J.classes,!0);Z0.info("Classes = ",J.classes);let Y=K.insert("rect",":first-child");return Y.attr("rx",J.rx).attr("ry",J.ry).attr("x",-U.width/2-X).attr("y",-U.height/2-X).attr("width",U.width+J.padding).attr("height",U.height+J.padding),cJ(J,Y),J.intersect=function(q){return PJ.rect(J,q)},K},"note"),dg8=lg8,Mg0=I((Z)=>{if(Z)return" "+Z;return""},"formatClass"),l4=I((Z,J)=>{return`${J?J:"node default"}${Mg0(Z.classes)} ${Mg0(Z.class)}`},"getClassesFromNode"),Bg0=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=U+X,q=[{x:Y/2,y:0},{x:Y,y:-Y/2},{x:Y/2,y:-Y},{x:0,y:-Y/2}];Z0.info("Question main (Circle)");let W=g5(Q,Y,Y,q);return W.attr("style",J.style),cJ(J,W),J.intersect=function(G){return Z0.warn("Intersect called"),PJ.polygon(J,q,G)},Q},"question"),ig8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=28,U=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return Q.insert("polygon",":first-child").attr("points",U.map(function(Y){return Y.x+","+Y.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),J.width=28,J.height=28,J.intersect=function(Y){return PJ.circle(J,14,Y)},Q},"choice"),sg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=4,X=K.height+J.padding,Y=X/4,q=K.width+2*Y+J.padding,W=[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-X/2},{x:q-Y,y:-X},{x:Y,y:-X},{x:0,y:-X/2}],G=g5(Q,q,X,W);return G.attr("style",J.style),cJ(J,G),J.intersect=function(z){return PJ.polygon(J,W,z)},Q},"hexagon"),rg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,void 0,!0),U=2,X=K.height+2*J.padding,Y=X/2,q=K.width+2*Y+J.padding,W=yg8(J.directions,K,J),G=g5(Q,q,X,W);return G.attr("style",J.style),cJ(J,G),J.intersect=function(z){return PJ.polygon(J,W,z)},Q},"block_arrow"),ng8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:-X/2,y:0},{x:U,y:0},{x:U,y:-X},{x:-X/2,y:-X},{x:0,y:-X/2}];return g5(Q,U,X,Y).attr("style",J.style),J.width=U+X,J.height=X,J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"rect_left_inv_arrow"),ag8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:-2*X/6,y:0},{x:U-X/6,y:0},{x:U+2*X/6,y:-X},{x:X/6,y:-X}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"lean_right"),og8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:2*X/6,y:0},{x:U+X/6,y:0},{x:U-2*X/6,y:-X},{x:-X/6,y:-X}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"lean_left"),tg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:-2*X/6,y:0},{x:U+2*X/6,y:0},{x:U-X/6,y:-X},{x:X/6,y:-X}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"trapezoid"),eg8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:X/6,y:0},{x:U-X/6,y:0},{x:U+2*X/6,y:-X},{x:-2*X/6,y:-X}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"inv_trapezoid"),Zp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:0,y:0},{x:U+X/2,y:0},{x:U,y:-X/2},{x:U+X/2,y:-X},{x:0,y:-X}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"rect_right_inv_arrow"),Jp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=U/2,Y=X/(2.5+U/50),q=K.height+Y+J.padding,W="M 0,"+Y+" a "+X+","+Y+" 0,0,0 "+U+" 0 a "+X+","+Y+" 0,0,0 "+-U+" 0 l 0,"+q+" a "+X+","+Y+" 0,0,0 "+U+" 0 l 0,"+-q,G=Q.attr("label-offset-y",Y).insert("path",":first-child").attr("style",J.style).attr("d",W).attr("transform","translate("+-U/2+","+-(q/2+Y)+")");return cJ(J,G),J.intersect=function(z){let H=PJ.rect(J,z),F=H.x-J.x;if(X!=0&&(Math.abs(F)<J.width/2||Math.abs(F)==J.width/2&&Math.abs(H.y-J.y)>J.height/2-Y)){let M=Y*Y*(1-F*F/(X*X));if(M!=0)M=Math.sqrt(M);if(M=Y-M,z.y-J.y>0)M=-M;H.y+=M}return H},Q},"cylinder"),Qp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:U}=await p7(Z,J,"node "+J.classes+" "+J.class,!0),X=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,W=J.positioned?-Y/2:-K.width/2-U,G=J.positioned?-q/2:-K.height/2-U;if(X.attr("class","basic label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),J.props){let z=new Set(Object.keys(J.props));if(J.props.borders)Bf(X,J.props.borders,Y,q),z.delete("borders");z.forEach((H)=>{Z0.warn(`Unknown node property ${H}`)})}return cJ(J,X),J.intersect=function(z){return PJ.rect(J,z)},Q},"rect"),Kp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:U}=await p7(Z,J,"node "+J.classes,!0),X=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,W=J.positioned?-Y/2:-K.width/2-U,G=J.positioned?-q/2:-K.height/2-U;if(X.attr("class","basic cluster composite label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",W).attr("y",G).attr("width",Y).attr("height",q),J.props){let z=new Set(Object.keys(J.props));if(J.props.borders)Bf(X,J.props.borders,Y,q),z.delete("borders");z.forEach((H)=>{Z0.warn(`Unknown node property ${H}`)})}return cJ(J,X),J.intersect=function(z){return PJ.rect(J,z)},Q},"composite"),Up8=I(async(Z,J)=>{let{shapeSvg:Q}=await p7(Z,J,"label",!0);Z0.trace("Classes = ",J.class);let K=Q.insert("rect",":first-child"),U=0,X=0;if(K.attr("width",U).attr("height",X),Q.attr("class","label edgeLabel"),J.props){let Y=new Set(Object.keys(J.props));if(J.props.borders)Bf(K,J.props.borders,U,X),Y.delete("borders");Y.forEach((q)=>{Z0.warn(`Unknown node property ${q}`)})}return cJ(J,K),J.intersect=function(Y){return PJ.rect(J,Y)},Q},"labelRect");I(Bf,"applyNodePropertyBorders");Xp8=I(async(Z,J)=>{let Q;if(!J.classes)Q="node default";else Q="node "+J.classes;let K=Z.insert("g").attr("class",Q).attr("id",J.domId||J.id),U=K.insert("rect",":first-child"),X=K.insert("line"),Y=K.insert("g").attr("class","label"),q=J.labelText.flat?J.labelText.flat():J.labelText,W="";if(typeof q==="object")W=q[0];else W=q;Z0.info("Label text abc79",W,q,typeof q==="object");let G=Y.node().appendChild(await uK(W,J.labelStyle,!0,!0)),z={width:0,height:0};if(G9(E0().flowchart.htmlLabels)){let O=G.children[0],R=n0(G);z=O.getBoundingClientRect(),R.attr("width",z.width),R.attr("height",z.height)}Z0.info("Text 2",q);let H=q.slice(1,q.length),F=G.getBBox(),M=Y.node().appendChild(await uK(H.join?H.join("<br/>"):H,J.labelStyle,!0,!0));if(G9(E0().flowchart.htmlLabels)){let O=M.children[0],R=n0(M);z=O.getBoundingClientRect(),R.attr("width",z.width),R.attr("height",z.height)}let B=J.padding/2;return n0(M).attr("transform","translate( "+(z.width>F.width?0:(F.width-z.width)/2)+", "+(F.height+B+5)+")"),n0(G).attr("transform","translate( "+(z.width<F.width?0:-(F.width-z.width)/2)+", 0)"),z=Y.node().getBBox(),Y.attr("transform","translate("+-z.width/2+", "+(-z.height/2-B+3)+")"),U.attr("class","outer title-state").attr("x",-z.width/2-B).attr("y",-z.height/2-B).attr("width",z.width+J.padding).attr("height",z.height+J.padding),X.attr("class","divider").attr("x1",-z.width/2-B).attr("x2",z.width/2+B).attr("y1",-z.height/2-B+F.height+B).attr("y2",-z.height/2-B+F.height+B),cJ(J,U),J.intersect=function(O){return PJ.rect(J,O)},K},"rectWithTitle"),Yp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.height+J.padding,X=K.width+U/4+J.padding,Y=Q.insert("rect",":first-child").attr("style",J.style).attr("rx",U/2).attr("ry",U/2).attr("x",-X/2).attr("y",-U/2).attr("width",X).attr("height",U);return cJ(J,Y),J.intersect=function(q){return PJ.rect(J,q)},Q},"stadium"),qp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:U}=await p7(Z,J,l4(J,void 0),!0),X=Q.insert("circle",":first-child");return X.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+U).attr("width",K.width+J.padding).attr("height",K.height+J.padding),Z0.info("Circle main"),cJ(J,X),J.intersect=function(Y){return Z0.info("Circle intersect",J,K.width/2+U,Y),PJ.circle(J,K.width/2+U,Y)},Q},"circle"),Wp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K,halfPadding:U}=await p7(Z,J,l4(J,void 0),!0),X=5,Y=Q.insert("g",":first-child"),q=Y.insert("circle"),W=Y.insert("circle");return Y.attr("class",J.class),q.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+U+5).attr("width",K.width+J.padding+10).attr("height",K.height+J.padding+10),W.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+U).attr("width",K.width+J.padding).attr("height",K.height+J.padding),Z0.info("DoubleCircle main"),cJ(J,q),J.intersect=function(G){return Z0.info("DoubleCircle intersect",J,K.width/2+U+5,G),PJ.circle(J,K.width/2+U+5,G)},Q},"doublecircle"),Gp8=I(async(Z,J)=>{let{shapeSvg:Q,bbox:K}=await p7(Z,J,l4(J,void 0),!0),U=K.width+J.padding,X=K.height+J.padding,Y=[{x:0,y:0},{x:U,y:0},{x:U,y:-X},{x:0,y:-X},{x:0,y:0},{x:-8,y:0},{x:U+8,y:0},{x:U+8,y:-X},{x:-8,y:-X},{x:-8,y:0}],q=g5(Q,U,X,Y);return q.attr("style",J.style),cJ(J,q),J.intersect=function(W){return PJ.polygon(J,Y,W)},Q},"subroutine"),zp8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child");return K.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),cJ(J,K),J.intersect=function(U){return PJ.circle(J,7,U)},Q},"start"),Og0=I((Z,J,Q)=>{let K=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),U=70,X=10;if(Q==="LR")U=10,X=70;let Y=K.append("rect").attr("x",-1*U/2).attr("y",-1*X/2).attr("width",U).attr("height",X).attr("class","fork-join");return cJ(J,Y),J.height=J.height+J.padding/2,J.width=J.width+J.padding/2,J.intersect=function(q){return PJ.rect(J,q)},K},"forkJoin"),Hp8=I((Z,J)=>{let Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child"),U=Q.insert("circle",":first-child");return U.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),K.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),cJ(J,U),J.intersect=function(X){return PJ.circle(J,7,X)},Q},"end"),Fp8=I(async(Z,J)=>{let Q=J.padding/2,K=4,U=8,X;if(!J.classes)X="node default";else X="node "+J.classes;let Y=Z.insert("g").attr("class",X).attr("id",J.domId||J.id),q=Y.insert("rect",":first-child"),W=Y.insert("line"),G=Y.insert("line"),z=0,H=4,F=Y.insert("g").attr("class","label"),M=0,B=J.classData.annotations?.[0],O=J.classData.annotations[0]?""+J.classData.annotations[0]+"":"",R=F.node().appendChild(await uK(O,J.labelStyle,!0,!0)),L=R.getBBox();if(G9(E0().flowchart.htmlLabels)){let j=R.children[0],$=n0(R);L=j.getBoundingClientRect(),$.attr("width",L.width),$.attr("height",L.height)}if(J.classData.annotations[0])H+=L.height+4,z+=L.width;let D=J.classData.label;if(J.classData.type!==void 0&&J.classData.type!=="")if(E0().flowchart.htmlLabels)D+="&lt;"+J.classData.type+"&gt;";else D+="<"+J.classData.type+">";let A=F.node().appendChild(await uK(D,J.labelStyle,!0,!0));n0(A).attr("class","classTitle");let V=A.getBBox();if(G9(E0().flowchart.htmlLabels)){let j=A.children[0],$=n0(A);V=j.getBoundingClientRect(),$.attr("width",V.width),$.attr("height",V.height)}if(H+=V.height+4,V.width>z)z=V.width;let N=[];J.classData.members.forEach(async(j)=>{let $=j.getDisplayDetails(),k=$.displayText;if(E0().flowchart.htmlLabels)k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;");let w=F.node().appendChild(await uK(k,$.cssStyle?$.cssStyle:J.labelStyle,!0,!0)),P=w.getBBox();if(G9(E0().flowchart.htmlLabels)){let S=w.children[0],T=n0(w);P=S.getBoundingClientRect(),T.attr("width",P.width),T.attr("height",P.height)}if(P.width>z)z=P.width;H+=P.height+4,N.push(w)}),H+=8;let E=[];if(J.classData.methods.forEach(async(j)=>{let $=j.getDisplayDetails(),k=$.displayText;if(E0().flowchart.htmlLabels)k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;");let w=F.node().appendChild(await uK(k,$.cssStyle?$.cssStyle:J.labelStyle,!0,!0)),P=w.getBBox();if(G9(E0().flowchart.htmlLabels)){let S=w.children[0],T=n0(w);P=S.getBoundingClientRect(),T.attr("width",P.width),T.attr("height",P.height)}if(P.width>z)z=P.width;H+=P.height+4,E.push(w)}),H+=8,B){let j=(z-L.width)/2;n0(R).attr("transform","translate( "+(-1*z/2+j)+", "+-1*H/2+")"),M=L.height+4}let C=(z-V.width)/2;return n0(A).attr("transform","translate( "+(-1*z/2+C)+", "+(-1*H/2+M)+")"),M+=V.height+4,W.attr("class","divider").attr("x1",-z/2-Q).attr("x2",z/2+Q).attr("y1",-H/2-Q+8+M).attr("y2",-H/2-Q+8+M),M+=8,N.forEach((j)=>{n0(j).attr("transform","translate( "+-z/2+", "+(-1*H/2+M+4)+")");let $=j?.getBBox();M+=($?.height??0)+4}),M+=8,G.attr("class","divider").attr("x1",-z/2-Q).attr("x2",z/2+Q).attr("y1",-H/2-Q+8+M).attr("y2",-H/2-Q+8+M),M+=8,E.forEach((j)=>{n0(j).attr("transform","translate( "+-z/2+", "+(-1*H/2+M)+")");let $=j?.getBBox();M+=($?.height??0)+4}),q.attr("style",J.style).attr("class","outer title-state").attr("x",-z/2-Q).attr("y",-(H/2)-Q).attr("width",z+J.padding).attr("height",H+J.padding),cJ(J,q),J.intersect=function(j){return PJ.rect(J,j)},Y},"class_box"),Rg0={rhombus:Bg0,composite:Kp8,question:Bg0,rect:Qp8,labelRect:Up8,rectWithTitle:Xp8,choice:ig8,circle:qp8,doublecircle:Wp8,stadium:Yp8,hexagon:sg8,block_arrow:rg8,rect_left_inv_arrow:ng8,lean_right:ag8,lean_left:og8,trapezoid:tg8,inv_trapezoid:eg8,rect_right_inv_arrow:Zp8,cylinder:Jp8,start:zp8,end:Hp8,note:dg8,subroutine:Gp8,fork:Og0,join:Og0,class_box:Fp8},Hf={},kg0=I(async(Z,J,Q)=>{let K,U;if(J.link){let X;if(E0().securityLevel==="sandbox")X="_top";else if(J.linkTarget)X=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",X),U=await Rg0[J.shape](K,J,Q)}else U=await Rg0[J.shape](Z,J,Q),K=U;if(J.tooltip)U.attr("title",J.tooltip);if(J.class)U.attr("class","node default "+J.class);if(Hf[J.id]=K,J.haveCallback)Hf[J.id].attr("class",Hf[J.id].attr("class")+" clickable");return K},"insertNode"),Mp8=I((Z)=>{let J=Hf[Z.id];Z0.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");let Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode");I(me,"getNodeFromBlock");I(_g0,"calculateBlockSize");I(fg0,"insertBlockPositioned");I(Of,"performOperations");I(vg0,"calculateBlockSizes");I(xg0,"insertBlocks");I(bg0,"insertEdges");Bp8=I(function(Z,J){return J.db.getClasses()},"getClasses"),Op8=I(async function(Z,J,Q,K){let{securityLevel:U,block:X}=CZ(),Y=K.db,q;if(U==="sandbox")q=n0("#i"+J);let W=U==="sandbox"?n0(q.nodes()[0].contentDocument.body):n0("body"),G=U==="sandbox"?W.select(`[id="${J}"]`):n0(`[id="${J}"]`);jg8(G,["point","circle","cross"],K.type,J);let H=Y.getBlocks(),F=Y.getBlocksFlat(),M=Y.getEdges(),B=G.insert("g").attr("class","block");await vg0(B,H,Y);let O=Vg0(Y);if(await xg0(B,H,Y),await bg0(B,M,F,Y,J),O){let R=O,L=Math.max(1,Math.round(0.125*(R.width/R.height))),D=R.height+L+10,A=R.width+10,{useMaxWidth:V}=X;T9(G,D,A,!!V),Z0.debug("Here Bounds",O,R),G.attr("viewBox",`${R.x-5} ${R.y-5} ${R.width+10} ${R.height+10}`)}},"draw"),Rp8={draw:Op8,getClasses:Bp8},Lp8={parser:su8,db:Fg8,renderer:Rp8,styles:Bg8}});var ge=u9((lA,ue)=>{(function(J,Q){if(typeof lA==="object"&&typeof ue==="object")ue.exports=Q();else if(typeof define==="function"&&define.amd)define([],Q);else if(typeof lA==="object")lA.layoutBase=Q();else J.layoutBase=Q()})(lA,function(){return function(Z){var J={};function Q(K){if(J[K])return J[K].exports;var U=J[K]={i:K,l:!1,exports:{}};return Z[K].call(U.exports,U,U.exports,Q),U.l=!0,U.exports}return Q.m=Z,Q.c=J,Q.i=function(K){return K},Q.d=function(K,U,X){if(!Q.o(K,U))Object.defineProperty(K,U,{configurable:!1,enumerable:!0,get:X})},Q.n=function(K){var U=K&&K.__esModule?function(){return K.default}:function(){return K};return Q.d(U,"a",U),U},Q.o=function(K,U){return Object.prototype.hasOwnProperty.call(K,U)},Q.p="",Q(Q.s=28)}([function(Z,J,Q){function K(){}K.QUALITY=1,K.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,K.DEFAULT_INCREMENTAL=!1,K.DEFAULT_ANIMATION_ON_LAYOUT=!0,K.DEFAULT_ANIMATION_DURING_LAYOUT=!1,K.DEFAULT_ANIMATION_PERIOD=50,K.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,K.DEFAULT_GRAPH_MARGIN=15,K.NODE_DIMENSIONS_INCLUDE_LABELS=!1,K.SIMPLE_NODE_SIZE=40,K.SIMPLE_NODE_HALF_SIZE=K.SIMPLE_NODE_SIZE/2,K.EMPTY_COMPOUND_NODE_SIZE=40,K.MIN_EDGE_LENGTH=1,K.WORLD_BOUNDARY=1e6,K.INITIAL_WORLD_BOUNDARY=K.WORLD_BOUNDARY/1000,K.WORLD_CENTER_X=1200,K.WORLD_CENTER_Y=900,Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(8),X=Q(9);function Y(W,G,z){K.call(this,z),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=z,this.bendpoints=[],this.source=W,this.target=G}Y.prototype=Object.create(K.prototype);for(var q in K)Y[q]=K[q];Y.prototype.getSource=function(){return this.source},Y.prototype.getTarget=function(){return this.target},Y.prototype.isInterGraph=function(){return this.isInterGraph},Y.prototype.getLength=function(){return this.length},Y.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},Y.prototype.getBendpoints=function(){return this.bendpoints},Y.prototype.getLca=function(){return this.lca},Y.prototype.getSourceInLca=function(){return this.sourceInLca},Y.prototype.getTargetInLca=function(){return this.targetInLca},Y.prototype.getOtherEnd=function(W){if(this.source===W)return this.target;else if(this.target===W)return this.source;else throw"Node is not incident with this edge"},Y.prototype.getOtherEndInGraph=function(W,G){var z=this.getOtherEnd(W),H=G.getGraphManager().getRoot();while(!0){if(z.getOwner()==G)return z;if(z.getOwner()==H)break;z=z.getOwner().getParent()}return null},Y.prototype.updateLength=function(){var W=[,,,,];if(this.isOverlapingSourceAndTarget=U.getIntersection(this.target.getRect(),this.source.getRect(),W),!this.isOverlapingSourceAndTarget){if(this.lengthX=W[0]-W[2],this.lengthY=W[1]-W[3],Math.abs(this.lengthX)<1)this.lengthX=X.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=X.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}},Y.prototype.updateLengthSimple=function(){if(this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1)this.lengthX=X.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=X.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Z.exports=Y},function(Z,J,Q){function K(U){this.vGraphObject=U}Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(10),X=Q(13),Y=Q(0),q=Q(16),W=Q(5);function G(H,F,M,B){if(M==null&&B==null)B=F;if(K.call(this,B),H.graphManager!=null)H=H.graphManager;if(this.estimatedSize=U.MIN_VALUE,this.inclusionTreeDepth=U.MAX_VALUE,this.vGraphObject=B,this.edges=[],this.graphManager=H,M!=null&&F!=null)this.rect=new X(F.x,F.y,M.width,M.height);else this.rect=new X}G.prototype=Object.create(K.prototype);for(var z in K)G[z]=K[z];G.prototype.getEdges=function(){return this.edges},G.prototype.getChild=function(){return this.child},G.prototype.getOwner=function(){return this.owner},G.prototype.getWidth=function(){return this.rect.width},G.prototype.setWidth=function(H){this.rect.width=H},G.prototype.getHeight=function(){return this.rect.height},G.prototype.setHeight=function(H){this.rect.height=H},G.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},G.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},G.prototype.getCenter=function(){return new W(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},G.prototype.getLocation=function(){return new W(this.rect.x,this.rect.y)},G.prototype.getRect=function(){return this.rect},G.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},G.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},G.prototype.setRect=function(H,F){this.rect.x=H.x,this.rect.y=H.y,this.rect.width=F.width,this.rect.height=F.height},G.prototype.setCenter=function(H,F){this.rect.x=H-this.rect.width/2,this.rect.y=F-this.rect.height/2},G.prototype.setLocation=function(H,F){this.rect.x=H,this.rect.y=F},G.prototype.moveBy=function(H,F){this.rect.x+=H,this.rect.y+=F},G.prototype.getEdgeListToNode=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(O.target==H){if(O.source!=B)throw"Incorrect edge source!";F.push(O)}}),F},G.prototype.getEdgesBetween=function(H){var F=[],M,B=this;return B.edges.forEach(function(O){if(!(O.source==B||O.target==B))throw"Incorrect edge source and/or target";if(O.target==H||O.source==H)F.push(O)}),F},G.prototype.getNeighborsList=function(){var H=new Set,F=this;return F.edges.forEach(function(M){if(M.source==F)H.add(M.target);else{if(M.target!=F)throw"Incorrect incidency!";H.add(M.source)}}),H},G.prototype.withChildren=function(){var H=new Set,F,M;if(H.add(this),this.child!=null){var B=this.child.getNodes();for(var O=0;O<B.length;O++)F=B[O],M=F.withChildren(),M.forEach(function(R){H.add(R)})}return H},G.prototype.getNoOfChildren=function(){var H=0,F;if(this.child==null)H=1;else{var M=this.child.getNodes();for(var B=0;B<M.length;B++)F=M[B],H+=F.getNoOfChildren()}if(H==0)H=1;return H},G.prototype.getEstimatedSize=function(){if(this.estimatedSize==U.MIN_VALUE)throw"assert failed";return this.estimatedSize},G.prototype.calcEstimatedSize=function(){if(this.child==null)return this.estimatedSize=(this.rect.width+this.rect.height)/2;else return this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize},G.prototype.scatter=function(){var H,F,M=-Y.INITIAL_WORLD_BOUNDARY,B=Y.INITIAL_WORLD_BOUNDARY;H=Y.WORLD_CENTER_X+q.nextDouble()*(B-M)+M;var O=-Y.INITIAL_WORLD_BOUNDARY,R=Y.INITIAL_WORLD_BOUNDARY;F=Y.WORLD_CENTER_Y+q.nextDouble()*(R-O)+O,this.rect.x=H,this.rect.y=F},G.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var H=this.getChild();if(H.updateBounds(!0),this.rect.x=H.getLeft(),this.rect.y=H.getTop(),this.setWidth(H.getRight()-H.getLeft()),this.setHeight(H.getBottom()-H.getTop()),Y.NODE_DIMENSIONS_INCLUDE_LABELS){var F=H.getRight()-H.getLeft(),M=H.getBottom()-H.getTop();if(this.labelWidth){if(this.labelPosHorizontal=="left")this.rect.x-=this.labelWidth,this.setWidth(F+this.labelWidth);else if(this.labelPosHorizontal=="center"&&this.labelWidth>F)this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth);else if(this.labelPosHorizontal=="right")this.setWidth(F+this.labelWidth)}if(this.labelHeight){if(this.labelPosVertical=="top")this.rect.y-=this.labelHeight,this.setHeight(M+this.labelHeight);else if(this.labelPosVertical=="center"&&this.labelHeight>M)this.rect.y-=(this.labelHeight-M)/2,this.setHeight(this.labelHeight);else if(this.labelPosVertical=="bottom")this.setHeight(M+this.labelHeight)}}}},G.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==U.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},G.prototype.transform=function(H){var F=this.rect.x;if(F>Y.WORLD_BOUNDARY)F=Y.WORLD_BOUNDARY;else if(F<-Y.WORLD_BOUNDARY)F=-Y.WORLD_BOUNDARY;var M=this.rect.y;if(M>Y.WORLD_BOUNDARY)M=Y.WORLD_BOUNDARY;else if(M<-Y.WORLD_BOUNDARY)M=-Y.WORLD_BOUNDARY;var B=new W(F,M),O=H.inverseTransformPoint(B);this.setLocation(O.x,O.y)},G.prototype.getLeft=function(){return this.rect.x},G.prototype.getRight=function(){return this.rect.x+this.rect.width},G.prototype.getTop=function(){return this.rect.y},G.prototype.getBottom=function(){return this.rect.y+this.rect.height},G.prototype.getParent=function(){if(this.owner==null)return null;return this.owner.getParent()},Z.exports=G},function(Z,J,Q){var K=Q(0);function U(){}for(var X in K)U[X]=K[X];U.MAX_ITERATIONS=2500,U.DEFAULT_EDGE_LENGTH=50,U.DEFAULT_SPRING_STRENGTH=0.45,U.DEFAULT_REPULSION_STRENGTH=4500,U.DEFAULT_GRAVITY_STRENGTH=0.4,U.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,U.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,U.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,U.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,U.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.3,U.COOLING_ADAPTATION_FACTOR=0.33,U.ADAPTATION_LOWER_NODE_LIMIT=1000,U.ADAPTATION_UPPER_NODE_LIMIT=5000,U.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,U.MAX_NODE_DISPLACEMENT=U.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,U.MIN_REPULSION_DIST=U.DEFAULT_EDGE_LENGTH/10,U.CONVERGENCE_CHECK_PERIOD=100,U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1,U.MIN_EDGE_LENGTH=1,U.GRID_CALCULATION_CHECK_PERIOD=10,Z.exports=U},function(Z,J,Q){function K(U,X){if(U==null&&X==null)this.x=0,this.y=0;else this.x=U,this.y=X}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.setX=function(U){this.x=U},K.prototype.setY=function(U){this.y=U},K.prototype.getDifference=function(U){return new DimensionD(this.x-U.x,this.y-U.y)},K.prototype.getCopy=function(){return new K(this.x,this.y)},K.prototype.translate=function(U){return this.x+=U.width,this.y+=U.height,this},Z.exports=K},function(Z,J,Q){var K=Q(2),U=Q(10),X=Q(0),Y=Q(7),q=Q(3),W=Q(1),G=Q(13),z=Q(12),H=Q(11);function F(B,O,R){if(K.call(this,R),this.estimatedSize=U.MIN_VALUE,this.margin=X.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=B,O!=null&&O instanceof Y)this.graphManager=O;else if(O!=null&&O instanceof Layout)this.graphManager=O.graphManager}F.prototype=Object.create(K.prototype);for(var M in K)F[M]=K[M];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(B,O,R){if(O==null&&R==null){var L=B;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(L)>-1)throw"Node already in graph!";return L.owner=this,this.getNodes().push(L),L}else{var D=B;if(!(this.getNodes().indexOf(O)>-1&&this.getNodes().indexOf(R)>-1))throw"Source or target not in graph!";if(!(O.owner==R.owner&&O.owner==this))throw"Both owners must be this graph!";if(O.owner!=R.owner)return null;if(D.source=O,D.target=R,D.isInterGraph=!1,this.getEdges().push(D),O.edges.push(D),R!=O)R.edges.push(D);return D}},F.prototype.remove=function(B){var O=B;if(B instanceof q){if(O==null)throw"Node is null!";if(!(O.owner!=null&&O.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";var R=O.edges.slice(),L,D=R.length;for(var A=0;A<D;A++)if(L=R[A],L.isInterGraph)this.graphManager.remove(L);else L.source.owner.remove(L);var V=this.nodes.indexOf(O);if(V==-1)throw"Node not in owner node list!";this.nodes.splice(V,1)}else if(B instanceof W){var L=B;if(L==null)throw"Edge is null!";if(!(L.source!=null&&L.target!=null))throw"Source and/or target is null!";if(!(L.source.owner!=null&&L.target.owner!=null&&L.source.owner==this&&L.target.owner==this))throw"Source and/or target owner is invalid!";var N=L.source.edges.indexOf(L),E=L.target.edges.indexOf(L);if(!(N>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(L.source.edges.splice(N,1),L.target!=L.source)L.target.edges.splice(E,1);var V=L.source.owner.getEdges().indexOf(L);if(V==-1)throw"Not in owner's edge list!";L.source.owner.getEdges().splice(V,1)}},F.prototype.updateLeftTop=function(){var{MAX_VALUE:B,MAX_VALUE:O}=U,R,L,D,A=this.getNodes(),V=A.length;for(var N=0;N<V;N++){var E=A[N];if(R=E.getTop(),L=E.getLeft(),B>R)B=R;if(O>L)O=L}if(B==U.MAX_VALUE)return null;if(A[0].getParent().paddingLeft!=null)D=A[0].getParent().paddingLeft;else D=this.margin;return this.left=O-D,this.top=B-D,new z(this.left,this.top)},F.prototype.updateBounds=function(B){var O=U.MAX_VALUE,R=-U.MAX_VALUE,L=U.MAX_VALUE,D=-U.MAX_VALUE,A,V,N,E,C,j=this.nodes,$=j.length;for(var k=0;k<$;k++){var w=j[k];if(B&&w.child!=null)w.updateBounds();if(A=w.getLeft(),V=w.getRight(),N=w.getTop(),E=w.getBottom(),O>A)O=A;if(R<V)R=V;if(L>N)L=N;if(D<E)D=E}var P=new G(O,L,R-O,D-L);if(O==U.MAX_VALUE)this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom();if(j[0].getParent().paddingLeft!=null)C=j[0].getParent().paddingLeft;else C=this.margin;this.left=P.x-C,this.right=P.x+P.width+C,this.top=P.y-C,this.bottom=P.y+P.height+C},F.calculateBounds=function(B){var O=U.MAX_VALUE,R=-U.MAX_VALUE,L=U.MAX_VALUE,D=-U.MAX_VALUE,A,V,N,E,C=B.length;for(var j=0;j<C;j++){var $=B[j];if(A=$.getLeft(),V=$.getRight(),N=$.getTop(),E=$.getBottom(),O>A)O=A;if(R<V)R=V;if(L>N)L=N;if(D<E)D=E}var k=new G(O,L,R-O,D-L);return k},F.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot())return 1;else return this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==U.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){var B=0,O=this.nodes,R=O.length;for(var L=0;L<R;L++){var D=O[L];B+=D.calcEstimatedSize()}if(B==0)this.estimatedSize=X.EMPTY_COMPOUND_NODE_SIZE;else this.estimatedSize=B/Math.sqrt(this.nodes.length);return this.estimatedSize},F.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=!0;return}var O=new H,R=new Set,L=this.nodes[0],D,A,V=L.withChildren();V.forEach(function(k){O.push(k),R.add(k)});while(O.length!==0){L=O.shift(),D=L.getEdges();var N=D.length;for(var E=0;E<N;E++){var C=D[E];if(A=C.getOtherEndInGraph(L,this),A!=null&&!R.has(A)){var j=A.withChildren();j.forEach(function(k){O.push(k),R.add(k)})}}}if(this.isConnected=!1,R.size>=this.nodes.length){var $=0;if(R.forEach(function(k){if(k.owner==B)$++}),$==this.nodes.length)this.isConnected=!0}},Z.exports=F},function(Z,J,Q){var K,U=Q(1);function X(Y){K=Q(6),this.layout=Y,this.graphs=[],this.edges=[]}X.prototype.addRoot=function(){var Y=this.layout.newGraph(),q=this.layout.newNode(null),W=this.add(Y,q);return this.setRootGraph(W),this.rootGraph},X.prototype.add=function(Y,q,W,G,z){if(W==null&&G==null&&z==null){if(Y==null)throw"Graph is null!";if(q==null)throw"Parent node is null!";if(this.graphs.indexOf(Y)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(Y),Y.parent!=null)throw"Already has a parent!";if(q.child!=null)throw"Already has a child!";return Y.parent=q,q.child=Y,Y}else{z=W,G=q,W=Y;var H=G.getOwner(),F=z.getOwner();if(!(H!=null&&H.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(H==F)return W.isInterGraph=!1,H.add(W,G,z);else{if(W.isInterGraph=!0,W.source=G,W.target=z,this.edges.indexOf(W)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(W),!(W.source!=null&&W.target!=null))throw"Edge source and/or target is null!";if(!(W.source.edges.indexOf(W)==-1&&W.target.edges.indexOf(W)==-1))throw"Edge already in source and/or target incidency list!";return W.source.edges.push(W),W.target.edges.push(W),W}}},X.prototype.remove=function(Y){if(Y instanceof K){var q=Y;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(q==this.rootGraph||q.parent!=null&&q.parent.graphManager==this))throw"Invalid parent node!";var W=[];W=W.concat(q.getEdges());var G,z=W.length;for(var H=0;H<z;H++)G=W[H],q.remove(G);var F=[];F=F.concat(q.getNodes());var M;z=F.length;for(var H=0;H<z;H++)M=F[H],q.remove(M);if(q==this.rootGraph)this.setRootGraph(null);var B=this.graphs.indexOf(q);this.graphs.splice(B,1),q.parent=null}else if(Y instanceof U){if(G=Y,G==null)throw"Edge is null!";if(!G.isInterGraph)throw"Not an inter-graph edge!";if(!(G.source!=null&&G.target!=null))throw"Source and/or target is null!";if(!(G.source.edges.indexOf(G)!=-1&&G.target.edges.indexOf(G)!=-1))throw"Source and/or target doesn't know this edge!";var B=G.source.edges.indexOf(G);if(G.source.edges.splice(B,1),B=G.target.edges.indexOf(G),G.target.edges.splice(B,1),!(G.source.owner!=null&&G.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(G.source.owner.getGraphManager().edges.indexOf(G)==-1)throw"Not in owner graph manager's edge list!";var B=G.source.owner.getGraphManager().edges.indexOf(G);G.source.owner.getGraphManager().edges.splice(B,1)}},X.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},X.prototype.getGraphs=function(){return this.graphs},X.prototype.getAllNodes=function(){if(this.allNodes==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<W;G++)Y=Y.concat(q[G].getNodes());this.allNodes=Y}return this.allNodes},X.prototype.resetAllNodes=function(){this.allNodes=null},X.prototype.resetAllEdges=function(){this.allEdges=null},X.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},X.prototype.getAllEdges=function(){if(this.allEdges==null){var Y=[],q=this.getGraphs(),W=q.length;for(var G=0;G<q.length;G++)Y=Y.concat(q[G].getEdges());Y=Y.concat(this.edges),this.allEdges=Y}return this.allEdges},X.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},X.prototype.setAllNodesToApplyGravitation=function(Y){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=Y},X.prototype.getRoot=function(){return this.rootGraph},X.prototype.setRootGraph=function(Y){if(Y.getGraphManager()!=this)throw"Root not in this graph mgr!";if(this.rootGraph=Y,Y.parent==null)Y.parent=this.layout.newNode("Root node")},X.prototype.getLayout=function(){return this.layout},X.prototype.isOneAncestorOfOther=function(Y,q){if(!(Y!=null&&q!=null))throw"assert failed";if(Y==q)return!0;var W=Y.getOwner(),G;do{if(G=W.getParent(),G==null)break;if(G==q)return!0;if(W=G.getOwner(),W==null)break}while(!0);W=q.getOwner();do{if(G=W.getParent(),G==null)break;if(G==Y)return!0;if(W=G.getOwner(),W==null)break}while(!0);return!1},X.prototype.calcLowestCommonAncestors=function(){var Y,q,W,G,z,H=this.getAllEdges(),F=H.length;for(var M=0;M<F;M++){if(Y=H[M],q=Y.source,W=Y.target,Y.lca=null,Y.sourceInLca=q,Y.targetInLca=W,q==W){Y.lca=q.getOwner();continue}G=q.getOwner();while(Y.lca==null){Y.targetInLca=W,z=W.getOwner();while(Y.lca==null){if(z==G){Y.lca=z;break}if(z==this.rootGraph)break;if(Y.lca!=null)throw"assert failed";Y.targetInLca=z.getParent(),z=Y.targetInLca.getOwner()}if(G==this.rootGraph)break;if(Y.lca==null)Y.sourceInLca=G.getParent(),G=Y.sourceInLca.getOwner()}if(Y.lca==null)throw"assert failed"}},X.prototype.calcLowestCommonAncestor=function(Y,q){if(Y==q)return Y.getOwner();var W=Y.getOwner();do{if(W==null)break;var G=q.getOwner();do{if(G==null)break;if(G==W)return G;G=G.getParent().getOwner()}while(!0);W=W.getParent().getOwner()}while(!0);return W},X.prototype.calcInclusionTreeDepths=function(Y,q){if(Y==null&&q==null)Y=this.rootGraph,q=1;var W,G=Y.getNodes(),z=G.length;for(var H=0;H<z;H++)if(W=G[H],W.inclusionTreeDepth=q,W.child!=null)this.calcInclusionTreeDepths(W.child,q+1)},X.prototype.includesInvalidEdge=function(){var Y,q=[],W=this.edges.length;for(var G=0;G<W;G++)if(Y=this.edges[G],this.isOneAncestorOfOther(Y.source,Y.target))q.push(Y);for(var G=0;G<q.length;G++)this.remove(q[G]);return!1},Z.exports=X},function(Z,J,Q){var K=Q(12);function U(){}U.calcSeparationAmount=function(X,Y,q,W){if(!X.intersects(Y))throw"assert failed";var G=[,,];if(this.decideDirectionsForOverlappingNodes(X,Y,G),q[0]=Math.min(X.getRight(),Y.getRight())-Math.max(X.x,Y.x),q[1]=Math.min(X.getBottom(),Y.getBottom())-Math.max(X.y,Y.y),X.getX()<=Y.getX()&&X.getRight()>=Y.getRight())q[0]+=Math.min(Y.getX()-X.getX(),X.getRight()-Y.getRight());else if(Y.getX()<=X.getX()&&Y.getRight()>=X.getRight())q[0]+=Math.min(X.getX()-Y.getX(),Y.getRight()-X.getRight());if(X.getY()<=Y.getY()&&X.getBottom()>=Y.getBottom())q[1]+=Math.min(Y.getY()-X.getY(),X.getBottom()-Y.getBottom());else if(Y.getY()<=X.getY()&&Y.getBottom()>=X.getBottom())q[1]+=Math.min(X.getY()-Y.getY(),Y.getBottom()-X.getBottom());var z=Math.abs((Y.getCenterY()-X.getCenterY())/(Y.getCenterX()-X.getCenterX()));if(Y.getCenterY()===X.getCenterY()&&Y.getCenterX()===X.getCenterX())z=1;var H=z*q[0],F=q[1]/z;if(q[0]<F)F=q[0];else H=q[1];q[0]=-1*G[0]*(F/2+W),q[1]=-1*G[1]*(H/2+W)},U.decideDirectionsForOverlappingNodes=function(X,Y,q){if(X.getCenterX()<Y.getCenterX())q[0]=-1;else q[0]=1;if(X.getCenterY()<Y.getCenterY())q[1]=-1;else q[1]=1},U.getIntersection2=function(X,Y,q){var W=X.getCenterX(),G=X.getCenterY(),z=Y.getCenterX(),H=Y.getCenterY();if(X.intersects(Y))return q[0]=W,q[1]=G,q[2]=z,q[3]=H,!0;var F=X.getX(),M=X.getY(),B=X.getRight(),O=X.getX(),R=X.getBottom(),L=X.getRight(),D=X.getWidthHalf(),A=X.getHeightHalf(),V=Y.getX(),N=Y.getY(),E=Y.getRight(),C=Y.getX(),j=Y.getBottom(),$=Y.getRight(),k=Y.getWidthHalf(),w=Y.getHeightHalf(),P=!1,S=!1;if(W===z){if(G>H)return q[0]=W,q[1]=M,q[2]=z,q[3]=j,!1;else if(G<H)return q[0]=W,q[1]=R,q[2]=z,q[3]=N,!1}else if(G===H){if(W>z)return q[0]=F,q[1]=G,q[2]=E,q[3]=H,!1;else if(W<z)return q[0]=B,q[1]=G,q[2]=V,q[3]=H,!1}else{var T=X.height/X.width,_=Y.height/Y.width,v=(H-G)/(z-W),x=void 0,b=void 0,y=void 0,u=void 0,h=void 0,p=void 0;if(-T===v)if(W>z)q[0]=O,q[1]=R,P=!0;else q[0]=B,q[1]=M,P=!0;else if(T===v)if(W>z)q[0]=F,q[1]=M,P=!0;else q[0]=L,q[1]=R,P=!0;if(-_===v)if(z>W)q[2]=C,q[3]=j,S=!0;else q[2]=E,q[3]=N,S=!0;else if(_===v)if(z>W)q[2]=V,q[3]=N,S=!0;else q[2]=$,q[3]=j,S=!0;if(P&&S)return!1;if(W>z)if(G>H)x=this.getCardinalDirection(T,v,4),b=this.getCardinalDirection(_,v,2);else x=this.getCardinalDirection(-T,v,3),b=this.getCardinalDirection(-_,v,1);else if(G>H)x=this.getCardinalDirection(-T,v,1),b=this.getCardinalDirection(-_,v,3);else x=this.getCardinalDirection(T,v,2),b=this.getCardinalDirection(_,v,4);if(!P)switch(x){case 1:u=M,y=W+-A/v,q[0]=y,q[1]=u;break;case 2:y=L,u=G+D*v,q[0]=y,q[1]=u;break;case 3:u=R,y=W+A/v,q[0]=y,q[1]=u;break;case 4:y=O,u=G+-D*v,q[0]=y,q[1]=u;break}if(!S)switch(b){case 1:p=N,h=z+-w/v,q[2]=h,q[3]=p;break;case 2:h=$,p=H+k*v,q[2]=h,q[3]=p;break;case 3:p=j,h=z+w/v,q[2]=h,q[3]=p;break;case 4:h=C,p=H+-k*v,q[2]=h,q[3]=p;break}}return!1},U.getCardinalDirection=function(X,Y,q){if(X>Y)return q;else return 1+q%4},U.getIntersection=function(X,Y,q,W){if(W==null)return this.getIntersection2(X,Y,q);var{x:G,y:z}=X,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,L=void 0,D=void 0,A=void 0,V=void 0,N=void 0,E=void 0,C=void 0,j=void 0,$=void 0;if(A=F-z,N=G-H,C=H*z-G*F,V=R-B,E=M-O,j=O*B-M*R,$=A*E-V*N,$===0)return null;return L=(N*j-E*C)/$,D=(V*C-A*j)/$,new K(L,D)},U.angleOfVector=function(X,Y,q,W){var G=void 0;if(X!==q){if(G=Math.atan((W-Y)/(q-X)),q<X)G+=Math.PI;else if(W<Y)G+=this.TWO_PI}else if(W<Y)G=this.ONE_AND_HALF_PI;else G=this.HALF_PI;return G},U.doIntersect=function(X,Y,q,W){var{x:G,y:z}=X,H=Y.x,F=Y.y,M=q.x,B=q.y,O=W.x,R=W.y,L=(H-G)*(R-B)-(O-M)*(F-z);if(L===0)return!1;else{var D=((R-B)*(O-G)+(M-O)*(R-z))/L,A=((z-F)*(O-G)+(H-G)*(R-z))/L;return 0<D&&D<1&&0<A&&A<1}},U.findCircleLineIntersections=function(X,Y,q,W,G,z,H){var F=(q-X)*(q-X)+(W-Y)*(W-Y),M=2*((X-G)*(q-X)+(Y-z)*(W-Y)),B=(X-G)*(X-G)+(Y-z)*(Y-z)-H*H,O=M*M-4*F*B;if(O>=0){var R=(-M+Math.sqrt(M*M-4*F*B))/(2*F),L=(-M-Math.sqrt(M*M-4*F*B))/(2*F),D=null;if(R>=0&&R<=1)return[R];if(L>=0&&L<=1)return[L];return D}else return null},U.HALF_PI=0.5*Math.PI,U.ONE_AND_HALF_PI=1.5*Math.PI,U.TWO_PI=2*Math.PI,U.THREE_PI=3*Math.PI,Z.exports=U},function(Z,J,Q){function K(){}K.sign=function(U){if(U>0)return 1;else if(U<0)return-1;else return 0},K.floor=function(U){return U<0?Math.ceil(U):Math.floor(U)},K.ceil=function(U){return U<0?Math.floor(U):Math.ceil(U)},Z.exports=K},function(Z,J,Q){function K(){}K.MAX_VALUE=2147483647,K.MIN_VALUE=-2147483648,Z.exports=K},function(Z,J,Q){var K=function(){function G(z,H){for(var F=0;F<H.length;F++){var M=H[F];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(z,M.key,M)}}return function(z,H,F){if(H)G(z.prototype,H);if(F)G(z,F);return z}}();function U(G,z){if(!(G instanceof z))throw TypeError("Cannot call a class as a function")}var X=function(z){return{value:z,next:null,prev:null}},Y=function(z,H,F,M){if(z!==null)z.next=H;else M.head=H;if(F!==null)F.prev=H;else M.tail=H;return H.prev=z,H.next=F,M.length++,H},q=function(z,H){var{prev:F,next:M}=z;if(F!==null)F.next=M;else H.head=M;if(M!==null)M.prev=F;else H.tail=F;return z.prev=z.next=null,H.length--,z},W=function(){function G(z){var H=this;if(U(this,G),this.length=0,this.head=null,this.tail=null,z!=null)z.forEach(function(F){return H.push(F)})}return K(G,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(H,F){return Y(F.prev,X(H),F,this)}},{key:"insertAfter",value:function(H,F){return Y(F,X(H),F.next,this)}},{key:"insertNodeBefore",value:function(H,F){return Y(F.prev,H,F,this)}},{key:"insertNodeAfter",value:function(H,F){return Y(F,H,F.next,this)}},{key:"push",value:function(H){return Y(this.tail,X(H),null,this)}},{key:"unshift",value:function(H){return Y(null,X(H),this.head,this)}},{key:"remove",value:function(H){return q(H,this)}},{key:"pop",value:function(){return q(this.tail,this).value}},{key:"popNode",value:function(){return q(this.tail,this)}},{key:"shift",value:function(){return q(this.head,this).value}},{key:"shiftNode",value:function(){return q(this.head,this)}},{key:"get_object_at",value:function(H){if(H<=this.length()){var F=1,M=this.head;while(F<H)M=M.next,F++;return M.value}}},{key:"set_object_at",value:function(H,F){if(H<=this.length()){var M=1,B=this.head;while(M<H)B=B.next,M++;B.value=F}}}]),G}();Z.exports=W},function(Z,J,Q){function K(U,X,Y){if(this.x=null,this.y=null,U==null&&X==null&&Y==null)this.x=0,this.y=0;else if(typeof U=="number"&&typeof X=="number"&&Y==null)this.x=U,this.y=X;else if(U.constructor.name=="Point"&&X==null&&Y==null)Y=U,this.x=Y.x,this.y=Y.y}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.getLocation=function(){return new K(this.x,this.y)},K.prototype.setLocation=function(U,X,Y){if(U.constructor.name=="Point"&&X==null&&Y==null)Y=U,this.setLocation(Y.x,Y.y);else if(typeof U=="number"&&typeof X=="number"&&Y==null)if(parseInt(U)==U&&parseInt(X)==X)this.move(U,X);else this.x=Math.floor(U+0.5),this.y=Math.floor(X+0.5)},K.prototype.move=function(U,X){this.x=U,this.y=X},K.prototype.translate=function(U,X){this.x+=U,this.y+=X},K.prototype.equals=function(U){if(U.constructor.name=="Point"){var X=U;return this.x==X.x&&this.y==X.y}return this==U},K.prototype.toString=function(){return new K().constructor.name+"[x="+this.x+",y="+this.y+"]"},Z.exports=K},function(Z,J,Q){function K(U,X,Y,q){if(this.x=0,this.y=0,this.width=0,this.height=0,U!=null&&X!=null&&Y!=null&&q!=null)this.x=U,this.y=X,this.width=Y,this.height=q}K.prototype.getX=function(){return this.x},K.prototype.setX=function(U){this.x=U},K.prototype.getY=function(){return this.y},K.prototype.setY=function(U){this.y=U},K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(U){this.width=U},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(U){this.height=U},K.prototype.getRight=function(){return this.x+this.width},K.prototype.getBottom=function(){return this.y+this.height},K.prototype.intersects=function(U){if(this.getRight()<U.x)return!1;if(this.getBottom()<U.y)return!1;if(U.getRight()<this.x)return!1;if(U.getBottom()<this.y)return!1;return!0},K.prototype.getCenterX=function(){return this.x+this.width/2},K.prototype.getMinX=function(){return this.getX()},K.prototype.getMaxX=function(){return this.getX()+this.width},K.prototype.getCenterY=function(){return this.y+this.height/2},K.prototype.getMinY=function(){return this.getY()},K.prototype.getMaxY=function(){return this.getY()+this.height},K.prototype.getWidthHalf=function(){return this.width/2},K.prototype.getHeightHalf=function(){return this.height/2},Z.exports=K},function(Z,J,Q){var K=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol==="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function U(){}U.lastID=0,U.createID=function(X){if(U.isPrimitive(X))return X;if(X.uniqueID!=null)return X.uniqueID;return X.uniqueID=U.getString(),U.lastID++,X.uniqueID},U.getString=function(X){if(X==null)X=U.lastID;return"Object#"+X},U.isPrimitive=function(X){var Y=typeof X>"u"?"undefined":K(X);return X==null||Y!="object"&&Y!="function"},Z.exports=U},function(Z,J,Q){function K(M){if(Array.isArray(M)){for(var B=0,O=Array(M.length);B<M.length;B++)O[B]=M[B];return O}else return Array.from(M)}var U=Q(0),X=Q(7),Y=Q(3),q=Q(1),W=Q(6),G=Q(5),z=Q(17),H=Q(29);function F(M){if(H.call(this),this.layoutQuality=U.QUALITY,this.createBendsAsNeeded=U.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=U.DEFAULT_INCREMENTAL,this.animationOnLayout=U.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=U.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=U.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=U.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new X(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,M!=null)this.isRemoteUse=M}F.RANDOM_SEED=1,F.prototype=Object.create(H.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var M=new X(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new W(null,this.graphManager,M)},F.prototype.newNode=function(M){return new Y(this.graphManager,M)},F.prototype.newEdge=function(M){return new q(null,null,M)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){if(this.isLayoutFinished=!1,this.tilingPreLayout)this.tilingPreLayout();this.initParameters();var M;if(this.checkLayoutSuccess())M=!1;else M=this.layout();if(U.ANIMATE==="during")return!1;if(M){if(!this.isSubLayout)this.doPostLayout()}if(this.tilingPostLayout)this.tilingPostLayout();return this.isLayoutFinished=!0,M},F.prototype.doPostLayout=function(){if(!this.incremental)this.transform();this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded)this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges();if(!this.isRemoteUse){var M,B=this.graphManager.getAllEdges();for(var O=0;O<B.length;O++)M=B[O];var R,L=this.graphManager.getRoot().getNodes();for(var O=0;O<L.length;O++)R=L[O];this.update(this.graphManager.getRoot())}},F.prototype.update=function(M){if(M==null)this.update2();else if(M instanceof Y){var B=M;if(B.getChild()!=null){var O=B.getChild().getNodes();for(var R=0;R<O.length;R++)update(O[R])}if(B.vGraphObject!=null){var L=B.vGraphObject;L.update(B)}}else if(M instanceof q){var D=M;if(D.vGraphObject!=null){var A=D.vGraphObject;A.update(D)}}else if(M instanceof W){var V=M;if(V.vGraphObject!=null){var N=V.vGraphObject;N.update(V)}}},F.prototype.initParameters=function(){if(!this.isSubLayout)this.layoutQuality=U.QUALITY,this.animationDuringLayout=U.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=U.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=U.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=U.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=U.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=U.DEFAULT_UNIFORM_LEAF_NODE_SIZES;if(this.animationDuringLayout)this.animationOnLayout=!1},F.prototype.transform=function(M){if(M==null)this.transform(new G(0,0));else{var B=new z,O=this.graphManager.getRoot().updateLeftTop();if(O!=null){B.setWorldOrgX(M.x),B.setWorldOrgY(M.y),B.setDeviceOrgX(O.x),B.setDeviceOrgY(O.y);var R=this.getAllNodes(),L;for(var D=0;D<R.length;D++)L=R[D],L.transform(B)}}},F.prototype.positionNodesRandomly=function(M){if(M==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else{var B,O,R=M.getNodes();for(var L=0;L<R.length;L++)if(B=R[L],O=B.getChild(),O==null)B.scatter();else if(O.getNodes().length==0)B.scatter();else this.positionNodesRandomly(O),B.updateBounds()}},F.prototype.getFlatForest=function(){var M=[],B=!0,O=this.graphManager.getRoot().getNodes(),R=!0;for(var L=0;L<O.length;L++)if(O[L].getChild()!=null)R=!1;if(!R)return M;var D=new Set,A=[],V=new Map,N=[];N=N.concat(O);while(N.length>0&&B){A.push(N[0]);while(A.length>0&&B){var E=A[0];A.splice(0,1),D.add(E);var C=E.getEdges();for(var L=0;L<C.length;L++){var j=C[L].getOtherEnd(E);if(V.get(E)!=j)if(!D.has(j))A.push(j),V.set(j,E);else{B=!1;break}}}if(!B)M=[];else{var $=[].concat(K(D));M.push($);for(var L=0;L<$.length;L++){var k=$[L],w=N.indexOf(k);if(w>-1)N.splice(w,1)}D=new Set,V=new Map}}return M},F.prototype.createDummyNodesForBendpoints=function(M){var B=[],O=M.source,R=this.graphManager.calcLowestCommonAncestor(M.source,M.target);for(var L=0;L<M.bendpoints.length;L++){var D=this.newNode(null);D.setRect(new Point(0,0),new Dimension(1,1)),R.add(D);var A=this.newEdge(null);this.graphManager.add(A,O,D),B.add(D),O=D}var A=this.newEdge(null);if(this.graphManager.add(A,O,M.target),this.edgeToDummyNodes.set(M,B),M.isInterGraph())this.graphManager.remove(M);else R.remove(M);return B},F.prototype.createBendpointsFromDummyNodes=function(){var M=[];M=M.concat(this.graphManager.getAllEdges()),M=[].concat(K(this.edgeToDummyNodes.keys())).concat(M);for(var B=0;B<M.length;B++){var O=M[B];if(O.bendpoints.length>0){var R=this.edgeToDummyNodes.get(O);for(var L=0;L<R.length;L++){var D=R[L],A=new G(D.getCenterX(),D.getCenterY()),V=O.bendpoints.get(L);V.x=A.x,V.y=A.y,D.getOwner().remove(D)}this.graphManager.add(O,O.source,O.target)}}},F.transform=function(M,B,O,R){if(O!=null&&R!=null){var L=B;if(M<=50){var D=B/O;L-=(B-D)/50*(50-M)}else{var A=B*R;L+=(A-B)/50*(M-50)}return L}else{var V,N;if(M<=50)V=9*B/500,N=B/10;else V=9*B/50,N=-8*B;return V*M+N}},F.findCenterOfTree=function(M){var B=[];B=B.concat(M);var O=[],R=new Map,L=!1,D=null;if(B.length==1||B.length==2)L=!0,D=B[0];for(var A=0;A<B.length;A++){var V=B[A],N=V.getNeighborsList().size;if(R.set(V,V.getNeighborsList().size),N==1)O.push(V)}var E=[];E=E.concat(O);while(!L){var C=[];C=C.concat(E),E=[];for(var A=0;A<B.length;A++){var V=B[A],j=B.indexOf(V);if(j>=0)B.splice(j,1);var $=V.getNeighborsList();$.forEach(function(P){if(O.indexOf(P)<0){var S=R.get(P),T=S-1;if(T==1)E.push(P);R.set(P,T)}})}if(O=O.concat(E),B.length==1||B.length==2)L=!0,D=B[0]}return D},F.prototype.setGraphManager=function(M){this.graphManager=M},Z.exports=F},function(Z,J,Q){function K(){}K.seed=1,K.x=0,K.nextDouble=function(){return K.x=Math.sin(K.seed++)*1e4,K.x-Math.floor(K.x)},Z.exports=K},function(Z,J,Q){var K=Q(5);function U(X,Y){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}U.prototype.getWorldOrgX=function(){return this.lworldOrgX},U.prototype.setWorldOrgX=function(X){this.lworldOrgX=X},U.prototype.getWorldOrgY=function(){return this.lworldOrgY},U.prototype.setWorldOrgY=function(X){this.lworldOrgY=X},U.prototype.getWorldExtX=function(){return this.lworldExtX},U.prototype.setWorldExtX=function(X){this.lworldExtX=X},U.prototype.getWorldExtY=function(){return this.lworldExtY},U.prototype.setWorldExtY=function(X){this.lworldExtY=X},U.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},U.prototype.setDeviceOrgX=function(X){this.ldeviceOrgX=X},U.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},U.prototype.setDeviceOrgY=function(X){this.ldeviceOrgY=X},U.prototype.getDeviceExtX=function(){return this.ldeviceExtX},U.prototype.setDeviceExtX=function(X){this.ldeviceExtX=X},U.prototype.getDeviceExtY=function(){return this.ldeviceExtY},U.prototype.setDeviceExtY=function(X){this.ldeviceExtY=X},U.prototype.transformX=function(X){var Y=0,q=this.lworldExtX;if(q!=0)Y=this.ldeviceOrgX+(X-this.lworldOrgX)*this.ldeviceExtX/q;return Y},U.prototype.transformY=function(X){var Y=0,q=this.lworldExtY;if(q!=0)Y=this.ldeviceOrgY+(X-this.lworldOrgY)*this.ldeviceExtY/q;return Y},U.prototype.inverseTransformX=function(X){var Y=0,q=this.ldeviceExtX;if(q!=0)Y=this.lworldOrgX+(X-this.ldeviceOrgX)*this.lworldExtX/q;return Y},U.prototype.inverseTransformY=function(X){var Y=0,q=this.ldeviceExtY;if(q!=0)Y=this.lworldOrgY+(X-this.ldeviceOrgY)*this.lworldExtY/q;return Y},U.prototype.inverseTransformPoint=function(X){var Y=new K(this.inverseTransformX(X.x),this.inverseTransformY(X.y));return Y},Z.exports=U},function(Z,J,Q){function K(H){if(Array.isArray(H)){for(var F=0,M=Array(H.length);F<H.length;F++)M[F]=H[F];return M}else return Array.from(H)}var U=Q(15),X=Q(4),Y=Q(0),q=Q(8),W=Q(9);function G(){U.call(this),this.useSmartIdealEdgeLengthCalculation=X.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=X.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=X.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=X.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*X.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=X.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=X.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=X.MAX_ITERATIONS}G.prototype=Object.create(U.prototype);for(var z in U)G[z]=U[z];G.prototype.initParameters=function(){U.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=X.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},G.prototype.calcIdealEdgeLengths=function(){var H,F,M,B,O,R,L,D=this.getGraphManager().getAllEdges();for(var A=0;A<D.length;A++)if(H=D[A],F=H.idealLength,H.isInterGraph){if(B=H.getSource(),O=H.getTarget(),R=H.getSourceInLca().getEstimatedSize(),L=H.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation)H.idealLength+=R+L-2*Y.SIMPLE_NODE_SIZE;M=H.getLca().getInclusionTreeDepth(),H.idealLength+=F*X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(B.getInclusionTreeDepth()+O.getInclusionTreeDepth()-2*M)}},G.prototype.initSpringEmbedder=function(){var H=this.getAllNodes().length;if(this.incremental){if(H>X.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(this.coolingFactor*X.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(H-X.ADAPTATION_LOWER_NODE_LIMIT)/(X.ADAPTATION_UPPER_NODE_LIMIT-X.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-X.COOLING_ADAPTATION_FACTOR));this.maxNodeDisplacement=X.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(H>X.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(X.COOLING_ADAPTATION_FACTOR,1-(H-X.ADAPTATION_LOWER_NODE_LIMIT)/(X.ADAPTATION_UPPER_NODE_LIMIT-X.ADAPTATION_LOWER_NODE_LIMIT)*(1-X.COOLING_ADAPTATION_FACTOR));else this.coolingFactor=1;this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=X.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*X.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},G.prototype.calcSpringForces=function(){var H=this.getAllEdges(),F;for(var M=0;M<H.length;M++)F=H[M],this.calcSpringForce(F,F.idealLength)},G.prototype.calcRepulsionForces=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M,B,O,R,L=this.getAllNodes(),D;if(this.useFRGridVariant){if(this.totalIterations%X.GRID_CALCULATION_CHECK_PERIOD==1&&H)this.updateGrid();D=new Set;for(M=0;M<L.length;M++)O=L[M],this.calculateRepulsionForceOfANode(O,D,H,F),D.add(O)}else for(M=0;M<L.length;M++){O=L[M];for(B=M+1;B<L.length;B++){if(R=L[B],O.getOwner()!=R.getOwner())continue;this.calcRepulsionForce(O,R)}}},G.prototype.calcGravitationalForces=function(){var H,F=this.getAllNodesToApplyGravitation();for(var M=0;M<F.length;M++)H=F[M],this.calcGravitationalForce(H)},G.prototype.moveNodes=function(){var H=this.getAllNodes(),F;for(var M=0;M<H.length;M++)F=H[M],F.move()},G.prototype.calcSpringForce=function(H,F){var M=H.getSource(),B=H.getTarget(),O,R,L,D;if(this.uniformLeafNodeSizes&&M.getChild()==null&&B.getChild()==null)H.updateLengthSimple();else if(H.updateLength(),H.isOverlapingSourceAndTarget)return;if(O=H.getLength(),O==0)return;R=H.edgeElasticity*(O-F),L=R*(H.lengthX/O),D=R*(H.lengthY/O),M.springForceX+=L,M.springForceY+=D,B.springForceX-=L,B.springForceY-=D},G.prototype.calcRepulsionForce=function(H,F){var M=H.getRect(),B=F.getRect(),O=[,,],R=[,,,,],L,D,A,V,N,E,C;if(M.intersects(B)){q.calcSeparationAmount(M,B,O,X.DEFAULT_EDGE_LENGTH/2),E=2*O[0],C=2*O[1];var j=H.noOfChildren*F.noOfChildren/(H.noOfChildren+F.noOfChildren);H.repulsionForceX-=j*E,H.repulsionForceY-=j*C,F.repulsionForceX+=j*E,F.repulsionForceY+=j*C}else{if(this.uniformLeafNodeSizes&&H.getChild()==null&&F.getChild()==null)L=B.getCenterX()-M.getCenterX(),D=B.getCenterY()-M.getCenterY();else q.getIntersection(M,B,R),L=R[2]-R[0],D=R[3]-R[1];if(Math.abs(L)<X.MIN_REPULSION_DIST)L=W.sign(L)*X.MIN_REPULSION_DIST;if(Math.abs(D)<X.MIN_REPULSION_DIST)D=W.sign(D)*X.MIN_REPULSION_DIST;A=L*L+D*D,V=Math.sqrt(A),N=(H.nodeRepulsion/2+F.nodeRepulsion/2)*H.noOfChildren*F.noOfChildren/A,E=N*L/V,C=N*D/V,H.repulsionForceX-=E,H.repulsionForceY-=C,F.repulsionForceX+=E,F.repulsionForceY+=C}},G.prototype.calcGravitationalForce=function(H){var F,M,B,O,R,L,D,A;if(F=H.getOwner(),M=(F.getRight()+F.getLeft())/2,B=(F.getTop()+F.getBottom())/2,O=H.getCenterX()-M,R=H.getCenterY()-B,L=Math.abs(O)+H.getWidth()/2,D=Math.abs(R)+H.getHeight()/2,H.getOwner()==this.graphManager.getRoot()){if(A=F.getEstimatedSize()*this.gravityRangeFactor,L>A||D>A)H.gravitationForceX=-this.gravityConstant*O,H.gravitationForceY=-this.gravityConstant*R}else if(A=F.getEstimatedSize()*this.compoundGravityRangeFactor,L>A||D>A)H.gravitationForceX=-this.gravityConstant*O*this.compoundGravityConstant,H.gravitationForceY=-this.gravityConstant*R*this.compoundGravityConstant},G.prototype.isConverged=function(){var H,F=!1;if(this.totalIterations>this.maxIterations/3)F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2;return H=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,H||F},G.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout)if(this.notAnimatedIterations==this.animationPeriod)this.update(),this.notAnimatedIterations=0;else this.notAnimatedIterations++},G.prototype.calcNoOfChildrenForAllNodes=function(){var H,F=this.graphManager.getAllNodes();for(var M=0;M<F.length;M++)H=F[M],H.noOfChildren=H.getNoOfChildren()},G.prototype.calcGrid=function(H){var F=0,M=0;F=parseInt(Math.ceil((H.getRight()-H.getLeft())/this.repulsionRange)),M=parseInt(Math.ceil((H.getBottom()-H.getTop())/this.repulsionRange));var B=Array(F);for(var O=0;O<F;O++)B[O]=Array(M);for(var O=0;O<F;O++)for(var R=0;R<M;R++)B[O][R]=[];return B},G.prototype.addNodeToGrid=function(H,F,M){var B=0,O=0,R=0,L=0;B=parseInt(Math.floor((H.getRect().x-F)/this.repulsionRange)),O=parseInt(Math.floor((H.getRect().width+H.getRect().x-F)/this.repulsionRange)),R=parseInt(Math.floor((H.getRect().y-M)/this.repulsionRange)),L=parseInt(Math.floor((H.getRect().height+H.getRect().y-M)/this.repulsionRange));for(var D=B;D<=O;D++)for(var A=R;A<=L;A++)this.grid[D][A].push(H),H.setGridCoordinates(B,O,R,L)},G.prototype.updateGrid=function(){var H,F,M=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(H=0;H<M.length;H++)F=M[H],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},G.prototype.calculateRepulsionForceOfANode=function(H,F,M,B){if(this.totalIterations%X.GRID_CALCULATION_CHECK_PERIOD==1&&M||B){var O=new Set;H.surrounding=[];var R,L=this.grid;for(var D=H.startX-1;D<H.finishX+2;D++)for(var A=H.startY-1;A<H.finishY+2;A++)if(!(D<0||A<0||D>=L.length||A>=L[0].length))for(var V=0;V<L[D][A].length;V++){if(R=L[D][A][V],H.getOwner()!=R.getOwner()||H==R)continue;if(!F.has(R)&&!O.has(R)){var N=Math.abs(H.getCenterX()-R.getCenterX())-(H.getWidth()/2+R.getWidth()/2),E=Math.abs(H.getCenterY()-R.getCenterY())-(H.getHeight()/2+R.getHeight()/2);if(N<=this.repulsionRange&&E<=this.repulsionRange)O.add(R)}}H.surrounding=[].concat(K(O))}for(D=0;D<H.surrounding.length;D++)this.calcRepulsionForce(H,H.surrounding[D])},G.prototype.calcRepulsionRange=function(){return 0},Z.exports=G},function(Z,J,Q){var K=Q(1),U=Q(4);function X(q,W,G){K.call(this,q,W,G),this.idealLength=U.DEFAULT_EDGE_LENGTH,this.edgeElasticity=U.DEFAULT_SPRING_STRENGTH}X.prototype=Object.create(K.prototype);for(var Y in K)X[Y]=K[Y];Z.exports=X},function(Z,J,Q){var K=Q(3),U=Q(4);function X(q,W,G,z){K.call(this,q,W,G,z),this.nodeRepulsion=U.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}X.prototype=Object.create(K.prototype);for(var Y in K)X[Y]=K[Y];X.prototype.setGridCoordinates=function(q,W,G,z){this.startX=q,this.finishX=W,this.startY=G,this.finishY=z},Z.exports=X},function(Z,J,Q){function K(U,X){if(this.width=0,this.height=0,U!==null&&X!==null)this.height=X,this.width=U}K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(U){this.width=U},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(U){this.height=U},Z.exports=K},function(Z,J,Q){var K=Q(14);function U(){this.map={},this.keys=[]}U.prototype.put=function(X,Y){var q=K.createID(X);if(!this.contains(q))this.map[q]=Y,this.keys.push(X)},U.prototype.contains=function(X){var Y=K.createID(X);return this.map[X]!=null},U.prototype.get=function(X){var Y=K.createID(X);return this.map[Y]},U.prototype.keySet=function(){return this.keys},Z.exports=U},function(Z,J,Q){var K=Q(14);function U(){this.set={}}U.prototype.add=function(X){var Y=K.createID(X);if(!this.contains(Y))this.set[Y]=X},U.prototype.remove=function(X){delete this.set[K.createID(X)]},U.prototype.clear=function(){this.set={}},U.prototype.contains=function(X){return this.set[K.createID(X)]==X},U.prototype.isEmpty=function(){return this.size()===0},U.prototype.size=function(){return Object.keys(this.set).length},U.prototype.addAllTo=function(X){var Y=Object.keys(this.set),q=Y.length;for(var W=0;W<q;W++)X.push(this.set[Y[W]])},U.prototype.size=function(){return Object.keys(this.set).length},U.prototype.addAll=function(X){var Y=X.length;for(var q=0;q<Y;q++){var W=X[q];this.add(W)}},Z.exports=U},function(Z,J,Q){function K(){}K.multMat=function(U,X){var Y=[];for(var q=0;q<U.length;q++){Y[q]=[];for(var W=0;W<X[0].length;W++){Y[q][W]=0;for(var G=0;G<U[0].length;G++)Y[q][W]+=U[q][G]*X[G][W]}}return Y},K.transpose=function(U){var X=[];for(var Y=0;Y<U[0].length;Y++){X[Y]=[];for(var q=0;q<U.length;q++)X[Y][q]=U[q][Y]}return X},K.multCons=function(U,X){var Y=[];for(var q=0;q<U.length;q++)Y[q]=U[q]*X;return Y},K.minusOp=function(U,X){var Y=[];for(var q=0;q<U.length;q++)Y[q]=U[q]-X[q];return Y},K.dotProduct=function(U,X){var Y=0;for(var q=0;q<U.length;q++)Y+=U[q]*X[q];return Y},K.mag=function(U){return Math.sqrt(this.dotProduct(U,U))},K.normalize=function(U){var X=[],Y=this.mag(U);for(var q=0;q<U.length;q++)X[q]=U[q]/Y;return X},K.multGamma=function(U){var X=[],Y=0;for(var q=0;q<U.length;q++)Y+=U[q];Y*=-1/U.length;for(var W=0;W<U.length;W++)X[W]=Y+U[W];return X},K.multL=function(U,X,Y){var q=[],W=[],G=[];for(var z=0;z<X[0].length;z++){var H=0;for(var F=0;F<X.length;F++)H+=-0.5*X[F][z]*U[F];W[z]=H}for(var M=0;M<Y.length;M++){var B=0;for(var O=0;O<Y.length;O++)B+=Y[M][O]*W[O];G[M]=B}for(var R=0;R<X.length;R++){var L=0;for(var D=0;D<X[0].length;D++)L+=X[R][D]*G[D];q[R]=L}return q},Z.exports=K},function(Z,J,Q){var K=function(){function q(W,G){for(var z=0;z<G.length;z++){var H=G[z];if(H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H)H.writable=!0;Object.defineProperty(W,H.key,H)}}return function(W,G,z){if(G)q(W.prototype,G);if(z)q(W,z);return W}}();function U(q,W){if(!(q instanceof W))throw TypeError("Cannot call a class as a function")}var X=Q(11),Y=function(){function q(W,G){if(U(this,q),G!==null||G!==void 0)this.compareFunction=this._defaultCompareFunction;var z=void 0;if(W instanceof X)z=W.size();else z=W.length;this._quicksort(W,0,z-1)}return K(q,[{key:"_quicksort",value:function(G,z,H){if(z<H){var F=this._partition(G,z,H);this._quicksort(G,z,F),this._quicksort(G,F+1,H)}}},{key:"_partition",value:function(G,z,H){var F=this._get(G,z),M=z,B=H;while(!0){while(this.compareFunction(F,this._get(G,B)))B--;while(this.compareFunction(this._get(G,M),F))M++;if(M<B)this._swap(G,M,B),M++,B--;else return B}}},{key:"_get",value:function(G,z){if(G instanceof X)return G.get_object_at(z);else return G[z]}},{key:"_set",value:function(G,z,H){if(G instanceof X)G.set_object_at(z,H);else G[z]=H}},{key:"_swap",value:function(G,z,H){var F=this._get(G,z);this._set(G,z,this._get(G,H)),this._set(G,H,F)}},{key:"_defaultCompareFunction",value:function(G,z){return z>G}}]),q}();Z.exports=Y},function(Z,J,Q){function K(){}K.svd=function(U){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=U.length,this.n=U[0].length;var X=Math.min(this.m,this.n);this.s=function(H8){var G8=[];while(H8-- >0)G8.push(0);return G8}(Math.min(this.m+1,this.n)),this.U=function(H8){var G8=function O8(L8){if(L8.length==0)return 0;else{var I8=[];for(var F8=0;F8<L8[0];F8++)I8.push(O8(L8.slice(1)));return I8}};return G8(H8)}([this.m,X]),this.V=function(H8){var G8=function O8(L8){if(L8.length==0)return 0;else{var I8=[];for(var F8=0;F8<L8[0];F8++)I8.push(O8(L8.slice(1)));return I8}};return G8(H8)}([this.n,this.n]);var Y=function(H8){var G8=[];while(H8-- >0)G8.push(0);return G8}(this.n),q=function(H8){var G8=[];while(H8-- >0)G8.push(0);return G8}(this.m),W=!0,G=!0,z=Math.min(this.m-1,this.n),H=Math.max(0,Math.min(this.n-2,this.m));for(var F=0;F<Math.max(z,H);F++){if(F<z){this.s[F]=0;for(var M=F;M<this.m;M++)this.s[F]=K.hypot(this.s[F],U[M][F]);if(this.s[F]!==0){if(U[F][F]<0)this.s[F]=-this.s[F];for(var B=F;B<this.m;B++)U[B][F]/=this.s[F];U[F][F]+=1}this.s[F]=-this.s[F]}for(var O=F+1;O<this.n;O++){if(function(H8,G8){return H8&&G8}(F<z,this.s[F]!==0)){var R=0;for(var L=F;L<this.m;L++)R+=U[L][F]*U[L][O];R=-R/U[F][F];for(var D=F;D<this.m;D++)U[D][O]+=R*U[D][F]}Y[O]=U[F][O]}if(function(H8,G8){return H8&&G8}(W,F<z))for(var A=F;A<this.m;A++)this.U[A][F]=U[A][F];if(F<H){Y[F]=0;for(var V=F+1;V<this.n;V++)Y[F]=K.hypot(Y[F],Y[V]);if(Y[F]!==0){if(Y[F+1]<0)Y[F]=-Y[F];for(var N=F+1;N<this.n;N++)Y[N]/=Y[F];Y[F+1]+=1}if(Y[F]=-Y[F],function(H8,G8){return H8&&G8}(F+1<this.m,Y[F]!==0)){for(var E=F+1;E<this.m;E++)q[E]=0;for(var C=F+1;C<this.n;C++)for(var j=F+1;j<this.m;j++)q[j]+=Y[C]*U[j][C];for(var $=F+1;$<this.n;$++){var k=-Y[$]/Y[F+1];for(var w=F+1;w<this.m;w++)U[w][$]+=k*q[w]}}if(G)for(var P=F+1;P<this.n;P++)this.V[P][F]=Y[P]}}var S=Math.min(this.n,this.m+1);if(z<this.n)this.s[z]=U[z][z];if(this.m<S)this.s[S-1]=0;if(H+1<S)Y[H]=U[H][S-1];if(Y[S-1]=0,W){for(var T=z;T<X;T++){for(var _=0;_<this.m;_++)this.U[_][T]=0;this.U[T][T]=1}for(var v=z-1;v>=0;v--)if(this.s[v]!==0){for(var x=v+1;x<X;x++){var b=0;for(var y=v;y<this.m;y++)b+=this.U[y][v]*this.U[y][x];b=-b/this.U[v][v];for(var u=v;u<this.m;u++)this.U[u][x]+=b*this.U[u][v]}for(var h=v;h<this.m;h++)this.U[h][v]=-this.U[h][v];this.U[v][v]=1+this.U[v][v];for(var p=0;p<v-1;p++)this.U[p][v]=0}else{for(var r=0;r<this.m;r++)this.U[r][v]=0;this.U[v][v]=1}}if(G)for(var t=this.n-1;t>=0;t--){if(function(H8,G8){return H8&&G8}(t<H,Y[t]!==0))for(var d=t+1;d<X;d++){var X0=0;for(var a=t+1;a<this.n;a++)X0+=this.V[a][t]*this.V[a][d];X0=-X0/this.V[t+1][t];for(var z0=t+1;z0<this.n;z0++)this.V[z0][d]+=X0*this.V[z0][t]}for(var J0=0;J0<this.n;J0++)this.V[J0][t]=0;this.V[t][t]=1}var Q0=S-1,e=0,n=Math.pow(2,-52),Y0=Math.pow(2,-966);while(S>0){var o=void 0,M0=void 0;for(o=S-2;o>=-1;o--){if(o===-1)break;if(Math.abs(Y[o])<=Y0+n*(Math.abs(this.s[o])+Math.abs(this.s[o+1]))){Y[o]=0;break}}if(o===S-2)M0=4;else{var K0=void 0;for(K0=S-1;K0>=o;K0--){if(K0===o)break;var V0=(K0!==S?Math.abs(Y[K0]):0)+(K0!==o+1?Math.abs(Y[K0-1]):0);if(Math.abs(this.s[K0])<=Y0+n*V0){this.s[K0]=0;break}}if(K0===o)M0=3;else if(K0===S-1)M0=1;else M0=2,o=K0}switch(o++,M0){case 1:{var i=Y[S-2];Y[S-2]=0;for(var p0=S-2;p0>=o;p0--){var B0=K.hypot(this.s[p0],i),h0=this.s[p0]/B0,a0=i/B0;if(this.s[p0]=B0,p0!==o)i=-a0*Y[p0-1],Y[p0-1]=h0*Y[p0-1];if(G)for(var s0=0;s0<this.n;s0++)B0=h0*this.V[s0][p0]+a0*this.V[s0][S-1],this.V[s0][S-1]=-a0*this.V[s0][p0]+h0*this.V[s0][S-1],this.V[s0][p0]=B0}}break;case 2:{var $0=Y[o-1];Y[o-1]=0;for(var x0=o;x0<S;x0++){var f0=K.hypot(this.s[x0],$0),C0=this.s[x0]/f0,m0=$0/f0;if(this.s[x0]=f0,$0=-m0*Y[x0],Y[x0]=C0*Y[x0],W)for(var F0=0;F0<this.m;F0++)f0=C0*this.U[F0][x0]+m0*this.U[F0][o-1],this.U[F0][o-1]=-m0*this.U[F0][x0]+C0*this.U[F0][o-1],this.U[F0][x0]=f0}}break;case 3:{var I0=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[S-1]),Math.abs(this.s[S-2])),Math.abs(Y[S-2])),Math.abs(this.s[o])),Math.abs(Y[o])),s=this.s[S-1]/I0,H0=this.s[S-2]/I0,m=Y[S-2]/I0,q0=this.s[o]/I0,W0=Y[o]/I0,N0=((H0+s)*(H0-s)+m*m)/2,D0=s*m*(s*m),L0=0;if(function(H8,G8){return H8||G8}(N0!==0,D0!==0)){if(L0=Math.sqrt(N0*N0+D0),N0<0)L0=-L0;L0=D0/(N0+L0)}var _0=(q0+s)*(q0-s)+L0,T0=q0*W0;for(var u0=o;u0<S-1;u0++){var Z8=K.hypot(_0,T0),B8=_0/Z8,r0=T0/Z8;if(u0!==o)Y[u0-1]=Z8;if(_0=B8*this.s[u0]+r0*Y[u0],Y[u0]=B8*Y[u0]-r0*this.s[u0],T0=r0*this.s[u0+1],this.s[u0+1]=B8*this.s[u0+1],G)for(var g0=0;g0<this.n;g0++)Z8=B8*this.V[g0][u0]+r0*this.V[g0][u0+1],this.V[g0][u0+1]=-r0*this.V[g0][u0]+B8*this.V[g0][u0+1],this.V[g0][u0]=Z8;if(Z8=K.hypot(_0,T0),B8=_0/Z8,r0=T0/Z8,this.s[u0]=Z8,_0=B8*Y[u0]+r0*this.s[u0+1],this.s[u0+1]=-r0*Y[u0]+B8*this.s[u0+1],T0=r0*Y[u0+1],Y[u0+1]=B8*Y[u0+1],W&&u0<this.m-1)for(var t0=0;t0<this.m;t0++)Z8=B8*this.U[t0][u0]+r0*this.U[t0][u0+1],this.U[t0][u0+1]=-r0*this.U[t0][u0]+B8*this.U[t0][u0+1],this.U[t0][u0]=Z8}Y[S-2]=_0,e=e+1}break;case 4:{if(this.s[o]<=0){if(this.s[o]=this.s[o]<0?-this.s[o]:0,G)for(var d0=0;d0<=Q0;d0++)this.V[d0][o]=-this.V[d0][o]}while(o<Q0){if(this.s[o]>=this.s[o+1])break;var X8=this.s[o];if(this.s[o]=this.s[o+1],this.s[o+1]=X8,G&&o<this.n-1)for(var g8=0;g8<this.n;g8++)X8=this.V[g8][o+1],this.V[g8][o+1]=this.V[g8][o],this.V[g8][o]=X8;if(W&&o<this.m-1)for(var M8=0;M8<this.m;M8++)X8=this.U[M8][o+1],this.U[M8][o+1]=this.U[M8][o],this.U[M8][o]=X8;o++}e=0,S--}break}}var $8={U:this.U,V:this.V,S:this.s};return $8},K.hypot=function(U,X){var Y=void 0;if(Math.abs(U)>Math.abs(X))Y=X/U,Y=Math.abs(U)*Math.sqrt(1+Y*Y);else if(X!=0)Y=U/X,Y=Math.abs(X)*Math.sqrt(1+Y*Y);else Y=0;return Y},Z.exports=K},function(Z,J,Q){var K=function(){function Y(q,W){for(var G=0;G<W.length;G++){var z=W[G];if(z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z)z.writable=!0;Object.defineProperty(q,z.key,z)}}return function(q,W,G){if(W)Y(q.prototype,W);if(G)Y(q,G);return q}}();function U(Y,q){if(!(Y instanceof q))throw TypeError("Cannot call a class as a function")}var X=function(){function Y(q,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;U(this,Y),this.sequence1=q,this.sequence2=W,this.match_score=G,this.mismatch_penalty=z,this.gap_penalty=H,this.iMax=q.length+1,this.jMax=W.length+1,this.grid=Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=Array(this.jMax);for(var M=0;M<this.jMax;M++)this.grid[F][M]=0}this.tracebackGrid=Array(this.iMax);for(var B=0;B<this.iMax;B++){this.tracebackGrid[B]=Array(this.jMax);for(var O=0;O<this.jMax;O++)this.tracebackGrid[B][O]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return K(Y,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var W=1;W<this.jMax;W++)this.grid[0][W]=this.grid[0][W-1]+this.gap_penalty,this.tracebackGrid[0][W]=[!1,!1,!0];for(var G=1;G<this.iMax;G++)this.grid[G][0]=this.grid[G-1][0]+this.gap_penalty,this.tracebackGrid[G][0]=[!1,!0,!1];for(var z=1;z<this.iMax;z++)for(var H=1;H<this.jMax;H++){var F=void 0;if(this.sequence1[z-1]===this.sequence2[H-1])F=this.grid[z-1][H-1]+this.match_score;else F=this.grid[z-1][H-1]+this.mismatch_penalty;var M=this.grid[z-1][H]+this.gap_penalty,B=this.grid[z][H-1]+this.gap_penalty,O=[F,M,B],R=this.arrayAllMaxIndexes(O);this.grid[z][H]=O[R[0]],this.tracebackGrid[z][H]=[R.includes(0),R.includes(1),R.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var W=[];W.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(W[0]){var G=W[0],z=this.tracebackGrid[G.pos[0]][G.pos[1]];if(z[0])W.push({pos:[G.pos[0]-1,G.pos[1]-1],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(z[1])W.push({pos:[G.pos[0]-1,G.pos[1]],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:"-"+G.seq2});if(z[2])W.push({pos:[G.pos[0],G.pos[1]-1],seq1:"-"+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(G.pos[0]===0&&G.pos[1]===0)this.alignments.push({sequence1:G.seq1,sequence2:G.seq2});W.shift()}return this.alignments}},{key:"getAllIndexes",value:function(W,G){var z=[],H=-1;while((H=W.indexOf(G,H+1))!==-1)z.push(H);return z}},{key:"arrayAllMaxIndexes",value:function(W){return this.getAllIndexes(W,Math.max.apply(null,W))}}]),Y}();Z.exports=X},function(Z,J,Q){var K=function(){return};K.FDLayout=Q(18),K.FDLayoutConstants=Q(4),K.FDLayoutEdge=Q(19),K.FDLayoutNode=Q(20),K.DimensionD=Q(21),K.HashMap=Q(22),K.HashSet=Q(23),K.IGeometry=Q(8),K.IMath=Q(9),K.Integer=Q(10),K.Point=Q(12),K.PointD=Q(5),K.RandomSeed=Q(16),K.RectangleD=Q(13),K.Transform=Q(17),K.UniqueIDGeneretor=Q(14),K.Quicksort=Q(25),K.LinkedList=Q(11),K.LGraphObject=Q(2),K.LGraph=Q(6),K.LEdge=Q(1),K.LGraphManager=Q(7),K.LNode=Q(3),K.Layout=Q(15),K.LayoutConstants=Q(0),K.NeedlemanWunsch=Q(27),K.Matrix=Q(24),K.SVD=Q(26),Z.exports=K},function(Z,J,Q){function K(){this.listeners=[]}var U=K.prototype;U.addListener=function(X,Y){this.listeners.push({event:X,callback:Y})},U.removeListener=function(X,Y){for(var q=this.listeners.length;q>=0;q--){var W=this.listeners[q];if(W.event===X&&W.callback===Y)this.listeners.splice(q,1)}},U.emit=function(X,Y){for(var q=0;q<this.listeners.length;q++){var W=this.listeners[q];if(X===W.event)W.callback(Y)}},Z.exports=K}])})});var ce=u9((dA,pe)=>{(function(J,Q){if(typeof dA==="object"&&typeof pe==="object")pe.exports=Q(ge());else if(typeof define==="function"&&define.amd)define(["layout-base"],Q);else if(typeof dA==="object")dA.coseBase=Q(ge());else J.coseBase=Q(J.layoutBase)})(dA,function(Z){return(()=>{var J={45:(X,Y,q)=>{var W={};W.layoutBase=q(551),W.CoSEConstants=q(806),W.CoSEEdge=q(767),W.CoSEGraph=q(880),W.CoSEGraphManager=q(578),W.CoSELayout=q(765),W.CoSENode=q(991),W.ConstraintHandler=q(902),X.exports=W},806:(X,Y,q)=>{var W=q(551).FDLayoutConstants;function G(){}for(var z in W)G[z]=W[z];G.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,G.DEFAULT_RADIAL_SEPARATION=W.DEFAULT_EDGE_LENGTH,G.DEFAULT_COMPONENT_SEPERATION=60,G.TILE=!0,G.TILING_PADDING_VERTICAL=10,G.TILING_PADDING_HORIZONTAL=10,G.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,G.ENFORCE_CONSTRAINTS=!0,G.APPLY_LAYOUT=!0,G.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,G.TREE_REDUCTION_ON_INCREMENTAL=!0,G.PURE_INCREMENTAL=G.DEFAULT_INCREMENTAL,X.exports=G},767:(X,Y,q)=>{var W=q(551).FDLayoutEdge;function G(H,F,M){W.call(this,H,F,M)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];X.exports=G},880:(X,Y,q)=>{var W=q(551).LGraph;function G(H,F,M){W.call(this,H,F,M)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];X.exports=G},578:(X,Y,q)=>{var W=q(551).LGraphManager;function G(H){W.call(this,H)}G.prototype=Object.create(W.prototype);for(var z in W)G[z]=W[z];X.exports=G},765:(X,Y,q)=>{var W=q(551).FDLayout,G=q(578),z=q(880),H=q(991),F=q(767),M=q(806),B=q(902),O=q(551).FDLayoutConstants,R=q(551).LayoutConstants,L=q(551).Point,D=q(551).PointD,A=q(551).DimensionD,V=q(551).Layout,N=q(551).Integer,E=q(551).IGeometry,C=q(551).LGraph,j=q(551).Transform,$=q(551).LinkedList;function k(){W.call(this),this.toBeTiled={},this.constraints={}}k.prototype=Object.create(W.prototype);for(var w in W)k[w]=W[w];k.prototype.newGraphManager=function(){var P=new G(this);return this.graphManager=P,P},k.prototype.newGraph=function(P){return new z(null,this.graphManager,P)},k.prototype.newNode=function(P){return new H(this.graphManager,P)},k.prototype.newEdge=function(P){return new F(null,null,P)},k.prototype.initParameters=function(){if(W.prototype.initParameters.call(this,arguments),!this.isSubLayout){if(M.DEFAULT_EDGE_LENGTH<10)this.idealEdgeLength=10;else this.idealEdgeLength=M.DEFAULT_EDGE_LENGTH;this.useSmartIdealEdgeLengthCalculation=M.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=O.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=O.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=O.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1}},k.prototype.initSpringEmbedder=function(){W.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/O.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=0.04,this.coolingAdjuster=1},k.prototype.layout=function(){var P=R.DEFAULT_CREATE_BENDS_AS_NEEDED;if(P)this.createBendpoints(),this.graphManager.resetAllEdges();return this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var P=this.getFlatForest();if(P.length>0)this.positionNodesRadially(P);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(_){return S.has(_)});this.graphManager.setAllNodesToApplyGravitation(T),this.positionNodesRandomly()}}else if(M.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(x){return S.has(x)});this.graphManager.setAllNodesToApplyGravitation(T)}if(Object.keys(this.constraints).length>0)B.handleConstraints(this),this.initConstraintVariables();if(this.initSpringEmbedder(),M.APPLY_LAYOUT)this.runSpringEmbedder();return!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%O.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.coolingCycle++,this.layoutQuality==0)this.coolingAdjuster=this.coolingCycle;else if(this.layoutQuality==1)this.coolingAdjuster=this.coolingCycle/3;this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(v){return P.has(v)});if(this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),M.PURE_INCREMENTAL)this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL/2;else this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;if(this.afterGrowthIterations%10==0)this.graphManager.updateBounds(),this.updateGrid();if(M.PURE_INCREMENTAL)this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100);else this.coolingFactor=O.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100);this.afterGrowthIterations++}var T=!this.isTreeGrowing&&!this.isGrowthFinished,_=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(T,_),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){var P=this.graphManager.getAllNodes(),S={};for(var T=0;T<P.length;T++){var _=P[T].rect,v=P[T].id;S[v]={id:v,x:_.getCenterX(),y:_.getCenterY(),w:_.width,h:_.height}}return S},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var P=!1;if(O.ANIMATE==="during")this.emit("layoutstarted");else{while(!P)P=this.tick();this.graphManager.updateBounds()}},k.prototype.moveNodes=function(){var P=this.getAllNodes(),S;for(var T=0;T<P.length;T++)S=P[T],S.calculateDisplacement();if(Object.keys(this.constraints).length>0)this.updateDisplacements();for(var T=0;T<P.length;T++)S=P[T],S.move()},k.prototype.initConstraintVariables=function(){var P=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;var S=this.graphManager.getAllNodes();for(var T=0;T<S.length;T++){var _=S[T];this.idToNodeMap.set(_.id,_)}var v=function a(z0){var J0=z0.getChild().getNodes(),Q0,e=0;for(var n=0;n<J0.length;n++)if(Q0=J0[n],Q0.getChild()==null){if(P.fixedNodeSet.has(Q0.id))e+=100}else e+=a(Q0);return e};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(J0){P.fixedNodeSet.add(J0.nodeId)});var S=this.graphManager.getAllNodes(),_;for(var T=0;T<S.length;T++)if(_=S[T],_.getChild()!=null){var x=v(_);if(x>0)_.fixedNodeWeight=x}}if(this.constraints.relativePlacementConstraint){var b=new Map,y=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(a){P.fixedNodesOnHorizontal.add(a),P.fixedNodesOnVertical.add(a)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var u=this.constraints.alignmentConstraint.vertical;for(var T=0;T<u.length;T++)this.dummyToNodeForVerticalAlignment.set("dummy"+T,[]),u[T].forEach(function(z0){if(b.set(z0,"dummy"+T),P.dummyToNodeForVerticalAlignment.get("dummy"+T).push(z0),P.fixedNodeSet.has(z0))P.fixedNodesOnHorizontal.add("dummy"+T)})}if(this.constraints.alignmentConstraint.horizontal){var h=this.constraints.alignmentConstraint.horizontal;for(var T=0;T<h.length;T++)this.dummyToNodeForHorizontalAlignment.set("dummy"+T,[]),h[T].forEach(function(z0){if(y.set(z0,"dummy"+T),P.dummyToNodeForHorizontalAlignment.get("dummy"+T).push(z0),P.fixedNodeSet.has(z0))P.fixedNodesOnVertical.add("dummy"+T)})}}if(M.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(a){var z0,J0,Q0;for(Q0=a.length-1;Q0>=2*a.length/3;Q0--)z0=Math.floor(Math.random()*(Q0+1)),J0=a[Q0],a[Q0]=a[z0],a[z0]=J0;return a},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(a){if(a.left){var z0=b.has(a.left)?b.get(a.left):a.left,J0=b.has(a.right)?b.get(a.right):a.right;if(!P.nodesInRelativeHorizontal.includes(z0))if(P.nodesInRelativeHorizontal.push(z0),P.nodeToRelativeConstraintMapHorizontal.set(z0,[]),P.dummyToNodeForVerticalAlignment.has(z0))P.nodeToTempPositionMapHorizontal.set(z0,P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(z0)[0]).getCenterX());else P.nodeToTempPositionMapHorizontal.set(z0,P.idToNodeMap.get(z0).getCenterX());if(!P.nodesInRelativeHorizontal.includes(J0))if(P.nodesInRelativeHorizontal.push(J0),P.nodeToRelativeConstraintMapHorizontal.set(J0,[]),P.dummyToNodeForVerticalAlignment.has(J0))P.nodeToTempPositionMapHorizontal.set(J0,P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(J0)[0]).getCenterX());else P.nodeToTempPositionMapHorizontal.set(J0,P.idToNodeMap.get(J0).getCenterX());P.nodeToRelativeConstraintMapHorizontal.get(z0).push({right:J0,gap:a.gap}),P.nodeToRelativeConstraintMapHorizontal.get(J0).push({left:z0,gap:a.gap})}else{var Q0=y.has(a.top)?y.get(a.top):a.top,e=y.has(a.bottom)?y.get(a.bottom):a.bottom;if(!P.nodesInRelativeVertical.includes(Q0))if(P.nodesInRelativeVertical.push(Q0),P.nodeToRelativeConstraintMapVertical.set(Q0,[]),P.dummyToNodeForHorizontalAlignment.has(Q0))P.nodeToTempPositionMapVertical.set(Q0,P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(Q0)[0]).getCenterY());else P.nodeToTempPositionMapVertical.set(Q0,P.idToNodeMap.get(Q0).getCenterY());if(!P.nodesInRelativeVertical.includes(e))if(P.nodesInRelativeVertical.push(e),P.nodeToRelativeConstraintMapVertical.set(e,[]),P.dummyToNodeForHorizontalAlignment.has(e))P.nodeToTempPositionMapVertical.set(e,P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(e)[0]).getCenterY());else P.nodeToTempPositionMapVertical.set(e,P.idToNodeMap.get(e).getCenterY());P.nodeToRelativeConstraintMapVertical.get(Q0).push({bottom:e,gap:a.gap}),P.nodeToRelativeConstraintMapVertical.get(e).push({top:Q0,gap:a.gap})}});else{var p=new Map,r=new Map;this.constraints.relativePlacementConstraint.forEach(function(a){if(a.left){var z0=b.has(a.left)?b.get(a.left):a.left,J0=b.has(a.right)?b.get(a.right):a.right;if(p.has(z0))p.get(z0).push(J0);else p.set(z0,[J0]);if(p.has(J0))p.get(J0).push(z0);else p.set(J0,[z0])}else{var Q0=y.has(a.top)?y.get(a.top):a.top,e=y.has(a.bottom)?y.get(a.bottom):a.bottom;if(r.has(Q0))r.get(Q0).push(e);else r.set(Q0,[e]);if(r.has(e))r.get(e).push(Q0);else r.set(e,[Q0])}});var t=function(z0,J0){var Q0=[],e=[],n=new $,Y0=new Set,o=0;return z0.forEach(function(M0,K0){if(!Y0.has(K0)){Q0[o]=[],e[o]=!1;var V0=K0;n.push(V0),Y0.add(V0),Q0[o].push(V0);while(n.length!=0){if(V0=n.shift(),J0.has(V0))e[o]=!0;var i=z0.get(V0);i.forEach(function(p0){if(!Y0.has(p0))n.push(p0),Y0.add(p0),Q0[o].push(p0)})}o++}}),{components:Q0,isFixed:e}},d=t(p,P.fixedNodesOnHorizontal);this.componentsOnHorizontal=d.components,this.fixedComponentsOnHorizontal=d.isFixed;var X0=t(r,P.fixedNodesOnVertical);this.componentsOnVertical=X0.components,this.fixedComponentsOnVertical=X0.isFixed}}},k.prototype.updateDisplacements=function(){var P=this;if(this.constraints.fixedNodeConstraint)this.constraints.fixedNodeConstraint.forEach(function(X0){var a=P.idToNodeMap.get(X0.nodeId);a.displacementX=0,a.displacementY=0});if(this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var S=this.constraints.alignmentConstraint.vertical;for(var T=0;T<S.length;T++){var _=0;for(var v=0;v<S[T].length;v++){if(this.fixedNodeSet.has(S[T][v])){_=0;break}_+=this.idToNodeMap.get(S[T][v]).displacementX}var x=_/S[T].length;for(var v=0;v<S[T].length;v++)this.idToNodeMap.get(S[T][v]).displacementX=x}}if(this.constraints.alignmentConstraint.horizontal){var b=this.constraints.alignmentConstraint.horizontal;for(var T=0;T<b.length;T++){var y=0;for(var v=0;v<b[T].length;v++){if(this.fixedNodeSet.has(b[T][v])){y=0;break}y+=this.idToNodeMap.get(b[T][v]).displacementY}var u=y/b[T].length;for(var v=0;v<b[T].length;v++)this.idToNodeMap.get(b[T][v]).displacementY=u}}}if(this.constraints.relativePlacementConstraint)if(M.RELAX_MOVEMENT_ON_CONSTRAINTS){if(this.totalIterations%10==0)this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical);this.nodesInRelativeHorizontal.forEach(function(X0){if(!P.fixedNodesOnHorizontal.has(X0)){var a=0;if(P.dummyToNodeForVerticalAlignment.has(X0))a=P.idToNodeMap.get(P.dummyToNodeForVerticalAlignment.get(X0)[0]).displacementX;else a=P.idToNodeMap.get(X0).displacementX;if(P.nodeToRelativeConstraintMapHorizontal.get(X0).forEach(function(z0){if(z0.right){var J0=P.nodeToTempPositionMapHorizontal.get(z0.right)-P.nodeToTempPositionMapHorizontal.get(X0)-a;if(J0<z0.gap)a-=z0.gap-J0}else{var J0=P.nodeToTempPositionMapHorizontal.get(X0)-P.nodeToTempPositionMapHorizontal.get(z0.left)+a;if(J0<z0.gap)a+=z0.gap-J0}}),P.nodeToTempPositionMapHorizontal.set(X0,P.nodeToTempPositionMapHorizontal.get(X0)+a),P.dummyToNodeForVerticalAlignment.has(X0))P.dummyToNodeForVerticalAlignment.get(X0).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=a});else P.idToNodeMap.get(X0).displacementX=a}}),this.nodesInRelativeVertical.forEach(function(X0){if(!P.fixedNodesOnHorizontal.has(X0)){var a=0;if(P.dummyToNodeForHorizontalAlignment.has(X0))a=P.idToNodeMap.get(P.dummyToNodeForHorizontalAlignment.get(X0)[0]).displacementY;else a=P.idToNodeMap.get(X0).displacementY;if(P.nodeToRelativeConstraintMapVertical.get(X0).forEach(function(z0){if(z0.bottom){var J0=P.nodeToTempPositionMapVertical.get(z0.bottom)-P.nodeToTempPositionMapVertical.get(X0)-a;if(J0<z0.gap)a-=z0.gap-J0}else{var J0=P.nodeToTempPositionMapVertical.get(X0)-P.nodeToTempPositionMapVertical.get(z0.top)+a;if(J0<z0.gap)a+=z0.gap-J0}}),P.nodeToTempPositionMapVertical.set(X0,P.nodeToTempPositionMapVertical.get(X0)+a),P.dummyToNodeForHorizontalAlignment.has(X0))P.dummyToNodeForHorizontalAlignment.get(X0).forEach(function(z0){P.idToNodeMap.get(z0).displacementY=a});else P.idToNodeMap.get(X0).displacementY=a}})}else{for(var T=0;T<this.componentsOnHorizontal.length;T++){var h=this.componentsOnHorizontal[T];if(this.fixedComponentsOnHorizontal[T])for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v]))this.dummyToNodeForVerticalAlignment.get(h[v]).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=0});else this.idToNodeMap.get(h[v]).displacementX=0;else{var p=0,r=0;for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v])){var t=this.dummyToNodeForVerticalAlignment.get(h[v]);p+=t.length*this.idToNodeMap.get(t[0]).displacementX,r+=t.length}else p+=this.idToNodeMap.get(h[v]).displacementX,r++;var d=p/r;for(var v=0;v<h.length;v++)if(this.dummyToNodeForVerticalAlignment.has(h[v]))this.dummyToNodeForVerticalAlignment.get(h[v]).forEach(function(z0){P.idToNodeMap.get(z0).displacementX=d});else this.idToNodeMap.get(h[v]).displacementX=d}}for(var T=0;T<this.componentsOnVertical.length;T++){var h=this.componentsOnVertical[T];if(this.fixedComponentsOnVertical[T])for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v]))this.dummyToNodeForHorizontalAlignment.get(h[v]).forEach(function(J0){P.idToNodeMap.get(J0).displacementY=0});else this.idToNodeMap.get(h[v]).displacementY=0;else{var p=0,r=0;for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v])){var t=this.dummyToNodeForHorizontalAlignment.get(h[v]);p+=t.length*this.idToNodeMap.get(t[0]).displacementY,r+=t.length}else p+=this.idToNodeMap.get(h[v]).displacementY,r++;var d=p/r;for(var v=0;v<h.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(h[v]))this.dummyToNodeForHorizontalAlignment.get(h[v]).forEach(function(n){P.idToNodeMap.get(n).displacementY=d});else this.idToNodeMap.get(h[v]).displacementY=d}}}},k.prototype.calculateNodesToApplyGravitationTo=function(){var P=[],S,T=this.graphManager.getGraphs(),_=T.length,v;for(v=0;v<_;v++)if(S=T[v],S.updateConnected(),!S.isConnected)P=P.concat(S.getNodes());return P},k.prototype.createBendpoints=function(){var P=[];P=P.concat(this.graphManager.getAllEdges());var S=new Set,T;for(T=0;T<P.length;T++){var _=P[T];if(!S.has(_)){var v=_.getSource(),x=_.getTarget();if(v==x)_.getBendpoints().push(new D),_.getBendpoints().push(new D),this.createDummyNodesForBendpoints(_),S.add(_);else{var b=[];if(b=b.concat(v.getEdgeListToNode(x)),b=b.concat(x.getEdgeListToNode(v)),!S.has(b[0])){if(b.length>1){var y;for(y=0;y<b.length;y++){var u=b[y];u.getBendpoints().push(new D),this.createDummyNodesForBendpoints(u)}}b.forEach(function(h){S.add(h)})}}}if(S.size==P.length)break}},k.prototype.positionNodesRadially=function(P){var S=new L(0,0),T=Math.ceil(Math.sqrt(P.length)),_=0,v=0,x=0,b=new D(0,0);for(var y=0;y<P.length;y++){if(y%T==0){if(x=0,v=_,y!=0)v+=M.DEFAULT_COMPONENT_SEPERATION;_=0}var u=P[y],h=V.findCenterOfTree(u);if(S.x=x,S.y=v,b=k.radialLayout(u,h,S),b.y>_)_=Math.floor(b.y);x=Math.floor(b.x+M.DEFAULT_COMPONENT_SEPERATION)}this.transform(new D(R.WORLD_CENTER_X-b.x/2,R.WORLD_CENTER_Y-b.y/2))},k.radialLayout=function(P,S,T){var _=Math.max(this.maxDiagonalInTree(P),M.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(S,null,0,359,0,_);var v=C.calculateBounds(P),x=new j;x.setDeviceOrgX(v.getMinX()),x.setDeviceOrgY(v.getMinY()),x.setWorldOrgX(T.x),x.setWorldOrgY(T.y);for(var b=0;b<P.length;b++){var y=P[b];y.transform(x)}var u=new D(v.getMaxX(),v.getMaxY());return x.inverseTransformPoint(u)},k.branchRadialLayout=function(P,S,T,_,v,x){var b=(_-T+1)/2;if(b<0)b+=180;var y=(b+T)%360,u=y*E.TWO_PI/360,h=Math.cos(u),p=v*Math.cos(u),r=v*Math.sin(u);P.setCenter(p,r);var t=[];t=t.concat(P.getEdges());var d=t.length;if(S!=null)d--;var X0=0,a=t.length,z0,J0=P.getEdgesBetween(S);while(J0.length>1){var Q0=J0[0];J0.splice(0,1);var e=t.indexOf(Q0);if(e>=0)t.splice(e,1);a--,d--}if(S!=null)z0=(t.indexOf(J0[0])+1)%a;else z0=0;var n=Math.abs(_-T)/d;for(var Y0=z0;X0!=d;Y0=++Y0%a){var o=t[Y0].getOtherEnd(P);if(o==S)continue;var M0=(T+X0*n)%360,K0=(M0+n)%360;k.branchRadialLayout(o,P,M0,K0,v+x,x),X0++}},k.maxDiagonalInTree=function(P){var S=N.MIN_VALUE;for(var T=0;T<P.length;T++){var _=P[T],v=_.getDiagonal();if(v>S)S=v}return S},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var P=this,S={};this.memberGroups={},this.idToDummyNode={};var T=[],_=this.graphManager.getAllNodes();for(var v=0;v<_.length;v++){var x=_[v],b=x.getParent();if(this.getNodeDegreeWithChildren(x)===0&&(b.id==null||!this.getToBeTiled(b)))T.push(x)}for(var v=0;v<T.length;v++){var x=T[v],y=x.getParent().id;if(typeof S[y]>"u")S[y]=[];S[y]=S[y].concat(x)}Object.keys(S).forEach(function(u){if(S[u].length>1){var h="DummyCompound_"+u;P.memberGroups[h]=S[u];var p=S[u][0].getParent(),r=new H(P.graphManager);r.id=h,r.paddingLeft=p.paddingLeft||0,r.paddingRight=p.paddingRight||0,r.paddingBottom=p.paddingBottom||0,r.paddingTop=p.paddingTop||0,P.idToDummyNode[h]=r;var t=P.getGraphManager().add(P.newGraph(),r),d=p.getChild();d.add(r);for(var X0=0;X0<S[u].length;X0++){var a=S[u][X0];d.remove(a),t.add(a)}}})},k.prototype.clearCompounds=function(){var P={},S={};this.performDFSOnCompounds();for(var T=0;T<this.compoundOrder.length;T++)S[this.compoundOrder[T].id]=this.compoundOrder[T],P[this.compoundOrder[T].id]=[].concat(this.compoundOrder[T].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[T].getChild()),this.compoundOrder[T].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(P,S)},k.prototype.clearZeroDegreeMembers=function(){var P=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(T){var _=P.idToDummyNode[T];if(S[T]=P.tileNodes(P.memberGroups[T],_.paddingLeft+_.paddingRight),_.rect.width=S[T].width,_.rect.height=S[T].height,_.setCenter(S[T].centerX,S[T].centerY),_.labelMarginLeft=0,_.labelMarginTop=0,M.NODE_DIMENSIONS_INCLUDE_LABELS){var v=_.rect.width,x=_.rect.height;if(_.labelWidth){if(_.labelPosHorizontal=="left")_.rect.x-=_.labelWidth,_.setWidth(v+_.labelWidth),_.labelMarginLeft=_.labelWidth;else if(_.labelPosHorizontal=="center"&&_.labelWidth>v)_.rect.x-=(_.labelWidth-v)/2,_.setWidth(_.labelWidth),_.labelMarginLeft=(_.labelWidth-v)/2;else if(_.labelPosHorizontal=="right")_.setWidth(v+_.labelWidth)}if(_.labelHeight){if(_.labelPosVertical=="top")_.rect.y-=_.labelHeight,_.setHeight(x+_.labelHeight),_.labelMarginTop=_.labelHeight;else if(_.labelPosVertical=="center"&&_.labelHeight>x)_.rect.y-=(_.labelHeight-x)/2,_.setHeight(_.labelHeight),_.labelMarginTop=(_.labelHeight-x)/2;else if(_.labelPosVertical=="bottom")_.setHeight(x+_.labelHeight)}}})},k.prototype.repopulateCompounds=function(){for(var P=this.compoundOrder.length-1;P>=0;P--){var S=this.compoundOrder[P],T=S.id,_=S.paddingLeft,v=S.paddingTop,x=S.labelMarginLeft,b=S.labelMarginTop;this.adjustLocations(this.tiledMemberPack[T],S.rect.x,S.rect.y,_,v,x,b)}},k.prototype.repopulateZeroDegreeMembers=function(){var P=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(T){var _=P.idToDummyNode[T],v=_.paddingLeft,x=_.paddingTop,b=_.labelMarginLeft,y=_.labelMarginTop;P.adjustLocations(S[T],_.rect.x,_.rect.y,v,x,b,y)})},k.prototype.getToBeTiled=function(P){var S=P.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var T=P.getChild();if(T==null)return this.toBeTiled[S]=!1,!1;var _=T.getNodes();for(var v=0;v<_.length;v++){var x=_[v];if(this.getNodeDegree(x)>0)return this.toBeTiled[S]=!1,!1;if(x.getChild()==null){this.toBeTiled[x.id]=!1;continue}if(!this.getToBeTiled(x))return this.toBeTiled[S]=!1,!1}return this.toBeTiled[S]=!0,!0},k.prototype.getNodeDegree=function(P){var S=P.id,T=P.getEdges(),_=0;for(var v=0;v<T.length;v++){var x=T[v];if(x.getSource().id!==x.getTarget().id)_=_+1}return _},k.prototype.getNodeDegreeWithChildren=function(P){var S=this.getNodeDegree(P);if(P.getChild()==null)return S;var T=P.getChild().getNodes();for(var _=0;_<T.length;_++){var v=T[_];S+=this.getNodeDegreeWithChildren(v)}return S},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(P){for(var S=0;S<P.length;S++){var T=P[S];if(T.getChild()!=null)this.fillCompexOrderByDFS(T.getChild().getNodes());if(this.getToBeTiled(T))this.compoundOrder.push(T)}},k.prototype.adjustLocations=function(P,S,T,_,v,x,b){S+=_+x,T+=v+b;var y=S;for(var u=0;u<P.rows.length;u++){var h=P.rows[u];S=y;var p=0;for(var r=0;r<h.length;r++){var t=h[r];if(t.rect.x=S,t.rect.y=T,S+=t.rect.width+P.horizontalPadding,t.rect.height>p)p=t.rect.height}T+=p+P.verticalPadding}},k.prototype.tileCompoundMembers=function(P,S){var T=this;this.tiledMemberPack=[],Object.keys(P).forEach(function(_){var v=S[_];if(T.tiledMemberPack[_]=T.tileNodes(P[_],v.paddingLeft+v.paddingRight),v.rect.width=T.tiledMemberPack[_].width,v.rect.height=T.tiledMemberPack[_].height,v.setCenter(T.tiledMemberPack[_].centerX,T.tiledMemberPack[_].centerY),v.labelMarginLeft=0,v.labelMarginTop=0,M.NODE_DIMENSIONS_INCLUDE_LABELS){var x=v.rect.width,b=v.rect.height;if(v.labelWidth){if(v.labelPosHorizontal=="left")v.rect.x-=v.labelWidth,v.setWidth(x+v.labelWidth),v.labelMarginLeft=v.labelWidth;else if(v.labelPosHorizontal=="center"&&v.labelWidth>x)v.rect.x-=(v.labelWidth-x)/2,v.setWidth(v.labelWidth),v.labelMarginLeft=(v.labelWidth-x)/2;else if(v.labelPosHorizontal=="right")v.setWidth(x+v.labelWidth)}if(v.labelHeight){if(v.labelPosVertical=="top")v.rect.y-=v.labelHeight,v.setHeight(b+v.labelHeight),v.labelMarginTop=v.labelHeight;else if(v.labelPosVertical=="center"&&v.labelHeight>b)v.rect.y-=(v.labelHeight-b)/2,v.setHeight(v.labelHeight),v.labelMarginTop=(v.labelHeight-b)/2;else if(v.labelPosVertical=="bottom")v.setHeight(b+v.labelHeight)}}})},k.prototype.tileNodes=function(P,S){var T=this.tileNodesByFavoringDim(P,S,!0),_=this.tileNodesByFavoringDim(P,S,!1),v=this.getOrgRatio(T),x=this.getOrgRatio(_),b;if(x<v)b=_;else b=T;return b},k.prototype.getOrgRatio=function(P){var{width:S,height:T}=P,_=S/T;if(_<1)_=1/_;return _},k.prototype.calcIdealRowWidth=function(P,S){var{TILING_PADDING_VERTICAL:T,TILING_PADDING_HORIZONTAL:_}=M,v=P.length,x=0,b=0,y=0;P.forEach(function(X0){if(x+=X0.getWidth(),b+=X0.getHeight(),X0.getWidth()>y)y=X0.getWidth()});var u=x/v,h=b/v,p=Math.pow(T-_,2)+4*(u+_)*(h+T)*v,r=(_-T+Math.sqrt(p))/(2*(u+_)),t;if(S){if(t=Math.ceil(r),t==r)t++}else t=Math.floor(r);var d=t*(u+_)-_;if(y>d)d=y;return d+=_*2,d},k.prototype.tileNodesByFavoringDim=function(P,S,T){var{TILING_PADDING_VERTICAL:_,TILING_PADDING_HORIZONTAL:v,TILING_COMPARE_BY:x}=M,b={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:_,horizontalPadding:v,centerX:0,centerY:0};if(x)b.idealRowWidth=this.calcIdealRowWidth(P,T);var y=function(a){return a.rect.width*a.rect.height},u=function(a,z0){return y(z0)-y(a)};P.sort(function(X0,a){var z0=u;if(b.idealRowWidth)return z0=x,z0(X0.id,a.id);return z0(X0,a)});var h=0,p=0;for(var r=0;r<P.length;r++){var t=P[r];h+=t.getCenterX(),p+=t.getCenterY()}b.centerX=h/P.length,b.centerY=p/P.length;for(var r=0;r<P.length;r++){var t=P[r];if(b.rows.length==0)this.insertNodeToRow(b,t,0,S);else if(this.canAddHorizontal(b,t.rect.width,t.rect.height)){var d=b.rows.length-1;if(!b.idealRowWidth)d=this.getShortestRowIndex(b);this.insertNodeToRow(b,t,d,S)}else this.insertNodeToRow(b,t,b.rows.length,S);this.shiftToLastRow(b)}return b},k.prototype.insertNodeToRow=function(P,S,T,_){var v=_;if(T==P.rows.length){var x=[];P.rows.push(x),P.rowWidth.push(v),P.rowHeight.push(0)}var b=P.rowWidth[T]+S.rect.width;if(P.rows[T].length>0)b+=P.horizontalPadding;if(P.rowWidth[T]=b,P.width<b)P.width=b;var y=S.rect.height;if(T>0)y+=P.verticalPadding;var u=0;if(y>P.rowHeight[T])u=P.rowHeight[T],P.rowHeight[T]=y,u=P.rowHeight[T]-u;P.height+=u,P.rows[T].push(S)},k.prototype.getShortestRowIndex=function(P){var S=-1,T=Number.MAX_VALUE;for(var _=0;_<P.rows.length;_++)if(P.rowWidth[_]<T)S=_,T=P.rowWidth[_];return S},k.prototype.getLongestRowIndex=function(P){var S=-1,T=Number.MIN_VALUE;for(var _=0;_<P.rows.length;_++)if(P.rowWidth[_]>T)S=_,T=P.rowWidth[_];return S},k.prototype.canAddHorizontal=function(P,S,T){if(P.idealRowWidth){var _=P.rows.length-1,v=P.rowWidth[_];return v+S+P.horizontalPadding<=P.idealRowWidth}var x=this.getShortestRowIndex(P);if(x<0)return!0;var b=P.rowWidth[x];if(b+P.horizontalPadding+S<=P.width)return!0;var y=0;if(P.rowHeight[x]<T){if(x>0)y=T+P.verticalPadding-P.rowHeight[x]}var u;if(P.width-b>=S+P.horizontalPadding)u=(P.height+y)/(b+S+P.horizontalPadding);else u=(P.height+y)/P.width;y=T+P.verticalPadding;var h;if(P.width<S)h=(P.height+y)/S;else h=(P.height+y)/P.width;if(h<1)h=1/h;if(u<1)u=1/u;return u<h},k.prototype.shiftToLastRow=function(P){var S=this.getLongestRowIndex(P),T=P.rowWidth.length-1,_=P.rows[S],v=_[_.length-1],x=v.width+P.horizontalPadding;if(P.width-P.rowWidth[T]>x&&S!=T){_.splice(-1,1),P.rows[T].push(v),P.rowWidth[S]=P.rowWidth[S]-x,P.rowWidth[T]=P.rowWidth[T]+x,P.width=P.rowWidth[instance.getLongestRowIndex(P)];var b=Number.MIN_VALUE;for(var y=0;y<_.length;y++)if(_[y].height>b)b=_[y].height;if(S>0)b+=P.verticalPadding;var u=P.rowHeight[S]+P.rowHeight[T];if(P.rowHeight[S]=b,P.rowHeight[T]<v.height+P.verticalPadding)P.rowHeight[T]=v.height+P.verticalPadding;var h=P.rowHeight[S]+P.rowHeight[T];P.height+=h-u,this.shiftToLastRow(P)}},k.prototype.tilingPreLayout=function(){if(M.TILE)this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers()},k.prototype.tilingPostLayout=function(){if(M.TILE)this.repopulateZeroDegreeMembers(),this.repopulateCompounds()},k.prototype.reduceTrees=function(){var P=[],S=!0,T;while(S){var _=this.graphManager.getAllNodes(),v=[];S=!1;for(var x=0;x<_.length;x++)if(T=_[x],T.getEdges().length==1&&!T.getEdges()[0].isInterGraph&&T.getChild()==null){if(M.PURE_INCREMENTAL){var b=T.getEdges()[0].getOtherEnd(T),y=new A(T.getCenterX()-b.getCenterX(),T.getCenterY()-b.getCenterY());v.push([T,T.getEdges()[0],T.getOwner(),y])}else v.push([T,T.getEdges()[0],T.getOwner()]);S=!0}if(S==!0){var u=[];for(var h=0;h<v.length;h++)if(v[h][0].getEdges().length==1)u.push(v[h]),v[h][0].getOwner().remove(v[h][0]);P.push(u),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=P},k.prototype.growTree=function(P){var S=P.length,T=P[S-1],_;for(var v=0;v<T.length;v++)_=T[v],this.findPlaceforPrunedNode(_),_[2].add(_[0]),_[2].add(_[1],_[1].source,_[1].target);P.splice(P.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(P){var S,T,_=P[0];if(_==P[1].source)T=P[1].target;else T=P[1].source;if(M.PURE_INCREMENTAL)_.setCenter(T.getCenterX()+P[3].getWidth(),T.getCenterY()+P[3].getHeight());else{var{startX:v,finishX:x,startY:b,finishY:y}=T,u=0,h=0,p=0,r=0,t=[u,p,h,r];if(b>0)for(var d=v;d<=x;d++)t[0]+=this.grid[d][b-1].length+this.grid[d][b].length-1;if(x<this.grid.length-1)for(var d=b;d<=y;d++)t[1]+=this.grid[x+1][d].length+this.grid[x][d].length-1;if(y<this.grid[0].length-1)for(var d=v;d<=x;d++)t[2]+=this.grid[d][y+1].length+this.grid[d][y].length-1;if(v>0)for(var d=b;d<=y;d++)t[3]+=this.grid[v-1][d].length+this.grid[v][d].length-1;var X0=N.MAX_VALUE,a,z0;for(var J0=0;J0<t.length;J0++)if(t[J0]<X0)X0=t[J0],a=1,z0=J0;else if(t[J0]==X0)a++;if(a==3&&X0==0){if(t[0]==0&&t[1]==0&&t[2]==0)S=1;else if(t[0]==0&&t[1]==0&&t[3]==0)S=0;else if(t[0]==0&&t[2]==0&&t[3]==0)S=3;else if(t[1]==0&&t[2]==0&&t[3]==0)S=2}else if(a==2&&X0==0){var Q0=Math.floor(Math.random()*2);if(t[0]==0&&t[1]==0)if(Q0==0)S=0;else S=1;else if(t[0]==0&&t[2]==0)if(Q0==0)S=0;else S=2;else if(t[0]==0&&t[3]==0)if(Q0==0)S=0;else S=3;else if(t[1]==0&&t[2]==0)if(Q0==0)S=1;else S=2;else if(t[1]==0&&t[3]==0)if(Q0==0)S=1;else S=3;else if(Q0==0)S=2;else S=3}else if(a==4&&X0==0){var Q0=Math.floor(Math.random()*4);S=Q0}else S=z0;if(S==0)_.setCenter(T.getCenterX(),T.getCenterY()-T.getHeight()/2-O.DEFAULT_EDGE_LENGTH-_.getHeight()/2);else if(S==1)_.setCenter(T.getCenterX()+T.getWidth()/2+O.DEFAULT_EDGE_LENGTH+_.getWidth()/2,T.getCenterY());else if(S==2)_.setCenter(T.getCenterX(),T.getCenterY()+T.getHeight()/2+O.DEFAULT_EDGE_LENGTH+_.getHeight()/2);else _.setCenter(T.getCenterX()-T.getWidth()/2-O.DEFAULT_EDGE_LENGTH-_.getWidth()/2,T.getCenterY())}},X.exports=k},991:(X,Y,q)=>{var W=q(551).FDLayoutNode,G=q(551).IMath;function z(F,M,B,O){W.call(this,F,M,B,O)}z.prototype=Object.create(W.prototype);for(var H in W)z[H]=W[H];z.prototype.calculateDisplacement=function(){var F=this.graphManager.getLayout();if(this.getChild()!=null&&this.fixedNodeWeight)this.displacementX+=F.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=F.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight;else this.displacementX+=F.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=F.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren;if(Math.abs(this.displacementX)>F.coolingFactor*F.maxNodeDisplacement)this.displacementX=F.coolingFactor*F.maxNodeDisplacement*G.sign(this.displacementX);if(Math.abs(this.displacementY)>F.coolingFactor*F.maxNodeDisplacement)this.displacementY=F.coolingFactor*F.maxNodeDisplacement*G.sign(this.displacementY);if(this.child&&this.child.getNodes().length>0)this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},z.prototype.propogateDisplacementToChildren=function(F,M){var B=this.getChild().getNodes(),O;for(var R=0;R<B.length;R++)if(O=B[R],O.getChild()==null)O.displacementX+=F,O.displacementY+=M;else O.propogateDisplacementToChildren(F,M)},z.prototype.move=function(){var F=this.graphManager.getLayout();if(this.child==null||this.child.getNodes().length==0)this.moveBy(this.displacementX,this.displacementY),F.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},z.prototype.setPred1=function(F){this.pred1=F},z.prototype.getPred1=function(){return pred1},z.prototype.getPred2=function(){return pred2},z.prototype.setNext=function(F){this.next=F},z.prototype.getNext=function(){return next},z.prototype.setProcessed=function(F){this.processed=F},z.prototype.isProcessed=function(){return processed},X.exports=z},902:(X,Y,q)=>{function W(B){if(Array.isArray(B)){for(var O=0,R=Array(B.length);O<B.length;O++)R[O]=B[O];return R}else return Array.from(B)}var G=q(806),z=q(551).LinkedList,H=q(551).Matrix,F=q(551).SVD;function M(){}M.handleConstraints=function(B){var O={};O.fixedNodeConstraint=B.constraints.fixedNodeConstraint,O.alignmentConstraint=B.constraints.alignmentConstraint,O.relativePlacementConstraint=B.constraints.relativePlacementConstraint;var R=new Map,L=new Map,D=[],A=[],V=B.getAllNodes(),N=0;for(var E=0;E<V.length;E++){var C=V[E];if(C.getChild()==null)L.set(C.id,N++),D.push(C.getCenterX()),A.push(C.getCenterY()),R.set(C.id,C)}if(O.relativePlacementConstraint)O.relativePlacementConstraint.forEach(function(I0){if(!I0.gap&&I0.gap!=0)if(I0.left)I0.gap=G.DEFAULT_EDGE_LENGTH+R.get(I0.left).getWidth()/2+R.get(I0.right).getWidth()/2;else I0.gap=G.DEFAULT_EDGE_LENGTH+R.get(I0.top).getHeight()/2+R.get(I0.bottom).getHeight()/2});var j=function(s,H0){return{x:s.x-H0.x,y:s.y-H0.y}},$=function(s){var H0=0,m=0;return s.forEach(function(q0){H0+=D[L.get(q0)],m+=A[L.get(q0)]}),{x:H0/s.size,y:m/s.size}},k=function(s,H0,m,q0,W0){function N0(r0,g0){var t0=new Set(r0),d0=!0,X8=!1,g8=void 0;try{for(var M8=g0[Symbol.iterator](),$8;!(d0=($8=M8.next()).done);d0=!0){var H8=$8.value;t0.add(H8)}}catch(G8){X8=!0,g8=G8}finally{try{if(!d0&&M8.return)M8.return()}finally{if(X8)throw g8}}return t0}var D0=new Map;s.forEach(function(r0,g0){D0.set(g0,0)}),s.forEach(function(r0,g0){r0.forEach(function(t0){D0.set(t0.id,D0.get(t0.id)+1)})});var L0=new Map,_0=new Map,T0=new z;if(D0.forEach(function(r0,g0){if(r0==0){if(T0.push(g0),!m)if(H0=="horizontal")L0.set(g0,L.has(g0)?D[L.get(g0)]:q0.get(g0));else L0.set(g0,L.has(g0)?A[L.get(g0)]:q0.get(g0))}else L0.set(g0,Number.NEGATIVE_INFINITY);if(m)_0.set(g0,new Set([g0]))}),m)W0.forEach(function(r0){var g0=[];if(r0.forEach(function(X8){if(m.has(X8))g0.push(X8)}),g0.length>0){var t0=0;g0.forEach(function(X8){if(H0=="horizontal")L0.set(X8,L.has(X8)?D[L.get(X8)]:q0.get(X8)),t0+=L0.get(X8);else L0.set(X8,L.has(X8)?A[L.get(X8)]:q0.get(X8)),t0+=L0.get(X8)}),t0=t0/g0.length,r0.forEach(function(X8){if(!m.has(X8))L0.set(X8,t0)})}else{var d0=0;r0.forEach(function(X8){if(H0=="horizontal")d0+=L.has(X8)?D[L.get(X8)]:q0.get(X8);else d0+=L.has(X8)?A[L.get(X8)]:q0.get(X8)}),d0=d0/r0.length,r0.forEach(function(X8){L0.set(X8,d0)})}});var u0=function(){var g0=T0.shift(),t0=s.get(g0);t0.forEach(function(d0){if(L0.get(d0.id)<L0.get(g0)+d0.gap)if(m&&m.has(d0.id)){var X8=void 0;if(H0=="horizontal")X8=L.has(d0.id)?D[L.get(d0.id)]:q0.get(d0.id);else X8=L.has(d0.id)?A[L.get(d0.id)]:q0.get(d0.id);if(L0.set(d0.id,X8),X8<L0.get(g0)+d0.gap){var g8=L0.get(g0)+d0.gap-X8;_0.get(g0).forEach(function(M8){L0.set(M8,L0.get(M8)-g8)})}}else L0.set(d0.id,L0.get(g0)+d0.gap);if(D0.set(d0.id,D0.get(d0.id)-1),D0.get(d0.id)==0)T0.push(d0.id);if(m)_0.set(d0.id,N0(_0.get(g0),_0.get(d0.id)))})};while(T0.length!=0)u0();if(m){var Z8=new Set;s.forEach(function(r0,g0){if(r0.length==0)Z8.add(g0)});var B8=[];_0.forEach(function(r0,g0){if(Z8.has(g0)){var t0=!1,d0=!0,X8=!1,g8=void 0;try{for(var M8=r0[Symbol.iterator](),$8;!(d0=($8=M8.next()).done);d0=!0){var H8=$8.value;if(m.has(H8))t0=!0}}catch(L8){X8=!0,g8=L8}finally{try{if(!d0&&M8.return)M8.return()}finally{if(X8)throw g8}}if(!t0){var G8=!1,O8=void 0;if(B8.forEach(function(L8,I8){if(L8.has([].concat(W(r0))[0]))G8=!0,O8=I8}),!G8)B8.push(new Set(r0));else r0.forEach(function(L8){B8[O8].add(L8)})}}}),B8.forEach(function(r0,g0){var{POSITIVE_INFINITY:t0,POSITIVE_INFINITY:d0,NEGATIVE_INFINITY:X8,NEGATIVE_INFINITY:g8}=Number,M8=!0,$8=!1,H8=void 0;try{for(var G8=r0[Symbol.iterator](),O8;!(M8=(O8=G8.next()).done);M8=!0){var L8=O8.value,I8=void 0;if(H0=="horizontal")I8=L.has(L8)?D[L.get(L8)]:q0.get(L8);else I8=L.has(L8)?A[L.get(L8)]:q0.get(L8);var F8=L0.get(L8);if(I8<t0)t0=I8;if(I8>X8)X8=I8;if(F8<d0)d0=F8;if(F8>g8)g8=F8}}catch(A9){$8=!0,H8=A9}finally{try{if(!M8&&G8.return)G8.return()}finally{if($8)throw H8}}var iZ=(t0+X8)/2-(d0+g8)/2,w8=!0,xZ=!1,uZ=void 0;try{for(var YZ=r0[Symbol.iterator](),qZ;!(w8=(qZ=YZ.next()).done);w8=!0){var SZ=qZ.value;L0.set(SZ,L0.get(SZ)+iZ)}}catch(A9){xZ=!0,uZ=A9}finally{try{if(!w8&&YZ.return)YZ.return()}finally{if(xZ)throw uZ}}})}return L0},w=function(s){var H0=0,m=0,q0=0,W0=0;if(s.forEach(function(_0){if(_0.left)D[L.get(_0.left)]-D[L.get(_0.right)]>=0?H0++:m++;else A[L.get(_0.top)]-A[L.get(_0.bottom)]>=0?q0++:W0++}),H0>m&&q0>W0)for(var N0=0;N0<L.size;N0++)D[N0]=-1*D[N0],A[N0]=-1*A[N0];else if(H0>m)for(var D0=0;D0<L.size;D0++)D[D0]=-1*D[D0];else if(q0>W0)for(var L0=0;L0<L.size;L0++)A[L0]=-1*A[L0]},P=function(s){var H0=[],m=new z,q0=new Set,W0=0;return s.forEach(function(N0,D0){if(!q0.has(D0)){H0[W0]=[];var L0=D0;m.push(L0),q0.add(L0),H0[W0].push(L0);while(m.length!=0){L0=m.shift();var _0=s.get(L0);_0.forEach(function(T0){if(!q0.has(T0.id))m.push(T0.id),q0.add(T0.id),H0[W0].push(T0.id)})}W0++}}),H0},S=function(s){var H0=new Map;return s.forEach(function(m,q0){H0.set(q0,[])}),s.forEach(function(m,q0){m.forEach(function(W0){H0.get(q0).push(W0),H0.get(W0.id).push({id:q0,gap:W0.gap,direction:W0.direction})})}),H0},T=function(s){var H0=new Map;return s.forEach(function(m,q0){H0.set(q0,[])}),s.forEach(function(m,q0){m.forEach(function(W0){H0.get(W0.id).push({id:q0,gap:W0.gap,direction:W0.direction})})}),H0},_=[],v=[],x=!1,b=!1,y=new Set,u=new Map,h=new Map,p=[];if(O.fixedNodeConstraint)O.fixedNodeConstraint.forEach(function(I0){y.add(I0.nodeId)});if(O.relativePlacementConstraint)O.relativePlacementConstraint.forEach(function(I0){if(I0.left){if(u.has(I0.left))u.get(I0.left).push({id:I0.right,gap:I0.gap,direction:"horizontal"});else u.set(I0.left,[{id:I0.right,gap:I0.gap,direction:"horizontal"}]);if(!u.has(I0.right))u.set(I0.right,[])}else{if(u.has(I0.top))u.get(I0.top).push({id:I0.bottom,gap:I0.gap,direction:"vertical"});else u.set(I0.top,[{id:I0.bottom,gap:I0.gap,direction:"vertical"}]);if(!u.has(I0.bottom))u.set(I0.bottom,[])}}),h=S(u),p=P(h);if(G.TRANSFORM_ON_CONSTRAINT_HANDLING){if(O.fixedNodeConstraint&&O.fixedNodeConstraint.length>1)O.fixedNodeConstraint.forEach(function(I0,s){_[s]=[I0.position.x,I0.position.y],v[s]=[D[L.get(I0.nodeId)],A[L.get(I0.nodeId)]]}),x=!0;else if(O.alignmentConstraint)(function(){var I0=0;if(O.alignmentConstraint.vertical){var s=O.alignmentConstraint.vertical,H0=function(L0){var _0=new Set;s[L0].forEach(function(Z8){_0.add(Z8)});var T0=new Set([].concat(W(_0)).filter(function(Z8){return y.has(Z8)})),u0=void 0;if(T0.size>0)u0=D[L.get(T0.values().next().value)];else u0=$(_0).x;s[L0].forEach(function(Z8){_[I0]=[u0,A[L.get(Z8)]],v[I0]=[D[L.get(Z8)],A[L.get(Z8)]],I0++})};for(var m=0;m<s.length;m++)H0(m);x=!0}if(O.alignmentConstraint.horizontal){var q0=O.alignmentConstraint.horizontal,W0=function(L0){var _0=new Set;q0[L0].forEach(function(Z8){_0.add(Z8)});var T0=new Set([].concat(W(_0)).filter(function(Z8){return y.has(Z8)})),u0=void 0;if(T0.size>0)u0=D[L.get(T0.values().next().value)];else u0=$(_0).y;q0[L0].forEach(function(Z8){_[I0]=[D[L.get(Z8)],u0],v[I0]=[D[L.get(Z8)],A[L.get(Z8)]],I0++})};for(var N0=0;N0<q0.length;N0++)W0(N0);x=!0}if(O.relativePlacementConstraint)b=!0})();else if(O.relativePlacementConstraint){var r=0,t=0;for(var d=0;d<p.length;d++)if(p[d].length>r)r=p[d].length,t=d;if(r<h.size/2)w(O.relativePlacementConstraint),x=!1,b=!1;else{var X0=new Map,a=new Map,z0=[];p[t].forEach(function(I0){u.get(I0).forEach(function(s){if(s.direction=="horizontal"){if(X0.has(I0))X0.get(I0).push(s);else X0.set(I0,[s]);if(!X0.has(s.id))X0.set(s.id,[]);z0.push({left:I0,right:s.id})}else{if(a.has(I0))a.get(I0).push(s);else a.set(I0,[s]);if(!a.has(s.id))a.set(s.id,[]);z0.push({top:I0,bottom:s.id})}})}),w(z0),b=!1;var J0=k(X0,"horizontal"),Q0=k(a,"vertical");p[t].forEach(function(I0,s){if(v[s]=[D[L.get(I0)],A[L.get(I0)]],_[s]=[],J0.has(I0))_[s][0]=J0.get(I0);else _[s][0]=D[L.get(I0)];if(Q0.has(I0))_[s][1]=Q0.get(I0);else _[s][1]=A[L.get(I0)]}),x=!0}}if(x){var e=void 0,n=H.transpose(_),Y0=H.transpose(v);for(var o=0;o<n.length;o++)n[o]=H.multGamma(n[o]),Y0[o]=H.multGamma(Y0[o]);var M0=H.multMat(n,H.transpose(Y0)),K0=F.svd(M0);e=H.multMat(K0.V,H.transpose(K0.U));for(var V0=0;V0<L.size;V0++){var i=[D[V0],A[V0]],p0=[e[0][0],e[1][0]],B0=[e[0][1],e[1][1]];D[V0]=H.dotProduct(i,p0),A[V0]=H.dotProduct(i,B0)}if(b)w(O.relativePlacementConstraint)}}if(G.ENFORCE_CONSTRAINTS){if(O.fixedNodeConstraint&&O.fixedNodeConstraint.length>0){var h0={x:0,y:0};O.fixedNodeConstraint.forEach(function(I0,s){var H0={x:D[L.get(I0.nodeId)],y:A[L.get(I0.nodeId)]},m=I0.position,q0=j(m,H0);h0.x+=q0.x,h0.y+=q0.y}),h0.x/=O.fixedNodeConstraint.length,h0.y/=O.fixedNodeConstraint.length,D.forEach(function(I0,s){D[s]+=h0.x}),A.forEach(function(I0,s){A[s]+=h0.y}),O.fixedNodeConstraint.forEach(function(I0){D[L.get(I0.nodeId)]=I0.position.x,A[L.get(I0.nodeId)]=I0.position.y})}if(O.alignmentConstraint){if(O.alignmentConstraint.vertical){var a0=O.alignmentConstraint.vertical,s0=function(s){var H0=new Set;a0[s].forEach(function(W0){H0.add(W0)});var m=new Set([].concat(W(H0)).filter(function(W0){return y.has(W0)})),q0=void 0;if(m.size>0)q0=D[L.get(m.values().next().value)];else q0=$(H0).x;H0.forEach(function(W0){if(!y.has(W0))D[L.get(W0)]=q0})};for(var $0=0;$0<a0.length;$0++)s0($0)}if(O.alignmentConstraint.horizontal){var x0=O.alignmentConstraint.horizontal,f0=function(s){var H0=new Set;x0[s].forEach(function(W0){H0.add(W0)});var m=new Set([].concat(W(H0)).filter(function(W0){return y.has(W0)})),q0=void 0;if(m.size>0)q0=A[L.get(m.values().next().value)];else q0=$(H0).y;H0.forEach(function(W0){if(!y.has(W0))A[L.get(W0)]=q0})};for(var C0=0;C0<x0.length;C0++)f0(C0)}}if(O.relativePlacementConstraint)(function(){var I0=new Map,s=new Map,H0=new Map,m=new Map,q0=new Map,W0=new Map,N0=new Set,D0=new Set;if(y.forEach(function(a8){N0.add(a8),D0.add(a8)}),O.alignmentConstraint){if(O.alignmentConstraint.vertical){var L0=O.alignmentConstraint.vertical,_0=function(o0){H0.set("dummy"+o0,[]),L0[o0].forEach(function(A8){if(I0.set(A8,"dummy"+o0),H0.get("dummy"+o0).push(A8),y.has(A8))N0.add("dummy"+o0)}),q0.set("dummy"+o0,D[L.get(L0[o0][0])])};for(var T0=0;T0<L0.length;T0++)_0(T0)}if(O.alignmentConstraint.horizontal){var u0=O.alignmentConstraint.horizontal,Z8=function(o0){m.set("dummy"+o0,[]),u0[o0].forEach(function(A8){if(s.set(A8,"dummy"+o0),m.get("dummy"+o0).push(A8),y.has(A8))D0.add("dummy"+o0)}),W0.set("dummy"+o0,A[L.get(u0[o0][0])])};for(var B8=0;B8<u0.length;B8++)Z8(B8)}}var r0=new Map,g0=new Map,t0=function(o0){u.get(o0).forEach(function(A8){var p8=void 0,q8=void 0;if(A8.direction=="horizontal"){if(p8=I0.get(o0)?I0.get(o0):o0,I0.get(A8.id))q8={id:I0.get(A8.id),gap:A8.gap,direction:A8.direction};else q8=A8;if(r0.has(p8))r0.get(p8).push(q8);else r0.set(p8,[q8]);if(!r0.has(q8.id))r0.set(q8.id,[])}else{if(p8=s.get(o0)?s.get(o0):o0,s.get(A8.id))q8={id:s.get(A8.id),gap:A8.gap,direction:A8.direction};else q8=A8;if(g0.has(p8))g0.get(p8).push(q8);else g0.set(p8,[q8]);if(!g0.has(q8.id))g0.set(q8.id,[])}})},d0=!0,X8=!1,g8=void 0;try{for(var M8=u.keys()[Symbol.iterator](),$8;!(d0=($8=M8.next()).done);d0=!0){var H8=$8.value;t0(H8)}}catch(a8){X8=!0,g8=a8}finally{try{if(!d0&&M8.return)M8.return()}finally{if(X8)throw g8}}var G8=S(r0),O8=S(g0),L8=P(G8),I8=P(O8),F8=T(r0),iZ=T(g0),w8=[],xZ=[];L8.forEach(function(a8,o0){w8[o0]=[],a8.forEach(function(A8){if(F8.get(A8).length==0)w8[o0].push(A8)})}),I8.forEach(function(a8,o0){xZ[o0]=[],a8.forEach(function(A8){if(iZ.get(A8).length==0)xZ[o0].push(A8)})});var uZ=k(r0,"horizontal",N0,q0,w8),YZ=k(g0,"vertical",D0,W0,xZ),qZ=function(o0){if(H0.get(o0))H0.get(o0).forEach(function(A8){D[L.get(A8)]=uZ.get(o0)});else D[L.get(o0)]=uZ.get(o0)},SZ=!0,A9=!1,R8=void 0;try{for(var S0=uZ.keys()[Symbol.iterator](),Y8;!(SZ=(Y8=S0.next()).done);SZ=!0){var j8=Y8.value;qZ(j8)}}catch(a8){A9=!0,R8=a8}finally{try{if(!SZ&&S0.return)S0.return()}finally{if(A9)throw R8}}var b0=function(o0){if(m.get(o0))m.get(o0).forEach(function(A8){A[L.get(A8)]=YZ.get(o0)});else A[L.get(o0)]=YZ.get(o0)},K8=!0,Q8=!1,E8=void 0;try{for(var zZ=YZ.keys()[Symbol.iterator](),IZ;!(K8=(IZ=zZ.next()).done);K8=!0){var j8=IZ.value;b0(j8)}}catch(a8){Q8=!0,E8=a8}finally{try{if(!K8&&zZ.return)zZ.return()}finally{if(Q8)throw E8}}})()}for(var m0=0;m0<V.length;m0++){var F0=V[m0];if(F0.getChild()==null)F0.setCenter(D[L.get(F0.id)],A[L.get(F0.id)])}},X.exports=M},551:(X)=>{X.exports=Z}},Q={};function K(X){var Y=Q[X];if(Y!==void 0)return Y.exports;var q=Q[X]={exports:{}};return J[X](q,q.exports,K),q.exports}var U=K(45);return U})()})});var mg0=u9((iA,le)=>{(function(J,Q){if(typeof iA==="object"&&typeof le==="object")le.exports=Q(ce());else if(typeof define==="function"&&define.amd)define(["cose-base"],Q);else if(typeof iA==="object")iA.cytoscapeFcose=Q(ce());else J.cytoscapeFcose=Q(J.coseBase)})(iA,function(Z){return(()=>{var J={658:(X)=>{X.exports=Object.assign!=null?Object.assign.bind(Object):function(Y){for(var q=arguments.length,W=Array(q>1?q-1:0),G=1;G<q;G++)W[G-1]=arguments[G];return W.forEach(function(z){Object.keys(z).forEach(function(H){return Y[H]=z[H]})}),Y}},548:(X,Y,q)=>{var W=function(){function H(F,M){var B=[],O=!0,R=!1,L=void 0;try{for(var D=F[Symbol.iterator](),A;!(O=(A=D.next()).done);O=!0)if(B.push(A.value),M&&B.length===M)break}catch(V){R=!0,L=V}finally{try{if(!O&&D.return)D.return()}finally{if(R)throw L}}return B}return function(F,M){if(Array.isArray(F))return F;else if(Symbol.iterator in Object(F))return H(F,M);else throw TypeError("Invalid attempt to destructure non-iterable instance")}}(),G=q(140).layoutBase.LinkedList,z={};z.getTopMostNodes=function(H){var F={};for(var M=0;M<H.length;M++)F[H[M].id()]=!0;var B=H.filter(function(O,R){if(typeof O==="number")O=R;var L=O.parent()[0];while(L!=null){if(F[L.id()])return!1;L=L.parent()[0]}return!0});return B},z.connectComponents=function(H,F,M,B){var O=new G,R=new Set,L=[],D=void 0,A=void 0,V=void 0,N=!1,E=1,C=[],j=[],$=function(){var w=H.collection();j.push(w);var P=M[0],S=H.collection();S.merge(P).merge(P.descendants().intersection(F)),L.push(P),S.forEach(function(v){O.push(v),R.add(v),w.merge(v)});var T=function(){P=O.shift();var x=H.collection();P.neighborhood().nodes().forEach(function(h){if(F.intersection(P.edgesWith(h)).length>0)x.merge(h)});for(var b=0;b<x.length;b++){var y=x[b];if(D=M.intersection(y.union(y.ancestors())),D!=null&&!R.has(D[0])){var u=D.union(D.descendants());u.forEach(function(h){if(O.push(h),R.add(h),w.merge(h),M.has(h))L.push(h)})}}};while(O.length!=0)T();if(w.forEach(function(v){F.intersection(v.connectedEdges()).forEach(function(x){if(w.has(x.source())&&w.has(x.target()))w.merge(x)})}),L.length==M.length)N=!0;if(!N||N&&E>1){A=L[0],V=A.connectedEdges().length,L.forEach(function(v){if(v.connectedEdges().length<V)V=v.connectedEdges().length,A=v}),C.push(A.id());var _=H.collection();_.merge(L[0]),L.forEach(function(v){_.merge(v)}),L=[],M=M.difference(_),E++}};do $();while(!N);if(B){if(C.length>0)B.set("dummy"+(B.size+1),C)}return j},z.relocateComponent=function(H,F,M){if(!M.fixedNodeConstraint){var{POSITIVE_INFINITY:B,NEGATIVE_INFINITY:O,POSITIVE_INFINITY:R,NEGATIVE_INFINITY:L}=Number;if(M.quality=="draft"){var D=!0,A=!1,V=void 0;try{for(var N=F.nodeIndexes[Symbol.iterator](),E;!(D=(E=N.next()).done);D=!0){var C=E.value,j=W(C,2),$=j[0],k=j[1],w=M.cy.getElementById($);if(w){var P=w.boundingBox(),S=F.xCoords[k]-P.w/2,T=F.xCoords[k]+P.w/2,_=F.yCoords[k]-P.h/2,v=F.yCoords[k]+P.h/2;if(S<B)B=S;if(T>O)O=T;if(_<R)R=_;if(v>L)L=v}}}catch(h){A=!0,V=h}finally{try{if(!D&&N.return)N.return()}finally{if(A)throw V}}var x=H.x-(O+B)/2,b=H.y-(L+R)/2;F.xCoords=F.xCoords.map(function(h){return h+x}),F.yCoords=F.yCoords.map(function(h){return h+b})}else{Object.keys(F).forEach(function(h){var p=F[h],r=p.getRect().x,t=p.getRect().x+p.getRect().width,d=p.getRect().y,X0=p.getRect().y+p.getRect().height;if(r<B)B=r;if(t>O)O=t;if(d<R)R=d;if(X0>L)L=X0});var y=H.x-(O+B)/2,u=H.y-(L+R)/2;Object.keys(F).forEach(function(h){var p=F[h];p.setCenter(p.getCenterX()+y,p.getCenterY()+u)})}}},z.calcBoundingBox=function(H,F,M,B){var{MAX_SAFE_INTEGER:O,MIN_SAFE_INTEGER:R,MAX_SAFE_INTEGER:L,MIN_SAFE_INTEGER:D}=Number,A=void 0,V=void 0,N=void 0,E=void 0,C=H.descendants().not(":parent"),j=C.length;for(var $=0;$<j;$++){var k=C[$];if(A=F[B.get(k.id())]-k.width()/2,V=F[B.get(k.id())]+k.width()/2,N=M[B.get(k.id())]-k.height()/2,E=M[B.get(k.id())]+k.height()/2,O>A)O=A;if(R<V)R=V;if(L>N)L=N;if(D<E)D=E}var w={};return w.topLeftX=O,w.topLeftY=L,w.width=R-O,w.height=D-L,w},z.calcParentsWithoutChildren=function(H,F){var M=H.collection();return F.nodes(":parent").forEach(function(B){var O=!1;if(B.children().forEach(function(R){if(R.css("display")!="none")O=!0}),!O)M.merge(B)}),M},X.exports=z},816:(X,Y,q)=>{var W=q(548),G=q(140).CoSELayout,z=q(140).CoSENode,H=q(140).layoutBase.PointD,F=q(140).layoutBase.DimensionD,M=q(140).layoutBase.LayoutConstants,B=q(140).layoutBase.FDLayoutConstants,O=q(140).CoSEConstants,R=function(D,A){var{cy:V,eles:N}=D,E=N.nodes(),C=N.edges(),j=void 0,$=void 0,k=void 0,w={};if(D.randomize)j=A.nodeIndexes,$=A.xCoords,k=A.yCoords;var P=function(h){return typeof h==="function"},S=function(h,p){if(P(h))return h(p);else return h},T=W.calcParentsWithoutChildren(V,N),_=function u(h,p,r,t){var d=p.length;for(var X0=0;X0<d;X0++){var a=p[X0],z0=null;if(a.intersection(T).length==0)z0=a.children();var J0=void 0,Q0=a.layoutDimensions({nodeDimensionsIncludeLabels:t.nodeDimensionsIncludeLabels});if(a.outerWidth()!=null&&a.outerHeight()!=null)if(t.randomize)if(!a.isParent())J0=h.add(new z(r.graphManager,new H($[j.get(a.id())]-Q0.w/2,k[j.get(a.id())]-Q0.h/2),new F(parseFloat(Q0.w),parseFloat(Q0.h))));else{var e=W.calcBoundingBox(a,$,k,j);if(a.intersection(T).length==0)J0=h.add(new z(r.graphManager,new H(e.topLeftX,e.topLeftY),new F(e.width,e.height)));else J0=h.add(new z(r.graphManager,new H(e.topLeftX,e.topLeftY),new F(parseFloat(Q0.w),parseFloat(Q0.h))))}else J0=h.add(new z(r.graphManager,new H(a.position("x")-Q0.w/2,a.position("y")-Q0.h/2),new F(parseFloat(Q0.w),parseFloat(Q0.h))));else J0=h.add(new z(this.graphManager));if(J0.id=a.data("id"),J0.nodeRepulsion=S(t.nodeRepulsion,a),J0.paddingLeft=parseInt(a.css("padding")),J0.paddingTop=parseInt(a.css("padding")),J0.paddingRight=parseInt(a.css("padding")),J0.paddingBottom=parseInt(a.css("padding")),t.nodeDimensionsIncludeLabels)J0.labelWidth=a.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,J0.labelHeight=a.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,J0.labelPosVertical=a.css("text-valign"),J0.labelPosHorizontal=a.css("text-halign");if(w[a.data("id")]=J0,isNaN(J0.rect.x))J0.rect.x=0;if(isNaN(J0.rect.y))J0.rect.y=0;if(z0!=null&&z0.length>0){var n=void 0;n=r.getGraphManager().add(r.newGraph(),J0),u(n,z0,r,t)}}},v=function(h,p,r){var t=0,d=0;for(var X0=0;X0<r.length;X0++){var a=r[X0],z0=w[a.data("source")],J0=w[a.data("target")];if(z0&&J0&&z0!==J0&&z0.getEdgesBetween(J0).length==0){var Q0=p.add(h.newEdge(),z0,J0);Q0.id=a.id(),Q0.idealLength=S(D.idealEdgeLength,a),Q0.edgeElasticity=S(D.edgeElasticity,a),t+=Q0.idealLength,d++}}if(D.idealEdgeLength!=null){if(d>0)O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=t/d;else if(!P(D.idealEdgeLength))O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=D.idealEdgeLength;else O.DEFAULT_EDGE_LENGTH=B.DEFAULT_EDGE_LENGTH=50;O.MIN_REPULSION_DIST=B.MIN_REPULSION_DIST=B.DEFAULT_EDGE_LENGTH/10,O.DEFAULT_RADIAL_SEPARATION=B.DEFAULT_EDGE_LENGTH}},x=function(h,p){if(p.fixedNodeConstraint)h.constraints.fixedNodeConstraint=p.fixedNodeConstraint;if(p.alignmentConstraint)h.constraints.alignmentConstraint=p.alignmentConstraint;if(p.relativePlacementConstraint)h.constraints.relativePlacementConstraint=p.relativePlacementConstraint};if(D.nestingFactor!=null)O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=B.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=D.nestingFactor;if(D.gravity!=null)O.DEFAULT_GRAVITY_STRENGTH=B.DEFAULT_GRAVITY_STRENGTH=D.gravity;if(D.numIter!=null)O.MAX_ITERATIONS=B.MAX_ITERATIONS=D.numIter;if(D.gravityRange!=null)O.DEFAULT_GRAVITY_RANGE_FACTOR=B.DEFAULT_GRAVITY_RANGE_FACTOR=D.gravityRange;if(D.gravityCompound!=null)O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=B.DEFAULT_COMPOUND_GRAVITY_STRENGTH=D.gravityCompound;if(D.gravityRangeCompound!=null)O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=B.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=D.gravityRangeCompound;if(D.initialEnergyOnIncremental!=null)O.DEFAULT_COOLING_FACTOR_INCREMENTAL=B.DEFAULT_COOLING_FACTOR_INCREMENTAL=D.initialEnergyOnIncremental;if(D.tilingCompareBy!=null)O.TILING_COMPARE_BY=D.tilingCompareBy;if(D.quality=="proof")M.QUALITY=2;else M.QUALITY=0;if(O.NODE_DIMENSIONS_INCLUDE_LABELS=B.NODE_DIMENSIONS_INCLUDE_LABELS=M.NODE_DIMENSIONS_INCLUDE_LABELS=D.nodeDimensionsIncludeLabels,O.DEFAULT_INCREMENTAL=B.DEFAULT_INCREMENTAL=M.DEFAULT_INCREMENTAL=!D.randomize,O.ANIMATE=B.ANIMATE=M.ANIMATE=D.animate,O.TILE=D.tile,O.TILING_PADDING_VERTICAL=typeof D.tilingPaddingVertical==="function"?D.tilingPaddingVertical.call():D.tilingPaddingVertical,O.TILING_PADDING_HORIZONTAL=typeof D.tilingPaddingHorizontal==="function"?D.tilingPaddingHorizontal.call():D.tilingPaddingHorizontal,O.DEFAULT_INCREMENTAL=B.DEFAULT_INCREMENTAL=M.DEFAULT_INCREMENTAL=!0,O.PURE_INCREMENTAL=!D.randomize,M.DEFAULT_UNIFORM_LEAF_NODE_SIZES=D.uniformNodeDimensions,D.step=="transformed")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,O.ENFORCE_CONSTRAINTS=!1,O.APPLY_LAYOUT=!1;if(D.step=="enforced")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,O.ENFORCE_CONSTRAINTS=!0,O.APPLY_LAYOUT=!1;if(D.step=="cose")O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,O.ENFORCE_CONSTRAINTS=!1,O.APPLY_LAYOUT=!0;if(D.step=="all"){if(D.randomize)O.TRANSFORM_ON_CONSTRAINT_HANDLING=!0;else O.TRANSFORM_ON_CONSTRAINT_HANDLING=!1;O.ENFORCE_CONSTRAINTS=!0,O.APPLY_LAYOUT=!0}if(D.fixedNodeConstraint||D.alignmentConstraint||D.relativePlacementConstraint)O.TREE_REDUCTION_ON_INCREMENTAL=!1;else O.TREE_REDUCTION_ON_INCREMENTAL=!0;var b=new G,y=b.newGraphManager();return _(y.addRoot(),W.getTopMostNodes(E),b,D),v(b,y,C),x(b,D),b.runLayout(),w};X.exports={coseLayout:R}},212:(X,Y,q)=>{var W=function(){function D(A,V){for(var N=0;N<V.length;N++){var E=V[N];if(E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E)E.writable=!0;Object.defineProperty(A,E.key,E)}}return function(A,V,N){if(V)D(A.prototype,V);if(N)D(A,N);return A}}();function G(D,A){if(!(D instanceof A))throw TypeError("Cannot call a class as a function")}var z=q(658),H=q(548),F=q(657),M=F.spectralLayout,B=q(816),O=B.coseLayout,R=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1000,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:0.0000001,nodeRepulsion:function(A){return 4500},idealEdgeLength:function(A){return 50},edgeElasticity:function(A){return 0.45},nestingFactor:0.1,gravity:0.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),L=function(){function D(A){G(this,D),this.options=z({},R,A)}return W(D,[{key:"run",value:function(){var V=this,N=this.options,E=N.cy,C=N.eles,j=[],$=void 0,k=void 0,w=[],P=void 0,S=[];if(N.fixedNodeConstraint&&(!Array.isArray(N.fixedNodeConstraint)||N.fixedNodeConstraint.length==0))N.fixedNodeConstraint=void 0;if(N.alignmentConstraint){if(N.alignmentConstraint.vertical&&(!Array.isArray(N.alignmentConstraint.vertical)||N.alignmentConstraint.vertical.length==0))N.alignmentConstraint.vertical=void 0;if(N.alignmentConstraint.horizontal&&(!Array.isArray(N.alignmentConstraint.horizontal)||N.alignmentConstraint.horizontal.length==0))N.alignmentConstraint.horizontal=void 0}if(N.relativePlacementConstraint&&(!Array.isArray(N.relativePlacementConstraint)||N.relativePlacementConstraint.length==0))N.relativePlacementConstraint=void 0;var T=N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint;if(T)N.tile=!1,N.packComponents=!1;var _=void 0,v=!1;if(E.layoutUtilities&&N.packComponents){if(_=E.layoutUtilities("get"),!_)_=E.layoutUtilities();v=!0}if(C.nodes().length>0)if(!v){var x=N.eles.boundingBox();if(S.push({x:x.x1+x.w/2,y:x.y1+x.h/2}),N.randomize){var b=M(N);j.push(b)}if(N.quality=="default"||N.quality=="proof")w.push(O(N,j[0])),H.relocateComponent(S[0],w[0],N);else H.relocateComponent(S[0],j[0],N)}else{var y=H.getTopMostNodes(N.eles.nodes());if(P=H.connectComponents(E,N.eles,y),P.forEach(function(V0){var i=V0.boundingBox();S.push({x:i.x1+i.w/2,y:i.y1+i.h/2})}),N.randomize)P.forEach(function(V0){N.eles=V0,j.push(M(N))});if(N.quality=="default"||N.quality=="proof"){var u=E.collection();if(N.tile){var h=new Map,p=[],r=[],t=0,d={nodeIndexes:h,xCoords:p,yCoords:r},X0=[];if(P.forEach(function(V0,i){if(V0.edges().length==0)V0.nodes().forEach(function(p0,B0){if(u.merge(V0.nodes()[B0]),!p0.isParent())d.nodeIndexes.set(V0.nodes()[B0].id(),t++),d.xCoords.push(V0.nodes()[0].position().x),d.yCoords.push(V0.nodes()[0].position().y)}),X0.push(i)}),u.length>1){var a=u.boundingBox();S.push({x:a.x1+a.w/2,y:a.y1+a.h/2}),P.push(u),j.push(d);for(var z0=X0.length-1;z0>=0;z0--)P.splice(X0[z0],1),j.splice(X0[z0],1),S.splice(X0[z0],1)}}P.forEach(function(V0,i){N.eles=V0,w.push(O(N,j[i])),H.relocateComponent(S[i],w[i],N)})}else P.forEach(function(V0,i){H.relocateComponent(S[i],j[i],N)});var J0=new Set;if(P.length>1){var Q0=[],e=C.filter(function(V0){return V0.css("display")=="none"});P.forEach(function(V0,i){var p0=void 0;if(N.quality=="draft")p0=j[i].nodeIndexes;if(V0.nodes().not(e).length>0){var B0={};B0.edges=[],B0.nodes=[];var h0=void 0;if(V0.nodes().not(e).forEach(function(a0){if(N.quality=="draft")if(!a0.isParent())h0=p0.get(a0.id()),B0.nodes.push({x:j[i].xCoords[h0]-a0.boundingbox().w/2,y:j[i].yCoords[h0]-a0.boundingbox().h/2,width:a0.boundingbox().w,height:a0.boundingbox().h});else{var s0=H.calcBoundingBox(a0,j[i].xCoords,j[i].yCoords,p0);B0.nodes.push({x:s0.topLeftX,y:s0.topLeftY,width:s0.width,height:s0.height})}else if(w[i][a0.id()])B0.nodes.push({x:w[i][a0.id()].getLeft(),y:w[i][a0.id()].getTop(),width:w[i][a0.id()].getWidth(),height:w[i][a0.id()].getHeight()})}),V0.edges().forEach(function(a0){var s0=a0.source(),$0=a0.target();if(s0.css("display")!="none"&&$0.css("display")!="none"){if(N.quality=="draft"){var x0=p0.get(s0.id()),f0=p0.get($0.id()),C0=[],m0=[];if(s0.isParent()){var F0=H.calcBoundingBox(s0,j[i].xCoords,j[i].yCoords,p0);C0.push(F0.topLeftX+F0.width/2),C0.push(F0.topLeftY+F0.height/2)}else C0.push(j[i].xCoords[x0]),C0.push(j[i].yCoords[x0]);if($0.isParent()){var I0=H.calcBoundingBox($0,j[i].xCoords,j[i].yCoords,p0);m0.push(I0.topLeftX+I0.width/2),m0.push(I0.topLeftY+I0.height/2)}else m0.push(j[i].xCoords[f0]),m0.push(j[i].yCoords[f0]);B0.edges.push({startX:C0[0],startY:C0[1],endX:m0[0],endY:m0[1]})}else if(w[i][s0.id()]&&w[i][$0.id()])B0.edges.push({startX:w[i][s0.id()].getCenterX(),startY:w[i][s0.id()].getCenterY(),endX:w[i][$0.id()].getCenterX(),endY:w[i][$0.id()].getCenterY()})}}),B0.nodes.length>0)Q0.push(B0),J0.add(i)}});var n=_.packComponents(Q0,N.randomize).shifts;if(N.quality=="draft")j.forEach(function(V0,i){var p0=V0.xCoords.map(function(h0){return h0+n[i].dx}),B0=V0.yCoords.map(function(h0){return h0+n[i].dy});V0.xCoords=p0,V0.yCoords=B0});else{var Y0=0;J0.forEach(function(V0){Object.keys(w[V0]).forEach(function(i){var p0=w[V0][i];p0.setCenter(p0.getCenterX()+n[Y0].dx,p0.getCenterY()+n[Y0].dy)}),Y0++})}}}var o=function(i,p0){if(N.quality=="default"||N.quality=="proof"){if(typeof i==="number")i=p0;var B0=void 0,h0=void 0,a0=i.data("id");if(w.forEach(function($0){if(a0 in $0)B0={x:$0[a0].getRect().getCenterX(),y:$0[a0].getRect().getCenterY()},h0=$0[a0]}),N.nodeDimensionsIncludeLabels){if(h0.labelWidth){if(h0.labelPosHorizontal=="left")B0.x+=h0.labelWidth/2;else if(h0.labelPosHorizontal=="right")B0.x-=h0.labelWidth/2}if(h0.labelHeight){if(h0.labelPosVertical=="top")B0.y+=h0.labelHeight/2;else if(h0.labelPosVertical=="bottom")B0.y-=h0.labelHeight/2}}if(B0==null)B0={x:i.position("x"),y:i.position("y")};return{x:B0.x,y:B0.y}}else{var s0=void 0;if(j.forEach(function($0){var x0=$0.nodeIndexes.get(i.id());if(x0!=null)s0={x:$0.xCoords[x0],y:$0.yCoords[x0]}}),s0==null)s0={x:i.position("x"),y:i.position("y")};return{x:s0.x,y:s0.y}}};if(N.quality=="default"||N.quality=="proof"||N.randomize){var M0=H.calcParentsWithoutChildren(E,C),K0=C.filter(function(V0){return V0.css("display")=="none"});if(N.eles=C.not(K0),C.nodes().not(":parent").not(K0).layoutPositions(V,N,o),M0.length>0)M0.forEach(function(V0){V0.position(o(V0))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),D}();X.exports=L},657:(X,Y,q)=>{var W=q(548),G=q(140).layoutBase.Matrix,z=q(140).layoutBase.SVD,H=function(M){var{cy:B,eles:O}=M,R=O.nodes(),L=O.nodes(":parent"),D=new Map,A=new Map,V=new Map,N=[],E=[],C=[],j=[],$=[],k=[],w=[],P=[],S=void 0,T=void 0,_=1e8,v=0.000000001,x=M.piTol,b=M.samplingType,y=M.nodeSeparation,u=void 0,h=function(){var H0=0,m=0,q0=!1;while(m<u){H0=Math.floor(Math.random()*T),q0=!1;for(var W0=0;W0<m;W0++)if(j[W0]==H0){q0=!0;break}if(!q0)j[m]=H0,m++;else continue}},p=function(H0,m,q0){var W0=[],N0=0,D0=0,L0=0,_0=void 0,T0=[],u0=0,Z8=1;for(var B8=0;B8<T;B8++)T0[B8]=_;W0[D0]=H0,T0[H0]=0;while(D0>=N0){L0=W0[N0++];var r0=N[L0];for(var g0=0;g0<r0.length;g0++)if(_0=A.get(r0[g0]),T0[_0]==_)T0[_0]=T0[L0]+1,W0[++D0]=_0;k[L0][m]=T0[L0]*y}if(q0){for(var t0=0;t0<T;t0++)if(k[t0][m]<$[t0])$[t0]=k[t0][m];for(var d0=0;d0<T;d0++)if($[d0]>u0)u0=$[d0],Z8=d0}return Z8},r=function(H0){var m=void 0;if(!H0){h();for(var q0=0;q0<u;q0++)p(j[q0],q0,H0,!1)}else{m=Math.floor(Math.random()*T),S=m;for(var W0=0;W0<T;W0++)$[W0]=_;for(var N0=0;N0<u;N0++)j[N0]=m,m=p(m,N0,H0)}for(var D0=0;D0<T;D0++)for(var L0=0;L0<u;L0++)k[D0][L0]*=k[D0][L0];for(var _0=0;_0<u;_0++)w[_0]=[];for(var T0=0;T0<u;T0++)for(var u0=0;u0<u;u0++)w[T0][u0]=k[j[u0]][T0]},t=function(){var H0=z.svd(w),m=H0.S,q0=H0.U,W0=H0.V,N0=m[0]*m[0]*m[0],D0=[];for(var L0=0;L0<u;L0++){D0[L0]=[];for(var _0=0;_0<u;_0++)if(D0[L0][_0]=0,L0==_0)D0[L0][_0]=m[L0]/(m[L0]*m[L0]+N0/(m[L0]*m[L0]))}P=G.multMat(G.multMat(W0,D0),G.transpose(q0))},d=function(){var H0=void 0,m=void 0,q0=[],W0=[],N0=[],D0=[];for(var L0=0;L0<T;L0++)q0[L0]=Math.random(),W0[L0]=Math.random();q0=G.normalize(q0),W0=G.normalize(W0);var _0=0,T0=v,u0=v,Z8=void 0;while(!0){_0++;for(var B8=0;B8<T;B8++)N0[B8]=q0[B8];if(q0=G.multGamma(G.multL(G.multGamma(N0),k,P)),H0=G.dotProduct(N0,q0),q0=G.normalize(q0),T0=G.dotProduct(N0,q0),Z8=Math.abs(T0/u0),Z8<=1+x&&Z8>=1)break;u0=T0}for(var r0=0;r0<T;r0++)N0[r0]=q0[r0];_0=0,u0=v;while(!0){_0++;for(var g0=0;g0<T;g0++)D0[g0]=W0[g0];if(D0=G.minusOp(D0,G.multCons(N0,G.dotProduct(N0,D0))),W0=G.multGamma(G.multL(G.multGamma(D0),k,P)),m=G.dotProduct(D0,W0),W0=G.normalize(W0),T0=G.dotProduct(D0,W0),Z8=Math.abs(T0/u0),Z8<=1+x&&Z8>=1)break;u0=T0}for(var t0=0;t0<T;t0++)D0[t0]=W0[t0];E=G.multCons(N0,Math.sqrt(Math.abs(H0))),C=G.multCons(D0,Math.sqrt(Math.abs(m)))};W.connectComponents(B,O,W.getTopMostNodes(R),D),L.forEach(function(s){W.connectComponents(B,O,W.getTopMostNodes(s.descendants().intersection(O)),D)});var X0=0;for(var a=0;a<R.length;a++)if(!R[a].isParent())A.set(R[a].id(),X0++);var z0=!0,J0=!1,Q0=void 0;try{for(var e=D.keys()[Symbol.iterator](),n;!(z0=(n=e.next()).done);z0=!0){var Y0=n.value;A.set(Y0,X0++)}}catch(s){J0=!0,Q0=s}finally{try{if(!z0&&e.return)e.return()}finally{if(J0)throw Q0}}for(var o=0;o<A.size;o++)N[o]=[];L.forEach(function(s){var H0=s.children().intersection(O);while(H0.nodes(":childless").length==0)H0=H0.nodes()[0].children().intersection(O);var m=0,q0=H0.nodes(":childless")[0].connectedEdges().length;H0.nodes(":childless").forEach(function(W0,N0){if(W0.connectedEdges().length<q0)q0=W0.connectedEdges().length,m=N0}),V.set(s.id(),H0.nodes(":childless")[m].id())}),R.forEach(function(s){var H0=void 0;if(s.isParent())H0=A.get(V.get(s.id()));else H0=A.get(s.id());s.neighborhood().nodes().forEach(function(m){if(O.intersection(s.edgesWith(m)).length>0)if(m.isParent())N[H0].push(V.get(m.id()));else N[H0].push(m.id())})});var M0=function(H0){var m=A.get(H0),q0=void 0;D.get(H0).forEach(function(W0){if(B.getElementById(W0).isParent())q0=V.get(W0);else q0=W0;N[m].push(q0),N[A.get(q0)].push(H0)})},K0=!0,V0=!1,i=void 0;try{for(var p0=D.keys()[Symbol.iterator](),B0;!(K0=(B0=p0.next()).done);K0=!0){var h0=B0.value;M0(h0)}}catch(s){V0=!0,i=s}finally{try{if(!K0&&p0.return)p0.return()}finally{if(V0)throw i}}T=A.size;var a0=void 0;if(T>2){u=T<M.sampleSize?T:M.sampleSize;for(var s0=0;s0<T;s0++)k[s0]=[];for(var $0=0;$0<u;$0++)P[$0]=[];if(M.quality=="draft"||M.step=="all")r(b),t(),d(),a0={nodeIndexes:A,xCoords:E,yCoords:C};else A.forEach(function(s,H0){E.push(B.getElementById(H0).position("x")),C.push(B.getElementById(H0).position("y"))}),a0={nodeIndexes:A,xCoords:E,yCoords:C};return a0}else{var x0=A.keys(),f0=B.getElementById(x0.next().value),C0=f0.position(),m0=f0.outerWidth();if(E.push(C0.x),C.push(C0.y),T==2){var F0=B.getElementById(x0.next().value),I0=F0.outerWidth();E.push(C0.x+m0/2+I0/2+M.idealEdgeLength),C.push(C0.y)}return a0={nodeIndexes:A,xCoords:E,yCoords:C},a0}};X.exports={spectralLayout:H}},579:(X,Y,q)=>{var W=q(212),G=function(H){if(!H)return;H("layout","fcose",W)};if(typeof cytoscape<"u")G(cytoscape);X.exports=G},140:(X)=>{X.exports=Z}},Q={};function K(X){var Y=Q[X];if(Y!==void 0)return Y.exports;var q=Q[X]={exports:{}};return J[X](q,q.exports,K),q.exports}var U=K(579);return U})()})});var Jp0={};LZ(Jp0,{diagram:()=>bp8});function sg0(Z,J,Q){Z.forEach((K)=>{J.add({group:"nodes",data:{type:"service",id:K.id,icon:K.icon,label:K.title,parent:K.in,width:Q.getConfigField("iconSize"),height:Q.getConfigField("iconSize")},classes:"node-service"})})}function rg0(Z,J,Q){Z.forEach((K)=>{J.add({group:"nodes",data:{type:"junction",id:K.id,parent:K.in,width:Q.getConfigField("iconSize"),height:Q.getConfigField("iconSize")},classes:"node-junction"})})}function ng0(Z,J){J.nodes().map((Q)=>{let K=RO(Q);if(K.type==="group")return;K.x=Q.position().x,K.y=Q.position().y,Z.getElementById(K.id).attr("transform","translate("+(K.x||0)+","+(K.y||0)+")")})}function ag0(Z,J){Z.forEach((Q)=>{J.add({group:"nodes",data:{type:"group",id:Q.id,icon:Q.icon,label:Q.title,parent:Q.in},classes:"node-group"})})}function og0(Z,J){Z.forEach((Q)=>{let{lhsId:K,rhsId:U,lhsInto:X,lhsGroup:Y,rhsInto:q,lhsDir:W,rhsDir:G,rhsGroup:z,title:H}=Q,F=ie(Q.lhsDir,Q.rhsDir)?"segments":"straight",M={id:`${K}-${U}`,label:H,source:K,sourceDir:W,sourceArrow:X,sourceGroup:Y,sourceEndpoint:W==="L"?"0 50%":W==="R"?"100% 50%":W==="T"?"50% 0":"50% 100%",target:U,targetDir:G,targetArrow:q,targetGroup:z,targetEndpoint:G==="L"?"0 50%":G==="R"?"100% 50%":G==="T"?"50% 0":"50% 100%"};J.add({group:"edges",data:M,classes:F})})}function tg0(Z,J,Q){let K=I((q,W)=>{return Object.entries(q).reduce((G,[z,H])=>{let F=0,M=Object.entries(H);if(M.length===1)return G[z]=M[0][1],G;for(let B=0;B<M.length-1;B++)for(let O=B+1;O<M.length;O++){let[R,L]=M[B],[D,A]=M[O];if(Q[R]?.[D]===W)G[z]??=[],G[z]=[...G[z],...L,...A];else if(R==="default"||D==="default")G[z]??=[],G[z]=[...G[z],...L,...A];else{let N=`${z}-${F++}`;G[N]=L;let E=`${z}-${F++}`;G[E]=A}}return G},{})},"flattenAlignments"),U=J.map((q)=>{let W={},G={};return Object.entries(q).forEach(([z,[H,F]])=>{let M=Z.getNode(z)?.in??"default";W[F]??={},W[F][M]??=[],W[F][M].push(z),G[H]??={},G[H][M]??=[],G[H][M].push(z)}),{horiz:Object.values(K(W,"horizontal")).filter((z)=>z.length>1),vert:Object.values(K(G,"vertical")).filter((z)=>z.length>1)}}),[X,Y]=U.reduce(([q,W],{horiz:G,vert:z})=>{return[[...q,...G],[...W,...z]]},[[],[]]);return{horizontal:X,vertical:Y}}function eg0(Z,J){let Q=[],K=I((X)=>`${X[0]},${X[1]}`,"posToStr"),U=I((X)=>X.split(",").map((Y)=>parseInt(Y)),"strToPos");return Z.forEach((X)=>{let Y=Object.fromEntries(Object.entries(X).map(([z,H])=>[K(H),z])),q=[K([0,0])],W={},G={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};while(q.length>0){let z=q.shift();if(z){W[z]=1;let H=Y[z];if(H){let F=U(z);Object.entries(G).forEach(([M,B])=>{let O=K([F[0]+B[0],F[1]+B[1]]),R=Y[O];if(R&&!W[O])q.push(O),Q.push({[ug0[M]]:R,[ug0[Dp8(M)]]:H,gap:1.5*J.getConfigField("iconSize")})})}}}}),Q}function Zp0(Z,J,Q,K,U,{spatialMaps:X,groupAlignments:Y}){return new Promise((q)=>{let W=n0("body").append("div").attr("id","cy").attr("style","display:none"),G=DK({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[0.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${U.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${U.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});W.remove(),ag0(Q,G),sg0(Z,G,U),rg0(J,G,U),og0(K,G);let z=tg0(U,X,Y),H=eg0(X,U),F=G.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(M){let[B,O]=M.connectedNodes(),{parent:R}=RO(B),{parent:L}=RO(O);return R===L?1.5*U.getConfigField("iconSize"):0.5*U.getConfigField("iconSize")},edgeElasticity(M){let[B,O]=M.connectedNodes(),{parent:R}=RO(B),{parent:L}=RO(O);return R===L?0.45:0.001},alignmentConstraint:z,relativePlacementConstraint:H});F.one("layoutstop",()=>{function M(B,O,R,L){let D,A,{x:V,y:N}=B,{x:E,y:C}=O;A=(L-N+(V-R)*(N-C)/(V-E))/Math.sqrt(1+Math.pow((N-C)/(V-E),2)),D=Math.sqrt(Math.pow(L-N,2)+Math.pow(R-V,2)-Math.pow(A,2));let j=Math.sqrt(Math.pow(E-V,2)+Math.pow(C-N,2));D=D/j;let $=(E-V)*(L-N)-(C-N)*(R-V);switch(!0){case $>=0:$=1;break;case $<0:$=-1;break}let k=(E-V)*(R-V)+(C-N)*(L-N);switch(!0){case k>=0:k=1;break;case k<0:k=-1;break}return A=Math.abs(A)*$,D=D*k,{distances:A,weights:D}}I(M,"getSegmentWeights"),G.startBatch();for(let B of Object.values(G.edges()))if(B.data?.()){let{x:O,y:R}=B.source().position(),{x:L,y:D}=B.target().position();if(O!==L&&R!==D){let A=B.sourceEndpoint(),V=B.targetEndpoint(),{sourceDir:N}=cg0(B),[E,C]=bW(N)?[A.x,V.y]:[V.x,A.y],{weights:j,distances:$}=M(A,V,E,C);B.style("segment-distances",$),B.style("segment-weights",j)}}G.endBatch(),F.run()}),F.run(),G.ready((M)=>{Z0.info("Ready",M),q(G)})})}var ig0,ug0,gg0,Rf,Dp8,pg0,V6,bW,ie,Ip8,Ap8,de,Np8,Ep8,Vp8,Pp8,Cp8,cg0,RO,jp8,lg0,Sp8,dg0,Tp8,wp8,OO,sA,$p8,kp8,_p8,fp8,vp8,xp8,bp8;var Qp0=f(()=>{IU();UQ();Bz();w9();yZ();AZ();SW();di();TZ();ig0=c7(mg0(),1),ug0={L:"left",R:"right",T:"top",B:"bottom"},gg0={L:I((Z)=>`${Z},${Z/2} 0,${Z} 0,0`,"L"),R:I((Z)=>`0,${Z/2} ${Z},0 ${Z},${Z}`,"R"),T:I((Z)=>`0,0 ${Z},0 ${Z/2},${Z}`,"T"),B:I((Z)=>`${Z/2},0 ${Z},${Z} 0,${Z}`,"B")},Rf={L:I((Z,J)=>Z-J+2,"L"),R:I((Z,J)=>Z-2,"R"),T:I((Z,J)=>Z-J+2,"T"),B:I((Z,J)=>Z-2,"B")},Dp8=I(function(Z){if(V6(Z))return Z==="L"?"R":"L";else return Z==="T"?"B":"T"},"getOppositeArchitectureDirection"),pg0=I(function(Z){let J=Z;return J==="L"||J==="R"||J==="T"||J==="B"},"isArchitectureDirection"),V6=I(function(Z){let J=Z;return J==="L"||J==="R"},"isArchitectureDirectionX"),bW=I(function(Z){let J=Z;return J==="T"||J==="B"},"isArchitectureDirectionY"),ie=I(function(Z,J){let Q=V6(Z)&&bW(J),K=bW(Z)&&V6(J);return Q||K},"isArchitectureDirectionXY"),Ip8=I(function(Z){let J=Z[0],Q=Z[1],K=V6(J)&&bW(Q),U=bW(J)&&V6(Q);return K||U},"isArchitecturePairXY"),Ap8=I(function(Z){return Z!=="LL"&&Z!=="RR"&&Z!=="TT"&&Z!=="BB"},"isValidArchitectureDirectionPair"),de=I(function(Z,J){let Q=`${Z}${J}`;return Ap8(Q)?Q:void 0},"getArchitectureDirectionPair"),Np8=I(function([Z,J],Q){let K=Q[0],U=Q[1];if(V6(K))if(bW(U))return[Z+(K==="L"?-1:1),J+(U==="T"?1:-1)];else return[Z+(K==="L"?-1:1),J];else if(V6(U))return[Z+(U==="L"?1:-1),J+(K==="T"?1:-1)];else return[Z,J+(K==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Ep8=I(function(Z){if(Z==="LT"||Z==="TL")return[1,1];else if(Z==="BL"||Z==="LB")return[1,-1];else if(Z==="BR"||Z==="RB")return[-1,-1];else return[-1,1]},"getArchitectureDirectionXYFactors"),Vp8=I(function(Z,J){if(ie(Z,J))return"bend";else if(V6(Z))return"horizontal";return"vertical"},"getArchitectureDirectionAlignment"),Pp8=I(function(Z){return Z.type==="service"},"isArchitectureService"),Cp8=I(function(Z){return Z.type==="junction"},"isArchitectureJunction"),cg0=I((Z)=>{return Z.data()},"edgeData"),RO=I((Z)=>{return Z.data()},"nodeData"),jp8=PZ.architecture,lg0=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=cZ,this.getAccTitle=sZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getAccDescription=nZ,this.setAccDescription=rZ,this.clear()}static{I(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},bZ()}addService({id:Z,icon:J,in:Q,title:K,iconText:U}){if(this.registeredIds[Z]!==void 0)throw Error(`The service id [${Z}] is already in use by another ${this.registeredIds[Z]}`);if(Q!==void 0){if(Z===Q)throw Error(`The service [${Z}] cannot be placed within itself`);if(this.registeredIds[Q]===void 0)throw Error(`The service [${Z}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[Q]==="node")throw Error(`The service [${Z}]'s parent is not a group`)}this.registeredIds[Z]="node",this.nodes[Z]={id:Z,type:"service",icon:J,iconText:U,title:K,edges:[],in:Q}}getServices(){return Object.values(this.nodes).filter(Pp8)}addJunction({id:Z,in:J}){this.registeredIds[Z]="node",this.nodes[Z]={id:Z,type:"junction",edges:[],in:J}}getJunctions(){return Object.values(this.nodes).filter(Cp8)}getNodes(){return Object.values(this.nodes)}getNode(Z){return this.nodes[Z]??null}addGroup({id:Z,icon:J,in:Q,title:K}){if(this.registeredIds?.[Z]!==void 0)throw Error(`The group id [${Z}] is already in use by another ${this.registeredIds[Z]}`);if(Q!==void 0){if(Z===Q)throw Error(`The group [${Z}] cannot be placed within itself`);if(this.registeredIds?.[Q]===void 0)throw Error(`The group [${Z}]'s parent does not exist. Please make sure the parent is created before this group`);if(this.registeredIds?.[Q]==="node")throw Error(`The group [${Z}]'s parent is not a group`)}this.registeredIds[Z]="group",this.groups[Z]={id:Z,icon:J,title:K,in:Q}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:Z,rhsId:J,lhsDir:Q,rhsDir:K,lhsInto:U,rhsInto:X,lhsGroup:Y,rhsGroup:q,title:W}){if(!pg0(Q))throw Error(`Invalid direction given for left hand side of edge ${Z}--${J}. Expected (L,R,T,B) got ${String(Q)}`);if(!pg0(K))throw Error(`Invalid direction given for right hand side of edge ${Z}--${J}. Expected (L,R,T,B) got ${String(K)}`);if(this.nodes[Z]===void 0&&this.groups[Z]===void 0)throw Error(`The left-hand id [${Z}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[J]===void 0&&this.groups[J]===void 0)throw Error(`The right-hand id [${J}] does not yet exist. Please create the service/group before declaring an edge to it.`);let G=this.nodes[Z].in,z=this.nodes[J].in;if(Y&&G&&z&&G==z)throw Error(`The left-hand id [${Z}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(q&&G&&z&&G==z)throw Error(`The right-hand id [${J}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let H={lhsId:Z,lhsDir:Q,lhsInto:U,lhsGroup:Y,rhsId:J,rhsDir:K,rhsInto:X,rhsGroup:q,title:W};if(this.edges.push(H),this.nodes[Z]&&this.nodes[J])this.nodes[Z].edges.push(this.edges[this.edges.length-1]),this.nodes[J].edges.push(this.edges[this.edges.length-1])}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let Z={},J=Object.entries(this.nodes).reduce((q,[W,G])=>{return q[W]=G.edges.reduce((z,H)=>{let F=this.getNode(H.lhsId)?.in,M=this.getNode(H.rhsId)?.in;if(F&&M&&F!==M){let B=Vp8(H.lhsDir,H.rhsDir);if(B!=="bend")Z[F]??={},Z[F][M]=B,Z[M]??={},Z[M][F]=B}if(H.lhsId===W){let B=de(H.lhsDir,H.rhsDir);if(B)z[B]=H.rhsId}else{let B=de(H.rhsDir,H.lhsDir);if(B)z[B]=H.lhsId}return z},{}),q},{}),Q=Object.keys(J)[0],K={[Q]:1},U=Object.keys(J).reduce((q,W)=>W===Q?q:{...q,[W]:1},{}),X=I((q)=>{let W={[q]:[0,0]},G=[q];while(G.length>0){let z=G.shift();if(z){K[z]=1,delete U[z];let H=J[z],[F,M]=W[z];Object.entries(H).forEach(([B,O])=>{if(!K[O])W[O]=Np8([F,M],B),G.push(O)})}}return W},"BFS"),Y=[X(Q)];while(Object.keys(U).length>0)Y.push(X(Object.keys(U)[0]));this.dataStructures={adjList:J,spatialMaps:Y,groupAlignments:Z}}return this.dataStructures}setElementForId(Z,J){this.elements[Z]=J}getElementById(Z){return this.elements[Z]}getConfig(){return wJ({...jp8,...CZ().architecture})}getConfigField(Z){return this.getConfig()[Z]}},Sp8=I((Z,J)=>{y4(Z,J),Z.groups.map((Q)=>J.addGroup(Q)),Z.services.map((Q)=>J.addService({...Q,type:"service"})),Z.junctions.map((Q)=>J.addJunction({...Q,type:"junction"})),Z.edges.map((Q)=>J.addEdge(Q))},"populateDb"),dg0={parser:{yy:void 0},parse:I(async(Z)=>{let J=await A6("architecture",Z);Z0.debug(J);let Q=dg0.parser?.yy;if(!(Q instanceof lg0))throw Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Sp8(J,Q)},"parse")},Tp8=I((Z)=>`
  .edge {
    stroke-width: ${Z.archEdgeWidth};
    stroke: ${Z.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${Z.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${Z.archGroupBorderColor};
    stroke-width: ${Z.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),wp8=Tp8,OO=I((Z)=>{return`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${Z}</g>`},"wrapIcon"),sA={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:OO('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:OO('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:OO('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:OO('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:OO('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:sp,blank:{body:OO("")}}},$p8=I(async function(Z,J,Q){let K=Q.getConfigField("padding"),U=Q.getConfigField("iconSize"),X=U/2,Y=U/6,q=Y/2;await Promise.all(J.edges().map(async(W)=>{let{source:G,sourceDir:z,sourceArrow:H,sourceGroup:F,target:M,targetDir:B,targetArrow:O,targetGroup:R,label:L}=cg0(W),{x:D,y:A}=W[0].sourceEndpoint(),{x:V,y:N}=W[0].midpoint(),{x:E,y:C}=W[0].targetEndpoint(),j=K+4;if(F)if(V6(z))D+=z==="L"?-j:j;else A+=z==="T"?-j:j+18;if(R)if(V6(B))E+=B==="L"?-j:j;else C+=B==="T"?-j:j+18;if(!F&&Q.getNode(G)?.type==="junction")if(V6(z))D+=z==="L"?X:-X;else A+=z==="T"?X:-X;if(!R&&Q.getNode(M)?.type==="junction")if(V6(B))E+=B==="L"?X:-X;else C+=B==="T"?X:-X;if(W[0]._private.rscratch){let $=Z.insert("g");if($.insert("path").attr("d",`M ${D},${A} L ${V},${N} L${E},${C} `).attr("class","edge").attr("id",SU(G,M,{prefix:"L"})),H){let k=V6(z)?Rf[z](D,Y):D-q,w=bW(z)?Rf[z](A,Y):A-q;$.insert("polygon").attr("points",gg0[z](Y)).attr("transform",`translate(${k},${w})`).attr("class","arrow")}if(O){let k=V6(B)?Rf[B](E,Y):E-q,w=bW(B)?Rf[B](C,Y):C-q;$.insert("polygon").attr("points",gg0[B](Y)).attr("transform",`translate(${k},${w})`).attr("class","arrow")}if(L){let k=!ie(z,B)?V6(z)?"X":"Y":"XY",w=0;if(k==="X")w=Math.abs(D-E);else if(k==="Y")w=Math.abs(A-C)/1.5;else w=Math.abs(D-E)/2;let P=$.append("g");if(await KQ(P,L,{useHtmlLabels:!1,width:w,classes:"architecture-service-label"},E0()),P.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),k==="X")P.attr("transform","translate("+V+", "+N+")");else if(k==="Y")P.attr("transform","translate("+V+", "+N+") rotate(-90)");else if(k==="XY"){let S=de(z,B);if(S&&Ip8(S)){let T=P.node().getBoundingClientRect(),[_,v]=Ep8(S);P.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*_*v*45})`);let x=P.node().getBoundingClientRect();P.attr("transform",`
                translate(${V}, ${N-T.height/2})
                translate(${_*x.width/2}, ${v*x.height/2})
                rotate(${-1*_*v*45}, 0, ${T.height/2})
              `)}}}}}))},"drawEdges"),kp8=I(async function(Z,J,Q){let U=Q.getConfigField("padding")*0.75,X=Q.getConfigField("fontSize"),q=Q.getConfigField("iconSize")/2;await Promise.all(J.nodes().map(async(W)=>{let G=RO(W);if(G.type==="group"){let{h:z,w:H,x1:F,y1:M}=W.boundingBox(),B=Z.append("rect");B.attr("id",`group-${G.id}`).attr("x",F+q).attr("y",M+q).attr("width",H).attr("height",z).attr("class","node-bkg");let O=Z.append("g"),R=F,L=M;if(G.icon){let D=O.append("g");D.html(`<g>${await wU(G.icon,{height:U,width:U,fallbackPrefix:sA.prefix})}</g>`),D.attr("transform","translate("+(R+q+1)+", "+(L+q+1)+")"),R+=U,L+=X/2-1-2}if(G.label){let D=O.append("g");await KQ(D,G.label,{useHtmlLabels:!1,width:H,classes:"architecture-service-label"},E0()),D.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),D.attr("transform","translate("+(R+q+4)+", "+(L+q+2)+")")}Q.setElementForId(G.id,B)}}))},"drawGroups"),_p8=I(async function(Z,J,Q){let K=E0();for(let U of Q){let X=J.append("g"),Y=Z.getConfigField("iconSize");if(U.title){let z=X.append("g");await KQ(z,U.title,{useHtmlLabels:!1,width:Y*1.5,classes:"architecture-service-label"},K),z.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),z.attr("transform","translate("+Y/2+", "+Y+")")}let q=X.append("g");if(U.icon)q.html(`<g>${await wU(U.icon,{height:Y,width:Y,fallbackPrefix:sA.prefix})}</g>`);else if(U.iconText){q.html(`<g>${await wU("blank",{height:Y,width:Y,fallbackPrefix:sA.prefix})}</g>`);let F=q.append("g").append("foreignObject").attr("width",Y).attr("height",Y).append("div").attr("class","node-icon-text").attr("style",`height: ${Y}px;`).append("div").html(VZ(U.iconText,K)),M=parseInt(window.getComputedStyle(F.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;F.attr("style",`-webkit-line-clamp: ${Math.floor((Y-2)/M)};`)}else q.append("path").attr("class","node-bkg").attr("id","node-"+U.id).attr("d",`M0 ${Y} v${-Y} q0,-5 5,-5 h${Y} q5,0 5,5 v${Y} H0 Z`);X.attr("id",`service-${U.id}`).attr("class","architecture-service");let{width:W,height:G}=X.node().getBBox();U.width=W,U.height=G,Z.setElementForId(U.id,X)}return 0},"drawServices"),fp8=I(function(Z,J,Q){Q.forEach((K)=>{let U=J.append("g"),X=Z.getConfigField("iconSize");U.append("g").append("rect").attr("id","node-"+K.id).attr("fill-opacity","0").attr("width",X).attr("height",X),U.attr("class","architecture-junction");let{width:q,height:W}=U._groups[0][0].getBBox();U.width=q,U.height=W,Z.setElementForId(K.id,U)})},"drawJunctions");bC([{name:sA.prefix,icons:sA}]);DK.use(ig0.default);I(sg0,"addServices");I(rg0,"addJunctions");I(ng0,"positionNodes");I(ag0,"addGroups");I(og0,"addEdges");I(tg0,"getAlignments");I(eg0,"getRelativeConstraints");I(Zp0,"layoutArchitecture");vp8=I(async(Z,J,Q,K)=>{let U=K.db,X=U.getServices(),Y=U.getJunctions(),q=U.getGroups(),W=U.getEdges(),G=U.getDataStructures(),z=k7(J),H=z.append("g");H.attr("class","architecture-edges");let F=z.append("g");F.attr("class","architecture-services");let M=z.append("g");M.attr("class","architecture-groups"),await _p8(U,F,X),fp8(U,F,Y);let B=await Zp0(X,Y,q,W,U,G);await $p8(H,B,U),await kp8(M,B,U),ng0(U,B),sX(void 0,z,U.getConfigField("padding"),U.getConfigField("useMaxWidth"))},"draw"),xp8={draw:vp8},bp8={parser:dg0,get db(){return new lg0},renderer:xp8,styles:wp8}});var Yp0={};LZ(Yp0,{diagram:()=>ip8});function Up0(Z){if(!Z.length)return[];let J=[],Q=[];return Z.forEach((K)=>{let U={name:K.name,children:K.type==="Leaf"?void 0:[]};if(U.classSelector=K?.classSelector,K?.cssCompiledStyles)U.cssCompiledStyles=[K.cssCompiledStyles];if(K.type==="Leaf"&&K.value!==void 0)U.value=K.value;while(Q.length>0&&Q[Q.length-1].level>=K.level)Q.pop();if(Q.length===0)J.push(U);else{let X=Q[Q.length-1].node;if(X.children)X.children.push(U);else X.children=[U]}if(K.type!=="Leaf")Q.push({node:U,level:K.level})}),J}var Kp0,yp8,hp8,Xp0,mp8=10,LO=10,rA=25,up8,gp8,pp8,cp8,lp8,dp8,ip8;var qp0=f(()=>{IU();jK();J6();Bz();w9();yZ();AZ();SW();TZ();Kp0=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=cZ,this.getAccTitle=sZ,this.setDiagramTitle=Z9,this.getDiagramTitle=aZ,this.getAccDescription=nZ,this.setAccDescription=rZ}static{I(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){let Z=PZ,J=CZ();return wJ({...Z.treemap,...J.treemap??{}})}addNode(Z,J){if(this.nodes.push(Z),this.levels.set(Z,J),J===0)this.outerNodes.push(Z),this.root??=Z}getRoot(){return{name:"",children:this.outerNodes}}addClass(Z,J){let Q=this.classes.get(Z)??{id:Z,styles:[],textStyles:[]},K=J.replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");if(K)K.forEach((U)=>{if(QL(U))if(Q?.textStyles)Q.textStyles.push(U);else Q.textStyles=[U];if(Q?.styles)Q.styles.push(U);else Q.styles=[U]});this.classes.set(Z,Q)}getClasses(){return this.classes}getStylesForClass(Z){return this.classes.get(Z)?.styles??[]}clear(){bZ(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}};I(Up0,"buildHierarchy");yp8=I((Z,J)=>{y4(Z,J);let Q=[];for(let X of Z.TreemapRows??[])if(X.$type==="ClassDefStatement")J.addClass(X.className??"",X.styleText??"");for(let X of Z.TreemapRows??[]){let Y=X.item;if(!Y)continue;let q=X.indent?parseInt(X.indent):0,W=hp8(Y),G=Y.classSelector?J.getStylesForClass(Y.classSelector):[],z=G.length>0?G.join(";"):void 0,H={level:q,name:W,type:Y.$type,value:Y.value,classSelector:Y.classSelector,cssCompiledStyles:z};Q.push(H)}let K=Up0(Q),U=I((X,Y)=>{for(let q of X)if(J.addNode(q,Y),q.children&&q.children.length>0)U(q.children,Y+1)},"addNodesRecursively");U(K,0)},"populate"),hp8=I((Z)=>{return Z.name?String(Z.name):""},"getItemName"),Xp0={parser:{yy:void 0},parse:I(async(Z)=>{try{let Q=await A6("treemap",Z);Z0.debug("Treemap AST:",Q);let K=Xp0.parser?.yy;if(!(K instanceof Kp0))throw Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");yp8(Q,K)}catch(J){throw Z0.error("Error parsing treemap:",J),J}},"parse")},up8=I((Z,J,Q,K)=>{let U=K.db,X=U.getConfig(),Y=X.padding??mp8,q=U.getDiagramTitle(),W=U.getRoot(),{themeVariables:G}=CZ();if(!W)return;let z=q?30:0,H=k7(J),F=X.nodeWidth?X.nodeWidth*LO:960,M=X.nodeHeight?X.nodeHeight*LO:500,B=F,O=M+z;H.attr("viewBox",`0 0 ${B} ${O}`),T9(H,O,B,X.useMaxWidth);let R;try{let T=X.valueFormat||",";if(T==="$0,0")R=I((_)=>"$"+OU(",")(_),"valueFormat");else if(T.startsWith("$")&&T.includes(",")){let _=/\.\d+/.exec(T),v=_?_[0]:"";R=I((x)=>"$"+OU(","+v)(x),"valueFormat")}else if(T.startsWith("$")){let _=T.substring(1);R=I((v)=>"$"+OU(_||"")(v),"valueFormat")}else R=OU(T)}catch(T){Z0.error("Error creating format function:",T),R=OU(",")}let L=C4().range(["transparent",G.cScale0,G.cScale1,G.cScale2,G.cScale3,G.cScale4,G.cScale5,G.cScale6,G.cScale7,G.cScale8,G.cScale9,G.cScale10,G.cScale11]),D=C4().range(["transparent",G.cScalePeer0,G.cScalePeer1,G.cScalePeer2,G.cScalePeer3,G.cScalePeer4,G.cScalePeer5,G.cScalePeer6,G.cScalePeer7,G.cScalePeer8,G.cScalePeer9,G.cScalePeer10,G.cScalePeer11]),A=C4().range([G.cScaleLabel0,G.cScaleLabel1,G.cScaleLabel2,G.cScaleLabel3,G.cScaleLabel4,G.cScaleLabel5,G.cScaleLabel6,G.cScaleLabel7,G.cScaleLabel8,G.cScaleLabel9,G.cScaleLabel10,G.cScaleLabel11]);if(q)H.append("text").attr("x",B/2).attr("y",z/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(q);let V=H.append("g").attr("transform",`translate(0, ${z})`).attr("class","treemapContainer"),N=X2(W).sum((T)=>T.value??0).sort((T,_)=>(_.value??0)-(T.value??0)),C=BP().size([F,M]).paddingTop((T)=>T.children&&T.children.length>0?rA+LO:0).paddingInner(Y).paddingLeft((T)=>T.children&&T.children.length>0?LO:0).paddingRight((T)=>T.children&&T.children.length>0?LO:0).paddingBottom((T)=>T.children&&T.children.length>0?LO:0).round(!0)(N),j=C.descendants().filter((T)=>T.children&&T.children.length>0),$=V.selectAll(".treemapSection").data(j).enter().append("g").attr("class","treemapSection").attr("transform",(T)=>`translate(${T.x0},${T.y0})`);if($.append("rect").attr("width",(T)=>T.x1-T.x0).attr("height",rA).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",0.6).attr("stroke-width",0.6).attr("style",(T)=>{if(T.depth===0)return"display: none;";return""}),$.append("clipPath").attr("id",(T,_)=>`clip-section-${J}-${_}`).append("rect").attr("width",(T)=>Math.max(0,T.x1-T.x0-12)).attr("height",rA),$.append("rect").attr("width",(T)=>T.x1-T.x0).attr("height",(T)=>T.y1-T.y0).attr("class",(T,_)=>{return`treemapSection section${_}`}).attr("fill",(T)=>L(T.data.name)).attr("fill-opacity",0.6).attr("stroke",(T)=>D(T.data.name)).attr("stroke-width",2).attr("stroke-opacity",0.4).attr("style",(T)=>{if(T.depth===0)return"display: none;";let _=y8({cssCompiledStyles:T.data.cssCompiledStyles});return _.nodeStyles+";"+_.borderStyles.join(";")}),$.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",rA/2).attr("dominant-baseline","middle").text((T)=>T.depth===0?"":T.data.name).attr("font-weight","bold").attr("style",(T)=>{if(T.depth===0)return"display: none;";let _="dominant-baseline: middle; font-size: 12px; fill:"+A(T.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",v=y8({cssCompiledStyles:T.data.cssCompiledStyles});return _+v.labelStyles.replace("color:","fill:")}).each(function(T){if(T.depth===0)return;let _=n0(this),v=T.data.name;_.text(v);let x=T.x1-T.x0,b=6,y;if(X.showValues!==!1&&T.value){let t=x-10,d=30,X0=10;y=t-30-10-b}else y=x-b-6;let h=Math.max(15,y),p=_.node();if(p.getComputedTextLength()>h){let d=v;while(d.length>0){if(d=v.substring(0,d.length-1),d.length===0){if(_.text("..."),p.getComputedTextLength()>h)_.text("");break}if(_.text(d+"..."),p.getComputedTextLength()<=h)break}}}),X.showValues!==!1)$.append("text").attr("class","treemapSectionValue").attr("x",(T)=>T.x1-T.x0-10).attr("y",rA/2).attr("text-anchor","end").attr("dominant-baseline","middle").text((T)=>T.value?R(T.value):"").attr("font-style","italic").attr("style",(T)=>{if(T.depth===0)return"display: none;";let _="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+A(T.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",v=y8({cssCompiledStyles:T.data.cssCompiledStyles});return _+v.labelStyles.replace("color:","fill:")});let k=C.leaves(),w=V.selectAll(".treemapLeafGroup").data(k).enter().append("g").attr("class",(T,_)=>{return`treemapNode treemapLeafGroup leaf${_}${T.data.classSelector?` ${T.data.classSelector}`:""}x`}).attr("transform",(T)=>`translate(${T.x0},${T.y0})`);if(w.append("rect").attr("width",(T)=>T.x1-T.x0).attr("height",(T)=>T.y1-T.y0).attr("class","treemapLeaf").attr("fill",(T)=>{return T.parent?L(T.parent.data.name):L(T.data.name)}).attr("style",(T)=>{return y8({cssCompiledStyles:T.data.cssCompiledStyles}).nodeStyles}).attr("fill-opacity",0.3).attr("stroke",(T)=>{return T.parent?L(T.parent.data.name):L(T.data.name)}).attr("stroke-width",3),w.append("clipPath").attr("id",(T,_)=>`clip-${J}-${_}`).append("rect").attr("width",(T)=>Math.max(0,T.x1-T.x0-4)).attr("height",(T)=>Math.max(0,T.y1-T.y0-4)),w.append("text").attr("class","treemapLabel").attr("x",(T)=>(T.x1-T.x0)/2).attr("y",(T)=>(T.y1-T.y0)/2).attr("style",(T)=>{let _="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+A(T.data.name)+";",v=y8({cssCompiledStyles:T.data.cssCompiledStyles});return _+v.labelStyles.replace("color:","fill:")}).attr("clip-path",(T,_)=>`url(#clip-${J}-${_})`).text((T)=>T.data.name).each(function(T){let _=n0(this),v=T.x1-T.x0,x=T.y1-T.y0,b=_.node(),y=4,u=v-8,h=x-8;if(u<10||h<10){_.style("display","none");return}let p=parseInt(_.style("font-size"),10),r=8,t=28,d=0.6,X0=6,a=2;while(b.getComputedTextLength()>u&&p>r)p--,_.style("font-size",`${p}px`);let z0=Math.max(X0,Math.min(t,Math.round(p*d))),J0=p+a+z0;while(J0>h&&p>r){if(p--,z0=Math.max(X0,Math.min(t,Math.round(p*d))),z0<X0&&p===r)break;if(_.style("font-size",`${p}px`),J0=p+a+z0,z0<=X0&&J0>h);}if(_.style("font-size",`${p}px`),b.getComputedTextLength()>u||p<r||h<p)_.style("display","none")}),X.showValues!==!1)w.append("text").attr("class","treemapValue").attr("x",(_)=>(_.x1-_.x0)/2).attr("y",function(_){return(_.y1-_.y0)/2}).attr("style",(_)=>{let v="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+A(_.data.name)+";",x=y8({cssCompiledStyles:_.data.cssCompiledStyles});return v+x.labelStyles.replace("color:","fill:")}).attr("clip-path",(_,v)=>`url(#clip-${J}-${v})`).text((_)=>_.value?R(_.value):"").each(function(_){let v=n0(this),x=this.parentNode;if(!x){v.style("display","none");return}let b=n0(x).select(".treemapLabel");if(b.empty()||b.style("display")==="none"){v.style("display","none");return}let y=parseFloat(b.style("font-size")),u=28,h=0.6,p=6,r=2,t=Math.max(p,Math.min(u,Math.round(y*h)));v.style("font-size",`${t}px`);let X0=(_.y1-_.y0)/2+y/2+r;v.attr("y",X0);let a=_.x1-_.x0,Q0=_.y1-_.y0-4,e=a-8;if(v.node().getComputedTextLength()>e||X0+t>Q0||t<p)v.style("display","none");else v.style("display",null)});let S=X.diagramPadding??8;o6(H,S,"flowchart",X?.useMaxWidth||!1)},"draw"),gp8=I(function(Z,J){return J.db.getClasses()},"getClasses"),pp8={draw:up8,getClasses:gp8},cp8={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},lp8=I(({treemap:Z}={})=>{let J=wJ(cp8,Z);return`
  .treemapNode.section {
    stroke: ${J.sectionStrokeColor};
    stroke-width: ${J.sectionStrokeWidth};
    fill: ${J.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${J.leafStrokeColor};
    stroke-width: ${J.leafStrokeWidth};
    fill: ${J.leafFillColor};
  }
  .treemapLabel {
    fill: ${J.labelColor};
    font-size: ${J.labelFontSize};
  }
  .treemapValue {
    fill: ${J.valueColor};
    font-size: ${J.valueFontSize};
  }
  .treemapTitle {
    fill: ${J.titleColor};
    font-size: ${J.titleFontSize};
  }
  `},"getStyles"),dp8=lp8,ip8={parser:Xp0,get db(){return new Kp0},renderer:pp8,styles:dp8}});var Zc0=u9((jZ9,Af)=>{Af.exports=ep0;Af.exports.addWheelListener=ep0;Af.exports.removeWheelListener=Sd8;function ep0(Z,J,Q){Z.addEventListener("wheel",J,Q)}function Sd8(Z,J,Q){Z.removeEventListener("wheel",J,Q)}});var Yc0=u9((SZ9,Xc0)=>{var Td8=4,wd8=0.001,$d8=0.0000001,kd8=10,nA=11,Nf=1/(nA-1),_d8=typeof Float32Array==="function";function Jc0(Z,J){return 1-3*J+3*Z}function Qc0(Z,J){return 3*J-6*Z}function Kc0(Z){return 3*Z}function Ef(Z,J,Q){return((Jc0(J,Q)*Z+Qc0(J,Q))*Z+Kc0(J))*Z}function Uc0(Z,J,Q){return 3*Jc0(J,Q)*Z*Z+2*Qc0(J,Q)*Z+Kc0(J)}function fd8(Z,J,Q,K,U){var X,Y,q=0;do if(Y=J+(Q-J)/2,X=Ef(Y,K,U)-Z,X>0)Q=Y;else J=Y;while(Math.abs(X)>$d8&&++q<kd8);return Y}function vd8(Z,J,Q,K){for(var U=0;U<Td8;++U){var X=Uc0(J,Q,K);if(X===0)return J;var Y=Ef(J,Q,K)-Z;J-=Y/X}return J}function xd8(Z){return Z}Xc0.exports=function(J,Q,K,U){if(!(0<=J&&J<=1&&0<=K&&K<=1))throw Error("bezier x values must be in [0, 1] range");if(J===Q&&K===U)return xd8;var X=_d8?new Float32Array(nA):Array(nA);for(var Y=0;Y<nA;++Y)X[Y]=Ef(Y*Nf,J,K);function q(W){var G=0,z=1,H=nA-1;for(;z!==H&&X[z]<=W;++z)G+=Nf;--z;var F=(W-X[z])/(X[z+1]-X[z]),M=G+F*Nf,B=Uc0(M,J,K);if(B>=wd8)return vd8(W,M,J,K);else if(B===0)return M;else return fd8(W,G,G+Nf,J,K)}return function(G){if(G===0)return 0;if(G===1)return 1;return Ef(q(G),Q,U)}}});var zc0=u9((TZ9,Vf)=>{var aA=Yc0(),qc0={ease:aA(0.25,0.1,0.25,1),easeIn:aA(0.42,0,1,1),easeOut:aA(0,0,0.58,1),easeInOut:aA(0.42,0,0.58,1),linear:aA(0,0,1,1)};Vf.exports=bd8;Vf.exports.makeAggregateRaf=Gc0;Vf.exports.sharedScheduler=Gc0();function bd8(Z,J,Q){var K=Object.create(null),U=Object.create(null);Q=Q||{};var X=typeof Q.easing==="function"?Q.easing:qc0[Q.easing];if(!X){if(Q.easing)console.warn("Unknown easing function in amator: "+Q.easing);X=qc0.ease}var Y=typeof Q.step==="function"?Q.step:Wc0,q=typeof Q.done==="function"?Q.done:Wc0,W=yd8(Q.scheduler),G=Object.keys(J);G.forEach(function(L){K[L]=Z[L],U[L]=J[L]-Z[L]});var z=typeof Q.duration==="number"?Q.duration:400,H=Math.max(1,z*0.06),F,M=0;return F=W.next(O),{cancel:B};function B(){W.cancel(F),F=0}function O(){var L=X(M/H);if(M+=1,R(L),M<=H)F=W.next(O),Y(Z);else F=0,setTimeout(function(){q(Z)},0)}function R(L){G.forEach(function(D){Z[D]=U[D]*L+K[D]})}}function Wc0(){}function yd8(Z){if(!Z){var J=typeof window<"u"&&window.requestAnimationFrame;return J?hd8():md8()}if(typeof Z.next!=="function")throw Error("Scheduler is supposed to have next(cb) function");if(typeof Z.cancel!=="function")throw Error("Scheduler is supposed to have cancel(handle) function");return Z}function hd8(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function md8(){return{next:function(Z){return setTimeout(Z,16.666666666666668)},cancel:function(Z){return clearTimeout(Z)}}}function Gc0(){var Z=new Set,J=new Set,Q=0;return{next:U,cancel:U,clearAll:K};function K(){Z.clear(),J.clear(),cancelAnimationFrame(Q),Q=0}function U(W){J.add(W),X()}function X(){if(!Q)Q=requestAnimationFrame(Y)}function Y(){Q=0;var W=J;J=Z,Z=W,Z.forEach(function(G){G()}),Z.clear()}function q(W){J.delete(W)}}});var Fc0=u9((wZ9,Hc0)=>{function ud8(Z){pd8(Z);let J=gd8(Z);return Z.on=J.on,Z.off=J.off,Z.fire=J.fire,Z}function gd8(Z){let J=Object.create(null);return{on:function(Q,K,U){if(typeof K!="function")throw Error("callback is expected to be a function");let X=J[Q];return X||(X=J[Q]=[]),X.push({callback:K,ctx:U}),Z},off:function(Q,K){if(typeof Q>"u")return J=Object.create(null),Z;if(J[Q])if(typeof K!="function")delete J[Q];else{let U=J[Q];for(let X=0;X<U.length;++X)U[X].callback===K&&U.splice(X,1)}return Z},fire:function(Q){let K=J[Q];if(!K)return Z;let U;arguments.length>1&&(U=Array.prototype.slice.call(arguments,1));for(let X=0;X<K.length;++X){let Y=K[X];Y.callback.apply(Y.ctx,U)}return Z}}}function pd8(Z){if(!Z)throw Error("Eventify cannot use falsy object as events subject");let J=["on","fire","off"];for(let Q=0;Q<J.length;++Q)if(Z.hasOwnProperty(J[Q]))throw Error("Subject cannot be eventified, since it already has property '"+J[Q]+"'")}Hc0.exports=ud8});var Bc0=u9(($Z9,Mc0)=>{Mc0.exports=cd8;function cd8(Z,J,Q){if(typeof Q!=="object")Q={};var K=typeof Q.minVelocity==="number"?Q.minVelocity:5,U=typeof Q.amplitude==="number"?Q.amplitude:0.25,X=typeof Q.cancelAnimationFrame==="function"?Q.cancelAnimationFrame:ld8(),Y=typeof Q.requestAnimationFrame==="function"?Q.requestAnimationFrame:dd8(),q,W,G=342,z,H,F,M,B,O,R,L;return{start:A,stop:N,cancel:D};function D(){X(z),X(L)}function A(){q=Z(),M=R=H=B=0,W=new Date,X(z),X(L),z=Y(V)}function V(){var C=Date.now(),j=C-W;W=C;var $=Z(),k=$.x-q.x,w=$.y-q.y;q=$;var P=1000/(1+j);H=0.8*k*P+0.2*H,B=0.8*w*P+0.2*B,z=Y(V)}function N(){X(z),X(L);var C=Z();if(F=C.x,O=C.y,W=Date.now(),H<-K||H>K)M=U*H,F+=M;if(B<-K||B>K)R=U*B,O+=R;L=Y(E)}function E(){var C=Date.now()-W,j=!1,$=0,k=0;if(M)if($=-M*Math.exp(-C/G),$>0.5||$<-0.5)j=!0;else $=M=0;if(R)if(k=-R*Math.exp(-C/G),k>0.5||k<-0.5)j=!0;else k=R=0;if(j)J(F+$,O+k),L=Y(E)}}function ld8(){if(typeof cancelAnimationFrame==="function")return cancelAnimationFrame;return clearTimeout}function dd8(){if(typeof requestAnimationFrame==="function")return requestAnimationFrame;return function(Z){return setTimeout(Z,16)}}});var Dc0=u9((kZ9,Lc0)=>{Lc0.exports=id8;function id8(Z){if(Z)return{capture:Rc0,release:Rc0};var J,Q,K,U=!1;return{capture:X,release:Y};function X(q){U=!0,Q=window.document.onselectstart,K=window.document.ondragstart,window.document.onselectstart=Oc0,J=q,J.ondragstart=Oc0}function Y(){if(!U)return;if(U=!1,window.document.onselectstart=Q,J)J.ondragstart=K}}function Oc0(Z){return Z.stopPropagation(),!1}function Rc0(){}});var Ac0=u9((_Z9,Ic0)=>{Ic0.exports=sd8;function sd8(){this.x=0,this.y=0,this.scale=1}});var Ec0=u9((fZ9,te)=>{te.exports=rd8;te.exports.canAttach=Nc0;function rd8(Z,J){if(!Nc0(Z))throw Error("svg element is required for svg.panzoom to work");var Q=Z.ownerSVGElement;if(!Q)throw Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");if(!J.disableKeyboardInteraction)Q.setAttribute("tabindex",0);var K={getBBox:X,getScreenCTM:Y,getOwner:U,applyTransform:W,initTransform:q};return K;function U(){return Q}function X(){var G=Z.getBBox();return{left:G.x,top:G.y,width:G.width,height:G.height}}function Y(){var G=Q.getCTM();if(!G)return Q.getScreenCTM();return G}function q(G){var z=Z.getCTM();if(z===null)z=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();G.x=z.e,G.y=z.f,G.scale=z.a,Q.removeAttributeNS(null,"viewBox")}function W(G){Z.setAttribute("transform","matrix("+G.scale+" 0 0 "+G.scale+" "+G.x+" "+G.y+")")}}function Nc0(Z){return Z&&Z.ownerSVGElement&&Z.getCTM}});var Pc0=u9((vZ9,ee)=>{ee.exports=nd8;ee.exports.canAttach=Vc0;function nd8(Z,J){var Q=Vc0(Z);if(!Q)throw Error("panzoom requires DOM element to be attached to the DOM tree");var K=Z.parentElement;if(Z.scrollTop=0,!J.disableKeyboardInteraction)K.setAttribute("tabindex",0);var U={getBBox:Y,getOwner:X,applyTransform:q};return U;function X(){return K}function Y(){return{left:0,top:0,width:Z.clientWidth,height:Z.clientHeight}}function q(W){Z.style.transformOrigin="0 0 0",Z.style.transform="matrix("+W.scale+", 0, 0, "+W.scale+", "+W.x+", "+W.y+")"}}function Vc0(Z){return Z&&Z.parentElement&&Z.style}});var xc0=u9((xZ9,vc0)=>{var Cc0=Zc0(),Z00=zc0(),ad8=Fc0(),od8=Bc0(),_c0=Dc0(),td8=_c0(),ed8=_c0(!0),Zi8=Ac0(),jc0=Ec0(),Sc0=Pc0(),Ji8=1,Qi8=1.75,Tc0=300,wc0=200;vc0.exports=fc0;function fc0(Z,J){J=J||{};var Q=J.controller;if(!Q){if(jc0.canAttach(Z))Q=jc0(Z,J);else if(Sc0.canAttach(Z))Q=Sc0(Z,J)}if(!Q)throw Error("Cannot create panzoom for the current type of dom element");var K=Q.getOwner(),U={x:0,y:0},X=!1,Y=new Zi8;if(Q.initTransform)Q.initTransform(Y);var q=typeof J.filterKey==="function"?J.filterKey:IO,W=typeof J.pinchSpeed==="number"?J.pinchSpeed:1,G=J.bounds,z=typeof J.maxZoom==="number"?J.maxZoom:Number.POSITIVE_INFINITY,H=typeof J.minZoom==="number"?J.minZoom:0,F=typeof J.boundsPadding==="number"?J.boundsPadding:0.05,M=typeof J.zoomDoubleClickSpeed==="number"?J.zoomDoubleClickSpeed:Qi8,B=J.beforeWheel||IO,O=J.beforeMouseDown||IO,R=typeof J.zoomSpeed==="number"?J.zoomSpeed:Ji8,L=$c0(J.transformOrigin),D=J.enableTextSelection?ed8:td8;if(Ki8(G),J.autocenter)e();var A,V=0,N=0,E=0,C=null,j=new Date,$,k=!1,w=!1,P,S,T,_,v,x;if("smoothScroll"in J&&!J.smoothScroll)x=Ui8();else x=od8(h0,q0,J.smoothScroll);var b,y,u,h=!1;N0();var p={dispose:W0,moveBy:m,moveTo:a0,smoothMoveTo:H0,centerOn:s,zoomTo:qZ,zoomAbs:I0,smoothZoom:xZ,smoothZoomAbs:uZ,showRectangle:J0,pause:X0,resume:a,isPaused:z0,getTransform:n,getMinZoom:Y0,setMinZoom:o,getMaxZoom:M0,setMaxZoom:K0,getTransformOrigin:V0,setTransformOrigin:i,getZoomSpeed:p0,setZoomSpeed:B0};ad8(p);var r=typeof J.initialX==="number"?J.initialX:Y.x,t=typeof J.initialY==="number"?J.initialY:Y.y,d=typeof J.initialZoom==="number"?J.initialZoom:Y.scale;if(r!=Y.x||t!=Y.y||d!=Y.scale)I0(r,t,d);return p;function X0(){D0(),h=!0}function a(){if(h)N0(),h=!1}function z0(){return h}function J0(b0){var K8=K.getBoundingClientRect(),Q8=Q0(K8.width,K8.height),E8=b0.right-b0.left,zZ=b0.bottom-b0.top;if(!Number.isFinite(E8)||!Number.isFinite(zZ))throw Error("Invalid rectangle");var IZ=Q8.x/E8,a8=Q8.y/zZ,o0=Math.min(IZ,a8);Y.x=-(b0.left+E8/2)*o0+Q8.x/2,Y.y=-(b0.top+zZ/2)*o0+Q8.y/2,Y.scale=o0}function Q0(b0,K8){if(Q.getScreenCTM){var Q8=Q.getScreenCTM(),E8=Q8.a,zZ=Q8.d,IZ=Q8.e,a8=Q8.f;U.x=b0*E8-IZ,U.y=K8*zZ-a8}else U.x=b0,U.y=K8;return U}function e(){var b0,K8,Q8=0,E8=0,zZ=x0();if(zZ)Q8=zZ.left,E8=zZ.top,b0=zZ.right-zZ.left,K8=zZ.bottom-zZ.top;else{var IZ=K.getBoundingClientRect();b0=IZ.width,K8=IZ.height}var a8=Q.getBBox();if(a8.width===0||a8.height===0)return;var o0=K8/a8.height,A8=b0/a8.width,p8=Math.min(A8,o0);Y.x=-(a8.left+a8.width/2)*p8+b0/2+Q8,Y.y=-(a8.top+a8.height/2)*p8+K8/2+E8,Y.scale=p8}function n(){return Y}function Y0(){return H}function o(b0){H=b0}function M0(){return z}function K0(b0){z=b0}function V0(){return L}function i(b0){L=$c0(b0)}function p0(){return R}function B0(b0){if(!Number.isFinite(b0))throw Error("Zoom speed should be a number");R=b0}function h0(){return{x:Y.x,y:Y.y}}function a0(b0,K8){Y.x=b0,Y.y=K8,$0(),j8("pan"),m0()}function s0(b0,K8){a0(Y.x+b0,Y.y+K8)}function $0(){var b0=x0();if(!b0)return;var K8=!1,Q8=f0(),E8=b0.left-Q8.right;if(E8>0)Y.x+=E8,K8=!0;if(E8=b0.right-Q8.left,E8<0)Y.x+=E8,K8=!0;if(E8=b0.top-Q8.bottom,E8>0)Y.y+=E8,K8=!0;if(E8=b0.bottom-Q8.top,E8<0)Y.y+=E8,K8=!0;return K8}function x0(){if(!G)return;if(typeof G==="boolean"){var b0=K.getBoundingClientRect(),K8=b0.width,Q8=b0.height;return{left:K8*F,top:Q8*F,right:K8*(1-F),bottom:Q8*(1-F)}}return G}function f0(){var b0=Q.getBBox(),K8=C0(b0.left,b0.top);return{left:K8.x,top:K8.y,right:b0.width*Y.scale+K8.x,bottom:b0.height*Y.scale+K8.y}}function C0(b0,K8){return{x:b0*Y.scale+Y.x,y:K8*Y.scale+Y.y}}function m0(){X=!0,A=window.requestAnimationFrame(L0)}function F0(b0,K8,Q8){if(J00(b0)||J00(K8)||J00(Q8))throw Error("zoom requires valid numbers");var E8=Y.scale*Q8;if(E8<H){if(Y.scale===H)return;Q8=H/Y.scale}if(E8>z){if(Y.scale===z)return;Q8=z/Y.scale}var zZ=Q0(b0,K8);if(Y.x=zZ.x-Q8*(zZ.x-Y.x),Y.y=zZ.y-Q8*(zZ.y-Y.y),G&&F===1&&H===1)Y.scale*=Q8,$0();else{var IZ=$0();if(!IZ)Y.scale*=Q8}j8("zoom"),m0()}function I0(b0,K8,Q8){var E8=Q8/Y.scale;F0(b0,K8,E8)}function s(b0){var K8=b0.ownerSVGElement;if(!K8)throw Error("ui element is required to be within the scene");var Q8=b0.getBoundingClientRect(),E8=Q8.left+Q8.width/2,zZ=Q8.top+Q8.height/2,IZ=K8.getBoundingClientRect(),a8=IZ.width/2-E8,o0=IZ.height/2-zZ;m(a8,o0,!0)}function H0(b0,K8){m(b0-Y.x,K8-Y.y,!0)}function m(b0,K8,Q8){if(!Q8)return s0(b0,K8);if(b)b.cancel();var E8={x:0,y:0},zZ={x:b0,y:K8},IZ=0,a8=0;b=Z00(E8,zZ,{step:function(o0){s0(o0.x-IZ,o0.y-a8),IZ=o0.x,a8=o0.y}})}function q0(b0,K8){SZ(),a0(b0,K8)}function W0(){D0()}function N0(){K.addEventListener("mousedown",G8,{passive:!1}),K.addEventListener("dblclick",H8,{passive:!1}),K.addEventListener("touchstart",Z8,{passive:!1}),K.addEventListener("keydown",T0,{passive:!1}),Cc0.addWheelListener(K,iZ,{passive:!1}),m0()}function D0(){if(Cc0.removeWheelListener(K,iZ),K.removeEventListener("mousedown",G8),K.removeEventListener("keydown",T0),K.removeEventListener("dblclick",H8),K.removeEventListener("touchstart",Z8),A)window.cancelAnimationFrame(A),A=0;x.cancel(),I8(),F8(),D.release(),S0()}function L0(){if(X)_0()}function _0(){X=!1,Q.applyTransform(Y),j8("transform"),A=0}function T0(b0){var K8=0,Q8=0,E8=0;if(b0.keyCode===38)Q8=1;else if(b0.keyCode===40)Q8=-1;else if(b0.keyCode===37)K8=1;else if(b0.keyCode===39)K8=-1;else if(b0.keyCode===189||b0.keyCode===109)E8=1;else if(b0.keyCode===187||b0.keyCode===107)E8=-1;if(q(b0,K8,Q8,E8))return;if(K8||Q8){b0.preventDefault(),b0.stopPropagation();var zZ=K.getBoundingClientRect(),IZ=Math.min(zZ.width,zZ.height),a8=0.05,o0=IZ*a8*K8,A8=IZ*a8*Q8;m(o0,A8)}if(E8){var p8=A9(E8*100),IZ=L?YZ():u0();qZ(IZ.x,IZ.y,p8)}}function u0(){var b0=K.getBoundingClientRect();return{x:b0.width/2,y:b0.height/2}}function Z8(b0){if(B8(b0),X8(),b0.touches.length===1)return g0(b0,b0.touches[0]);else if(b0.touches.length===2)v=$8(b0.touches[0],b0.touches[1]),u=!0,t0()}function B8(b0){if(J.onTouch&&!J.onTouch(b0))return;b0.stopPropagation(),b0.preventDefault()}function r0(b0){if(X8(),J.onDoubleClick&&!J.onDoubleClick(b0))return;b0.preventDefault(),b0.stopPropagation()}function g0(b0){N=new Date;var K8=b0.touches[0],Q8=w8(K8);$=Q8;var E8=Q0(Q8.x,Q8.y);P=E8.x,S=E8.y,T=P,_=S,x.cancel(),t0()}function t0(){if(k)return;k=!0,document.addEventListener("touchmove",d0),document.addEventListener("touchend",M8),document.addEventListener("touchcancel",M8)}function d0(b0){if(b0.touches.length===1){b0.stopPropagation();var K8=b0.touches[0],Q8=w8(K8),E8=Q0(Q8.x,Q8.y),zZ=E8.x-P,IZ=E8.y-S;if(zZ!==0&&IZ!==0)R8();P=E8.x,S=E8.y,m(zZ,IZ)}else if(b0.touches.length===2){u=!0;var a8=b0.touches[0],o0=b0.touches[1],A8=$8(a8,o0),p8=1+(A8/v-1)*W,q8=w8(a8),$Z=w8(o0);if(P=(q8.x+$Z.x)/2,S=(q8.y+$Z.y)/2,L){var Q8=YZ();P=Q8.x,S=Q8.y}qZ(P,S,p8),v=A8,b0.stopPropagation(),b0.preventDefault()}}function X8(){if(E)clearTimeout(E),E=0}function g8(b0){if(!J.onClick)return;X8();var K8=P-T,Q8=S-_,E8=Math.sqrt(K8*K8+Q8*Q8);if(E8>5)return;E=setTimeout(function(){E=0,J.onClick(b0)},Tc0)}function M8(b0){if(X8(),b0.touches.length>0){var K8=w8(b0.touches[0]),Q8=Q0(K8.x,K8.y);P=Q8.x,S=Q8.y}else{var E8=new Date;if(E8-V<Tc0)if(L){var K8=YZ();xZ(K8.x,K8.y,M)}else xZ($.x,$.y,M);else if(E8-N<wc0)g8(b0);V=E8,S0(),F8()}}function $8(b0,K8){var Q8=b0.clientX-K8.clientX,E8=b0.clientY-K8.clientY;return Math.sqrt(Q8*Q8+E8*E8)}function H8(b0){r0(b0);var K8=w8(b0);if(L)K8=YZ();xZ(K8.x,K8.y,M)}function G8(b0){if(X8(),O(b0))return;if(C=b0,j=new Date,k)return b0.stopPropagation(),!1;var K8=b0.button===1&&window.event!==null||b0.button===0;if(!K8)return;x.cancel();var Q8=w8(b0),E8=Q0(Q8.x,Q8.y);return T=P=E8.x,_=S=E8.y,document.addEventListener("mousemove",O8),document.addEventListener("mouseup",L8),D.capture(b0.target||b0.srcElement),!1}function O8(b0){if(k)return;R8();var K8=w8(b0),Q8=Q0(K8.x,K8.y),E8=Q8.x-P,zZ=Q8.y-S;P=Q8.x,S=Q8.y,m(E8,zZ)}function L8(){var b0=new Date;if(b0-j<wc0)g8(C);D.release(),S0(),I8()}function I8(){document.removeEventListener("mousemove",O8),document.removeEventListener("mouseup",L8),w=!1}function F8(){document.removeEventListener("touchmove",d0),document.removeEventListener("touchend",M8),document.removeEventListener("touchcancel",M8),w=!1,u=!1,k=!1}function iZ(b0){if(B(b0))return;x.cancel();var K8=b0.deltaY;if(b0.deltaMode>0)K8*=100;var Q8=A9(K8);if(Q8!==1){var E8=L?YZ():w8(b0);qZ(E8.x,E8.y,Q8),b0.preventDefault()}}function w8(b0){var K8,Q8,E8=K.getBoundingClientRect();return K8=b0.clientX-E8.left,Q8=b0.clientY-E8.top,{x:K8,y:Q8}}function xZ(b0,K8,Q8){var E8=Y.scale,zZ={scale:E8},IZ={scale:Q8*E8};x.cancel(),SZ(),y=Z00(zZ,IZ,{step:function(a8){I0(b0,K8,a8.scale)},done:Y8})}function uZ(b0,K8,Q8){var E8=Y.scale,zZ={scale:E8},IZ={scale:Q8};x.cancel(),SZ(),y=Z00(zZ,IZ,{step:function(a8){I0(b0,K8,a8.scale)}})}function YZ(){var b0=K.getBoundingClientRect();return{x:b0.width*L.x,y:b0.height*L.y}}function qZ(b0,K8,Q8){return x.cancel(),SZ(),F0(b0,K8,Q8)}function SZ(){if(y)y.cancel(),y=null}function A9(b0){var K8=Math.sign(b0),Q8=Math.min(0.25,Math.abs(R*b0/128));return 1-K8*Q8}function R8(){if(!w)j8("panstart"),w=!0,x.start()}function S0(){if(w){if(!u)x.stop();j8("panend")}}function Y8(){j8("zoomend")}function j8(b0){p.fire(b0,p)}}function $c0(Z){if(!Z)return;if(typeof Z==="object"){if(!DO(Z.x)||!DO(Z.y))kc0(Z);return Z}kc0()}function kc0(Z){throw console.error(Z),Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function IO(){}function Ki8(Z){var J=typeof Z;if(J==="undefined"||J==="boolean")return;var Q=DO(Z.left)&&DO(Z.top)&&DO(Z.bottom)&&DO(Z.right);if(!Q)throw Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}function DO(Z){return Number.isFinite(Z)}function J00(Z){if(Number.isNaN)return Number.isNaN(Z);return Z!==Z}function Ui8(){return{start:IO,stop:IO,cancel:IO}}function Xi8(){if(typeof document>"u")return;var Z=document.getElementsByTagName("script");if(!Z)return;var J;for(var Q=0;Q<Z.length;++Q){var K=Z[Q];if(K.src&&K.src.match(/\bpanzoom(\.min)?\.js/)){J=K;break}}if(!J)return;var U=J.getAttribute("query");if(!U)return;var X=J.getAttribute("name")||"pz",Y=Date.now();q();function q(){var z=document.querySelector(U);if(!z){var H=Date.now(),F=H-Y;if(F<2000){setTimeout(q,100);return}console.error("Cannot find the panzoom element",X);return}var M=W(J);console.log(M),window[X]=fc0(z,M)}function W(z){var H=z.attributes,F={};for(var M=0;M<H.length;++M){var B=H[M],O=G(B);if(O)F[O.name]=O.value}return F}function G(z){if(!z.name)return;var H=z.name[0]==="p"&&z.name[1]==="z"&&z.name[2]==="-";if(!H)return;var F=z.name.substr(3),M=JSON.parse(z.value);return{name:F,value:M}}}Xi8()});var hf=[],D00=[];(()=>{let Z="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((J)=>J?parseInt(J,36):1);for(let J=0,Q=0;J<Z.length;J++)(J%2?D00:hf).push(Q=Q+Z[J])})();function Ol0(Z){if(Z<768)return!1;for(let J=0,Q=hf.length;;){let K=J+Q>>1;if(Z<hf[K])Q=K;else if(Z>=D00[K])J=K+1;else return!0;if(J==Q)return!1}}function O00(Z){return Z>=127462&&Z<=127487}var R00=8205;function I00(Z,J,Q=!0,K=!0){return(Q?A00:Rl0)(Z,J,K)}function A00(Z,J,Q){if(J==Z.length)return J;if(J&&N00(Z.charCodeAt(J))&&E00(Z.charCodeAt(J-1)))J--;let K=yf(Z,J);J+=L00(K);while(J<Z.length){let U=yf(Z,J);if(K==R00||U==R00||Q&&Ol0(U))J+=L00(U),K=U;else if(O00(U)){let X=0,Y=J-2;while(Y>=0&&O00(yf(Z,Y)))X++,Y-=2;if(X%2==0)break;else J+=2}else break}return J}function Rl0(Z,J,Q){while(J>0){let K=A00(Z,J-2,Q);if(K<J)return K;J--}return 0}function yf(Z,J){let Q=Z.charCodeAt(J);if(!E00(Q)||J+1==Z.length)return Q;let K=Z.charCodeAt(J+1);if(!N00(K))return Q;return(Q-55296<<10)+(K-56320)+65536}function N00(Z){return Z>=56320&&Z<57344}function E00(Z){return Z>=55296&&Z<56320}function L00(Z){return Z<65536?1:2}class tZ{lineAt(Z){if(Z<0||Z>this.length)throw RangeError(`Invalid position ${Z} in document of length ${this.length}`);return this.lineInner(Z,!1,1,0)}line(Z){if(Z<1||Z>this.lines)throw RangeError(`Invalid line number ${Z} in ${this.lines}-line document`);return this.lineInner(Z,!0,1,0)}replace(Z,J,Q){[Z,J]=QH(this,Z,J);let K=[];if(this.decompose(0,Z,K,2),Q.length)Q.decompose(0,Q.length,K,3);return this.decompose(J,this.length,K,1),c5.from(K,this.length-(J-Z)+Q.length)}append(Z){return this.replace(this.length,this.length,Z)}slice(Z,J=this.length){[Z,J]=QH(this,Z,J);let Q=[];return this.decompose(Z,J,Q,0),c5.from(Q,J-Z)}eq(Z){if(Z==this)return!0;if(Z.length!=this.length||Z.lines!=this.lines)return!1;let J=this.scanIdentical(Z,1),Q=this.length-this.scanIdentical(Z,-1),K=new ZH(this),U=new ZH(Z);for(let X=J,Y=J;;){if(K.next(X),U.next(X),X=0,K.lineBreak!=U.lineBreak||K.done!=U.done||K.value!=U.value)return!1;if(Y+=K.value.length,K.done||Y>=Q)return!0}}iter(Z=1){return new ZH(this,Z)}iterRange(Z,J=this.length){return new af(this,Z,J)}iterLines(Z,J){let Q;if(Z==null)Q=this.iter();else{if(J==null)J=this.lines+1;let K=this.line(Z).from;Q=this.iterRange(K,Math.max(K,J==this.lines+1?this.length:J<=1?0:this.line(J-1).to))}return new of(Q)}toString(){return this.sliceString(0)}toJSON(){let Z=[];return this.flatten(Z),Z}constructor(){}static of(Z){if(Z.length==0)throw RangeError("A document must have at least one line");if(Z.length==1&&!Z[0])return tZ.empty;return Z.length<=32?new lJ(Z):c5.from(lJ.split(Z,[]))}}class lJ extends tZ{constructor(Z,J=Ll0(Z)){super();this.text=Z,this.length=J}get lines(){return this.text.length}get children(){return null}lineInner(Z,J,Q,K){for(let U=0;;U++){let X=this.text[U],Y=K+X.length;if((J?Q:Y)>=Z)return new T00(K,Y,Q,X);K=Y+1,Q++}}decompose(Z,J,Q,K){let U=Z<=0&&J>=this.length?this:new lJ(V00(this.text,Z,J),Math.min(J,this.length)-Math.max(0,Z));if(K&1){let X=Q.pop(),Y=XN(U.text,X.text.slice(),0,U.length);if(Y.length<=32)Q.push(new lJ(Y,X.length+U.length));else{let q=Y.length>>1;Q.push(new lJ(Y.slice(0,q)),new lJ(Y.slice(q)))}}else Q.push(U)}replace(Z,J,Q){if(!(Q instanceof lJ))return super.replace(Z,J,Q);[Z,J]=QH(this,Z,J);let K=XN(this.text,XN(Q.text,V00(this.text,0,Z)),J),U=this.length+Q.length-(J-Z);if(K.length<=32)return new lJ(K,U);return c5.from(lJ.split(K,[]),U)}sliceString(Z,J=this.length,Q=`
`){[Z,J]=QH(this,Z,J);let K="";for(let U=0,X=0;U<=J&&X<this.text.length;X++){let Y=this.text[X],q=U+Y.length;if(U>Z&&X)K+=Q;if(Z<q&&J>U)K+=Y.slice(Math.max(0,Z-U),J-U);U=q+1}return K}flatten(Z){for(let J of this.text)Z.push(J)}scanIdentical(){return 0}static split(Z,J){let Q=[],K=-1;for(let U of Z)if(Q.push(U),K+=U.length+1,Q.length==32)J.push(new lJ(Q,K)),Q=[],K=-1;if(K>-1)J.push(new lJ(Q,K));return J}}class c5 extends tZ{constructor(Z,J){super();this.children=Z,this.length=J,this.lines=0;for(let Q of Z)this.lines+=Q.lines}lineInner(Z,J,Q,K){for(let U=0;;U++){let X=this.children[U],Y=K+X.length,q=Q+X.lines-1;if((J?q:Y)>=Z)return X.lineInner(Z,J,Q,K);K=Y+1,Q=q+1}}decompose(Z,J,Q,K){for(let U=0,X=0;X<=J&&U<this.children.length;U++){let Y=this.children[U],q=X+Y.length;if(Z<=q&&J>=X){let W=K&((X<=Z?1:0)|(q>=J?2:0));if(X>=Z&&q<=J&&!W)Q.push(Y);else Y.decompose(Z-X,J-X,Q,W)}X=q+1}}replace(Z,J,Q){if([Z,J]=QH(this,Z,J),Q.lines<this.lines)for(let K=0,U=0;K<this.children.length;K++){let X=this.children[K],Y=U+X.length;if(Z>=U&&J<=Y){let q=X.replace(Z-U,J-U,Q),W=this.lines-X.lines+q.lines;if(q.lines<W>>4&&q.lines>W>>6){let G=this.children.slice();return G[K]=q,new c5(G,this.length-(J-Z)+Q.length)}return super.replace(U,Y,q)}U=Y+1}return super.replace(Z,J,Q)}sliceString(Z,J=this.length,Q=`
`){[Z,J]=QH(this,Z,J);let K="";for(let U=0,X=0;U<this.children.length&&X<=J;U++){let Y=this.children[U],q=X+Y.length;if(X>Z&&U)K+=Q;if(Z<q&&J>X)K+=Y.sliceString(Z-X,J-X,Q);X=q+1}return K}flatten(Z){for(let J of this.children)J.flatten(Z)}scanIdentical(Z,J){if(!(Z instanceof c5))return 0;let Q=0,[K,U,X,Y]=J>0?[0,0,this.children.length,Z.children.length]:[this.children.length-1,Z.children.length-1,-1,-1];for(;;K+=J,U+=J){if(K==X||U==Y)return Q;let q=this.children[K],W=Z.children[U];if(q!=W)return Q+q.scanIdentical(W,J);Q+=q.length+1}}static from(Z,J=Z.reduce((Q,K)=>Q+K.length+1,-1)){let Q=0;for(let F of Z)Q+=F.lines;if(Q<32){let F=[];for(let M of Z)M.flatten(F);return new lJ(F,J)}let K=Math.max(32,Q>>5),U=K<<1,X=K>>1,Y=[],q=0,W=-1,G=[];function z(F){let M;if(F.lines>U&&F instanceof c5)for(let B of F.children)z(B);else if(F.lines>X&&(q>X||!q))H(),Y.push(F);else if(F instanceof lJ&&q&&(M=G[G.length-1])instanceof lJ&&F.lines+M.lines<=32)q+=F.lines,W+=F.length+1,G[G.length-1]=new lJ(M.text.concat(F.text),M.length+1+F.length);else{if(q+F.lines>K)H();q+=F.lines,W+=F.length+1,G.push(F)}}function H(){if(q==0)return;Y.push(G.length==1?G[0]:c5.from(G,W)),W=-1,q=G.length=0}for(let F of Z)z(F);return H(),Y.length==1?Y[0]:new c5(Y,J)}}tZ.empty=new lJ([""],0);function Ll0(Z){let J=-1;for(let Q of Z)J+=Q.length+1;return J}function XN(Z,J,Q=0,K=1e9){for(let U=0,X=0,Y=!0;X<Z.length&&U<=K;X++){let q=Z[X],W=U+q.length;if(W>=Q){if(W>K)q=q.slice(0,K-U);if(U<Q)q=q.slice(Q-U);if(Y)J[J.length-1]+=q,Y=!1;else J.push(q)}U=W+1}return J}function V00(Z,J,Q){return XN(Z,[""],J,Q)}class ZH{constructor(Z,J=1){this.dir=J,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Z],this.offsets=[J>0?1:(Z instanceof lJ?Z.text.length:Z.children.length)<<1]}nextInner(Z,J){this.done=this.lineBreak=!1;for(;;){let Q=this.nodes.length-1,K=this.nodes[Q],U=this.offsets[Q],X=U>>1,Y=K instanceof lJ?K.text.length:K.children.length;if(X==(J>0?Y:0)){if(Q==0)return this.done=!0,this.value="",this;if(J>0)this.offsets[Q-1]++;this.nodes.pop(),this.offsets.pop()}else if((U&1)==(J>0?0:1)){if(this.offsets[Q]+=J,Z==0)return this.lineBreak=!0,this.value=`
`,this;Z--}else if(K instanceof lJ){let q=K.text[X+(J<0?-1:0)];if(this.offsets[Q]+=J,q.length>Math.max(0,Z))return this.value=Z==0?q:J>0?q.slice(Z):q.slice(0,q.length-Z),this;Z-=q.length}else{let q=K.children[X+(J<0?-1:0)];if(Z>q.length)Z-=q.length,this.offsets[Q]+=J;else{if(J<0)this.offsets[Q]--;this.nodes.push(q),this.offsets.push(J>0?1:(q instanceof lJ?q.text.length:q.children.length)<<1)}}}}next(Z=0){if(Z<0)this.nextInner(-Z,-this.dir),Z=this.value.length;return this.nextInner(Z,this.dir)}}class af{constructor(Z,J,Q){this.value="",this.done=!1,this.cursor=new ZH(Z,J>Q?-1:1),this.pos=J>Q?Z.length:0,this.from=Math.min(J,Q),this.to=Math.max(J,Q)}nextInner(Z,J){if(J<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Z+=Math.max(0,J<0?this.pos-this.to:this.from-this.pos);let Q=J<0?this.pos-this.from:this.to-this.pos;if(Z>Q)Z=Q;Q-=Z;let{value:K}=this.cursor.next(Z);return this.pos+=(K.length+Z)*J,this.value=K.length<=Q?K:J<0?K.slice(K.length-Q):K.slice(0,Q),this.done=!this.value,this}next(Z=0){if(Z<0)Z=Math.max(Z,this.from-this.pos);else if(Z>0)Z=Math.min(Z,this.to-this.pos);return this.nextInner(Z,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class of{constructor(Z){this.inner=Z,this.afterBreak=!0,this.value="",this.done=!1}next(Z=0){let{done:J,lineBreak:Q,value:K}=this.inner.next(Z);if(J&&this.afterBreak)this.value="",this.afterBreak=!1;else if(J)this.done=!0,this.value="";else if(Q)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=K,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol<"u")tZ.prototype[Symbol.iterator]=function(){return this.iter()},ZH.prototype[Symbol.iterator]=af.prototype[Symbol.iterator]=of.prototype[Symbol.iterator]=function(){return this};class T00{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.number=Q,this.text=K}get length(){return this.to-this.from}}function QH(Z,J,Q){return J=Math.max(0,Math.min(Z.length,J)),[J,Math.max(J,Math.min(Z.length,Q))]}function xJ(Z,J,Q=!0,K=!0){return I00(Z,J,Q,K)}function Dl0(Z){return Z>=56320&&Z<57344}function Il0(Z){return Z>=55296&&Z<56320}function l7(Z,J){let Q=Z.charCodeAt(J);if(!Il0(Q)||J+1==Z.length)return Q;let K=Z.charCodeAt(J+1);if(!Dl0(K))return Q;return(Q-55296<<10)+(K-56320)+65536}function wO(Z){if(Z<=65535)return String.fromCharCode(Z);return Z-=65536,String.fromCharCode((Z>>10)+55296,(Z&1023)+56320)}function M4(Z){return Z<65536?1:2}var uf=/\r\n?|\n/,F7=function(Z){return Z[Z.Simple=0]="Simple",Z[Z.TrackDel=1]="TrackDel",Z[Z.TrackBefore=2]="TrackBefore",Z[Z.TrackAfter=3]="TrackAfter",Z}(F7||(F7={}));class gK{constructor(Z){this.sections=Z}get length(){let Z=0;for(let J=0;J<this.sections.length;J+=2)Z+=this.sections[J];return Z}get newLength(){let Z=0;for(let J=0;J<this.sections.length;J+=2){let Q=this.sections[J+1];Z+=Q<0?this.sections[J]:Q}return Z}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Z){for(let J=0,Q=0,K=0;J<this.sections.length;){let U=this.sections[J++],X=this.sections[J++];if(X<0)Z(Q,K,U),K+=U;else K+=X;Q+=U}}iterChangedRanges(Z,J=!1){gf(this,Z,J)}get invertedDesc(){let Z=[];for(let J=0;J<this.sections.length;){let Q=this.sections[J++],K=this.sections[J++];if(K<0)Z.push(Q,K);else Z.push(K,Q)}return new gK(Z)}composeDesc(Z){return this.empty?Z:Z.empty?this:w00(this,Z)}mapDesc(Z,J=!1){return Z.empty?this:pf(this,Z,J)}mapPos(Z,J=-1,Q=F7.Simple){let K=0,U=0;for(let X=0;X<this.sections.length;){let Y=this.sections[X++],q=this.sections[X++],W=K+Y;if(q<0){if(W>Z)return U+(Z-K);U+=Y}else{if(Q!=F7.Simple&&W>=Z&&(Q==F7.TrackDel&&K<Z&&W>Z||Q==F7.TrackBefore&&K<Z||Q==F7.TrackAfter&&W>Z))return null;if(W>Z||W==Z&&J<0&&!Y)return Z==K||J<0?U:U+q;U+=q}K=W}if(Z>K)throw RangeError(`Position ${Z} is out of range for changeset of length ${K}`);return U}touchesRange(Z,J=Z){for(let Q=0,K=0;Q<this.sections.length&&K<=J;){let U=this.sections[Q++],X=this.sections[Q++],Y=K+U;if(X>=0&&K<=J&&Y>=Z)return K<Z&&Y>J?"cover":!0;K=Y}return!1}toString(){let Z="";for(let J=0;J<this.sections.length;){let Q=this.sections[J++],K=this.sections[J++];Z+=(Z?" ":"")+Q+(K>=0?":"+K:"")}return Z}toJSON(){return this.sections}static fromJSON(Z){if(!Array.isArray(Z)||Z.length%2||Z.some((J)=>typeof J!="number"))throw RangeError("Invalid JSON representation of ChangeDesc");return new gK(Z)}static create(Z){return new gK(Z)}}class dJ extends gK{constructor(Z,J){super(Z);this.inserted=J}apply(Z){if(this.length!=Z.length)throw RangeError("Applying change set to a document with the wrong length");return gf(this,(J,Q,K,U,X)=>Z=Z.replace(K,K+(Q-J),X),!1),Z}mapDesc(Z,J=!1){return pf(this,Z,J,!0)}invert(Z){let J=this.sections.slice(),Q=[];for(let K=0,U=0;K<J.length;K+=2){let X=J[K],Y=J[K+1];if(Y>=0){J[K]=Y,J[K+1]=X;let q=K>>1;while(Q.length<q)Q.push(tZ.empty);Q.push(X?Z.slice(U,U+X):tZ.empty)}U+=X}return new dJ(J,Q)}compose(Z){return this.empty?Z:Z.empty?this:w00(this,Z,!0)}map(Z,J=!1){return Z.empty?this:pf(this,Z,J,!0)}iterChanges(Z,J=!1){gf(this,Z,J)}get desc(){return gK.create(this.sections)}filter(Z){let J=[],Q=[],K=[],U=new KH(this);Z:for(let X=0,Y=0;;){let q=X==Z.length?1e9:Z[X++];while(Y<q||Y==q&&U.len==0){if(U.done)break Z;let G=Math.min(U.len,q-Y);IQ(K,G,-1);let z=U.ins==-1?-1:U.off==0?U.ins:0;if(IQ(J,G,z),z>0)iY(Q,J,U.text);U.forward(G),Y+=G}let W=Z[X++];while(Y<W){if(U.done)break Z;let G=Math.min(U.len,W-Y);IQ(J,G,-1),IQ(K,G,U.ins==-1?-1:U.off==0?U.ins:0),U.forward(G),Y+=G}}return{changes:new dJ(J,Q),filtered:gK.create(K)}}toJSON(){let Z=[];for(let J=0;J<this.sections.length;J+=2){let Q=this.sections[J],K=this.sections[J+1];if(K<0)Z.push(Q);else if(K==0)Z.push([Q]);else Z.push([Q].concat(this.inserted[J>>1].toJSON()))}return Z}static of(Z,J,Q){let K=[],U=[],X=0,Y=null;function q(G=!1){if(!G&&!K.length)return;if(X<J)IQ(K,J-X,-1);let z=new dJ(K,U);Y=Y?Y.compose(z.map(Y)):z,K=[],U=[],X=0}function W(G){if(Array.isArray(G))for(let z of G)W(z);else if(G instanceof dJ){if(G.length!=J)throw RangeError(`Mismatched change set length (got ${G.length}, expected ${J})`);q(),Y=Y?Y.compose(G.map(Y)):G}else{let{from:z,to:H=z,insert:F}=G;if(z>H||z<0||H>J)throw RangeError(`Invalid change range ${z} to ${H} (in doc of length ${J})`);let M=!F?tZ.empty:typeof F=="string"?tZ.of(F.split(Q||uf)):F,B=M.length;if(z==H&&B==0)return;if(z<X)q();if(z>X)IQ(K,z-X,-1);IQ(K,H-z,B),iY(U,K,M),X=H}}return W(Z),q(!Y),Y}static empty(Z){return new dJ(Z?[Z,-1]:[],[])}static fromJSON(Z){if(!Array.isArray(Z))throw RangeError("Invalid JSON representation of ChangeSet");let J=[],Q=[];for(let K=0;K<Z.length;K++){let U=Z[K];if(typeof U=="number")J.push(U,-1);else if(!Array.isArray(U)||typeof U[0]!="number"||U.some((X,Y)=>Y&&typeof X!="string"))throw RangeError("Invalid JSON representation of ChangeSet");else if(U.length==1)J.push(U[0],0);else{while(Q.length<K)Q.push(tZ.empty);Q[K]=tZ.of(U.slice(1)),J.push(U[0],Q[K].length)}}return new dJ(J,Q)}static createSet(Z,J){return new dJ(Z,J)}}function IQ(Z,J,Q,K=!1){if(J==0&&Q<=0)return;let U=Z.length-2;if(U>=0&&Q<=0&&Q==Z[U+1])Z[U]+=J;else if(U>=0&&J==0&&Z[U]==0)Z[U+1]+=Q;else if(K)Z[U]+=J,Z[U+1]+=Q;else Z.push(J,Q)}function iY(Z,J,Q){if(Q.length==0)return;let K=J.length-2>>1;if(K<Z.length)Z[Z.length-1]=Z[Z.length-1].append(Q);else{while(Z.length<K)Z.push(tZ.empty);Z.push(Q)}}function gf(Z,J,Q){let K=Z.inserted;for(let U=0,X=0,Y=0;Y<Z.sections.length;){let q=Z.sections[Y++],W=Z.sections[Y++];if(W<0)U+=q,X+=q;else{let G=U,z=X,H=tZ.empty;for(;;){if(G+=q,z+=W,W&&K)H=H.append(K[Y-2>>1]);if(Q||Y==Z.sections.length||Z.sections[Y+1]<0)break;q=Z.sections[Y++],W=Z.sections[Y++]}J(U,G,X,z,H),U=G,X=z}}}function pf(Z,J,Q,K=!1){let U=[],X=K?[]:null,Y=new KH(Z),q=new KH(J);for(let W=-1;;)if(Y.done&&q.len||q.done&&Y.len)throw Error("Mismatched change set lengths");else if(Y.ins==-1&&q.ins==-1){let G=Math.min(Y.len,q.len);IQ(U,G,-1),Y.forward(G),q.forward(G)}else if(q.ins>=0&&(Y.ins<0||W==Y.i||Y.off==0&&(q.len<Y.len||q.len==Y.len&&!Q))){let G=q.len;IQ(U,q.ins,-1);while(G){let z=Math.min(Y.len,G);if(Y.ins>=0&&W<Y.i&&Y.len<=z){if(IQ(U,0,Y.ins),X)iY(X,U,Y.text);W=Y.i}Y.forward(z),G-=z}q.next()}else if(Y.ins>=0){let G=0,z=Y.len;while(z)if(q.ins==-1){let H=Math.min(z,q.len);G+=H,z-=H,q.forward(H)}else if(q.ins==0&&q.len<z)z-=q.len,q.next();else break;if(IQ(U,G,W<Y.i?Y.ins:0),X&&W<Y.i)iY(X,U,Y.text);W=Y.i,Y.forward(Y.len-z)}else if(Y.done&&q.done)return X?dJ.createSet(U,X):gK.create(U);else throw Error("Mismatched change set lengths")}function w00(Z,J,Q=!1){let K=[],U=Q?[]:null,X=new KH(Z),Y=new KH(J);for(let q=!1;;)if(X.done&&Y.done)return U?dJ.createSet(K,U):gK.create(K);else if(X.ins==0)IQ(K,X.len,0,q),X.next();else if(Y.len==0&&!Y.done){if(IQ(K,0,Y.ins,q),U)iY(U,K,Y.text);Y.next()}else if(X.done||Y.done)throw Error("Mismatched change set lengths");else{let W=Math.min(X.len2,Y.len),G=K.length;if(X.ins==-1){let z=Y.ins==-1?-1:Y.off?0:Y.ins;if(IQ(K,W,z,q),U&&z)iY(U,K,Y.text)}else if(Y.ins==-1){if(IQ(K,X.off?0:X.len,W,q),U)iY(U,K,X.textBit(W))}else if(IQ(K,X.off?0:X.len,Y.off?0:Y.ins,q),U&&!Y.off)iY(U,K,Y.text);q=(X.ins>W||Y.ins>=0&&Y.len>W)&&(q||K.length>G),X.forward2(W),Y.forward(W)}}class KH{constructor(Z){this.set=Z,this.i=0,this.next()}next(){let{sections:Z}=this.set;if(this.i<Z.length)this.len=Z[this.i++],this.ins=Z[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Z}=this.set,J=this.i-2>>1;return J>=Z.length?tZ.empty:Z[J]}textBit(Z){let{inserted:J}=this.set,Q=this.i-2>>1;return Q>=J.length&&!Z?tZ.empty:J[Q].slice(this.off,Z==null?void 0:this.off+Z)}forward(Z){if(Z==this.len)this.next();else this.len-=Z,this.off+=Z}forward2(Z){if(this.ins==-1)this.forward(Z);else if(Z==this.ins)this.next();else this.ins-=Z,this.off+=Z}}class pW{constructor(Z,J,Q){this.from=Z,this.to=J,this.flags=Q}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Z=this.flags&7;return Z==7?null:Z}get goalColumn(){let Z=this.flags>>6;return Z==16777215?void 0:Z}map(Z,J=-1){let Q,K;if(this.empty)Q=K=Z.mapPos(this.from,J);else Q=Z.mapPos(this.from,1),K=Z.mapPos(this.to,-1);return Q==this.from&&K==this.to?this:new pW(Q,K,this.flags)}extend(Z,J=Z){if(Z<=this.anchor&&J>=this.anchor)return e0.range(Z,J);let Q=Math.abs(Z-this.anchor)>Math.abs(J-this.anchor)?Z:J;return e0.range(this.anchor,Q)}eq(Z,J=!1){return this.anchor==Z.anchor&&this.head==Z.head&&this.goalColumn==Z.goalColumn&&(!J||!this.empty||this.assoc==Z.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Z){if(!Z||typeof Z.anchor!="number"||typeof Z.head!="number")throw RangeError("Invalid JSON representation for SelectionRange");return e0.range(Z.anchor,Z.head)}static create(Z,J,Q){return new pW(Z,J,Q)}}class e0{constructor(Z,J){this.ranges=Z,this.mainIndex=J}map(Z,J=-1){if(Z.empty)return this;return e0.create(this.ranges.map((Q)=>Q.map(Z,J)),this.mainIndex)}eq(Z,J=!1){if(this.ranges.length!=Z.ranges.length||this.mainIndex!=Z.mainIndex)return!1;for(let Q=0;Q<this.ranges.length;Q++)if(!this.ranges[Q].eq(Z.ranges[Q],J))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new e0([this.main],0)}addRange(Z,J=!0){return e0.create([Z].concat(this.ranges),J?0:this.mainIndex+1)}replaceRange(Z,J=this.mainIndex){let Q=this.ranges.slice();return Q[J]=Z,e0.create(Q,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((Z)=>Z.toJSON()),main:this.mainIndex}}static fromJSON(Z){if(!Z||!Array.isArray(Z.ranges)||typeof Z.main!="number"||Z.main>=Z.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new e0(Z.ranges.map((J)=>pW.fromJSON(J)),Z.main)}static single(Z,J=Z){return new e0([e0.range(Z,J)],0)}static create(Z,J=0){if(Z.length==0)throw RangeError("A selection needs at least one range");for(let Q=0,K=0;K<Z.length;K++){let U=Z[K];if(U.empty?U.from<=Q:U.from<Q)return e0.normalized(Z.slice(),J);Q=U.to}return new e0(Z,J)}static cursor(Z,J=0,Q,K){return pW.create(Z,Z,(J==0?0:J<0?8:16)|(Q==null?7:Math.min(6,Q))|(K!==null&&K!==void 0?K:16777215)<<6)}static range(Z,J,Q,K){let U=(Q!==null&&Q!==void 0?Q:16777215)<<6|(K==null?7:Math.min(6,K));return J<Z?pW.create(J,Z,48|U):pW.create(Z,J,(J>Z?8:0)|U)}static normalized(Z,J=0){let Q=Z[J];Z.sort((K,U)=>K.from-U.from),J=Z.indexOf(Q);for(let K=1;K<Z.length;K++){let U=Z[K],X=Z[K-1];if(U.empty?U.from<=X.to:U.from<X.to){let Y=X.from,q=Math.max(U.to,X.to);if(K<=J)J--;Z.splice(--K,2,U.anchor>U.head?e0.range(q,Y):e0.range(Y,q))}}return new e0(Z,J)}}function $00(Z,J){for(let Q of Z.ranges)if(Q.to>J)throw RangeError("Selection points outside of document")}var tf=0;class v8{constructor(Z,J,Q,K,U){this.combine=Z,this.compareInput=J,this.compare=Q,this.isStatic=K,this.id=tf++,this.default=Z([]),this.extensions=typeof U=="function"?U(this):U}get reader(){return this}static define(Z={}){return new v8(Z.combine||((J)=>J),Z.compareInput||((J,Q)=>J===Q),Z.compare||(!Z.combine?ef:(J,Q)=>J===Q),!!Z.static,Z.enables)}of(Z){return new CO([],this,0,Z)}compute(Z,J){if(this.isStatic)throw Error("Can't compute a static facet");return new CO(Z,this,1,J)}computeN(Z,J){if(this.isStatic)throw Error("Can't compute a static facet");return new CO(Z,this,2,J)}from(Z,J){if(!J)J=(Q)=>Q;return this.compute([Z],(Q)=>J(Q.field(Z)))}}function ef(Z,J){return Z==J||Z.length==J.length&&Z.every((Q,K)=>Q===J[K])}class CO{constructor(Z,J,Q,K){this.dependencies=Z,this.facet=J,this.type=Q,this.value=K,this.id=tf++}dynamicSlot(Z){var J;let Q=this.value,K=this.facet.compareInput,U=this.id,X=Z[U]>>1,Y=this.type==2,q=!1,W=!1,G=[];for(let z of this.dependencies)if(z=="doc")q=!0;else if(z=="selection")W=!0;else if((((J=Z[z.id])!==null&&J!==void 0?J:1)&1)==0)G.push(Z[z.id]);return{create(z){return z.values[X]=Q(z),1},update(z,H){if(q&&H.docChanged||W&&(H.docChanged||H.selection)||cf(z,G)){let F=Q(z);if(Y?!P00(F,z.values[X],K):!K(F,z.values[X]))return z.values[X]=F,1}return 0},reconfigure:(z,H)=>{let F,M=H.config.address[U];if(M!=null){let B=WN(H,M);if(this.dependencies.every((O)=>{return O instanceof v8?H.facet(O)===z.facet(O):O instanceof BJ?H.field(O,!1)==z.field(O,!1):!0})||(Y?P00(F=Q(z),B,K):K(F=Q(z),B)))return z.values[X]=B,0}else F=Q(z);return z.values[X]=F,1}}}}function P00(Z,J,Q){if(Z.length!=J.length)return!1;for(let K=0;K<Z.length;K++)if(!Q(Z[K],J[K]))return!1;return!0}function cf(Z,J){let Q=!1;for(let K of J)if(jO(Z,K)&1)Q=!0;return Q}function Al0(Z,J,Q){let K=Q.map((W)=>Z[W.id]),U=Q.map((W)=>W.type),X=K.filter((W)=>!(W&1)),Y=Z[J.id]>>1;function q(W){let G=[];for(let z=0;z<K.length;z++){let H=WN(W,K[z]);if(U[z]==2)for(let F of H)G.push(F);else G.push(H)}return J.combine(G)}return{create(W){for(let G of K)jO(W,G);return W.values[Y]=q(W),1},update(W,G){if(!cf(W,X))return 0;let z=q(W);if(J.compare(z,W.values[Y]))return 0;return W.values[Y]=z,1},reconfigure(W,G){let z=cf(W,K),H=G.config.facets[J.id],F=G.facet(J);if(H&&!z&&ef(Q,H))return W.values[Y]=F,0;let M=q(W);if(J.compare(M,F))return W.values[Y]=F,0;return W.values[Y]=M,1}}}var QN=v8.define({static:!0});class BJ{constructor(Z,J,Q,K,U){this.id=Z,this.createF=J,this.updateF=Q,this.compareF=K,this.spec=U,this.provides=void 0}static define(Z){let J=new BJ(tf++,Z.create,Z.update,Z.compare||((Q,K)=>Q===K),Z);if(Z.provide)J.provides=Z.provide(J);return J}create(Z){let J=Z.facet(QN).find((Q)=>Q.field==this);return((J===null||J===void 0?void 0:J.create)||this.createF)(Z)}slot(Z){let J=Z[this.id]>>1;return{create:(Q)=>{return Q.values[J]=this.create(Q),1},update:(Q,K)=>{let U=Q.values[J],X=this.updateF(U,K);if(this.compareF(U,X))return 0;return Q.values[J]=X,1},reconfigure:(Q,K)=>{let U=Q.facet(QN),X=K.facet(QN),Y;if((Y=U.find((q)=>q.field==this))&&Y!=X.find((q)=>q.field==this))return Q.values[J]=Y.create(Q),1;if(K.config.address[this.id]!=null)return Q.values[J]=K.field(this),0;return Q.values[J]=this.create(Q),1}}}init(Z){return[this,QN.of({field:this,create:Z})]}get extension(){return this}}var gW={lowest:4,low:3,default:2,high:1,highest:0};function PO(Z){return(J)=>new Zv(J,Z)}var P6={highest:PO(gW.highest),high:PO(gW.high),default:PO(gW.default),low:PO(gW.low),lowest:PO(gW.lowest)};class Zv{constructor(Z,J){this.inner=Z,this.prec=J}}class GN{of(Z){return new YN(this,Z)}reconfigure(Z){return GN.reconfigure.of({compartment:this,extension:Z})}get(Z){return Z.config.compartments.get(this)}}class YN{constructor(Z,J){this.compartment=Z,this.inner=J}}class qN{constructor(Z,J,Q,K,U,X){this.base=Z,this.compartments=J,this.dynamicSlots=Q,this.address=K,this.staticValues=U,this.facets=X,this.statusTemplate=[];while(this.statusTemplate.length<Q.length)this.statusTemplate.push(0)}staticFacet(Z){let J=this.address[Z.id];return J==null?Z.default:this.staticValues[J>>1]}static resolve(Z,J,Q){let K=[],U=Object.create(null),X=new Map;for(let H of Nl0(Z,J,X))if(H instanceof BJ)K.push(H);else(U[H.facet.id]||(U[H.facet.id]=[])).push(H);let Y=Object.create(null),q=[],W=[];for(let H of K)Y[H.id]=W.length<<1,W.push((F)=>H.slot(F));let G=Q===null||Q===void 0?void 0:Q.config.facets;for(let H in U){let F=U[H],M=F[0].facet,B=G&&G[H]||[];if(F.every((O)=>O.type==0))if(Y[M.id]=q.length<<1|1,ef(B,F))q.push(Q.facet(M));else{let O=M.combine(F.map((R)=>R.value));q.push(Q&&M.compare(O,Q.facet(M))?Q.facet(M):O)}else{for(let O of F)if(O.type==0)Y[O.id]=q.length<<1|1,q.push(O.value);else Y[O.id]=W.length<<1,W.push((R)=>O.dynamicSlot(R));Y[M.id]=W.length<<1,W.push((O)=>Al0(O,M,F))}}let z=W.map((H)=>H(Y));return new qN(Z,X,z,Y,q,U)}}function Nl0(Z,J,Q){let K=[[],[],[],[],[]],U=new Map;function X(Y,q){let W=U.get(Y);if(W!=null){if(W<=q)return;let G=K[W].indexOf(Y);if(G>-1)K[W].splice(G,1);if(Y instanceof YN)Q.delete(Y.compartment)}if(U.set(Y,q),Array.isArray(Y))for(let G of Y)X(G,q);else if(Y instanceof YN){if(Q.has(Y.compartment))throw RangeError("Duplicate use of compartment in extensions");let G=J.get(Y.compartment)||Y.inner;Q.set(Y.compartment,G),X(G,q)}else if(Y instanceof Zv)X(Y.inner,Y.prec);else if(Y instanceof BJ){if(K[q].push(Y),Y.provides)X(Y.provides,q)}else if(Y instanceof CO){if(K[q].push(Y),Y.facet.extensions)X(Y.facet.extensions,gW.default)}else{let G=Y.extension;if(!G)throw Error(`Unrecognized extension value in extension set (${Y}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);X(G,q)}}return X(Z,gW.default),K.reduce((Y,q)=>Y.concat(q))}function jO(Z,J){if(J&1)return 2;let Q=J>>1,K=Z.status[Q];if(K==4)throw Error("Cyclic dependency between fields and/or facets");if(K&2)return K;Z.status[Q]=4;let U=Z.computeSlot(Z,Z.config.dynamicSlots[Q]);return Z.status[Q]=2|U}function WN(Z,J){return J&1?Z.config.staticValues[J>>1]:Z.values[J>>1]}var k00=v8.define(),lf=v8.define({combine:(Z)=>Z.some((J)=>J),static:!0}),_00=v8.define({combine:(Z)=>Z.length?Z[0]:void 0,static:!0}),f00=v8.define(),v00=v8.define(),x00=v8.define(),b00=v8.define({combine:(Z)=>Z.length?Z[0]:!1});class B4{constructor(Z,J){this.type=Z,this.value=J}static define(){return new y00}}class y00{of(Z){return new B4(this,Z)}}class h00{constructor(Z){this.map=Z}of(Z){return new OZ(this,Z)}}class OZ{constructor(Z,J){this.type=Z,this.value=J}map(Z){let J=this.type.map(this.value,Z);return J===void 0?void 0:J==this.value?this:new OZ(this.type,J)}is(Z){return this.type==Z}static define(Z={}){return new h00(Z.map||((J)=>J))}static mapEffects(Z,J){if(!Z.length)return Z;let Q=[];for(let K of Z){let U=K.map(J);if(U)Q.push(U)}return Q}}OZ.reconfigure=OZ.define();OZ.appendConfig=OZ.define();class CJ{constructor(Z,J,Q,K,U,X){if(this.startState=Z,this.changes=J,this.selection=Q,this.effects=K,this.annotations=U,this.scrollIntoView=X,this._doc=null,this._state=null,Q)$00(Q,J.newLength);if(!U.some((Y)=>Y.type==CJ.time))this.annotations=U.concat(CJ.time.of(Date.now()))}static create(Z,J,Q,K,U,X){return new CJ(Z,J,Q,K,U,X)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(Z){for(let J of this.annotations)if(J.type==Z)return J.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Z){let J=this.annotation(CJ.userEvent);return!!(J&&(J==Z||J.length>Z.length&&J.slice(0,Z.length)==Z&&J[Z.length]=="."))}}CJ.time=B4.define();CJ.userEvent=B4.define();CJ.addToHistory=B4.define();CJ.remote=B4.define();function El0(Z,J){let Q=[];for(let K=0,U=0;;){let X,Y;if(K<Z.length&&(U==J.length||J[U]>=Z[K]))X=Z[K++],Y=Z[K++];else if(U<J.length)X=J[U++],Y=J[U++];else return Q;if(!Q.length||Q[Q.length-1]<X)Q.push(X,Y);else if(Q[Q.length-1]<Y)Q[Q.length-1]=Y}}function m00(Z,J,Q){var K;let U,X,Y;if(Q)U=J.changes,X=dJ.empty(J.changes.length),Y=Z.changes.compose(J.changes);else U=J.changes.map(Z.changes),X=Z.changes.mapDesc(J.changes,!0),Y=Z.changes.compose(U);return{changes:Y,selection:J.selection?J.selection.map(X):(K=Z.selection)===null||K===void 0?void 0:K.map(U),effects:OZ.mapEffects(Z.effects,U).concat(OZ.mapEffects(J.effects,X)),annotations:Z.annotations.length?Z.annotations.concat(J.annotations):J.annotations,scrollIntoView:Z.scrollIntoView||J.scrollIntoView}}function df(Z,J,Q){let K=J.selection,U=JH(J.annotations);if(J.userEvent)U=U.concat(CJ.userEvent.of(J.userEvent));return{changes:J.changes instanceof dJ?J.changes:dJ.of(J.changes||[],Q,Z.facet(_00)),selection:K&&(K instanceof e0?K:e0.single(K.anchor,K.head)),effects:JH(J.effects),annotations:U,scrollIntoView:!!J.scrollIntoView}}function u00(Z,J,Q){let K=df(Z,J.length?J[0]:{},Z.doc.length);if(J.length&&J[0].filter===!1)Q=!1;for(let X=1;X<J.length;X++){if(J[X].filter===!1)Q=!1;let Y=!!J[X].sequential;K=m00(K,df(Z,J[X],Y?K.changes.newLength:Z.doc.length),Y)}let U=CJ.create(Z,K.changes,K.selection,K.effects,K.annotations,K.scrollIntoView);return Pl0(Q?Vl0(U):U)}function Vl0(Z){let J=Z.startState,Q=!0;for(let U of J.facet(f00)){let X=U(Z);if(X===!1){Q=!1;break}if(Array.isArray(X))Q=Q===!0?X:El0(Q,X)}if(Q!==!0){let U,X;if(Q===!1)X=Z.changes.invertedDesc,U=dJ.empty(J.doc.length);else{let Y=Z.changes.filter(Q);U=Y.changes,X=Y.filtered.mapDesc(Y.changes).invertedDesc}Z=CJ.create(J,U,Z.selection&&Z.selection.map(X),OZ.mapEffects(Z.effects,X),Z.annotations,Z.scrollIntoView)}let K=J.facet(v00);for(let U=K.length-1;U>=0;U--){let X=K[U](Z);if(X instanceof CJ)Z=X;else if(Array.isArray(X)&&X.length==1&&X[0]instanceof CJ)Z=X[0];else Z=u00(J,JH(X),!1)}return Z}function Pl0(Z){let J=Z.startState,Q=J.facet(x00),K=Z;for(let U=Q.length-1;U>=0;U--){let X=Q[U](Z);if(X&&Object.keys(X).length)K=m00(K,df(J,X,Z.changes.newLength),!0)}return K==Z?Z:CJ.create(J,Z.changes,Z.selection,K.effects,K.annotations,K.scrollIntoView)}var Cl0=[];function JH(Z){return Z==null?Cl0:Array.isArray(Z)?Z:[Z]}var x9=function(Z){return Z[Z.Word=0]="Word",Z[Z.Space=1]="Space",Z[Z.Other=2]="Other",Z}(x9||(x9={})),jl0=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,sf;try{sf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Z){}function Sl0(Z){if(sf)return sf.test(Z);for(let J=0;J<Z.length;J++){let Q=Z[J];if(/\w/.test(Q)||Q>""&&(Q.toUpperCase()!=Q.toLowerCase()||jl0.test(Q)))return!0}return!1}function Tl0(Z){return(J)=>{if(!/\S/.test(J))return x9.Space;if(Sl0(J))return x9.Word;for(let Q=0;Q<Z.length;Q++)if(J.indexOf(Z[Q])>-1)return x9.Word;return x9.Other}}class vZ{constructor(Z,J,Q,K,U,X){if(this.config=Z,this.doc=J,this.selection=Q,this.values=K,this.status=Z.statusTemplate.slice(),this.computeSlot=U,X)X._state=this;for(let Y=0;Y<this.config.dynamicSlots.length;Y++)jO(this,Y<<1);this.computeSlot=null}field(Z,J=!0){let Q=this.config.address[Z.id];if(Q==null){if(J)throw RangeError("Field is not present in this state");return}return jO(this,Q),WN(this,Q)}update(...Z){return u00(this,Z,!0)}applyTransaction(Z){let J=this.config,{base:Q,compartments:K}=J;for(let Y of Z.effects)if(Y.is(GN.reconfigure)){if(J)K=new Map,J.compartments.forEach((q,W)=>K.set(W,q)),J=null;K.set(Y.value.compartment,Y.value.extension)}else if(Y.is(OZ.reconfigure))J=null,Q=Y.value;else if(Y.is(OZ.appendConfig))J=null,Q=JH(Q).concat(Y.value);let U;if(!J)J=qN.resolve(Q,K,this),U=new vZ(J,this.doc,this.selection,J.dynamicSlots.map(()=>null),(q,W)=>W.reconfigure(q,this),null).values;else U=Z.startState.values.slice();let X=Z.startState.facet(lf)?Z.newSelection:Z.newSelection.asSingle();new vZ(J,Z.newDoc,X,U,(Y,q)=>q.update(Y,Z),Z)}replaceSelection(Z){if(typeof Z=="string")Z=this.toText(Z);return this.changeByRange((J)=>({changes:{from:J.from,to:J.to,insert:Z},range:e0.cursor(J.from+Z.length)}))}changeByRange(Z){let J=this.selection,Q=Z(J.ranges[0]),K=this.changes(Q.changes),U=[Q.range],X=JH(Q.effects);for(let Y=1;Y<J.ranges.length;Y++){let q=Z(J.ranges[Y]),W=this.changes(q.changes),G=W.map(K);for(let H=0;H<Y;H++)U[H]=U[H].map(G);let z=K.mapDesc(W,!0);U.push(q.range.map(z)),K=K.compose(G),X=OZ.mapEffects(X,G).concat(OZ.mapEffects(JH(q.effects),z))}return{changes:K,selection:e0.create(U,J.mainIndex),effects:X}}changes(Z=[]){if(Z instanceof dJ)return Z;return dJ.of(Z,this.doc.length,this.facet(vZ.lineSeparator))}toText(Z){return tZ.of(Z.split(this.facet(vZ.lineSeparator)||uf))}sliceDoc(Z=0,J=this.doc.length){return this.doc.sliceString(Z,J,this.lineBreak)}facet(Z){let J=this.config.address[Z.id];if(J==null)return Z.default;return jO(this,J),WN(this,J)}toJSON(Z){let J={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Z)for(let Q in Z){let K=Z[Q];if(K instanceof BJ&&this.config.address[K.id]!=null)J[Q]=K.spec.toJSON(this.field(Z[Q]),this)}return J}static fromJSON(Z,J={},Q){if(!Z||typeof Z.doc!="string")throw RangeError("Invalid JSON representation for EditorState");let K=[];if(Q){for(let U in Q)if(Object.prototype.hasOwnProperty.call(Z,U)){let X=Q[U],Y=Z[U];K.push(X.init((q)=>X.spec.fromJSON(Y,q)))}}return vZ.create({doc:Z.doc,selection:e0.fromJSON(Z.selection),extensions:J.extensions?K.concat([J.extensions]):K})}static create(Z={}){let J=qN.resolve(Z.extensions||[],new Map),Q=Z.doc instanceof tZ?Z.doc:tZ.of((Z.doc||"").split(J.staticFacet(vZ.lineSeparator)||uf)),K=!Z.selection?e0.single(0):Z.selection instanceof e0?Z.selection:e0.single(Z.selection.anchor,Z.selection.head);if($00(K,Q.length),!J.staticFacet(lf))K=K.asSingle();return new vZ(J,Q,K,J.dynamicSlots.map(()=>null),(U,X)=>X.create(U),null)}get tabSize(){return this.facet(vZ.tabSize)}get lineBreak(){return this.facet(vZ.lineSeparator)||`
`}get readOnly(){return this.facet(b00)}phrase(Z,...J){for(let Q of this.facet(vZ.phrases))if(Object.prototype.hasOwnProperty.call(Q,Z)){Z=Q[Z];break}if(J.length)Z=Z.replace(/\$(\$|\d*)/g,(Q,K)=>{if(K=="$")return"$";let U=+(K||1);return!U||U>J.length?Q:J[U-1]});return Z}languageDataAt(Z,J,Q=-1){let K=[];for(let U of this.facet(k00))for(let X of U(this,J,Q))if(Object.prototype.hasOwnProperty.call(X,Z))K.push(X[Z]);return K}charCategorizer(Z){let J=this.languageDataAt("wordChars",Z);return Tl0(J.length?J[0]:"")}wordAt(Z){let{text:J,from:Q,length:K}=this.doc.lineAt(Z),U=this.charCategorizer(Z),X=Z-Q,Y=Z-Q;while(X>0){let q=xJ(J,X,!1);if(U(J.slice(q,X))!=x9.Word)break;X=q}while(Y<K){let q=xJ(J,Y);if(U(J.slice(Y,q))!=x9.Word)break;Y=q}return X==Y?null:e0.range(X+Q,Y+Q)}}vZ.allowMultipleSelections=lf;vZ.tabSize=v8.define({combine:(Z)=>Z.length?Z[0]:4});vZ.lineSeparator=_00;vZ.readOnly=b00;vZ.phrases=v8.define({compare(Z,J){let Q=Object.keys(Z),K=Object.keys(J);return Q.length==K.length&&Q.every((U)=>Z[U]==J[U])}});vZ.languageData=k00;vZ.changeFilter=f00;vZ.transactionFilter=v00;vZ.transactionExtender=x00;GN.reconfigure=OZ.define();function AQ(Z,J,Q={}){let K={};for(let U of Z)for(let X of Object.keys(U)){let Y=U[X],q=K[X];if(q===void 0)K[X]=Y;else if(q===Y||Y===void 0);else if(Object.hasOwnProperty.call(Q,X))K[X]=Q[X](q,Y);else throw Error("Config merge conflict for field "+X)}for(let U in J)if(K[U]===void 0)K[U]=J[U];return K}class pK{eq(Z){return this==Z}range(Z,J=Z){return SO.create(Z,J,this)}}pK.prototype.startSide=pK.prototype.endSide=0;pK.prototype.point=!1;pK.prototype.mapMode=F7.TrackDel;function Jv(Z,J){return Z==J||Z.constructor==J.constructor&&Z.eq(J)}class SO{constructor(Z,J,Q){this.from=Z,this.to=J,this.value=Q}static create(Z,J,Q){return new SO(Z,J,Q)}}function rf(Z,J){return Z.from-J.from||Z.value.startSide-J.value.startSide}class Qv{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.value=Q,this.maxPoint=K}get length(){return this.to[this.to.length-1]}findIndex(Z,J,Q,K=0){let U=Q?this.to:this.from;for(let X=K,Y=U.length;;){if(X==Y)return X;let q=X+Y>>1,W=U[q]-Z||(Q?this.value[q].endSide:this.value[q].startSide)-J;if(q==X)return W>=0?X:Y;if(W>=0)Y=q;else X=q+1}}between(Z,J,Q,K){for(let U=this.findIndex(J,-1e9,!0),X=this.findIndex(Q,1e9,!1,U);U<X;U++)if(K(this.from[U]+Z,this.to[U]+Z,this.value[U])===!1)return!1}map(Z,J){let Q=[],K=[],U=[],X=-1,Y=-1;for(let q=0;q<this.value.length;q++){let W=this.value[q],G=this.from[q]+Z,z=this.to[q]+Z,H,F;if(G==z){let M=J.mapPos(G,W.startSide,W.mapMode);if(M==null)continue;if(H=F=M,W.startSide!=W.endSide){if(F=J.mapPos(G,W.endSide),F<H)continue}}else if(H=J.mapPos(G,W.startSide),F=J.mapPos(z,W.endSide),H>F||H==F&&W.startSide>0&&W.endSide<=0)continue;if((F-H||W.endSide-W.startSide)<0)continue;if(X<0)X=H;if(W.point)Y=Math.max(Y,F-H);Q.push(W),K.push(H-X),U.push(F-X)}return{mapped:Q.length?new Qv(K,U,Q,Y):null,pos:X}}}class kZ{constructor(Z,J,Q,K){this.chunkPos=Z,this.chunk=J,this.nextLayer=Q,this.maxPoint=K}static create(Z,J,Q,K){return new kZ(Z,J,Q,K)}get length(){let Z=this.chunk.length-1;return Z<0?0:Math.max(this.chunkEnd(Z),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Z=this.nextLayer.size;for(let J of this.chunk)Z+=J.value.length;return Z}chunkEnd(Z){return this.chunkPos[Z]+this.chunk[Z].length}update(Z){let{add:J=[],sort:Q=!1,filterFrom:K=0,filterTo:U=this.length}=Z,X=Z.filter;if(J.length==0&&!X)return this;if(Q)J=J.slice().sort(rf);if(this.isEmpty)return J.length?kZ.of(J):this;let Y=new Kv(this,null,-1).goto(0),q=0,W=[],G=new F4;while(Y.value||q<J.length)if(q<J.length&&(Y.from-J[q].from||Y.startSide-J[q].value.startSide)>=0){let z=J[q++];if(!G.addInner(z.from,z.to,z.value))W.push(z)}else if(Y.rangeIndex==1&&Y.chunkIndex<this.chunk.length&&(q==J.length||this.chunkEnd(Y.chunkIndex)<J[q].from)&&(!X||K>this.chunkEnd(Y.chunkIndex)||U<this.chunkPos[Y.chunkIndex])&&G.addChunk(this.chunkPos[Y.chunkIndex],this.chunk[Y.chunkIndex]))Y.nextChunk();else{if(!X||K>Y.to||U<Y.from||X(Y.from,Y.to,Y.value)){if(!G.addInner(Y.from,Y.to,Y.value))W.push(SO.create(Y.from,Y.to,Y.value))}Y.next()}return G.finishInner(this.nextLayer.isEmpty&&!W.length?kZ.empty:this.nextLayer.update({add:W,filter:X,filterFrom:K,filterTo:U}))}map(Z){if(Z.empty||this.isEmpty)return this;let J=[],Q=[],K=-1;for(let X=0;X<this.chunk.length;X++){let Y=this.chunkPos[X],q=this.chunk[X],W=Z.touchesRange(Y,Y+q.length);if(W===!1)K=Math.max(K,q.maxPoint),J.push(q),Q.push(Z.mapPos(Y));else if(W===!0){let{mapped:G,pos:z}=q.map(Y,Z);if(G)K=Math.max(K,G.maxPoint),J.push(G),Q.push(z)}}let U=this.nextLayer.map(Z);return J.length==0?U:new kZ(Q,J,U||kZ.empty,K)}between(Z,J,Q){if(this.isEmpty)return;for(let K=0;K<this.chunk.length;K++){let U=this.chunkPos[K],X=this.chunk[K];if(J>=U&&Z<=U+X.length&&X.between(U,Z-U,J-U,Q)===!1)return}this.nextLayer.between(Z,J,Q)}iter(Z=0){return TO.from([this]).goto(Z)}get isEmpty(){return this.nextLayer==this}static iter(Z,J=0){return TO.from(Z).goto(J)}static compare(Z,J,Q,K,U=-1){let X=Z.filter((z)=>z.maxPoint>0||!z.isEmpty&&z.maxPoint>=U),Y=J.filter((z)=>z.maxPoint>0||!z.isEmpty&&z.maxPoint>=U),q=C00(X,Y,Q),W=new ez(X,q,U),G=new ez(Y,q,U);if(Q.iterGaps((z,H,F)=>j00(W,z,G,H,F,K)),Q.empty&&Q.length==0)j00(W,0,G,0,0,K)}static eq(Z,J,Q=0,K){if(K==null)K=999999999;let U=Z.filter((G)=>!G.isEmpty&&J.indexOf(G)<0),X=J.filter((G)=>!G.isEmpty&&Z.indexOf(G)<0);if(U.length!=X.length)return!1;if(!U.length)return!0;let Y=C00(U,X),q=new ez(U,Y,0).goto(Q),W=new ez(X,Y,0).goto(Q);for(;;){if(q.to!=W.to||!nf(q.active,W.active)||q.point&&(!W.point||!Jv(q.point,W.point)))return!1;if(q.to>K)return!0;q.next(),W.next()}}static spans(Z,J,Q,K,U=-1){let X=new ez(Z,null,U).goto(J),Y=J,q=X.openStart;for(;;){let W=Math.min(X.to,Q);if(X.point){let G=X.activeForPoint(X.to),z=X.pointFrom<J?G.length+1:X.point.startSide<0?G.length:Math.min(G.length,q);K.point(Y,W,X.point,G,z,X.pointRank),q=Math.min(X.openEnd(W),G.length)}else if(W>Y)K.span(Y,W,X.active,q),q=X.openEnd(W);if(X.to>Q)return q+(X.point&&X.to>Q?1:0);Y=X.to,X.next()}}static of(Z,J=!1){let Q=new F4;for(let K of Z instanceof SO?[Z]:J?wl0(Z):Z)Q.add(K.from,K.to,K.value);return Q.finish()}static join(Z){if(!Z.length)return kZ.empty;let J=Z[Z.length-1];for(let Q=Z.length-2;Q>=0;Q--)for(let K=Z[Q];K!=kZ.empty;K=K.nextLayer)J=new kZ(K.chunkPos,K.chunk,J,Math.max(K.maxPoint,J.maxPoint));return J}}kZ.empty=new kZ([],[],null,-1);function wl0(Z){if(Z.length>1)for(let J=Z[0],Q=1;Q<Z.length;Q++){let K=Z[Q];if(rf(J,K)>0)return Z.slice().sort(rf);J=K}return Z}kZ.empty.nextLayer=kZ.empty;class F4{finishChunk(Z){if(this.chunks.push(new Qv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Z)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Z,J,Q){if(!this.addInner(Z,J,Q))(this.nextLayer||(this.nextLayer=new F4)).add(Z,J,Q)}addInner(Z,J,Q){let K=Z-this.lastTo||Q.startSide-this.last.endSide;if(K<=0&&(Z-this.lastFrom||Q.startSide-this.last.startSide)<0)throw Error("Ranges must be added sorted by `from` position and `startSide`");if(K<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=Z;if(this.from.push(Z-this.chunkStart),this.to.push(J-this.chunkStart),this.last=Q,this.lastFrom=Z,this.lastTo=J,this.value.push(Q),Q.point)this.maxPoint=Math.max(this.maxPoint,J-Z);return!0}addChunk(Z,J){if((Z-this.lastTo||J.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,J.maxPoint),this.chunks.push(J),this.chunkPos.push(Z);let Q=J.value.length-1;return this.last=J.value[Q],this.lastFrom=J.from[Q]+Z,this.lastTo=J.to[Q]+Z,!0}finish(){return this.finishInner(kZ.empty)}finishInner(Z){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return Z;let J=kZ.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Z):Z,this.setMaxPoint);return this.from=null,J}}function C00(Z,J,Q){let K=new Map;for(let X of Z)for(let Y=0;Y<X.chunk.length;Y++)if(X.chunk[Y].maxPoint<=0)K.set(X.chunk[Y],X.chunkPos[Y]);let U=new Set;for(let X of J)for(let Y=0;Y<X.chunk.length;Y++){let q=K.get(X.chunk[Y]);if(q!=null&&(Q?Q.mapPos(q):q)==X.chunkPos[Y]&&!(Q===null||Q===void 0?void 0:Q.touchesRange(q,q+X.chunk[Y].length)))U.add(X.chunk[Y])}return U}class Kv{constructor(Z,J,Q,K=0){this.layer=Z,this.skip=J,this.minPoint=Q,this.rank=K}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Z,J=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Z,J,!1),this}gotoInner(Z,J,Q){while(this.chunkIndex<this.layer.chunk.length){let K=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(K)||this.layer.chunkEnd(this.chunkIndex)<Z||K.maxPoint<this.minPoint))break;this.chunkIndex++,Q=!1}if(this.chunkIndex<this.layer.chunk.length){let K=this.layer.chunk[this.chunkIndex].findIndex(Z-this.layer.chunkPos[this.chunkIndex],J,!0);if(!Q||this.rangeIndex<K)this.setRangeIndex(K)}this.next()}forward(Z,J){if((this.to-Z||this.endSide-J)<0)this.gotoInner(Z,J,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Z=this.layer.chunkPos[this.chunkIndex],J=this.layer.chunk[this.chunkIndex],Q=Z+J.from[this.rangeIndex];if(this.from=Q,this.to=Z+J.to[this.rangeIndex],this.value=J.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Z){if(Z==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Z}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Z){return this.from-Z.from||this.startSide-Z.startSide||this.rank-Z.rank||this.to-Z.to||this.endSide-Z.endSide}}class TO{constructor(Z){this.heap=Z}static from(Z,J=null,Q=-1){let K=[];for(let U=0;U<Z.length;U++)for(let X=Z[U];!X.isEmpty;X=X.nextLayer)if(X.maxPoint>=Q)K.push(new Kv(X,J,Q,U));return K.length==1?K[0]:new TO(K)}get startSide(){return this.value?this.value.startSide:0}goto(Z,J=-1e9){for(let Q of this.heap)Q.goto(Z,J);for(let Q=this.heap.length>>1;Q>=0;Q--)mf(this.heap,Q);return this.next(),this}forward(Z,J){for(let Q of this.heap)Q.forward(Z,J);for(let Q=this.heap.length>>1;Q>=0;Q--)mf(this.heap,Q);if((this.to-Z||this.value.endSide-J)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Z=this.heap[0];if(this.from=Z.from,this.to=Z.to,this.value=Z.value,this.rank=Z.rank,Z.value)Z.next();mf(this.heap,0)}}}function mf(Z,J){for(let Q=Z[J];;){let K=(J<<1)+1;if(K>=Z.length)break;let U=Z[K];if(K+1<Z.length&&U.compare(Z[K+1])>=0)U=Z[K+1],K++;if(Q.compare(U)<0)break;Z[K]=Q,Z[J]=U,J=K}}class ez{constructor(Z,J,Q){this.minPoint=Q,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=TO.from(Z,J,Q)}goto(Z,J=-1e9){return this.cursor.goto(Z,J),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Z,this.endSide=J,this.openStart=-1,this.next(),this}forward(Z,J){while(this.minActive>-1&&(this.activeTo[this.minActive]-Z||this.active[this.minActive].endSide-J)<0)this.removeActive(this.minActive);this.cursor.forward(Z,J)}removeActive(Z){KN(this.active,Z),KN(this.activeTo,Z),KN(this.activeRank,Z),this.minActive=S00(this.active,this.activeTo)}addActive(Z){let J=0,{value:Q,to:K,rank:U}=this.cursor;while(J<this.activeRank.length&&(U-this.activeRank[J]||K-this.activeTo[J])>0)J++;if(UN(this.active,J,Q),UN(this.activeTo,J,K),UN(this.activeRank,J,U),Z)UN(Z,J,this.cursor.from);this.minActive=S00(this.active,this.activeTo)}next(){let Z=this.to,J=this.point;this.point=null;let Q=this.openStart<0?[]:null;for(;;){let K=this.minActive;if(K>-1&&(this.activeTo[K]-this.cursor.from||this.active[K].endSide-this.cursor.startSide)<0){if(this.activeTo[K]>Z){this.to=this.activeTo[K],this.endSide=this.active[K].endSide;break}if(this.removeActive(K),Q)KN(Q,K)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>Z){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let U=this.cursor.value;if(!U.point)this.addActive(Q),this.cursor.next();else if(J&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=U,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=U.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(Q){this.openStart=0;for(let K=Q.length-1;K>=0&&Q[K]<Z;K--)this.openStart++}}activeForPoint(Z){if(!this.active.length)return this.active;let J=[];for(let Q=this.active.length-1;Q>=0;Q--){if(this.activeRank[Q]<this.pointRank)break;if(this.activeTo[Q]>Z||this.activeTo[Q]==Z&&this.active[Q].endSide>=this.point.endSide)J.push(this.active[Q])}return J.reverse()}openEnd(Z){let J=0;for(let Q=this.activeTo.length-1;Q>=0&&this.activeTo[Q]>Z;Q--)J++;return J}}function j00(Z,J,Q,K,U,X){Z.goto(J),Q.goto(K);let Y=K+U,q=K,W=K-J,G=!!X.boundChange;for(let z=!1;;){let H=Z.to+W-Q.to,F=H||Z.endSide-Q.endSide,M=F<0?Z.to+W:Q.to,B=Math.min(M,Y);if(Z.point||Q.point){if(!(Z.point&&Q.point&&Jv(Z.point,Q.point)&&nf(Z.activeForPoint(Z.to),Q.activeForPoint(Q.to))))X.comparePoint(q,B,Z.point,Q.point);z=!1}else{if(z)X.boundChange(q);if(B>q&&!nf(Z.active,Q.active))X.compareRange(q,B,Z.active,Q.active);if(G&&B<Y&&(H||Z.openEnd(M)!=Q.openEnd(M)))z=!0}if(M>Y)break;if(q=M,F<=0)Z.next();if(F>=0)Q.next()}}function nf(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++)if(Z[Q]!=J[Q]&&!Jv(Z[Q],J[Q]))return!1;return!0}function KN(Z,J){for(let Q=J,K=Z.length-1;Q<K;Q++)Z[Q]=Z[Q+1];Z.pop()}function UN(Z,J,Q){for(let K=Z.length-1;K>=J;K--)Z[K+1]=Z[K];Z[J]=Q}function S00(Z,J){let Q=-1,K=1e9;for(let U=0;U<J.length;U++)if((J[U]-K||Z[U].endSide-Z[Q].endSide)<0)Q=U,K=J[U];return Q}function gQ(Z,J,Q=Z.length){let K=0;for(let U=0;U<Q&&U<Z.length;)if(Z.charCodeAt(U)==9)K+=J-K%J,U++;else K++,U=xJ(Z,U);return K}function zN(Z,J,Q,K){for(let U=0,X=0;;){if(X>=J)return U;if(U==Z.length)break;X+=Z.charCodeAt(U)==9?Q-X%Q:1,U=xJ(Z,U)}return K===!0?-1:Z.length}var g00=typeof Symbol>"u"?"__"+"":Symbol.for(""),Uv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),p00=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class cK{constructor(Z,J){this.rules=[];let{finish:Q}=J||{};function K(X){return/^@/.test(X)?[X]:X.split(/,\s*/)}function U(X,Y,q,W){let G=[],z=/^@(\w+)\b/.exec(X[0]),H=z&&z[1]=="keyframes";if(z&&Y==null)return q.push(X[0]+";");for(let F in Y){let M=Y[F];if(/&/.test(F))U(F.split(/,\s*/).map((B)=>X.map((O)=>B.replace(/&/,O))).reduce((B,O)=>B.concat(O)),M,q);else if(M&&typeof M=="object"){if(!z)throw RangeError("The value of a property ("+F+") should be a primitive value.");U(K(F),M,G,H)}else if(M!=null)G.push(F.replace(/_.*/,"").replace(/[A-Z]/g,(B)=>"-"+B.toLowerCase())+": "+M+";")}if(G.length||H)q.push((Q&&!z&&!W?X.map(Q):X).join(", ")+" {"+G.join(" ")+"}")}for(let X in Z)U(K(X),Z[X],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Z=p00[g00]||1;return p00[g00]=Z+1,""+Z.toString(36)}static mount(Z,J,Q){let K=Z[Uv],U=Q&&Q.nonce;if(!K)K=new l00(Z,U);else if(U)K.setNonce(U);K.mount(Array.isArray(J)?J:[J],Z)}}var c00=new Map;class l00{constructor(Z,J){let Q=Z.ownerDocument||Z,K=Q.defaultView;if(!Z.head&&Z.adoptedStyleSheets&&K.CSSStyleSheet){let U=c00.get(Q);if(U)return Z[Uv]=U;this.sheet=new K.CSSStyleSheet,c00.set(Q,this)}else if(this.styleTag=Q.createElement("style"),J)this.styleTag.setAttribute("nonce",J);this.modules=[],Z[Uv]=this}mount(Z,J){let Q=this.sheet,K=0,U=0;for(let X=0;X<Z.length;X++){let Y=Z[X],q=this.modules.indexOf(Y);if(q<U&&q>-1)this.modules.splice(q,1),U--,q=-1;if(q==-1){if(this.modules.splice(U++,0,Y),Q)for(let W=0;W<Y.rules.length;W++)Q.insertRule(Y.rules[W],K++)}else{while(U<q)K+=this.modules[U++].rules.length;K+=Y.rules.length,U++}}if(Q){if(J.adoptedStyleSheets.indexOf(this.sheet)<0)J.adoptedStyleSheets=[this.sheet,...J.adoptedStyleSheets]}else{let X="";for(let q=0;q<this.modules.length;q++)X+=this.modules[q].getRules()+`
`;this.styleTag.textContent=X;let Y=J.head||J;if(this.styleTag.parentNode!=Y)Y.insertBefore(this.styleTag,Y.firstChild)}}setNonce(Z){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=Z)this.styleTag.setAttribute("nonce",Z)}}var jX={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},UH={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$l0=typeof navigator<"u"&&/Mac/.test(navigator.platform),kl0=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(jJ=0;jJ<10;jJ++)jX[48+jJ]=jX[96+jJ]=String(jJ);var jJ;for(jJ=1;jJ<=24;jJ++)jX[jJ+111]="F"+jJ;var jJ;for(jJ=65;jJ<=90;jJ++)jX[jJ]=String.fromCharCode(jJ+32),UH[jJ]=String.fromCharCode(jJ);var jJ;for($O in jX)if(!UH.hasOwnProperty($O))UH[$O]=jX[$O];var $O;function d00(Z){var J=$l0&&Z.metaKey&&Z.shiftKey&&!Z.ctrlKey&&!Z.altKey||kl0&&Z.shiftKey&&Z.key&&Z.key.length==1||Z.key=="Unidentified",Q=!J&&Z.key||(Z.shiftKey?UH:jX)[Z.keyCode]||Z.key||"Unidentified";if(Q=="Esc")Q="Escape";if(Q=="Del")Q="Delete";if(Q=="Left")Q="ArrowLeft";if(Q=="Up")Q="ArrowUp";if(Q=="Right")Q="ArrowRight";if(Q=="Down")Q="ArrowDown";return Q}function B9(){var Z=arguments[0];if(typeof Z=="string")Z=document.createElement(Z);var J=1,Q=arguments[1];if(Q&&typeof Q=="object"&&Q.nodeType==null&&!Array.isArray(Q)){for(var K in Q)if(Object.prototype.hasOwnProperty.call(Q,K)){var U=Q[K];if(typeof U=="string")Z.setAttribute(K,U);else if(U!=null)Z[K]=U}J++}for(;J<arguments.length;J++)i00(Z,arguments[J]);return Z}function i00(Z,J){if(typeof J=="string")Z.appendChild(document.createTextNode(J));else if(J==null);else if(J.nodeType!=null)Z.appendChild(J);else if(Array.isArray(J))for(var Q=0;Q<J.length;Q++)i00(Z,J[Q]);else throw RangeError("Unsupported child node: "+J)}var pQ=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Bv=typeof document<"u"?document:{documentElement:{style:{}}},Ov=/Edge\/(\d+)/.exec(pQ.userAgent),_80=/MSIE \d/.test(pQ.userAgent),Rv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pQ.userAgent),hN=!!(_80||Rv||Ov),s00=!hN&&/gecko\/(\d+)/i.test(pQ.userAgent),Xv=!hN&&/Chrome\/(\d+)/.exec(pQ.userAgent),r00="webkitFontSmoothing"in Bv.documentElement.style,Lv=!hN&&/Apple Computer/.test(pQ.vendor),n00=Lv&&(/Mobile\/\w+/.test(pQ.userAgent)||pQ.maxTouchPoints>2),m8={mac:n00||/Mac/.test(pQ.platform),windows:/Win/.test(pQ.platform),linux:/Linux|X11/.test(pQ.platform),ie:hN,ie_version:_80?Bv.documentMode||6:Rv?+Rv[1]:Ov?+Ov[1]:0,gecko:s00,gecko_version:s00?+(/Firefox\/(\d+)/.exec(pQ.userAgent)||[0,0])[1]:0,chrome:!!Xv,chrome_version:Xv?+Xv[1]:0,ios:n00,android:/Android\b/.test(pQ.userAgent),webkit:r00,webkit_version:r00?+(/\bAppleWebKit\/(\d+)/.exec(pQ.userAgent)||[0,0])[1]:0,safari:Lv,safari_version:Lv?+(/\bVersion\/(\d+(\.\d+)?)/.exec(pQ.userAgent)||[0,0])[1]:0,tabSize:Bv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function mv(Z,J){for(let Q in Z)if(Q=="class"&&J.class)J.class+=" "+Z.class;else if(Q=="style"&&J.style)J.style+=";"+Z.style;else J[Q]=Z[Q];return J}var wN=Object.create(null);function uv(Z,J,Q){if(Z==J)return!0;if(!Z)Z=wN;if(!J)J=wN;let K=Object.keys(Z),U=Object.keys(J);if(K.length-(Q&&K.indexOf(Q)>-1?1:0)!=U.length-(Q&&U.indexOf(Q)>-1?1:0))return!1;for(let X of K)if(X!=Q&&(U.indexOf(X)==-1||Z[X]!==J[X]))return!1;return!0}function _l0(Z,J){for(let Q=Z.attributes.length-1;Q>=0;Q--){let K=Z.attributes[Q].name;if(J[K]==null)Z.removeAttribute(K)}for(let Q in J){let K=J[Q];if(Q=="style")Z.style.cssText=K;else if(Z.getAttribute(Q)!=K)Z.setAttribute(Q,K)}}function a00(Z,J,Q){let K=!1;if(J){for(let U in J)if(!(Q&&(U in Q)))if(K=!0,U=="style")Z.style.cssText="";else Z.removeAttribute(U)}if(Q){for(let U in Q)if(!(J&&J[U]==Q[U]))if(K=!0,U=="style")Z.style.cssText=Q[U];else Z.setAttribute(U,Q[U])}return K}function fl0(Z){let J=Object.create(null);for(let Q=0;Q<Z.attributes.length;Q++){let K=Z.attributes[Q];J[K.name]=K.value}return J}class j6{eq(Z){return!1}updateDOM(Z,J){return!1}compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Z){return!0}coordsAt(Z,J,Q){return null}get isHidden(){return!1}get editable(){return!1}destroy(Z){}}var s7=function(Z){return Z[Z.Text=0]="Text",Z[Z.WidgetBefore=1]="WidgetBefore",Z[Z.WidgetAfter=2]="WidgetAfter",Z[Z.WidgetRange=3]="WidgetRange",Z}(s7||(s7={}));class e8 extends pK{constructor(Z,J,Q,K){super();this.startSide=Z,this.endSide=J,this.widget=Q,this.spec=K}get heightRelevant(){return!1}static mark(Z){return new dO(Z)}static widget(Z){let J=Math.max(-1e4,Math.min(1e4,Z.side||0)),Q=!!Z.block;return J+=Q&&!Z.inlineOrder?J>0?300000000:-400000000:J>0?1e8:-1e8,new dW(Z,J,J,Q,Z.widget||null,!1)}static replace(Z){let J=!!Z.block,Q,K;if(Z.isBlockGap)Q=-500000000,K=400000000;else{let{start:U,end:X}=f80(Z,J);Q=(U?J?-300000000:-1:500000000)-1,K=(X?J?200000000:1:-600000000)+1}return new dW(Z,Q,K,J,Z.widget||null,!0)}static line(Z){return new iO(Z)}static set(Z,J=!1){return kZ.of(Z,J)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}e8.none=kZ.empty;class dO extends e8{constructor(Z){let{start:J,end:Q}=f80(Z);super(J?-1:500000000,Q?1:-600000000,null,Z);this.tagName=Z.tagName||"span",this.attrs=Z.class&&Z.attributes?mv(Z.attributes,{class:Z.class}):Z.class?{class:Z.class}:Z.attributes||wN}eq(Z){return this==Z||Z instanceof dO&&this.tagName==Z.tagName&&uv(this.attrs,Z.attrs)}range(Z,J=Z){if(Z>=J)throw RangeError("Mark decorations may not be empty");return super.range(Z,J)}}dO.prototype.point=!1;class iO extends e8{constructor(Z){super(-200000000,-200000000,null,Z)}eq(Z){return Z instanceof iO&&this.spec.class==Z.spec.class&&uv(this.spec.attributes,Z.spec.attributes)}range(Z,J=Z){if(J!=Z)throw RangeError("Line decoration ranges must be zero-length");return super.range(Z,J)}}iO.prototype.mapMode=F7.TrackBefore;iO.prototype.point=!0;class dW extends e8{constructor(Z,J,Q,K,U,X){super(J,Q,U,Z);this.block=K,this.isReplace=X,this.mapMode=!K?F7.TrackDel:J<=0?F7.TrackBefore:F7.TrackAfter}get type(){return this.startSide!=this.endSide?s7.WidgetRange:this.startSide<=0?s7.WidgetBefore:s7.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Z){return Z instanceof dW&&vl0(this.widget,Z.widget)&&this.block==Z.block&&this.startSide==Z.startSide&&this.endSide==Z.endSide}range(Z,J=Z){if(this.isReplace&&(Z>J||Z==J&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&J!=Z)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(Z,J)}}dW.prototype.point=!0;function f80(Z,J=!1){let{inclusiveStart:Q,inclusiveEnd:K}=Z;if(Q==null)Q=Z.inclusive;if(K==null)K=Z.inclusive;return{start:Q!==null&&Q!==void 0?Q:J,end:K!==null&&K!==void 0?K:J}}function vl0(Z,J){return Z==J||!!(Z&&J&&Z.compare(J))}function qH(Z,J,Q,K=0){let U=Q.length-1;if(U>=0&&Q[U]+K>=Z)Q[U]=Math.max(Q[U],J);else Q.push(Z,J)}class gO extends pK{constructor(Z,J){super();this.tagName=Z,this.attributes=J}eq(Z){return Z==this||Z instanceof gO&&this.tagName==Z.tagName&&uv(this.attributes,Z.attributes)}static create(Z){return new gO(Z.tagName,Z.attributes||wN)}static set(Z,J=!1){return kZ.of(Z,J)}}gO.prototype.startSide=gO.prototype.endSide=-1;function zH(Z){let J;if(Z.nodeType==11)J=Z.getSelection?Z:Z.ownerDocument;else J=Z;return J.getSelection()}function Dv(Z,J){return J?Z==J||Z.contains(J.nodeType!=1?J.parentNode:J):!1}function yO(Z,J){if(!J.anchorNode)return!1;try{return Dv(Z,J.anchorNode)}catch(Q){return!1}}function AN(Z){if(Z.nodeType==3)return pO(Z,0,Z.nodeValue.length).getClientRects();else if(Z.nodeType==1)return Z.getClientRects();else return[]}function hO(Z,J,Q,K){return Q?o00(Z,J,Q,K,-1)||o00(Z,J,Q,K,1):!1}function nY(Z){for(var J=0;;J++)if(Z=Z.previousSibling,!Z)return J}function $N(Z){return Z.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(Z.nodeName)}function o00(Z,J,Q,K,U){for(;;){if(Z==Q&&J==K)return!0;if(J==(U<0?0:TX(Z))){if(Z.nodeName=="DIV")return!1;let X=Z.parentNode;if(!X||X.nodeType!=1)return!1;J=nY(Z)+(U<0?0:1),Z=X}else if(Z.nodeType==1){if(Z=Z.childNodes[J+(U<0?-1:0)],Z.nodeType==1&&Z.contentEditable=="false")return!1;J=U<0?TX(Z):0}else return!1}}function TX(Z){return Z.nodeType==3?Z.nodeValue.length:Z.childNodes.length}function kN(Z,J){let Q=J?Z.left:Z.right;return{left:Q,right:Q,top:Z.top,bottom:Z.bottom}}function xl0(Z){let J=Z.visualViewport;if(J)return{left:0,right:J.width,top:0,bottom:J.height};return{left:0,right:Z.innerWidth,top:0,bottom:Z.innerHeight}}function v80(Z,J){let Q=J.width/Z.offsetWidth,K=J.height/Z.offsetHeight;if(Q>0.995&&Q<1.005||!isFinite(Q)||Math.abs(J.width-Z.offsetWidth)<1)Q=1;if(K>0.995&&K<1.005||!isFinite(K)||Math.abs(J.height-Z.offsetHeight)<1)K=1;return{scaleX:Q,scaleY:K}}function bl0(Z,J,Q,K,U,X,Y,q){let W=Z.ownerDocument,G=W.defaultView||window;for(let z=Z,H=!1;z&&!H;)if(z.nodeType==1){let F,M=z==W.body,B=1,O=1;if(M)F=xl0(G);else{if(/^(fixed|sticky)$/.test(getComputedStyle(z).position))H=!0;if(z.scrollHeight<=z.clientHeight&&z.scrollWidth<=z.clientWidth){z=z.assignedSlot||z.parentNode;continue}let D=z.getBoundingClientRect();({scaleX:B,scaleY:O}=v80(z,D)),F={left:D.left,right:D.left+z.clientWidth*B,top:D.top,bottom:D.top+z.clientHeight*O}}let R=0,L=0;if(U=="nearest"){if(J.top<F.top){if(L=J.top-(F.top+Y),Q>0&&J.bottom>F.bottom+L)L=J.bottom-F.bottom+Y}else if(J.bottom>F.bottom){if(L=J.bottom-F.bottom+Y,Q<0&&J.top-L<F.top)L=J.top-(F.top+Y)}}else{let D=J.bottom-J.top,A=F.bottom-F.top;L=(U=="center"&&D<=A?J.top+D/2-A/2:U=="start"||U=="center"&&Q<0?J.top-Y:J.bottom-A+Y)-F.top}if(K=="nearest"){if(J.left<F.left){if(R=J.left-(F.left+X),Q>0&&J.right>F.right+R)R=J.right-F.right+X}else if(J.right>F.right){if(R=J.right-F.right+X,Q<0&&J.left<F.left+R)R=J.left-(F.left+X)}}else R=(K=="center"?J.left+(J.right-J.left)/2-(F.right-F.left)/2:K=="start"==q?J.left-X:J.right-(F.right-F.left)+X)-F.left;if(R||L)if(M)G.scrollBy(R,L);else{let D=0,A=0;if(L){let V=z.scrollTop;z.scrollTop+=L/O,A=(z.scrollTop-V)*O}if(R){let V=z.scrollLeft;z.scrollLeft+=R/B,D=(z.scrollLeft-V)*B}if(J={left:J.left-D,top:J.top-A,right:J.right-D,bottom:J.bottom-A},D&&Math.abs(D-R)<1)K="nearest";if(A&&Math.abs(A-L)<1)U="nearest"}if(M)break;if(J.top<F.top||J.bottom>F.bottom||J.left<F.left||J.right>F.right)J={left:Math.max(J.left,F.left),right:Math.min(J.right,F.right),top:Math.max(J.top,F.top),bottom:Math.min(J.bottom,F.bottom)};z=z.assignedSlot||z.parentNode}else if(z.nodeType==11)z=z.host;else break}function yl0(Z){let J=Z.ownerDocument,Q,K;for(let U=Z.parentNode;U;)if(U==J.body||Q&&K)break;else if(U.nodeType==1){if(!K&&U.scrollHeight>U.clientHeight)K=U;if(!Q&&U.scrollWidth>U.clientWidth)Q=U;U=U.assignedSlot||U.parentNode}else if(U.nodeType==11)U=U.host;else break;return{x:Q,y:K}}class x80{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Z){return this.anchorNode==Z.anchorNode&&this.anchorOffset==Z.anchorOffset&&this.focusNode==Z.focusNode&&this.focusOffset==Z.focusOffset}setRange(Z){let{anchorNode:J,focusNode:Q}=Z;this.set(J,Math.min(Z.anchorOffset,J?TX(J):0),Q,Math.min(Z.focusOffset,Q?TX(Q):0))}set(Z,J,Q,K){this.anchorNode=Z,this.anchorOffset=J,this.focusNode=Q,this.focusOffset=K}}var cW=null;if(m8.safari&&m8.safari_version>=26)cW=!1;function b80(Z){if(Z.setActive)return Z.setActive();if(cW)return Z.focus(cW);let J=[];for(let Q=Z;Q;Q=Q.parentNode)if(J.push(Q,Q.scrollTop,Q.scrollLeft),Q==Q.ownerDocument)break;if(Z.focus(cW==null?{get preventScroll(){return cW={preventScroll:!0},!0}}:void 0),!cW){cW=!1;for(let Q=0;Q<J.length;){let K=J[Q++],U=J[Q++],X=J[Q++];if(K.scrollTop!=U)K.scrollTop=U;if(K.scrollLeft!=X)K.scrollLeft=X}}}var t00;function pO(Z,J,Q=J){let K=t00||(t00=document.createRange());return K.setEnd(Z,Q),K.setStart(Z,J),K}function WH(Z,J,Q,K){let U={key:J,code:J,keyCode:Q,which:Q,cancelable:!0};if(K)({altKey:U.altKey,ctrlKey:U.ctrlKey,shiftKey:U.shiftKey,metaKey:U.metaKey}=K);let X=new KeyboardEvent("keydown",U);X.synthetic=!0,Z.dispatchEvent(X);let Y=new KeyboardEvent("keyup",U);return Y.synthetic=!0,Z.dispatchEvent(Y),X.defaultPrevented||Y.defaultPrevented}function hl0(Z){while(Z){if(Z&&(Z.nodeType==9||Z.nodeType==11&&Z.host))return Z;Z=Z.assignedSlot||Z.parentNode}return null}function ml0(Z,J){let{focusNode:Q,focusOffset:K}=J;if(!Q||J.anchorNode!=Q||J.anchorOffset!=K)return!1;K=Math.min(K,TX(Q));for(;;)if(K){if(Q.nodeType!=1)return!1;let U=Q.childNodes[K-1];if(U.contentEditable=="false")K--;else Q=U,K=TX(Q)}else if(Q==Z)return!0;else K=nY(Q),Q=Q.parentNode}function y80(Z){return Z.scrollTop>Math.max(1,Z.scrollHeight-Z.clientHeight-4)}function h80(Z,J){for(let Q=Z,K=J;;)if(Q.nodeType==3&&K>0)return{node:Q,offset:K};else if(Q.nodeType==1&&K>0){if(Q.contentEditable=="false")return null;Q=Q.childNodes[K-1],K=TX(Q)}else if(Q.parentNode&&!$N(Q))K=nY(Q),Q=Q.parentNode;else return null}function m80(Z,J){for(let Q=Z,K=J;;)if(Q.nodeType==3&&K<Q.nodeValue.length)return{node:Q,offset:K};else if(Q.nodeType==1&&K<Q.childNodes.length){if(Q.contentEditable=="false")return null;Q=Q.childNodes[K],K=0}else if(Q.parentNode&&!$N(Q))K=nY(Q)+1,Q=Q.parentNode;else return null}class iK{constructor(Z,J,Q=!0){this.node=Z,this.offset=J,this.precise=Q}static before(Z,J){return new iK(Z.parentNode,nY(Z),J)}static after(Z,J){return new iK(Z.parentNode,nY(Z)+1,J)}}var V9=function(Z){return Z[Z.LTR=0]="LTR",Z[Z.RTL=1]="RTL",Z}(V9||(V9={})),iW=V9.LTR,gv=V9.RTL;function u80(Z){let J=[];for(let Q=0;Q<Z.length;Q++)J.push(1<<+Z[Q]);return J}var ul0=u80("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),gl0=u80("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Iv=Object.create(null),l5=[];for(let Z of["()","[]","{}"]){let J=Z.charCodeAt(0),Q=Z.charCodeAt(1);Iv[J]=Q,Iv[Q]=-J}function g80(Z){return Z<=247?ul0[Z]:1424<=Z&&Z<=1524?2:1536<=Z&&Z<=1785?gl0[Z-1536]:1774<=Z&&Z<=2220?4:8192<=Z&&Z<=8204?256:64336<=Z&&Z<=65023?4:1}var pl0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class d5{get dir(){return this.level%2?gv:iW}constructor(Z,J,Q){this.from=Z,this.to=J,this.level=Q}side(Z,J){return this.dir==J==Z?this.to:this.from}forward(Z,J){return Z==(this.dir==J)}static find(Z,J,Q,K){let U=-1;for(let X=0;X<Z.length;X++){let Y=Z[X];if(Y.from<=J&&Y.to>=J){if(Y.level==Q)return X;if(U<0||(K!=0?K<0?Y.from<J:Y.to>J:Z[U].level>Y.level))U=X}}if(U<0)throw RangeError("Index out of range");return U}}function p80(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q],U=J[Q];if(K.from!=U.from||K.to!=U.to||K.direction!=U.direction||!p80(K.inner,U.inner))return!1}return!0}var g9=[];function cl0(Z,J,Q,K,U){for(let X=0;X<=K.length;X++){let Y=X?K[X-1].to:J,q=X<K.length?K[X].from:Q,W=X?256:U;for(let G=Y,z=W,H=W;G<q;G++){let F=g80(Z.charCodeAt(G));if(F==512)F=z;else if(F==8&&H==4)F=16;if(g9[G]=F==4?2:F,F&7)H=F;z=F}for(let G=Y,z=W,H=W;G<q;G++){let F=g9[G];if(F==128)if(G<q-1&&z==g9[G+1]&&z&24)F=g9[G]=z;else g9[G]=256;else if(F==64){let M=G+1;while(M<q&&g9[M]==64)M++;let B=G&&z==8||M<Q&&g9[M]==8?H==1?1:8:256;for(let O=G;O<M;O++)g9[O]=B;G=M-1}else if(F==8&&H==1)g9[G]=1;if(z=F,F&7)H=F}}}function ll0(Z,J,Q,K,U){let X=U==1?2:1;for(let Y=0,q=0,W=0;Y<=K.length;Y++){let G=Y?K[Y-1].to:J,z=Y<K.length?K[Y].from:Q;for(let H=G,F,M,B;H<z;H++)if(M=Iv[F=Z.charCodeAt(H)])if(M<0){for(let O=q-3;O>=0;O-=3)if(l5[O+1]==-M){let R=l5[O+2],L=R&2?U:!(R&4)?0:R&1?X:U;if(L)g9[H]=g9[l5[O]]=L;q=O;break}}else if(l5.length==189)break;else l5[q++]=H,l5[q++]=F,l5[q++]=W;else if((B=g9[H])==2||B==1){let O=B==U;W=O?0:1;for(let R=q-3;R>=0;R-=3){let L=l5[R+2];if(L&2)break;if(O)l5[R+2]|=2;else{if(L&4)break;l5[R+2]|=4}}}}}function dl0(Z,J,Q,K){for(let U=0,X=K;U<=Q.length;U++){let Y=U?Q[U-1].to:Z,q=U<Q.length?Q[U].from:J;for(let W=Y;W<q;){let G=g9[W];if(G==256){let z=W+1;for(;;)if(z==q){if(U==Q.length)break;z=Q[U++].to,q=U<Q.length?Q[U].from:J}else if(g9[z]==256)z++;else break;let H=X==1,F=(z<J?g9[z]:K)==1,M=H==F?H?1:2:K;for(let B=z,O=U,R=O?Q[O-1].to:Z;B>W;){if(B==R)B=Q[--O].from,R=O?Q[O-1].to:Z;g9[--B]=M}W=z}else X=G,W++}}}function Av(Z,J,Q,K,U,X,Y){let q=K%2?2:1;if(K%2==U%2)for(let W=J,G=0;W<Q;){let z=!0,H=!1;if(G==X.length||W<X[G].from){let O=g9[W];if(O!=q)z=!1,H=O==16}let F=!z&&q==1?[]:null,M=z?K:K+1,B=W;Z:for(;;)if(G<X.length&&B==X[G].from){if(H)break Z;let O=X[G];if(!z)for(let R=O.to,L=G+1;;){if(R==Q)break Z;if(L<X.length&&X[L].from==R)R=X[L++].to;else if(g9[R]==q)break Z;else break}if(G++,F)F.push(O);else{if(O.from>W)Y.push(new d5(W,O.from,M));let R=O.direction==iW!=!(M%2);Nv(Z,R?K+1:K,U,O.inner,O.from,O.to,Y),W=O.to}B=O.to}else if(B==Q||(z?g9[B]!=q:g9[B]==q))break;else B++;if(F)Av(Z,W,B,K+1,U,F,Y);else if(W<B)Y.push(new d5(W,B,M));W=B}else for(let W=Q,G=X.length;W>J;){let z=!0,H=!1;if(!G||W>X[G-1].to){let O=g9[W-1];if(O!=q)z=!1,H=O==16}let F=!z&&q==1?[]:null,M=z?K:K+1,B=W;Z:for(;;)if(G&&B==X[G-1].to){if(H)break Z;let O=X[--G];if(!z)for(let R=O.from,L=G;;){if(R==J)break Z;if(L&&X[L-1].to==R)R=X[--L].from;else if(g9[R-1]==q)break Z;else break}if(F)F.push(O);else{if(O.to<W)Y.push(new d5(O.to,W,M));let R=O.direction==iW!=!(M%2);Nv(Z,R?K+1:K,U,O.inner,O.from,O.to,Y),W=O.from}B=O.from}else if(B==J||(z?g9[B-1]!=q:g9[B-1]==q))break;else B--;if(F)Av(Z,B,W,K+1,U,F,Y);else if(B<W)Y.push(new d5(B,W,M));W=B}}function Nv(Z,J,Q,K,U,X,Y){let q=J%2?2:1;cl0(Z,U,X,K,q),ll0(Z,U,X,K,q),dl0(U,X,K,q),Av(Z,U,X,J,Q,K,Y)}function il0(Z,J,Q){if(!Z)return[new d5(0,0,J==gv?1:0)];if(J==iW&&!Q.length&&!pl0.test(Z))return c80(Z.length);if(Q.length)while(Z.length>g9.length)g9[g9.length]=256;let K=[],U=J==iW?0:1;return Nv(Z,U,U,Q,0,Z.length,K),K}function c80(Z){return[new d5(0,Z,0)]}var l80="";function sl0(Z,J,Q,K,U){var X;let Y=K.head-Z.from,q=d5.find(J,Y,(X=K.bidiLevel)!==null&&X!==void 0?X:-1,K.assoc),W=J[q],G=W.side(U,Q);if(Y==G){let F=q+=U?1:-1;if(F<0||F>=J.length)return null;W=J[q=F],Y=W.side(!U,Q),G=W.side(U,Q)}let z=xJ(Z.text,Y,W.forward(U,Q));if(z<W.from||z>W.to)z=G;l80=Z.text.slice(Math.min(Y,z),Math.max(Y,z));let H=q==(U?J.length-1:0)?null:J[q+(U?1:-1)];if(H&&z==G&&H.level+(U?0:1)<W.level)return e0.cursor(H.side(!U,Q)+Z.from,H.forward(U,Q)?1:-1,H.level);return e0.cursor(z+Z.from,W.forward(U,Q)?-1:1,W.level)}function rl0(Z,J,Q){for(let K=J;K<Q;K++){let U=g80(Z.charCodeAt(K));if(U==1)return iW;if(U==2||U==4)return gv}return iW}var d80=v8.define(),i80=v8.define(),s80=v8.define(),r80=v8.define(),Ev=v8.define(),n80=v8.define(),a80=v8.define(),pv=v8.define(),cv=v8.define(),o80=v8.define({combine:(Z)=>Z.some((J)=>J)}),t80=v8.define({combine:(Z)=>Z.some((J)=>J)}),e80=v8.define();class GH{constructor(Z,J="nearest",Q="nearest",K=5,U=5,X=!1){this.range=Z,this.y=J,this.x=Q,this.yMargin=K,this.xMargin=U,this.isSnapshot=X}map(Z){return Z.empty?this:new GH(this.range.map(Z),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Z){return this.range.to<=Z.doc.length?this:new GH(e0.cursor(Z.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var HN=OZ.define({map:(Z,J)=>Z.map(J)}),ZZ0=OZ.define();function i7(Z,J,Q){let K=Z.facet(r80);if(K.length)K[0](J);else if(window.onerror&&window.onerror(String(J),Q,void 0,void 0,J));else if(Q)console.error(Q+":",J);else console.error(J)}var SX=v8.define({combine:(Z)=>Z.length?Z[0]:!0}),nl0=0,XH=v8.define({combine(Z){return Z.filter((J,Q)=>{for(let K=0;K<Q;K++)if(Z[K].plugin==J.plugin)return!1;return!0})}});class OJ{constructor(Z,J,Q,K,U){this.id=Z,this.create=J,this.domEventHandlers=Q,this.domEventObservers=K,this.baseExtensions=U(this),this.extension=this.baseExtensions.concat(XH.of({plugin:this,arg:void 0}))}of(Z){return this.baseExtensions.concat(XH.of({plugin:this,arg:Z}))}static define(Z,J){let{eventHandlers:Q,eventObservers:K,provide:U,decorations:X}=J||{};return new OJ(nl0++,Z,Q,K,(Y)=>{let q=[];if(X)q.push(mN.of((W)=>{let G=W.plugin(Y);return G?X(G):e8.none}));if(U)q.push(U(Y));return q})}static fromClass(Z,J){return OJ.define((Q,K)=>new Z(Q,K),J)}}class NN{constructor(Z){this.spec=Z,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(Z){if(!this.value){if(this.spec)try{this.value=this.spec.plugin.create(Z,this.spec.arg)}catch(J){i7(Z.state,J,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let J=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(J)}catch(Q){if(i7(J.state,Q,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(K){}this.deactivate()}}return this}destroy(Z){var J;if((J=this.value)===null||J===void 0?void 0:J.destroy)try{this.value.destroy()}catch(Q){i7(Z.state,Q,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var JZ0=v8.define(),lv=v8.define(),mN=v8.define(),QZ0=v8.define(),dv=v8.define(),sO=v8.define(),KZ0=v8.define();function e00(Z,J){let Q=Z.state.facet(KZ0);if(!Q.length)return Q;let K=Q.map((X)=>X instanceof Function?X(Z):X),U=[];return kZ.spans(K,J.from,J.to,{point(){},span(X,Y,q,W){let G=X-J.from,z=Y-J.from,H=U;for(let F=q.length-1;F>=0;F--,W--){let M=q[F].spec.bidiIsolate,B;if(M==null)M=rl0(J.text,G,z);if(W>0&&H.length&&(B=H[H.length-1]).to==G&&B.direction==M)B.to=z,H=B.inner;else{let O={from:G,to:z,direction:M,inner:[]};H.push(O),H=O.inner}}}}),U}var UZ0=v8.define();function iv(Z){let J=0,Q=0,K=0,U=0;for(let X of Z.state.facet(UZ0)){let Y=X(Z);if(Y){if(Y.left!=null)J=Math.max(J,Y.left);if(Y.right!=null)Q=Math.max(Q,Y.right);if(Y.top!=null)K=Math.max(K,Y.top);if(Y.bottom!=null)U=Math.max(U,Y.bottom)}}return{left:J,right:Q,top:K,bottom:U}}var kO=v8.define();class s4{constructor(Z,J,Q,K){this.fromA=Z,this.toA=J,this.fromB=Q,this.toB=K}join(Z){return new s4(Math.min(this.fromA,Z.fromA),Math.max(this.toA,Z.toA),Math.min(this.fromB,Z.fromB),Math.max(this.toB,Z.toB))}addToSet(Z){let J=Z.length,Q=this;for(;J>0;J--){let K=Z[J-1];if(K.fromA>Q.toA)continue;if(K.toA<Q.fromA)break;Q=Q.join(K),Z.splice(J-1,1)}return Z.splice(J,0,Q),Z}static extendWithRanges(Z,J){if(J.length==0)return Z;let Q=[];for(let K=0,U=0,X=0;;){let Y=K<Z.length?Z[K].fromB:1e9,q=U<J.length?J[U]:1e9,W=Math.min(Y,q);if(W==1e9)break;let G=W+X,z=W,H=G;for(;;)if(U<J.length&&J[U]<=z){let F=J[U+1];U+=2,z=Math.max(z,F);for(let M=K;M<Z.length&&Z[M].fromB<=z;M++)X=Z[M].toA-Z[M].toB;H=Math.max(H,F+X)}else if(K<Z.length&&Z[K].fromB<=z){let F=Z[K++];z=Math.max(z,F.toB),H=Math.max(H,F.toA),X=F.toA-F.toB}else break;Q.push(new s4(G,H,W,z))}return Q}}class _N{constructor(Z,J,Q){this.view=Z,this.state=J,this.transactions=Q,this.flags=0,this.startState=Z.state,this.changes=dJ.empty(this.startState.doc.length);for(let U of Q)this.changes=this.changes.compose(U.changes);let K=[];this.changes.iterChangedRanges((U,X,Y,q)=>K.push(new s4(U,X,Y,q))),this.changedRanges=K}static create(Z,J,Q){return new _N(Z,J,Q)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((Z)=>Z.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var al0=[];class iJ{constructor(Z,J,Q=0){this.dom=Z,this.length=J,this.flags=Q,this.parent=null,Z.cmTile=this}get breakAfter(){return this.flags&1}get children(){return al0}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(Z){if(this.flags|=2,this.flags&4){this.flags&=-5;let J=this.domAttrs;if(J)_l0(this.dom,J)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(Z){this.dom=Z,Z.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Z,J=this.posAtStart){let Q=J;for(let K of this.children){if(K==Z)return Q;Q+=K.length+K.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(Z){return this.posBefore(Z)+Z.length}covers(Z){return!0}coordsIn(Z,J){return null}domPosFor(Z,J){let Q=nY(this.dom),K=this.length?Z>0:J>0;return new iK(this.parent.dom,Q+(K?1:0),Z==0||Z==this.length)}markDirty(Z){if(this.flags&=-3,Z)this.flags|=4;if(this.parent&&this.parent.flags&2)this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let Z=this;Z;Z=Z.parent)if(Z instanceof nO)return Z;return null}static get(Z){return Z.cmTile}}class rO extends iJ{constructor(Z){super(Z,0);this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(Z){this.children.push(Z),Z.parent=this}sync(Z){if(this.flags&2)return;super.sync(Z);let J=this.dom,Q=null,K,U=(Z===null||Z===void 0?void 0:Z.node)==J?Z:null,X=0;for(let Y of this.children){if(Y.sync(Z),X+=Y.length+Y.breakAfter,K=Q?Q.nextSibling:J.firstChild,U&&K!=Y.dom)U.written=!0;if(Y.dom.parentNode==J)while(K&&K!=Y.dom)K=Z80(K);else J.insertBefore(Y.dom,K);Q=Y.dom}if(K=Q?Q.nextSibling:J.firstChild,U&&K)U.written=!0;while(K)K=Z80(K);this.length=X}}function Z80(Z){let J=Z.nextSibling;return Z.parentNode.removeChild(Z),J}class nO extends rO{constructor(Z,J){super(J);this.view=Z}owns(Z){for(;Z;Z=Z.parent)if(Z==this)return!0;return!1}isBlock(){return!0}nearest(Z){for(;;){if(!Z)return null;let J=iJ.get(Z);if(J&&this.owns(J))return J;Z=Z.parentNode}}blockTiles(Z){for(let J=[],Q=this,K=0,U=0;;)if(K==Q.children.length){if(!J.length)return;if(Q=Q.parent,Q.breakAfter)U++;K=J.pop()}else{let X=Q.children[K++];if(X instanceof rY)J.push(K),Q=X,K=0;else{let Y=U+X.length,q=Z(X,U);if(q!==void 0)return q;U=Y+X.breakAfter}}}resolveBlock(Z,J){let Q,K=-1,U,X=-1;if(this.blockTiles((Y,q)=>{let W=q+Y.length;if(Z>=q&&Z<=W){if(Y.isWidget()&&J>=-1&&J<=1){if(Y.flags&32)return!0;if(Y.flags&16)Q=void 0}if((q<Z||Z==W&&(J<-1?Y.length:Y.covers(1)))&&(!Q||!Y.isWidget()&&Q.isWidget()))Q=Y,K=Z-q;if((W>Z||Z==q&&(J>1?Y.length:Y.covers(-1)))&&(!U||!Y.isWidget()&&U.isWidget()))U=Y,X=Z-q}}),!Q&&!U)throw Error("No tile at position "+Z);return Q&&J<0||!U?{tile:Q,offset:K}:{tile:U,offset:X}}}class rY extends rO{constructor(Z,J){super(Z);this.wrapper=J}isBlock(){return!0}covers(Z){if(!this.children.length)return!1;return Z<0?this.children[0].covers(-1):this.lastChild.covers(1)}get domAttrs(){return this.wrapper.attributes}static of(Z,J){let Q=new rY(J||document.createElement(Z.tagName),Z);if(!J)Q.flags|=4;return Q}}class HH extends rO{constructor(Z,J){super(Z);this.attrs=J}isLine(){return!0}static start(Z,J,Q){let K=new HH(J||document.createElement("div"),Z);if(!J||!Q)K.flags|=4;return K}get domAttrs(){return this.attrs}resolveInline(Z,J,Q){let K=null,U=-1,X=null,Y=-1;function q(G,z){for(let H=0,F=0;H<G.children.length&&F<=z;H++){let M=G.children[H],B=F+M.length;if(B>=z){if(M.isComposite())q(M,z-F);else if((!X||X.isHidden&&(J>0||Q&&tl0(X,M)))&&(B>z||M.flags&32))X=M,Y=z-F;else if(F<z||M.flags&16&&!M.isHidden)K=M,U=z-F}F=B}}q(this,Z);let W=(J<0?K:X)||K||X;return W?{tile:W,offset:W==K?U:Y}:null}coordsIn(Z,J){let Q=this.resolveInline(Z,J,!0);if(!Q)return ol0(this);return Q.tile.coordsIn(Math.max(0,Q.offset),J)}domIn(Z,J){let Q=this.resolveInline(Z,J);if(Q){let{tile:K,offset:U}=Q;if(this.dom.contains(K.dom)){if(K.isText())return new iK(K.dom,Math.min(K.dom.nodeValue.length,U));return K.domPosFor(U,K.flags&16?1:K.flags&32?-1:J)}let X=Q.tile.parent,Y=!1;for(let q of X.children){if(Y)return new iK(q.dom,0);if(q==Q.tile)Y=!0}}return new iK(this.dom,0)}}function ol0(Z){let J=Z.dom.lastChild;if(!J)return Z.dom.getBoundingClientRect();let Q=AN(J);return Q[Q.length-1]||null}function tl0(Z,J){let Q=Z.coordsIn(0,1),K=J.coordsIn(0,1);return Q&&K&&K.top<Q.bottom}class C6 extends rO{constructor(Z,J){super(Z);this.mark=J}get domAttrs(){return this.mark.attrs}static of(Z,J){let Q=new C6(J||document.createElement(Z.tagName),Z);if(!J)Q.flags|=4;return Q}}class lW extends iJ{constructor(Z,J){super(Z,J.length);this.text=J}sync(Z){if(this.flags&2)return;if(super.sync(Z),this.dom.nodeValue!=this.text){if(Z&&Z.node==this.dom)Z.written=!0;this.dom.nodeValue=this.text}}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(Z,J){let Q=this.dom.nodeValue.length;if(Z>Q)Z=Q;let K=Z,U=Z,X=0;if(Z==0&&J<0||Z==Q&&J>=0){if(!(m8.chrome||m8.gecko)){if(Z)K--,X=1;else if(U<Q)U++,X=-1}}else if(J<0)K--;else if(U<Q)U++;let Y=pO(this.dom,K,U).getClientRects();if(!Y.length)return null;let q=Y[(X?X<0:J>=0)?0:Y.length-1];if(m8.safari&&!X&&q.width==0)q=Array.prototype.find.call(Y,(W)=>W.width)||q;return X?kN(q,X<0):q||null}static of(Z,J){let Q=new lW(J||document.createTextNode(Z),Z);if(!J)Q.flags|=2;return Q}}class sW extends iJ{constructor(Z,J,Q,K){super(Z,J,K);this.widget=Q}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(Z){if(this.flags&48)return!1;return(this.flags&(Z<0?64:128))>0}coordsIn(Z,J){return this.coordsInWidget(Z,J,!1)}coordsInWidget(Z,J,Q){let K=this.widget.coordsAt(this.dom,Z,J);if(K)return K;if(Q)return kN(this.dom.getBoundingClientRect(),this.length?Z==0:J<=0);else{let U=this.dom.getClientRects(),X=null;if(!U.length)return null;let Y=this.flags&16?!0:this.flags&32?!1:Z>0;for(let q=Y?U.length-1:0;;q+=Y?-1:1)if(X=U[q],Z>0?q==0:q==U.length-1||X.top<X.bottom)break;return kN(X,!Y)}}get overrideDOMText(){if(!this.length)return tZ.empty;let{root:Z}=this;if(!Z)return tZ.empty;let J=this.posAtStart;return Z.view.state.doc.slice(J,J+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(Z,J,Q,K,U){if(!U){if(U=Z.toDOM(J),!Z.editable)U.contentEditable="false"}return new sW(U,Q,Z,K)}}class cO extends iJ{constructor(Z){let J=document.createElement("img");J.className="cm-widgetBuffer",J.setAttribute("aria-hidden","true");super(J,0,Z)}get isHidden(){return!0}get overrideDOMText(){return tZ.empty}coordsIn(Z){return this.dom.getBoundingClientRect()}}class XZ0{constructor(Z){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=Z}advance(Z,J,Q){let{tile:K,index:U,beforeBreak:X,parents:Y}=this;while(Z||J>0)if(!K.isComposite())if(U==K.length)X=!!K.breakAfter,{tile:K,index:U}=Y.pop(),U++;else if(!Z)break;else{let q=Math.min(Z,K.length-U);if(Q)Q.skip(K,U,U+q);Z-=q,U+=q}else if(X){if(!Z)break;if(Q)Q.break();Z--,X=!1}else if(U==K.children.length){if(!Z&&!Y.length)break;if(Q)Q.leave(K);X=!!K.breakAfter,{tile:K,index:U}=Y.pop(),U++}else{let q=K.children[U],W=q.breakAfter;if((J>0?q.length<=Z:q.length<Z)&&(!Q||Q.skip(q,0,q.length)!==!1||!q.isComposite))X=!!W,U++,Z-=q.length;else if(Y.push({tile:K,index:U}),K=q,U=0,Q&&q.isComposite())Q.enter(q)}return this.tile=K,this.index=U,this.beforeBreak=X,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class YZ0{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.wrapper=Q,this.rank=K}}class qZ0{constructor(Z,J,Q){this.cache=Z,this.root=J,this.blockWrappers=Q,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(Z,J,Q,K){var U;this.flushBuffer();let X=this.ensureMarks(J,Q),Y=X.lastChild;if(Y&&Y.isText()&&!(Y.flags&8)&&Y.length+Z.length<512){this.cache.reused.set(Y,2);let q=X.children[X.children.length-1]=new lW(Y.dom,Y.text+Z);q.parent=X}else X.append(K||lW.of(Z,(U=this.cache.find(lW))===null||U===void 0?void 0:U.dom));this.pos+=Z.length,this.afterWidget=null}addComposition(Z,J){let Q=this.curLine;if(Q.dom!=J.line.dom)Q.setDOM(this.cache.reused.has(J.line)?Yv(J.line.dom):J.line.dom),this.cache.reused.set(J.line,2);let K=Q;for(let Y=J.marks.length-1;Y>=0;Y--){let q=J.marks[Y],W=K.lastChild;if(W instanceof C6&&W.mark.eq(q.mark)){if(W.dom!=q.dom)W.setDOM(Yv(q.dom));K=W}else{if(this.cache.reused.get(q)){let z=iJ.get(q.dom);if(z)z.setDOM(Yv(q.dom))}let G=C6.of(q.mark,q.dom);K.append(G),K=G}this.cache.reused.set(q,2)}let U=iJ.get(Z.text);if(U)this.cache.reused.set(U,2);let X=new lW(Z.text,Z.text.nodeValue);X.flags|=8,K.append(X)}addInlineWidget(Z,J,Q){let K=this.afterWidget&&Z.flags&48&&(this.afterWidget.flags&48)==(Z.flags&48);if(!K)this.flushBuffer();let U=this.ensureMarks(J,Q);if(!K&&!(Z.flags&16))U.append(this.getBuffer(1));U.append(Z),this.pos+=Z.length,this.afterWidget=Z}addMark(Z,J,Q){this.flushBuffer(),this.ensureMarks(J,Q).append(Z),this.pos+=Z.length,this.afterWidget=null}addBlockWidget(Z){this.getBlockPos().append(Z),this.pos+=Z.length,this.lastBlock=Z,this.endLine()}continueWidget(Z){let J=this.afterWidget||this.lastBlock;J.length+=Z,this.pos+=Z}addLineStart(Z,J){var Q;if(!Z)Z=HZ0;let K=HH.start(Z,J||((Q=this.cache.find(HH))===null||Q===void 0?void 0:Q.dom),!!J);this.getBlockPos().append(this.lastBlock=this.curLine=K)}addLine(Z){this.getBlockPos().append(Z),this.pos+=Z.length,this.lastBlock=Z,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(Z){if(!this.blockPosCovered())this.addLineStart(Z)}ensureLine(Z){if(!this.curLine)this.addLineStart(Z)}ensureMarks(Z,J){var Q;let K=this.curLine;for(let U=Z.length-1;U>=0;U--){let X=Z[U],Y;if(J>0&&(Y=K.lastChild)&&Y instanceof C6&&Y.mark.eq(X))K=Y,J--;else{let q=C6.of(X,(Q=this.cache.find(C6,(W)=>W.mark.eq(X)))===null||Q===void 0?void 0:Q.dom);K.append(q),K=q,J=0}}return K}endLine(){if(this.curLine){this.flushBuffer();let Z=this.curLine.lastChild;if(!Z||!J80(this.curLine,!1)||Z.dom.nodeName!="BR"&&Z.isWidget()&&!(m8.ios&&J80(this.curLine,!0)))this.curLine.append(this.cache.findWidget(qv,0,32)||new sW(qv.toDOM(),0,qv,32));this.curLine=this.afterWidget=null}}updateBlockWrappers(){if(this.wrapperPos>this.pos+1e4)this.blockWrappers.goto(this.pos),this.wrappers.length=0;for(let Z=this.wrappers.length-1;Z>=0;Z--)if(this.wrappers[Z].to<this.pos)this.wrappers.splice(Z,1);for(let Z=this.blockWrappers;Z.value&&Z.from<=this.pos;Z.next())if(Z.to>=this.pos){let J=new YZ0(Z.from,Z.to,Z.value,Z.rank),Q=this.wrappers.length;while(Q>0&&(this.wrappers[Q-1].rank-J.rank||this.wrappers[Q-1].to-J.to)<0)Q--;this.wrappers.splice(Q,0,J)}this.wrapperPos=this.pos}getBlockPos(){var Z;this.updateBlockWrappers();let J=this.root;for(let Q of this.wrappers){let K=J.lastChild;if(Q.from<this.pos&&K instanceof rY&&K.wrapper.eq(Q.wrapper))J=K;else{let U=rY.of(Q.wrapper,(Z=this.cache.find(rY,(X)=>X.wrapper.eq(Q.wrapper)))===null||Z===void 0?void 0:Z.dom);J.append(U),J=U}}return J}blockPosCovered(){let Z=this.lastBlock;return Z!=null&&!Z.breakAfter&&(!Z.isWidget()||(Z.flags&160)>0)}getBuffer(Z){let J=2|(Z<0?16:32),Q=this.cache.find(cO,void 0,1);if(Q)Q.flags=J;return Q||new cO(J)}flushBuffer(){if(this.afterWidget&&!(this.afterWidget.flags&32))this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null}}class WZ0{constructor(Z){this.skipCount=0,this.text="",this.textOff=0,this.cursor=Z.iter()}skip(Z){if(this.textOff+Z<=this.text.length)this.textOff+=Z;else this.skipCount+=Z-(this.text.length-this.textOff),this.text="",this.textOff=0}next(Z){if(this.textOff==this.text.length){let{value:K,lineBreak:U,done:X}=this.cursor.next(this.skipCount);if(this.skipCount=0,X)throw Error("Ran out of text content when drawing inline views");this.text=K;let Y=this.textOff=Math.min(Z,K.length);return U?null:K.slice(0,Y)}let J=Math.min(this.text.length,this.textOff+Z),Q=this.text.slice(this.textOff,J);return this.textOff=J,Q}}var fN=[sW,HH,lW,C6,cO,rY,nO];for(let Z=0;Z<fN.length;Z++)fN[Z].bucket=Z;class GZ0{constructor(Z){this.view=Z,this.buckets=fN.map(()=>[]),this.index=fN.map(()=>0),this.reused=new Map}add(Z){let J=Z.constructor.bucket,Q=this.buckets[J];if(Q.length<6)Q.push(Z);else Q[this.index[J]=(this.index[J]+1)%6]=Z}find(Z,J,Q=2){let K=Z.bucket,U=this.buckets[K],X=this.index[K];for(let Y=U.length-1;Y>=0;Y--){let q=(Y+X)%U.length,W=U[q];if((!J||J(W))&&!this.reused.has(W)){if(U.splice(q,1),q<X)this.index[K]--;return this.reused.set(W,Q),W}}return null}findWidget(Z,J,Q){let K=this.buckets[0];if(K.length)for(let U=0,X=0;;U++){if(U==K.length){if(X)return null;X=1,U=0}let Y=K[U];if(!this.reused.has(Y)&&(X==0?Y.widget.compare(Z):Y.widget.constructor==Z.constructor&&Z.updateDOM(Y.dom,this.view))){if(K.splice(U,1),U<this.index[0])this.index[0]--;if(Y.widget==Z&&Y.length==J&&(Y.flags&497)==Q)return this.reused.set(Y,1),Y;else return this.reused.set(Y,2),new sW(Y.dom,J,Z,Y.flags&-498|Q)}}}reuse(Z){return this.reused.set(Z,1),Z}maybeReuse(Z,J=2){if(this.reused.has(Z))return;return this.reused.set(Z,J),Z.dom}clear(){for(let Z=0;Z<this.buckets.length;Z++)this.buckets[Z].length=this.index[Z]=0}}class zZ0{constructor(Z,J,Q,K,U){this.view=Z,this.decorations=K,this.disallowBlockEffectsFor=U,this.openWidget=!1,this.openMarks=0,this.cache=new GZ0(Z),this.text=new WZ0(Z.state.doc),this.builder=new qZ0(this.cache,new nO(Z,Z.contentDOM),kZ.iter(Q)),this.cache.reused.set(J,2),this.old=new XZ0(J),this.reuseWalker={skip:(X,Y,q)=>{if(this.cache.add(X),X.isComposite())return!1},enter:(X)=>this.cache.add(X),leave:()=>{},break:()=>{}}}run(Z,J){let Q=J&&this.getCompositionContext(J.text);for(let K=0,U=0,X=0;;){let Y=X<Z.length?Z[X++]:null,q=Y?Y.fromA:this.old.root.length;if(q>K){let W=q-K;this.preserve(W,!X,!Y),K=q,U+=W}if(!Y)break;if(J&&Y.fromA<=J.range.fromA&&Y.toA>=J.range.toA)this.forward(Y.fromA,J.range.fromA,J.range.fromA<J.range.toA?1:-1),this.emit(U,J.range.fromB),this.cache.clear(),this.builder.addComposition(J,Q),this.text.skip(J.range.toB-J.range.fromB),this.forward(J.range.fromA,Y.toA),this.emit(J.range.toB,Y.toB);else this.forward(Y.fromA,Y.toA),this.emit(U,Y.toB);U=Y.toB,K=Y.toA}if(this.builder.curLine)this.builder.endLine();return this.builder.root}preserve(Z,J,Q){let K=Jd0(this.old),U=this.openMarks;this.old.advance(Z,Q?1:-1,{skip:(X,Y,q)=>{if(X.isWidget())if(this.openWidget)this.builder.continueWidget(q-Y);else{let W=q>0||Y<X.length?sW.of(X.widget,this.view,q-Y,X.flags&496,this.cache.maybeReuse(X)):this.cache.reuse(X);if(W.flags&256)W.flags&=-2,this.builder.addBlockWidget(W);else this.builder.ensureLine(null),this.builder.addInlineWidget(W,K,U),U=K.length}else if(X.isText()){if(this.builder.ensureLine(null),!Y&&q==X.length)this.builder.addText(X.text,K,U,this.cache.reuse(X));else this.cache.add(X),this.builder.addText(X.text.slice(Y,q),K,U);U=K.length}else if(X.isLine())X.flags&=-2,this.cache.reused.set(X,1),this.builder.addLine(X);else if(X instanceof cO)this.cache.add(X);else if(X instanceof C6)this.builder.ensureLine(null),this.builder.addMark(X,K,U),this.cache.reused.set(X,1),U=K.length;else return!1;this.openWidget=!1},enter:(X)=>{if(X.isLine())this.builder.addLineStart(X.attrs,this.cache.maybeReuse(X));else if(this.cache.add(X),X instanceof C6)K.unshift(X.mark);this.openWidget=!1},leave:(X)=>{if(X.isLine()){if(K.length)K.length=U=0}else if(X instanceof C6)K.shift(),U=Math.min(U,K.length)},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(Z)}emit(Z,J){let Q=null,K=this.builder,U=0,X=kZ.spans(this.decorations,Z,J,{point:(Y,q,W,G,z,H)=>{if(W instanceof dW){if(this.disallowBlockEffectsFor[H]){if(W.block)throw RangeError("Block decorations may not be specified via plugins");if(q>this.view.state.doc.lineAt(Y).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}if(U=G.length,z>G.length)K.continueWidget(q-Y);else{let F=W.widget||(W.block?rW.block:rW.inline),M=el0(W),B=this.cache.findWidget(F,q-Y,M)||sW.of(F,this.view,q-Y,M);if(W.block){if(W.startSide>0)K.addLineStartIfNotCovered(Q);K.addBlockWidget(B)}else K.ensureLine(Q),K.addInlineWidget(B,G,z)}Q=null}else Q=Zd0(Q,W);if(q>Y)this.text.skip(q-Y)},span:(Y,q,W,G)=>{for(let z=Y;z<q;){let H=this.text.next(Math.min(512,q-z));if(H==null)K.addLineStartIfNotCovered(Q),K.addBreak(),z++;else K.ensureLine(Q),K.addText(H,W,z==Y?G:W.length),z+=H.length;Q=null}}});K.addLineStartIfNotCovered(Q),this.openWidget=X>U,this.openMarks=X}forward(Z,J,Q=1){if(J-Z<=10)this.old.advance(J-Z,Q,this.reuseWalker);else this.old.advance(5,-1,this.reuseWalker),this.old.advance(J-Z-10,-1),this.old.advance(5,Q,this.reuseWalker)}getCompositionContext(Z){let J=[],Q=null;for(let K=Z.parentNode;;K=K.parentNode){let U=iJ.get(K);if(K==this.view.contentDOM)break;if(U instanceof C6)J.push(U);else if(U===null||U===void 0?void 0:U.isLine())Q=U;else if(K.nodeName=="DIV"&&!Q&&K!=this.view.contentDOM)Q=new HH(K,HZ0);else J.push(C6.of(new dO({tagName:K.nodeName.toLowerCase(),attributes:fl0(K)}),K))}return{line:Q,marks:J}}}function J80(Z,J){let Q=(K)=>{for(let U of K.children)if((J?U.isText():U.length)||Q(U))return!0;return!1};return Q(Z)}function el0(Z){let J=Z.isReplace?(Z.startSide<0?64:0)|(Z.endSide>0?128:0):Z.startSide>0?32:16;if(Z.block)J|=256;return J}var HZ0={class:"cm-line"};function Zd0(Z,J){let Q=J.spec.attributes,K=J.spec.class;if(!Q&&!K)return Z;if(!Z)Z={class:"cm-line"};if(Q)mv(Q,Z);if(K)Z.class+=" "+K;return Z}function Jd0(Z){let J=[];for(let Q=Z.parents.length;Q>1;Q--){let K=Q==Z.parents.length?Z.tile:Z.parents[Q].tile;if(K instanceof C6)J.push(K.mark)}return J}function Yv(Z){let J=iJ.get(Z);if(J)J.setDOM(Z.cloneNode());return Z}class rW extends j6{constructor(Z){super();this.tag=Z}eq(Z){return Z.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Z){return Z.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}rW.inline=new rW("span");rW.block=new rW("div");var qv=new class extends j6{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Vv{constructor(Z){this.view=Z,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=e8.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new nO(Z,Z.contentDOM),this.updateInner([new s4(0,0,0,Z.state.doc.length)],null)}update(Z){var J;let Q=Z.changedRanges;if(this.minWidth>0&&Q.length)if(!Q.every(({fromA:G,toA:z})=>z<this.minWidthFrom||G>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=Z.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Z.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(Z);let K=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if((J=this.domChanged)===null||J===void 0?void 0:J.newSel)K=this.domChanged.newSel.head;else if(!Gd0(Z.changes,this.hasComposition)&&!Z.selectionSet)K=Z.state.selection.main.head}let U=K>-1?Kd0(this.view,Z.changes,K):null;if(this.domChanged=null,this.hasComposition){let{from:G,to:z}=this.hasComposition;Q=new s4(G,z,Z.changes.mapPos(G,-1),Z.changes.mapPos(z,1)).addToSet(Q.slice())}if(this.hasComposition=U?{from:U.range.fromB,to:U.range.toB}:null,(m8.ie||m8.chrome)&&!U&&Z&&Z.state.doc.lines!=Z.startState.doc.lines)this.forceSelection=!0;let X=this.decorations,Y=this.blockWrappers;this.updateDeco();let q=Yd0(X,this.decorations,Z.changes);if(q.length)Q=s4.extendWithRanges(Q,q);let W=qd0(Y,this.blockWrappers,Z.changes);if(W.length)Q=s4.extendWithRanges(Q,W);if(U&&!Q.some((G)=>G.fromA<=U.range.fromA&&G.toA>=U.range.toA))Q=U.range.addToSet(Q.slice());if(this.tile.flags&2&&Q.length==0)return!1;else{if(this.updateInner(Q,U),Z.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(Z,J){this.view.viewState.mustMeasureContent=!0;let{observer:Q}=this.view;Q.ignore(()=>{if(J||Z.length){let X=this.tile,Y=new zZ0(this.view,X,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=Y.run(Z,J),Pv(X,Y.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let U=m8.chrome||m8.ios?{node:Q.selectionRange.focusNode,written:!1}:void 0;if(this.tile.sync(U),U&&(U.written||Q.selectionRange.focusNode!=U.node||!this.tile.dom.contains(U.node)))this.forceSelection=!0;this.tile.dom.style.height=""});let K=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let U of this.tile.children)if(U.isWidget()&&U.widget instanceof EN)K.push(U.dom)}Q.updateGaps(K)}updateEditContextFormatting(Z){this.editContextFormatting=this.editContextFormatting.map(Z.changes);for(let J of Z.transactions)for(let Q of J.effects)if(Q.is(ZZ0))this.editContextFormatting=Q.value}updateSelection(Z=!1,J=!1){if(Z||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let{dom:Q}=this.tile,K=this.view.root.activeElement,U=K==Q,X=!U&&!(this.view.state.facet(SX)||Q.tabIndex>-1)&&yO(Q,this.view.observer.selectionRange)&&!(K&&Q.contains(K));if(!(U||J||X))return;let Y=this.forceSelection;this.forceSelection=!1;let q=this.view.state.selection.main,W,G;if(q.empty)G=W=this.inlineDOMNearPos(q.anchor,q.assoc||1);else G=this.inlineDOMNearPos(q.head,q.head==q.from?1:-1),W=this.inlineDOMNearPos(q.anchor,q.anchor==q.from?1:-1);if(m8.gecko&&q.empty&&!this.hasComposition&&Qd0(W)){let H=document.createTextNode("");this.view.observer.ignore(()=>W.node.insertBefore(H,W.node.childNodes[W.offset]||null)),W=G=new iK(H,0),Y=!0}let z=this.view.observer.selectionRange;if(Y||!z.focusNode||(!hO(W.node,W.offset,z.anchorNode,z.anchorOffset)||!hO(G.node,G.offset,z.focusNode,z.focusOffset))&&!this.suppressWidgetCursorChange(z,q))this.view.observer.ignore(()=>{if(m8.android&&m8.chrome&&Q.contains(z.focusNode)&&Wd0(z.focusNode,Q))Q.blur(),Q.focus({preventScroll:!0});let H=zH(this.view.root);if(!H);else if(q.empty){if(m8.gecko){let F=Ud0(W.node,W.offset);if(F&&F!=3){let M=(F==1?h80:m80)(W.node,W.offset);if(M)W=new iK(M.node,M.offset)}}if(H.collapse(W.node,W.offset),q.bidiLevel!=null&&H.caretBidiLevel!==void 0)H.caretBidiLevel=q.bidiLevel}else if(H.extend){H.collapse(W.node,W.offset);try{H.extend(G.node,G.offset)}catch(F){}}else{let F=document.createRange();if(q.anchor>q.head)[W,G]=[G,W];F.setEnd(G.node,G.offset),F.setStart(W.node,W.offset),H.removeAllRanges(),H.addRange(F)}if(X&&this.view.root.activeElement==Q){if(Q.blur(),K)K.focus()}}),this.view.observer.setSelectionRange(W,G);this.impreciseAnchor=W.precise?null:new iK(z.anchorNode,z.anchorOffset),this.impreciseHead=G.precise?null:new iK(z.focusNode,z.focusOffset)}suppressWidgetCursorChange(Z,J){return this.hasComposition&&J.empty&&hO(Z.focusNode,Z.focusOffset,Z.anchorNode,Z.anchorOffset)&&this.posFromDOM(Z.focusNode,Z.focusOffset)==J.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Z}=this,J=Z.state.selection.main,Q=zH(Z.root),{anchorNode:K,anchorOffset:U}=Z.observer.selectionRange;if(!Q||!J.empty||!J.assoc||!Q.modify)return;let X=this.lineAt(J.head,J.assoc);if(!X)return;let Y=X.posAtStart;if(J.head==Y||J.head==Y+X.length)return;let q=this.coordsAt(J.head,-1),W=this.coordsAt(J.head,1);if(!q||!W||q.bottom>W.top)return;let G=this.domAtPos(J.head+J.assoc,J.assoc);Q.collapse(G.node,G.offset),Q.modify("move",J.assoc<0?"forward":"backward","lineboundary"),Z.observer.readSelectionRange();let z=Z.observer.selectionRange;if(Z.docView.posFromDOM(z.anchorNode,z.anchorOffset)!=J.from)Q.collapse(K,U)}posFromDOM(Z,J){let Q=this.tile.nearest(Z);if(!Q)return this.tile.dom.compareDocumentPosition(Z)&2?0:this.view.state.doc.length;let K=Q.posAtStart;if(Q.isComposite()){let U;if(Z==Q.dom)U=Q.dom.childNodes[J];else{let X=TX(Z)==0?0:J==0?-1:1;for(;;){let Y=Z.parentNode;if(Y==Q.dom)break;if(X==0&&Y.firstChild!=Y.lastChild)if(Z==Y.firstChild)X=-1;else X=1;Z=Y}if(X<0)U=Z;else U=Z.nextSibling}if(U==Q.dom.firstChild)return K;while(U&&!iJ.get(U))U=U.nextSibling;if(!U)return K+Q.length;for(let X=0,Y=K;;X++){let q=Q.children[X];if(q.dom==U)return Y;Y+=q.length+q.breakAfter}}else if(Q.isText())return Z==Q.dom?K+J:K+(J?Q.length:0);else return K}domAtPos(Z,J){let{tile:Q,offset:K}=this.tile.resolveBlock(Z,J);if(Q.isWidget())return Q.domPosFor(Z,J);return Q.domIn(K,J)}inlineDOMNearPos(Z,J){let Q,K=-1,U=!1,X,Y=-1,q=!1;if(this.tile.blockTiles((W,G)=>{if(W.isWidget()){if(W.flags&32&&G>=Z)return!0;if(W.flags&16)U=!0}else{let z=G+W.length;if(G<=Z)Q=W,K=Z-G,U=z<Z;if(z>=Z&&!X)X=W,Y=Z-G,q=G>Z;if(G>Z&&X)return!0}}),!Q&&!X)return this.domAtPos(Z,J);if(U&&X)Q=null;else if(q&&Q)X=null;return Q&&J<0||!X?Q.domIn(K,J):X.domIn(Y,J)}coordsAt(Z,J){let{tile:Q,offset:K}=this.tile.resolveBlock(Z,J);if(Q.isWidget()){if(Q.widget instanceof EN)return null;return Q.coordsInWidget(K,J,!0)}return Q.coordsIn(K,J)}lineAt(Z,J){let{tile:Q}=this.tile.resolveBlock(Z,J);return Q.isLine()?Q:null}coordsForChar(Z){let{tile:J,offset:Q}=this.tile.resolveBlock(Z,1);if(!J.isLine())return null;function K(U,X){if(U.isComposite())for(let Y of U.children){if(Y.length>=X){let q=K(Y,X);if(q)return q}if(X-=Y.length,X<0)break}else if(U.isText()&&X<U.length){let Y=xJ(U.text,X);if(Y==X)return null;let q=pO(U.dom,X,Y).getClientRects();for(let W=0;W<q.length;W++){let G=q[W];if(W==q.length-1||G.top<G.bottom&&G.left<G.right)return G}}return null}return K(J,Q)}measureVisibleLineHeights(Z){let J=[],{from:Q,to:K}=Z,U=this.view.contentDOM.clientWidth,X=U>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Y=-1,q=this.view.textDirection==V9.LTR,W=0,G=(z,H,F)=>{for(let M=0;M<z.children.length;M++){if(H>K)break;let B=z.children[M],O=H+B.length,R=B.dom.getBoundingClientRect(),{height:L}=R;if(F&&!M)W+=R.top-F.top;if(B instanceof rY){if(O>Q)G(B,H,R)}else if(H>=Q){if(W>0)J.push(-W);if(J.push(L+W),W=0,X){let D=B.dom.lastChild,A=D?AN(D):[];if(A.length){let V=A[A.length-1],N=q?V.right-R.left:R.right-V.left;if(N>Y)Y=N,this.minWidth=U,this.minWidthFrom=H,this.minWidthTo=O}}}if(F&&M==z.children.length-1)W+=F.bottom-R.bottom;H=O+B.breakAfter}};return G(this.tile,0,null),J}textDirectionAt(Z){let{tile:J}=this.tile.resolveBlock(Z,1);return getComputedStyle(J.dom).direction=="rtl"?V9.RTL:V9.LTR}measureTextSize(){let Z=this.tile.blockTiles((X)=>{if(X.isLine()&&X.children.length&&X.length<=20){let Y=0,q;for(let W of X.children){if(!W.isText()||/[^ -~]/.test(W.text))return;let G=AN(W.dom);if(G.length!=1)return;Y+=G[0].width,q=G[0].height}if(Y)return{lineHeight:X.dom.getBoundingClientRect().height,charWidth:Y/X.length,textHeight:q}}});if(Z)return Z;let J=document.createElement("div"),Q,K,U;return J.className="cm-line",J.style.width="99999px",J.style.position="absolute",J.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(J);let X=AN(J.firstChild)[0];Q=J.getBoundingClientRect().height,K=X&&X.width?X.width/27:7,U=X&&X.height?X.height:Q,J.remove()}),{lineHeight:Q,charWidth:K,textHeight:U}}computeBlockGapDeco(){let Z=[],J=this.view.viewState;for(let Q=0,K=0;;K++){let U=K==J.viewports.length?null:J.viewports[K],X=U?U.from-1:this.view.state.doc.length;if(X>Q){let Y=(J.lineBlockAt(X).bottom-J.lineBlockAt(Q).top)/this.view.scaleY;Z.push(e8.replace({widget:new EN(Y),block:!0,inclusive:!0,isBlockGap:!0}).range(Q,X))}if(!U)break;Q=U.to+1}return e8.set(Z)}updateDeco(){let Z=1,J=this.view.state.facet(mN).map((U)=>{return(this.dynamicDecorationMap[Z++]=typeof U=="function")?U(this.view):U}),Q=!1,K=this.view.state.facet(dv).map((U,X)=>{let Y=typeof U=="function";if(Y)Q=!0;return Y?U(this.view):U});if(K.length)this.dynamicDecorationMap[Z++]=Q,J.push(kZ.join(K));this.decorations=[this.editContextFormatting,...J,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(Z<this.decorations.length)this.dynamicDecorationMap[Z++]=!1;this.blockWrappers=this.view.state.facet(QZ0).map((U)=>typeof U=="function"?U(this.view):U)}scrollIntoView(Z){if(Z.isSnapshot){let W=this.view.viewState.lineBlockAt(Z.range.head);this.view.scrollDOM.scrollTop=W.top-Z.yMargin,this.view.scrollDOM.scrollLeft=Z.xMargin;return}for(let W of this.view.state.facet(e80))try{if(W(this.view,Z.range,Z))return!0}catch(G){i7(this.view.state,G,"scroll handler")}let{range:J}=Z,Q=this.coordsAt(J.head,J.empty?J.assoc:J.head>J.anchor?-1:1),K;if(!Q)return;if(!J.empty&&(K=this.coordsAt(J.anchor,J.anchor>J.head?-1:1)))Q={left:Math.min(Q.left,K.left),top:Math.min(Q.top,K.top),right:Math.max(Q.right,K.right),bottom:Math.max(Q.bottom,K.bottom)};let U=iv(this.view),X={left:Q.left-U.left,top:Q.top-U.top,right:Q.right+U.right,bottom:Q.bottom+U.bottom},{offsetWidth:Y,offsetHeight:q}=this.view.scrollDOM;bl0(this.view.scrollDOM,X,J.head<J.anchor?-1:1,Z.x,Z.y,Math.max(Math.min(Z.xMargin,Y),-Y),Math.max(Math.min(Z.yMargin,q),-q),this.view.textDirection==V9.LTR)}lineHasWidget(Z){let J=(Q)=>Q.isWidget()||Q.children.some(J);return J(this.tile.resolveBlock(Z,1).tile)}destroy(){Pv(this.tile)}}function Pv(Z,J){let Q=J===null||J===void 0?void 0:J.get(Z);if(Q!=1){if(Q==null)Z.destroy();for(let K of Z.children)Pv(K,J)}}function Qd0(Z){return Z.node.nodeType==1&&Z.node.firstChild&&(Z.offset==0||Z.node.childNodes[Z.offset-1].contentEditable=="false")&&(Z.offset==Z.node.childNodes.length||Z.node.childNodes[Z.offset].contentEditable=="false")}function FZ0(Z,J){let Q=Z.observer.selectionRange;if(!Q.focusNode)return null;let K=h80(Q.focusNode,Q.focusOffset),U=m80(Q.focusNode,Q.focusOffset),X=K||U;if(U&&K&&U.node!=K.node){let q=iJ.get(U.node);if(!q||q.isText()&&q.text!=U.node.nodeValue)X=U;else if(Z.docView.lastCompositionAfterCursor){let W=iJ.get(K.node);if(!(!W||W.isText()&&W.text!=K.node.nodeValue))X=U}}if(Z.docView.lastCompositionAfterCursor=X!=K,!X)return null;let Y=J-X.offset;return{from:Y,to:Y+X.node.nodeValue.length,node:X.node}}function Kd0(Z,J,Q){let K=FZ0(Z,Q);if(!K)return null;let{node:U,from:X,to:Y}=K,q=U.nodeValue;if(/[\n\r]/.test(q))return null;if(Z.state.doc.sliceString(K.from,K.to)!=q)return null;let W=J.invertedDesc;return{range:new s4(W.mapPos(X),W.mapPos(Y),X,Y),text:U}}function Ud0(Z,J){if(Z.nodeType!=1)return 0;return(J&&Z.childNodes[J-1].contentEditable=="false"?1:0)|(J<Z.childNodes.length&&Z.childNodes[J].contentEditable=="false"?2:0)}var Xd0=class{constructor(){this.changes=[]}compareRange(J,Q){qH(J,Q,this.changes)}comparePoint(J,Q){qH(J,Q,this.changes)}boundChange(J){qH(J,J,this.changes)}};function Yd0(Z,J,Q){let K=new Xd0;return kZ.compare(Z,J,Q,K),K.changes}class MZ0{constructor(){this.changes=[]}compareRange(Z,J){qH(Z,J,this.changes)}comparePoint(){}boundChange(Z){qH(Z,Z,this.changes)}}function qd0(Z,J,Q){let K=new MZ0;return kZ.compare(Z,J,Q,K),K.changes}function Wd0(Z,J){for(let Q=Z;Q&&Q!=J;Q=Q.assignedSlot||Q.parentNode)if(Q.nodeType==1&&Q.contentEditable=="false")return!0;return!1}function Gd0(Z,J){let Q=!1;if(J)Z.iterChangedRanges((K,U)=>{if(K<J.to&&U>J.from)Q=!0});return Q}class EN extends j6{constructor(Z){super();this.height=Z}toDOM(){let Z=document.createElement("div");return Z.className="cm-gap",this.updateDOM(Z),Z}eq(Z){return Z.height==this.height}updateDOM(Z){return Z.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function zd0(Z,J,Q=1){let K=Z.charCategorizer(J),U=Z.doc.lineAt(J),X=J-U.from;if(U.length==0)return e0.cursor(J);if(X==0)Q=1;else if(X==U.length)Q=-1;let Y=X,q=X;if(Q<0)Y=xJ(U.text,X,!1);else q=xJ(U.text,X);let W=K(U.text.slice(Y,q));while(Y>0){let G=xJ(U.text,Y,!1);if(K(U.text.slice(G,Y))!=W)break;Y=G}while(q<U.length){let G=xJ(U.text,q);if(K(U.text.slice(q,G))!=W)break;q=G}return e0.range(Y+U.from,q+U.from)}function Hd0(Z,J,Q,K,U){let X=Math.round((K-J.left)*Z.defaultCharacterWidth);if(Z.lineWrapping&&Q.height>Z.defaultLineHeight*1.5){let q=Z.viewState.heightOracle.textHeight,W=Math.floor((U-Q.top-(Z.defaultLineHeight-q)*0.5)/q);X+=W*Z.viewState.heightOracle.lineLength}let Y=Z.state.sliceDoc(Q.from,Q.to);return Q.from+zN(Y,X,Z.state.tabSize)}function Cv(Z,J,Q){let K=Z.lineBlockAt(J);if(Array.isArray(K.type)){let U;for(let X of K.type){if(X.from>J)break;if(X.to<J)continue;if(X.from<J&&X.to>J)return X;if(!U||X.type==s7.Text&&(U.type!=X.type||(Q<0?X.from<J:X.to>J)))U=X}return U||K}return K}function Fd0(Z,J,Q,K){let U=Cv(Z,J.head,J.assoc||-1),X=!K||U.type!=s7.Text||!(Z.lineWrapping||U.widgetLineBreaks)?null:Z.coordsAtPos(J.assoc<0&&J.head>U.from?J.head-1:J.head);if(X){let Y=Z.dom.getBoundingClientRect(),q=Z.textDirectionAt(U.from),W=Z.posAtCoords({x:Q==(q==V9.LTR)?Y.right-1:Y.left+1,y:(X.top+X.bottom)/2});if(W!=null)return e0.cursor(W,Q?-1:1)}return e0.cursor(Q?U.to:U.from,Q?-1:1)}function Q80(Z,J,Q,K){let U=Z.state.doc.lineAt(J.head),X=Z.bidiSpans(U),Y=Z.textDirectionAt(U.from);for(let q=J,W=null;;){let G=sl0(U,X,Y,q,Q),z=l80;if(!G){if(U.number==(Q?Z.state.doc.lines:1))return q;z=`
`,U=Z.state.doc.line(U.number+(Q?1:-1)),X=Z.bidiSpans(U),G=Z.visualLineSide(U,!Q)}if(!W){if(!K)return G;W=K(z)}else if(!W(z))return q;q=G}}function Md0(Z,J,Q){let K=Z.state.charCategorizer(J),U=K(Q);return(X)=>{let Y=K(X);if(U==x9.Space)U=Y;return U==Y}}function Bd0(Z,J,Q,K){let U=J.head,X=Q?1:-1;if(U==(Q?Z.state.doc.length:0))return e0.cursor(U,J.assoc);let Y=J.goalColumn,q,W=Z.contentDOM.getBoundingClientRect(),G=Z.coordsAtPos(U,J.assoc||-1),z=Z.documentTop;if(G){if(Y==null)Y=G.left-W.left;q=X<0?G.top:G.bottom}else{let B=Z.viewState.lineBlockAt(U);if(Y==null)Y=Math.min(W.right-W.left,Z.defaultCharacterWidth*(U-B.from));q=(X<0?B.top:B.bottom)+z}let H=W.left+Y,F=K!==null&&K!==void 0?K:Z.viewState.heightOracle.textHeight>>1,M=jv(Z,{x:H,y:q+F*X},!1,X);return e0.cursor(M.pos,M.assoc,void 0,Y)}function mO(Z,J,Q){for(;;){let K=0;for(let U of Z)U.between(J-1,J+1,(X,Y,q)=>{if(J>X&&J<Y){let W=K||Q||(J-X<Y-J?-1:1);J=W<0?X:Y,K=W}});if(!K)return J}}function BZ0(Z,J){let Q=null;for(let K=0;K<J.ranges.length;K++){let U=J.ranges[K],X=null;if(U.empty){let Y=mO(Z,U.from,0);if(Y!=U.from)X=e0.cursor(Y,-1)}else{let Y=mO(Z,U.from,-1),q=mO(Z,U.to,1);if(Y!=U.from||q!=U.to)X=e0.range(U.from==U.anchor?Y:q,U.from==U.head?Y:q)}if(X){if(!Q)Q=J.ranges.slice();Q[K]=X}}return Q?e0.create(Q,J.mainIndex):J}function Wv(Z,J,Q){let K=mO(Z.state.facet(sO).map((U)=>U(Z)),Q.from,J.head>Q.from?-1:1);return K==Q.from?Q:e0.cursor(K,K<Q.from?1:-1)}class lK{constructor(Z,J){this.pos=Z,this.assoc=J}}function jv(Z,J,Q,K){let U=Z.contentDOM.getBoundingClientRect(),X=U.top+Z.viewState.paddingTop,{x:Y,y:q}=J,W=q-X,G;for(;;){if(W<0)return new lK(0,1);if(W>Z.viewState.docHeight)return new lK(Z.state.doc.length,-1);if(G=Z.elementAtHeight(W),K==null)break;if(G.type==s7.Text){if(K<0?G.to<Z.viewport.from:G.from>Z.viewport.to)break;let F=Z.docView.coordsAt(K<0?G.from:G.to,K);if(F&&(K<0?F.top<=W+X:F.bottom>=W+X))break}let H=Z.viewState.heightOracle.textHeight/2;W=K>0?G.bottom+H:G.top-H}if(Z.viewport.from>=G.to||Z.viewport.to<=G.from){if(Q)return null;if(G.type==s7.Text){let H=Hd0(Z,U,G,Y,q);return new lK(H,H==G.from?1:-1)}}if(G.type!=s7.Text)return W<(G.top+G.bottom)/2?new lK(G.from,1):new lK(G.to,-1);let z=Z.docView.lineAt(G.from,2);if(!z||z.length!=G.length)z=Z.docView.lineAt(G.from,-2);return OZ0(Z,z,G.from,Y,q)}function OZ0(Z,J,Q,K,U){let X=-1,Y=null,q=1e9,W=1e9,G=U,z=U,H=(F,M)=>{for(let B=0;B<F.length;B++){let O=F[B];if(O.top==O.bottom)continue;let R=O.left>K?O.left-K:O.right<K?K-O.right:0,L=O.top>U?O.top-U:O.bottom<U?U-O.bottom:0;if(O.top<=z&&O.bottom>=G)G=Math.min(O.top,G),z=Math.max(O.bottom,z),L=0;if(X<0||(L-W||R-q)<0)if(X>=0&&W&&q<R&&Y.top<=z-2&&Y.bottom>=G+2)W=0;else X=M,q=R,W=L,Y=O}};if(J.isText()){for(let M=0;M<J.length;){let B=xJ(J.text,M);if(H(pO(J.dom,M,B).getClientRects(),M),!q&&!W)break;M=B}return K>(Y.left+Y.right)/2==(K80(Z,X+Q)==V9.LTR)?new lK(Q+xJ(J.text,X),-1):new lK(Q+X,1)}else{if(!J.length)return new lK(Q,1);for(let O=0;O<J.children.length;O++){let R=J.children[O];if(R.flags&48)continue;let L=(R.dom.nodeType==1?R.dom:pO(R.dom,0,R.length)).getClientRects();if(H(L,O),!q&&!W)break}let F=J.children[X],M=J.posBefore(F,Q);if(F.isComposite()||F.isText())return OZ0(Z,F,M,Math.max(Y.left,Math.min(Y.right,K)),U);return K>(Y.left+Y.right)/2==(K80(Z,X+Q)==V9.LTR)?new lK(M+F.length,-1):new lK(M,1)}}function K80(Z,J){let Q=Z.state.doc.lineAt(J);return Z.bidiSpans(Q)[d5.find(Z.bidiSpans(Q),J-Q.from,-1,1)].dir}var _O="";class RZ0{constructor(Z,J){this.points=Z,this.view=J,this.text="",this.lineSeparator=J.state.facet(vZ.lineSeparator)}append(Z){this.text+=Z}lineBreak(){this.text+=_O}readRange(Z,J){if(!Z)return this;let Q=Z.parentNode;for(let K=Z;;){this.findPointBefore(Q,K);let U=this.text.length;this.readNode(K);let X=iJ.get(K),Y=K.nextSibling;if(Y==J){if((X===null||X===void 0?void 0:X.breakAfter)&&!Y&&Q!=this.view.contentDOM)this.lineBreak();break}let q=iJ.get(Y);if((X&&q?X.breakAfter:(X?X.breakAfter:$N(K))||$N(Y)&&(K.nodeName!="BR"||(X===null||X===void 0?void 0:X.isWidget()))&&this.text.length>U)&&!Rd0(Y,J))this.lineBreak();K=Y}return this.findPointBefore(Q,J),this}readTextNode(Z){let J=Z.nodeValue;for(let Q of this.points)if(Q.node==Z)Q.pos=this.text.length+Math.min(Q.offset,J.length);for(let Q=0,K=this.lineSeparator?null:/\r\n?|\n/g;;){let U=-1,X=1,Y;if(this.lineSeparator)U=J.indexOf(this.lineSeparator,Q),X=this.lineSeparator.length;else if(Y=K.exec(J))U=Y.index,X=Y[0].length;if(this.append(J.slice(Q,U<0?J.length:U)),U<0)break;if(this.lineBreak(),X>1){for(let q of this.points)if(q.node==Z&&q.pos>this.text.length)q.pos-=X-1}Q=U+X}}readNode(Z){let J=iJ.get(Z),Q=J&&J.overrideDOMText;if(Q!=null){this.findPointInside(Z,Q.length);for(let K=Q.iter();!K.next().done;)if(K.lineBreak)this.lineBreak();else this.append(K.value)}else if(Z.nodeType==3)this.readTextNode(Z);else if(Z.nodeName=="BR"){if(Z.nextSibling)this.lineBreak()}else if(Z.nodeType==1)this.readRange(Z.firstChild,null)}findPointBefore(Z,J){for(let Q of this.points)if(Q.node==Z&&Z.childNodes[Q.offset]==J)Q.pos=this.text.length}findPointInside(Z,J){for(let Q of this.points)if(Z.nodeType==3?Q.node==Z:Z.contains(Q.node))Q.pos=this.text.length+(Od0(Z,Q.node,Q.offset)?J:0)}}function Od0(Z,J,Q){for(;;){if(!J||Q<TX(J))return!1;if(J==Z)return!0;Q=nY(J)+1,J=J.parentNode}}function Rd0(Z,J){let Q;for(;;Z=Z.nextSibling){if(Z==J||!Z)break;let K=iJ.get(Z);if(!(K===null||K===void 0?void 0:K.isWidget()))return!1;if(K)(Q||(Q=[])).push(K)}if(Q)for(let K of Q){let U=K.overrideDOMText;if(U===null||U===void 0?void 0:U.length)return!1}return!0}class Sv{constructor(Z,J){this.node=Z,this.offset=J,this.pos=-1}}class LZ0{constructor(Z,J,Q,K){this.typeOver=K,this.bounds=null,this.text="",this.domChanged=J>-1;let{impreciseHead:U,impreciseAnchor:X}=Z.docView;if(Z.state.readOnly&&J>-1)this.newSel=null;else if(J>-1&&(this.bounds=DZ0(Z.docView.tile,J,Q,0))){let Y=U||X?[]:Dd0(Z),q=new RZ0(Y,Z);q.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=q.text,this.newSel=Id0(Y,this.bounds.from)}else{let Y=Z.observer.selectionRange,q=U&&U.node==Y.focusNode&&U.offset==Y.focusOffset||!Dv(Z.contentDOM,Y.focusNode)?Z.state.selection.main.head:Z.docView.posFromDOM(Y.focusNode,Y.focusOffset),W=X&&X.node==Y.anchorNode&&X.offset==Y.anchorOffset||!Dv(Z.contentDOM,Y.anchorNode)?Z.state.selection.main.anchor:Z.docView.posFromDOM(Y.anchorNode,Y.anchorOffset),G=Z.viewport;if((m8.ios||m8.chrome)&&Z.state.selection.main.empty&&q!=W&&(G.from>0||G.to<Z.state.doc.length)){let z=Math.min(q,W),H=Math.max(q,W),F=G.from-z,M=G.to-H;if((F==0||F==1||z==0)&&(M==0||M==-1||H==Z.state.doc.length))q=0,W=Z.state.doc.length}if(Z.inputState.composing>-1&&Z.state.selection.ranges.length>1)this.newSel=Z.state.selection.replaceRange(e0.range(W,q));else this.newSel=e0.single(W,q)}}}function DZ0(Z,J,Q,K){if(Z.isComposite()){let U=-1,X=-1,Y=-1,q=-1;for(let W=0,G=K,z=K;W<Z.children.length;W++){let H=Z.children[W],F=G+H.length;if(G<J&&F>Q)return DZ0(H,J,Q,G);if(F>=J&&U==-1)U=W,X=G;if(G>Q&&H.dom.parentNode==Z.dom){Y=W,q=z;break}z=F,G=F+H.breakAfter}return{from:X,to:q<0?K+Z.length:q,startDOM:(U?Z.children[U-1].dom.nextSibling:null)||Z.dom.firstChild,endDOM:Y<Z.children.length&&Y>=0?Z.children[Y].dom:null}}else if(Z.isText())return{from:K,to:K+Z.length,startDOM:Z.dom,endDOM:Z.dom.nextSibling};else return null}function IZ0(Z,J){let Q,{newSel:K}=J,U=Z.state.selection.main,X=Z.inputState.lastKeyTime>Date.now()-100?Z.inputState.lastKeyCode:-1;if(J.bounds){let{from:Y,to:q}=J.bounds,W=U.from,G=null;if(X===8||m8.android&&J.text.length<q-Y)W=U.to,G="end";let z=AZ0(Z.state.doc.sliceString(Y,q,_O),J.text,W-Y,G);if(z){if(m8.chrome&&X==13&&z.toB==z.from+2&&J.text.slice(z.from,z.toB)==_O+_O)z.toB--;Q={from:Y+z.from,to:Y+z.toA,insert:tZ.of(J.text.slice(z.from,z.toB).split(_O))}}}else if(K&&(!Z.hasFocus&&Z.state.facet(SX)||vN(K,U)))K=null;if(!Q&&!K)return!1;if(!Q&&J.typeOver&&!U.empty&&K&&K.main.empty)Q={from:U.from,to:U.to,insert:Z.state.doc.slice(U.from,U.to)};else if((m8.mac||m8.android)&&Q&&Q.from==Q.to&&Q.from==U.head-1&&/^\. ?$/.test(Q.insert.toString())&&Z.contentDOM.getAttribute("autocorrect")=="off"){if(K&&Q.insert.length==2)K=e0.single(K.main.anchor-1,K.main.head-1);Q={from:Q.from,to:Q.to,insert:tZ.of([Q.insert.toString().replace("."," ")])}}else if(Q&&Q.from>=U.from&&Q.to<=U.to&&(Q.from!=U.from||Q.to!=U.to)&&U.to-U.from-(Q.to-Q.from)<=4)Q={from:U.from,to:U.to,insert:Z.state.doc.slice(U.from,Q.from).append(Q.insert).append(Z.state.doc.slice(Q.to,U.to))};else if(Z.state.doc.lineAt(U.from).to<U.to&&Z.docView.lineHasWidget(U.to)&&Z.inputState.insertingTextAt>Date.now()-50)Q={from:U.from,to:U.to,insert:Z.state.toText(Z.inputState.insertingText)};else if(m8.chrome&&Q&&Q.from==Q.to&&Q.from==U.head&&Q.insert.toString()==`
 `&&Z.lineWrapping){if(K)K=e0.single(K.main.anchor-1,K.main.head-1);Q={from:U.from,to:U.to,insert:tZ.of([" "])}}if(Q)return sv(Z,Q,K,X);else if(K&&!vN(K,U)){let Y=!1,q="select";if(Z.inputState.lastSelectionTime>Date.now()-50){if(Z.inputState.lastSelectionOrigin=="select")Y=!0;if(q=Z.inputState.lastSelectionOrigin,q=="select.pointer")K=BZ0(Z.state.facet(sO).map((W)=>W(Z)),K)}return Z.dispatch({selection:K,scrollIntoView:Y,userEvent:q}),!0}else return!1}function sv(Z,J,Q,K=-1){if(m8.ios&&Z.inputState.flushIOSKey(J))return!0;let U=Z.state.selection.main;if(m8.android&&(J.to==U.to&&(J.from==U.from||J.from==U.from-1&&Z.state.sliceDoc(J.from,U.from)==" ")&&J.insert.length==1&&J.insert.lines==2&&WH(Z.contentDOM,"Enter",13)||(J.from==U.from-1&&J.to==U.to&&J.insert.length==0||K==8&&J.insert.length<J.to-J.from&&J.to>U.head)&&WH(Z.contentDOM,"Backspace",8)||J.from==U.from&&J.to==U.to+1&&J.insert.length==0&&WH(Z.contentDOM,"Delete",46)))return!0;let X=J.insert.toString();if(Z.inputState.composing>=0)Z.inputState.composing++;let Y,q=()=>Y||(Y=Ld0(Z,J,Q));if(!Z.state.facet(n80).some((W)=>W(Z,J.from,J.to,X,q)))Z.dispatch(q());return!0}function Ld0(Z,J,Q){let K,U=Z.state,X=U.selection.main,Y=-1;if(J.from==J.to&&J.from<X.from||J.from>X.to){let W=J.from<X.from?-1:1,G=W<0?X.from:X.to,z=mO(U.facet(sO).map((H)=>H(Z)),G,W);if(J.from==z)Y=z}if(Y>-1)K={changes:J,selection:e0.cursor(J.from+J.insert.length,-1)};else if(J.from>=X.from&&J.to<=X.to&&J.to-J.from>=(X.to-X.from)/3&&(!Q||Q.main.empty&&Q.main.from==J.from+J.insert.length)&&Z.inputState.composing<0){let W=X.from<J.from?U.sliceDoc(X.from,J.from):"",G=X.to>J.to?U.sliceDoc(J.to,X.to):"";K=U.replaceSelection(Z.state.toText(W+J.insert.sliceString(0,void 0,Z.state.lineBreak)+G))}else{let W=U.changes(J),G=Q&&Q.main.to<=W.newLength?Q.main:void 0;if(U.selection.ranges.length>1&&(Z.inputState.composing>=0||Z.inputState.compositionPendingChange)&&J.to<=X.to+10&&J.to>=X.to-10){let z=Z.state.sliceDoc(J.from,J.to),H,F=Q&&FZ0(Z,Q.main.head);if(F){let B=J.insert.length-(J.to-J.from);H={from:F.from,to:F.to-B}}else H=Z.state.doc.lineAt(X.head);let M=X.to-J.to;K=U.changeByRange((B)=>{if(B.from==X.from&&B.to==X.to)return{changes:W,range:G||B.map(W)};let O=B.to-M,R=O-z.length;if(Z.state.sliceDoc(R,O)!=z||O>=H.from&&R<=H.to)return{range:B};let L=U.changes({from:R,to:O,insert:J.insert}),D=B.to-X.to;return{changes:L,range:!G?B.map(L):e0.range(Math.max(0,G.anchor+D),Math.max(0,G.head+D))}})}else K={changes:W,selection:G&&U.selection.replaceRange(G)}}let q="input.type";if(Z.composing||Z.inputState.compositionPendingChange&&Z.inputState.compositionEndedAt>Date.now()-50){if(Z.inputState.compositionPendingChange=!1,q+=".compose",Z.inputState.compositionFirstChange)q+=".start",Z.inputState.compositionFirstChange=!1}return U.update(K,{userEvent:q,scrollIntoView:!0})}function AZ0(Z,J,Q,K){let U=Math.min(Z.length,J.length),X=0;while(X<U&&Z.charCodeAt(X)==J.charCodeAt(X))X++;if(X==U&&Z.length==J.length)return null;let Y=Z.length,q=J.length;while(Y>0&&q>0&&Z.charCodeAt(Y-1)==J.charCodeAt(q-1))Y--,q--;if(K=="end"){let W=Math.max(0,X-Math.min(Y,q));Q-=Y+W-X}if(Y<X&&Z.length<J.length){let W=Q<=X&&Q>=Y?X-Q:0;X-=W,q=X+(q-Y),Y=X}else if(q<X){let W=Q<=X&&Q>=q?X-Q:0;X-=W,Y=X+(Y-q),q=X}return{from:X,toA:Y,toB:q}}function Dd0(Z){let J=[];if(Z.root.activeElement!=Z.contentDOM)return J;let{anchorNode:Q,anchorOffset:K,focusNode:U,focusOffset:X}=Z.observer.selectionRange;if(Q){if(J.push(new Sv(Q,K)),U!=Q||X!=K)J.push(new Sv(U,X))}return J}function Id0(Z,J){if(Z.length==0)return null;let Q=Z[0].pos,K=Z.length==2?Z[1].pos:Q;return Q>-1&&K>-1?e0.single(Q+J,K+J):null}function vN(Z,J){return J.head==Z.main.head&&J.anchor==Z.main.anchor}class NZ0{setSelectionOrigin(Z){this.lastSelectionOrigin=Z,this.lastSelectionTime=Date.now()}constructor(Z){if(this.view=Z,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Z.hasFocus,m8.safari)Z.contentDOM.addEventListener("input",()=>null);if(m8.gecko)fd0(Z.contentDOM.ownerDocument)}handleEvent(Z){if(!jd0(this.view,Z)||this.ignoreDuringComposition(Z))return;if(Z.type=="keydown"&&this.keydown(Z))return;if(this.view.updateState!=0)Promise.resolve().then(()=>this.runHandlers(Z.type,Z));else this.runHandlers(Z.type,Z)}runHandlers(Z,J){let Q=this.handlers[Z];if(Q){for(let K of Q.observers)K(this.view,J);for(let K of Q.handlers){if(J.defaultPrevented)break;if(K(this.view,J)){J.preventDefault();break}}}}ensureHandlers(Z){let J=Ad0(Z),Q=this.handlers,K=this.view.contentDOM;for(let U in J)if(U!="scroll"){let X=!J[U].handlers.length,Y=Q[U];if(Y&&X!=!Y.handlers.length)K.removeEventListener(U,this.handleEvent),Y=null;if(!Y)K.addEventListener(U,this.handleEvent,{passive:X})}for(let U in Q)if(U!="scroll"&&!J[U])K.removeEventListener(U,this.handleEvent);this.handlers=J}keydown(Z){if(this.lastKeyCode=Z.keyCode,this.lastKeyTime=Date.now(),Z.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Z.keyCode!=27&&VZ0.indexOf(Z.keyCode)<0)this.tabFocusMode=-1;if(m8.android&&m8.chrome&&!Z.synthetic&&(Z.keyCode==13||Z.keyCode==8))return this.view.observer.delayAndroidKey(Z.key,Z.keyCode),!0;let J;if(m8.ios&&!Z.synthetic&&!Z.altKey&&!Z.metaKey&&((J=EZ0.find((Q)=>Q.keyCode==Z.keyCode))&&!Z.ctrlKey||Nd0.indexOf(Z.key)>-1&&Z.ctrlKey&&!Z.shiftKey))return this.pendingIOSKey=J||Z,setTimeout(()=>this.flushIOSKey(),250),!0;if(Z.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(Z){let J=this.pendingIOSKey;if(!J)return!1;if(J.key=="Enter"&&Z&&Z.from<Z.to&&/^\S+$/.test(Z.insert.toString()))return!1;return this.pendingIOSKey=void 0,WH(this.view.contentDOM,J.key,J.keyCode,J instanceof KeyboardEvent?J:void 0)}ignoreDuringComposition(Z){if(!/^key/.test(Z.type)||Z.synthetic)return!1;if(this.composing>0)return!0;if(m8.safari&&!m8.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(Z){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=Z}update(Z){if(this.view.observer.update(Z),this.mouseSelection)this.mouseSelection.update(Z);if(this.draggedContent&&Z.docChanged)this.draggedContent=this.draggedContent.map(Z.changes);if(Z.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}function U80(Z,J){return(Q,K)=>{try{return J.call(Z,K,Q)}catch(U){i7(Q.state,U)}}}function Ad0(Z){let J=Object.create(null);function Q(K){return J[K]||(J[K]={observers:[],handlers:[]})}for(let K of Z){let U=K.spec,X=U&&U.plugin.domEventHandlers,Y=U&&U.plugin.domEventObservers;if(X)for(let q in X){let W=X[q];if(W)Q(q).handlers.push(U80(K.value,W))}if(Y)for(let q in Y){let W=Y[q];if(W)Q(q).observers.push(U80(K.value,W))}}for(let K in sK)Q(K).handlers.push(sK[K]);for(let K in r4)Q(K).observers.push(r4[K]);return J}var EZ0=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Nd0="dthko",VZ0=[16,17,18,20,91,92,224,225],FN=6;function MN(Z){return Math.max(0,Z)*0.7+8}function Ed0(Z,J){return Math.max(Math.abs(Z.clientX-J.clientX),Math.abs(Z.clientY-J.clientY))}class PZ0{constructor(Z,J,Q,K){this.view=Z,this.startEvent=J,this.style=Q,this.mustSelect=K,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=J,this.scrollParents=yl0(Z.contentDOM),this.atoms=Z.state.facet(sO).map((X)=>X(Z));let U=Z.contentDOM.ownerDocument;U.addEventListener("mousemove",this.move=this.move.bind(this)),U.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=J.shiftKey,this.multiple=Z.state.facet(vZ.allowMultipleSelections)&&Vd0(Z,J),this.dragging=Cd0(Z,J)&&SZ0(J)==1?null:!1}start(Z){if(this.dragging===!1)this.select(Z)}move(Z){if(Z.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Ed0(this.startEvent,Z)<10)return;this.select(this.lastEvent=Z);let J=0,Q=0,K=0,U=0,X=this.view.win.innerWidth,Y=this.view.win.innerHeight;if(this.scrollParents.x)({left:K,right:X}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:U,bottom:Y}=this.scrollParents.y.getBoundingClientRect());let q=iv(this.view);if(Z.clientX-q.left<=K+FN)J=-MN(K-Z.clientX);else if(Z.clientX+q.right>=X-FN)J=MN(Z.clientX-X);if(Z.clientY-q.top<=U+FN)Q=-MN(U-Z.clientY);else if(Z.clientY+q.bottom>=Y-FN)Q=MN(Z.clientY-Y);this.setScrollSpeed(J,Q)}up(Z){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)Z.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let Z=this.view.contentDOM.ownerDocument;Z.removeEventListener("mousemove",this.move),Z.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Z,J){if(this.scrollSpeed={x:Z,y:J},Z||J){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:Z,y:J}=this.scrollSpeed;if(Z&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=Z,Z=0;if(J&&this.scrollParents.y)this.scrollParents.y.scrollTop+=J,J=0;if(Z||J)this.view.win.scrollBy(Z,J);if(this.dragging===!1)this.select(this.lastEvent)}select(Z){let{view:J}=this,Q=BZ0(this.atoms,this.style.get(Z,this.extend,this.multiple));if(this.mustSelect||!Q.eq(J.state.selection,this.dragging===!1))this.view.dispatch({selection:Q,userEvent:"select.pointer"});this.mustSelect=!1}update(Z){if(Z.transactions.some((J)=>J.isUserEvent("input.type")))this.destroy();else if(this.style.update(Z))setTimeout(()=>this.select(this.lastEvent),20)}}function Vd0(Z,J){let Q=Z.state.facet(d80);return Q.length?Q[0](J):m8.mac?J.metaKey:J.ctrlKey}function Pd0(Z,J){let Q=Z.state.facet(i80);return Q.length?Q[0](J):m8.mac?!J.altKey:!J.ctrlKey}function Cd0(Z,J){let{main:Q}=Z.state.selection;if(Q.empty)return!1;let K=zH(Z.root);if(!K||K.rangeCount==0)return!0;let U=K.getRangeAt(0).getClientRects();for(let X=0;X<U.length;X++){let Y=U[X];if(Y.left<=J.clientX&&Y.right>=J.clientX&&Y.top<=J.clientY&&Y.bottom>=J.clientY)return!0}return!1}function jd0(Z,J){if(!J.bubbles)return!0;if(J.defaultPrevented)return!1;for(let Q=J.target,K;Q!=Z.contentDOM;Q=Q.parentNode)if(!Q||Q.nodeType==11||(K=iJ.get(Q))&&K.isWidget()&&!K.isHidden&&K.widget.ignoreEvent(J))return!1;return!0}var sK=Object.create(null),r4=Object.create(null),CZ0=m8.ie&&m8.ie_version<15||m8.ios&&m8.webkit_version<604;function Sd0(Z){let J=Z.dom.parentNode;if(!J)return;let Q=J.appendChild(document.createElement("textarea"));Q.style.cssText="position: fixed; left: -10000px; top: 10px",Q.focus(),setTimeout(()=>{Z.focus(),Q.remove(),jZ0(Z,Q.value)},50)}function uN(Z,J,Q){for(let K of Z.facet(J))Q=K(Q,Z);return Q}function jZ0(Z,J){J=uN(Z.state,pv,J);let{state:Q}=Z,K,U=1,X=Q.toText(J),Y=X.lines==Q.selection.ranges.length;if(Tv!=null&&Q.selection.ranges.every((W)=>W.empty)&&Tv==X.toString()){let W=-1;K=Q.changeByRange((G)=>{let z=Q.doc.lineAt(G.from);if(z.from==W)return{range:G};W=z.from;let H=Q.toText((Y?X.line(U++).text:J)+Q.lineBreak);return{changes:{from:z.from,insert:H},range:e0.cursor(G.from+H.length)}})}else if(Y)K=Q.changeByRange((W)=>{let G=X.line(U++);return{changes:{from:W.from,to:W.to,insert:G.text},range:e0.cursor(W.from+G.length)}});else K=Q.replaceSelection(X);Z.dispatch(K,{userEvent:"input.paste",scrollIntoView:!0})}r4.scroll=(Z)=>{Z.inputState.lastScrollTop=Z.scrollDOM.scrollTop,Z.inputState.lastScrollLeft=Z.scrollDOM.scrollLeft};sK.keydown=(Z,J)=>{if(Z.inputState.setSelectionOrigin("select"),J.keyCode==27&&Z.inputState.tabFocusMode!=0)Z.inputState.tabFocusMode=Date.now()+2000;return!1};r4.touchstart=(Z,J)=>{Z.inputState.lastTouchTime=Date.now(),Z.inputState.setSelectionOrigin("select.pointer")};r4.touchmove=(Z)=>{Z.inputState.setSelectionOrigin("select.pointer")};sK.mousedown=(Z,J)=>{if(Z.observer.flush(),Z.inputState.lastTouchTime>Date.now()-2000)return!1;let Q=null;for(let K of Z.state.facet(s80))if(Q=K(Z,J),Q)break;if(!Q&&J.button==0)Q=wd0(Z,J);if(Q){let K=!Z.hasFocus;if(Z.inputState.startMouseSelection(new PZ0(Z,J,Q,K)),K)Z.observer.ignore(()=>{b80(Z.contentDOM);let X=Z.root.activeElement;if(X&&!X.contains(Z.contentDOM))X.blur()});let U=Z.inputState.mouseSelection;if(U)return U.start(J),U.dragging===!1}else Z.inputState.setSelectionOrigin("select.pointer");return!1};function X80(Z,J,Q,K){if(K==1)return e0.cursor(J,Q);else if(K==2)return zd0(Z.state,J,Q);else{let U=Z.docView.lineAt(J,Q),X=Z.state.doc.lineAt(U?U.posAtEnd:J),Y=U?U.posAtStart:X.from,q=U?U.posAtEnd:X.to;if(q<Z.state.doc.length&&q==X.to)q++;return e0.range(Y,q)}}var Td0=m8.ie&&m8.ie_version<=11,Y80=null,q80=0,W80=0;function SZ0(Z){if(!Td0)return Z.detail;let J=Y80,Q=W80;return Y80=Z,W80=Date.now(),q80=!J||Q>Date.now()-400&&Math.abs(J.clientX-Z.clientX)<2&&Math.abs(J.clientY-Z.clientY)<2?(q80+1)%3:1}function wd0(Z,J){let Q=Z.posAndSideAtCoords({x:J.clientX,y:J.clientY},!1),K=SZ0(J),U=Z.state.selection;return{update(X){if(X.docChanged)Q.pos=X.changes.mapPos(Q.pos),U=U.map(X.changes)},get(X,Y,q){let W=Z.posAndSideAtCoords({x:X.clientX,y:X.clientY},!1),G,z=X80(Z,W.pos,W.assoc,K);if(Q.pos!=W.pos&&!Y){let H=X80(Z,Q.pos,Q.assoc,K),F=Math.min(H.from,z.from),M=Math.max(H.to,z.to);z=F<z.from?e0.range(F,M):e0.range(M,F)}if(Y)return U.replaceRange(U.main.extend(z.from,z.to));else if(q&&K==1&&U.ranges.length>1&&(G=$d0(U,W.pos)))return G;else if(q)return U.addRange(z);else return e0.create([z])}}}function $d0(Z,J){for(let Q=0;Q<Z.ranges.length;Q++){let{from:K,to:U}=Z.ranges[Q];if(K<=J&&U>=J)return e0.create(Z.ranges.slice(0,Q).concat(Z.ranges.slice(Q+1)),Z.mainIndex==Q?0:Z.mainIndex-(Z.mainIndex>Q?1:0))}return null}sK.dragstart=(Z,J)=>{let{selection:{main:Q}}=Z.state;if(J.target.draggable){let U=Z.docView.tile.nearest(J.target);if(U&&U.isWidget()){let X=U.posAtStart,Y=X+U.length;if(X>=Q.to||Y<=Q.from)Q=e0.range(X,Y)}}let{inputState:K}=Z;if(K.mouseSelection)K.mouseSelection.dragging=!0;if(K.draggedContent=Q,J.dataTransfer)J.dataTransfer.setData("Text",uN(Z.state,cv,Z.state.sliceDoc(Q.from,Q.to))),J.dataTransfer.effectAllowed="copyMove";return!1};sK.dragend=(Z)=>{return Z.inputState.draggedContent=null,!1};function G80(Z,J,Q,K){if(Q=uN(Z.state,pv,Q),!Q)return;let U=Z.posAtCoords({x:J.clientX,y:J.clientY},!1),{draggedContent:X}=Z.inputState,Y=K&&X&&Pd0(Z,J)?{from:X.from,to:X.to}:null,q={from:U,insert:Q},W=Z.state.changes(Y?[Y,q]:q);Z.focus(),Z.dispatch({changes:W,selection:{anchor:W.mapPos(U,-1),head:W.mapPos(U,1)},userEvent:Y?"move.drop":"input.drop"}),Z.inputState.draggedContent=null}sK.drop=(Z,J)=>{if(!J.dataTransfer)return!1;if(Z.state.readOnly)return!0;let Q=J.dataTransfer.files;if(Q&&Q.length){let K=Array(Q.length),U=0,X=()=>{if(++U==Q.length)G80(Z,J,K.filter((Y)=>Y!=null).join(Z.state.lineBreak),!1)};for(let Y=0;Y<Q.length;Y++){let q=new FileReader;q.onerror=X,q.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test(q.result))K[Y]=q.result;X()},q.readAsText(Q[Y])}return!0}else{let K=J.dataTransfer.getData("Text");if(K)return G80(Z,J,K,!0),!0}return!1};sK.paste=(Z,J)=>{if(Z.state.readOnly)return!0;Z.observer.flush();let Q=CZ0?null:J.clipboardData;if(Q)return jZ0(Z,Q.getData("text/plain")||Q.getData("text/uri-list")),!0;else return Sd0(Z),!1};function kd0(Z,J){let Q=Z.dom.parentNode;if(!Q)return;let K=Q.appendChild(document.createElement("textarea"));K.style.cssText="position: fixed; left: -10000px; top: 10px",K.value=J,K.focus(),K.selectionEnd=J.length,K.selectionStart=0,setTimeout(()=>{K.remove(),Z.focus()},50)}function _d0(Z){let J=[],Q=[],K=!1;for(let U of Z.selection.ranges)if(!U.empty)J.push(Z.sliceDoc(U.from,U.to)),Q.push(U);if(!J.length){let U=-1;for(let{from:X}of Z.selection.ranges){let Y=Z.doc.lineAt(X);if(Y.number>U)J.push(Y.text),Q.push({from:Y.from,to:Math.min(Z.doc.length,Y.to+1)});U=Y.number}K=!0}return{text:uN(Z,cv,J.join(Z.lineBreak)),ranges:Q,linewise:K}}var Tv=null;sK.copy=sK.cut=(Z,J)=>{let Q=zH(Z.root);if(Q&&!yO(Z.contentDOM,Q))return!1;let{text:K,ranges:U,linewise:X}=_d0(Z.state);if(!K&&!X)return!1;if(Tv=X?K:null,J.type=="cut"&&!Z.state.readOnly)Z.dispatch({changes:U,scrollIntoView:!0,userEvent:"delete.cut"});let Y=CZ0?null:J.clipboardData;if(Y)return Y.clearData(),Y.setData("text/plain",K),!0;else return kd0(Z,K),!1};var TZ0=B4.define();function wZ0(Z,J){let Q=[];for(let K of Z.facet(a80)){let U=K(Z,J);if(U)Q.push(U)}return Q.length?Z.update({effects:Q,annotations:TZ0.of(!0)}):null}function $Z0(Z){setTimeout(()=>{let J=Z.hasFocus;if(J!=Z.inputState.notifiedFocused){let Q=wZ0(Z.state,J);if(Q)Z.dispatch(Q);else Z.update([])}},10)}r4.focus=(Z)=>{if(Z.inputState.lastFocusTime=Date.now(),!Z.scrollDOM.scrollTop&&(Z.inputState.lastScrollTop||Z.inputState.lastScrollLeft))Z.scrollDOM.scrollTop=Z.inputState.lastScrollTop,Z.scrollDOM.scrollLeft=Z.inputState.lastScrollLeft;$Z0(Z)};r4.blur=(Z)=>{Z.observer.clearSelectionRange(),$Z0(Z)};r4.compositionstart=r4.compositionupdate=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.compositionFirstChange==null)Z.inputState.compositionFirstChange=!0;if(Z.inputState.composing<0)Z.inputState.composing=0};r4.compositionend=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.composing=-1,Z.inputState.compositionEndedAt=Date.now(),Z.inputState.compositionPendingKey=!0,Z.inputState.compositionPendingChange=Z.observer.pendingRecords().length>0,Z.inputState.compositionFirstChange=null,m8.chrome&&m8.android)Z.observer.flushSoon();else if(Z.inputState.compositionPendingChange)Promise.resolve().then(()=>Z.observer.flush());else setTimeout(()=>{if(Z.inputState.composing<0&&Z.docView.hasComposition)Z.update([])},50)};r4.contextmenu=(Z)=>{Z.inputState.lastContextMenu=Date.now()};sK.beforeinput=(Z,J)=>{var Q,K;if(J.inputType=="insertText"||J.inputType=="insertCompositionText")Z.inputState.insertingText=J.data,Z.inputState.insertingTextAt=Date.now();if(J.inputType=="insertReplacementText"&&Z.observer.editContext){let X=(Q=J.dataTransfer)===null||Q===void 0?void 0:Q.getData("text/plain"),Y=J.getTargetRanges();if(X&&Y.length){let q=Y[0],W=Z.posAtDOM(q.startContainer,q.startOffset),G=Z.posAtDOM(q.endContainer,q.endOffset);return sv(Z,{from:W,to:G,insert:Z.state.toText(X)},null),!0}}let U;if(m8.chrome&&m8.android&&(U=EZ0.find((X)=>X.inputType==J.inputType))){if(Z.observer.delayAndroidKey(U.key,U.keyCode),U.key=="Backspace"||U.key=="Delete"){let X=((K=window.visualViewport)===null||K===void 0?void 0:K.height)||0;setTimeout(()=>{var Y;if((((Y=window.visualViewport)===null||Y===void 0?void 0:Y.height)||0)>X+10&&Z.hasFocus)Z.contentDOM.blur(),Z.focus()},100)}}if(m8.ios&&J.inputType=="deleteContentForward")Z.observer.flushSoon();if(m8.safari&&J.inputType=="insertText"&&Z.inputState.composing>=0)setTimeout(()=>r4.compositionend(Z,J),20);return!1};var z80=new Set;function fd0(Z){if(!z80.has(Z))z80.add(Z),Z.addEventListener("copy",()=>{}),Z.addEventListener("cut",()=>{})}var H80=["pre-wrap","normal","pre-line","break-spaces"],FH=!1;function F80(){FH=!1}class kZ0{constructor(Z){this.lineWrapping=Z,this.doc=tZ.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(Z,J){let Q=this.doc.lineAt(J).number-this.doc.lineAt(Z).number+1;if(this.lineWrapping)Q+=Math.max(0,Math.ceil((J-Z-Q*this.lineLength*0.5)/this.lineLength));return this.lineHeight*Q}heightForLine(Z){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((Z-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(Z){return this.doc=Z,this}mustRefreshForWrapping(Z){return H80.indexOf(Z)>-1!=this.lineWrapping}mustRefreshForHeights(Z){let J=!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q];if(K<0)Q++;else if(!this.heightSamples[Math.floor(K*10)])J=!0,this.heightSamples[Math.floor(K*10)]=!0}return J}refresh(Z,J,Q,K,U,X){let Y=H80.indexOf(Z)>-1,q=Math.abs(J-this.lineHeight)>0.3||this.lineWrapping!=Y||Math.abs(Q-this.charWidth)>0.1;if(this.lineWrapping=Y,this.lineHeight=J,this.charWidth=Q,this.textHeight=K,this.lineLength=U,q){this.heightSamples={};for(let W=0;W<X.length;W++){let G=X[W];if(G<0)W++;else this.heightSamples[Math.floor(G*10)]=!0}}return q}}class _Z0{constructor(Z,J){this.from=Z,this.heights=J,this.index=0}get more(){return this.index<this.heights.length}}class dK{constructor(Z,J,Q,K,U){this.from=Z,this.length=J,this.top=Q,this.height=K,this._content=U}get type(){return typeof this._content=="number"?s7.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof dW?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Z){let J=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Z._content)?Z._content:[Z]);return new dK(this.from,this.length+Z.length,this.top,this.height+Z.height,J)}}var s9=function(Z){return Z[Z.ByPos=0]="ByPos",Z[Z.ByHeight=1]="ByHeight",Z[Z.ByPosNoHeight=2]="ByPosNoHeight",Z}(s9||(s9={})),VN=0.001;class cQ{constructor(Z,J,Q=2){this.length=Z,this.height=J,this.flags=Q}get outdated(){return(this.flags&2)>0}set outdated(Z){this.flags=(Z?2:0)|this.flags&-3}setHeight(Z){if(this.height!=Z){if(Math.abs(this.height-Z)>VN)FH=!0;this.height=Z}}replace(Z,J,Q){return cQ.of(Q)}decomposeLeft(Z,J){J.push(this)}decomposeRight(Z,J){J.push(this)}applyChanges(Z,J,Q,K){let U=this,X=Q.doc;for(let Y=K.length-1;Y>=0;Y--){let{fromA:q,toA:W,fromB:G,toB:z}=K[Y],H=U.lineAt(q,s9.ByPosNoHeight,Q.setDoc(J),0,0),F=H.to>=W?H:U.lineAt(W,s9.ByPosNoHeight,Q,0,0);z+=F.to-W,W=F.to;while(Y>0&&H.from<=K[Y-1].toA)if(q=K[Y-1].fromA,G=K[Y-1].fromB,Y--,q<H.from)H=U.lineAt(q,s9.ByPosNoHeight,Q,0,0);G+=H.from-q,q=H.from;let M=nv.build(Q.setDoc(X),Z,G,z);U=xN(U,U.replace(q,W,M))}return U.updateHeight(Q,0)}static empty(){return new O4(0,0,0)}static of(Z){if(Z.length==1)return Z[0];let J=0,Q=Z.length,K=0,U=0;for(;;)if(J==Q)if(K>U*2){let Y=Z[J-1];if(Y.break)Z.splice(--J,1,Y.left,null,Y.right);else Z.splice(--J,1,Y.left,Y.right);Q+=1+Y.break,K-=Y.size}else if(U>K*2){let Y=Z[Q];if(Y.break)Z.splice(Q,1,Y.left,null,Y.right);else Z.splice(Q,1,Y.left,Y.right);Q+=2+Y.break,U-=Y.size}else break;else if(K<U){let Y=Z[J++];if(Y)K+=Y.size}else{let Y=Z[--Q];if(Y)U+=Y.size}let X=0;if(Z[J-1]==null)X=1,J--;else if(Z[J]==null)X=1,Q++;return new fZ0(cQ.of(Z.slice(0,J)),X,cQ.of(Z.slice(Q)))}}function xN(Z,J){if(Z==J)return Z;if(Z.constructor!=J.constructor)FH=!0;return J}cQ.prototype.size=1;var vd0=e8.replace({});class rv extends cQ{constructor(Z,J,Q){super(Z,J);this.deco=Q,this.spaceAbove=0}mainBlock(Z,J){return new dK(J,this.length,Z+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(Z,J,Q,K){return this.spaceAbove&&Z<Q+this.spaceAbove?new dK(K,0,Q,this.spaceAbove,vd0):this.mainBlock(Q,K)}lineAt(Z,J,Q,K,U){let X=this.mainBlock(K,U);return this.spaceAbove?this.blockAt(0,Q,K,U).join(X):X}forEachLine(Z,J,Q,K,U,X){if(Z<=U+this.length&&J>=U)X(this.lineAt(0,s9.ByPos,Q,K,U))}setMeasuredHeight(Z){let J=Z.heights[Z.index++];if(J<0)this.spaceAbove=-J,J=Z.heights[Z.index++];else this.spaceAbove=0;this.setHeight(J)}updateHeight(Z,J=0,Q=!1,K){if(K&&K.from<=J&&K.more)this.setMeasuredHeight(K);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class O4 extends rv{constructor(Z,J,Q){super(Z,J,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=Q}mainBlock(Z,J){return new dK(J,this.length,Z+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(Z,J,Q){let K=Q[0];if(Q.length==1&&(K instanceof O4||K instanceof d7&&K.flags&4)&&Math.abs(this.length-K.length)<10){if(K instanceof d7)K=new O4(K.length,this.height,this.spaceAbove);else K.height=this.height;if(!this.outdated)K.outdated=!1;return K}else return cQ.of(Q)}updateHeight(Z,J=0,Q=!1,K){if(K&&K.from<=J&&K.more)this.setMeasuredHeight(K);else if(Q||this.outdated)this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,Z.heightForLine(this.length-this.collapsed))+this.breaks*Z.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class d7 extends cQ{constructor(Z){super(Z,0)}heightMetrics(Z,J){let Q=Z.doc.lineAt(J).number,K=Z.doc.lineAt(J+this.length).number,U=K-Q+1,X,Y=0;if(Z.lineWrapping){let q=Math.min(this.height,Z.lineHeight*U);if(X=q/U,this.length>U+1)Y=(this.height-q)/(this.length-U-1)}else X=this.height/U;return{firstLine:Q,lastLine:K,perLine:X,perChar:Y}}blockAt(Z,J,Q,K){let{firstLine:U,lastLine:X,perLine:Y,perChar:q}=this.heightMetrics(J,K);if(J.lineWrapping){let W=K+(Z<J.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Z-Q)/this.height))*this.length)),G=J.doc.lineAt(W),z=Y+G.length*q,H=Math.max(Q,Z-z/2);return new dK(G.from,G.length,H,z,0)}else{let W=Math.max(0,Math.min(X-U,Math.floor((Z-Q)/Y))),{from:G,length:z}=J.doc.line(U+W);return new dK(G,z,Q+Y*W,Y,0)}}lineAt(Z,J,Q,K,U){if(J==s9.ByHeight)return this.blockAt(Z,Q,K,U);if(J==s9.ByPosNoHeight){let{from:F,to:M}=Q.doc.lineAt(Z);return new dK(F,M-F,0,0,0)}let{firstLine:X,perLine:Y,perChar:q}=this.heightMetrics(Q,U),W=Q.doc.lineAt(Z),G=Y+W.length*q,z=W.number-X,H=K+Y*z+q*(W.from-U-z);return new dK(W.from,W.length,Math.max(K,Math.min(H,K+this.height-G)),G,0)}forEachLine(Z,J,Q,K,U,X){Z=Math.max(Z,U),J=Math.min(J,U+this.length);let{firstLine:Y,perLine:q,perChar:W}=this.heightMetrics(Q,U);for(let G=Z,z=K;G<=J;){let H=Q.doc.lineAt(G);if(G==Z){let M=H.number-Y;z+=q*M+W*(Z-U-M)}let F=q+W*H.length;X(new dK(H.from,H.length,z,F,0)),z+=F,G=H.to+1}}replace(Z,J,Q){let K=this.length-J;if(K>0){let U=Q[Q.length-1];if(U instanceof d7)Q[Q.length-1]=new d7(U.length+K);else Q.push(null,new d7(K-1))}if(Z>0){let U=Q[0];if(U instanceof d7)Q[0]=new d7(Z+U.length);else Q.unshift(new d7(Z-1),null)}return cQ.of(Q)}decomposeLeft(Z,J){J.push(new d7(Z-1),null)}decomposeRight(Z,J){J.push(null,new d7(this.length-Z-1))}updateHeight(Z,J=0,Q=!1,K){let U=J+this.length;if(K&&K.from<=J+this.length&&K.more){let X=[],Y=Math.max(J,K.from),q=-1;if(K.from>J)X.push(new d7(K.from-J-1).updateHeight(Z,J));while(Y<=U&&K.more){let G=Z.doc.lineAt(Y).length;if(X.length)X.push(null);let z=K.heights[K.index++],H=0;if(z<0)H=-z,z=K.heights[K.index++];if(q==-1)q=z;else if(Math.abs(z-q)>=VN)q=-2;let F=new O4(G,z,H);F.outdated=!1,X.push(F),Y+=G+1}if(Y<=U)X.push(null,new d7(U-Y).updateHeight(Z,Y));let W=cQ.of(X);if(q<0||Math.abs(W.height-this.height)>=VN||Math.abs(q-this.heightMetrics(Z,J).perLine)>=VN)FH=!0;return xN(this,W)}else if(Q||this.outdated)this.setHeight(Z.heightForGap(J,J+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class fZ0 extends cQ{constructor(Z,J,Q){super(Z.length+J+Q.length,Z.height+Q.height,J|(Z.outdated||Q.outdated?2:0));this.left=Z,this.right=Q,this.size=Z.size+Q.size}get break(){return this.flags&1}blockAt(Z,J,Q,K){let U=Q+this.left.height;return Z<U?this.left.blockAt(Z,J,Q,K):this.right.blockAt(Z,J,U,K+this.left.length+this.break)}lineAt(Z,J,Q,K,U){let X=K+this.left.height,Y=U+this.left.length+this.break,q=J==s9.ByHeight?Z<X:Z<Y,W=q?this.left.lineAt(Z,J,Q,K,U):this.right.lineAt(Z,J,Q,X,Y);if(this.break||(q?W.to<Y:W.from>Y))return W;let G=J==s9.ByPosNoHeight?s9.ByPosNoHeight:s9.ByPos;if(q)return W.join(this.right.lineAt(Y,G,Q,X,Y));else return this.left.lineAt(Y,G,Q,K,U).join(W)}forEachLine(Z,J,Q,K,U,X){let Y=K+this.left.height,q=U+this.left.length+this.break;if(this.break){if(Z<q)this.left.forEachLine(Z,J,Q,K,U,X);if(J>=q)this.right.forEachLine(Z,J,Q,Y,q,X)}else{let W=this.lineAt(q,s9.ByPos,Q,K,U);if(Z<W.from)this.left.forEachLine(Z,W.from-1,Q,K,U,X);if(W.to>=Z&&W.from<=J)X(W);if(J>W.to)this.right.forEachLine(W.to+1,J,Q,Y,q,X)}}replace(Z,J,Q){let K=this.left.length+this.break;if(J<K)return this.balanced(this.left.replace(Z,J,Q),this.right);if(Z>this.left.length)return this.balanced(this.left,this.right.replace(Z-K,J-K,Q));let U=[];if(Z>0)this.decomposeLeft(Z,U);let X=U.length;for(let Y of Q)U.push(Y);if(Z>0)M80(U,X-1);if(J<this.length){let Y=U.length;this.decomposeRight(J,U),M80(U,Y)}return cQ.of(U)}decomposeLeft(Z,J){let Q=this.left.length;if(Z<=Q)return this.left.decomposeLeft(Z,J);if(J.push(this.left),this.break){if(Q++,Z>=Q)J.push(null)}if(Z>Q)this.right.decomposeLeft(Z-Q,J)}decomposeRight(Z,J){let Q=this.left.length,K=Q+this.break;if(Z>=K)return this.right.decomposeRight(Z-K,J);if(Z<Q)this.left.decomposeRight(Z,J);if(this.break&&Z<K)J.push(null);J.push(this.right)}balanced(Z,J){if(Z.size>2*J.size||J.size>2*Z.size)return cQ.of(this.break?[Z,null,J]:[Z,J]);return this.left=xN(this.left,Z),this.right=xN(this.right,J),this.setHeight(Z.height+J.height),this.outdated=Z.outdated||J.outdated,this.size=Z.size+J.size,this.length=Z.length+this.break+J.length,this}updateHeight(Z,J=0,Q=!1,K){let{left:U,right:X}=this,Y=J+U.length+this.break,q=null;if(K&&K.from<=J+U.length&&K.more)q=U=U.updateHeight(Z,J,Q,K);else U.updateHeight(Z,J,Q);if(K&&K.from<=Y+X.length&&K.more)q=X=X.updateHeight(Z,Y,Q,K);else X.updateHeight(Z,Y,Q);if(q)return this.balanced(U,X);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}function M80(Z,J){let Q,K;if(Z[J]==null&&(Q=Z[J-1])instanceof d7&&(K=Z[J+1])instanceof d7)Z.splice(J-1,3,new d7(Q.length+1+K.length))}var xd0=5;class nv{constructor(Z,J){this.pos=Z,this.oracle=J,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Z}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Z,J){if(this.lineStart>-1){let Q=Math.min(J,this.lineEnd),K=this.nodes[this.nodes.length-1];if(K instanceof O4)K.length+=Q-this.pos;else if(Q>this.pos||!this.isCovered)this.nodes.push(new O4(Q-this.pos,-1,0));if(this.writtenTo=Q,J>Q)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=J}point(Z,J,Q){if(Z<J||Q.heightRelevant){let K=Q.widget?Q.widget.estimatedHeight:0,U=Q.widget?Q.widget.lineBreaks:0;if(K<0)K=this.oracle.lineHeight;let X=J-Z;if(Q.block)this.addBlock(new rv(X,K,Q));else if(X||U||K>=xd0)this.addLineDeco(K,U,X)}else if(J>Z)this.span(Z,J);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:Z,to:J}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=Z,this.lineEnd=J,this.writtenTo<Z){if(this.writtenTo<Z-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,Z-1));this.nodes.push(null)}if(this.pos>Z)this.nodes.push(new O4(this.pos-Z,-1,0));this.writtenTo=this.pos}blankContent(Z,J){let Q=new d7(J-Z);if(this.oracle.doc.lineAt(Z).to==J)Q.flags|=4;return Q}ensureLine(){this.enterLine();let Z=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Z instanceof O4)return Z;let J=new O4(0,-1,0);return this.nodes.push(J),J}addBlock(Z){this.enterLine();let J=Z.deco;if(J&&J.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(Z),this.writtenTo=this.pos=this.pos+Z.length,J&&J.endSide>0)this.covering=Z}addLineDeco(Z,J,Q){let K=this.ensureLine();K.length+=Q,K.collapsed+=Q,K.widgetHeight=Math.max(K.widgetHeight,Z),K.breaks+=J,this.writtenTo=this.pos=this.pos+Q}finish(Z){let J=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(J instanceof O4)&&!this.isCovered)this.nodes.push(new O4(0,-1,0));else if(this.writtenTo<this.pos||J==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let Q=Z;for(let K of this.nodes){if(K instanceof O4)K.updateHeight(this.oracle,Q);Q+=K?K.length:1}return this.nodes}static build(Z,J,Q,K){let U=new nv(Q,Z);return kZ.spans(J,Q,K,U,0),U.finish(Q)}}function bd0(Z,J,Q){let K=new vZ0;return kZ.compare(Z,J,Q,K,0),K.changes}class vZ0{constructor(){this.changes=[]}compareRange(){}comparePoint(Z,J,Q,K){if(Z<J||Q&&Q.heightRelevant||K&&K.heightRelevant)qH(Z,J,this.changes,5)}}function yd0(Z,J){let Q=Z.getBoundingClientRect(),K=Z.ownerDocument,U=K.defaultView||window,X=Math.max(0,Q.left),Y=Math.min(U.innerWidth,Q.right),q=Math.max(0,Q.top),W=Math.min(U.innerHeight,Q.bottom);for(let G=Z.parentNode;G&&G!=K.body;)if(G.nodeType==1){let z=G,H=window.getComputedStyle(z);if((z.scrollHeight>z.clientHeight||z.scrollWidth>z.clientWidth)&&H.overflow!="visible"){let F=z.getBoundingClientRect();X=Math.max(X,F.left),Y=Math.min(Y,F.right),q=Math.max(q,F.top),W=Math.min(G==Z.parentNode?U.innerHeight:W,F.bottom)}G=H.position=="absolute"||H.position=="fixed"?z.offsetParent:z.parentNode}else if(G.nodeType==11)G=G.host;else break;return{left:X-Q.left,right:Math.max(X,Y)-Q.left,top:q-(Q.top+J),bottom:Math.max(q,W)-(Q.top+J)}}function hd0(Z){let J=Z.getBoundingClientRect(),Q=Z.ownerDocument.defaultView||window;return J.left<Q.innerWidth&&J.right>0&&J.top<Q.innerHeight&&J.bottom>0}function md0(Z,J){let Q=Z.getBoundingClientRect();return{left:0,right:Q.right-Q.left,top:J,bottom:Q.bottom-(Q.top+J)}}class PN{constructor(Z,J,Q,K){this.from=Z,this.to=J,this.size=Q,this.displaySize=K}static same(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++){let K=Z[Q],U=J[Q];if(K.from!=U.from||K.to!=U.to||K.size!=U.size)return!1}return!0}draw(Z,J){return e8.replace({widget:new xZ0(this.displaySize*(J?Z.scaleY:Z.scaleX),J)}).range(this.from,this.to)}}class xZ0 extends j6{constructor(Z,J){super();this.size=Z,this.vertical=J}eq(Z){return Z.size==this.size&&Z.vertical==this.vertical}toDOM(){let Z=document.createElement("div");if(this.vertical)Z.style.height=this.size+"px";else Z.style.width=this.size+"px",Z.style.height="2px",Z.style.display="inline-block";return Z}get estimatedHeight(){return this.vertical?this.size:-1}}class wv{constructor(Z){this.state=Z,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=B80,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=V9.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let J=Z.facet(lv).some((Q)=>typeof Q!="function"&&Q.class=="cm-lineWrapping");this.heightOracle=new kZ0(J),this.stateDeco=O80(Z),this.heightMap=cQ.empty().applyChanges(this.stateDeco,tZ.empty,this.heightOracle.setDoc(Z.doc),[new s4(0,0,0,Z.doc.length)]);for(let Q=0;Q<2;Q++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=e8.set(this.lineGaps.map((Q)=>Q.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Z=[this.viewport],{main:J}=this.state.selection;for(let Q=0;Q<=1;Q++){let K=Q?J.head:J.anchor;if(!Z.some(({from:U,to:X})=>K>=U&&K<=X)){let{from:U,to:X}=this.lineBlockAt(K);Z.push(new fO(U,X))}}return this.viewports=Z.sort((Q,K)=>Q.from-K.from),this.updateScaler()}updateScaler(){let Z=this.scaler;return this.scaler=this.heightMap.height<=7000000?B80:new av(this.heightOracle,this.heightMap,this.viewports),Z.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(Z)=>{this.viewportLines.push(vO(Z,this.scaler))})}update(Z,J=null){this.state=Z.state;let Q=this.stateDeco;this.stateDeco=O80(this.state);let K=Z.changedRanges,U=s4.extendWithRanges(K,bd0(Q,this.stateDeco,Z?Z.changes:dJ.empty(this.state.doc.length))),X=this.heightMap.height,Y=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(F80(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,Z.startState.doc,this.heightOracle.setDoc(this.state.doc),U),this.heightMap.height!=X||FH)Z.flags|=2;if(Y)this.scrollAnchorPos=Z.changes.mapPos(Y.from,-1),this.scrollAnchorHeight=Y.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=X;let q=U.length?this.mapViewport(this.viewport,Z.changes):this.viewport;if(J&&(J.range.head<q.from||J.range.head>q.to)||!this.viewportIsAppropriate(q))q=this.getViewport(0,J);let W=q.from!=this.viewport.from||q.to!=this.viewport.to;if(this.viewport=q,Z.flags|=this.updateForViewport(),W||!Z.changes.empty||Z.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Z.changes)));if(Z.flags|=this.computeVisibleRanges(Z.changes),J)this.scrollTarget=J;if(!this.mustEnforceCursorAssoc&&(Z.selectionSet||Z.focusChanged)&&Z.view.lineWrapping&&Z.state.selection.main.empty&&Z.state.selection.main.assoc&&!Z.state.facet(t80))this.mustEnforceCursorAssoc=!0}measure(Z){let J=Z.contentDOM,Q=window.getComputedStyle(J),K=this.heightOracle,U=Q.whiteSpace;this.defaultTextDirection=Q.direction=="rtl"?V9.RTL:V9.LTR;let X=this.heightOracle.mustRefreshForWrapping(U)||this.mustMeasureContent,Y=J.getBoundingClientRect(),q=X||this.mustMeasureContent||this.contentDOMHeight!=Y.height;this.contentDOMHeight=Y.height,this.mustMeasureContent=!1;let W=0,G=0;if(Y.width&&Y.height){let{scaleX:A,scaleY:V}=v80(J,Y);if(A>0.005&&Math.abs(this.scaleX-A)>0.005||V>0.005&&Math.abs(this.scaleY-V)>0.005)this.scaleX=A,this.scaleY=V,W|=16,X=q=!0}let z=(parseInt(Q.paddingTop)||0)*this.scaleY,H=(parseInt(Q.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=z||this.paddingBottom!=H)this.paddingTop=z,this.paddingBottom=H,W|=18;if(this.editorWidth!=Z.scrollDOM.clientWidth){if(K.lineWrapping)q=!0;this.editorWidth=Z.scrollDOM.clientWidth,W|=16}let F=Z.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=F)this.scrollAnchorHeight=-1,this.scrollTop=F;this.scrolledToBottom=y80(Z.scrollDOM);let M=(this.printing?md0:yd0)(J,this.paddingTop),B=M.top-this.pixelViewport.top,O=M.bottom-this.pixelViewport.bottom;this.pixelViewport=M;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView){if(this.inView=R,R)q=!0}if(!this.inView&&!this.scrollTarget&&!hd0(Z.dom))return 0;let L=Y.width;if(this.contentDOMWidth!=L||this.editorHeight!=Z.scrollDOM.clientHeight)this.contentDOMWidth=Y.width,this.editorHeight=Z.scrollDOM.clientHeight,W|=16;if(q){let A=Z.docView.measureVisibleLineHeights(this.viewport);if(K.mustRefreshForHeights(A))X=!0;if(X||K.lineWrapping&&Math.abs(L-this.contentDOMWidth)>K.charWidth){let{lineHeight:V,charWidth:N,textHeight:E}=Z.docView.measureTextSize();if(X=V>0&&K.refresh(U,V,N,E,Math.max(5,L/N),A),X)Z.docView.minWidth=0,W|=16}if(B>0&&O>0)G=Math.max(B,O);else if(B<0&&O<0)G=Math.min(B,O);F80();for(let V of this.viewports){let N=V.from==this.viewport.from?A:Z.docView.measureVisibleLineHeights(V);this.heightMap=(X?cQ.empty().applyChanges(this.stateDeco,tZ.empty,this.heightOracle,[new s4(0,0,0,Z.state.doc.length)]):this.heightMap).updateHeight(K,0,X,new _Z0(V.from,N))}if(FH)W|=2}let D=!this.viewportIsAppropriate(this.viewport,G)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(D){if(W&2)W|=this.updateScaler();this.viewport=this.getViewport(G,this.scrollTarget),W|=this.updateForViewport()}if(W&2||D)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(X?[]:this.lineGaps,Z));if(W|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,Z.docView.enforceCursorAssoc();return W}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Z,J){let Q=0.5-Math.max(-0.5,Math.min(0.5,Z/1000/2)),K=this.heightMap,U=this.heightOracle,{visibleTop:X,visibleBottom:Y}=this,q=new fO(K.lineAt(X-Q*1000,s9.ByHeight,U,0,0).from,K.lineAt(Y+(1-Q)*1000,s9.ByHeight,U,0,0).to);if(J){let{head:W}=J.range;if(W<q.from||W>q.to){let G=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),z=K.lineAt(W,s9.ByPos,U,0,0),H;if(J.y=="center")H=(z.top+z.bottom)/2-G/2;else if(J.y=="start"||J.y=="nearest"&&W<q.from)H=z.top;else H=z.bottom-G;q=new fO(K.lineAt(H-500,s9.ByHeight,U,0,0).from,K.lineAt(H+G+500,s9.ByHeight,U,0,0).to)}}return q}mapViewport(Z,J){let Q=J.mapPos(Z.from,-1),K=J.mapPos(Z.to,1);return new fO(this.heightMap.lineAt(Q,s9.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(K,s9.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Z,to:J},Q=0){if(!this.inView)return!0;let{top:K}=this.heightMap.lineAt(Z,s9.ByPos,this.heightOracle,0,0),{bottom:U}=this.heightMap.lineAt(J,s9.ByPos,this.heightOracle,0,0),{visibleTop:X,visibleBottom:Y}=this;return(Z==0||K<=X-Math.max(10,Math.min(-Q,250)))&&(J==this.state.doc.length||U>=Y+Math.max(10,Math.min(Q,250)))&&(K>X-2000&&U<Y+2000)}mapLineGaps(Z,J){if(!Z.length||J.empty)return Z;let Q=[];for(let K of Z)if(!J.touchesRange(K.from,K.to))Q.push(new PN(J.mapPos(K.from),J.mapPos(K.to),K.size,K.displaySize));return Q}ensureLineGaps(Z,J){let Q=this.heightOracle.lineWrapping,K=Q?1e4:2000,U=K>>1,X=K<<1;if(this.defaultTextDirection!=V9.LTR&&!Q)return[];let Y=[],q=(G,z,H,F)=>{if(z-G<U)return;let M=this.state.selection.main,B=[M.from];if(!M.empty)B.push(M.to);for(let R of B)if(R>G&&R<z){q(G,R-10,H,F),q(R+10,z,H,F);return}let O=gd0(Z,(R)=>R.from>=H.from&&R.to<=H.to&&Math.abs(R.from-G)<U&&Math.abs(R.to-z)<U&&!B.some((L)=>R.from<L&&R.to>L));if(!O){if(z<H.to&&J&&Q&&J.visibleRanges.some((D)=>D.from<=z&&D.to>=z)){let D=J.moveToLineBoundary(e0.cursor(z),!1,!0).head;if(D>G)z=D}let R=this.gapSize(H,G,z,F),L=Q||R<2000000?R:2000000;O=new PN(G,z,R,L)}Y.push(O)},W=(G)=>{if(G.length<X||G.type!=s7.Text)return;let z=ud0(G.from,G.to,this.stateDeco);if(z.total<X)return;let H=this.scrollTarget?this.scrollTarget.range.head:null,F,M;if(Q){let B=K/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,R;if(H!=null){let L=ON(z,H),D=((this.visibleBottom-this.visibleTop)/2+B)/G.height;O=L-D,R=L+D}else O=(this.visibleTop-G.top-B)/G.height,R=(this.visibleBottom-G.top+B)/G.height;F=BN(z,O),M=BN(z,R)}else{let B=z.total*this.heightOracle.charWidth,O=K*this.heightOracle.charWidth,R=0;if(B>2000000){for(let N of Z)if(N.from>=G.from&&N.from<G.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+R<this.pixelViewport.left)R=N.size-N.displaySize}let L=this.pixelViewport.left+R,D=this.pixelViewport.right+R,A,V;if(H!=null){let N=ON(z,H),E=((D-L)/2+O)/B;A=N-E,V=N+E}else A=(L-O)/B,V=(D+O)/B;F=BN(z,A),M=BN(z,V)}if(F>G.from)q(G.from,F,G,z);if(M<G.to)q(M,G.to,G,z)};for(let G of this.viewportLines)if(Array.isArray(G.type))G.type.forEach(W);else W(G);return Y}gapSize(Z,J,Q,K){let U=ON(K,Q)-ON(K,J);if(this.heightOracle.lineWrapping)return Z.height*U;else return K.total*this.heightOracle.charWidth*U}updateLineGaps(Z){if(!PN.same(Z,this.lineGaps))this.lineGaps=Z,this.lineGapDeco=e8.set(Z.map((J)=>J.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(Z){let J=this.stateDeco;if(this.lineGaps.length)J=J.concat(this.lineGapDeco);let Q=[];kZ.spans(J,this.viewport.from,this.viewport.to,{span(U,X){Q.push({from:U,to:X})},point(){}},20);let K=0;if(Q.length!=this.visibleRanges.length)K=12;else for(let U=0;U<Q.length&&!(K&8);U++){let X=this.visibleRanges[U],Y=Q[U];if(X.from!=Y.from||X.to!=Y.to){if(K|=4,!(Z&&Z.mapPos(X.from,-1)==Y.from&&Z.mapPos(X.to,1)==Y.to))K|=8}}return this.visibleRanges=Q,K}lineBlockAt(Z){return Z>=this.viewport.from&&Z<=this.viewport.to&&this.viewportLines.find((J)=>J.from<=Z&&J.to>=Z)||vO(this.heightMap.lineAt(Z,s9.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Z){return Z>=this.viewportLines[0].top&&Z<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((J)=>J.top<=Z&&J.bottom>=Z)||vO(this.heightMap.lineAt(this.scaler.fromDOM(Z),s9.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Z){let J=this.lineBlockAtHeight(Z+8);return J.from>=this.viewport.from||this.viewportLines[0].top-Z>200?J:this.viewportLines[0]}elementAtHeight(Z){return vO(this.heightMap.blockAt(this.scaler.fromDOM(Z),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class fO{constructor(Z,J){this.from=Z,this.to=J}}function ud0(Z,J,Q){let K=[],U=Z,X=0;if(kZ.spans(Q,Z,J,{span(){},point(Y,q){if(Y>U)K.push({from:U,to:Y}),X+=Y-U;U=q}},20),U<J)K.push({from:U,to:J}),X+=J-U;return{total:X,ranges:K}}function BN({total:Z,ranges:J},Q){if(Q<=0)return J[0].from;if(Q>=1)return J[J.length-1].to;let K=Math.floor(Z*Q);for(let U=0;;U++){let{from:X,to:Y}=J[U],q=Y-X;if(K<=q)return X+K;K-=q}}function ON(Z,J){let Q=0;for(let{from:K,to:U}of Z.ranges){if(J<=U){Q+=J-K;break}Q+=U-K}return Q/Z.total}function gd0(Z,J){for(let Q of Z)if(J(Q))return Q;return}var B80={toDOM(Z){return Z},fromDOM(Z){return Z},scale:1,eq(Z){return Z==this}};function O80(Z){let J=Z.facet(mN).filter((K)=>typeof K!="function"),Q=Z.facet(dv).filter((K)=>typeof K!="function");if(Q.length)J.push(kZ.join(Q));return J}class av{constructor(Z,J,Q){let K=0,U=0,X=0;this.viewports=Q.map(({from:Y,to:q})=>{let W=J.lineAt(Y,s9.ByPos,Z,0,0).top,G=J.lineAt(q,s9.ByPos,Z,0,0).bottom;return K+=G-W,{from:Y,to:q,top:W,bottom:G,domTop:0,domBottom:0}}),this.scale=(7000000-K)/(J.height-K);for(let Y of this.viewports)Y.domTop=X+(Y.top-U)*this.scale,X=Y.domBottom=Y.domTop+(Y.bottom-Y.top),U=Y.bottom}toDOM(Z){for(let J=0,Q=0,K=0;;J++){let U=J<this.viewports.length?this.viewports[J]:null;if(!U||Z<U.top)return K+(Z-Q)*this.scale;if(Z<=U.bottom)return U.domTop+(Z-U.top);Q=U.bottom,K=U.domBottom}}fromDOM(Z){for(let J=0,Q=0,K=0;;J++){let U=J<this.viewports.length?this.viewports[J]:null;if(!U||Z<U.domTop)return Q+(Z-K)/this.scale;if(Z<=U.domBottom)return U.top+(Z-U.domTop);Q=U.bottom,K=U.domBottom}}eq(Z){if(!(Z instanceof av))return!1;return this.scale==Z.scale&&this.viewports.length==Z.viewports.length&&this.viewports.every((J,Q)=>J.from==Z.viewports[Q].from&&J.to==Z.viewports[Q].to)}}function vO(Z,J){if(J.scale==1)return Z;let Q=J.toDOM(Z.top),K=J.toDOM(Z.bottom);return new dK(Z.from,Z.length,Q,K-Q,Array.isArray(Z._content)?Z._content.map((U)=>vO(U,J)):Z._content)}var RN=v8.define({combine:(Z)=>Z.join(" ")}),$v=v8.define({combine:(Z)=>Z.indexOf(!0)>-1}),kv=cK.newName(),bZ0=cK.newName(),yZ0=cK.newName(),hZ0={"&light":"."+bZ0,"&dark":"."+yZ0};function _v(Z,J,Q){return new cK(J,{finish(K){return/&/.test(K)?K.replace(/&\w*/,(U)=>{if(U=="&")return Z;if(!Q||!Q[U])throw RangeError(`Unsupported selector: ${U}`);return Q[U]}):Z+" "+K}})}var pd0=_v("."+kv,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hZ0),cd0={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Gv=m8.ie&&m8.ie_version<=11;class mZ0{constructor(Z){if(this.view=Z,this.active=!1,this.editContext=null,this.selectionRange=new x80,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Z.contentDOM,this.observer=new MutationObserver((J)=>{for(let Q of J)this.queue.push(Q);if((m8.ie&&m8.ie_version<=11||m8.ios&&Z.composing)&&J.some((Q)=>Q.type=="childList"&&Q.removedNodes.length||Q.type=="characterData"&&Q.oldValue.length>Q.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&m8.android&&Z.constructor.EDIT_CONTEXT!==!1&&!(m8.chrome&&m8.chrome_version<126)){if(this.editContext=new uZ0(Z),Z.state.facet(SX))Z.contentDOM.editContext=this.editContext.editContext}if(Gv)this.onCharData=(J)=>{this.queue.push({target:J.target,type:"characterData",oldValue:J.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var J;if(((J=this.view.docView)===null||J===void 0?void 0:J.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(Z.scrollDOM);if(this.addWindowListeners(this.win=Z.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver((J)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if(J.length>0&&J[J.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((J)=>{if(J.length>0&&J[J.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Z){if(this.view.inputState.runHandlers("scroll",Z),this.intersecting)this.view.measure()}onScroll(Z){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(Z)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(Z){if((Z.type=="change"||!Z.type)&&!Z.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(Z){if(this.gapIntersection&&(Z.length!=this.gaps.length||this.gaps.some((J,Q)=>J!=Z[Q]))){this.gapIntersection.disconnect();for(let J of Z)this.gapIntersection.observe(J);this.gaps=Z}}onSelectionChange(Z){let J=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:Q}=this,K=this.selectionRange;if(Q.state.facet(SX)?Q.root.activeElement!=this.dom:!yO(this.dom,K))return;let U=K.anchorNode&&Q.docView.tile.nearest(K.anchorNode);if(U&&U.isWidget()&&U.widget.ignoreEvent(Z)){if(!J)this.selectionChanged=!1;return}if((m8.ie&&m8.ie_version<=11||m8.android&&m8.chrome)&&!Q.state.selection.main.empty&&K.focusNode&&hO(K.focusNode,K.focusOffset,K.anchorNode,K.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:Z}=this,J=zH(Z.root);if(!J)return!1;let Q=m8.safari&&Z.root.nodeType==11&&Z.root.activeElement==this.dom&&ld0(this.view,J)||J;if(!Q||this.selectionRange.eq(Q))return!1;let K=yO(this.dom,Q);if(K&&!this.selectionChanged&&Z.inputState.lastFocusTime>Date.now()-200&&Z.inputState.lastTouchTime<Date.now()-300&&ml0(this.dom,Q))return this.view.inputState.lastFocusTime=0,Z.docView.updateSelection(),!1;if(this.selectionRange.setRange(Q),K)this.selectionChanged=!0;return!0}setSelectionRange(Z,J){this.selectionRange.set(Z.node,Z.offset,J.node,J.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Z=0,J=null;for(let Q=this.dom;Q;)if(Q.nodeType==1){if(!J&&Z<this.scrollTargets.length&&this.scrollTargets[Z]==Q)Z++;else if(!J)J=this.scrollTargets.slice(0,Z);if(J)J.push(Q);Q=Q.assignedSlot||Q.parentNode}else if(Q.nodeType==11)Q=Q.host;else break;if(Z<this.scrollTargets.length&&!J)J=this.scrollTargets.slice(0,Z);if(J){for(let Q of this.scrollTargets)Q.removeEventListener("scroll",this.onScroll);for(let Q of this.scrollTargets=J)Q.addEventListener("scroll",this.onScroll)}}ignore(Z){if(!this.active)return Z();try{return this.stop(),Z()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,cd0),Gv)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),Gv)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Z,J){var Q;if(!this.delayedAndroidKey){let K=()=>{let U=this.delayedAndroidKey;if(U){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=U.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&U.force)WH(this.dom,U.key,U.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(K)}if(!this.delayedAndroidKey||Z=="Enter")this.delayedAndroidKey={key:Z,keyCode:J,force:this.lastChange<Date.now()-50||!!((Q=this.delayedAndroidKey)===null||Q===void 0?void 0:Q.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let Z of this.observer.takeRecords())this.queue.push(Z);return this.queue}processRecords(){let Z=this.pendingRecords();if(Z.length)this.queue=[];let J=-1,Q=-1,K=!1;for(let U of Z){let X=this.readMutation(U);if(!X)continue;if(X.typeOver)K=!0;if(J==-1)({from:J,to:Q}=X);else J=Math.min(X.from,J),Q=Math.max(X.to,Q)}return{from:J,to:Q,typeOver:K}}readChange(){let{from:Z,to:J,typeOver:Q}=this.processRecords(),K=this.selectionChanged&&yO(this.dom,this.selectionRange);if(Z<0&&!K)return null;if(Z>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let U=new LZ0(this.view,Z,J,Q);return this.view.docView.domChanged={newSel:U.newSel?U.newSel.main:null},U}flush(Z=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(Z)this.readSelectionRange();let J=this.readChange();if(!J)return this.view.requestMeasure(),!1;let Q=this.view.state,K=IZ0(this.view,J);if(this.view.state==Q&&(J.domChanged||J.newSel&&!vN(this.view.state.selection,J.newSel.main)))this.view.update([]);return K}readMutation(Z){let J=this.view.docView.tile.nearest(Z.target);if(!J||J.isWidget())return null;if(J.markDirty(Z.type=="attributes"),Z.type=="childList"){let Q=R80(J,Z.previousSibling||Z.target.previousSibling,-1),K=R80(J,Z.nextSibling||Z.target.nextSibling,1);return{from:Q?J.posAfter(Q):J.posAtStart,to:K?J.posBefore(K):J.posAtEnd,typeOver:!1}}else if(Z.type=="characterData")return{from:J.posAtStart,to:J.posAtEnd,typeOver:Z.target.nodeValue==Z.oldValue};else return null}setWindow(Z){if(Z!=this.win)this.removeWindowListeners(this.win),this.win=Z,this.addWindowListeners(this.win)}addWindowListeners(Z){if(Z.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else Z.addEventListener("beforeprint",this.onPrint);Z.addEventListener("scroll",this.onScroll),Z.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Z){if(Z.removeEventListener("scroll",this.onScroll),Z.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else Z.removeEventListener("beforeprint",this.onPrint);Z.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Z){if(this.editContext){if(this.editContext.update(Z),Z.startState.facet(SX)!=Z.state.facet(SX))Z.view.contentDOM.editContext=Z.state.facet(SX)?this.editContext.editContext:null}}destroy(){var Z,J,Q;this.stop(),(Z=this.intersection)===null||Z===void 0||Z.disconnect(),(J=this.gapIntersection)===null||J===void 0||J.disconnect(),(Q=this.resizeScroll)===null||Q===void 0||Q.disconnect();for(let K of this.scrollTargets)K.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}function R80(Z,J,Q){while(J){let K=iJ.get(J);if(K&&K.parent==Z)return K;let U=J.parentNode;J=U!=Z.dom?U:Q>0?J.nextSibling:J.previousSibling}return null}function L80(Z,J){let{startContainer:Q,startOffset:K,endContainer:U,endOffset:X}=J,Y=Z.docView.domAtPos(Z.state.selection.main.anchor,1);if(hO(Y.node,Y.offset,U,X))[Q,K,U,X]=[U,X,Q,K];return{anchorNode:Q,anchorOffset:K,focusNode:U,focusOffset:X}}function ld0(Z,J){if(J.getComposedRanges){let U=J.getComposedRanges(Z.root)[0];if(U)return L80(Z,U)}let Q=null;function K(U){U.preventDefault(),U.stopImmediatePropagation(),Q=U.getTargetRanges()[0]}return Z.contentDOM.addEventListener("beforeinput",K,!0),Z.dom.ownerDocument.execCommand("indent"),Z.contentDOM.removeEventListener("beforeinput",K,!0),Q?L80(Z,Q):null}class uZ0{constructor(Z){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(Z.state);let J=this.editContext=new window.EditContext({text:Z.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Z.state.selection.main.anchor))),selectionEnd:this.toContextPos(Z.state.selection.main.head)});this.handlers.textupdate=(Q)=>{let K=Z.state.selection.main,{anchor:U,head:X}=K,Y=this.toEditorPos(Q.updateRangeStart),q=this.toEditorPos(Q.updateRangeEnd);if(Z.inputState.composing>=0&&!this.composing)this.composing={contextBase:Q.updateRangeStart,editorBase:Y,drifted:!1};let W=q-Y>Q.text.length;if(Y==this.from&&U<this.from)Y=U;else if(q==this.to&&U>this.to)q=U;let G=AZ0(Z.state.sliceDoc(Y,q),Q.text,(W?K.from:K.to)-Y,W?"end":null);if(!G){let H=e0.single(this.toEditorPos(Q.selectionStart),this.toEditorPos(Q.selectionEnd));if(!vN(H,K))Z.dispatch({selection:H,userEvent:"select"});return}let z={from:G.from+Y,to:G.toA+Y,insert:tZ.of(Q.text.slice(G.from,G.toB).split(`
`))};if((m8.mac||m8.android)&&z.from==X-1&&/^\. ?$/.test(Q.text)&&Z.contentDOM.getAttribute("autocorrect")=="off")z={from:Y,to:q,insert:tZ.of([Q.text.replace("."," ")])};if(this.pendingContextChange=z,!Z.state.readOnly){let H=this.to-this.from+(z.to-z.from+z.insert.length);sv(Z,z,e0.single(this.toEditorPos(Q.selectionStart,H),this.toEditorPos(Q.selectionEnd,H)))}if(this.pendingContextChange)this.revertPending(Z.state),this.setSelection(Z.state);if(z.from<z.to&&!z.insert.length&&Z.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(J.text.slice(Math.max(0,Q.updateRangeStart-1),Math.min(J.text.length,Q.updateRangeStart+1))))this.handlers.compositionend(Q)},this.handlers.characterboundsupdate=(Q)=>{let K=[],U=null;for(let X=this.toEditorPos(Q.rangeStart),Y=this.toEditorPos(Q.rangeEnd);X<Y;X++){let q=Z.coordsForChar(X);U=q&&new DOMRect(q.left,q.top,q.right-q.left,q.bottom-q.top)||U||new DOMRect,K.push(U)}J.updateCharacterBounds(Q.rangeStart,K)},this.handlers.textformatupdate=(Q)=>{let K=[];for(let U of Q.getTextFormats()){let{underlineStyle:X,underlineThickness:Y}=U;if(!/none/i.test(X)&&!/none/i.test(Y)){let q=this.toEditorPos(U.rangeStart),W=this.toEditorPos(U.rangeEnd);if(q<W){let G=`text-decoration: underline ${/^[a-z]/.test(X)?X+" ":X=="Dashed"?"dashed ":X=="Squiggle"?"wavy ":""}${/thin/i.test(Y)?1:2}px`;K.push(e8.mark({attributes:{style:G}}).range(q,W))}}}Z.dispatch({effects:ZZ0.of(e8.set(K))})},this.handlers.compositionstart=()=>{if(Z.inputState.composing<0)Z.inputState.composing=0,Z.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{if(Z.inputState.composing=-1,Z.inputState.compositionFirstChange=null,this.composing){let{drifted:Q}=this.composing;if(this.composing=null,Q)this.reset(Z.state)}};for(let Q in this.handlers)J.addEventListener(Q,this.handlers[Q]);this.measureReq={read:(Q)=>{this.editContext.updateControlBounds(Q.contentDOM.getBoundingClientRect());let K=zH(Q.root);if(K&&K.rangeCount)this.editContext.updateSelectionBounds(K.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Z){let J=0,Q=!1,K=this.pendingContextChange;if(Z.changes.iterChanges((U,X,Y,q,W)=>{if(Q)return;let G=W.length-(X-U);if(K&&X>=K.to)if(K.from==U&&K.to==X&&K.insert.eq(W)){K=this.pendingContextChange=null,J+=G,this.to+=G;return}else K=null,this.revertPending(Z.state);if(U+=J,X+=J,X<=this.from)this.from+=G,this.to+=G;else if(U<this.to){if(U<this.from||X>this.to||this.to-this.from+W.length>30000){Q=!0;return}this.editContext.updateText(this.toContextPos(U),this.toContextPos(X),W.toString()),this.to+=G}J+=G}),K&&!Q)this.revertPending(Z.state);return!Q}update(Z){let J=this.pendingContextChange,Q=Z.startState.selection.main;if(this.composing&&(this.composing.drifted||!Z.changes.touchesRange(Q.from,Q.to)&&Z.transactions.some((K)=>!K.isUserEvent("input.type")&&K.changes.touchesRange(this.from,this.to))))this.composing.drifted=!0,this.composing.editorBase=Z.changes.mapPos(this.composing.editorBase);else if(!this.applyEdits(Z)||!this.rangeIsValid(Z.state))this.pendingContextChange=null,this.reset(Z.state);else if(Z.docChanged||Z.selectionSet||J)this.setSelection(Z.state);if(Z.geometryChanged||Z.docChanged||Z.selectionSet)Z.view.requestMeasure(this.measureReq)}resetRange(Z){let{head:J}=Z.selection.main;this.from=Math.max(0,J-1e4),this.to=Math.min(Z.doc.length,J+1e4)}reset(Z){this.resetRange(Z),this.editContext.updateText(0,this.editContext.text.length,Z.doc.sliceString(this.from,this.to)),this.setSelection(Z)}revertPending(Z){let J=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(J.from),this.toContextPos(J.from+J.insert.length),Z.doc.sliceString(J.from,J.to))}setSelection(Z){let{main:J}=Z.selection,Q=this.toContextPos(Math.max(this.from,Math.min(this.to,J.anchor))),K=this.toContextPos(J.head);if(this.editContext.selectionStart!=Q||this.editContext.selectionEnd!=K)this.editContext.updateSelection(Q,K)}rangeIsValid(Z){let{head:J}=Z.selection.main;return!(this.from>0&&J-this.from<500||this.to<Z.doc.length&&this.to-J<500||this.to-this.from>30000)}toEditorPos(Z,J=this.to-this.from){Z=Math.min(Z,J);let Q=this.composing;return Q&&Q.drifted?Q.editorBase+(Z-Q.contextBase):Z+this.from}toContextPos(Z){let J=this.composing;return J&&J.drifted?J.contextBase+(Z-J.editorBase):Z-this.from}destroy(){for(let Z in this.handlers)this.editContext.removeEventListener(Z,this.handlers[Z])}}class C8{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Z={}){var J;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Z.parent)Z.parent.appendChild(this.dom);let{dispatch:Q}=Z;if(this.dispatchTransactions=Z.dispatchTransactions||Q&&((K)=>K.forEach((U)=>Q(U,this)))||((K)=>this.update(K)),this.dispatch=this.dispatch.bind(this),this._root=Z.root||hl0(Z.parent)||document,this.viewState=new wv(Z.state||vZ.create(Z)),Z.scrollTo&&Z.scrollTo.is(HN))this.viewState.scrollTarget=Z.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(XH).map((K)=>new NN(K));for(let K of this.plugins)K.update(this);if(this.observer=new mZ0(this),this.inputState=new NZ0(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Vv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(J=document.fonts)===null||J===void 0?void 0:J.ready)document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...Z){let J=Z.length==1&&Z[0]instanceof CJ?Z:Z.length==1&&Array.isArray(Z[0])?Z[0]:[this.state.update(...Z)];this.dispatchTransactions(J,this)}update(Z){if(this.updateState!=0)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let J=!1,Q=!1,K,U=this.state;for(let H of Z){if(H.startState!=U)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");U=H.state}if(this.destroyed){this.viewState.state=U;return}let X=this.hasFocus,Y=0,q=null;if(Z.some((H)=>H.annotation(TZ0)))this.inputState.notifiedFocused=X,Y=1;else if(X!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=X,q=wZ0(U,X),!q)Y=1}let W=this.observer.delayedAndroidKey,G=null;if(W){if(this.observer.clearDelayedAndroidKey(),G=this.observer.readChange(),G&&!this.state.doc.eq(U.doc)||!this.state.selection.eq(U.selection))G=null}else this.observer.clear();if(U.facet(vZ.phrases)!=this.state.facet(vZ.phrases))return this.setState(U);K=_N.create(this,U,Z),K.flags|=Y;let z=this.viewState.scrollTarget;try{this.updateState=2;for(let H of Z){if(z)z=z.map(H.changes);if(H.scrollIntoView){let{main:F}=H.state.selection;z=new GH(F.empty?F:e0.cursor(F.head,F.head>F.anchor?-1:1))}for(let F of H.effects)if(F.is(HN))z=F.value.clip(this.state)}if(this.viewState.update(K,z),this.bidiCache=bN.update(this.bidiCache,K.changes),!K.empty)this.updatePlugins(K),this.inputState.update(K);if(J=this.docView.update(K),this.state.facet(kO)!=this.styleModules)this.mountStyles();Q=this.updateAttrs(),this.showAnnouncements(Z),this.docView.updateSelection(J,Z.some((H)=>H.isUserEvent("select.pointer")))}finally{this.updateState=0}if(K.startState.facet(RN)!=K.state.facet(RN))this.viewState.mustMeasureContent=!0;if(J||Q||z||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(J)this.docViewUpdate();if(!K.empty)for(let H of this.state.facet(Ev))try{H(K)}catch(F){i7(this.state,F,"update listener")}if(q||G)Promise.resolve().then(()=>{if(q&&this.state==q.startState)this.dispatch(q);if(G){if(!IZ0(this,G)&&W.force)WH(this.contentDOM,W.key,W.keyCode)}})}setState(Z){if(this.updateState!=0)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Z;return}this.updateState=2;let J=this.hasFocus;try{for(let Q of this.plugins)Q.destroy(this);this.viewState=new wv(Z),this.plugins=Z.facet(XH).map((Q)=>new NN(Q)),this.pluginMap.clear();for(let Q of this.plugins)Q.update(this);this.docView.destroy(),this.docView=new Vv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if(J)this.focus();this.requestMeasure()}updatePlugins(Z){let J=Z.startState.facet(XH),Q=Z.state.facet(XH);if(J!=Q){let K=[];for(let U of Q){let X=J.indexOf(U);if(X<0)K.push(new NN(U));else{let Y=this.plugins[X];Y.mustUpdate=Z,K.push(Y)}}for(let U of this.plugins)if(U.mustUpdate!=Z)U.destroy(this);this.plugins=K,this.pluginMap.clear()}else for(let K of this.plugins)K.mustUpdate=Z;for(let K=0;K<this.plugins.length;K++)this.plugins[K].update(this);if(J!=Q)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Z of this.plugins){let J=Z.value;if(J&&J.docViewUpdate)try{J.docViewUpdate(this)}catch(Q){i7(this.state,Q,"doc view update listener")}}}measure(Z=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,Z)this.observer.forceFlush();let J=null,Q=this.scrollDOM,K=Q.scrollTop*this.scaleY,{scrollAnchorPos:U,scrollAnchorHeight:X}=this.viewState;if(Math.abs(K-this.viewState.scrollTop)>1)X=-1;this.viewState.scrollAnchorHeight=-1;try{for(let Y=0;;Y++){if(X<0)if(y80(Q))U=-1,X=this.viewState.heightMap.height;else{let F=this.viewState.scrollAnchorAt(K);U=F.from,X=F.top}this.updateState=1;let q=this.viewState.measure(this);if(!q&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Y>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let W=[];if(!(q&4))[this.measureRequests,W]=[W,this.measureRequests];let G=W.map((F)=>{try{return F.read(this)}catch(M){return i7(this.state,M),D80}}),z=_N.create(this,this.state,[]),H=!1;if(z.flags|=q,!J)J=z;else J.flags|=q;if(this.updateState=2,!z.empty){if(this.updatePlugins(z),this.inputState.update(z),this.updateAttrs(),H=this.docView.update(z),H)this.docViewUpdate()}for(let F=0;F<W.length;F++)if(G[F]!=D80)try{let M=W[F];if(M.write)M.write(G[F],this)}catch(M){i7(this.state,M)}if(H)this.docView.updateSelection(!0);if(!z.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,X=-1;continue}else{let M=(U<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(U).top)-X;if(M>1||M<-1){K=K+M,Q.scrollTop=K/this.scaleY,X=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(J&&!J.empty)for(let Y of this.state.facet(Ev))Y(J)}get themeClasses(){return kv+" "+(this.state.facet($v)?yZ0:bZ0)+" "+this.state.facet(RN)}updateAttrs(){let Z=I80(this,JZ0,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),J={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:!this.state.facet(SX)?"false":"true",class:"cm-content",style:`${m8.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)J["aria-readonly"]="true";I80(this,lv,J);let Q=this.observer.ignore(()=>{let K=a00(this.contentDOM,this.contentAttrs,J),U=a00(this.dom,this.editorAttrs,Z);return K||U});return this.editorAttrs=Z,this.contentAttrs=J,Q}showAnnouncements(Z){let J=!0;for(let Q of Z)for(let K of Q.effects)if(K.is(C8.announce)){if(J)this.announceDOM.textContent="";J=!1;let U=this.announceDOM.appendChild(document.createElement("div"));U.textContent=K.value}}mountStyles(){this.styleModules=this.state.facet(kO);let Z=this.state.facet(C8.cspNonce);cK.mount(this.root,this.styleModules.concat(pd0).reverse(),Z?{nonce:Z}:void 0)}readMeasured(){if(this.updateState==2)throw Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(Z){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(Z){if(this.measureRequests.indexOf(Z)>-1)return;if(Z.key!=null){for(let J=0;J<this.measureRequests.length;J++)if(this.measureRequests[J].key===Z.key){this.measureRequests[J]=Z;return}}this.measureRequests.push(Z)}}plugin(Z){let J=this.pluginMap.get(Z);if(J===void 0||J&&J.plugin!=Z)this.pluginMap.set(Z,J=this.plugins.find((Q)=>Q.plugin==Z)||null);return J&&J.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Z){return this.readMeasured(),this.viewState.elementAtHeight(Z)}lineBlockAtHeight(Z){return this.readMeasured(),this.viewState.lineBlockAtHeight(Z)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Z){return this.viewState.lineBlockAt(Z)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Z,J,Q){return Wv(this,Z,Q80(this,Z,J,Q))}moveByGroup(Z,J){return Wv(this,Z,Q80(this,Z,J,(Q)=>Md0(this,Z.head,Q)))}visualLineSide(Z,J){let Q=this.bidiSpans(Z),K=this.textDirectionAt(Z.from),U=Q[J?Q.length-1:0];return e0.cursor(U.side(J,K)+Z.from,U.forward(!J,K)?1:-1)}moveToLineBoundary(Z,J,Q=!0){return Fd0(this,Z,J,Q)}moveVertically(Z,J,Q){return Wv(this,Z,Bd0(this,Z,J,Q))}domAtPos(Z,J=1){return this.docView.domAtPos(Z,J)}posAtDOM(Z,J=0){return this.docView.posFromDOM(Z,J)}posAtCoords(Z,J=!0){this.readMeasured();let Q=jv(this,Z,J);return Q&&Q.pos}posAndSideAtCoords(Z,J=!0){return this.readMeasured(),jv(this,Z,J)}coordsAtPos(Z,J=1){this.readMeasured();let Q=this.docView.coordsAt(Z,J);if(!Q||Q.left==Q.right)return Q;let K=this.state.doc.lineAt(Z),U=this.bidiSpans(K),X=U[d5.find(U,Z-K.from,-1,J)];return kN(Q,X.dir==V9.LTR==J>0)}coordsForChar(Z){return this.readMeasured(),this.docView.coordsForChar(Z)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Z){if(!this.state.facet(o80)||Z<this.viewport.from||Z>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(Z)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Z){if(Z.length>dd0)return c80(Z.length);let J=this.textDirectionAt(Z.from),Q;for(let U of this.bidiCache)if(U.from==Z.from&&U.dir==J&&(U.fresh||p80(U.isolates,Q=e00(this,Z))))return U.order;if(!Q)Q=e00(this,Z);let K=il0(Z.text,J,Q);return this.bidiCache.push(new bN(Z.from,Z.to,J,Q,!0,K)),K}get hasFocus(){var Z;return(this.dom.ownerDocument.hasFocus()||m8.safari&&((Z=this.inputState)===null||Z===void 0?void 0:Z.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{b80(this.contentDOM),this.docView.updateSelection()})}setRoot(Z){if(this._root!=Z)this._root=Z,this.observer.setWindow((Z.nodeType==9?Z:Z.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let Z of this.plugins)Z.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(Z,J={}){return HN.of(new GH(typeof Z=="number"?e0.cursor(Z):Z,J.y,J.x,J.yMargin,J.xMargin))}scrollSnapshot(){let{scrollTop:Z,scrollLeft:J}=this.scrollDOM,Q=this.viewState.scrollAnchorAt(Z);return HN.of(new GH(e0.cursor(Q.from),"start","start",Q.top-Z,J,!0))}setTabFocusMode(Z){if(Z==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof Z=="boolean")this.inputState.tabFocusMode=Z?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+Z}static domEventHandlers(Z){return OJ.define(()=>({}),{eventHandlers:Z})}static domEventObservers(Z){return OJ.define(()=>({}),{eventObservers:Z})}static theme(Z,J){let Q=cK.newName(),K=[RN.of(Q),kO.of(_v(`.${Q}`,Z))];if(J&&J.dark)K.push($v.of(!0));return K}static baseTheme(Z){return P6.lowest(kO.of(_v("."+kv,Z,hZ0)))}static findFromDOM(Z){var J;let Q=Z.querySelector(".cm-content"),K=Q&&iJ.get(Q)||iJ.get(Z);return((J=K===null||K===void 0?void 0:K.root)===null||J===void 0?void 0:J.view)||null}}C8.styleModule=kO;C8.inputHandler=n80;C8.clipboardInputFilter=pv;C8.clipboardOutputFilter=cv;C8.scrollHandler=e80;C8.focusChangeEffect=a80;C8.perLineTextDirection=o80;C8.exceptionSink=r80;C8.updateListener=Ev;C8.editable=SX;C8.mouseSelectionStyle=s80;C8.dragMovesSelection=i80;C8.clickAddsSelectionRange=d80;C8.decorations=mN;C8.blockWrappers=QZ0;C8.outerDecorations=dv;C8.atomicRanges=sO;C8.bidiIsolatedRanges=KZ0;C8.scrollMargins=UZ0;C8.darkTheme=$v;C8.cspNonce=v8.define({combine:(Z)=>Z.length?Z[0]:""});C8.contentAttributes=lv;C8.editorAttributes=JZ0;C8.lineWrapping=C8.contentAttributes.of({class:"cm-lineWrapping"});C8.announce=OZ.define();var dd0=4096,D80={};class bN{constructor(Z,J,Q,K,U,X){this.from=Z,this.to=J,this.dir=Q,this.isolates=K,this.fresh=U,this.order=X}static update(Z,J){if(J.empty&&!Z.some((U)=>U.fresh))return Z;let Q=[],K=Z.length?Z[Z.length-1].dir:V9.LTR;for(let U=Math.max(0,Z.length-10);U<Z.length;U++){let X=Z[U];if(X.dir==K&&!J.touchesRange(X.from,X.to))Q.push(new bN(J.mapPos(X.from,1),J.mapPos(X.to,-1),X.dir,X.isolates,!1,X.order))}return Q}}function I80(Z,J,Q){for(let K=Z.state.facet(J),U=K.length-1;U>=0;U--){let X=K[U],Y=typeof X=="function"?X(Z):X;if(Y)mv(Y,Q)}return Q}var id0=m8.mac?"mac":m8.windows?"win":m8.linux?"linux":"key";function sd0(Z,J){let Q=Z.split(/-(?!$)/),K=Q[Q.length-1];if(K=="Space")K=" ";let U,X,Y,q;for(let W=0;W<Q.length-1;++W){let G=Q[W];if(/^(cmd|meta|m)$/i.test(G))q=!0;else if(/^a(lt)?$/i.test(G))U=!0;else if(/^(c|ctrl|control)$/i.test(G))X=!0;else if(/^s(hift)?$/i.test(G))Y=!0;else if(/^mod$/i.test(G))if(J=="mac")q=!0;else X=!0;else throw Error("Unrecognized modifier name: "+G)}if(U)K="Alt-"+K;if(X)K="Ctrl-"+K;if(q)K="Meta-"+K;if(Y)K="Shift-"+K;return K}function LN(Z,J,Q){if(J.altKey)Z="Alt-"+Z;if(J.ctrlKey)Z="Ctrl-"+Z;if(J.metaKey)Z="Meta-"+Z;if(Q!==!1&&J.shiftKey)Z="Shift-"+Z;return Z}var rd0=P6.default(C8.domEventHandlers({keydown(Z,J){return cZ0(gZ0(J.state),Z,J,"editor")}})),aY=v8.define({enables:rd0}),A80=new WeakMap;function gZ0(Z){let J=Z.facet(aY),Q=A80.get(J);if(!Q)A80.set(J,Q=ad0(J.reduce((K,U)=>K.concat(U),[])));return Q}function pZ0(Z,J,Q){return cZ0(gZ0(Z.state),J,Z,Q)}var sY=null,nd0=4000;function ad0(Z,J=id0){let Q=Object.create(null),K=Object.create(null),U=(Y,q)=>{let W=K[Y];if(W==null)K[Y]=q;else if(W!=q)throw Error("Key binding "+Y+" is used both as a regular binding and as a multi-stroke prefix")},X=(Y,q,W,G,z)=>{var H,F;let M=Q[Y]||(Q[Y]=Object.create(null)),B=q.split(/ (?!$)/).map((L)=>sd0(L,J));for(let L=1;L<B.length;L++){let D=B.slice(0,L).join(" ");if(U(D,!0),!M[D])M[D]={preventDefault:!0,stopPropagation:!1,run:[(A)=>{let V=sY={view:A,prefix:D,scope:Y};return setTimeout(()=>{if(sY==V)sY=null},nd0),!0}]}}let O=B.join(" ");U(O,!1);let R=M[O]||(M[O]={preventDefault:!1,stopPropagation:!1,run:((F=(H=M._any)===null||H===void 0?void 0:H.run)===null||F===void 0?void 0:F.slice())||[]});if(W)R.run.push(W);if(G)R.preventDefault=!0;if(z)R.stopPropagation=!0};for(let Y of Z){let q=Y.scope?Y.scope.split(" "):["editor"];if(Y.any)for(let G of q){let z=Q[G]||(Q[G]=Object.create(null));if(!z._any)z._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:H}=Y;for(let F in z)z[F].run.push((M)=>H(M,fv))}let W=Y[J]||Y.key;if(!W)continue;for(let G of q)if(X(G,W,Y.run,Y.preventDefault,Y.stopPropagation),Y.shift)X(G,"Shift-"+W,Y.shift,Y.preventDefault,Y.stopPropagation)}return Q}var fv=null;function cZ0(Z,J,Q,K){fv=J;let U=d00(J),X=l7(U,0),Y=M4(X)==U.length&&U!=" ",q="",W=!1,G=!1,z=!1;if(sY&&sY.view==Q&&sY.scope==K){if(q=sY.prefix+" ",VZ0.indexOf(J.keyCode)<0)G=!0,sY=null}let H=new Set,F=(R)=>{if(R){for(let L of R.run)if(!H.has(L)){if(H.add(L),L(Q)){if(R.stopPropagation)z=!0;return!0}}if(R.preventDefault){if(R.stopPropagation)z=!0;G=!0}}return!1},M=Z[K],B,O;if(M){if(F(M[q+LN(U,J,!Y)]))W=!0;else if(Y&&(J.altKey||J.metaKey||J.ctrlKey)&&!(m8.windows&&J.ctrlKey&&J.altKey)&&!(m8.mac&&J.altKey&&!(J.ctrlKey||J.metaKey))&&(B=jX[J.keyCode])&&B!=U){if(F(M[q+LN(B,J,!0)]))W=!0;else if(J.shiftKey&&(O=UH[J.keyCode])!=U&&O!=B&&F(M[q+LN(O,J,!1)]))W=!0}else if(Y&&J.shiftKey&&F(M[q+LN(U,J,!0)]))W=!0;if(!W&&F(M._any))W=!0}if(G)W=!0;if(W&&z)J.stopPropagation();return fv=null,W}class aO{constructor(Z,J,Q,K,U){this.className=Z,this.left=J,this.top=Q,this.width=K,this.height=U}draw(){let Z=document.createElement("div");return Z.className=this.className,this.adjust(Z),Z}update(Z,J){if(J.className!=this.className)return!1;return this.adjust(Z),!0}adjust(Z){if(Z.style.left=this.left+"px",Z.style.top=this.top+"px",this.width!=null)Z.style.width=this.width+"px";Z.style.height=this.height+"px"}eq(Z){return this.left==Z.left&&this.top==Z.top&&this.width==Z.width&&this.height==Z.height&&this.className==Z.className}static forRange(Z,J,Q){if(Q.empty){let K=Z.coordsAtPos(Q.head,Q.assoc||1);if(!K)return[];let U=lZ0(Z);return[new aO(J,K.left-U.left,K.top-U.top,null,K.bottom-K.top)]}else return od0(Z,J,Q)}}function lZ0(Z){let J=Z.scrollDOM.getBoundingClientRect();return{left:(Z.textDirection==V9.LTR?J.left:J.right-Z.scrollDOM.clientWidth*Z.scaleX)-Z.scrollDOM.scrollLeft*Z.scaleX,top:J.top-Z.scrollDOM.scrollTop*Z.scaleY}}function N80(Z,J,Q,K){let U=Z.coordsAtPos(J,Q*2);if(!U)return K;let X=Z.dom.getBoundingClientRect(),Y=(U.top+U.bottom)/2,q=Z.posAtCoords({x:X.left+1,y:Y}),W=Z.posAtCoords({x:X.right-1,y:Y});if(q==null||W==null)return K;return{from:Math.max(K.from,Math.min(q,W)),to:Math.min(K.to,Math.max(q,W))}}function od0(Z,J,Q){if(Q.to<=Z.viewport.from||Q.from>=Z.viewport.to)return[];let K=Math.max(Q.from,Z.viewport.from),U=Math.min(Q.to,Z.viewport.to),X=Z.textDirection==V9.LTR,Y=Z.contentDOM,q=Y.getBoundingClientRect(),W=lZ0(Z),G=Y.querySelector(".cm-line"),z=G&&window.getComputedStyle(G),H=q.left+(z?parseInt(z.paddingLeft)+Math.min(0,parseInt(z.textIndent)):0),F=q.right-(z?parseInt(z.paddingRight):0),M=Cv(Z,K,1),B=Cv(Z,U,-1),O=M.type==s7.Text?M:null,R=B.type==s7.Text?B:null;if(O&&(Z.lineWrapping||M.widgetLineBreaks))O=N80(Z,K,1,O);if(R&&(Z.lineWrapping||B.widgetLineBreaks))R=N80(Z,U,-1,R);if(O&&R&&O.from==R.from&&O.to==R.to)return D(A(Q.from,Q.to,O));else{let N=O?A(Q.from,null,O):V(M,!1),E=R?A(null,Q.to,R):V(B,!0),C=[];if((O||M).to<(R||B).from-(O&&R?1:0)||M.widgetLineBreaks>1&&N.bottom+Z.defaultLineHeight/2<E.top)C.push(L(H,N.bottom,F,E.top));else if(N.bottom<E.top&&Z.elementAtHeight((N.bottom+E.top)/2).type==s7.Text)N.bottom=E.top=(N.bottom+E.top)/2;return D(N).concat(C).concat(D(E))}function L(N,E,C,j){return new aO(J,N-W.left,E-W.top,Math.max(0,C-N),j-E)}function D({top:N,bottom:E,horizontal:C}){let j=[];for(let $=0;$<C.length;$+=2)j.push(L(C[$],N,C[$+1],E));return j}function A(N,E,C){let j=1e9,$=-1e9,k=[];function w(T,_,v,x,b){let y=Z.coordsAtPos(T,T==C.to?-2:2),u=Z.coordsAtPos(v,v==C.from?2:-2);if(!y||!u)return;if(j=Math.min(y.top,u.top,j),$=Math.max(y.bottom,u.bottom,$),b==V9.LTR)k.push(X&&_?H:y.left,X&&x?F:u.right);else k.push(!X&&x?H:u.left,!X&&_?F:y.right)}let P=N!==null&&N!==void 0?N:C.from,S=E!==null&&E!==void 0?E:C.to;for(let T of Z.visibleRanges)if(T.to>P&&T.from<S)for(let _=Math.max(T.from,P),v=Math.min(T.to,S);;){let x=Z.state.doc.lineAt(_);for(let b of Z.bidiSpans(x)){let y=b.from+x.from,u=b.to+x.from;if(y>=v)break;if(u>_)w(Math.max(y,_),N==null&&y<=P,Math.min(u,v),E==null&&u>=S,b.dir)}if(_=x.to+1,_>=v)break}if(k.length==0)w(P,N==null,S,E==null,Z.textDirection);return{top:j,bottom:$,horizontal:k}}function V(N,E){let C=q.top+(E?N.top:N.bottom);return{top:C,bottom:C,horizontal:[]}}}function td0(Z,J){return Z.constructor==J.constructor&&Z.eq(J)}class dZ0{constructor(Z,J){if(this.view=Z,this.layer=J,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=Z.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),J.above)this.dom.classList.add("cm-layer-above");if(J.class)this.dom.classList.add(J.class);if(this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(Z.state),Z.requestMeasure(this.measureReq),J.mount)J.mount(this.dom,Z)}update(Z){if(Z.startState.facet(CN)!=Z.state.facet(CN))this.setOrder(Z.state);if(this.layer.update(Z,this.dom)||Z.geometryChanged)this.scale(),Z.view.requestMeasure(this.measureReq)}docViewUpdate(Z){if(this.layer.updateOnDocViewUpdate!==!1)Z.requestMeasure(this.measureReq)}setOrder(Z){let J=0,Q=Z.facet(CN);while(J<Q.length&&Q[J]!=this.layer)J++;this.dom.style.zIndex=String((this.layer.above?150:-1)-J)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:Z,scaleY:J}=this.view;if(Z!=this.scaleX||J!=this.scaleY)this.scaleX=Z,this.scaleY=J,this.dom.style.transform=`scale(${1/Z}, ${1/J})`}draw(Z){if(Z.length!=this.drawn.length||Z.some((J,Q)=>!td0(J,this.drawn[Q]))){let J=this.dom.firstChild,Q=0;for(let K of Z)if(K.update&&J&&K.constructor&&this.drawn[Q].constructor&&K.update(J,this.drawn[Q]))J=J.nextSibling,Q++;else this.dom.insertBefore(K.draw(),J);while(J){let K=J.nextSibling;J.remove(),J=K}if(this.drawn=Z,m8.safari&&m8.safari_version>=26)this.dom.style.display=this.dom.firstChild?"":"none"}}destroy(){if(this.layer.destroy)this.layer.destroy(this.dom,this.view);this.dom.remove()}}var CN=v8.define();function iZ0(Z){return[OJ.define((J)=>new dZ0(J,Z)),CN.of(Z)]}var lO=v8.define({combine(Z){return AQ(Z,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(J,Q)=>Math.min(J,Q),drawRangeCursor:(J,Q)=>J||Q})}});function sZ0(Z={}){return[lO.of(Z),ed0,Zi0,Ji0,t80.of(!0)]}function rZ0(Z){return Z.startState.facet(lO)!=Z.state.facet(lO)}var ed0=iZ0({above:!0,markers(Z){let{state:J}=Z,Q=J.facet(lO),K=[];for(let U of J.selection.ranges){let X=U==J.selection.main;if(U.empty||Q.drawRangeCursor){let Y=X?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",q=U.empty?U:e0.cursor(U.head,U.head>U.anchor?-1:1);for(let W of aO.forRange(Z,Y,q))K.push(W)}}return K},update(Z,J){if(Z.transactions.some((K)=>K.selection))J.style.animationName=J.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let Q=rZ0(Z);if(Q)E80(Z.state,J);return Z.docChanged||Z.selectionSet||Q},mount(Z,J){E80(J.state,Z)},class:"cm-cursorLayer"});function E80(Z,J){J.style.animationDuration=Z.facet(lO).cursorBlinkRate+"ms"}var Zi0=iZ0({above:!1,markers(Z){return Z.state.selection.ranges.map((J)=>J.empty?[]:aO.forRange(Z,"cm-selectionBackground",J)).reduce((J,Q)=>J.concat(Q))},update(Z,J){return Z.docChanged||Z.selectionSet||Z.viewportChanged||rZ0(Z)},class:"cm-selectionLayer"}),Ji0=P6.highest(C8.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),nZ0=OZ.define({map(Z,J){return Z==null?null:J.mapPos(Z)}}),xO=BJ.define({create(){return null},update(Z,J){if(Z!=null)Z=J.changes.mapPos(Z);return J.effects.reduce((Q,K)=>K.is(nZ0)?K.value:Q,Z)}}),Qi0=OJ.fromClass(class{constructor(Z){this.view=Z,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(Z){var J;let Q=Z.state.field(xO);if(Q==null){if(this.cursor!=null)(J=this.cursor)===null||J===void 0||J.remove(),this.cursor=null}else{if(!this.cursor)this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor";if(Z.startState.field(xO)!=Q||Z.docChanged||Z.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let{view:Z}=this,J=Z.state.field(xO),Q=J!=null&&Z.coordsAtPos(J);if(!Q)return null;let K=Z.scrollDOM.getBoundingClientRect();return{left:Q.left-K.left+Z.scrollDOM.scrollLeft*Z.scaleX,top:Q.top-K.top+Z.scrollDOM.scrollTop*Z.scaleY,height:Q.bottom-Q.top}}drawCursor(Z){if(this.cursor){let{scaleX:J,scaleY:Q}=this.view;if(Z)this.cursor.style.left=Z.left/J+"px",this.cursor.style.top=Z.top/Q+"px",this.cursor.style.height=Z.height/Q+"px";else this.cursor.style.left="-100000px"}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(Z){if(this.view.state.field(xO)!=Z)this.view.dispatch({effects:nZ0.of(Z)})}},{eventObservers:{dragover(Z){this.setDropPos(this.view.posAtCoords({x:Z.clientX,y:Z.clientY}))},dragleave(Z){if(Z.target==this.view.contentDOM||!this.view.contentDOM.contains(Z.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function aZ0(){return[xO,Qi0]}function V80(Z,J,Q,K,U){J.lastIndex=0;for(let X=Z.iterRange(Q,K),Y=Q,q;!X.next().done;Y+=X.value.length)if(!X.lineBreak)while(q=J.exec(X.value))U(Y+q.index,q)}function Ki0(Z,J){let Q=Z.visibleRanges;if(Q.length==1&&Q[0].from==Z.viewport.from&&Q[0].to==Z.viewport.to)return Q;let K=[];for(let{from:U,to:X}of Q)if(U=Math.max(Z.state.doc.lineAt(U).from,U-J),X=Math.min(Z.state.doc.lineAt(X).to,X+J),K.length&&K[K.length-1].to>=U)K[K.length-1].to=X;else K.push({from:U,to:X});return K}class oZ0{constructor(Z){let{regexp:J,decoration:Q,decorate:K,boundary:U,maxLength:X=1000}=Z;if(!J.global)throw RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=J,K)this.addMatch=(Y,q,W,G)=>K(G,W,W+Y[0].length,Y,q);else if(typeof Q=="function")this.addMatch=(Y,q,W,G)=>{let z=Q(Y,q,W);if(z)G(W,W+Y[0].length,z)};else if(Q)this.addMatch=(Y,q,W,G)=>G(W,W+Y[0].length,Q);else throw RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=U,this.maxLength=X}createDeco(Z){let J=new F4,Q=J.add.bind(J);for(let{from:K,to:U}of Ki0(Z,this.maxLength))V80(Z.state.doc,this.regexp,K,U,(X,Y)=>this.addMatch(Y,Z,X,Q));return J.finish()}updateDeco(Z,J){let Q=1e9,K=-1;if(Z.docChanged)Z.changes.iterChanges((U,X,Y,q)=>{if(q>=Z.view.viewport.from&&Y<=Z.view.viewport.to)Q=Math.min(Y,Q),K=Math.max(q,K)});if(Z.viewportMoved||K-Q>1000)return this.createDeco(Z.view);if(K>-1)return this.updateRange(Z.view,J.map(Z.changes),Q,K);return J}updateRange(Z,J,Q,K){for(let U of Z.visibleRanges){let X=Math.max(U.from,Q),Y=Math.min(U.to,K);if(Y>=X){let q=Z.state.doc.lineAt(X),W=q.to<Y?Z.state.doc.lineAt(Y):q,G=Math.max(U.from,q.from),z=Math.min(U.to,W.to);if(this.boundary){for(;X>q.from;X--)if(this.boundary.test(q.text[X-1-q.from])){G=X;break}for(;Y<W.to;Y++)if(this.boundary.test(W.text[Y-W.from])){z=Y;break}}let H=[],F,M=(B,O,R)=>H.push(R.range(B,O));if(q==W){this.regexp.lastIndex=G-q.from;while((F=this.regexp.exec(q.text))&&F.index<z-q.from)this.addMatch(F,Z,F.index+q.from,M)}else V80(Z.state.doc,this.regexp,G,z,(B,O)=>this.addMatch(O,Z,B,M));J=J.update({filterFrom:G,filterTo:z,filter:(B,O)=>B<G||O>z,add:H})}}return J}}var vv=/x/.unicode!=null?"gu":"g",Ui0=new RegExp(`[\x00-\b
-\x1F-\u2028\u2029\uFEFF-]`,vv),Xi0={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},zv=null;function Yi0(){var Z;if(zv==null&&typeof document<"u"&&document.body){let J=document.body.style;zv=((Z=J.tabSize)!==null&&Z!==void 0?Z:J.MozTabSize)!=null}return zv||!1}var jN=v8.define({combine(Z){let J=AQ(Z,{render:null,specialChars:Ui0,addSpecialChars:null});if(J.replaceTabs=!Yi0())J.specialChars=new RegExp("\t|"+J.specialChars.source,vv);if(J.addSpecialChars)J.specialChars=new RegExp(J.specialChars.source+"|"+J.addSpecialChars.source,vv);return J}});function tZ0(Z={}){return[jN.of(Z),qi0()]}var P80=null;function qi0(){return P80||(P80=OJ.fromClass(class{constructor(Z){this.view=Z,this.decorations=e8.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(Z.state.facet(jN)),this.decorations=this.decorator.createDeco(Z)}makeDecorator(Z){return new oZ0({regexp:Z.specialChars,decoration:(J,Q,K)=>{let{doc:U}=Q.state,X=l7(J[0],0);if(X==9){let Y=U.lineAt(K),q=Q.state.tabSize,W=gQ(Y.text,q,K-Y.from);return e8.replace({widget:new Z90((q-W%q)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[X]||(this.decorationCache[X]=e8.replace({widget:new eZ0(Z,X)}))},boundary:Z.replaceTabs?void 0:/[^]/})}update(Z){let J=Z.state.facet(jN);if(Z.startState.facet(jN)!=J)this.decorator=this.makeDecorator(J),this.decorations=this.decorator.createDeco(Z.view);else this.decorations=this.decorator.updateDeco(Z,this.decorations)}},{decorations:(Z)=>Z.decorations}))}var Wi0="";function Gi0(Z){if(Z>=32)return Wi0;if(Z==10)return"";return String.fromCharCode(9216+Z)}class eZ0 extends j6{constructor(Z,J){super();this.options=Z,this.code=J}eq(Z){return Z.code==this.code}toDOM(Z){let J=Gi0(this.code),Q=Z.state.phrase("Control character")+" "+(Xi0[this.code]||"0x"+this.code.toString(16)),K=this.options.render&&this.options.render(this.code,Q,J);if(K)return K;let U=document.createElement("span");return U.textContent=J,U.title=Q,U.setAttribute("aria-label",Q),U.className="cm-specialChar",U}ignoreEvent(){return!1}}class Z90 extends j6{constructor(Z){super();this.width=Z}eq(Z){return Z.width==this.width}toDOM(){let Z=document.createElement("span");return Z.textContent="\t",Z.className="cm-tab",Z.style.width=this.width+"px",Z}ignoreEvent(){return!1}}function J90(){return Hi0}var zi0=e8.line({class:"cm-activeLine"}),Hi0=OJ.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.docChanged||Z.selectionSet)this.decorations=this.getDeco(Z.view)}getDeco(Z){let J=-1,Q=[];for(let K of Z.state.selection.ranges){let U=Z.lineBlockAt(K.head);if(U.from>J)Q.push(zi0.range(U.from)),J=U.from}return e8.set(Q)}},{decorations:(Z)=>Z.decorations});var xv=2000;function Fi0(Z,J,Q){let K=Math.min(J.line,Q.line),U=Math.max(J.line,Q.line),X=[];if(J.off>xv||Q.off>xv||J.col<0||Q.col<0){let Y=Math.min(J.off,Q.off),q=Math.max(J.off,Q.off);for(let W=K;W<=U;W++){let G=Z.doc.line(W);if(G.length<=q)X.push(e0.range(G.from+Y,G.to+q))}}else{let Y=Math.min(J.col,Q.col),q=Math.max(J.col,Q.col);for(let W=K;W<=U;W++){let G=Z.doc.line(W),z=zN(G.text,Y,Z.tabSize,!0);if(z<0)X.push(e0.cursor(G.to));else{let H=zN(G.text,q,Z.tabSize);X.push(e0.range(G.from+z,G.from+H))}}}return X}function Mi0(Z,J){let Q=Z.coordsAtPos(Z.viewport.from);return Q?Math.round(Math.abs((Q.left-J)/Z.defaultCharacterWidth)):-1}function C80(Z,J){let Q=Z.posAtCoords({x:J.clientX,y:J.clientY},!1),K=Z.state.doc.lineAt(Q),U=Q-K.from,X=U>xv?-1:U==K.length?Mi0(Z,J.clientX):gQ(K.text,Z.state.tabSize,Q-K.from);return{line:K.number,col:X,off:U}}function Bi0(Z,J){let Q=C80(Z,J),K=Z.state.selection;if(!Q)return null;return{update(U){if(U.docChanged){let X=U.changes.mapPos(U.startState.doc.line(Q.line).from),Y=U.state.doc.lineAt(X);Q={line:Y.number,col:Q.col,off:Math.min(Q.off,Y.length)},K=K.map(U.changes)}},get(U,X,Y){let q=C80(Z,U);if(!q)return K;let W=Fi0(Z.state,Q,q);if(!W.length)return K;if(Y)return e0.create(W.concat(K.ranges));else return e0.create(W)}}}function Q90(Z){let J=(Z===null||Z===void 0?void 0:Z.eventFilter)||((Q)=>Q.altKey&&Q.button==0);return C8.mouseSelectionStyle.of((Q,K)=>J(K)?Bi0(Q,K):null)}var Oi0={Alt:[18,(Z)=>!!Z.altKey],Control:[17,(Z)=>!!Z.ctrlKey],Shift:[16,(Z)=>!!Z.shiftKey],Meta:[91,(Z)=>!!Z.metaKey]},Ri0={style:"cursor: crosshair"};function K90(Z={}){let[J,Q]=Oi0[Z.key||"Alt"],K=OJ.fromClass(class{constructor(U){this.view=U,this.isDown=!1}set(U){if(this.isDown!=U)this.isDown=U,this.view.update([])}},{eventObservers:{keydown(U){this.set(U.keyCode==J||Q(U))},keyup(U){if(U.keyCode==J||!Q(U))this.set(!1)},mousemove(U){this.set(Q(U))}}});return[K,C8.contentAttributes.of((U)=>{var X;return((X=U.plugin(K))===null||X===void 0?void 0:X.isDown)?Ri0:null})]}var DN="-10000px";class ov{constructor(Z,J,Q,K){this.facet=J,this.createTooltipView=Q,this.removeTooltipView=K,this.input=Z.state.facet(J),this.tooltips=this.input.filter((X)=>X);let U=null;this.tooltipViews=this.tooltips.map((X)=>U=Q(X,U))}update(Z,J){var Q;let K=Z.state.facet(this.facet),U=K.filter((q)=>q);if(K===this.input){for(let q of this.tooltipViews)if(q.update)q.update(Z);return!1}let X=[],Y=J?[]:null;for(let q=0;q<U.length;q++){let W=U[q],G=-1;if(!W)continue;for(let z=0;z<this.tooltips.length;z++){let H=this.tooltips[z];if(H&&H.create==W.create)G=z}if(G<0){if(X[q]=this.createTooltipView(W,q?X[q-1]:null),Y)Y[q]=!!W.above}else{let z=X[q]=this.tooltipViews[G];if(Y)Y[q]=J[G];if(z.update)z.update(Z)}}for(let q of this.tooltipViews)if(X.indexOf(q)<0)this.removeTooltipView(q),(Q=q.destroy)===null||Q===void 0||Q.call(q);if(J)Y.forEach((q,W)=>J[W]=q),J.length=Y.length;return this.input=K,this.tooltips=U,this.tooltipViews=X,!0}}function Li0(Z){let J=Z.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:J.clientHeight,right:J.clientWidth}}var Hv=v8.define({combine:(Z)=>{var J,Q,K;return{position:m8.ios?"absolute":((J=Z.find((U)=>U.position))===null||J===void 0?void 0:J.position)||"fixed",parent:((Q=Z.find((U)=>U.parent))===null||Q===void 0?void 0:Q.parent)||null,tooltipSpace:((K=Z.find((U)=>U.tooltipSpace))===null||K===void 0?void 0:K.tooltipSpace)||Li0}}}),j80=new WeakMap,tv=OJ.fromClass(class{constructor(Z){this.view=Z,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let J=Z.state.facet(Hv);this.position=J.position,this.parent=J.parent,this.classes=Z.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ov(Z,oO,(Q,K)=>this.createTooltip(Q,K),(Q)=>{if(this.resizeObserver)this.resizeObserver.unobserve(Q.dom);Q.dom.remove()}),this.above=this.manager.tooltips.map((Q)=>!!Q.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((Q)=>{if(Date.now()>this.lastTransaction-50&&Q.length>0&&Q[Q.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),Z.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let Z of this.manager.tooltipViews)this.intersectionObserver.observe(Z.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(Z){if(Z.transactions.length)this.lastTransaction=Date.now();let J=this.manager.update(Z,this.above);if(J)this.observeIntersection();let Q=J||Z.geometryChanged,K=Z.state.facet(Hv);if(K.position!=this.position&&!this.madeAbsolute){this.position=K.position;for(let U of this.manager.tooltipViews)U.dom.style.position=this.position;Q=!0}if(K.parent!=this.parent){if(this.parent)this.container.remove();this.parent=K.parent,this.createContainer();for(let U of this.manager.tooltipViews)this.container.appendChild(U.dom);Q=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(Q)this.maybeMeasure()}createTooltip(Z,J){let Q=Z.create(this.view),K=J?J.dom:null;if(Q.dom.classList.add("cm-tooltip"),Z.arrow&&!Q.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let U=document.createElement("div");U.className="cm-tooltip-arrow",Q.dom.appendChild(U)}if(Q.dom.style.position=this.position,Q.dom.style.top=DN,Q.dom.style.left="0px",this.container.insertBefore(Q.dom,K),Q.mount)Q.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(Q.dom);return Q}destroy(){var Z,J,Q;this.view.win.removeEventListener("resize",this.measureSoon);for(let K of this.manager.tooltipViews)K.dom.remove(),(Z=K.destroy)===null||Z===void 0||Z.call(K);if(this.parent)this.container.remove();(J=this.resizeObserver)===null||J===void 0||J.disconnect(),(Q=this.intersectionObserver)===null||Q===void 0||Q.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let Z=1,J=1,Q=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:X}=this.manager.tooltipViews[0];if(m8.safari){let Y=X.getBoundingClientRect();Q=Math.abs(Y.top+1e4)>1||Math.abs(Y.left)>1}else Q=!!X.offsetParent&&X.offsetParent!=this.container.ownerDocument.body}if(Q||this.position=="absolute")if(this.parent){let X=this.parent.getBoundingClientRect();if(X.width&&X.height)Z=X.width/this.parent.offsetWidth,J=X.height/this.parent.offsetHeight}else({scaleX:Z,scaleY:J}=this.view.viewState);let K=this.view.scrollDOM.getBoundingClientRect(),U=iv(this.view);return{visible:{left:K.left+U.left,top:K.top+U.top,right:K.right-U.right,bottom:K.bottom-U.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((X,Y)=>{let q=this.manager.tooltipViews[Y];return q.getCoords?q.getCoords(X.pos):this.view.coordsAtPos(X.pos)}),size:this.manager.tooltipViews.map(({dom:X})=>X.getBoundingClientRect()),space:this.view.state.facet(Hv).tooltipSpace(this.view),scaleX:Z,scaleY:J,makeAbsolute:Q}}writeMeasure(Z){var J;if(Z.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let q of this.manager.tooltipViews)q.dom.style.position="absolute"}let{visible:Q,space:K,scaleX:U,scaleY:X}=Z,Y=[];for(let q=0;q<this.manager.tooltips.length;q++){let W=this.manager.tooltips[q],G=this.manager.tooltipViews[q],{dom:z}=G,H=Z.pos[q],F=Z.size[q];if(!H||W.clip!==!1&&(H.bottom<=Math.max(Q.top,K.top)||H.top>=Math.min(Q.bottom,K.bottom)||H.right<Math.max(Q.left,K.left)-0.1||H.left>Math.min(Q.right,K.right)+0.1)){z.style.top=DN;continue}let M=W.arrow?G.dom.querySelector(".cm-tooltip-arrow"):null,B=M?7:0,O=F.right-F.left,R=(J=j80.get(G))!==null&&J!==void 0?J:F.bottom-F.top,L=G.offset||Ii0,D=this.view.textDirection==V9.LTR,A=F.width>K.right-K.left?D?K.left:K.right-F.width:D?Math.max(K.left,Math.min(H.left-(M?14:0)+L.x,K.right-O)):Math.min(Math.max(K.left,H.left-O+(M?14:0)-L.x),K.right-O),V=this.above[q];if(!W.strictSide&&(V?H.top-R-B-L.y<K.top:H.bottom+R+B+L.y>K.bottom)&&V==K.bottom-H.bottom>H.top-K.top)V=this.above[q]=!V;let N=(V?H.top-K.top:K.bottom-H.bottom)-B;if(N<R&&G.resize!==!1){if(N<this.view.defaultLineHeight){z.style.top=DN;continue}j80.set(G,R),z.style.height=(R=N)/X+"px"}else if(z.style.height)z.style.height="";let E=V?H.top-R-B-L.y:H.bottom+B+L.y,C=A+O;if(G.overlap!==!0){for(let j of Y)if(j.left<C&&j.right>A&&j.top<E+R&&j.bottom>E)E=V?j.top-R-2-B:j.bottom+B+2}if(this.position=="absolute")z.style.top=(E-Z.parent.top)/X+"px",S80(z,(A-Z.parent.left)/U);else z.style.top=E/X+"px",S80(z,A/U);if(M){let j=H.left+(D?L.x:-L.x)-(A+14-7);M.style.left=j/U+"px"}if(G.overlap!==!0)Y.push({left:A,top:E,right:C,bottom:E+R});if(z.classList.toggle("cm-tooltip-above",V),z.classList.toggle("cm-tooltip-below",!V),G.positioned)G.positioned(Z.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let Z of this.manager.tooltipViews)Z.dom.style.top=DN}}}},{eventObservers:{scroll(){this.maybeMeasure()}}});function S80(Z,J){let Q=parseInt(Z.style.left,10);if(isNaN(Q)||Math.abs(J-Q)>1)Z.style.left=J+"px"}var Di0=C8.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ii0={x:0,y:0},oO=v8.define({enables:[tv,Di0]}),yN=v8.define({combine:(Z)=>Z.reduce((J,Q)=>J.concat(Q),[])});class gN{static create(Z){return new gN(Z)}constructor(Z){this.view=Z,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ov(Z,yN,(J,Q)=>this.createHostedView(J,Q),(J)=>J.dom.remove())}createHostedView(Z,J){let Q=Z.create(this.view);if(Q.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(Q.dom,J?J.dom.nextSibling:this.dom.firstChild),this.mounted&&Q.mount)Q.mount(this.view);return Q}mount(Z){for(let J of this.manager.tooltipViews)if(J.mount)J.mount(Z);this.mounted=!0}positioned(Z){for(let J of this.manager.tooltipViews)if(J.positioned)J.positioned(Z)}update(Z){this.manager.update(Z)}destroy(){var Z;for(let J of this.manager.tooltipViews)(Z=J.destroy)===null||Z===void 0||Z.call(J)}passProp(Z){let J=void 0;for(let Q of this.manager.tooltipViews){let K=Q[Z];if(K!==void 0){if(J===void 0)J=K;else if(J!==K)return}}return J}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}var Ai0=oO.compute([yN],(Z)=>{let J=Z.facet(yN);if(J.length===0)return null;return{pos:Math.min(...J.map((Q)=>Q.pos)),end:Math.max(...J.map((Q)=>{var K;return(K=Q.end)!==null&&K!==void 0?K:Q.pos})),create:gN.create,above:J[0].above,arrow:J.some((Q)=>Q.arrow)}});class U90{constructor(Z,J,Q,K,U){this.view=Z,this.source=J,this.field=Q,this.setHover=K,this.hoverTime=U,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Z.dom,time:0},this.checkHover=this.checkHover.bind(this),Z.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Z.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending)this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20)}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let Z=Date.now()-this.lastMove.time;if(Z<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Z);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:Z,lastMove:J}=this,Q=Z.docView.tile.nearest(J.target);if(!Q)return;let K,U=1;if(Q.isWidget())K=Q.posAtStart;else{if(K=Z.posAtCoords(J),K==null)return;let Y=Z.coordsAtPos(K);if(!Y||J.y<Y.top||J.y>Y.bottom||J.x<Y.left-Z.defaultCharacterWidth||J.x>Y.right+Z.defaultCharacterWidth)return;let q=Z.bidiSpans(Z.state.doc.lineAt(K)).find((G)=>G.from<=K&&G.to>=K),W=q&&q.dir==V9.RTL?-1:1;U=J.x<Y.left?-W:W}let X=this.source(Z,K,U);if(X===null||X===void 0?void 0:X.then){let Y=this.pending={pos:K};X.then((q)=>{if(this.pending==Y){if(this.pending=null,q&&!(Array.isArray(q)&&!q.length))Z.dispatch({effects:this.setHover.of(Array.isArray(q)?q:[q])})}},(q)=>i7(Z.state,q,"hover tooltip"))}else if(X&&!(Array.isArray(X)&&!X.length))Z.dispatch({effects:this.setHover.of(Array.isArray(X)?X:[X])})}get tooltip(){let Z=this.view.plugin(tv),J=Z?Z.manager.tooltips.findIndex((Q)=>Q.create==gN.create):-1;return J>-1?Z.manager.tooltipViews[J]:null}mousemove(Z){var J,Q;if(this.lastMove={x:Z.clientX,y:Z.clientY,target:Z.target,time:Date.now()},this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let{active:K,tooltip:U}=this;if(K.length&&U&&!Ni0(U.dom,Z)||this.pending){let{pos:X}=K[0]||this.pending,Y=(Q=(J=K[0])===null||J===void 0?void 0:J.end)!==null&&Q!==void 0?Q:X;if(X==Y?this.view.posAtCoords(this.lastMove)!=X:!Ei0(this.view,X,Y,Z.clientX,Z.clientY))this.view.dispatch({effects:this.setHover.of([])}),this.pending=null}}mouseleave(Z){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:J}=this;if(J.length){let{tooltip:Q}=this;if(!(Q&&Q.dom.contains(Z.relatedTarget)))this.view.dispatch({effects:this.setHover.of([])});else this.watchTooltipLeave(Q.dom)}}watchTooltipLeave(Z){let J=(Q)=>{if(Z.removeEventListener("mouseleave",J),this.active.length&&!this.view.dom.contains(Q.relatedTarget))this.view.dispatch({effects:this.setHover.of([])})};Z.addEventListener("mouseleave",J)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}var IN=4;function Ni0(Z,J){let{left:Q,right:K,top:U,bottom:X}=Z.getBoundingClientRect(),Y;if(Y=Z.querySelector(".cm-tooltip-arrow")){let q=Y.getBoundingClientRect();U=Math.min(q.top,U),X=Math.max(q.bottom,X)}return J.clientX>=Q-IN&&J.clientX<=K+IN&&J.clientY>=U-IN&&J.clientY<=X+IN}function Ei0(Z,J,Q,K,U,X){let Y=Z.scrollDOM.getBoundingClientRect(),q=Z.documentTop+Z.documentPadding.top+Z.contentHeight;if(Y.left>K||Y.right<K||Y.top>U||Math.min(Y.bottom,q)<U)return!1;let W=Z.posAtCoords({x:K,y:U},!1);return W>=J&&W<=Q}function X90(Z,J={}){let Q=OZ.define(),K=BJ.define({create(){return[]},update(U,X){if(U.length){if(J.hideOnChange&&(X.docChanged||X.selection))U=[];else if(J.hideOn)U=U.filter((Y)=>!J.hideOn(X,Y));if(X.docChanged){let Y=[];for(let q of U){let W=X.changes.mapPos(q.pos,-1,F7.TrackDel);if(W!=null){let G=Object.assign(Object.create(null),q);if(G.pos=W,G.end!=null)G.end=X.changes.mapPos(G.end);Y.push(G)}}U=Y}}for(let Y of X.effects){if(Y.is(Q))U=Y.value;if(Y.is(Vi0))U=[]}return U},provide:(U)=>yN.from(U)});return{active:K,extension:[K,OJ.define((U)=>new U90(U,Z,K,Q,J.hoverTime||300)),Ai0]}}function ev(Z,J){let Q=Z.plugin(tv);if(!Q)return null;let K=Q.manager.tooltips.indexOf(J);return K<0?null:Q.manager.tooltipViews[K]}var Vi0=OZ.define();var T80=v8.define({combine(Z){let J,Q;for(let K of Z)J=J||K.topContainer,Q=Q||K.bottomContainer;return{topContainer:J,bottomContainer:Q}}});function tO(Z,J){let Q=Z.plugin(Y90),K=Q?Q.specs.indexOf(J):-1;return K>-1?Q.panels[K]:null}var Y90=OJ.fromClass(class{constructor(Z){this.input=Z.state.facet(nW),this.specs=this.input.filter((Q)=>Q),this.panels=this.specs.map((Q)=>Q(Z));let J=Z.state.facet(T80);this.top=new bO(Z,!0,J.topContainer),this.bottom=new bO(Z,!1,J.bottomContainer),this.top.sync(this.panels.filter((Q)=>Q.top)),this.bottom.sync(this.panels.filter((Q)=>!Q.top));for(let Q of this.panels)if(Q.dom.classList.add("cm-panel"),Q.mount)Q.mount()}update(Z){let J=Z.state.facet(T80);if(this.top.container!=J.topContainer)this.top.sync([]),this.top=new bO(Z.view,!0,J.topContainer);if(this.bottom.container!=J.bottomContainer)this.bottom.sync([]),this.bottom=new bO(Z.view,!1,J.bottomContainer);this.top.syncClasses(),this.bottom.syncClasses();let Q=Z.state.facet(nW);if(Q!=this.input){let K=Q.filter((W)=>W),U=[],X=[],Y=[],q=[];for(let W of K){let G=this.specs.indexOf(W),z;if(G<0)z=W(Z.view),q.push(z);else if(z=this.panels[G],z.update)z.update(Z);U.push(z),(z.top?X:Y).push(z)}this.specs=K,this.panels=U,this.top.sync(X),this.bottom.sync(Y);for(let W of q)if(W.dom.classList.add("cm-panel"),W.mount)W.mount()}else for(let K of this.panels)if(K.update)K.update(Z)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:(Z)=>C8.scrollMargins.of((J)=>{let Q=J.plugin(Z);return Q&&{top:Q.top.scrollMargin(),bottom:Q.bottom.scrollMargin()}})});class bO{constructor(Z,J,Q){this.view=Z,this.top=J,this.container=Q,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Z){for(let J of this.panels)if(J.destroy&&Z.indexOf(J)<0)J.destroy();this.panels=Z,this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom)this.dom.remove(),this.dom=void 0;return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let J=this.container||this.view.dom;J.insertBefore(this.dom,this.top?J.firstChild:null)}let Z=this.dom.firstChild;for(let J of this.panels)if(J.dom.parentNode==this.dom){while(Z!=J.dom)Z=w80(Z);Z=Z.nextSibling}else this.dom.insertBefore(J.dom,Z);while(Z)Z=w80(Z)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let Z of this.classes.split(" "))if(Z)this.container.classList.remove(Z);for(let Z of(this.classes=this.view.themeClasses).split(" "))if(Z)this.container.classList.add(Z)}}function w80(Z){let J=Z.nextSibling;return Z.remove(),J}var nW=v8.define({enables:Y90});function q90(Z,J){let Q,K=new Promise((Y)=>Q=Y),U=(Y)=>Pi0(Y,J,Q);if(Z.state.field(Fv,!1))Z.dispatch({effects:W90.of(U)});else Z.dispatch({effects:OZ.appendConfig.of(Fv.init(()=>[U]))});let X=G90.of(U);return{close:X,result:K.then((Y)=>{return(Z.win.queueMicrotask||((W)=>Z.win.setTimeout(W,10)))(()=>{if(Z.state.field(Fv).indexOf(U)>-1)Z.dispatch({effects:X})}),Y})}}var Fv=BJ.define({create(){return[]},update(Z,J){for(let Q of J.effects)if(Q.is(W90))Z=[Q.value].concat(Z);else if(Q.is(G90))Z=Z.filter((K)=>K!=Q.value);return Z},provide:(Z)=>nW.computeN([Z],(J)=>J.field(Z))}),W90=OZ.define(),G90=OZ.define();function Pi0(Z,J,Q){let K=J.content?J.content(Z,()=>Y(null)):null;if(!K){if(K=B9("form"),J.input){let q=B9("input",J.input);if(/^(text|password|number|email|tel|url)$/.test(q.type))q.classList.add("cm-textfield");if(!q.name)q.name="input";K.appendChild(B9("label",(J.label||"")+": ",q))}else K.appendChild(document.createTextNode(J.label||""));K.appendChild(document.createTextNode(" ")),K.appendChild(B9("button",{class:"cm-button",type:"submit"},J.submitLabel||"OK"))}let U=K.nodeName=="FORM"?[K]:K.querySelectorAll("form");for(let q=0;q<U.length;q++){let W=U[q];W.addEventListener("keydown",(G)=>{if(G.keyCode==27)G.preventDefault(),Y(null);else if(G.keyCode==13)G.preventDefault(),Y(W)}),W.addEventListener("submit",(G)=>{G.preventDefault(),Y(W)})}let X=B9("div",K,B9("button",{onclick:()=>Y(null),"aria-label":Z.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));if(J.class)X.className=J.class;X.classList.add("cm-dialog");function Y(q){if(X.contains(X.ownerDocument.activeElement))Z.focus();Q(q)}return{dom:X,top:J.top,mount:()=>{if(J.focus){let q;if(typeof J.focus=="string")q=K.querySelector(J.focus);else q=K.querySelector("input")||K.querySelector("button");if(q&&"select"in q)q.select();else if(q&&"focus"in q)q.focus()}}}}class n4 extends pK{compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}eq(Z){return!1}destroy(Z){}}n4.prototype.elementClass="";n4.prototype.toDOM=void 0;n4.prototype.mapMode=F7.TrackBefore;n4.prototype.startSide=n4.prototype.endSide=-1;n4.prototype.point=!0;var SN=v8.define(),Ci0=v8.define(),ji0={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>kZ.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},uO=v8.define();function Zx(Z){return[z90(),uO.of({...ji0,...Z})]}var bv=v8.define({combine:(Z)=>Z.some((J)=>J)});function z90(Z){let J=[Si0];if(Z&&Z.fixed===!1)J.push(bv.of(!0));return J}var Si0=OJ.fromClass(class{constructor(Z){this.view=Z,this.domAfter=null,this.prevViewport=Z.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=Z.state.facet(uO).map((J)=>new hv(Z,J)),this.fixed=!Z.state.facet(bv);for(let J of this.gutters)if(J.config.side=="after")this.getDOMAfter().appendChild(J.dom);else this.dom.appendChild(J.dom);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),Z.scrollDOM.insertBefore(this.dom,Z.contentDOM)}getDOMAfter(){if(!this.domAfter)this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter);return this.domAfter}update(Z){if(this.updateGutters(Z)){let J=this.prevViewport,Q=Z.view.viewport,K=Math.min(J.to,Q.to)-Math.max(J.from,Q.from);this.syncGutters(K<(Q.to-Q.from)*0.8)}if(Z.geometryChanged){let J=this.view.contentHeight/this.view.scaleY+"px";if(this.dom.style.minHeight=J,this.domAfter)this.domAfter.style.minHeight=J}if(this.view.state.facet(bv)!=!this.fixed){if(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter)this.domAfter.style.position=this.fixed?"sticky":""}this.prevViewport=Z.view.viewport}syncGutters(Z){let J=this.dom.nextSibling;if(Z){if(this.dom.remove(),this.domAfter)this.domAfter.remove()}let Q=kZ.iter(this.view.state.facet(SN),this.view.viewport.from),K=[],U=this.gutters.map((X)=>new H90(X,this.view.viewport,-this.view.documentPadding.top));for(let X of this.view.viewportLineBlocks){if(K.length)K=[];if(Array.isArray(X.type)){let Y=!0;for(let q of X.type)if(q.type==s7.Text&&Y){yv(Q,K,q.from);for(let W of U)W.line(this.view,q,K);Y=!1}else if(q.widget)for(let W of U)W.widget(this.view,q)}else if(X.type==s7.Text){yv(Q,K,X.from);for(let Y of U)Y.line(this.view,X,K)}else if(X.widget)for(let Y of U)Y.widget(this.view,X)}for(let X of U)X.finish();if(Z){if(this.view.scrollDOM.insertBefore(this.dom,J),this.domAfter)this.view.scrollDOM.appendChild(this.domAfter)}}updateGutters(Z){let J=Z.startState.facet(uO),Q=Z.state.facet(uO),K=Z.docChanged||Z.heightChanged||Z.viewportChanged||!kZ.eq(Z.startState.facet(SN),Z.state.facet(SN),Z.view.viewport.from,Z.view.viewport.to);if(J==Q){for(let U of this.gutters)if(U.update(Z))K=!0}else{K=!0;let U=[];for(let X of Q){let Y=J.indexOf(X);if(Y<0)U.push(new hv(this.view,X));else this.gutters[Y].update(Z),U.push(this.gutters[Y])}for(let X of this.gutters)if(X.dom.remove(),U.indexOf(X)<0)X.destroy();for(let X of U)if(X.config.side=="after")this.getDOMAfter().appendChild(X.dom);else this.dom.appendChild(X.dom);this.gutters=U}return K}destroy(){for(let Z of this.gutters)Z.destroy();if(this.dom.remove(),this.domAfter)this.domAfter.remove()}},{provide:(Z)=>C8.scrollMargins.of((J)=>{let Q=J.plugin(Z);if(!Q||Q.gutters.length==0||!Q.fixed)return null;let K=Q.dom.offsetWidth*J.scaleX,U=Q.domAfter?Q.domAfter.offsetWidth*J.scaleX:0;return J.textDirection==V9.LTR?{left:K,right:U}:{right:K,left:U}})});function $80(Z){return Array.isArray(Z)?Z:[Z]}function yv(Z,J,Q){while(Z.value&&Z.from<=Q){if(Z.from==Q)J.push(Z.value);Z.next()}}class H90{constructor(Z,J,Q){this.gutter=Z,this.height=Q,this.i=0,this.cursor=kZ.iter(Z.markers,J.from)}addElement(Z,J,Q){let{gutter:K}=this,U=(J.top-this.height)/Z.scaleY,X=J.height/Z.scaleY;if(this.i==K.elements.length){let Y=new Jx(Z,X,U,Q);K.elements.push(Y),K.dom.appendChild(Y.dom)}else K.elements[this.i].update(Z,X,U,Q);this.height=J.bottom,this.i++}line(Z,J,Q){let K=[];if(yv(this.cursor,K,J.from),Q.length)K=K.concat(Q);let U=this.gutter.config.lineMarker(Z,J,K);if(U)K.unshift(U);let X=this.gutter;if(K.length==0&&!X.config.renderEmptyElements)return;this.addElement(Z,J,K)}widget(Z,J){let Q=this.gutter.config.widgetMarker(Z,J.widget,J),K=Q?[Q]:null;for(let U of Z.state.facet(Ci0)){let X=U(Z,J.widget,J);if(X)(K||(K=[])).push(X)}if(K)this.addElement(Z,J,K)}finish(){let Z=this.gutter;while(Z.elements.length>this.i){let J=Z.elements.pop();Z.dom.removeChild(J.dom),J.destroy()}}}class hv{constructor(Z,J){this.view=Z,this.config=J,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let Q in J.domEventHandlers)this.dom.addEventListener(Q,(K)=>{let U=K.target,X;if(U!=this.dom&&this.dom.contains(U)){while(U.parentNode!=this.dom)U=U.parentNode;let q=U.getBoundingClientRect();X=(q.top+q.bottom)/2}else X=K.clientY;let Y=Z.lineBlockAtHeight(X-Z.documentTop);if(J.domEventHandlers[Q](Z,Y,K))K.preventDefault()});if(this.markers=$80(J.markers(Z)),J.initialSpacer)this.spacer=new Jx(Z,0,0,[J.initialSpacer(Z)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(Z){let J=this.markers;if(this.markers=$80(this.config.markers(Z.view)),this.spacer&&this.config.updateSpacer){let K=this.config.updateSpacer(this.spacer.markers[0],Z);if(K!=this.spacer.markers[0])this.spacer.update(Z.view,0,0,[K])}let Q=Z.view.viewport;return!kZ.eq(this.markers,J,Q.from,Q.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Z):!1)}destroy(){for(let Z of this.elements)Z.destroy()}}class Jx{constructor(Z,J,Q,K){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Z,J,Q,K)}update(Z,J,Q,K){if(this.height!=J)this.height=J,this.dom.style.height=J+"px";if(this.above!=Q)this.dom.style.marginTop=(this.above=Q)?Q+"px":"";if(!Ti0(this.markers,K))this.setMarkers(Z,K)}setMarkers(Z,J){let Q="cm-gutterElement",K=this.dom.firstChild;for(let U=0,X=0;;){let Y=X,q=U<J.length?J[U++]:null,W=!1;if(q){let G=q.elementClass;if(G)Q+=" "+G;for(let z=X;z<this.markers.length;z++)if(this.markers[z].compare(q)){Y=z,W=!0;break}}else Y=this.markers.length;while(X<Y){let G=this.markers[X++];if(G.toDOM){G.destroy(K);let z=K.nextSibling;K.remove(),K=z}}if(!q)break;if(q.toDOM)if(W)K=K.nextSibling;else this.dom.insertBefore(q.toDOM(Z),K);if(W)X++}this.dom.className=Q,this.markers=J}destroy(){this.setMarkers(null,[])}}function Ti0(Z,J){if(Z.length!=J.length)return!1;for(let Q=0;Q<Z.length;Q++)if(!Z[Q].compare(J[Q]))return!1;return!0}var wi0=v8.define(),$i0=v8.define(),YH=v8.define({combine(Z){return AQ(Z,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(J,Q){let K=Object.assign({},J);for(let U in Q){let X=K[U],Y=Q[U];K[U]=X?(q,W,G)=>X(q,W,G)||Y(q,W,G):Y}return K}})}});class TN extends n4{constructor(Z){super();this.number=Z}eq(Z){return this.number==Z.number}toDOM(){return document.createTextNode(this.number)}}function Mv(Z,J){return Z.state.facet(YH).formatNumber(J,Z.state)}var ki0=uO.compute([YH],(Z)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(J){return J.state.facet(wi0)},lineMarker(J,Q,K){if(K.some((U)=>U.toDOM))return null;return new TN(Mv(J,J.state.doc.lineAt(Q.from).number))},widgetMarker:(J,Q,K)=>{for(let U of J.state.facet($i0)){let X=U(J,Q,K);if(X)return X}return null},lineMarkerChange:(J)=>J.startState.facet(YH)!=J.state.facet(YH),initialSpacer(J){return new TN(Mv(J,k80(J.state.doc.lines)))},updateSpacer(J,Q){let K=Mv(Q.view,k80(Q.view.state.doc.lines));return K==J.number?J:new TN(K)},domEventHandlers:Z.facet(YH).domEventHandlers,side:"before"}));function F90(Z={}){return[YH.of(Z),z90(),ki0]}function k80(Z){let J=9;while(J<Z)J=J*10+9;return J}var _i0=new class extends n4{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},fi0=SN.compute(["selection"],(Z)=>{let J=[],Q=-1;for(let K of Z.selection.ranges){let U=Z.doc.lineAt(K.head).from;if(U>Q)Q=U,J.push(_i0.range(U))}return kZ.of(J)});function M90(){return fi0}var N90=1024,vi0=0;class R4{constructor(Z,J){this.from=Z,this.to=J}}class WZ{constructor(Z={}){this.id=vi0++,this.perNode=!!Z.perNode,this.deserialize=Z.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")}),this.combine=Z.combine||null}add(Z){if(this.perNode)throw RangeError("Can't add per-node props to node types");if(typeof Z!="function")Z=bJ.match(Z);return(J)=>{let Q=Z(J);return Q===void 0?null:[this,Q]}}}WZ.closedBy=new WZ({deserialize:(Z)=>Z.split(" ")});WZ.openedBy=new WZ({deserialize:(Z)=>Z.split(" ")});WZ.group=new WZ({deserialize:(Z)=>Z.split(" ")});WZ.isolate=new WZ({deserialize:(Z)=>{if(Z&&Z!="rtl"&&Z!="ltr"&&Z!="auto")throw RangeError("Invalid value for isolate: "+Z);return Z||"auto"}});WZ.contextHash=new WZ({perNode:!0});WZ.lookAhead=new WZ({perNode:!0});WZ.mounted=new WZ({perNode:!0});class aW{constructor(Z,J,Q,K=!1){this.tree=Z,this.overlay=J,this.parser=Q,this.bracketed=K}static get(Z){return Z&&Z.props&&Z.props[WZ.mounted.id]}}var xi0=Object.create(null);class bJ{constructor(Z,J,Q,K=0){this.name=Z,this.props=J,this.id=Q,this.flags=K}static define(Z){let J=Z.props&&Z.props.length?Object.create(null):xi0,Q=(Z.top?1:0)|(Z.skipped?2:0)|(Z.error?4:0)|(Z.name==null?8:0),K=new bJ(Z.name||"",J,Z.id,Q);if(Z.props)for(let U of Z.props){if(!Array.isArray(U))U=U(K);if(U){if(U[0].perNode)throw RangeError("Can't store a per-node prop on a node type");J[U[0].id]=U[1]}}return K}prop(Z){return this.props[Z.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Z){if(typeof Z=="string"){if(this.name==Z)return!0;let J=this.prop(WZ.group);return J?J.indexOf(Z)>-1:!1}return this.id==Z}static match(Z){let J=Object.create(null);for(let Q in Z)for(let K of Q.split(" "))J[K]=Z[Q];return(Q)=>{for(let K=Q.prop(WZ.group),U=-1;U<(K?K.length:0);U++){let X=J[U<0?Q.name:K[U]];if(X)return X}}}}bJ.none=new bJ("",Object.create(null),0,8);class tY{constructor(Z){this.types=Z;for(let J=0;J<Z.length;J++)if(Z[J].id!=J)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Z){let J=[];for(let Q of this.types){let K=null;for(let U of Z){let X=U(Q);if(X){if(!K)K=Object.assign({},Q.props);let Y=X[1],q=X[0];if(q.combine&&q.id in K)Y=q.combine(K[q.id],Y);K[q.id]=Y}}J.push(K?new bJ(Q.name,K,Q.id,Q.flags):Q)}return new tY(J)}}var pN=new WeakMap,B90=new WeakMap,K9;(function(Z){Z[Z.ExcludeBuffers=1]="ExcludeBuffers",Z[Z.IncludeAnonymous=2]="IncludeAnonymous",Z[Z.IgnoreMounts=4]="IgnoreMounts",Z[Z.IgnoreOverlays=8]="IgnoreOverlays",Z[Z.EnterBracketed=16]="EnterBracketed"})(K9||(K9={}));class U9{constructor(Z,J,Q,K,U){if(this.type=Z,this.children=J,this.positions=Q,this.length=K,this.props=null,U&&U.length){this.props=Object.create(null);for(let[X,Y]of U)this.props[typeof X=="number"?X:X.id]=Y}}toString(){let Z=aW.get(this);if(Z&&!Z.overlay)return Z.tree.toString();let J="";for(let Q of this.children){let K=Q.toString();if(K){if(J)J+=",";J+=K}}return!this.type.name?J:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(J.length?"("+J+")":"")}cursor(Z=0){return new ZR(this.topNode,Z)}cursorAt(Z,J=0,Q=0){let K=pN.get(this)||this.topNode,U=new ZR(K);return U.moveTo(Z,J),pN.set(this,U._tree),U}get topNode(){return new NQ(this,0,0,null)}resolve(Z,J=0){let Q=eO(pN.get(this)||this.topNode,Z,J,!1);return pN.set(this,Q),Q}resolveInner(Z,J=0){let Q=eO(B90.get(this)||this.topNode,Z,J,!0);return B90.set(this,Q),Q}resolveStack(Z,J=0){return bi0(this,Z,J)}iterate(Z){let{enter:J,leave:Q,from:K=0,to:U=this.length}=Z,X=Z.mode||0,Y=(X&K9.IncludeAnonymous)>0;for(let q=this.cursor(X|K9.IncludeAnonymous);;){let W=!1;if(q.from<=U&&q.to>=K&&(!Y&&q.type.isAnonymous||J(q)!==!1)){if(q.firstChild())continue;W=!0}for(;;){if(W&&Q&&(Y||!q.type.isAnonymous))Q(q);if(q.nextSibling())break;if(!q.parent())return;W=!0}}}prop(Z){return!Z.perNode?this.type.prop(Z):this.props?this.props[Z.id]:void 0}get propValues(){let Z=[];if(this.props)for(let J in this.props)Z.push([+J,this.props[J]]);return Z}balance(Z={}){return this.children.length<=8?this:Gx(bJ.none,this.children,this.positions,0,this.children.length,0,this.length,(J,Q,K)=>new U9(this.type,J,Q,K,this.propValues),Z.makeTree||((J,Q,K)=>new U9(bJ.none,J,Q,K)))}static build(Z){return yi0(Z)}}U9.empty=new U9(bJ.none,[],[],0);class Yx{constructor(Z,J){this.buffer=Z,this.index=J}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Yx(this.buffer,this.index)}}class oY{constructor(Z,J,Q){this.buffer=Z,this.length=J,this.set=Q}get type(){return bJ.none}toString(){let Z=[];for(let J=0;J<this.buffer.length;)Z.push(this.childString(J)),J=this.buffer[J+3];return Z.join(",")}childString(Z){let J=this.buffer[Z],Q=this.buffer[Z+3],K=this.set.types[J],U=K.name;if(/\W/.test(U)&&!K.isError)U=JSON.stringify(U);if(Z+=4,Q==Z)return U;let X=[];while(Z<Q)X.push(this.childString(Z)),Z=this.buffer[Z+3];return U+"("+X.join(",")+")"}findChild(Z,J,Q,K,U){let{buffer:X}=this,Y=-1;for(let q=Z;q!=J;q=X[q+3])if(E90(U,K,X[q+1],X[q+2])){if(Y=q,Q>0)break}return Y}slice(Z,J,Q){let K=this.buffer,U=new Uint16Array(J-Z),X=0;for(let Y=Z,q=0;Y<J;){U[q++]=K[Y++],U[q++]=K[Y++]-Q;let W=U[q++]=K[Y++]-Q;U[q++]=K[Y++]-Z,X=Math.max(X,W)}return new oY(U,X,this.set)}}function E90(Z,J,Q,K){switch(Z){case-2:return Q<J;case-1:return K>=J&&Q<J;case 0:return Q<J&&K>J;case 1:return Q<=J&&K>J;case 2:return K>J;case 4:return!0}}function eO(Z,J,Q,K){var U;while(Z.from==Z.to||(Q<1?Z.from>=J:Z.from>J)||(Q>-1?Z.to<=J:Z.to<J)){let Y=!K&&Z instanceof NQ&&Z.index<0?null:Z.parent;if(!Y)return Z;Z=Y}let X=K?0:K9.IgnoreOverlays;if(K){for(let Y=Z,q=Y.parent;q;Y=q,q=Y.parent)if(Y instanceof NQ&&Y.index<0&&((U=q.enter(J,Q,X))===null||U===void 0?void 0:U.from)!=Y.from)Z=q}for(;;){let Y=Z.enter(J,Q,X);if(!Y)return Z;Z=Y}}class qx{cursor(Z=0){return new ZR(this,Z)}getChild(Z,J=null,Q=null){let K=O90(this,Z,J,Q);return K.length?K[0]:null}getChildren(Z,J=null,Q=null){return O90(this,Z,J,Q)}resolve(Z,J=0){return eO(this,Z,J,!1)}resolveInner(Z,J=0){return eO(this,Z,J,!0)}matchContext(Z){return Qx(this.parent,Z)}enterUnfinishedNodesBefore(Z){let J=this.childBefore(Z),Q=this;while(J){let K=J.lastChild;if(!K||K.to!=J.to)break;if(K.type.isError&&K.from==K.to)Q=J,J=K.prevSibling;else J=K}return Q}get node(){return this}get next(){return this.parent}}class NQ extends qx{constructor(Z,J,Q,K){super();this._tree=Z,this.from=J,this.index=Q,this._parent=K}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Z,J,Q,K,U=0){for(let X=this;;){for(let{children:Y,positions:q}=X._tree,W=J>0?Y.length:-1;Z!=W;Z+=J){let G=Y[Z],z=q[Z]+X.from,H;if(!(U&K9.EnterBracketed&&G instanceof U9&&(H=aW.get(G))&&!H.overlay&&H.bracketed&&Q>=z&&Q<=z+G.length)&&!E90(K,Q,z,z+G.length))continue;if(G instanceof oY){if(U&K9.ExcludeBuffers)continue;let F=G.findChild(0,G.buffer.length,J,Q-z,K);if(F>-1)return new i5(new V90(X,G,Z,z),null,F)}else if(U&K9.IncludeAnonymous||(!G.type.isAnonymous||Wx(G))){let F;if(!(U&K9.IgnoreMounts)&&(F=aW.get(G))&&!F.overlay)return new NQ(F.tree,z,Z,X);let M=new NQ(G,z,Z,X);return U&K9.IncludeAnonymous||!M.type.isAnonymous?M:M.nextChild(J<0?G.children.length-1:0,J,Q,K,U)}}if(U&K9.IncludeAnonymous||!X.type.isAnonymous)return null;if(X.index>=0)Z=X.index+J;else Z=J<0?-1:X._parent._tree.children.length;if(X=X._parent,!X)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Z){return this.nextChild(0,1,Z,2)}childBefore(Z){return this.nextChild(this._tree.children.length-1,-1,Z,-2)}prop(Z){return this._tree.prop(Z)}enter(Z,J,Q=0){let K;if(!(Q&K9.IgnoreOverlays)&&(K=aW.get(this._tree))&&K.overlay){let U=Z-this.from,X=Q&K9.EnterBracketed&&K.bracketed;for(let{from:Y,to:q}of K.overlay)if((J>0||X?Y<=U:Y<U)&&(J<0||X?q>=U:q>U))return new NQ(K.tree,K.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Z,J,Q)}nextSignificantParent(){let Z=this;while(Z.type.isAnonymous&&Z._parent)Z=Z._parent;return Z}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function O90(Z,J,Q,K){let U=Z.cursor(),X=[];if(!U.firstChild())return X;if(Q!=null){for(let Y=!1;!Y;)if(Y=U.type.is(Q),!U.nextSibling())return X}for(;;){if(K!=null&&U.type.is(K))return X;if(U.type.is(J))X.push(U.node);if(!U.nextSibling())return K==null?X:[]}}function Qx(Z,J,Q=J.length-1){for(let K=Z;Q>=0;K=K.parent){if(!K)return!1;if(!K.type.isAnonymous){if(J[Q]&&J[Q]!=K.name)return!1;Q--}}return!0}class V90{constructor(Z,J,Q,K){this.parent=Z,this.buffer=J,this.index=Q,this.start=K}}class i5 extends qx{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Z,J,Q){super();this.context=Z,this._parent=J,this.index=Q,this.type=Z.buffer.set.types[Z.buffer.buffer[Q]]}child(Z,J,Q){let{buffer:K}=this.context,U=K.findChild(this.index+4,K.buffer[this.index+3],Z,J-this.context.start,Q);return U<0?null:new i5(this.context,this,U)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Z){return this.child(1,Z,2)}childBefore(Z){return this.child(-1,Z,-2)}prop(Z){return this.type.prop(Z)}enter(Z,J,Q=0){if(Q&K9.ExcludeBuffers)return null;let{buffer:K}=this.context,U=K.findChild(this.index+4,K.buffer[this.index+3],J>0?1:-1,Z-this.context.start,J);return U<0?null:new i5(this.context,this,U)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Z){return this._parent?null:this.context.parent.nextChild(this.context.index+Z,Z,0,4)}get nextSibling(){let{buffer:Z}=this.context,J=Z.buffer[this.index+3];if(J<(this._parent?Z.buffer[this._parent.index+3]:Z.buffer.length))return new i5(this.context,this._parent,J);return this.externalSibling(1)}get prevSibling(){let{buffer:Z}=this.context,J=this._parent?this._parent.index+4:0;if(this.index==J)return this.externalSibling(-1);return new i5(this.context,this._parent,Z.findChild(J,this.index,-1,0,4))}get tree(){return null}toTree(){let Z=[],J=[],{buffer:Q}=this.context,K=this.index+4,U=Q.buffer[this.index+3];if(U>K){let X=Q.buffer[this.index+1];Z.push(Q.slice(K,U,X)),J.push(0)}return new U9(this.type,Z,J,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function P90(Z){if(!Z.length)return null;let J=0,Q=Z[0];for(let X=1;X<Z.length;X++){let Y=Z[X];if(Y.from>Q.from||Y.to<Q.to)Q=Y,J=X}let K=Q instanceof NQ&&Q.index<0?null:Q.parent,U=Z.slice();if(K)U[J]=K;else U.splice(J,1);return new C90(U,Q)}class C90{constructor(Z,J){this.heads=Z,this.node=J}get next(){return P90(this.heads)}}function bi0(Z,J,Q){let K=Z.resolveInner(J,Q),U=null;for(let X=K instanceof NQ?K:K.context.parent;X;X=X.parent)if(X.index<0){let Y=X.parent;(U||(U=[K])).push(Y.resolve(J,Q)),X=Y}else{let Y=aW.get(X.tree);if(Y&&Y.overlay&&Y.overlay[0].from<=J&&Y.overlay[Y.overlay.length-1].to>=J){let q=new NQ(Y.tree,Y.overlay[0].from+X.from,-1,X);(U||(U=[K])).push(eO(q,J,Q,!1))}}return U?P90(U):K}class ZR{get name(){return this.type.name}constructor(Z,J=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=J&~K9.EnterBracketed,Z instanceof NQ)this.yieldNode(Z);else{this._tree=Z.context.parent,this.buffer=Z.context;for(let Q=Z._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=Z,this.yieldBuf(Z.index)}}yieldNode(Z){if(!Z)return!1;return this._tree=Z,this.type=Z.type,this.from=Z.from,this.to=Z.to,!0}yieldBuf(Z,J){this.index=Z;let{start:Q,buffer:K}=this.buffer;return this.type=J||K.set.types[K.buffer[Z]],this.from=Q+K.buffer[Z+1],this.to=Q+K.buffer[Z+2],!0}yield(Z){if(!Z)return!1;if(Z instanceof NQ)return this.buffer=null,this.yieldNode(Z);return this.buffer=Z.context,this.yieldBuf(Z.index,Z.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Z,J,Q){if(!this.buffer)return this.yield(this._tree.nextChild(Z<0?this._tree._tree.children.length-1:0,Z,J,Q,this.mode));let{buffer:K}=this.buffer,U=K.findChild(this.index+4,K.buffer[this.index+3],Z,J-this.buffer.start,Q);if(U<0)return!1;return this.stack.push(this.index),this.yieldBuf(U)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Z){return this.enterChild(1,Z,2)}childBefore(Z){return this.enterChild(-1,Z,-2)}enter(Z,J,Q=this.mode){if(!this.buffer)return this.yield(this._tree.enter(Z,J,Q));return Q&K9.ExcludeBuffers?!1:this.enterChild(1,Z,J)}parent(){if(!this.buffer)return this.yieldNode(this.mode&K9.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Z=this.mode&K9.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Z)}sibling(Z){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Z,Z,0,4,this.mode));let{buffer:J}=this.buffer,Q=this.stack.length-1;if(Z<0){let K=Q<0?0:this.stack[Q]+4;if(this.index!=K)return this.yieldBuf(J.findChild(K,this.index,-1,0,4))}else{let K=J.buffer[this.index+3];if(K<(Q<0?J.buffer.length:J.buffer[this.stack[Q]+3]))return this.yieldBuf(K)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Z,Z,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Z){let J,Q,{buffer:K}=this;if(K){if(Z>0){if(this.index<K.buffer.buffer.length)return!1}else for(let U=0;U<this.index;U++)if(K.buffer.buffer[U+3]<this.index)return!1;({index:J,parent:Q}=K)}else({index:J,_parent:Q}=this._tree);for(;Q;{index:J,_parent:Q}=Q)if(J>-1)for(let U=J+Z,X=Z<0?-1:Q._tree.children.length;U!=X;U+=Z){let Y=Q._tree.children[U];if(this.mode&K9.IncludeAnonymous||Y instanceof oY||!Y.type.isAnonymous||Wx(Y))return!1}return!0}move(Z,J){if(J&&this.enterChild(Z,0,4))return!0;for(;;){if(this.sibling(Z))return!0;if(this.atLastNode(Z)||!this.parent())return!1}}next(Z=!0){return this.move(1,Z)}prev(Z=!0){return this.move(-1,Z)}moveTo(Z,J=0){while(this.from==this.to||(J<1?this.from>=Z:this.from>Z)||(J>-1?this.to<=Z:this.to<Z))if(!this.parent())break;while(this.enterChild(1,Z,J));return this}get node(){if(!this.buffer)return this._tree;let Z=this.bufferNode,J=null,Q=0;if(Z&&Z.context==this.buffer)Z:for(let K=this.index,U=this.stack.length;U>=0;){for(let X=Z;X;X=X._parent)if(X.index==K){if(K==this.index)return X;J=X,Q=U+1;break Z}K=this.stack[--U]}for(let K=Q;K<this.stack.length;K++)J=new i5(this.buffer,J,this.stack[K]);return this.bufferNode=new i5(this.buffer,J,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Z,J){for(let Q=0;;){let K=!1;if(this.type.isAnonymous||Z(this)!==!1){if(this.firstChild()){Q++;continue}if(!this.type.isAnonymous)K=!0}for(;;){if(K&&J)J(this);if(K=this.type.isAnonymous,!Q)return;if(this.nextSibling())break;this.parent(),Q--,K=!0}}}matchContext(Z){if(!this.buffer)return Qx(this.node.parent,Z);let{buffer:J}=this.buffer,{types:Q}=J.set;for(let K=Z.length-1,U=this.stack.length-1;K>=0;U--){if(U<0)return Qx(this._tree,Z,K);let X=Q[J.buffer[this.stack[U]]];if(!X.isAnonymous){if(Z[K]&&Z[K]!=X.name)return!1;K--}}return!0}}function Wx(Z){return Z.children.some((J)=>J instanceof oY||!J.type.isAnonymous||Wx(J))}function yi0(Z){var J;let{buffer:Q,nodeSet:K,maxBufferLength:U=1024,reused:X=[],minRepeatType:Y=K.types.length}=Z,q=Array.isArray(Q)?new Yx(Q,Q.length):Q,W=K.types,G=0,z=0;function H(N,E,C,j,$,k){let{id:w,start:P,end:S,size:T}=q,_=z,v=G;if(T<0)if(q.next(),T==-1){let h=X[w];C.push(h),j.push(P-N);return}else if(T==-3){G=w;return}else if(T==-4){z=w;return}else throw RangeError(`Unrecognized record size: ${T}`);let x=W[w],b,y,u=P-N;if(S-P<=U&&(y=R(q.pos-E,$))){let h=new Uint16Array(y.size-y.skip),p=q.pos-y.size,r=h.length;while(q.pos>p)r=L(y.start,h,r);b=new oY(h,S-y.start,K),u=y.start-N}else{let h=q.pos-T;q.next();let p=[],r=[],t=w>=Y?w:-1,d=0,X0=S;while(q.pos>h)if(t>=0&&q.id==t&&q.size>=0){if(q.end<=X0-U)B(p,r,P,d,q.end,X0,t,_,v),d=p.length,X0=q.end;q.next()}else if(k>2500)F(P,h,p,r);else H(P,h,p,r,t,k+1);if(t>=0&&d>0&&d<p.length)B(p,r,P,d,P,X0,t,_,v);if(p.reverse(),r.reverse(),t>-1&&d>0){let a=M(x,v);b=Gx(x,p,r,0,p.length,0,S-P,a,a)}else b=O(x,p,r,S-P,_-S,v)}C.push(b),j.push(u)}function F(N,E,C,j){let $=[],k=0,w=-1;while(q.pos>E){let{id:P,start:S,end:T,size:_}=q;if(_>4)q.next();else if(w>-1&&S<w)break;else{if(w<0)w=T-U;$.push(P,S,T),k++,q.next()}}if(k){let P=new Uint16Array(k*4),S=$[$.length-2];for(let T=$.length-3,_=0;T>=0;T-=3)P[_++]=$[T],P[_++]=$[T+1]-S,P[_++]=$[T+2]-S,P[_++]=_;C.push(new oY(P,$[2]-S,K)),j.push(S-N)}}function M(N,E){return(C,j,$)=>{let k=0,w=C.length-1,P,S;if(w>=0&&(P=C[w])instanceof U9){if(!w&&P.type==N&&P.length==$)return P;if(S=P.prop(WZ.lookAhead))k=j[w]+P.length+S}return O(N,C,j,$,k,E)}}function B(N,E,C,j,$,k,w,P,S){let T=[],_=[];while(N.length>j)T.push(N.pop()),_.push(E.pop()+C-$);N.push(O(K.types[w],T,_,k-$,P-k,S)),E.push($-C)}function O(N,E,C,j,$,k,w){if(k){let P=[WZ.contextHash,k];w=w?[P].concat(w):[P]}if($>25){let P=[WZ.lookAhead,$];w=w?[P].concat(w):[P]}return new U9(N,E,C,j,w)}function R(N,E){let C=q.fork(),j=0,$=0,k=0,w=C.end-U,P={size:0,start:0,skip:0};Z:for(let S=C.pos-N;C.pos>S;){let T=C.size;if(C.id==E&&T>=0){P.size=j,P.start=$,P.skip=k,k+=4,j+=4,C.next();continue}let _=C.pos-T;if(T<0||_<S||C.start<w)break;let v=C.id>=Y?4:0,x=C.start;C.next();while(C.pos>_){if(C.size<0)if(C.size==-3||C.size==-4)v+=4;else break Z;else if(C.id>=Y)v+=4;C.next()}$=x,j+=T,k+=v}if(E<0||j==N)P.size=j,P.start=$,P.skip=k;return P.size>4?P:void 0}function L(N,E,C){let{id:j,start:$,end:k,size:w}=q;if(q.next(),w>=0&&j<Y){let P=C;if(w>4){let S=q.pos-(w-4);while(q.pos>S)C=L(N,E,C)}E[--C]=P,E[--C]=k-N,E[--C]=$-N,E[--C]=j}else if(w==-3)G=j;else if(w==-4)z=j;return C}let D=[],A=[];while(q.pos>0)H(Z.start||0,Z.bufferStart||0,D,A,-1,0);let V=(J=Z.length)!==null&&J!==void 0?J:D.length?A[0]+D[0].length:0;return new U9(W[Z.topID],D.reverse(),A.reverse(),V)}var R90=new WeakMap;function cN(Z,J){if(!Z.isAnonymous||J instanceof oY||J.type!=Z)return 1;let Q=R90.get(J);if(Q==null){Q=1;for(let K of J.children){if(K.type!=Z||!(K instanceof U9)){Q=1;break}Q+=cN(Z,K)}R90.set(J,Q)}return Q}function Gx(Z,J,Q,K,U,X,Y,q,W){let G=0;for(let B=K;B<U;B++)G+=cN(Z,J[B]);let z=Math.ceil(G*1.5/8),H=[],F=[];function M(B,O,R,L,D){for(let A=R;A<L;){let V=A,N=O[A],E=cN(Z,B[A]);A++;for(;A<L;A++){let C=cN(Z,B[A]);if(E+C>=z)break;E+=C}if(A==V+1){if(E>z){let C=B[V];M(C.children,C.positions,0,C.children.length,O[V]+D);continue}H.push(B[V])}else{let C=O[A-1]+B[A-1].length-N;H.push(Gx(Z,B,O,V,A,N,C,null,W))}F.push(N+D-X)}}return M(J,Q,K,U,0),(q||W)(H,F,Y)}class JR{constructor(){this.map=new WeakMap}setBuffer(Z,J,Q){let K=this.map.get(Z);if(!K)this.map.set(Z,K=new Map);K.set(J,Q)}getBuffer(Z,J){let Q=this.map.get(Z);return Q&&Q.get(J)}set(Z,J){if(Z instanceof i5)this.setBuffer(Z.context.buffer,Z.index,J);else if(Z instanceof NQ)this.map.set(Z.tree,J)}get(Z){return Z instanceof i5?this.getBuffer(Z.context.buffer,Z.index):Z instanceof NQ?this.map.get(Z.tree):void 0}cursorSet(Z,J){if(Z.buffer)this.setBuffer(Z.buffer.buffer,Z.index,J);else this.map.set(Z.tree,J)}cursorGet(Z){return Z.buffer?this.getBuffer(Z.buffer.buffer,Z.index):this.map.get(Z.tree)}}class s5{constructor(Z,J,Q,K,U=!1,X=!1){this.from=Z,this.to=J,this.tree=Q,this.offset=K,this.open=(U?1:0)|(X?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Z,J=[],Q=!1){let K=[new s5(0,Z.length,Z,0,!1,Q)];for(let U of J)if(U.to>Z.length)K.push(U);return K}static applyChanges(Z,J,Q=128){if(!J.length)return Z;let K=[],U=1,X=Z.length?Z[0]:null;for(let Y=0,q=0,W=0;;Y++){let G=Y<J.length?J[Y]:null,z=G?G.fromA:1e9;if(z-q>=Q)while(X&&X.from<z){let H=X;if(q>=H.from||z<=H.to||W){let F=Math.max(H.from,q)-W,M=Math.min(H.to,z)-W;H=F>=M?null:new s5(F,M,H.tree,H.offset+W,Y>0,!!G)}if(H)K.push(H);if(X.to>z)break;X=U<Z.length?Z[U++]:null}if(!G)break;q=G.toA,W=G.toA-G.toB}return K}}class oW{startParse(Z,J,Q){if(typeof Z=="string")Z=new j90(Z);return Q=!Q?[new R4(0,Z.length)]:Q.length?Q.map((K)=>new R4(K.from,K.to)):[new R4(0,0)],this.createParse(Z,J||[],Q)}parse(Z,J,Q){let K=this.startParse(Z,J,Q);for(;;){let U=K.advance();if(U)return U}}}class j90{constructor(Z){this.string=Z}get length(){return this.string.length}chunk(Z){return this.string.slice(Z)}get lineChunks(){return!1}read(Z,J){return this.string.slice(Z,J)}}function lN(Z){return(J,Q,K,U)=>new T90(J,Z,Q,K,U)}class Kx{constructor(Z,J,Q,K,U,X){this.parser=Z,this.parse=J,this.overlay=Q,this.bracketed=K,this.target=U,this.from=X}}function L90(Z){if(!Z.length||Z.some((J)=>J.from>=J.to))throw RangeError("Invalid inner parse ranges given: "+JSON.stringify(Z))}class S90{constructor(Z,J,Q,K,U,X,Y,q){this.parser=Z,this.predicate=J,this.mounts=Q,this.index=K,this.start=U,this.bracketed=X,this.target=Y,this.prev=q,this.depth=0,this.ranges=[]}}var Ux=new WZ({perNode:!0});class T90{constructor(Z,J,Q,K,U){this.nest=J,this.input=Q,this.fragments=K,this.ranges=U,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=Z}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let K of this.inner)K.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;if(this.stoppedAt!=null)Q=new U9(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[Ux,this.stoppedAt]]));return Q}let Z=this.inner[this.innerDone],J=Z.parse.advance();if(J){this.innerDone++;let Q=Object.assign(Object.create(null),Z.target.props);Q[WZ.mounted.id]=new aW(J,Z.overlay,Z.parser,Z.bracketed),Z.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let Z=this.input.length;for(let J=this.innerDone;J<this.inner.length;J++)if(this.inner[J].from<Z)Z=Math.min(Z,this.inner[J].parse.parsedPos);return Z}stopAt(Z){if(this.stoppedAt=Z,this.baseParse)this.baseParse.stopAt(Z);else for(let J=this.innerDone;J<this.inner.length;J++)this.inner[J].parse.stopAt(Z)}startInner(){let Z=new w90(this.fragments),J=null,Q=null,K=new ZR(new NQ(this.baseTree,this.ranges[0].from,0,null),K9.IncludeAnonymous|K9.IgnoreMounts);Z:for(let U,X;;){let Y=!0,q;if(this.stoppedAt!=null&&K.from>=this.stoppedAt)Y=!1;else if(Z.hasNode(K)){if(J){let W=J.mounts.find((G)=>G.frag.from<=K.from&&G.frag.to>=K.to&&G.mount.overlay);if(W)for(let G of W.mount.overlay){let z=G.from+W.pos,H=G.to+W.pos;if(z>=K.from&&H<=K.to&&!J.ranges.some((F)=>F.from<H&&F.to>z))J.ranges.push({from:z,to:H})}}Y=!1}else if(Q&&(X=hi0(Q.ranges,K.from,K.to)))Y=X!=2;else if(!K.type.isAnonymous&&(U=this.nest(K,this.input))&&(K.from<K.to||!U.overlay)){if(!K.tree){if(mi0(K),J)J.depth++;if(Q)Q.depth++}let W=Z.findMounts(K.from,U.parser);if(typeof U.overlay=="function")J=new S90(U.parser,U.overlay,W,this.inner.length,K.from,!!U.bracketed,K.tree,J);else{let G=I90(this.ranges,U.overlay||(K.from<K.to?[new R4(K.from,K.to)]:[]));if(G.length)L90(G);if(G.length||!U.overlay)this.inner.push(new Kx(U.parser,G.length?U.parser.startParse(this.input,A90(W,G),G):U.parser.startParse(""),U.overlay?U.overlay.map((z)=>new R4(z.from-K.from,z.to-K.from)):null,!!U.bracketed,K.tree,G.length?G[0].from:K.from));if(!U.overlay)Y=!1;else if(G.length)Q={ranges:G,depth:0,prev:Q}}}else if(J&&(q=J.predicate(K))){if(q===!0)q=new R4(K.from,K.to);if(q.from<q.to){let W=J.ranges.length-1;if(W>=0&&J.ranges[W].to==q.from)J.ranges[W]={from:J.ranges[W].from,to:q.to};else J.ranges.push(q)}}if(Y&&K.firstChild()){if(J)J.depth++;if(Q)Q.depth++}else for(;;){if(K.nextSibling())break;if(!K.parent())break Z;if(J&&!--J.depth){let W=I90(this.ranges,J.ranges);if(W.length)L90(W),this.inner.splice(J.index,0,new Kx(J.parser,J.parser.startParse(this.input,A90(J.mounts,W),W),J.ranges.map((G)=>new R4(G.from-J.start,G.to-J.start)),J.bracketed,J.target,W[0].from));J=J.prev}if(Q&&!--Q.depth)Q=Q.prev}}}}function hi0(Z,J,Q){for(let K of Z){if(K.from>=Q)break;if(K.to>J)return K.from<=J&&K.to>=Q?2:1}return 0}function D90(Z,J,Q,K,U,X){if(J<Q){let Y=Z.buffer[J+1];K.push(Z.slice(J,Q,Y)),U.push(Y-X)}}function mi0(Z){let{node:J}=Z,Q=[],K=J.context.buffer;do Q.push(Z.index),Z.parent();while(!Z.tree);let U=Z.tree,X=U.children.indexOf(K),Y=U.children[X],q=Y.buffer,W=[X];function G(z,H,F,M,B,O){let R=Q[O],L=[],D=[];D90(Y,z,R,L,D,M);let A=q[R+1],V=q[R+2];W.push(L.length);let N=O?G(R+4,q[R+3],Y.set.types[q[R]],A,V-A,O-1):J.toTree();return L.push(N),D.push(A-M),D90(Y,q[R+3],H,L,D,M),new U9(F,L,D,B)}U.children[X]=G(0,q.length,bJ.none,0,Y.length,Q.length-1);for(let z of W){let H=Z.tree.children[z],F=Z.tree.positions[z];Z.yield(new NQ(H,F+Z.from,z,Z._tree))}}class Xx{constructor(Z,J){this.offset=J,this.done=!1,this.cursor=Z.cursor(K9.IncludeAnonymous|K9.IgnoreMounts)}moveTo(Z){let{cursor:J}=this,Q=Z-this.offset;while(!this.done&&J.from<Q)if(J.to>=Z&&J.enter(Q,1,K9.IgnoreOverlays|K9.ExcludeBuffers));else if(!J.next(!1))this.done=!0}hasNode(Z){if(this.moveTo(Z.from),!this.done&&this.cursor.from+this.offset==Z.from&&this.cursor.tree)for(let J=this.cursor.tree;;){if(J==Z.tree)return!0;if(J.children.length&&J.positions[0]==0&&J.children[0]instanceof U9)J=J.children[0];else break}return!1}}class w90{constructor(Z){var J;if(this.fragments=Z,this.curTo=0,this.fragI=0,Z.length){let Q=this.curFrag=Z[0];this.curTo=(J=Q.tree.prop(Ux))!==null&&J!==void 0?J:Q.to,this.inner=new Xx(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(Z){while(this.curFrag&&Z.from>=this.curTo)this.nextFrag();return this.curFrag&&this.curFrag.from<=Z.from&&this.curTo>=Z.to&&this.inner.hasNode(Z)}nextFrag(){var Z;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let J=this.curFrag=this.fragments[this.fragI];this.curTo=(Z=J.tree.prop(Ux))!==null&&Z!==void 0?Z:J.to,this.inner=new Xx(J.tree,-J.offset)}}findMounts(Z,J){var Q;let K=[];if(this.inner){this.inner.cursor.moveTo(Z,1);for(let U=this.inner.cursor.node;U;U=U.parent){let X=(Q=U.tree)===null||Q===void 0?void 0:Q.prop(WZ.mounted);if(X&&X.parser==J)for(let Y=this.fragI;Y<this.fragments.length;Y++){let q=this.fragments[Y];if(q.from>=U.to)break;if(q.tree==this.curFrag.tree)K.push({frag:q,pos:U.from-q.offset,mount:X})}}}return K}}function I90(Z,J){let Q=null,K=J;for(let U=1,X=0;U<Z.length;U++){let Y=Z[U-1].to,q=Z[U].from;for(;X<K.length;X++){let W=K[X];if(W.from>=q)break;if(W.to<=Y)continue;if(!Q)K=Q=J.slice();if(W.from<Y){if(Q[X]=new R4(W.from,Y),W.to>q)Q.splice(X+1,0,new R4(q,W.to))}else if(W.to>q)Q[X--]=new R4(q,W.to);else Q.splice(X--,1)}}return K}function ui0(Z,J,Q,K){let U=0,X=0,Y=!1,q=!1,W=-1e9,G=[];for(;;){let z=U==Z.length?1e9:Y?Z[U].to:Z[U].from,H=X==J.length?1e9:q?J[X].to:J[X].from;if(Y!=q){let F=Math.max(W,Q),M=Math.min(z,H,K);if(F<M)G.push(new R4(F,M))}if(W=Math.min(z,H),W==1e9)break;if(z==W)if(!Y)Y=!0;else Y=!1,U++;if(H==W)if(!q)q=!0;else q=!1,X++}return G}function A90(Z,J){let Q=[];for(let{pos:K,mount:U,frag:X}of Z){let Y=K+(U.overlay?U.overlay[0].from:0),q=Y+U.tree.length,W=Math.max(X.from,Y),G=Math.min(X.to,q);if(U.overlay){let z=U.overlay.map((F)=>new R4(F.from+K,F.to+K)),H=ui0(J,z,W,G);for(let F=0,M=W;;F++){let B=F==H.length,O=B?G:H[F].from;if(O>M)Q.push(new s5(M,O,U.tree,-Y,X.from>=M||X.openStart,X.to<=O||X.openEnd));if(B)break;M=H[F].to}}else Q.push(new s5(W,G,U.tree,-Y,X.from>=Y||X.openStart,X.to<=q||X.openEnd))}return Q}var gi0=0;class S6{constructor(Z,J,Q,K){this.name=Z,this.set=J,this.base=Q,this.modified=K,this.id=gi0++}toString(){let{name:Z}=this;for(let J of this.modified)if(J.name)Z=`${J.name}(${Z})`;return Z}static define(Z,J){let Q=typeof Z=="string"?Z:"?";if(Z instanceof S6)J=Z;if(J===null||J===void 0?void 0:J.base)throw Error("Can not derive from a modified tag");let K=new S6(Q,[],null,[]);if(K.set.push(K),J)for(let U of J.set)K.set.push(U);return K}static defineModifier(Z){let J=new rN(Z);return(Q)=>{if(Q.modified.indexOf(J)>-1)return Q;return rN.get(Q.base||Q,Q.modified.concat(J).sort((K,U)=>K.id-U.id))}}}var pi0=0;class rN{constructor(Z){this.name=Z,this.instances=[],this.id=pi0++}static get(Z,J){if(!J.length)return Z;let Q=J[0].instances.find((Y)=>Y.base==Z&&ci0(J,Y.modified));if(Q)return Q;let K=[],U=new S6(Z.name,K,Z,J);for(let Y of J)Y.instances.push(U);let X=li0(J);for(let Y of Z.set)if(!Y.modified.length)for(let q of X)K.push(rN.get(Y,q));return U}}function ci0(Z,J){return Z.length==J.length&&Z.every((Q,K)=>Q==J[K])}function li0(Z){let J=[[]];for(let Q=0;Q<Z.length;Q++)for(let K=0,U=J.length;K<U;K++)J.push(J[K].concat(Z[Q]));return J.sort((Q,K)=>K.length-Q.length)}function rK(Z){let J=Object.create(null);for(let Q in Z){let K=Z[Q];if(!Array.isArray(K))K=[K];for(let U of Q.split(" "))if(U){let X=[],Y=2,q=U;for(let H=0;;){if(q=="..."&&H>0&&H+3==U.length){Y=1;break}let F=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(q);if(!F)throw RangeError("Invalid path: "+U);if(X.push(F[0]=="*"?"":F[0][0]=='"'?JSON.parse(F[0]):F[0]),H+=F[0].length,H==U.length)break;let M=U[H++];if(H==U.length&&M=="!"){Y=0;break}if(M!="/")throw RangeError("Invalid path: "+U);q=U.slice(H)}let W=X.length-1,G=X[W];if(!G)throw RangeError("Invalid path: "+U);let z=new MH(K,Y,W>0?X.slice(0,W):null);J[G]=z.sort(J[G])}}return _90.add(J)}var _90=new WZ({combine(Z,J){let Q,K,U;while(Z||J){if(!Z||J&&Z.depth>=J.depth)U=J,J=J.next;else U=Z,Z=Z.next;if(Q&&Q.mode==U.mode&&!U.context&&!Q.context)continue;let X=new MH(U.tags,U.mode,U.context);if(Q)Q.next=X;else K=X;Q=X}return K}});class MH{constructor(Z,J,Q,K){this.tags=Z,this.mode=J,this.context=Q,this.next=K}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Z){if(!Z||Z.depth<this.depth)return this.next=Z,this;return Z.next=this.sort(Z.next),Z}get depth(){return this.context?this.context.length:0}}MH.empty=new MH([],2,null);function Fx(Z,J){let Q=Object.create(null);for(let X of Z)if(!Array.isArray(X.tag))Q[X.tag.id]=X.class;else for(let Y of X.tag)Q[Y.id]=X.class;let{scope:K,all:U=null}=J||{};return{style:(X)=>{let Y=U;for(let q of X)for(let W of q.set){let G=Q[W.id];if(G){Y=Y?Y+" "+G:G;break}}return Y},scope:K}}function di0(Z,J){let Q=null;for(let K of Z){let U=K.style(J);if(U)Q=Q?Q+" "+U:U}return Q}function f90(Z,J,Q,K=0,U=Z.length){let X=new v90(K,Array.isArray(J)?J:[J],Q);X.highlightRange(Z.cursor(),K,U,"",X.highlighters),X.flush(U)}class v90{constructor(Z,J,Q){this.at=Z,this.highlighters=J,this.span=Q,this.class=""}startSpan(Z,J){if(J!=this.class){if(this.flush(Z),Z>this.at)this.at=Z;this.class=J}}flush(Z){if(Z>this.at&&this.class)this.span(this.at,Z,this.class)}highlightRange(Z,J,Q,K,U){let{type:X,from:Y,to:q}=Z;if(Y>=Q||q<=J)return;if(X.isTop)U=this.highlighters.filter((F)=>!F.scope||F.scope(X));let W=K,G=ii0(Z)||MH.empty,z=di0(U,G.tags);if(z){if(W)W+=" ";if(W+=z,G.mode==1)K+=(K?" ":"")+z}if(this.startSpan(Math.max(J,Y),W),G.opaque)return;let H=Z.tree&&Z.tree.prop(WZ.mounted);if(H&&H.overlay){let F=Z.node.enter(H.overlay[0].from+Y,1),M=this.highlighters.filter((O)=>!O.scope||O.scope(H.tree.type)),B=Z.firstChild();for(let O=0,R=Y;;O++){let L=O<H.overlay.length?H.overlay[O]:null,D=L?L.from+Y:q,A=Math.max(J,R),V=Math.min(Q,D);if(A<V&&B){while(Z.from<V)if(this.highlightRange(Z,A,V,K,U),this.startSpan(Math.min(V,Z.to),W),Z.to>=D||!Z.nextSibling())break}if(!L||D>Q)break;if(R=L.to+Y,R>J)this.highlightRange(F.cursor(),Math.max(J,L.from+Y),Math.min(Q,R),"",M),this.startSpan(Math.min(Q,R),W)}if(B)Z.parent()}else if(Z.firstChild()){if(H)K="";do{if(Z.to<=J)continue;if(Z.from>=Q)break;this.highlightRange(Z,J,Q,K,U),this.startSpan(Math.min(Q,Z.to),W)}while(Z.nextSibling());Z.parent()}}}function ii0(Z){let J=Z.type.prop(_90);while(J&&J.context&&!Z.matchContext(J.context))J=J.next;return J||null}var f8=S6.define,dN=f8(),eY=f8(),$90=f8(eY),k90=f8(eY),Z1=f8(),iN=f8(Z1),zx=f8(Z1),a5=f8(),tW=f8(a5),r5=f8(),n5=f8(),Hx=f8(),QR=f8(Hx),sN=f8(),R0={comment:dN,lineComment:f8(dN),blockComment:f8(dN),docComment:f8(dN),name:eY,variableName:f8(eY),typeName:$90,tagName:f8($90),propertyName:k90,attributeName:f8(k90),className:f8(eY),labelName:f8(eY),namespace:f8(eY),macroName:f8(eY),literal:Z1,string:iN,docString:f8(iN),character:f8(iN),attributeValue:f8(iN),number:zx,integer:f8(zx),float:f8(zx),bool:f8(Z1),regexp:f8(Z1),escape:f8(Z1),color:f8(Z1),url:f8(Z1),keyword:r5,self:f8(r5),null:f8(r5),atom:f8(r5),unit:f8(r5),modifier:f8(r5),operatorKeyword:f8(r5),controlKeyword:f8(r5),definitionKeyword:f8(r5),moduleKeyword:f8(r5),operator:n5,derefOperator:f8(n5),arithmeticOperator:f8(n5),logicOperator:f8(n5),bitwiseOperator:f8(n5),compareOperator:f8(n5),updateOperator:f8(n5),definitionOperator:f8(n5),typeOperator:f8(n5),controlOperator:f8(n5),punctuation:Hx,separator:f8(Hx),bracket:QR,angleBracket:f8(QR),squareBracket:f8(QR),paren:f8(QR),brace:f8(QR),content:a5,heading:tW,heading1:f8(tW),heading2:f8(tW),heading3:f8(tW),heading4:f8(tW),heading5:f8(tW),heading6:f8(tW),contentSeparator:f8(a5),list:f8(a5),quote:f8(a5),emphasis:f8(a5),strong:f8(a5),link:f8(a5),monospace:f8(a5),strikethrough:f8(a5),inserted:f8(),deleted:f8(),changed:f8(),invalid:f8(),meta:sN,documentMeta:f8(sN),annotation:f8(sN),processingInstruction:f8(sN),definition:S6.defineModifier("definition"),constant:S6.defineModifier("constant"),function:S6.defineModifier("function"),standard:S6.defineModifier("standard"),local:S6.defineModifier("local"),special:S6.defineModifier("special")};for(let Z in R0){let J=R0[Z];if(J instanceof S6)J.name=Z}var si8=Fx([{tag:R0.link,class:"tok-link"},{tag:R0.heading,class:"tok-heading"},{tag:R0.emphasis,class:"tok-emphasis"},{tag:R0.strong,class:"tok-strong"},{tag:R0.keyword,class:"tok-keyword"},{tag:R0.atom,class:"tok-atom"},{tag:R0.bool,class:"tok-bool"},{tag:R0.url,class:"tok-url"},{tag:R0.labelName,class:"tok-labelName"},{tag:R0.inserted,class:"tok-inserted"},{tag:R0.deleted,class:"tok-deleted"},{tag:R0.literal,class:"tok-literal"},{tag:R0.string,class:"tok-string"},{tag:R0.number,class:"tok-number"},{tag:[R0.regexp,R0.escape,R0.special(R0.string)],class:"tok-string2"},{tag:R0.variableName,class:"tok-variableName"},{tag:R0.local(R0.variableName),class:"tok-variableName tok-local"},{tag:R0.definition(R0.variableName),class:"tok-variableName tok-definition"},{tag:R0.special(R0.variableName),class:"tok-variableName2"},{tag:R0.definition(R0.propertyName),class:"tok-propertyName tok-definition"},{tag:R0.typeName,class:"tok-typeName"},{tag:R0.namespace,class:"tok-namespace"},{tag:R0.className,class:"tok-className"},{tag:R0.macroName,class:"tok-macroName"},{tag:R0.propertyName,class:"tok-propertyName"},{tag:R0.operator,class:"tok-operator"},{tag:R0.comment,class:"tok-comment"},{tag:R0.meta,class:"tok-meta"},{tag:R0.invalid,class:"tok-invalid"},{tag:R0.punctuation,class:"tok-punctuation"}]);var Mx,J1=new WZ;function UR(Z){return v8.define({combine:Z?(J)=>J.concat(Z):void 0})}var tN=new WZ;class T6{constructor(Z,J,Q=[],K=""){if(this.data=Z,this.name=K,!vZ.prototype.hasOwnProperty("tree"))Object.defineProperty(vZ.prototype,"tree",{get(){return q9(this)}});this.parser=J,this.extension=[Q1.of(this),vZ.languageData.of((U,X,Y)=>{let q=x90(U,X,Y),W=q.type.prop(J1);if(!W)return[];let G=U.facet(W),z=q.type.prop(tN);if(z){let H=q.resolve(X-q.from,Y);for(let F of z)if(F.test(H,U)){let M=U.facet(F.facet);return F.type=="replace"?M:M.concat(G)}}return G})].concat(Q)}isActiveAt(Z,J,Q=-1){return x90(Z,J,Q).type.prop(J1)==this.data}findRegions(Z){let J=Z.facet(Q1);if((J===null||J===void 0?void 0:J.data)==this.data)return[{from:0,to:Z.doc.length}];if(!J||!J.allowsNesting)return[];let Q=[],K=(U,X)=>{if(U.prop(J1)==this.data){Q.push({from:X,to:X+U.length});return}let Y=U.prop(WZ.mounted);if(Y){if(Y.tree.prop(J1)==this.data){if(Y.overlay)for(let q of Y.overlay)Q.push({from:q.from+X,to:q.to+X});else Q.push({from:X,to:X+U.length});return}else if(Y.overlay){let q=Q.length;if(K(Y.tree,Y.overlay[0].from+X),Q.length>q)return}}for(let q=0;q<U.children.length;q++){let W=U.children[q];if(W instanceof U9)K(W,U.positions[q]+X)}};return K(q9(Z),0),Q}get allowsNesting(){return!0}}T6.setState=OZ.define();function x90(Z,J,Q){let K=Z.facet(Q1),U=q9(Z).topNode;if(!K||K.allowsNesting){for(let X=U;X;X=X.enter(J,Q,K9.ExcludeBuffers|K9.EnterBracketed))if(X.type.isTop)U=X}return U}class wX extends T6{constructor(Z,J,Q){super(Z,J,[],Q);this.parser=J}static define(Z){let J=UR(Z.languageData);return new wX(J,Z.parser.configure({props:[J1.add((Q)=>Q.isTop?J:void 0)]}),Z.name)}configure(Z,J){return new wX(this.data,this.parser.configure(Z),J||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function q9(Z){let J=Z.field(T6.state,!1);return J?J.tree:U9.empty}class p90{constructor(Z){this.doc=Z,this.cursorPos=0,this.string="",this.cursor=Z.iter()}get length(){return this.doc.length}syncTo(Z){return this.string=this.cursor.next(Z-this.cursorPos).value,this.cursorPos=Z+this.string.length,this.cursorPos-this.string.length}chunk(Z){return this.syncTo(Z),this.string}get lineChunks(){return!0}read(Z,J){let Q=this.cursorPos-this.string.length;if(Z<Q||J>=this.cursorPos)return this.doc.sliceString(Z,J);else return this.string.slice(Z-Q,J-Q)}}var KR=null;class BH{constructor(Z,J,Q=[],K,U,X,Y,q){this.parser=Z,this.state=J,this.fragments=Q,this.tree=K,this.treeLen=U,this.viewport=X,this.skipped=Y,this.scheduleOn=q,this.parse=null,this.tempSkipped=[]}static create(Z,J,Q){return new BH(Z,J,[],U9.empty,0,Q,[],null)}startParse(){return this.parser.startParse(new p90(this.state.doc),this.fragments)}work(Z,J){if(J!=null&&J>=this.state.doc.length)J=void 0;if(this.tree!=U9.empty&&this.isDone(J!==null&&J!==void 0?J:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var Q;if(typeof Z=="number"){let K=Date.now()+Z;Z=()=>Date.now()>K}if(!this.parse)this.parse=this.startParse();if(J!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>J)&&J<this.state.doc.length)this.parse.stopAt(J);for(;;){let K=this.parse.advance();if(K)if(this.fragments=this.withoutTempSkipped(s5.addTree(K,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Q=this.parse.stoppedAt)!==null&&Q!==void 0?Q:this.state.doc.length,this.tree=K,this.parse=null,this.treeLen<(J!==null&&J!==void 0?J:this.state.doc.length))this.parse=this.startParse();else return!0;if(Z())return!1}})}takeTree(){let Z,J;if(this.parse&&(Z=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)this.parse.stopAt(Z);this.withContext(()=>{while(!(J=this.parse.advance()));}),this.treeLen=Z,this.tree=J,this.fragments=this.withoutTempSkipped(s5.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(Z){let J=KR;KR=this;try{return Z()}finally{KR=J}}withoutTempSkipped(Z){for(let J;J=this.tempSkipped.pop();)Z=b90(Z,J.from,J.to);return Z}changes(Z,J){let{fragments:Q,tree:K,treeLen:U,viewport:X,skipped:Y}=this;if(this.takeTree(),!Z.empty){let q=[];if(Z.iterChangedRanges((W,G,z,H)=>q.push({fromA:W,toA:G,fromB:z,toB:H})),Q=s5.applyChanges(Q,q),K=U9.empty,U=0,X={from:Z.mapPos(X.from,-1),to:Z.mapPos(X.to,1)},this.skipped.length){Y=[];for(let W of this.skipped){let G=Z.mapPos(W.from,1),z=Z.mapPos(W.to,-1);if(G<z)Y.push({from:G,to:z})}}}return new BH(this.parser,J,Q,K,U,X,Y,this.scheduleOn)}updateViewport(Z){if(this.viewport.from==Z.from&&this.viewport.to==Z.to)return!1;this.viewport=Z;let J=this.skipped.length;for(let Q=0;Q<this.skipped.length;Q++){let{from:K,to:U}=this.skipped[Q];if(K<Z.to&&U>Z.from)this.fragments=b90(this.fragments,K,U),this.skipped.splice(Q--,1)}if(this.skipped.length>=J)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(Z,J){this.skipped.push({from:Z,to:J})}static getSkippingParser(Z){return new class extends oW{createParse(J,Q,K){let U=K[0].from,X=K[K.length-1].to;return{parsedPos:U,advance(){let q=KR;if(q){for(let W of K)q.tempSkipped.push(W);if(Z)q.scheduleOn=q.scheduleOn?Promise.all([q.scheduleOn,Z]):Z}return this.parsedPos=X,new U9(bJ.none,[],[],X-U)},stoppedAt:null,stopAt(){}}}}}isDone(Z){Z=Math.min(Z,this.state.doc.length);let J=this.fragments;return this.treeLen>=Z&&J.length&&J[0].from==0&&J[0].to>=Z}static get(){return KR}}function b90(Z,J,Q){return s5.applyChanges(Z,[{fromA:J,toA:Q,fromB:J,toB:Q}])}class OH{constructor(Z){this.context=Z,this.tree=Z.tree}apply(Z){if(!Z.docChanged&&this.tree==this.context.tree)return this;let J=this.context.changes(Z.changes,Z.state),Q=this.context.treeLen==Z.startState.doc.length?void 0:Math.max(Z.changes.mapPos(this.context.treeLen),J.viewport.to);if(!J.work(20,Q))J.takeTree();return new OH(J)}static init(Z){let J=Math.min(3000,Z.doc.length),Q=BH.create(Z.facet(Q1).parser,Z,{from:0,to:J});if(!Q.work(20,J))Q.takeTree();return new OH(Q)}}T6.state=BJ.define({create:OH.init,update(Z,J){for(let Q of J.effects)if(Q.is(T6.setState))return Q.value;if(J.startState.facet(Q1)!=J.state.facet(Q1))return OH.init(J.state);return Z.apply(J)}});var c90=(Z)=>{let J=setTimeout(()=>Z(),500);return()=>clearTimeout(J)};if(typeof requestIdleCallback<"u")c90=(Z)=>{let J=-1,Q=setTimeout(()=>{J=requestIdleCallback(Z,{timeout:400})},100);return()=>J<0?clearTimeout(Q):cancelIdleCallback(J)};var Bx=typeof navigator<"u"&&((Mx=navigator.scheduling)===null||Mx===void 0?void 0:Mx.isInputPending)?()=>navigator.scheduling.isInputPending():null,si0=OJ.fromClass(class{constructor(J){this.view=J,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(J){let Q=this.view.state.field(T6.state).context;if(Q.updateViewport(J.view.viewport)||this.view.viewport.to>Q.treeLen)this.scheduleWork();if(J.docChanged||J.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(Q)}scheduleWork(){if(this.working)return;let{state:J}=this.view,Q=J.field(T6.state);if(Q.tree!=Q.context.tree||!Q.context.isDone(J.doc.length))this.working=c90(this.work)}work(J){this.working=null;let Q=Date.now();if(this.chunkEnd<Q&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=Q+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:K,viewport:{to:U}}=this.view,X=K.field(T6.state);if(X.tree==X.context.tree&&X.context.isDone(U+1e5))return;let Y=Date.now()+Math.min(this.chunkBudget,100,J&&!Bx?Math.max(25,J.timeRemaining()-5):1e9),q=X.context.treeLen<U&&K.doc.length>U+1000,W=X.context.work(()=>{return Bx&&Bx()||Date.now()>Y},U+(q?0:1e5));if(this.chunkBudget-=Date.now()-Q,W||this.chunkBudget<=0)X.context.takeTree(),this.view.dispatch({effects:T6.setState.of(new OH(X.context))});if(this.chunkBudget>0&&!(W&&!q))this.scheduleWork();this.checkAsyncSchedule(X.context)}checkAsyncSchedule(J){if(J.scheduleOn)this.workScheduled++,J.scheduleOn.then(()=>this.scheduleWork()).catch((Q)=>i7(this.view.state,Q)).then(()=>this.workScheduled--),J.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Q1=v8.define({combine(Z){return Z.length?Z[0]:null},enables:(Z)=>[T6.state,si0,C8.contentAttributes.compute([Z],(J)=>{let Q=J.facet(Z);return Q&&Q.name?{"data-language":Q.name}:{}})]});class o5{constructor(Z,J=[]){this.language=Z,this.support=J,this.extension=[Z,J]}}class XR{constructor(Z,J,Q,K,U,X=void 0){this.name=Z,this.alias=J,this.extensions=Q,this.filename=K,this.loadFunc=U,this.support=X,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((Z)=>this.support=Z,(Z)=>{throw this.loading=null,Z}))}static of(Z){let{load:J,support:Q}=Z;if(!J){if(!Q)throw RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");J=()=>Promise.resolve(Q)}return new XR(Z.name,(Z.alias||[]).concat(Z.name).map((K)=>K.toLowerCase()),Z.extensions||[],Z.filename,J,Q)}static matchFilename(Z,J){for(let K of Z)if(K.filename&&K.filename.test(J))return K;let Q=/\.([^.]+)$/.exec(J);if(Q){for(let K of Z)if(K.extensions.indexOf(Q[1])>-1)return K}return null}static matchLanguageName(Z,J,Q=!0){J=J.toLowerCase();for(let K of Z)if(K.alias.some((U)=>U==J))return K;if(Q)for(let K of Z)for(let U of K.alias){let X=J.indexOf(U);if(X>-1&&(U.length>2||!/\w/.test(J[X-1])&&!/\w/.test(J[X+U.length])))return K}return null}}var ri0=v8.define(),K1=v8.define({combine:(Z)=>{if(!Z.length)return"  ";let J=Z[0];if(!J||/\S/.test(J)||Array.from(J).some((Q)=>Q!=J[0]))throw Error("Invalid indent unit: "+JSON.stringify(Z[0]));return J}});function YR(Z){let J=Z.facet(K1);return J.charCodeAt(0)==9?Z.tabSize*J.length:J.length}function RH(Z,J){let Q="",K=Z.tabSize,U=Z.facet(K1)[0];if(U=="\t"){while(J>=K)Q+="\t",J-=K;U=" "}for(let X=0;X<J;X++)Q+=U;return Q}function eN(Z,J){if(Z instanceof vZ)Z=new LH(Z);for(let K of Z.state.facet(ri0)){let U=K(Z,J);if(U!==void 0)return U}let Q=q9(Z.state);return Q.length>=J?ni0(Z,Q,J):null}class LH{constructor(Z,J={}){this.state=Z,this.options=J,this.unit=YR(Z)}lineAt(Z,J=1){let Q=this.state.doc.lineAt(Z),{simulateBreak:K,simulateDoubleBreak:U}=this.options;if(K!=null&&K>=Q.from&&K<=Q.to)if(U&&K==Z)return{text:"",from:Z};else if(J<0?K<Z:K<=Z)return{text:Q.text.slice(K-Q.from),from:K};else return{text:Q.text.slice(0,K-Q.from),from:Q.from};return Q}textAfterPos(Z,J=1){if(this.options.simulateDoubleBreak&&Z==this.options.simulateBreak)return"";let{text:Q,from:K}=this.lineAt(Z,J);return Q.slice(Z-K,Math.min(Q.length,Z+100-K))}column(Z,J=1){let{text:Q,from:K}=this.lineAt(Z,J),U=this.countColumn(Q,Z-K),X=this.options.overrideIndentation?this.options.overrideIndentation(K):-1;if(X>-1)U+=X-this.countColumn(Q,Q.search(/\S|$/));return U}countColumn(Z,J=Z.length){return gQ(Z,this.state.tabSize,J)}lineIndent(Z,J=1){let{text:Q,from:K}=this.lineAt(Z,J),U=this.options.overrideIndentation;if(U){let X=U(K);if(X>-1)return X}return this.countColumn(Q,Q.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var $X=new WZ;function ni0(Z,J,Q){let K=J.resolveStack(Q),U=J.resolveInner(Q,-1).resolve(Q,0).enterUnfinishedNodesBefore(Q);if(U!=K.node){let X=[];for(let Y=U;Y&&!(Y.from<K.node.from||Y.to>K.node.to||Y.from==K.node.from&&Y.type==K.node.type);Y=Y.parent)X.push(Y);for(let Y=X.length-1;Y>=0;Y--)K={node:X[Y],next:K}}return l90(K,Z,Q)}function l90(Z,J,Q){for(let K=Z;K;K=K.next){let U=oi0(K.node);if(U)return U(Ax.create(J,Q,K))}return 0}function ai0(Z){return Z.pos==Z.options.simulateBreak&&Z.options.simulateDoubleBreak}function oi0(Z){let J=Z.type.prop($X);if(J)return J;let Q=Z.firstChild,K;if(Q&&(K=Q.type.prop(WZ.closedBy))){let U=Z.lastChild,X=U&&K.indexOf(U.name)>-1;return(Y)=>i90(Y,!0,1,void 0,X&&!ai0(Y)?U.from:void 0)}return Z.parent==null?ti0:null}function ti0(){return 0}class Ax extends LH{constructor(Z,J,Q){super(Z.state,Z.options);this.base=Z,this.pos=J,this.context=Q}get node(){return this.context.node}static create(Z,J,Q){return new Ax(Z,J,Q)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Z){let J=this.state.doc.lineAt(Z.from);for(;;){let Q=Z.resolve(J.from);while(Q.parent&&Q.parent.from==Q.from)Q=Q.parent;if(ei0(Q,Z))break;J=this.state.doc.lineAt(Q.from)}return this.lineIndent(J.from)}continue(){return l90(this.context.next,this.base,this.pos)}}function ei0(Z,J){for(let Q=J;Q;Q=Q.parent)if(Z==Q)return!0;return!1}function Zs0(Z){let J=Z.node,Q=J.childAfter(J.from),K=J.lastChild;if(!Q)return null;let U=Z.options.simulateBreak,X=Z.state.doc.lineAt(Q.from),Y=U==null||U<=X.from?X.to:Math.min(X.to,U);for(let q=Q.to;;){let W=J.childAfter(q);if(!W||W==K)return null;if(!W.type.isSkipped){if(W.from>=Y)return null;let G=/^ */.exec(X.text.slice(Q.to-X.from))[0].length;return{from:Q.from,to:Q.to+G}}q=W.to}}function d90({closing:Z,align:J=!0,units:Q=1}){return(K)=>i90(K,J,Q,Z)}function i90(Z,J,Q,K,U){let X=Z.textAfter,Y=X.match(/^\s*/)[0].length,q=K&&X.slice(Y,Y+K.length)==K||U==Z.pos+Y,W=J?Zs0(Z):null;if(W)return q?Z.column(W.from):Z.column(W.to);return Z.baseIndent+(q?0:Z.unit*Q)}var s90=(Z)=>Z.baseIndent;function DH({except:Z,units:J=1}={}){return(Q)=>{let K=Z&&Z.test(Q.textAfter);return Q.baseIndent+(K?0:J*Q.unit)}}var Js0=200;function r90(){return vZ.transactionFilter.of((Z)=>{if(!Z.docChanged||!Z.isUserEvent("input.type")&&!Z.isUserEvent("input.complete"))return Z;let J=Z.startState.languageDataAt("indentOnInput",Z.startState.selection.main.head);if(!J.length)return Z;let Q=Z.newDoc,{head:K}=Z.newSelection.main,U=Q.lineAt(K);if(K>U.from+Js0)return Z;let X=Q.sliceString(U.from,K);if(!J.some((G)=>G.test(X)))return Z;let{state:Y}=Z,q=-1,W=[];for(let{head:G}of Y.selection.ranges){let z=Y.doc.lineAt(G);if(z.from==q)continue;q=z.from;let H=eN(Y,z.from);if(H==null)continue;let F=/^\s*/.exec(z.text)[0],M=RH(Y,H);if(F!=M)W.push({from:z.from,to:z.from+F.length,insert:M})}return W.length?[Z,{changes:W,sequential:!0}]:Z})}var Nx=v8.define(),t5=new WZ;function ZE(Z){let{firstChild:J,lastChild:Q}=Z;return J&&J.to<Q.from?{from:J.to,to:Q.type.isError?Z.to:Q.from}:null}function Qs0(Z,J,Q){let K=q9(Z);if(K.length<Q)return null;let U=K.resolveStack(Q,1),X=null;for(let Y=U;Y;Y=Y.next){let q=Y.node;if(q.to<=Q||q.from>Q)continue;if(X&&q.from<J)break;let W=q.type.prop(t5);if(W&&(q.to<K.length-50||K.length==Z.doc.length||!Ks0(q))){let G=W(q,Z);if(G&&G.from<=Q&&G.from>=J&&G.to>Q)X=G}}return X}function Ks0(Z){let J=Z.lastChild;return J&&J.to==Z.to&&J.type.isError}function aN(Z,J,Q){for(let K of Z.facet(Nx)){let U=K(Z,J,Q);if(U)return U}return Qs0(Z,J,Q)}function n90(Z,J){let Q=J.mapPos(Z.from,1),K=J.mapPos(Z.to,-1);return Q>=K?void 0:{from:Q,to:K}}var JE=OZ.define({map:n90}),qR=OZ.define({map:n90});function a90(Z){let J=[];for(let{head:Q}of Z.state.selection.ranges){if(J.some((K)=>K.from<=Q&&K.to>=Q))continue;J.push(Z.lineBlockAt(Q))}return J}var eW=BJ.define({create(){return e8.none},update(Z,J){if(J.isUserEvent("delete"))J.changes.iterChangedRanges((Q,K)=>Z=y90(Z,Q,K));Z=Z.map(J.changes);for(let Q of J.effects)if(Q.is(JE)&&!Us0(Z,Q.value.from,Q.value.to)){let{preparePlaceholder:K}=J.state.facet(Ex),U=!K?h90:e8.replace({widget:new QJ0(K(J.state,Q.value))});Z=Z.update({add:[U.range(Q.value.from,Q.value.to)]})}else if(Q.is(qR))Z=Z.update({filter:(K,U)=>Q.value.from!=K||Q.value.to!=U,filterFrom:Q.value.from,filterTo:Q.value.to});if(J.selection)Z=y90(Z,J.selection.main.head);return Z},provide:(Z)=>C8.decorations.from(Z),toJSON(Z,J){let Q=[];return Z.between(0,J.doc.length,(K,U)=>{Q.push(K,U)}),Q},fromJSON(Z){if(!Array.isArray(Z)||Z.length%2)throw RangeError("Invalid JSON for fold state");let J=[];for(let Q=0;Q<Z.length;){let K=Z[Q++],U=Z[Q++];if(typeof K!="number"||typeof U!="number")throw RangeError("Invalid JSON for fold state");J.push(h90.range(K,U))}return e8.set(J,!0)}});function y90(Z,J,Q=J){let K=!1;return Z.between(J,Q,(U,X)=>{if(U<Q&&X>J)K=!0}),!K?Z:Z.update({filterFrom:J,filterTo:Q,filter:(U,X)=>U>=Q||X<=J})}function oN(Z,J,Q){var K;let U=null;return(K=Z.field(eW,!1))===null||K===void 0||K.between(J,Q,(X,Y)=>{if(!U||U.from>X)U={from:X,to:Y}}),U}function Us0(Z,J,Q){let K=!1;return Z.between(J,J,(U,X)=>{if(U==J&&X==Q)K=!0}),K}function o90(Z,J){return Z.field(eW,!1)?J:J.concat(OZ.appendConfig.of(ZJ0()))}var Xs0=(Z)=>{for(let J of a90(Z)){let Q=aN(Z.state,J.from,J.to);if(Q)return Z.dispatch({effects:o90(Z.state,[JE.of(Q),t90(Z,Q)])}),!0}return!1},Ys0=(Z)=>{if(!Z.state.field(eW,!1))return!1;let J=[];for(let Q of a90(Z)){let K=oN(Z.state,Q.from,Q.to);if(K)J.push(qR.of(K),t90(Z,K,!1))}if(J.length)Z.dispatch({effects:J});return J.length>0};function t90(Z,J,Q=!0){let K=Z.state.doc.lineAt(J.from).number,U=Z.state.doc.lineAt(J.to).number;return C8.announce.of(`${Z.state.phrase(Q?"Folded lines":"Unfolded lines")} ${K} ${Z.state.phrase("to")} ${U}.`)}var qs0=(Z)=>{let{state:J}=Z,Q=[];for(let K=0;K<J.doc.length;){let U=Z.lineBlockAt(K),X=aN(J,U.from,U.to);if(X)Q.push(JE.of(X));K=(X?Z.lineBlockAt(X.to):U).to+1}if(Q.length)Z.dispatch({effects:o90(Z.state,Q)});return!!Q.length},Ws0=(Z)=>{let J=Z.state.field(eW,!1);if(!J||!J.size)return!1;let Q=[];return J.between(0,Z.state.doc.length,(K,U)=>{Q.push(qR.of({from:K,to:U}))}),Z.dispatch({effects:Q}),!0};var e90=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Xs0},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Ys0},{key:"Ctrl-Alt-[",run:qs0},{key:"Ctrl-Alt-]",run:Ws0}],Gs0={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Ex=v8.define({combine(Z){return AQ(Z,Gs0)}});function ZJ0(Z){let J=[eW,Hs0];if(Z)J.push(Ex.of(Z));return J}function JJ0(Z,J){let{state:Q}=Z,K=Q.facet(Ex),U=(Y)=>{let q=Z.lineBlockAt(Z.posAtDOM(Y.target)),W=oN(Z.state,q.from,q.to);if(W)Z.dispatch({effects:qR.of(W)});Y.preventDefault()};if(K.placeholderDOM)return K.placeholderDOM(Z,U,J);let X=document.createElement("span");return X.textContent=K.placeholderText,X.setAttribute("aria-label",Q.phrase("folded code")),X.title=Q.phrase("unfold"),X.className="cm-foldPlaceholder",X.onclick=U,X}var h90=e8.replace({widget:new class extends j6{toDOM(Z){return JJ0(Z,null)}}});class QJ0 extends j6{constructor(Z){super();this.value=Z}eq(Z){return this.value==Z.value}toDOM(Z){return JJ0(Z,this.value)}}var zs0={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class nN extends n4{constructor(Z,J){super();this.config=Z,this.open=J}eq(Z){return this.config==Z.config&&this.open==Z.open}toDOM(Z){if(this.config.markerDOM)return this.config.markerDOM(this.open);let J=document.createElement("span");return J.textContent=this.open?this.config.openText:this.config.closedText,J.title=Z.state.phrase(this.open?"Fold line":"Unfold line"),J}}function KJ0(Z={}){let J={...zs0,...Z},Q=new nN(J,!0),K=new nN(J,!1),U=OJ.fromClass(class{constructor(Y){this.from=Y.viewport.from,this.markers=this.buildMarkers(Y)}update(Y){if(Y.docChanged||Y.viewportChanged||Y.startState.facet(Q1)!=Y.state.facet(Q1)||Y.startState.field(eW,!1)!=Y.state.field(eW,!1)||q9(Y.startState)!=q9(Y.state)||J.foldingChanged(Y))this.markers=this.buildMarkers(Y.view)}buildMarkers(Y){let q=new F4;for(let W of Y.viewportLineBlocks){let G=oN(Y.state,W.from,W.to)?K:aN(Y.state,W.from,W.to)?Q:null;if(G)q.add(W.from,W.from,G)}return q.finish()}}),{domEventHandlers:X}=J;return[U,Zx({class:"cm-foldGutter",markers(Y){var q;return((q=Y.plugin(U))===null||q===void 0?void 0:q.markers)||kZ.empty},initialSpacer(){return new nN(J,!1)},domEventHandlers:{...X,click:(Y,q,W)=>{if(X.click&&X.click(Y,q,W))return!0;let G=oN(Y.state,q.from,q.to);if(G)return Y.dispatch({effects:qR.of(G)}),!0;let z=aN(Y.state,q.from,q.to);if(z)return Y.dispatch({effects:JE.of(z)}),!0;return!1}}}),ZJ0()]}var Hs0=C8.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class IH{constructor(Z,J){this.specs=Z;let Q;function K(Y){let q=cK.newName();return(Q||(Q=Object.create(null)))["."+q]=Y,q}let U=typeof J.all=="string"?J.all:J.all?K(J.all):void 0,X=J.scope;this.scope=X instanceof T6?(Y)=>Y.prop(J1)==X.data:X?(Y)=>Y==X:void 0,this.style=Fx(Z.map((Y)=>({tag:Y.tag,class:Y.class||K(Object.assign({},Y,{tag:null}))})),{all:U}).style,this.module=Q?new cK(Q):null,this.themeType=J.themeType}static define(Z,J){return new IH(Z,J||{})}}var Lx=v8.define(),UJ0=v8.define({combine(Z){return Z.length?[Z[0]]:null}});function Ox(Z){let J=Z.facet(Lx);return J.length?J:Z.facet(UJ0)}function QE(Z,J){let Q=[Fs0],K;if(Z instanceof IH){if(Z.module)Q.push(C8.styleModule.of(Z.module));K=Z.themeType}if(J===null||J===void 0?void 0:J.fallback)Q.push(UJ0.of(Z));else if(K)Q.push(Lx.computeN([C8.darkTheme],(U)=>{return U.facet(C8.darkTheme)==(K=="dark")?[Z]:[]}));else Q.push(Lx.of(Z));return Q}class XJ0{constructor(Z){this.markCache=Object.create(null),this.tree=q9(Z.state),this.decorations=this.buildDeco(Z,Ox(Z.state)),this.decoratedTo=Z.viewport.to}update(Z){let J=q9(Z.state),Q=Ox(Z.state),K=Q!=Ox(Z.startState),{viewport:U}=Z.view,X=Z.changes.mapPos(this.decoratedTo,1);if(J.length<U.to&&!K&&J.type==this.tree.type&&X>=U.to)this.decorations=this.decorations.map(Z.changes),this.decoratedTo=X;else if(J!=this.tree||Z.viewportChanged||K)this.tree=J,this.decorations=this.buildDeco(Z.view,Q),this.decoratedTo=U.to}buildDeco(Z,J){if(!J||!this.tree.length)return e8.none;let Q=new F4;for(let{from:K,to:U}of Z.visibleRanges)f90(this.tree,J,(X,Y,q)=>{Q.add(X,Y,this.markCache[q]||(this.markCache[q]=e8.mark({class:q})))},K,U);return Q.finish()}}var Fs0=P6.high(OJ.fromClass(XJ0,{decorations:(Z)=>Z.decorations})),YJ0=IH.define([{tag:R0.meta,color:"#404740"},{tag:R0.link,textDecoration:"underline"},{tag:R0.heading,textDecoration:"underline",fontWeight:"bold"},{tag:R0.emphasis,fontStyle:"italic"},{tag:R0.strong,fontWeight:"bold"},{tag:R0.strikethrough,textDecoration:"line-through"},{tag:R0.keyword,color:"#708"},{tag:[R0.atom,R0.bool,R0.url,R0.contentSeparator,R0.labelName],color:"#219"},{tag:[R0.literal,R0.inserted],color:"#164"},{tag:[R0.string,R0.deleted],color:"#a11"},{tag:[R0.regexp,R0.escape,R0.special(R0.string)],color:"#e40"},{tag:R0.definition(R0.variableName),color:"#00f"},{tag:R0.local(R0.variableName),color:"#30a"},{tag:[R0.typeName,R0.namespace],color:"#085"},{tag:R0.className,color:"#167"},{tag:[R0.special(R0.variableName),R0.macroName],color:"#256"},{tag:R0.definition(R0.propertyName),color:"#00c"},{tag:R0.comment,color:"#940"},{tag:R0.invalid,color:"#f00"}]),Ms0=C8.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),qJ0=1e4,WJ0="()[]{}",GJ0=v8.define({combine(Z){return AQ(Z,{afterCursor:!0,brackets:WJ0,maxScanDistance:qJ0,renderMatch:Rs0})}}),Bs0=e8.mark({class:"cm-matchingBracket"}),Os0=e8.mark({class:"cm-nonmatchingBracket"});function Rs0(Z){let J=[],Q=Z.matched?Bs0:Os0;if(J.push(Q.range(Z.start.from,Z.start.to)),Z.end)J.push(Q.range(Z.end.from,Z.end.to));return J}var Ls0=BJ.define({create(){return e8.none},update(Z,J){if(!J.docChanged&&!J.selection)return Z;let Q=[],K=J.state.facet(GJ0);for(let U of J.state.selection.ranges){if(!U.empty)continue;let X=nK(J.state,U.head,-1,K)||U.head>0&&nK(J.state,U.head-1,1,K)||K.afterCursor&&(nK(J.state,U.head,1,K)||U.head<J.state.doc.length&&nK(J.state,U.head+1,-1,K));if(X)Q=Q.concat(K.renderMatch(X,J.state))}return e8.set(Q,!0)},provide:(Z)=>C8.decorations.from(Z)}),Ds0=[Ls0,Ms0];function zJ0(Z={}){return[GJ0.of(Z),Ds0]}var Vx=new WZ;function Dx(Z,J,Q){let K=Z.prop(J<0?WZ.openedBy:WZ.closedBy);if(K)return K;if(Z.name.length==1){let U=Q.indexOf(Z.name);if(U>-1&&U%2==(J<0?1:0))return[Q[U+J]]}return null}function Ix(Z){let J=Z.type.prop(Vx);return J?J(Z.node):Z}function nK(Z,J,Q,K={}){let U=K.maxScanDistance||qJ0,X=K.brackets||WJ0,Y=q9(Z),q=Y.resolveInner(J,Q);for(let W=q;W;W=W.parent){let G=Dx(W.type,Q,X);if(G&&W.from<W.to){let z=Ix(W);if(z&&(Q>0?J>=z.from&&J<z.to:J>z.from&&J<=z.to))return Is0(Z,J,Q,W,z,G,X)}}return As0(Z,J,Q,Y,q.type,U,X)}function Is0(Z,J,Q,K,U,X,Y){let q=K.parent,W={from:U.from,to:U.to},G=0,z=q===null||q===void 0?void 0:q.cursor();if(z&&(Q<0?z.childBefore(K.from):z.childAfter(K.to)))do if(Q<0?z.to<=K.from:z.from>=K.to){if(G==0&&X.indexOf(z.type.name)>-1&&z.from<z.to){let H=Ix(z);return{start:W,end:H?{from:H.from,to:H.to}:void 0,matched:!0}}else if(Dx(z.type,Q,Y))G++;else if(Dx(z.type,-Q,Y)){if(G==0){let H=Ix(z);return{start:W,end:H&&H.from<H.to?{from:H.from,to:H.to}:void 0,matched:!1}}G--}}while(Q<0?z.prevSibling():z.nextSibling());return{start:W,matched:!1}}function As0(Z,J,Q,K,U,X,Y){let q=Q<0?Z.sliceDoc(J-1,J):Z.sliceDoc(J,J+1),W=Y.indexOf(q);if(W<0||W%2==0!=Q>0)return null;let G={from:Q<0?J-1:J,to:Q>0?J+1:J},z=Z.doc.iterRange(J,Q>0?Z.doc.length:0),H=0;for(let F=0;!z.next().done&&F<=X;){let M=z.value;if(Q<0)F+=M.length;let B=J+F*Q;for(let O=Q>0?0:M.length-1,R=Q>0?M.length:-1;O!=R;O+=Q){let L=Y.indexOf(M[O]);if(L<0||K.resolveInner(B+O,1).type!=U)continue;if(L%2==0==Q>0)H++;else if(H==1)return{start:G,end:{from:B+O,to:B+O+1},matched:L>>1==W>>1};else H--}if(Q>0)F+=M.length}return z.done?{start:G,matched:!1}:null}var Ns0=Object.create(null),m90=[bJ.none];var u90=[],g90=Object.create(null),Es0=Object.create(null);for(let[Z,J]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Es0[Z]=Vs0(Ns0,J);function Rx(Z,J){if(u90.indexOf(Z)>-1)return;u90.push(Z),console.warn(J)}function Vs0(Z,J){let Q=[];for(let q of J.split(" ")){let W=[];for(let G of q.split(".")){let z=Z[G]||R0[G];if(!z)Rx(G,`Unknown highlighting tag ${G}`);else if(typeof z=="function")if(!W.length)Rx(G,`Modifier ${G} used at start of tag`);else W=W.map(z);else if(W.length)Rx(G,`Tag ${G} used as modifier`);else W=Array.isArray(z)?z:[z]}for(let G of W)Q.push(G)}if(!Q.length)return 0;let K=J.replace(/ /g,"_"),U=K+" "+Q.map((q)=>q.id),X=g90[U];if(X)return X.id;let Y=g90[U]=bJ.define({id:m90.length,name:K,props:[rK({[K]:Q})]});return m90.push(Y),Y.id}var Zs8={rtl:e8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:V9.RTL}),ltr:e8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:V9.LTR}),auto:e8.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var Ps0=(Z)=>{let{state:J}=Z,Q=J.doc.lineAt(J.selection.main.from),K=$x(Z.state,Q.from);return K.line?Cs0(Z):K.block?Ss0(Z):!1};function wx(Z,J){return({state:Q,dispatch:K})=>{if(Q.readOnly)return!1;let U=Z(J,Q);if(!U)return!1;return K(Q.update(U)),!0}}var Cs0=wx($s0,0);var js0=wx(IJ0,0);var Ss0=wx((Z,J)=>IJ0(Z,J,ws0(J)),0);function $x(Z,J){let Q=Z.languageDataAt("commentTokens",J,1);return Q.length?Q[0]:{}}var WR=50;function Ts0(Z,{open:J,close:Q},K,U){let X=Z.sliceDoc(K-WR,K),Y=Z.sliceDoc(U,U+WR),q=/\s*$/.exec(X)[0].length,W=/^\s*/.exec(Y)[0].length,G=X.length-q;if(X.slice(G-J.length,G)==J&&Y.slice(W,W+Q.length)==Q)return{open:{pos:K-q,margin:q&&1},close:{pos:U+W,margin:W&&1}};let z,H;if(U-K<=2*WR)z=H=Z.sliceDoc(K,U);else z=Z.sliceDoc(K,K+WR),H=Z.sliceDoc(U-WR,U);let F=/^\s*/.exec(z)[0].length,M=/\s*$/.exec(H)[0].length,B=H.length-M-Q.length;if(z.slice(F,F+J.length)==J&&H.slice(B,B+Q.length)==Q)return{open:{pos:K+F+J.length,margin:/\s/.test(z.charAt(F+J.length))?1:0},close:{pos:U-M-Q.length,margin:/\s/.test(H.charAt(B-1))?1:0}};return null}function ws0(Z){let J=[];for(let Q of Z.selection.ranges){let K=Z.doc.lineAt(Q.from),U=Q.to<=K.to?K:Z.doc.lineAt(Q.to);if(U.from>K.from&&U.from==Q.to)U=Q.to==K.to+1?K:Z.doc.lineAt(Q.to-1);let X=J.length-1;if(X>=0&&J[X].to>K.from)J[X].to=U.to;else J.push({from:K.from+/^\s*/.exec(K.text)[0].length,to:U.to})}return J}function IJ0(Z,J,Q=J.selection.ranges){let K=Q.map((X)=>$x(J,X.from).block);if(!K.every((X)=>X))return null;let U=Q.map((X,Y)=>Ts0(J,K[Y],X.from,X.to));if(Z!=2&&!U.every((X)=>X))return{changes:J.changes(Q.map((X,Y)=>{if(U[Y])return[];return[{from:X.from,insert:K[Y].open+" "},{from:X.to,insert:" "+K[Y].close}]}))};else if(Z!=1&&U.some((X)=>X)){let X=[];for(let Y=0,q;Y<U.length;Y++)if(q=U[Y]){let W=K[Y],{open:G,close:z}=q;X.push({from:G.pos-W.open.length,to:G.pos+G.margin},{from:z.pos-z.margin,to:z.pos+W.close.length})}return{changes:X}}return null}function $s0(Z,J,Q=J.selection.ranges){let K=[],U=-1;for(let{from:X,to:Y}of Q){let q=K.length,W=1e9,G=$x(J,X).line;if(!G)continue;for(let z=X;z<=Y;){let H=J.doc.lineAt(z);if(H.from>U&&(X==Y||Y>H.from)){U=H.from;let F=/^\s*/.exec(H.text)[0].length,M=F==H.length,B=H.text.slice(F,F+G.length)==G?F:-1;if(F<H.text.length&&F<W)W=F;K.push({line:H,comment:B,token:G,indent:F,empty:M,single:!1})}z=H.to+1}if(W<1e9){for(let z=q;z<K.length;z++)if(K[z].indent<K[z].line.text.length)K[z].indent=W}if(K.length==q+1)K[q].single=!0}if(Z!=2&&K.some((X)=>X.comment<0&&(!X.empty||X.single))){let X=[];for(let{line:q,token:W,indent:G,empty:z,single:H}of K)if(H||!z)X.push({from:q.from+G,insert:W+" "});let Y=J.changes(X);return{changes:Y,selection:J.selection.map(Y,1)}}else if(Z!=1&&K.some((X)=>X.comment>=0)){let X=[];for(let{line:Y,comment:q,token:W}of K)if(q>=0){let G=Y.from+q,z=G+W.length;if(Y.text[z-Y.from]==" ")z++;X.push({from:G,to:z})}return{changes:X}}return null}var Cx=B4.define(),ks0=B4.define(),_s0=v8.define(),AJ0=v8.define({combine(Z){return AQ(Z,{minDepth:100,newGroupDelay:500,joinToEvent:(J,Q)=>Q},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(J,Q)=>(K,U)=>J(K,U)||Q(K,U)})}}),NJ0=BJ.define({create(){return e5.empty},update(Z,J){let Q=J.state.facet(AJ0),K=J.annotation(Cx);if(K){let W=w6.fromTransaction(J,K.selection),G=K.side,z=G==0?Z.undone:Z.done;if(W)z=UE(z,z.length,Q.minDepth,W);else z=CJ0(z,J.startState.selection);return new e5(G==0?K.rest:z,G==0?z:K.rest)}let U=J.annotation(ks0);if(U=="full"||U=="before")Z=Z.isolate();if(J.annotation(CJ.addToHistory)===!1)return!J.changes.empty?Z.addMapping(J.changes.desc):Z;let X=w6.fromTransaction(J),Y=J.annotation(CJ.time),q=J.annotation(CJ.userEvent);if(X)Z=Z.addChanges(X,Y,q,Q,J);else if(J.selection)Z=Z.addSelection(J.startState.selection,Y,q,Q.newGroupDelay);if(U=="full"||U=="after")Z=Z.isolate();return Z},toJSON(Z){return{done:Z.done.map((J)=>J.toJSON()),undone:Z.undone.map((J)=>J.toJSON())}},fromJSON(Z){return new e5(Z.done.map(w6.fromJSON),Z.undone.map(w6.fromJSON))}});function EJ0(Z={}){return[NJ0,AJ0.of(Z),C8.domEventHandlers({beforeinput(J,Q){let K=J.inputType=="historyUndo"?VJ0:J.inputType=="historyRedo"?jx:null;if(!K)return!1;return J.preventDefault(),K(Q)}})]}function XE(Z,J){return function({state:Q,dispatch:K}){if(!J&&Q.readOnly)return!1;let U=Q.field(NJ0,!1);if(!U)return!1;let X=U.pop(Z,Q,J);if(!X)return!1;return K(X),!0}}var VJ0=XE(0,!1),jx=XE(1,!1),fs0=XE(0,!0),vs0=XE(1,!0);class w6{constructor(Z,J,Q,K,U){this.changes=Z,this.effects=J,this.mapped=Q,this.startSelection=K,this.selectionsAfter=U}setSelAfter(Z){return new w6(this.changes,this.effects,this.mapped,this.startSelection,Z)}toJSON(){var Z,J,Q;return{changes:(Z=this.changes)===null||Z===void 0?void 0:Z.toJSON(),mapped:(J=this.mapped)===null||J===void 0?void 0:J.toJSON(),startSelection:(Q=this.startSelection)===null||Q===void 0?void 0:Q.toJSON(),selectionsAfter:this.selectionsAfter.map((K)=>K.toJSON())}}static fromJSON(Z){return new w6(Z.changes&&dJ.fromJSON(Z.changes),[],Z.mapped&&gK.fromJSON(Z.mapped),Z.startSelection&&e0.fromJSON(Z.startSelection),Z.selectionsAfter.map(e0.fromJSON))}static fromTransaction(Z,J){let Q=a4;for(let K of Z.startState.facet(_s0)){let U=K(Z);if(U.length)Q=Q.concat(U)}if(!Q.length&&Z.changes.empty)return null;return new w6(Z.changes.invert(Z.startState.doc),Q,void 0,J||Z.startState.selection,a4)}static selection(Z){return new w6(void 0,a4,void 0,void 0,Z)}}function UE(Z,J,Q,K){let U=J+1>Q+20?J-Q-1:0,X=Z.slice(U,J);return X.push(K),X}function xs0(Z,J){let Q=[],K=!1;return Z.iterChangedRanges((U,X)=>Q.push(U,X)),J.iterChangedRanges((U,X,Y,q)=>{for(let W=0;W<Q.length;){let G=Q[W++],z=Q[W++];if(q>=G&&Y<=z)K=!0}}),K}function bs0(Z,J){return Z.ranges.length==J.ranges.length&&Z.ranges.filter((Q,K)=>Q.empty!=J.ranges[K].empty).length===0}function PJ0(Z,J){return!Z.length?J:!J.length?Z:Z.concat(J)}var a4=[],ys0=200;function CJ0(Z,J){if(!Z.length)return[w6.selection([J])];else{let Q=Z[Z.length-1],K=Q.selectionsAfter.slice(Math.max(0,Q.selectionsAfter.length-ys0));if(K.length&&K[K.length-1].eq(J))return Z;return K.push(J),UE(Z,Z.length-1,1e9,Q.setSelAfter(K))}}function hs0(Z){let J=Z[Z.length-1],Q=Z.slice();return Q[Z.length-1]=J.setSelAfter(J.selectionsAfter.slice(0,J.selectionsAfter.length-1)),Q}function Px(Z,J){if(!Z.length)return Z;let Q=Z.length,K=a4;while(Q){let U=ms0(Z[Q-1],J,K);if(U.changes&&!U.changes.empty||U.effects.length){let X=Z.slice(0,Q);return X[Q-1]=U,X}else J=U.mapped,Q--,K=U.selectionsAfter}return K.length?[w6.selection(K)]:a4}function ms0(Z,J,Q){let K=PJ0(Z.selectionsAfter.length?Z.selectionsAfter.map((q)=>q.map(J)):a4,Q);if(!Z.changes)return w6.selection(K);let U=Z.changes.map(J),X=J.mapDesc(Z.changes,!0),Y=Z.mapped?Z.mapped.composeDesc(X):X;return new w6(U,OZ.mapEffects(Z.effects,J),Y,Z.startSelection.map(X),K)}var us0=/^(input\.type|delete)($|\.)/;class e5{constructor(Z,J,Q=0,K=void 0){this.done=Z,this.undone=J,this.prevTime=Q,this.prevUserEvent=K}isolate(){return this.prevTime?new e5(this.done,this.undone):this}addChanges(Z,J,Q,K,U){let X=this.done,Y=X[X.length-1];if(Y&&Y.changes&&!Y.changes.empty&&Z.changes&&(!Q||us0.test(Q))&&(!Y.selectionsAfter.length&&J-this.prevTime<K.newGroupDelay&&K.joinToEvent(U,xs0(Y.changes,Z.changes))||Q=="input.type.compose"))X=UE(X,X.length-1,K.minDepth,new w6(Z.changes.compose(Y.changes),PJ0(OZ.mapEffects(Z.effects,Y.changes),Y.effects),Y.mapped,Y.startSelection,a4));else X=UE(X,X.length,K.minDepth,Z);return new e5(X,a4,J,Q)}addSelection(Z,J,Q,K){let U=this.done.length?this.done[this.done.length-1].selectionsAfter:a4;if(U.length>0&&J-this.prevTime<K&&Q==this.prevUserEvent&&Q&&/^select($|\.)/.test(Q)&&bs0(U[U.length-1],Z))return this;return new e5(CJ0(this.done,Z),this.undone,J,Q)}addMapping(Z){return new e5(Px(this.done,Z),Px(this.undone,Z),this.prevTime,this.prevUserEvent)}pop(Z,J,Q){let K=Z==0?this.done:this.undone;if(K.length==0)return null;let U=K[K.length-1],X=U.selectionsAfter[0]||J.selection;if(Q&&U.selectionsAfter.length)return J.update({selection:U.selectionsAfter[U.selectionsAfter.length-1],annotations:Cx.of({side:Z,rest:hs0(K),selection:X}),userEvent:Z==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!U.changes)return null;else{let Y=K.length==1?a4:K.slice(0,K.length-1);if(U.mapped)Y=Px(Y,U.mapped);return J.update({changes:U.changes,selection:U.startSelection,effects:U.effects,annotations:Cx.of({side:Z,rest:Y,selection:X}),filter:!1,userEvent:Z==0?"undo":"redo",scrollIntoView:!0})}}}e5.empty=new e5(a4,a4);var jJ0=[{key:"Mod-z",run:VJ0,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:jx,preventDefault:!0},{linux:"Ctrl-Shift-z",run:jx,preventDefault:!0},{key:"Mod-u",run:fs0,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:vs0,preventDefault:!0}];function AH(Z,J){return e0.create(Z.ranges.map(J),Z.mainIndex)}function aK(Z,J){return Z.update({selection:J,scrollIntoView:!0,userEvent:"select"})}function oK({state:Z,dispatch:J},Q){let K=AH(Z.selection,Q);if(K.eq(Z.selection,!0))return!1;return J(aK(Z,K)),!0}function YE(Z,J){return e0.cursor(J?Z.to:Z.from)}function SJ0(Z,J){return oK(Z,(Q)=>Q.empty?Z.moveByChar(Q,J):YE(Q,J))}function EQ(Z){return Z.textDirectionAt(Z.state.selection.main.head)==V9.LTR}var TJ0=(Z)=>SJ0(Z,!EQ(Z)),wJ0=(Z)=>SJ0(Z,EQ(Z));function $J0(Z,J){return oK(Z,(Q)=>Q.empty?Z.moveByGroup(Q,J):YE(Q,J))}var gs0=(Z)=>$J0(Z,!EQ(Z)),ps0=(Z)=>$J0(Z,EQ(Z));var Gs8=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function cs0(Z,J,Q){if(J.type.prop(Q))return!0;let K=J.to-J.from;return K&&(K>2||/[^\s,.;:]/.test(Z.sliceDoc(J.from,J.to)))||J.firstChild}function qE(Z,J,Q){let K=q9(Z).resolveInner(J.head),U=Q?WZ.closedBy:WZ.openedBy;for(let W=J.head;;){let G=Q?K.childAfter(W):K.childBefore(W);if(!G)break;if(cs0(Z,G,U))K=G;else W=Q?G.to:G.from}let X=K.type.prop(U),Y,q;if(X&&(Y=Q?nK(Z,K.from,1):nK(Z,K.to,-1))&&Y.matched)q=Q?Y.end.to:Y.end.from;else q=Q?K.to:K.from;return e0.cursor(q,Q?-1:1)}var ls0=(Z)=>oK(Z,(J)=>qE(Z.state,J,!EQ(Z))),ds0=(Z)=>oK(Z,(J)=>qE(Z.state,J,EQ(Z)));function kJ0(Z,J){return oK(Z,(Q)=>{if(!Q.empty)return YE(Q,J);let K=Z.moveVertically(Q,J);return K.head!=Q.head?K:Z.moveToLineBoundary(Q,J)})}var _J0=(Z)=>kJ0(Z,!1),fJ0=(Z)=>kJ0(Z,!0);function vJ0(Z){let J=Z.scrollDOM.clientHeight<Z.scrollDOM.scrollHeight-2,Q=0,K=0,U;if(J){for(let X of Z.state.facet(C8.scrollMargins)){let Y=X(Z);if(Y===null||Y===void 0?void 0:Y.top)Q=Math.max(Y===null||Y===void 0?void 0:Y.top,Q);if(Y===null||Y===void 0?void 0:Y.bottom)K=Math.max(Y===null||Y===void 0?void 0:Y.bottom,K)}U=Z.scrollDOM.clientHeight-Q-K}else U=(Z.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:Q,marginBottom:K,selfScroll:J,height:Math.max(Z.defaultLineHeight,U-5)}}function xJ0(Z,J){let Q=vJ0(Z),{state:K}=Z,U=AH(K.selection,(Y)=>{return Y.empty?Z.moveVertically(Y,J,Q.height):YE(Y,J)});if(U.eq(K.selection))return!1;let X;if(Q.selfScroll){let Y=Z.coordsAtPos(K.selection.main.head),q=Z.scrollDOM.getBoundingClientRect(),W=q.top+Q.marginTop,G=q.bottom-Q.marginBottom;if(Y&&Y.top>W&&Y.bottom<G)X=C8.scrollIntoView(U.main.head,{y:"start",yMargin:Y.top-W})}return Z.dispatch(aK(K,U),{effects:X}),!0}var HJ0=(Z)=>xJ0(Z,!1),Sx=(Z)=>xJ0(Z,!0);function U1(Z,J,Q){let K=Z.lineBlockAt(J.head),U=Z.moveToLineBoundary(J,Q);if(U.head==J.head&&U.head!=(Q?K.to:K.from))U=Z.moveToLineBoundary(J,Q,!1);if(!Q&&U.head==K.from&&K.length){let X=/^\s*/.exec(Z.state.sliceDoc(K.from,Math.min(K.from+100,K.to)))[0].length;if(X&&J.head!=K.from+X)U=e0.cursor(K.from+X)}return U}var is0=(Z)=>oK(Z,(J)=>U1(Z,J,!0)),ss0=(Z)=>oK(Z,(J)=>U1(Z,J,!1)),rs0=(Z)=>oK(Z,(J)=>U1(Z,J,!EQ(Z))),ns0=(Z)=>oK(Z,(J)=>U1(Z,J,EQ(Z))),as0=(Z)=>oK(Z,(J)=>e0.cursor(Z.lineBlockAt(J.head).from,1)),os0=(Z)=>oK(Z,(J)=>e0.cursor(Z.lineBlockAt(J.head).to,-1));function ts0(Z,J,Q){let K=!1,U=AH(Z.selection,(X)=>{let Y=nK(Z,X.head,-1)||nK(Z,X.head,1)||X.head>0&&nK(Z,X.head-1,1)||X.head<Z.doc.length&&nK(Z,X.head+1,-1);if(!Y||!Y.end)return X;K=!0;let q=Y.start.from==X.head?Y.end.to:Y.end.from;return Q?e0.range(X.anchor,q):e0.cursor(q)});if(!K)return!1;return J(aK(Z,U)),!0}var es0=({state:Z,dispatch:J})=>ts0(Z,J,!1);function o4(Z,J){let Q=AH(Z.state.selection,(K)=>{let U=J(K);return e0.range(K.anchor,U.head,U.goalColumn,U.bidiLevel||void 0)});if(Q.eq(Z.state.selection))return!1;return Z.dispatch(aK(Z.state,Q)),!0}function bJ0(Z,J){return o4(Z,(Q)=>Z.moveByChar(Q,J))}var yJ0=(Z)=>bJ0(Z,!EQ(Z)),hJ0=(Z)=>bJ0(Z,EQ(Z));function mJ0(Z,J){return o4(Z,(Q)=>Z.moveByGroup(Q,J))}var Zr0=(Z)=>mJ0(Z,!EQ(Z)),Jr0=(Z)=>mJ0(Z,EQ(Z));var Qr0=(Z)=>o4(Z,(J)=>qE(Z.state,J,!EQ(Z))),Kr0=(Z)=>o4(Z,(J)=>qE(Z.state,J,EQ(Z)));function uJ0(Z,J){return o4(Z,(Q)=>Z.moveVertically(Q,J))}var gJ0=(Z)=>uJ0(Z,!1),pJ0=(Z)=>uJ0(Z,!0);function cJ0(Z,J){return o4(Z,(Q)=>Z.moveVertically(Q,J,vJ0(Z).height))}var FJ0=(Z)=>cJ0(Z,!1),MJ0=(Z)=>cJ0(Z,!0),Ur0=(Z)=>o4(Z,(J)=>U1(Z,J,!0)),Xr0=(Z)=>o4(Z,(J)=>U1(Z,J,!1)),Yr0=(Z)=>o4(Z,(J)=>U1(Z,J,!EQ(Z))),qr0=(Z)=>o4(Z,(J)=>U1(Z,J,EQ(Z))),Wr0=(Z)=>o4(Z,(J)=>e0.cursor(Z.lineBlockAt(J.head).from)),Gr0=(Z)=>o4(Z,(J)=>e0.cursor(Z.lineBlockAt(J.head).to)),BJ0=({state:Z,dispatch:J})=>{return J(aK(Z,{anchor:0})),!0},OJ0=({state:Z,dispatch:J})=>{return J(aK(Z,{anchor:Z.doc.length})),!0},RJ0=({state:Z,dispatch:J})=>{return J(aK(Z,{anchor:Z.selection.main.anchor,head:0})),!0},LJ0=({state:Z,dispatch:J})=>{return J(aK(Z,{anchor:Z.selection.main.anchor,head:Z.doc.length})),!0},zr0=({state:Z,dispatch:J})=>{return J(Z.update({selection:{anchor:0,head:Z.doc.length},userEvent:"select"})),!0},Hr0=({state:Z,dispatch:J})=>{let Q=WE(Z).map(({from:K,to:U})=>e0.range(K,Math.min(U+1,Z.doc.length)));return J(Z.update({selection:e0.create(Q),userEvent:"select"})),!0},Fr0=({state:Z,dispatch:J})=>{let Q=AH(Z.selection,(K)=>{let U=q9(Z),X=U.resolveStack(K.from,1);if(K.empty){let Y=U.resolveStack(K.from,-1);if(Y.node.from>=X.node.from&&Y.node.to<=X.node.to)X=Y}for(let Y=X;Y;Y=Y.next){let{node:q}=Y;if((q.from<K.from&&q.to>=K.to||q.to>K.to&&q.from<=K.from)&&Y.next)return e0.range(q.to,q.from)}return K});if(Q.eq(Z.selection))return!1;return J(aK(Z,Q)),!0};function lJ0(Z,J){let{state:Q}=Z,K=Q.selection,U=Q.selection.ranges.slice();for(let X of Q.selection.ranges){let Y=Q.doc.lineAt(X.head);if(J?Y.to<Z.state.doc.length:Y.from>0)for(let q=X;;){let W=Z.moveVertically(q,J);if(W.head<Y.from||W.head>Y.to){if(!U.some((G)=>G.head==W.head))U.push(W);break}else if(W.head==q.head)break;else q=W}}if(U.length==K.ranges.length)return!1;return Z.dispatch(aK(Q,e0.create(U,U.length-1))),!0}var Mr0=(Z)=>lJ0(Z,!1),Br0=(Z)=>lJ0(Z,!0),Or0=({state:Z,dispatch:J})=>{let Q=Z.selection,K=null;if(Q.ranges.length>1)K=e0.create([Q.main]);else if(!Q.main.empty)K=e0.create([e0.cursor(Q.main.head)]);if(!K)return!1;return J(aK(Z,K)),!0};function GR(Z,J){if(Z.state.readOnly)return!1;let Q="delete.selection",{state:K}=Z,U=K.changeByRange((X)=>{let{from:Y,to:q}=X;if(Y==q){let W=J(X);if(W<Y)Q="delete.backward",W=KE(Z,W,!1);else if(W>Y)Q="delete.forward",W=KE(Z,W,!0);Y=Math.min(Y,W),q=Math.max(q,W)}else Y=KE(Z,Y,!1),q=KE(Z,q,!0);return Y==q?{range:X}:{changes:{from:Y,to:q},range:e0.cursor(Y,Y<X.head?-1:1)}});if(U.changes.empty)return!1;return Z.dispatch(K.update(U,{scrollIntoView:!0,userEvent:Q,effects:Q=="delete.selection"?C8.announce.of(K.phrase("Selection deleted")):void 0})),!0}function KE(Z,J,Q){if(Z instanceof C8)for(let K of Z.state.facet(C8.atomicRanges).map((U)=>U(Z)))K.between(J,J,(U,X)=>{if(U<J&&X>J)J=Q?X:U});return J}var dJ0=(Z,J,Q)=>GR(Z,(K)=>{let U=K.from,{state:X}=Z,Y=X.doc.lineAt(U),q,W;if(Q&&!J&&U>Y.from&&U<Y.from+200&&!/[^ \t]/.test(q=Y.text.slice(0,U-Y.from))){if(q[q.length-1]=="\t")return U-1;let G=gQ(q,X.tabSize),z=G%YR(X)||YR(X);for(let H=0;H<z&&q[q.length-1-H]==" ";H++)U--;W=U}else if(W=xJ(Y.text,U-Y.from,J,J)+Y.from,W==U&&Y.number!=(J?X.doc.lines:1))W+=J?1:-1;else if(!J&&/[\ufe00-\ufe0f]/.test(Y.text.slice(W-Y.from,U-Y.from)))W=xJ(Y.text,W-Y.from,!1,!1)+Y.from;return W}),Tx=(Z)=>dJ0(Z,!1,!0);var iJ0=(Z)=>dJ0(Z,!0,!1),sJ0=(Z,J)=>GR(Z,(Q)=>{let K=Q.head,{state:U}=Z,X=U.doc.lineAt(K),Y=U.charCategorizer(K);for(let q=null;;){if(K==(J?X.to:X.from)){if(K==Q.head&&X.number!=(J?U.doc.lines:1))K+=J?1:-1;break}let W=xJ(X.text,K-X.from,J)+X.from,G=X.text.slice(Math.min(K,W)-X.from,Math.max(K,W)-X.from),z=Y(G);if(q!=null&&z!=q)break;if(G!=" "||K!=Q.head)q=z;K=W}return K}),rJ0=(Z)=>sJ0(Z,!1),Rr0=(Z)=>sJ0(Z,!0);var Lr0=(Z)=>GR(Z,(J)=>{let Q=Z.lineBlockAt(J.head).to;return J.head<Q?Q:Math.min(Z.state.doc.length,J.head+1)});var Dr0=(Z)=>GR(Z,(J)=>{let Q=Z.moveToLineBoundary(J,!1).head;return J.head>Q?Q:Math.max(0,J.head-1)}),Ir0=(Z)=>GR(Z,(J)=>{let Q=Z.moveToLineBoundary(J,!0).head;return J.head<Q?Q:Math.min(Z.state.doc.length,J.head+1)});var Ar0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Z.changeByRange((K)=>{return{changes:{from:K.from,to:K.to,insert:tZ.of(["",""])},range:e0.cursor(K.from)}});return J(Z.update(Q,{scrollIntoView:!0,userEvent:"input"})),!0},Nr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Z.changeByRange((K)=>{if(!K.empty||K.from==0||K.from==Z.doc.length)return{range:K};let U=K.from,X=Z.doc.lineAt(U),Y=U==X.from?U-1:xJ(X.text,U-X.from,!1)+X.from,q=U==X.to?U+1:xJ(X.text,U-X.from,!0)+X.from;return{changes:{from:Y,to:q,insert:Z.doc.slice(U,q).append(Z.doc.slice(Y,U))},range:e0.cursor(q)}});if(Q.changes.empty)return!1;return J(Z.update(Q,{scrollIntoView:!0,userEvent:"move.character"})),!0};function WE(Z){let J=[],Q=-1;for(let K of Z.selection.ranges){let U=Z.doc.lineAt(K.from),X=Z.doc.lineAt(K.to);if(!K.empty&&K.to==X.from)X=Z.doc.lineAt(K.to-1);if(Q>=U.number){let Y=J[J.length-1];Y.to=X.to,Y.ranges.push(K)}else J.push({from:U.from,to:X.to,ranges:[K]});Q=X.number+1}return J}function nJ0(Z,J,Q){if(Z.readOnly)return!1;let K=[],U=[];for(let X of WE(Z)){if(Q?X.to==Z.doc.length:X.from==0)continue;let Y=Z.doc.lineAt(Q?X.to+1:X.from-1),q=Y.length+1;if(Q){K.push({from:X.to,to:Y.to},{from:X.from,insert:Y.text+Z.lineBreak});for(let W of X.ranges)U.push(e0.range(Math.min(Z.doc.length,W.anchor+q),Math.min(Z.doc.length,W.head+q)))}else{K.push({from:Y.from,to:X.from},{from:X.to,insert:Z.lineBreak+Y.text});for(let W of X.ranges)U.push(e0.range(W.anchor-q,W.head-q))}}if(!K.length)return!1;return J(Z.update({changes:K,scrollIntoView:!0,selection:e0.create(U,Z.selection.mainIndex),userEvent:"move.line"})),!0}var Er0=({state:Z,dispatch:J})=>nJ0(Z,J,!1),Vr0=({state:Z,dispatch:J})=>nJ0(Z,J,!0);function aJ0(Z,J,Q){if(Z.readOnly)return!1;let K=[];for(let X of WE(Z))if(Q)K.push({from:X.from,insert:Z.doc.slice(X.from,X.to)+Z.lineBreak});else K.push({from:X.to,insert:Z.lineBreak+Z.doc.slice(X.from,X.to)});let U=Z.changes(K);return J(Z.update({changes:U,selection:Z.selection.map(U,Q?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}var Pr0=({state:Z,dispatch:J})=>aJ0(Z,J,!1),Cr0=({state:Z,dispatch:J})=>aJ0(Z,J,!0),jr0=(Z)=>{if(Z.state.readOnly)return!1;let{state:J}=Z,Q=J.changes(WE(J).map(({from:U,to:X})=>{if(U>0)U--;else if(X<J.doc.length)X++;return{from:U,to:X}})),K=AH(J.selection,(U)=>{let X=void 0;if(Z.lineWrapping){let Y=Z.lineBlockAt(U.head),q=Z.coordsAtPos(U.head,U.assoc||1);if(q)X=Y.bottom+Z.documentTop-q.bottom+Z.defaultLineHeight/2}return Z.moveVertically(U,!0,X)}).map(Q);return Z.dispatch({changes:Q,selection:K,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Sr0(Z,J){if(/\(\)|\[\]|\{\}/.test(Z.sliceDoc(J-1,J+1)))return{from:J,to:J};let Q=q9(Z).resolveInner(J),K=Q.childBefore(J),U=Q.childAfter(J),X;if(K&&U&&K.to<=J&&U.from>=J&&(X=K.type.prop(WZ.closedBy))&&X.indexOf(U.name)>-1&&Z.doc.lineAt(K.to).from==Z.doc.lineAt(U.from).from&&!/\S/.test(Z.sliceDoc(K.to,U.from)))return{from:K.to,to:U.from};return null}var DJ0=oJ0(!1),Tr0=oJ0(!0);function oJ0(Z){return({state:J,dispatch:Q})=>{if(J.readOnly)return!1;let K=J.changeByRange((U)=>{let{from:X,to:Y}=U,q=J.doc.lineAt(X),W=!Z&&X==Y&&Sr0(J,X);if(Z)X=Y=(Y<=q.to?q:J.doc.lineAt(Y)).to;let G=new LH(J,{simulateBreak:X,simulateDoubleBreak:!!W}),z=eN(G,X);if(z==null)z=gQ(/^\s*/.exec(J.doc.lineAt(X).text)[0],J.tabSize);while(Y<q.to&&/\s/.test(q.text[Y-q.from]))Y++;if(W)({from:X,to:Y}=W);else if(X>q.from&&X<q.from+100&&!/\S/.test(q.text.slice(0,X)))X=q.from;let H=["",RH(J,z)];if(W)H.push(RH(J,G.lineIndent(q.from,-1)));return{changes:{from:X,to:Y,insert:tZ.of(H)},range:e0.cursor(X+1+H[1].length)}});return Q(J.update(K,{scrollIntoView:!0,userEvent:"input"})),!0}}function kx(Z,J){let Q=-1;return Z.changeByRange((K)=>{let U=[];for(let Y=K.from;Y<=K.to;){let q=Z.doc.lineAt(Y);if(q.number>Q&&(K.empty||K.to>q.from))J(q,U,K),Q=q.number;Y=q.to+1}let X=Z.changes(U);return{changes:U,range:e0.range(X.mapPos(K.anchor,1),X.mapPos(K.head,1))}})}var wr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let Q=Object.create(null),K=new LH(Z,{overrideIndentation:(X)=>{let Y=Q[X];return Y==null?-1:Y}}),U=kx(Z,(X,Y,q)=>{let W=eN(K,X.from);if(W==null)return;if(!/\S/.test(X.text))W=0;let G=/^\s*/.exec(X.text)[0],z=RH(Z,W);if(G!=z||q.from<X.from+G.length)Q[X.from]=W,Y.push({from:X.from,to:X.from+G.length,insert:z})});if(!U.changes.empty)J(Z.update(U,{userEvent:"indent"}));return!0},$r0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;return J(Z.update(kx(Z,(Q,K)=>{K.push({from:Q.from,insert:Z.facet(K1)})}),{userEvent:"input.indent"})),!0},kr0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;return J(Z.update(kx(Z,(Q,K)=>{let U=/^\s*/.exec(Q.text)[0];if(!U)return;let X=gQ(U,Z.tabSize),Y=0,q=RH(Z,Math.max(0,X-YR(Z)));while(Y<U.length&&Y<q.length&&U.charCodeAt(Y)==q.charCodeAt(Y))Y++;K.push({from:Q.from+Y,to:Q.from+U.length,insert:q.slice(Y)})}),{userEvent:"delete.dedent"})),!0},_r0=(Z)=>{return Z.setTabFocusMode(),!0};var fr0=[{key:"Ctrl-b",run:TJ0,shift:yJ0,preventDefault:!0},{key:"Ctrl-f",run:wJ0,shift:hJ0},{key:"Ctrl-p",run:_J0,shift:gJ0},{key:"Ctrl-n",run:fJ0,shift:pJ0},{key:"Ctrl-a",run:as0,shift:Wr0},{key:"Ctrl-e",run:os0,shift:Gr0},{key:"Ctrl-d",run:iJ0},{key:"Ctrl-h",run:Tx},{key:"Ctrl-k",run:Lr0},{key:"Ctrl-Alt-h",run:rJ0},{key:"Ctrl-o",run:Ar0},{key:"Ctrl-t",run:Nr0},{key:"Ctrl-v",run:Sx}],vr0=[{key:"ArrowLeft",run:TJ0,shift:yJ0,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:gs0,shift:Zr0,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:rs0,shift:Yr0,preventDefault:!0},{key:"ArrowRight",run:wJ0,shift:hJ0,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ps0,shift:Jr0,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ns0,shift:qr0,preventDefault:!0},{key:"ArrowUp",run:_J0,shift:gJ0,preventDefault:!0},{mac:"Cmd-ArrowUp",run:BJ0,shift:RJ0},{mac:"Ctrl-ArrowUp",run:HJ0,shift:FJ0},{key:"ArrowDown",run:fJ0,shift:pJ0,preventDefault:!0},{mac:"Cmd-ArrowDown",run:OJ0,shift:LJ0},{mac:"Ctrl-ArrowDown",run:Sx,shift:MJ0},{key:"PageUp",run:HJ0,shift:FJ0},{key:"PageDown",run:Sx,shift:MJ0},{key:"Home",run:ss0,shift:Xr0,preventDefault:!0},{key:"Mod-Home",run:BJ0,shift:RJ0},{key:"End",run:is0,shift:Ur0,preventDefault:!0},{key:"Mod-End",run:OJ0,shift:LJ0},{key:"Enter",run:DJ0,shift:DJ0},{key:"Mod-a",run:zr0},{key:"Backspace",run:Tx,shift:Tx,preventDefault:!0},{key:"Delete",run:iJ0,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:rJ0,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Rr0,preventDefault:!0},{mac:"Mod-Backspace",run:Dr0,preventDefault:!0},{mac:"Mod-Delete",run:Ir0,preventDefault:!0}].concat(fr0.map((Z)=>({mac:Z.key,run:Z.run,shift:Z.shift}))),tJ0=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ls0,shift:Qr0},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ds0,shift:Kr0},{key:"Alt-ArrowUp",run:Er0},{key:"Shift-Alt-ArrowUp",run:Pr0},{key:"Alt-ArrowDown",run:Vr0},{key:"Shift-Alt-ArrowDown",run:Cr0},{key:"Mod-Alt-ArrowUp",run:Mr0},{key:"Mod-Alt-ArrowDown",run:Br0},{key:"Escape",run:Or0},{key:"Mod-Enter",run:Tr0},{key:"Alt-l",mac:"Ctrl-l",run:Hr0},{key:"Mod-i",run:Fr0,preventDefault:!0},{key:"Mod-[",run:kr0},{key:"Mod-]",run:$r0},{key:"Mod-Alt-\\",run:wr0},{key:"Shift-Mod-k",run:jr0},{key:"Shift-Mod-\\",run:es0},{key:"Mod-/",run:Ps0},{key:"Alt-A",run:js0},{key:"Ctrl-m",mac:"Shift-Alt-m",run:_r0}].concat(vr0);var eJ0=typeof String.prototype.normalize=="function"?(Z)=>Z.normalize("NFKD"):(Z)=>Z;class ZG{constructor(Z,J,Q=0,K=Z.length,U,X){this.test=X,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Z.iterRange(Q,K),this.bufferStart=Q,this.normalize=U?(Y)=>U(eJ0(Y)):eJ0,this.query=this.normalize(J)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return l7(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Z=this.peek();if(Z<0)return this.done=!0,this;let J=wO(Z),Q=this.bufferStart+this.bufferPos;this.bufferPos+=M4(Z);let K=this.normalize(J);if(K.length)for(let U=0,X=Q;;U++){let Y=K.charCodeAt(U),q=this.match(Y,X,this.bufferPos+this.bufferStart);if(U==K.length-1){if(q)return this.value=q,this;break}if(X==Q&&U<J.length&&J.charCodeAt(U)==Y)X++}}}match(Z,J,Q){let K=null;for(let U=0;U<this.matches.length;U+=2){let X=this.matches[U],Y=!1;if(this.query.charCodeAt(X)==Z)if(X==this.query.length-1)K={from:this.matches[U+1],to:Q};else this.matches[U]++,Y=!0;if(!Y)this.matches.splice(U,2),U-=2}if(this.query.charCodeAt(0)==Z)if(this.query.length==1)K={from:J,to:Q};else this.matches.push(1,J);if(K&&this.test&&!this.test(K.from,K.to,this.buffer,this.bufferStart))K=null;return K}}if(typeof Symbol<"u")ZG.prototype[Symbol.iterator]=function(){return this};var Q70={from:-1,to:-1,match:/.*/.exec("")},vx="gm"+(/x/.unicode==null?"":"u");class xx{constructor(Z,J,Q,K=0,U=Z.length){if(this.text=Z,this.to=U,this.curLine="",this.done=!1,this.value=Q70,/\\[sWDnr]|\n|\r|\[\^/.test(J))return new bx(Z,J,Q,K,U);this.re=new RegExp(J,vx+((Q===null||Q===void 0?void 0:Q.ignoreCase)?"i":"")),this.test=Q===null||Q===void 0?void 0:Q.test,this.iter=Z.iter();let X=Z.lineAt(K);this.curLineStart=X.from,this.matchPos=FE(Z,K),this.getLine(this.curLineStart)}getLine(Z){if(this.iter.next(Z),this.iter.lineBreak)this.curLine="";else{if(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){if(this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let Z=this.matchPos-this.curLineStart;;){this.re.lastIndex=Z;let J=this.matchPos<=this.to&&this.re.exec(this.curLine);if(J){let Q=this.curLineStart+J.index,K=Q+J[0].length;if(this.matchPos=FE(this.text,K+(Q==K?1:0)),Q==this.curLineStart+this.curLine.length)this.nextLine();if((Q<K||Q>this.value.to)&&(!this.test||this.test(Q,K,J)))return this.value={from:Q,to:K,match:J},this;Z=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Z=0;else return this.done=!0,this}}}var _x=new WeakMap;class VH{constructor(Z,J){this.from=Z,this.text=J}get to(){return this.from+this.text.length}static get(Z,J,Q){let K=_x.get(Z);if(!K||K.from>=Q||K.to<=J){let Y=new VH(J,Z.sliceString(J,Q));return _x.set(Z,Y),Y}if(K.from==J&&K.to==Q)return K;let{text:U,from:X}=K;if(X>J)U=Z.sliceString(J,X)+U,X=J;if(K.to<Q)U+=Z.sliceString(K.to,Q);return _x.set(Z,new VH(X,U)),new VH(J,U.slice(J-X,Q-X))}}class bx{constructor(Z,J,Q,K,U){this.text=Z,this.to=U,this.done=!1,this.value=Q70,this.matchPos=FE(Z,K),this.re=new RegExp(J,vx+((Q===null||Q===void 0?void 0:Q.ignoreCase)?"i":"")),this.test=Q===null||Q===void 0?void 0:Q.test,this.flat=VH.get(Z,K,this.chunkEnd(K+5000))}chunkEnd(Z){return Z>=this.to?this.to:this.text.lineAt(Z).to}next(){for(;;){let Z=this.re.lastIndex=this.matchPos-this.flat.from,J=this.re.exec(this.flat.text);if(J&&!J[0]&&J.index==Z)this.re.lastIndex=Z+1,J=this.re.exec(this.flat.text);if(J){let Q=this.flat.from+J.index,K=Q+J[0].length;if((this.flat.to>=this.to||J.index+J[0].length<=this.flat.text.length-10)&&(!this.test||this.test(Q,K,J)))return this.value={from:Q,to:K,match:J},this.matchPos=FE(this.text,K+(Q==K?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=VH.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol<"u")xx.prototype[Symbol.iterator]=bx.prototype[Symbol.iterator]=function(){return this};function xr0(Z){try{return new RegExp(Z,vx),!0}catch(J){return!1}}function FE(Z,J){if(J>=Z.length)return J;let Q=Z.lineAt(J),K;while(J<Q.to&&(K=Q.text.charCodeAt(J-Q.from))>=56320&&K<57344)J++;return J}var br0=(Z)=>{let{state:J}=Z,Q=String(J.doc.lineAt(Z.state.selection.main.head).number),{close:K,result:U}=q90(Z,{label:J.phrase("Go to line"),input:{type:"text",name:"line",value:Q},focus:!0,submitLabel:J.phrase("go")});return U.then((X)=>{let Y=X&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(X.elements.line.value);if(!Y){Z.dispatch({effects:K});return}let q=J.doc.lineAt(J.selection.main.head),[,W,G,z,H]=Y,F=z?+z.slice(1):0,M=G?+G:q.number;if(G&&H){let R=M/100;if(W)R=R*(W=="-"?-1:1)+q.number/J.doc.lines;M=Math.round(J.doc.lines*R)}else if(G&&W)M=M*(W=="-"?-1:1)+q.number;let B=J.doc.line(Math.max(1,Math.min(J.doc.lines,M))),O=e0.cursor(B.from+Math.max(0,Math.min(F,B.length)));Z.dispatch({effects:[K,C8.scrollIntoView(O.from,{y:"center"})],selection:O})}),!0},yr0={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},K70=v8.define({combine(Z){return AQ(Z,yr0,{highlightWordAroundCursor:(J,Q)=>J||Q,minSelectionLength:Math.min,maxMatches:Math.min})}});function U70(Z){let J=[pr0,gr0];if(Z)J.push(K70.of(Z));return J}var hr0=e8.mark({class:"cm-selectionMatch"}),mr0=e8.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Z70(Z,J,Q,K){return(Q==0||Z(J.sliceDoc(Q-1,Q))!=x9.Word)&&(K==J.doc.length||Z(J.sliceDoc(K,K+1))!=x9.Word)}function ur0(Z,J,Q,K){return Z(J.sliceDoc(Q,Q+1))==x9.Word&&Z(J.sliceDoc(K-1,K))==x9.Word}var gr0=OJ.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.selectionSet||Z.docChanged||Z.viewportChanged)this.decorations=this.getDeco(Z.view)}getDeco(Z){let J=Z.state.facet(K70),{state:Q}=Z,K=Q.selection;if(K.ranges.length>1)return e8.none;let U=K.main,X,Y=null;if(U.empty){if(!J.highlightWordAroundCursor)return e8.none;let W=Q.wordAt(U.head);if(!W)return e8.none;Y=Q.charCategorizer(U.head),X=Q.sliceDoc(W.from,W.to)}else{let W=U.to-U.from;if(W<J.minSelectionLength||W>200)return e8.none;if(J.wholeWords){if(X=Q.sliceDoc(U.from,U.to),Y=Q.charCategorizer(U.head),!(Z70(Y,Q,U.from,U.to)&&ur0(Y,Q,U.from,U.to)))return e8.none}else if(X=Q.sliceDoc(U.from,U.to),!X)return e8.none}let q=[];for(let W of Z.visibleRanges){let G=new ZG(Q.doc,X,W.from,W.to);while(!G.next().done){let{from:z,to:H}=G.value;if(!Y||Z70(Y,Q,z,H)){if(U.empty&&z<=U.from&&H>=U.to)q.push(mr0.range(z,H));else if(z>=U.to||H<=U.from)q.push(hr0.range(z,H));if(q.length>J.maxMatches)return e8.none}}}return e8.set(q)}},{decorations:(Z)=>Z.decorations}),pr0=C8.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),cr0=({state:Z,dispatch:J})=>{let{selection:Q}=Z,K=e0.create(Q.ranges.map((U)=>Z.wordAt(U.head)||e0.cursor(U.head)),Q.mainIndex);if(K.eq(Q))return!1;return J(Z.update({selection:K})),!0};function lr0(Z,J){let{main:Q,ranges:K}=Z.selection,U=Z.wordAt(Q.head),X=U&&U.from==Q.from&&U.to==Q.to;for(let Y=!1,q=new ZG(Z.doc,J,K[K.length-1].to);;)if(q.next(),q.done){if(Y)return null;q=new ZG(Z.doc,J,0,Math.max(0,K[K.length-1].from-1)),Y=!0}else{if(Y&&K.some((W)=>W.from==q.value.from))continue;if(X){let W=Z.wordAt(q.value.from);if(!W||W.from!=q.value.from||W.to!=q.value.to)continue}return q.value}}var dr0=({state:Z,dispatch:J})=>{let{ranges:Q}=Z.selection;if(Q.some((X)=>X.from===X.to))return cr0({state:Z,dispatch:J});let K=Z.sliceDoc(Q[0].from,Q[0].to);if(Z.selection.ranges.some((X)=>Z.sliceDoc(X.from,X.to)!=K))return!1;let U=lr0(Z,K);if(!U)return!1;return J(Z.update({selection:Z.selection.addRange(e0.range(U.from,U.to),!1),effects:C8.scrollIntoView(U.to)})),!0},PH=v8.define({combine(Z){return AQ(Z,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:(J)=>new F70(J),scrollToMatch:(J)=>C8.scrollIntoView(J)})}});class yx{constructor(Z){this.search=Z.search,this.caseSensitive=!!Z.caseSensitive,this.literal=!!Z.literal,this.regexp=!!Z.regexp,this.replace=Z.replace||"",this.valid=!!this.search&&(!this.regexp||xr0(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!Z.wholeWord,this.test=Z.test}unquote(Z){return this.literal?Z:Z.replace(/\\([nrt\\])/g,(J,Q)=>Q=="n"?`
`:Q=="r"?"\r":Q=="t"?"\t":"\\")}eq(Z){return this.search==Z.search&&this.replace==Z.replace&&this.caseSensitive==Z.caseSensitive&&this.regexp==Z.regexp&&this.wholeWord==Z.wholeWord&&this.test==Z.test}create(){return this.regexp?new Y70(this):new X70(this)}getCursor(Z,J=0,Q){let K=Z.doc?Z:vZ.create({doc:Z});if(Q==null)Q=K.doc.length;return this.regexp?EH(this,K,J,Q):NH(this,K,J,Q)}}class hx{constructor(Z){this.spec=Z}}function ir0(Z,J,Q){return(K,U,X,Y)=>{if(Q&&!Q(K,U,X,Y))return!1;let q=K>=Y&&U<=Y+X.length?X.slice(K-Y,U-Y):J.doc.sliceString(K,U);return Z(q,J,K,U)}}function NH(Z,J,Q,K){let U;if(Z.wholeWord)U=sr0(J.doc,J.charCategorizer(J.selection.main.head));if(Z.test)U=ir0(Z.test,J,U);return new ZG(J.doc,Z.unquoted,Q,K,Z.caseSensitive?void 0:(X)=>X.toLowerCase(),U)}function sr0(Z,J){return(Q,K,U,X)=>{if(X>Q||X+U.length<K)X=Math.max(0,Q-2),U=Z.sliceString(X,Math.min(Z.length,K+2));return(J(ME(U,Q-X))!=x9.Word||J(BE(U,Q-X))!=x9.Word)&&(J(BE(U,K-X))!=x9.Word||J(ME(U,K-X))!=x9.Word)}}class X70 extends hx{constructor(Z){super(Z)}nextMatch(Z,J,Q){let K=NH(this.spec,Z,Q,Z.doc.length).nextOverlapping();if(K.done){let U=Math.min(Z.doc.length,J+this.spec.unquoted.length);K=NH(this.spec,Z,0,U).nextOverlapping()}return K.done||K.value.from==J&&K.value.to==Q?null:K.value}prevMatchInRange(Z,J,Q){for(let K=Q;;){let U=Math.max(J,K-1e4-this.spec.unquoted.length),X=NH(this.spec,Z,U,K),Y=null;while(!X.nextOverlapping().done)Y=X.value;if(Y)return Y;if(U==J)return null;K-=1e4}}prevMatch(Z,J,Q){let K=this.prevMatchInRange(Z,0,J);if(!K)K=this.prevMatchInRange(Z,Math.max(0,Q-this.spec.unquoted.length),Z.doc.length);return K&&(K.from!=J||K.to!=Q)?K:null}getReplacement(Z){return this.spec.unquote(this.spec.replace)}matchAll(Z,J){let Q=NH(this.spec,Z,0,Z.doc.length),K=[];while(!Q.next().done){if(K.length>=J)return null;K.push(Q.value)}return K}highlight(Z,J,Q,K){let U=NH(this.spec,Z,Math.max(0,J-this.spec.unquoted.length),Math.min(Q+this.spec.unquoted.length,Z.doc.length));while(!U.next().done)K(U.value.from,U.value.to)}}function rr0(Z,J,Q){return(K,U,X)=>{return(!Q||Q(K,U,X))&&Z(X[0],J,K,U)}}function EH(Z,J,Q,K){let U;if(Z.wholeWord)U=nr0(J.charCategorizer(J.selection.main.head));if(Z.test)U=rr0(Z.test,J,U);return new xx(J.doc,Z.search,{ignoreCase:!Z.caseSensitive,test:U},Q,K)}function ME(Z,J){return Z.slice(xJ(Z,J,!1),J)}function BE(Z,J){return Z.slice(J,xJ(Z,J))}function nr0(Z){return(J,Q,K)=>!K[0].length||(Z(ME(K.input,K.index))!=x9.Word||Z(BE(K.input,K.index))!=x9.Word)&&(Z(BE(K.input,K.index+K[0].length))!=x9.Word||Z(ME(K.input,K.index+K[0].length))!=x9.Word)}class Y70 extends hx{nextMatch(Z,J,Q){let K=EH(this.spec,Z,Q,Z.doc.length).next();if(K.done)K=EH(this.spec,Z,0,J).next();return K.done?null:K.value}prevMatchInRange(Z,J,Q){for(let K=1;;K++){let U=Math.max(J,Q-K*1e4),X=EH(this.spec,Z,U,Q),Y=null;while(!X.next().done)Y=X.value;if(Y&&(U==J||Y.from>U+10))return Y;if(U==J)return null}}prevMatch(Z,J,Q){return this.prevMatchInRange(Z,0,J)||this.prevMatchInRange(Z,Q,Z.doc.length)}getReplacement(Z){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(J,Q)=>{if(Q=="&")return Z.match[0];if(Q=="$")return"$";for(let K=Q.length;K>0;K--){let U=+Q.slice(0,K);if(U>0&&U<Z.match.length)return Z.match[U]+Q.slice(K)}return J})}matchAll(Z,J){let Q=EH(this.spec,Z,0,Z.doc.length),K=[];while(!Q.next().done){if(K.length>=J)return null;K.push(Q.value)}return K}highlight(Z,J,Q,K){let U=EH(this.spec,Z,Math.max(0,J-250),Math.min(Q+250,Z.doc.length));while(!U.next().done)K(U.value.from,U.value.to)}}var zR=OZ.define(),mx=OZ.define(),X1=BJ.define({create(Z){return new HE(fx(Z).create(),null)},update(Z,J){for(let Q of J.effects)if(Q.is(zR))Z=new HE(Q.value.create(),Z.panel);else if(Q.is(mx))Z=new HE(Z.query,Q.value?ux:null);return Z},provide:(Z)=>nW.from(Z,(J)=>J.panel)});class HE{constructor(Z,J){this.query=Z,this.panel=J}}var ar0=e8.mark({class:"cm-searchMatch"}),or0=e8.mark({class:"cm-searchMatch cm-searchMatch-selected"}),tr0=OJ.fromClass(class{constructor(Z){this.view=Z,this.decorations=this.highlight(Z.state.field(X1))}update(Z){let J=Z.state.field(X1);if(J!=Z.startState.field(X1)||Z.docChanged||Z.selectionSet||Z.viewportChanged)this.decorations=this.highlight(J)}highlight({query:Z,panel:J}){if(!J||!Z.spec.valid)return e8.none;let{view:Q}=this,K=new F4;for(let U=0,X=Q.visibleRanges,Y=X.length;U<Y;U++){let{from:q,to:W}=X[U];while(U<Y-1&&W>X[U+1].from-500)W=X[++U].to;Z.highlight(Q.state,q,W,(G,z)=>{let H=Q.state.selection.ranges.some((F)=>F.from==G&&F.to==z);K.add(G,z,H?or0:ar0)})}return K.finish()}},{decorations:(Z)=>Z.decorations});function HR(Z){return(J)=>{let Q=J.state.field(X1,!1);return Q&&Q.query.spec.valid?Z(J,Q):G70(J)}}var OE=HR((Z,{query:J})=>{let{to:Q}=Z.state.selection.main,K=J.nextMatch(Z.state,Q,Q);if(!K)return!1;let U=e0.single(K.from,K.to),X=Z.state.facet(PH);return Z.dispatch({selection:U,effects:[gx(Z,K),X.scrollToMatch(U.main,Z)],userEvent:"select.search"}),W70(Z),!0}),RE=HR((Z,{query:J})=>{let{state:Q}=Z,{from:K}=Q.selection.main,U=J.prevMatch(Q,K,K);if(!U)return!1;let X=e0.single(U.from,U.to),Y=Z.state.facet(PH);return Z.dispatch({selection:X,effects:[gx(Z,U),Y.scrollToMatch(X.main,Z)],userEvent:"select.search"}),W70(Z),!0}),er0=HR((Z,{query:J})=>{let Q=J.matchAll(Z.state,1000);if(!Q||!Q.length)return!1;return Z.dispatch({selection:e0.create(Q.map((K)=>e0.range(K.from,K.to))),userEvent:"select.search.matches"}),!0}),Zn0=({state:Z,dispatch:J})=>{let Q=Z.selection;if(Q.ranges.length>1||Q.main.empty)return!1;let{from:K,to:U}=Q.main,X=[],Y=0;for(let q=new ZG(Z.doc,Z.sliceDoc(K,U));!q.next().done;){if(X.length>1000)return!1;if(q.value.from==K)Y=X.length;X.push(e0.range(q.value.from,q.value.to))}return J(Z.update({selection:e0.create(X,Y),userEvent:"select.search.matches"})),!0},J70=HR((Z,{query:J})=>{let{state:Q}=Z,{from:K,to:U}=Q.selection.main;if(Q.readOnly)return!1;let X=J.nextMatch(Q,K,K);if(!X)return!1;let Y=X,q=[],W,G,z=[];if(Y.from==K&&Y.to==U)G=Q.toText(J.getReplacement(Y)),q.push({from:Y.from,to:Y.to,insert:G}),Y=J.nextMatch(Q,Y.from,Y.to),z.push(C8.announce.of(Q.phrase("replaced match on line $",Q.doc.lineAt(K).number)+"."));let H=Z.state.changes(q);if(Y)W=e0.single(Y.from,Y.to).map(H),z.push(gx(Z,Y)),z.push(Q.facet(PH).scrollToMatch(W.main,Z));return Z.dispatch({changes:H,selection:W,effects:z,userEvent:"input.replace"}),!0}),Jn0=HR((Z,{query:J})=>{if(Z.state.readOnly)return!1;let Q=J.matchAll(Z.state,1e9).map((U)=>{let{from:X,to:Y}=U;return{from:X,to:Y,insert:J.getReplacement(U)}});if(!Q.length)return!1;let K=Z.state.phrase("replaced $ matches",Q.length)+".";return Z.dispatch({changes:Q,effects:C8.announce.of(K),userEvent:"input.replace.all"}),!0});function ux(Z){return Z.state.facet(PH).createPanel(Z)}function fx(Z,J){var Q,K,U,X,Y;let q=Z.selection.main,W=q.empty||q.to>q.from+100?"":Z.sliceDoc(q.from,q.to);if(J&&!W)return J;let G=Z.facet(PH);return new yx({search:((Q=J===null||J===void 0?void 0:J.literal)!==null&&Q!==void 0?Q:G.literal)?W:W.replace(/\n/g,"\\n"),caseSensitive:(K=J===null||J===void 0?void 0:J.caseSensitive)!==null&&K!==void 0?K:G.caseSensitive,literal:(U=J===null||J===void 0?void 0:J.literal)!==null&&U!==void 0?U:G.literal,regexp:(X=J===null||J===void 0?void 0:J.regexp)!==null&&X!==void 0?X:G.regexp,wholeWord:(Y=J===null||J===void 0?void 0:J.wholeWord)!==null&&Y!==void 0?Y:G.wholeWord})}function q70(Z){let J=tO(Z,ux);return J&&J.dom.querySelector("[main-field]")}function W70(Z){let J=q70(Z);if(J&&J==Z.root.activeElement)J.select()}var G70=(Z)=>{let J=Z.state.field(X1,!1);if(J&&J.panel){let Q=q70(Z);if(Q&&Q!=Z.root.activeElement){let K=fx(Z.state,J.query.spec);if(K.valid)Z.dispatch({effects:zR.of(K)});Q.focus(),Q.select()}}else Z.dispatch({effects:[mx.of(!0),J?zR.of(fx(Z.state,J.query.spec)):OZ.appendConfig.of(Kn0)]});return!0},z70=(Z)=>{let J=Z.state.field(X1,!1);if(!J||!J.panel)return!1;let Q=tO(Z,ux);if(Q&&Q.dom.contains(Z.root.activeElement))Z.focus();return Z.dispatch({effects:mx.of(!1)}),!0},H70=[{key:"Mod-f",run:G70,scope:"editor search-panel"},{key:"F3",run:OE,shift:RE,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:OE,shift:RE,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:z70,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Zn0},{key:"Mod-Alt-g",run:br0},{key:"Mod-d",run:dr0,preventDefault:!0}];class F70{constructor(Z){this.view=Z;let J=this.query=Z.state.field(X1).query.spec;this.commit=this.commit.bind(this),this.searchField=B9("input",{value:J.search,placeholder:L4(Z,"Find"),"aria-label":L4(Z,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=B9("input",{value:J.replace,placeholder:L4(Z,"Replace"),"aria-label":L4(Z,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=B9("input",{type:"checkbox",name:"case",form:"",checked:J.caseSensitive,onchange:this.commit}),this.reField=B9("input",{type:"checkbox",name:"re",form:"",checked:J.regexp,onchange:this.commit}),this.wordField=B9("input",{type:"checkbox",name:"word",form:"",checked:J.wholeWord,onchange:this.commit});function Q(K,U,X){return B9("button",{class:"cm-button",name:K,onclick:U,type:"button"},X)}this.dom=B9("div",{onkeydown:(K)=>this.keydown(K),class:"cm-search"},[this.searchField,Q("next",()=>OE(Z),[L4(Z,"next")]),Q("prev",()=>RE(Z),[L4(Z,"previous")]),Q("select",()=>er0(Z),[L4(Z,"all")]),B9("label",null,[this.caseField,L4(Z,"match case")]),B9("label",null,[this.reField,L4(Z,"regexp")]),B9("label",null,[this.wordField,L4(Z,"by word")]),...Z.state.readOnly?[]:[B9("br"),this.replaceField,Q("replace",()=>J70(Z),[L4(Z,"replace")]),Q("replaceAll",()=>Jn0(Z),[L4(Z,"replace all")])],B9("button",{name:"close",onclick:()=>z70(Z),"aria-label":L4(Z,"close"),type:"button"},[""])])}commit(){let Z=new yx({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!Z.eq(this.query))this.query=Z,this.view.dispatch({effects:zR.of(Z)})}keydown(Z){if(pZ0(this.view,Z,"search-panel"))Z.preventDefault();else if(Z.keyCode==13&&Z.target==this.searchField)Z.preventDefault(),(Z.shiftKey?RE:OE)(this.view);else if(Z.keyCode==13&&Z.target==this.replaceField)Z.preventDefault(),J70(this.view)}update(Z){for(let J of Z.transactions)for(let Q of J.effects)if(Q.is(zR)&&!Q.value.eq(this.query))this.setQuery(Q.value)}setQuery(Z){this.query=Z,this.searchField.value=Z.search,this.replaceField.value=Z.replace,this.caseField.checked=Z.caseSensitive,this.reField.checked=Z.regexp,this.wordField.checked=Z.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(PH).top}}function L4(Z,J){return Z.state.phrase(J)}var GE=30,zE=/[\s\.,:;?!]/;function gx(Z,{from:J,to:Q}){let K=Z.state.doc.lineAt(J),U=Z.state.doc.lineAt(Q).to,X=Math.max(K.from,J-GE),Y=Math.min(U,Q+GE),q=Z.state.sliceDoc(X,Y);if(X!=K.from){for(let W=0;W<GE;W++)if(!zE.test(q[W+1])&&zE.test(q[W])){q=q.slice(W);break}}if(Y!=U){for(let W=q.length-1;W>q.length-GE;W--)if(!zE.test(q[W-1])&&zE.test(q[W])){q=q.slice(0,W);break}}return C8.announce.of(`${Z.state.phrase("current match")}. ${q} ${Z.state.phrase("on line")} ${K.number}.`)}var Qn0=C8.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Kn0=[X1,P6.low(tr0),Qn0];class OR{constructor(Z,J,Q,K){this.state=Z,this.pos=J,this.explicit=Q,this.view=K,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(Z){let J=q9(this.state).resolveInner(this.pos,-1);while(J&&Z.indexOf(J.name)<0)J=J.parent;return J?{from:J.from,to:this.pos,text:this.state.sliceDoc(J.from,this.pos),type:J.type}:null}matchBefore(Z){let J=this.state.doc.lineAt(this.pos),Q=Math.max(J.from,this.pos-250),K=J.text.slice(Q-J.from,this.pos-J.from),U=K.search(E70(Z,!1));return U<0?null:{from:Q+U,to:this.pos,text:K.slice(U)}}get aborted(){return this.abortListeners==null}addEventListener(Z,J,Q){if(Z=="abort"&&this.abortListeners){if(this.abortListeners.push(J),Q&&Q.onDocChange)this.abortOnDocChange=!0}}}function M70(Z){let J=Object.keys(Z).join(""),Q=/\w/.test(J);if(Q)J=J.replace(/\w/g,"");return`[${Q?"\\w":""}${J.replace(/[^\w\s]/g,"\\$&")}]`}function Un0(Z){let J=Object.create(null),Q=Object.create(null);for(let{label:U}of Z){J[U[0]]=!0;for(let X=1;X<U.length;X++)Q[U[X]]=!0}let K=M70(J)+M70(Q)+"*$";return[new RegExp("^"+K),new RegExp(K)]}function ix(Z){let J=Z.map((U)=>typeof U=="string"?{label:U}:U),[Q,K]=J.every((U)=>/^\w+$/.test(U.label))?[/\w*$/,/\w+$/]:Un0(J);return(U)=>{let X=U.matchBefore(K);return X||U.explicit?{from:X?X.from:U.pos,options:J,validFor:Q}:null}}function N70(Z,J){return(Q)=>{for(let K=q9(Q.state).resolveInner(Q.pos,-1);K;K=K.parent){if(Z.indexOf(K.name)>-1)return null;if(K.type.isTop)break}return J(Q)}}class dx{constructor(Z,J,Q,K){this.completion=Z,this.source=J,this.match=Q,this.score=K}}function QG(Z){return Z.selection.main.from}function E70(Z,J){var Q;let{source:K}=Z,U=J&&K[0]!="^",X=K[K.length-1]!="$";if(!U&&!X)return Z;return new RegExp(`${U?"^":""}(?:${K})${X?"$":""}`,(Q=Z.flags)!==null&&Q!==void 0?Q:Z.ignoreCase?"i":"")}var sx=B4.define();function Xn0(Z,J,Q,K){let{main:U}=Z.selection,X=Q-U.from,Y=K-U.from;return{...Z.changeByRange((q)=>{if(q!=U&&Q!=K&&Z.sliceDoc(q.from+X,q.from+Y)!=Z.sliceDoc(Q,K))return{range:q};let W=Z.toText(J);return{changes:{from:q.from+X,to:K==U.from?q.to:q.from+Y,insert:W},range:e0.cursor(q.from+X+W.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var B70=new WeakMap;function Yn0(Z){if(!Array.isArray(Z))return Z;let J=B70.get(Z);if(!J)B70.set(Z,J=ix(Z));return J}var DE=OZ.define(),FR=OZ.define();class V70{constructor(Z){this.pattern=Z,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let J=0;J<Z.length;){let Q=l7(Z,J),K=M4(Q);this.chars.push(Q);let U=Z.slice(J,J+K),X=U.toUpperCase();this.folded.push(l7(X==U?U.toLowerCase():X,0)),J+=K}this.astral=Z.length!=this.chars.length}ret(Z,J){return this.score=Z,this.matched=J,this}match(Z){if(this.pattern.length==0)return this.ret(-100,[]);if(Z.length<this.pattern.length)return null;let{chars:J,folded:Q,any:K,precise:U,byWord:X}=this;if(J.length==1){let L=l7(Z,0),D=M4(L),A=D==Z.length?0:-100;if(L==J[0]);else if(L==Q[0])A+=-200;else return null;return this.ret(A,[0,D])}let Y=Z.indexOf(this.pattern);if(Y==0)return this.ret(Z.length==this.pattern.length?0:-100,[0,this.pattern.length]);let q=J.length,W=0;if(Y<0){for(let L=0,D=Math.min(Z.length,200);L<D&&W<q;){let A=l7(Z,L);if(A==J[W]||A==Q[W])K[W++]=L;L+=M4(A)}if(W<q)return null}let G=0,z=0,H=!1,F=0,M=-1,B=-1,O=/[a-z]/.test(Z),R=!0;for(let L=0,D=Math.min(Z.length,200),A=0;L<D&&z<q;){let V=l7(Z,L);if(Y<0){if(G<q&&V==J[G])U[G++]=L;if(F<q)if(V==J[F]||V==Q[F]){if(F==0)M=L;B=L+1,F++}else F=0}let N,E=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(N=wO(V))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;if(!L||E==1&&O||A==0&&E!=0){if(J[z]==V||Q[z]==V&&(H=!0))X[z++]=L;else if(X.length)R=!1}A=E,L+=M4(V)}if(z==q&&X[0]==0&&R)return this.result(-100+(H?-200:0),X,Z);if(F==q&&M==0)return this.ret(-200-Z.length+(B==Z.length?0:-100),[0,B]);if(Y>-1)return this.ret(-700-Z.length,[Y,Y+this.pattern.length]);if(F==q)return this.ret(-900-Z.length,[M,B]);if(z==q)return this.result(-100+(H?-200:0)+-700+(R?0:-1100),X,Z);return J.length==2?null:this.result((K[0]?-700:0)+-200+-1100,K,Z)}result(Z,J,Q){let K=[],U=0;for(let X of J){let Y=X+(this.astral?M4(l7(Q,X)):1);if(U&&K[U-1]==X)K[U-1]=Y;else K[U++]=X,K[U++]=Y}return this.ret(Z-Q.length,K)}}class P70{constructor(Z){this.pattern=Z,this.matched=[],this.score=0,this.folded=Z.toLowerCase()}match(Z){if(Z.length<this.pattern.length)return null;let J=Z.slice(0,this.pattern.length),Q=J==this.pattern?0:J.toLowerCase()==this.folded?-200:null;if(Q==null)return null;return this.matched=[0,J.length],this.score=Q+(Z.length==this.pattern.length?0:-100),this}}var S7=v8.define({combine(Z){return AQ(Z,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:qn0,filterStrict:!1,compareCompletions:(J,Q)=>(J.sortText||J.label).localeCompare(Q.sortText||Q.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(J,Q)=>J&&Q,closeOnBlur:(J,Q)=>J&&Q,icons:(J,Q)=>J&&Q,tooltipClass:(J,Q)=>(K)=>O70(J(K),Q(K)),optionClass:(J,Q)=>(K)=>O70(J(K),Q(K)),addToOptions:(J,Q)=>J.concat(Q),filterStrict:(J,Q)=>J||Q})}});function O70(Z,J){return Z?J?Z+" "+J:Z:J}function qn0(Z,J,Q,K,U,X){let Y=Z.textDirection==V9.RTL,q=Y,W=!1,G="top",z,H,F=J.left-U.left,M=U.right-J.right,B=K.right-K.left,O=K.bottom-K.top;if(q&&F<Math.min(B,M))q=!1;else if(!q&&M<Math.min(B,F))q=!0;if(B<=(q?F:M))z=Math.max(U.top,Math.min(Q.top,U.bottom-O))-J.top,H=Math.min(400,q?F:M);else{W=!0,H=Math.min(400,(Y?J.right:U.right-J.left)-30);let D=U.bottom-J.bottom;if(D>=O||D>J.top)z=Q.bottom-J.top;else G="bottom",z=J.bottom-Q.top}let R=(J.bottom-J.top)/X.offsetHeight,L=(J.right-J.left)/X.offsetWidth;return{style:`${G}: ${z/R}px; max-width: ${H/L}px`,class:"cm-completionInfo-"+(W?Y?"left-narrow":"right-narrow":q?"left":"right")}}function Wn0(Z){let J=Z.addToOptions.slice();if(Z.icons)J.push({render(Q){let K=document.createElement("div");if(K.classList.add("cm-completionIcon"),Q.type)K.classList.add(...Q.type.split(/\s+/g).map((U)=>"cm-completionIcon-"+U));return K.setAttribute("aria-hidden","true"),K},position:20});return J.push({render(Q,K,U,X){let Y=document.createElement("span");Y.className="cm-completionLabel";let q=Q.displayLabel||Q.label,W=0;for(let G=0;G<X.length;){let z=X[G++],H=X[G++];if(z>W)Y.appendChild(document.createTextNode(q.slice(W,z)));let F=Y.appendChild(document.createElement("span"));F.appendChild(document.createTextNode(q.slice(z,H))),F.className="cm-completionMatchedText",W=H}if(W<q.length)Y.appendChild(document.createTextNode(q.slice(W)));return Y},position:50},{render(Q){if(!Q.detail)return null;let K=document.createElement("span");return K.className="cm-completionDetail",K.textContent=Q.detail,K},position:80}),J.sort((Q,K)=>Q.position-K.position).map((Q)=>Q.render)}function px(Z,J,Q){if(Z<=Q)return{from:0,to:Z};if(J<0)J=0;if(J<=Z>>1){let U=Math.floor(J/Q);return{from:U*Q,to:(U+1)*Q}}let K=Math.floor((Z-J)/Q);return{from:Z-(K+1)*Q,to:Z-K*Q}}class C70{constructor(Z,J,Q){this.view=Z,this.stateField=J,this.applyCompletion=Q,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:(q)=>this.placeInfo(q),key:this},this.space=null,this.currentClass="";let K=Z.state.field(J),{options:U,selected:X}=K.open,Y=Z.state.facet(S7);this.optionContent=Wn0(Y),this.optionClass=Y.optionClass,this.tooltipClass=Y.tooltipClass,this.range=px(U.length,X,Y.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Z.state),this.dom.addEventListener("mousedown",(q)=>{let{options:W}=Z.state.field(J).open;for(let G=q.target,z;G&&G!=this.dom;G=G.parentNode)if(G.nodeName=="LI"&&(z=/-(\d+)$/.exec(G.id))&&+z[1]<W.length){this.applyCompletion(Z,W[+z[1]]),q.preventDefault();return}}),this.dom.addEventListener("focusout",(q)=>{let W=Z.state.field(this.stateField,!1);if(W&&W.tooltip&&Z.state.facet(S7).closeOnBlur&&q.relatedTarget!=Z.contentDOM)Z.dispatch({effects:FR.of(null)})}),this.showOptions(U,K.id)}mount(){this.updateSel()}showOptions(Z,J){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(Z,J,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(Z){var J;let Q=Z.state.field(this.stateField),K=Z.startState.field(this.stateField);if(this.updateTooltipClass(Z.state),Q!=K){let{options:U,selected:X,disabled:Y}=Q.open;if(!K.open||K.open.options!=U)this.range=px(U.length,X,Z.state.facet(S7).maxRenderedOptions),this.showOptions(U,Q.id);if(this.updateSel(),Y!=((J=K.open)===null||J===void 0?void 0:J.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Y)}}updateTooltipClass(Z){let J=this.tooltipClass(Z);if(J!=this.currentClass){for(let Q of this.currentClass.split(" "))if(Q)this.dom.classList.remove(Q);for(let Q of J.split(" "))if(Q)this.dom.classList.add(Q);this.currentClass=J}}positioned(Z){if(this.space=Z,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Z=this.view.state.field(this.stateField),J=Z.open;if(J.selected>-1&&J.selected<this.range.from||J.selected>=this.range.to)this.range=px(J.options.length,J.selected,this.view.state.facet(S7).maxRenderedOptions),this.showOptions(J.options,Z.id);let Q=this.updateSelectedOption(J.selected);if(Q){this.destroyInfo();let{completion:K}=J.options[J.selected],{info:U}=K;if(!U)return;let X=typeof U==="string"?document.createTextNode(U):U(K);if(!X)return;if("then"in X)X.then((Y)=>{if(Y&&this.view.state.field(this.stateField,!1)==Z)this.addInfoPane(Y,K)}).catch((Y)=>i7(this.view.state,Y,"completion info"));else this.addInfoPane(X,K),Q.setAttribute("aria-describedby",this.info.id)}}addInfoPane(Z,J){this.destroyInfo();let Q=this.info=document.createElement("div");if(Q.className="cm-tooltip cm-completionInfo",Q.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),Z.nodeType!=null)Q.appendChild(Z),this.infoDestroy=null;else{let{dom:K,destroy:U}=Z;Q.appendChild(K),this.infoDestroy=U||null}this.dom.appendChild(Q),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Z){let J=null;for(let Q=this.list.firstChild,K=this.range.from;Q;Q=Q.nextSibling,K++)if(Q.nodeName!="LI"||!Q.id)K--;else if(K==Z){if(!Q.hasAttribute("aria-selected"))Q.setAttribute("aria-selected","true"),J=Q}else if(Q.hasAttribute("aria-selected"))Q.removeAttribute("aria-selected"),Q.removeAttribute("aria-describedby");if(J)zn0(this.list,J);return J}measureInfo(){let Z=this.dom.querySelector("[aria-selected]");if(!Z||!this.info)return null;let J=this.dom.getBoundingClientRect(),Q=this.info.getBoundingClientRect(),K=Z.getBoundingClientRect(),U=this.space;if(!U){let X=this.dom.ownerDocument.documentElement;U={left:0,top:0,right:X.clientWidth,bottom:X.clientHeight}}if(K.top>Math.min(U.bottom,J.bottom)-10||K.bottom<Math.max(U.top,J.top)+10)return null;return this.view.state.facet(S7).positionInfo(this.view,J,K,Q,U,this.dom)}placeInfo(Z){if(this.info)if(Z){if(Z.style)this.info.style.cssText=Z.style;this.info.className="cm-tooltip cm-completionInfo "+(Z.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(Z,J,Q){let K=document.createElement("ul");K.id=J,K.setAttribute("role","listbox"),K.setAttribute("aria-expanded","true"),K.setAttribute("aria-label",this.view.state.phrase("Completions")),K.addEventListener("mousedown",(X)=>{if(X.target==K)X.preventDefault()});let U=null;for(let X=Q.from;X<Q.to;X++){let{completion:Y,match:q}=Z[X],{section:W}=Y;if(W){let H=typeof W=="string"?W:W.name;if(H!=U&&(X>Q.from||Q.from==0))if(U=H,typeof W!="string"&&W.header)K.appendChild(W.header(W));else{let F=K.appendChild(document.createElement("completion-section"));F.textContent=H}}let G=K.appendChild(document.createElement("li"));G.id=J+"-"+X,G.setAttribute("role","option");let z=this.optionClass(Y);if(z)G.className=z;for(let H of this.optionContent){let F=H(Y,this.view.state,this.view,q);if(F)G.appendChild(F)}}if(Q.from)K.classList.add("cm-completionListIncompleteTop");if(Q.to<Z.length)K.classList.add("cm-completionListIncompleteBottom");return K}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}function Gn0(Z,J){return(Q)=>new C70(Q,Z,J)}function zn0(Z,J){let Q=Z.getBoundingClientRect(),K=J.getBoundingClientRect(),U=Q.height/Z.offsetHeight;if(K.top<Q.top)Z.scrollTop-=(Q.top-K.top)/U;else if(K.bottom>Q.bottom)Z.scrollTop+=(K.bottom-Q.bottom)/U}function R70(Z){return(Z.boost||0)*100+(Z.apply?10:0)+(Z.info?5:0)+(Z.type?1:0)}function Hn0(Z,J){let Q=[],K=null,U=null,X=(z)=>{Q.push(z);let{section:H}=z.completion;if(H){if(!K)K=[];let F=typeof H=="string"?H:H.name;if(!K.some((M)=>M.name==F))K.push(typeof H=="string"?{name:F}:H)}},Y=J.facet(S7);for(let z of Z)if(z.hasResult()){let H=z.result.getMatch;if(z.result.filter===!1)for(let F of z.result.options)X(new dx(F,z.source,H?H(F):[],1e9-Q.length));else{let F=J.sliceDoc(z.from,z.to),M,B=Y.filterStrict?new P70(F):new V70(F);for(let O of z.result.options)if(M=B.match(O.label)){let R=!O.displayLabel?M.matched:H?H(O,M.matched):[],L=M.score+(O.boost||0);if(X(new dx(O,z.source,R,L)),typeof O.section=="object"&&O.section.rank==="dynamic"){let{name:D}=O.section;if(!U)U=Object.create(null);U[D]=Math.max(L,U[D]||-1e9)}}}}if(K){let z=Object.create(null),H=0,F=(M,B)=>{return(M.rank==="dynamic"&&B.rank==="dynamic"?U[B.name]-U[M.name]:0)||(typeof M.rank=="number"?M.rank:1e9)-(typeof B.rank=="number"?B.rank:1e9)||(M.name<B.name?-1:1)};for(let M of K.sort(F))H-=1e5,z[M.name]=H;for(let M of Q){let{section:B}=M.completion;if(B)M.score+=z[typeof B=="string"?B:B.name]}}let q=[],W=null,G=Y.compareCompletions;for(let z of Q.sort((H,F)=>F.score-H.score||G(H.completion,F.completion))){let H=z.completion;if(!W||W.label!=H.label||W.detail!=H.detail||W.type!=null&&H.type!=null&&W.type!=H.type||W.apply!=H.apply||W.boost!=H.boost)q.push(z);else if(R70(z.completion)>R70(W))q[q.length-1]=z;W=z.completion}return q}class CH{constructor(Z,J,Q,K,U,X){this.options=Z,this.attrs=J,this.tooltip=Q,this.timestamp=K,this.selected=U,this.disabled=X}setSelected(Z,J){return Z==this.selected||Z>=this.options.length?this:new CH(this.options,L70(J,Z),this.tooltip,this.timestamp,Z,this.disabled)}static build(Z,J,Q,K,U,X){if(K&&!X&&Z.some((W)=>W.isPending))return K.setDisabled();let Y=Hn0(Z,J);if(!Y.length)return K&&Z.some((W)=>W.isPending)?K.setDisabled():null;let q=J.facet(S7).selectOnOpen?0:-1;if(K&&K.selected!=q&&K.selected!=-1){let W=K.options[K.selected].completion;for(let G=0;G<Y.length;G++)if(Y[G].completion==W){q=G;break}}return new CH(Y,L70(Q,q),{pos:Z.reduce((W,G)=>G.hasResult()?Math.min(W,G.from):W,1e8),create:Ln0,above:U.aboveCursor},K?K.timestamp:Date.now(),q,!1)}map(Z){return new CH(this.options,this.attrs,{...this.tooltip,pos:Z.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CH(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class IE{constructor(Z,J,Q){this.active=Z,this.id=J,this.open=Q}static start(){return new IE(On0,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(Z){let{state:J}=Z,Q=J.facet(S7),U=(Q.override||J.languageDataAt("autocomplete",QG(J)).map(Yn0)).map((q)=>{return(this.active.find((G)=>G.source==q)||new t4(q,this.active.some((G)=>G.state!=0)?1:0)).update(Z,Q)});if(U.length==this.active.length&&U.every((q,W)=>q==this.active[W]))U=this.active;let X=this.open,Y=Z.effects.some((q)=>q.is(rx));if(X&&Z.docChanged)X=X.map(Z.changes);if(Z.selection||U.some((q)=>q.hasResult()&&Z.changes.touchesRange(q.from,q.to))||!Fn0(U,this.active)||Y)X=CH.build(U,J,this.id,X,Q,Y);else if(X&&X.disabled&&!U.some((q)=>q.isPending))X=null;if(!X&&U.every((q)=>!q.isPending)&&U.some((q)=>q.hasResult()))U=U.map((q)=>q.hasResult()?new t4(q.source,0):q);for(let q of Z.effects)if(q.is(S70))X=X&&X.setSelected(q.value,this.id);return U==this.active&&X==this.open?this:new IE(U,this.id,X)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Mn0:Bn0}}function Fn0(Z,J){if(Z==J)return!0;for(let Q=0,K=0;;){while(Q<Z.length&&!Z[Q].hasResult())Q++;while(K<J.length&&!J[K].hasResult())K++;let U=Q==Z.length,X=K==J.length;if(U||X)return U==X;if(Z[Q++].result!=J[K++].result)return!1}}var Mn0={"aria-autocomplete":"list"},Bn0={};function L70(Z,J){let Q={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":Z};if(J>-1)Q["aria-activedescendant"]=Z+"-"+J;return Q}var On0=[];function j70(Z,J){if(Z.isUserEvent("input.complete")){let K=Z.annotation(sx);if(K&&J.activateOnCompletion(K))return 12}let Q=Z.isUserEvent("input.type");return Q&&J.activateOnTyping?5:Q?1:Z.isUserEvent("delete.backward")?2:Z.selection?8:Z.docChanged?16:0}class t4{constructor(Z,J,Q=!1){this.source=Z,this.state=J,this.explicit=Q}hasResult(){return!1}get isPending(){return this.state==1}update(Z,J){let Q=j70(Z,J),K=this;if(Q&8||Q&16&&this.touches(Z))K=new t4(K.source,0);if(Q&4&&K.state==0)K=new t4(this.source,1);K=K.updateFor(Z,Q);for(let U of Z.effects)if(U.is(DE))K=new t4(K.source,1,U.value);else if(U.is(FR))K=new t4(K.source,0);else if(U.is(rx)){for(let X of U.value)if(X.source==K.source)K=X}return K}updateFor(Z,J){return this.map(Z.changes)}map(Z){return this}touches(Z){return Z.changes.touchesRange(QG(Z.state))}}class jH extends t4{constructor(Z,J,Q,K,U,X){super(Z,3,J);this.limit=Q,this.result=K,this.from=U,this.to=X}hasResult(){return!0}updateFor(Z,J){var Q;if(!(J&3))return this.map(Z.changes);let K=this.result;if(K.map&&!Z.changes.empty)K=K.map(K,Z.changes);let U=Z.changes.mapPos(this.from),X=Z.changes.mapPos(this.to,1),Y=QG(Z.state);if(Y>X||!K||J&2&&(QG(Z.startState)==this.from||Y<this.limit))return new t4(this.source,J&4?1:0);let q=Z.changes.mapPos(this.limit);if(Rn0(K.validFor,Z.state,U,X))return new jH(this.source,this.explicit,q,K,U,X);if(K.update&&(K=K.update(K,U,X,new OR(Z.state,Y,!1))))return new jH(this.source,this.explicit,q,K,K.from,(Q=K.to)!==null&&Q!==void 0?Q:QG(Z.state));return new t4(this.source,1,this.explicit)}map(Z){if(Z.empty)return this;if(!(this.result.map?this.result.map(this.result,Z):this.result))return new t4(this.source,0);return new jH(this.source,this.explicit,Z.mapPos(this.limit),this.result,Z.mapPos(this.from),Z.mapPos(this.to,1))}touches(Z){return Z.changes.touchesRange(this.from,this.to)}}function Rn0(Z,J,Q,K){if(!Z)return!1;let U=J.sliceDoc(Q,K);return typeof Z=="function"?Z(U,Q,K,J):E70(Z,!0).test(U)}var rx=OZ.define({map(Z,J){return Z.map((Q)=>Q.map(J))}}),S70=OZ.define(),$6=BJ.define({create(){return IE.start()},update(Z,J){return Z.update(J)},provide:(Z)=>[oO.from(Z,(J)=>J.tooltip),C8.contentAttributes.from(Z,(J)=>J.attrs)]});function nx(Z,J){let Q=J.completion.apply||J.completion.label,K=Z.state.field($6).active.find((U)=>U.source==J.source);if(!(K instanceof jH))return!1;if(typeof Q=="string")Z.dispatch({...Xn0(Z.state,Q,K.from,K.to),annotations:sx.of(J.completion)});else Q(Z,J.completion,K.from,K.to);return!0}var Ln0=Gn0($6,nx);function LE(Z,J="option"){return(Q)=>{let K=Q.state.field($6,!1);if(!K||!K.open||K.open.disabled||Date.now()-K.open.timestamp<Q.state.facet(S7).interactionDelay)return!1;let U=1,X;if(J=="page"&&(X=ev(Q,K.open.tooltip)))U=Math.max(2,Math.floor(X.dom.offsetHeight/X.dom.querySelector("li").offsetHeight)-1);let{length:Y}=K.open.options,q=K.open.selected>-1?K.open.selected+U*(Z?1:-1):Z?0:Y-1;if(q<0)q=J=="page"?0:Y-1;else if(q>=Y)q=J=="page"?Y-1:0;return Q.dispatch({effects:S70.of(q)}),!0}}var Dn0=(Z)=>{let J=Z.state.field($6,!1);if(Z.state.readOnly||!J||!J.open||J.open.selected<0||J.open.disabled||Date.now()-J.open.timestamp<Z.state.facet(S7).interactionDelay)return!1;return nx(Z,J.open.options[J.open.selected])},cx=(Z)=>{if(!Z.state.field($6,!1))return!1;return Z.dispatch({effects:DE.of(!0)}),!0},In0=(Z)=>{let J=Z.state.field($6,!1);if(!J||!J.active.some((Q)=>Q.state!=0))return!1;return Z.dispatch({effects:FR.of(null)}),!0};class T70{constructor(Z,J){this.active=Z,this.context=J,this.time=Date.now(),this.updates=[],this.done=void 0}}var An0=50,Nn0=1000,En0=OJ.fromClass(class{constructor(Z){this.view=Z,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let J of Z.state.field($6).active)if(J.isPending)this.startQuery(J)}update(Z){let J=Z.state.field($6),Q=Z.state.facet(S7);if(!Z.selectionSet&&!Z.docChanged&&Z.startState.field($6)==J)return;let K=Z.transactions.some((X)=>{let Y=j70(X,Q);return Y&8||(X.selection||X.docChanged)&&!(Y&3)});for(let X=0;X<this.running.length;X++){let Y=this.running[X];if(K||Y.context.abortOnDocChange&&Z.docChanged||Y.updates.length+Z.transactions.length>An0&&Date.now()-Y.time>Nn0){for(let q of Y.context.abortListeners)try{q()}catch(W){i7(this.view.state,W)}Y.context.abortListeners=null,this.running.splice(X--,1)}else Y.updates.push(...Z.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(Z.transactions.some((X)=>X.effects.some((Y)=>Y.is(DE))))this.pendingStart=!0;let U=this.pendingStart?50:Q.activateOnTypingDelay;if(this.debounceUpdate=J.active.some((X)=>X.isPending&&!this.running.some((Y)=>Y.active.source==X.source))?setTimeout(()=>this.startUpdate(),U):-1,this.composing!=0){for(let X of Z.transactions)if(X.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&X.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:Z}=this.view,J=Z.field($6);for(let Q of J.active)if(Q.isPending&&!this.running.some((K)=>K.active.source==Q.source))this.startQuery(Q);if(this.running.length&&J.open&&J.open.disabled)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(S7).updateSyncTime)}startQuery(Z){let{state:J}=this.view,Q=QG(J),K=new OR(J,Q,Z.explicit,this.view),U=new T70(Z,K);this.running.push(U),Promise.resolve(Z.source(K)).then((X)=>{if(!U.context.aborted)U.done=X||null,this.scheduleAccept()},(X)=>{this.view.dispatch({effects:FR.of(null)}),i7(this.view.state,X)})}scheduleAccept(){if(this.running.every((Z)=>Z.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(S7).updateSyncTime)}accept(){var Z;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let J=[],Q=this.view.state.facet(S7),K=this.view.state.field($6);for(let U=0;U<this.running.length;U++){let X=this.running[U];if(X.done===void 0)continue;if(this.running.splice(U--,1),X.done){let q=QG(X.updates.length?X.updates[0].startState:this.view.state),W=Math.min(q,X.done.from+(X.active.explicit?0:1)),G=new jH(X.active.source,X.active.explicit,W,X.done,X.done.from,(Z=X.done.to)!==null&&Z!==void 0?Z:q);for(let z of X.updates)G=G.update(z,Q);if(G.hasResult()){J.push(G);continue}}let Y=K.active.find((q)=>q.source==X.active.source);if(Y&&Y.isPending)if(X.done==null){let q=new t4(X.active.source,0);for(let W of X.updates)q=q.update(W,Q);if(!q.isPending)J.push(q)}else this.startQuery(Y)}if(J.length||K.open&&K.open.disabled)this.view.dispatch({effects:rx.of(J)})}},{eventHandlers:{blur(Z){let J=this.view.state.field($6,!1);if(J&&J.tooltip&&this.view.state.facet(S7).closeOnBlur){let Q=J.open&&ev(this.view,J.open.tooltip);if(!Q||!Q.dom.contains(Z.relatedTarget))setTimeout(()=>this.view.dispatch({effects:FR.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:DE.of(!1)}),20);this.composing=0}}}),Vn0=typeof navigator=="object"&&/Win/.test(navigator.platform),Pn0=P6.highest(C8.domEventHandlers({keydown(Z,J){let Q=J.state.field($6,!1);if(!Q||!Q.open||Q.open.disabled||Q.open.selected<0||Z.key.length>1||Z.ctrlKey&&!(Vn0&&Z.altKey)||Z.metaKey)return!1;let K=Q.open.options[Q.open.selected],U=Q.active.find((Y)=>Y.source==K.source),X=K.completion.commitCharacters||U.result.commitCharacters;if(X&&X.indexOf(Z.key)>-1)nx(J,K);return!1}})),w70=C8.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11'"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class $70{constructor(Z,J,Q,K){this.field=Z,this.line=J,this.from=Q,this.to=K}}class ax{constructor(Z,J,Q){this.field=Z,this.from=J,this.to=Q}map(Z){let J=Z.mapPos(this.from,-1,F7.TrackDel),Q=Z.mapPos(this.to,1,F7.TrackDel);return J==null||Q==null?null:new ax(this.field,J,Q)}}class ox{constructor(Z,J){this.lines=Z,this.fieldPositions=J}instantiate(Z,J){let Q=[],K=[J],U=Z.doc.lineAt(J),X=/^\s*/.exec(U.text)[0];for(let q of this.lines){if(Q.length){let W=X,G=/^\t*/.exec(q)[0].length;for(let z=0;z<G;z++)W+=Z.facet(K1);K.push(J+W.length-G),q=W+q.slice(G)}Q.push(q),J+=q.length+1}let Y=this.fieldPositions.map((q)=>new ax(q.field,K[q.line]+q.from,K[q.line]+q.to));return{text:Q,ranges:Y}}static parse(Z){let J=[],Q=[],K=[],U;for(let X of Z.split(/\r\n?|\n/)){while(U=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(X)){let Y=U[1]?+U[1]:null,q=U[2]||U[3]||"",W=-1,G=q.replace(/\\[{}]/g,(z)=>z[1]);for(let z=0;z<J.length;z++)if(Y!=null?J[z].seq==Y:G?J[z].name==G:!1)W=z;if(W<0){let z=0;while(z<J.length&&(Y==null||J[z].seq!=null&&J[z].seq<Y))z++;J.splice(z,0,{seq:Y,name:G}),W=z;for(let H of K)if(H.field>=W)H.field++}for(let z of K)if(z.line==Q.length&&z.from>U.index){let H=U[2]?3+(U[1]||"").length:2;z.from-=H,z.to-=H}K.push(new $70(W,Q.length,U.index,U.index+G.length)),X=X.slice(0,U.index)+q+X.slice(U.index+U[0].length)}X=X.replace(/\\([{}])/g,(Y,q,W)=>{for(let G of K)if(G.line==Q.length&&G.from>W)G.from--,G.to--;return q}),Q.push(X)}return new ox(Q,K)}}var Cn0=e8.widget({widget:new class extends j6{toDOM(){let Z=document.createElement("span");return Z.className="cm-snippetFieldPosition",Z}ignoreEvent(){return!1}}}),jn0=e8.mark({class:"cm-snippetField"});class SH{constructor(Z,J){this.ranges=Z,this.active=J,this.deco=e8.set(Z.map((Q)=>(Q.from==Q.to?Cn0:jn0).range(Q.from,Q.to)),!0)}map(Z){let J=[];for(let Q of this.ranges){let K=Q.map(Z);if(!K)return null;J.push(K)}return new SH(J,this.active)}selectionInsideField(Z){return Z.ranges.every((J)=>this.ranges.some((Q)=>Q.field==this.active&&Q.from<=J.from&&Q.to>=J.to))}}var RR=OZ.define({map(Z,J){return Z&&Z.map(J)}}),Sn0=OZ.define(),MR=BJ.define({create(){return null},update(Z,J){for(let Q of J.effects){if(Q.is(RR))return Q.value;if(Q.is(Sn0)&&Z)return new SH(Z.ranges,Q.value)}if(Z&&J.docChanged)Z=Z.map(J.changes);if(Z&&J.selection&&!Z.selectionInsideField(J.selection))Z=null;return Z},provide:(Z)=>C8.decorations.from(Z,(J)=>J?J.deco:e8.none)});function tx(Z,J){return e0.create(Z.filter((Q)=>Q.field==J).map((Q)=>e0.range(Q.from,Q.to)))}function Tn0(Z){let J=ox.parse(Z);return(Q,K,U,X)=>{let{text:Y,ranges:q}=J.instantiate(Q.state,U),{main:W}=Q.state.selection,G={changes:{from:U,to:X==W.from?W.to:X,insert:tZ.of(Y)},scrollIntoView:!0,annotations:K?[sx.of(K),CJ.userEvent.of("input.complete")]:void 0};if(q.length)G.selection=tx(q,0);if(q.some((z)=>z.field>0)){let z=new SH(q,0),H=G.effects=[RR.of(z)];if(Q.state.field(MR,!1)===void 0)H.push(OZ.appendConfig.of([MR,fn0,vn0,w70]))}Q.dispatch(Q.state.update(G))}}function k70(Z){return({state:J,dispatch:Q})=>{let K=J.field(MR,!1);if(!K||Z<0&&K.active==0)return!1;let U=K.active+Z,X=Z>0&&!K.ranges.some((Y)=>Y.field==U+Z);return Q(J.update({selection:tx(K.ranges,U),effects:RR.of(X?null:new SH(K.ranges,U)),scrollIntoView:!0})),!0}}var wn0=({state:Z,dispatch:J})=>{if(!Z.field(MR,!1))return!1;return J(Z.update({effects:RR.of(null)})),!0},$n0=k70(1),kn0=k70(-1);var _n0=[{key:"Tab",run:$n0,shift:kn0},{key:"Escape",run:wn0}],D70=v8.define({combine(Z){return Z.length?Z[0]:_n0}}),fn0=P6.highest(aY.compute([D70],(Z)=>Z.facet(D70)));function lQ(Z,J){return{...J,apply:Tn0(Z)}}var vn0=C8.domEventHandlers({mousedown(Z,J){let Q=J.state.field(MR,!1),K;if(!Q||(K=J.posAtCoords({x:Z.clientX,y:Z.clientY}))==null)return!1;let U=Q.ranges.find((X)=>X.from<=K&&X.to>=K);if(!U||U.field==Q.active)return!1;return J.dispatch({selection:tx(Q.ranges,U.field),effects:RR.of(Q.ranges.some((X)=>X.field>U.field)?new SH(Q.ranges,U.field):null),scrollIntoView:!0}),!0}});var BR={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},JG=OZ.define({map(Z,J){let Q=J.mapPos(Z,-1,F7.TrackAfter);return Q==null?void 0:Q}}),ex=new class extends pK{};ex.startSide=1;ex.endSide=-1;var _70=BJ.define({create(){return kZ.empty},update(Z,J){if(Z=Z.map(J.changes),J.selection){let Q=J.state.doc.lineAt(J.selection.main.head);Z=Z.update({filter:(K)=>K>=Q.from&&K<=Q.to})}for(let Q of J.effects)if(Q.is(JG))Z=Z.update({add:[ex.range(Q.value,Q.value+1)]});return Z}});function f70(){return[bn0,_70]}var lx="()[]{}<>";function v70(Z){for(let J=0;J<lx.length;J+=2)if(lx.charCodeAt(J)==Z)return lx.charAt(J+1);return wO(Z<128?Z:Z+1)}function x70(Z,J){return Z.languageDataAt("closeBrackets",J)[0]||BR}var xn0=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),bn0=C8.inputHandler.of((Z,J,Q,K)=>{if((xn0?Z.composing:Z.compositionStarted)||Z.state.readOnly)return!1;let U=Z.state.selection.main;if(K.length>2||K.length==2&&M4(l7(K,0))==1||J!=U.from||Q!=U.to)return!1;let X=hn0(Z.state,K);if(!X)return!1;return Z.dispatch(X),!0}),yn0=({state:Z,dispatch:J})=>{if(Z.readOnly)return!1;let K=x70(Z,Z.selection.main.head).brackets||BR.brackets,U=null,X=Z.changeByRange((Y)=>{if(Y.empty){let q=mn0(Z.doc,Y.head);for(let W of K)if(W==q&&AE(Z.doc,Y.head)==v70(l7(W,0)))return{changes:{from:Y.head-W.length,to:Y.head+W.length},range:e0.cursor(Y.head-W.length)}}return{range:U=Y}});if(!U)J(Z.update(X,{scrollIntoView:!0,userEvent:"delete.backward"}));return!U},b70=[{key:"Backspace",run:yn0}];function hn0(Z,J){let Q=x70(Z,Z.selection.main.head),K=Q.brackets||BR.brackets;for(let U of K){let X=v70(l7(U,0));if(J==U)return X==U?pn0(Z,U,K.indexOf(U+U+U)>-1,Q):un0(Z,U,X,Q.before||BR.before);if(J==X&&y70(Z,Z.selection.main.from))return gn0(Z,U,X)}return null}function y70(Z,J){let Q=!1;return Z.field(_70).between(0,Z.doc.length,(K)=>{if(K==J)Q=!0}),Q}function AE(Z,J){let Q=Z.sliceString(J,J+2);return Q.slice(0,M4(l7(Q,0)))}function mn0(Z,J){let Q=Z.sliceString(J-2,J);return M4(l7(Q,0))==Q.length?Q:Q.slice(1)}function un0(Z,J,Q,K){let U=null,X=Z.changeByRange((Y)=>{if(!Y.empty)return{changes:[{insert:J,from:Y.from},{insert:Q,from:Y.to}],effects:JG.of(Y.to+J.length),range:e0.range(Y.anchor+J.length,Y.head+J.length)};let q=AE(Z.doc,Y.head);if(!q||/\s/.test(q)||K.indexOf(q)>-1)return{changes:{insert:J+Q,from:Y.head},effects:JG.of(Y.head+J.length),range:e0.cursor(Y.head+J.length)};return{range:U=Y}});return U?null:Z.update(X,{scrollIntoView:!0,userEvent:"input.type"})}function gn0(Z,J,Q){let K=null,U=Z.changeByRange((X)=>{if(X.empty&&AE(Z.doc,X.head)==Q)return{changes:{from:X.head,to:X.head+Q.length,insert:Q},range:e0.cursor(X.head+Q.length)};return K={range:X}});return K?null:Z.update(U,{scrollIntoView:!0,userEvent:"input.type"})}function pn0(Z,J,Q,K){let U=K.stringPrefixes||BR.stringPrefixes,X=null,Y=Z.changeByRange((q)=>{if(!q.empty)return{changes:[{insert:J,from:q.from},{insert:J,from:q.to}],effects:JG.of(q.to+J.length),range:e0.range(q.anchor+J.length,q.head+J.length)};let W=q.head,G=AE(Z.doc,W),z;if(G==J){if(I70(Z,W))return{changes:{insert:J+J,from:W},effects:JG.of(W+J.length),range:e0.cursor(W+J.length)};else if(y70(Z,W)){let F=Q&&Z.sliceDoc(W,W+J.length*3)==J+J+J?J+J+J:J;return{changes:{from:W,to:W+F.length,insert:F},range:e0.cursor(W+F.length)}}}else if(Q&&Z.sliceDoc(W-2*J.length,W)==J+J&&(z=A70(Z,W-2*J.length,U))>-1&&I70(Z,z))return{changes:{insert:J+J+J+J,from:W},effects:JG.of(W+J.length),range:e0.cursor(W+J.length)};else if(Z.charCategorizer(W)(G)!=x9.Word){if(A70(Z,W,U)>-1&&!cn0(Z,W,J,U))return{changes:{insert:J+J,from:W},effects:JG.of(W+J.length),range:e0.cursor(W+J.length)}}return{range:X=q}});return X?null:Z.update(Y,{scrollIntoView:!0,userEvent:"input.type"})}function I70(Z,J){let Q=q9(Z).resolveInner(J+1);return Q.parent&&Q.from==J}function cn0(Z,J,Q,K){let U=q9(Z).resolveInner(J,-1),X=K.reduce((Y,q)=>Math.max(Y,q.length),0);for(let Y=0;Y<5;Y++){let q=Z.sliceDoc(U.from,Math.min(U.to,U.from+Q.length+X)),W=q.indexOf(Q);if(!W||W>-1&&K.indexOf(q.slice(0,W))>-1){let z=U.firstChild;while(z&&z.from==U.from&&z.to-z.from>Q.length+W){if(Z.sliceDoc(z.to-Q.length,z.to)==Q)return!1;z=z.firstChild}return!0}let G=U.to==J&&U.parent;if(!G)break;U=G}return!1}function A70(Z,J,Q){let K=Z.charCategorizer(J);if(K(Z.sliceDoc(J-1,J))!=x9.Word)return J;for(let U of Q){let X=J-U.length;if(Z.sliceDoc(X,J)==U&&K(Z.sliceDoc(X-1,X))!=x9.Word)return X}return-1}function h70(Z={}){return[Pn0,$6,S7.of(Z),En0,ln0,w70]}var Zb=[{key:"Ctrl-Space",run:cx},{mac:"Alt-`",run:cx},{mac:"Alt-i",run:cx},{key:"Escape",run:In0},{key:"ArrowDown",run:LE(!0)},{key:"ArrowUp",run:LE(!1)},{key:"PageDown",run:LE(!0,"page")},{key:"PageUp",run:LE(!1,"page")},{key:"Enter",run:Dn0}],ln0=P6.highest(aY.computeN([S7],(Z)=>Z.facet(S7).defaultKeymap?[Zb]:[]));class Jb{constructor(Z,J,Q){this.from=Z,this.to=J,this.diagnostic=Q}}class KG{constructor(Z,J,Q){this.diagnostics=Z,this.panel=J,this.selected=Q}static init(Z,J,Q){let K=Q.facet(LR).markerFilter;if(K)Z=K(Z,Q);let U=Z.slice().sort((F,M)=>F.from-M.from||F.to-M.to),X=new F4,Y=[],q=0,W=Q.doc.iter(),G=0,z=Q.doc.length;for(let F=0;;){let M=F==U.length?null:U[F];if(!M&&!Y.length)break;let B,O;if(Y.length)B=q,O=Y.reduce((D,A)=>Math.min(D,A.to),M&&M.from>B?M.from:1e8);else{if(B=M.from,B>z)break;O=M.to,Y.push(M),F++}while(F<U.length){let D=U[F];if(D.from==B&&(D.to>D.from||D.to==B))Y.push(D),F++,O=Math.min(D.to,O);else{O=Math.min(D.from,O);break}}O=Math.min(O,z);let R=!1;if(Y.some((D)=>D.from==B&&(D.to==O||O==z))){if(R=B==O,!R&&O-B<10){let D=B-(G+W.value.length);if(D>0)W.next(D),G=B;for(let A=B;;){if(A>=O){R=!0;break}if(!W.lineBreak&&G+W.value.length>A)break;A=G+W.value.length,G+=W.value.length,W.next()}}}let L=Ja0(Y);if(R)X.add(B,B,e8.widget({widget:new i70(L),diagnostics:Y.slice()}));else{let D=Y.reduce((A,V)=>V.markClass?A+" "+V.markClass:A,"");X.add(B,O,e8.mark({class:"cm-lintRange cm-lintRange-"+L+D,diagnostics:Y.slice(),inclusiveEnd:Y.some((A)=>A.to>O)}))}if(q=O,q==z)break;for(let D=0;D<Y.length;D++)if(Y[D].to<=q)Y.splice(D--,1)}let H=X.finish();return new KG(H,J,TH(H))}}function TH(Z,J=null,Q=0){let K=null;return Z.between(Q,1e9,(U,X,{spec:Y})=>{if(J&&Y.diagnostics.indexOf(J)<0)return;if(!K)K=new Jb(U,X,J||Y.diagnostics[0]);else if(Y.diagnostics.indexOf(K.diagnostic)<0)return!1;else K=new Jb(K.from,X,K.diagnostic)}),K}function dn0(Z,J){let Q=J.pos,K=J.end||Q,U=Z.state.facet(LR).hideOn(Z,Q,K);if(U!=null)return U;let X=Z.startState.doc.lineAt(J.pos);return!!(Z.effects.some((Y)=>Y.is(g70))||Z.changes.touchesRange(X.from,Math.max(X.to,K)))}function in0(Z,J){return Z.field(D4,!1)?J:J.concat(OZ.appendConfig.of(Qa0))}var g70=OZ.define(),Kb=OZ.define(),p70=OZ.define(),D4=BJ.define({create(){return new KG(e8.none,null,null)},update(Z,J){if(J.docChanged&&Z.diagnostics.size){let Q=Z.diagnostics.map(J.changes),K=null,U=Z.panel;if(Z.selected){let X=J.changes.mapPos(Z.selected.from,1);K=TH(Q,Z.selected.diagnostic,X)||TH(Q,null,X)}if(!Q.size&&U&&J.state.facet(LR).autoPanel)U=null;Z=new KG(Q,U,K)}for(let Q of J.effects)if(Q.is(g70)){let K=!J.state.facet(LR).autoPanel?Z.panel:Q.value.length?DR.open:null;Z=KG.init(Q.value,K,J.state)}else if(Q.is(Kb))Z=new KG(Z.diagnostics,Q.value?DR.open:null,Z.selected);else if(Q.is(p70))Z=new KG(Z.diagnostics,Z.panel,Q.value);return Z},provide:(Z)=>[nW.from(Z,(J)=>J.panel),C8.decorations.from(Z,(J)=>J.diagnostics)]});var sn0=e8.mark({class:"cm-lintRange cm-lintRange-active"});function rn0(Z,J,Q){let{diagnostics:K}=Z.state.field(D4),U,X=-1,Y=-1;K.between(J-(Q<0?1:0),J+(Q>0?1:0),(W,G,{spec:z})=>{if(J>=W&&J<=G&&(W==G||(J>W||Q>0)&&(J<G||Q<0)))return U=z.diagnostics,X=W,Y=G,!1});let q=Z.state.facet(LR).tooltipFilter;if(U&&q)U=q(U,Z.state);if(!U)return null;return{pos:X,end:Y,above:Z.state.doc.lineAt(X).to<Y,create(){return{dom:nn0(Z,U)}}}}function nn0(Z,J){return B9("ul",{class:"cm-tooltip-lint"},J.map((Q)=>d70(Z,Q,!1)))}var an0=(Z)=>{let J=Z.state.field(D4,!1);if(!J||!J.panel)Z.dispatch({effects:in0(Z.state,[Kb.of(!0)])});let Q=tO(Z,DR.open);if(Q)Q.dom.querySelector(".cm-panel-lint ul").focus();return!0},m70=(Z)=>{let J=Z.state.field(D4,!1);if(!J||!J.panel)return!1;return Z.dispatch({effects:Kb.of(!1)}),!0},on0=(Z)=>{let J=Z.state.field(D4,!1);if(!J)return!1;let Q=Z.state.selection.main,K=J.diagnostics.iter(Q.to+1);if(!K.value){if(K=J.diagnostics.iter(0),!K.value||K.from==Q.from&&K.to==Q.to)return!1}return Z.dispatch({selection:{anchor:K.from,head:K.to},scrollIntoView:!0}),!0};var c70=[{key:"Mod-Shift-m",run:an0,preventDefault:!0},{key:"F8",run:on0}];var LR=v8.define({combine(Z){return{sources:Z.map((J)=>J.source).filter((J)=>J!=null),...AQ(Z.map((J)=>J.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:u70,tooltipFilter:u70,needsRefresh:(J,Q)=>!J?Q:!Q?J:(K)=>J(K)||Q(K),hideOn:(J,Q)=>!J?Q:!Q?J:(K,U,X)=>J(K,U,X)||Q(K,U,X),autoPanel:(J,Q)=>J||Q})}}});function u70(Z,J){return!Z?J:!J?Z:(Q,K)=>J(Z(Q,K),K)}function l70(Z){let J=[];if(Z)Z:for(let{name:Q}of Z){for(let K=0;K<Q.length;K++){let U=Q[K];if(/[a-zA-Z]/.test(U)&&!J.some((X)=>X.toLowerCase()==U.toLowerCase())){J.push(U);continue Z}}J.push("")}return J}function d70(Z,J,Q){var K;let U=Q?l70(J.actions):[];return B9("li",{class:"cm-diagnostic cm-diagnostic-"+J.severity},B9("span",{class:"cm-diagnosticText"},J.renderMessage?J.renderMessage(Z):J.message),(K=J.actions)===null||K===void 0?void 0:K.map((X,Y)=>{let q=!1,W=(M)=>{if(M.preventDefault(),q)return;q=!0;let B=TH(Z.state.field(D4).diagnostics,J);if(B)X.apply(Z,B.from,B.to)},{name:G}=X,z=U[Y]?G.indexOf(U[Y]):-1,H=z<0?G:[G.slice(0,z),B9("u",G.slice(z,z+1)),G.slice(z+1)],F=X.markClass?" "+X.markClass:"";return B9("button",{type:"button",class:"cm-diagnosticAction"+F,onclick:W,onmousedown:W,"aria-label":` Action: ${G}${z<0?"":` (access key "${U[Y]})"`}.`},H)}),J.source&&B9("div",{class:"cm-diagnosticSource"},J.source))}class i70 extends j6{constructor(Z){super();this.sev=Z}eq(Z){return Z.sev==this.sev}toDOM(){return B9("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Qb{constructor(Z,J){this.diagnostic=J,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=d70(Z,J,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class DR{constructor(Z){this.view=Z,this.items=[];let J=(K)=>{if(K.ctrlKey||K.altKey||K.metaKey)return;if(K.keyCode==27)m70(this.view),this.view.focus();else if(K.keyCode==38||K.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(K.keyCode==40||K.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(K.keyCode==36)this.moveSelection(0);else if(K.keyCode==35)this.moveSelection(this.items.length-1);else if(K.keyCode==13)this.view.focus();else if(K.keyCode>=65&&K.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:U}=this.items[this.selectedIndex],X=l70(U.actions);for(let Y=0;Y<X.length;Y++)if(X[Y].toUpperCase().charCodeAt(0)==K.keyCode){let q=TH(this.view.state.field(D4).diagnostics,U);if(q)U.actions[Y].apply(Z,q.from,q.to)}}else return;K.preventDefault()},Q=(K)=>{for(let U=0;U<this.items.length;U++)if(this.items[U].dom.contains(K.target))this.moveSelection(U)};this.list=B9("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:J,onclick:Q}),this.dom=B9("div",{class:"cm-panel-lint"},this.list,B9("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>m70(this.view)},"")),this.update()}get selectedIndex(){let Z=this.view.state.field(D4).selected;if(!Z)return-1;for(let J=0;J<this.items.length;J++)if(this.items[J].diagnostic==Z.diagnostic)return J;return-1}update(){let{diagnostics:Z,selected:J}=this.view.state.field(D4),Q=0,K=!1,U=null,X=new Set;Z.between(0,this.view.state.doc.length,(Y,q,{spec:W})=>{for(let G of W.diagnostics){if(X.has(G))continue;X.add(G);let z=-1,H;for(let F=Q;F<this.items.length;F++)if(this.items[F].diagnostic==G){z=F;break}if(z<0)H=new Qb(this.view,G),this.items.splice(Q,0,H),K=!0;else if(H=this.items[z],z>Q)this.items.splice(Q,z-Q),K=!0;if(J&&H.diagnostic==J.diagnostic){if(!H.dom.hasAttribute("aria-selected"))H.dom.setAttribute("aria-selected","true"),U=H}else if(H.dom.hasAttribute("aria-selected"))H.dom.removeAttribute("aria-selected");Q++}});while(Q<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0))K=!0,this.items.pop();if(this.items.length==0)this.items.push(new Qb(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),K=!0;if(U)this.list.setAttribute("aria-activedescendant",U.id),this.view.requestMeasure({key:this,read:()=>({sel:U.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Y,panel:q})=>{let W=q.height/this.list.offsetHeight;if(Y.top<q.top)this.list.scrollTop-=(q.top-Y.top)/W;else if(Y.bottom>q.bottom)this.list.scrollTop+=(Y.bottom-q.bottom)/W}});else if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(K)this.sync()}sync(){let Z=this.list.firstChild;function J(){let Q=Z;Z=Q.nextSibling,Q.remove()}for(let Q of this.items)if(Q.dom.parentNode==this.list){while(Z!=Q.dom)J();Z=Q.dom.nextSibling}else this.list.insertBefore(Q.dom,Z);while(Z)J()}moveSelection(Z){if(this.selectedIndex<0)return;let J=this.view.state.field(D4),Q=TH(J.diagnostics,this.items[Z].diagnostic);if(!Q)return;this.view.dispatch({selection:{anchor:Q.from,head:Q.to},scrollIntoView:!0,effects:p70.of(Q)})}static open(Z){return new DR(Z)}}function tn0(Z,J='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${J}>${encodeURIComponent(Z)}</svg>')`}function NE(Z){return tn0(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${Z}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var en0=C8.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:NE("#d11")},".cm-lintRange-warning":{backgroundImage:NE("orange")},".cm-lintRange-info":{backgroundImage:NE("#999")},".cm-lintRange-hint":{backgroundImage:NE("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Za0(Z){return Z=="error"?4:Z=="warning"?3:Z=="info"?2:1}function Ja0(Z){let J="hint",Q=1;for(let K of Z){let U=Za0(K.severity);if(U>Q)Q=U,J=K.severity}return J}var Qa0=[D4,C8.decorations.compute([D4],(Z)=>{let{selected:J,panel:Q}=Z.field(D4);return!J||!Q||J.from==J.to?e8.none:e8.set([sn0.range(J.from,J.to)])}),X90(rn0,{hideOn:dn0}),en0];var s70=(()=>[F90(),M90(),tZ0(),EJ0(),KJ0(),sZ0(),aZ0(),vZ.allowMultipleSelections.of(!0),r90(),QE(YJ0,{fallback:!0}),zJ0(),f70(),h70(),Q90(),K90(),J90(),U70(),aY.of([...b70,...tJ0,...H70,...jJ0,...e90,...Zb,...c70])])();class PE{static create(Z,J,Q,K,U){let X=K+(K<<8)+Z+(J<<4)|0;return new PE(Z,J,Q,X,U,[],[])}constructor(Z,J,Q,K,U,X,Y){this.type=Z,this.value=J,this.from=Q,this.hash=K,this.end=U,this.children=X,this.positions=Y,this.hashProp=[[WZ.contextHash,K]]}addChild(Z,J){if(Z.prop(WZ.contextHash)!=this.hash)Z=new U9(Z.type,Z.children,Z.positions,Z.length,this.hashProp);this.children.push(Z),this.positions.push(J)}toTree(Z,J=this.end){let Q=this.children.length-1;if(Q>=0)J=Math.max(J,this.positions[Q]+this.children[Q].length+this.from);return new U9(Z.types[this.type],this.children,this.positions,J-this.from).balance({makeTree:(K,U,X)=>new U9(bJ.none,K,U,X,this.hashProp)})}}var V8;(function(Z){Z[Z.Document=1]="Document",Z[Z.CodeBlock=2]="CodeBlock",Z[Z.FencedCode=3]="FencedCode",Z[Z.Blockquote=4]="Blockquote",Z[Z.HorizontalRule=5]="HorizontalRule",Z[Z.BulletList=6]="BulletList",Z[Z.OrderedList=7]="OrderedList",Z[Z.ListItem=8]="ListItem",Z[Z.ATXHeading1=9]="ATXHeading1",Z[Z.ATXHeading2=10]="ATXHeading2",Z[Z.ATXHeading3=11]="ATXHeading3",Z[Z.ATXHeading4=12]="ATXHeading4",Z[Z.ATXHeading5=13]="ATXHeading5",Z[Z.ATXHeading6=14]="ATXHeading6",Z[Z.SetextHeading1=15]="SetextHeading1",Z[Z.SetextHeading2=16]="SetextHeading2",Z[Z.HTMLBlock=17]="HTMLBlock",Z[Z.LinkReference=18]="LinkReference",Z[Z.Paragraph=19]="Paragraph",Z[Z.CommentBlock=20]="CommentBlock",Z[Z.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",Z[Z.Escape=22]="Escape",Z[Z.Entity=23]="Entity",Z[Z.HardBreak=24]="HardBreak",Z[Z.Emphasis=25]="Emphasis",Z[Z.StrongEmphasis=26]="StrongEmphasis",Z[Z.Link=27]="Link",Z[Z.Image=28]="Image",Z[Z.InlineCode=29]="InlineCode",Z[Z.HTMLTag=30]="HTMLTag",Z[Z.Comment=31]="Comment",Z[Z.ProcessingInstruction=32]="ProcessingInstruction",Z[Z.Autolink=33]="Autolink",Z[Z.HeaderMark=34]="HeaderMark",Z[Z.QuoteMark=35]="QuoteMark",Z[Z.ListMark=36]="ListMark",Z[Z.LinkMark=37]="LinkMark",Z[Z.EmphasisMark=38]="EmphasisMark",Z[Z.CodeMark=39]="CodeMark",Z[Z.CodeText=40]="CodeText",Z[Z.CodeInfo=41]="CodeInfo",Z[Z.LinkTitle=42]="LinkTitle",Z[Z.LinkLabel=43]="LinkLabel",Z[Z.URL=44]="URL"})(V8||(V8={}));class XQ0{constructor(Z,J){this.start=Z,this.content=J,this.marks=[],this.parsers=[]}}class YQ0{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){if(this.basePos>this.pos)this.forwardInner()}forwardInner(){let Z=this.skipSpace(this.basePos);this.indent=this.countIndent(Z,this.pos,this.indent),this.pos=Z,this.next=Z==this.text.length?-1:this.text.charCodeAt(Z)}skipSpace(Z){return AR(this.text,Z)}reset(Z){this.text=Z,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;while(this.markers.length)this.markers.pop()}moveBase(Z){this.basePos=Z,this.baseIndent=this.countIndent(Z,this.pos,this.indent)}moveBaseColumn(Z){this.baseIndent=Z,this.basePos=this.findColumn(Z)}addMarker(Z){this.markers.push(Z)}countIndent(Z,J=0,Q=0){for(let K=J;K<Z;K++)Q+=this.text.charCodeAt(K)==9?4-Q%4:1;return Q}findColumn(Z){let J=0;for(let Q=0;J<this.text.length&&Q<Z;J++)Q+=this.text.charCodeAt(J)==9?4-Q%4:1;return J}scrub(){if(!this.baseIndent)return this.text;let Z="";for(let J=0;J<this.basePos;J++)Z+=" ";return Z+this.text.slice(this.basePos)}}function r70(Z,J,Q){if(Q.pos==Q.text.length||Z!=J.block&&Q.indent>=J.stack[Q.depth+1].value+Q.baseIndent)return!0;if(Q.indent>=Q.baseIndent+4)return!1;let K=(Z.type==V8.OrderedList?Mb:Fb)(Q,J,!1);return K>0&&(Z.type!=V8.BulletList||Hb(Q,J,!1)<0)&&Q.text.charCodeAt(Q.pos+K-1)==Z.value}var qQ0={[V8.Blockquote](Z,J,Q){if(Q.next!=62)return!1;return Q.markers.push(X9(V8.QuoteMark,J.lineStart+Q.pos,J.lineStart+Q.pos+1)),Q.moveBase(Q.pos+(e4(Q.text.charCodeAt(Q.pos+1))?2:1)),Z.end=J.lineStart+Q.text.length,!0},[V8.ListItem](Z,J,Q){if(Q.indent<Q.baseIndent+Z.value&&Q.next>-1)return!1;return Q.moveBaseColumn(Q.baseIndent+Z.value),!0},[V8.OrderedList]:r70,[V8.BulletList]:r70,[V8.Document](){return!0}};function e4(Z){return Z==32||Z==9||Z==10||Z==13}function AR(Z,J=0){while(J<Z.length&&e4(Z.charCodeAt(J)))J++;return J}function n70(Z,J,Q){while(J>Q&&e4(Z.charCodeAt(J-1)))J--;return J}function WQ0(Z){if(Z.next!=96&&Z.next!=126)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==Z.next)J++;if(J<Z.pos+3)return-1;if(Z.next==96){for(let Q=J;Q<Z.text.length;Q++)if(Z.text.charCodeAt(Q)==96)return-1}return J}function GQ0(Z){return Z.next!=62?-1:Z.text.charCodeAt(Z.pos+1)==32?2:1}function Hb(Z,J,Q){if(Z.next!=42&&Z.next!=45&&Z.next!=95)return-1;let K=1;for(let U=Z.pos+1;U<Z.text.length;U++){let X=Z.text.charCodeAt(U);if(X==Z.next)K++;else if(!e4(X))return-1}if(Q&&Z.next==45&&FQ0(Z)>-1&&Z.depth==J.stack.length&&J.parser.leafBlockParsers.indexOf(DQ0.SetextHeading)>-1)return-1;return K<3?-1:1}function zQ0(Z,J){for(let Q=Z.stack.length-1;Q>=0;Q--)if(Z.stack[Q].type==J)return!0;return!1}function Fb(Z,J,Q){return(Z.next==45||Z.next==43||Z.next==42)&&(Z.pos==Z.text.length-1||e4(Z.text.charCodeAt(Z.pos+1)))&&(!Q||zQ0(J,V8.BulletList)||Z.skipSpace(Z.pos+2)<Z.text.length)?1:-1}function Mb(Z,J,Q){let{pos:K,next:U}=Z;for(;;){if(U>=48&&U<=57)K++;else break;if(K==Z.text.length)return-1;U=Z.text.charCodeAt(K)}if(K==Z.pos||K>Z.pos+9||U!=46&&U!=41||K<Z.text.length-1&&!e4(Z.text.charCodeAt(K+1))||Q&&!zQ0(J,V8.OrderedList)&&(Z.skipSpace(K+1)==Z.text.length||K>Z.pos+1||Z.next!=49))return-1;return K+1-Z.pos}function HQ0(Z){if(Z.next!=35)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==35)J++;if(J<Z.text.length&&Z.text.charCodeAt(J)!=32)return-1;let Q=J-Z.pos;return Q>6?-1:Q}function FQ0(Z){if(Z.next!=45&&Z.next!=61||Z.indent>=Z.baseIndent+4)return-1;let J=Z.pos+1;while(J<Z.text.length&&Z.text.charCodeAt(J)==Z.next)J++;let Q=J;while(J<Z.text.length&&e4(Z.text.charCodeAt(J)))J++;return J==Z.text.length?Q:-1}var Yb=/^[ \t]*$/,MQ0=/-->/,BQ0=/\?>/,qb=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,MQ0],[/^\s*<\?/,BQ0],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Yb],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Yb]];function OQ0(Z,J,Q){if(Z.next!=60)return-1;let K=Z.text.slice(Z.pos);for(let U=0,X=qb.length-(Q?1:0);U<X;U++)if(qb[U][0].test(K))return U;return-1}function a70(Z,J){let Q=Z.countIndent(J,Z.pos,Z.indent),K=Z.countIndent(Z.skipSpace(J),J,Q);return K>=Q+5?Q+1:K}function Y1(Z,J,Q){let K=Z.length-1;if(K>=0&&Z[K].to==J&&Z[K].type==V8.CodeText)Z[K].to=Q;else Z.push(X9(V8.CodeText,J,Q))}var EE={LinkReference:void 0,IndentedCode(Z,J){let Q=J.baseIndent+4;if(J.indent<Q)return!1;let K=J.findColumn(Q),U=Z.lineStart+K,X=Z.lineStart+J.text.length,Y=[],q=[];Y1(Y,U,X);while(Z.nextLine()&&J.depth>=Z.stack.length)if(J.pos==J.text.length){Y1(q,Z.lineStart-1,Z.lineStart);for(let W of J.markers)q.push(W)}else if(J.indent<Q)break;else{if(q.length){for(let G of q)if(G.type==V8.CodeText)Y1(Y,G.from,G.to);else Y.push(G);q=[]}Y1(Y,Z.lineStart-1,Z.lineStart);for(let G of J.markers)Y.push(G);X=Z.lineStart+J.text.length;let W=Z.lineStart+J.findColumn(J.baseIndent+4);if(W<X)Y1(Y,W,X)}if(q.length){if(q=q.filter((W)=>W.type!=V8.CodeText),q.length)J.markers=q.concat(J.markers)}return Z.addNode(Z.buffer.writeElements(Y,-U).finish(V8.CodeBlock,X-U),U),!0},FencedCode(Z,J){let Q=WQ0(J);if(Q<0)return!1;let K=Z.lineStart+J.pos,U=J.next,X=Q-J.pos,Y=J.skipSpace(Q),q=n70(J.text,J.text.length,Y),W=[X9(V8.CodeMark,K,K+X)];if(Y<q)W.push(X9(V8.CodeInfo,Z.lineStart+Y,Z.lineStart+q));for(let G=!0,z=!0,H=!1;Z.nextLine()&&J.depth>=Z.stack.length;G=!1){let F=J.pos;if(J.indent-J.baseIndent<4)while(F<J.text.length&&J.text.charCodeAt(F)==U)F++;if(F-J.pos>=X&&J.skipSpace(F)==J.text.length){for(let M of J.markers)W.push(M);if(z&&H)Y1(W,Z.lineStart-1,Z.lineStart);W.push(X9(V8.CodeMark,Z.lineStart+J.pos,Z.lineStart+F)),Z.nextLine();break}else{if(H=!0,!G)Y1(W,Z.lineStart-1,Z.lineStart),z=!1;for(let O of J.markers)W.push(O);let M=Z.lineStart+J.basePos,B=Z.lineStart+J.text.length;if(M<B)Y1(W,M,B),z=!1}}return Z.addNode(Z.buffer.writeElements(W,-K).finish(V8.FencedCode,Z.prevLineEnd()-K),K),!0},Blockquote(Z,J){let Q=GQ0(J);if(Q<0)return!1;return Z.startContext(V8.Blockquote,J.pos),Z.addNode(V8.QuoteMark,Z.lineStart+J.pos,Z.lineStart+J.pos+1),J.moveBase(J.pos+Q),null},HorizontalRule(Z,J){if(Hb(J,Z,!1)<0)return!1;let Q=Z.lineStart+J.pos;return Z.nextLine(),Z.addNode(V8.HorizontalRule,Q),!0},BulletList(Z,J){let Q=Fb(J,Z,!1);if(Q<0)return!1;if(Z.block.type!=V8.BulletList)Z.startContext(V8.BulletList,J.basePos,J.next);let K=a70(J,J.pos+1);return Z.startContext(V8.ListItem,J.basePos,K-J.baseIndent),Z.addNode(V8.ListMark,Z.lineStart+J.pos,Z.lineStart+J.pos+Q),J.moveBaseColumn(K),null},OrderedList(Z,J){let Q=Mb(J,Z,!1);if(Q<0)return!1;if(Z.block.type!=V8.OrderedList)Z.startContext(V8.OrderedList,J.basePos,J.text.charCodeAt(J.pos+Q-1));let K=a70(J,J.pos+Q);return Z.startContext(V8.ListItem,J.basePos,K-J.baseIndent),Z.addNode(V8.ListMark,Z.lineStart+J.pos,Z.lineStart+J.pos+Q),J.moveBaseColumn(K),null},ATXHeading(Z,J){let Q=HQ0(J);if(Q<0)return!1;let K=J.pos,U=Z.lineStart+K,X=n70(J.text,J.text.length,K),Y=X;while(Y>K&&J.text.charCodeAt(Y-1)==J.next)Y--;if(Y==X||Y==K||!e4(J.text.charCodeAt(Y-1)))Y=J.text.length;let q=Z.buffer.write(V8.HeaderMark,0,Q).writeElements(Z.parser.parseInline(J.text.slice(K+Q+1,Y),U+Q+1),-U);if(Y<J.text.length)q.write(V8.HeaderMark,Y-K,X-K);let W=q.finish(V8.ATXHeading1-1+Q,J.text.length-K);return Z.nextLine(),Z.addNode(W,U),!0},HTMLBlock(Z,J){let Q=OQ0(J,Z,!1);if(Q<0)return!1;let K=Z.lineStart+J.pos,U=qb[Q][1],X=[],Y=U!=Yb;while(!U.test(J.text)&&Z.nextLine()){if(J.depth<Z.stack.length){Y=!1;break}for(let G of J.markers)X.push(G)}if(Y)Z.nextLine();let q=U==MQ0?V8.CommentBlock:U==BQ0?V8.ProcessingInstructionBlock:V8.HTMLBlock,W=Z.prevLineEnd();return Z.addNode(Z.buffer.writeElements(X,-K).finish(q,W-K),K),!0},SetextHeading:void 0};class RQ0{constructor(Z){this.stage=0,this.elts=[],this.pos=0,this.start=Z.start,this.advance(Z.content)}nextLine(Z,J,Q){if(this.stage==-1)return!1;let K=Q.content+`
`+J.scrub(),U=this.advance(K);if(U>-1&&U<K.length)return this.complete(Z,Q,U);return!1}finish(Z,J){if((this.stage==2||this.stage==3)&&AR(J.content,this.pos)==J.content.length)return this.complete(Z,J,J.content.length);return!1}complete(Z,J,Q){return Z.addLeafElement(J,X9(V8.LinkReference,this.start,this.start+Q,this.elts)),!0}nextStage(Z){if(Z)return this.pos=Z.to-this.start,this.elts.push(Z),this.stage++,!0;if(Z===!1)this.stage=-1;return!1}advance(Z){for(;;)if(this.stage==-1)return-1;else if(this.stage==0){if(!this.nextStage(jQ0(Z,this.pos,this.start,!0)))return-1;if(Z.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(X9(V8.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(PQ0(Z,AR(Z,this.pos),this.start)))return-1}else if(this.stage==2){let J=AR(Z,this.pos),Q=0;if(J>this.pos){let K=CQ0(Z,J,this.start);if(K){let U=Ub(Z,K.to-this.start);if(U>0)this.nextStage(K),Q=U}}if(!Q)Q=Ub(Z,this.pos);return Q>0&&Q<Z.length?Q:-1}else return Ub(Z,this.pos)}}function Ub(Z,J){for(;J<Z.length;J++){let Q=Z.charCodeAt(J);if(Q==10)break;if(!e4(Q))return-1}return J}class LQ0{nextLine(Z,J,Q){let K=J.depth<Z.stack.length?-1:FQ0(J),U=J.next;if(K<0)return!1;let X=X9(V8.HeaderMark,Z.lineStart+J.pos,Z.lineStart+K);return Z.nextLine(),Z.addLeafElement(Q,X9(U==61?V8.SetextHeading1:V8.SetextHeading2,Q.start,Z.prevLineEnd(),[...Z.parser.parseInline(Q.content,Q.start),X])),!0}finish(){return!1}}var DQ0={LinkReference(Z,J){return J.content.charCodeAt(0)==91?new RQ0(J):null},SetextHeading(){return new LQ0}},Ka0=[(Z,J)=>HQ0(J)>=0,(Z,J)=>WQ0(J)>=0,(Z,J)=>GQ0(J)>=0,(Z,J)=>Fb(J,Z,!0)>=0,(Z,J)=>Mb(J,Z,!0)>=0,(Z,J)=>Hb(J,Z,!0)>=0,(Z,J)=>OQ0(J,Z,!0)>=0],Ua0={text:"",end:0};class IQ0{constructor(Z,J,Q,K){this.parser=Z,this.input=J,this.ranges=K,this.line=new YQ0,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=K[K.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=K[0].from,this.block=PE.create(V8.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=Q.length?new SQ0(Q,J):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:Z}=this;for(;;){for(let Q=0;;){let K=Z.depth<this.stack.length?this.stack[this.stack.length-1]:null;while(Q<Z.markers.length&&(!K||Z.markers[Q].from<K.end)){let U=Z.markers[Q++];this.addNode(U.type,U.from,U.to)}if(!K)break;this.finishContext()}if(Z.pos<Z.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(Z.basePos))return null;Z:for(;;){for(let Q of this.parser.blockParsers)if(Q){let K=Q(this,Z);if(K!=!1){if(K==!0)return null;Z.forward();continue Z}}break}let J=new XQ0(this.lineStart+Z.pos,Z.text.slice(Z.pos));for(let Q of this.parser.leafBlockParsers)if(Q){let K=Q(this,J);if(K)J.parsers.push(K)}Z:while(this.nextLine()){if(Z.pos==Z.text.length)break;if(Z.indent<Z.baseIndent+4){for(let Q of this.parser.endLeafBlock)if(Q(this,Z,J))break Z}for(let Q of J.parsers)if(Q.nextLine(this,Z,J))return null;J.content+=`
`+Z.scrub();for(let Q of Z.markers)J.marks.push(Q)}return this.finishLeaf(J),null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}reuseFragment(Z){if(!this.fragments.moveTo(this.absoluteLineStart+Z,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let J=this.fragments.takeNodes(this);if(!J)return!1;if(this.absoluteLineStart+=J,this.lineStart=TQ0(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to)this.lineStart++,this.absoluteLineStart++,this.readLine();else this.atEnd=!0,this.readLine();return!0}get depth(){return this.stack.length}parentType(Z=this.depth-1){return this.parser.nodeSet.types[this.stack[Z].type]}nextLine(){if(this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to)return this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1;else return this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){while(this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(Z){let J=Ua0;if(J.end=Z,Z>=this.to)J.text="";else if(J.text=this.lineChunkAt(Z),J.end+=J.text.length,this.ranges.length>1){let Q=this.absoluteLineStart,K=this.rangeI;while(this.ranges[K].to<J.end){K++;let U=this.ranges[K].from,X=this.lineChunkAt(U);J.end=U+X.length,J.text=J.text.slice(0,this.ranges[K-1].to-Q)+X,Q=J.end-J.text.length}}return J}readLine(){let{line:Z}=this,{text:J,end:Q}=this.scanLine(this.absoluteLineStart);this.absoluteLineEnd=Q,Z.reset(J);for(;Z.depth<this.stack.length;Z.depth++){let K=this.stack[Z.depth],U=this.parser.skipContextMarkup[K.type];if(!U)throw Error("Unhandled block context "+V8[K.type]);let X=this.line.markers.length;if(!U(K,this,Z)){if(this.line.markers.length>X)K.end=this.line.markers[this.line.markers.length-1].to;Z.forward();break}Z.forward()}}lineChunkAt(Z){let J=this.input.chunk(Z),Q;if(!this.input.lineChunks){let K=J.indexOf(`
`);Q=K<0?J:J.slice(0,K)}else Q=J==`
`?"":J;return Z+Q.length>this.to?Q.slice(0,this.to-Z):Q}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(Z,J,Q=0){this.block=PE.create(Z,Q,this.lineStart+J,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(Z,J,Q=0){this.startContext(this.parser.getNodeType(Z),J,Q)}addNode(Z,J,Q){if(typeof Z=="number")Z=new U9(this.parser.nodeSet.types[Z],wH,wH,(Q!==null&&Q!==void 0?Q:this.prevLineEnd())-J);this.block.addChild(Z,J-this.block.from)}addElement(Z){this.block.addChild(Z.toTree(this.parser.nodeSet),Z.from-this.block.from)}addLeafElement(Z,J){this.addNode(this.buffer.writeElements(Gb(J.children,Z.marks),-J.from).finish(J.type,J.to-J.from),J.from)}finishContext(){let Z=this.stack.pop(),J=this.stack[this.stack.length-1];J.addChild(Z.toTree(this.parser.nodeSet),Z.from-J.from),this.block=J}finish(){while(this.stack.length>1)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(Z){return this.ranges.length>1?AQ0(this.ranges,0,Z.topNode,this.ranges[0].from,this.reusePlaceholders):Z}finishLeaf(Z){for(let Q of Z.parsers)if(Q.finish(this,Z))return;let J=Gb(this.parser.parseInline(Z.content,Z.start),Z.marks);this.addNode(this.buffer.writeElements(J,-Z.start).finish(V8.Paragraph,Z.content.length),Z.start)}elt(Z,J,Q,K){if(typeof Z=="string")return X9(this.parser.getNodeType(Z),J,Q,K);return new Ob(Z,J)}get buffer(){return new Bb(this.parser.nodeSet)}}function AQ0(Z,J,Q,K,U){let X=Z[J].to,Y=[],q=[],W=Q.from+K;function G(z,H){while(H?z>=X:z>X){let F=Z[J+1].from-X;K+=F,z+=F,J++,X=Z[J].to}}for(let z=Q.firstChild;z;z=z.nextSibling){G(z.from+K,!0);let H=z.from+K,F,M=U.get(z.tree);if(M)F=M;else if(z.to+K>X)F=AQ0(Z,J,z,K,U),G(z.to+K,!1);else F=z.toTree();Y.push(F),q.push(H-W)}return G(Q.to+K,!1),new U9(Q.type,Y,q,Q.to+K-W,Q.tree?Q.tree.propValues:void 0)}class VR extends oW{constructor(Z,J,Q,K,U,X,Y,q,W){super();this.nodeSet=Z,this.blockParsers=J,this.leafBlockParsers=Q,this.blockNames=K,this.endLeafBlock=U,this.skipContextMarkup=X,this.inlineParsers=Y,this.inlineNames=q,this.wrappers=W,this.nodeTypes=Object.create(null);for(let G of Z.types)this.nodeTypes[G.name]=G.id}createParse(Z,J,Q){let K=new IQ0(this,Z,J,Q);for(let U of this.wrappers)K=U(K,Z,J,Q);return K}configure(Z){let J=Wb(Z);if(!J)return this;let{nodeSet:Q,skipContextMarkup:K}=this,U=this.blockParsers.slice(),X=this.leafBlockParsers.slice(),Y=this.blockNames.slice(),q=this.inlineParsers.slice(),W=this.inlineNames.slice(),G=this.endLeafBlock.slice(),z=this.wrappers;if(IR(J.defineNodes)){K=Object.assign({},K);let H=Q.types.slice(),F;for(let M of J.defineNodes){let{name:B,block:O,composite:R,style:L}=typeof M=="string"?{name:M}:M;if(H.some((V)=>V.name==B))continue;if(R)K[H.length]=(V,N,E)=>R(N,E,V.value);let D=H.length,A=R?["Block","BlockContext"]:!O?void 0:D>=V8.ATXHeading1&&D<=V8.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"];if(H.push(bJ.define({id:D,name:B,props:A&&[[WZ.group,A]]})),L){if(!F)F={};if(Array.isArray(L)||L instanceof S6)F[B]=L;else Object.assign(F,L)}}if(Q=new tY(H),F)Q=Q.extend(rK(F))}if(IR(J.props))Q=Q.extend(...J.props);if(IR(J.remove))for(let H of J.remove){let F=this.blockNames.indexOf(H),M=this.inlineNames.indexOf(H);if(F>-1)U[F]=X[F]=void 0;if(M>-1)q[M]=void 0}if(IR(J.parseBlock))for(let H of J.parseBlock){let F=Y.indexOf(H.name);if(F>-1)U[F]=H.parse,X[F]=H.leaf;else{let M=H.before?VE(Y,H.before):H.after?VE(Y,H.after)+1:Y.length-1;U.splice(M,0,H.parse),X.splice(M,0,H.leaf),Y.splice(M,0,H.name)}if(H.endLeaf)G.push(H.endLeaf)}if(IR(J.parseInline))for(let H of J.parseInline){let F=W.indexOf(H.name);if(F>-1)q[F]=H.parse;else{let M=H.before?VE(W,H.before):H.after?VE(W,H.after)+1:W.length-1;q.splice(M,0,H.parse),W.splice(M,0,H.name)}}if(J.wrap)z=z.concat(J.wrap);return new VR(Q,U,X,Y,G,K,q,W,z)}getNodeType(Z){let J=this.nodeTypes[Z];if(J==null)throw RangeError(`Unknown node type '${Z}'`);return J}parseInline(Z,J){let Q=new jE(this,Z,J);Z:for(let K=J;K<Q.end;){let U=Q.char(K);for(let X of this.inlineParsers)if(X){let Y=X(Q,U,K);if(Y>=0){K=Y;continue Z}}K++}return Q.resolveMarkers(0)}}function IR(Z){return Z!=null&&Z.length>0}function Wb(Z){if(!Array.isArray(Z))return Z;if(Z.length==0)return null;let J=Wb(Z[0]);if(Z.length==1)return J;let Q=Wb(Z.slice(1));if(!Q||!J)return J||Q;let K=(Y,q)=>(Y||wH).concat(q||wH),U=J.wrap,X=Q.wrap;return{props:K(J.props,Q.props),defineNodes:K(J.defineNodes,Q.defineNodes),parseBlock:K(J.parseBlock,Q.parseBlock),parseInline:K(J.parseInline,Q.parseInline),remove:K(J.remove,Q.remove),wrap:!U?X:!X?U:(Y,q,W,G)=>U(X(Y,q,W,G),q,W,G)}}function VE(Z,J){let Q=Z.indexOf(J);if(Q<0)throw RangeError(`Position specified relative to unknown parser ${J}`);return Q}var NQ0=[bJ.none];for(let Z=1,J;J=V8[Z];Z++)NQ0[Z]=bJ.define({id:Z,name:J,props:Z>=V8.Escape?[]:[[WZ.group,Z in qQ0?["Block","BlockContext"]:["Block","LeafBlock"]]],top:J=="Document"});var wH=[];class Bb{constructor(Z){this.nodeSet=Z,this.content=[],this.nodes=[]}write(Z,J,Q,K=0){return this.content.push(Z,J,Q,4+K*4),this}writeElements(Z,J=0){for(let Q of Z)Q.writeTo(this,J);return this}finish(Z,J){return U9.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:Z,length:J})}}class $H{constructor(Z,J,Q,K=wH){this.type=Z,this.from=J,this.to=Q,this.children=K}writeTo(Z,J){let Q=Z.content.length;Z.writeElements(this.children,J),Z.content.push(this.type,this.from+J,this.to+J,Z.content.length+4-Q)}toTree(Z){return new Bb(Z).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class Ob{constructor(Z,J){this.tree=Z,this.from=J}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return wH}writeTo(Z,J){Z.nodes.push(this.tree),Z.content.push(Z.nodes.length-1,this.from+J,this.to+J,-1)}toTree(){return this.tree}}function X9(Z,J,Q,K){return new $H(Z,J,Q,K)}var EQ0={resolve:"Emphasis",mark:"EmphasisMark"},VQ0={resolve:"Emphasis",mark:"EmphasisMark"},UG={},CE={};class k6{constructor(Z,J,Q,K){this.type=Z,this.from=J,this.to=Q,this.side=K}}var o70="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",ER=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{ER=new RegExp("[\\p{S}|\\p{P}]","u")}catch(Z){}var Xb={Escape(Z,J,Q){if(J!=92||Q==Z.end-1)return-1;let K=Z.char(Q+1);for(let U=0;U<o70.length;U++)if(o70.charCodeAt(U)==K)return Z.append(X9(V8.Escape,Q,Q+2));return-1},Entity(Z,J,Q){if(J!=38)return-1;let K=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(Z.slice(Q+1,Q+31));return K?Z.append(X9(V8.Entity,Q,Q+1+K[0].length)):-1},InlineCode(Z,J,Q){if(J!=96||Q&&Z.char(Q-1)==96)return-1;let K=Q+1;while(K<Z.end&&Z.char(K)==96)K++;let U=K-Q,X=0;for(;K<Z.end;K++)if(Z.char(K)==96){if(X++,X==U&&Z.char(K+1)!=96)return Z.append(X9(V8.InlineCode,Q,K+1,[X9(V8.CodeMark,Q,Q+U),X9(V8.CodeMark,K+1-U,K+1)]))}else X=0;return-1},HTMLTag(Z,J,Q){if(J!=60||Q==Z.end-1)return-1;let K=Z.slice(Q+1,Z.end),U=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(K);if(U)return Z.append(X9(V8.Autolink,Q,Q+1+U[0].length,[X9(V8.LinkMark,Q,Q+1),X9(V8.URL,Q+1,Q+U[0].length),X9(V8.LinkMark,Q+U[0].length,Q+1+U[0].length)]));let X=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(K);if(X)return Z.append(X9(V8.Comment,Q,Q+1+X[0].length));let Y=/^\?[^]*?\?>/.exec(K);if(Y)return Z.append(X9(V8.ProcessingInstruction,Q,Q+1+Y[0].length));let q=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(K);if(!q)return-1;return Z.append(X9(V8.HTMLTag,Q,Q+1+q[0].length))},Emphasis(Z,J,Q){if(J!=95&&J!=42)return-1;let K=Q+1;while(Z.char(K)==J)K++;let U=Z.slice(Q-1,Q),X=Z.slice(K,K+1),Y=ER.test(U),q=ER.test(X),W=/\s|^$/.test(U),G=/\s|^$/.test(X),z=!G&&(!q||W||Y),H=!W&&(!Y||G||q),F=z&&(J==42||!H||Y),M=H&&(J==42||!z||q);return Z.append(new k6(J==95?EQ0:VQ0,Q,K,(F?1:0)|(M?2:0)))},HardBreak(Z,J,Q){if(J==92&&Z.char(Q+1)==10)return Z.append(X9(V8.HardBreak,Q,Q+2));if(J==32){let K=Q+1;while(Z.char(K)==32)K++;if(Z.char(K)==10&&K>=Q+2)return Z.append(X9(V8.HardBreak,Q,K+1))}return-1},Link(Z,J,Q){return J==91?Z.append(new k6(UG,Q,Q+1,1)):-1},Image(Z,J,Q){return J==33&&Z.char(Q+1)==91?Z.append(new k6(CE,Q,Q+2,1)):-1},LinkEnd(Z,J,Q){if(J!=93)return-1;for(let K=Z.parts.length-1;K>=0;K--){let U=Z.parts[K];if(U instanceof k6&&(U.type==UG||U.type==CE)){if(!U.side||Z.skipSpace(U.to)==Q&&!/[(\[]/.test(Z.slice(Q+1,Q+2)))return Z.parts[K]=null,-1;let X=Z.takeContent(K),Y=Z.parts[K]=Xa0(Z,X,U.type==UG?V8.Link:V8.Image,U.from,Q+1);if(U.type==UG)for(let q=0;q<K;q++){let W=Z.parts[q];if(W instanceof k6&&W.type==UG)W.side=0}return Y.to}}return-1}};function Xa0(Z,J,Q,K,U){let{text:X}=Z,Y=Z.char(U),q=U;if(J.unshift(X9(V8.LinkMark,K,K+(Q==V8.Image?2:1))),J.push(X9(V8.LinkMark,U-1,U)),Y==40){let W=Z.skipSpace(U+1),G=PQ0(X,W-Z.offset,Z.offset),z;if(G){if(W=Z.skipSpace(G.to),W!=G.to){if(z=CQ0(X,W-Z.offset,Z.offset),z)W=Z.skipSpace(z.to)}}if(Z.char(W)==41){if(J.push(X9(V8.LinkMark,U,U+1)),q=W+1,G)J.push(G);if(z)J.push(z);J.push(X9(V8.LinkMark,W,q))}}else if(Y==91){let W=jQ0(X,U-Z.offset,Z.offset,!1);if(W)J.push(W),q=W.to}return X9(Q,K,q,J)}function PQ0(Z,J,Q){if(Z.charCodeAt(J)==60){for(let U=J+1;U<Z.length;U++){let X=Z.charCodeAt(U);if(X==62)return X9(V8.URL,J+Q,U+1+Q);if(X==60||X==10)return!1}return null}else{let U=0,X=J;for(let Y=!1;X<Z.length;X++){let q=Z.charCodeAt(X);if(e4(q))break;else if(Y)Y=!1;else if(q==40)U++;else if(q==41){if(!U)break;U--}else if(q==92)Y=!0}return X>J?X9(V8.URL,J+Q,X+Q):X==Z.length?null:!1}}function CQ0(Z,J,Q){let K=Z.charCodeAt(J);if(K!=39&&K!=34&&K!=40)return!1;let U=K==40?41:K;for(let X=J+1,Y=!1;X<Z.length;X++){let q=Z.charCodeAt(X);if(Y)Y=!1;else if(q==U)return X9(V8.LinkTitle,J+Q,X+1+Q);else if(q==92)Y=!0}return null}function jQ0(Z,J,Q,K){for(let U=!1,X=J+1,Y=Math.min(Z.length,X+999);X<Y;X++){let q=Z.charCodeAt(X);if(U)U=!1;else if(q==93)return K?!1:X9(V8.LinkLabel,J+Q,X+1+Q);else{if(K&&!e4(q))K=!1;if(q==91)return!1;else if(q==92)U=!0}}return null}class jE{constructor(Z,J,Q){this.parser=Z,this.text=J,this.offset=Q,this.parts=[]}char(Z){return Z>=this.end?-1:this.text.charCodeAt(Z-this.offset)}get end(){return this.offset+this.text.length}slice(Z,J){return this.text.slice(Z-this.offset,J-this.offset)}append(Z){return this.parts.push(Z),Z.to}addDelimiter(Z,J,Q,K,U){return this.append(new k6(Z,J,Q,(K?1:0)|(U?2:0)))}get hasOpenLink(){for(let Z=this.parts.length-1;Z>=0;Z--){let J=this.parts[Z];if(J instanceof k6&&(J.type==UG||J.type==CE))return!0}return!1}addElement(Z){return this.append(Z)}resolveMarkers(Z){for(let Q=Z;Q<this.parts.length;Q++){let K=this.parts[Q];if(!(K instanceof k6&&K.type.resolve&&K.side&2))continue;let U=K.type==EQ0||K.type==VQ0,X=K.to-K.from,Y,q=Q-1;for(;q>=Z;q--){let B=this.parts[q];if(B instanceof k6&&B.side&1&&B.type==K.type&&!(U&&(K.side&1||B.side&2)&&(B.to-B.from+X)%3==0&&((B.to-B.from)%3||X%3))){Y=B;break}}if(!Y)continue;let W=K.type.resolve,G=[],z=Y.from,H=K.to;if(U){let B=Math.min(2,Y.to-Y.from,X);z=Y.to-B,H=K.from+B,W=B==1?"Emphasis":"StrongEmphasis"}if(Y.type.mark)G.push(this.elt(Y.type.mark,z,Y.to));for(let B=q+1;B<Q;B++){if(this.parts[B]instanceof $H)G.push(this.parts[B]);this.parts[B]=null}if(K.type.mark)G.push(this.elt(K.type.mark,K.from,H));let F=this.elt(W,z,H,G);if(this.parts[q]=U&&Y.from!=z?new k6(Y.type,Y.from,z,Y.side):null,this.parts[Q]=U&&K.to!=H?new k6(K.type,H,K.to,K.side):null)this.parts.splice(Q,0,F);else this.parts[Q]=F}let J=[];for(let Q=Z;Q<this.parts.length;Q++){let K=this.parts[Q];if(K instanceof $H)J.push(K)}return J}findOpeningDelimiter(Z){for(let J=this.parts.length-1;J>=0;J--){let Q=this.parts[J];if(Q instanceof k6&&Q.type==Z&&Q.side&1)return J}return null}takeContent(Z){let J=this.resolveMarkers(Z);return this.parts.length=Z,J}getDelimiterAt(Z){let J=this.parts[Z];return J instanceof k6?J:null}skipSpace(Z){return AR(this.text,Z-this.offset)+this.offset}elt(Z,J,Q,K){if(typeof Z=="string")return X9(this.parser.getNodeType(Z),J,Q,K);return new Ob(Z,J)}}jE.linkStart=UG;jE.imageStart=CE;function Gb(Z,J){if(!J.length)return Z;if(!Z.length)return J;let Q=Z.slice(),K=0;for(let U of J){while(K<Q.length&&Q[K].to<U.to)K++;if(K<Q.length&&Q[K].from<U.from){let X=Q[K];if(X instanceof $H)Q[K]=new $H(X.type,X.from,X.to,Gb(X.children,[U]))}else Q.splice(K++,0,U)}return Q}var Ya0=[V8.CodeBlock,V8.ListItem,V8.OrderedList,V8.BulletList];class SQ0{constructor(Z,J){if(this.fragments=Z,this.input=J,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,Z.length)this.fragment=Z[this.i++]}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(Z,J){while(this.fragment&&this.fragment.to<=Z)this.nextFragment();if(!this.fragment||this.fragment.from>(Z?Z-1:0))return!1;if(this.fragmentEnd<0){let U=this.fragment.to;while(U>0&&this.input.read(U-1,U)!=`
`)U--;this.fragmentEnd=U?U-1:0}let Q=this.cursor;if(!Q)Q=this.cursor=this.fragment.tree.cursor(),Q.firstChild();let K=Z+this.fragment.offset;while(Q.to<=K)if(!Q.parent())return!1;for(;;){if(Q.from>=K)return this.fragment.from<=J;if(!Q.childAfter(K))return!1}}matches(Z){let J=this.cursor.tree;return J&&J.prop(WZ.contextHash)==Z}takeNodes(Z){let J=this.cursor,Q=this.fragment.offset,K=this.fragmentEnd-(this.fragment.openEnd?1:0),U=Z.absoluteLineStart,X=U,Y=Z.block.children.length,q=X,W=Y;for(;;){if(J.to-Q>K){if(J.type.isAnonymous&&J.firstChild())continue;break}let G=TQ0(J.from-Q,Z.ranges);if(J.to-Q<=Z.ranges[Z.rangeI].to)Z.addNode(J.tree,G);else{let z=new U9(Z.parser.nodeSet.types[V8.Paragraph],[],[],0,Z.block.hashProp);Z.reusePlaceholders.set(z,J.tree),Z.addNode(z,G)}if(J.type.is("Block")){if(Ya0.indexOf(J.type.id)<0)X=J.to-Q,Y=Z.block.children.length;else X=q,Y=W;q=J.to-Q,W=Z.block.children.length}if(!J.nextSibling())break}while(Z.block.children.length>Y)Z.block.children.pop(),Z.block.positions.pop();return X-U}}function TQ0(Z,J){let Q=Z;for(let K=1;K<J.length;K++){let U=J[K-1].to,X=J[K].from;if(U<Z)Q-=X-U}return Q}var qa0=rK({"Blockquote/...":R0.quote,HorizontalRule:R0.contentSeparator,"ATXHeading1/... SetextHeading1/...":R0.heading1,"ATXHeading2/... SetextHeading2/...":R0.heading2,"ATXHeading3/...":R0.heading3,"ATXHeading4/...":R0.heading4,"ATXHeading5/...":R0.heading5,"ATXHeading6/...":R0.heading6,"Comment CommentBlock":R0.comment,Escape:R0.escape,Entity:R0.character,"Emphasis/...":R0.emphasis,"StrongEmphasis/...":R0.strong,"Link/... Image/...":R0.link,"OrderedList/... BulletList/...":R0.list,"BlockQuote/...":R0.quote,"InlineCode CodeText":R0.monospace,"URL Autolink":R0.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":R0.processingInstruction,"CodeInfo LinkLabel":R0.labelName,LinkTitle:R0.string,Paragraph:R0.content}),wQ0=new VR(new tY(NQ0).extend(qa0),Object.keys(EE).map((Z)=>EE[Z]),Object.keys(EE).map((Z)=>DQ0[Z]),Object.keys(EE),Ka0,qQ0,Object.keys(Xb).map((Z)=>Xb[Z]),Object.keys(Xb),[]);function Wa0(Z,J,Q){let K=[];for(let U=Z.firstChild,X=J;;U=U.nextSibling){let Y=U?U.from:Q;if(Y>X)K.push({from:X,to:Y});if(!U)break;X=U.to}return K}function $Q0(Z){let{codeParser:J,htmlParser:Q}=Z;return{wrap:lN((U,X)=>{let Y=U.type.id;if(J&&(Y==V8.CodeBlock||Y==V8.FencedCode)){let q="";if(Y==V8.FencedCode){let G=U.node.getChild(V8.CodeInfo);if(G)q=X.read(G.from,G.to)}let W=J(q);if(W)return{parser:W,overlay:(G)=>G.type.id==V8.CodeText,bracketed:Y==V8.FencedCode}}else if(Q&&(Y==V8.HTMLBlock||Y==V8.HTMLTag||Y==V8.CommentBlock))return{parser:Q,overlay:Wa0(U.node,U.from,U.to)};return null})}}var Ga0={resolve:"Strikethrough",mark:"StrikethroughMark"},za0={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":R0.strikethrough}},{name:"StrikethroughMark",style:R0.processingInstruction}],parseInline:[{name:"Strikethrough",parse(Z,J,Q){if(J!=126||Z.char(Q+1)!=126||Z.char(Q+2)==126)return-1;let K=Z.slice(Q-1,Q),U=Z.slice(Q+2,Q+3),X=/\s|^$/.test(K),Y=/\s|^$/.test(U),q=ER.test(K),W=ER.test(U);return Z.addDelimiter(Ga0,Q,Q+2,!Y&&(!W||X||q),!X&&(!q||Y||W))},after:"Emphasis"}]};function NR(Z,J,Q=0,K,U=0){let X=0,Y=!0,q=-1,W=-1,G=!1,z=()=>{K.push(Z.elt("TableCell",U+q,U+W,Z.parser.parseInline(J.slice(q,W),U+q)))};for(let H=Q;H<J.length;H++){let F=J.charCodeAt(H);if(F==124&&!G){if(!Y||q>-1)X++;if(Y=!1,K){if(q>-1)z();K.push(Z.elt("TableDelimiter",H+U,H+U+1))}q=W=-1}else if(G||F!=32&&F!=9){if(q<0)q=H;W=H+1}G=!G&&F==92}if(q>-1){if(X++,K)z()}return X}function t70(Z,J){for(let Q=J;Q<Z.length;Q++){let K=Z.charCodeAt(Q);if(K==124)return!0;if(K==92)Q++}return!1}var kQ0=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class zb{constructor(){this.rows=null}nextLine(Z,J,Q){if(this.rows==null){this.rows=!1;let K;if((J.next==45||J.next==58||J.next==124)&&kQ0.test(K=J.text.slice(J.pos))){let U=[];if(NR(Z,Q.content,0,U,Q.start)==NR(Z,K,J.pos))this.rows=[Z.elt("TableHeader",Q.start,Q.start+Q.content.length,U),Z.elt("TableDelimiter",Z.lineStart+J.pos,Z.lineStart+J.text.length)]}}else if(this.rows){let K=[];NR(Z,J.text,J.pos,K,Z.lineStart),this.rows.push(Z.elt("TableRow",Z.lineStart+J.pos,Z.lineStart+J.text.length,K))}return!1}finish(Z,J){if(!this.rows)return!1;return Z.addLeafElement(J,Z.elt("Table",J.start,J.start+J.content.length,this.rows)),!0}}var Ha0={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":R0.heading}},"TableRow",{name:"TableCell",style:R0.content},{name:"TableDelimiter",style:R0.processingInstruction}],parseBlock:[{name:"Table",leaf(Z,J){return t70(J.content,0)?new zb:null},endLeaf(Z,J,Q){if(Q.parsers.some((U)=>U instanceof zb)||!t70(J.text,J.basePos))return!1;let K=Z.peekLine();return kQ0.test(K)&&NR(Z,J.text,J.basePos)==NR(Z,K,J.basePos)},before:"SetextHeading"}]};class _Q0{nextLine(){return!1}finish(Z,J){return Z.addLeafElement(J,Z.elt("Task",J.start,J.start+J.content.length,[Z.elt("TaskMarker",J.start,J.start+3),...Z.parser.parseInline(J.content.slice(3),J.start+3)])),!0}}var Fa0={defineNodes:[{name:"Task",block:!0,style:R0.list},{name:"TaskMarker",style:R0.atom}],parseBlock:[{name:"TaskList",leaf(Z,J){return/^\[[ xX]\][ \t]/.test(J.content)&&Z.parentType().name=="ListItem"?new _Q0:null},after:"SetextHeading"}]},e70=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,ZQ0=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Ma0=/[\w-]+\.[\w-]+($|\/)/,JQ0=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,QQ0=/\/[a-zA-Z\d@.]+/gy;function KQ0(Z,J,Q,K){let U=0;for(let X=J;X<Q;X++)if(Z[X]==K)U++;return U}function Ba0(Z,J){ZQ0.lastIndex=J;let Q=ZQ0.exec(Z);if(!Q||Ma0.exec(Q[0])[0].indexOf("_")>-1)return-1;let K=J+Q[0].length;for(;;){let U=Z[K-1],X;if(/[?!.,:*_~]/.test(U)||U==")"&&KQ0(Z,J,K,")")>KQ0(Z,J,K,"("))K--;else if(U==";"&&(X=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(Z.slice(J,K))))K=J+X.index;else break}return K}function UQ0(Z,J){JQ0.lastIndex=J;let Q=JQ0.exec(Z);if(!Q)return-1;let K=Q[0][Q[0].length-1];return K=="_"||K=="-"?-1:J+Q[0].length-(K=="."?1:0)}var Oa0={parseInline:[{name:"Autolink",parse(Z,J,Q){let K=Q-Z.offset;if(K&&/\w/.test(Z.text[K-1]))return-1;e70.lastIndex=K;let U=e70.exec(Z.text),X=-1;if(!U)return-1;if(U[1]||U[2]){if(X=Ba0(Z.text,K+U[0].length),X>-1&&Z.hasOpenLink){let Y=/([^\[\]]|\[[^\]]*\])*/.exec(Z.text.slice(K,X));X=K+Y[0].length}}else if(U[3])X=UQ0(Z.text,K);else if(X=UQ0(Z.text,K+U[0].length),X>-1&&U[0]=="xmpp:"){if(QQ0.lastIndex=X,U=QQ0.exec(Z.text),U)X=U.index+U[0].length}if(X<0)return-1;return Z.addElement(Z.elt("URL",Q,X+Z.offset)),X+Z.offset}}]},fQ0=[Ha0,Fa0,za0,Oa0];function vQ0(Z,J,Q){return(K,U,X)=>{if(U!=Z||K.char(X+1)==Z)return-1;let Y=[K.elt(Q,X,X+1)];for(let q=X+1;q<K.end;q++){let W=K.char(q);if(W==Z)return K.addElement(K.elt(J,X,q+1,Y.concat(K.elt(Q,q,q+1))));if(W==92)Y.push(K.elt("Escape",q,q+++2));if(e4(W))break}return-1}}var xQ0={defineNodes:[{name:"Superscript",style:R0.special(R0.content)},{name:"SuperscriptMark",style:R0.processingInstruction}],parseInline:[{name:"Superscript",parse:vQ0(94,"Superscript","SuperscriptMark")}]},bQ0={defineNodes:[{name:"Subscript",style:R0.special(R0.content)},{name:"SubscriptMark",style:R0.processingInstruction}],parseInline:[{name:"Subscript",parse:vQ0(126,"Subscript","SubscriptMark")}]},yQ0={defineNodes:[{name:"Emoji",style:R0.character}],parseInline:[{name:"Emoji",parse(Z,J,Q){let K;if(J!=58||!(K=/^[a-zA-Z_0-9]+:/.exec(Z.slice(Q+1,Z.end))))return-1;return Z.addElement(Z.elt("Emoji",Q,Q+1+K[0].length))}}]};class SE{constructor(Z,J,Q,K,U,X,Y,q,W,G=0,z){this.p=Z,this.stack=J,this.state=Q,this.reducePos=K,this.pos=U,this.score=X,this.buffer=Y,this.bufferBase=q,this.curContext=W,this.lookAhead=G,this.parent=z}toString(){return`[${this.stack.filter((Z,J)=>J%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Z,J,Q=0){let K=Z.parser.context;return new SE(Z,[],J,Q,Q,0,[],0,K?new Db(K,K.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Z,J){this.stack.push(this.state,J,this.bufferBase+this.buffer.length),this.state=Z}reduce(Z){var J;let Q=Z>>19,K=Z&65535,{parser:U}=this.p,X=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),Y=U.dynamicPrecedence(K);if(Y)this.score+=Y;if(Q==0){if(this.pushState(U.getGoto(this.state,K,!0),this.reducePos),K<U.minRepeatTerm)this.storeNode(K,this.reducePos,this.reducePos,X?8:4,!0);this.reduceContext(K,this.reducePos);return}let q=this.stack.length-(Q-1)*3-(Z&262144?6:0),W=q?this.stack[q-2]:this.p.ranges[0].from,G=this.reducePos-W;if(G>=2000&&!((J=this.p.parser.nodeSet.types[K])===null||J===void 0?void 0:J.isAnonymous)){if(W==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=G;else if(this.p.lastBigReductionSize<G)this.p.bigReductionCount=1,this.p.lastBigReductionStart=W,this.p.lastBigReductionSize=G}let z=q?this.stack[q-1]:0,H=this.bufferBase+this.buffer.length-z;if(K<U.minRepeatTerm||Z&131072){let F=U.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(K,W,F,H+4,!0)}if(Z&262144)this.state=this.stack[q];else{let F=this.stack[q-3];this.state=U.getGoto(F,K,!0)}while(this.stack.length>q)this.stack.pop();this.reduceContext(K,W)}storeNode(Z,J,Q,K=4,U=!1){if(Z==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let X=this,Y=this.buffer.length;if(Y==0&&X.parent)Y=X.bufferBase-X.parent.bufferBase,X=X.parent;if(Y>0&&X.buffer[Y-4]==0&&X.buffer[Y-1]>-1){if(J==Q)return;if(X.buffer[Y-2]>=J){X.buffer[Y-2]=Q;return}}}if(!U||this.pos==Q)this.buffer.push(Z,J,Q,K);else{let X=this.buffer.length;if(X>0&&(this.buffer[X-4]!=0||this.buffer[X-1]<0)){let Y=!1;for(let q=X;q>0&&this.buffer[q-2]>Q;q-=4)if(this.buffer[q-1]>=0){Y=!0;break}if(Y){while(X>0&&this.buffer[X-2]>Q)if(this.buffer[X]=this.buffer[X-4],this.buffer[X+1]=this.buffer[X-3],this.buffer[X+2]=this.buffer[X-2],this.buffer[X+3]=this.buffer[X-1],X-=4,K>4)K-=4}}this.buffer[X]=Z,this.buffer[X+1]=J,this.buffer[X+2]=Q,this.buffer[X+3]=K}}shift(Z,J,Q,K){if(Z&131072)this.pushState(Z&65535,this.pos);else if((Z&262144)==0){let U=Z,{parser:X}=this.p;this.pos=K;let Y=X.stateFlag(U,1);if(!Y&&(K>Q||J<=X.maxNode))this.reducePos=K;if(this.pushState(U,Y?Q:Math.min(Q,this.reducePos)),this.shiftContext(J,Q),J<=X.maxNode)this.buffer.push(J,Q,K,4)}else if(this.pos=K,this.shiftContext(J,Q),J<=this.p.parser.maxNode)this.buffer.push(J,Q,K,4)}apply(Z,J,Q,K){if(Z&65536)this.reduce(Z);else this.shift(Z,J,Q,K)}useNode(Z,J){let Q=this.p.reused.length-1;if(Q<0||this.p.reused[Q]!=Z)this.p.reused.push(Z),Q++;let K=this.pos;if(this.reducePos=this.pos=K+Z.length,this.pushState(J,K),this.buffer.push(Q,K,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Z,this,this.p.stream.reset(this.pos-Z.length)))}split(){let Z=this,J=Z.buffer.length;while(J>0&&Z.buffer[J-2]>Z.reducePos)J-=4;let Q=Z.buffer.slice(J),K=Z.bufferBase+J;while(Z&&K==Z.bufferBase)Z=Z.parent;return new SE(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,Q,K,this.curContext,this.lookAhead,Z)}recoverByDelete(Z,J){let Q=Z<=this.p.parser.maxNode;if(Q)this.storeNode(Z,this.pos,J,4);this.storeNode(0,this.pos,J,Q?8:4),this.pos=this.reducePos=J,this.score-=190}canShift(Z){for(let J=new cQ0(this);;){let Q=this.p.parser.stateSlot(J.state,4)||this.p.parser.hasAction(J.state,Z);if(Q==0)return!1;if((Q&65536)==0)return!0;J.reduce(Q)}}recoverByInsert(Z){if(this.stack.length>=300)return[];let J=this.p.parser.nextStates(this.state);if(J.length>8||this.stack.length>=120){let K=[];for(let U=0,X;U<J.length;U+=2)if((X=J[U+1])!=this.state&&this.p.parser.hasAction(X,Z))K.push(J[U],X);if(this.stack.length<120)for(let U=0;K.length<8&&U<J.length;U+=2){let X=J[U+1];if(!K.some((Y,q)=>q&1&&Y==X))K.push(J[U],X)}J=K}let Q=[];for(let K=0;K<J.length&&Q.length<4;K+=2){let U=J[K+1];if(U==this.state)continue;let X=this.split();X.pushState(U,this.pos),X.storeNode(0,X.pos,X.pos,4,!0),X.shiftContext(J[K],this.pos),X.reducePos=this.pos,X.score-=200,Q.push(X)}return Q}forceReduce(){let{parser:Z}=this.p,J=Z.stateSlot(this.state,5);if((J&65536)==0)return!1;if(!Z.validAction(this.state,J)){let Q=J>>19,K=J&65535,U=this.stack.length-Q*3;if(U<0||Z.getGoto(this.stack[U],K,!1)<0){let X=this.findForcedReduction();if(X==null)return!1;J=X}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(J),!0}findForcedReduction(){let{parser:Z}=this.p,J=[],Q=(K,U)=>{if(J.includes(K))return;return J.push(K),Z.allActions(K,(X)=>{if(X&393216);else if(X&65536){let Y=(X>>19)-U;if(Y>1){let q=X&65535,W=this.stack.length-Y*3;if(W>=0&&Z.getGoto(this.stack[W],q,!1)>=0)return Y<<19|65536|q}}else{let Y=Q(X,U+1);if(Y!=null)return Y}})};return Q(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Z}=this.p;return Z.data[Z.stateSlot(this.state,1)]==65535&&!Z.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Z){if(this.state!=Z.state||this.stack.length!=Z.stack.length)return!1;for(let J=0;J<this.stack.length;J+=3)if(this.stack[J]!=Z.stack[J])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Z){return this.p.parser.dialect.flags[Z]}shiftContext(Z,J){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,Z,this,this.p.stream.reset(J)))}reduceContext(Z,J){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Z,this,this.p.stream.reset(J)))}emitContext(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Z){if(Z!=this.curContext.context){let J=new Db(this.curContext.tracker,Z);if(J.hash!=this.curContext.hash)this.emitContext();this.curContext=J}}setLookAhead(Z){if(Z<=this.lookAhead)return!1;return this.emitLookAhead(),this.lookAhead=Z,!0}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class Db{constructor(Z,J){this.tracker=Z,this.context=J,this.hash=Z.strict?Z.hash(J):0}}class cQ0{constructor(Z){this.start=Z,this.state=Z.state,this.stack=Z.stack,this.base=this.stack.length}reduce(Z){let J=Z&65535,Q=Z>>19;if(Q==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(Q-1)*3;let K=this.start.p.parser.getGoto(this.stack[this.base-3],J,!0);this.state=K}}class TE{constructor(Z,J,Q){if(this.stack=Z,this.pos=J,this.index=Q,this.buffer=Z.buffer,this.index==0)this.maybeNext()}static create(Z,J=Z.bufferBase+Z.buffer.length){return new TE(Z,J,J-Z.bufferBase)}maybeNext(){let Z=this.stack.parent;if(Z!=null)this.index=this.stack.bufferBase-Z.bufferBase,this.stack=Z,this.buffer=Z.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new TE(this.stack,this.pos,this.index)}}function PR(Z,J=Uint16Array){if(typeof Z!="string")return Z;let Q=null;for(let K=0,U=0;K<Z.length;){let X=0;for(;;){let Y=Z.charCodeAt(K++),q=!1;if(Y==126){X=65535;break}if(Y>=92)Y--;if(Y>=34)Y--;let W=Y-32;if(W>=46)W-=46,q=!0;if(X+=W,q)break;X*=46}if(Q)Q[U++]=X;else Q=new J(X)}return Q}class CR{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var hQ0=new CR;class lQ0{constructor(Z,J){this.input=Z,this.ranges=J,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=hQ0,this.rangeIndex=0,this.pos=this.chunkPos=J[0].from,this.range=J[0],this.end=J[J.length-1].to,this.readNext()}resolveOffset(Z,J){let Q=this.range,K=this.rangeIndex,U=this.pos+Z;while(U<Q.from){if(!K)return null;let X=this.ranges[--K];U-=Q.from-X.to,Q=X}while(J<0?U>Q.to:U>=Q.to){if(K==this.ranges.length-1)return null;let X=this.ranges[++K];U+=X.from-Q.to,Q=X}return U}clipPos(Z){if(Z>=this.range.from&&Z<this.range.to)return Z;for(let J of this.ranges)if(J.to>Z)return Math.max(Z,J.from);return this.end}peek(Z){let J=this.chunkOff+Z,Q,K;if(J>=0&&J<this.chunk.length)Q=this.pos+Z,K=this.chunk.charCodeAt(J);else{let U=this.resolveOffset(Z,1);if(U==null)return-1;if(Q=U,Q>=this.chunk2Pos&&Q<this.chunk2Pos+this.chunk2.length)K=this.chunk2.charCodeAt(Q-this.chunk2Pos);else{let X=this.rangeIndex,Y=this.range;while(Y.to<=Q)Y=this.ranges[++X];if(this.chunk2=this.input.chunk(this.chunk2Pos=Q),Q+this.chunk2.length>Y.to)this.chunk2=this.chunk2.slice(0,Y.to-Q);K=this.chunk2.charCodeAt(0)}}if(Q>=this.token.lookAhead)this.token.lookAhead=Q+1;return K}acceptToken(Z,J=0){let Q=J?this.resolveOffset(J,-1):this.pos;if(Q==null||Q<this.token.start)throw RangeError("Token end out of bounds");this.token.value=Z,this.token.end=Q}acceptTokenTo(Z,J){this.token.value=Z,this.token.end=J}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Z,chunkPos:J}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Z,this.chunk2Pos=J,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Z=this.input.chunk(this.pos),J=this.pos+Z.length;this.chunk=J>this.range.to?Z.slice(0,this.range.to-this.pos):Z,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Z=1){this.chunkOff+=Z;while(this.pos+Z>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Z-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=Z,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Z,J){if(J)this.token=J,J.start=Z,J.lookAhead=Z+1,J.value=J.extended=-1;else this.token=hQ0;if(this.pos!=Z){if(this.pos=Z,Z==this.end)return this.setDone(),this;while(Z<this.range.from)this.range=this.ranges[--this.rangeIndex];while(Z>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(Z>=this.chunkPos&&Z<this.chunkPos+this.chunk.length)this.chunkOff=Z-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(Z,J){if(Z>=this.chunkPos&&J<=this.chunkPos+this.chunk.length)return this.chunk.slice(Z-this.chunkPos,J-this.chunkPos);if(Z>=this.chunk2Pos&&J<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Z-this.chunk2Pos,J-this.chunk2Pos);if(Z>=this.range.from&&J<=this.range.to)return this.input.read(Z,J);let Q="";for(let K of this.ranges){if(K.from>=J)break;if(K.to>Z)Q+=this.input.read(Math.max(K.from,Z),Math.min(K.to,J))}return Q}}class XG{constructor(Z,J){this.data=Z,this.id=J}token(Z,J){let{parser:Q}=J.p;dQ0(this.data,Z,J,this.id,Q.data,Q.tokenPrecTable)}}XG.prototype.contextual=XG.prototype.fallback=XG.prototype.extend=!1;class YG{constructor(Z,J,Q){this.precTable=J,this.elseToken=Q,this.data=typeof Z=="string"?PR(Z):Z}token(Z,J){let Q=Z.pos,K=0;for(;;){let U=Z.next<0,X=Z.resolveOffset(1,1);if(dQ0(this.data,Z,J,0,this.data,this.precTable),Z.token.value>-1)break;if(this.elseToken==null)return;if(!U)K++;if(X==null)break;Z.reset(X,Z.token)}if(K)Z.reset(Q,Z.token),Z.acceptToken(this.elseToken,K)}}YG.prototype.contextual=XG.prototype.fallback=XG.prototype.extend=!1;class r7{constructor(Z,J={}){this.token=Z,this.contextual=!!J.contextual,this.fallback=!!J.fallback,this.extend=!!J.extend}}function dQ0(Z,J,Q,K,U,X){let Y=0,q=1<<K,{dialect:W}=Q.p.parser;Z:for(;;){if((q&Z[Y])==0)break;let G=Z[Y+1];for(let M=Y+3;M<G;M+=2)if((Z[M+1]&q)>0){let B=Z[M];if(W.allows(B)&&(J.token.value==-1||J.token.value==B||Ra0(B,J.token.value,U,X))){J.acceptToken(B);break}}let z=J.next,H=0,F=Z[Y+2];if(J.next<0&&F>H&&Z[G+F*3-3]==65535){Y=Z[G+F*3-1];continue Z}for(;H<F;){let M=H+F>>1,B=G+M+(M<<1),O=Z[B],R=Z[B+1]||65536;if(z<O)F=M;else if(z>=R)H=M+1;else{Y=Z[B+2],J.advance();continue Z}}break}}function mQ0(Z,J,Q){for(let K=J,U;(U=Z[K])!=65535;K++)if(U==Q)return K-J;return-1}function Ra0(Z,J,Q,K){let U=mQ0(Q,K,J);return U<0||mQ0(Q,K,Z)<U}var I4=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),Rb=null;function uQ0(Z,J,Q){let K=Z.cursor(K9.IncludeAnonymous);K.moveTo(J);for(;;)if(!(Q<0?K.childBefore(J):K.childAfter(J)))for(;;){if((Q<0?K.to<J:K.from>J)&&!K.type.isError)return Q<0?Math.max(0,Math.min(K.to-1,J-25)):Math.min(Z.length,Math.max(K.from+1,J+25));if(Q<0?K.prevSibling():K.nextSibling())break;if(!K.parent())return Q<0?0:Z.length}}class iQ0{constructor(Z,J){this.fragments=Z,this.nodeSet=J,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Z=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Z){this.safeFrom=Z.openStart?uQ0(Z.tree,Z.from+Z.offset,1)-Z.offset:Z.from,this.safeTo=Z.openEnd?uQ0(Z.tree,Z.to+Z.offset,-1)-Z.offset:Z.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Z.tree),this.start.push(-Z.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Z){if(Z<this.nextStart)return null;while(this.fragment&&this.safeTo<=Z)this.nextFragment();if(!this.fragment)return null;for(;;){let J=this.trees.length-1;if(J<0)return this.nextFragment(),null;let Q=this.trees[J],K=this.index[J];if(K==Q.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let U=Q.children[K],X=this.start[J]+Q.positions[K];if(X>Z)return this.nextStart=X,null;if(U instanceof U9){if(X==Z){if(X<this.safeFrom)return null;let Y=X+U.length;if(Y<=this.safeTo){let q=U.prop(WZ.lookAhead);if(!q||Y+q<this.fragment.to)return U}}if(this.index[J]++,X+U.length>=Math.max(this.safeFrom,Z))this.trees.push(U),this.start.push(X),this.index.push(0)}else this.index[J]++,this.nextStart=X+U.length}}}class sQ0{constructor(Z,J){this.stream=J,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Z.tokenizers.map((Q)=>new CR)}getActions(Z){let J=0,Q=null,{parser:K}=Z.p,{tokenizers:U}=K,X=K.stateSlot(Z.state,3),Y=Z.curContext?Z.curContext.hash:0,q=0;for(let W=0;W<U.length;W++){if((1<<W&X)==0)continue;let G=U[W],z=this.tokens[W];if(Q&&!G.fallback)continue;if(G.contextual||z.start!=Z.pos||z.mask!=X||z.context!=Y)this.updateCachedToken(z,G,Z),z.mask=X,z.context=Y;if(z.lookAhead>z.end+25)q=Math.max(z.lookAhead,q);if(z.value!=0){let H=J;if(z.extended>-1)J=this.addActions(Z,z.extended,z.end,J);if(J=this.addActions(Z,z.value,z.end,J),!G.extend){if(Q=z,J>H)break}}}while(this.actions.length>J)this.actions.pop();if(q)Z.setLookAhead(q);if(!Q&&Z.pos==this.stream.end)Q=new CR,Q.value=Z.p.parser.eofTerm,Q.start=Q.end=Z.pos,J=this.addActions(Z,Q.value,Q.end,J);return this.mainToken=Q,this.actions}getMainToken(Z){if(this.mainToken)return this.mainToken;let J=new CR,{pos:Q,p:K}=Z;return J.start=Q,J.end=Math.min(Q+1,K.stream.end),J.value=Q==K.stream.end?K.parser.eofTerm:0,J}updateCachedToken(Z,J,Q){let K=this.stream.clipPos(Q.pos);if(J.token(this.stream.reset(K,Z),Q),Z.value>-1){let{parser:U}=Q.p;for(let X=0;X<U.specialized.length;X++)if(U.specialized[X]==Z.value){let Y=U.specializers[X](this.stream.read(Z.start,Z.end),Q);if(Y>=0&&Q.p.parser.dialect.allows(Y>>1)){if((Y&1)==0)Z.value=Y>>1;else Z.extended=Y>>1;break}}}else Z.value=0,Z.end=this.stream.clipPos(K+1)}putAction(Z,J,Q,K){for(let U=0;U<K;U+=3)if(this.actions[U]==Z)return K;return this.actions[K++]=Z,this.actions[K++]=J,this.actions[K++]=Q,K}addActions(Z,J,Q,K){let{state:U}=Z,{parser:X}=Z.p,{data:Y}=X;for(let q=0;q<2;q++)for(let W=X.stateSlot(U,q?2:1);;W+=3){if(Y[W]==65535)if(Y[W+1]==1)W=kX(Y,W+2);else{if(K==0&&Y[W+1]==2)K=this.putAction(kX(Y,W+2),J,Q,K);break}if(Y[W]==J)K=this.putAction(kX(Y,W+1),J,Q,K)}return K}}class rQ0{constructor(Z,J,Q,K){this.parser=Z,this.input=J,this.ranges=K,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new lQ0(J,K),this.tokens=new sQ0(Z,this.stream),this.topTerm=Z.top[1];let{from:U}=K[0];this.stacks=[SE.start(this,Z.top[0],U)],this.fragments=Q.length&&this.stream.end-U>Z.bufferLength*4?new iQ0(Q,Z.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Z=this.stacks,J=this.minStackPos,Q=this.stacks=[],K,U;if(this.bigReductionCount>300&&Z.length==1){let[X]=Z;while(X.forceReduce()&&X.stack.length&&X.stack[X.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let X=0;X<Z.length;X++){let Y=Z[X];for(;;){if(this.tokens.mainToken=null,Y.pos>J)Q.push(Y);else if(this.advanceStack(Y,Q,Z))continue;else{if(!K)K=[],U=[];K.push(Y);let q=this.tokens.getMainToken(Y);U.push(q.value,q.end)}break}}if(!Q.length){let X=K&&La0(K);if(X){if(I4)console.log("Finish with "+this.stackID(X));return this.stackToTree(X)}if(this.parser.strict){if(I4&&K)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw SyntaxError("No parse at "+J)}if(!this.recovering)this.recovering=5}if(this.recovering&&K){let X=this.stoppedAt!=null&&K[0].pos>this.stoppedAt?K[0]:this.runRecovery(K,U,Q);if(X){if(I4)console.log("Force-finish "+this.stackID(X));return this.stackToTree(X.forceAll())}}if(this.recovering){let X=this.recovering==1?1:this.recovering*3;if(Q.length>X){Q.sort((Y,q)=>q.score-Y.score);while(Q.length>X)Q.pop()}if(Q.some((Y)=>Y.reducePos>J))this.recovering--}else if(Q.length>1){Z:for(let X=0;X<Q.length-1;X++){let Y=Q[X];for(let q=X+1;q<Q.length;q++){let W=Q[q];if(Y.sameState(W)||Y.buffer.length>500&&W.buffer.length>500)if((Y.score-W.score||Y.buffer.length-W.buffer.length)>0)Q.splice(q--,1);else{Q.splice(X--,1);continue Z}}}if(Q.length>12)Q.sort((X,Y)=>Y.score-X.score),Q.splice(12,Q.length-12)}this.minStackPos=Q[0].pos;for(let X=1;X<Q.length;X++)if(Q[X].pos<this.minStackPos)this.minStackPos=Q[X].pos;return null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}advanceStack(Z,J,Q){let K=Z.pos,{parser:U}=this,X=I4?this.stackID(Z)+" -> ":"";if(this.stoppedAt!=null&&K>this.stoppedAt)return Z.forceReduce()?Z:null;if(this.fragments){let W=Z.curContext&&Z.curContext.tracker.strict,G=W?Z.curContext.hash:0;for(let z=this.fragments.nodeAt(K);z;){let H=this.parser.nodeSet.types[z.type.id]==z.type?U.getGoto(Z.state,z.type.id):-1;if(H>-1&&z.length&&(!W||(z.prop(WZ.contextHash)||0)==G)){if(Z.useNode(z,H),I4)console.log(X+this.stackID(Z)+` (via reuse of ${U.getName(z.type.id)})`);return!0}if(!(z instanceof U9)||z.children.length==0||z.positions[0]>0)break;let F=z.children[0];if(F instanceof U9&&z.positions[0]==0)z=F;else break}}let Y=U.stateSlot(Z.state,4);if(Y>0){if(Z.reduce(Y),I4)console.log(X+this.stackID(Z)+` (via always-reduce ${U.getName(Y&65535)})`);return!0}if(Z.stack.length>=8400)while(Z.stack.length>6000&&Z.forceReduce());let q=this.tokens.getActions(Z);for(let W=0;W<q.length;){let G=q[W++],z=q[W++],H=q[W++],F=W==q.length||!Q,M=F?Z:Z.split(),B=this.tokens.mainToken;if(M.apply(G,z,B?B.start:M.pos,H),I4)console.log(X+this.stackID(M)+` (via ${(G&65536)==0?"shift":`reduce of ${U.getName(G&65535)}`} for ${U.getName(z)} @ ${K}${M==Z?"":", split"})`);if(F)return!0;else if(M.pos>K)J.push(M);else Q.push(M)}return!1}advanceFully(Z,J){let Q=Z.pos;for(;;){if(!this.advanceStack(Z,null,null))return!1;if(Z.pos>Q)return gQ0(Z,J),!0}}runRecovery(Z,J,Q){let K=null,U=!1;for(let X=0;X<Z.length;X++){let Y=Z[X],q=J[X<<1],W=J[(X<<1)+1],G=I4?this.stackID(Y)+" -> ":"";if(Y.deadEnd){if(U)continue;if(U=!0,Y.restart(),I4)console.log(G+this.stackID(Y)+" (restarted)");if(this.advanceFully(Y,Q))continue}let z=Y.split(),H=G;for(let F=0;F<10&&z.forceReduce();F++){if(I4)console.log(H+this.stackID(z)+" (via force-reduce)");if(this.advanceFully(z,Q))break;if(I4)H=this.stackID(z)+" -> "}for(let F of Y.recoverByInsert(q)){if(I4)console.log(G+this.stackID(F)+" (via recover-insert)");this.advanceFully(F,Q)}if(this.stream.end>Y.pos){if(W==Y.pos)W++,q=0;if(Y.recoverByDelete(q,W),I4)console.log(G+this.stackID(Y)+` (via recover-delete ${this.parser.getName(q)})`);gQ0(Y,Q)}else if(!K||K.score<z.score)K=z}return K}stackToTree(Z){return Z.close(),U9.build({buffer:TE.create(Z),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Z.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Z){let J=(Rb||(Rb=new WeakMap)).get(Z);if(!J)Rb.set(Z,J=String.fromCodePoint(this.nextStackID++));return J+Z}}function gQ0(Z,J){for(let Q=0;Q<J.length;Q++){let K=J[Q];if(K.pos==Z.pos&&K.sameState(Z)){if(J[Q].score<Z.score)J[Q]=Z;return}}J.push(Z)}class nQ0{constructor(Z,J,Q){this.source=Z,this.flags=J,this.disabled=Q}allows(Z){return!this.disabled||this.disabled[Z]==0}}var Lb=(Z)=>Z;class jR{constructor(Z){this.start=Z.start,this.shift=Z.shift||Lb,this.reduce=Z.reduce||Lb,this.reuse=Z.reuse||Lb,this.hash=Z.hash||(()=>0),this.strict=Z.strict!==!1}}class _X extends oW{constructor(Z){super();if(this.wrappers=[],Z.version!=14)throw RangeError(`Parser version (${Z.version}) doesn't match runtime version (14)`);let J=Z.nodeNames.split(" ");this.minRepeatTerm=J.length;for(let Y=0;Y<Z.repeatNodeCount;Y++)J.push("");let Q=Object.keys(Z.topRules).map((Y)=>Z.topRules[Y][1]),K=[];for(let Y=0;Y<J.length;Y++)K.push([]);function U(Y,q,W){K[Y].push([q,q.deserialize(String(W))])}if(Z.nodeProps)for(let Y of Z.nodeProps){let q=Y[0];if(typeof q=="string")q=WZ[q];for(let W=1;W<Y.length;){let G=Y[W++];if(G>=0)U(G,q,Y[W++]);else{let z=Y[W+-G];for(let H=-G;H>0;H--)U(Y[W++],q,z);W++}}}if(this.nodeSet=new tY(J.map((Y,q)=>bJ.define({name:q>=this.minRepeatTerm?void 0:Y,id:q,props:K[q],top:Q.indexOf(q)>-1,error:q==0,skipped:Z.skippedNodes&&Z.skippedNodes.indexOf(q)>-1}))),Z.propSources)this.nodeSet=this.nodeSet.extend(...Z.propSources);this.strict=!1,this.bufferLength=N90;let X=PR(Z.tokenData);this.context=Z.context,this.specializerSpecs=Z.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Y=0;Y<this.specializerSpecs.length;Y++)this.specialized[Y]=this.specializerSpecs[Y].term;this.specializers=this.specializerSpecs.map(pQ0),this.states=PR(Z.states,Uint32Array),this.data=PR(Z.stateData),this.goto=PR(Z.goto),this.maxTerm=Z.maxTerm,this.tokenizers=Z.tokenizers.map((Y)=>typeof Y=="number"?new XG(X,Y):Y),this.topRules=Z.topRules,this.dialects=Z.dialects||{},this.dynamicPrecedences=Z.dynamicPrecedences||null,this.tokenPrecTable=Z.tokenPrec,this.termNames=Z.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Z,J,Q){let K=new rQ0(this,Z,J,Q);for(let U of this.wrappers)K=U(K,Z,J,Q);return K}getGoto(Z,J,Q=!1){let K=this.goto;if(J>=K[0])return-1;for(let U=K[J+1];;){let X=K[U++],Y=X&1,q=K[U++];if(Y&&Q)return q;for(let W=U+(X>>1);U<W;U++)if(K[U]==Z)return q;if(Y)return-1}}hasAction(Z,J){let Q=this.data;for(let K=0;K<2;K++)for(let U=this.stateSlot(Z,K?2:1),X;;U+=3){if((X=Q[U])==65535)if(Q[U+1]==1)X=Q[U=kX(Q,U+2)];else if(Q[U+1]==2)return kX(Q,U+2);else break;if(X==J||X==0)return kX(Q,U+1)}return 0}stateSlot(Z,J){return this.states[Z*6+J]}stateFlag(Z,J){return(this.stateSlot(Z,0)&J)>0}validAction(Z,J){return!!this.allActions(Z,(Q)=>Q==J?!0:null)}allActions(Z,J){let Q=this.stateSlot(Z,4),K=Q?J(Q):void 0;for(let U=this.stateSlot(Z,1);K==null;U+=3){if(this.data[U]==65535)if(this.data[U+1]==1)U=kX(this.data,U+2);else break;K=J(kX(this.data,U+1))}return K}nextStates(Z){let J=[];for(let Q=this.stateSlot(Z,1);;Q+=3){if(this.data[Q]==65535)if(this.data[Q+1]==1)Q=kX(this.data,Q+2);else break;if((this.data[Q+2]&1)==0){let K=this.data[Q+1];if(!J.some((U,X)=>X&1&&U==K))J.push(this.data[Q],K)}}return J}configure(Z){let J=Object.assign(Object.create(_X.prototype),this);if(Z.props)J.nodeSet=this.nodeSet.extend(...Z.props);if(Z.top){let Q=this.topRules[Z.top];if(!Q)throw RangeError(`Invalid top rule name ${Z.top}`);J.top=Q}if(Z.tokenizers)J.tokenizers=this.tokenizers.map((Q)=>{let K=Z.tokenizers.find((U)=>U.from==Q);return K?K.to:Q});if(Z.specializers)J.specializers=this.specializers.slice(),J.specializerSpecs=this.specializerSpecs.map((Q,K)=>{let U=Z.specializers.find((Y)=>Y.from==Q.external);if(!U)return Q;let X=Object.assign(Object.assign({},Q),{external:U.to});return J.specializers[K]=pQ0(X),X});if(Z.contextTracker)J.context=Z.contextTracker;if(Z.dialect)J.dialect=this.parseDialect(Z.dialect);if(Z.strict!=null)J.strict=Z.strict;if(Z.wrap)J.wrappers=J.wrappers.concat(Z.wrap);if(Z.bufferLength!=null)J.bufferLength=Z.bufferLength;return J}hasWrappers(){return this.wrappers.length>0}getName(Z){return this.termNames?this.termNames[Z]:String(Z<=this.maxNode&&this.nodeSet.types[Z].name||Z)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Z){let J=this.dynamicPrecedences;return J==null?0:J[Z]||0}parseDialect(Z){let J=Object.keys(this.dialects),Q=J.map(()=>!1);if(Z)for(let U of Z.split(" ")){let X=J.indexOf(U);if(X>=0)Q[X]=!0}let K=null;for(let U=0;U<J.length;U++)if(!Q[U])for(let X=this.dialects[J[U]],Y;(Y=this.data[X++])!=65535;)(K||(K=new Uint8Array(this.maxTerm+1)))[Y]=1;return new nQ0(Z,Q,K)}static deserialize(Z){return new _X(Z)}}function kX(Z,J){return Z[J]|Z[J+1]<<16}function La0(Z){let J=null;for(let Q of Z){let K=Q.p.stoppedAt;if((Q.pos==Q.p.stream.end||K!=null&&Q.pos>K)&&Q.p.parser.stateFlag(Q.state,2)&&(!J||J.score<Q.score))J=Q}return J}function pQ0(Z){if(Z.external){let J=Z.extend?1:0;return(Q,K)=>Z.external(Q,K)<<1|J}return Z.get}var Da0=55,Ia0=1,Aa0=56,Na0=2,Ea0=57,Va0=3,aQ0=4,Pa0=5,Vb=6,U60=7,X60=8,Y60=9,q60=10,Ca0=11,ja0=12,Sa0=13,Ib=58,Ta0=14,wa0=15,oQ0=59,W60=21,$a0=23,G60=24,ka0=25,Nb=27,z60=28,_a0=29,fa0=32,va0=35,xa0=37,ba0=38,ya0=0,ha0=1,ma0={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ua0={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},tQ0={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function ga0(Z){return Z==45||Z==46||Z==58||Z>=65&&Z<=90||Z==95||Z>=97&&Z<=122||Z>=161}var eQ0=null,Z60=null,J60=0;function Eb(Z,J){let Q=Z.pos+J;if(J60==Q&&Z60==Z)return eQ0;let K=Z.peek(J),U="";for(;;){if(!ga0(K))break;U+=String.fromCharCode(K),K=Z.peek(++J)}return Z60=Z,J60=Q,eQ0=U?U.toLowerCase():K==pa0||K==ca0?void 0:null}var H60=60,wE=62,Pb=47,pa0=63,ca0=33,la0=45;function Q60(Z,J){this.name=Z,this.parent=J}var da0=[Vb,q60,U60,X60,Y60],ia0=new jR({start:null,shift(Z,J,Q,K){return da0.indexOf(J)>-1?new Q60(Eb(K,1)||"",Z):Z},reduce(Z,J){return J==W60&&Z?Z.parent:Z},reuse(Z,J,Q,K){let U=J.type.id;return U==Vb||U==xa0?new Q60(Eb(K,1)||"",Z):Z},strict:!1}),sa0=new r7((Z,J)=>{if(Z.next!=H60){if(Z.next<0&&J.context)Z.acceptToken(Ib);return}Z.advance();let Q=Z.next==Pb;if(Q)Z.advance();let K=Eb(Z,0);if(K===void 0)return;if(!K)return Z.acceptToken(Q?wa0:Ta0);let U=J.context?J.context.name:null;if(Q){if(K==U)return Z.acceptToken(Ca0);if(U&&ua0[U])return Z.acceptToken(Ib,-2);if(J.dialectEnabled(ya0))return Z.acceptToken(ja0);for(let X=J.context;X;X=X.parent)if(X.name==K)return;Z.acceptToken(Sa0)}else{if(K=="script")return Z.acceptToken(U60);if(K=="style")return Z.acceptToken(X60);if(K=="textarea")return Z.acceptToken(Y60);if(ma0.hasOwnProperty(K))return Z.acceptToken(q60);if(U&&tQ0[U]&&tQ0[U][K])Z.acceptToken(Ib,-1);else Z.acceptToken(Vb)}},{contextual:!0}),ra0=new r7((Z)=>{for(let J=0,Q=0;;Q++){if(Z.next<0){if(Q)Z.acceptToken(oQ0);break}if(Z.next==la0)J++;else if(Z.next==wE&&J>=2){if(Q>=3)Z.acceptToken(oQ0,-2);break}else J=0;Z.advance()}});function na0(Z){for(;Z;Z=Z.parent)if(Z.name=="svg"||Z.name=="math")return!0;return!1}var aa0=new r7((Z,J)=>{if(Z.next==Pb&&Z.peek(1)==wE){let Q=J.dialectEnabled(ha0)||na0(J.context);Z.acceptToken(Q?Pa0:aQ0,2)}else if(Z.next==wE)Z.acceptToken(aQ0,1)});function Cb(Z,J,Q){let K=2+Z.length;return new r7((U)=>{for(let X=0,Y=0,q=0;;q++){if(U.next<0){if(q)U.acceptToken(J);break}if(X==0&&U.next==H60||X==1&&U.next==Pb||X>=2&&X<K&&U.next==Z.charCodeAt(X-2))X++,Y++;else if(X==K&&U.next==wE){if(q>Y)U.acceptToken(J,-Y);else U.acceptToken(Q,-(Y-2));break}else if((U.next==10||U.next==13)&&q){U.acceptToken(J,1);break}else X=Y=0;U.advance()}})}var oa0=Cb("script",Da0,Ia0),ta0=Cb("style",Aa0,Na0),ea0=Cb("textarea",Ea0,Va0),Zo0=rK({"Text RawText IncompleteTag IncompleteCloseTag":R0.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":R0.angleBracket,TagName:R0.tagName,"MismatchedCloseTag/TagName":[R0.tagName,R0.invalid],AttributeName:R0.attributeName,"AttributeValue UnquotedAttributeValue":R0.attributeValue,Is:R0.definitionOperator,"EntityReference CharacterReference":R0.character,Comment:R0.blockComment,ProcessingInst:R0.processingInstruction,DoctypeDecl:R0.documentMeta}),F60=_X.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:ia0,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[Zo0],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[oa0,ta0,ea0,aa0,sa0,ra0,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function M60(Z,J){let Q=Object.create(null);for(let K of Z.getChildren(G60)){let U=K.getChild(ka0),X=K.getChild(Nb)||K.getChild(z60);if(U)Q[J.read(U.from,U.to)]=!X?"":X.type.id==Nb?J.read(X.from+1,X.to-1):J.read(X.from,X.to)}return Q}function K60(Z,J){let Q=Z.getChild($a0);return Q?J.read(Q.from,Q.to):" "}function Ab(Z,J,Q){let K;for(let U of Q)if(!U.attrs||U.attrs(K||(K=M60(Z.node.parent.firstChild,J))))return{parser:U.parser,bracketed:!0};return null}function jb(Z=[],J=[]){let Q=[],K=[],U=[],X=[];for(let q of Z)(q.tag=="script"?Q:q.tag=="style"?K:q.tag=="textarea"?U:X).push(q);let Y=J.length?Object.create(null):null;for(let q of J)(Y[q.name]||(Y[q.name]=[])).push(q);return lN((q,W)=>{let G=q.type.id;if(G==_a0)return Ab(q,W,Q);if(G==fa0)return Ab(q,W,K);if(G==va0)return Ab(q,W,U);if(G==W60&&X.length){let z=q.node,H=z.firstChild,F=H&&K60(H,W),M;if(F){for(let B of X)if(B.tag==F&&(!B.attrs||B.attrs(M||(M=M60(H,W))))){let O=z.lastChild,R=O.type.id==ba0?O.from:z.to;if(R>H.to)return{parser:B.parser,overlay:[{from:H.to,to:R}]}}}}if(Y&&G==G60){let z=q.node,H;if(H=z.firstChild){let F=Y[W.read(H.from,H.to)];if(F)for(let M of F){if(M.tagName&&M.tagName!=K60(z.parent,W))continue;let B=z.lastChild;if(B.type.id==Nb){let O=B.from+1,R=B.lastChild,L=B.to-(R&&R.isError?0:1);if(L>O)return{parser:M.parser,overlay:[{from:O,to:L}],bracketed:!0}}else if(B.type.id==z60)return{parser:M.parser,overlay:[{from:B.from,to:B.to}]}}}}return null})}var Jo0=122,B60=1,Qo0=123,Ko0=124,R60=2,Uo0=125,Xo0=3,Yo0=4,L60=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],qo0=58,Wo0=40,D60=95,Go0=91,$E=45,zo0=46,Ho0=35,Fo0=37,Mo0=38,Bo0=92,Oo0=10,Ro0=42;function SR(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z>=161}function Sb(Z){return Z>=48&&Z<=57}function O60(Z){return Sb(Z)||Z>=97&&Z<=102||Z>=65&&Z<=70}var I60=(Z,J,Q)=>(K,U)=>{for(let X=!1,Y=0,q=0;;q++){let{next:W}=K;if(SR(W)||W==$E||W==D60||X&&Sb(W)){if(!X&&(W!=$E||q>0))X=!0;if(Y===q&&W==$E)Y++;K.advance()}else if(W==Bo0&&K.peek(1)!=Oo0){if(K.advance(),O60(K.next)){do K.advance();while(O60(K.next));if(K.next==32)K.advance()}else if(K.next>-1)K.advance();X=!0}else{if(X)K.acceptToken(Y==2&&U.canShift(R60)?J:W==Wo0?Q:Z);break}}},Lo0=new r7(I60(Qo0,R60,Ko0)),Do0=new r7(I60(Uo0,Xo0,Yo0)),Io0=new r7((Z)=>{if(L60.includes(Z.peek(-1))){let{next:J}=Z;if(SR(J)||J==D60||J==Ho0||J==zo0||J==Ro0||J==Go0||J==qo0&&SR(Z.peek(1))||J==$E||J==Mo0)Z.acceptToken(Jo0)}}),Ao0=new r7((Z)=>{if(!L60.includes(Z.peek(-1))){let{next:J}=Z;if(J==Fo0)Z.advance(),Z.acceptToken(B60);if(SR(J)){do Z.advance();while(SR(Z.next)||Sb(Z.next));Z.acceptToken(B60)}}}),No0=rK({"AtKeyword import charset namespace keyframes media supports":R0.definitionKeyword,"from to selector":R0.keyword,NamespaceName:R0.namespace,KeyframeName:R0.labelName,KeyframeRangeName:R0.operatorKeyword,TagName:R0.tagName,ClassName:R0.className,PseudoClassName:R0.constant(R0.className),IdName:R0.labelName,"FeatureName PropertyName":R0.propertyName,AttributeName:R0.attributeName,NumberLiteral:R0.number,KeywordQuery:R0.keyword,UnaryQueryOp:R0.operatorKeyword,"CallTag ValueName":R0.atom,VariableName:R0.variableName,Callee:R0.operatorKeyword,Unit:R0.unit,"UniversalSelector NestingSelector":R0.definitionOperator,"MatchOp CompareOp":R0.compareOperator,"ChildOp SiblingOp, LogicOp":R0.logicOperator,BinOp:R0.arithmeticOperator,Important:R0.modifier,Comment:R0.blockComment,ColorLiteral:R0.color,"ParenthesizedContent StringLiteral":R0.string,":":R0.punctuation,"PseudoOp #":R0.derefOperator,"; ,":R0.separator,"( )":R0.paren,"[ ]":R0.squareBracket,"{ }":R0.brace}),Eo0={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},Vo0={__proto__:null,or:98,and:98,not:106,only:106,layer:170},Po0={__proto__:null,selector:112,layer:166},Co0={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},jo0={__proto__:null,to:207},A60=_X.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[No0],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[Io0,Ao0,Lo0,Do0,1,2,3,4,new YG("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:(Z)=>Eo0[Z]||-1},{term:125,get:(Z)=>Vo0[Z]||-1},{term:4,get:(Z)=>Po0[Z]||-1},{term:25,get:(Z)=>Co0[Z]||-1},{term:123,get:(Z)=>jo0[Z]||-1}],tokenPrec:1963});var Tb=null;function wb(){if(!Tb&&typeof document=="object"&&document.body){let{style:Z}=document.body,J=[],Q=new Set;for(let K in Z)if(K!="cssText"&&K!="cssFloat"){if(typeof Z[K]=="string"){if(/[A-Z]/.test(K))K=K.replace(/[A-Z]/g,(U)=>"-"+U.toLowerCase());if(!Q.has(K))J.push(K),Q.add(K)}}Tb=J.sort().map((K)=>({type:"property",label:K,apply:K+": "}))}return Tb||[]}var N60=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((Z)=>({type:"class",label:Z})),E60=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((Z)=>({type:"keyword",label:Z})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((Z)=>({type:"constant",label:Z}))),So0=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((Z)=>({type:"type",label:Z})),To0=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map((Z)=>({type:"keyword",label:Z})),fX=/^(\w[\w-]*|-\w[\w-]*|)$/,wo0=/^-(-[\w-]*)?$/;function $o0(Z,J){var Q;if(Z.name=="("||Z.type.isError)Z=Z.parent||Z;if(Z.name!="ArgList")return!1;let K=(Q=Z.parent)===null||Q===void 0?void 0:Q.firstChild;if((K===null||K===void 0?void 0:K.name)!="Callee")return!1;return J.sliceString(K.from,K.to)=="var"}var V60=new JR,ko0=["Declaration"];function _o0(Z){for(let J=Z;;){if(J.type.isTop)return J;if(!(J=J.parent))return Z}}function P60(Z,J,Q){if(J.to-J.from>4096){let K=V60.get(J);if(K)return K;let U=[],X=new Set,Y=J.cursor(K9.IncludeAnonymous);if(Y.firstChild())do for(let q of P60(Z,Y.node,Q))if(!X.has(q.label))X.add(q.label),U.push(q);while(Y.nextSibling());return V60.set(J,U),U}else{let K=[],U=new Set;return J.cursor().iterate((X)=>{var Y;if(Q(X)&&X.matchContext(ko0)&&((Y=X.node.nextSibling)===null||Y===void 0?void 0:Y.name)==":"){let q=Z.sliceString(X.from,X.to);if(!U.has(q))U.add(q),K.push({label:q,type:"variable"})}}),K}}var fo0=(Z)=>(J)=>{let{state:Q,pos:K}=J,U=q9(Q).resolveInner(K,-1),X=U.type.isError&&U.from==U.to-1&&Q.doc.sliceString(U.from,U.to)=="-";if(U.name=="PropertyName"||(X||U.name=="TagName")&&/^(Block|Styles)$/.test(U.resolve(U.to).name))return{from:U.from,options:wb(),validFor:fX};if(U.name=="ValueName")return{from:U.from,options:E60,validFor:fX};if(U.name=="PseudoClassName")return{from:U.from,options:N60,validFor:fX};if(Z(U)||(J.explicit||X)&&$o0(U,Q.doc))return{from:Z(U)||X?U.from:K,options:P60(Q.doc,_o0(U),Z),validFor:wo0};if(U.name=="TagName"){for(let{parent:W}=U;W;W=W.parent)if(W.name=="Block")return{from:U.from,options:wb(),validFor:fX};return{from:U.from,options:So0,validFor:fX}}if(U.name=="AtKeyword")return{from:U.from,options:To0,validFor:fX};if(!J.explicit)return null;let Y=U.resolve(K),q=Y.childBefore(K);if(q&&q.name==":"&&Y.name=="PseudoClassSelector")return{from:K,options:N60,validFor:fX};if(q&&q.name==":"&&Y.name=="Declaration"||Y.name=="ArgList")return{from:K,options:E60,validFor:fX};if(Y.name=="Block"||Y.name=="Styles")return{from:K,options:wb(),validFor:fX};return null},vo0=fo0((Z)=>Z.name=="VariableName"),TR=wX.define({name:"css",parser:A60.configure({props:[$X.add({Declaration:DH()}),t5.add({"Block KeyframeList":ZE})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function C60(){return new o5(TR,TR.data.of({autocomplete:vo0}))}var xo0=316,bo0=317,j60=1,yo0=2,ho0=3,mo0=4,uo0=318,go0=320,po0=321,co0=5,lo0=6,do0=0,kb=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],S60=125,io0=59,_b=47,so0=42,ro0=43,no0=45,ao0=60,oo0=44,to0=63,eo0=46,Zt0=91,Jt0=new jR({start:!1,shift(Z,J){return J==co0||J==lo0||J==go0?Z:J==po0},strict:!1}),Qt0=new r7((Z,J)=>{let{next:Q}=Z;if(Q==S60||Q==-1||J.context)Z.acceptToken(uo0)},{contextual:!0,fallback:!0}),Kt0=new r7((Z,J)=>{let{next:Q}=Z,K;if(kb.indexOf(Q)>-1)return;if(Q==_b&&((K=Z.peek(1))==_b||K==so0))return;if(Q!=S60&&Q!=io0&&Q!=-1&&!J.context)Z.acceptToken(xo0)},{contextual:!0}),Ut0=new r7((Z,J)=>{if(Z.next==Zt0&&!J.context)Z.acceptToken(bo0)},{contextual:!0}),Xt0=new r7((Z,J)=>{let{next:Q}=Z;if(Q==ro0||Q==no0){if(Z.advance(),Q==Z.next){Z.advance();let K=!J.context&&J.canShift(j60);Z.acceptToken(K?j60:yo0)}}else if(Q==to0&&Z.peek(1)==eo0){if(Z.advance(),Z.advance(),Z.next<48||Z.next>57)Z.acceptToken(ho0)}},{contextual:!0});function $b(Z,J){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z==95||Z>=192||!J&&Z>=48&&Z<=57}var Yt0=new r7((Z,J)=>{if(Z.next!=ao0||!J.dialectEnabled(do0))return;if(Z.advance(),Z.next==_b)return;let Q=0;while(kb.indexOf(Z.next)>-1)Z.advance(),Q++;if($b(Z.next,!0)){Z.advance(),Q++;while($b(Z.next,!1))Z.advance(),Q++;while(kb.indexOf(Z.next)>-1)Z.advance(),Q++;if(Z.next==oo0)return;for(let K=0;;K++){if(K==7){if(!$b(Z.next,!0))return;break}if(Z.next!="extends".charCodeAt(K))break;Z.advance(),Q++}}Z.acceptToken(mo0,-Q)}),qt0=rK({"get set async static":R0.modifier,"for while do if else switch try catch finally return throw break continue default case defer":R0.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":R0.operatorKeyword,"let var const using function class extends":R0.definitionKeyword,"import export from":R0.moduleKeyword,"with debugger new":R0.keyword,TemplateString:R0.special(R0.string),super:R0.atom,BooleanLiteral:R0.bool,this:R0.self,null:R0.null,Star:R0.modifier,VariableName:R0.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":R0.function(R0.variableName),VariableDefinition:R0.definition(R0.variableName),Label:R0.labelName,PropertyName:R0.propertyName,PrivatePropertyName:R0.special(R0.propertyName),"CallExpression/MemberExpression/PropertyName":R0.function(R0.propertyName),"FunctionDeclaration/VariableDefinition":R0.function(R0.definition(R0.variableName)),"ClassDeclaration/VariableDefinition":R0.definition(R0.className),"NewExpression/VariableName":R0.className,PropertyDefinition:R0.definition(R0.propertyName),PrivatePropertyDefinition:R0.definition(R0.special(R0.propertyName)),UpdateOp:R0.updateOperator,"LineComment Hashbang":R0.lineComment,BlockComment:R0.blockComment,Number:R0.number,String:R0.string,Escape:R0.escape,ArithOp:R0.arithmeticOperator,LogicOp:R0.logicOperator,BitOp:R0.bitwiseOperator,CompareOp:R0.compareOperator,RegExp:R0.regexp,Equals:R0.definitionOperator,Arrow:R0.function(R0.punctuation),": Spread":R0.punctuation,"( )":R0.paren,"[ ]":R0.squareBracket,"{ }":R0.brace,"InterpolationStart InterpolationEnd":R0.special(R0.brace),".":R0.derefOperator,", ;":R0.separator,"@":R0.meta,TypeName:R0.typeName,TypeDefinition:R0.definition(R0.typeName),"type enum interface implements namespace module declare":R0.definitionKeyword,"abstract global Privacy readonly override":R0.modifier,"is keyof unique infer asserts":R0.operatorKeyword,JSXAttributeValue:R0.attributeValue,JSXText:R0.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":R0.angleBracket,"JSXIdentifier JSXNameSpacedName":R0.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":R0.attributeName,"JSXBuiltin/JSXIdentifier":R0.standard(R0.tagName)}),Wt0={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},Gt0={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},zt0={__proto__:null,"<":193},T60=_X.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:Jt0,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[qt0],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Kt0,Ut0,Xt0,Yt0,2,3,4,5,6,7,8,9,10,11,12,13,14,Qt0,new YG("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new YG("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{"80":1,"82":1,"94":1,"169":1,"199":1},specialized:[{term:327,get:(Z)=>Wt0[Z]||-1},{term:343,get:(Z)=>Gt0[Z]||-1},{term:95,get:(Z)=>zt0[Z]||-1}],tokenPrec:15201});var _60=[lQ("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),lQ("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),lQ("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),lQ("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),lQ("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),lQ(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),lQ("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),lQ(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),lQ(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),lQ('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),lQ('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Ht0=_60.concat([lQ("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),lQ("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),lQ("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),w60=new JR,f60=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function wR(Z){return(J,Q)=>{let K=J.node.getChild("VariableDefinition");if(K)Q(K,Z);return!0}}var Ft0=["FunctionDeclaration"],Mt0={FunctionDeclaration:wR("function"),ClassDeclaration:wR("class"),ClassExpression:()=>!0,EnumDeclaration:wR("constant"),TypeAliasDeclaration:wR("type"),NamespaceDeclaration:wR("namespace"),VariableDefinition(Z,J){if(!Z.matchContext(Ft0))J(Z,"variable")},TypeDefinition(Z,J){J(Z,"type")},__proto__:null};function v60(Z,J){let Q=w60.get(J);if(Q)return Q;let K=[],U=!0;function X(Y,q){let W=Z.sliceString(Y.from,Y.to);K.push({label:W,type:q})}return J.cursor(K9.IncludeAnonymous).iterate((Y)=>{if(U)U=!1;else if(Y.name){let q=Mt0[Y.name];if(q&&q(Y,X)||f60.has(Y.name))return!1}else if(Y.to-Y.from>8192){for(let q of v60(Z,Y.node))K.push(q);return!1}}),w60.set(J,K),K}var $60=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,x60=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Bt0(Z){let J=q9(Z.state).resolveInner(Z.pos,-1);if(x60.indexOf(J.name)>-1)return null;let Q=J.name=="VariableName"||J.to-J.from<20&&$60.test(Z.state.sliceDoc(J.from,J.to));if(!Q&&!Z.explicit)return null;let K=[];for(let U=J;U;U=U.parent)if(f60.has(U.name))K=K.concat(v60(Z.state.doc,U));return{options:K,from:Q?J.from:Z.pos,validFor:$60}}var tK=wX.define({name:"javascript",parser:T60.configure({props:[$X.add({IfStatement:DH({except:/^\s*({|else\b)/}),TryStatement:DH({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:s90,SwitchBody:(Z)=>{let J=Z.textAfter,Q=/^\s*\}/.test(J),K=/^\s*(case|default)\b/.test(J);return Z.baseIndent+(Q?0:K?1:2)*Z.unit},Block:d90({closing:"}"}),ArrowFunction:(Z)=>Z.baseIndent+Z.unit,"TemplateString BlockComment":()=>null,"Statement Property":DH({except:/^\s*{/}),JSXElement(Z){let J=/^\s*<\//.test(Z.textAfter);return Z.lineIndent(Z.node.from)+(J?0:Z.unit)},JSXEscape(Z){let J=/\s*\}/.test(Z.textAfter);return Z.lineIndent(Z.node.from)+(J?0:Z.unit)},"JSXOpenTag JSXSelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit}}),t5.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":ZE,BlockComment(Z){return{from:Z.from+2,to:Z.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),b60={test:(Z)=>/^JSX/.test(Z.name),facet:UR({commentTokens:{block:{open:"{/*",close:"*/}"}}})},fb=tK.configure({dialect:"ts"},"typescript"),vb=tK.configure({dialect:"jsx",props:[tN.add((Z)=>Z.isTop?[b60]:void 0)]}),xb=tK.configure({dialect:"jsx ts",props:[tN.add((Z)=>Z.isTop?[b60]:void 0)]},"typescript"),y60=(Z)=>({label:Z,type:"keyword"}),h60="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(y60),Ot0=h60.concat(["declare","implements","private","protected","public"].map(y60));function m60(Z={}){let J=Z.jsx?Z.typescript?xb:vb:Z.typescript?fb:tK,Q=Z.typescript?Ht0.concat(Ot0):_60.concat(h60);return new o5(J,[tK.data.of({autocomplete:N70(x60,ix(Q))}),tK.data.of({autocomplete:Bt0}),Z.jsx?Dt0:[]])}function Rt0(Z){for(;;){if(Z.name=="JSXOpenTag"||Z.name=="JSXSelfClosingTag"||Z.name=="JSXFragmentTag")return Z;if(Z.name=="JSXEscape"||!Z.parent)return null;Z=Z.parent}}function k60(Z,J,Q=Z.length){for(let K=J===null||J===void 0?void 0:J.firstChild;K;K=K.nextSibling)if(K.name=="JSXIdentifier"||K.name=="JSXBuiltin"||K.name=="JSXNamespacedName"||K.name=="JSXMemberExpression")return Z.sliceString(K.from,Math.min(K.to,Q));return""}var Lt0=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Dt0=C8.inputHandler.of((Z,J,Q,K,U)=>{if((Lt0?Z.composing:Z.compositionStarted)||Z.state.readOnly||J!=Q||K!=">"&&K!="/"||!tK.isActiveAt(Z.state,J,-1))return!1;let X=U(),{state:Y}=X,q=Y.changeByRange((W)=>{var G;let{head:z}=W,H=q9(Y).resolveInner(z-1,-1),F;if(H.name=="JSXStartTag")H=H.parent;if(Y.doc.sliceString(z-1,z)!=K||H.name=="JSXAttributeValue"&&H.to>z);else if(K==">"&&H.name=="JSXFragmentTag")return{range:W,changes:{from:z,insert:"</>"}};else if(K=="/"&&H.name=="JSXStartCloseTag"){let M=H.parent,B=M.parent;if(B&&M.from==z-2&&((F=k60(Y.doc,B.firstChild,z))||((G=B.firstChild)===null||G===void 0?void 0:G.name)=="JSXFragmentTag")){let O=`${F}>`;return{range:e0.cursor(z+O.length,-1),changes:{from:z,insert:O}}}}else if(K==">"){let M=Rt0(H);if(M&&M.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(Y.doc.sliceString(z,z+2))&&(F=k60(Y.doc,M,z)))return{range:W,changes:{from:z,insert:`</${F}>`}}}return{range:W}});if(q.changes.empty)return!1;return Z.dispatch([X,Y.update(q,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var $R=["_blank","_self","_top","_parent"],bb=["ascii","utf-8","utf-16","latin1","latin1"],yb=["get","post","put","delete"],hb=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],A4=["true","false"],QZ={},It0={a:{attrs:{href:null,ping:null,type:null,media:null,target:$R,hreflang:null}},abbr:QZ,address:QZ,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:QZ,aside:QZ,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:QZ,base:{attrs:{href:null,target:$R}},bdi:QZ,bdo:QZ,blockquote:{attrs:{cite:null}},body:QZ,br:QZ,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:hb,formmethod:yb,formnovalidate:["novalidate"],formtarget:$R,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:QZ,center:QZ,cite:QZ,code:QZ,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:QZ,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:QZ,div:QZ,dl:QZ,dt:QZ,em:QZ,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:QZ,figure:QZ,footer:QZ,form:{attrs:{action:null,name:null,"accept-charset":bb,autocomplete:["on","off"],enctype:hb,method:yb,novalidate:["novalidate"],target:$R}},h1:QZ,h2:QZ,h3:QZ,h4:QZ,h5:QZ,h6:QZ,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:QZ,hgroup:QZ,hr:QZ,html:{attrs:{manifest:null}},i:QZ,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:hb,formmethod:yb,formnovalidate:["novalidate"],formtarget:$R,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:QZ,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:QZ,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:QZ,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:bb,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:QZ,noscript:QZ,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:QZ,param:{attrs:{name:null,value:null}},pre:QZ,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:QZ,rt:QZ,ruby:QZ,samp:QZ,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:bb}},section:QZ,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:QZ,source:{attrs:{src:null,type:null,media:null}},span:QZ,strong:QZ,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:QZ,summary:QZ,sup:QZ,table:QZ,tbody:QZ,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:QZ,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:QZ,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:QZ,time:{attrs:{datetime:null}},title:QZ,tr:QZ,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:QZ,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:QZ},c60={accesskey:null,class:null,contenteditable:A4,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:A4,autocorrect:A4,autocapitalize:A4,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":A4,"aria-autocomplete":["inline","list","both","none"],"aria-busy":A4,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":A4,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":A4,"aria-hidden":A4,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":A4,"aria-multiselectable":A4,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":A4,"aria-relevant":null,"aria-required":A4,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},l60="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((Z)=>"on"+Z);for(let Z of l60)c60[Z]=null;class kH{constructor(Z,J){this.tags={...It0,...Z},this.globalAttrs={...c60,...J},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}kH.default=new kH;function _H(Z,J,Q=Z.length){if(!J)return"";let K=J.firstChild,U=K&&K.getChild("TagName");return U?Z.sliceString(U.from,Math.min(U.to,Q)):""}function fH(Z,J=!1){for(;Z;Z=Z.parent)if(Z.name=="Element")if(J)J=!1;else return Z;return null}function d60(Z,J,Q){let K=Q.tags[_H(Z,fH(J))];return(K===null||K===void 0?void 0:K.children)||Q.allTags}function mb(Z,J){let Q=[];for(let K=fH(J);K&&!K.type.isTop;K=fH(K.parent)){let U=_H(Z,K);if(U&&K.lastChild.name=="CloseTag")break;if(U&&Q.indexOf(U)<0&&(J.name=="EndTag"||J.from>=K.firstChild.to))Q.push(U)}return Q}var i60=/^[:\-\.\w\u00b7-\uffff]*$/;function u60(Z,J,Q,K,U){let X=/\s*>/.test(Z.sliceDoc(U,U+5))?"":">",Y=fH(Q,Q.name=="StartTag"||Q.name=="TagName");return{from:K,to:U,options:d60(Z.doc,Y,J).map((q)=>({label:q,type:"type"})).concat(mb(Z.doc,Q).map((q,W)=>({label:"/"+q,apply:"/"+q+X,type:"type",boost:99-W}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function g60(Z,J,Q,K){let U=/\s*>/.test(Z.sliceDoc(K,K+5))?"":">";return{from:Q,to:K,options:mb(Z.doc,J).map((X,Y)=>({label:X,apply:X+U,type:"type",boost:99-Y})),validFor:i60}}function At0(Z,J,Q,K){let U=[],X=0;for(let Y of d60(Z.doc,Q,J))U.push({label:"<"+Y,type:"type"});for(let Y of mb(Z.doc,Q))U.push({label:"</"+Y+">",type:"type",boost:99-X++});return{from:K,to:K,options:U,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Nt0(Z,J,Q,K,U){let X=fH(Q),Y=X?J.tags[_H(Z.doc,X)]:null,q=Y&&Y.attrs?Object.keys(Y.attrs):[],W=Y&&Y.globalAttrs===!1?q:q.length?q.concat(J.globalAttrNames):J.globalAttrNames;return{from:K,to:U,options:W.map((G)=>({label:G,type:"property"})),validFor:i60}}function Et0(Z,J,Q,K,U){var X;let Y=(X=Q.parent)===null||X===void 0?void 0:X.getChild("AttributeName"),q=[],W=void 0;if(Y){let G=Z.sliceDoc(Y.from,Y.to),z=J.globalAttrs[G];if(!z){let H=fH(Q),F=H?J.tags[_H(Z.doc,H)]:null;z=(F===null||F===void 0?void 0:F.attrs)&&F.attrs[G]}if(z){let H=Z.sliceDoc(K,U).toLowerCase(),F='"',M='"';if(/^['"]/.test(H))W=H[0]=='"'?/^[^"]*$/:/^[^']*$/,F="",M=Z.sliceDoc(U,U+1)==H[0]?"":H[0],H=H.slice(1),K++;else W=/^[^\s<>='"]*$/;for(let B of z)q.push({label:B,apply:F+B+M,type:"constant"})}}return{from:K,to:U,options:q,validFor:W}}function s60(Z,J){let{state:Q,pos:K}=J,U=q9(Q).resolveInner(K,-1),X=U.resolve(K);for(let Y=K,q;X==U&&(q=U.childBefore(Y));){let W=q.lastChild;if(!W||!W.type.isError||W.from<W.to)break;X=U=q,Y=W.from}if(U.name=="TagName")return U.parent&&/CloseTag$/.test(U.parent.name)?g60(Q,U,U.from,K):u60(Q,Z,U,U.from,K);else if(U.name=="StartTag"||U.name=="IncompleteTag")return u60(Q,Z,U,K,K);else if(U.name=="StartCloseTag"||U.name=="IncompleteCloseTag")return g60(Q,U,K,K);else if(U.name=="OpenTag"||U.name=="SelfClosingTag"||U.name=="AttributeName")return Nt0(Q,Z,U,U.name=="AttributeName"?U.from:K,K);else if(U.name=="Is"||U.name=="AttributeValue"||U.name=="UnquotedAttributeValue")return Et0(Q,Z,U,U.name=="Is"?K:U.from,K);else if(J.explicit&&(X.name=="Element"||X.name=="Text"||X.name=="Document"))return At0(Q,Z,U,K);else return null}function r60(Z){return s60(kH.default,Z)}function Vt0(Z){let{extraTags:J,extraGlobalAttributes:Q}=Z,K=Q||J?new kH(J,Q):kH.default;return(U)=>s60(K,U)}var Pt0=tK.parser.configure({top:"SingleExpression"}),n60=[{tag:"script",attrs:(Z)=>Z.type=="text/typescript"||Z.lang=="ts",parser:fb.parser},{tag:"script",attrs:(Z)=>Z.type=="text/babel"||Z.type=="text/jsx",parser:vb.parser},{tag:"script",attrs:(Z)=>Z.type=="text/typescript-jsx",parser:xb.parser},{tag:"script",attrs(Z){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(Z.type)},parser:Pt0},{tag:"script",attrs(Z){return!Z.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(Z.type)},parser:tK.parser},{tag:"style",attrs(Z){return(!Z.lang||Z.lang=="css")&&(!Z.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(Z.type))},parser:TR.parser}],a60=[{name:"style",parser:TR.parser.configure({top:"Styles"})}].concat(l60.map((Z)=>({name:Z,parser:tK.parser}))),o60=wX.define({name:"html",parser:F60.configure({props:[$X.add({Element(Z){let J=/^(\s*)(<\/)?/.exec(Z.textAfter);if(Z.node.to<=Z.pos+J[0].length)return Z.continue();return Z.lineIndent(Z.node.from)+(J[2]?0:Z.unit)},"OpenTag CloseTag SelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit},Document(Z){if(Z.pos+/\s*/.exec(Z.textAfter)[0].length<Z.node.to)return Z.continue();let J=null,Q;for(let K=Z.node;;){let U=K.lastChild;if(!U||U.name!="Element"||U.to!=K.to)break;J=K=U}if(J&&!((Q=J.lastChild)&&(Q.name=="CloseTag"||Q.name=="SelfClosingTag")))return Z.lineIndent(J.from)+Z.unit;return null}}),t5.add({Element(Z){let{firstChild:J,lastChild:Q}=Z;if(!J||J.name!="OpenTag")return null;return{from:J.to,to:Q.name=="CloseTag"?Q.from:Z.to}}}),Vx.add({"OpenTag CloseTag":(Z)=>Z.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),kE=o60.configure({wrap:jb(n60,a60)});function t60(Z={}){let J="",Q;if(Z.matchClosingTags===!1)J="noMatch";if(Z.selfClosingTags===!0)J=(J?J+" ":"")+"selfClosing";if(Z.nestedLanguages&&Z.nestedLanguages.length||Z.nestedAttributes&&Z.nestedAttributes.length)Q=jb((Z.nestedLanguages||[]).concat(n60),(Z.nestedAttributes||[]).concat(a60));let K=Q?o60.configure({wrap:Q,dialect:J}):J?kE.configure({dialect:J}):kE;return new o5(K,[kE.data.of({autocomplete:Vt0(Z)}),Z.autoCloseTags!==!1?Ct0:[],m60().support,C60().support])}var p60=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Ct0=C8.inputHandler.of((Z,J,Q,K,U)=>{if(Z.composing||Z.state.readOnly||J!=Q||K!=">"&&K!="/"||!kE.isActiveAt(Z.state,J,-1))return!1;let X=U(),{state:Y}=X,q=Y.changeByRange((W)=>{var G,z,H;let F=Y.doc.sliceString(W.from-1,W.to)==K,{head:M}=W,B=q9(Y).resolveInner(M,-1),O;if(F&&K==">"&&B.name=="EndTag"){let R=B.parent;if(((z=(G=R.parent)===null||G===void 0?void 0:G.lastChild)===null||z===void 0?void 0:z.name)!="CloseTag"&&(O=_H(Y.doc,R.parent,M))&&!p60.has(O)){let L=M+(Y.doc.sliceString(M,M+1)===">"?1:0),D=`</${O}>`;return{range:W,changes:{from:M,to:L,insert:D}}}}else if(F&&K=="/"&&B.name=="IncompleteCloseTag"){let R=B.parent;if(B.from==M-2&&((H=R.lastChild)===null||H===void 0?void 0:H.name)!="CloseTag"&&(O=_H(Y.doc,R,M))&&!p60.has(O)){let L=M+(Y.doc.sliceString(M,M+1)===">"?1:0),D=`${O}>`;return{range:e0.cursor(M+D.length,-1),changes:{from:M,to:L,insert:D}}}}return{range:W}});if(q.changes.empty)return!1;return Z.dispatch([X,Y.update(q,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var J40=UR({commentTokens:{block:{open:"<!--",close:"-->"}}}),Q40=new WZ,K40=wQ0.configure({props:[t5.add((Z)=>{return!Z.is("Block")||Z.is("Document")||pb(Z)!=null||jt0(Z)?void 0:(J,Q)=>({from:Q.doc.lineAt(J.from).to,to:J.to})}),Q40.add(pb),$X.add({Document:()=>null}),J1.add({Document:J40})]});function pb(Z){let J=/^(?:ATX|Setext)Heading(\d)$/.exec(Z.name);return J?+J[1]:void 0}function jt0(Z){return Z.name=="OrderedList"||Z.name=="BulletList"}function St0(Z,J){let Q=Z;for(;;){let K=Q.nextSibling,U;if(!K||(U=pb(K.type))!=null&&U<=J)break;Q=K}return Q.to}var Tt0=Nx.of((Z,J,Q)=>{for(let K=q9(Z).resolveInner(Q,-1);K;K=K.parent){if(K.from<J)break;let U=K.type.prop(Q40);if(U==null)continue;let X=St0(K,U);if(X>Q)return{from:Q,to:X}}return null});function cb(Z){return new T6(J40,Z,[],"markdown")}var wt0=cb(K40),$t0=K40.configure([fQ0,bQ0,xQ0,yQ0,{props:[t5.add({Table:(Z,J)=>({from:J.doc.lineAt(Z.from).to,to:Z.to})})]}]),fE=cb($t0);function kt0(Z,J){return(Q)=>{if(Q&&Z){let K=null;if(Q=/\S*/.exec(Q)[0],typeof Z=="function")K=Z(Q);else K=XR.matchLanguageName(Z,Q,!0);if(K instanceof XR)return K.support?K.support.language.parser:BH.getSkippingParser(K.load());else if(K)return K.parser}return J?J.parser:null}}class _E{constructor(Z,J,Q,K,U,X,Y){this.node=Z,this.from=J,this.to=Q,this.spaceBefore=K,this.spaceAfter=U,this.type=X,this.item=Y}blank(Z,J=!0){let Q=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(Z!=null){while(Q.length<Z)Q+=" ";return Q}else{for(let K=this.to-this.from-Q.length-this.spaceAfter.length;K>0;K--)Q+=" ";return Q+(J?this.spaceAfter:"")}}marker(Z,J){let Q=this.node.name=="OrderedList"?String(+X40(this.item,Z)[2]+J):"";return this.spaceBefore+Q+this.type+this.spaceAfter}}function U40(Z,J){let Q=[],K=[];for(let U=Z;U;U=U.parent){if(U.name=="FencedCode")return K;if(U.name=="ListItem"||U.name=="Blockquote")Q.push(U)}for(let U=Q.length-1;U>=0;U--){let X=Q[U],Y,q=J.lineAt(X.from),W=X.from-q.from;if(X.name=="Blockquote"&&(Y=/^ *>( ?)/.exec(q.text.slice(W))))K.push(new _E(X,W,W+Y[0].length,"",Y[1],">",null));else if(X.name=="ListItem"&&X.parent.name=="OrderedList"&&(Y=/^( *)\d+([.)])( *)/.exec(q.text.slice(W)))){let G=Y[3],z=Y[0].length;if(G.length>=4)G=G.slice(0,G.length-4),z-=4;K.push(new _E(X.parent,W,W+z,Y[1],G,Y[2],X))}else if(X.name=="ListItem"&&X.parent.name=="BulletList"&&(Y=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(q.text.slice(W)))){let G=Y[4],z=Y[0].length;if(G.length>4)G=G.slice(0,G.length-4),z-=4;let H=Y[2];if(Y[3])H+=Y[3].replace(/[xX]/," ");K.push(new _E(X.parent,W,W+z,Y[1],G,H,X))}}return K}function X40(Z,J){return/^(\s*)(\d+)(?=[.)])/.exec(J.sliceString(Z.from,Z.from+10))}function ub(Z,J,Q,K=0){for(let U=-1,X=Z;;){if(X.name=="ListItem"){let q=X40(X,J),W=+q[2];if(U>=0){if(W!=U+1)return;Q.push({from:X.from+q[1].length,to:X.from+q[0].length,insert:String(U+2+K)})}U=W}let Y=X.nextSibling;if(!Y)break;X=Y}}function lb(Z,J){let Q=/^[ \t]*/.exec(Z)[0].length;if(!Q||J.facet(K1)!="\t")return Z;let K=gQ(Z,4,Q),U="";for(let X=K;X>0;)if(X>=4)U+="\t",X-=4;else U+=" ",X--;return U+Z.slice(Q)}var _t0=(Z={})=>({state:J,dispatch:Q})=>{let K=q9(J),{doc:U}=J,X=null,Y=J.changeByRange((q)=>{if(!q.empty||!fE.isActiveAt(J,q.from,-1)&&!fE.isActiveAt(J,q.from,1))return X={range:q};let W=q.from,G=U.lineAt(W),z=U40(K.resolveInner(W,-1),U);while(z.length&&z[z.length-1].from>W-G.from)z.pop();if(!z.length)return X={range:q};let H=z[z.length-1];if(H.to-H.spaceAfter.length>W-G.from)return X={range:q};let F=W>=H.to-H.spaceAfter.length&&!/\S/.test(G.text.slice(H.to));if(H.item&&F){let L=H.node.firstChild,D=H.node.getChild("ListItem","ListItem");if(L.to>=W||D&&D.to<W||G.from>0&&!/[^\s>]/.test(U.lineAt(G.from-1).text)||Z.nonTightLists===!1){let A=z.length>1?z[z.length-2]:null,V,N="";if(A&&A.item)V=G.from+A.from,N=A.marker(U,1);else V=G.from+(A?A.to:0);let E=[{from:V,to:W,insert:N}];if(H.node.name=="OrderedList")ub(H.item,U,E,-2);if(A&&A.node.name=="OrderedList")ub(A.item,U,E);return{range:e0.cursor(V+N.length),changes:E}}else{let A=Z40(z,J,G);return{range:e0.cursor(W+A.length+1),changes:{from:G.from,insert:A+J.lineBreak}}}}if(H.node.name=="Blockquote"&&F&&G.from){let L=U.lineAt(G.from-1),D=/>\s*$/.exec(L.text);if(D&&D.index==H.from){let A=J.changes([{from:L.from+D.index,to:L.to},{from:G.from+H.from,to:G.to}]);return{range:q.map(A),changes:A}}}let M=[];if(H.node.name=="OrderedList")ub(H.item,U,M);let B=H.item&&H.item.from<G.from,O="";if(!B||/^[\s\d.)\-+*>]*/.exec(G.text)[0].length>=H.to)for(let L=0,D=z.length-1;L<=D;L++)O+=L==D&&!B?z[L].marker(U,1):z[L].blank(L<D?gQ(G.text,4,z[L+1].from)-O.length:null);let R=W;while(R>G.from&&/\s/.test(G.text.charAt(R-G.from-1)))R--;if(O=lb(O,J),vt0(H.node,J.doc))O=Z40(z,J,G)+J.lineBreak+O;return M.push({from:R,to:W,insert:J.lineBreak+O}),{range:e0.cursor(R+O.length+1),changes:M}});if(X)return!1;return Q(J.update(Y,{scrollIntoView:!0,userEvent:"input"})),!0},ft0=_t0();function e60(Z){return Z.name=="QuoteMark"||Z.name=="ListMark"}function vt0(Z,J){if(Z.name!="OrderedList"&&Z.name!="BulletList")return!1;let Q=Z.firstChild,K=Z.getChild("ListItem","ListItem");if(!K)return!1;let U=J.lineAt(Q.to),X=J.lineAt(K.from),Y=/^[\s>]*$/.test(U.text);return U.number+(Y?0:1)<X.number}function Z40(Z,J,Q){let K="";for(let U=0,X=Z.length-2;U<=X;U++)K+=Z[U].blank(U<X?gQ(Q.text,4,Z[U+1].from)-K.length:null,U<X);return lb(K,J)}function xt0(Z,J){let Q=Z.resolveInner(J,-1),K=J;if(e60(Q))K=Q.from,Q=Q.parent;for(let U;U=Q.childBefore(K);)if(e60(U))K=U.from;else if(U.name=="OrderedList"||U.name=="BulletList")Q=U.lastChild,K=Q.to;else break;return Q}var bt0=({state:Z,dispatch:J})=>{let Q=q9(Z),K=null,U=Z.changeByRange((X)=>{let Y=X.from,{doc:q}=Z;if(X.empty&&fE.isActiveAt(Z,X.from)){let W=q.lineAt(Y),G=U40(xt0(Q,Y),q);if(G.length){let z=G[G.length-1],H=z.to-z.spaceAfter.length+(z.spaceAfter?1:0);if(Y-W.from>H&&!/\S/.test(W.text.slice(H,Y-W.from)))return{range:e0.cursor(W.from+H),changes:{from:W.from+H,to:Y}};if(Y-W.from==H&&(!z.item||W.from<=z.item.from||!/\S/.test(W.text.slice(0,z.to)))){let F=W.from+z.from;if(z.item&&z.node.from<z.item.from&&/\S/.test(W.text.slice(z.from,z.to))){let M=z.blank(gQ(W.text,4,z.to)-gQ(W.text,4,z.from));if(F==W.from)M=lb(M,Z);return{range:e0.cursor(F+M.length),changes:{from:F,to:W.from+z.to,insert:M}}}if(F<Y)return{range:e0.cursor(F),changes:{from:F,to:Y}}}}}return K={range:X}});if(K)return!1;return J(Z.update(U,{scrollIntoView:!0,userEvent:"delete"})),!0},yt0=[{key:"Enter",run:ft0},{key:"Backspace",run:bt0}],Y40=t60({matchClosingTags:!1});function q40(Z={}){let{codeLanguages:J,defaultCodeLanguage:Q,addKeymap:K=!0,base:{parser:U}=wt0,completeHTMLTags:X=!0,pasteURLAsLink:Y=!0,htmlTagLanguage:q=Y40}=Z;if(!(U instanceof VR))throw RangeError("Base parser provided to `markdown` should be a Markdown parser");let W=Z.extensions?[Z.extensions]:[],G=[q.support,Tt0],z;if(Y)G.push(gt0);if(Q instanceof o5)G.push(Q.support),z=Q.language;else if(Q)z=Q;let H=J||z?kt0(J,z):void 0;if(W.push($Q0({codeParser:H,htmlParser:q.language.parser})),K)G.push(P6.high(aY.of(yt0)));let F=cb(U.configure(W));if(X)G.push(F.data.of({autocomplete:ht0}));return new o5(F,G)}function ht0(Z){let{state:J,pos:Q}=Z,K=/<[:\-\.\w\u00b7-\uffff]*$/.exec(J.sliceDoc(Q-25,Q));if(!K)return null;let U=q9(J).resolveInner(Q,-1);while(U&&!U.type.isTop){if(U.name=="CodeBlock"||U.name=="FencedCode"||U.name=="ProcessingInstructionBlock"||U.name=="CommentBlock"||U.name=="Link"||U.name=="Image")return null;U=U.parent}return{from:Q-K[0].length,to:Q,options:mt0(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}var gb=null;function mt0(){if(gb)return gb;let Z=r60(new OR(vZ.create({extensions:Y40}),0,!0));return gb=Z?Z.options:[]}var ut0=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,gt0=C8.domEventHandlers({paste:(Z,J)=>{var Q;let{main:K}=J.state.selection;if(K.empty)return!1;let U=(Q=Z.clipboardData)===null||Q===void 0?void 0:Q.getData("text/plain");if(!U||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(U))return!1;if(/^www\./.test(U))U="https://"+U;if(!fE.isActiveAt(J.state,K.from,1))return!1;let X=q9(J.state),Y=!1;if(X.iterate({from:K.from,to:K.to,enter:(q)=>{if(q.from>K.from||ut0.test(q.name))Y=!0},leave:(q)=>{if(q.to<K.to)Y=!0}}),Y)return!1;return J.dispatch({changes:[{from:K.from,insert:"["},{from:K.to,insert:`](${U})`}],userEvent:"input.paste",scrollIntoView:!0}),!0}});var pt0="#e5c07b",W40="#e06c75",ct0="#56b6c2",lt0="#ffffff",vE="#abb2bf",ib="#7d8799",dt0="#61afef",it0="#98c379",G40="#d19a66",st0="#c678dd",rt0="#21252b",z40="#2c313a",H40="#282c34",db="#353a42",nt0="#3E4451",F40="#528bff";var at0=C8.theme({"&":{color:vE,backgroundColor:H40},".cm-content":{caretColor:F40},".cm-cursor, .cm-dropCursor":{borderLeftColor:F40},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:nt0},".cm-panels":{backgroundColor:rt0,color:vE},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:H40,color:ib,border:"none"},".cm-activeLineGutter":{backgroundColor:z40},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:db},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:db,borderBottomColor:db},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:z40,color:vE}}},{dark:!0}),ot0=IH.define([{tag:R0.keyword,color:st0},{tag:[R0.name,R0.deleted,R0.character,R0.propertyName,R0.macroName],color:W40},{tag:[R0.function(R0.variableName),R0.labelName],color:dt0},{tag:[R0.color,R0.constant(R0.name),R0.standard(R0.name)],color:G40},{tag:[R0.definition(R0.name),R0.separator],color:vE},{tag:[R0.typeName,R0.className,R0.number,R0.changed,R0.annotation,R0.modifier,R0.self,R0.namespace],color:pt0},{tag:[R0.operator,R0.operatorKeyword,R0.url,R0.escape,R0.regexp,R0.link,R0.special(R0.string)],color:ct0},{tag:[R0.meta,R0.comment],color:ib},{tag:R0.strong,fontWeight:"bold"},{tag:R0.emphasis,fontStyle:"italic"},{tag:R0.strikethrough,textDecoration:"line-through"},{tag:R0.link,color:ib,textDecoration:"underline"},{tag:R0.heading,fontWeight:"bold",color:W40},{tag:[R0.atom,R0.bool,R0.special(R0.variableName)],color:G40},{tag:[R0.processingInstruction,R0.string,R0.inserted],color:it0},{tag:R0.invalid,color:lt0}]),M40=[at0,QE(ot0)];var kR=null,sb=null,rb=!1;function B40(Z){let J=vZ.create({doc:"",extensions:[s70,q40(),M40,C8.updateListener.of((Q)=>{if(Q.docChanged&&!rb&&sb)sb(Q.state.doc.toString())}),C8.theme({"&":{height:"100%"},".cm-scroller":{overflow:"auto"}})]});return kR=new C8({state:J,parent:Z}),kR}function qG(Z){if(!kR)return;rb=!0,kR.dispatch({changes:{from:0,to:kR.state.doc.length,insert:Z}}),rb=!1}function O40(Z){sb=Z}nb();IU();ZL();AK();HK();w4();d6();Z6();J6();UQ();w9();yZ();AZ();lp();TZ();var tS="comm",eS="rule",ZT="decl";var mN0="@import";var uN0="@namespace",gN0="@keyframes";var pN0="@layer";var ti=Math.abs,xD=String.fromCharCode;function JT(Z){return Z.trim()}function bD(Z,J,Q){return Z.replace(J,Q)}function cN0(Z,J,Q){return Z.indexOf(J,Q)}function wq(Z,J){return Z.charCodeAt(J)|0}function $q(Z,J,Q){return Z.slice(J,Q)}function b4(Z){return Z.length}function lN0(Z){return Z.length}function VF(Z,J){return J.push(Z),Z}var QT=1,PF=1,dN0=0,NK=0,X7=0,jF="";function KT(Z,J,Q,K,U,X,Y,q){return{value:Z,root:J,parent:Q,type:K,props:U,children:X,line:QT,column:PF,length:Y,return:"",siblings:q}}function iN0(){return X7}function sN0(){if(X7=NK>0?wq(jF,--NK):0,PF--,X7===10)PF=1,QT--;return X7}function EK(){if(X7=NK<dN0?wq(jF,NK++):0,PF++,X7===10)PF=1,QT++;return X7}function AY(){return wq(jF,NK)}function yD(){return NK}function UT(Z,J){return $q(jF,Z,J)}function CF(Z){switch(Z){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rN0(Z){return QT=PF=1,dN0=b4(jF=Z),NK=0,[]}function nN0(Z){return jF="",Z}function XT(Z){return JT(UT(NK-1,ei(Z===91?Z+2:Z===40?Z+1:Z)))}function aN0(Z){while(X7=AY())if(X7<33)EK();else break;return CF(Z)>2||CF(X7)>3?"":" "}function oN0(Z,J){while(--J&&EK())if(X7<48||X7>102||X7>57&&X7<65||X7>70&&X7<97)break;return UT(Z,yD()+(J<6&&AY()==32&&EK()==32))}function ei(Z){while(EK())switch(X7){case Z:return NK;case 34:case 39:if(Z!==34&&Z!==39)ei(X7);break;case 40:if(Z===41)ei(Z);break;case 92:EK();break}return NK}function tN0(Z,J){while(EK())if(Z+X7===57)break;else if(Z+X7===84&&AY()===47)break;return"/*"+UT(J,NK-1)+"*"+xD(Z===47?Z:EK())}function eN0(Z){while(!CF(AY()))EK();return UT(Z,NK)}function QE0(Z){return nN0(YT("",null,null,null,[""],Z=rN0(Z),0,[0],Z))}function YT(Z,J,Q,K,U,X,Y,q,W){var G=0,z=0,H=Y,F=0,M=0,B=0,O=1,R=1,L=1,D=0,A="",V=U,N=X,E=K,C=A;while(R)switch(B=D,D=EK()){case 40:if(B!=108&&wq(C,H-1)==58){if(cN0(C+=bD(XT(D),"&","&\f"),"&\f",ti(G?q[G-1]:0))!=-1)L=-1;break}case 34:case 39:case 91:C+=XT(D);break;case 9:case 10:case 13:case 32:C+=aN0(B);break;case 92:C+=oN0(yD()-1,7);continue;case 47:switch(AY()){case 42:case 47:if(VF(z38(tN0(EK(),yD()),J,Q,W),W),(CF(B||1)==5||CF(AY()||1)==5)&&b4(C)&&$q(C,-1,void 0)!==" ")C+=" ";break;default:C+="/"}break;case 123*O:q[G++]=b4(C)*L;case 125*O:case 59:case 0:switch(D){case 0:case 125:R=0;case 59+z:if(L==-1)C=bD(C,/\f/g,"");if(M>0&&(b4(C)-H||O===0&&B===47))VF(M>32?JE0(C+";",K,Q,H-1,W):JE0(bD(C," ","")+";",K,Q,H-2,W),W);break;case 59:C+=";";default:if(VF(E=ZE0(C,J,Q,G,z,U,q,A,V=[],N=[],H,X),X),D===123)if(z===0)YT(C,J,E,E,V,X,H,q,N);else{switch(F){case 99:if(wq(C,3)===110)break;case 108:if(wq(C,2)===97)break;default:z=0;case 100:case 109:case 115:}if(z)YT(Z,E,E,K&&VF(ZE0(Z,E,E,0,0,U,q,A,U,V=[],H,N),N),U,N,H,q,K?V:N);else YT(C,E,E,E,[""],N,0,q,N)}}G=z=M=0,O=L=1,A=C="",H=Y;break;case 58:H=1+b4(C),M=B;default:if(O<1){if(D==123)--O;else if(D==125&&O++==0&&sN0()==125)continue}switch(C+=xD(D),D*O){case 38:L=z>0?1:(C+="\f",-1);break;case 44:q[G++]=(b4(C)-1)*L,L=1;break;case 64:if(AY()===45)C+=XT(EK());F=AY(),z=H=b4(A=C+=eN0(yD())),D++;break;case 45:if(B===45&&b4(C)==2)O=0}}return X}function ZE0(Z,J,Q,K,U,X,Y,q,W,G,z,H){var F=U-1,M=U===0?X:[""],B=lN0(M);for(var O=0,R=0,L=0;O<K;++O)for(var D=0,A=$q(Z,F+1,F=ti(R=Y[O])),V=Z;D<B;++D)if(V=JT(R>0?M[D]+" "+A:bD(A,/&\f/g,M[D])))W[L++]=V;return KT(Z,J,Q,U===0?eS:q,W,G,z,H)}function z38(Z,J,Q,K){return KT(Z,J,Q,tS,xD(iN0()),$q(Z,2,-2),0,K)}function JE0(Z,J,Q,K,U){return KT(Z,J,Q,ZT,$q(Z,0,K),$q(Z,K+1,-1),K,U)}function qT(Z,J){var Q="";for(var K=0;K<Z.length;K++)Q+=J(Z[K],K,Z,J)||"";return Q}function KE0(Z,J,Q,K){switch(Z.type){case pN0:if(Z.children.length)break;case mN0:case uN0:case ZT:return Z.return=Z.return||Z.value;case tS:return"";case gN0:return Z.return=Z.value+"{"+qT(Z.children,K)+"}";case eS:if(!b4(Z.value=Z.props.join(",")))return""}return b4(Q=qT(Z.children,K))?Z.return=Z.value+"{"+Q+"}":""}My();hj();var Fp0="c4",sp8=I((Z)=>{return/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(Z)},"detector"),rp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (LE0(),RE0));return{id:Fp0,diagram:Z}},"loader"),np8={id:Fp0,detector:sp8,loader:rp8},ap8=np8,Mp0="flowchart",op8=I((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-wrapper"||J?.flowchart?.defaultRenderer==="elk")return!1;return/^\s*graph/.test(Z)},"detector"),tp8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (AT(),IT));return{id:Mp0,diagram:Z}},"loader"),ep8={id:Mp0,detector:op8,loader:tp8},Zc8=ep8,Bp0="flowchart-v2",Jc8=I((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-d3")return!1;if(J?.flowchart?.defaultRenderer==="elk")J.layout="elk";if(/^\s*graph/.test(Z)&&J?.flowchart?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*flowchart/.test(Z)},"detector"),Qc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (AT(),IT));return{id:Bp0,diagram:Z}},"loader"),Kc8={id:Bp0,detector:Jc8,loader:Qc8},Uc8=Kc8,Op0="er",Xc8=I((Z)=>{return/^\s*erDiagram/.test(Z)},"detector"),Yc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (EE0(),NE0));return{id:Op0,diagram:Z}},"loader"),qc8={id:Op0,detector:Xc8,loader:Yc8},Wc8=qc8,Rp0="gitGraph",Gc8=I((Z)=>{return/^\s*gitGraph/.test(Z)},"detector"),zc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (xy0(),vy0));return{id:Rp0,diagram:Z}},"loader"),Hc8={id:Rp0,detector:Gc8,loader:zc8},Fc8=Hc8,Lp0="gantt",Mc8=I((Z)=>{return/^\s*gantt/.test(Z)},"detector"),Bc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Kh0(),Qh0));return{id:Lp0,diagram:Z}},"loader"),Oc8={id:Lp0,detector:Mc8,loader:Bc8},Rc8=Oc8,Dp0="info",Lc8=I((Z)=>{return/^\s*info/.test(Z)},"detector"),Dc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Xh0(),Uh0));return{id:Dp0,diagram:Z}},"loader"),Ic8={id:Dp0,detector:Lc8,loader:Dc8},Ip0="pie",Ac8=I((Z)=>{return/^\s*pie/.test(Z)},"detector"),Nc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Gh0(),Wh0));return{id:Ip0,diagram:Z}},"loader"),Ec8={id:Ip0,detector:Ac8,loader:Nc8},Ap0="quadrantChart",Vc8=I((Z)=>{return/^\s*quadrantChart/.test(Z)},"detector"),Pc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (jh0(),Ch0));return{id:Ap0,diagram:Z}},"loader"),Cc8={id:Ap0,detector:Vc8,loader:Pc8},jc8=Cc8,Np0="xychart",Sc8=I((Z)=>{return/^\s*xychart(-beta)?/.test(Z)},"detector"),Tc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (rh0(),sh0));return{id:Np0,diagram:Z}},"loader"),wc8={id:Np0,detector:Sc8,loader:Tc8},$c8=wc8,Ep0="requirement",kc8=I((Z)=>{return/^\s*requirement(Diagram)?/.test(Z)},"detector"),_c8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (oh0(),ah0));return{id:Ep0,diagram:Z}},"loader"),fc8={id:Ep0,detector:kc8,loader:_c8},vc8=fc8,Vp0="sequence",xc8=I((Z)=>{return/^\s*sequenceDiagram/.test(Z)},"detector"),bc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (zm0(),Gm0));return{id:Vp0,diagram:Z}},"loader"),yc8={id:Vp0,detector:xc8,loader:bc8},hc8=yc8,Pp0="class",mc8=I((Z,J)=>{if(J?.class?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*classDiagram/.test(Z)},"detector"),uc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Om0(),Bm0));return{id:Pp0,diagram:Z}},"loader"),gc8={id:Pp0,detector:mc8,loader:uc8},pc8=gc8,Cp0="classDiagram",cc8=I((Z,J)=>{if(/^\s*classDiagram/.test(Z)&&J?.class?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*classDiagram-v2/.test(Z)},"detector"),lc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Lm0(),Rm0));return{id:Cp0,diagram:Z}},"loader"),dc8={id:Cp0,detector:cc8,loader:lc8},ic8=dc8,jp0="state",sc8=I((Z,J)=>{if(J?.state?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*stateDiagram/.test(Z)},"detector"),rc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (cm0(),pm0));return{id:jp0,diagram:Z}},"loader"),nc8={id:jp0,detector:sc8,loader:rc8},ac8=nc8,Sp0="stateDiagram",oc8=I((Z,J)=>{if(/^\s*stateDiagram-v2/.test(Z))return!0;if(/^\s*stateDiagram/.test(Z)&&J?.state?.defaultRenderer==="dagre-wrapper")return!0;return!1},"detector"),tc8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (dm0(),lm0));return{id:Sp0,diagram:Z}},"loader"),ec8={id:Sp0,detector:oc8,loader:tc8},Zl8=ec8,Tp0="journey",Jl8=I((Z)=>{return/^\s*journey/.test(Z)},"detector"),Ql8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Qu0(),Ju0));return{id:Tp0,diagram:Z}},"loader"),Kl8={id:Tp0,detector:Jl8,loader:Ql8},Ul8=Kl8,Xl8=I((Z,J,Q)=>{Z0.debug(`rendering svg for syntax error
`);let K=k7(J),U=K.append("g");K.attr("viewBox","0 0 2412 512"),T9(K,100,512,!0),U.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),U.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),U.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),U.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),U.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),U.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),U.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),U.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${Q}`)},"draw"),wp0={draw:Xl8},Yl8=wp0,ql8={db:{},renderer:wp0,parser:{parse:I(()=>{return},"parse")}},Wl8=ql8,$p0="flowchart-elk",Gl8=I((Z,J={})=>{if(/^\s*flowchart-elk/.test(Z)||/^\s*(flowchart|graph)/.test(Z)&&J?.flowchart?.defaultRenderer==="elk")return J.layout="elk",!0;return!1},"detector"),zl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (AT(),IT));return{id:$p0,diagram:Z}},"loader"),Hl8={id:$p0,detector:Gl8,loader:zl8},Fl8=Hl8,kp0="timeline",Ml8=I((Z)=>{return/^\s*timeline/.test(Z)},"detector"),Bl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Iu0(),Du0));return{id:kp0,diagram:Z}},"loader"),Ol8={id:kp0,detector:Ml8,loader:Bl8},Rl8=Ol8,_p0="mindmap",Ll8=I((Z)=>{return/^\s*mindmap/.test(Z)},"detector"),Dl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Su0(),ju0));return{id:_p0,diagram:Z}},"loader"),Il8={id:_p0,detector:Ll8,loader:Dl8},Al8=Il8,fp0="kanban",Nl8=I((Z)=>{return/^\s*kanban/.test(Z)},"detector"),El8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => ($u0(),wu0));return{id:fp0,diagram:Z}},"loader"),Vl8={id:fp0,detector:Nl8,loader:El8},Pl8=Vl8,vp0="sankey",Cl8=I((Z)=>{return/^\s*sankey(-beta)?/.test(Z)},"detector"),jl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (nu0(),ru0));return{id:vp0,diagram:Z}},"loader"),Sl8={id:vp0,detector:Cl8,loader:jl8},Tl8=Sl8,xp0="packet",wl8=I((Z)=>{return/^\s*packet(-beta)?/.test(Z)},"detector"),$l8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (eu0(),tu0));return{id:xp0,diagram:Z}},"loader"),kl8={id:xp0,detector:wl8,loader:$l8},bp0="radar",_l8=I((Z)=>{return/^\s*radar-beta/.test(Z)},"detector"),fl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (qg0(),Yg0));return{id:bp0,diagram:Z}},"loader"),vl8={id:bp0,detector:_l8,loader:fl8},yp0="block",xl8=I((Z)=>{return/^\s*block(-beta)?/.test(Z)},"detector"),bl8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (hg0(),yg0));return{id:yp0,diagram:Z}},"loader"),yl8={id:yp0,detector:xl8,loader:bl8},hl8=yl8,hp0="architecture",ml8=I((Z)=>{return/^\s*architecture/.test(Z)},"detector"),ul8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (Qp0(),Jp0));return{id:hp0,diagram:Z}},"loader"),gl8={id:hp0,detector:ml8,loader:ul8},pl8=gl8,mp0="treemap",cl8=I((Z)=>{return/^\s*treemap/.test(Z)},"detector"),ll8=I(async()=>{let{diagram:Z}=await Promise.resolve().then(() => (qp0(),Yp0));return{id:mp0,diagram:Z}},"loader"),dl8={id:mp0,detector:cl8,loader:ll8},Wp0=!1,Df=I(()=>{if(Wp0)return;Wp0=!0,U3("error",Wl8,(Z)=>{return Z.toLowerCase().trim()==="error"}),U3("---",{db:{clear:I(()=>{},"clear")},styles:{},renderer:{draw:I(()=>{},"draw")},parser:{parse:I(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:I(()=>null,"init")},(Z)=>{return Z.toLowerCase().trimStart().startsWith("---")}),AV(Fl8,Al8,pl8),AV(ap8,Pl8,ic8,pc8,Wc8,Rc8,Ic8,Ec8,vc8,hc8,Uc8,Zc8,Rl8,Fc8,Zl8,ac8,Ul8,jc8,Tl8,kl8,$c8,hl8,vl8,dl8)},"addDiagrams"),il8=I(async()=>{Z0.debug("Loading registered diagrams");let J=(await Promise.allSettled(Object.entries(B1).map(async([Q,{detector:K,loader:U}])=>{if(!U)return;try{SV(Q)}catch{try{let{diagram:X,id:Y}=await U();U3(Y,X,K)}catch(X){throw Z0.error(`Failed to load external diagram with key ${Q}. Removing from detectors.`),delete B1[Q],X}}}))).filter((Q)=>Q.status==="rejected");if(J.length>0){Z0.error(`Failed to load ${J.length} external diagrams`);for(let Q of J)Z0.error(Q);throw Error(`Failed to load ${J.length} external diagrams`)}},"loadRegisteredDiagrams"),sl8="graphics-document document";function up0(Z,J){if(Z.attr("role",sl8),J!=="")Z.attr("aria-roledescription",J)}I(up0,"setA11yDiagramInfo");function gp0(Z,J,Q,K){if(Z.insert===void 0)return;if(Q){let U=`chart-desc-${K}`;Z.attr("aria-describedby",U),Z.insert("desc",":first-child").attr("id",U).text(Q)}if(J){let U=`chart-title-${K}`;Z.attr("aria-labelledby",U),Z.insert("title",":first-child").attr("id",U).text(J)}}I(gp0,"addSVGa11yTitleDescription");var re=class Z{constructor(J,Q,K,U,X){this.type=J,this.text=Q,this.db=K,this.parser=U,this.renderer=X}static{I(this,"Diagram")}static async fromText(J,Q={}){let K=CZ(),U=J3(J,K);J=az0(J)+`
`;try{SV(U)}catch{let G=r50(U);if(!G)throw new Jh(`Diagram ${U} not found.`);let{id:z,diagram:H}=await G();U3(z,H)}let{db:X,parser:Y,renderer:q,init:W}=SV(U);if(Y.parser)Y.parser.yy=X;if(X.clear?.(),W?.(K),Q.title)X.setDiagramTitle?.(Q.title);return await Y.parse(J),new Z(U,J,X,Y,q)}async render(J,Q){await this.renderer.draw(this.text,J,Q,this)}getParser(){return this.parser}getType(){return this.type}},Gp0=[],rl8=I(()=>{Gp0.forEach((Z)=>{Z()}),Gp0=[]},"attachFunctions"),nl8=I((Z)=>{return Z.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()},"cleanupComments");function pp0(Z){let J=Z.match(Zh);if(!J)return{text:Z,metadata:{}};let Q=_1(J[1],{schema:k1})??{};Q=typeof Q==="object"&&!Array.isArray(Q)?Q:{};let K={};if(Q.displayMode)K.displayMode=Q.displayMode.toString();if(Q.title)K.title=Q.title.toString();if(Q.config)K.config=Q.config;return{text:Z.slice(J[0].length),metadata:K}}I(pp0,"extractFrontMatter");var al8=I((Z)=>{return Z.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(J,Q,K)=>"<"+Q+K.replace(/="([^"]*)"/g,"='$1'")+">")},"cleanupText"),ol8=I((Z)=>{let{text:J,metadata:Q}=pp0(Z),{displayMode:K,title:U,config:X={}}=Q;if(K){if(!X.gantt)X.gantt={};X.gantt.displayMode=K}return{title:U,config:X,text:J}},"processFrontmatter"),tl8=I((Z)=>{let J=ZZ.detectInit(Z)??{},Q=ZZ.detectDirective(Z,"wrap");if(Array.isArray(Q))J.wrap=Q.some(({type:K})=>K==="wrap");else if(Q?.type==="wrap")J.wrap=!0;return{text:lz0(Z),directive:J}},"processDirectives");function ae(Z){let J=al8(Z),Q=ol8(J),K=tl8(Q.text),U=wJ(Q.config,K.directive);return Z=nl8(K.text),{code:Z,title:Q.title,config:U}}I(ae,"preprocessDiagram");function cp0(Z){let J=new TextEncoder().encode(Z),Q=Array.from(J,(K)=>String.fromCodePoint(K)).join("");return btoa(Q)}I(cp0,"toBase64");var el8=50000,Zd8="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Jd8="sandbox",Qd8="loose",Kd8="http://www.w3.org/2000/svg",Ud8="http://www.w3.org/1999/xlink",Xd8="http://www.w3.org/1999/xhtml",Yd8="100%",qd8="100%",Wd8="border:0;margin:0;",Gd8="margin:0",zd8="allow-top-navigation-by-user-activation allow-popups",Hd8='The "iframe" tag is not supported by your browser.',Fd8=["foreignobject"],Md8=["dominant-baseline"];function oe(Z){let J=ae(Z);return Q3(),JU0(J.config??{}),J}I(oe,"processAndSetConfigs");async function lp0(Z,J){Df();try{let{code:Q,config:K}=oe(Z);return{diagramType:(await ip0(Q)).type,config:K}}catch(Q){if(J?.suppressErrors)return!1;throw Q}}I(lp0,"parse");var zp0=I((Z,J,Q=[])=>{return`
.${Z} ${J} { ${Q.join(" !important; ")} !important; }`},"cssImportantStyles"),Bd8=I((Z,J=new Map)=>{let Q="";if(Z.themeCSS!==void 0)Q+=`
${Z.themeCSS}`;if(Z.fontFamily!==void 0)Q+=`
:root { --mermaid-font-family: ${Z.fontFamily}}`;if(Z.altFontFamily!==void 0)Q+=`
:root { --mermaid-alt-font-family: ${Z.altFontFamily}}`;if(J instanceof Map){let Y=Z.htmlLabels??Z.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];J.forEach((q)=>{if(!FY(q.styles))Y.forEach((W)=>{Q+=zp0(q.id,W,q.styles)});if(!FY(q.textStyles))Q+=zp0(q.id,"tspan",(q?.textStyles||[]).map((W)=>W.replace("color","fill")))})}return Q},"createCssStyles"),Od8=I((Z,J,Q,K)=>{let U=Bd8(Z,Q),X=qU0(J,U,Z.themeVariables);return qT(QE0(`${K}{${X}}`),KE0)},"createUserStyles"),Rd8=I((Z="",J,Q)=>{let K=Z;if(!Q&&!J)K=K.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#');return K=c6(K),K=K.replace(/<br>/g,"<br/>"),K},"cleanUpSvgCode"),Ld8=I((Z="",J)=>{let Q=J?.viewBox?.baseVal?.height?J.viewBox.baseVal.height+"px":qd8,K=cp0(`<body style="${Gd8}">${Z}</body>`);return`<iframe style="width:${Yd8};height:${Q};${Wd8}" src="data:text/html;charset=UTF-8;base64,${K}" sandbox="${zd8}">
  ${Hd8}
</iframe>`},"putIntoIFrame"),Hp0=I((Z,J,Q,K,U)=>{let X=Z.append("div");if(X.attr("id",Q),K)X.attr("style",K);let Y=X.append("svg").attr("id",J).attr("width","100%").attr("xmlns",Kd8);if(U)Y.attr("xmlns:xlink",U);return Y.append("g"),Z},"appendDivSvgG");function ne(Z,J){return Z.append("iframe").attr("id",J).attr("style","width: 100%; height: 100%;").attr("sandbox","")}I(ne,"sandboxedIframe");var Dd8=I((Z,J,Q,K)=>{Z.getElementById(J)?.remove(),Z.getElementById(Q)?.remove(),Z.getElementById(K)?.remove()},"removeExistingElements"),Id8=I(async function(Z,J,Q){Df();let K=oe(J);J=K.code;let U=CZ();if(Z0.debug(U),J.length>(U?.maxTextSize??el8))J=Zd8;let X="#"+Z,Y="i"+Z,q="#"+Y,W="d"+Z,G="#"+W,z=I(()=>{let S=n0(F?q:G).node();if(S&&"remove"in S)S.remove()},"removeTempElements"),H=n0("body"),F=U.securityLevel===Jd8,M=U.securityLevel===Qd8,B=U.fontFamily;if(Q!==void 0){if(Q)Q.innerHTML="";if(F){let P=ne(n0(Q),Y);H=n0(P.nodes()[0].contentDocument.body),H.node().style.margin=0}else H=n0(Q);Hp0(H,Z,W,`font-family: ${B}`,Ud8)}else{if(Dd8(document,Z,W,Y),F){let P=ne(n0("body"),Y);H=n0(P.nodes()[0].contentDocument.body),H.node().style.margin=0}else H=n0("body");Hp0(H,Z,W)}let O,R;try{O=await re.fromText(J,{title:K.title})}catch(P){if(U.suppressErrorRendering)throw z(),P;O=await re.fromText("error"),R=P}let L=H.select(G).node(),D=O.type,A=L.firstChild,V=A.firstChild,N=O.renderer.getClasses?.(J,O),E=Od8(U,D,N,X),C=document.createElement("style");C.innerHTML=E,A.insertBefore(C,V);try{await O.renderer.draw(J,Z,_R.version,O)}catch(P){if(U.suppressErrorRendering)z();else Yl8.draw(J,Z,_R.version);throw P}let j=H.select(`${G} svg`),$=O.db.getAccTitle?.(),k=O.db.getAccDescription?.();sp0(D,j,$,k),H.select(`[id="${Z}"]`).selectAll("foreignobject > *").attr("xmlns",Xd8);let w=H.select(G).node().innerHTML;if(Z0.debug("config.arrowMarkerAbsolute",U.arrowMarkerAbsolute),w=Rd8(w,F,G9(U.arrowMarkerAbsolute)),F){let P=H.select(G+" svg").node();w=Ld8(w,P)}else if(!M)w=G1.sanitize(w,{ADD_TAGS:Fd8,ADD_ATTR:Md8,HTML_INTEGRATION_POINTS:{foreignobject:!0}});if(rl8(),R)throw R;return z(),{diagramType:D,svg:w,bindFunctions:O.db.bindFunctions}},"render");function dp0(Z={}){let J=KJ({},Z);if(J?.fontFamily&&!J.themeVariables?.fontFamily){if(!J.themeVariables)J.themeVariables={};J.themeVariables.fontFamily=J.fontFamily}if(t50(J),J?.theme&&J.theme in zU)J.themeVariables=zU[J.theme].getThemeVariables(J.themeVariables);else if(J)J.themeVariables=zU.default.getThemeVariables(J.themeVariables);let Q=typeof J==="object"?o50(J):Qh();fR(Q.logLevel),Df()}I(dp0,"initialize");var ip0=I((Z,J={})=>{let{code:Q}=ae(Z);return re.fromText(Q,J)},"getDiagramFromText");function sp0(Z,J,Q,K){up0(J,Z),gp0(J,Q,K,J.attr("id"))}I(sp0,"addA11yInfo");var az=Object.freeze({render:Id8,parse:lp0,getDiagramFromText:ip0,initialize:dp0,getConfig:CZ,setConfig:Kh,getSiteConfig:Qh,updateSiteConfig:e50,reset:I(()=>{Q3()},"reset"),globalReset:I(()=>{Q3(BG)},"globalReset"),defaultConfig:BG});fR(CZ().logLevel);Q3(CZ());var Ad8=I((Z,J,Q)=>{if(Z0.warn(Z),CC(Z)){if(Q)Q(Z.str,Z.hash);J.push({...Z,message:Z.str,error:Z})}else{if(Q)Q(Z);if(Z instanceof Error)J.push({str:Z.message,message:Z.message,hash:Z.name,error:Z})}},"handleError"),rp0=I(async function(Z={querySelector:".mermaid"}){try{await Nd8(Z)}catch(J){if(CC(J))Z0.error(J.str);if(dY.parseError)dY.parseError(J);if(!Z.suppressErrors)throw Z0.error("Use the suppressErrors option to suppress these errors"),J}},"run"),Nd8=I(async function({postRenderCallback:Z,querySelector:J,nodes:Q}={querySelector:".mermaid"}){let K=az.getConfig();Z0.debug(`${!Z?"No ":""}Callback function found`);let U;if(Q)U=Q;else if(J)U=document.querySelectorAll(J);else throw Error("Nodes and querySelector are both undefined");if(Z0.debug(`Found ${U.length} diagrams`),K?.startOnLoad!==void 0)Z0.debug("Start On Load: "+K?.startOnLoad),az.updateSiteConfig({startOnLoad:K?.startOnLoad});let X=new ZZ.InitIDGenerator(K.deterministicIds,K.deterministicIDSeed),Y,q=[];for(let W of Array.from(U)){if(Z0.info("Rendering diagram: "+W.id),W.getAttribute("data-processed"))continue;W.setAttribute("data-processed","true");let G=`mermaid-${X.next()}`;Y=W.innerHTML,Y=vC(ZZ.entityDecode(Y)).trim().replace(/<br\s*\/?>/gi,"<br/>");let z=ZZ.detectInit(Y);if(z)Z0.debug("Detected early reinit: ",z);try{let{svg:H,bindFunctions:F}=await tp0(G,Y,W);if(W.innerHTML=H,Z)await Z(G);if(F)F(W)}catch(H){Ad8(H,q,dY.parseError)}}if(q.length>0)throw q[0]},"runThrowsErrors"),np0=I(function(Z){az.initialize(Z)},"initialize"),Ed8=I(async function(Z,J,Q){if(Z0.warn("mermaid.init is deprecated. Please use run instead."),Z)np0(Z);let K={postRenderCallback:Q,querySelector:".mermaid"};if(typeof J==="string")K.querySelector=J;else if(J)if(J instanceof HTMLElement)K.nodes=[J];else K.nodes=J;await rp0(K)},"init"),Vd8=I(async(Z,{lazyLoad:J=!0}={})=>{if(Df(),AV(...Z),J===!1)await il8()},"registerExternalDiagrams"),ap0=I(function(){if(dY.startOnLoad){let{startOnLoad:Z}=az.getConfig();if(Z)dY.run().catch((J)=>Z0.error("Mermaid failed to initialize",J))}},"contentLoaded");if(typeof document<"u")window.addEventListener("load",ap0,!1);var Pd8=I(function(Z){dY.parseError=Z},"setParseErrorHandler"),Lf=[],se=!1,op0=I(async()=>{if(se)return;se=!0;while(Lf.length>0){let Z=Lf.shift();if(Z)try{await Z()}catch(J){Z0.error("Error executing queue",J)}}se=!1},"executeQueue"),Cd8=I(async(Z,J)=>{return new Promise((Q,K)=>{let U=I(()=>new Promise((X,Y)=>{az.parse(Z,J).then((q)=>{X(q),Q(q)},(q)=>{Z0.error("Error parsing",q),dY.parseError?.(q),Y(q),K(q)})}),"performCall");Lf.push(U),op0().catch(K)})},"parse"),tp0=I((Z,J,Q)=>{return new Promise((K,U)=>{let X=I(()=>new Promise((Y,q)=>{az.render(Z,J,Q).then((W)=>{Y(W),K(W)},(W)=>{Z0.error("Error parsing",W),dY.parseError?.(W),q(W),U(W)})}),"performCall");Lf.push(X),op0().catch(U)})},"render"),jd8=I(()=>{return Object.keys(B1).map((Z)=>({id:Z}))},"getRegisteredDiagramsMetadata"),dY={startOnLoad:!0,mermaidAPI:az,parse:Cd8,render:tp0,init:Ed8,run:rp0,registerExternalDiagrams:Vd8,registerLayoutLoaders:oi,initialize:np0,parseError:void 0,contentLoaded:ap0,setParseErrorHandler:Pd8,detectType:J3,registerIconPacks:bC,getRegisteredDiagramsMetadata:jd8},If=dY;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */var U00=c7(xc0(),1),K00="dark";If.initialize({startOnLoad:!1,theme:K00,securityLevel:"loose",fontFamily:"inherit"});function bc0(Z){K00=Z==="dark"?"dark":"default",If.initialize({startOnLoad:!1,theme:K00,securityLevel:"loose",fontFamily:"inherit"})}function Yi8(){return document.documentElement.getAttribute("data-theme")==="light"?"#ffffff":"#1e1e1e"}var Q00=new Map,qi8=0;function Wi8(Z){let J=Z,Q=[];J=J.replace(/```mermaid\n([\s\S]*?)```/g,(q,W)=>{let G=`mermaid-${++qi8}`;return Q.push({id:G,code:W.trim()}),`%%%MERMAID_${G}%%%`});let K=[],U=0;J=J.replace(/```(\w+)?\n([\s\S]*?)```/g,(q,W,G)=>{let z=`code-${++U}`;return K.push({id:z,lang:W||"",code:G.trim()}),`%%%CODE_${z}%%%`});let X=[],Y=0;J=J.replace(/`([^`]+)`/g,(q,W)=>{let G=`inline-${++Y}`;return X.push({id:G,code:W}),`%%%INLINE_${G}%%%`}),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(let{id:q}of Q)J=J.replace(`%%%MERMAID_${q}%%%`,`<div class="mermaid-placeholder" data-id="${q}"></div>`);for(let{id:q,lang:W,code:G}of K){let z=G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");J=J.replace(`%%%CODE_${q}%%%`,`<pre><code class="language-${W}">${z}</code></pre>`)}for(let{id:q,code:W}of X){let G=W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");J=J.replace(`%%%INLINE_${q}%%%`,`<code>${G}</code>`)}return J=J.replace(/^######\s+(.*)$/gm,"<h6>$1</h6>"),J=J.replace(/^#####\s+(.*)$/gm,"<h5>$1</h5>"),J=J.replace(/^####\s+(.*)$/gm,"<h4>$1</h4>"),J=J.replace(/^###\s+(.*)$/gm,"<h3>$1</h3>"),J=J.replace(/^##\s+(.*)$/gm,"<h2>$1</h2>"),J=J.replace(/^#\s+(.*)$/gm,"<h1>$1</h1>"),J=J.replace(/\*\*\*([^*]+)\*\*\*/g,"<strong><em>$1</em></strong>"),J=J.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),J=J.replace(/\*([^*]+)\*/g,"<em>$1</em>"),J=J.replace(/___([^_]+)___/g,"<strong><em>$1</em></strong>"),J=J.replace(/__([^_]+)__/g,"<strong>$1</strong>"),J=J.replace(/_([^_]+)_/g,"<em>$1</em>"),J=J.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),J=J.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1">'),J=J.replace(/^---+$/gm,"<hr>"),J=J.replace(/^>\s+(.*)$/gm,"<blockquote>$1</blockquote>"),J=J.replace(/^(\s*)-\s+(.*)$/gm,(q,W,G)=>{return`<li data-level="${Math.floor(W.length/2)}">${G}</li>`}),J=J.replace(/(<li[^>]*>.*<\/li>\n?)+/g,(q)=>{return`<ul>${q}</ul>`}),J=J.replace(/^(\s*)\d+\.\s+(.*)$/gm,(q,W,G)=>{return`<oli data-level="${Math.floor(W.length/2)}">${G}</oli>`}),J=J.replace(/(<oli[^>]*>.*<\/oli>\n?)+/g,(q)=>{return`<ol>${q.replace(/oli>/g,"li>")}</ol>`}),J=J.replace(/^\|(.+)\|$/gm,(q,W)=>{let G=W.split("|").map((H)=>H.trim());if(G.every((H)=>/^-+$/.test(H)))return"<!-- table-separator -->";return`<tr>${G.map((H)=>`<td>${H}</td>`).join("")}</tr>`}),J=J.replace(/(<tr>.*<\/tr>\n?)+/g,(q)=>{let W=q.split("<!-- table-separator -->");if(W.length===2&&W[0]!==void 0&&W[1]!==void 0)return`<table><thead>${W[0].replace(/<td>/g,"<th>").replace(/<\/td>/g,"</th>")}</thead><tbody>${W[1]}</tbody></table>`;return`<table>${q.replace(/<!-- table-separator -->/g,"")}</table>`}),J=J.split(`

`).map((q)=>{if(q=q.trim(),!q)return"";if(q.startsWith("<")&&(q.startsWith("<h")||q.startsWith("<ul")||q.startsWith("<ol")||q.startsWith("<table")||q.startsWith("<pre")||q.startsWith("<blockquote")||q.startsWith("<hr")||q.startsWith("<div")))return q;return`<p>${q.replace(/\n/g,"<br>")}</p>`}).join(`
`),{html:J,mermaidBlocks:Q}}async function yW(Z){let J=document.getElementById("preview");if(!J)return;for(let U of Q00.values())U.dispose();Q00.clear();let{html:Q,mermaidBlocks:K}=Wi8(Z);J.innerHTML=Q;for(let{id:U,code:X}of K){let Y=J.querySelector(`[data-id="${U}"]`);if(!Y)continue;let q=document.createElement("div");q.className="mermaid-container",q.innerHTML=`
      <div class="mermaid-toolbar">
        <button class="zoom-in" title="Zoom In">+</button>
        <button class="zoom-out" title="Zoom Out"></button>
        <button class="zoom-reset" title="Reset">Reset</button>
        <span class="toolbar-sep"></span>
        <button class="copy-svg" title="Copy SVG to clipboard">Copy</button>
        <button class="download-png" title="Download as PNG">PNG</button>
        <span class="toolbar-sep"></span>
        <button class="fullscreen-btn" title="Full Screen">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
          </svg>
        </button>
      </div>
      <div class="mermaid-viewport">
        <div class="mermaid-content"></div>
      </div>
    `;let W=q.querySelector(".mermaid-content");try{let{svg:G}=await If.render(U,X);W.innerHTML=G;let z=q.querySelector(".mermaid-viewport"),H=W.querySelector("svg");if(H){H.style.transformOrigin="center center";let F=U00.default(W,{maxZoom:5,minZoom:0.1,bounds:!1,boundsPadding:0.1});Q00.set(U,F),q.querySelector(".zoom-in")?.addEventListener("click",()=>{let R=F.getTransform();F.smoothZoom(z.clientWidth/2,z.clientHeight/2,1.25)}),q.querySelector(".zoom-out")?.addEventListener("click",()=>{let R=F.getTransform();F.smoothZoom(z.clientWidth/2,z.clientHeight/2,0.8)}),q.querySelector(".zoom-reset")?.addEventListener("click",()=>{F.moveTo(0,0),F.zoomAbs(0,0,1)});let M=q.querySelector(".copy-svg");M?.addEventListener("click",async()=>{await yc0(H,M)}),q.querySelector(".download-png")?.addEventListener("click",async()=>{await hc0(H,U)}),q.querySelector(".fullscreen-btn")?.addEventListener("click",()=>{Gi8(H,U)})}}catch(G){W.innerHTML=`<div class="mermaid-error">Error rendering diagram:
${G.message||G}</div>`}Y.replaceWith(q)}}async function yc0(Z,J){try{let Q=Z.cloneNode(!0);Q.style.transform="",await navigator.clipboard.writeText(Q.outerHTML);let K=J.textContent;J.textContent="Copied!",setTimeout(()=>{J.textContent=K},1500)}catch(Q){console.error("Failed to copy SVG:",Q),alert("Failed to copy to clipboard")}}async function hc0(Z,J){try{let Q=Z.cloneNode(!0);Q.style.transform="";let K=Z.getBBox(),U=Math.ceil(K.width+40),X=Math.ceil(K.height+40);Q.setAttribute("width",String(U)),Q.setAttribute("height",String(X));let q=new XMLSerializer().serializeToString(Q),W=new Blob([q],{type:"image/svg+xml;charset=utf-8"}),G=URL.createObjectURL(W),z=document.createElement("canvas"),H=z.getContext("2d"),F=new Image;await new Promise((M,B)=>{F.onload=()=>{z.width=U*2,z.height=X*2,H.scale(2,2),H.fillStyle=Yi8(),H.fillRect(0,0,U,X),H.drawImage(F,0,0),M()},F.onerror=B,F.src=G}),z.toBlob((M)=>{if(!M)throw Error("Failed to create PNG");let B=URL.createObjectURL(M),O=document.createElement("a");O.href=B,O.download=`${J}.png`,O.click(),URL.revokeObjectURL(G),URL.revokeObjectURL(B)},"image/png")}catch(Q){console.error("Failed to download PNG:",Q),alert("Failed to download PNG")}}function Gi8(Z,J){let Q=Z.cloneNode(!0);Q.style.transform="";let K=document.createElement("div");K.className="diagram-fullscreen-overlay",K.innerHTML=`
    <div class="fullscreen-header">
      <div class="fullscreen-toolbar">
        <button class="zoom-in" title="Zoom In">+</button>
        <button class="zoom-out" title="Zoom Out"></button>
        <button class="zoom-reset" title="Reset">Reset</button>
        <span class="toolbar-sep"></span>
        <button class="copy-svg" title="Copy SVG">Copy</button>
        <button class="download-png" title="Download PNG">PNG</button>
      </div>
      <button class="fullscreen-close" title="Close (Esc)">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="fullscreen-viewport">
      <div class="fullscreen-content"></div>
    </div>
  `;let U=K.querySelector(".fullscreen-content");U.appendChild(Q),document.body.appendChild(K),document.body.style.overflow="hidden";let X=K.querySelector(".fullscreen-viewport"),Y=U00.default(U,{maxZoom:10,minZoom:0.1,bounds:!1,boundsPadding:0.1});requestAnimationFrame(()=>{let F=Q.getBoundingClientRect(),M=X.getBoundingClientRect(),B=(M.width-F.width)/2,O=(M.height-F.height)/2;Y.moveTo(B,O)});let q=()=>{let F=Q.getBoundingClientRect(),M=Y.getTransform(),B=F.width/M.scale,O=F.height/M.scale,R=X.getBoundingClientRect();return{x:(R.width-B)/2,y:(R.height-O)/2}};K.querySelector(".zoom-in")?.addEventListener("click",()=>{Y.smoothZoom(X.clientWidth/2,X.clientHeight/2,1.25)}),K.querySelector(".zoom-out")?.addEventListener("click",()=>{Y.smoothZoom(X.clientWidth/2,X.clientHeight/2,0.8)}),K.querySelector(".zoom-reset")?.addEventListener("click",()=>{let F=q();Y.zoomAbs(0,0,1),Y.moveTo(F.x,F.y)});let W=K.querySelector(".copy-svg");W?.addEventListener("click",async()=>{await yc0(Q,W)}),K.querySelector(".download-png")?.addEventListener("click",async()=>{await hc0(Q,J)});let z=()=>{Y.dispose(),K.remove(),document.body.style.overflow="",document.removeEventListener("keydown",H)};K.querySelector(".fullscreen-close")?.addEventListener("click",z);let H=(F)=>{if(F.key==="Escape")z()};document.addEventListener("keydown",H)}class X00{tabs=[];activeTabId=null;tabSwitchCallback=null;allTabsClosedCallback=null;nextId=1;constructor(){this.loadRecentFiles(),this.renderTabs()}addTab(Z,J,Q){let K={id:`tab-${this.nextId++}`,path:Z,content:J,dirty:!1,mtime:Q};return this.tabs.push(K),this.activeTabId=K.id,this.saveRecentFiles(),this.renderTabs(),K}removeTab(Z,J=!1){let Q=this.tabs.findIndex((U)=>U.id===Z);if(Q===-1)return;let K=this.tabs[Q];if(!K)return;if(K.dirty&&!J){this.showCloseConfirmDialog(K,()=>{this.removeTab(Z,!0)});return}if(this.tabs.splice(Q,1),this.activeTabId===Z){if(this.tabs.length>0){let U=Math.min(Q,this.tabs.length-1),X=this.tabs[U];if(X)this.switchToTab(X.id)}else if(this.activeTabId=null,this.allTabsClosedCallback)this.allTabsClosedCallback()}this.saveRecentFiles(),this.renderTabs()}showCloseConfirmDialog(Z,J){let Q=document.createElement("div");Q.className="confirm-dialog",Q.innerHTML=`
      <div class="confirm-content">
        <h3>Unsaved Changes</h3>
        <p>"${this.getTabName(Z.path)}" has unsaved changes. Close anyway?</p>
        <div class="confirm-actions">
          <button class="btn" id="confirm-cancel">Cancel</button>
          <button class="btn btn-danger" id="confirm-close">Close Without Saving</button>
        </div>
      </div>
    `,document.body.appendChild(Q),Q.querySelector("#confirm-cancel")?.addEventListener("click",()=>{Q.remove()}),Q.querySelector("#confirm-close")?.addEventListener("click",()=>{Q.remove(),J()}),Q.addEventListener("click",(K)=>{if(K.target===Q)Q.remove()})}switchToTab(Z){let J=this.tabs.find((Q)=>Q.id===Z);if(!J)return;if(this.activeTabId=Z,this.renderTabs(),this.tabSwitchCallback)this.tabSwitchCallback(J)}getActiveTab(){return this.tabs.find((Z)=>Z.id===this.activeTabId)||null}findTabByPath(Z){return this.tabs.find((J)=>J.path===Z)}onTabSwitch(Z){this.tabSwitchCallback=Z}onAllTabsClosed(Z){this.allTabsClosedCallback=Z}hasDirtyTabs(){return this.tabs.some((Z)=>Z.dirty)}updateTabDisplay(){this.renderTabs()}getTabName(Z){return Z.split("/").pop()||Z}renderTabs(){let Z=document.getElementById("tabs");if(!Z)return;Z.innerHTML="";for(let J of this.tabs){let Q=document.createElement("div");Q.className=`tab${J.id===this.activeTabId?" active":""}${J.dirty?" dirty":""}`,Q.innerHTML=`
        <span class="tab-title" title="${J.path}">${this.getTabName(J.path)}</span>
        <span class="tab-close" title="Close">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </span>
      `,Q.addEventListener("click",(K)=>{if(K.target.closest(".tab-close"))this.removeTab(J.id);else this.switchToTab(J.id)}),Q.addEventListener("auxclick",(K)=>{if(K.button===1)this.removeTab(J.id)}),Z.appendChild(Q)}}saveRecentFiles(){let Z=this.tabs.map((J)=>J.path).slice(-10);localStorage.setItem("mermaid-editor-recent",JSON.stringify(Z))}loadRecentFiles(){try{let Z=localStorage.getItem("mermaid-editor-recent");if(Z)JSON.parse(Z)}catch{}}}var Pf=null;function uc0(Z){Pf=Z;let J=document.getElementById("open-file"),Q=document.getElementById("file-input");J?.addEventListener("click",()=>{Q?.click()}),Q?.addEventListener("change",async()=>{let Y=Q.files;if(!Y||Y.length===0)return;for(let q of Array.from(Y))await mc0(q);Q.value=""}),document.getElementById("save-file")?.addEventListener("click",()=>{Pf?.onFileSave()});let U=document.getElementById("drop-overlay"),X=0;document.addEventListener("dragenter",(Y)=>{Y.preventDefault(),X++,U.classList.add("visible")}),document.addEventListener("dragleave",(Y)=>{if(Y.preventDefault(),X--,X===0)U.classList.remove("visible")}),document.addEventListener("dragover",(Y)=>{Y.preventDefault()}),document.addEventListener("drop",async(Y)=>{Y.preventDefault(),X=0,U.classList.remove("visible");let q=Y.dataTransfer?.files;if(!q||q.length===0)return;for(let W of Array.from(q))if(W.name.endsWith(".md")||W.name.endsWith(".markdown"))await mc0(W)})}async function mc0(Z){if(!Pf)return;try{let J=await Z.text();Pf.onFileOpen(Z.name,J,Z.lastModified)}catch(J){console.error("Error reading file:",J),alert("Failed to read file")}}var AO=null,q00=null,Y00=null,Cf=0,zi8=10,Hi8=2000;function gc0(Z){q00=Z,pc0()}function pc0(){if(AO?.readyState===WebSocket.OPEN)return;let J=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;AO=new WebSocket(J),AO.onopen=()=>{console.log("WebSocket connected"),Cf=0},AO.onmessage=(Q)=>{try{let K=JSON.parse(Q.data);if(K.type==="file-change"&&q00)q00.onFileChange(K.path,K.content)}catch(K){console.error("Error processing WebSocket message:",K)}},AO.onclose=()=>{console.log("WebSocket disconnected"),Fi8()},AO.onerror=(Q)=>{console.error("WebSocket error:",Q)}}function Fi8(){if(Y00)return;if(Cf>=zi8){console.log("Max reconnection attempts reached");return}Cf++;let Z=Hi8*Math.min(Cf,5);Y00=window.setTimeout(()=>{Y00=null,pc0()},Z)}function cc0(){let Z=document.getElementById("divider"),J=document.getElementById("editor-pane"),Q=document.getElementById("preview-pane"),K=document.getElementById("split-pane");if(!Z||!J||!Q||!K)return;let U=!1,X=0,Y=0;Z.addEventListener("mousedown",(q)=>{U=!0,X=q.clientX,Y=J.offsetWidth,Z.classList.add("dragging"),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}),document.addEventListener("mousemove",(q)=>{if(!U)return;let W=q.clientX-X,G=Y+W,z=K.offsetWidth,H=200,F=z-H-4;if(G>=H&&G<=F){let M=G/z*100,B=100-M-4/z*100;J.style.flex="none",J.style.width=`${M}%`,Q.style.flex="none",Q.style.width=`${B}%`}}),document.addEventListener("mouseup",()=>{if(U)U=!1,Z.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""}),Z.addEventListener("dblclick",()=>{J.style.flex="1",J.style.width="",Q.style.flex="1",Q.style.width=""})}var ic0=null,oA=[],tA=null,lc0=typeof window.showDirectoryPicker==="function",W00=null;function sc0(Z){W00=Z}async function rc0(){Bi8(),Zl0()}async function oz(){if(lc0&&window.showDirectoryPicker)try{tA=await window.showDirectoryPicker({mode:"readwrite"}),await ac0(),nc0()}catch(Z){if(Z.name==="AbortError")return;console.warn("showDirectoryPicker failed, using fallback:",Z),lc0=!1,dc0()}else dc0()}function dc0(){let Z=document.getElementById("folder-input");if(Z)Z.click()}function nc0(){let Z=document.getElementById("refresh-files");if(Z)Z.style.display=""}async function ac0(){let Z=document.getElementById("file-tree");if(!Z)return;if(!tA&&oA.length===0){Zl0();return}try{if(Z.innerHTML='<div class="file-tree-loading">Loading...</div>',tA)oA=await oc0(tA,"");G00(Z,oA)}catch(J){console.error("Failed to load file tree:",J),Z.innerHTML='<div class="file-tree-empty">Failed to load files</div>'}}async function oc0(Z,J){let Q=[];for await(let K of Z.values()){let U=J?`${J}/${K.name}`:K.name;if(K.kind==="directory"){let X=await oc0(K,U);if(X.length>0)Q.push({name:K.name,path:U,type:"folder",children:X,expanded:!0})}else if(K.kind==="file"&&(K.name.endsWith(".md")||K.name.endsWith(".markdown")))Q.push({name:K.name,path:U,type:"file",handle:K})}return tc0(Q),Q}function Mi8(Z){let J=[];for(let Q of Array.from(Z)){if(!Q.name.endsWith(".md")&&!Q.name.endsWith(".markdown"))continue;let X=Q.webkitRelativePath.split("/").slice(1);if(X.length===0)continue;let Y=J;for(let q=0;q<X.length;q++){let W=X[q];if(!W)continue;let G=q===X.length-1,z=X.slice(0,q+1).join("/"),H=Y.find((F)=>F.name===W);if(!H)H={name:W,path:z,type:G?"file":"folder",children:G?void 0:[],expanded:!0,file:G?Q:void 0},Y.push(H);if(!G&&H.children)Y=H.children}}return ec0(J),J}function tc0(Z){Z.sort((J,Q)=>{if(J.type!==Q.type)return J.type==="folder"?-1:1;return J.name.localeCompare(Q.name)})}function ec0(Z){tc0(Z);for(let J of Z)if(J.children)ec0(J.children)}function Zl0(){let Z=document.getElementById("file-tree");if(!Z)return;Z.innerHTML=`
    <div class="file-tree-empty">
      <p>No folder open</p>
      <button class="file-tree-open-btn" id="file-tree-open-folder">Open Folder</button>
    </div>
  `,document.getElementById("file-tree-open-folder")?.addEventListener("click",oz)}function G00(Z,J,Q=0){if(J.length===0){Z.innerHTML='<div class="file-tree-empty">No markdown files found</div>';return}if(Q===0)Z.innerHTML="";for(let K of J){let U=document.createElement("div");U.className=`file-tree-item ${K.type}${K.path===ic0?" active":""}`,U.style.paddingLeft=`${12+Q*16}px`,U.dataset.path=K.path;let X=document.createElement("span");if(X.className="file-tree-icon",K.type==="folder")X.innerHTML=K.expanded?'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>';else X.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>';let Y=document.createElement("span");if(Y.className="file-tree-name",Y.textContent=K.name,U.appendChild(X),U.appendChild(Y),Z.appendChild(U),K.type==="folder"){if(U.addEventListener("click",(q)=>{q.stopPropagation(),K.expanded=!K.expanded;let W=U.nextElementSibling;if(W?.classList.contains("file-tree-children"))W.classList.toggle("expanded",K.expanded);X.innerHTML=K.expanded?'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>'}),K.children&&K.children.length>0){let q=document.createElement("div");q.className=`file-tree-children${K.expanded?" expanded":""}`,Z.appendChild(q),G00(q,K.children,Q+1)}}else U.addEventListener("click",async()=>{try{let q;if(K.handle)q=await(await K.handle.getFile()).text();else if(K.file)q=await K.file.text();else throw Error("No file source available");if(W00)W00(K.path,q,K.handle);hW(K.path)}catch(q){console.error("Failed to read file:",q),alert("Failed to read file")}})}}function hW(Z){ic0=Z;let J=document.getElementById("file-tree");if(!J)return;J.querySelectorAll(".file-tree-item.active").forEach((K)=>{K.classList.remove("active")});let Q=J.querySelector(`[data-path="${Z}"]`);if(Q)Q.classList.add("active")}function Bi8(){let Z=document.getElementById("sidebar"),J=document.getElementById("sidebar-divider"),Q=document.getElementById("refresh-files"),K=document.getElementById("open-folder"),U=document.getElementById("folder-input");if(K?.addEventListener("click",oz),U?.addEventListener("change",()=>{let X=U.files;if(!X||X.length===0)return;oA=Mi8(X);let Y=document.getElementById("file-tree");if(Y)G00(Y,oA);nc0(),U.value=""}),Q?.addEventListener("click",()=>{if(tA)ac0();else oz()}),J&&Z){let X=!1;J.addEventListener("mousedown",()=>{X=!0,J.classList.add("dragging"),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}),document.addEventListener("mousemove",(Y)=>{if(!X)return;let q=Y.clientX;if(q>=180&&q<=400)Z.style.width=`${q}px`}),document.addEventListener("mouseup",()=>{if(X)X=!1,J.classList.remove("dragging"),document.body.style.cursor="",document.body.style.userSelect=""})}}var Jl0=new Map;function Ql0(Z){return Jl0.get(Z)}function Kl0(Z,J){Jl0.set(Z,J)}async function Ul0(){let Z=document.getElementById("editor"),J=B40(Z),Q=new X00;O40((K)=>{let U=Q.getActiveTab();if(U)U.content=K,U.dirty=!0,Q.updateTabDisplay(),PX("dirty");z00(K),yW(K)}),Q.onTabSwitch((K)=>{qG(K.content),z00(K.content),yW(K.content),PX(K.dirty?"dirty":"saved"),hW(K.path)}),Q.onAllTabsClosed(()=>{qG(""),z00(""),Xl0(),PX("saved"),hW("")}),uc0({onFileOpen:(K,U)=>{let X=Q.findTabByPath(K);if(X){Q.switchToTab(X.id),hW(K),Sf();return}let Y=Q.addTab(K,U);qG(U),yW(U),PX("saved"),hW(K),Sf()},onFileSave:async()=>{let K=Q.getActiveTab();if(!K)return;try{PX("syncing");let U=Ql0(K.path);if(U){let X=await U.createWritable();await X.write(K.content),await X.close(),K.dirty=!1,Q.updateTabDisplay(),PX("saved")}else{let X=await fetch("/api/file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:K.path,content:K.content})});if(X.ok){let Y=await X.json();K.dirty=!1,K.mtime=Y.mtime,Q.updateTabDisplay(),PX("saved")}else throw Error("Failed to save")}}catch(U){console.error("Save failed:",U),PX("dirty"),alert("Failed to save file")}}}),gc0({onFileChange:(K,U)=>{let X=Q.findTabByPath(K);if(!X)return;if(X.dirty)Di8(X,U,()=>{},()=>{if(X.content=U,X.dirty=!1,Q.updateTabDisplay(),Q.getActiveTab()?.id===X.id)qG(U),yW(U),PX("saved")});else if(X.content=U,Q.updateTabDisplay(),Q.getActiveTab()?.id===X.id)qG(U),yW(U)}}),cc0(),document.addEventListener("keydown",(K)=>{if((K.ctrlKey||K.metaKey)&&K.key==="s")K.preventDefault(),document.getElementById("save-file")?.click();if((K.ctrlKey||K.metaKey)&&K.key==="o"&&!K.shiftKey)K.preventDefault(),document.getElementById("file-input")?.click();if((K.ctrlKey||K.metaKey)&&K.shiftKey&&K.key==="O")K.preventDefault(),oz();if((K.ctrlKey||K.metaKey)&&K.key==="b")K.preventDefault(),Yl0()}),Oi8(),Li8(),Ri8(),Ii8(),Ei8(),sc0((K,U,X)=>{let Y=Q.findTabByPath(K);if(Y){Q.switchToTab(Y.id),hW(K),Sf();return}if(X)Kl0(K,X);let q=Q.addTab(K,U);qG(U),yW(U),PX("saved"),hW(K),Sf()}),rc0(),Xl0()}function PX(Z){let J=document.getElementById("file-status");switch(J.className="file-status "+Z,Z){case"dirty":J.textContent="Unsaved changes";break;case"saved":J.textContent="Saved";break;case"syncing":J.textContent="Saving...";break}}function Xl0(){let Z=document.getElementById("preview");Z.innerHTML=`
    <div class="empty-state">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="16" y1="13" x2="8" y2="13"/>
        <line x1="16" y1="17" x2="8" y2="17"/>
        <polyline points="10 9 9 9 8 9"/>
      </svg>
      <h2>No file open</h2>
      <p>Open a markdown file to get started</p>
      <div class="empty-state-actions">
        <button class="btn" id="empty-open-file">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
          </svg>
          Open File
        </button>
        <button class="btn" id="empty-open-folder">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
          </svg>
          Open Folder
        </button>
      </div>
    </div>
  `,NO("preview"),Wl0(!1),document.getElementById("empty-open-file")?.addEventListener("click",()=>{document.getElementById("file-input")?.click()}),document.getElementById("empty-open-folder")?.addEventListener("click",()=>{oz()})}var jf=!0;function Yl0(){let Z=document.getElementById("sidebar"),J=document.getElementById("toggle-sidebar");jf=!jf,Z?.classList.toggle("hidden",!jf),J?.classList.toggle("active",jf)}function Oi8(){document.getElementById("toggle-sidebar")?.addEventListener("click",Yl0)}function Ri8(){let Z=document.getElementById("open-dropdown"),J=document.getElementById("open-menu-btn"),Q=document.getElementById("menu-open-file"),K=document.getElementById("menu-open-folder");J?.addEventListener("click",(U)=>{U.stopPropagation(),Z?.classList.toggle("open")}),document.addEventListener("click",()=>{Z?.classList.remove("open")}),Q?.addEventListener("click",()=>{Z?.classList.remove("open"),document.getElementById("file-input")?.click()}),K?.addEventListener("click",()=>{Z?.classList.remove("open"),oz()})}var ql0="split",EO=null;function NO(Z){if(!EO)return;let{splitPane:J,editorPane:Q,previewPane:K,splitBtn:U,editorBtn:X,previewBtn:Y}=EO;if(ql0=Z,J.classList.remove("editor-only","preview-only"),Q.style.flex="",Q.style.width="",K.style.flex="",K.style.width="",Z==="editor")J.classList.add("editor-only");else if(Z==="preview")J.classList.add("preview-only");U.classList.toggle("active",Z==="split"),X.classList.toggle("active",Z==="editor"),Y.classList.toggle("active",Z==="preview")}function Wl0(Z){if(!EO)return;let{splitBtn:J,editorBtn:Q,previewBtn:K}=EO;J.classList.toggle("disabled",!Z),Q.classList.toggle("disabled",!Z),K.classList.toggle("disabled",!Z),J.disabled=!Z,Q.disabled=!Z,K.disabled=!Z}function Sf(){Wl0(!0),NO("split")}function Li8(){EO={splitPane:document.getElementById("split-pane"),editorPane:document.getElementById("editor-pane"),previewPane:document.getElementById("preview-pane"),splitBtn:document.getElementById("view-split"),editorBtn:document.getElementById("view-editor"),previewBtn:document.getElementById("view-preview")};let{splitBtn:Z,editorBtn:J,previewBtn:Q}=EO;Z.addEventListener("click",()=>NO("split")),J.addEventListener("click",()=>NO("editor")),Q.addEventListener("click",()=>NO("preview")),document.addEventListener("keydown",(K)=>{if((K.ctrlKey||K.metaKey)&&K.key==="\\"){K.preventDefault();let U=["split","editor","preview"],X=(U.indexOf(ql0)+1)%U.length,Y=U[X]??"split";NO(Y)}})}function Di8(Z,J,Q,K){let U=document.createElement("div");U.className="conflict-dialog",U.innerHTML=`
    <div class="conflict-content">
      <h3>File Changed Externally</h3>
      <p>The file "${Z.path}" has been modified outside the editor. What would you like to do?</p>
      <div class="conflict-actions">
        <button class="btn" id="keep-local">Keep My Changes</button>
        <button class="btn btn-primary" id="use-remote">Load External Changes</button>
      </div>
    </div>
  `,document.body.appendChild(U),U.querySelector("#keep-local")?.addEventListener("click",()=>{Q(),U.remove()}),U.querySelector("#use-remote")?.addEventListener("click",()=>{K(),U.remove()})}var H00="";function Ii8(){let Z=localStorage.getItem("theme"),J=window.matchMedia("(prefers-color-scheme: dark)").matches;Gl0(Z||(J?"dark":"light"),!1)}function Gl0(Z,J=!0){if(document.documentElement.setAttribute("data-theme",Z),localStorage.setItem("theme",Z),bc0(Z),Ni8(Z),J&&H00)yW(H00)}function Ai8(){let Z=document.documentElement.getAttribute("data-theme");Gl0(Z==="dark"?"light":"dark")}function Ni8(Z){let J=document.querySelector(".theme-icon-dark"),Q=document.querySelector(".theme-icon-light");if(J&&Q)J.style.display=Z==="dark"?"inline-block":"none",Q.style.display=Z==="light"?"inline-block":"none"}function Ei8(){document.getElementById("theme-toggle")?.addEventListener("click",Ai8)}function z00(Z){H00=Z}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",Ul0);else Ul0();

@import "tailwindcss";

@theme {
	--color-bg-primary: #ffffff;
	--color-bg-secondary: #f8f9fa;
	--color-bg-tertiary: #f0f1f3;
	--color-bg-sidebar: #f5f6f8;
	--color-bg-hover: #e8eaed;
	--color-text-primary: #1a1a2e;
	--color-text-secondary: #5f6368;
	--color-text-muted: #9aa0a6;
	--color-border: #dadce0;
	--color-border-subtle: #e8eaed;
	--color-accent: #1a73e8;
	--color-accent-hover: #1557b0;
	--color-accent-subtle: rgba(26, 115, 232, 0.08);
	--color-error: #f44336;
	--color-warning: #ff9800;
	--color-success: #1e8e3e;
	--color-shadow: rgba(0, 0, 0, 0.08);
	--color-shadow-lg: rgba(0, 0, 0, 0.15);
	--color-focus-ring: rgba(26, 115, 232, 0.4);
}

/* Dark mode overrides */
[data-theme="dark"] {
	--color-bg-primary: #1e1e1e;
	--color-bg-secondary: #252526;
	--color-bg-tertiary: #2d2d2d;
	--color-bg-sidebar: #222223;
	--color-bg-hover: #3c3c3c;
	--color-text-primary: #dce0e8;
	--color-text-secondary: #a0a4ab;
	--color-text-muted: #6a6e75;
	--color-border: #3c3c3c;
	--color-border-subtle: #333335;
	--color-accent: #4fc3f7;
	--color-accent-hover: #29b6f6;
	--color-accent-subtle: rgba(79, 195, 247, 0.1);
	--color-shadow: rgba(0, 0, 0, 0.25);
	--color-shadow-lg: rgba(0, 0, 0, 0.4);
	--color-focus-ring: rgba(79, 195, 247, 0.4);
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html,
body,
#root {
	height: 100%;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
		Ubuntu, sans-serif;
	background: var(--color-bg-primary);
	color: var(--color-text-primary);
}

/* Focus accessibility */
:focus-visible {
	outline: 2px solid var(--color-focus-ring);
	outline-offset: 1px;
}

/* Entry animation */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(-4px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Scrollbar */
::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-primary);
}

::-webkit-scrollbar-thumb {
	background: var(--color-bg-hover);
	border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-text-muted);
}

/* CodeMirror Overrides */
.cm-editor {
	height: 100%;
	font-size: 14px;
}

.cm-editor .cm-scroller {
	font-family: "Fira Code", "Monaco", "Menlo", "Ubuntu Mono", monospace;
}

.cm-editor.cm-focused {
	outline: none;
}

/* CodeMirror light mode styles */
.cm-editor:not(.cm-theme-dark) .cm-gutters {
	background: var(--color-bg-secondary);
	border-right: 1px solid var(--color-border-subtle);
	color: var(--color-text-muted);
}

.cm-editor:not(.cm-theme-dark) .cm-activeLineGutter {
	background: var(--color-bg-tertiary);
}

.cm-editor:not(.cm-theme-dark) .cm-activeLine {
	background: var(--color-accent-subtle);
}

.cm-editor:not(.cm-theme-dark) .cm-selectionBackground {
	background: rgba(26, 115, 232, 0.15) !important;
}

.cm-editor:not(.cm-theme-dark) .cm-cursor {
	border-left-color: var(--color-text-primary);
}

/* Preview markdown styles */
.preview-content h1,
.preview-content h2,
.preview-content h3,
.preview-content h4,
.preview-content h5,
.preview-content h6 {
	margin: 1.5em 0 0.5em;
	color: var(--color-text-primary);
}

.preview-content h1 {
	font-size: 2em;
	border-bottom: 1px solid var(--color-border);
	padding-bottom: 0.3em;
}
.preview-content h2 {
	font-size: 1.5em;
	border-bottom: 1px solid var(--color-border);
	padding-bottom: 0.3em;
}
.preview-content h3 {
	font-size: 1.25em;
}

.preview-content p {
	margin: 1em 0;
	line-height: 1.6;
}

.preview-content code {
	background: var(--color-bg-tertiary);
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-family: "Fira Code", monospace;
	font-size: 0.9em;
}

.preview-content pre {
	background: var(--color-bg-secondary);
	padding: 16px;
	border-radius: 6px;
	overflow-x: auto;
	margin: 1em 0;
}

.preview-content pre code {
	background: none;
	padding: 0;
}

.preview-content blockquote {
	border-left: 4px solid var(--color-accent);
	margin: 1em 0;
	padding-left: 1em;
	color: var(--color-text-secondary);
}

.preview-content ul,
.preview-content ol {
	margin: 1em 0;
	padding-left: 2em;
}

.preview-content li {
	margin: 0.5em 0;
	line-height: 1.6;
}

.preview-content a {
	color: var(--color-accent);
	text-decoration: none;
}

.preview-content a:hover {
	text-decoration: underline;
}

.preview-content table {
	border-collapse: collapse;
	width: 100%;
	margin: 1em 0;
}

.preview-content th,
.preview-content td {
	border: 1px solid var(--color-border);
	padding: 8px 12px;
	text-align: left;
}

.preview-content th {
	background: var(--color-bg-secondary);
}

.preview-content hr {
	border: none;
	border-top: 1px solid var(--color-border);
	margin: 2em 0;
}

.preview-content img {
	max-width: 100%;
}

/* Mermaid diagram specifics */
.mermaid-viewport {
	width: 100%;
	min-height: 200px;
	max-height: 600px;
	overflow: hidden;
	cursor: grab;
}

.mermaid-viewport:active {
	cursor: grabbing;
}

.mermaid-error {
	padding: 16px;
	color: var(--color-error);
	background: rgba(244, 67, 54, 0.1);
	border-radius: 4px;
	font-family: monospace;
	font-size: 13px;
	white-space: pre-wrap;
}

/* Fullscreen diagram overlay */
.diagram-fullscreen-overlay {
	position: fixed;
	inset: 0;
	z-index: 10000;
	background: var(--color-bg-primary);
	display: flex;
	flex-direction: column;
}

.fullscreen-viewport {
	flex: 1;
	overflow: hidden;
	cursor: grab;
}

.fullscreen-viewport:active {
	cursor: grabbing;
}

/* Spin animation for syncing status */
@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}
